"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[179],{2090:(Te,ae,D)=>{D.d(ae,{BH:()=>Re,DV:()=>Zn,G6:()=>fn,GJ:()=>Lt,L:()=>K,LL:()=>ir,P0:()=>ze,Pz:()=>ke,Sg:()=>Dt,UI:()=>rs,US:()=>se,Wl:()=>si,Yr:()=>bt,ZR:()=>En,aH:()=>rt,b$:()=>qe,cI:()=>hn,dS:()=>_r,eu:()=>dn,g5:()=>te,gK:()=>Ur,gQ:()=>Tn,h$:()=>ee,hl:()=>rr,hu:()=>I,m9:()=>Pt,ne:()=>Kn,p$:()=>q,pd:()=>Sr,q4:()=>We,r3:()=>Un,ru:()=>nt,tV:()=>re,uI:()=>Qe,ug:()=>Fi,vZ:()=>ur,w1:()=>Xe,w9:()=>yt,xO:()=>qr,xb:()=>Lr,z$:()=>Ct,zd:()=>Ir});const f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},I=function(ge,ve){if(!ge)throw te(ve)},te=function(ge){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ge)},B=function(ge){const ve=[];let Ce=0;for(let st=0;st<ge.length;st++){let Fe=ge.charCodeAt(st);Fe<128?ve[Ce++]=Fe:Fe<2048?(ve[Ce++]=Fe>>6|192,ve[Ce++]=63&Fe|128):55296==(64512&Fe)&&st+1<ge.length&&56320==(64512&ge.charCodeAt(st+1))?(Fe=65536+((1023&Fe)<<10)+(1023&ge.charCodeAt(++st)),ve[Ce++]=Fe>>18|240,ve[Ce++]=Fe>>12&63|128,ve[Ce++]=Fe>>6&63|128,ve[Ce++]=63&Fe|128):(ve[Ce++]=Fe>>12|224,ve[Ce++]=Fe>>6&63|128,ve[Ce++]=63&Fe|128)}return ve},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,ve){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,st=[];for(let Fe=0;Fe<ge.length;Fe+=3){const Nt=ge[Fe],Wt=Fe+1<ge.length,Oe=Wt?ge[Fe+1]:0,Pe=Fe+2<ge.length,he=Pe?ge[Fe+2]:0;let kt=(15&Oe)<<2|he>>6,rn=63&he;Pe||(rn=64,Wt||(kt=64)),st.push(Ce[Nt>>2],Ce[(3&Nt)<<4|Oe>>4],Ce[kt],Ce[rn])}return st.join("")},encodeString(ge,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(ge):this.encodeByteArray(B(ge),ve)},decodeString(ge,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(ge):function(ge){const ve=[];let Ce=0,st=0;for(;Ce<ge.length;){const Fe=ge[Ce++];if(Fe<128)ve[st++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const Nt=ge[Ce++];ve[st++]=String.fromCharCode((31&Fe)<<6|63&Nt)}else if(Fe>239&&Fe<365){const Pe=((7&Fe)<<18|(63&ge[Ce++])<<12|(63&ge[Ce++])<<6|63&ge[Ce++])-65536;ve[st++]=String.fromCharCode(55296+(Pe>>10)),ve[st++]=String.fromCharCode(56320+(1023&Pe))}else{const Nt=ge[Ce++],Wt=ge[Ce++];ve[st++]=String.fromCharCode((15&Fe)<<12|(63&Nt)<<6|63&Wt)}}return ve.join("")}(this.decodeStringToByteArray(ge,ve))},decodeStringToByteArray(ge,ve){this.init_();const Ce=ve?this.charToByteMapWebSafe_:this.charToByteMap_,st=[];for(let Fe=0;Fe<ge.length;){const Nt=Ce[ge.charAt(Fe++)],Oe=Fe<ge.length?Ce[ge.charAt(Fe)]:0;++Fe;const he=Fe<ge.length?Ce[ge.charAt(Fe)]:64;++Fe;const Ke=Fe<ge.length?Ce[ge.charAt(Fe)]:64;if(++Fe,null==Nt||null==Oe||null==he||null==Ke)throw Error();st.push(Nt<<2|Oe>>4),64!==he&&(st.push(Oe<<4&240|he>>2),64!==Ke&&st.push(he<<6&192|Ke))}return st},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},ee=function(ge){const ve=B(ge);return se.encodeByteArray(ve,!0)},K=function(ge){return ee(ge).replace(/\./g,"")},re=function(ge){try{return se.decodeString(ge,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function q(ge){return ue(void 0,ge)}function ue(ge,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return ve}for(const Ce in ve)!ve.hasOwnProperty(Ce)||!fe(Ce)||(ge[Ce]=ue(ge[Ce],ve[Ce]));return ge}function fe(ge){return"__proto__"!==ge}const Ve=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=ge&&re(ge[1]);return ve&&JSON.parse(ve)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},We=ge=>{var ve,Ce;return null===(Ce=null===(ve=Ve())||void 0===ve?void 0:ve.emulatorHosts)||void 0===Ce?void 0:Ce[ge]},ze=ge=>{const ve=We(ge);if(!ve)return;const Ce=ve.lastIndexOf(":");if(Ce<=0||Ce+1===ve.length)throw new Error(`Invalid host ${ve} with no separate hostname and port!`);const st=parseInt(ve.substring(Ce+1),10);return"["===ve[0]?[ve.substring(1,Ce-1),st]:[ve.substring(0,Ce),st]},rt=()=>{var ge;return null===(ge=Ve())||void 0===ge?void 0:ge.config},ke=ge=>{var ve;return null===(ve=Ve())||void 0===ve?void 0:ve[`_${ge}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Ce)=>{this.resolve=ve,this.reject=Ce})}wrapCallback(ve){return(Ce,st)=>{Ce?this.reject(Ce):this.resolve(st),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Ce):ve(Ce,st))}}}function Dt(ge,ve){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const st=ve||"demo-project",Fe=ge.iat||0,Nt=ge.sub||ge.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Wt=Object.assign({iss:`https://securetoken.google.com/${st}`,aud:st,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(Wt)),""].join(".")}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function nt(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const ge=Ct();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function bt(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function fn(){return!function Mt(){var ge;const ve=null===(ge=Ve())||void 0===ge?void 0:ge.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rr(){try{return"object"==typeof indexedDB}catch{return!1}}function dn(){return new Promise((ge,ve)=>{try{let Ce=!0;const st="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(st);Fe.onsuccess=()=>{Fe.result.close(),Ce||self.indexedDB.deleteDatabase(st),ge(!0)},Fe.onupgradeneeded=()=>{Ce=!1},Fe.onerror=()=>{var Nt;ve((null===(Nt=Fe.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Ce){ve(Ce)}})}class En extends Error{constructor(ve,Ce,st){super(Ce),this.code=ve,this.customData=st,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}}class ir{constructor(ve,Ce,st){this.service=ve,this.serviceName=Ce,this.errors=st}create(ve,...Ce){const st=Ce[0]||{},Fe=`${this.service}/${ve}`,Nt=this.errors[ve],Wt=Nt?function Kr(ge,ve){return ge.replace(Mn,(Ce,st)=>{const Fe=ve[st];return null!=Fe?String(Fe):`<${st}?>`})}(Nt,st):"Error";return new En(Fe,`${this.serviceName}: ${Wt} (${Fe}).`,st)}}const Mn=/\{\$([^}]+)}/g;function hn(ge){return JSON.parse(ge)}function si(ge){return JSON.stringify(ge)}const wt=function(ge){let ve={},Ce={},st={},Fe="";try{const Nt=ge.split(".");ve=hn(re(Nt[0])||""),Ce=hn(re(Nt[1])||""),Fe=Nt[2],st=Ce.d||{},delete Ce.d}catch{}return{header:ve,claims:Ce,data:st,signature:Fe}},yt=function(ge){const Ce=wt(ge).claims;return!!Ce&&"object"==typeof Ce&&Ce.hasOwnProperty("iat")},Lt=function(ge){const ve=wt(ge).claims;return"object"==typeof ve&&!0===ve.admin};function Un(ge,ve){return Object.prototype.hasOwnProperty.call(ge,ve)}function Zn(ge,ve){if(Object.prototype.hasOwnProperty.call(ge,ve))return ge[ve]}function Lr(ge){for(const ve in ge)if(Object.prototype.hasOwnProperty.call(ge,ve))return!1;return!0}function rs(ge,ve,Ce){const st={};for(const Fe in ge)Object.prototype.hasOwnProperty.call(ge,Fe)&&(st[Fe]=ve.call(Ce,ge[Fe],Fe,ge));return st}function ur(ge,ve){if(ge===ve)return!0;const Ce=Object.keys(ge),st=Object.keys(ve);for(const Fe of Ce){if(!st.includes(Fe))return!1;const Nt=ge[Fe],Wt=ve[Fe];if(ln(Nt)&&ln(Wt)){if(!ur(Nt,Wt))return!1}else if(Nt!==Wt)return!1}for(const Fe of st)if(!Ce.includes(Fe))return!1;return!0}function ln(ge){return null!==ge&&"object"==typeof ge}function qr(ge){const ve=[];for(const[Ce,st]of Object.entries(ge))Array.isArray(st)?st.forEach(Fe=>{ve.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Fe))}):ve.push(encodeURIComponent(Ce)+"="+encodeURIComponent(st));return ve.length?"&"+ve.join("&"):""}function Ir(ge){const ve={};return ge.replace(/^\?/,"").split("&").forEach(st=>{if(st){const[Fe,Nt]=st.split("=");ve[decodeURIComponent(Fe)]=decodeURIComponent(Nt)}}),ve}function Sr(ge){const ve=ge.indexOf("?");if(!ve)return"";const Ce=ge.indexOf("#",ve);return ge.substring(ve,Ce>0?Ce:void 0)}class Tn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ve=1;ve<this.blockSize;++ve)this.pad_[ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ve,Ce){Ce||(Ce=0);const st=this.W_;if("string"==typeof ve)for(let Ke=0;Ke<16;Ke++)st[Ke]=ve.charCodeAt(Ce)<<24|ve.charCodeAt(Ce+1)<<16|ve.charCodeAt(Ce+2)<<8|ve.charCodeAt(Ce+3),Ce+=4;else for(let Ke=0;Ke<16;Ke++)st[Ke]=ve[Ce]<<24|ve[Ce+1]<<16|ve[Ce+2]<<8|ve[Ce+3],Ce+=4;for(let Ke=16;Ke<80;Ke++){const kt=st[Ke-3]^st[Ke-8]^st[Ke-14]^st[Ke-16];st[Ke]=4294967295&(kt<<1|kt>>>31)}let he,Ae,Fe=this.chain_[0],Nt=this.chain_[1],Wt=this.chain_[2],Oe=this.chain_[3],Pe=this.chain_[4];for(let Ke=0;Ke<80;Ke++){Ke<40?Ke<20?(he=Oe^Nt&(Wt^Oe),Ae=1518500249):(he=Nt^Wt^Oe,Ae=1859775393):Ke<60?(he=Nt&Wt|Oe&(Nt|Wt),Ae=2400959708):(he=Nt^Wt^Oe,Ae=3395469782);const kt=(Fe<<5|Fe>>>27)+he+Pe+Ae+st[Ke]&4294967295;Pe=Oe,Oe=Wt,Wt=4294967295&(Nt<<30|Nt>>>2),Nt=Fe,Fe=kt}this.chain_[0]=this.chain_[0]+Fe&4294967295,this.chain_[1]=this.chain_[1]+Nt&4294967295,this.chain_[2]=this.chain_[2]+Wt&4294967295,this.chain_[3]=this.chain_[3]+Oe&4294967295,this.chain_[4]=this.chain_[4]+Pe&4294967295}update(ve,Ce){if(null==ve)return;void 0===Ce&&(Ce=ve.length);const st=Ce-this.blockSize;let Fe=0;const Nt=this.buf_;let Wt=this.inbuf_;for(;Fe<Ce;){if(0===Wt)for(;Fe<=st;)this.compress_(ve,Fe),Fe+=this.blockSize;if("string"==typeof ve){for(;Fe<Ce;)if(Nt[Wt]=ve.charCodeAt(Fe),++Wt,++Fe,Wt===this.blockSize){this.compress_(Nt),Wt=0;break}}else for(;Fe<Ce;)if(Nt[Wt]=ve[Fe],++Wt,++Fe,Wt===this.blockSize){this.compress_(Nt),Wt=0;break}}this.inbuf_=Wt,this.total_+=Ce}digest(){const ve=[];let Ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Fe=this.blockSize-1;Fe>=56;Fe--)this.buf_[Fe]=255&Ce,Ce/=256;this.compress_(this.buf_);let st=0;for(let Fe=0;Fe<5;Fe++)for(let Nt=24;Nt>=0;Nt-=8)ve[st]=this.chain_[Fe]>>Nt&255,++st;return ve}}function Kn(ge,ve){const Ce=new cr(ge,ve);return Ce.subscribe.bind(Ce)}class cr{constructor(ve,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{ve(this)}).catch(st=>{this.error(st)})}next(ve){this.forEachObserver(Ce=>{Ce.next(ve)})}error(ve){this.forEachObserver(Ce=>{Ce.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Ce,st){let Fe;if(void 0===ve&&void 0===Ce&&void 0===st)throw new Error("Missing Observer.");Fe=function qt(ge,ve){if("object"!=typeof ge||null===ge)return!1;for(const Ce of ve)if(Ce in ge&&"function"==typeof ge[Ce])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Ce,complete:st},void 0===Fe.next&&(Fe.next=Yn),void 0===Fe.error&&(Fe.error=Yn),void 0===Fe.complete&&(Fe.complete=Yn);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch{}}),this.observers.push(Fe),Nt}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,ve)}sendOne(ve,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Ce(this.observers[ve])}catch(st){typeof console<"u"&&console.error&&console.error(st)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yn(){}function Ur(ge,ve){return`${ge} failed: ${ve} argument `}const _r=function(ge){const ve=[];let Ce=0;for(let st=0;st<ge.length;st++){let Fe=ge.charCodeAt(st);if(Fe>=55296&&Fe<=56319){const Nt=Fe-55296;st++,I(st<ge.length,"Surrogate pair missing trail surrogate."),Fe=65536+(Nt<<10)+(ge.charCodeAt(st)-56320)}Fe<128?ve[Ce++]=Fe:Fe<2048?(ve[Ce++]=Fe>>6|192,ve[Ce++]=63&Fe|128):Fe<65536?(ve[Ce++]=Fe>>12|224,ve[Ce++]=Fe>>6&63|128,ve[Ce++]=63&Fe|128):(ve[Ce++]=Fe>>18|240,ve[Ce++]=Fe>>12&63|128,ve[Ce++]=Fe>>6&63|128,ve[Ce++]=63&Fe|128)}return ve},Fi=function(ge){let ve=0;for(let Ce=0;Ce<ge.length;Ce++){const st=ge.charCodeAt(Ce);st<128?ve++:st<2048?ve+=2:st>=55296&&st<=56319?(ve+=4,Ce++):ve+=3}return ve};function Pt(ge){return ge&&ge._delegate?ge._delegate:ge}},9267:(Te,ae,D)=>{D.d(ae,{EV:()=>B,kl:()=>I.k});var f=D(6895),I=D(2743),te=D(4650);let B=(()=>{class se{constructor(K){if(K)throw new Error("ToastModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:se,providers:[I.k]}}static#e=this.\u0275fac=function(re){return new(re||se)(te.LFG(se,12))};static#t=this.\u0275mod=te.oAB({type:se});static#n=this.\u0275inj=te.cJS({imports:[f.ez]})}return se})();D(1469)},1469:(Te,ae,D)=>{D.d(ae,{qR:()=>K});var f=D(7340),I=D(4650),te=D(2743),B=D(6895);function Z(re,q){if(1&re){const ue=I.EpF();I.TgZ(0,"div",2),I.NdJ("click",function(){const $e=I.CHM(ue).$implicit,Be=I.oxw();return I.KtG(Be.dispose($e))}),I._UZ(1,"i"),I.TgZ(2,"div",3)(3,"div",4),I._uU(4),I.qZA(),I.TgZ(5,"div",5),I._uU(6),I.qZA()(),I.TgZ(7,"i",6),I.NdJ("click",function(){const $e=I.CHM(ue).$implicit,Be=I.oxw();return I.KtG(Be.dispose($e))}),I.qZA()()}if(2&re){const ue=q.$implicit;I.Gre("toaster toast-",ue.type,""),I.Q6J("@slideInOut",void 0),I.xp6(1),I.Gre("fa-solid ",ue.icon,""),I.xp6(3),I.hij(" ",ue.title," "),I.xp6(2),I.Oqu(ue.message)}}const se=(0,f.X$)("slideUp",[(0,f.eR)(":enter",[(0,f.oB)({transform:"translate(0,500px)"}),(0,f.jt)("350ms cubic-bezier(0.17, 0.89, 0.24, 1.11)",(0,f.oB)({transform:"translate(0,0)"}))]),(0,f.eR)(":leave",[(0,f.jt)("300ms ease-in-out",(0,f.oB)({transform:"translate(0,500px)"}))])]),ee=(0,f.X$)("slideInOut",[(0,f.eR)(":enter",[(0,f.oB)({transform:"translateX(calc(100% + 30px))"}),(0,f.jt)("350ms cubic-bezier(0.68, -0.55, 0.25, 1.35)",(0,f.oB)({transform:"translateX(0)"}))]),(0,f.eR)(":leave",[(0,f.jt)("300ms ease-in-out",(0,f.oB)({transform:"translateX(calc(100% + 30px))"}))])]);let K=(()=>{class re{constructor(ue,fe){this.toastService=ue,this.cdr=fe,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(ue=>{const fe=this.currentToasts.length;this.currentToasts.push(ue),this.cdr.detectChanges(),this.automaticDismiss(fe)})}dispose(ue){let fe=this.currentToasts.indexOf(ue);this.currentToasts.splice(fe,1),this.cdr.detectChanges()}automaticDismiss(ue){setTimeout(()=>{this.dispose(ue)},this.toastService.toastConfig.timer)}static#e=this.\u0275fac=function(fe){return new(fe||re)(I.Y36(te.k),I.Y36(I.sBO))};static#t=this.\u0275cmp=I.Xpm({type:re,selectors:[["ng-toast"]],decls:2,vars:1,consts:[[1,"toast-container","top-right"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[2,"flex","1"],[1,"toaster__title"],[1,"toaster__message"],[1,"fa-xmark","fa-solid",3,"click"]],template:function(fe,Ne){1&fe&&(I.TgZ(0,"div",0),I.YNc(1,Z,8,9,"div",1),I.qZA()),2&fe&&(I.xp6(1),I.Q6J("ngForOf",Ne.currentToasts))},dependencies:[B.sg],styles:['.toast-container[_ngcontent-%COMP%]{--dark: #34495E;--light: #ffffff;--success: #0ABF30;--error: #E24D4C;--warning: #E9BD0C;--info: #3498DB}.toast-container[_ngcontent-%COMP%]{width:max-content;max-width:100%;pointer-events:none;position:fixed;z-index:999999}.toast-container.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-container.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{--toast-width: 400px;position:relative;overflow:hidden;margin:0 0 6px;width:var(--toast-width);padding:16px 17px;border-radius:4px;pointer-events:auto;display:flex;align-items:center;gap:.5rem;--toast-light-color: color-mix(in srgb, var(--toast-color) 20%, white);background-color:var(--toast-light-color);color:var(--toast-color)}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.toast-container[_ngcontent-%COMP%]   .toaster__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.toast-container[_ngcontent-%COMP%]   .toaster__message[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(:last-child){font-size:1.5rem}.toast-container[_ngcontent-%COMP%]   .toaster.toast-success[_ngcontent-%COMP%]{--toast-color: var(--success)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-warning[_ngcontent-%COMP%]{--toast-color: var(--warning)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-error[_ngcontent-%COMP%]{--toast-color: var(--danger)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-info[_ngcontent-%COMP%]{--toast-color: var(--info)}.toaster[_ngcontent-%COMP%]:before{position:absolute;content:"";height:3px;width:100%;bottom:0;left:0;animation:_ngcontent-%COMP%_progress 5s linear forwards;background-color:var(--toast-color)}@keyframes _ngcontent-%COMP%_progress{to{width:0%}}.toaster-animation[_ngcontent-%COMP%]{transform:translate(calc(100% + 30px));transition:all .5s cubic-bezier(.68,-.55,.25,1.35)}.toaster-animation.active[_ngcontent-%COMP%]{transform:translate(0)}.show-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_show_toast .3s ease forwards}.hide-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hide_toast .3s ease forwards}@keyframes _ngcontent-%COMP%_hide_toast{0%{transform:translate(-10px)}40%{transform:translate(0)}80%{transform:translate(-5%)}to{transform:translate(calc(100% + 20px))}}@keyframes _ngcontent-%COMP%_show_toast{0%{transform:translate(100%)}40%{transform:translate(-5%)}80%{transform:translate(0)}to{transform:translate(-10px)}}@media (max-width: 530px){.toast-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[se,ee]},changeDetection:0})}return re})()},2743:(Te,ae,D)=>{D.d(ae,{k:()=>B});var f=D(7579),I=D(4650);const te={timer:5e3,success:{icon:"fa-circle-check",text:"Success: This is a success toast."},error:{icon:"fa-circle-xmark",text:"Error: This is an error toast."},warning:{icon:"fa-triangle-exclamation",text:"Warning: This is a warning toast."},info:{icon:"fa-circle-info",text:"Info: This is an information toast."}};let B=(()=>{class Z{constructor(){this.toastConfig=te,this._toastEvents=new f.x,this.toastEvents=this._toastEvents.asObservable()}showToast(ee,K="",re="success"){const{icon:q}=te[re];this._toastEvents.next({title:ee,message:K,type:re,icon:q})}static#e=this.\u0275fac=function(K){return new(K||Z)};static#t=this.\u0275prov=I.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})()},8285:(Te,ae,D)=>{D.d(ae,{Y:()=>te});var f=D(4650),I=(()=>{return(B=I||(I={}))[B.slideToLeft=1]="slideToLeft",B[B.slideToRight=2]="slideToRight",B[B.slideToTop=3]="slideToTop",B[B.slideToBottom=4]="slideToBottom",I;var B})();let te=(()=>{class B{constructor(){this.routeAnimation=null}setRouteAnimation(se){this.routeAnimation=I[se]}get currentRouteAnimation(){return this.routeAnimation}static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275prov=f.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},8311:(Te,ae,D)=>{D.d(ae,{g:()=>Z});var f=D(1135),I=D(8646),te=D(8343),B=D(4650);let Z=(()=>{class se{constructor(){this._notification=new f.X(null),this.notification$=this._notification.asObservable().pipe((0,I.n)(),(0,te.x)())}notify(K){this._notification.next(K),setTimeout(()=>this._notification.next(null),3e3)}static#e=this.\u0275fac=function(re){return new(re||se)};static#t=this.\u0275prov=B.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},9662:(Te,ae,D)=>{D.d(ae,{O:()=>Ve});var f=D(2805),I=D(4351),te=D(576),Z=D(4128),se=D(4707),ee=D(4086),K=D(5625),re=D(262),q=D(8505),ue=D(9770),fe=D(4782),Ne=D(2843),$e=D(4650),Be=D(529),Ye=(()=>{return(We=Ye||(Ye={})).LOADING="LOADING",We.SUCCESS="SUCCESS",We.ERROR="ERROR",Ye;var We})();let Ve=(()=>{class We{constructor(rt){this.http=rt}getNotifications(){return this.http.get("http://api").pipe(this.poll(1e3))}poll(rt,ke=0){return function(Re){return(0,f.H)(ke,rt).pipe(function B(We,ze){return(0,te.m)(ze)?(0,I.b)(()=>We,ze):(0,I.b)(()=>We)}(Re))}}get(rt){return this.http.get(rt)}post(rt,ke){return this.http.post(rt,ke)}getSwapi(){let rt=this.http.get("https://swapi.dev/api/people/1/"),ke=this.http.get("https://swapi.dev/api/planets/1/");(0,Z.D)([rt,ke]).subscribe(Re=>{Re[0].homeworld=Re[1],this.loadedCharacter=Re[0]})}load(rt){const ke=new se.t,Re=this.http.get(`https://swapi.dev/api/people/${rt}/`).pipe((0,ee.g)(2e3),(0,K.X)(2),(0,re.K)(Ct=>{throw ke.next(Ye.ERROR),"error loading user"}),(0,q.b)(()=>ke.next(Ye.SUCCESS)));return{data:(0,ue.P)(()=>(ke.next(Ye.LOADING),Re)),status:ke}}share(){this.rawData$=this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe((0,fe.d)())}GetData(){return this.rawData$.toPromise()}getRandomjoke(){return this.http.get("https://icanhazdadjoke.com/slack").pipe((0,re.K)(this.handleError))}handleError(){return(0,Ne._)("Network Error Occured")}static#e=this.\u0275fac=function(ke){return new(ke||We)($e.LFG(Be.eN))};static#t=this.\u0275prov=$e.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})()},4185:(Te,ae,D)=>{D.d(ae,{N:()=>Z,g:()=>se});var f=D(4650),I=D(529);class te{constructor(){this.http=(0,f.f3M)(I.eN)}post(K,re){return this.http.post(`${this.databaseURL}/${K}`,re)}get(K,re){return this.http.get(`${this.databaseURL}/${K}`,{params:re})}delete(K){return this.http.delete(`${this.databaseURL}/${K}`)}put(K,re){return this.http.put(`${this.databaseURL}/${K}`,re)}patch(K,re){return this.http.patch(`${this.databaseURL}/${K}`,re)}}var B=D(197);class Z{}let se=(()=>{class ee extends te{constructor(){super(...arguments),this.databaseURL=B.w.databaseURL}static#e=this.\u0275fac=function(){let re;return function(ue){return(re||(re=f.n5z(ee)))(ue||ee)}}();static#t=this.\u0275prov=f.Yz7({token:ee,factory:ee.\u0275fac})}return ee})()},8405:(Te,ae,D)=>{D.d(ae,{R1:()=>te,ex:()=>se,lt:()=>Z,zI:()=>B});var f=D(4650),I=D(7697);const te=new f.OlP("GenericFirebaseDbInterface");class B{}let Z=(()=>{class ee extends I.s{static#e=this.\u0275fac=function(){let re;return function(ue){return(re||(re=f.n5z(ee)))(ue||ee)}}();static#t=this.\u0275prov=f.Yz7({token:ee,factory:ee.\u0275fac})}return ee})(),se=(()=>{class ee extends I.s{static#e=this.\u0275fac=function(){let re;return function(ue){return(re||(re=f.n5z(ee)))(ue||ee)}}();static#t=this.\u0275prov=f.Yz7({token:ee,factory:ee.\u0275fac})}return ee})()},7697:(Te,ae,D)=>{D.d(ae,{s:()=>B});var f=D(9671),I=D(6197),te=D(9751);class B{constructor(){this.db=(0,I.N8)()}create(se,ee={}){let K=(0,I.VF)((0,I.iH)(this.db,se));return(0,I.t8)(K,{key:K.key,createdAt:(0,I.Bt)(),updatedAt:(0,I.Bt)(),...ee}).then(),Promise.resolve({key:K.key})}set(se,ee={}){var K=this;return(0,f.Z)(function*(){const re=(0,I.iH)(K.db,se);yield(0,I.t8)(re,ee)})()}update(se,ee={}){var K=this;return(0,f.Z)(function*(){const re=(0,I.iH)(K.db,se);yield(0,I.Vx)(re,{updatedAt:(0,I.Bt)(),...ee})})()}remove(se){var ee=this;return(0,f.Z)(function*(){const K=(0,I.iH)(ee.db,se);yield(0,I.Od)(K)})()}readRealtime$(se){return new te.y(ee=>{(0,I.jM)((0,I.iH)(this.db,se),K=>{let re=[];K.exists()?(K.forEach(q=>{re.push({key:q.key,...q.val()})}),ee.next(re)):ee.next([])})})}readRealtimeOriginal$(se){return new te.y(ee=>{(0,I.jM)((0,I.iH)(this.db,se),K=>{K.exists()?ee.next(K.val()):ee.next(null)})})}readOnceWithObserver(se){return(0,I.jM)((0,I.iH)(this.db,se),ee=>ee.val(),{onlyOnce:!0})}readOnce(se){return new Promise((ee,K)=>{(0,I.U2)((0,I.iH)(this.db,se)).then(re=>{let q=[];re.exists()?(re.forEach(ue=>{q.push({key:ue.key,...ue.val()})}),ee(q)):ee([])}).catch(re=>{K(re)})})}readOnceOriginal(se){return new Promise((ee,K)=>{(0,I.U2)((0,I.iH)(this.db,se)).then(re=>{re.exists()?ee(re.val()):ee([])}).catch(re=>{K(re)})})}checkPresence(se){const ee=(0,I.iH)(this.db,`${se}/connections`),K=(0,I.iH)(this.db,`${se}/lastOnline`),re=(0,I.iH)(this.db,".info/connected");(0,I.jM)(re,q=>{if(!0===q.val()){const ue=(0,I.VF)(ee);(0,I.ae)(ue).remove().then(),(0,I.t8)(ue,!0).then(),(0,I.ae)(K).set((0,I.Bt)()).then()}})}onDisconnect(se){const ee=(0,I.iH)(this.db,se);return(0,I.ae)(ee)}detectingConnectionState(){return new te.y(se=>{const ee=(0,I.iH)(this.db,".info/connected");(0,I.jM)(ee,K=>{se.next(K.val())})})}updateCounter(se,ee=!0){return new Promise((K,re)=>{const q=(0,I.iH)(this.db);(0,I.U2)((0,I.iU)(q,"counter")).then(ue=>{(0,I.Vx)((0,I.iH)(this.db,se),{counter:(0,I.nP)(ee?1:-1)}).then(fe=>{K(fe)})})})}others(){}}},4466:(Te,ae,D)=>{D.d(ae,{m:()=>Z});var f=D(6895),I=D(4006),te=D(4793),B=D(4650);let Z=(()=>{class se{static#e=this.\u0275fac=function(re){return new(re||se)};static#t=this.\u0275mod=B.oAB({type:se});static#n=this.\u0275inj=B.cJS({imports:[f.ez,te.Bz,I.u5,I.UX,I.u5,I.UX]})}return se})()},255:(Te,ae,D)=>{D.d(ae,{u:()=>f});class f{}},7522:(Te,ae,D)=>{D.d(ae,{Yk:()=>f,wJ:()=>I});var f=(()=>{return(B=f||(f={})).Clear="Clear",B.Snow="Snow",B.Rain="Rain",B.Clouds="Clouds",B.Thunderstorm="Thunderstorm",B.Atmosphere="Atmosphere",B.Drizzle="Drizzle",B.Unknown="Unknown",f;var B})();function I(B){return(new Map).set("Thunderstorm",f.Thunderstorm).set("Drizzle",f.Drizzle).set("Rain",f.Rain).set("Snow",f.Snow).set("Atmosphere",f.Atmosphere).set("Clouds",f.Clouds).set("Clear",f.Clear).get(B.main)||f.Unknown}},1944:(Te,ae,D)=>{D.d(ae,{$0:()=>se,$f:()=>B,$s:()=>Z,GO:()=>I,HD:()=>ee,JW:()=>ue,Xt:()=>Ne,hS:()=>fe,m0:()=>te,mm:()=>q,n3:()=>K,rc:()=>re});var f=D(8555);const I=(0,f.PH)("[ARTICLE] Show All"),te=(0,f.PH)("[ARTICLE] Show All Success",(0,f.Ky)()),B=(0,f.PH)("[ARTICLE] Create",(0,f.Ky)()),Z=(0,f.PH)("[ARTICLE] Create Success",(0,f.Ky)()),se=(0,f.PH)("[ARTICLE] Create Failure",(0,f.Ky)()),ee=(0,f.PH)("[ARTICLE] Get by Id",(0,f.Ky)()),K=(0,f.PH)("[ARTICLE] Get by Id Success",(0,f.Ky)()),re=(0,f.PH)("[ARTICLE] Reset"),q=(0,f.PH)("[Product] Add to cart",(0,f.Ky)()),ue=(0,f.PH)("[Product] Remove from cart",(0,f.Ky)()),fe=(0,f.PH)("[Products] Load items from server"),Ne=(0,f.PH)("[Products] Load success",(0,f.Ky)())},8713:(Te,ae,D)=>{D.d(ae,{FC:()=>re,N5:()=>$e,Zz:()=>K,kk:()=>Ne,ll:()=>Be});var f=D(8555),I=D(1944);const Z=(0,f.Lq)({articles:[],message:""},(0,f.on)(I.m0,(Ye,{payload:Ve})=>({articles:Ve,message:"Success"})),(0,f.on)(I.$s,(Ye,{payload:Ve})=>({articles:[Ve],message:"Article Created."})),(0,f.on)(I.$0,(Ye,{payload:Ve})=>({articles:[],message:Ve})),(0,f.on)(I.n3,(Ye,{payload:Ve})=>({articles:Ve,message:"Success"})),(0,f.on)(I.rc,Ye=>({articles:[],message:""}))),ee=(0,f.ZF)("articleState"),K=(0,f.P1)(ee,Ye=>Ye.articles),re=(0,f.P1)(ee,Ye=>Ye.message),q=(0,f.Lq)({products:[],cart:[]},(0,f.on)(I.Xt,(Ye,{payload:Ve})=>({...Ye,products:Ve})),(0,f.on)(I.mm,(Ye,{payload:Ve})=>({...Ye,cart:[...Ye.cart,Ve]})),(0,f.on)(I.JW,(Ye,{payload:Ve})=>({...Ye,cart:[...Ye.cart.filter(We=>We.name!==Ve.name)]}))),fe=(0,f.ZF)("productState1"),Ne=(0,f.P1)(fe,Ye=>Ye.products),$e=(0,f.P1)(fe,Ye=>Ye.cart),Be={articleState:function se(Ye,Ve){return Z(Ye,Ve)},productState1:function ue(Ye,Ve){return q(Ye,Ve)}}},9884:(Te,ae,D)=>{D.d(ae,{y:()=>te});var f=D(7579),I=D(1135);class te{constructor(Z){this.reducer=Z,this.action=new f.x;const se={type:"@ngrx/store/init"},ee=Z(void 0,se);this.state=new I.X(ee),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(se)}dispatch(Z){const se=this.state.getValue(),ee=this.reducer(se,Z);this.state.next(ee),this.action.next(Z)}}},8625:(Te,ae,D)=>{D.d(ae,{IH:()=>Z,Mj:()=>B,nP:()=>te,zD:()=>se});var f=D(8555),I=(()=>{return(ee=I||(I={})).INCREMENT="Increment Article",ee.DECREMENT="Decrememnt Article",ee.ADD="Add Article",ee.LOAD="Load Articles",I;var ee})();const te=(0,f.PH)(I.INCREMENT,(0,f.Ky)()),B=(0,f.PH)(I.DECREMENT,(0,f.Ky)()),Z=(0,f.PH)(I.ADD,(0,f.Ky)()),se=(0,f.PH)(I.LOAD)},7369:(Te,ae,D)=>{D.d(ae,{Jl:()=>se,UN:()=>te});var f=D(8555),I=D(8625);const te="article",Z=(0,f.Lq)({articles:[]},(0,f.on)(I.nP,(ee,K)=>({...ee,articles:ee.articles.map(re=>re.id==K.id?{...re,points:re.points+1}:re)})),(0,f.on)(I.Mj,(ee,K)=>({...ee,articles:ee.articles.map(re=>re.id==K.id?{...re,points:re.points-1}:re)})),(0,f.on)(I.IH,(ee,{payload:K})=>({...ee,articles:[...ee.articles,K]})));function se(ee,K){return Z(ee,K)}},3550:(Te,ae,D)=>{D.d(ae,{T:()=>K});var f=D(8555),I=D(8625),te=D(7369);const B=(0,f.ZF)(te.UN),Z=(0,f.P1)(B,re=>re.articles);class se{constructor(q,ue,fe,Ne){this.id=q,this.title=ue,this.link=fe,this.points=Ne||0,this.time=new Date}}var ee=D(4650);let K=(()=>{class re{constructor(ue){this.store=ue,this.id=0}getArticle(){return this.store.pipe((0,f.Ys)(Z))}incArticle(ue){this.store.dispatch(I.nP(ue))}decArticle(ue){this.store.dispatch(I.Mj(ue))}addArticle(ue){let fe=new se(++this.id,ue.title,ue.link,0);this.store.dispatch(I.IH({payload:fe}))}loadArticle(ue){this.store.dispatch(I.zD())}static#e=this.\u0275fac=function(fe){return new(fe||re)(ee.LFG(f.yh))};static#t=this.\u0275prov=ee.Yz7({token:re,factory:re.\u0275fac})}return re})()},5054:(Te,ae,D)=>{D.d(ae,{e:()=>ee});var f=D(8555),I=D(4579),te=D(2852);const B=(0,f.ZF)(te.UN),Z=(0,f.P1)(B,K=>K.count);var se=D(4650);let ee=(()=>{class K{constructor(q){this.store=q}getCount(){return this.store.pipe((0,f.Ys)(Z))}incrementCount(){this.store.dispatch(I.nP())}decrementCount(){this.store.dispatch(I.Mj())}resetCount(){this.store.dispatch(I.mc())}setValue(q){this.store.dispatch(I.Zf({newValue:q}))}loadValue(){this.store.dispatch(I.zK())}static#e=this.\u0275fac=function(ue){return new(ue||K)(se.LFG(f.yh))};static#t=this.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac})}return K})()},4579:(Te,ae,D)=>{D.d(ae,{Mj:()=>B,Zf:()=>se,mc:()=>Z,nP:()=>te,zK:()=>ee});var f=D(8555),I=(()=>{return(K=I||(I={})).INCREMENT="[Counter Component] Increment",K.DECREMENT="[Counter Component] Decrement",K.RESET="[Counter Component] Reset",K.SETVALUE="[Counter Component] Set Value",K.LOADVALUE="[Counter Component] Load Value",I;var K})();const te=(0,f.PH)(I.INCREMENT),B=(0,f.PH)(I.DECREMENT),Z=(0,f.PH)(I.RESET),se=(0,f.PH)(I.SETVALUE,(0,f.Ky)()),ee=(0,f.PH)(I.LOADVALUE)},2852:(Te,ae,D)=>{D.d(ae,{UN:()=>te,jX:()=>se});var f=D(8555),I=D(4579);const te="counter",Z=(0,f.Lq)({count:0},(0,f.on)(I.nP,ee=>({...ee,count:ee.count+1})),(0,f.on)(I.Mj,ee=>({...ee,count:ee.count-1})),(0,f.on)(I.mc,ee=>({...ee,count:0})),(0,f.on)(I.Zf,(ee,K)=>({...ee,count:K.newValue})));function se(ee,K){return Z(ee,K)}},2542:(Te,ae,D)=>{D.d(ae,{F3:()=>B,WU:()=>Z,mu:()=>te});var f=D(8555),I=(()=>{return(se=I||(I={})).loadData="[loadData] load",se.loadDataSuccess="[loadData] success",se.loadDataFailure="[loadData] failure",I;var se})();const te=(0,f.PH)(I.loadData),B=(0,f.PH)(I.loadDataSuccess,(0,f.Ky)()),Z=(0,f.PH)(I.loadDataFailure,(0,f.Ky)())},3880:(Te,ae,D)=>{D.d(ae,{B5:()=>se,UN:()=>te});var f=D(8555),I=D(2542);const te="load-data",Z=(0,f.Lq)({data:null,loading:!1,error:null},(0,f.on)(I.mu,ee=>({...ee,loading:!0})),(0,f.on)(I.F3,(ee,{payload:K})=>({...ee,loading:!1,data:K})),(0,f.on)(I.WU,(ee,{payload:K})=>({...ee,loading:!1,error:K})));function se(ee,K){return Z(ee,K)}},9610:(Te,ae,D)=>{D.d(ae,{L:()=>ee});var f=D(8555),I=D(3880);const te=(0,f.ZF)(I.UN),B=(0,f.P1)(te,K=>K.data);var Z=D(2542),se=D(4650);let ee=(()=>{class K{constructor(q){this.store=q}getData(){return this.store.pipe((0,f.Ys)(B))}loadData(){this.store.dispatch(Z.mu())}loadDataSuccess(q){this.store.dispatch(Z.F3(q))}loadDataFailure(q){this.store.dispatch(Z.WU(q))}static#e=this.\u0275fac=function(ue){return new(ue||K)(se.LFG(f.yh))};static#t=this.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac})}return K})()},7403:(Te,ae,D)=>{D.d(ae,{a:()=>Z});var f=D(4004),I=D(4650),te=D(529);let Z=(()=>{class se{constructor(K){this.http=K}register(K){return this.http.post("https://conduit.productionready.io/api/users",K).pipe((0,f.U)(re=>re.user))}static#e=this.\u0275fac=function(re){return new(re||se)(I.LFG(te.eN))};static#t=this.\u0275prov=I.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},2766:(Te,ae,D)=>{D.d(ae,{Pw:()=>B,_0:()=>te,zH:()=>Z});var f=D(8555),I=(()=>{return(se=I||(I={})).REGISTER="[AUTH] REGISTER",se.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",se.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",I;var se})();const te=(0,f.PH)(I.REGISTER,(0,f.Ky)()),B=(0,f.PH)(I.REGISTER_SUCCESS,(0,f.Ky)()),Z=(0,f.PH)(I.REGISTER_FAILURE,(0,f.Ky)())},5650:(Te,ae,D)=>{D.d(ae,{UN:()=>B,xw:()=>se});var f=D(8555),I=D(2766);const B="Register",Z=(0,f.Lq)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,f.on)(I._0,ee=>({...ee,isSubmitting:!0,validationErrors:null})),(0,f.on)(I.Pw,(ee,K)=>({...ee,isSubmitting:!1,isLoggedIn:!0,currentUser:K.currentUser})),(0,f.on)(I.zH,(ee,K)=>({...ee,isSubmitting:!1,validationErrors:K.errors})));function se(ee,K){return Z(ee,K)}},4964:(Te,ae,D)=>{D.d(ae,{q:()=>K});var f=D(8555),I=D(2766),te=D(5650);const B=(0,f.ZF)(te.UN),Z=(0,f.P1)(B,re=>re.isSubmitting),se=(0,f.P1)(B,re=>re.validationErrors);var ee=D(4650);let K=(()=>{class re{constructor(ue){this.store=ue}register(ue){this.store.dispatch((0,I._0)(ue))}isSubmitting(){return this.store.pipe((0,f.Ys)(Z))}backendErrors(){return this.store.pipe((0,f.Ys)(se))}static#e=this.\u0275fac=function(fe){return new(fe||re)(ee.LFG(f.yh))};static#t=this.\u0275prov=ee.Yz7({token:re,factory:re.\u0275fac})}return re})()},817:(Te,ae,D)=>{D.d(ae,{N2:()=>Z,Ni:()=>B,PR:()=>te});var f=D(8555),I=(()=>{return(se=I||(I={})).GET_USER="[User] Get User",se.GET_USER_SUCCESS="[User] Get User Success",se.GET_USER_FAILED="[User] Get User Failed",I;var se})();const te=(0,f.PH)(I.GET_USER),B=(0,f.PH)(I.GET_USER_SUCCESS,(0,f.Ky)()),Z=(0,f.PH)(I.GET_USER_FAILED,(0,f.Ky)())},173:(Te,ae,D)=>{D.d(ae,{U:()=>B,M:()=>se});var f=D(8555),te=D(817);const B="user_info",Z=(0,f.Lq)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,f.on)(te.Ni,(ee,{user:K})=>({...ee,user:K,error:null})),(0,f.on)(te.N2,(ee,{error:K})=>({...ee,user:{userId:null,name:null,lastName:null,email:null},error:K})));function se(ee,K){return Z(ee,K)}},2842:(Te,ae,D)=>{D.d(ae,{p:()=>ee});var f=D(8555),I=D(817),te=D(173);const B=(0,f.ZF)(te.U),Z=(0,f.P1)(B,K=>K.user);var se=D(4650);let ee=(()=>{class K{constructor(q){this.store=q}userInfo$(){return this.store.pipe((0,f.Ys)(Z))}getUserInfo(){this.store.dispatch(I.PR())}static#e=this.\u0275fac=function(ue){return new(ue||K)(se.LFG(f.yh))};static#t=this.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac})}return K})()},2944:(Te,ae,D)=>{D.d(ae,{s:()=>te});var f=D(4650),I=D(529);let te=(()=>{class B{constructor(se){this.http=se}login(se,ee){return this.http.post("login",{username:se,password:ee})}getProducts(){return this.http.get("products",{headers:{}})}static#e=this.\u0275fac=function(ee){return new(ee||B)(f.LFG(I.eN))};static#t=this.\u0275prov=f.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},7385:(Te,ae,D)=>{D.d(ae,{e:()=>Z});var f=D(1135),I=D(8505),te=D(4650),B=D(2944);let Z=(()=>{class se{constructor(K){this.apiService=K,this._isLoggedIn$=new f.X(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(K,re){return this.apiService.login(K,re).pipe((0,I.b)(q=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,q.token),this.user=this.getUser(q.token)}))}getUser(K){return K?JSON.parse(atob(K.split(".")[1])):null}hasRole(K){return this.user?.Role.includes(K)||!1}static#e=this.\u0275fac=function(re){return new(re||se)(te.LFG(B.s))};static#t=this.\u0275prov=te.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},2340:(Te,ae,D)=>{D.d(ae,{N:()=>I});var f=D(197);const I={production:!0,version:D(4147).i8,firebaseConfig:f.w}},197:(Te,ae,D)=>{D.d(ae,{w:()=>f});const f={apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432",auth_Token:"kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc"}},2077:(Te,ae,D)=>{var f=D(1481),I=D(4650),te=D(9671),B=D(4793),Z=D(7340);const se=[(0,Z.IO)(":enter, :leave",(0,Z.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.IO)(":leave",(0,Z.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,Z.IO)(":enter",(0,Z.oB)({transform:"translateX(100%)"}),{optional:!0}),(0,Z.ru)([(0,Z.IO)(":leave",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateX(-100%)"}))],{optional:!0}),(0,Z.IO)(":enter",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateX(0%)"}))],{optional:!0})])],ee=[(0,Z.IO)(":enter, :leave",(0,Z.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.IO)(":leave",(0,Z.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,Z.IO)(":enter",(0,Z.oB)({transform:"translateX(-100%)"}),{optional:!0}),(0,Z.ru)([(0,Z.IO)(":leave",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateX(100%)"}))],{optional:!0}),(0,Z.IO)(":enter",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateX(0%)"}))],{optional:!0})])],K=[(0,Z.IO)(":enter, :leave",(0,Z.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.IO)(":leave",(0,Z.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,Z.IO)(":enter",(0,Z.oB)({transform:"translateY(100%)"}),{optional:!0}),(0,Z.ru)([(0,Z.IO)(":leave",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateY(-100%)"}))],{optional:!0}),(0,Z.IO)(":enter",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateY(0%)"}))],{optional:!0})])],re=[(0,Z.IO)(":enter, :leave",(0,Z.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.IO)(":leave",(0,Z.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,Z.IO)(":enter",(0,Z.oB)({transform:"translateY(-100%)"}),{optional:!0}),(0,Z.ru)([(0,Z.IO)(":leave",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateY(100%)"}))],{optional:!0}),(0,Z.IO)(":enter",[(0,Z.jt)(".3s ease-in-out",(0,Z.oB)({transform:"translateY(0%)"}))],{optional:!0})])],q=(0,Z.X$)("slideTransition",[(0,Z.eR)("* => slideToLeft",se),(0,Z.eR)("* => slideToRight",ee),(0,Z.eR)("* => slideToTop",K),(0,Z.eR)("* => slideToBottom",re)]);var ue=D(8285),fe=D(6895);function Ne(y,_){if(1&y&&(I.TgZ(0,"li",11)(1,"a",12),I._uU(2),I.qZA()()),2&y){const g=_.$implicit;I.xp6(1),I.Q6J("routerLink",null==g?null:g.path),I.xp6(1),I.Oqu((null==g?null:g.name)||(null==g?null:g.path))}}function $e(y,_){if(1&y&&(I.TgZ(0,"a",13),I._uU(1),I.qZA()),2&y){const g=_.$implicit;I.xp6(1),I.Oqu(g)}}const Be=function(){return["navbar-dark","bg-dark"]},Ye=function(){return["navbar-light","bg-light"]},Ve=function(y){return{show:y}};let We=(()=>{class y{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275cmp=I.Xpm({type:y,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(b,H){1&b&&(I.TgZ(0,"nav",0)(1,"a",1),I._uU(2,"Navbar"),I.qZA(),I.TgZ(3,"button",2),I.NdJ("click",function(){return H.toggleNavbar()}),I._UZ(4,"span",3),I.qZA(),I.TgZ(5,"div",4)(6,"ul",5),I.YNc(7,Ne,3,2,"li",6),I.TgZ(8,"li",7),I.NdJ("click",function(){return H.show=!H.show}),I.TgZ(9,"a",8),I._uU(10,"Language"),I.qZA(),I.TgZ(11,"div",9),I.YNc(12,$e,2,1,"a",10),I.qZA()()()()()),2&b&&(I.Q6J("ngClass","DARK"===H.template?I.DdM(6,Be):I.DdM(7,Ye)),I.xp6(5),I.Q6J("ngClass",I.VKq(8,Ve,H.isCollapsed)),I.xp6(2),I.Q6J("ngForOf",H.routes),I.xp6(4),I.ekj("show",H.show),I.xp6(1),I.Q6J("ngForOf",H.languages))},dependencies:[fe.mk,fe.sg,B.rH,B.Od],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]})}return y})();const rt=[{path:"application",loadChildren:()=>Promise.all([D.e(1189),D.e(8270)]).then(D.bind(D,8270)).then(y=>y.ApplicationModule)},{path:"animations",loadChildren:()=>Promise.all([D.e(1189),D.e(566)]).then(D.bind(D,566)).then(y=>y.AnimationsModule)},{path:"v2",loadChildren:()=>Promise.all([D.e(4877),D.e(8592),D.e(4012)]).then(D.bind(D,4012)).then(y=>y.PersonalModule)},{path:"audios",loadChildren:()=>Promise.all([D.e(6619),D.e(4859)]).then(D.bind(D,870)).then(y=>y.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([D.e(6619),D.e(1839)]).then(D.bind(D,1839)).then(y=>y.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([D.e(6619),D.e(5170),D.e(8521)]).then(D.bind(D,8521)).then(y=>y.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([D.e(6619),D.e(7539)]).then(D.bind(D,7539)).then(y=>y.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([D.e(6619),D.e(3261)]).then(D.bind(D,3261)).then(y=>y.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([D.e(1189),D.e(6619),D.e(3980)]).then(D.bind(D,3980)).then(y=>y.CovidModule)},{path:"github",loadChildren:()=>Promise.all([D.e(1189),D.e(6619),D.e(8592),D.e(8580)]).then(D.bind(D,8580)).then(y=>y.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([D.e(8554),D.e(8592),D.e(2737)]).then(D.bind(D,2737)).then(y=>y.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([D.e(6619),D.e(94)]).then(D.bind(D,94)).then(y=>y.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([D.e(6619),D.e(8592),D.e(9045)]).then(D.bind(D,9045)).then(y=>y.MoviesModule)},{path:"encapsulating",loadChildren:()=>D.e(4333).then(D.bind(D,4333)).then(y=>y.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([D.e(6619),D.e(7968)]).then(D.bind(D,7968)).then(y=>y.SportsModule)},{path:"shop",loadChildren:()=>Promise.all([D.e(8592),D.e(3787)]).then(D.bind(D,3787)).then(y=>y.ShopModule)},{path:"store",loadChildren:()=>D.e(9065).then(D.bind(D,9065)).then(y=>y.StoreModule)},{path:"ngrx-store",loadChildren:()=>D.e(2138).then(D.bind(D,2138)).then(y=>y.NgrxStoreModule)},{path:"survey",loadChildren:()=>D.e(1801).then(D.bind(D,7847)).then(y=>y.SurveyPollVoterPridictionModule)},{path:"responsive-site",loadChildren:()=>D.e(6085).then(D.bind(D,6085)).then(y=>y.ResponsiveSiteModule)},{path:"mockApi",loadChildren:()=>D.e(7784).then(D.bind(D,7784)).then(y=>y.MockapiModule)},{path:"routeReuse",loadChildren:()=>D.e(772).then(D.bind(D,772)).then(y=>y.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>D.e(1827).then(D.bind(D,1827)).then(y=>y.SampleModule)},{path:"navigations",component:(()=>{class y{constructor(g){this.animationService=g,this.routes=[{path:"resume"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(g){return g.activatedRouteData.animation}static#e=this.\u0275fac=function(b){return new(b||y)(I.Y36(ue.Y))};static#t=this.\u0275cmp=I.Xpm({type:y,selectors:[["app-navigations"]],decls:3,vars:2,consts:[[3,"routes","template"]],template:function(b,H){1&b&&(I._UZ(0,"app-navbar",0),I.TgZ(1,"main"),I._UZ(2,"router-outlet"),I.qZA()),2&b&&I.Q6J("routes",H.routes)("template","LIGHT")},dependencies:[B.lC,We],data:{animation:[q]}})}return y})(),children:[{path:"my-site",loadChildren:()=>D.e(7391).then(D.bind(D,7391)).then(y=>y.MysiteModule)},{path:"svg",loadChildren:()=>D.e(3971).then(D.bind(D,3971)).then(y=>y.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([D.e(1189),D.e(37),D.e(8592),D.e(3061)]).then(D.bind(D,3061)).then(y=>y.TaskModule)},{path:"unit-testing",loadChildren:()=>D.e(4376).then(D.bind(D,4376)).then(y=>y.UnitTestingModule)}]},{path:"apps",loadChildren:()=>Promise.all([D.e(5170),D.e(4524),D.e(8703)]).then(D.bind(D,8703)).then(y=>y.UsefullAppsModule)},{path:"library-ex",loadChildren:()=>Promise.all([D.e(1189),D.e(5170),D.e(4524),D.e(8592),D.e(1306)]).then(D.bind(D,1306)).then(y=>y.LibraryExModule)},{path:"firebase",loadChildren:()=>Promise.all([D.e(1189),D.e(5170),D.e(9710),D.e(4524),D.e(7230)]).then(D.bind(D,7230)).then(y=>y.FirebaseModule)},{path:"tutorials",loadChildren:()=>Promise.all([D.e(5170),D.e(5951)]).then(D.bind(D,5951)).then(y=>y.TutorialsModule)},{path:"css",loadChildren:()=>Promise.all([D.e(1189),D.e(8592),D.e(4446)]).then(D.bind(D,4446)).then(y=>y.CssLearnModule)},{path:"code-task",loadChildren:()=>D.e(4529).then(D.bind(D,4529)).then(y=>y.CodeTaskModule)},{path:"custom",loadComponent:(y=(0,te.Z)(function*(){return(yield Promise.all([D.e(1189),D.e(8592),D.e(8738)]).then(D.bind(D,8738))).CustomComponent}),function(){return y.apply(this,arguments)})},{path:"declarative",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield D.e(8123).then(D.bind(D,8123))).DeclarativeModule});return function(){return y.apply(this,arguments)}}()},{path:"sidenav",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield D.e(1592).then(D.bind(D,1592))).SidenavModule});return function(){return y.apply(this,arguments)}}()},{path:"certificate",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield D.e(1918).then(D.bind(D,1918))).CertificateModule});return function(){return y.apply(this,arguments)}}()},{path:"systems",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield Promise.all([D.e(8554),D.e(2759)]).then(D.bind(D,2759))).SystemsModule});return function(){return y.apply(this,arguments)}}()},{path:"assignment",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield Promise.all([D.e(1189),D.e(5774)]).then(D.bind(D,5774))).AssignmentModule});return function(){return y.apply(this,arguments)}}()},{path:"",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield Promise.all([D.e(1189),D.e(37),D.e(4877),D.e(8592),D.e(3074)]).then(D.bind(D,3074))).WebsiteModule});return function(){return y.apply(this,arguments)}}()},{path:"markdown",loadChildren:function(){var y=(0,te.Z)(function*(){return(yield Promise.all([D.e(1189),D.e(8592),D.e(2588)]).then(D.bind(D,2588))).MarkdownModule});return function(){return y.apply(this,arguments)}}()},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:""}];var y;let ke=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({imports:[B.Bz.forRoot(rt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),B.Bz]})}return y})();var Re=D(529);let Dt=(()=>{class y{constructor(g){this.http=g,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(g=>(this.configuration=g,g)).catch(g=>{console.error(g)})}getConfiguration(){return this.configuration}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(Re.eN))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var Ct=D(1135),Qe=D(2843),Mt=D(3900),Tt=D(9646),nt=D(6805),at=D(262),Xe=D(8505),_t=D(4004);let bt=(()=>{class y{constructor(g){this.http=g,this.alertSubject=new Ct.X(null),this.alertObservable=this.alertSubject.asObservable()}getUser(g){return this.http.get(`https://jsonplaceholder.typicode.com/users/${g}`).pipe((0,at.K)(b=>(0,Qe._)(b)))}getToDo(g){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${g}`).pipe((0,at.K)(b=>(0,Qe._)(b)))}setUser(g){console.log(g)}setToDos(g){console.log(g)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,Mt.w)(g=>(this.setUser(g),this.getToDo(g.id).pipe((0,Xe.b)(b=>this.setToDos(b))))),(0,at.K)(g=>(this.alertSubject.next(g),(0,Tt.of)(g))))}initialiseAppUsingPromises(){return function qe(y,_){const g="object"==typeof _;return new Promise((b,H)=>{let _e,ne=!1;y.subscribe({next:Ie=>{_e=Ie,ne=!0},error:H,complete:()=>{ne?b(_e):g?b(_.defaultValue):H(new nt.K)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,_t.U)(g=>g))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,_t.U)(g=>g))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,_t.U)(g=>g))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,_t.U)(g=>g))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,_t.U)(g=>g))}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(Re.eN))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var fn=D(8311);function rr(y,_){if(1&y){const g=I.EpF();I.TgZ(0,"div",1),I.NdJ("click",function(){I.CHM(g);const H=I.oxw();return I.KtG(H.showNotification=!H.showNotification)}),I.TgZ(1,"p"),I._uU(2),I.qZA()()}if(2&y){const g=I.oxw();I.xp6(2),I.Oqu(g.notification)}}let dn=(()=>{class y{constructor(g){this.notificationService=g,this.notificationService.notification$.subscribe(b=>{this.notification=b,this.showNotification=!0})}ngOnInit(){}static#e=this.\u0275fac=function(b){return new(b||y)(I.Y36(fn.g))};static#t=this.\u0275cmp=I.Xpm({type:y,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"]],template:function(b,H){1&b&&I.YNc(0,rr,3,1,"div",0),2&b&&I.Q6J("ngIf",H.notification&&H.showNotification)},dependencies:[fe.O5],styles:[".notification[_ngcontent-%COMP%]{position:absolute;z-index:1;top:5px;line-height:20px;text-align:center;right:5px;background:linear-gradient(-90deg,#cb5cd2,#cc3fa0);color:#fff;font-style:oblique;text-transform:capitalize;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;min-height:20px;min-width:160px;max-width:300px;padding:15px;cursor:pointer}"]})}return y})();var Kt=D(1469);let Ln=(()=>{class y{constructor(g,b,H){this.configurationService=g,this.jsonPlaceholderService=b,this.route=H,this.title="portfolio-all-in-one",this.version=I.q4F.major}ngOnInit(){window.addEventListener("beforeinstallprompt",g=>{console.log("'beforeinstallprompt' event was fired.")})}static#e=this.\u0275fac=function(b){return new(b||y)(I.Y36(Dt),I.Y36(bt),I.Y36(B.gz))};static#t=this.\u0275cmp=I.Xpm({type:y,selectors:[["app-root"]],decls:3,vars:0,template:function(b,H){1&b&&I._UZ(0,"app-notification")(1,"router-outlet")(2,"ng-toast")},dependencies:[B.lC,dn,Kt.qR]})}return y})();function ir(y){return new I.vHH(3e3,!1)}function Jr(){return typeof window<"u"&&typeof window.document<"u"}function Je(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Se(y){switch(y.length){case 0:return new Z.ZN;case 1:return y[0];default:return new Z.ZE(y)}}function xe(y,_,g,b,H=new Map,ne=new Map){const _e=[],Ie=[];let Ze=-1,ft=null;if(b.forEach(Vt=>{const $t=Vt.get("offset"),On=$t==Ze,tn=On&&ft||new Map;Vt.forEach((Ut,Sn)=>{let gr=Sn,Nr=Ut;if("offset"!==Sn)switch(gr=_.normalizePropertyName(gr,_e),Nr){case Z.k1:Nr=H.get(Sn);break;case Z.l3:Nr=ne.get(Sn);break;default:Nr=_.normalizeStyleValue(Sn,gr,Nr,_e)}tn.set(gr,Nr)}),On||Ie.push(tn),ft=tn,Ze=$t}),_e.length)throw function qt(y){return new I.vHH(3502,!1)}();return Ie}function Pt(y,_,g,b){switch(_){case"start":y.onStart(()=>b(g&&ge(g,"start",y)));break;case"done":y.onDone(()=>b(g&&ge(g,"done",y)));break;case"destroy":y.onDestroy(()=>b(g&&ge(g,"destroy",y)))}}function ge(y,_,g){const ne=ve(y.element,y.triggerName,y.fromState,y.toState,_||y.phaseName,g.totalTime??y.totalTime,!!g.disabled),_e=y._data;return null!=_e&&(ne._data=_e),ne}function ve(y,_,g,b,H="",ne=0,_e){return{element:y,triggerName:_,fromState:g,toState:b,phaseName:H,totalTime:ne,disabled:!!_e}}function Ce(y,_,g){let b=y.get(_);return b||y.set(_,b=g),b}function st(y){const _=y.indexOf(":");return[y.substring(1,_),y.slice(_+1)]}let Fe=(y,_)=>!1,Nt=(y,_,g)=>[],Wt=null;function Oe(y){const _=y.parentNode||y.host;return _===Wt?null:_}(Je()||typeof Element<"u")&&(Jr()?(Wt=(()=>document.documentElement)(),Fe=(y,_)=>{for(;_;){if(_===y)return!0;_=Oe(_)}return!1}):Fe=(y,_)=>y.contains(_),Nt=(y,_,g)=>{if(g)return Array.from(y.querySelectorAll(_));const b=y.querySelector(_);return b?[b]:[]});let Ae=null,Ke=!1;const Dr=Fe,Ti=Nt;let tt=(()=>{class y{validateStyleProperty(g){return function kt(y){Ae||(Ae=function Xn(){return typeof document<"u"?document.body:null}()||{},Ke=!!Ae.style&&"WebkitAppearance"in Ae.style);let _=!0;return Ae.style&&!function he(y){return"ebkit"==y.substring(1,6)}(y)&&(_=y in Ae.style,!_&&Ke&&(_="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in Ae.style)),_}(g)}matchesElement(g,b){return!1}containsElement(g,b){return Dr(g,b)}getParentElement(g){return Oe(g)}query(g,b,H){return Ti(g,b,H)}computeStyle(g,b,H){return H||""}animate(g,b,H,ne,_e,Ie=[],Ze){return new Z.ZN(H,ne)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac}),y})(),xt=(()=>{class y{}return y.NOOP=new tt,y})();const Zt=1e3,cn="ng-enter",dr="ng-leave",nr="ng-trigger",ei=".ng-trigger",ti="ng-animating",bs=".ng-animating";function ki(y){if("number"==typeof y)return y;const _=y.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:ss(parseFloat(_[1]),_[2])}function ss(y,_){return"s"===_?y*Zt:y}function Br(y,_,g){return y.hasOwnProperty("duration")?y:function Bt(y,_,g){let H,ne=0,_e="";if("string"==typeof y){const Ie=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return _.push(ir()),{duration:0,delay:0,easing:""};H=ss(parseFloat(Ie[1]),Ie[2]);const Ze=Ie[3];null!=Ze&&(ne=ss(parseFloat(Ze),Ie[4]));const ft=Ie[5];ft&&(_e=ft)}else H=y;if(!g){let Ie=!1,Ze=_.length;H<0&&(_.push(function Kr(){return new I.vHH(3100,!1)}()),Ie=!0),ne<0&&(_.push(function Mn(){return new I.vHH(3101,!1)}()),Ie=!0),Ie&&_.splice(Ze,0,ir())}return{duration:H,delay:ne,easing:_e}}(y,_,g)}function bn(y,_={}){return Object.keys(y).forEach(g=>{_[g]=y[g]}),_}function pn(y){const _=new Map;return Object.keys(y).forEach(g=>{_.set(g,y[g])}),_}function tr(y,_=new Map,g){if(g)for(let[b,H]of g)_.set(b,H);for(let[b,H]of y)_.set(b,H);return _}function mr(y,_,g){return g?_+":"+g+";":""}function br(y){let _="";for(let g=0;g<y.style.length;g++){const b=y.style.item(g);_+=mr(0,b,y.style.getPropertyValue(b))}for(const g in y.style)y.style.hasOwnProperty(g)&&!g.startsWith("_")&&(_+=mr(0,gt(g),y.style[g]));y.setAttribute("style",_)}function oi(y,_,g){y.style&&(_.forEach((b,H)=>{const ne=Ge(H);g&&!g.has(H)&&g.set(H,y.style[ne]),y.style[ne]=b}),Je()&&br(y))}function _i(y,_){y.style&&(_.forEach((g,b)=>{const H=Ge(b);y.style[H]=""}),Je()&&br(y))}function Rn(y){return Array.isArray(y)?1==y.length?y[0]:(0,Z.vP)(y):y}const xn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yr(y){let _=[];if("string"==typeof y){let g;for(;g=xn.exec(y);)_.push(g[1]);xn.lastIndex=0}return _}function Is(y,_,g){const b=y.toString(),H=b.replace(xn,(ne,_e)=>{let Ie=_[_e];return null==Ie&&(g.push(function si(y){return new I.vHH(3003,!1)}()),Ie=""),Ie.toString()});return H==b?y:H}function Ee(y){const _=[];let g=y.next();for(;!g.done;)_.push(g.value),g=y.next();return _}const ot=/-+([a-z0-9])/g;function Ge(y){return y.replace(ot,(..._)=>_[1].toUpperCase())}function gt(y){return y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xt(y,_,g){switch(_.type){case 7:return y.visitTrigger(_,g);case 0:return y.visitState(_,g);case 1:return y.visitTransition(_,g);case 2:return y.visitSequence(_,g);case 3:return y.visitGroup(_,g);case 4:return y.visitAnimate(_,g);case 5:return y.visitKeyframes(_,g);case 6:return y.visitStyle(_,g);case 8:return y.visitReference(_,g);case 9:return y.visitAnimateChild(_,g);case 10:return y.visitAnimateRef(_,g);case 11:return y.visitQuery(_,g);case 12:return y.visitStagger(_,g);default:throw function wt(y){return new I.vHH(3004,!1)}()}}function hr(y,_){return window.getComputedStyle(y)[_]}const ri="*";function Cn(y,_){const g=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(b=>function As(y,_,g){if(":"==y[0]){const Ze=function Ws(y,_){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,b)=>parseFloat(b)>parseFloat(g);case":decrement":return(g,b)=>parseFloat(b)<parseFloat(g);default:return _.push(function Tn(y){return new I.vHH(3016,!1)}()),"* => *"}}(y,g);if("function"==typeof Ze)return void _.push(Ze);y=Ze}const b=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return g.push(function Sr(y){return new I.vHH(3015,!1)}()),_;const H=b[1],ne=b[2],_e=b[3];_.push(to(H,_e));"<"==ne[0]&&!(H==ri&&_e==ri)&&_.push(to(_e,H))}(b,g,_)):g.push(y),g}const Gi=new Set(["true","1"]),sr=new Set(["false","0"]);function to(y,_){const g=Gi.has(y)||sr.has(y),b=Gi.has(_)||sr.has(_);return(H,ne)=>{let _e=y==ri||y==H,Ie=_==ri||_==ne;return!_e&&g&&"boolean"==typeof H&&(_e=H?Gi.has(y):sr.has(y)),!Ie&&b&&"boolean"==typeof ne&&(Ie=ne?Gi.has(_):sr.has(_)),_e&&Ie}}const Ms=new RegExp("s*:selfs*,?","g");function Hn(y,_,g,b){return new zs(y).build(_,g,b)}class zs{constructor(_){this._driver=_}build(_,g,b){const H=new Uo(g);return this._resetContextStyleTimingState(H),Xt(this,Rn(_),H)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,g){let b=g.queryCount=0,H=g.depCount=0;const ne=[],_e=[];return"@"==_.name.charAt(0)&&g.errors.push(function Ue(){return new I.vHH(3006,!1)}()),_.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(g),0==Ie.type){const Ze=Ie,ft=Ze.name;ft.toString().split(/\s*,\s*/).forEach(Vt=>{Ze.name=Vt,ne.push(this.visitState(Ze,g))}),Ze.name=ft}else if(1==Ie.type){const Ze=this.visitTransition(Ie,g);b+=Ze.queryCount,H+=Ze.depCount,_e.push(Ze)}else g.errors.push(function yt(){return new I.vHH(3007,!1)}())}),{type:7,name:_.name,states:ne,transitions:_e,queryCount:b,depCount:H,options:null}}visitState(_,g){const b=this.visitStyle(_.styles,g),H=_.options&&_.options.params||null;if(b.containsDynamicStyles){const ne=new Set,_e=H||{};b.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(Ze=>{Yr(Ze).forEach(ft=>{_e.hasOwnProperty(ft)||ne.add(ft)})})}),ne.size&&(Ee(ne.values()),g.errors.push(function Lt(y,_){return new I.vHH(3008,!1)}()))}return{type:0,name:_.name,style:b,options:H?{params:H}:null}}visitTransition(_,g){g.queryCount=0,g.depCount=0;const b=Xt(this,Rn(_.animation),g);return{type:1,matchers:Cn(_.expr,g.errors),animation:b,queryCount:g.queryCount,depCount:g.depCount,options:Wi(_.options)}}visitSequence(_,g){return{type:2,steps:_.steps.map(b=>Xt(this,b,g)),options:Wi(_.options)}}visitGroup(_,g){const b=g.currentTime;let H=0;const ne=_.steps.map(_e=>{g.currentTime=b;const Ie=Xt(this,_e,g);return H=Math.max(H,g.currentTime),Ie});return g.currentTime=H,{type:3,steps:ne,options:Wi(_.options)}}visitAnimate(_,g){const b=function So(y,_){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return Ta(Br(y,_).duration,0,"");const g=y;if(g.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=Ta(0,0,"");return ne.dynamic=!0,ne.strValue=g,ne}const H=Br(g,_);return Ta(H.duration,H.delay,H.easing)}(_.timings,g.errors);g.currentAnimateTimings=b;let H,ne=_.styles?_.styles:(0,Z.oB)({});if(5==ne.type)H=this.visitKeyframes(ne,g);else{let _e=_.styles,Ie=!1;if(!_e){Ie=!0;const ft={};b.easing&&(ft.easing=b.easing),_e=(0,Z.oB)(ft)}g.currentTime+=b.duration+b.delay;const Ze=this.visitStyle(_e,g);Ze.isEmptyStep=Ie,H=Ze}return g.currentAnimateTimings=null,{type:4,timings:b,style:H,options:null}}visitStyle(_,g){const b=this._makeStyleAst(_,g);return this._validateStyleAst(b,g),b}_makeStyleAst(_,g){const b=[],H=Array.isArray(_.styles)?_.styles:[_.styles];for(let Ie of H)"string"==typeof Ie?Ie===Z.l3?b.push(Ie):g.errors.push(new I.vHH(3002,!1)):b.push(pn(Ie));let ne=!1,_e=null;return b.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(_e=Ie.get("easing"),Ie.delete("easing")),!ne))for(let Ze of Ie.values())if(Ze.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:b,easing:_e,offset:_.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(_,g){const b=g.currentAnimateTimings;let H=g.currentTime,ne=g.currentTime;b&&ne>0&&(ne-=b.duration+b.delay),_.styles.forEach(_e=>{"string"!=typeof _e&&_e.forEach((Ie,Ze)=>{const ft=g.collectedStyles.get(g.currentQuerySelector),Vt=ft.get(Ze);let $t=!0;Vt&&(ne!=H&&ne>=Vt.startTime&&H<=Vt.endTime&&(g.errors.push(function Lr(y,_,g,b,H){return new I.vHH(3010,!1)}()),$t=!1),ne=Vt.startTime),$t&&ft.set(Ze,{startTime:ne,endTime:H}),g.options&&function vr(y,_,g){const b=_.params||{},H=Yr(y);H.length&&H.forEach(ne=>{b.hasOwnProperty(ne)||g.push(function hn(y){return new I.vHH(3001,!1)}())})}(Ie,g.options,g.errors)})})}visitKeyframes(_,g){const b={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function rs(){return new I.vHH(3011,!1)}()),b;let ne=0;const _e=[];let Ie=!1,Ze=!1,ft=0;const Vt=_.steps.map(Nr=>{const Ls=this._makeStyleAst(Nr,g);let Wr=null!=Ls.offset?Ls.offset:function To(y){if("string"==typeof y)return null;let _=null;if(Array.isArray(y))y.forEach(g=>{if(g instanceof Map&&g.has("offset")){const b=g;_=parseFloat(b.get("offset")),b.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const g=y;_=parseFloat(g.get("offset")),g.delete("offset")}return _}(Ls.styles),Ds=0;return null!=Wr&&(ne++,Ds=Ls.offset=Wr),Ze=Ze||Ds<0||Ds>1,Ie=Ie||Ds<ft,ft=Ds,_e.push(Ds),Ls});Ze&&g.errors.push(function ur(){return new I.vHH(3012,!1)}()),Ie&&g.errors.push(function ln(){return new I.vHH(3200,!1)}());const $t=_.steps.length;let On=0;ne>0&&ne<$t?g.errors.push(function Li(){return new I.vHH(3202,!1)}()):0==ne&&(On=1/($t-1));const tn=$t-1,Ut=g.currentTime,Sn=g.currentAnimateTimings,gr=Sn.duration;return Vt.forEach((Nr,Ls)=>{const Wr=On>0?Ls==tn?1:On*Ls:_e[Ls],Ds=Wr*gr;g.currentTime=Ut+Sn.delay+Ds,Sn.duration=Ds,this._validateStyleAst(Nr,g),Nr.offset=Wr,b.styles.push(Nr)}),b}visitReference(_,g){return{type:8,animation:Xt(this,Rn(_.animation),g),options:Wi(_.options)}}visitAnimateChild(_,g){return g.depCount++,{type:9,options:Wi(_.options)}}visitAnimateRef(_,g){return{type:10,animation:this.visitReference(_.animation,g),options:Wi(_.options)}}visitQuery(_,g){const b=g.currentQuerySelector,H=_.options||{};g.queryCount++,g.currentQuery=_;const[ne,_e]=function no(y){const _=!!y.split(/\s*,\s*/).find(g=>":self"==g);return _&&(y=y.replace(Ms,"")),y=y.replace(/@\*/g,ei).replace(/@\w+/g,g=>ei+"-"+g.slice(1)).replace(/:animating/g,bs),[y,_]}(_.selector);g.currentQuerySelector=b.length?b+" "+ne:ne,Ce(g.collectedStyles,g.currentQuerySelector,new Map);const Ie=Xt(this,Rn(_.animation),g);return g.currentQuery=null,g.currentQuerySelector=b,{type:11,selector:ne,limit:H.limit||0,optional:!!H.optional,includeSelf:_e,animation:Ie,originalSelector:_.selector,options:Wi(_.options)}}visitStagger(_,g){g.currentQuery||g.errors.push(function qr(){return new I.vHH(3013,!1)}());const b="full"===_.timings?{duration:0,delay:0,easing:"full"}:Br(_.timings,g.errors,!0);return{type:12,animation:Xt(this,Rn(_.animation),g),timings:b,options:null}}}class Uo{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wi(y){return y?(y=bn(y)).params&&(y.params=function Al(y){return y?bn(y):null}(y.params)):y={},y}function Ta(y,_,g){return{duration:y,delay:_,easing:g}}function po(y,_,g,b,H,ne,_e=null,Ie=!1){return{type:1,element:y,keyframes:_,preStyleProps:g,postStyleProps:b,duration:H,delay:ne,totalTime:H+ne,easing:_e,subTimeline:Ie}}class Yi{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,g){let b=this._map.get(_);b||this._map.set(_,b=[]),b.push(...g)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const jr=new RegExp(":enter","g"),Vo=new RegExp(":leave","g");function Ps(y,_,g,b,H,ne=new Map,_e=new Map,Ie,Ze,ft=[]){return(new io).buildKeyframes(y,_,g,b,H,ne,_e,Ie,Ze,ft)}class io{buildKeyframes(_,g,b,H,ne,_e,Ie,Ze,ft,Vt=[]){ft=ft||new Yi;const $t=new fs(_,g,ft,H,ne,Vt,[]);$t.options=Ze;const On=Ze.delay?ki(Ze.delay):0;$t.currentTimeline.delayNextStep(On),$t.currentTimeline.setStyles([_e],null,$t.errors,Ze),Xt(this,b,$t);const tn=$t.timelines.filter(Ut=>Ut.containsAnimation());if(tn.length&&Ie.size){let Ut;for(let Sn=tn.length-1;Sn>=0;Sn--){const gr=tn[Sn];if(gr.element===g){Ut=gr;break}}Ut&&!Ut.allowOnlyTimelineStyles()&&Ut.setStyles([Ie],null,$t.errors,Ze)}return tn.length?tn.map(Ut=>Ut.buildKeyframes()):[po(g,[],[],[],0,On,"",!1)]}visitTrigger(_,g){}visitState(_,g){}visitTransition(_,g){}visitAnimateChild(_,g){const b=g.subInstructions.get(g.element);if(b){const H=g.createSubContext(_.options),ne=g.currentTimeline.currentTime,_e=this._visitSubInstructions(b,H,H.options);ne!=_e&&g.transformIntoNewTimeline(_e)}g.previousNode=_}visitAnimateRef(_,g){const b=g.createSubContext(_.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],g,b),this.visitReference(_.animation,b),g.transformIntoNewTimeline(b.currentTimeline.currentTime),g.previousNode=_}_applyAnimationRefDelays(_,g,b){for(const H of _){const ne=H?.delay;if(ne){const _e="number"==typeof ne?ne:ki(Is(ne,H?.params??{},g.errors));b.delayNextStep(_e)}}}_visitSubInstructions(_,g,b){let ne=g.currentTimeline.currentTime;const _e=null!=b.duration?ki(b.duration):null,Ie=null!=b.delay?ki(b.delay):null;return 0!==_e&&_.forEach(Ze=>{const ft=g.appendInstructionToTimeline(Ze,_e,Ie);ne=Math.max(ne,ft.duration+ft.delay)}),ne}visitReference(_,g){g.updateOptions(_.options,!0),Xt(this,_.animation,g),g.previousNode=_}visitSequence(_,g){const b=g.subContextCount;let H=g;const ne=_.options;if(ne&&(ne.params||ne.delay)&&(H=g.createSubContext(ne),H.transformIntoNewTimeline(),null!=ne.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=mo);const _e=ki(ne.delay);H.delayNextStep(_e)}_.steps.length&&(_.steps.forEach(_e=>Xt(this,_e,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>b&&H.transformIntoNewTimeline()),g.previousNode=_}visitGroup(_,g){const b=[];let H=g.currentTimeline.currentTime;const ne=_.options&&_.options.delay?ki(_.options.delay):0;_.steps.forEach(_e=>{const Ie=g.createSubContext(_.options);ne&&Ie.delayNextStep(ne),Xt(this,_e,Ie),H=Math.max(H,Ie.currentTimeline.currentTime),b.push(Ie.currentTimeline)}),b.forEach(_e=>g.currentTimeline.mergeTimelineCollectedStyles(_e)),g.transformIntoNewTimeline(H),g.previousNode=_}_visitTiming(_,g){if(_.dynamic){const b=_.strValue;return Br(g.params?Is(b,g.params,g.errors):b,g.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,g){const b=g.currentAnimateTimings=this._visitTiming(_.timings,g),H=g.currentTimeline;b.delay&&(g.incrementTime(b.delay),H.snapshotCurrentStyles());const ne=_.style;5==ne.type?this.visitKeyframes(ne,g):(g.incrementTime(b.duration),this.visitStyle(ne,g),H.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=_}visitStyle(_,g){const b=g.currentTimeline,H=g.currentAnimateTimings;!H&&b.hasCurrentStyleProperties()&&b.forwardFrame();const ne=H&&H.easing||_.easing;_.isEmptyStep?b.applyEmptyStep(ne):b.setStyles(_.styles,ne,g.errors,g.options),g.previousNode=_}visitKeyframes(_,g){const b=g.currentAnimateTimings,H=g.currentTimeline.duration,ne=b.duration,Ie=g.createSubContext().currentTimeline;Ie.easing=b.easing,_.styles.forEach(Ze=>{Ie.forwardTime((Ze.offset||0)*ne),Ie.setStyles(Ze.styles,Ze.easing,g.errors,g.options),Ie.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(Ie),g.transformIntoNewTimeline(H+ne),g.previousNode=_}visitQuery(_,g){const b=g.currentTimeline.currentTime,H=_.options||{},ne=H.delay?ki(H.delay):0;ne&&(6===g.previousNode.type||0==b&&g.currentTimeline.hasCurrentStyleProperties())&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=mo);let _e=b;const Ie=g.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!H.optional,g.errors);g.currentQueryTotal=Ie.length;let Ze=null;Ie.forEach((ft,Vt)=>{g.currentQueryIndex=Vt;const $t=g.createSubContext(_.options,ft);ne&&$t.delayNextStep(ne),ft===g.element&&(Ze=$t.currentTimeline),Xt(this,_.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),_e=Math.max(_e,$t.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(_e),Ze&&(g.currentTimeline.mergeTimelineCollectedStyles(Ze),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=_}visitStagger(_,g){const b=g.parentContext,H=g.currentTimeline,ne=_.timings,_e=Math.abs(ne.duration),Ie=_e*(g.currentQueryTotal-1);let Ze=_e*g.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Ze=Ie-Ze;break;case"full":Ze=b.currentStaggerTime}const Vt=g.currentTimeline;Ze&&Vt.delayNextStep(Ze);const $t=Vt.currentTime;Xt(this,_.animation,g),g.previousNode=_,b.currentStaggerTime=H.currentTime-$t+(H.startTime-b.currentTimeline.startTime)}}const mo={};class fs{constructor(_,g,b,H,ne,_e,Ie,Ze){this._driver=_,this.element=g,this.subInstructions=b,this._enterClassName=H,this._leaveClassName=ne,this.errors=_e,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ze||new ws(this._driver,g,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,g){if(!_)return;const b=_;let H=this.options;null!=b.duration&&(H.duration=ki(b.duration)),null!=b.delay&&(H.delay=ki(b.delay));const ne=b.params;if(ne){let _e=H.params;_e||(_e=this.options.params={}),Object.keys(ne).forEach(Ie=>{(!g||!_e.hasOwnProperty(Ie))&&(_e[Ie]=Is(ne[Ie],_e,this.errors))})}}_copyOptions(){const _={};if(this.options){const g=this.options.params;if(g){const b=_.params={};Object.keys(g).forEach(H=>{b[H]=g[H]})}}return _}createSubContext(_=null,g,b){const H=g||this.element,ne=new fs(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,b||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(_),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(_){return this.previousNode=mo,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,g,b){const H={duration:g??_.duration,delay:this.currentTimeline.currentTime+(b??0)+_.delay,easing:""},ne=new Fn(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,H,_.stretchStartingKeyframe);return this.timelines.push(ne),H}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,g,b,H,ne,_e){let Ie=[];if(H&&Ie.push(this.element),_.length>0){_=(_=_.replace(jr,"."+this._enterClassName)).replace(Vo,"."+this._leaveClassName);let ft=this._driver.query(this.element,_,1!=b);0!==b&&(ft=b<0?ft.slice(ft.length+b,ft.length):ft.slice(0,b)),Ie.push(...ft)}return!ne&&0==Ie.length&&_e.push(function Ir(y){return new I.vHH(3014,!1)}()),Ie}}class ws{constructor(_,g,b,H){this._driver=_,this.element=g,this.startTime=b,this._elementTimelineStylesLookup=H,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const g=1===this._keyframes.size&&this._pendingStyles.size;this.duration||g?(this.forwardTime(this.currentTime+_),g&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,g){return this.applyStylesToKeyframe(),new ws(this._driver,_,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,g){this._localTimelineStyles.set(_,g),this._globalTimelineStyles.set(_,g),this._styleSummary.set(_,{time:this.currentTime,value:g})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[g,b]of this._globalTimelineStyles)this._backFill.set(g,b||Z.l3),this._currentKeyframe.set(g,Z.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,g,b,H){g&&this._previousKeyframe.set("easing",g);const ne=H&&H.params||{},_e=function Os(y,_){const g=new Map;let b;return y.forEach(H=>{if("*"===H){b=b||_.keys();for(let ne of b)g.set(ne,Z.l3)}else tr(H,g)}),g}(_,this._globalTimelineStyles);for(let[Ie,Ze]of _e){const ft=Is(Ze,ne,b);this._pendingStyles.set(Ie,ft),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)??Z.l3),this._updateStyle(Ie,ft)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,g)=>{this._currentKeyframe.set(g,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,g)=>{this._currentKeyframe.has(g)||this._currentKeyframe.set(g,_)}))}snapshotCurrentStyles(){for(let[_,g]of this._localTimelineStyles)this._pendingStyles.set(_,g),this._updateStyle(_,g)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let g in this._currentKeyframe)_.push(g);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((g,b)=>{const H=this._styleSummary.get(b);(!H||g.time>H.time)&&this._updateStyle(b,g.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,g=new Set,b=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((Ie,Ze)=>{const ft=tr(Ie,new Map,this._backFill);ft.forEach((Vt,$t)=>{Vt===Z.k1?_.add($t):Vt===Z.l3&&g.add($t)}),b||ft.set("offset",Ze/this.duration),H.push(ft)});const ne=_.size?Ee(_.values()):[],_e=g.size?Ee(g.values()):[];if(b){const Ie=H[0],Ze=new Map(Ie);Ie.set("offset",0),Ze.set("offset",1),H=[Ie,Ze]}return po(this.element,H,ne,_e,this.duration,this.startTime,this.easing,!1)}}class Fn extends ws{constructor(_,g,b,H,ne,_e,Ie=!1){super(_,g,_e.delay),this.keyframes=b,this.preStyleProps=H,this.postStyleProps=ne,this._stretchStartingKeyframe=Ie,this.timings={duration:_e.duration,delay:_e.delay,easing:_e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:g,duration:b,easing:H}=this.timings;if(this._stretchStartingKeyframe&&g){const ne=[],_e=b+g,Ie=g/_e,Ze=tr(_[0]);Ze.set("offset",0),ne.push(Ze);const ft=tr(_[0]);ft.set("offset",yo(Ie)),ne.push(ft);const Vt=_.length-1;for(let $t=1;$t<=Vt;$t++){let On=tr(_[$t]);const tn=On.get("offset");On.set("offset",yo((g+tn*b)/_e)),ne.push(On)}b=_e,g=0,H="",_=ne}return po(this.element,_,this.preStyleProps,this.postStyleProps,b,g,H,!0)}}function yo(y,_=3){const g=Math.pow(10,_-1);return Math.round(y*g)/g}class Mr{}const Bo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vi extends Mr{normalizePropertyName(_,g){return Ge(_)}normalizeStyleValue(_,g,b,H){let ne="";const _e=b.toString().trim();if(Bo.has(g)&&0!==b&&"0"!==b)if("number"==typeof b)ne="px";else{const Ie=b.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&H.push(function ct(y,_){return new I.vHH(3005,!1)}())}return _e+ne}}function so(y,_,g,b,H,ne,_e,Ie,Ze,ft,Vt,$t,On){return{type:0,element:y,triggerName:_,isRemovalTransition:H,fromState:g,fromStyles:ne,toState:b,toStyles:_e,timelines:Ie,queriedElements:Ze,preStyleProps:ft,postStyleProps:Vt,totalTime:$t,errors:On}}const as={};class Hr{constructor(_,g,b){this._triggerName=_,this.ast=g,this._stateStyles=b}match(_,g,b,H){return function jo(y,_,g,b,H){return y.some(ne=>ne(_,g,b,H))}(this.ast.matchers,_,g,b,H)}buildStyles(_,g,b){let H=this._stateStyles.get("*");return void 0!==_&&(H=this._stateStyles.get(_?.toString())||H),H?H.buildStyles(g,b):new Map}build(_,g,b,H,ne,_e,Ie,Ze,ft,Vt){const $t=[],On=this.ast.options&&this.ast.options.params||as,Ut=this.buildStyles(b,Ie&&Ie.params||as,$t),Sn=Ze&&Ze.params||as,gr=this.buildStyles(H,Sn,$t),Nr=new Set,Ls=new Map,Wr=new Map,Ds="void"===H,Ca={params:Ei(Sn,On),delay:this.ast.options?.delay},Ia=Vt?[]:Ps(_,g,this.ast.animation,ne,_e,Ut,gr,Ca,ft,$t);let Ni=0;if(Ia.forEach(ka=>{Ni=Math.max(ka.duration+ka.delay,Ni)}),$t.length)return so(g,this._triggerName,b,H,Ds,Ut,gr,[],[],Ls,Wr,Ni,$t);Ia.forEach(ka=>{const Il=ka.element,uc=Ce(Ls,Il,new Set);ka.preStyleProps.forEach(Do=>uc.add(Do));const Jn=Ce(Wr,Il,new Set);ka.postStyleProps.forEach(Do=>Jn.add(Do)),Il!==g&&Nr.add(Il)});const Ya=Ee(Nr.values());return so(g,this._triggerName,b,H,Ds,Ut,gr,Ia,Ya,Ls,Wr,Ni)}}function Ei(y,_){const g=bn(_);for(const b in y)y.hasOwnProperty(b)&&null!=y[b]&&(g[b]=y[b]);return g}class ls{constructor(_,g,b){this.styles=_,this.defaultParams=g,this.normalizer=b}buildStyles(_,g){const b=new Map,H=bn(this.defaultParams);return Object.keys(_).forEach(ne=>{const _e=_[ne];null!==_e&&(H[ne]=_e)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((_e,Ie)=>{_e&&(_e=Is(_e,H,g));const Ze=this.normalizer.normalizePropertyName(Ie,g);_e=this.normalizer.normalizeStyleValue(Ie,Ze,_e,g),b.set(Ie,_e)})}),b}}class wr{constructor(_,g,b){this.name=_,this.ast=g,this._normalizer=b,this.transitionFactories=[],this.states=new Map,g.states.forEach(H=>{this.states.set(H.name,new ls(H.style,H.options&&H.options.params||{},b))}),bo(this.states,"true","1"),bo(this.states,"false","0"),g.transitions.forEach(H=>{this.transitionFactories.push(new Hr(_,H,this.states))}),this.fallbackTransition=function qi(y,_,g){return new Hr(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_e,Ie)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,g,b,H){return this.transitionFactories.find(_e=>_e.match(_,g,b,H))||null}matchStyles(_,g,b){return this.fallbackTransition.buildStyles(_,g,b)}}function bo(y,_,g){y.has(_)?y.has(g)||y.set(g,y.get(_)):y.has(g)&&y.set(_,y.get(g))}const Rs=new Yi;class qa{constructor(_,g,b){this.bodyNode=_,this._driver=g,this._normalizer=b,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,g){const b=[],H=[],ne=Hn(this._driver,g,b,H);if(b.length)throw function Yn(y){return new I.vHH(3503,!1)}();this._animations.set(_,ne)}_buildPlayer(_,g,b){const H=_.element,ne=xe(0,this._normalizer,0,_.keyframes,g,b);return this._driver.animate(H,ne,_.duration,_.delay,_.easing,[],!0)}create(_,g,b={}){const H=[],ne=this._animations.get(_);let _e;const Ie=new Map;if(ne?(_e=Ps(this._driver,g,ne,cn,dr,new Map,new Map,b,Rs,H),_e.forEach(Vt=>{const $t=Ce(Ie,Vt.element,new Map);Vt.postStyleProps.forEach(On=>$t.set(On,null))})):(H.push(function yi(){return new I.vHH(3300,!1)}()),_e=[]),H.length)throw function Ur(y){return new I.vHH(3504,!1)}();Ie.forEach((Vt,$t)=>{Vt.forEach((On,tn)=>{Vt.set(tn,this._driver.computeStyle($t,tn,Z.l3))})});const ft=Se(_e.map(Vt=>{const $t=Ie.get(Vt.element);return this._buildPlayer(Vt,new Map,$t)}));return this._playersById.set(_,ft),ft.onDestroy(()=>this.destroy(_)),this.players.push(ft),ft}destroy(_){const g=this._getPlayer(_);g.destroy(),this._playersById.delete(_);const b=this.players.indexOf(g);b>=0&&this.players.splice(b,1)}_getPlayer(_){const g=this._playersById.get(_);if(!g)throw function gi(y){return new I.vHH(3301,!1)}();return g}listen(_,g,b,H){const ne=ve(g,"","","");return Pt(this._getPlayer(_),b,ne,H),()=>{}}command(_,g,b,H){if("register"==b)return void this.register(_,H[0]);if("create"==b)return void this.create(_,g,H[0]||{});const ne=this._getPlayer(_);switch(b){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(_)}}}const Ks="ng-animate-queued",Ao="ng-animate-disabled",$=[],k={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},et="__ng_removed";class on{get params(){return this.options.params}constructor(_,g=""){this.namespaceId=g;const b=_&&_.hasOwnProperty("value");if(this.value=function ja(y){return y??null}(b?_.value:_),b){const ne=bn(_);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const g=_.params;if(g){const b=this.options.params;Object.keys(g).forEach(H=>{null==b[H]&&(b[H]=g[H])})}}}const $r="void",mt=new on($r);class lr{constructor(_,g,b){this.id=_,this.hostElement=g,this._engine=b,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Ui(g,this._hostClassName)}listen(_,g,b,H){if(!this._triggers.has(g))throw function Vr(y,_){return new I.vHH(3302,!1)}();if(null==b||0==b.length)throw function di(y){return new I.vHH(3303,!1)}();if(!function Vs(y){return"start"==y||"done"==y}(b))throw function _r(y,_){return new I.vHH(3400,!1)}();const ne=Ce(this._elementListeners,_,[]),_e={name:g,phase:b,callback:H};ne.push(_e);const Ie=Ce(this._engine.statesByElement,_,new Map);return Ie.has(g)||(Ui(_,nr),Ui(_,nr+"-"+g),Ie.set(g,mt)),()=>{this._engine.afterFlush(()=>{const Ze=ne.indexOf(_e);Ze>=0&&ne.splice(Ze,1),this._triggers.has(g)||Ie.delete(g)})}}register(_,g){return!this._triggers.has(_)&&(this._triggers.set(_,g),!0)}_getTrigger(_){const g=this._triggers.get(_);if(!g)throw function Fi(y){return new I.vHH(3401,!1)}();return g}trigger(_,g,b,H=!0){const ne=this._getTrigger(g),_e=new Ml(this.id,g,_);let Ie=this._engine.statesByElement.get(_);Ie||(Ui(_,nr),Ui(_,nr+"-"+g),this._engine.statesByElement.set(_,Ie=new Map));let Ze=Ie.get(g);const ft=new on(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&Ze&&ft.absorbOptions(Ze.options),Ie.set(g,ft),Ze||(Ze=mt),ft.value!==$r&&Ze.value===ft.value){if(!function Ko(y,_){const g=Object.keys(y),b=Object.keys(_);if(g.length!=b.length)return!1;for(let H=0;H<g.length;H++){const ne=g[H];if(!_.hasOwnProperty(ne)||y[ne]!==_[ne])return!1}return!0}(Ze.params,ft.params)){const Sn=[],gr=ne.matchStyles(Ze.value,Ze.params,Sn),Nr=ne.matchStyles(ft.value,ft.params,Sn);Sn.length?this._engine.reportError(Sn):this._engine.afterFlush(()=>{_i(_,gr),oi(_,Nr)})}return}const On=Ce(this._engine.playersByElement,_,[]);On.forEach(Sn=>{Sn.namespaceId==this.id&&Sn.triggerName==g&&Sn.queued&&Sn.destroy()});let tn=ne.matchTransition(Ze.value,ft.value,_,ft.params),Ut=!1;if(!tn){if(!H)return;tn=ne.fallbackTransition,Ut=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:g,transition:tn,fromState:Ze,toState:ft,player:_e,isFallbackTransition:Ut}),Ut||(Ui(_,Ks),_e.onStart(()=>{Ki(_,Ks)})),_e.onDone(()=>{let Sn=this.players.indexOf(_e);Sn>=0&&this.players.splice(Sn,1);const gr=this._engine.playersByElement.get(_);if(gr){let Nr=gr.indexOf(_e);Nr>=0&&gr.splice(Nr,1)}}),this.players.push(_e),On.push(_e),_e}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(g=>g.delete(_)),this._elementListeners.forEach((g,b)=>{this._elementListeners.set(b,g.filter(H=>H.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const g=this._engine.playersByElement.get(_);g&&(g.forEach(b=>b.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,g){const b=this._engine.driver.query(_,ei,!0);b.forEach(H=>{if(H[et])return;const ne=this._engine.fetchNamespacesByElement(H);ne.size?ne.forEach(_e=>_e.triggerLeaveAnimation(H,g,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(_,g,b,H){const ne=this._engine.statesByElement.get(_),_e=new Map;if(ne){const Ie=[];if(ne.forEach((Ze,ft)=>{if(_e.set(ft,Ze.value),this._triggers.has(ft)){const Vt=this.trigger(_,ft,$r,H);Vt&&Ie.push(Vt)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,_,!0,g,_e),b&&Se(Ie).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const g=this._elementListeners.get(_),b=this._engine.statesByElement.get(_);if(g&&b){const H=new Set;g.forEach(ne=>{const _e=ne.name;if(H.has(_e))return;H.add(_e);const Ze=this._triggers.get(_e).fallbackTransition,ft=b.get(_e)||mt,Vt=new on($r),$t=new Ml(this.id,_e,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:_e,transition:Ze,fromState:ft,toState:Vt,player:$t,isFallbackTransition:!0})})}}removeNode(_,g){const b=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,g),this.triggerLeaveAnimation(_,g,!0))return;let H=!1;if(b.totalAnimations){const ne=b.players.length?b.playersByQueriedElement.get(_):[];if(ne&&ne.length)H=!0;else{let _e=_;for(;_e=_e.parentNode;)if(b.statesByElement.get(_e)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(_),H)b.markElementAsRemoved(this.id,_,!1,g);else{const ne=_[et];(!ne||ne===k)&&(b.afterFlush(()=>this.clearElementCache(_)),b.destroyInnerAnimations(_),b._onRemovalComplete(_,g))}}insertNode(_,g){Ui(_,this._hostClassName)}drainQueuedTransitions(_){const g=[];return this._queue.forEach(b=>{const H=b.player;if(H.destroyed)return;const ne=b.element,_e=this._elementListeners.get(ne);_e&&_e.forEach(Ie=>{if(Ie.name==b.triggerName){const Ze=ve(ne,b.triggerName,b.fromState.value,b.toState.value);Ze._data=_,Pt(b.player,Ie.phase,Ze,Ie.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):g.push(b)}),this._queue=[],g.sort((b,H)=>{const ne=b.transition.ast.depCount,_e=H.transition.ast.depCount;return 0==ne||0==_e?ne-_e:this._engine.driver.containsElement(b.element,H.element)?1:-1})}destroy(_){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let g=!1;return this._elementListeners.has(_)&&(g=!0),g=!!this._queue.find(b=>b.element===_)||g,g}}class Go{_onRemovalComplete(_,g){this.onRemovalComplete(_,g)}constructor(_,g,b){this.bodyNode=_,this.driver=g,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,ne)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(g=>{g.players.forEach(b=>{b.queued&&_.push(b)})}),_}createNamespace(_,g){const b=new lr(_,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(b,g):(this.newHostElements.set(g,b),this.collectEnterElement(g)),this._namespaceLookup[_]=b}_balanceNamespaceList(_,g){const b=this._namespaceList,H=this.namespacesByHostElement;if(b.length-1>=0){let _e=!1,Ie=this.driver.getParentElement(g);for(;Ie;){const Ze=H.get(Ie);if(Ze){const ft=b.indexOf(Ze);b.splice(ft+1,0,_),_e=!0;break}Ie=this.driver.getParentElement(Ie)}_e||b.unshift(_)}else b.push(_);return H.set(g,_),_}register(_,g){let b=this._namespaceLookup[_];return b||(b=this.createNamespace(_,g)),b}registerTrigger(_,g,b){let H=this._namespaceLookup[_];H&&H.register(g,b)&&this.totalAnimations++}destroy(_,g){if(!_)return;const b=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(b.hostElement),delete this._namespaceLookup[_];const H=this._namespaceList.indexOf(b);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>b.destroy(g))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const g=new Set,b=this.statesByElement.get(_);if(b)for(let H of b.values())if(H.namespaceId){const ne=this._fetchNamespace(H.namespaceId);ne&&g.add(ne)}return g}trigger(_,g,b,H){if(Oi(g)){const ne=this._fetchNamespace(_);if(ne)return ne.trigger(g,b,H),!0}return!1}insertNode(_,g,b,H){if(!Oi(g))return;const ne=g[et];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const _e=this.collectedLeaveElements.indexOf(g);_e>=0&&this.collectedLeaveElements.splice(_e,1)}if(_){const _e=this._fetchNamespace(_);_e&&_e.insertNode(g,b)}H&&this.collectEnterElement(g)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,g){g?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Ui(_,Ao)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Ki(_,Ao))}removeNode(_,g,b,H){if(Oi(g)){const ne=_?this._fetchNamespace(_):null;if(ne?ne.removeNode(g,H):this.markElementAsRemoved(_,g,!1,H),b){const _e=this.namespacesByHostElement.get(g);_e&&_e.id!==_&&_e.removeNode(g,H)}}else this._onRemovalComplete(g,H)}markElementAsRemoved(_,g,b,H,ne){this.collectedLeaveElements.push(g),g[et]={namespaceId:_,setForRemoval:H,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(_,g,b,H,ne){return Oi(g)?this._fetchNamespace(_).listen(g,b,H,ne):()=>{}}_buildInstruction(_,g,b,H,ne){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,b,H,_.fromState.options,_.toState.options,g,ne)}destroyInnerAnimations(_){let g=this.driver.query(_,ei,!0);g.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(_,bs,!0),g.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(_){const g=this.playersByElement.get(_);g&&g.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(_){const g=this.playersByQueriedElement.get(_);g&&g.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Se(this.players).onDone(()=>_());_()})}processLeaveNode(_){const g=_[et];if(g&&g.setForRemoval){if(_[et]=k,g.namespaceId){this.destroyInnerAnimations(_);const b=this._fetchNamespace(g.namespaceId);b&&b.clearElementCache(_)}this._onRemovalComplete(_,g.setForRemoval)}_.classList?.contains(Ao)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(_=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,H)=>this._balanceNamespaceList(b,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)Ui(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{g=this._flushAnimations(b,_)}finally{for(let H=0;H<b.length;H++)b[H]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],g.length?Se(g).onDone(()=>{b.forEach(H=>H())}):b.forEach(H=>H())}}reportError(_){throw function jn(y){return new I.vHH(3402,!1)}()}_flushAnimations(_,g){const b=new Yi,H=[],ne=new Map,_e=[],Ie=new Map,Ze=new Map,ft=new Map,Vt=new Set;this.disabledNodes.forEach(wn=>{Vt.add(wn);const Gn=this.driver.query(wn,".ng-animate-queued",!0);for(let qn=0;qn<Gn.length;qn++)Vt.add(Gn[qn])});const $t=this.bodyNode,On=Array.from(this.statesByElement.keys()),tn=zo(On,this.collectedEnterElements),Ut=new Map;let Sn=0;tn.forEach((wn,Gn)=>{const qn=cn+Sn++;Ut.set(Gn,qn),wn.forEach(ii=>Ui(ii,qn))});const gr=[],Nr=new Set,Ls=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const Gn=this.collectedLeaveElements[wn],qn=Gn[et];qn&&qn.setForRemoval&&(gr.push(Gn),Nr.add(Gn),qn.hasAnimation?this.driver.query(Gn,".ng-star-inserted",!0).forEach(ii=>Nr.add(ii)):Ls.add(Gn))}const Wr=new Map,Ds=zo(On,Array.from(Nr));Ds.forEach((wn,Gn)=>{const qn=dr+Sn++;Wr.set(Gn,qn),wn.forEach(ii=>Ui(ii,qn))}),_.push(()=>{tn.forEach((wn,Gn)=>{const qn=Ut.get(Gn);wn.forEach(ii=>Ki(ii,qn))}),Ds.forEach((wn,Gn)=>{const qn=Wr.get(Gn);wn.forEach(ii=>Ki(ii,qn))}),gr.forEach(wn=>{this.processLeaveNode(wn)})});const Ca=[],Ia=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(g).forEach(qn=>{const ii=qn.player,Fs=qn.element;if(Ca.push(ii),this.collectedEnterElements.length){const Io=Fs[et];if(Io&&Io.setForMove){if(Io.previousTriggersValues&&Io.previousTriggersValues.has(qn.triggerName)){const la=Io.previousTriggersValues.get(qn.triggerName),ua=this.statesByElement.get(qn.element);if(ua&&ua.has(qn.triggerName)){const mu=ua.get(qn.triggerName);mu.value=la,ua.set(qn.triggerName,mu)}}return void ii.destroy()}}const al=!$t||!this.driver.containsElement($t,Fs),Co=Wr.get(Fs),ll=Ut.get(Fs),ns=this._buildInstruction(qn,b,ll,Co,al);if(ns.errors&&ns.errors.length)return void Ia.push(ns);if(al)return ii.onStart(()=>_i(Fs,ns.fromStyles)),ii.onDestroy(()=>oi(Fs,ns.toStyles)),void H.push(ii);if(qn.isFallbackTransition)return ii.onStart(()=>_i(Fs,ns.fromStyles)),ii.onDestroy(()=>oi(Fs,ns.toStyles)),void H.push(ii);const Yu=[];ns.timelines.forEach(Io=>{Io.stretchStartingKeyframe=!0,this.disabledNodes.has(Io.element)||Yu.push(Io)}),ns.timelines=Yu,b.append(Fs,ns.timelines),_e.push({instruction:ns,player:ii,element:Fs}),ns.queriedElements.forEach(Io=>Ce(Ie,Io,[]).push(ii)),ns.preStyleProps.forEach((Io,la)=>{if(Io.size){let ua=Ze.get(la);ua||Ze.set(la,ua=new Set),Io.forEach((mu,Hi)=>ua.add(Hi))}}),ns.postStyleProps.forEach((Io,la)=>{let ua=ft.get(la);ua||ft.set(la,ua=new Set),Io.forEach((mu,Hi)=>ua.add(Hi))})});if(Ia.length){const wn=[];Ia.forEach(Gn=>{wn.push(function or(y,_){return new I.vHH(3505,!1)}())}),Ca.forEach(Gn=>Gn.destroy()),this.reportError(wn)}const Ni=new Map,Ya=new Map;_e.forEach(wn=>{const Gn=wn.element;b.has(Gn)&&(Ya.set(Gn,Gn),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,Ni))}),H.forEach(wn=>{const Gn=wn.element;this._getPreviousPlayers(Gn,!1,wn.namespaceId,wn.triggerName,null).forEach(ii=>{Ce(Ni,Gn,[]).push(ii),ii.destroy()})});const ka=gr.filter(wn=>gs(wn,Ze,ft)),Il=new Map;Wo(Il,this.driver,Ls,ft,Z.l3).forEach(wn=>{gs(wn,Ze,ft)&&ka.push(wn)});const Jn=new Map;tn.forEach((wn,Gn)=>{Wo(Jn,this.driver,new Set(wn),Ze,Z.k1)}),ka.forEach(wn=>{const Gn=Il.get(wn),qn=Jn.get(wn);Il.set(wn,new Map([...Array.from(Gn?.entries()??[]),...Array.from(qn?.entries()??[])]))});const Do=[],ol=[],$l={};_e.forEach(wn=>{const{element:Gn,player:qn,instruction:ii}=wn;if(b.has(Gn)){if(Vt.has(Gn))return qn.onDestroy(()=>oi(Gn,ii.toStyles)),qn.disabled=!0,qn.overrideTotalTime(ii.totalTime),void H.push(qn);let Fs=$l;if(Ya.size>1){let Co=Gn;const ll=[];for(;Co=Co.parentNode;){const ns=Ya.get(Co);if(ns){Fs=ns;break}ll.push(Co)}ll.forEach(ns=>Ya.set(ns,Fs))}const al=this._buildAnimation(qn.namespaceId,ii,Ni,ne,Jn,Il);if(qn.setRealPlayer(al),Fs===$l)Do.push(qn);else{const Co=this.playersByElement.get(Fs);Co&&Co.length&&(qn.parentPlayer=Se(Co)),H.push(qn)}}else _i(Gn,ii.fromStyles),qn.onDestroy(()=>oi(Gn,ii.toStyles)),ol.push(qn),Vt.has(Gn)&&H.push(qn)}),ol.forEach(wn=>{const Gn=ne.get(wn.element);if(Gn&&Gn.length){const qn=Se(Gn);wn.setRealPlayer(qn)}}),H.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<gr.length;wn++){const Gn=gr[wn],qn=Gn[et];if(Ki(Gn,dr),qn&&qn.hasAnimation)continue;let ii=[];if(Ie.size){let al=Ie.get(Gn);al&&al.length&&ii.push(...al);let Co=this.driver.query(Gn,bs,!0);for(let ll=0;ll<Co.length;ll++){let ns=Ie.get(Co[ll]);ns&&ns.length&&ii.push(...ns)}}const Fs=ii.filter(al=>!al.destroyed);Fs.length?Ri(this,Gn,Fs):this.processLeaveNode(Gn)}return gr.length=0,Do.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const Gn=this.players.indexOf(wn);this.players.splice(Gn,1)}),wn.play()}),Do}elementContainsData(_,g){let b=!1;const H=g[et];return H&&H.setForRemoval&&(b=!0),this.playersByElement.has(g)&&(b=!0),this.playersByQueriedElement.has(g)&&(b=!0),this.statesByElement.has(g)&&(b=!0),this._fetchNamespace(_).elementContainsData(g)||b}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,g,b,H,ne){let _e=[];if(g){const Ie=this.playersByQueriedElement.get(_);Ie&&(_e=Ie)}else{const Ie=this.playersByElement.get(_);if(Ie){const Ze=!ne||ne==$r;Ie.forEach(ft=>{ft.queued||!Ze&&ft.triggerName!=H||_e.push(ft)})}}return(b||H)&&(_e=_e.filter(Ie=>!(b&&b!=Ie.namespaceId||H&&H!=Ie.triggerName))),_e}_beforeAnimationBuild(_,g,b){const ne=g.element,_e=g.isRemovalTransition?void 0:_,Ie=g.isRemovalTransition?void 0:g.triggerName;for(const Ze of g.timelines){const ft=Ze.element,Vt=ft!==ne,$t=Ce(b,ft,[]);this._getPreviousPlayers(ft,Vt,_e,Ie,g.toState).forEach(tn=>{const Ut=tn.getRealPlayer();Ut.beforeDestroy&&Ut.beforeDestroy(),tn.destroy(),$t.push(tn)})}_i(ne,g.fromStyles)}_buildAnimation(_,g,b,H,ne,_e){const Ie=g.triggerName,Ze=g.element,ft=[],Vt=new Set,$t=new Set,On=g.timelines.map(Ut=>{const Sn=Ut.element;Vt.add(Sn);const gr=Sn[et];if(gr&&gr.removedBeforeQueried)return new Z.ZN(Ut.duration,Ut.delay);const Nr=Sn!==Ze,Ls=function ai(y){const _=[];return ma(y,_),_}((b.get(Sn)||$).map(Ni=>Ni.getRealPlayer())).filter(Ni=>!!Ni.element&&Ni.element===Sn),Wr=ne.get(Sn),Ds=_e.get(Sn),Ca=xe(0,this._normalizer,0,Ut.keyframes,Wr,Ds),Ia=this._buildPlayer(Ut,Ca,Ls);if(Ut.subTimeline&&H&&$t.add(Sn),Nr){const Ni=new Ml(_,Ie,Sn);Ni.setRealPlayer(Ia),ft.push(Ni)}return Ia});ft.forEach(Ut=>{Ce(this.playersByQueriedElement,Ut.element,[]).push(Ut),Ut.onDone(()=>function zi(y,_,g){let b=y.get(_);if(b){if(b.length){const H=b.indexOf(g);b.splice(H,1)}0==b.length&&y.delete(_)}return b}(this.playersByQueriedElement,Ut.element,Ut))}),Vt.forEach(Ut=>Ui(Ut,ti));const tn=Se(On);return tn.onDestroy(()=>{Vt.forEach(Ut=>Ki(Ut,ti)),oi(Ze,g.toStyles)}),$t.forEach(Ut=>{Ce(H,Ut,[]).push(tn)}),tn}_buildPlayer(_,g,b){return g.length>0?this.driver.animate(_.element,g,_.duration,_.delay,_.easing,b):new Z.ZN(_.duration,_.delay)}}class Ml{constructor(_,g,b){this.namespaceId=_,this.triggerName=g,this.element=b,this._player=new Z.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((g,b)=>{g.forEach(H=>Pt(_,b,void 0,H))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const g=this._player;g.triggerCallback&&_.onStart(()=>g.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,g){Ce(this._queuedCallbacks,_,[]).push(g)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const g=this._player;g.triggerCallback&&g.triggerCallback(_)}}function Oi(y){return y&&1===y.nodeType}function Mo(y,_){const g=y.style.display;return y.style.display=_??"none",g}function Wo(y,_,g,b,H){const ne=[];g.forEach(Ze=>ne.push(Mo(Ze)));const _e=[];b.forEach((Ze,ft)=>{const Vt=new Map;Ze.forEach($t=>{const On=_.computeStyle(ft,$t,H);Vt.set($t,On),(!On||0==On.length)&&(ft[et]=ce,_e.push(ft))}),y.set(ft,Vt)});let Ie=0;return g.forEach(Ze=>Mo(Ze,ne[Ie++])),_e}function zo(y,_){const g=new Map;if(y.forEach(Ie=>g.set(Ie,[])),0==_.length)return g;const b=1,H=new Set(_),ne=new Map;function _e(Ie){if(!Ie)return b;let Ze=ne.get(Ie);if(Ze)return Ze;const ft=Ie.parentNode;return Ze=g.has(ft)?ft:H.has(ft)?b:_e(ft),ne.set(Ie,Ze),Ze}return _.forEach(Ie=>{const Ze=_e(Ie);Ze!==b&&g.get(Ze).push(Ie)}),g}function Ui(y,_){y.classList?.add(_)}function Ki(y,_){y.classList?.remove(_)}function Ri(y,_,g){Se(g).onDone(()=>y.processLeaveNode(_))}function ma(y,_){for(let g=0;g<y.length;g++){const b=y[g];b instanceof Z.ZE?ma(b.players,_):_.push(b)}}function gs(y,_,g){const b=g.get(y);if(!b)return!1;let H=_.get(y);return H?b.forEach(ne=>H.add(ne)):_.set(y,b),g.delete(y),!0}class Sa{constructor(_,g,b){this.bodyNode=_,this._driver=g,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(H,ne)=>{},this._transitionEngine=new Go(_,g,b),this._timelineEngine=new qa(_,g,b),this._transitionEngine.onRemovalComplete=(H,ne)=>this.onRemovalComplete(H,ne)}registerTrigger(_,g,b,H,ne){const _e=_+"-"+H;let Ie=this._triggerCache[_e];if(!Ie){const Ze=[],ft=[],Vt=Hn(this._driver,ne,Ze,ft);if(Ze.length)throw function un(y,_){return new I.vHH(3404,!1)}();Ie=function Ho(y,_,g){return new wr(y,_,g)}(H,Vt,this._normalizer),this._triggerCache[_e]=Ie}this._transitionEngine.registerTrigger(g,H,Ie)}register(_,g){this._transitionEngine.register(_,g)}destroy(_,g){this._transitionEngine.destroy(_,g)}onInsert(_,g,b,H){this._transitionEngine.insertNode(_,g,b,H)}onRemove(_,g,b,H){this._transitionEngine.removeNode(_,g,H||!1,b)}disableAnimations(_,g){this._transitionEngine.markElementAsDisabled(_,g)}process(_,g,b,H){if("@"==b.charAt(0)){const[ne,_e]=st(b);this._timelineEngine.command(ne,g,_e,H)}else this._transitionEngine.trigger(_,g,b,H)}listen(_,g,b,H,ne){if("@"==b.charAt(0)){const[_e,Ie]=st(b);return this._timelineEngine.listen(_e,g,Ie,ne)}return this._transitionEngine.listen(_,g,b,H,ne)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vi=(()=>{class y{constructor(g,b,H){this._element=g,this._startStyles=b,this._endStyles=H,this._state=0;let ne=y.initialStylesByElement.get(g);ne||y.initialStylesByElement.set(g,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(_i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_i(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return y.initialStylesByElement=new WeakMap,y})();function _o(y){let _=null;return y.forEach((g,b)=>{(function oo(y){return"display"===y||"position"===y})(b)&&(_=_||new Map,_.set(b,g))}),_}class Zi{constructor(_,g,b,H){this.element=_,this.keyframes=g,this.options=b,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const g=[];return _.forEach(b=>{g.push(Object.fromEntries(b))}),g}_triggerWebAnimation(_,g,b){return _.animate(this._convertKeyframesToObject(g),b)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,H)=>{"offset"!==H&&_.set(H,this._finished?b:hr(this.element,H))}),this.currentSnapshot=_}triggerCallback(_){const g="start"===_?this._onStartFns:this._onDoneFns;g.forEach(b=>b()),g.length=0}}class Qo{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,g){return!1}containsElement(_,g){return Dr(_,g)}getParentElement(_){return Oe(_)}query(_,g,b){return Ti(_,g,b)}computeStyle(_,g,b){return window.getComputedStyle(_)[g]}animate(_,g,b,H,ne,_e=[]){const Ze={duration:b,delay:H,fill:0==H?"both":"forwards"};ne&&(Ze.easing=ne);const ft=new Map,Vt=_e.filter(tn=>tn instanceof Zi);(function Ht(y,_){return 0===y||0===_})(b,H)&&Vt.forEach(tn=>{tn.currentSnapshot.forEach((Ut,Sn)=>ft.set(Sn,Ut))});let $t=function An(y){return y.length?y[0]instanceof Map?y:y.map(_=>pn(_)):[]}(g).map(tn=>tr(tn));$t=function zt(y,_,g){if(g.size&&_.length){let b=_[0],H=[];if(g.forEach((ne,_e)=>{b.has(_e)||H.push(_e),b.set(_e,ne)}),H.length)for(let ne=1;ne<_.length;ne++){let _e=_[ne];H.forEach(Ie=>_e.set(Ie,hr(y,Ie)))}}return _}(_,$t,ft);const On=function Yo(y,_){let g=null,b=null;return Array.isArray(_)&&_.length?(g=_o(_[0]),_.length>1&&(b=_o(_[_.length-1]))):_ instanceof Map&&(g=_o(_)),g||b?new Vi(y,g,b):null}(_,$t);return new Zi(_,$t,Ze,On)}}let Za=(()=>{class y extends Z._j{constructor(g,b){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(b.body,{id:"0",encapsulation:I.ifc.None,styles:[],data:{animation:[]}})}build(g){const b=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(g)?(0,Z.vP)(g):g;return Bs(this._renderer,null,b,"register",[H]),new Pl(b,this._renderer)}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(I.FYo),I.LFG(fe.K0))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac}),y})();class Pl extends Z.LC{constructor(_,g){super(),this._id=_,this._renderer=g}create(_,g){return new li(this._id,_,g||{},this._renderer)}}class li{constructor(_,g,b,H){this.id=_,this.element=g,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(_,g){return this._renderer.listen(this.element,`@@${this.id}:${_}`,g)}_command(_,...g){return Bs(this._renderer,this.element,this.id,_,g)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Bs(y,_,g,b,H){return y.setProperty(_,`@@${g}:${b}`,H)}const Ha="@.disabled";let $a=(()=>{class y{constructor(g,b,H){this.delegate=g,this.engine=b,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),b.onRemovalComplete=(ne,_e)=>{const Ie=_e?.parentNode(ne);Ie&&_e.removeChild(Ie,ne)}}createRenderer(g,b){const ne=this.delegate.createRenderer(g,b);if(!(g&&b&&b.data&&b.data.animation)){let Vt=this._rendererCache.get(ne);return Vt||(Vt=new Xa("",ne,this.engine,()=>this._rendererCache.delete(ne)),this._rendererCache.set(ne,Vt)),Vt}const _e=b.id,Ie=b.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,g);const Ze=Vt=>{Array.isArray(Vt)?Vt.forEach(Ze):this.engine.registerTrigger(_e,Ie,g,Vt.name,Vt)};return b.data.animation.forEach(Ze),new Zo(this,Ie,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,b,H){g>=0&&g<this._microtaskId?this._zone.run(()=>b(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[_e,Ie]=ne;_e(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(I.FYo),I.LFG(Sa),I.LFG(I.R0b))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac}),y})();class Xa{constructor(_,g,b,H){this.namespaceId=_,this.delegate=g,this.engine=b,this._onDestroy=H,this.destroyNode=this.delegate.destroyNode?ne=>g.destroyNode(ne):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,g){return this.delegate.createElement(_,g)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,g){this.delegate.appendChild(_,g),this.engine.onInsert(this.namespaceId,g,_,!1)}insertBefore(_,g,b,H=!0){this.delegate.insertBefore(_,g,b),this.engine.onInsert(this.namespaceId,g,_,H)}removeChild(_,g,b){this.engine.onRemove(this.namespaceId,g,this.delegate,b)}selectRootElement(_,g){return this.delegate.selectRootElement(_,g)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,g,b,H){this.delegate.setAttribute(_,g,b,H)}removeAttribute(_,g,b){this.delegate.removeAttribute(_,g,b)}addClass(_,g){this.delegate.addClass(_,g)}removeClass(_,g){this.delegate.removeClass(_,g)}setStyle(_,g,b,H){this.delegate.setStyle(_,g,b,H)}removeStyle(_,g,b){this.delegate.removeStyle(_,g,b)}setProperty(_,g,b){"@"==g.charAt(0)&&g==Ha?this.disableAnimations(_,!!b):this.delegate.setProperty(_,g,b)}setValue(_,g){this.delegate.setValue(_,g)}listen(_,g,b){return this.delegate.listen(_,g,b)}disableAnimations(_,g){this.engine.disableAnimations(_,g)}}class Zo extends Xa{constructor(_,g,b,H,ne){super(g,b,H,ne),this.factory=_,this.namespaceId=g}setProperty(_,g,b){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Ha?this.disableAnimations(_,b=void 0===b||!!b):this.engine.process(this.namespaceId,_,g.slice(1),b):this.delegate.setProperty(_,g,b)}listen(_,g,b){if("@"==g.charAt(0)){const H=function Xi(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(_);let ne=g.slice(1),_e="";return"@"!=ne.charAt(0)&&([ne,_e]=function Ys(y){const _=y.indexOf(".");return[y.substring(0,_),y.slice(_+1)]}(ne)),this.engine.listen(this.namespaceId,H,ne,_e,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,b,Ie)})}return this.delegate.listen(_,g,b)}}let Di=(()=>{class y extends Sa{constructor(g,b,H,ne){super(g.body,b,H)}ngOnDestroy(){this.flush()}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(fe.K0),I.LFG(xt),I.LFG(Mr),I.LFG(I.z2F))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac}),y})();const Ft=[{provide:Z._j,useClass:Za},{provide:Mr,useFactory:function ms(){return new vi}},{provide:Sa,useClass:Di},{provide:I.FYo,useFactory:function Qr(y,_,g){return new $a(y,_,g)},deps:[f.se,Sa,I.R0b]}],Ai=[{provide:xt,useFactory:()=>new Qo},{provide:I.QbO,useValue:"BrowserAnimations"},...Ft],Xo=[{provide:xt,useClass:tt},{provide:I.QbO,useValue:"NoopAnimations"},...Ft];let Ol=(()=>{class y{static withConfig(g){return{ngModule:y,providers:g.disableAnimations?Xo:Ai}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({providers:Ai,imports:[f.b2]}),y})(),Jt=(()=>{class y{constructor(g){this.router=g,this.loadCount=0,this.loadState=new Ct.X(!1),this.router.events.subscribe(b=>{this.navigationInterceptor(b)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(g){g instanceof B.OD&&this.showLoader(),g instanceof B.m2&&this.hideLoader(),g instanceof B.gk&&this.hideLoader(),g instanceof B.Q3&&this.hideLoader()}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(B.F0))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),dt=(()=>{class y{constructor(g){this.loaderService=g}intercept(g,b){return this.loaderService.showLoader(),b.handle(g).pipe((0,Xe.b)(H=>{H instanceof Re.Zn&&this.loaderService.hideLoader()},H=>{this.loaderService.hideLoader()}))}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(Jt))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();const P={provide:Re.TP,useClass:dt,multi:!0};var Q=D(9770),V=D(4968),le=D(7272),we=D(7579),ht=D(9751),Et=D(5032);const nn=new ht.y(Et.Z);var Rr=D(6451),Wn=D(9300),fr=D(8646),$n=D(5698),sn=D(4086);const Fr="Service workers are disabled or not supported by this browser";class pr{constructor(_){if(this.serviceWorker=_,_){const b=(0,V.R)(_,"controllerchange").pipe((0,_t.U)(()=>_.controller)),H=(0,Q.P)(()=>(0,Tt.of)(_.controller)),ne=(0,le.z)(H,b);this.worker=ne.pipe((0,Wn.h)(Vt=>!!Vt)),this.registration=this.worker.pipe((0,Mt.w)(()=>_.getRegistration()));const ft=(0,V.R)(_,"message").pipe((0,_t.U)(Vt=>Vt.data)).pipe((0,Wn.h)(Vt=>Vt&&Vt.type)).pipe((0,fr.n)());ft.connect(),this.events=ft}else this.worker=this.events=this.registration=function ao(y){return(0,Q.P)(()=>(0,Qe._)(new Error(y)))}(Fr)}postMessage(_,g){return this.worker.pipe((0,$n.q)(1),(0,Xe.b)(b=>{b.postMessage({action:_,...g})})).toPromise().then(()=>{})}postMessageWithOperation(_,g,b){const H=this.waitForOperationCompleted(b),ne=this.postMessage(_,g);return Promise.all([ne,H]).then(([,_e])=>_e)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(_){let g;return g="string"==typeof _?b=>b.type===_:b=>_.includes(b.type),this.events.pipe((0,Wn.h)(g))}nextEventOfType(_){return this.eventsOfType(_).pipe((0,$n.q)(1))}waitForOperationCompleted(_){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Wn.h)(g=>g.nonce===_),(0,$n.q)(1),(0,_t.U)(g=>{if(void 0!==g.result)return g.result;throw new Error(g.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let yn=(()=>{class y{get isEnabled(){return this.sw.isEnabled}constructor(g){if(this.sw=g,this.pushManager=null,this.subscriptionChanges=new we.x,!g.isEnabled)return this.messages=nn,this.notificationClicks=nn,void(this.subscription=nn);this.messages=this.sw.eventsOfType("PUSH").pipe((0,_t.U)(H=>H.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,_t.U)(H=>H.data)),this.pushManager=this.sw.registration.pipe((0,_t.U)(H=>H.pushManager));const b=this.pushManager.pipe((0,Mt.w)(H=>H.getSubscription()));this.subscription=(0,Rr.T)(b,this.subscriptionChanges)}requestSubscription(g){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Fr));const b={userVisibleOnly:!0};let H=this.decodeBase64(g.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),ne=new Uint8Array(new ArrayBuffer(H.length));for(let _e=0;_e<H.length;_e++)ne[_e]=H.charCodeAt(_e);return b.applicationServerKey=ne,this.pushManager.pipe((0,Mt.w)(_e=>_e.subscribe(b)),(0,$n.q)(1)).toPromise().then(_e=>(this.subscriptionChanges.next(_e),_e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,$n.q)(1),(0,Mt.w)(b=>{if(null===b)throw new Error("Not subscribed to push notifications.");return b.unsubscribe().then(H=>{if(!H)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Fr))}decodeBase64(g){return atob(g)}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(pr))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac}),y})(),Ji=(()=>{class y{get isEnabled(){return this.sw.isEnabled}constructor(g){if(this.sw=g,!g.isEnabled)return this.versionUpdates=nn,this.available=nn,this.activated=nn,void(this.unrecoverable=nn);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Wn.h)(b=>"VERSION_READY"===b.type),(0,_t.U)(b=>({type:"UPDATE_AVAILABLE",current:b.currentVersion,available:b.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fr));const g=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:g},g)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fr));const g=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:g},g)}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(pr))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac}),y})();class Vn{}const Jo=new I.OlP("NGSW_REGISTER_SCRIPT");function xr(y,_,g,b){return()=>{if(!(0,fe.NF)(b)||!("serviceWorker"in navigator)||!1===g.enabled)return;let H;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof g.registrationStrategy)H=g.registrationStrategy();else{const[_e,...Ie]=(g.registrationStrategy||"registerWhenStable:30000").split(":");switch(_e){case"registerImmediately":H=(0,Tt.of)(null);break;case"registerWithDelay":H=Yt(+Ie[0]||0);break;case"registerWhenStable":H=Ie[0]?(0,Rr.T)(lo(y),Yt(+Ie[0])):lo(y);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${g.registrationStrategy}`)}}y.get(I.R0b).runOutsideAngular(()=>H.pipe((0,$n.q)(1)).subscribe(()=>navigator.serviceWorker.register(_,{scope:g.scope}).catch(_e=>console.error("Service worker registration failed with:",_e))))}}function Yt(y){return(0,Tt.of)(null).pipe((0,sn.g)(y))}function lo(y){return y.get(I.z2F).isStable.pipe((0,Wn.h)(g=>g))}function ba(y,_){return new pr((0,fe.NF)(_)&&!1!==y.enabled?navigator.serviceWorker:void 0)}let ea=(()=>{class y{static register(g,b={}){return{ngModule:y,providers:[{provide:Jo,useValue:g},{provide:Vn,useValue:b},{provide:pr,useFactory:ba,deps:[Vn,I.Lbi]},{provide:I.ip1,useFactory:xr,deps:[I.zs3,Jo,Vn,I.Lbi],multi:!0}]}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({providers:[yn,Ji]}),y})();var ya=D(2340);let ys=(()=>{class y{constructor(g){this.injector=g}handleError(g){const b=this.injector.get(fn.g);this.injector.get(B.F0),g instanceof Re.UA?(navigator.onLine||b.notify("No Internet Connection"),b.notify(`${g.status} - ${g.message}`)):b.notify(g),console.error(g)}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(I.zs3))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();function uo(y,_){if(1&y&&(I.TgZ(0,"div")(1,"h1"),I._uU(2),I.qZA(),I.TgZ(3,"a",2)(4,"h5"),I._uU(5,"Go to Home"),I.qZA()()()),2&y){const g=I.oxw();I.xp6(2),I.hij("ERROR ",null==g.routeParams?null:g.routeParams.error,""),I.xp6(1),I.Q6J("routerLink","/")}}const Aa=[{path:"error",component:(()=>{class y{constructor(g){this.activatedRoute=g}ngOnInit(){this.routeParams=this.activatedRoute.snapshot.queryParams}static#e=this.\u0275fac=function(b){return new(b||y)(I.Y36(B.gz))};static#t=this.\u0275cmp=I.Xpm({type:y,selectors:[["app-errors"]],decls:2,vars:1,consts:[[1,"error-container"],[4,"ngIf"],[3,"routerLink"]],template:function(b,H){1&b&&(I.TgZ(0,"div",0),I.YNc(1,uo,6,2,"div",1),I.qZA()),2&b&&(I.xp6(1),I.Q6J("ngIf",null==H.routeParams?null:H.routeParams.error))},dependencies:[fe.O5,B.rH],styles:[".error-container[_ngcontent-%COMP%]{width:220px;margin:50% auto 0;transform:translateY(-50%);text-align:center}"]})}return y})()}];let cl=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({imports:[B.Bz.forChild(Aa),B.Bz]})}return y})();var js=D(5625);const su={provide:Re.TP,useClass:class Rl{intercept(_,g){return g.handle(_).pipe((0,js.X)(0),(0,at.K)(this.handleError))}handleError(_){let g="";return g=_.error instanceof ErrorEvent?`Error: ${_.error.message}`:`Error Code: ${_.status}\\nMessage: ${_.message}`,(0,Qe._)(_)}},multi:!0};let ou=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[{provide:I.qLn,useClass:ys},su],imports:[fe.ez,cl]})}return y})();var Po=D(4466);let Ja=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[P],imports:[fe.ez]})}return y})();var it=D(9884);const Ma={todos:[]},Ts=(y=Ma,_)=>{switch(_.type){case"ADD":return{todos:[...y.todos,{index:y.todos.length,text:_.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:y.todos.map((g,b)=>b===_.index?{...g,done:!g.done}:g)};case"REMOVE":return{todos:y.todos.splice(y.todos.findIndex(g=>g.index===_.index),1)};case"SAVED":return{todos:y.todos.map((g,b)=>b===_.index?{...g,saved:!0}:g)};default:return y}};var xl=D(457),es=D(5577),_s=D(9468);let dl=(()=>{class y{constructor(){this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const g=this.getLastActiveFromLocalStorage()??new Date;this.lastActive=new Ct.X(g),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,xl.D)(this.events).pipe((0,es.z)(g=>(0,V.R)(document,g)),(0,_s.p)(this.recordTimeoutMs)).subscribe(g=>this.recordLastActiveDate()),(0,V.R)(window,"storage").pipe((0,Wn.h)(g=>g.storageArea===localStorage&&g.key===this.localStorageKey&&!!g.newValue),(0,_t.U)(g=>new Date(g.newValue))).subscribe(g=>this.lastActive.next(g))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var g=new Date;localStorage.setItem(this.localStorageKey,g.toString()),this.lastActive.next(g)}getLastActiveFromLocalStorage(){const g=localStorage.getItem(this.localStorageKey);return g?new Date(g):null}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Oo={provide:I.ip1,multi:!0,deps:[dl],useFactory:y=>()=>y.setUp()};let el=1;class Ql{constructor(){this.userName="Philip Marlowe"}}let hl=(()=>{class y{constructor(g){this.id=el++,this._userName="Sherlock Holmes",g&&(this._userName=g.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(Ql,8))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})(),Ga=(()=>{class y{constructor(g){if(g)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(g){return{ngModule:y,providers:[{provide:Ql,useValue:g}]}}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(y,12))};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[hl],imports:[fe.ez]})}return y})();var xs=D(4440),Ns=D(8555),Ro=D(7369),Qs=D(3550);let qs=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[Qs.T],imports:[Ns.Aw.forFeature(Ro.UN,Ro.Jl)]})}return y})();var na=D(2852),vo=D(8502),Pa=D(515),_a=D(576);class Ci{constructor(_,g,b){this.kind=_,this.value=g,this.error=b,this.hasValue="N"===_}observe(_){return Xr(this,_)}do(_,g,b){const{kind:H,value:ne,error:_e}=this;return"N"===H?_?.(ne):"E"===H?g?.(_e):b?.()}accept(_,g,b){var H;return(0,_a.m)(null===(H=_)||void 0===H?void 0:H.next)?this.observe(_):this.do(_,g,b)}toObservable(){const{kind:_,value:g,error:b}=this,H="N"===_?(0,Tt.of)(g):"E"===_?(0,Qe._)(()=>b):"C"===_?Pa.E:0;if(!H)throw new TypeError(`Unexpected notification kind ${_}`);return H}static createNext(_){return new Ci("N",_)}static createError(_){return new Ci("E",void 0,_)}static createComplete(){return Ci.completeNotification}}function Xr(y,_){var g,b,H;const{kind:ne,value:_e,error:Ie}=y;if("string"!=typeof ne)throw new TypeError('Invalid notification, missing "kind"');"N"===ne?null===(g=_.next)||void 0===g||g.call(_,_e):"E"===ne?null===(b=_.error)||void 0===b||b.call(_,Ie):null===(H=_.complete)||void 0===H||H.call(_)}Ci.completeNotification=new Ci("C");var va=D(4482),ui=D(5403),xo=D(8421);function Oa(y,_,g,b){return(0,va.e)((H,ne)=>{let _e;_&&"function"!=typeof _?({duration:g,element:_e,connector:b}=_):_e=_;const Ie=new Map,Ze=On=>{Ie.forEach(On),On(ne)},ft=On=>Ze(tn=>tn.error(On)),Vt=new tl(ne,On=>{try{const tn=y(On);let Ut=Ie.get(tn);if(!Ut){Ie.set(tn,Ut=b?b():new we.x);const Sn=function $t(On,tn){const Ut=new ht.y(Sn=>{Vt.activeGroups++;const gr=tn.subscribe(Sn);return()=>{gr.unsubscribe(),0==--Vt.activeGroups&&Vt.teardownAttempted&&Vt.unsubscribe()}});return Ut.key=On,Ut}(tn,Ut);if(ne.next(Sn),g){const gr=new ui.Q(Ut,()=>{Ut.complete(),gr?.unsubscribe()},void 0,void 0,()=>Ie.delete(tn));Vt.add((0,xo.Xf)(g(Sn)).subscribe(gr))}}Ut.next(_e?_e(On):On)}catch(tn){ft(tn)}},()=>Ze(On=>On.complete()),ft,()=>Ie.clear());H.subscribe(Vt)})}class tl extends ui.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var nl=D(6129);const ia={dispatch:!0,useEffectsErrorHandler:!0},us="__@ngrx/effects_create__";function Gr(y,_){const g=y(),b={...ia,..._};return Object.defineProperty(g,us,{value:b}),g}function A(y){return Object.getOwnPropertyNames(y).filter(b=>!(!y[b]||!y[b].hasOwnProperty(us))&&y[b][us].hasOwnProperty("dispatch")).map(b=>({propertyName:b,...y[b][us]}))}function O(y){return Object.getPrototypeOf(y)}const T="__@ngrx/effects__";function W(y){return(0,Ns.qC)(je,O)(y)}function je(y){return function oe(y){return y.constructor.hasOwnProperty(T)}(y)?y.constructor[T]:[]}function an(y,_,g){const b=O(y).constructor.name,H=function en(y){return[W,A].reduce((g,b)=>g.concat(b(y)),[])}(y).map(({propertyName:ne,dispatch:_e,useEffectsErrorHandler:Ie})=>{const Ze="function"==typeof y[ne]?y[ne]():y[ne],ft=Ie?g(Ze,_):Ze;return!1===_e?ft.pipe((0,vo.l)()):ft.pipe(function fl(){return(0,va.e)((y,_)=>{y.subscribe(new ui.Q(_,g=>{_.next(Ci.createNext(g))},()=>{_.next(Ci.createComplete()),_.complete()},g=>{_.next(Ci.createError(g)),_.complete()}))})}()).pipe((0,_t.U)($t=>({effect:y[ne],notification:$t,propertyName:ne,sourceName:b,sourceInstance:y})))});return(0,Rr.T)(...H)}const Tr=10;function kr(y,_,g=Tr){return y.pipe((0,at.K)(b=>(_&&_.handleError(b),g<=1?y:kr(y,_,g-1))))}let vs=(()=>{class y extends ht.y{constructor(g){super(),g&&(this.source=g)}lift(g){const b=new y;return b.source=this,b.operator=g,b}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(Ns.Y$))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function fi(...y){return(0,Wn.h)(_=>y.some(g=>"string"==typeof g?g===_.type:g.type===_.type))}const Ra=new I.OlP("@ngrx/effects Internal Root Guard"),Bi=new I.OlP("@ngrx/effects User Provided Effects"),Wa=new I.OlP("@ngrx/effects Internal Root Effects"),Ea=new I.OlP("@ngrx/effects Root Effects"),pl=new I.OlP("@ngrx/effects Internal Feature Effects"),Pr=new I.OlP("@ngrx/effects Feature Effects"),pi=new I.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>kr}),rl="@ngrx/effects/init";(0,Ns.PH)(rl);const sa="ngrxOnIdentifyEffects",za="ngrxOnInitEffects";function au(y){return Zl(y,za)}function Zl(y,_){return y&&_ in y&&"function"==typeof y[_]}let Ka=(()=>{class y extends we.x{constructor(g,b){super(),this.errorHandler=g,this.effectsErrorHandler=b}addEffects(g){this.next(g)}toActions(){return this.pipe(Oa(O),(0,es.z)(g=>g.pipe(Oa(xa))),(0,es.z)(g=>{const b=g.pipe((0,nl.z)(ne=>function kl(y,_){return g=>{const b=an(g,y,_);return function ql(y){return Zl(y,"ngrxOnRunEffects")}(g)?g.ngrxOnRunEffects(b):b}}(this.errorHandler,this.effectsErrorHandler)(ne)),(0,_t.U)(ne=>(function ml(y,_){if("N"===y.notification.kind){const g=y.notification.value;!function yl(y){return"function"!=typeof y&&y&&y.type&&"string"==typeof y.type}(g)&&_.handleError(new Error(`Effect ${function Da({propertyName:y,sourceInstance:_,sourceName:g}){const b="function"==typeof _[y];return`"${g}.${String(y)}${b?"()":""}"`}(y)} dispatched an invalid action: ${function Ll(y){try{return JSON.stringify(y)}catch{return y}}(g)}`))}}(ne,this.errorHandler),ne.notification)),(0,Wn.h)(ne=>"N"===ne.kind&&null!=ne.value),function ra(){return(0,va.e)((y,_)=>{y.subscribe(new ui.Q(_,g=>Xr(g,_)))})}()),H=g.pipe((0,$n.q)(1),(0,Wn.h)(au),(0,_t.U)(ne=>ne.ngrxOnInitEffects()));return(0,Rr.T)(b,H)}))}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(I.qLn),I.LFG(pi))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function xa(y){return function Fl(y){return Zl(y,sa)}(y)?y.ngrxOnIdentifyEffects():""}let Na=(()=>{class y{constructor(g,b){this.effectSources=g,this.store=b,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(Ka),I.LFG(Ns.yh))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),lc=(()=>{class y{constructor(g,b,H,ne,_e,Ie,Ze){this.sources=g,b.start(),ne.forEach(ft=>g.addEffects(ft)),H.dispatch({type:rl})}addEffects(g){this.sources.addEffects(g)}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(Ka),I.LFG(Na),I.LFG(Ns.yh),I.LFG(Ea),I.LFG(Ns.cr,8),I.LFG(Ns.CK,8),I.LFG(Ra,8))},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({}),y})(),xi=(()=>{class y{constructor(g,b,H,ne){b.forEach(_e=>_e.forEach(Ie=>g.addEffects(Ie)))}}return y.\u0275fac=function(g){return new(g||y)(I.LFG(lc),I.LFG(Pr),I.LFG(Ns.cr,8),I.LFG(Ns.CK,8))},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({}),y})(),oa=(()=>{class y{static forFeature(g=[]){return{ngModule:xi,providers:[g,{provide:pl,multi:!0,useValue:g},{provide:Bi,multi:!0,useValue:[]},{provide:Pr,multi:!0,useFactory:Ss,deps:[I.zs3,pl,Bi]}]}}static forRoot(g=[]){return{ngModule:lc,providers:[g,{provide:Wa,useValue:[g]},{provide:Ra,useFactory:Ul,deps:[[Na,new I.FiY,new I.tp0],[Wa,new I.PiD]]},{provide:Bi,multi:!0,useValue:[]},{provide:Ea,useFactory:Ss,deps:[I.zs3,Wa,Bi]}]}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({}),y})();function Ss(y,_,g){const b=[];for(const H of _)b.push(...H);for(const H of g)b.push(...H);return function mi(y,_){return _.map(g=>y.get(g))}(y,b)}function Ul(y,_){if((1!==_.length||0!==_[0].length)&&y)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var lu=D(4579);let ci=(()=>{class y{loadCounter(){return(0,Tt.of)(1999)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),uu=(()=>{class y{constructor(g,b){this.actions$=g,this.counterService=b,this.loadData$=Gr(()=>this.actions$.pipe(fi(lu.zK),(0,es.z)(()=>this.counterService.loadCounter().pipe((0,_t.U)(H=>lu.Zf({newValue:H}))))))}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(vs),I.LFG(ci))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();var Vl=D(5054);let _l=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[Vl.e],imports:[Ns.Aw.forFeature(na.UN,na.jX),oa.forFeature([uu])]})}return y})();var co=D(3880),La=D(2542);let Bl=(()=>{class y{constructor(g,b){this.actions$=g,this.http=b,this.loadData$=Gr(()=>this.actions$.pipe(fi(La.mu),(0,Mt.w)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,_t.U)(H=>La.F3({payload:H})),(0,at.K)(H=>(0,Tt.of)(La.WU({payload:H})))))))}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(vs),I.LFG(Re.eN))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();var cu=D(9610);let $u=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[cu.L],imports:[Ns.Aw.forFeature(co.UN,co.B5),oa.forFeature([Bl])]})}return y})();var ji=D(173),du=D(817);let Xl=(()=>{class y{constructor(g){this.actions$=g,this.getUser$=Gr(()=>this.actions$.pipe(fi(du.PR),(0,es.z)(()=>(0,Tt.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,_t.U)(b=>du.Ni({user:b})),(0,at.K)(b=>(console.error("An error occurred while getting user information.",b.message),(0,Tt.of)(du.N2({error:"Unable to retrieve user information."}))))))))}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(vs))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();var Gu=D(2842);let Wu=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[Gu.p],imports:[Ns.Aw.forFeature(ji.U,ji.M),oa.forFeature([Xl])]})}return y})();var jl=D(5650),wu=D(4964),aa=D(2766),cs=D(7403);let Jl=(()=>{class y{set(g,b){try{localStorage.setItem(g,JSON.stringify(b))}catch(H){console.error("Error saving to localStorage",H)}}get(g){try{return JSON.parse(localStorage.getItem(g))}catch(b){return console.error("Error getting data from localStorage",b),null}}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Hl=(()=>{class y{constructor(g,b,H,ne){this.actions$=g,this.registerService=b,this.persistenceService=H,this.router=ne,this.register$=Gr(()=>this.actions$.pipe(fi(aa._0),(0,Mt.w)(({request:_e})=>this.registerService.register(_e).pipe((0,_t.U)(Ie=>(this.persistenceService.set("accessToken1",Ie.token),(0,aa.Pw)({currentUser:Ie}))),(0,at.K)(Ie=>(console.log(Ie),(0,Tt.of)((0,aa.zH)({errors:Ie.error.errors})))))))),this.redirectAfterSubmit$=Gr(()=>this.actions$.pipe(fi(aa.Pw),(0,Xe.b)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(vs),I.LFG(cs.a),I.LFG(Jl),I.LFG(B.F0))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})(),vl=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({providers:[wu.q],imports:[Ns.Aw.forFeature(jl.UN,jl.xw),oa.forFeature([Hl])]})}return y})();var No=D(8713),Eo=D(1944),eu=D(8372),hu=D(9662);let fu=(()=>{class y{constructor(g){this.http=g,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(g){return this.http.post(this.url,g)}getArticleById(g){return this.http.get(this.url+"/"+g)}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(hu.O))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Tu=(()=>{class y{constructor(g,b){this.actions$=g,this.fruitsService=b,this.loadAllArticles$=Gr(()=>this.actions$.pipe(fi(Eo.GO),(0,Mt.w)(()=>this.fruitsService.getAllArticles().pipe((0,_t.U)(H=>Eo.m0({payload:H})))))),this.createArticle$=Gr(()=>this.actions$.pipe(fi(Eo.$f),(0,_t.U)(H=>H.payload),(0,es.z)(H=>this.fruitsService.createArticle(H).pipe((0,_t.U)(ne=>Eo.$s({payload:ne})),(0,at.K)(ne=>(0,Tt.of)(Eo.$0({payload:ne}))))))),this.searchArticleById$=Gr(()=>this.actions$.pipe(fi(Eo.HD),(0,eu.b)(500),(0,_t.U)(H=>H.payload),(0,Mt.w)(H=>this.fruitsService.getArticleById(H).pipe((0,_t.U)(ne=>Eo.n3({payload:ne})))))),this.loadProducts$=Gr(()=>this.actions$.pipe(fi(Eo.hS),(0,es.z)(()=>this.fruitsService.getAll().pipe((0,_t.U)(H=>Eo.Xt({payload:H}))))))}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(vs),I.LFG(fu))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();var pu=D(825);let Su=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({imports:[Ns.Aw.forRoot(No.ll),oa.forRoot([Tu]),qs,_l,$u,Wu,vl,pu.FT.instrument({maxAge:25,logOnly:!ya.N.production})]})}return y})();const bu="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let gu=(()=>{class y{constructor(){}intercept(g,b){const{url:H,method:ne,headers:_e}=g;return H.endsWith("login")&&"POST"===ne?function Ze(){return(0,Tt.of)(new Re.Zn({status:200,body:{id:"1",username:"profanis",token:bu}}))}():H.endsWith("products")&&"GET"===ne?function ft(){if(!function Ie(){return _e.get("authorization")===bu}())return(0,Qe._)({status:401,error:{message:"Unauthorized"}});const Vt=[...new Array(20).keys()].map($t=>({id:$t,name:`Product ${$t}`,weight:30,symbol:"ngf"}));return(0,Tt.of)(new Re.Zn({status:200,body:Vt}))}():b.handle(g)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();const zu={provide:Re.TP,useClass:gu,multi:!0};D(7385);let Lo=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275mod=I.oAB({type:y});static#n=this.\u0275inj=I.cJS({})}return y})();var Fo=D(4185);let ts=(()=>{class y{constructor(g){this.realtimeDbService=g}handleError(g){console.log(g),ya.N.production&&this.realtimeDbService.post("2023/logging.json",g).subscribe()}handleError1(g){g instanceof Re.UA?g.error instanceof ErrorEvent?console.error("Error Event"):console.log(`error status : ${g.status} ${g.statusText}`):console.error("some thing else happened")}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(Fo.N))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();const sl={provide:I.qLn,useClass:ts};class Fa{static get injector(){return this._injector}static set injector(_){this._injector=_}}var El=D(8405);const Dl=[{provide:El.R1,useClass:El.lt},{provide:El.zI,useClass:El.ex},{provide:Fo.N,useClass:Fo.g}];var Cl=D(255),R=D(7522);let v=(()=>{class y{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),C=(()=>{class y extends Cl.u{constructor(g,b){super(),this.http=g,this.config=b}getCurrentWeather(g,b){const ne=this.getParams(g,b);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:ne}).pipe((0,_t.U)(_e=>({temperature:_e.main.temp,temperatureMin:_e.main.temp_min,temperatureMax:_e.main.temp_max,city:_e.name,conditions:(0,R.wJ)(_e.weather[0]),date:new Date(_e.dt),zipCode:g,countryCode:b})))}getWeatherForecast(g,b){const ne=this.getParams(g,b);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:ne}).pipe((0,_t.U)(_e=>_e.list.map(Ie=>({temperature:Ie.temp.day,temperatureMin:Ie.temp.min,temperatureMax:Ie.temp.max,city:_e.city.name,conditions:(0,R.wJ)(Ie.weather[0]),date:new Date(1e3*Ie.dt),zipCode:g,countryCode:b}))))}getParams(g,b="us"){return new Re.LE({fromObject:{zip:`${g},${b}`,appid:this.config.apiKey}})}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(Re.eN),I.LFG(v))};static#t=this.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac})}return y})();var L=D(9267);let ie=(()=>{class y{constructor(g){this.injector=g,Fa.injector=g}static#e=this.\u0275fac=function(b){return new(b||y)(I.LFG(I.zs3))};static#t=this.\u0275mod=I.oAB({type:y,bootstrap:[Ln]});static#n=this.\u0275inj=I.cJS({providers:[P,{provide:Cl.u,useClass:C},fe.uU,Re.JF,{provide:it.y,useValue:new it.y(Ts)},Oo,zu,sl,Dl],imports:[f.b2,Ol,Re.JF,Re.Ed,Po.m,ke,ou,ea.register("ngsw-worker.js",{enabled:ya.N.production,registrationStrategy:"registerWhenStable:30000"}),Su,Ja,Ga.forRoot({userName:"Trilok Singh"}),xs.G2.initializeApp(ya.N.firebaseConfig),xs.G2.initialize({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0}),Lo,L.EV,Ol]})}return y})();ya.N.production&&(0,I.G48)(),f.q6().bootstrapModule(ie).catch(y=>console.error(y))},1135:(Te,ae,D)=>{D.d(ae,{X:()=>I});var f=D(7579);class I extends f.x{constructor(B){super(),this._value=B}get value(){return this.getValue()}_subscribe(B){const Z=super._subscribe(B);return!Z.closed&&B.next(this._value),Z}getValue(){const{hasError:B,thrownError:Z,_value:se}=this;if(B)throw Z;return this._throwIfClosed(),se}next(B){super.next(this._value=B)}}},9751:(Te,ae,D)=>{D.d(ae,{y:()=>K});var f=D(930),I=D(727),te=D(8822),B=D(9635),Z=D(2416),se=D(576),ee=D(2806);let K=(()=>{class fe{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Be=new fe;return Be.source=this,Be.operator=$e,Be}subscribe($e,Be,Ye){const Ve=function ue(fe){return fe&&fe instanceof f.Lv||function q(fe){return fe&&(0,se.m)(fe.next)&&(0,se.m)(fe.error)&&(0,se.m)(fe.complete)}(fe)&&(0,I.Nn)(fe)}($e)?$e:new f.Hp($e,Be,Ye);return(0,ee.x)(()=>{const{operator:We,source:ze}=this;Ve.add(We?We.call(Ve,ze):ze?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe($e){try{return this._subscribe($e)}catch(Be){$e.error(Be)}}forEach($e,Be){return new(Be=re(Be))((Ye,Ve)=>{const We=new f.Hp({next:ze=>{try{$e(ze)}catch(rt){Ve(rt),We.unsubscribe()}},error:Ve,complete:Ye});this.subscribe(We)})}_subscribe($e){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe($e)}[te.L](){return this}pipe(...$e){return(0,B.U)($e)(this)}toPromise($e){return new($e=re($e))((Be,Ye)=>{let Ve;this.subscribe(We=>Ve=We,We=>Ye(We),()=>Be(Ve))})}}return fe.create=Ne=>new fe(Ne),fe})();function re(fe){var Ne;return null!==(Ne=fe??Z.v.Promise)&&void 0!==Ne?Ne:Promise}},4707:(Te,ae,D)=>{D.d(ae,{t:()=>te});var f=D(7579),I=D(6063);class te extends f.x{constructor(Z=1/0,se=1/0,ee=I.l){super(),this._bufferSize=Z,this._windowTime=se,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,Z),this._windowTime=Math.max(1,se)}next(Z){const{isStopped:se,_buffer:ee,_infiniteTimeWindow:K,_timestampProvider:re,_windowTime:q}=this;se||(ee.push(Z),!K&&ee.push(re.now()+q)),this._trimBuffer(),super.next(Z)}_subscribe(Z){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(Z),{_infiniteTimeWindow:ee,_buffer:K}=this,re=K.slice();for(let q=0;q<re.length&&!Z.closed;q+=ee?1:2)Z.next(re[q]);return this._checkFinalizedStatuses(Z),se}_trimBuffer(){const{_bufferSize:Z,_timestampProvider:se,_buffer:ee,_infiniteTimeWindow:K}=this,re=(K?1:2)*Z;if(Z<1/0&&re<ee.length&&ee.splice(0,ee.length-re),!K){const q=se.now();let ue=0;for(let fe=1;fe<ee.length&&ee[fe]<=q;fe+=2)ue=fe;ue&&ee.splice(0,ue+1)}}}},7579:(Te,ae,D)=>{D.d(ae,{x:()=>ee});var f=D(9751),I=D(727);const B=(0,D(3888).d)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=D(8737),se=D(2806);let ee=(()=>{class re extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const fe=new K(this,this);return fe.operator=ue,fe}_throwIfClosed(){if(this.closed)throw new B}next(ue){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const fe=this.observers.slice();for(const Ne of fe)Ne.next(ue)}})}error(ue){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ue)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:fe,isStopped:Ne,observers:$e}=this;return fe||Ne?I.Lc:($e.push(ue),new I.w0(()=>(0,Z.P)($e,ue)))}_checkFinalizedStatuses(ue){const{hasError:fe,thrownError:Ne,isStopped:$e}=this;fe?ue.error(Ne):$e&&ue.complete()}asObservable(){const ue=new f.y;return ue.source=this,ue}}return re.create=(q,ue)=>new K(q,ue),re})();class K extends ee{constructor(q,ue){super(),this.destination=q,this.source=ue}next(q){var ue,fe;null===(fe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===fe||fe.call(ue,q)}error(q){var ue,fe;null===(fe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===fe||fe.call(ue,q)}complete(){var q,ue;null===(ue=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ue||ue.call(q)}_subscribe(q){var ue,fe;return null!==(fe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(q))&&void 0!==fe?fe:I.Lc}}},930:(Te,ae,D)=>{D.d(ae,{Hp:()=>Ne,Lv:()=>fe});var f=D(576),I=D(727),te=D(2416),B=D(7849),Z=D(5032);const se=re("C",void 0,void 0);function re(We,ze,rt){return{kind:We,value:ze,error:rt}}var q=D(3410),ue=D(2806);class fe extends I.w0{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,I.Nn)(ze)&&ze.add(this)):this.destination=Ve}static create(ze,rt,ke){return new Ne(ze,rt,ke)}next(ze){this.isStopped?Ye(function K(We){return re("N",We,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?Ye(function ee(We){return re("E",void 0,We)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?Ye(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ne extends fe{constructor(ze,rt,ke){let Re;if(super(),(0,f.m)(ze))Re=ze;else if(ze){let Dt;({next:Re,error:rt,complete:ke}=ze),this&&te.v.useDeprecatedNextContext?(Dt=Object.create(ze),Dt.unsubscribe=()=>this.unsubscribe()):Dt=ze,Re=Re?.bind(Dt),rt=rt?.bind(Dt),ke=ke?.bind(Dt)}this.destination={next:Re?$e(Re):Z.Z,error:$e(rt??Be),complete:ke?$e(ke):Z.Z}}}function $e(We,ze){return(...rt)=>{try{We(...rt)}catch(ke){te.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ke):(0,B.h)(ke)}}}function Be(We){throw We}function Ye(We,ze){const{onStoppedNotification:rt}=te.v;rt&&q.z.setTimeout(()=>rt(We,ze))}const Ve={closed:!0,next:Z.Z,error:Be,complete:Z.Z}},727:(Te,ae,D)=>{D.d(ae,{Lc:()=>se,w0:()=>Z,Nn:()=>ee});var f=D(576);const te=(0,D(3888).d)(re=>function(ue){re(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((fe,Ne)=>`${Ne+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var B=D(8737);class Z{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const $e of ue)$e.remove(this);else ue.remove(this);const{initialTeardown:fe}=this;if((0,f.m)(fe))try{fe()}catch($e){q=$e instanceof te?$e.errors:[$e]}const{_teardowns:Ne}=this;if(Ne){this._teardowns=null;for(const $e of Ne)try{K($e)}catch(Be){q=q??[],Be instanceof te?q=[...q,...Be.errors]:q.push(Be)}}if(q)throw new te(q)}}add(q){var ue;if(q&&q!==this)if(this.closed)K(q);else{if(q instanceof Z){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(ue=this._teardowns)&&void 0!==ue?ue:[]).push(q)}}_hasParent(q){const{_parentage:ue}=this;return ue===q||Array.isArray(ue)&&ue.includes(q)}_addParent(q){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(q),ue):ue?[ue,q]:q}_removeParent(q){const{_parentage:ue}=this;ue===q?this._parentage=null:Array.isArray(ue)&&(0,B.P)(ue,q)}remove(q){const{_teardowns:ue}=this;ue&&(0,B.P)(ue,q),q instanceof Z&&q._removeParent(this)}}Z.EMPTY=(()=>{const re=new Z;return re.closed=!0,re})();const se=Z.EMPTY;function ee(re){return re instanceof Z||re&&"closed"in re&&(0,f.m)(re.remove)&&(0,f.m)(re.add)&&(0,f.m)(re.unsubscribe)}function K(re){(0,f.m)(re)?re():re.unsubscribe()}},2416:(Te,ae,D)=>{D.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Te,ae,D)=>{D.d(ae,{c:()=>se});var f=D(9751),I=D(727),te=D(8343),B=D(5403),Z=D(4482);class se extends f.y{constructor(K,re){super(),this.source=K,this.subjectFactory=re,this._subject=null,this._refCount=0,this._connection=null,(0,Z.A)(K)&&(this.lift=K.lift)}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:K}=this;this._subject=this._connection=null,K?.unsubscribe()}connect(){let K=this._connection;if(!K){K=this._connection=new I.w0;const re=this.getSubject();K.add(this.source.subscribe(new B.Q(re,void 0,()=>{this._teardown(),re.complete()},q=>{this._teardown(),re.error(q)},()=>this._teardown()))),K.closed&&(this._connection=null,K=I.w0.EMPTY)}return K}refCount(){return(0,te.x)()(this)}}},9841:(Te,ae,D)=>{D.d(ae,{a:()=>q});var f=D(9751),I=D(4742),te=D(457),B=D(4671),Z=D(3268),se=D(3269),ee=D(1810),K=D(5403),re=D(9672);function q(...Ne){const $e=(0,se.yG)(Ne),Be=(0,se.jO)(Ne),{args:Ye,keys:Ve}=(0,I.D)(Ne);if(0===Ye.length)return(0,te.D)([],$e);const We=new f.y(function ue(Ne,$e,Be=B.y){return Ye=>{fe($e,()=>{const{length:Ve}=Ne,We=new Array(Ve);let ze=Ve,rt=Ve;for(let ke=0;ke<Ve;ke++)fe($e,()=>{const Re=(0,te.D)(Ne[ke],$e);let Dt=!1;Re.subscribe(new K.Q(Ye,Ct=>{We[ke]=Ct,Dt||(Dt=!0,rt--),rt||Ye.next(Be(We.slice()))},()=>{--ze||Ye.complete()}))},Ye)},Ye)}}(Ye,$e,Ve?ze=>(0,ee.n)(Ve,ze):B.y));return Be?We.pipe((0,Z.Z)(Be)):We}function fe(Ne,$e,Be){Ne?(0,re.f)(Be,Ne,$e):$e()}},7272:(Te,ae,D)=>{D.d(ae,{z:()=>Z});var f=D(8189),te=D(3269),B=D(457);function Z(...se){return function I(){return(0,f.J)(1)}()((0,B.D)(se,(0,te.yG)(se)))}},9770:(Te,ae,D)=>{D.d(ae,{P:()=>te});var f=D(9751),I=D(8421);function te(B){return new f.y(Z=>{(0,I.Xf)(B()).subscribe(Z)})}},515:(Te,ae,D)=>{D.d(ae,{E:()=>I,c:()=>te});var f=D(9751);const I=new f.y(Z=>Z.complete());function te(Z){return Z?function B(Z){return new f.y(se=>Z.schedule(()=>se.complete()))}(Z):I}},4128:(Te,ae,D)=>{D.d(ae,{D:()=>K});var f=D(9751),I=D(4742),te=D(8421),B=D(3269),Z=D(5403),se=D(3268),ee=D(1810);function K(...re){const q=(0,B.jO)(re),{args:ue,keys:fe}=(0,I.D)(re),Ne=new f.y($e=>{const{length:Be}=ue;if(!Be)return void $e.complete();const Ye=new Array(Be);let Ve=Be,We=Be;for(let ze=0;ze<Be;ze++){let rt=!1;(0,te.Xf)(ue[ze]).subscribe(new Z.Q($e,ke=>{rt||(rt=!0,We--),Ye[ze]=ke},()=>Ve--,void 0,()=>{(!Ve||!rt)&&(We||$e.next(fe?(0,ee.n)(fe,Ye):Ye),$e.complete())}))}});return q?Ne.pipe((0,se.Z)(q)):Ne}},457:(Te,ae,D)=>{D.d(ae,{D:()=>Dt});var f=D(8421),I=D(5363),te=D(4482);function B(Ct,Qe=0){return(0,te.e)((Mt,Tt)=>{Tt.add(Ct.schedule(()=>Mt.subscribe(Tt),Qe))})}var ee=D(9751),re=D(2202),q=D(576),ue=D(9672);function Ne(Ct,Qe){if(!Ct)throw new Error("Iterable cannot be null");return new ee.y(Mt=>{(0,ue.f)(Mt,Qe,()=>{const Tt=Ct[Symbol.asyncIterator]();(0,ue.f)(Mt,Qe,()=>{Tt.next().then(nt=>{nt.done?Mt.complete():Mt.next(nt.value)})},0,!0)})})}var $e=D(3670),Be=D(8239),Ye=D(1144),Ve=D(6495),We=D(2206),ze=D(4532),rt=D(3260);function Dt(Ct,Qe){return Qe?function Re(Ct,Qe){if(null!=Ct){if((0,$e.c)(Ct))return function Z(Ct,Qe){return(0,f.Xf)(Ct).pipe(B(Qe),(0,I.Q)(Qe))}(Ct,Qe);if((0,Ye.z)(Ct))return function K(Ct,Qe){return new ee.y(Mt=>{let Tt=0;return Qe.schedule(function(){Tt===Ct.length?Mt.complete():(Mt.next(Ct[Tt++]),Mt.closed||this.schedule())})})}(Ct,Qe);if((0,Be.t)(Ct))return function se(Ct,Qe){return(0,f.Xf)(Ct).pipe(B(Qe),(0,I.Q)(Qe))}(Ct,Qe);if((0,We.D)(Ct))return Ne(Ct,Qe);if((0,Ve.T)(Ct))return function fe(Ct,Qe){return new ee.y(Mt=>{let Tt;return(0,ue.f)(Mt,Qe,()=>{Tt=Ct[re.h](),(0,ue.f)(Mt,Qe,()=>{let nt,qe;try{({value:nt,done:qe}=Tt.next())}catch(at){return void Mt.error(at)}qe?Mt.complete():Mt.next(nt)},0,!0)}),()=>(0,q.m)(Tt?.return)&&Tt.return()})}(Ct,Qe);if((0,rt.L)(Ct))return function ke(Ct,Qe){return Ne((0,rt.Q)(Ct),Qe)}(Ct,Qe)}throw(0,ze.z)(Ct)}(Ct,Qe):(0,f.Xf)(Ct)}},4968:(Te,ae,D)=>{D.d(ae,{R:()=>q});var f=D(8421),I=D(9751),te=D(5577),B=D(1144),Z=D(576),se=D(3268);const ee=["addListener","removeListener"],K=["addEventListener","removeEventListener"],re=["on","off"];function q(Be,Ye,Ve,We){if((0,Z.m)(Ve)&&(We=Ve,Ve=void 0),We)return q(Be,Ye,Ve).pipe((0,se.Z)(We));const[ze,rt]=function $e(Be){return(0,Z.m)(Be.addEventListener)&&(0,Z.m)(Be.removeEventListener)}(Be)?K.map(ke=>Re=>Be[ke](Ye,Re,Ve)):function fe(Be){return(0,Z.m)(Be.addListener)&&(0,Z.m)(Be.removeListener)}(Be)?ee.map(ue(Be,Ye)):function Ne(Be){return(0,Z.m)(Be.on)&&(0,Z.m)(Be.off)}(Be)?re.map(ue(Be,Ye)):[];if(!ze&&(0,B.z)(Be))return(0,te.z)(ke=>q(ke,Ye,Ve))((0,f.Xf)(Be));if(!ze)throw new TypeError("Invalid event target");return new I.y(ke=>{const Re=(...Dt)=>ke.next(1<Dt.length?Dt:Dt[0]);return ze(Re),()=>rt(Re)})}function ue(Be,Ye){return Ve=>We=>Be[Ve](Ye,We)}},8421:(Te,ae,D)=>{D.d(ae,{Xf:()=>Ne});var f=D(655),I=D(1144),te=D(8239),B=D(9751),Z=D(3670),se=D(2206),ee=D(4532),K=D(6495),re=D(3260),q=D(576),ue=D(7849),fe=D(8822);function Ne(ke){if(ke instanceof B.y)return ke;if(null!=ke){if((0,Z.c)(ke))return function $e(ke){return new B.y(Re=>{const Dt=ke[fe.L]();if((0,q.m)(Dt.subscribe))return Dt.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,I.z)(ke))return function Be(ke){return new B.y(Re=>{for(let Dt=0;Dt<ke.length&&!Re.closed;Dt++)Re.next(ke[Dt]);Re.complete()})}(ke);if((0,te.t)(ke))return function Ye(ke){return new B.y(Re=>{ke.then(Dt=>{Re.closed||(Re.next(Dt),Re.complete())},Dt=>Re.error(Dt)).then(null,ue.h)})}(ke);if((0,se.D)(ke))return We(ke);if((0,K.T)(ke))return function Ve(ke){return new B.y(Re=>{for(const Dt of ke)if(Re.next(Dt),Re.closed)return;Re.complete()})}(ke);if((0,re.L)(ke))return function ze(ke){return We((0,re.Q)(ke))}(ke)}throw(0,ee.z)(ke)}function We(ke){return new B.y(Re=>{(function rt(ke,Re){var Dt,Ct,Qe,Mt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Dt=(0,f.KL)(ke);!(Ct=yield Dt.next()).done;)if(Re.next(Ct.value),Re.closed)return}catch(Tt){Qe={error:Tt}}finally{try{Ct&&!Ct.done&&(Mt=Dt.return)&&(yield Mt.call(Dt))}finally{if(Qe)throw Qe.error}}Re.complete()})})(ke,Re).catch(Dt=>Re.error(Dt))})}},6451:(Te,ae,D)=>{D.d(ae,{T:()=>se});var f=D(8189),I=D(8421),te=D(515),B=D(3269),Z=D(457);function se(...ee){const K=(0,B.yG)(ee),re=(0,B._6)(ee,1/0),q=ee;return q.length?1===q.length?(0,I.Xf)(q[0]):(0,f.J)(re)((0,Z.D)(q,K)):te.E}},9646:(Te,ae,D)=>{D.d(ae,{of:()=>te});var f=D(3269),I=D(457);function te(...B){const Z=(0,f.yG)(B);return(0,I.D)(B,Z)}},2843:(Te,ae,D)=>{D.d(ae,{_:()=>te});var f=D(9751),I=D(576);function te(B,Z){const se=(0,I.m)(B)?B:()=>B,ee=K=>K.error(se());return new f.y(Z?K=>Z.schedule(ee,0,K):ee)}},2805:(Te,ae,D)=>{D.d(ae,{H:()=>Z});var f=D(9751),I=D(4986),te=D(3532),B=D(1165);function Z(se=0,ee,K=I.P){let re=-1;return null!=ee&&((0,te.K)(ee)?K=ee:re=ee),new f.y(q=>{let ue=(0,B.q)(se)?+se-K.now():se;ue<0&&(ue=0);let fe=0;return K.schedule(function(){q.closed||(q.next(fe++),0<=re?this.schedule(void 0,re):q.complete())},ue)})}},5403:(Te,ae,D)=>{D.d(ae,{Q:()=>I});var f=D(930);class I extends f.Lv{constructor(B,Z,se,ee,K){super(B),this.onFinalize=K,this._next=Z?function(re){try{Z(re)}catch(q){B.error(q)}}:super._next,this._error=ee?function(re){try{ee(re)}catch(q){B.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(re){B.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}},262:(Te,ae,D)=>{D.d(ae,{K:()=>B});var f=D(8421),I=D(5403),te=D(4482);function B(Z){return(0,te.e)((se,ee)=>{let q,K=null,re=!1;K=se.subscribe(new I.Q(ee,void 0,void 0,ue=>{q=(0,f.Xf)(Z(ue,B(Z)(se))),K?(K.unsubscribe(),K=null,q.subscribe(ee)):re=!0})),re&&(K.unsubscribe(),K=null,q.subscribe(ee))})}},4351:(Te,ae,D)=>{D.d(ae,{b:()=>te});var f=D(5577),I=D(576);function te(B,Z){return(0,I.m)(Z)?(0,f.z)(B,Z,1):(0,f.z)(B,1)}},8372:(Te,ae,D)=>{D.d(ae,{b:()=>B});var f=D(4986),I=D(4482),te=D(5403);function B(Z,se=f.z){return(0,I.e)((ee,K)=>{let re=null,q=null,ue=null;const fe=()=>{if(re){re.unsubscribe(),re=null;const $e=q;q=null,K.next($e)}};function Ne(){const $e=ue+Z,Be=se.now();if(Be<$e)return re=this.schedule(void 0,$e-Be),void K.add(re);fe()}ee.subscribe(new te.Q(K,$e=>{q=$e,ue=se.now(),re||(re=se.schedule(Ne,Z),K.add(re))},()=>{fe(),K.complete()},void 0,()=>{q=re=null}))})}},6590:(Te,ae,D)=>{D.d(ae,{d:()=>te});var f=D(4482),I=D(5403);function te(B){return(0,f.e)((Z,se)=>{let ee=!1;Z.subscribe(new I.Q(se,K=>{ee=!0,se.next(K)},()=>{ee||se.next(B),se.complete()}))})}},4086:(Te,ae,D)=>{D.d(ae,{g:()=>re});var f=D(4986),I=D(7272),te=D(5698),B=D(8502),Z=D(9718),se=D(5577);function ee(q,ue){return ue?fe=>(0,I.z)(ue.pipe((0,te.q)(1),(0,B.l)()),fe.pipe(ee(q))):(0,se.z)((fe,Ne)=>q(fe,Ne).pipe((0,te.q)(1),(0,Z.h)(fe)))}var K=D(2805);function re(q,ue=f.z){const fe=(0,K.H)(q,ue);return ee(()=>fe)}},1884:(Te,ae,D)=>{D.d(ae,{x:()=>B});var f=D(4671),I=D(4482),te=D(5403);function B(se,ee=f.y){return se=se??Z,(0,I.e)((K,re)=>{let q,ue=!0;K.subscribe(new te.Q(re,fe=>{const Ne=ee(fe);(ue||!se(q,Ne))&&(ue=!1,q=Ne,re.next(fe))}))})}function Z(se,ee){return se===ee}},6129:(Te,ae,D)=>{D.d(ae,{z:()=>Z});var f=D(4004),I=D(8421),te=D(4482),B=D(5403);function Z(se,ee){return ee?K=>K.pipe(Z((re,q)=>(0,I.Xf)(se(re,q)).pipe((0,f.U)((ue,fe)=>ee(re,ue,q,fe))))):(0,te.e)((K,re)=>{let q=0,ue=null,fe=!1;K.subscribe(new B.Q(re,Ne=>{ue||(ue=new B.Q(re,void 0,()=>{ue=null,fe&&re.complete()}),(0,I.Xf)(se(Ne,q++)).subscribe(ue))},()=>{fe=!0,!ue&&re.complete()}))})}},9300:(Te,ae,D)=>{D.d(ae,{h:()=>te});var f=D(4482),I=D(5403);function te(B,Z){return(0,f.e)((se,ee)=>{let K=0;se.subscribe(new I.Q(ee,re=>B.call(Z,re,K++)&&ee.next(re)))})}},8746:(Te,ae,D)=>{D.d(ae,{x:()=>I});var f=D(4482);function I(te){return(0,f.e)((B,Z)=>{try{B.subscribe(Z)}finally{Z.add(te)}})}},590:(Te,ae,D)=>{D.d(ae,{P:()=>ee});var f=D(6805),I=D(9300),te=D(5698),B=D(6590),Z=D(8068),se=D(4671);function ee(K,re){const q=arguments.length>=2;return ue=>ue.pipe(K?(0,I.h)((fe,Ne)=>K(fe,Ne,ue)):se.y,(0,te.q)(1),q?(0,B.d)(re):(0,Z.T)(()=>new f.K))}},8502:(Te,ae,D)=>{D.d(ae,{l:()=>B});var f=D(4482),I=D(5403),te=D(5032);function B(){return(0,f.e)((Z,se)=>{Z.subscribe(new I.Q(se,te.Z))})}},3103:(Te,ae,D)=>{D.d(ae,{Z:()=>ee});var f=D(6805),I=D(9300),te=D(2035),B=D(8068),Z=D(6590),se=D(4671);function ee(K,re){const q=arguments.length>=2;return ue=>ue.pipe(K?(0,I.h)((fe,Ne)=>K(fe,Ne,ue)):se.y,(0,te.h)(1),q?(0,Z.d)(re):(0,B.T)(()=>new f.K))}},4004:(Te,ae,D)=>{D.d(ae,{U:()=>te});var f=D(4482),I=D(5403);function te(B,Z){return(0,f.e)((se,ee)=>{let K=0;se.subscribe(new I.Q(ee,re=>{ee.next(B.call(Z,re,K++))}))})}},9718:(Te,ae,D)=>{D.d(ae,{h:()=>I});var f=D(4004);function I(te){return(0,f.U)(()=>te)}},8189:(Te,ae,D)=>{D.d(ae,{J:()=>te});var f=D(5577),I=D(4671);function te(B=1/0){return(0,f.z)(I.y,B)}},5577:(Te,ae,D)=>{D.d(ae,{z:()=>K});var f=D(4004),I=D(8421),te=D(4482),B=D(9672),Z=D(5403),ee=D(576);function K(re,q,ue=1/0){return(0,ee.m)(q)?K((fe,Ne)=>(0,f.U)(($e,Be)=>q(fe,$e,Ne,Be))((0,I.Xf)(re(fe,Ne))),ue):("number"==typeof q&&(ue=q),(0,te.e)((fe,Ne)=>function se(re,q,ue,fe,Ne,$e,Be,Ye){const Ve=[];let We=0,ze=0,rt=!1;const ke=()=>{rt&&!Ve.length&&!We&&q.complete()},Re=Ct=>We<fe?Dt(Ct):Ve.push(Ct),Dt=Ct=>{$e&&q.next(Ct),We++;let Qe=!1;(0,I.Xf)(ue(Ct,ze++)).subscribe(new Z.Q(q,Mt=>{Ne?.(Mt),$e?Re(Mt):q.next(Mt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(We--;Ve.length&&We<fe;){const Mt=Ve.shift();Be?(0,B.f)(q,Be,()=>Dt(Mt)):Dt(Mt)}ke()}catch(Mt){q.error(Mt)}}))};return re.subscribe(new Z.Q(q,Re,()=>{rt=!0,ke()})),()=>{Ye?.()}}(fe,Ne,re,ue)))}},5363:(Te,ae,D)=>{D.d(ae,{Q:()=>B});var f=D(9672),I=D(4482),te=D(5403);function B(Z,se=0){return(0,I.e)((ee,K)=>{ee.subscribe(new te.Q(K,re=>(0,f.f)(K,Z,()=>K.next(re),se),()=>(0,f.f)(K,Z,()=>K.complete(),se),re=>(0,f.f)(K,Z,()=>K.error(re),se)))})}},4813:(Te,ae,D)=>{D.d(ae,{j:()=>I});var f=D(4004);function I(...te){const B=te.length;if(0===B)throw new Error("list of properties cannot be empty.");return(0,f.U)(Z=>{let se=Z;for(let ee=0;ee<B;ee++){const K=se?.[te[ee]];if(!(typeof K<"u"))return;se=K}return se})}},8646:(Te,ae,D)=>{D.d(ae,{n:()=>ue});var f=D(7579),I=D(4033),te=D(576),B=D(457),Z=D(4482),se=D(9751);const K={connector:()=>new f.x};function re(fe,Ne=K){const{connector:$e}=Ne;return(0,Z.e)((Be,Ye)=>{const Ve=$e();(0,B.D)(fe(function ee(fe){return new se.y(Ne=>fe.subscribe(Ne))}(Ve))).subscribe(Ye),Ye.add(Be.subscribe(Ve))})}function ue(fe){return fe?Ne=>re(fe)(Ne):Ne=>function q(fe,Ne){const $e=(0,te.m)(fe)?fe:()=>fe;return(0,te.m)(Ne)?re(Ne,{connector:$e}):Be=>new I.c(Be,$e)}(new f.x)(Ne)}},8343:(Te,ae,D)=>{D.d(ae,{x:()=>te});var f=D(4482),I=D(5403);function te(){return(0,f.e)((B,Z)=>{let se=null;B._refCount++;const ee=new I.Q(Z,void 0,void 0,void 0,()=>{if(!B||B._refCount<=0||0<--B._refCount)return void(se=null);const K=B._connection,re=se;se=null,K&&(!re||K===re)&&K.unsubscribe(),Z.unsubscribe()});B.subscribe(ee),ee.closed||(se=B.connect())})}},5625:(Te,ae,D)=>{D.d(ae,{X:()=>se});var f=D(4482),I=D(5403),te=D(4671),B=D(2805),Z=D(8421);function se(ee=1/0){let K;K=ee&&"object"==typeof ee?ee:{count:ee};const{count:re=1/0,delay:q,resetOnSuccess:ue=!1}=K;return re<=0?te.y:(0,f.e)((fe,Ne)=>{let Be,$e=0;const Ye=()=>{let Ve=!1;Be=fe.subscribe(new I.Q(Ne,We=>{ue&&($e=0),Ne.next(We)},void 0,We=>{if($e++<re){const ze=()=>{Be?(Be.unsubscribe(),Be=null,Ye()):Ve=!0};if(null!=q){const rt="number"==typeof q?(0,B.H)(q):(0,Z.Xf)(q(We,$e)),ke=new I.Q(Ne,()=>{ke.unsubscribe(),ze()},()=>{Ne.complete()});rt.subscribe(ke)}else ze()}else Ne.error(We)})),Ve&&(Be.unsubscribe(),Be=null,Ye())};Ye()})}},5026:(Te,ae,D)=>{D.d(ae,{R:()=>B});var f=D(4482),I=D(5403);function B(Z,se){return(0,f.e)(function te(Z,se,ee,K,re){return(q,ue)=>{let fe=ee,Ne=se,$e=0;q.subscribe(new I.Q(ue,Be=>{const Ye=$e++;Ne=fe?Z(Ne,Be,Ye):(fe=!0,Be),K&&ue.next(Ne)},re&&(()=>{fe&&ue.next(Ne),ue.complete()})))}}(Z,se,arguments.length>=2,!0))}},3099:(Te,ae,D)=>{D.d(ae,{B:()=>se});var f=D(457),I=D(5698),te=D(7579),B=D(930),Z=D(4482);function se(K={}){const{connector:re=(()=>new te.x),resetOnError:q=!0,resetOnComplete:ue=!0,resetOnRefCountZero:fe=!0}=K;return Ne=>{let $e=null,Be=null,Ye=null,Ve=0,We=!1,ze=!1;const rt=()=>{Be?.unsubscribe(),Be=null},ke=()=>{rt(),$e=Ye=null,We=ze=!1},Re=()=>{const Dt=$e;ke(),Dt?.unsubscribe()};return(0,Z.e)((Dt,Ct)=>{Ve++,!ze&&!We&&rt();const Qe=Ye=Ye??re();Ct.add(()=>{Ve--,0===Ve&&!ze&&!We&&(Be=ee(Re,fe))}),Qe.subscribe(Ct),$e||($e=new B.Hp({next:Mt=>Qe.next(Mt),error:Mt=>{ze=!0,rt(),Be=ee(ke,q,Mt),Qe.error(Mt)},complete:()=>{We=!0,rt(),Be=ee(ke,ue),Qe.complete()}}),(0,f.D)(Dt).subscribe($e))})(Ne)}}function ee(K,re,...q){return!0===re?(K(),null):!1===re?null:re(...q).pipe((0,I.q)(1)).subscribe(()=>K())}},4782:(Te,ae,D)=>{D.d(ae,{d:()=>te});var f=D(4707),I=D(3099);function te(B,Z,se){var ee,K;let re,q=!1;return B&&"object"==typeof B?(re=null!==(ee=B.bufferSize)&&void 0!==ee?ee:1/0,Z=null!==(K=B.windowTime)&&void 0!==K?K:1/0,q=!!B.refCount,se=B.scheduler):re=B??1/0,(0,I.B)({connector:()=>new f.t(re,Z,se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:q})}},5684:(Te,ae,D)=>{D.d(ae,{T:()=>I});var f=D(9300);function I(te){return(0,f.h)((B,Z)=>te<=Z)}},8675:(Te,ae,D)=>{D.d(ae,{O:()=>B});var f=D(7272),I=D(3269),te=D(4482);function B(...Z){const se=(0,I.yG)(Z);return(0,te.e)((ee,K)=>{(se?(0,f.z)(Z,ee,se):(0,f.z)(Z,ee)).subscribe(K)})}},3900:(Te,ae,D)=>{D.d(ae,{w:()=>B});var f=D(8421),I=D(4482),te=D(5403);function B(Z,se){return(0,I.e)((ee,K)=>{let re=null,q=0,ue=!1;const fe=()=>ue&&!re&&K.complete();ee.subscribe(new te.Q(K,Ne=>{re?.unsubscribe();let $e=0;const Be=q++;(0,f.Xf)(Z(Ne,Be)).subscribe(re=new te.Q(K,Ye=>K.next(se?se(Ne,Ye,Be,$e++):Ye),()=>{re=null,fe()}))},()=>{ue=!0,fe()}))})}},5698:(Te,ae,D)=>{D.d(ae,{q:()=>B});var f=D(515),I=D(4482),te=D(5403);function B(Z){return Z<=0?()=>f.E:(0,I.e)((se,ee)=>{let K=0;se.subscribe(new te.Q(ee,re=>{++K<=Z&&(ee.next(re),Z<=K&&ee.complete())}))})}},2035:(Te,ae,D)=>{D.d(ae,{h:()=>B});var f=D(515),I=D(4482),te=D(5403);function B(Z){return Z<=0?()=>f.E:(0,I.e)((se,ee)=>{let K=[];se.subscribe(new te.Q(ee,re=>{K.push(re),Z<K.length&&K.shift()},()=>{for(const re of K)ee.next(re);ee.complete()},void 0,()=>{K=null}))})}},2722:(Te,ae,D)=>{D.d(ae,{R:()=>Z});var f=D(4482),I=D(5403),te=D(8421),B=D(5032);function Z(se){return(0,f.e)((ee,K)=>{(0,te.Xf)(se).subscribe(new I.Q(K,()=>K.complete(),B.Z)),!K.closed&&ee.subscribe(K)})}},2529:(Te,ae,D)=>{D.d(ae,{o:()=>te});var f=D(4482),I=D(5403);function te(B,Z=!1){return(0,f.e)((se,ee)=>{let K=0;se.subscribe(new I.Q(ee,re=>{const q=B(re,K++);(q||Z)&&ee.next(re),!q&&ee.complete()}))})}},8505:(Te,ae,D)=>{D.d(ae,{b:()=>Z});var f=D(576),I=D(4482),te=D(5403),B=D(4671);function Z(se,ee,K){const re=(0,f.m)(se)||ee||K?{next:se,error:ee,complete:K}:se;return re?(0,I.e)((q,ue)=>{var fe;null===(fe=re.subscribe)||void 0===fe||fe.call(re);let Ne=!0;q.subscribe(new te.Q(ue,$e=>{var Be;null===(Be=re.next)||void 0===Be||Be.call(re,$e),ue.next($e)},()=>{var $e;Ne=!1,null===($e=re.complete)||void 0===$e||$e.call(re),ue.complete()},$e=>{var Be;Ne=!1,null===(Be=re.error)||void 0===Be||Be.call(re,$e),ue.error($e)},()=>{var $e,Be;Ne&&(null===($e=re.unsubscribe)||void 0===$e||$e.call(re)),null===(Be=re.finalize)||void 0===Be||Be.call(re)}))}):B.y}},9468:(Te,ae,D)=>{D.d(ae,{p:()=>K});var f=D(4986),I=D(4482),te=D(5403),B=D(8421);const Z={leading:!0,trailing:!1};var ee=D(2805);function K(re,q=f.z,ue=Z){const fe=(0,ee.H)(re,q);return function se(re,q=Z){return(0,I.e)((ue,fe)=>{const{leading:Ne,trailing:$e}=q;let Be=!1,Ye=null,Ve=null,We=!1;const ze=()=>{Ve?.unsubscribe(),Ve=null,$e&&(Re(),We&&fe.complete())},rt=()=>{Ve=null,We&&fe.complete()},ke=Dt=>Ve=(0,B.Xf)(re(Dt)).subscribe(new te.Q(fe,ze,rt)),Re=()=>{if(Be){Be=!1;const Dt=Ye;Ye=null,fe.next(Dt),!We&&ke(Dt)}};ue.subscribe(new te.Q(fe,Dt=>{Be=!0,Ye=Dt,(!Ve||Ve.closed)&&(Ne?Re():ke(Dt))},()=>{We=!0,(!($e&&Be&&Ve)||Ve.closed)&&fe.complete()}))})}(()=>fe,ue)}},8068:(Te,ae,D)=>{D.d(ae,{T:()=>B});var f=D(6805),I=D(4482),te=D(5403);function B(se=Z){return(0,I.e)((ee,K)=>{let re=!1;ee.subscribe(new te.Q(K,q=>{re=!0,K.next(q)},()=>re?K.complete():K.error(se())))})}function Z(){return new f.K}},7414:(Te,ae,D)=>{D.d(ae,{V:()=>re});var f=D(4986),I=D(1165),te=D(4482),B=D(8421),Z=D(3888),se=D(5403),ee=D(9672);const K=(0,Z.d)(ue=>function(Ne=null){ue(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ne});function re(ue,fe){const{first:Ne,each:$e,with:Be=q,scheduler:Ye=fe??f.z,meta:Ve=null}=(0,I.q)(ue)?{first:ue}:"number"==typeof ue?{each:ue}:ue;if(null==Ne&&null==$e)throw new TypeError("No timeout provided.");return(0,te.e)((We,ze)=>{let rt,ke,Re=null,Dt=0;const Ct=Qe=>{ke=(0,ee.f)(ze,Ye,()=>{try{rt.unsubscribe(),(0,B.Xf)(Be({meta:Ve,lastValue:Re,seen:Dt})).subscribe(ze)}catch(Mt){ze.error(Mt)}},Qe)};rt=We.subscribe(new se.Q(ze,Qe=>{ke?.unsubscribe(),Dt++,ze.next(Re=Qe),$e>0&&Ct($e)},void 0,void 0,()=>{ke?.closed||ke?.unsubscribe(),Re=null})),Ct(null!=Ne?"number"==typeof Ne?Ne:+Ne-Ye.now():$e)})}function q(ue){throw new K(ue)}},1365:(Te,ae,D)=>{D.d(ae,{M:()=>ee});var f=D(4482),I=D(5403),te=D(8421),B=D(4671),Z=D(5032),se=D(3269);function ee(...K){const re=(0,se.jO)(K);return(0,f.e)((q,ue)=>{const fe=K.length,Ne=new Array(fe);let $e=K.map(()=>!1),Be=!1;for(let Ye=0;Ye<fe;Ye++)(0,te.Xf)(K[Ye]).subscribe(new I.Q(ue,Ve=>{Ne[Ye]=Ve,!Be&&!$e[Ye]&&($e[Ye]=!0,(Be=$e.every(B.y))&&($e=null))},Z.Z));q.subscribe(new I.Q(ue,Ye=>{if(Be){const Ve=[Ye,...Ne];ue.next(re?re(...Ve):Ve)}}))})}},4408:(Te,ae,D)=>{D.d(ae,{o:()=>Z});var f=D(727);class I extends f.w0{constructor(ee,K){super()}schedule(ee,K=0){return this}}const te={setInterval(...se){const{delegate:ee}=te;return(ee?.setInterval||setInterval)(...se)},clearInterval(se){const{delegate:ee}=te;return(ee?.clearInterval||clearInterval)(se)},delegate:void 0};var B=D(8737);class Z extends I{constructor(ee,K){super(ee,K),this.scheduler=ee,this.work=K,this.pending=!1}schedule(ee,K=0){if(this.closed)return this;this.state=ee;const re=this.id,q=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(q,re,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(q,this.id,K),this}requestAsyncId(ee,K,re=0){return te.setInterval(ee.flush.bind(ee,this),re)}recycleAsyncId(ee,K,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return K;te.clearInterval(K)}execute(ee,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(ee,K);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,K){let q,re=!1;try{this.work(ee)}catch(ue){re=!0,q=ue||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ee,scheduler:K}=this,{actions:re}=K;this.work=this.state=this.scheduler=null,this.pending=!1,(0,B.P)(re,this),null!=ee&&(this.id=this.recycleAsyncId(K,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Te,ae,D)=>{D.d(ae,{v:()=>te});var f=D(6063);class I{constructor(Z,se=I.now){this.schedulerActionCtor=Z,this.now=se}schedule(Z,se=0,ee){return new this.schedulerActionCtor(this,Z).schedule(ee,se)}}I.now=f.l.now;class te extends I{constructor(Z,se=I.now){super(Z,se),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Z){const{actions:se}=this;if(this._active)return void se.push(Z);let ee;this._active=!0;do{if(ee=Z.execute(Z.state,Z.delay))break}while(Z=se.shift());if(this._active=!1,ee){for(;Z=se.shift();)Z.unsubscribe();throw ee}}}},4986:(Te,ae,D)=>{D.d(ae,{P:()=>B,z:()=>te});var f=D(4408);const te=new(D(7565).v)(f.o),B=te},6063:(Te,ae,D)=>{D.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Te,ae,D)=>{D.d(ae,{N:()=>Z});var f=D(4408),te=D(7565);const Z=new class B extends te.v{}(class I extends f.o{constructor(K,re){super(K,re),this.scheduler=K,this.work=re}schedule(K,re=0){return re>0?super.schedule(K,re):(this.delay=re,this.state=K,this.scheduler.flush(this),this)}execute(K,re){return re>0||this.closed?super.execute(K,re):this._execute(K,re)}requestAsyncId(K,re,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(K,re,q):K.flush(this)}})},3410:(Te,ae,D)=>{D.d(ae,{z:()=>f});const f={setTimeout(...I){const{delegate:te}=f;return(te?.setTimeout||setTimeout)(...I)},clearTimeout(I){const{delegate:te}=f;return(te?.clearTimeout||clearTimeout)(I)},delegate:void 0}},2202:(Te,ae,D)=>{D.d(ae,{h:()=>I});const I=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Te,ae,D)=>{D.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Te,ae,D)=>{D.d(ae,{K:()=>I});const I=(0,D(3888).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Te,ae,D)=>{D.d(ae,{_6:()=>se,jO:()=>B,yG:()=>Z});var f=D(576),I=D(3532);function te(ee){return ee[ee.length-1]}function B(ee){return(0,f.m)(te(ee))?ee.pop():void 0}function Z(ee){return(0,I.K)(te(ee))?ee.pop():void 0}function se(ee,K){return"number"==typeof te(ee)?ee.pop():K}},4742:(Te,ae,D)=>{D.d(ae,{D:()=>Z});const{isArray:f}=Array,{getPrototypeOf:I,prototype:te,keys:B}=Object;function Z(ee){if(1===ee.length){const K=ee[0];if(f(K))return{args:K,keys:null};if(function se(ee){return ee&&"object"==typeof ee&&I(ee)===te}(K)){const re=B(K);return{args:re.map(q=>K[q]),keys:re}}}return{args:ee,keys:null}}},8737:(Te,ae,D)=>{function f(I,te){if(I){const B=I.indexOf(te);0<=B&&I.splice(B,1)}}D.d(ae,{P:()=>f})},3888:(Te,ae,D)=>{function f(I){const B=I(Z=>{Error.call(Z),Z.stack=(new Error).stack});return B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B}D.d(ae,{d:()=>f})},1810:(Te,ae,D)=>{function f(I,te){return I.reduce((B,Z,se)=>(B[Z]=te[se],B),{})}D.d(ae,{n:()=>f})},2806:(Te,ae,D)=>{D.d(ae,{O:()=>B,x:()=>te});var f=D(2416);let I=null;function te(Z){if(f.v.useDeprecatedSynchronousErrorHandling){const se=!I;if(se&&(I={errorThrown:!1,error:null}),Z(),se){const{errorThrown:ee,error:K}=I;if(I=null,ee)throw K}}else Z()}function B(Z){f.v.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=Z)}},9672:(Te,ae,D)=>{function f(I,te,B,Z=0,se=!1){const ee=te.schedule(function(){B(),se?I.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(I.add(ee),!se)return ee}D.d(ae,{f:()=>f})},4671:(Te,ae,D)=>{function f(I){return I}D.d(ae,{y:()=>f})},1144:(Te,ae,D)=>{D.d(ae,{z:()=>f});const f=I=>I&&"number"==typeof I.length&&"function"!=typeof I},2206:(Te,ae,D)=>{D.d(ae,{D:()=>I});var f=D(576);function I(te){return Symbol.asyncIterator&&(0,f.m)(te?.[Symbol.asyncIterator])}},1165:(Te,ae,D)=>{function f(I){return I instanceof Date&&!isNaN(I)}D.d(ae,{q:()=>f})},576:(Te,ae,D)=>{function f(I){return"function"==typeof I}D.d(ae,{m:()=>f})},3670:(Te,ae,D)=>{D.d(ae,{c:()=>te});var f=D(8822),I=D(576);function te(B){return(0,I.m)(B[f.L])}},6495:(Te,ae,D)=>{D.d(ae,{T:()=>te});var f=D(2202),I=D(576);function te(B){return(0,I.m)(B?.[f.h])}},8239:(Te,ae,D)=>{D.d(ae,{t:()=>I});var f=D(576);function I(te){return(0,f.m)(te?.then)}},3260:(Te,ae,D)=>{D.d(ae,{L:()=>B,Q:()=>te});var f=D(655),I=D(576);function te(Z){return(0,f.FC)(this,arguments,function*(){const ee=Z.getReader();try{for(;;){const{value:K,done:re}=yield(0,f.qq)(ee.read());if(re)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(K)}}finally{ee.releaseLock()}})}function B(Z){return(0,I.m)(Z?.getReader)}},3532:(Te,ae,D)=>{D.d(ae,{K:()=>I});var f=D(576);function I(te){return te&&(0,f.m)(te.schedule)}},4482:(Te,ae,D)=>{D.d(ae,{A:()=>I,e:()=>te});var f=D(576);function I(B){return(0,f.m)(B?.lift)}function te(B){return Z=>{if(I(Z))return Z.lift(function(se){try{return B(se,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Te,ae,D)=>{D.d(ae,{Z:()=>B});var f=D(4004);const{isArray:I}=Array;function B(Z){return(0,f.U)(se=>function te(Z,se){return I(se)?Z(...se):Z(se)}(Z,se))}},5032:(Te,ae,D)=>{function f(){}D.d(ae,{Z:()=>f})},9635:(Te,ae,D)=>{D.d(ae,{U:()=>te,z:()=>I});var f=D(4671);function I(...B){return te(B)}function te(B){return 0===B.length?f.y:1===B.length?B[0]:function(se){return B.reduce((ee,K)=>K(ee),se)}}},7849:(Te,ae,D)=>{D.d(ae,{h:()=>te});var f=D(2416),I=D(3410);function te(B){I.z.setTimeout(()=>{const{onUnhandledError:Z}=f.v;if(!Z)throw B;Z(B)})}},4532:(Te,ae,D)=>{function f(I){return new TypeError(`You provided ${null!==I&&"object"==typeof I?"an invalid object":`'${I}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(ae,{z:()=>f})},655:(Te,ae,D)=>{function B(nt,qe){var at={};for(var Xe in nt)Object.prototype.hasOwnProperty.call(nt,Xe)&&qe.indexOf(Xe)<0&&(at[Xe]=nt[Xe]);if(null!=nt&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Xe=Object.getOwnPropertySymbols(nt);_t<Xe.length;_t++)qe.indexOf(Xe[_t])<0&&Object.prototype.propertyIsEnumerable.call(nt,Xe[_t])&&(at[Xe[_t]]=nt[Xe[_t]])}return at}function Z(nt,qe,at,Xe){var fn,_t=arguments.length,bt=_t<3?qe:null===Xe?Xe=Object.getOwnPropertyDescriptor(qe,at):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bt=Reflect.decorate(nt,qe,at,Xe);else for(var rr=nt.length-1;rr>=0;rr--)(fn=nt[rr])&&(bt=(_t<3?fn(bt):_t>3?fn(qe,at,bt):fn(qe,at))||bt);return _t>3&&bt&&Object.defineProperty(qe,at,bt),bt}function K(nt,qe,at,Xe){return new(at||(at=Promise))(function(bt,fn){function rr(Ln){try{Kt(Xe.next(Ln))}catch(En){fn(En)}}function dn(Ln){try{Kt(Xe.throw(Ln))}catch(En){fn(En)}}function Kt(Ln){Ln.done?bt(Ln.value):function _t(bt){return bt instanceof at?bt:new at(function(fn){fn(bt)})}(Ln.value).then(rr,dn)}Kt((Xe=Xe.apply(nt,qe||[])).next())})}function Ve(nt){return this instanceof Ve?(this.v=nt,this):new Ve(nt)}function We(nt,qe,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,Xe=at.apply(nt,qe||[]),bt=[];return _t={},fn("next"),fn("throw"),fn("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function fn(ir){Xe[ir]&&(_t[ir]=function(Kr){return new Promise(function(Mn,hn){bt.push([ir,Kr,Mn,hn])>1||rr(ir,Kr)})})}function rr(ir,Kr){try{!function dn(ir){ir.value instanceof Ve?Promise.resolve(ir.value.v).then(Kt,Ln):En(bt[0][2],ir)}(Xe[ir](Kr))}catch(Mn){En(bt[0][3],Mn)}}function Kt(ir){rr("next",ir)}function Ln(ir){rr("throw",ir)}function En(ir,Kr){ir(Kr),bt.shift(),bt.length&&rr(bt[0][0],bt[0][1])}}function rt(nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,qe=nt[Symbol.asyncIterator];return qe?qe.call(nt):(nt=function fe(nt){var qe="function"==typeof Symbol&&Symbol.iterator,at=qe&&nt[qe],Xe=0;if(at)return at.call(nt);if(nt&&"number"==typeof nt.length)return{next:function(){return nt&&Xe>=nt.length&&(nt=void 0),{value:nt&&nt[Xe++],done:!nt}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(nt),at={},Xe("next"),Xe("throw"),Xe("return"),at[Symbol.asyncIterator]=function(){return this},at);function Xe(bt){at[bt]=nt[bt]&&function(fn){return new Promise(function(rr,dn){!function _t(bt,fn,rr,dn){Promise.resolve(dn).then(function(Kt){bt({value:Kt,done:rr})},fn)}(rr,dn,(fn=nt[bt](fn)).done,fn.value)})}}}D.d(ae,{FC:()=>We,KL:()=>rt,_T:()=>B,gn:()=>Z,mG:()=>K,qq:()=>Ve})},9671:(Te,ae,D)=>{function f(te,B,Z,se,ee,K,re){try{var q=te[K](re),ue=q.value}catch(fe){return void Z(fe)}q.done?B(ue):Promise.resolve(ue).then(se,ee)}function I(te){return function(){var B=this,Z=arguments;return new Promise(function(se,ee){var K=te.apply(B,Z);function re(ue){f(K,se,ee,re,q,"next",ue)}function q(ue){f(K,se,ee,re,q,"throw",ue)}re(void 0)})}}D.d(ae,{Z:()=>I})},7340:(Te,ae,D)=>{D.d(ae,{EY:()=>Ye,F4:()=>q,IO:()=>Be,LC:()=>I,SB:()=>re,X$:()=>B,ZE:()=>ze,ZN:()=>We,_j:()=>f,eR:()=>ue,jt:()=>Z,k1:()=>rt,l3:()=>te,oB:()=>K,pV:()=>Ne,ru:()=>se,vP:()=>ee});class f{}class I{}const te="*";function B(ke,Re){return{type:7,name:ke,definitions:Re,options:{}}}function Z(ke,Re=null){return{type:4,styles:Re,timings:ke}}function se(ke,Re=null){return{type:3,steps:ke,options:Re}}function ee(ke,Re=null){return{type:2,steps:ke,options:Re}}function K(ke){return{type:6,styles:ke,offset:null}}function re(ke,Re,Dt){return{type:0,name:ke,styles:Re,options:Dt}}function q(ke){return{type:5,steps:ke}}function ue(ke,Re,Dt=null){return{type:1,expr:ke,animation:Re,options:Dt}}function Ne(ke=null){return{type:9,options:ke}}function Be(ke,Re,Dt=null){return{type:11,selector:ke,animation:Re,options:Dt}}function Ye(ke,Re){return{type:12,timings:ke,animation:Re}}function Ve(ke){Promise.resolve().then(ke)}class We{constructor(Re=0,Dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+Dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._originalOnStartFns.push(Re),this._onStartFns.push(Re)}onDone(Re){this._originalOnDoneFns.push(Re),this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ve(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const Dt="start"==Re?this._onStartFns:this._onDoneFns;Dt.forEach(Ct=>Ct()),Dt.length=0}}class ze{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let Dt=0,Ct=0,Qe=0;const Mt=this.players.length;0==Mt?Ve(()=>this._onFinish()):this.players.forEach(Tt=>{Tt.onDone(()=>{++Dt==Mt&&this._onFinish()}),Tt.onDestroy(()=>{++Ct==Mt&&this._onDestroy()}),Tt.onStart(()=>{++Qe==Mt&&this._onStart()})}),this.totalTime=this.players.reduce((Tt,nt)=>Math.max(Tt,nt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const Dt=Re*this.totalTime;this.players.forEach(Ct=>{const Qe=Ct.totalTime?Math.min(1,Dt/Ct.totalTime):1;Ct.setPosition(Qe)})}getPosition(){const Re=this.players.reduce((Dt,Ct)=>null===Dt||Ct.totalTime>Dt.totalTime?Ct:Dt,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const Dt="start"==Re?this._onStartFns:this._onDoneFns;Dt.forEach(Ct=>Ct()),Dt.length=0}}const rt="!"},6895:(Te,ae,D)=>{D.d(ae,{Do:()=>ze,ED:()=>Ee,EM:()=>ws,Gx:()=>bi,H9:()=>To,HT:()=>B,JF:()=>Mr,JJ:()=>Al,K0:()=>se,Mx:()=>ss,NF:()=>Vo,Nd:()=>zs,O5:()=>_i,OU:()=>Ta,Ov:()=>Si,PC:()=>Ht,RF:()=>Yr,S$:()=>Ye,Ts:()=>Hn,V_:()=>re,Ye:()=>rt,Zx:()=>Uo,_K:()=>Ms,b0:()=>We,bD:()=>os,ez:()=>Yi,gd:()=>Cn,i8:()=>ni,mk:()=>bn,n9:()=>Is,p6:()=>Yn,q:()=>te,rS:()=>ri,sg:()=>mr,tP:()=>zt,uU:()=>sr,w_:()=>Z});var f=D(4650);let I=null;function te(){return I}function B(P){I||(I=P)}class Z{}const se=new f.OlP("DocumentToken");let ee=(()=>{class P{historyGo(V){throw new Error("Not implemented")}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275prov=f.Yz7({token:P,factory:function(){return function K(){return(0,f.LFG)(q)}()},providedIn:"platform"}),P})();const re=new f.OlP("Location Initialized");let q=(()=>{class P extends ee{constructor(V){super(),this._doc=V,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(V){const le=te().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",V,!1),()=>le.removeEventListener("popstate",V)}onHashChange(V){const le=te().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",V,!1),()=>le.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,le,we){ue()?this._history.pushState(V,le,we):this._location.hash=we}replaceState(V,le,we){ue()?this._history.replaceState(V,le,we):this._location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return P.\u0275fac=function(V){return new(V||P)(f.LFG(se))},P.\u0275prov=f.Yz7({token:P,factory:function(){return function fe(){return new q((0,f.LFG)(se))}()},providedIn:"platform"}),P})();function ue(){return!!window.history.pushState}function Ne(P,Q){if(0==P.length)return Q;if(0==Q.length)return P;let V=0;return P.endsWith("/")&&V++,Q.startsWith("/")&&V++,2==V?P+Q.substring(1):1==V?P+Q:P+"/"+Q}function $e(P){const Q=P.match(/#|\?|$/),V=Q&&Q.index||P.length;return P.slice(0,V-("/"===P[V-1]?1:0))+P.slice(V)}function Be(P){return P&&"?"!==P[0]?"?"+P:P}let Ye=(()=>{class P{historyGo(V){throw new Error("Not implemented")}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275prov=f.Yz7({token:P,factory:function(){return(0,f.f3M)(We)},providedIn:"root"}),P})();const Ve=new f.OlP("appBaseHref");let We=(()=>{class P extends Ye{constructor(V,le){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=le??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Ne(this._baseHref,V)}path(V=!1){const le=this._platformLocation.pathname+Be(this._platformLocation.search),we=this._platformLocation.hash;return we&&V?`${le}${we}`:le}pushState(V,le,we,ht){const Et=this.prepareExternalUrl(we+Be(ht));this._platformLocation.pushState(V,le,Et)}replaceState(V,le,we,ht){const Et=this.prepareExternalUrl(we+Be(ht));this._platformLocation.replaceState(V,le,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return P.\u0275fac=function(V){return new(V||P)(f.LFG(ee),f.LFG(Ve,8))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),ze=(()=>{class P extends Ye{constructor(V,le){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(V){const le=Ne(this._baseHref,V);return le.length>0?"#"+le:le}pushState(V,le,we,ht){let Et=this.prepareExternalUrl(we+Be(ht));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(V,le,Et)}replaceState(V,le,we,ht){let Et=this.prepareExternalUrl(we+Be(ht));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(V,le,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return P.\u0275fac=function(V){return new(V||P)(f.LFG(ee),f.LFG(Ve,8))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac}),P})(),rt=(()=>{class P{constructor(V){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const le=this._locationStrategy.getBaseHref();this._basePath=function Ct(P){if(new RegExp("^(https?:)?//").test(P)){const[,V]=P.split(/\/\/[^\/]+/);return V}return P}($e(Dt(le))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,le=""){return this.path()==this.normalize(V+Be(le))}normalize(V){return P.stripTrailingSlash(function Re(P,Q){if(!P||!Q.startsWith(P))return Q;const V=Q.substring(P.length);return""===V||["/",";","?","#"].includes(V[0])?V:Q}(this._basePath,Dt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,le="",we=null){this._locationStrategy.pushState(we,"",V,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Be(le)),we)}replaceState(V,le="",we=null){this._locationStrategy.replaceState(we,"",V,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Be(le)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)})),()=>{const le=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",le){this._urlChangeListeners.forEach(we=>we(V,le))}subscribe(V,le,we){return this._subject.subscribe({next:V,error:le,complete:we})}}return P.normalizeQueryParams=Be,P.joinWithSlash=Ne,P.stripTrailingSlash=$e,P.\u0275fac=function(V){return new(V||P)(f.LFG(Ye))},P.\u0275prov=f.Yz7({token:P,factory:function(){return function ke(){return new rt((0,f.LFG)(Ye))}()},providedIn:"root"}),P})();function Dt(P){return P.replace(/\/index.html$/,"")}const Qe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Mt=(()=>((Mt=Mt||{})[Mt.Decimal=0]="Decimal",Mt[Mt.Percent=1]="Percent",Mt[Mt.Currency=2]="Currency",Mt[Mt.Scientific=3]="Scientific",Mt))(),Tt=(()=>((Tt=Tt||{})[Tt.Zero=0]="Zero",Tt[Tt.One=1]="One",Tt[Tt.Two=2]="Two",Tt[Tt.Few=3]="Few",Tt[Tt.Many=4]="Many",Tt[Tt.Other=5]="Other",Tt))(),nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),qe=(()=>((qe=qe||{})[qe.Narrow=0]="Narrow",qe[qe.Abbreviated=1]="Abbreviated",qe[qe.Wide=2]="Wide",qe[qe.Short=3]="Short",qe))(),at=(()=>((at=at||{})[at.Short=0]="Short",at[at.Medium=1]="Medium",at[at.Long=2]="Long",at[at.Full=3]="Full",at))(),Xe=(()=>((Xe=Xe||{})[Xe.Decimal=0]="Decimal",Xe[Xe.Group=1]="Group",Xe[Xe.List=2]="List",Xe[Xe.PercentSign=3]="PercentSign",Xe[Xe.PlusSign=4]="PlusSign",Xe[Xe.MinusSign=5]="MinusSign",Xe[Xe.Exponential=6]="Exponential",Xe[Xe.SuperscriptingExponent=7]="SuperscriptingExponent",Xe[Xe.PerMille=8]="PerMille",Xe[Xe.Infinity=9]="Infinity",Xe[Xe.NaN=10]="NaN",Xe[Xe.TimeSeparator=11]="TimeSeparator",Xe[Xe.CurrencyDecimal=12]="CurrencyDecimal",Xe[Xe.CurrencyGroup=13]="CurrencyGroup",Xe))();function ir(P,Q){return ur((0,f.cg1)(P)[f.wAp.DateFormat],Q)}function Kr(P,Q){return ur((0,f.cg1)(P)[f.wAp.TimeFormat],Q)}function Mn(P,Q){return ur((0,f.cg1)(P)[f.wAp.DateTimeFormat],Q)}function hn(P,Q){const V=(0,f.cg1)(P),le=V[f.wAp.NumberSymbols][Q];if(typeof le>"u"){if(Q===Xe.CurrencyDecimal)return V[f.wAp.NumberSymbols][Xe.Decimal];if(Q===Xe.CurrencyGroup)return V[f.wAp.NumberSymbols][Xe.Group]}return le}function si(P,Q){return(0,f.cg1)(P)[f.wAp.NumberFormats][Q]}const Lt=f.kL8;function Un(P){if(!P[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ur(P,Q){for(let V=Q;V>-1;V--)if(typeof P[V]<"u")return P[V];throw new Error("Locale data API: locale data undefined")}function ln(P){const[Q,V]=P.split(":");return{hours:+Q,minutes:+V}}const qr=2,Sr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tn={},Kn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var cr=(()=>((cr=cr||{})[cr.Short=0]="Short",cr[cr.ShortGMT=1]="ShortGMT",cr[cr.Long=2]="Long",cr[cr.Extended=3]="Extended",cr))(),un=(()=>((un=un||{})[un.FullYear=0]="FullYear",un[un.Month=1]="Month",un[un.Date=2]="Date",un[un.Hours=3]="Hours",un[un.Minutes=4]="Minutes",un[un.Seconds=5]="Seconds",un[un.FractionalSeconds=6]="FractionalSeconds",un[un.Day=7]="Day",un))(),qt=(()=>((qt=qt||{})[qt.DayPeriods=0]="DayPeriods",qt[qt.Days=1]="Days",qt[qt.Months=2]="Months",qt[qt.Eras=3]="Eras",qt))();function Yn(P,Q,V,le){let we=function Nt(P){if(Oe(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[we,ht=1,Et=1]=P.split("-").map(nn=>+nn);return yi(we,ht-1,Et)}const V=parseFloat(P);if(!isNaN(P-V))return new Date(V);let le;if(le=P.match(Sr))return function Wt(P){const Q=new Date(0);let V=0,le=0;const we=P[8]?Q.setUTCFullYear:Q.setFullYear,ht=P[8]?Q.setUTCHours:Q.setHours;P[9]&&(V=Number(P[9]+P[10]),le=Number(P[9]+P[11])),we.call(Q,Number(P[1]),Number(P[2])-1,Number(P[3]));const Et=Number(P[4]||0)-V,nn=Number(P[5]||0)-le,Zr=Number(P[6]||0),Rr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return ht.call(Q,Et,nn,Zr,Rr),Q}(le)}const Q=new Date(P);if(!Oe(Q))throw new Error(`Unable to convert "${P}" into a date`);return Q}(P);Q=Ur(V,Q)||Q;let nn,Et=[];for(;Q;){if(nn=Kn.exec(Q),!nn){Et.push(Q);break}{Et=Et.concat(nn.slice(1));const Wn=Et.pop();if(!Wn)break;Q=Wn}}let Zr=we.getTimezoneOffset();le&&(Zr=Ce(le,Zr),we=function Fe(P,Q,V){const le=V?-1:1,we=P.getTimezoneOffset();return function st(P,Q){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+Q),P}(P,le*(Ce(Q,we)-we))}(we,le,!0));let Rr="";return Et.forEach(Wn=>{const fr=function ve(P){if(ge[P])return ge[P];let Q;switch(P){case"G":case"GG":case"GGG":Q=jn(qt.Eras,qe.Abbreviated);break;case"GGGG":Q=jn(qt.Eras,qe.Wide);break;case"GGGGG":Q=jn(qt.Eras,qe.Narrow);break;case"y":Q=_r(un.FullYear,1,0,!1,!0);break;case"yy":Q=_r(un.FullYear,2,0,!0,!0);break;case"yyy":Q=_r(un.FullYear,3,0,!1,!0);break;case"yyyy":Q=_r(un.FullYear,4,0,!1,!0);break;case"Y":Q=Pt(1);break;case"YY":Q=Pt(2,!0);break;case"YYY":Q=Pt(3);break;case"YYYY":Q=Pt(4);break;case"M":case"L":Q=_r(un.Month,1,1);break;case"MM":case"LL":Q=_r(un.Month,2,1);break;case"MMM":Q=jn(qt.Months,qe.Abbreviated);break;case"MMMM":Q=jn(qt.Months,qe.Wide);break;case"MMMMM":Q=jn(qt.Months,qe.Narrow);break;case"LLL":Q=jn(qt.Months,qe.Abbreviated,nt.Standalone);break;case"LLLL":Q=jn(qt.Months,qe.Wide,nt.Standalone);break;case"LLLLL":Q=jn(qt.Months,qe.Narrow,nt.Standalone);break;case"w":Q=xe(1);break;case"ww":Q=xe(2);break;case"W":Q=xe(1,!0);break;case"d":Q=_r(un.Date,1);break;case"dd":Q=_r(un.Date,2);break;case"c":case"cc":Q=_r(un.Day,1);break;case"ccc":Q=jn(qt.Days,qe.Abbreviated,nt.Standalone);break;case"cccc":Q=jn(qt.Days,qe.Wide,nt.Standalone);break;case"ccccc":Q=jn(qt.Days,qe.Narrow,nt.Standalone);break;case"cccccc":Q=jn(qt.Days,qe.Short,nt.Standalone);break;case"E":case"EE":case"EEE":Q=jn(qt.Days,qe.Abbreviated);break;case"EEEE":Q=jn(qt.Days,qe.Wide);break;case"EEEEE":Q=jn(qt.Days,qe.Narrow);break;case"EEEEEE":Q=jn(qt.Days,qe.Short);break;case"a":case"aa":case"aaa":Q=jn(qt.DayPeriods,qe.Abbreviated);break;case"aaaa":Q=jn(qt.DayPeriods,qe.Wide);break;case"aaaaa":Q=jn(qt.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":Q=jn(qt.DayPeriods,qe.Abbreviated,nt.Standalone,!0);break;case"bbbb":Q=jn(qt.DayPeriods,qe.Wide,nt.Standalone,!0);break;case"bbbbb":Q=jn(qt.DayPeriods,qe.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":Q=jn(qt.DayPeriods,qe.Abbreviated,nt.Format,!0);break;case"BBBB":Q=jn(qt.DayPeriods,qe.Wide,nt.Format,!0);break;case"BBBBB":Q=jn(qt.DayPeriods,qe.Narrow,nt.Format,!0);break;case"h":Q=_r(un.Hours,1,-12);break;case"hh":Q=_r(un.Hours,2,-12);break;case"H":Q=_r(un.Hours,1);break;case"HH":Q=_r(un.Hours,2);break;case"m":Q=_r(un.Minutes,1);break;case"mm":Q=_r(un.Minutes,2);break;case"s":Q=_r(un.Seconds,1);break;case"ss":Q=_r(un.Seconds,2);break;case"S":Q=_r(un.FractionalSeconds,1);break;case"SS":Q=_r(un.FractionalSeconds,2);break;case"SSS":Q=_r(un.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=or(cr.Short);break;case"ZZZZZ":Q=or(cr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=or(cr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=or(cr.Long);break;default:return null}return ge[P]=Q,Q}(Wn);Rr+=fr?fr(we,V,Zr):"''"===Wn?"'":Wn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Rr}function yi(P,Q,V){const le=new Date(0);return le.setFullYear(P,Q,V),le.setHours(0,0,0),le}function Ur(P,Q){const V=function bt(P){return(0,f.cg1)(P)[f.wAp.LocaleId]}(P);if(Tn[V]=Tn[V]||{},Tn[V][Q])return Tn[V][Q];let le="";switch(Q){case"shortDate":le=ir(P,at.Short);break;case"mediumDate":le=ir(P,at.Medium);break;case"longDate":le=ir(P,at.Long);break;case"fullDate":le=ir(P,at.Full);break;case"shortTime":le=Kr(P,at.Short);break;case"mediumTime":le=Kr(P,at.Medium);break;case"longTime":le=Kr(P,at.Long);break;case"fullTime":le=Kr(P,at.Full);break;case"short":const we=Ur(P,"shortTime"),ht=Ur(P,"shortDate");le=gi(Mn(P,at.Short),[we,ht]);break;case"medium":const Et=Ur(P,"mediumTime"),nn=Ur(P,"mediumDate");le=gi(Mn(P,at.Medium),[Et,nn]);break;case"long":const Zr=Ur(P,"longTime"),Rr=Ur(P,"longDate");le=gi(Mn(P,at.Long),[Zr,Rr]);break;case"full":const Wn=Ur(P,"fullTime"),fr=Ur(P,"fullDate");le=gi(Mn(P,at.Full),[Wn,fr])}return le&&(Tn[V][Q]=le),le}function gi(P,Q){return Q&&(P=P.replace(/\{([^}]+)}/g,function(V,le){return null!=Q&&le in Q?Q[le]:V})),P}function Vr(P,Q,V="-",le,we){let ht="";(P<0||we&&P<=0)&&(we?P=1-P:(P=-P,ht=V));let Et=String(P);for(;Et.length<Q;)Et="0"+Et;return le&&(Et=Et.slice(Et.length-Q)),ht+Et}function _r(P,Q,V=0,le=!1,we=!1){return function(ht,Et){let nn=function Fi(P,Q){switch(P){case un.FullYear:return Q.getFullYear();case un.Month:return Q.getMonth();case un.Date:return Q.getDate();case un.Hours:return Q.getHours();case un.Minutes:return Q.getMinutes();case un.Seconds:return Q.getSeconds();case un.FractionalSeconds:return Q.getMilliseconds();case un.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,ht);if((V>0||nn>-V)&&(nn+=V),P===un.Hours)0===nn&&-12===V&&(nn=12);else if(P===un.FractionalSeconds)return function di(P,Q){return Vr(P,3).substring(0,Q)}(nn,Q);const Zr=hn(Et,Xe.MinusSign);return Vr(nn,Q,Zr,le,we)}}function jn(P,Q,V=nt.Format,le=!1){return function(we,ht){return function is(P,Q,V,le,we,ht){switch(V){case qt.Months:return function dn(P,Q,V){const le=(0,f.cg1)(P),ht=ur([le[f.wAp.MonthsFormat],le[f.wAp.MonthsStandalone]],Q);return ur(ht,V)}(Q,we,le)[P.getMonth()];case qt.Days:return function rr(P,Q,V){const le=(0,f.cg1)(P),ht=ur([le[f.wAp.DaysFormat],le[f.wAp.DaysStandalone]],Q);return ur(ht,V)}(Q,we,le)[P.getDay()];case qt.DayPeriods:const Et=P.getHours(),nn=P.getMinutes();if(ht){const Rr=function Zn(P){const Q=(0,f.cg1)(P);return Un(Q),(Q[f.wAp.ExtraData][2]||[]).map(le=>"string"==typeof le?ln(le):[ln(le[0]),ln(le[1])])}(Q),Wn=function Lr(P,Q,V){const le=(0,f.cg1)(P);Un(le);const ht=ur([le[f.wAp.ExtraData][0],le[f.wAp.ExtraData][1]],Q)||[];return ur(ht,V)||[]}(Q,we,le),fr=Rr.findIndex($n=>{if(Array.isArray($n)){const[sn,Fr]=$n,ao=Et>=sn.hours&&nn>=sn.minutes,pr=Et<Fr.hours||Et===Fr.hours&&nn<Fr.minutes;if(sn.hours<Fr.hours){if(ao&&pr)return!0}else if(ao||pr)return!0}else if($n.hours===Et&&$n.minutes===nn)return!0;return!1});if(-1!==fr)return Wn[fr]}return function fn(P,Q,V){const le=(0,f.cg1)(P),ht=ur([le[f.wAp.DayPeriodsFormat],le[f.wAp.DayPeriodsStandalone]],Q);return ur(ht,V)}(Q,we,le)[Et<12?0:1];case qt.Eras:return function Kt(P,Q){return ur((0,f.cg1)(P)[f.wAp.Eras],Q)}(Q,le)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(we,ht,P,Q,V,le)}}function or(P){return function(Q,V,le){const we=-1*le,ht=hn(V,Xe.MinusSign),Et=we>0?Math.floor(we/60):Math.ceil(we/60);switch(P){case cr.Short:return(we>=0?"+":"")+Vr(Et,2,ht)+Vr(Math.abs(we%60),2,ht);case cr.ShortGMT:return"GMT"+(we>=0?"+":"")+Vr(Et,1,ht);case cr.Long:return"GMT"+(we>=0?"+":"")+Vr(Et,2,ht)+":"+Vr(Math.abs(we%60),2,ht);case cr.Extended:return 0===le?"Z":(we>=0?"+":"")+Vr(Et,2,ht)+":"+Vr(Math.abs(we%60),2,ht);default:throw new Error(`Unknown zone width "${P}"`)}}}const Pi=0,Jr=4;function Se(P){return yi(P.getFullYear(),P.getMonth(),P.getDate()+(Jr-P.getDay()))}function xe(P,Q=!1){return function(V,le){let we;if(Q){const ht=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Et=V.getDate();we=1+Math.floor((Et+ht)/7)}else{const ht=Se(V),Et=function Je(P){const Q=yi(P,Pi,1).getDay();return yi(P,0,1+(Q<=Jr?Jr:Jr+7)-Q)}(ht.getFullYear()),nn=ht.getTime()-Et.getTime();we=1+Math.round(nn/6048e5)}return Vr(we,P,hn(le,Xe.MinusSign))}}function Pt(P,Q=!1){return function(V,le){return Vr(Se(V).getFullYear(),P,hn(le,Xe.MinusSign),Q)}}const ge={};function Ce(P,Q){P=P.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(V)?Q:V}function Oe(P){return P instanceof Date&&!isNaN(P.valueOf())}const Pe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,he=22,Ae=".",Ke="0",kt=";",rn=",",Xn="#",Dr="\xa4";function pt(P,Q,V,le,we,ht,Et=!1){let nn="",Zr=!1;if(isFinite(P)){let Rr=function cn(P){let le,we,ht,Et,nn,Q=Math.abs(P)+"",V=0;for((we=Q.indexOf(Ae))>-1&&(Q=Q.replace(Ae,"")),(ht=Q.search(/e/i))>0?(we<0&&(we=ht),we+=+Q.slice(ht+1),Q=Q.substring(0,ht)):we<0&&(we=Q.length),ht=0;Q.charAt(ht)===Ke;ht++);if(ht===(nn=Q.length))le=[0],we=1;else{for(nn--;Q.charAt(nn)===Ke;)nn--;for(we-=ht,le=[],Et=0;ht<=nn;ht++,Et++)le[Et]=Number(Q.charAt(ht))}return we>he&&(le=le.splice(0,he-1),V=we-1,we=1),{digits:le,exponent:V,integerLen:we}}(P);Et&&(Rr=function Qn(P){if(0===P.digits[0])return P;const Q=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===Q?P.digits.push(0,0):1===Q&&P.digits.push(0),P.integerLen+=2),P}(Rr));let Wn=Q.minInt,fr=Q.minFrac,$n=Q.maxFrac;if(ht){const Ji=ht.match(Pe);if(null===Ji)throw new Error(`${ht} is not a valid digit info`);const Vn=Ji[1],Jo=Ji[3],xr=Ji[5];null!=Vn&&(Wn=nr(Vn)),null!=Jo&&(fr=nr(Jo)),null!=xr?$n=nr(xr):null!=Jo&&fr>$n&&($n=fr)}!function dr(P,Q,V){if(Q>V)throw new Error(`The minimum number of digits after fraction (${Q}) is higher than the maximum (${V}).`);let le=P.digits,we=le.length-P.integerLen;const ht=Math.min(Math.max(Q,we),V);let Et=ht+P.integerLen,nn=le[Et];if(Et>0){le.splice(Math.max(P.integerLen,Et));for(let fr=Et;fr<le.length;fr++)le[fr]=0}else{we=Math.max(0,we),P.integerLen=1,le.length=Math.max(1,Et=ht+1),le[0]=0;for(let fr=1;fr<Et;fr++)le[fr]=0}if(nn>=5)if(Et-1<0){for(let fr=0;fr>Et;fr--)le.unshift(0),P.integerLen++;le.unshift(1),P.integerLen++}else le[Et-1]++;for(;we<Math.max(0,ht);we++)le.push(0);let Zr=0!==ht;const Rr=Q+P.integerLen,Wn=le.reduceRight(function(fr,$n,sn,Fr){return Fr[sn]=($n+=fr)<10?$n:$n-10,Zr&&(0===Fr[sn]&&sn>=Rr?Fr.pop():Zr=!1),$n>=10?1:0},0);Wn&&(le.unshift(Wn),P.integerLen++)}(Rr,fr,$n);let sn=Rr.digits,Fr=Rr.integerLen;const ao=Rr.exponent;let pr=[];for(Zr=sn.every(Ji=>!Ji);Fr<Wn;Fr++)sn.unshift(0);for(;Fr<0;Fr++)sn.unshift(0);Fr>0?pr=sn.splice(Fr,sn.length):(pr=sn,sn=[0]);const yn=[];for(sn.length>=Q.lgSize&&yn.unshift(sn.splice(-Q.lgSize,sn.length).join(""));sn.length>Q.gSize;)yn.unshift(sn.splice(-Q.gSize,sn.length).join(""));sn.length&&yn.unshift(sn.join("")),nn=yn.join(hn(V,le)),pr.length&&(nn+=hn(V,we)+pr.join("")),ao&&(nn+=hn(V,Xe.Exponential)+"+"+ao)}else nn=hn(V,Xe.Infinity);return nn=P<0&&!Zr?Q.negPre+nn+Q.negSuf:Q.posPre+nn+Q.posSuf,nn}function Pn(P,Q="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},le=P.split(kt),we=le[0],ht=le[1],Et=-1!==we.indexOf(Ae)?we.split(Ae):[we.substring(0,we.lastIndexOf(Ke)+1),we.substring(we.lastIndexOf(Ke)+1)],nn=Et[0],Zr=Et[1]||"";V.posPre=nn.substring(0,nn.indexOf(Xn));for(let Wn=0;Wn<Zr.length;Wn++){const fr=Zr.charAt(Wn);fr===Ke?V.minFrac=V.maxFrac=Wn+1:fr===Xn?V.maxFrac=Wn+1:V.posSuf+=fr}const Rr=nn.split(rn);if(V.gSize=Rr[1]?Rr[1].length:0,V.lgSize=Rr[2]||Rr[1]?(Rr[2]||Rr[1]).length:0,ht){const Wn=we.length-V.posPre.length-V.posSuf.length,fr=ht.indexOf(Xn);V.negPre=ht.substring(0,fr).replace(/'/g,""),V.negSuf=ht.slice(fr+Wn).replace(/'/g,"")}else V.negPre=Q+V.posPre,V.negSuf=V.posSuf;return V}function nr(P){const Q=parseInt(P);if(isNaN(Q))throw new Error("Invalid integer literal when parsing "+P);return Q}let ei=(()=>{class P{}return P.\u0275fac=function(V){return new(V||P)},P.\u0275prov=f.Yz7({token:P,factory:function(V){let le=null;return V?le=new V:(we=f.LFG(f.soG),le=new bs(we)),le;var we},providedIn:"root"}),P})();let bs=(()=>{class P extends ei{constructor(V){super(),this.locale=V}getPluralCategory(V,le){switch(Lt(le||this.locale)(V)){case Tt.Zero:return"zero";case Tt.One:return"one";case Tt.Two:return"two";case Tt.Few:return"few";case Tt.Many:return"many";default:return"other"}}}return P.\u0275fac=function(V){return new(V||P)(f.LFG(f.soG))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac}),P})();function ss(P,Q){Q=encodeURIComponent(Q);for(const V of P.split(";")){const le=V.indexOf("="),[we,ht]=-1==le?[V,""]:[V.slice(0,le),V.slice(le+1)];if(we.trim()===Q)return decodeURIComponent(ht)}return null}const Br=/\s+/,Bt=[];let bn=(()=>{class P{constructor(V,le,we,ht){this._iterableDiffers=V,this._keyValueDiffers=le,this._ngEl=we,this._renderer=ht,this.initialClasses=Bt,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(Br):Bt}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(Br):V}ngDoCheck(){for(const le of this.initialClasses)this._updateState(le,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const le of V)this._updateState(le,!0);else if(null!=V)for(const le of Object.keys(V))this._updateState(le,Boolean(V[le]));this._applyStateDiff()}_updateState(V,le){const we=this.stateMap.get(V);void 0!==we?(we.enabled!==le&&(we.changed=!0,we.enabled=le),we.touched=!0):this.stateMap.set(V,{enabled:le,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const le=V[0],we=V[1];we.changed?(this._toggleClass(le,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(le,!1),this.stateMap.delete(le)),we.touched=!1}}_toggleClass(V,le){(V=V.trim()).length>0&&V.split(Br).forEach(we=>{le?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class tr{constructor(Q,V,le,we){this.$implicit=Q,this.ngForOf=V,this.index=le,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class P{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,le,we){this._viewContainer=V,this._template=le,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const le=this._viewContainer;V.forEachOperation((we,ht,Et)=>{if(null==we.previousIndex)le.createEmbeddedView(this._template,new tr(we.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)le.remove(null===ht?void 0:ht);else if(null!==ht){const nn=le.get(ht);le.move(nn,Et),br(nn,we)}});for(let we=0,ht=le.length;we<ht;we++){const nn=le.get(we).context;nn.index=we,nn.count=ht,nn.ngForOf=this._ngForOf}V.forEachIdentityChange(we=>{br(le.get(we.currentIndex),we)})}static ngTemplateContextGuard(V,le){return!0}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function br(P,Q){P.context.$implicit=Q.item}let _i=(()=>{class P{constructor(V,le){this._viewContainer=V,this._context=new Rn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){vr("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){vr("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,le){return!0}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.s_b),f.Y36(f.Rgc))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class Rn{constructor(){this.$implicit=null,this.ngIf=null}}function vr(P,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,f.AaK)(Q)}'.`)}class xn{constructor(Q,V){this._viewContainerRef=Q,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Yr=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews.push(V)}_matchCase(V){const le=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),le}_updateDefaultCases(V){if(this._defaultViews.length>0&&V!==this._defaultUsed){this._defaultUsed=V;for(const le of this._defaultViews)le.enforceState(V)}}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275dir=f.lG2({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),P})(),Is=(()=>{class P{constructor(V,le,we){this.ngSwitch=we,we._addCase(),this._view=new xn(V,le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Yr,9))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),P})(),Ee=(()=>{class P{constructor(V,le,we){we._addDefault(new xn(V,le))}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Yr,9))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0}),P})(),Ht=(()=>{class P{constructor(V,le,we){this._ngEl=V,this._differs=le,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,le){const[we,ht]=V.split("."),Et=-1===we.indexOf("-")?void 0:f.JOm.DashCase;null!=le?this._renderer.setStyle(this._ngEl.nativeElement,we,ht?`${le}${ht}`:le,Et):this._renderer.removeStyle(this._ngEl.nativeElement,we,Et)}_applyChanges(V){V.forEachRemovedItem(le=>this._setStyle(le.key,null)),V.forEachAddedItem(le=>this._setStyle(le.key,le.currentValue)),V.forEachChangedItem(le=>this._setStyle(le.key,le.currentValue))}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),P})(),zt=(()=>{class P{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const le=this._viewContainerRef;if(this._viewRef&&le.remove(le.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:ht,ngTemplateOutletInjector:Et}=this;this._viewRef=le.createEmbeddedView(we,ht,Et?{injector:Et}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.s_b))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),P})();function hr(P,Q){return new f.vHH(2100,!1)}class ar{createSubscription(Q,V){return Q.subscribe({next:V,error:le=>{throw le}})}dispose(Q){Q.unsubscribe()}}class hi{createSubscription(Q,V){return Q.then(V,le=>{throw le})}dispose(Q){}}const Er=new hi,Ar=new ar;let Si=(()=>{class P{constructor(V){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=V}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,le=>this._updateLatestValue(V,le))}_selectStrategy(V){if((0,f.QGY)(V))return Er;if((0,f.F4k)(V))return Ar;throw hr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,le){V===this._obj&&(this._latestValue=le,this._ref.markForCheck())}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.sBO,16))},P.\u0275pipe=f.Yjl({name:"async",type:P,pure:!1,standalone:!0}),P})(),ni=(()=>{class P{transform(V){if(null==V)return null;if("string"!=typeof V)throw hr();return V.toLowerCase()}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275pipe=f.Yjl({name:"lowercase",type:P,pure:!0,standalone:!0}),P})();const wa=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ri=(()=>{class P{transform(V){if(null==V)return null;if("string"!=typeof V)throw hr();return V.replace(wa,le=>le[0].toUpperCase()+le.slice(1).toLowerCase())}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275pipe=f.Yjl({name:"titlecase",type:P,pure:!0,standalone:!0}),P})(),Cn=(()=>{class P{transform(V){if(null==V)return null;if("string"!=typeof V)throw hr();return V.toUpperCase()}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275pipe=f.Yjl({name:"uppercase",type:P,pure:!0,standalone:!0}),P})();const Ws=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Gi=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let sr=(()=>{class P{constructor(V,le,we){this.locale=V,this.defaultTimezone=le,this.defaultOptions=we}transform(V,le,we,ht){if(null==V||""===V||V!=V)return null;try{return Yn(V,le??this.defaultOptions?.dateFormat??"mediumDate",ht||this.locale,we??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Et){throw hr()}}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.soG,16),f.Y36(Ws,24),f.Y36(Gi,24))},P.\u0275pipe=f.Yjl({name:"date",type:P,pure:!0,standalone:!0}),P})();const to=/#/g;let bi=(()=>{class P{constructor(V){this._localization=V}transform(V,le,we){if(null==V)return"";if("object"!=typeof le||null===le)throw hr();return le[function ti(P,Q,V,le){let we=`=${P}`;if(Q.indexOf(we)>-1||(we=V.getPluralCategory(P,le),Q.indexOf(we)>-1))return we;if(Q.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${P}"`)}(V,Object.keys(le),this._localization,we)].replace(to,V.toString())}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(ei,16))},P.\u0275pipe=f.Yjl({name:"i18nPlural",type:P,pure:!0,standalone:!0}),P})(),Ms=(()=>{class P{transform(V,le){if(null==V)return"";if("object"!=typeof le||"string"!=typeof V)throw hr();return le.hasOwnProperty(V)?le[V]:le.hasOwnProperty("other")?le.other:""}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275pipe=f.Yjl({name:"i18nSelect",type:P,pure:!0,standalone:!0}),P})(),Hn=(()=>{class P{transform(V){return JSON.stringify(V,null,2)}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275pipe=f.Yjl({name:"json",type:P,pure:!1,standalone:!0}),P})(),zs=(()=>{class P{constructor(V){this.differs=V,this.keyValues=[],this.compareFn=no}transform(V,le=no){if(!V||!(V instanceof Map)&&"object"!=typeof V)return null;this.differ||(this.differ=this.differs.find(V).create());const we=this.differ.diff(V),ht=le!==this.compareFn;return we&&(this.keyValues=[],we.forEachItem(Et=>{this.keyValues.push(function fo(P,Q){return{key:P,value:Q}}(Et.key,Et.currentValue))})),(we||ht)&&(this.keyValues.sort(le),this.compareFn=le),this.keyValues}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.aQg,16))},P.\u0275pipe=f.Yjl({name:"keyvalue",type:P,pure:!1,standalone:!0}),P})();function no(P,Q){const V=P.key,le=Q.key;if(V===le)return 0;if(void 0===V)return 1;if(void 0===le)return-1;if(null===V)return 1;if(null===le)return-1;if("string"==typeof V&&"string"==typeof le)return V<le?-1:1;if("number"==typeof V&&"number"==typeof le)return V-le;if("boolean"==typeof V&&"boolean"==typeof le)return V<le?-1:1;const we=String(V),ht=String(le);return we==ht?0:we<ht?-1:1}let Al=(()=>{class P{constructor(V){this._locale=V}transform(V,le,we){if(!So(V))return null;we=we||this._locale;try{return function Zt(P,Q,V){return pt(P,Pn(si(Q,Mt.Decimal),hn(Q,Xe.MinusSign)),Q,Xe.Group,Xe.Decimal,V)}(Wi(V),we,le)}catch(ht){throw hr()}}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.soG,16))},P.\u0275pipe=f.Yjl({name:"number",type:P,pure:!0,standalone:!0}),P})(),Uo=(()=>{class P{constructor(V){this._locale=V}transform(V,le,we){if(!So(V))return null;we=we||this._locale;try{return function xt(P,Q,V){return pt(P,Pn(si(Q,Mt.Percent),hn(Q,Xe.MinusSign)),Q,Xe.Group,Xe.Decimal,V,!0).replace(new RegExp("%","g"),hn(Q,Xe.PercentSign))}(Wi(V),we,le)}catch(ht){throw hr()}}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.soG,16))},P.\u0275pipe=f.Yjl({name:"percent",type:P,pure:!0,standalone:!0}),P})(),To=(()=>{class P{constructor(V,le="USD"){this._locale=V,this._defaultCurrencyCode=le}transform(V,le=this._defaultCurrencyCode,we="symbol",ht,Et){if(!So(V))return null;Et=Et||this._locale,"boolean"==typeof we&&(we=we?"symbol":"code");let nn=le||this._defaultCurrencyCode;"code"!==we&&(nn="symbol"===we||"symbol-narrow"===we?function Li(P,Q,V="en"){const le=function yt(P){return(0,f.cg1)(P)[f.wAp.Currencies]}(V)[P]||Qe[P]||[],we=le[1];return"narrow"===Q&&"string"==typeof we?we:le[0]||P}(nn,"symbol"===we?"wide":"narrow",Et):we);try{return function tt(P,Q,V,le,we){const Et=Pn(si(Q,Mt.Currency),hn(Q,Xe.MinusSign));return Et.minFrac=function Ir(P){let Q;const V=Qe[P];return V&&(Q=V[2]),"number"==typeof Q?Q:qr}(le),Et.maxFrac=Et.minFrac,pt(P,Et,Q,Xe.CurrencyGroup,Xe.CurrencyDecimal,we).replace(Dr,V).replace(Dr,"").trim()}(Wi(V),Et,nn,le,ht)}catch(Zr){throw hr()}}}return P.\u0275fac=function(V){return new(V||P)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},P.\u0275pipe=f.Yjl({name:"currency",type:P,pure:!0,standalone:!0}),P})();function So(P){return!(null==P||""===P||P!=P)}function Wi(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}let Ta=(()=>{class P{transform(V,le,we){if(null==V)return null;if(!this.supports(V))throw hr();return V.slice(le,we)}supports(V){return"string"==typeof V||Array.isArray(V)}}return P.\u0275fac=function(V){return new(V||P)},P.\u0275pipe=f.Yjl({name:"slice",type:P,pure:!1,standalone:!0}),P})(),Yi=(()=>{class P{}return P.\u0275fac=function(V){return new(V||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({}),P})();const os="browser";function Vo(P){return P===os}let ws=(()=>{class P{}return P.\u0275prov=(0,f.Yz7)({token:P,providedIn:"root",factory:()=>new Fn((0,f.LFG)(se),window)}),P})();class Fn{constructor(Q,V){this.document=Q,this.window=V,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const V=function Os(P,Q){const V=P.getElementById(Q)||P.getElementsByName(Q)[0];if(V)return V;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const le=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let we=le.currentNode;for(;we;){const ht=we.shadowRoot;if(ht){const Et=ht.getElementById(Q)||ht.querySelector(`[name="${Q}"]`);if(Et)return Et}we=le.nextNode()}}return null}(this.document,Q);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Q)}}scrollToElement(Q){const V=Q.getBoundingClientRect(),le=V.left+this.window.pageXOffset,we=V.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(le-ht[0],we-ht[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=yo(this.window.history)||yo(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yo(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Mr{}},529:(Te,ae,D)=>{D.d(ae,{Ed:()=>Pi,JF:()=>or,LE:()=>We,TP:()=>Kt,UA:()=>Xe,WM:()=>q,Zn:()=>at,eN:()=>bt});var f=D(6895),I=D(4650),te=D(9646),B=D(9751),Z=D(4351),se=D(9300),ee=D(4004);class K{}class re{}class q{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?this.lazyInit="string"==typeof Se?()=>{this.headers=new Map,Se.split("\n").forEach(xe=>{const Pt=xe.indexOf(":");if(Pt>0){const ge=xe.slice(0,Pt),ve=ge.toLowerCase(),Ce=xe.slice(Pt+1).trim();this.maybeSetNormalizedName(ge,ve),this.headers.has(ve)?this.headers.get(ve).push(Ce):this.headers.set(ve,[Ce])}})}:()=>{this.headers=new Map,Object.entries(Se).forEach(([xe,Pt])=>{let ge;if(ge="string"==typeof Pt?[Pt]:"number"==typeof Pt?[Pt.toString()]:Pt.map(ve=>ve.toString()),ge.length>0){const ve=xe.toLowerCase();this.headers.set(ve,ge),this.maybeSetNormalizedName(xe,ve)}})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const xe=this.headers.get(Se.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,xe){return this.clone({name:Se,value:xe,op:"a"})}set(Se,xe){return this.clone({name:Se,value:xe,op:"s"})}delete(Se,xe){return this.clone({name:Se,value:xe,op:"d"})}maybeSetNormalizedName(Se,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,Se)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach(xe=>{this.headers.set(xe,Se.headers.get(xe)),this.normalizedNames.set(xe,Se.normalizedNames.get(xe))})}clone(Se){const xe=new q;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),xe}applyUpdate(Se){const xe=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let Pt=Se.value;if("string"==typeof Pt&&(Pt=[Pt]),0===Pt.length)return;this.maybeSetNormalizedName(Se.name,xe);const ge=("a"===Se.op?this.headers.get(xe):void 0)||[];ge.push(...Pt),this.headers.set(xe,ge);break;case"d":const ve=Se.value;if(ve){let Ce=this.headers.get(xe);if(!Ce)return;Ce=Ce.filter(st=>-1===ve.indexOf(st)),0===Ce.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,Ce)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>Se(this.normalizedNames.get(xe),this.headers.get(xe)))}}class fe{encodeKey(Se){return Ye(Se)}encodeValue(Se){return Ye(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const $e=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye(Je){return encodeURIComponent(Je).replace($e,(Se,xe)=>Be[xe]??Se)}function Ve(Je){return`${Je}`}class We{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new fe,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne(Je,Se){const xe=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(ge=>{const ve=ge.indexOf("="),[Ce,st]=-1==ve?[Se.decodeKey(ge),""]:[Se.decodeKey(ge.slice(0,ve)),Se.decodeValue(ge.slice(ve+1))],Fe=xe.get(Ce)||[];Fe.push(st),xe.set(Ce,Fe)}),xe}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach(xe=>{const Pt=Se.fromObject[xe],ge=Array.isArray(Pt)?Pt.map(Ve):[Ve(Pt)];this.map.set(xe,ge)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const xe=this.map.get(Se);return xe?xe[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,xe){return this.clone({param:Se,value:xe,op:"a"})}appendAll(Se){const xe=[];return Object.keys(Se).forEach(Pt=>{const ge=Se[Pt];Array.isArray(ge)?ge.forEach(ve=>{xe.push({param:Pt,value:ve,op:"a"})}):xe.push({param:Pt,value:ge,op:"a"})}),this.clone(xe)}set(Se,xe){return this.clone({param:Se,value:xe,op:"s"})}delete(Se,xe){return this.clone({param:Se,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const xe=this.encoder.encodeKey(Se);return this.map.get(Se).map(Pt=>xe+"="+this.encoder.encodeValue(Pt)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const xe=new We({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(Se),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const xe=("a"===Se.op?this.map.get(Se.param):void 0)||[];xe.push(Ve(Se.value)),this.map.set(Se.param,xe);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let Pt=this.map.get(Se.param)||[];const ge=Pt.indexOf(Ve(Se.value));-1!==ge&&Pt.splice(ge,1),Pt.length>0?this.map.set(Se.param,Pt):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class rt{constructor(){this.map=new Map}set(Se,xe){return this.map.set(Se,xe),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function Re(Je){return typeof ArrayBuffer<"u"&&Je instanceof ArrayBuffer}function Dt(Je){return typeof Blob<"u"&&Je instanceof Blob}function Ct(Je){return typeof FormData<"u"&&Je instanceof FormData}class Mt{constructor(Se,xe,Pt,ge){let ve;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function ke(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ge?(this.body=void 0!==Pt?Pt:null,ve=ge):ve=Pt,ve&&(this.reportProgress=!!ve.reportProgress,this.withCredentials=!!ve.withCredentials,ve.responseType&&(this.responseType=ve.responseType),ve.headers&&(this.headers=ve.headers),ve.context&&(this.context=ve.context),ve.params&&(this.params=ve.params)),this.headers||(this.headers=new q),this.context||(this.context=new rt),this.params){const Ce=this.params.toString();if(0===Ce.length)this.urlWithParams=xe;else{const st=xe.indexOf("?");this.urlWithParams=xe+(-1===st?"?":st<xe.length-1?"&":"")+Ce}}else this.params=new We,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Re(this.body)||Dt(this.body)||Ct(this.body)||function Qe(Je){return typeof URLSearchParams<"u"&&Je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ct(this.body)?null:Dt(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const xe=Se.method||this.method,Pt=Se.url||this.url,ge=Se.responseType||this.responseType,ve=void 0!==Se.body?Se.body:this.body,Ce=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,st=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let Fe=Se.headers||this.headers,Nt=Se.params||this.params;const Wt=Se.context??this.context;return void 0!==Se.setHeaders&&(Fe=Object.keys(Se.setHeaders).reduce((Oe,Pe)=>Oe.set(Pe,Se.setHeaders[Pe]),Fe)),Se.setParams&&(Nt=Object.keys(Se.setParams).reduce((Oe,Pe)=>Oe.set(Pe,Se.setParams[Pe]),Nt)),new Mt(xe,Pt,ve,{params:Nt,headers:Fe,context:Wt,reportProgress:st,responseType:ge,withCredentials:Ce})}}var Tt=(()=>((Tt=Tt||{})[Tt.Sent=0]="Sent",Tt[Tt.UploadProgress=1]="UploadProgress",Tt[Tt.ResponseHeader=2]="ResponseHeader",Tt[Tt.DownloadProgress=3]="DownloadProgress",Tt[Tt.Response=4]="Response",Tt[Tt.User=5]="User",Tt))();class nt{constructor(Se,xe=200,Pt="OK"){this.headers=Se.headers||new q,this.status=void 0!==Se.status?Se.status:xe,this.statusText=Se.statusText||Pt,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class qe extends nt{constructor(Se={}){super(Se),this.type=Tt.ResponseHeader}clone(Se={}){return new qe({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class at extends nt{constructor(Se={}){super(Se),this.type=Tt.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new at({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Xe extends nt{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function _t(Je,Se){return{body:Se,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let bt=(()=>{class Je{constructor(xe){this.handler=xe}request(xe,Pt,ge={}){let ve;if(xe instanceof Mt)ve=xe;else{let Fe,Nt;Fe=ge.headers instanceof q?ge.headers:new q(ge.headers),ge.params&&(Nt=ge.params instanceof We?ge.params:new We({fromObject:ge.params})),ve=new Mt(xe,Pt,void 0!==ge.body?ge.body:null,{headers:Fe,context:ge.context,params:Nt,reportProgress:ge.reportProgress,responseType:ge.responseType||"json",withCredentials:ge.withCredentials})}const Ce=(0,te.of)(ve).pipe((0,Z.b)(Fe=>this.handler.handle(Fe)));if(xe instanceof Mt||"events"===ge.observe)return Ce;const st=Ce.pipe((0,se.h)(Fe=>Fe instanceof at));switch(ge.observe||"body"){case"body":switch(ve.responseType){case"arraybuffer":return st.pipe((0,ee.U)(Fe=>{if(null!==Fe.body&&!(Fe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Fe.body}));case"blob":return st.pipe((0,ee.U)(Fe=>{if(null!==Fe.body&&!(Fe.body instanceof Blob))throw new Error("Response is not a Blob.");return Fe.body}));case"text":return st.pipe((0,ee.U)(Fe=>{if(null!==Fe.body&&"string"!=typeof Fe.body)throw new Error("Response is not a string.");return Fe.body}));default:return st.pipe((0,ee.U)(Fe=>Fe.body))}case"response":return st;default:throw new Error(`Unreachable: unhandled observe type ${ge.observe}}`)}}delete(xe,Pt={}){return this.request("DELETE",xe,Pt)}get(xe,Pt={}){return this.request("GET",xe,Pt)}head(xe,Pt={}){return this.request("HEAD",xe,Pt)}jsonp(xe,Pt){return this.request("JSONP",xe,{params:(new We).append(Pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,Pt={}){return this.request("OPTIONS",xe,Pt)}patch(xe,Pt,ge={}){return this.request("PATCH",xe,_t(ge,Pt))}post(xe,Pt,ge={}){return this.request("POST",xe,_t(ge,Pt))}put(xe,Pt,ge={}){return this.request("PUT",xe,_t(ge,Pt))}}return Je.\u0275fac=function(xe){return new(xe||Je)(I.LFG(K))},Je.\u0275prov=I.Yz7({token:Je,factory:Je.\u0275fac}),Je})();function fn(Je,Se){return Se(Je)}function rr(Je,Se){return(xe,Pt)=>Se.intercept(xe,{handle:ge=>Je(ge,Pt)})}const Kt=new I.OlP("HTTP_INTERCEPTORS"),Ln=new I.OlP("HTTP_INTERCEPTOR_FNS");function En(){let Je=null;return(Se,xe)=>(null===Je&&(Je=((0,I.f3M)(Kt,{optional:!0})??[]).reduceRight(rr,fn)),Je(Se,xe))}let Mn,ir=(()=>{class Je extends K{constructor(xe,Pt){super(),this.backend=xe,this.injector=Pt,this.chain=null}handle(xe){if(null===this.chain){const Pt=Array.from(new Set(this.injector.get(Ln)));this.chain=Pt.reduceRight((ge,ve)=>function dn(Je,Se,xe){return(Pt,ge)=>xe.runInContext(()=>Se(Pt,ve=>Je(ve,ge)))}(ge,ve,this.injector),fn)}return this.chain(xe,Pt=>this.backend.handle(Pt))}}return Je.\u0275fac=function(xe){return new(xe||Je)(I.LFG(re),I.LFG(I.lqb))},Je.\u0275prov=I.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),Kr=0;class Ue{}function yt(){return"object"==typeof window?window:{}}let Lt=(()=>{class Je{constructor(xe,Pt){this.callbackMap=xe,this.document=Pt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Kr++}handle(xe){if("JSONP"!==xe.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==xe.responseType)throw new Error("JSONP requests must use Json response type.");if(xe.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new B.y(Pt=>{const ge=this.nextCallback(),ve=xe.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${ge}$1`),Ce=this.document.createElement("script");Ce.src=ve;let st=null,Fe=!1;this.callbackMap[ge]=Pe=>{delete this.callbackMap[ge],st=Pe,Fe=!0};const Nt=()=>{Ce.parentNode&&Ce.parentNode.removeChild(Ce),delete this.callbackMap[ge]};return Ce.addEventListener("load",Pe=>{this.resolvedPromise.then(()=>{Nt(),Fe?(Pt.next(new at({body:st,status:200,statusText:"OK",url:ve})),Pt.complete()):Pt.error(new Xe({url:ve,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),Ce.addEventListener("error",Pe=>{Nt(),Pt.error(new Xe({error:Pe,status:0,statusText:"JSONP Error",url:ve}))}),this.document.body.appendChild(Ce),Pt.next({type:Tt.Sent}),()=>{Fe||this.removeListeners(Ce),Nt()}})}removeListeners(xe){Mn||(Mn=this.document.implementation.createHTMLDocument()),Mn.adoptNode(xe)}}return Je.\u0275fac=function(xe){return new(xe||Je)(I.LFG(Ue),I.LFG(f.K0))},Je.\u0275prov=I.Yz7({token:Je,factory:Je.\u0275fac}),Je})();function Un(Je,Se){return"JSONP"===Je.method?(0,I.f3M)(Lt).handle(Je):Se(Je)}const Lr=/^\)\]\}',?\n/;let ur=(()=>{class Je{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new B.y(Pt=>{const ge=this.xhrFactory.build();if(ge.open(xe.method,xe.urlWithParams),xe.withCredentials&&(ge.withCredentials=!0),xe.headers.forEach((he,Ae)=>ge.setRequestHeader(he,Ae.join(","))),xe.headers.has("Accept")||ge.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const he=xe.detectContentTypeHeader();null!==he&&ge.setRequestHeader("Content-Type",he)}if(xe.responseType){const he=xe.responseType.toLowerCase();ge.responseType="json"!==he?he:"text"}const ve=xe.serializeBody();let Ce=null;const st=()=>{if(null!==Ce)return Ce;const he=ge.statusText||"OK",Ae=new q(ge.getAllResponseHeaders()),Ke=function rs(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(ge)||xe.url;return Ce=new qe({headers:Ae,status:ge.status,statusText:he,url:Ke}),Ce},Fe=()=>{let{headers:he,status:Ae,statusText:Ke,url:kt}=st(),rn=null;204!==Ae&&(rn=typeof ge.response>"u"?ge.responseText:ge.response),0===Ae&&(Ae=rn?200:0);let Xn=Ae>=200&&Ae<300;if("json"===xe.responseType&&"string"==typeof rn){const Dr=rn;rn=rn.replace(Lr,"");try{rn=""!==rn?JSON.parse(rn):null}catch(Ti){rn=Dr,Xn&&(Xn=!1,rn={error:Ti,text:rn})}}Xn?(Pt.next(new at({body:rn,headers:he,status:Ae,statusText:Ke,url:kt||void 0})),Pt.complete()):Pt.error(new Xe({error:rn,headers:he,status:Ae,statusText:Ke,url:kt||void 0}))},Nt=he=>{const{url:Ae}=st(),Ke=new Xe({error:he,status:ge.status||0,statusText:ge.statusText||"Unknown Error",url:Ae||void 0});Pt.error(Ke)};let Wt=!1;const Oe=he=>{Wt||(Pt.next(st()),Wt=!0);let Ae={type:Tt.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(Ae.total=he.total),"text"===xe.responseType&&ge.responseText&&(Ae.partialText=ge.responseText),Pt.next(Ae)},Pe=he=>{let Ae={type:Tt.UploadProgress,loaded:he.loaded};he.lengthComputable&&(Ae.total=he.total),Pt.next(Ae)};return ge.addEventListener("load",Fe),ge.addEventListener("error",Nt),ge.addEventListener("timeout",Nt),ge.addEventListener("abort",Nt),xe.reportProgress&&(ge.addEventListener("progress",Oe),null!==ve&&ge.upload&&ge.upload.addEventListener("progress",Pe)),ge.send(ve),Pt.next({type:Tt.Sent}),()=>{ge.removeEventListener("error",Nt),ge.removeEventListener("abort",Nt),ge.removeEventListener("load",Fe),ge.removeEventListener("timeout",Nt),xe.reportProgress&&(ge.removeEventListener("progress",Oe),null!==ve&&ge.upload&&ge.upload.removeEventListener("progress",Pe)),ge.readyState!==ge.DONE&&ge.abort()}})}}return Je.\u0275fac=function(xe){return new(xe||Je)(I.LFG(f.JF))},Je.\u0275prov=I.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const ln=new I.OlP("XSRF_ENABLED"),qr=new I.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Sr=new I.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tn{}let Kn=(()=>{class Je{constructor(xe,Pt,ge){this.doc=xe,this.platform=Pt,this.cookieName=ge,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return Je.\u0275fac=function(xe){return new(xe||Je)(I.LFG(f.K0),I.LFG(I.Lbi),I.LFG(qr))},Je.\u0275prov=I.Yz7({token:Je,factory:Je.\u0275fac}),Je})();function cr(Je,Se){const xe=Je.url.toLowerCase();if(!(0,I.f3M)(ln)||"GET"===Je.method||"HEAD"===Je.method||xe.startsWith("http://")||xe.startsWith("https://"))return Se(Je);const Pt=(0,I.f3M)(Tn).getToken(),ge=(0,I.f3M)(Sr);return null!=Pt&&!Je.headers.has(ge)&&(Je=Je.clone({headers:Je.headers.set(ge,Pt)})),Se(Je)}var qt=(()=>((qt=qt||{})[qt.Interceptors=0]="Interceptors",qt[qt.LegacyInterceptors=1]="LegacyInterceptors",qt[qt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",qt[qt.NoXsrfProtection=3]="NoXsrfProtection",qt[qt.JsonpSupport=4]="JsonpSupport",qt[qt.RequestsMadeViaParent=5]="RequestsMadeViaParent",qt))();function Yn(Je,Se){return{\u0275kind:Je,\u0275providers:Se}}function yi(...Je){const Se=[bt,ur,ir,{provide:K,useExisting:ir},{provide:re,useExisting:ur},{provide:Ln,useValue:cr,multi:!0},{provide:ln,useValue:!0},{provide:Tn,useClass:Kn}];for(const xe of Je)Se.push(...xe.\u0275providers);return(0,I.MR2)(Se)}const gi=new I.OlP("LEGACY_INTERCEPTOR_FN");let or=(()=>{class Je{}return Je.\u0275fac=function(xe){return new(xe||Je)},Je.\u0275mod=I.oAB({type:Je}),Je.\u0275inj=I.cJS({providers:[yi(Yn(qt.LegacyInterceptors,[{provide:gi,useFactory:En},{provide:Ln,useExisting:gi,multi:!0}]))]}),Je})(),Pi=(()=>{class Je{}return Je.\u0275fac=function(xe){return new(xe||Je)},Je.\u0275mod=I.oAB({type:Je}),Je.\u0275inj=I.cJS({providers:[Yn(qt.JsonpSupport,[Lt,{provide:Ue,useFactory:yt},{provide:Ln,useValue:Un,multi:!0}]).\u0275providers]}),Je})()},4650:(Te,ae,D)=>{D.d(ae,{$8M:()=>Ro,$WT:()=>ei,$Z:()=>od,AFp:()=>vE,ALo:()=>kv,AaK:()=>K,Akn:()=>Sl,AsE:()=>Om,B6R:()=>Dr,BQk:()=>yd,CHM:()=>Go,CRH:()=>qv,CZH:()=>Xm,CqO:()=>ih,D6c:()=>IC,DdM:()=>Av,Dn7:()=>Bv,EJc:()=>UD,EiD:()=>Df,EpF:()=>Jh,F$t:()=>pm,F4k:()=>ef,FYo:()=>Ru,FiY:()=>Da,G48:()=>sC,G7q:()=>jv,Gf:()=>Yv,GfV:()=>Tg,GkF:()=>Xh,Gpc:()=>ue,Gre:()=>Gy,HOy:()=>ch,Hsn:()=>gm,IAx:()=>$r,Ikx:()=>Wm,IyS:()=>hh,JOm:()=>No,JVY:()=>Gl,JZr:()=>Ye,Jf7:()=>Of,Jzz:()=>Qp,KtG:()=>Ml,L6k:()=>Ch,LAX:()=>Ih,LFG:()=>or,LMc:()=>TC,LSH:()=>Mu,Lbi:()=>ND,Lck:()=>k0,MAs:()=>th,MGl:()=>oh,MMx:()=>l_,MR2:()=>pg,MT6:()=>Lm,NdJ:()=>sh,O4$:()=>Ft,OlP:()=>Xr,Oqu:()=>Pm,P3R:()=>Tf,PXZ:()=>JD,PiD:()=>Ll,Q6J:()=>Rp,QGY:()=>rh,QbO:()=>LD,Qsj:()=>wg,R0b:()=>Iu,RDi:()=>Rd,Rgc:()=>sg,SBq:()=>Eu,Sil:()=>BD,Suo:()=>Qv,TTD:()=>fs,TgZ:()=>qh,Tol:()=>Sm,Udp:()=>kc,VKq:()=>Mv,W1O:()=>eE,WLB:()=>Pv,X6Q:()=>iC,XFs:()=>ln,Xpm:()=>Xn,Xts:()=>zc,Y36:()=>Lu,YKP:()=>vv,YNc:()=>Op,Yjl:()=>Qn,Yz7:()=>hn,Z0I:()=>Ue,ZZ4:()=>N_,_Bn:()=>_v,_UZ:()=>xp,_Vd:()=>Jc,_c5:()=>DC,_uU:()=>Dd,aQg:()=>L_,c2e:()=>FD,cJS:()=>wt,cg1:()=>ph,d8E:()=>Zp,dDg:()=>QD,dqk:()=>Kn,eBb:()=>Gc,eFA:()=>RE,eJc:()=>__,ekj:()=>cf,eoX:()=>AE,evT:()=>Mg,f3M:()=>Jr,fQ9:()=>on,g9A:()=>DE,gL8:()=>Cd,h0i:()=>pf,hGG:()=>CC,hij:()=>Vu,iGM:()=>Kv,ifc:()=>Fe,ip1:()=>_E,jDz:()=>Dv,kEZ:()=>Ov,kL8:()=>Jy,kcU:()=>Xo,lG2:()=>Pn,lcZ:()=>Uv,lnq:()=>Rm,lqb:()=>Dc,lri:()=>SE,mCW:()=>E,n5z:()=>hl,oAB:()=>tt,oJD:()=>Zu,oxw:()=>Nc,pB0:()=>lg,q3G:()=>Us,q4F:()=>Sg,qLn:()=>Ud,qOj:()=>Ep,qZA:()=>Zh,qzn:()=>gc,rWj:()=>bE,s9C:()=>kp,sBO:()=>oC,s_b:()=>Qm,soG:()=>Jm,tBr:()=>yl,tb:()=>PE,tp0:()=>sa,uIk:()=>Ap,uOi:()=>_c,vHH:()=>Ve,vpe:()=>ac,wAp:()=>er,xi3:()=>Vv,xp6:()=>kg,ynx:()=>nh,z2F:()=>ey,z3N:()=>ks,zSh:()=>Th,zs3:()=>Nu});var f=D(7579),I=D(727),te=D(9751),B=D(6451),Z=D(3099);function se(n){for(let r in n)if(n[r]===se)return r;throw Error("Could not find renamed property on target object.")}function ee(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function K(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(K).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function re(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const q=se({__forward_ref__:se});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return K(this())},n}function fe(n){return Ne(n)?n():n}function Ne(n){return"function"==typeof n&&n.hasOwnProperty(q)&&n.__forward_ref__===ue}function $e(n){return n&&!!n.\u0275providers}const Ye="https://g.co/ng/security#xss";class Ve extends Error{constructor(r,s){super(We(r,s)),this.code=r}}function We(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function ze(n){return"string"==typeof n?n:null==n?"":String(n)}function Ct(n,r){throw new Ve(-201,!1)}function Ln(n,r){null==n&&function En(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function hn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ct(n){return yt(n,Zn)||yt(n,rs)}function Ue(n){return null!==ct(n)}function yt(n,r){return n.hasOwnProperty(r)?n[r]:null}function Un(n){return n&&(n.hasOwnProperty(Lr)||n.hasOwnProperty(ur))?n[Lr]:null}const Zn=se({\u0275prov:se}),Lr=se({\u0275inj:se}),rs=se({ngInjectableDef:se}),ur=se({ngInjectorDef:se});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let Li;function Ir(n){const r=Li;return Li=n,r}function Sr(n,r,s){const a=ct(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&ln.Optional?null:void 0!==r?r:void Ct(K(n))}const Kn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},yi="__NG_DI_FLAG__",Ur="ngTempTokenPath",gi="ngTokenPath",Vr=/\n/gm,di="\u0275",_r="__source";let Fi;function jn(n){const r=Fi;return Fi=n,r}function is(n,r=ln.Default){if(void 0===Fi)throw new Ve(-203,!1);return null===Fi?Sr(n,void 0,r):Fi.get(n,r&ln.Optional?null:void 0,r)}function or(n,r=ln.Default){return(function qr(){return Li}()||is)(fe(n),r)}function Jr(n,r=ln.Default){return or(n,Je(r))}function Je(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Se(n){const r=[];for(let s=0;s<n.length;s++){const a=fe(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ve(900,!1);let d,m=ln.Default;for(let S=0;S<a.length;S++){const x=a[S],U=Pt(x);"number"==typeof U?-1===U?d=x.token:m|=U:d=x}r.push(or(d,m))}else r.push(or(a))}return r}function xe(n,r){return n[yi]=r,n.prototype[yi]=r,n}function Pt(n){return n[yi]}function Ce(n){return{toString:n}.toString()}var st=(()=>((st=st||{})[st.OnPush=0]="OnPush",st[st.Default=1]="Default",st))(),Fe=(()=>{return(n=Fe||(Fe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Fe;var n})();const Nt={},Wt=[],Oe=se({\u0275cmp:se}),Pe=se({\u0275dir:se}),he=se({\u0275pipe:se}),Ae=se({\u0275mod:se}),Ke=se({\u0275fac:se}),kt=se({__NG_ELEMENT_ID__:se});let rn=0;function Xn(n){return Ce(()=>{const r=bs(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Fe.Emulated,id:"c"+rn++,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null};ki(s);const a=n.dependencies;return s.directiveDefs=ss(a,!1),s.pipeDefs=ss(a,!0),s})}function Dr(n,r,s){const a=n.\u0275cmp;a.directiveDefs=ss(r,!1),a.pipeDefs=ss(s,!0)}function Ti(n){return cn(n)||dr(n)}function pt(n){return null!==n}function tt(n){return Ce(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Zt(n,r){if(null==n)return Nt;const s={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=a,r&&(r[d]=m)}return s}function Pn(n){return Ce(()=>{const r=bs(n);return ki(r),r})}function Qn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function cn(n){return n[Oe]||null}function dr(n){return n[Pe]||null}function nr(n){return n[he]||null}function ei(n){const r=cn(n)||dr(n)||nr(n);return null!==r&&r.standalone}function ti(n,r){const s=n[Ae]||null;if(!s&&!0===r)throw new Error(`Type ${K(n)} does not have '\u0275mod' property.`);return s}function bs(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zt(n.inputs,r),outputs:Zt(n.outputs)}}function ki(n){n.features?.forEach(r=>r(n))}function ss(n,r){if(!n)return null;const s=r?nr:Ti;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(pt)}const Br=0,Bt=1,bn=2,pn=3,An=4,Dn=5,tr=6,mr=7,br=8,oi=9,_i=10,Rn=11,vr=12,xn=13,Yr=14,Is=15,Ee=16,ot=17,Ge=18,gt=19,Ht=20,zt=21,Xt=22,ar=1,hi=2,Er=7,Ar=8,Si=9,ni=10;function ri(n){return Array.isArray(n)&&"object"==typeof n[ar]}function Cn(n){return Array.isArray(n)&&!0===n[ar]}function As(n){return 0!=(4&n.flags)}function Ws(n){return n.componentOffset>-1}function Gi(n){return 1==(1&n.flags)}function sr(n){return!!n.template}function to(n){return 0!=(256&n[bn])}function io(n,r){return n.hasOwnProperty(Ke)?n[Ke]:null}class mo{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function fs(){return ws}function ws(n){return n.type.prototype.ngOnChanges&&(n.setInput=yo),Fn}function Fn(){const n=Va(this),r=n?.current;if(r){const s=n.previous;if(s===Nt)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function yo(n,r,s,a){const d=this.declaredInputs[s],m=Va(n)||function Mr(n,r){return n[Os]=r}(n,{previous:Nt,current:null}),S=m.current||(m.current={}),x=m.previous,U=x[d];S[d]=new mo(U&&U.currentValue,r,x===Nt),n[a]=r}fs.ngInherit=!0;const Os="__ngSimpleChanges__";function Va(n){return n[Os]||null}const vi=function(n,r,s){},so="svg";function Hr(n){for(;Array.isArray(n);)n=n[Br];return n}function jo(n,r){return Hr(r[n])}function Ei(n,r){return Hr(r[n.index])}function Ho(n,r){return n.data[r]}function wr(n,r){return n[r]}function qi(n,r){const s=r[n];return ri(s)?s:s[Br]}function Rs(n){return 64==(64&n[bn])}function Ks(n,r){return null==r?null:n[r]}function Ba(n){n[Ge]=0}function Ao(n,r){n[Dn]+=r;let s=n,a=n[pn];for(;null!==a&&(1===r&&1===s[Dn]||-1===r&&0===s[Dn]);)a[Dn]+=r,s=a,a=a[pn]}const kn={lFrame:Ha(null),bindingsEnabled:!0};function et(){return kn.bindingsEnabled}function on(){kn.bindingsEnabled=!0}function $r(){kn.bindingsEnabled=!1}function mt(){return kn.lFrame.lView}function lr(){return kn.lFrame.tView}function Go(n){return kn.lFrame.contextLView=n,n[br]}function Ml(n){return kn.lFrame.contextLView=null,n}function zi(){let n=ja();for(;null!==n&&64===n.type;)n=n.parent;return n}function ja(){return kn.lFrame.currentTNode}function Vs(n,r){const s=kn.lFrame;s.currentTNode=n,s.isParent=r}function Mo(){return kn.lFrame.isParent}function Wo(){kn.lFrame.isParent=!1}function Ri(){const n=kn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ai(){return kn.lFrame.bindingIndex}function Ko(){return kn.lFrame.bindingIndex++}function gs(n){const r=kn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Vi(n,r){const s=kn.lFrame;s.bindingIndex=s.bindingRootIndex=n,oo(r)}function oo(n){kn.lFrame.currentDirectiveIndex=n}function Zi(n){const r=kn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Qo(){return kn.lFrame.currentQueryIndex}function Za(n){kn.lFrame.currentQueryIndex=n}function Pl(n){const r=n[Bt];return 2===r.type?r.declTNode:1===r.type?n[tr]:null}function li(n,r,s){if(s&ln.SkipSelf){let d=r,m=n;for(;!(d=d.parent,null!==d||s&ln.Host||(d=Pl(m),null===d||(m=m[Is],10&d.type))););if(null===d)return!1;r=d,n=m}const a=kn.lFrame=qo();return a.currentTNode=r,a.lView=n,!0}function Bs(n){const r=qo(),s=n[Bt];kn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function qo(){const n=kn.lFrame,r=null===n?null:n.child;return null===r?Ha(n):r}function Ha(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function $a(){const n=kn.lFrame;return kn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Xa=$a;function Zo(){const n=$a();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Di(){return kn.lFrame.selectedIndex}function ms(n){kn.lFrame.selectedIndex=n}function Qr(){const n=kn.lFrame;return Ho(n.tView,n.selectedIndex)}function Ft(){kn.lFrame.currentNamespace=so}function Xo(){!function Ol(){kn.lFrame.currentNamespace=null}()}function ul(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:x,ngAfterViewInit:U,ngAfterViewChecked:X,ngOnDestroy:de}=m;S&&(n.contentHooks??(n.contentHooks=[])).push(-s,S),x&&((n.contentHooks??(n.contentHooks=[])).push(s,x),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,x)),U&&(n.viewHooks??(n.viewHooks=[])).push(-s,U),X&&((n.viewHooks??(n.viewHooks=[])).push(s,X),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,X)),null!=de&&(n.destroyHooks??(n.destroyHooks=[])).push(s,de)}}function Jt(n,r,s){Q(n,r,3,s)}function dt(n,r,s,a){(3&n[bn])===s&&Q(n,r,s,a)}function P(n,r){let s=n[bn];(3&s)===r&&(s&=2047,s+=1,n[bn]=s)}function Q(n,r,s,a){const m=a??-1,S=r.length-1;let x=0;for(let U=void 0!==a?65535&n[Ge]:0;U<S;U++)if("number"==typeof r[U+1]){if(x=r[U],null!=a&&x>=a)break}else r[U]<0&&(n[Ge]+=65536),(x<m||-1==m)&&(V(n,s,r,U),n[Ge]=(4294901760&n[Ge])+U+2),U++}function V(n,r,s,a){const d=s[a]<0,m=s[a+1],x=n[d?-s[a]:s[a]];if(d){if(n[bn]>>11<n[Ge]>>16&&(3&n[bn])===r){n[bn]+=2048,vi(4,x,m);try{m.call(x)}finally{vi(5,x,m)}}}else{vi(4,x,m);try{m.call(x)}finally{vi(5,x,m)}}}const le=-1;class we{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function sn(n,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const m=s[a++],S=s[a++],x=s[a++];n.setAttribute(r,S,x,m)}else{const m=d,S=s[++a];ao(m)?n.setProperty(r,m,S):n.setAttribute(r,m,S),a++}}return a}function Fr(n){return 3===n||4===n||6===n}function ao(n){return 64===n.charCodeAt(0)}function pr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||yn(n,s,d,null,-1===s||2===s?r[++a]:null)}}return n}function yn(n,r,s,a,d){let m=0,S=n.length;if(-1===r)S=-1;else for(;m<n.length;){const x=n[m++];if("number"==typeof x){if(x===r){S=-1;break}if(x>r){S=m-1;break}}}for(;m<n.length;){const x=n[m];if("number"==typeof x)break;if(x===s){if(null===a)return void(null!==d&&(n[m+1]=d));if(a===n[m+1])return void(n[m+2]=d)}m++,null!==a&&m++,null!==d&&m++}-1!==S&&(n.splice(S,0,r),m=S+1),n.splice(m++,0,s),null!==a&&n.splice(m++,0,a),null!==d&&n.splice(m++,0,d)}function Ji(n){return n!==le}function Vn(n){return 32767&n}function xr(n,r){let s=function Jo(n){return n>>16}(n),a=r;for(;s>0;)a=a[Is],s--;return a}let Yt=!0;function lo(n){const r=Yt;return Yt=n,r}const ea=255,ya=5;let ys=0;const uo={};function Aa(n,r){const s=js(n,r);if(-1!==s)return s;const a=r[Bt];a.firstCreatePass&&(n.injectorIndex=r.length,cl(a.data,n),cl(r,null),cl(a.blueprint,null));const d=Rl(n,r),m=n.injectorIndex;if(Ji(d)){const S=Vn(d),x=xr(d,r),U=x[Bt].data;for(let X=0;X<8;X++)r[m+X]=x[S+X]|U[S+X]}return r[m+8]=d,m}function cl(n,r){n.push(0,0,0,0,0,0,0,0,r)}function js(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Rl(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=Ns(d),null===a)return le;if(s++,d=d[Is],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return le}function su(n,r,s){!function ta(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(kt)&&(a=s[kt]),null==a&&(a=s[kt]=ys++);const d=a&ea;r.data[n+(d>>ya)]|=1<<d}(n,r,s)}function Po(n,r,s){if(s&ln.Optional||void 0!==n)return n;Ct()}function Ja(n,r,s,a){if(s&ln.Optional&&void 0===a&&(a=null),!(s&(ln.Self|ln.Host))){const d=n[oi],m=Ir(void 0);try{return d?d.get(r,a,s&ln.Optional):Sr(r,a,s&ln.Optional)}finally{Ir(m)}}return Po(a,0,s)}function it(n,r,s,a=ln.Default,d){if(null!==n){if(1024&r[bn]){const S=function xs(n,r,s,a,d){let m=n,S=r;for(;null!==m&&null!==S&&1024&S[bn]&&!(256&S[bn]);){const x=Ma(m,S,s,a|ln.Self,uo);if(x!==uo)return x;let U=m.parent;if(!U){const X=S[zt];if(X){const de=X.get(s,uo,a);if(de!==uo)return de}U=Ns(S),S=S[Is]}m=U}return d}(n,r,s,a,uo);if(S!==uo)return S}const m=Ma(n,r,s,a,uo);if(m!==uo)return m}return Ja(r,s,a,d)}function Ma(n,r,s,a,d){const m=function _s(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(kt)?n[kt]:void 0;return"number"==typeof r?r>=0?r&ea:Ql:r}(s);if("function"==typeof m){if(!li(r,n,a))return a&ln.Host?Po(d,0,a):Ja(r,s,a,d);try{const S=m(a);if(null!=S||a&ln.Optional)return S;Ct()}finally{Xa()}}else if("number"==typeof m){let S=null,x=js(n,r),U=le,X=a&ln.Host?r[Ee][tr]:null;for((-1===x||a&ln.SkipSelf)&&(U=-1===x?Rl(n,r):r[x+8],U!==le&&Oo(a,!1)?(S=r[Bt],x=Vn(U),r=xr(U,r)):x=-1);-1!==x;){const de=r[Bt];if(dl(m,x,de.data)){const De=Ts(x,r,s,S,a,X);if(De!==uo)return De}U=r[x+8],U!==le&&Oo(a,r[Bt].data[x+8]===X)&&dl(m,x,r)?(S=de,x=Vn(U),r=xr(U,r)):x=-1}}return d}function Ts(n,r,s,a,d,m){const S=r[Bt],x=S.data[n+8],de=xl(x,S,s,null==a?Ws(x)&&Yt:a!=S&&0!=(3&x.type),d&ln.Host&&m===x);return null!==de?es(r,S,de,x):uo}function xl(n,r,s,a,d){const m=n.providerIndexes,S=r.data,x=1048575&m,U=n.directiveStart,de=m>>20,He=d?x+de:n.directiveEnd;for(let ut=a?x:x+de;ut<He;ut++){const At=S[ut];if(ut<U&&s===At||ut>=U&&At.type===s)return ut}if(d){const ut=S[U];if(ut&&sr(ut)&&ut.type===s)return U}return null}function es(n,r,s,a){let d=n[s];const m=r.data;if(function ht(n){return n instanceof we}(d)){const S=d;S.resolving&&function ke(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${n}${s}`)}(function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ze(n)}(m[s]));const x=lo(S.canSeeViewProviders);S.resolving=!0;const U=S.injectImpl?Ir(S.injectImpl):null;li(n,a,ln.Default);try{d=n[s]=S.factory(void 0,m,n,a),r.firstCreatePass&&s>=a.directiveStart&&function In(n,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:m}=r.type.prototype;if(a){const S=ws(r);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,S),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,S)}d&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],r)}finally{null!==U&&Ir(U),lo(x),S.resolving=!1,Xa()}}return d}function dl(n,r,s){return!!(s[r+(n>>ya)]&1<<n)}function Oo(n,r){return!(n&ln.Self||n&ln.Host&&r)}class el{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return it(this._tNode,this._lView,r,Je(a),s)}}function Ql(){return new el(zi(),mt())}function hl(n){return Ce(()=>{const r=n.prototype.constructor,s=r[Ke]||Ga(r),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const m=d[Ke]||Ga(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Ga(n){return Ne(n)?()=>{const r=Ga(fe(n));return r&&r()}:io(n)}function Ns(n){const r=n[Bt],s=r.type;return 2===s?r.declTNode:1===s?n[tr]:null}function Ro(n){return function ou(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const m=s[d];if(Fr(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(m===r)return s[d+1];d+=2}}}return null}(zi(),n)}const qs="__parameters__";function _a(n,r,s){return Ce(()=>{const a=function Pa(n){return function(...s){if(n){const a=n(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...m){if(this instanceof d)return a.apply(this,m),this;const S=new d(...m);return x.annotation=S,x;function x(U,X,de){const De=U.hasOwnProperty(qs)?U[qs]:Object.defineProperty(U,qs,{value:[]})[qs];for(;De.length<=de;)De.push(null);return(De[de]=De[de]||[]).push(S),U}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class Xr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=hn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function W(n,r){n.forEach(s=>Array.isArray(s)?W(s,r):r(s))}function oe(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function pe(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function je(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function kr(n,r,s){let a=fi(n,r);return a>=0?n[1|a]=s:(a=~a,function an(n,r,s,a){let d=n.length;if(d==r)n.push(s,a);else if(1===d)n.push(a,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function vs(n,r){const s=fi(n,r);if(s>=0)return n[1|s]}function fi(n,r){return function Bi(n,r,s){let a=0,d=n.length>>s;for(;d!==a;){const m=a+(d-a>>1),S=n[m<<s];if(r===S)return m<<s;S>r?d=m:a=m+1}return~(d<<s)}(n,r,1)}const yl=xe(_a("Inject",n=>({token:n})),-1),Da=xe(_a("Optional"),8),Ll=xe(_a("Self"),2),sa=xe(_a("SkipSelf"),4);var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();const Tu=new Map;let pu=0;const Fo="__ngContext__";function ts(n,r){ri(r)?(n[Fo]=r[Ht],function bu(n){Tu.set(n[Ht],n)}(r)):n[Fo]=r}let _;function g(n,r){return _(n,r)}function H(n){const r=n[pn];return Cn(r)?r[pn]:r}function Ie(n){return ft(n[xn])}function Ze(n){return ft(n[An])}function ft(n){for(;null!==n&&!Cn(n);)n=n[An];return n}function Vt(n,r,s,a,d){if(null!=a){let m,S=!1;Cn(a)?m=a:ri(a)&&(S=!0,a=a[Br]);const x=Hr(a);0===n&&null!==s?null==d?ol(r,s,x):Do(r,s,x,d||null,!0):1===n&&null!==s?Do(r,s,x,d||null,!0):2===n?function ua(n,r,s){const a=qn(n,r);a&&function wn(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,x,S):3===n&&r.destroyNode(x),null!=m&&function cc(n,r,s,a,d){const m=s[Er];m!==Hr(s)&&Vt(r,n,a,m,d);for(let x=ni;x<s.length;x++){const U=s[x];Hi(U[Bt],U,n,r,a,m)}}(r,n,m,s,d)}}function Ut(n,r,s){return n.createElement(r,s)}function Ca(n,r){const s=n[Si],a=s.indexOf(r),d=r[pn];512&r[bn]&&(r[bn]&=-513,Ao(d,-1)),s.splice(a,1)}function Ia(n,r){if(n.length<=ni)return;const s=ni+r,a=n[s];if(a){const d=a[ot];null!==d&&d!==n&&Ca(d,a),r>0&&(n[s-1][An]=a[An]);const m=pe(n,ni+r);!function Sn(n,r){Hi(n,r,r[Rn],2,null,null),r[Br]=null,r[tr]=null}(a[Bt],a);const S=m[gt];null!==S&&S.detachView(m[Bt]),a[pn]=null,a[An]=null,a[bn]&=-65}return a}function Ni(n,r){if(!(128&r[bn])){const s=r[Rn];s.destroyNode&&Hi(n,r,s,3,null,null),function Ls(n){let r=n[xn];if(!r)return Ya(n[Bt],n);for(;r;){let s=null;if(ri(r))s=r[xn];else{const a=r[ni];a&&(s=a)}if(!s){for(;r&&!r[An]&&r!==n;)ri(r)&&Ya(r[Bt],r),r=r[pn];null===r&&(r=n),ri(r)&&Ya(r[Bt],r),s=r&&r[An]}r=s}}(r)}}function Ya(n,r){if(!(128&r[bn])){r[bn]&=-65,r[bn]|=128,function Il(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof we)){const m=s[a+1];if(Array.isArray(m))for(let S=0;S<m.length;S+=2){const x=d[m[S]],U=m[S+1];vi(4,x,U);try{U.call(x)}finally{vi(5,x,U)}}else{vi(4,d,m);try{m.call(d)}finally{vi(5,d,m)}}}}}(n,r),function ka(n,r){const s=n.cleanup,a=r[mr];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const S=s[m+3];S>=0?a[d=S]():a[d=-S].unsubscribe(),m+=2}else{const S=a[d=s[m+1]];s[m].call(S)}if(null!==a){for(let m=d+1;m<a.length;m++)(0,a[m])();r[mr]=null}}(n,r),1===r[Bt].type&&r[Rn].destroy();const s=r[ot];if(null!==s&&Cn(r[pn])){s!==r[pn]&&Ca(s,r);const a=r[gt];null!==a&&a.detachView(n)}!function zu(n){Tu.delete(n[Ht])}(r)}}function uc(n,r,s){return function Jn(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Br];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:m}=n.data[a.directiveStart+d];if(m===Fe.None||m===Fe.Emulated)return null}return Ei(a,s)}}(n,r.parent,s)}function Do(n,r,s,a,d){n.insertBefore(r,s,a,d)}function ol(n,r,s){n.appendChild(r,s)}function $l(n,r,s,a,d){null!==a?Do(n,r,s,a,d):ol(n,r,s)}function qn(n,r){return n.parentNode(r)}function Fs(n,r,s){return Co(n,r,s)}let ll,jc,dc,hc,Co=function al(n,r,s){return 40&n.type?Ei(n,s):null};function Yu(n,r,s,a){const d=uc(n,a,r),m=r[Rn],x=Fs(a.parent||r[tr],a,r);if(null!=d)if(Array.isArray(s))for(let U=0;U<s.length;U++)$l(m,d,s[U],x,!1);else $l(m,d,s,x,!1);void 0!==ll&&ll(m,a,r,s,d)}function Au(n,r){if(null!==r){const s=r.type;if(3&s)return Ei(r,n);if(4&s)return la(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Au(n,a);{const d=n[r.index];return Cn(d)?la(-1,d):Hr(d)}}if(32&s)return g(r,n)()||Hr(n[r.index]);{const a=Io(n,r);return null!==a?Array.isArray(a)?a[0]:Au(H(n[Ee]),a):Au(n,r.next)}}return null}function Io(n,r){return null!==r?n[Ee][tr].projection[r.projection]:null}function la(n,r){const s=ni+n+1;if(s<r.length){const a=r[s],d=a[Bt].firstChild;if(null!==d)return Au(a,d)}return r[Er]}function mu(n,r,s,a,d,m,S){for(;null!=s;){const x=a[s.index],U=s.type;if(S&&0===r&&(x&&ts(Hr(x),a),s.flags|=2),32!=(32&s.flags))if(8&U)mu(n,r,s.child,a,d,m,!1),Vt(r,n,d,x,m);else if(32&U){const X=g(s,a);let de;for(;de=X();)Vt(r,n,d,de,m);Vt(r,n,d,x,m)}else 16&U?mh(n,r,a,s,d,m):Vt(r,n,d,x,m);s=S?s.projectionNext:s.next}}function Hi(n,r,s,a,d,m){mu(s,a,n.firstChild,r,d,m,!1)}function mh(n,r,s,a,d,m){const S=s[Ee],U=S[tr].projection[a.projection];if(Array.isArray(U))for(let X=0;X<U.length;X++)Vt(r,n,d,U[X],m);else mu(n,r,U,S[pn],d,m,!0)}function yh(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Qu(n,r,s){const{mergedAttrs:a,classes:d,styles:m}=s;null!==a&&sn(n,r,a),null!==d&&yh(n,r,d),null!==m&&function Md(n,r,s){n.setAttribute(r,"style",s)}(n,r,m)}function qu(n){return function Hc(){if(void 0===jc&&(jc=null,Kn.trustedTypes))try{jc=Kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jc}()?.createHTML(n)||n}function Rd(n){dc=n}function xd(){if(void 0===hc&&(hc=null,Kn.trustedTypes))try{hc=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hc}function Nd(n){return xd()?.createHTML(n)||n}function vh(n){return xd()?.createScriptURL(n)||n}class yu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ye})`}}class fc extends yu{getTypeName(){return"HTML"}}class pc extends yu{getTypeName(){return"Style"}}class Eh extends yu{getTypeName(){return"Script"}}class _f extends yu{getTypeName(){return"URL"}}class vf extends yu{getTypeName(){return"ResourceURL"}}function ks(n){return n instanceof yu?n.changingThisBreaksApplicationSecurity:n}function gc(n,r){const s=function Dh(n){return n instanceof yu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ye})`)}return s===r}function Gl(n){return new fc(n)}function Ch(n){return new pc(n)}function Gc(n){return new Eh(n)}function Ih(n){return new _f(n)}function lg(n){return new vf(n)}class ug{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(qu(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class h{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=qu(r),s}}const c=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E(n){return(n=String(n)).match(c)?n:"unsafe:"+n}function M(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function j(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Y=M("area,br,col,hr,img,wbr"),me=M("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),be=M("rp,rt"),Ot=j(Y,j(me,M("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),j(be,M("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),j(be,me)),_n=M("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wo=j(_n,M("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),M("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_u=M("script,style,template");class Gs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Ot.hasOwnProperty(s))return this.sanitizedSomething=!0,!_u.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const m=a.item(d),S=m.name,x=S.toLowerCase();if(!wo.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let U=m.value;_n[x]&&(U=E(U)),this.buf.push(" ",S,'="',wh(U),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Ot.hasOwnProperty(s)&&!Y.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(wh(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const mc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ld=/([^\#-~ |!])/g;function wh(n){return n.replace(/&/g,"&amp;").replace(mc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ld,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nu;function Df(n,r){let s=null;try{nu=nu||function Ef(n){const r=new h(n);return function u(){try{return!!(new window.DOMParser).parseFromString(qu(""),"text/html")}catch{return!1}}()?new ug(r):r}(n);let a=r?String(r):"";s=nu.getInertBodyElement(a);let d=5,m=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=m,m=s.innerHTML,s=nu.getInertBodyElement(a)}while(a!==m);return qu((new Gs).sanitizeChildren(Cf(s)||s))}finally{if(s){const a=Cf(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Cf(n){return"content"in n&&function cg(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Us=(()=>((Us=Us||{})[Us.NONE=0]="NONE",Us[Us.HTML=1]="HTML",Us[Us.STYLE=2]="STYLE",Us[Us.SCRIPT=3]="SCRIPT",Us[Us.URL=4]="URL",Us[Us.RESOURCE_URL=5]="RESOURCE_URL",Us))();function Zu(n){const r=Wc();return r?Nd(r.sanitize(Us.HTML,n)||""):gc(n,"HTML")?Nd(ks(n)):Df(function $c(){return void 0!==dc?dc:typeof document<"u"?document:void 0}(),ze(n))}function Mu(n){const r=Wc();return r?r.sanitize(Us.URL,n)||"":gc(n,"URL")?ks(n):E(ze(n))}function _c(n){const r=Wc();if(r)return vh(r.sanitize(Us.RESOURCE_URL,n)||"");if(gc(n,"ResourceURL"))return vh(ks(n));throw new Ve(904,!1)}function Tf(n,r,s){return function hg(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?_c:Mu}(r,s)(n)}function Wc(){const n=mt();return n&&n[vr]}const zc=new Xr("ENVIRONMENT_INITIALIZER"),Kc=new Xr("INJECTOR",-1),Xu=new Xr("INJECTOR_DEF_TYPES");class fg{get(r,s=Yn){if(s===Yn){const a=new Error(`NullInjectorError: No provider for ${K(r)}!`);throw a.name="NullInjectorError",a}return s}}function pg(n){return{\u0275providers:n}}function sy(...n){return{\u0275providers:gg(0,n),\u0275fromNgModule:!0}}function gg(n,...r){const s=[],a=new Set;let d;return W(r,m=>{const S=m;vc(S,s,[],a)&&(d||(d=[]),d.push(S))}),void 0!==d&&mg(d,s),s}function mg(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];vu(d,m=>{r.push(m)})}}function vc(n,r,s,a){if(!(n=fe(n)))return!1;let d=null,m=Un(n);const S=!m&&cn(n);if(m||S){if(S&&!S.standalone)return!1;d=n}else{const U=n.ngModule;if(m=Un(U),!m)return!1;d=U}const x=a.has(d);if(S){if(x)return!1;if(a.add(d),S.dependencies){const U="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const X of U)vc(X,r,s,a)}}else{if(!m)return!1;{if(null!=m.imports&&!x){let X;a.add(d);try{W(m.imports,de=>{vc(de,r,s,a)&&(X||(X=[]),X.push(de))})}finally{}void 0!==X&&mg(X,r)}if(!x){const X=io(d)||(()=>new d);r.push({provide:d,useFactory:X,deps:Wt},{provide:Xu,useValue:d,multi:!0},{provide:zc,useValue:()=>or(d),multi:!0})}const U=m.providers;null==U||x||vu(U,de=>{r.push(de)})}}return d!==n&&void 0!==n.providers}function vu(n,r){for(let s of n)$e(s)&&(s=s.\u0275providers),Array.isArray(s)?vu(s,r):r(s)}const yg=se({provide:String,useValue:se});function Sf(n){return null!==n&&"object"==typeof n&&yg in n}function Pu(n){return"function"==typeof n}const Th=new Xr("Set Injector scope."),Qc={},Mf={};let Sh;function Ec(){return void 0===Sh&&(Sh=new fg),Sh}class Dc{}class bh extends Dc{get destroyed(){return this._destroyed}constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ua(r,S=>this.processProvider(S)),this.records.set(Kc,Ou(void 0,this)),d.has("environment")&&this.records.set(Dc,Ou(void 0,this));const m=this.records.get(Th);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Xu.multi,Wt,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=jn(this),a=Ir(void 0);try{return r()}finally{jn(s),Ir(a)}}get(r,s=Yn,a=ln.Default){this.assertNotDestroyed(),a=Je(a);const d=jn(this),m=Ir(void 0);try{if(!(a&ln.SkipSelf)){let x=this.records.get(r);if(void 0===x){const U=function Dg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xr}(r)&&ct(r);x=U&&this.injectableDefInScope(U)?Ou(qc(r),Qc):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(a&ln.Self?Ec():this.parent).get(r,s=a&ln.Optional&&s===Yn?null:s)}catch(S){if("NullInjectorError"===S.name){if((S[Ur]=S[Ur]||[]).unshift(K(r)),d)throw S;return function ge(n,r,s,a){const d=n[Ur];throw r[_r]&&d.unshift(r[_r]),n.message=function ve(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==di?n.slice(2):n;let d=K(r);if(Array.isArray(r))d=r.map(K).join(" -> ");else if("object"==typeof r){let m=[];for(let S in r)if(r.hasOwnProperty(S)){let x=r[S];m.push(S+":"+("string"==typeof x?JSON.stringify(x):K(x)))}d=`{${m.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${n.replace(Vr,"\n  ")}`}("\n"+n.message,d,s,a),n[gi]=d,n[Ur]=null,n}(S,r,"R3InjectorError",this.source)}throw S}finally{Ir(m),jn(d)}}resolveInjectorInitializers(){const r=jn(this),s=Ir(void 0);try{const a=this.get(zc.multi,Wt,ln.Self);for(const d of a)d()}finally{jn(r),Ir(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(K(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processProvider(r){let s=Pu(r=fe(r))?r:fe(r&&r.provide);const a=function vg(n){return Sf(n)?Ou(void 0,n.useValue):Ou(Zc(n),Qc)}(r);if(Pu(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Ou(void 0,Qc,!0),d.factory=()=>Se(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Qc&&(s.value=Mf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Eg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=fe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function qc(n){const r=ct(n),s=null!==r?r.factory:io(n);if(null!==s)return s;if(n instanceof Xr)throw new Ve(204,!1);if(n instanceof Function)return function oy(n){const r=n.length;if(r>0)throw je(r,"?"),new Ve(204,!1);const s=function Lt(n){return n&&(n[Zn]||n[rs])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ve(204,!1)}function Zc(n,r,s){let a;if(Pu(n)){const d=fe(n);return io(d)||qc(d)}if(Sf(n))a=()=>fe(n.useValue);else if(function _g(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Se(n.deps||[]));else if(function bf(n){return!(!n||!n.useExisting)}(n))a=()=>or(fe(n.useExisting));else{const d=fe(n&&(n.useClass||n.provide));if(!function Fd(n){return!!n.deps}(n))return io(d)||qc(d);a=()=>new d(...Se(n.deps))}return a}function Ou(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Ua(n,r){for(const s of n)Array.isArray(s)?Ua(s,r):s&&$e(s)?Ua(s.\u0275providers,r):r(s)}class Cg{}class kd{}class Xc{resolveComponentFactory(r){throw function Ah(n){const r=Error(`No component factory found for ${K(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Jc=(()=>{class n{}return n.NULL=new Xc,n})();function Ic(){return ed(zi(),mt())}function ed(n,r){return new Eu(Ei(n,r))}let Eu=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Ic,n})();function Ig(n){return n instanceof Eu?n.nativeElement:n}class Ru{}let wg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ay(){const n=mt(),s=qi(zi().index,n);return(ri(s)?s:n)[Rn]}(),n})(),ly=(()=>{class n{}return n.\u0275prov=hn({token:n,providedIn:"root",factory:()=>null}),n})();class Tg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Sg=new Tg("15.2.10"),td={},Mh="ngOriginalError";function Ph(n){return n[Mh]}class Ud{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ph(r);for(;s&&Ph(s);)s=Ph(s);return s||null}}function Of(n){return n.ownerDocument.defaultView}function Mg(n){return n.ownerDocument}function xu(n){return n instanceof Function?n():n}function xf(n,r,s){let a=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=r.length;if(d+m===a||n.charCodeAt(d+m)<=32)return d}s=d+1}}const Rg="ng-template";function Oh(n,r,s){let a=0,d=!0;for(;a<n.length;){let m=n[a++];if("string"==typeof m&&d){const S=n[a++];if(s&&"class"===m&&-1!==xf(S.toLowerCase(),r,0))return!0}else{if(1===m){for(;a<n.length&&"string"==typeof(m=n[a++]);)if(m.toLowerCase()===r)return!0;return!1}"number"==typeof m&&(d=!1)}}return!1}function xg(n){return 4===n.type&&n.value!==Rg}function Ng(n,r,s){return r===(4!==n.type||s?n.value:Rg)}function Nf(n,r,s){let a=4;const d=n.attrs||[],m=function Ff(n){for(let r=0;r<n.length;r++)if(Fr(n[r]))return r;return n.length}(d);let S=!1;for(let x=0;x<r.length;x++){const U=r[x];if("number"!=typeof U){if(!S)if(4&a){if(a=2|1&a,""!==U&&!Ng(n,U,s)||""===U&&1===r.length){if(wl(a))return!1;S=!0}}else{const X=8&a?U:r[++x];if(8&a&&null!==n.attrs){if(!Oh(n.attrs,X,s)){if(wl(a))return!1;S=!0}continue}const De=Bd(8&a?"class":U,d,xg(n),s);if(-1===De){if(wl(a))return!1;S=!0;continue}if(""!==X){let He;He=De>m?"":d[De+1].toLowerCase();const ut=8&a?He:null;if(ut&&-1!==xf(ut,X,0)||2&a&&X!==He){if(wl(a))return!1;S=!0}}}}else{if(!S&&!wl(a)&&!wl(U))return!1;if(S&&wl(U))continue;S=!1,a=U|1&a}}return wl(a)||S}function wl(n){return 0==(1&n)}function Bd(n,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let m=!1;for(;d<r.length;){const S=r[d];if(S===n)return d;if(3===S||6===S)m=!0;else{if(1===S||2===S){let x=r[++d];for(;"string"==typeof x;)x=r[++d];continue}if(4===S)break;if(0===S){d+=4;continue}}d+=m?1:2}return-1}return function Lg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function jd(n,r,s=!1){for(let a=0;a<r.length;a++)if(Nf(n,r[a],s))return!0;return!1}function cy(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function kf(n,r){return n?":not("+r.trim()+")":r}function Fg(n){let r=n[0],s=1,a=2,d="",m=!1;for(;s<n.length;){let S=n[s];if("string"==typeof S)if(2&a){const x=n[++s];d+="["+S+(x.length>0?'="'+x+'"':"")+"]"}else 8&a?d+="."+S:4&a&&(d+=" "+S);else""!==d&&!wl(S)&&(r+=kf(m,d),d=""),a=S,m=m||!wl(a);s++}return""!==d&&(r+=kf(m,d)),r}const Cr={};function kg(n){Vf(lr(),mt(),Di()+n,!1)}function Vf(n,r,s,a){if(!a)if(3==(3&r[bn])){const m=n.preOrderCheckHooks;null!==m&&Jt(r,m,s)}else{const m=n.preOrderHooks;null!==m&&dt(r,m,0,s)}ms(s)}function Nh(n,r=null,s=null,a){const d=jg(n,r,s,a);return d.resolveInjectorInitializers(),d}function jg(n,r=null,s=null,a,d=new Set){const m=[s||Wt,sy(n)];return a=a||("object"==typeof n?void 0:K(n)),new bh(m,r||Ec(),a||null,d)}let Nu=(()=>{class n{static create(s,a){if(Array.isArray(s))return Nh({name:""},a,s,"");{const d=s.name??"";return Nh({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=Yn,n.NULL=new fg,n.\u0275prov=hn({token:n,providedIn:"any",factory:()=>or(Kc)}),n.__NG_ELEMENT_ID__=-1,n})();function Lu(n,r=ln.Default){const s=mt();return null===s?or(n,r):it(zi(),s,fe(n),r)}function od(){throw new Error("invalid")}function zf(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const m=s[a+1];if(-1!==m){const S=n.data[m];Za(s[a]),S.contentQueries(2,r[m],m)}}}function Wl(n,r,s,a,d,m,S,x,U,X,de){const De=r.blueprint.slice();return De[Br]=d,De[bn]=76|a,(null!==de||n&&1024&n[bn])&&(De[bn]|=1024),Ba(De),De[pn]=De[Is]=n,De[br]=s,De[_i]=S||n&&n[_i],De[Rn]=x||n&&n[Rn],De[vr]=U||n&&n[vr]||null,De[oi]=X||n&&n[oi]||null,De[tr]=m,De[Ht]=function Su(){return pu++}(),De[zt]=de,De[Ee]=2==r.type?n[Ee]:De,De}function Sc(n,r,s,a,d){let m=n.data[r];if(null===m)m=function Qf(n,r,s,a,d){const m=ja(),S=Mo(),U=n.data[r]=function Xg(n,r,s,a,d,m){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?m:m&&m.parent,s,r,a,d);return null===n.firstChild&&(n.firstChild=U),null!==m&&(S?null==m.child&&null!==U.parent&&(m.child=U):null===m.next&&(m.next=U,U.prev=m)),U}(n,r,s,a,d),function Sa(){return kn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=a,m.attrs=d;const S=function Oi(){const n=kn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();m.injectorIndex=null===S?-1:S.injectorIndex}return Vs(m,!0),m}function bc(n,r,s,a){if(0===s)return-1;const d=r.length;for(let m=0;m<s;m++)r.push(a),n.blueprint.push(a),n.data.push(null);return d}function qf(n,r,s){Bs(r);try{const a=n.viewQuery;null!==a&&hp(1,a,s);const d=n.template;null!==d&&qg(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&zf(n,r),n.staticViewQueries&&hp(2,n.viewQuery,s);const m=n.components;null!==m&&function Yf(n,r){for(let s=0;s<r.length;s++)nm(n,r[s])}(r,m)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[bn]&=-5,Zo()}}function ad(n,r,s,a){const d=r[bn];if(128!=(128&d)){Bs(r);try{Ba(r),function ma(n){return kn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&qg(n,r,s,2,a);const S=3==(3&d);if(S){const X=n.preOrderCheckHooks;null!==X&&Jt(r,X,null)}else{const X=n.preOrderHooks;null!==X&&dt(r,X,0,null),P(r,0)}if(function up(n){for(let r=Ie(n);null!==r;r=Ze(r)){if(!r[hi])continue;const s=r[Si];for(let a=0;a<s.length;a++){const d=s[a];512&d[bn]||Ao(d[pn],1),d[bn]|=512}}}(r),function Iy(n){for(let r=Ie(n);null!==r;r=Ze(r))for(let s=ni;s<r.length;s++){const a=r[s],d=a[Bt];Rs(a)&&ad(d,a,d.template,a[br])}}(r),null!==n.contentQueries&&zf(n,r),S){const X=n.contentCheckHooks;null!==X&&Jt(r,X)}else{const X=n.contentHooks;null!==X&&dt(r,X,1),P(r,1)}!function Wf(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)ms(~d);else{const m=d,S=s[++a],x=s[++a];Vi(S,m),x(2,r[m])}}}finally{ms(-1)}}(n,r);const x=n.components;null!==x&&function Kf(n,r){for(let s=0;s<r.length;s++)cp(n,r[s])}(r,x);const U=n.viewQuery;if(null!==U&&hp(2,U,a),S){const X=n.viewCheckHooks;null!==X&&Jt(r,X)}else{const X=n.viewHooks;null!==X&&dt(r,X,2),P(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[bn]&=-41,512&r[bn]&&(r[bn]&=-513,Ao(r[pn],-1))}finally{Zo()}}}function qg(n,r,s,a,d){const m=Di(),S=2&a;try{ms(-1),S&&r.length>Xt&&Vf(n,r,Xt,!1),vi(S?2:0,d),s(a,d)}finally{ms(m),vi(S?3:1,d)}}function zd(n,r,s){if(As(r)){const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const S=n.data[m];S.contentQueries&&S.contentQueries(1,s[m],m)}}}function ld(n,r,s){et()&&(function sp(n,r,s,a){const d=s.directiveStart,m=s.directiveEnd;Ws(s)&&function Cy(n,r,s){const a=Ei(r,n),d=Zf(s),m=n[_i],S=qd(n,Wl(n,d,null,s.onPush?32:16,a,r,m,m.createRenderer(a,s),null,null,null));n[r.index]=S}(r,s,n.data[d+s.componentOffset]),n.firstCreatePass||Aa(s,r),ts(a,r);const S=s.initialInputs;for(let x=d;x<m;x++){const U=n.data[x],X=es(r,n,x,s);ts(X,r),null!==S&&ap(0,x-d,X,U,0,S),sr(U)&&(qi(s.index,r)[br]=es(r,n,x,s))}}(n,r,s,Ei(s,r)),64==(64&s.flags)&&Ac(n,r,s))}function Kd(n,r,s=Ei){const a=r.localNames;if(null!==a){let d=r.index+1;for(let m=0;m<a.length;m+=2){const S=a[m+1],x=-1===S?s(r,n):n[S];n[d++]=x}}}function Zf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ju(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Ju(n,r,s,a,d,m,S,x,U,X){const de=Xt+a,De=de+d,He=function Xf(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Cr);return s}(de,De),ut="function"==typeof X?X():X;return He[Bt]={type:n,blueprint:He,template:s,queries:null,viewQuery:x,declTNode:r,data:He.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:U,consts:ut,incompleteFirstPass:!1}}function Zg(n,r,s,a){const d=rm(r);null===s?d.push(a):(d.push(s),n.firstCreatePass&&im(n).push(a,d.length-1))}function Jf(n,r,s,a){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const m=n[d];null===a?Jg(s,r,d,m):a.hasOwnProperty(d)&&Jg(s,r,a[d],m)}return s}function Jg(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function Qa(n,r,s,a,d,m,S,x){const U=Ei(r,s);let de,X=r.inputs;!x&&null!=X&&(de=X[a])?(Jd(n,s,de,a,d),Ws(r)&&function Ey(n,r){const s=qi(r,n);16&s[bn]||(s[bn]|=32)}(s,r.index)):3&r.type&&(a=function vy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=S?S(d,r.value||"",a):d,m.setProperty(U,a,d))}function Yd(n,r,s,a){if(et()){const d=null===a?null:{"":-1},m=function op(n,r){const s=n.directiveRegistry;let a=null,d=null;if(s)for(let m=0;m<s.length;m++){const S=s[m];if(jd(r,S.selectors,!1))if(a||(a=[]),sr(S))if(null!==S.findHostDirectiveDefs){const x=[];d=d||new Map,S.findHostDirectiveDefs(S,x,d),a.unshift(...x,S),tc(n,r,x.length)}else a.unshift(S),tc(n,r,0);else d=d||new Map,S.findHostDirectiveDefs?.(S,a,d),a.push(S)}return null===a?null:[a,d]}(n,s);let S,x;null===m?S=x=null:[S,x]=m,null!==S&&np(n,r,s,S,d,x),d&&function ud(n,r,s){if(r){const a=n.localNames=[];for(let d=0;d<r.length;d+=2){const m=s[r[d+1]];if(null==m)throw new Ve(-301,!1);a.push(r[d],m)}}}(s,a,d)}s.mergedAttrs=pr(s.mergedAttrs,s.attrs)}function np(n,r,s,a,d,m){for(let X=0;X<a.length;X++)su(Aa(s,r),n,a[X].type);!function cd(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let X=0;X<a.length;X++){const de=a[X];de.providersResolver&&de.providersResolver(de)}let S=!1,x=!1,U=bc(n,r,a.length,null);for(let X=0;X<a.length;X++){const de=a[X];s.mergedAttrs=pr(s.mergedAttrs,de.hostAttrs),Dy(n,s,r,U,de),em(U,de,d),null!==de.contentQueries&&(s.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(s.flags|=64);const De=de.type.prototype;!S&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),S=!0),!x&&(De.ngOnChanges||De.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),x=!0),U++}!function ep(n,r,s){const d=r.directiveEnd,m=n.data,S=r.attrs,x=[];let U=null,X=null;for(let de=r.directiveStart;de<d;de++){const De=m[de],He=s?s.get(De):null,At=He?He.outputs:null;U=Jf(De.inputs,de,U,He?He.inputs:null),X=Jf(De.outputs,de,X,At);const Qt=null===U||null===S||xg(r)?null:lp(U,de,S);x.push(Qt)}null!==U&&(U.hasOwnProperty("class")&&(r.flags|=8),U.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=U,r.outputs=X}(n,s,m)}function Ac(n,r,s){const a=s.directiveStart,d=s.directiveEnd,m=s.index,S=function _o(){return kn.lFrame.currentDirectiveIndex}();try{ms(m);for(let x=a;x<d;x++){const U=n.data[x],X=r[x];oo(x),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&ec(U,X)}}finally{ms(-1),oo(S)}}function ec(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function tc(n,r,s){r.componentOffset=s,(n.components??(n.components=[])).push(r.index)}function em(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;sr(r)&&(s[""]=n)}}function Dy(n,r,s,a,d){n.data[a]=d;const m=d.factory||(d.factory=io(d.type)),S=new we(m,sr(d),Lu);n.blueprint[a]=S,s[a]=S,function rp(n,r,s,a,d){const m=d.hostBindings;if(m){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const x=~r.index;(function ip(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(S)!=x&&S.push(x),S.push(s,a,m)}}(n,r,a,bc(n,s,d.hostVars,Cr),d)}function zl(n,r,s,a,d,m){const S=Ei(n,r);!function Qd(n,r,s,a,d,m,S){if(null==m)n.removeAttribute(r,d,s);else{const x=null==S?ze(m):S(m,a||"",d);n.setAttribute(r,d,x,s)}}(r[Rn],S,m,n.value,s,a,d)}function ap(n,r,s,a,d,m){const S=m[r];if(null!==S){const x=a.setInput;for(let U=0;U<S.length;){const X=S[U++],de=S[U++],De=S[U++];null!==x?a.setInput(s,De,X,de):s[de]=De}}}function lp(n,r,s){let a=null,d=0;for(;d<s.length;){const m=s[d];if(0!==m)if(5!==m){if("number"==typeof m)break;if(n.hasOwnProperty(m)){null===a&&(a=[]);const S=n[m];for(let x=0;x<S.length;x+=2)if(S[x]===r){a.push(m,S[x+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function tm(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null]}function cp(n,r){const s=qi(r,n);if(Rs(s)){const a=s[Bt];48&s[bn]?ad(a,s,a.template,s[br]):s[Dn]>0&&dp(s)}}function dp(n){for(let a=Ie(n);null!==a;a=Ze(a))for(let d=ni;d<a.length;d++){const m=a[d];if(Rs(m))if(512&m[bn]){const S=m[Bt];ad(S,m,S.template,m[br])}else m[Dn]>0&&dp(m)}const s=n[Bt].components;if(null!==s)for(let a=0;a<s.length;a++){const d=qi(s[a],n);Rs(d)&&d[Dn]>0&&dp(d)}}function nm(n,r){const s=qi(r,n),a=s[Bt];(function wy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),qf(a,s,s[br])}function qd(n,r){return n[xn]?n[Yr][An]=r:n[xn]=r,n[Yr]=r,r}function Zd(n){for(;n;){n[bn]|=32;const r=H(n);if(to(n)&&!r)return n;n=r}return null}function Xd(n,r,s,a=!0){const d=r[_i];d.begin&&d.begin();try{ad(n,r,n.template,s)}catch(S){throw a&&$h(r,S),S}finally{d.end&&d.end()}}function hp(n,r,s){Za(0),r(n,s)}function rm(n){return n[mr]||(n[mr]=[])}function im(n){return n.cleanup||(n.cleanup=[])}function $h(n,r){const s=n[oi],a=s?s.get(Ud,null):null;a&&a.handleError(r)}function Jd(n,r,s,a,d){for(let m=0;m<s.length;){const S=s[m++],x=s[m++],U=r[S],X=n.data[S];null!==X.setInput?X.setInput(U,d,a,x):U[x]=d}}function Fu(n,r,s){const a=jo(r,n);!function On(n,r,s){n.setValue(r,s)}(n[Rn],a,s)}function dd(n,r,s){let a=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==r)for(let S=0;S<r.length;S++){const x=r[S];"number"==typeof x?m=x:1==m?d=re(d,x):2==m&&(a=re(a,x+": "+r[++S]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=d:n.classesWithoutHost=d}function Gh(n,r,s,a,d=!1){for(;null!==s;){const m=r[s.index];if(null!==m&&a.push(Hr(m)),Cn(m))for(let x=ni;x<m.length;x++){const U=m[x],X=U[Bt].firstChild;null!==X&&Gh(U[Bt],U,X,a)}const S=s.type;if(8&S)Gh(n,r,s.child,a);else if(32&S){const x=g(s,r);let U;for(;U=x();)a.push(U)}else if(16&S){const x=Io(r,s);if(Array.isArray(x))a.push(...x);else{const U=H(r[Ee]);Gh(U[Bt],U,x,a,!0)}}s=d?s.projectionNext:s.next}return a}class Mc{get rootNodes(){const r=this._lView,s=r[Bt];return Gh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(r){this._lView[br]=r}get destroyed(){return 128==(128&this._lView[bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[pn];if(Cn(r)){const s=r[Ar],a=s?s.indexOf(this):-1;a>-1&&(Ia(r,a),pe(s,a))}this._attachedToViewContainer=!1}Ni(this._lView[Bt],this._lView)}onDestroy(r){Zg(this._lView[Bt],this._lView,null,r)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[bn]&=-65}reattach(){this._lView[bn]|=64}detectChanges(){Xd(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nr(n,r){Hi(n,r,r[Rn],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=r}}class sm extends Mc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Xd(r[Bt],r,r[br],!1)}checkNoChanges(){}get context(){return null}}class Wh extends Jc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=cn(r);return new eh(s,this.ngModule)}}function fp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class pp{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Je(a);const d=this.injector.get(r,td,a);return d!==td||s===td?d:this.parentInjector.get(r,s,a)}}class eh extends kd{get inputs(){return fp(this.componentDef.inputs)}get outputs(){return fp(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Uf(n){return n.map(Fg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,d){let m=(d=d||this.ngModule)instanceof Dc?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const S=m?new pp(r,m):r,x=S.get(Ru,null);if(null===x)throw new Ve(407,!1);const U=S.get(ly,null),X=x.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",De=a?function _y(n,r,s){return n.selectRootElement(r,s===Fe.ShadowDom)}(X,a,this.componentDef.encapsulation):Ut(X,de,function Sy(n){const r=n.toLowerCase();return"svg"===r?so:"math"===r?"math":null}(de)),He=this.componentDef.onPush?288:272,ut=Ju(0,null,null,1,0,null,null,null,null,null),At=Wl(null,ut,null,He,null,null,x,X,U,S,null);let Qt,mn;Bs(At);try{const Nn=this.componentDef;let yr,Gt=null;Nn.findHostDirectiveDefs?(yr=[],Gt=new Map,Nn.findHostDirectiveDefs(Nn,yr,Gt),yr.push(Nn)):yr=[Nn];const Or=function mp(n,r){const s=n[Bt],a=Xt;return n[a]=r,Sc(s,a,2,"#host",null)}(At,De),eo=function by(n,r,s,a,d,m,S,x){const U=d[Bt];!function yp(n,r,s,a){for(const d of n)r.mergedAttrs=pr(r.mergedAttrs,d.hostAttrs);null!==r.mergedAttrs&&(dd(r,r.mergedAttrs,!0),null!==s&&Qu(a,s,r))}(a,n,r,S);const X=m.createRenderer(r,s),de=Wl(d,Zf(s),null,s.onPush?32:16,d[n.index],n,m,X,x||null,null,null);return U.firstCreatePass&&tc(U,n,a.length-1),qd(d,de),d[n.index]=de}(Or,De,Nn,yr,At,x,X);mn=Ho(ut,Xt),De&&function vp(n,r,s,a){if(a)sn(n,s,["ng-version",Sg.full]);else{const{attrs:d,classes:m}=function dy(n){const r=[],s=[];let a=1,d=2;for(;a<n.length;){let m=n[a];if("string"==typeof m)2===d?""!==m&&r.push(m,n[++a]):8===d&&s.push(m);else{if(!wl(d))break;d=m}a++}return{attrs:r,classes:s}}(r.selectors[0]);d&&sn(n,s,d),m&&m.length>0&&yh(n,s,m.join(" "))}}(X,Nn,De,a),void 0!==s&&function hd(n,r,s){const a=n.projection=[];for(let d=0;d<r.length;d++){const m=s[d];a.push(null!=m?Array.from(m):null)}}(mn,this.ngContentSelectors,s),Qt=function _p(n,r,s,a,d,m){const S=zi(),x=d[Bt],U=Ei(S,d);np(x,d,S,s,null,a);for(let de=0;de<s.length;de++)ts(es(d,x,S.directiveStart+de,S),d);Ac(x,d,S),U&&ts(U,d);const X=es(d,x,S.directiveStart+S.componentOffset,S);if(n[br]=d[br]=X,null!==m)for(const de of m)de(X,r);return zd(x,S,n),X}(eo,Nn,yr,Gt,At,[om]),qf(ut,At,null)}finally{Zo()}return new gp(this.componentType,Qt,ed(mn,At),At,mn)}}class gp extends Cg{constructor(r,s,a,d,m){super(),this.location=a,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new sm(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const m=this._rootLView;Jd(m[Bt],m,d,r,s),Zd(qi(this._tNode.index,m))}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function om(){const n=zi();ul(mt()[Bt],n)}function Ep(n){let r=function zh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let d;if(sr(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ve(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const S=n;S.inputs=ru(n.inputs),S.declaredInputs=ru(n.declaredInputs),S.outputs=ru(n.outputs);const x=d.hostBindings;x&&Ip(n,x);const U=d.viewQuery,X=d.contentQueries;if(U&&Cp(n,U),X&&Ay(n,X),ee(n.inputs,d.inputs),ee(n.declaredInputs,d.declaredInputs),ee(n.outputs,d.outputs),sr(d)&&d.data.animation){const de=n.data;de.animation=(de.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let S=0;S<m.length;S++){const x=m[S];x&&x.ngInherit&&x(n),x===Ep&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Dp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=r+=d.hostVars,d.hostAttrs=pr(d.hostAttrs,s=pr(s,d.hostAttrs))}}(a)}function ru(n){return n===Nt?{}:n===Wt?[]:n}function Cp(n,r){const s=n.viewQuery;n.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Ay(n,r){const s=n.contentQueries;n.contentQueries=s?(a,d,m)=>{r(a,d,m),s(a,d,m)}:r}function Ip(n,r){const s=n.hostBindings;n.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}function fd(n){return!!Sp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Sp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Du(n,r,s){return n[r]=s}function da(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function ku(n,r,s,a){const d=da(n,r,s);return da(n,r+1,a)||d}function Qh(n,r,s,a,d){const m=ku(n,r,s,a);return da(n,r+2,d)||m}function Tl(n,r,s,a,d,m){const S=ku(n,r,s,a);return ku(n,r+2,d,m)||S}function Ap(n,r,s,a){const d=mt();return da(d,Ko(),r)&&(lr(),zl(Qr(),d,n,r,s,a)),Ap}function nc(n,r,s,a){return da(n,Ko(),s)?r+ze(s)+a:Cr}function rc(n,r,s,a,d,m){const x=ku(n,ai(),s,d);return gs(2),x?r+ze(s)+a+ze(d)+m:Cr}function gd(n,r,s,a,d,m,S,x){const X=Qh(n,ai(),s,d,S);return gs(3),X?r+ze(s)+a+ze(d)+m+ze(S)+x:Cr}function Op(n,r,s,a,d,m,S,x){const U=mt(),X=lr(),de=n+Xt,De=X.firstCreatePass?function W_(n,r,s,a,d,m,S,x,U){const X=r.consts,de=Sc(r,n,4,S||null,Ks(X,x));Yd(r,s,de,Ks(X,U)),ul(r,de);const De=de.tView=Ju(2,de,a,d,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,X);return null!==r.queries&&(r.queries.template(r,de),De.queries=r.queries.embeddedTView(de)),de}(de,X,U,r,s,a,d,m,S):X.data[de];Vs(De,!1);const He=U[Rn].createComment("");Yu(X,U,He,De),ts(He,U),qd(U,U[de]=tm(He,U,He,De)),Gi(De)&&ld(X,U,De),null!=S&&Kd(U,De,x)}function th(n){return wr(function zo(){return kn.lFrame.contextLView}(),Xt+n)}function Rp(n,r,s){const a=mt();return da(a,Ko(),r)&&Qa(lr(),Qr(),a,n,r,a[Rn],s,!1),Rp}function fm(n,r,s,a,d){const S=d?"class":"style";Jd(n,s,r.inputs[S],S,a)}function qh(n,r,s,a){const d=mt(),m=lr(),S=Xt+n,x=d[Rn],U=m.firstCreatePass?function Ly(n,r,s,a,d,m){const S=r.consts,U=Sc(r,n,2,a,Ks(S,d));return Yd(r,s,U,Ks(S,m)),null!==U.attrs&&dd(U,U.attrs,!1),null!==U.mergedAttrs&&dd(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(S,m,d,r,s,a):m.data[S],X=d[S]=Ut(x,r,function gn(){return kn.lFrame.currentNamespace}()),de=Gi(U);return Vs(U,!0),Qu(x,X,U),32!=(32&U.flags)&&Yu(m,d,X,U),0===function $(){return kn.lFrame.elementDepthCount}()&&ts(X,d),function k(){kn.lFrame.elementDepthCount++}(),de&&(ld(m,d,U),zd(m,U,d)),null!==a&&Kd(d,U),qh}function Zh(){let n=zi();Mo()?Wo():(n=n.parent,Vs(n,!1));const r=n;!function ce(){kn.lFrame.elementDepthCount--}();const s=lr();return s.firstCreatePass&&(ul(s,n),As(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Rr(n){return 0!=(8&n.flags)}(r)&&fm(s,r,mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Wn(n){return 0!=(16&n.flags)}(r)&&fm(s,r,mt(),r.stylesWithoutHost,!1),Zh}function xp(n,r,s,a){return qh(n,r,s,a),Zh(),xp}function nh(n,r,s){const a=mt(),d=lr(),m=n+Xt,S=d.firstCreatePass?function Fy(n,r,s,a,d){const m=r.consts,S=Ks(m,a),x=Sc(r,n,8,"ng-container",S);return null!==S&&dd(x,S,!0),Yd(r,s,x,Ks(m,d)),null!==r.queries&&r.queries.elementStart(r,x),x}(m,d,a,r,s):d.data[m];Vs(S,!0);const x=a[m]=a[Rn].createComment("");return Yu(d,a,x,S),ts(x,a),Gi(S)&&(ld(d,a,S),zd(d,S,a)),null!=s&&Kd(a,S),nh}function yd(){let n=zi();const r=lr();return Mo()?Wo():(n=n.parent,Vs(n,!1)),r.firstCreatePass&&(ul(r,n),As(n)&&r.queries.elementEnd(n)),yd}function Xh(n,r,s){return nh(n,r,s),yd(),Xh}function Jh(){return mt()}function rh(n){return!!n&&"function"==typeof n.then}function ef(n){return!!n&&"function"==typeof n.subscribe}const ih=ef;function sh(n,r,s,a){const d=mt(),m=lr(),S=zi();return function nf(n,r,s,a,d,m,S){const x=Gi(a),X=n.firstCreatePass&&im(n),de=r[br],De=rm(r);let He=!0;if(3&a.type||S){const Qt=Ei(a,r),mn=S?S(Qt):Qt,Nn=De.length,yr=S?Or=>S(Hr(Or[a.index])):a.index;let Gt=null;if(!S&&x&&(Gt=function tf(n,r,s,a){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const S=d[m];if(S===s&&d[m+1]===a){const x=r[mr],U=d[m+2];return x.length>U?x[U]:null}"string"==typeof S&&(m+=2)}return null}(n,r,d,a.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=m,Gt.__ngLastListenerFn__=m,He=!1;else{m=Lp(a,r,de,m,!1);const Or=s.listen(mn,d,m);De.push(m,Or),X&&X.push(d,yr,Nn,Nn+1)}}else m=Lp(a,r,de,m,!1);const ut=a.outputs;let At;if(He&&null!==ut&&(At=ut[d])){const Qt=At.length;if(Qt)for(let mn=0;mn<Qt;mn+=2){const eo=r[At[mn]][At[mn+1]].subscribe(m),ko=De.length;De.push(m,eo),X&&X.push(d,a.index,ko,-(ko+1))}}}(m,d,d[Rn],S,n,r,a),sh}function rf(n,r,s,a){try{return vi(6,r,s),!1!==s(a)}catch(d){return $h(n,d),!1}finally{vi(7,r,s)}}function Lp(n,r,s,a,d){return function m(S){if(S===Function)return a;Zd(n.componentOffset>-1?qi(n.index,r):r);let U=rf(r,s,a,S),X=m.__ngNextListenerFn__;for(;X;)U=rf(r,s,X,S)&&U,X=X.__ngNextListenerFn__;return d&&!1===U&&(S.preventDefault(),S.returnValue=!1),U}}function Nc(n=1){return function Xi(n){return(kn.lFrame.contextLView=function Ys(n,r){for(;n>0;)r=r[Is],n--;return r}(n,kn.lFrame.contextLView))[br]}(n)}function Fp(n,r){let s=null;const a=function Lf(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const m=r[d];if("*"!==m){if(null===a?jd(n,m,!0):cy(a,m))return d}else s=d}return s}function pm(n){const r=mt()[Ee][tr];if(!r.projection){const a=r.projection=je(n?n.length:1,null),d=a.slice();let m=r.child;for(;null!==m;){const S=n?Fp(m,n):0;null!==S&&(d[S]?d[S].projectionNext=m:a[S]=m,d[S]=m),m=m.next}}}function gm(n,r=0,s){const a=mt(),d=lr(),m=Sc(d,Xt+n,16,null,s||null);null===m.projection&&(m.projection=r),Wo(),32!=(32&m.flags)&&function Ad(n,r,s){mh(r[Rn],0,r,s,uc(n,s,r),Fs(s.parent||r[tr],s,r))}(d,a,m)}function kp(n,r,s){return oh(n,"",r,"",s),kp}function oh(n,r,s,a,d){const m=mt(),S=nc(m,r,s,a);return S!==Cr&&Qa(lr(),Qr(),m,n,S,m[Rn],d,!1),oh}function Vp(n,r){return n<<17|r<<2}function Mi(n){return n>>17&32767}function Js(n){return 2|n}function ic(n){return(131068&n)>>2}function Bp(n,r){return-131069&n|r<<2}function af(n){return 1|n}function Uy(n,r,s,a,d){const m=n[s+1],S=null===r;let x=a?Mi(m):ic(m),U=!1;for(;0!==x&&(!1===U||S);){const de=n[x+1];q_(n[x],r)&&(U=!0,n[x+1]=a?af(de):Js(de)),x=a?Mi(de):ic(de)}U&&(n[s+1]=a?Js(m):af(m))}function q_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&fi(n,r)>=0}const fa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jp(n){return n.substring(fa.key,fa.keyEnd)}function Lc(n){return n.substring(fa.value,fa.valueEnd)}function Vy(n,r){const s=fa.textEnd;return s===r?-1:(r=fa.keyEnd=function Im(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,fa.key=r,s),vd(n,r,s))}function uf(n,r){const s=fa.textEnd;let a=fa.key=vd(n,r,s);return s===a?-1:(a=fa.keyEnd=function wm(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=ah(n,a,s),a=fa.value=vd(n,a,s),a=fa.valueEnd=function By(n,r,s){let a=-1,d=-1,m=-1,S=r,x=S;for(;S<s;){const U=n.charCodeAt(S++);if(59===U)return x;34===U||39===U?x=S=Fc(n,U,S,s):r===S-4&&85===m&&82===d&&76===a&&40===U?x=S=Fc(n,41,S,s):U>32&&(x=S),m=d,d=a,a=-33&U}return x}(n,a,s),ah(n,a,s))}function Cm(n){fa.key=0,fa.keyEnd=0,fa.value=0,fa.valueEnd=0,fa.textEnd=n.length}function vd(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ah(n,r,s,a){return(r=vd(n,r,s))<s&&r++,r}function Fc(n,r,s,a){let d=-1,m=s;for(;m<a;){const S=n.charCodeAt(m++);if(S==r&&92!==d)return m;d=92==S&&92===d?0:S}throw new Error}function kc(n,r,s){return Kl(n,r,s,!1),kc}function cf(n,r){return Kl(n,r,null,!0),cf}function Sl(n){Yl(zp,jy,n,!1)}function jy(n,r){for(let s=function lf(n){return Cm(n),uf(n,vd(n,0,fa.textEnd))}(r);s>=0;s=uf(r,s))zp(n,jp(r),Lc(r))}function Sm(n){Yl(Kp,Cu,n,!0)}function Cu(n,r){for(let s=function _d(n){return Cm(n),Vy(n,vd(n,0,fa.textEnd))}(r);s>=0;s=Vy(r,s))kr(n,jp(r),!0)}function Kl(n,r,s,a){const d=mt(),m=lr(),S=gs(2);m.firstUpdatePass&&sc(m,n,S,a),r!==Cr&&da(d,S,r)&&lh(m,m.data[Di()],d,d[Rn],n,d[S+1]=function uh(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=K(ks(n)))),n}(r,s),a,S)}function Yl(n,r,s,a){const d=lr(),m=gs(2);d.firstUpdatePass&&sc(d,null,m,a);const S=mt();if(s!==Cr&&da(S,m,s)){const x=d.data[Di()];if(Mm(x,a)&&!Hp(d,m)){let U=a?x.classesWithoutHost:x.stylesWithoutHost;null!==U&&(s=re(U,s||"")),fm(d,x,S,s,a)}else!function Hy(n,r,s,a,d,m,S,x){d===Cr&&(d=Wt);let U=0,X=0,de=0<d.length?d[0]:null,De=0<m.length?m[0]:null;for(;null!==de||null!==De;){const He=U<d.length?d[U+1]:void 0,ut=X<m.length?m[X+1]:void 0;let Qt,At=null;de===De?(U+=2,X+=2,He!==ut&&(At=De,Qt=ut)):null===De||null!==de&&de<De?(U+=2,At=de):(X+=2,At=De,Qt=ut),null!==At&&lh(n,r,s,a,At,Qt,S,x),de=U<d.length?d[U]:null,De=X<m.length?m[X]:null}}(d,x,S,S[Rn],S[m+1],S[m+1]=function df(n,r,s){if(null==s||""===s)return Wt;const a=[],d=ks(s);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(a,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(a,m,d[m]);else"string"==typeof d&&r(a,d);return a}(n,r,s),a,m)}}function Hp(n,r){return r>=n.expandoStartIndex}function sc(n,r,s,a){const d=n.data;if(null===d[s+1]){const m=d[Di()],S=Hp(n,s);Mm(m,a)&&null===r&&!S&&(r=!1),r=function bm(n,r,s,a){const d=Zi(n);let m=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=oc(s=Wp(null,n,r,s,a),r.attrs,a),m=null);else{const S=r.directiveStylingLast;if(-1===S||n[S]!==d)if(s=Wp(d,n,r,s,a),null===m){let U=function Am(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ic(a))return n[Mi(a)]}(n,r,a);void 0!==U&&Array.isArray(U)&&(U=Wp(null,n,r,U[1],a),U=oc(U,r.attrs,a),function $p(n,r,s,a){n[Mi(s?r.classBindings:r.styleBindings)]=a}(n,r,a,U))}else m=function Gp(n,r,s){let a;const d=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<d;m++)a=oc(a,n[m].hostAttrs,s);return oc(a,r.attrs,s)}(n,r,a)}return void 0!==m&&(a?r.residualClasses=m:r.residualStyles=m),s}(d,m,r,a),function Y_(n,r,s,a,d,m){let S=m?r.classBindings:r.styleBindings,x=Mi(S),U=ic(S);n[a]=s;let de,X=!1;if(Array.isArray(s)?(de=s[1],(null===de||fi(s,de)>0)&&(X=!0)):de=s,d)if(0!==U){const He=Mi(n[x+1]);n[a+1]=Vp(He,x),0!==He&&(n[He+1]=Bp(n[He+1],a)),n[x+1]=function ky(n,r){return 131071&n|r<<17}(n[x+1],a)}else n[a+1]=Vp(x,0),0!==x&&(n[x+1]=Bp(n[x+1],a)),x=a;else n[a+1]=Vp(U,0),0===x?x=a:n[U+1]=Bp(n[U+1],a),U=a;X&&(n[a+1]=Js(n[a+1])),Uy(n,de,a,!0),Uy(n,de,a,!1),function Q_(n,r,s,a,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof r&&fi(m,r)>=0&&(s[a+1]=af(s[a+1]))}(r,de,n,a,m),S=Vp(x,U),m?r.classBindings=S:r.styleBindings=S}(d,m,r,s,S,a)}}function Wp(n,r,s,a,d){let m=null;const S=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<S&&(m=r[x],a=oc(a,m.hostAttrs,d),m!==n);)x++;return null!==n&&(s.directiveStylingLast=x),a}function oc(n,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let m=0;m<r.length;m++){const S=r[m];"number"==typeof S?d=S:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kr(n,S,!!s||r[++m]))}return void 0===n?null:n}function zp(n,r,s){kr(n,r,ks(s))}function Kp(n,r,s){const a=String(r);""!==a&&!a.includes(" ")&&kr(n,a,s)}function lh(n,r,s,a,d,m,S,x){if(!(3&r.type))return;const U=n.data,X=U[x+1],de=function K_(n){return 1==(1&n)}(X)?Yp(U,r,s,d,ic(X),S):void 0;Ed(de)||(Ed(m)||function z_(n){return 2==(2&n)}(X)&&(m=Yp(U,null,s,d,x,S)),function tu(n,r,s,a,d){if(r)d?n.addClass(s,a):n.removeClass(s,a);else{let m=-1===a.indexOf("-")?void 0:No.DashCase;null==d?n.removeStyle(s,a,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=No.Important),n.setStyle(s,a,d,m))}}(a,S,jo(Di(),s),d,m))}function Yp(n,r,s,a,d,m){const S=null===r;let x;for(;d>0;){const U=n[d],X=Array.isArray(U),de=X?U[1]:U,De=null===de;let He=s[d+1];He===Cr&&(He=De?Wt:void 0);let ut=De?vs(He,a):de===a?He:void 0;if(X&&!Ed(ut)&&(ut=vs(U,a)),Ed(ut)&&(x=ut,S))return x;const At=n[d+1];d=S?Mi(At):ic(At)}if(null!==r){let U=m?r.residualClasses:r.residualStyles;null!=U&&(x=vs(U,a))}return x}function Ed(n){return void 0!==n}function Mm(n,r){return 0!=(n.flags&(r?8:16))}function Dd(n,r=""){const s=mt(),a=lr(),d=n+Xt,m=a.firstCreatePass?Sc(a,d,1,r,null):a.data[d],S=s[d]=function $t(n,r){return n.createText(r)}(s[Rn],r);Yu(a,s,S,m),Vs(m,!1)}function Pm(n){return Vu("",n,""),Pm}function Vu(n,r,s){const a=mt(),d=nc(a,n,r,s);return d!==Cr&&Fu(a,Di(),d),Vu}function Om(n,r,s,a,d){const m=mt(),S=rc(m,n,r,s,a,d);return S!==Cr&&Fu(m,Di(),S),Om}function Rm(n,r,s,a,d,m,S){const x=mt(),U=gd(x,n,r,s,a,d,m,S);return U!==Cr&&Fu(x,Di(),U),Rm}function ch(n,r,s,a,d,m,S,x,U){const X=mt(),de=function Oc(n,r,s,a,d,m,S,x,U,X){const De=Tl(n,ai(),s,d,S,U);return gs(4),De?r+ze(s)+a+ze(d)+m+ze(S)+x+ze(U)+X:Cr}(X,n,r,s,a,d,m,S,x,U);return de!==Cr&&Fu(X,Di(),de),ch}function Cd(n,r,s,a,d,m,S,x,U,X,de,De,He){const ut=mt(),At=function Uu(n,r,s,a,d,m,S,x,U,X,de,De,He,ut){const At=ai();let Qt=Tl(n,At,s,d,S,U);return Qt=ku(n,At+4,de,He)||Qt,gs(6),Qt?r+ze(s)+a+ze(d)+m+ze(S)+x+ze(U)+X+ze(de)+De+ze(He)+ut:Cr}(ut,n,r,s,a,d,m,S,x,U,X,de,De,He);return At!==Cr&&Fu(ut,Di(),At),Cd}function Gy(n,r,s){Yl(kr,Cu,nc(mt(),n,r,s),!0)}function Lm(n,r,s,a,d){Yl(kr,Cu,rc(mt(),n,r,s,a,d),!0)}function hh(n,r,s,a,d,m,S){Yl(kr,Cu,gd(mt(),n,r,s,a,d,m,S),!0)}function Qp(n,r,s){Sl(nc(mt(),n,r,s))}function Wm(n,r,s){const a=mt();return da(a,Ko(),r)&&Qa(lr(),Qr(),a,n,r,a[Rn],s,!0),Wm}function Zp(n,r,s){const a=mt();if(da(a,Ko(),r)){const m=lr(),S=Qr();Qa(m,S,a,n,r,function Hh(n,r,s){return(null===n||sr(n))&&(s=function ps(n){for(;Array.isArray(n);){if("object"==typeof n[ar])return n;n=n[Br]}return null}(s[r.index])),s[Rn]}(Zi(m.data),S,a),s,!0)}return Zp}const Vc=void 0;var Xy=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zy(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let fh={};function ph(n){const r=function e_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=zm(r);if(s)return s;const a=r.split("-")[0];if(s=zm(a),s)return s;if("en"===a)return Xy;throw new Ve(701,!1)}function Jy(n){return ph(n)[er.PluralCase]}function zm(n){return n in fh||(fh[n]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[n]),fh[n]}var er=(()=>((er=er||{})[er.LocaleId=0]="LocaleId",er[er.DayPeriodsFormat=1]="DayPeriodsFormat",er[er.DayPeriodsStandalone=2]="DayPeriodsStandalone",er[er.DaysFormat=3]="DaysFormat",er[er.DaysStandalone=4]="DaysStandalone",er[er.MonthsFormat=5]="MonthsFormat",er[er.MonthsStandalone=6]="MonthsStandalone",er[er.Eras=7]="Eras",er[er.FirstDayOfWeek=8]="FirstDayOfWeek",er[er.WeekendRange=9]="WeekendRange",er[er.DateFormat=10]="DateFormat",er[er.TimeFormat=11]="TimeFormat",er[er.DateTimeFormat=12]="DateTimeFormat",er[er.NumberSymbols=13]="NumberSymbols",er[er.NumberFormats=14]="NumberFormats",er[er.CurrencyCode=15]="CurrencyCode",er[er.CurrencySymbol=16]="CurrencySymbol",er[er.CurrencyName=17]="CurrencyName",er[er.Currencies=18]="Currencies",er[er.Directionality=19]="Directionality",er[er.PluralCase=20]="PluralCase",er[er.ExtraData=21]="ExtraData",er))();const Td="en-US";let eg=Td;function r_(n,r,s,a,d){if(n=fe(n),Array.isArray(n))for(let m=0;m<n.length;m++)r_(n[m],r,s,a,d);else{const m=lr(),S=mt();let x=Pu(n)?n:fe(n.provide),U=Zc(n);const X=zi(),de=1048575&X.providerIndexes,De=X.directiveStart,He=X.providerIndexes>>20;if(Pu(n)||!n.multi){const ut=new we(U,d,Lu),At=s_(x,r,d?de:de+He,De);-1===At?(su(Aa(X,S),m,x),i_(m,n,r.length),r.push(x),X.directiveStart++,X.directiveEnd++,d&&(X.providerIndexes+=1048576),s.push(ut),S.push(ut)):(s[At]=ut,S[At]=ut)}else{const ut=s_(x,r,de+He,De),At=s_(x,r,de,de+He),mn=At>=0&&s[At];if(d&&!mn||!d&&!(ut>=0&&s[ut])){su(Aa(X,S),m,x);const Nn=function F0(n,r,s,a,d){const m=new we(n,s,Lu);return m.multi=[],m.index=r,m.componentProviders=0,yv(m,d,a&&!s),m}(d?L0:N0,s.length,d,a,U);!d&&mn&&(s[At].providerFactory=Nn),i_(m,n,r.length,0),r.push(x),X.directiveStart++,X.directiveEnd++,d&&(X.providerIndexes+=1048576),s.push(Nn),S.push(Nn)}else i_(m,n,ut>-1?ut:At,yv(s[d?At:ut],U,!d&&a));!d&&a&&mn&&s[At].componentProviders++}}}function i_(n,r,s,a){const d=Pu(r),m=function Af(n){return!!n.useClass}(r);if(d||m){const U=(m?fe(r.useClass):r).prototype.ngOnDestroy;if(U){const X=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const de=X.indexOf(s);-1===de?X.push(s,[a,U]):X[de+1].push(a,U)}else X.push(s,U)}}}function yv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function s_(n,r,s,a){for(let d=s;d<a;d++)if(r[d]===n)return d;return-1}function N0(n,r,s,a){return o_(this.multi,[])}function L0(n,r,s,a){const d=this.multi;let m;if(this.providerFactory){const S=this.providerFactory.componentProviders,x=es(s,s[Bt],this.providerFactory.index,a);m=x.slice(0,S),o_(d,m);for(let U=S;U<x.length;U++)m.push(x[U])}else m=[],o_(d,m);return m}function o_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function _v(n,r=[]){return s=>{s.providersResolver=(a,d)=>function x0(n,r,s){const a=lr();if(a.firstCreatePass){const d=sr(n);r_(s,a.data,a.blueprint,d,!0),r_(r,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,r)}}class pf{}class vv{}function k0(n,r){return new Ev(n,r??null)}class Ev extends pf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wh(this);const a=ti(r);this._bootstrapComponents=xu(a.bootstrap),this._r3Injector=jg(r,s,[{provide:pf,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],K(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class a_ extends vv{constructor(r){super(),this.moduleType=r}create(r){return new Ev(this.moduleType,r)}}class U0 extends pf{constructor(r,s,a){super(),this.componentFactoryResolver=new Wh(this),this.instance=null;const d=new bh([...r,{provide:pf,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],s||Ec(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function l_(n,r,s=null){return new U0(n,r,s).injector}let V0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=gg(0,s.type),d=a.length>0?l_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=hn({token:n,providedIn:"environment",factory:()=>new n(or(Dc))}),n})();function Dv(n){n.getStandaloneInjector=r=>r.get(V0).getOrCreateStandaloneInjector(n)}function Av(n,r,s){const a=Ri()+n,d=mt();return d[a]===Cr?Du(d,a,s?r.call(s):r()):function Pc(n,r){return n[r]}(d,a)}function Mv(n,r,s,a){return Rv(mt(),Ri(),n,r,s,a)}function Pv(n,r,s,a,d){return xv(mt(),Ri(),n,r,s,a,d)}function Ov(n,r,s,a,d,m){return Nv(mt(),Ri(),n,r,s,a,d,m)}function rg(n,r){const s=n[r];return s===Cr?void 0:s}function Rv(n,r,s,a,d,m){const S=r+s;return da(n,S,d)?Du(n,S+1,m?a.call(m,d):a(d)):rg(n,S+1)}function xv(n,r,s,a,d,m,S){const x=r+s;return ku(n,x,d,m)?Du(n,x+2,S?a.call(S,d,m):a(d,m)):rg(n,x+2)}function Nv(n,r,s,a,d,m,S,x){const U=r+s;return Qh(n,U,d,m,S)?Du(n,U+3,x?a.call(x,d,m,S):a(d,m,S)):rg(n,U+3)}function kv(n,r){const s=lr();let a;const d=n+Xt;s.firstCreatePass?(a=function eD(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const m=a.factory||(a.factory=io(a.type)),S=Ir(Lu);try{const x=lo(!1),U=m();return lo(x),function hm(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,mt(),d,U),U}finally{Ir(S)}}function Uv(n,r,s){const a=n+Xt,d=mt(),m=wr(d,a);return ig(d,a)?Rv(d,Ri(),r,m.transform,s,m):m.transform(s)}function Vv(n,r,s,a){const d=n+Xt,m=mt(),S=wr(m,d);return ig(m,d)?xv(m,Ri(),r,S.transform,s,a,S):S.transform(s,a)}function Bv(n,r,s,a,d){const m=n+Xt,S=mt(),x=wr(S,m);return ig(S,m)?Nv(S,Ri(),r,x.transform,s,a,d,x):x.transform(s,a,d)}function jv(n,r,s){const a=n+Xt,d=mt(),m=wr(d,a);return ig(d,a)?function Fv(n,r,s,a,d,m){let S=r+s,x=!1;for(let U=0;U<d.length;U++)da(n,S++,d[U])&&(x=!0);return x?Du(n,S,a.apply(m,d)):rg(n,S)}(d,Ri(),r,m.transform,s,m):m.transform.apply(m,s)}function ig(n,r){return n[Bt].data[r].pure}function c_(n){return r=>{setTimeout(n,void 0,r)}}const ac=class nD extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let d=r,m=s||(()=>null),S=a;if(r&&"object"==typeof r){const U=r;d=U.next?.bind(U),m=U.error?.bind(U),S=U.complete?.bind(U)}this.__isAsync&&(m=c_(m),d&&(d=c_(d)),S&&(S=c_(S)));const x=super.subscribe({next:d,error:m,complete:S});return r instanceof I.w0&&r.add(x),x}};function rD(){return this._results[Symbol.iterator]()}class d_{get changes(){return this._changes||(this._changes=new ac)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=d_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=rD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=function F(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function T(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],m=r[a];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let sg=(()=>{class n{}return n.__NG_ELEMENT_ID__=oD,n})();const iD=sg,sD=class extends iD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tView,d=Wl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[ot]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[gt];return null!==S&&(d[gt]=S.createEmbeddedView(a)),qf(a,d,r),new Mc(d)}};function oD(){return Ym(zi(),mt())}function Ym(n,r){return 4&n.type?new sD(r,n,ed(n,r)):null}let Qm=(()=>{class n{}return n.__NG_ELEMENT_ID__=aD,n})();function aD(){return Gv(zi(),mt())}const lD=Qm,Hv=class extends lD{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const r=Rl(this._hostTNode,this._hostLView);if(Ji(r)){const s=xr(r,this._hostLView),a=Vn(r);return new el(s[Bt].data[a+8],s)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=$v(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(r,s,a){let d,m;"number"==typeof a?d=a:null!=a&&(d=a.index,m=a.injector);const S=r.createEmbeddedView(s||{},m);return this.insert(S,d),S}createComponent(r,s,a,d,m){const S=r&&!function O(n){return"function"==typeof n}(r);let x;if(S)x=s;else{const De=s||{};x=De.index,a=De.injector,d=De.projectableNodes,m=De.environmentInjector||De.ngModuleRef}const U=S?r:new eh(cn(r)),X=a||this.parentInjector;if(!m&&null==U.ngModule){const He=(S?X:this.parentInjector).get(Dc,null);He&&(m=He)}const de=U.create(X,d,void 0,m);return this.insert(de.hostView,x),de}insert(r,s){const a=r._lView,d=a[Bt];if(function qa(n){return Cn(n[pn])}(a)){const de=this.indexOf(r);if(-1!==de)this.detach(de);else{const De=a[pn],He=new Hv(De,De[tr],De[pn]);He.detach(He.indexOf(r))}}const m=this._adjustIndex(s),S=this._lContainer;!function Wr(n,r,s,a){const d=ni+a,m=s.length;a>0&&(s[d-1][An]=r),a<m-ni?(r[An]=s[d],oe(s,ni+a,r)):(s.push(r),r[An]=null),r[pn]=s;const S=r[ot];null!==S&&s!==S&&function Ds(n,r){const s=n[Si];r[Ee]!==r[pn][pn][Ee]&&(n[hi]=!0),null===s?n[Si]=[r]:s.push(r)}(S,r);const x=r[gt];null!==x&&x.insertView(n),r[bn]|=64}(d,a,S,m);const x=la(m,S),U=a[Rn],X=qn(U,S[Er]);return null!==X&&function gr(n,r,s,a,d,m){a[Br]=d,a[tr]=r,Hi(n,a,s,1,d,m)}(d,S[tr],U,a,X,x),r.attachToViewContainerRef(),oe(h_(S),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=$v(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ia(this._lContainer,s);a&&(pe(h_(this._lContainer),s),Ni(a[Bt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ia(this._lContainer,s);return a&&null!=pe(h_(this._lContainer),s)?new Mc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function $v(n){return n[Ar]}function h_(n){return n[Ar]||(n[Ar]=[])}function Gv(n,r){let s;const a=r[n.index];if(Cn(a))s=a;else{let d;if(8&n.type)d=Hr(a);else{const m=r[Rn];d=m.createComment("");const S=Ei(n,r);Do(m,qn(m,S),d,function ii(n,r){return n.nextSibling(r)}(m,S),!1)}r[n.index]=s=tm(a,r,d,n),qd(r,s)}return new Hv(s,n,r)}class f_{constructor(r){this.queryList=r,this.matches=null}clone(){return new f_(this.queryList)}setDirty(){this.queryList.setDirty()}}class p_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let m=0;m<a;m++){const S=s.getByIndex(m);d.push(this.queries[S.indexInDeclarationView].clone())}return new p_(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Jv(r,s).matches&&this.queries[s].setDirty()}}class Wv{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class g_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,m=this.getByIndex(a).embeddedTView(r,d);m&&(m.indexInDeclarationView=a,null!==s?s.push(m):s=[m])}return null!==s?new g_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class m_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new m_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const m=a[d];this.matchTNodeWithReadOption(r,s,uD(s,m)),this.matchTNodeWithReadOption(r,s,xl(s,r,m,!1,!1))}else a===sg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,xl(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Eu||d===Qm||d===sg&&4&s.type)this.addMatch(s.index,-2);else{const m=xl(s,r,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function uD(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function dD(n,r,s,a){return-1===s?function cD(n,r){return 11&n.type?ed(n,r):4&n.type?Ym(n,r):null}(r,n):-2===s?function hD(n,r,s){return s===Eu?ed(r,n):s===sg?Ym(r,n):s===Qm?Gv(r,n):void 0}(n,r,a):es(n,n[Bt],s,r)}function zv(n,r,s,a){const d=r[gt].queries[a];if(null===d.matches){const m=n.data,S=s.matches,x=[];for(let U=0;U<S.length;U+=2){const X=S[U];x.push(X<0?null:dD(r,m[X],S[U+1],s.metadata.read))}d.matches=x}return d.matches}function y_(n,r,s,a){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const S=zv(n,r,d,s);for(let x=0;x<m.length;x+=2){const U=m[x];if(U>0)a.push(S[x/2]);else{const X=m[x+1],de=r[-U];for(let De=ni;De<de.length;De++){const He=de[De];He[ot]===He[pn]&&y_(He[Bt],He,X,a)}if(null!==de[Si]){const De=de[Si];for(let He=0;He<De.length;He++){const ut=De[He];y_(ut[Bt],ut,X,a)}}}}}return a}function Kv(n){const r=mt(),s=lr(),a=Qo();Za(a+1);const d=Jv(s,a);if(n.dirty&&function bo(n){return 4==(4&n[bn])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?y_(s,r,a,[]):zv(s,r,d,a);n.reset(m,Ig),n.notifyOnChanges()}return!0}return!1}function Yv(n,r,s){const a=lr();a.firstCreatePass&&(Xv(a,new Wv(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Zv(a,mt(),r)}function Qv(n,r,s,a){const d=lr();if(d.firstCreatePass){const m=zi();Xv(d,new Wv(r,s,a),m.index),function pD(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Zv(d,mt(),s)}function qv(){return function fD(n,r){return n[gt].queries[r].queryList}(mt(),Qo())}function Zv(n,r,s){const a=new d_(4==(4&s));Zg(n,r,a,a.destroy),null===r[gt]&&(r[gt]=new p_),r[gt].queries.push(new f_(a))}function Xv(n,r,s){null===n.queries&&(n.queries=new g_),n.queries.track(new m_(r,s))}function Jv(n,r){return n.queries.getByIndex(r)}function eE(n,r){return Ym(n,r)}function __(n){return!!ti(n)}function Zm(...n){}const _E=new Xr("Application Initializer");let Xm=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Zm,this.reject=Zm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(rh(m))s.push(m);else if(ih(m)){const S=new Promise((x,U)=>{m.subscribe({complete:x,error:U})});s.push(S)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(or(_E,8))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vE=new Xr("AppId",{providedIn:"root",factory:function EE(){return`${I_()}${I_()}${I_()}`}});function I_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DE=new Xr("Platform Initializer"),ND=new Xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),LD=new Xr("AnimationModuleType");let FD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Jm=new Xr("LocaleId",{providedIn:"root",factory:()=>Jr(Jm,ln.Optional|ln.SkipSelf)||function kD(){return typeof $localize<"u"&&$localize.locale||Td}()}),UD=new Xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class VD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let BD=(()=>{class n{compileModuleSync(s){return new a_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),m=xu(ti(s).declarations).reduce((S,x)=>{const U=cn(x);return U&&S.push(new eh(U)),S},[]);return new VD(a,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $D=(()=>Promise.resolve(0))();function w_(n){typeof Zone>"u"?$D.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Iu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ac(!1),this.onMicrotaskEmpty=new ac(!1),this.onStable=new ac(!1),this.onError=new ac(!1),typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function GD(){let n=Kn.requestAnimationFrame,r=Kn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function KD(n){const r=()=>{!function zD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Kn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,S_(n),n.isCheckStableRunning=!0,T_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),S_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,m,S,x)=>{try{return wE(n),s.invokeTask(d,m,S,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&r(),TE(n)}},onInvoke:(s,a,d,m,S,x,U)=>{try{return wE(n),s.invoke(d,m,S,x,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),TE(n)}},onHasTask:(s,a,d,m)=>{s.hasTask(d,m),a===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,S_(n),T_(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,a,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new Ve(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const m=this._inner,S=m.scheduleEventTask("NgZoneEvent: "+d,r,WD,Zm,Zm);try{return m.runTask(S,s,a)}finally{m.cancelTask(S)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const WD={};function T_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function S_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TE(n){n._nesting--,T_(n)}class YD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ac,this.onMicrotaskEmpty=new ac,this.onStable=new ac,this.onError=new ac}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const SE=new Xr(""),bE=new Xr("");let b_,QD=(()=>{class n{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b_||(function qD(n){b_=n}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),w_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==m),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(or(Iu),or(AE),or(bE))},n.\u0275prov=hn({token:n,factory:n.\u0275fac}),n})(),AE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return b_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Bc=!1;let bd=null;const ME=new Xr("AllowMultipleToken"),A_=new Xr("PlatformDestroyListeners"),PE=new Xr("appBootstrapListener");class JD{constructor(r,s){this.name=r,this.token=s}}function RE(n,r,s=[]){const a=`Platform: ${r}`,d=new Xr(a);return(m=[])=>{let S=M_();if(!S||S.injector.get(ME,!1)){const x=[...s,...m,{provide:d,useValue:!0}];n?n(x):function eC(n){if(bd&&!bd.get(ME,!1))throw new Ve(400,!1);bd=n;const r=n.get(NE);(function OE(n){const r=n.get(DE,null);r&&r.forEach(s=>s())})(n)}(function xE(n=[],r){return Nu.create({name:r,providers:[{provide:Th,useValue:"platform"},{provide:A_,useValue:new Set([()=>bd=null])},...n]})}(x,a))}return function nC(n){const r=M_();if(!r)throw new Ve(401,!1);return r}()}}function M_(){return bd?.get(NE)??null}let NE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function FE(n,r){let s;return s="noop"===n?new YD:("zone.js"===n?void 0:n)||new Iu(r),s}(a?.ngZone,function LE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),m=[{provide:Iu,useValue:d}];return d.run(()=>{const S=Nu.create({providers:m,parent:this.injector,name:s.moduleType.name}),x=s.create(S),U=x.injector.get(Ud,null);if(!U)throw new Ve(402,!1);return d.runOutsideAngular(()=>{const X=d.onError.subscribe({next:de=>{U.handleError(de)}});x.onDestroy(()=>{ty(this._modules,x),X.unsubscribe()})}),function kE(n,r,s){try{const a=s();return rh(a)?a.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(U,d,()=>{const X=x.injector.get(Xm);return X.runInitializers(),X.donePromise.then(()=>(function i(n){Ln(n,"Expected localeId to be defined"),"string"==typeof n&&(eg=n.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Jm,Td)||Td),this._moduleDoBootstrap(x),x))})})}bootstrapModule(s,a=[]){const d=UE({},a);return function ZD(n,r,s){const a=new a_(s);return Promise.resolve(a)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const a=s.injector.get(ey);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Ve(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(A_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(or(Nu))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function UE(n,r){return Array.isArray(r)?r.reduce(UE,n):{...n,...r}}let ey=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new te.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),S=new te.y(x=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),w_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{U.unsubscribe(),X.unsubscribe()}});this.isStable=(0,B.T)(m,S.pipe((0,Z.B)()))}bootstrap(s,a){const d=s instanceof kd;if(!this._injector.get(Xm).done){!d&&ei(s);throw new Ve(405,Bc)}let S;S=d?s:this._injector.get(Jc).resolveComponentFactory(s),this.componentTypes.push(S.componentType);const x=function XD(n){return n.isBoundToModule}(S)?void 0:this._injector.get(pf),X=S.create(Nu.NULL,[],a||S.selector,x),de=X.location.nativeElement,De=X.injector.get(SE,null);return De?.registerApplication(de),X.onDestroy(()=>{this.detachView(X.hostView),ty(this.components,X),De?.unregisterApplication(de)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new Ve(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;ty(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(PE,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ty(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ve(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(or(Iu),or(Dc),or(Ud))},n.\u0275prov=hn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ty(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function iC(){return!1}function sC(){}let oC=(()=>{class n{}return n.__NG_ELEMENT_ID__=aC,n})();function aC(n){return function lC(n,r,s){if(Ws(n)&&!s){const a=qi(n.index,r);return new Mc(a,a)}return 47&n.type?new Mc(r[Ee],r):null}(zi(),mt(),16==(16&n))}class $E{constructor(){}supports(r){return fd(r)}create(r){return new pC(r)}}const fC=(n,r)=>r;class pC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||fC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,m=null;for(;s||a;){const S=!a||s&&s.currentIndex<WE(a,d,m)?s:a,x=WE(S,d,m),U=S.currentIndex;if(S===a)d--,a=a._nextRemoved;else if(s=s._next,null==S.previousIndex)d++;else{m||(m=[]);const X=x-d,de=U-d;if(X!=de){for(let He=0;He<X;He++){const ut=He<m.length?m[He]:m[He]=0,At=ut+He;de<=At&&At<X&&(m[He]=ut+1)}m[S.previousIndex]=de-X}}x!==U&&r(S,x,U)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!fd(r))throw new Ve(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,m,S,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)m=r[x],S=this._trackByFn(x,m),null!==s&&Object.is(s.trackById,S)?(a&&(s=this._verifyReinsertion(s,m,S,x)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,S,x),a=!0),s=s._next}else d=0,function xy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,x=>{S=this._trackByFn(d,x),null!==s&&Object.is(s.trackById,S)?(a&&(s=this._verifyReinsertion(s,x,S,d)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,S,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,d)):r=this._addAfter(new gC(s,a),m,d),r}_verifyReinsertion(r,s,a,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?r=this._reinsertAfter(m,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,m=r._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new GE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class gC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class GE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new mC,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WE(n,r,s){const a=n.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class zE{constructor(){}supports(r){return r instanceof Map||Sp(r)}create(){return new yC}}class yC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Sp(r)))throw new Ve(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const m=d._prev,S=d._next;return m&&(m._next=S),S&&(S._prev=m),d._next=null,d._prev=null,d}const a=new _C(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class _C{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KE(){return new N_([new $E])}let N_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||KE()),deps:[[n,new sa,new Da]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new Ve(901,!1)}}return n.\u0275prov=hn({token:n,providedIn:"root",factory:KE}),n})();function YE(){return new L_([new zE])}let L_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||YE()),deps:[[n,new sa,new Da]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Ve(901,!1)}}return n.\u0275prov=hn({token:n,providedIn:"root",factory:YE}),n})();const DC=RE(null,"core",[]);let CC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(or(ey))},n.\u0275mod=tt({type:n}),n.\u0275inj=wt({}),n})();function IC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function TC(n,r){const s=cn(n),a=r.elementInjector||Ec();return new eh(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}},4006:(Te,ae,D)=>{D.d(ae,{CE:()=>Hn,Cf:()=>We,EJ:()=>So,F:()=>tr,Fd:()=>mo,Fj:()=>$e,JJ:()=>ur,JL:()=>ln,JU:()=>K,K7:()=>ro,Kr:()=>jr,Mq:()=>Ge,NI:()=>oi,Oe:()=>wr,On:()=>zt,Q7:()=>Os,UX:()=>$o,Wl:()=>q,YN:()=>Wi,_:()=>ni,_Y:()=>Xt,a5:()=>Un,c5:()=>ps,cw:()=>Fe,eT:()=>ri,gN:()=>Lt,kI:()=>ke,nD:()=>as,oH:()=>Ws,qQ:()=>ws,qu:()=>qa,sg:()=>sr,u:()=>no,u5:()=>kn,wO:()=>vi,wV:()=>ar,x0:()=>bi});var f=D(4650),I=D(6895),te=D(457),B=D(4128),Z=D(4004);let se=(()=>{class G{constructor(k,ce){this._renderer=k,this._elementRef=ce,this.onChange=et=>{},this.onTouched=()=>{}}setProperty(k,ce){this._renderer.setProperty(this._elementRef.nativeElement,k,ce)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(f.Qsj),f.Y36(f.SBq))},G.\u0275dir=f.lG2({type:G}),G})(),ee=(()=>{class G extends se{}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,features:[f.qOj]}),G})();const K=new f.OlP("NgValueAccessor"),re={provide:K,useExisting:(0,f.Gpc)(()=>q),multi:!0};let q=(()=>{class G extends ee{writeValue(k){this.setProperty("checked",k)}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(k,ce){1&k&&f.NdJ("change",function(on){return ce.onChange(on.target.checked)})("blur",function(){return ce.onTouched()})},features:[f._Bn([re]),f.qOj]}),G})();const ue={provide:K,useExisting:(0,f.Gpc)(()=>$e),multi:!0},Ne=new f.OlP("CompositionEventMode");let $e=(()=>{class G extends se{constructor(k,ce,et){super(k,ce),this._compositionMode=et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const G=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ne,8))},G.\u0275dir=f.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,ce){1&k&&f.NdJ("input",function(on){return ce._handleInput(on.target.value)})("blur",function(){return ce.onTouched()})("compositionstart",function(){return ce._compositionStart()})("compositionend",function(on){return ce._compositionEnd(on.target.value)})},features:[f._Bn([ue]),f.qOj]}),G})();const Be=!1;function Ye(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ve(G){return null!=G&&"number"==typeof G.length}const We=new f.OlP("NgValidators"),ze=new f.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ke{static min($){return Re($)}static max($){return Dt($)}static required($){return Ct($)}static requiredTrue($){return function Qe(G){return!0===G.value?null:{required:!0}}($)}static email($){return function Mt(G){return Ye(G.value)||rt.test(G.value)?null:{email:!0}}($)}static minLength($){return Tt($)}static maxLength($){return nt($)}static pattern($){return qe($)}static nullValidator($){return null}static compose($){return Kt($)}static composeAsync($){return En($)}}function Re(G){return $=>{if(Ye($.value)||Ye(G))return null;const k=parseFloat($.value);return!isNaN(k)&&k<G?{min:{min:G,actual:$.value}}:null}}function Dt(G){return $=>{if(Ye($.value)||Ye(G))return null;const k=parseFloat($.value);return!isNaN(k)&&k>G?{max:{max:G,actual:$.value}}:null}}function Ct(G){return Ye(G.value)?{required:!0}:null}function Tt(G){return $=>Ye($.value)||!Ve($.value)?null:$.value.length<G?{minlength:{requiredLength:G,actualLength:$.value.length}}:null}function nt(G){return $=>Ve($.value)&&$.value.length>G?{maxlength:{requiredLength:G,actualLength:$.value.length}}:null}function qe(G){if(!G)return at;let $,k;return"string"==typeof G?(k="","^"!==G.charAt(0)&&(k+="^"),k+=G,"$"!==G.charAt(G.length-1)&&(k+="$"),$=new RegExp(k)):(k=G.toString(),$=G),ce=>{if(Ye(ce.value))return null;const et=ce.value;return $.test(et)?null:{pattern:{requiredPattern:k,actualValue:et}}}}function at(G){return null}function Xe(G){return null!=G}function _t(G){const $=(0,f.QGY)(G)?(0,te.D)(G):G;if(Be&&!(0,f.CqO)($)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof G&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,k)}return $}function bt(G){let $={};return G.forEach(k=>{$=null!=k?{...$,...k}:$}),0===Object.keys($).length?null:$}function fn(G,$){return $.map(k=>k(G))}function dn(G){return G.map($=>function rr(G){return!G.validate}($)?$:k=>$.validate(k))}function Kt(G){if(!G)return null;const $=G.filter(Xe);return 0==$.length?null:function(k){return bt(fn(k,$))}}function Ln(G){return null!=G?Kt(dn(G)):null}function En(G){if(!G)return null;const $=G.filter(Xe);return 0==$.length?null:function(k){const ce=fn(k,$).map(_t);return(0,B.D)(ce).pipe((0,Z.U)(bt))}}function ir(G){return null!=G?En(dn(G)):null}function Kr(G,$){return null===G?[$]:Array.isArray(G)?[...G,$]:[G,$]}function Mn(G){return G._rawValidators}function hn(G){return G._rawAsyncValidators}function si(G){return G?Array.isArray(G)?G:[G]:[]}function wt(G,$){return Array.isArray(G)?G.includes($):G===$}function ct(G,$){const k=si($);return si(G).forEach(et=>{wt(k,et)||k.push(et)}),k}function Ue(G,$){return si($).filter(k=>!wt(G,k))}class yt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Ln(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,k){return!!this.control&&this.control.hasError($,k)}getError($,k){return this.control?this.control.getError($,k):null}}class Lt extends yt{get formDirective(){return null}get path(){return null}}class Un extends yt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ur=(()=>{class G extends Zn{constructor(k){super(k)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(Un,2))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,ce){2&k&&f.ekj("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)},features:[f.qOj]}),G})(),ln=(()=>{class G extends Zn{constructor(k){super(k)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(Lt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,ce){2&k&&f.ekj("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)("ng-submitted",ce.isSubmitted)},features:[f.qOj]}),G})();function Vr(G,$){return G?`with name: '${$}'`:`at index: ${$}`}const jn=!1,is="VALID",or="INVALID",Pi="PENDING",Jr="DISABLED";function Je(G){return(ge(G)?G.validators:G)||null}function xe(G,$){return(ge($)?$.asyncValidators:G)||null}function ge(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function ve(G,$,k){const ce=G.controls;if(!($?Object.keys(ce):ce).length)throw new f.vHH(1e3,jn?function di(G){return`\n    There are no form controls registered with this ${G?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}($):"");if(!ce[k])throw new f.vHH(1001,jn?function _r(G,$){return`Cannot find form control ${Vr(G,$)}`}($,k):"")}function Ce(G,$,k){G._forEachChild((ce,et)=>{if(void 0===k[et])throw new f.vHH(1002,jn?function Fi(G,$){return`Must supply a value for form control ${Vr(G,$)}`}($,et):"")})}class st{constructor($,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===is}get invalid(){return this.status===or}get pending(){return this.status==Pi}get disabled(){return this.status===Jr}get enabled(){return this.status!==Jr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._assignValidators($)}setAsyncValidators($){this._assignAsyncValidators($)}addValidators($){this.setValidators(ct($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(ct($,this._rawAsyncValidators))}removeValidators($){this.setValidators(Ue($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(Ue($,this._rawAsyncValidators))}hasValidator($){return wt(this._rawValidators,$)}hasAsyncValidator($){return wt(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Pi,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const k=this._parentMarkedDirty($.onlySelf);this.status=Jr,this.errors=null,this._forEachChild(ce=>{ce.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:k}),this._onDisabledChange.forEach(ce=>ce(!0))}enable($={}){const k=this._parentMarkedDirty($.onlySelf);this.status=is,this._forEachChild(ce=>{ce.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:k}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===is||this.status===Pi)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jr:is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Pi,this._hasOwnPendingAsyncValidator=!0;const k=_t(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,k={}){this.errors=$,this._updateControlsErrors(!1!==k.emitEvent)}get($){let k=$;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((ce,et)=>ce&&ce._find(et),this)}getError($,k){const ce=k?this.get(k):this;return ce&&ce.errors?ce.errors[$]:null}hasError($,k){return!!this.getError($,k)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Jr:this.errors?or:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pi)?Pi:this._anyControlsHaveStatus(or)?or:is}_anyControlsHaveStatus($){return this._anyControls(k=>k.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){ge($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}_assignValidators($){this._rawValidators=Array.isArray($)?$.slice():$,this._composedValidatorFn=function Se(G){return Array.isArray(G)?Ln(G):G||null}(this._rawValidators)}_assignAsyncValidators($){this._rawAsyncValidators=Array.isArray($)?$.slice():$,this._composedAsyncValidatorFn=function Pt(G){return Array.isArray(G)?ir(G):G||null}(this._rawAsyncValidators)}}class Fe extends st{constructor($,k,ce){super(Je(k),xe(ce,k)),this.controls=$,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,k){return this.controls[$]?this.controls[$]:(this.controls[$]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl($,k,ce={}){this.registerControl($,k),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl($,k={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl($,k,ce={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],k&&this.registerControl($,k),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,k={}){Ce(this,!0,$),Object.keys($).forEach(ce=>{ve(this,!0,ce),this.controls[ce].setValue($[ce],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue($,k={}){null!=$&&(Object.keys($).forEach(ce=>{const et=this.controls[ce];et&&et.patchValue($[ce],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset($={},k={}){this._forEachChild((ce,et)=>{ce.reset($[et],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},($,k,ce)=>($[ce]=k.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(k,ce)=>!!ce._syncPendingControls()||k);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(k=>{const ce=this.controls[k];ce&&$(ce,k)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[k,ce]of Object.entries(this.controls))if(this.contains(k)&&$(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,ce,et)=>((ce.enabled||this.disabled)&&(k[et]=ce.value),k))}_reduceChildren($,k){let ce=$;return this._forEachChild((et,on)=>{ce=k(ce,et,on)}),ce}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}class Oe extends Fe{}const he=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ae}),Ae="always";function Ke(G,$){return[...$.path,G]}function kt(G,$,k=Ae){Ti(G,$),$.valueAccessor.writeValue(G.value),(G.disabled||"always"===k)&&$.valueAccessor.setDisabledState?.(G.disabled),function tt(G,$){$.valueAccessor.registerOnChange(k=>{G._pendingValue=k,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Zt(G,$)})}(G,$),function Pn(G,$){const k=(ce,et)=>{$.valueAccessor.writeValue(ce),et&&$.viewToModelUpdate(ce)};G.registerOnChange(k),$._registerOnDestroy(()=>{G._unregisterOnChange(k)})}(G,$),function xt(G,$){$.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Zt(G,$),"submit"!==G.updateOn&&G.markAsTouched()})}(G,$),function Dr(G,$){if($.valueAccessor.setDisabledState){const k=ce=>{$.valueAccessor.setDisabledState(ce)};G.registerOnDisabledChange(k),$._registerOnDestroy(()=>{G._unregisterOnDisabledChange(k)})}}(G,$)}function rn(G,$,k=!0){const ce=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(ce),$.valueAccessor.registerOnTouched(ce)),pt(G,$),G&&($._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Xn(G,$){G.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange($)})}function Ti(G,$){const k=Mn(G);null!==$.validator?G.setValidators(Kr(k,$.validator)):"function"==typeof k&&G.setValidators([k]);const ce=hn(G);null!==$.asyncValidator?G.setAsyncValidators(Kr(ce,$.asyncValidator)):"function"==typeof ce&&G.setAsyncValidators([ce]);const et=()=>G.updateValueAndValidity();Xn($._rawValidators,et),Xn($._rawAsyncValidators,et)}function pt(G,$){let k=!1;if(null!==G){if(null!==$.validator){const et=Mn(G);if(Array.isArray(et)&&et.length>0){const on=et.filter($r=>$r!==$.validator);on.length!==et.length&&(k=!0,G.setValidators(on))}}if(null!==$.asyncValidator){const et=hn(G);if(Array.isArray(et)&&et.length>0){const on=et.filter($r=>$r!==$.asyncValidator);on.length!==et.length&&(k=!0,G.setAsyncValidators(on))}}}const ce=()=>{};return Xn($._rawValidators,ce),Xn($._rawAsyncValidators,ce),k}function Zt(G,$){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Qn(G,$){Ti(G,$)}function ki(G,$){if(!G.hasOwnProperty("model"))return!1;const k=G.model;return!!k.isFirstChange()||!Object.is($,k.currentValue)}function Br(G,$){G._syncPendingControls(),$.forEach(k=>{const ce=k.control;"submit"===ce.updateOn&&ce._pendingChange&&(k.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Bt(G,$){if(!$)return null;let k,ce,et;return Array.isArray($),$.forEach(on=>{on.constructor===$e?k=on:function ss(G){return Object.getPrototypeOf(G.constructor)===ee}(on)?ce=on:et=on}),et||ce||k||null}const An={provide:Lt,useExisting:(0,f.Gpc)(()=>tr)},Dn=(()=>Promise.resolve())();let tr=(()=>{class G extends Lt{constructor(k,ce,et){super(),this.callSetDisabledState=et,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new Fe({},Ln(k),ir(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){Dn.then(()=>{const ce=this._findContainer(k.path);k.control=ce.registerControl(k.name,k.control),kt(k.control,k,this.callSetDisabledState),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){Dn.then(()=>{const ce=this._findContainer(k.path);ce&&ce.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){Dn.then(()=>{const ce=this._findContainer(k.path),et=new Fe({});Qn(et,k),ce.registerControl(k.name,et),et.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){Dn.then(()=>{const ce=this._findContainer(k.path);ce&&ce.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,ce){Dn.then(()=>{this.form.get(k.path).setValue(ce)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,Br(this.form,this._directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(We,10),f.Y36(ze,10),f.Y36(he,8))},G.\u0275dir=f.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,ce){1&k&&f.NdJ("submit",function(on){return ce.onSubmit(on)})("reset",function(){return ce.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([An]),f.qOj]}),G})();function mr(G,$){const k=G.indexOf($);k>-1&&G.splice(k,1)}function br(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const oi=class extends st{constructor($=null,k,ce){super(Je(k),xe(ce,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=br($)?$.value:$)}setValue($,k={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue($,k={}){this.setValue($,k)}reset($=this.defaultValue,k={}){this._applyFormState($),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){mr(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){mr(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){br($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}};let vr=(()=>{class G extends Lt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,features:[f.qOj]}),G})();const ot={provide:Lt,useExisting:(0,f.Gpc)(()=>Ge)};let Ge=(()=>{class G extends vr{constructor(k,ce,et){super(),this._parent=k,this._setValidators(ce),this._setAsyncValidators(et)}_checkParentType(){}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(Lt,5),f.Y36(We,10),f.Y36(ze,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[f._Bn([ot]),f.qOj]}),G})();const gt={provide:Un,useExisting:(0,f.Gpc)(()=>zt)},Ht=(()=>Promise.resolve())();let zt=(()=>{class G extends Un{constructor(k,ce,et,on,$r,mt){super(),this._changeDetectorRef=$r,this.callSetDisabledState=mt,this.control=new oi,this._registered=!1,this.update=new f.vpe,this._parent=k,this._setValidators(ce),this._setAsyncValidators(et),this.valueAccessor=Bt(0,on)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const ce=k.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),ki(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){Ht.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const ce=k.isDisabled.currentValue,et=0!==ce&&(0,f.D6c)(ce);Ht.then(()=>{et&&!this.control.disabled?this.control.disable():!et&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?Ke(k,this._parent):[k]}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(Lt,9),f.Y36(We,10),f.Y36(ze,10),f.Y36(K,10),f.Y36(f.sBO,8),f.Y36(he,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([gt]),f.qOj,f.TTD]}),G})(),Xt=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=f.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})();const hr={provide:K,useExisting:(0,f.Gpc)(()=>ar),multi:!0};let ar=(()=>{class G extends ee{writeValue(k){this.setProperty("value",k??"")}registerOnChange(k){this.onChange=ce=>{k(""==ce?null:parseFloat(ce))}}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(k,ce){1&k&&f.NdJ("input",function(on){return ce.onChange(on.target.value)})("blur",function(){return ce.onTouched()})},features:[f._Bn([hr]),f.qOj]}),G})();const hi={provide:K,useExisting:(0,f.Gpc)(()=>ni),multi:!0};let Ar=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({}),G})(),Si=(()=>{class G{constructor(){this._accessors=[]}add(k,ce){this._accessors.push([k,ce])}remove(k){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===k)return void this._accessors.splice(ce,1)}select(k){this._accessors.forEach(ce=>{this._isSameGroup(ce,k)&&ce[1]!==k&&ce[1].fireUncheck(k.value)})}_isSameGroup(k,ce){return!!k[0].control&&k[0]._parent===ce._control._parent&&k[1].name===ce.name}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:Ar}),G})(),ni=(()=>{class G extends ee{constructor(k,ce,et,on){super(k,ce),this._registry=et,this._injector=on,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,f.f3M)(he,{optional:!0})??Ae}ngOnInit(){this._control=this._injector.get(Un),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(k){this._state=k===this.value,this.setProperty("checked",this._state)}registerOnChange(k){this._fn=k,this.onChange=()=>{k(this.value),this._registry.select(this)}}setDisabledState(k){(this.setDisabledStateFired||k||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",k),this.setDisabledStateFired=!0}fireUncheck(k){this.writeValue(k)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Si),f.Y36(f.zs3))},G.\u0275dir=f.lG2({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(k,ce){1&k&&f.NdJ("change",function(){return ce.onChange()})("blur",function(){return ce.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f._Bn([hi]),f.qOj]}),G})();const wa={provide:K,useExisting:(0,f.Gpc)(()=>ri),multi:!0};let ri=(()=>{class G extends ee{writeValue(k){this.setProperty("value",parseFloat(k))}registerOnChange(k){this.onChange=ce=>{k(""==ce?null:parseFloat(ce))}}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(k,ce){1&k&&f.NdJ("change",function(on){return ce.onChange(on.target.value)})("input",function(on){return ce.onChange(on.target.value)})("blur",function(){return ce.onTouched()})},features:[f._Bn([wa]),f.qOj]}),G})();const Cn=new f.OlP("NgModelWithFormControlWarning"),As={provide:Un,useExisting:(0,f.Gpc)(()=>Ws)};let Ws=(()=>{class G extends Un{set isDisabled(k){}constructor(k,ce,et,on,$r){super(),this._ngModelWarningConfig=on,this.callSetDisabledState=$r,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(k),this._setAsyncValidators(ce),this.valueAccessor=Bt(0,et)}ngOnChanges(k){if(this._isControlChanged(k)){const ce=k.form.previousValue;ce&&rn(ce,this,!1),kt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ki(k,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&rn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_isControlChanged(k){return k.hasOwnProperty("form")}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(k){return new(k||G)(f.Y36(We,10),f.Y36(ze,10),f.Y36(K,10),f.Y36(Cn,8),f.Y36(he,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([As]),f.qOj,f.TTD]}),G})();const Gi={provide:Lt,useExisting:(0,f.Gpc)(()=>sr)};let sr=(()=>{class G extends Lt{constructor(k,ce,et){super(),this.callSetDisabledState=et,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(k),this._setAsyncValidators(ce)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const ce=this.form.get(k.path);return kt(ce,k,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),ce}getControl(k){return this.form.get(k.path)}removeControl(k){rn(k.control||null,k,!1),function bn(G,$){const k=G.indexOf($);k>-1&&G.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,ce){this.form.get(k.path).setValue(ce)}onSubmit(k){return this.submitted=!0,Br(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const ce=k.control,et=this.form.get(k.path);ce!==et&&(rn(ce||null,k),(G=>G instanceof oi)(et)&&(kt(et,k,this.callSetDisabledState),k.control=et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const ce=this.form.get(k.path);Qn(ce,k),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const ce=this.form.get(k.path);ce&&function cn(G,$){return pt(G,$)}(ce,k)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ti(this.form,this),this._oldForm&&pt(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(We,10),f.Y36(ze,10),f.Y36(he,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(k,ce){1&k&&f.NdJ("submit",function(on){return ce.onSubmit(on)})("reset",function(){return ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Gi]),f.qOj,f.TTD]}),G})();const to={provide:Lt,useExisting:(0,f.Gpc)(()=>bi)};let bi=(()=>{class G extends vr{constructor(k,ce,et){super(),this._parent=k,this._setValidators(ce),this._setAsyncValidators(et)}_checkParentType(){fo(this._parent)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(Lt,13),f.Y36(We,10),f.Y36(ze,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([to]),f.qOj]}),G})();const Ms={provide:Lt,useExisting:(0,f.Gpc)(()=>Hn)};let Hn=(()=>{class G extends Lt{constructor(k,ce,et){super(),this._parent=k,this._setValidators(ce),this._setAsyncValidators(et)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){fo(this._parent)}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(Lt,13),f.Y36(We,10),f.Y36(ze,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Ms]),f.qOj]}),G})();function fo(G){return!(G instanceof bi||G instanceof sr||G instanceof Hn)}const zs={provide:Un,useExisting:(0,f.Gpc)(()=>no)};let no=(()=>{class G extends Un{set isDisabled(k){}constructor(k,ce,et,on,$r){super(),this._ngModelWarningConfig=$r,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(ce),this._setAsyncValidators(et),this.valueAccessor=Bt(0,on)}ngOnChanges(k){this._added||this._setUpControl(),ki(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(k){return new(k||G)(f.Y36(Lt,13),f.Y36(We,10),f.Y36(ze,10),f.Y36(K,10),f.Y36(Cn,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([zs]),f.qOj,f.TTD]}),G})();const Al={provide:K,useExisting:(0,f.Gpc)(()=>So),multi:!0};function Uo(G,$){return null==G?`${$}`:($&&"object"==typeof $&&($="Object"),`${G}: ${$}`.slice(0,50))}let So=(()=>{class G extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const et=Uo(this._getOptionId(k),k);this.setProperty("value",et)}registerOnChange(k){this.onChange=ce=>{this.value=this._getOptionValue(ce),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const ce of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ce),k))return ce;return null}_getOptionValue(k){const ce=function To(G){return G.split(":")[0]}(k);return this._optionMap.has(ce)?this._optionMap.get(ce):k}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,ce){1&k&&f.NdJ("change",function(on){return ce.onChange(on.target.value)})("blur",function(){return ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Al]),f.qOj]}),G})(),Wi=(()=>{class G{constructor(k,ce,et){this._element=k,this._renderer=ce,this._select=et,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Uo(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(So,9))},G.\u0275dir=f.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();const Ta={provide:K,useExisting:(0,f.Gpc)(()=>ro),multi:!0};function po(G,$){return null==G?`${$}`:("string"==typeof $&&($=`'${$}'`),$&&"object"==typeof $&&($="Object"),`${G}: ${$}`.slice(0,50))}let ro=(()=>{class G extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let ce;if(this.value=k,Array.isArray(k)){const et=k.map(on=>this._getOptionId(on));ce=(on,$r)=>{on._setSelected(et.indexOf($r.toString())>-1)}}else ce=(et,on)=>{et._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(k){this.onChange=ce=>{const et=[],on=ce.selectedOptions;if(void 0!==on){const $r=on;for(let mt=0;mt<$r.length;mt++){const Go=this._getOptionValue($r[mt].value);et.push(Go)}}else{const $r=ce.options;for(let mt=0;mt<$r.length;mt++){const lr=$r[mt];if(lr.selected){const Go=this._getOptionValue(lr.value);et.push(Go)}}}this.value=et,k(et)}}_registerOption(k){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,k),ce}_getOptionId(k){for(const ce of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ce)._value,k))return ce;return null}_getOptionValue(k){const ce=function Yi(G){return G.split(":")[0]}(k);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:k}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,ce){1&k&&f.NdJ("change",function(on){return ce.onChange(on.target)})("blur",function(){return ce.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Ta]),f.qOj]}),G})(),jr=(()=>{class G{constructor(k,ce,et){this._element=k,this._renderer=ce,this._select=et,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(po(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(po(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(k){return new(k||G)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ro,9))},G.\u0275dir=f.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();function go(G){return"number"==typeof G?G:parseInt(G,10)}function Vo(G){return"number"==typeof G?G:parseFloat(G)}let Ps=(()=>{class G{constructor(){this._validator=at}ngOnChanges(k){if(this.inputName in k){const ce=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):at,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275dir=f.lG2({type:G,features:[f.TTD]}),G})();const io={provide:We,useExisting:(0,f.Gpc)(()=>mo),multi:!0};let mo=(()=>{class G extends Ps{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=k=>Vo(k),this.createValidator=k=>Dt(k)}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(k,ce){2&k&&f.uIk("max",ce._enabled?ce.max:null)},inputs:{max:"max"},features:[f._Bn([io]),f.qOj]}),G})();const fs={provide:We,useExisting:(0,f.Gpc)(()=>ws),multi:!0};let ws=(()=>{class G extends Ps{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=k=>Vo(k),this.createValidator=k=>Re(k)}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(k,ce){2&k&&f.uIk("min",ce._enabled?ce.min:null)},inputs:{min:"min"},features:[f._Bn([fs]),f.qOj]}),G})();const Fn={provide:We,useExisting:(0,f.Gpc)(()=>Os),multi:!0};let Os=(()=>{class G extends Ps{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=k=>Ct}enabled(k){return k}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,ce){2&k&&f.uIk("required",ce._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([Fn]),f.qOj]}),G})();const Bo={provide:We,useExisting:(0,f.Gpc)(()=>vi),multi:!0};let vi=(()=>{class G extends Ps{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=k=>go(k),this.createValidator=k=>Tt(k)}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(k,ce){2&k&&f.uIk("minlength",ce._enabled?ce.minlength:null)},inputs:{minlength:"minlength"},features:[f._Bn([Bo]),f.qOj]}),G})();const so={provide:We,useExisting:(0,f.Gpc)(()=>as),multi:!0};let as=(()=>{class G extends Ps{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=k=>go(k),this.createValidator=k=>nt(k)}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(k,ce){2&k&&f.uIk("maxlength",ce._enabled?ce.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([so]),f.qOj]}),G})();const Hr={provide:We,useExisting:(0,f.Gpc)(()=>ps),multi:!0};let ps=(()=>{class G extends Ps{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=k=>k,this.createValidator=k=>qe(k)}}return G.\u0275fac=function(){let $;return function(ce){return($||($=f.n5z(G)))(ce||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(k,ce){2&k&&f.uIk("pattern",ce._enabled?ce.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([Hr]),f.qOj]}),G})(),Ho=(()=>{class G{}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[Ar]}),G})();class wr extends st{constructor($,k,ce){super(Je(k),xe(ce,k)),this.controls=$,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[this._adjustIndex($)]}push($,k={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert($,k,ce={}){this.controls.splice($,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt($,k={}){let ce=this._adjustIndex($);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl($,k,ce={}){let et=this._adjustIndex($);et<0&&(et=0),this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),this.controls.splice(et,1),k&&(this.controls.splice(et,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,k={}){Ce(this,!1,$),$.forEach((ce,et)=>{ve(this,!1,et),this.at(et).setValue(ce,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue($,k={}){null!=$&&($.forEach((ce,et)=>{this.at(et)&&this.at(et).patchValue(ce,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset($=[],k={}){this._forEachChild((ce,et)=>{ce.reset($[et],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map($=>$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_adjustIndex($){return $<0?$+this.length:$}_syncPendingControls(){let $=this.controls.reduce((k,ce)=>!!ce._syncPendingControls()||k,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((k,ce)=>{$(k,ce)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(k=>k.enabled&&$(k))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}_find($){return this.at($)??null}}function Rs(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let qa=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const k=new G;return k.useNonNullable=!0,k}group(k,ce=null){const et=this._reduceControls(k);let on={};return Rs(ce)?on=ce:null!==ce&&(on.validators=ce.validator,on.asyncValidators=ce.asyncValidator),new Fe(et,on)}record(k,ce=null){const et=this._reduceControls(k);return new Oe(et,ce)}control(k,ce,et){let on={};return this.useNonNullable?(Rs(ce)?on=ce:(on.validators=ce,on.asyncValidators=et),new oi(k,{...on,nonNullable:!0})):new oi(k,ce,et)}array(k,ce,et){const on=k.map($r=>this._createControl($r));return new wr(on,ce,et)}_reduceControls(k){const ce={};return Object.keys(k).forEach(et=>{ce[et]=this._createControl(k[et])}),ce}_createControl(k){return k instanceof oi||k instanceof st?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),kn=(()=>{class G{static withConfig(k){return{ngModule:G,providers:[{provide:he,useValue:k.callSetDisabledState??Ae}]}}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[Ho]}),G})(),$o=(()=>{class G{static withConfig(k){return{ngModule:G,providers:[{provide:Cn,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:he,useValue:k.callSetDisabledState??Ae}]}}}return G.\u0275fac=function(k){return new(k||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[Ho]}),G})()},1481:(Te,ae,D)=>{D.d(ae,{Dx:()=>cr,H7:()=>st,b2:()=>qr,h_:()=>Sr,q6:()=>rs,se:()=>Xe});var f=D(6895),I=D(4650);class te extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class B extends te{static makeCurrent(){(0,f.HT)(new B)}onAndCancel(Pe,he,Ae){return Pe.addEventListener(he,Ae,!1),()=>{Pe.removeEventListener(he,Ae,!1)}}dispatchEvent(Pe,he){Pe.dispatchEvent(he)}remove(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)}createElement(Pe,he){return(he=he||this.getDefaultDocument()).createElement(Pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pe){return Pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pe){return Pe instanceof DocumentFragment}getGlobalEventTarget(Pe,he){return"window"===he?window:"document"===he?Pe:"body"===he?Pe.body:null}getBaseHref(Pe){const he=function se(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==he?null:function K(Oe){ee=ee||document.createElement("a"),ee.setAttribute("href",Oe);const Pe=ee.pathname;return"/"===Pe.charAt(0)?Pe:`/${Pe}`}(he)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pe){return(0,f.Mx)(document.cookie,Pe)}}let ee,Z=null;const re=new I.OlP("TRANSITION_ID"),ue=[{provide:I.ip1,useFactory:function q(Oe,Pe,he){return()=>{he.get(I.CZH).donePromise.then(()=>{const Ae=(0,f.q)(),Ke=Pe.querySelectorAll(`style[ng-transition="${Oe}"]`);for(let kt=0;kt<Ke.length;kt++)Ae.remove(Ke[kt])})}},deps:[re,f.K0,I.zs3],multi:!0}];let Ne=(()=>{class Oe{build(){return new XMLHttpRequest}}return Oe.\u0275fac=function(he){return new(he||Oe)},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const $e=new I.OlP("EventManagerPlugins");let Be=(()=>{class Oe{constructor(he,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,he.forEach(Ke=>{Ke.manager=this}),this._plugins=he.slice().reverse()}addEventListener(he,Ae,Ke){return this._findPluginFor(Ae).addEventListener(he,Ae,Ke)}addGlobalEventListener(he,Ae,Ke){return this._findPluginFor(Ae).addGlobalEventListener(he,Ae,Ke)}getZone(){return this._zone}_findPluginFor(he){const Ae=this._eventNameToPlugin.get(he);if(Ae)return Ae;const Ke=this._plugins;for(let kt=0;kt<Ke.length;kt++){const rn=Ke[kt];if(rn.supports(he))return this._eventNameToPlugin.set(he,rn),rn}throw new Error(`No event manager plugin found for event ${he}`)}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG($e),I.LFG(I.R0b))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class Ye{constructor(Pe){this._doc=Pe}addGlobalEventListener(Pe,he,Ae){const Ke=(0,f.q)().getGlobalEventTarget(this._doc,Pe);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${he}`);return this.addEventListener(Ke,he,Ae)}}let Ve=(()=>{class Oe{constructor(){this.usageCount=new Map}addStyles(he){for(const Ae of he)1===this.changeUsageCount(Ae,1)&&this.onStyleAdded(Ae)}removeStyles(he){for(const Ae of he)0===this.changeUsageCount(Ae,-1)&&this.onStyleRemoved(Ae)}onStyleRemoved(he){}onStyleAdded(he){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(he,Ae){const Ke=this.usageCount;let kt=Ke.get(he)??0;return kt+=Ae,kt>0?Ke.set(he,kt):Ke.delete(he),kt}ngOnDestroy(){for(const he of this.getAllStyles())this.onStyleRemoved(he);this.usageCount.clear()}}return Oe.\u0275fac=function(he){return new(he||Oe)},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),We=(()=>{class Oe extends Ve{constructor(he){super(),this.doc=he,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(he){for(const Ae of this.hostNodes)this.addStyleToHost(Ae,he)}onStyleRemoved(he){const Ae=this.styleRef;Ae.get(he)?.forEach(kt=>kt.remove()),Ae.delete(he)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(he){this.hostNodes.add(he);for(const Ae of this.getAllStyles())this.addStyleToHost(he,Ae)}removeHost(he){this.hostNodes.delete(he)}addStyleToHost(he,Ae){const Ke=this.doc.createElement("style");Ke.textContent=Ae,he.appendChild(Ke);const kt=this.styleRef.get(Ae);kt?kt.push(Ke):this.styleRef.set(Ae,[Ke])}resetHostNodes(){const he=this.hostNodes;he.clear(),he.add(this.doc.head)}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(f.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Mt=new I.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function qe(Oe,Pe){return Pe.flat(100).map(he=>he.replace(rt,Oe))}function at(Oe){return Pe=>{if("__ngUnwrap__"===Pe)return Oe;!1===Oe(Pe)&&(Pe.preventDefault(),Pe.returnValue=!1)}}let Xe=(()=>{class Oe{constructor(he,Ae,Ke,kt){this.eventManager=he,this.sharedStylesHost=Ae,this.appId=Ke,this.removeStylesOnCompDestory=kt,this.rendererByCompId=new Map,this.defaultRenderer=new _t(he)}createRenderer(he,Ae){if(!he||!Ae)return this.defaultRenderer;const Ke=this.getOrCreateRenderer(he,Ae);return Ke instanceof Ln?Ke.applyToHost(he):Ke instanceof Kt&&Ke.applyStyles(),Ke}getOrCreateRenderer(he,Ae){const Ke=this.rendererByCompId;let kt=Ke.get(Ae.id);if(!kt){const rn=this.eventManager,Xn=this.sharedStylesHost,Dr=this.removeStylesOnCompDestory;switch(Ae.encapsulation){case I.ifc.Emulated:kt=new Ln(rn,Xn,Ae,this.appId,Dr);break;case I.ifc.ShadowDom:return new dn(rn,Xn,he,Ae);default:kt=new Kt(rn,Xn,Ae,Dr)}kt.onDestroy=()=>Ke.delete(Ae.id),Ke.set(Ae.id,kt)}return kt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(Be),I.LFG(We),I.LFG(I.AFp),I.LFG(Mt))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class _t{constructor(Pe){this.eventManager=Pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Pe,he){return he?document.createElementNS(ze[he]||he,Pe):document.createElement(Pe)}createComment(Pe){return document.createComment(Pe)}createText(Pe){return document.createTextNode(Pe)}appendChild(Pe,he){(rr(Pe)?Pe.content:Pe).appendChild(he)}insertBefore(Pe,he,Ae){Pe&&(rr(Pe)?Pe.content:Pe).insertBefore(he,Ae)}removeChild(Pe,he){Pe&&Pe.removeChild(he)}selectRootElement(Pe,he){let Ae="string"==typeof Pe?document.querySelector(Pe):Pe;if(!Ae)throw new Error(`The selector "${Pe}" did not match any elements`);return he||(Ae.textContent=""),Ae}parentNode(Pe){return Pe.parentNode}nextSibling(Pe){return Pe.nextSibling}setAttribute(Pe,he,Ae,Ke){if(Ke){he=Ke+":"+he;const kt=ze[Ke];kt?Pe.setAttributeNS(kt,he,Ae):Pe.setAttribute(he,Ae)}else Pe.setAttribute(he,Ae)}removeAttribute(Pe,he,Ae){if(Ae){const Ke=ze[Ae];Ke?Pe.removeAttributeNS(Ke,he):Pe.removeAttribute(`${Ae}:${he}`)}else Pe.removeAttribute(he)}addClass(Pe,he){Pe.classList.add(he)}removeClass(Pe,he){Pe.classList.remove(he)}setStyle(Pe,he,Ae,Ke){Ke&(I.JOm.DashCase|I.JOm.Important)?Pe.style.setProperty(he,Ae,Ke&I.JOm.Important?"important":""):Pe.style[he]=Ae}removeStyle(Pe,he,Ae){Ae&I.JOm.DashCase?Pe.style.removeProperty(he):Pe.style[he]=""}setProperty(Pe,he,Ae){Pe[he]=Ae}setValue(Pe,he){Pe.nodeValue=he}listen(Pe,he,Ae){return"string"==typeof Pe?this.eventManager.addGlobalEventListener(Pe,he,at(Ae)):this.eventManager.addEventListener(Pe,he,at(Ae))}}function rr(Oe){return"TEMPLATE"===Oe.tagName&&void 0!==Oe.content}class dn extends _t{constructor(Pe,he,Ae,Ke){super(Pe),this.sharedStylesHost=he,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=qe(Ke.id,Ke.styles);for(const rn of kt){const Xn=document.createElement("style");Xn.textContent=rn,this.shadowRoot.appendChild(Xn)}}nodeOrShadowRoot(Pe){return Pe===this.hostEl?this.shadowRoot:Pe}appendChild(Pe,he){return super.appendChild(this.nodeOrShadowRoot(Pe),he)}insertBefore(Pe,he,Ae){return super.insertBefore(this.nodeOrShadowRoot(Pe),he,Ae)}removeChild(Pe,he){return super.removeChild(this.nodeOrShadowRoot(Pe),he)}parentNode(Pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kt extends _t{constructor(Pe,he,Ae,Ke,kt=Ae.id){super(Pe),this.sharedStylesHost=he,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=qe(kt,Ae.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ln extends Kt{constructor(Pe,he,Ae,Ke,kt){const rn=Ke+"-"+Ae.id;super(Pe,he,Ae,kt,rn),this.contentAttr=function Tt(Oe){return"_ngcontent-%COMP%".replace(rt,Oe)}(rn),this.hostAttr=function nt(Oe){return"_nghost-%COMP%".replace(rt,Oe)}(rn)}applyToHost(Pe){this.applyStyles(),this.setAttribute(Pe,this.hostAttr,"")}createElement(Pe,he){const Ae=super.createElement(Pe,he);return super.setAttribute(Ae,this.contentAttr,""),Ae}}let En=(()=>{class Oe extends Ye{constructor(he){super(he)}supports(he){return!0}addEventListener(he,Ae,Ke){return he.addEventListener(Ae,Ke,!1),()=>this.removeEventListener(he,Ae,Ke)}removeEventListener(he,Ae,Ke){return he.removeEventListener(Ae,Ke)}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(f.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const ir=["alt","control","meta","shift"],Kr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mn={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let hn=(()=>{class Oe extends Ye{constructor(he){super(he)}supports(he){return null!=Oe.parseEventName(he)}addEventListener(he,Ae,Ke){const kt=Oe.parseEventName(Ae),rn=Oe.eventCallback(kt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(he,kt.domEventName,rn))}static parseEventName(he){const Ae=he.toLowerCase().split("."),Ke=Ae.shift();if(0===Ae.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const kt=Oe._normalizeKey(Ae.pop());let rn="",Xn=Ae.indexOf("code");if(Xn>-1&&(Ae.splice(Xn,1),rn="code."),ir.forEach(Ti=>{const pt=Ae.indexOf(Ti);pt>-1&&(Ae.splice(pt,1),rn+=Ti+".")}),rn+=kt,0!=Ae.length||0===kt.length)return null;const Dr={};return Dr.domEventName=Ke,Dr.fullKey=rn,Dr}static matchEventFullKeyCode(he,Ae){let Ke=Kr[he.key]||he.key,kt="";return Ae.indexOf("code.")>-1&&(Ke=he.code,kt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),ir.forEach(rn=>{rn!==Ke&&(0,Mn[rn])(he)&&(kt+=rn+".")}),kt+=Ke,kt===Ae)}static eventCallback(he,Ae,Ke){return kt=>{Oe.matchEventFullKeyCode(kt,he)&&Ke.runGuarded(()=>Ae(kt))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(f.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const rs=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:f.bD},{provide:I.g9A,useValue:function Lt(){B.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Zn(){return(0,I.RDi)(document),document},deps:[]}]),ur=new I.OlP(""),ln=[{provide:I.rWj,useClass:class fe{addToWindow(Pe){I.dqk.getAngularTestability=(Ae,Ke=!0)=>{const kt=Pe.findTestabilityInTree(Ae,Ke);if(null==kt)throw new Error("Could not find testability for element.");return kt},I.dqk.getAllAngularTestabilities=()=>Pe.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>Pe.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push(Ae=>{const Ke=I.dqk.getAllAngularTestabilities();let kt=Ke.length,rn=!1;const Xn=function(Dr){rn=rn||Dr,kt--,0==kt&&Ae(rn)};Ke.forEach(function(Dr){Dr.whenStable(Xn)})})}findTestabilityInTree(Pe,he,Ae){return null==he?null:Pe.getTestability(he)??(Ae?(0,f.q)().isShadowRoot(he)?this.findTestabilityInTree(Pe,he.host,!0):this.findTestabilityInTree(Pe,he.parentElement,!0):null)}},deps:[]},{provide:I.lri,useClass:I.dDg,deps:[I.R0b,I.eoX,I.rWj]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b,I.eoX,I.rWj]}],Li=[{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function Un(){return new I.qLn},deps:[]},{provide:$e,useClass:En,multi:!0,deps:[f.K0,I.R0b,I.Lbi]},{provide:$e,useClass:hn,multi:!0,deps:[f.K0]},{provide:Xe,useClass:Xe,deps:[Be,We,I.AFp,Mt]},{provide:I.FYo,useExisting:Xe},{provide:Ve,useExisting:We},{provide:We,useClass:We,deps:[f.K0]},{provide:Be,useClass:Be,deps:[$e,I.R0b]},{provide:f.JF,useClass:Ne,deps:[]},[]];let qr=(()=>{class Oe{constructor(he){}static withServerTransition(he){return{ngModule:Oe,providers:[{provide:I.AFp,useValue:he.appId},{provide:re,useExisting:I.AFp},ue]}}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(ur,12))},Oe.\u0275mod=I.oAB({type:Oe}),Oe.\u0275inj=I.cJS({providers:[...Li,...ln],imports:[f.ez,I.hGG]}),Oe})(),Sr=(()=>{class Oe{constructor(he){this._doc=he,this._dom=(0,f.q)()}addTag(he,Ae=!1){return he?this._getOrCreateElement(he,Ae):null}addTags(he,Ae=!1){return he?he.reduce((Ke,kt)=>(kt&&Ke.push(this._getOrCreateElement(kt,Ae)),Ke),[]):[]}getTag(he){return he&&this._doc.querySelector(`meta[${he}]`)||null}getTags(he){if(!he)return[];const Ae=this._doc.querySelectorAll(`meta[${he}]`);return Ae?[].slice.call(Ae):[]}updateTag(he,Ae){if(!he)return null;Ae=Ae||this._parseSelector(he);const Ke=this.getTag(Ae);return Ke?this._setMetaElementAttributes(he,Ke):this._getOrCreateElement(he,!0)}removeTag(he){this.removeTagElement(this.getTag(he))}removeTagElement(he){he&&this._dom.remove(he)}_getOrCreateElement(he,Ae=!1){if(!Ae){const rn=this._parseSelector(he),Xn=this.getTags(rn).filter(Dr=>this._containsAttributes(he,Dr))[0];if(void 0!==Xn)return Xn}const Ke=this._dom.createElement("meta");return this._setMetaElementAttributes(he,Ke),this._doc.getElementsByTagName("head")[0].appendChild(Ke),Ke}_setMetaElementAttributes(he,Ae){return Object.keys(he).forEach(Ke=>Ae.setAttribute(this._getMetaKeyMap(Ke),he[Ke])),Ae}_parseSelector(he){const Ae=he.name?"name":"property";return`${Ae}="${he[Ae]}"`}_containsAttributes(he,Ae){return Object.keys(he).every(Ke=>Ae.getAttribute(this._getMetaKeyMap(Ke))===he[Ke])}_getMetaKeyMap(he){return Tn[he]||he}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(f.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:function(he){let Ae=null;return Ae=he?new he:function Ir(){return new Sr((0,I.LFG)(f.K0))}(),Ae},providedIn:"root"}),Oe})();const Tn={httpEquiv:"http-equiv"};let cr=(()=>{class Oe{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(f.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:function(he){let Ae=null;return Ae=he?new he:function Kn(){return new cr((0,I.LFG)(f.K0))}(),Ae},providedIn:"root"}),Oe})();typeof window<"u"&&window;let st=(()=>{class Oe{}return Oe.\u0275fac=function(he){return new(he||Oe)},Oe.\u0275prov=I.Yz7({token:Oe,factory:function(he){let Ae=null;return Ae=he?new(he||Oe):I.LFG(Nt),Ae},providedIn:"root"}),Oe})(),Nt=(()=>{class Oe extends st{constructor(he){super(),this._doc=he}sanitize(he,Ae){if(null==Ae)return null;switch(he){case I.q3G.NONE:return Ae;case I.q3G.HTML:return(0,I.qzn)(Ae,"HTML")?(0,I.z3N)(Ae):(0,I.EiD)(this._doc,String(Ae)).toString();case I.q3G.STYLE:return(0,I.qzn)(Ae,"Style")?(0,I.z3N)(Ae):Ae;case I.q3G.SCRIPT:if((0,I.qzn)(Ae,"Script"))return(0,I.z3N)(Ae);throw new Error("unsafe value used in a script context");case I.q3G.URL:return(0,I.qzn)(Ae,"URL")?(0,I.z3N)(Ae):(0,I.mCW)(String(Ae));case I.q3G.RESOURCE_URL:if((0,I.qzn)(Ae,"ResourceURL"))return(0,I.z3N)(Ae);throw new Error(`unsafe value used in a resource URL context (see ${I.JZr})`);default:throw new Error(`Unexpected SecurityContext ${he} (see ${I.JZr})`)}}bypassSecurityTrustHtml(he){return(0,I.JVY)(he)}bypassSecurityTrustStyle(he){return(0,I.L6k)(he)}bypassSecurityTrustScript(he){return(0,I.eBb)(he)}bypassSecurityTrustUrl(he){return(0,I.LAX)(he)}bypassSecurityTrustResourceUrl(he){return(0,I.pB0)(he)}}return Oe.\u0275fac=function(he){return new(he||Oe)(I.LFG(f.K0))},Oe.\u0275prov=I.Yz7({token:Oe,factory:function(he){let Ae=null;return Ae=he?new he:function Fe(Oe){return new Nt(Oe.get(f.K0))}(I.LFG(I.zs3)),Ae},providedIn:"root"}),Oe})()},4793:(Te,ae,D)=>{D.d(ae,{Bz:()=>fl,F0:()=>ys,OD:()=>bn,Od:()=>Aa,Q3:()=>tr,gk:()=>An,gz:()=>Cn,lC:()=>ro,m2:()=>pn,rH:()=>ta,wN:()=>ao,yS:()=>ta});var f=D(4650),I=D(457),te=D(9646),B=D(1135),Z=D(6805),se=D(9841),ee=D(7272),K=D(9770),re=D(9635),q=D(2843),ue=D(9751),fe=D(515),Ne=D(4033),$e=D(7579),Be=D(6895),Ye=D(4004),Ve=D(3900),We=D(5698),ze=D(8675),rt=D(9300),ke=D(5577),Re=D(590),Dt=D(4351),Ct=D(8505),Qe=D(262),Mt=D(5026),Tt=D(3103),nt=D(2529),qe=D(6590),at=D(2035),Xe=D(9718),_t=D(8746),bt=D(8343),fn=D(8189),rr=D(1481);const dn="primary",Kt=Symbol("RouteTitle");class Ln{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function En(A){return new Ln(A)}function ir(A,O,T){const F=T.path.split("/");if(F.length>A.length||"full"===T.pathMatch&&(O.hasChildren()||F.length<A.length))return null;const W={};for(let oe=0;oe<F.length;oe++){const pe=F[oe],je=A[oe];if(pe.startsWith(":"))W[pe.substring(1)]=je;else if(pe!==je.path)return null}return{consumed:A.slice(0,F.length),posParams:W}}function Mn(A,O){const T=A?Object.keys(A):void 0,F=O?Object.keys(O):void 0;if(!T||!F||T.length!=F.length)return!1;let W;for(let oe=0;oe<T.length;oe++)if(W=T[oe],!hn(A[W],O[W]))return!1;return!0}function hn(A,O){if(Array.isArray(A)&&Array.isArray(O)){if(A.length!==O.length)return!1;const T=[...A].sort(),F=[...O].sort();return T.every((W,oe)=>F[oe]===W)}return A===O}function si(A){return Array.prototype.concat.apply([],A)}function wt(A){return A.length>0?A[A.length-1]:null}function Ue(A,O){for(const T in A)A.hasOwnProperty(T)&&O(A[T],T)}function yt(A){return(0,f.CqO)(A)?A:(0,f.QGY)(A)?(0,I.D)(Promise.resolve(A)):(0,te.of)(A)}const Lt=!1,Un={exact:function ur(A,O,T){if(!un(A.segments,O.segments)||!Ir(A.segments,O.segments,T)||A.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!A.children[F]||!ur(A.children[F],O.children[F],T))return!1;return!0},subset:Li},Zn={exact:function rs(A,O){return Mn(A,O)},subset:function ln(A,O){return Object.keys(O).length<=Object.keys(A).length&&Object.keys(O).every(T=>hn(A[T],O[T]))},ignored:()=>!0};function Lr(A,O,T){return Un[T.paths](A.root,O.root,T.matrixParams)&&Zn[T.queryParams](A.queryParams,O.queryParams)&&!("exact"===T.fragment&&A.fragment!==O.fragment)}function Li(A,O,T){return qr(A,O,O.segments,T)}function qr(A,O,T,F){if(A.segments.length>T.length){const W=A.segments.slice(0,T.length);return!(!un(W,T)||O.hasChildren()||!Ir(W,T,F))}if(A.segments.length===T.length){if(!un(A.segments,T)||!Ir(A.segments,T,F))return!1;for(const W in O.children)if(!A.children[W]||!Li(A.children[W],O.children[W],F))return!1;return!0}{const W=T.slice(0,A.segments.length),oe=T.slice(A.segments.length);return!!(un(A.segments,W)&&Ir(A.segments,W,F)&&A.children[dn])&&qr(A.children[dn],O,oe,F)}}function Ir(A,O,T){return O.every((F,W)=>Zn[T](A[W].parameters,F.parameters))}class Sr{constructor(O=new Tn([],{}),T={},F=null){this.root=O,this.queryParams=T,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return Ur.serialize(this)}}class Tn{constructor(O,T){this.segments=O,this.children=T,this.parent=null,Ue(T,(F,W)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gi(this)}}class Kn{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}toString(){return Pi(this)}}function un(A,O){return A.length===O.length&&A.every((T,F)=>T.path===O[F].path)}let Yn=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return new yi},providedIn:"root"}),A})();class yi{parse(O){const T=new st(O);return new Sr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${Vr(O.root,!0)}`,F=function Je(A){const O=Object.keys(A).map(T=>{const F=A[T];return Array.isArray(F)?F.map(W=>`${_r(T)}=${_r(W)}`).join("&"):`${_r(T)}=${_r(F)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${F}${"string"==typeof O.fragment?`#${function Fi(A){return encodeURI(A)}(O.fragment)}`:""}`}}const Ur=new yi;function gi(A){return A.segments.map(O=>Pi(O)).join("/")}function Vr(A,O){if(!A.hasChildren())return gi(A);if(O){const T=A.children[dn]?Vr(A.children[dn],!1):"",F=[];return Ue(A.children,(W,oe)=>{oe!==dn&&F.push(`${oe}:${Vr(W,!1)}`)}),F.length>0?`${T}(${F.join("//")})`:T}{const T=function qt(A,O){let T=[];return Ue(A.children,(F,W)=>{W===dn&&(T=T.concat(O(F,W)))}),Ue(A.children,(F,W)=>{W!==dn&&(T=T.concat(O(F,W)))}),T}(A,(F,W)=>W===dn?[Vr(A.children[dn],!1)]:[`${W}:${Vr(F,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[dn]?`${gi(A)}/${T[0]}`:`${gi(A)}/(${T.join("//")})`}}function di(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _r(A){return di(A).replace(/%3B/gi,";")}function jn(A){return di(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function is(A){return decodeURIComponent(A)}function or(A){return is(A.replace(/\+/g,"%20"))}function Pi(A){return`${jn(A.path)}${function Jr(A){return Object.keys(A).map(O=>`;${jn(O)}=${jn(A[O])}`).join("")}(A.parameters)}`}const Se=/^[^\/()?;=#]+/;function xe(A){const O=A.match(Se);return O?O[0]:""}const Pt=/^[^=?&#]+/,ve=/^[^&#]+/;class st{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(F[dn]=new Tn(O,T)),F}parseSegment(){const O=xe(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,Lt);return this.capture(O),new Kn(is(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=xe(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const W=xe(this.remaining);W&&(F=W,this.capture(F))}O[is(T)]=is(F)}parseQueryParam(O){const T=function ge(A){const O=A.match(Pt);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const pe=function Ce(A){const O=A.match(ve);return O?O[0]:""}(this.remaining);pe&&(F=pe,this.capture(F))}const W=or(T),oe=or(F);if(O.hasOwnProperty(W)){let pe=O[W];Array.isArray(pe)||(pe=[pe],O[W]=pe),pe.push(oe)}else O[W]=oe}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=xe(this.remaining),W=this.remaining[F.length];if("/"!==W&&")"!==W&&";"!==W)throw new f.vHH(4010,Lt);let oe;F.indexOf(":")>-1?(oe=F.slice(0,F.indexOf(":")),this.capture(oe),this.capture(":")):O&&(oe=dn);const pe=this.parseChildren();T[oe]=1===Object.keys(pe).length?pe[dn]:new Tn([],pe),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,Lt)}}function Fe(A){return A.segments.length>0?new Tn([],{[dn]:A}):A}function Nt(A){const O={};for(const F of Object.keys(A.children)){const oe=Nt(A.children[F]);(oe.segments.length>0||oe.hasChildren())&&(O[F]=oe)}return function Wt(A){if(1===A.numberOfChildren&&A.children[dn]){const O=A.children[dn];return new Tn(A.segments.concat(O.segments),O.children)}return A}(new Tn(A.segments,O))}function Oe(A){return A instanceof Sr}const Pe=!1;function kt(A,O,T,F,W){if(0===T.length)return Dr(O.root,O.root,O.root,F,W);const oe=function tt(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new pt(!0,0,A);let O=0,T=!1;const F=A.reduce((W,oe,pe)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const je={};return Ue(oe.outlets,(St,en)=>{je[en]="string"==typeof St?St.split("/"):St}),[...W,{outlets:je}]}if(oe.segmentPath)return[...W,oe.segmentPath]}return"string"!=typeof oe?[...W,oe]:0===pe?(oe.split("/").forEach((je,St)=>{0==St&&"."===je||(0==St&&""===je?T=!0:".."===je?O++:""!=je&&W.push(je))}),W):[...W,oe]},[]);return new pt(T,O,F)}(T);return oe.toRoot()?Dr(O.root,O.root,new Tn([],{}),F,W):function pe(St){const en=function Pn(A,O,T,F){if(A.isAbsolute)return new xt(O.root,!0,0);if(-1===F)return new xt(T,T===O.root,0);return function Qn(A,O,T){let F=A,W=O,oe=T;for(;oe>W;){if(oe-=W,F=F.parent,!F)throw new f.vHH(4005,Pe&&"Invalid number of '../'");W=F.segments.length}return new xt(F,!1,W-oe)}(T,F+(rn(A.commands[0])?0:1),A.numberOfDoubleDots)}(oe,O,A.snapshot?._urlSegment,St),an=en.processChildren?nr(en.segmentGroup,en.index,oe.commands):dr(en.segmentGroup,en.index,oe.commands);return Dr(O.root,en.segmentGroup,an,F,W)}(A.snapshot?._lastPathIndex)}function rn(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Xn(A){return"object"==typeof A&&null!=A&&A.outlets}function Dr(A,O,T,F,W){let pe,oe={};F&&Ue(F,(St,en)=>{oe[en]=Array.isArray(St)?St.map(an=>`${an}`):`${St}`}),pe=A===O?T:Ti(A,O,T);const je=Fe(Nt(pe));return new Sr(je,oe,W)}function Ti(A,O,T){const F={};return Ue(A.children,(W,oe)=>{F[oe]=W===O?T:Ti(W,O,T)}),new Tn(A.segments,F)}class pt{constructor(O,T,F){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=F,O&&F.length>0&&rn(F[0]))throw new f.vHH(4003,Pe&&"Root segment cannot have matrix parameters");const W=F.find(Xn);if(W&&W!==wt(F))throw new f.vHH(4004,Pe&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xt{constructor(O,T,F){this.segmentGroup=O,this.processChildren=T,this.index=F}}function dr(A,O,T){if(A||(A=new Tn([],{})),0===A.segments.length&&A.hasChildren())return nr(A,O,T);const F=function ei(A,O,T){let F=0,W=O;const oe={match:!1,pathIndex:0,commandIndex:0};for(;W<A.segments.length;){if(F>=T.length)return oe;const pe=A.segments[W],je=T[F];if(Xn(je))break;const St=`${je}`,en=F<T.length-1?T[F+1]:null;if(W>0&&void 0===St)break;if(St&&en&&"object"==typeof en&&void 0===en.outlets){if(!ss(St,en,pe))return oe;F+=2}else{if(!ss(St,{},pe))return oe;F++}W++}return{match:!0,pathIndex:W,commandIndex:F}}(A,O,T),W=T.slice(F.commandIndex);if(F.match&&F.pathIndex<A.segments.length){const oe=new Tn(A.segments.slice(0,F.pathIndex),{});return oe.children[dn]=new Tn(A.segments.slice(F.pathIndex),A.children),nr(oe,0,W)}return F.match&&0===W.length?new Tn(A.segments,{}):F.match&&!A.hasChildren()?ti(A,O,T):F.match?nr(A,0,W):ti(A,O,T)}function nr(A,O,T){if(0===T.length)return new Tn(A.segments,{});{const F=function cn(A){return Xn(A[0])?A[0].outlets:{[dn]:A}}(T),W={};if(!F[dn]&&A.children[dn]&&1===A.numberOfChildren&&0===A.children[dn].segments.length){const oe=nr(A.children[dn],O,T);return new Tn(A.segments,oe.children)}return Ue(F,(oe,pe)=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(W[pe]=dr(A.children[pe],O,oe))}),Ue(A.children,(oe,pe)=>{void 0===F[pe]&&(W[pe]=oe)}),new Tn(A.segments,W)}}function ti(A,O,T){const F=A.segments.slice(0,O);let W=0;for(;W<T.length;){const oe=T[W];if(Xn(oe)){const St=bs(oe.outlets);return new Tn(F,St)}if(0===W&&rn(T[0])){F.push(new Kn(A.segments[O].path,ki(T[0]))),W++;continue}const pe=Xn(oe)?oe.outlets[dn]:`${oe}`,je=W<T.length-1?T[W+1]:null;pe&&je&&rn(je)?(F.push(new Kn(pe,ki(je))),W+=2):(F.push(new Kn(pe,{})),W++)}return new Tn(F,{})}function bs(A){const O={};return Ue(A,(T,F)=>{"string"==typeof T&&(T=[T]),null!==T&&(O[F]=ti(new Tn([],{}),0,T))}),O}function ki(A){const O={};return Ue(A,(T,F)=>O[F]=`${T}`),O}function ss(A,O,T){return A==T.path&&Mn(O,T.parameters)}const Br="imperative";class Bt{constructor(O,T){this.id=O,this.url=T}}class bn extends Bt{constructor(O,T,F="imperative",W=null){super(O,T),this.type=0,this.navigationTrigger=F,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends Bt{constructor(O,T,F){super(O,T),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class An extends Bt{constructor(O,T,F,W){super(O,T),this.reason=F,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dn extends Bt{constructor(O,T,F,W){super(O,T),this.reason=F,this.code=W,this.type=16}}class tr extends Bt{constructor(O,T,F,W){super(O,T),this.error=F,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mr extends Bt{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends Bt{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends Bt{constructor(O,T,F,W,oe){super(O,T),this.urlAfterRedirects=F,this.state=W,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _i extends Bt{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends Bt{constructor(O,T,F,W){super(O,T),this.urlAfterRedirects=F,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xn{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(O,T,F){this.routerEvent=O,this.position=T,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zt=(()=>{class A{createUrlTree(T,F,W,oe,pe,je){return kt(T||F.root,W,oe,pe,je)}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac}),A})(),hr=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:function(O){return zt.\u0275fac(O)},providedIn:"root"}),A})();class ar{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=hi(O,this._root);return T?T.children.map(F=>F.value):[]}firstChild(O){const T=hi(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=Er(O,this._root);return T.length<2?[]:T[T.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return Er(O,this._root).map(T=>T.value)}}function hi(A,O){if(A===O.value)return O;for(const T of O.children){const F=hi(A,T);if(F)return F}return null}function Er(A,O){if(A===O.value)return[O];for(const T of O.children){const F=Er(A,T);if(F.length)return F.unshift(O),F}return[]}class Ar{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function Si(A){const O={};return A&&A.children.forEach(T=>O[T.value.outlet]=T),O}class ni extends ar{constructor(O,T){super(O),this.snapshot=T,to(this,O)}toString(){return this.snapshot.toString()}}function wa(A,O){const T=function ri(A,O){const pe=new Gi([],{},{},"",{},dn,O,null,A.root,-1,{});return new sr("",new Ar(pe,[]))}(A,O),F=new B.X([new Kn("",{})]),W=new B.X({}),oe=new B.X({}),pe=new B.X({}),je=new B.X(""),St=new Cn(F,W,pe,je,oe,dn,O,T.root);return St.snapshot=T.root,new ni(new Ar(St,[]),T)}class Cn{constructor(O,T,F,W,oe,pe,je,St){this.url=O,this.params=T,this.queryParams=F,this.fragment=W,this.data=oe,this.outlet=pe,this.component=je,this.title=this.data?.pipe((0,Ye.U)(en=>en[Kt]))??(0,te.of)(void 0),this._futureSnapshot=St}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(O=>En(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(O=>En(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function As(A,O="emptyOnly"){const T=A.pathFromRoot;let F=0;if("always"!==O)for(F=T.length-1;F>=1;){const W=T[F],oe=T[F-1];if(W.routeConfig&&""===W.routeConfig.path)F--;else{if(oe.component)break;F--}}return function Ws(A){return A.reduce((O,T)=>({params:{...O.params,...T.params},data:{...O.data,...T.data},resolve:{...T.data,...O.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(F))}class Gi{get title(){return this.data?.[Kt]}constructor(O,T,F,W,oe,pe,je,St,en,an,Tr){this.url=O,this.params=T,this.queryParams=F,this.fragment=W,this.data=oe,this.outlet=pe,this.component=je,this.routeConfig=St,this._urlSegment=en,this._lastPathIndex=an,this._resolve=Tr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sr extends ar{constructor(O,T){super(T),this.url=O,to(this,T)}toString(){return bi(this._root)}}function to(A,O){O.value._routerState=A,O.children.forEach(T=>to(A,T))}function bi(A){const O=A.children.length>0?` { ${A.children.map(bi).join(", ")} } `:"";return`${A.value}${O}`}function Ms(A){if(A.snapshot){const O=A.snapshot,T=A._futureSnapshot;A.snapshot=T,Mn(O.queryParams,T.queryParams)||A.queryParams.next(T.queryParams),O.fragment!==T.fragment&&A.fragment.next(T.fragment),Mn(O.params,T.params)||A.params.next(T.params),function Kr(A,O){if(A.length!==O.length)return!1;for(let T=0;T<A.length;++T)if(!Mn(A[T],O[T]))return!1;return!0}(O.url,T.url)||A.url.next(T.url),Mn(O.data,T.data)||A.data.next(T.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Hn(A,O){const T=Mn(A.params,O.params)&&function cr(A,O){return un(A,O)&&A.every((T,F)=>Mn(T.parameters,O[F].parameters))}(A.url,O.url);return T&&!(!A.parent!=!O.parent)&&(!A.parent||Hn(A.parent,O.parent))}function zs(A,O,T){if(T&&A.shouldReuseRoute(O.value,T.value.snapshot)){const F=T.value;F._futureSnapshot=O.value;const W=function no(A,O,T){return O.children.map(F=>{for(const W of T.children)if(A.shouldReuseRoute(F.value,W.value.snapshot))return zs(A,F,W);return zs(A,F)})}(A,O,T);return new Ar(F,W)}{if(A.shouldAttach(O.value)){const oe=A.retrieve(O.value);if(null!==oe){const pe=oe.route;return pe.value._futureSnapshot=O.value,pe.children=O.children.map(je=>zs(A,je)),pe}}const F=function Al(A){return new Cn(new B.X(A.url),new B.X(A.params),new B.X(A.queryParams),new B.X(A.fragment),new B.X(A.data),A.outlet,A.component,A)}(O.value),W=O.children.map(oe=>zs(A,oe));return new Ar(F,W)}}const Uo="ngNavigationCancelingError";function To(A,O){const{redirectTo:T,navigationBehaviorOptions:F}=Oe(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=So(!1,0,O);return W.url=T,W.navigationBehaviorOptions=F,W}function So(A,O,T){const F=new Error("NavigationCancelingError: "+(A||""));return F[Uo]=!0,F.cancellationCode=O,T&&(F.url=T),F}function Wi(A){return Ta(A)&&Oe(A.url)}function Ta(A){return A&&A[Uo]}class po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yi,this.attachRef=null}}let Yi=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const W=this.getOrCreateContext(T);W.outlet=F,this.contexts.set(T,W)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new po,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const os=!1;let ro=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=dn,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Yi),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(T){if(T.name){const{firstChange:F,previousValue:W}=T.name;if(F)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,os);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,os);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,os);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){if(this.isActivated)throw new f.vHH(4013,os);this._activatedRoute=T;const W=this.location,pe=T.snapshot.component,je=this.parentContexts.getOrCreateContext(this.name).children,St=new jr(T,je,W.injector);if(F&&function go(A){return!!A.resolveComponentFactory}(F)){const en=F.resolveComponentFactory(pe);this.activated=W.createComponent(en,W.length,St)}else this.activated=W.createComponent(pe,{index:W.length,injector:St,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275dir=f.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),A})();class jr{constructor(O,T,F){this.route=O,this.childContexts=T,this.parent=F}get(O,T){return O===Cn?this.route:O===Yi?this.childContexts:this.parent.get(O,T)}}let Vo=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275cmp=f.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(T,F){1&T&&f._UZ(0,"router-outlet")},dependencies:[ro],encapsulation:2}),A})();function Ps(A,O){return A.providers&&!A._injector&&(A._injector=(0,f.MMx)(A.providers,O,`Route: ${A.path}`)),A._injector??O}function Mr(A){const O=A.children&&A.children.map(Mr),T=O?{...A,children:O}:{...A};return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==dn&&(T.component=Vo),T}function Qi(A){return A.outlet||dn}function Bo(A,O){const T=A.filter(F=>Qi(F)===O);return T.push(...A.filter(F=>Qi(F)!==O)),T}function vi(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let O=A.parent;O;O=O.parent){const T=O.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class as{constructor(O,T,F,W){this.routeReuseStrategy=O,this.futureState=T,this.currState=F,this.forwardEvent=W}activate(O){const T=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,F,O),Ms(this.futureState.root),this.activateChildRoutes(T,F,O)}deactivateChildRoutes(O,T,F){const W=Si(T);O.children.forEach(oe=>{const pe=oe.value.outlet;this.deactivateRoutes(oe,W[pe],F),delete W[pe]}),Ue(W,(oe,pe)=>{this.deactivateRouteAndItsChildren(oe,F)})}deactivateRoutes(O,T,F){const W=O.value,oe=T?T.value:null;if(W===oe)if(W.component){const pe=F.getContext(W.outlet);pe&&this.deactivateChildRoutes(O,T,pe.children)}else this.deactivateChildRoutes(O,T,F);else oe&&this.deactivateRouteAndItsChildren(T,F)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const F=T.getContext(O.value.outlet),W=F&&O.value.component?F.children:T,oe=Si(O);for(const pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[pe],W);if(F&&F.outlet){const pe=F.outlet.detach(),je=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:pe,route:O,contexts:je})}}deactivateRouteAndOutlet(O,T){const F=T.getContext(O.value.outlet),W=F&&O.value.component?F.children:T,oe=Si(O);for(const pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[pe],W);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,T,F){const W=Si(T);O.children.forEach(oe=>{this.activateRoutes(oe,W[oe.value.outlet],F),this.forwardEvent(new ot(oe.value.snapshot))}),O.children.length&&this.forwardEvent(new Is(O.value.snapshot))}activateRoutes(O,T,F){const W=O.value,oe=T?T.value:null;if(Ms(W),W===oe)if(W.component){const pe=F.getOrCreateContext(W.outlet);this.activateChildRoutes(O,T,pe.children)}else this.activateChildRoutes(O,T,F);else if(W.component){const pe=F.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const je=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),pe.children.onOutletReAttached(je.contexts),pe.attachRef=je.componentRef,pe.route=je.route.value,pe.outlet&&pe.outlet.attach(je.componentRef,je.route.value),Ms(je.route.value),this.activateChildRoutes(O,null,pe.children)}else{const je=vi(W.snapshot),St=je?.get(f._Vd)??null;pe.attachRef=null,pe.route=W,pe.resolver=St,pe.injector=je,pe.outlet&&pe.outlet.activateWith(W,pe.injector),this.activateChildRoutes(O,null,pe.children)}}else this.activateChildRoutes(O,null,F)}}class Hr{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ps{constructor(O,T){this.component=O,this.route=T}}function jo(A,O,T){const F=A._root;return Ho(F,O?O._root:null,T,[F.value])}function ls(A,O){const T=Symbol(),F=O.get(A,T);return F===T?"function"!=typeof A||(0,f.Z0I)(A)?O.get(A):A:F}function Ho(A,O,T,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Si(O);return A.children.forEach(pe=>{(function wr(A,O,T,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const oe=A.value,pe=O?O.value:null,je=T?T.getContext(A.value.outlet):null;if(pe&&oe.routeConfig===pe.routeConfig){const St=function qi(A,O,T){if("function"==typeof T)return T(A,O);switch(T){case"pathParamsChange":return!un(A.url,O.url);case"pathParamsOrQueryParamsChange":return!un(A.url,O.url)||!Mn(A.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hn(A,O)||!Mn(A.queryParams,O.queryParams);default:return!Hn(A,O)}}(pe,oe,oe.routeConfig.runGuardsAndResolvers);St?W.canActivateChecks.push(new Hr(F)):(oe.data=pe.data,oe._resolvedData=pe._resolvedData),Ho(A,O,oe.component?je?je.children:null:T,F,W),St&&je&&je.outlet&&je.outlet.isActivated&&W.canDeactivateChecks.push(new ps(je.outlet.component,pe))}else pe&&bo(O,je,W),W.canActivateChecks.push(new Hr(F)),Ho(A,null,oe.component?je?je.children:null:T,F,W)})(pe,oe[pe.value.outlet],T,F.concat([pe.value]),W),delete oe[pe.value.outlet]}),Ue(oe,(pe,je)=>bo(pe,T.getContext(je),W)),W}function bo(A,O,T){const F=Si(A),W=A.value;Ue(F,(oe,pe)=>{bo(oe,W.component?O?O.children.getContext(pe):null:O,T)}),T.canDeactivateChecks.push(new ps(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function Rs(A){return"function"==typeof A}function k(A){return A instanceof Z.K||"EmptyError"===A?.name}const ce=Symbol("INITIAL_VALUE");function et(){return(0,Ve.w)(A=>(0,se.a)(A.map(O=>O.pipe((0,We.q)(1),(0,ze.O)(ce)))).pipe((0,Ye.U)(O=>{for(const T of O)if(!0!==T){if(T===ce)return ce;if(!1===T||T instanceof Sr)return T}return!0}),(0,rt.h)(O=>O!==ce),(0,We.q)(1)))}function Vs(A){return(0,re.z)((0,Ct.b)(O=>{if(Oe(O))throw To(0,O)}),(0,Ye.U)(O=>!0===O))}const Wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zo(A,O,T,F,W){const oe=Ui(A,O,T);return oe.matched?function Mo(A,O,T,F){const W=O.canMatch;if(!W||0===W.length)return(0,te.of)(!0);const oe=W.map(pe=>{const je=ls(pe,A);return yt(function $o(A){return A&&Rs(A.canMatch)}(je)?je.canMatch(O,T):A.runInContext(()=>je(O,T)))});return(0,te.of)(oe).pipe(et(),Vs())}(F=Ps(O,F),O,T).pipe((0,Ye.U)(pe=>!0===pe?oe:{...Wo})):(0,te.of)(oe)}function Ui(A,O,T){if(""===O.path)return"full"===O.pathMatch&&(A.hasChildren()||T.length>0)?{...Wo}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const W=(O.matcher||ir)(T,A,O);if(!W)return{...Wo};const oe={};Ue(W.posParams,(je,St)=>{oe[St]=je.path});const pe=W.consumed.length>0?{...oe,...W.consumed[W.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:W.consumed,remainingSegments:T.slice(W.consumed.length),parameters:pe,positionalParamSegments:W.posParams??{}}}function Ki(A,O,T,F){if(T.length>0&&function ma(A,O,T){return T.some(F=>gs(A,O,F)&&Qi(F)!==dn)}(A,T,F)){const oe=new Tn(O,function ai(A,O,T,F){const W={};W[dn]=F,F._sourceSegment=A,F._segmentIndexShift=O.length;for(const oe of T)if(""===oe.path&&Qi(oe)!==dn){const pe=new Tn([],{});pe._sourceSegment=A,pe._segmentIndexShift=O.length,W[Qi(oe)]=pe}return W}(A,O,F,new Tn(T,A.children)));return oe._sourceSegment=A,oe._segmentIndexShift=O.length,{segmentGroup:oe,slicedSegments:[]}}if(0===T.length&&function Ko(A,O,T){return T.some(F=>gs(A,O,F))}(A,T,F)){const oe=new Tn(A.segments,function Ri(A,O,T,F,W){const oe={};for(const pe of F)if(gs(A,T,pe)&&!W[Qi(pe)]){const je=new Tn([],{});je._sourceSegment=A,je._segmentIndexShift=O.length,oe[Qi(pe)]=je}return{...W,...oe}}(A,O,T,F,A.children));return oe._sourceSegment=A,oe._segmentIndexShift=O.length,{segmentGroup:oe,slicedSegments:T}}const W=new Tn(A.segments,A.children);return W._sourceSegment=A,W._segmentIndexShift=O.length,{segmentGroup:W,slicedSegments:T}}function gs(A,O,T){return(!(A.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}function Sa(A,O,T,F){return!!(Qi(A)===F||F!==dn&&gs(O,T,A))&&("**"===A.path||Ui(O,A,T).matched)}function Yo(A,O,T){return 0===O.length&&!A.children[T]}const Vi=!1;class _o{constructor(O){this.segmentGroup=O||null}}class oo{constructor(O){this.urlTree=O}}function Zi(A){return(0,q._)(new _o(A))}function Qo(A){return(0,q._)(new oo(A))}class Bs{constructor(O,T,F,W,oe){this.injector=O,this.configLoader=T,this.urlSerializer=F,this.urlTree=W,this.config=oe,this.allowRedirects=!0}apply(){const O=Ki(this.urlTree.root,[],[],this.config).segmentGroup,T=new Tn(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,T,dn).pipe((0,Ye.U)(oe=>this.createUrlTree(Nt(oe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Qe.K)(oe=>{if(oe instanceof oo)return this.allowRedirects=!1,this.match(oe.urlTree);throw oe instanceof _o?this.noMatchError(oe):oe}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,dn).pipe((0,Ye.U)(W=>this.createUrlTree(Nt(W),O.queryParams,O.fragment))).pipe((0,Qe.K)(W=>{throw W instanceof _o?this.noMatchError(W):W}))}noMatchError(O){return new f.vHH(4002,Vi)}createUrlTree(O,T,F){const W=Fe(O);return new Sr(W,T,F)}expandSegmentGroup(O,T,F,W){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,T,F).pipe((0,Ye.U)(oe=>new Tn([],oe))):this.expandSegment(O,F,T,F.segments,W,!0)}expandChildren(O,T,F){const W=[];for(const oe of Object.keys(F.children))"primary"===oe?W.unshift(oe):W.push(oe);return(0,I.D)(W).pipe((0,Dt.b)(oe=>{const pe=F.children[oe],je=Bo(T,oe);return this.expandSegmentGroup(O,je,pe,oe).pipe((0,Ye.U)(St=>({segment:St,outlet:oe})))}),(0,Mt.R)((oe,pe)=>(oe[pe.outlet]=pe.segment,oe),{}),(0,Tt.Z)())}expandSegment(O,T,F,W,oe,pe){return(0,I.D)(F).pipe((0,Dt.b)(je=>this.expandSegmentAgainstRoute(O,T,F,je,W,oe,pe).pipe((0,Qe.K)(en=>{if(en instanceof _o)return(0,te.of)(null);throw en}))),(0,Re.P)(je=>!!je),(0,Qe.K)((je,St)=>{if(k(je))return Yo(T,W,oe)?(0,te.of)(new Tn([],{})):Zi(T);throw je}))}expandSegmentAgainstRoute(O,T,F,W,oe,pe,je){return Sa(W,T,oe,pe)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(O,T,W,oe,pe):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,T,F,W,oe,pe):Zi(T):Zi(T)}expandSegmentAgainstRouteUsingRedirect(O,T,F,W,oe,pe){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,W,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,W,oe,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,F,W){const oe=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Qo(oe):this.lineralizeSegments(F,oe).pipe((0,ke.z)(pe=>{const je=new Tn(pe,{});return this.expandSegment(O,je,T,pe,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,W,oe,pe){const{matched:je,consumedSegments:St,remainingSegments:en,positionalParamSegments:an}=Ui(T,W,oe);if(!je)return Zi(T);const Tr=this.applyRedirectCommands(St,W.redirectTo,an);return W.redirectTo.startsWith("/")?Qo(Tr):this.lineralizeSegments(W,Tr).pipe((0,ke.z)(kr=>this.expandSegment(O,T,F,kr.concat(en),pe,!1)))}matchSegmentAgainstRoute(O,T,F,W,oe){return"**"===F.path?(O=Ps(F,O),F.loadChildren?(F._loadedRoutes?(0,te.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,Ye.U)(je=>(F._loadedRoutes=je.routes,F._loadedInjector=je.injector,new Tn(W,{})))):(0,te.of)(new Tn(W,{}))):zo(T,F,W,O).pipe((0,Ve.w)(({matched:pe,consumedSegments:je,remainingSegments:St})=>pe?this.getChildConfig(O=F._injector??O,F,W).pipe((0,ke.z)(an=>{const Tr=an.injector??O,kr=an.routes,{segmentGroup:vs,slicedSegments:fi}=Ki(T,je,St,kr),Ra=new Tn(vs.segments,vs.children);if(0===fi.length&&Ra.hasChildren())return this.expandChildren(Tr,kr,Ra).pipe((0,Ye.U)(pl=>new Tn(je,pl)));if(0===kr.length&&0===fi.length)return(0,te.of)(new Tn(je,{}));const Bi=Qi(F)===oe;return this.expandSegment(Tr,Ra,kr,fi,Bi?dn:oe,!0).pipe((0,Ye.U)(Ea=>new Tn(je.concat(Ea.segments),Ea.children)))})):Zi(T)))}getChildConfig(O,T,F){return T.children?(0,te.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,te.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Oi(A,O,T,F){const W=O.canLoad;if(void 0===W||0===W.length)return(0,te.of)(!0);const oe=W.map(pe=>{const je=ls(pe,A);return yt(function Ks(A){return A&&Rs(A.canLoad)}(je)?je.canLoad(O,T):A.runInContext(()=>je(O,T)))});return(0,te.of)(oe).pipe(et(),Vs())}(O,T,F).pipe((0,ke.z)(W=>W?this.configLoader.loadChildren(O,T).pipe((0,Ct.b)(oe=>{T._loadedRoutes=oe.routes,T._loadedInjector=oe.injector})):function Pl(A){return(0,q._)(So(Vi,3))}())):(0,te.of)({routes:[],injector:O})}lineralizeSegments(O,T){let F=[],W=T.root;for(;;){if(F=F.concat(W.segments),0===W.numberOfChildren)return(0,te.of)(F);if(W.numberOfChildren>1||!W.children[dn])return O.redirectTo,(0,q._)(new f.vHH(4e3,Vi));W=W.children[dn]}}applyRedirectCommands(O,T,F){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,F)}applyRedirectCreateUrlTree(O,T,F,W){const oe=this.createSegmentGroup(O,T.root,F,W);return new Sr(oe,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const F={};return Ue(O,(W,oe)=>{if("string"==typeof W&&W.startsWith(":")){const je=W.substring(1);F[oe]=T[je]}else F[oe]=W}),F}createSegmentGroup(O,T,F,W){const oe=this.createSegments(O,T.segments,F,W);let pe={};return Ue(T.children,(je,St)=>{pe[St]=this.createSegmentGroup(O,je,F,W)}),new Tn(oe,pe)}createSegments(O,T,F,W){return T.map(oe=>oe.path.startsWith(":")?this.findPosParam(O,oe,W):this.findOrReturn(oe,F))}findPosParam(O,T,F){const W=F[T.path.substring(1)];if(!W)throw new f.vHH(4001,Vi);return W}findOrReturn(O,T){let F=0;for(const W of T){if(W.path===O.path)return T.splice(F),W;F++}return O}}class $a{}class Xi{constructor(O,T,F,W,oe,pe,je){this.injector=O,this.rootComponentType=T,this.config=F,this.urlTree=W,this.url=oe,this.paramsInheritanceStrategy=pe,this.urlSerializer=je}recognize(){const O=Ki(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,dn).pipe((0,Ye.U)(T=>{if(null===T)return null;const F=new Gi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Ar(F,T),oe=new sr(this.url,W);return this.inheritParamsAndData(oe._root),oe}))}inheritParamsAndData(O){const T=O.value,F=As(T,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),O.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(O,T,F,W){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,T,F):this.processSegment(O,T,F,F.segments,W)}processChildren(O,T,F){return(0,I.D)(Object.keys(F.children)).pipe((0,Dt.b)(W=>{const oe=F.children[W],pe=Bo(T,W);return this.processSegmentGroup(O,pe,oe,W)}),(0,Mt.R)((W,oe)=>W&&oe?(W.push(...oe),W):null),(0,nt.o)(W=>null!==W),(0,qe.d)(null),(0,Tt.Z)(),(0,Ye.U)(W=>{if(null===W)return null;const oe=Qr(W);return function Ys(A){A.sort((O,T)=>O.value.outlet===dn?-1:T.value.outlet===dn?1:O.value.outlet.localeCompare(T.value.outlet))}(oe),oe}))}processSegment(O,T,F,W,oe){return(0,I.D)(T).pipe((0,Dt.b)(pe=>this.processSegmentAgainstRoute(pe._injector??O,pe,F,W,oe)),(0,Re.P)(pe=>!!pe),(0,Qe.K)(pe=>{if(k(pe))return Yo(F,W,oe)?(0,te.of)([]):(0,te.of)(null);throw pe}))}processSegmentAgainstRoute(O,T,F,W,oe){if(T.redirectTo||!Sa(T,F,W,oe))return(0,te.of)(null);let pe;if("**"===T.path){const je=W.length>0?wt(W).parameters:{},St=Xo(F)+W.length,en=new Gi(W,je,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gn(T),Qi(T),T.component??T._loadedComponent??null,T,Ai(F),St,In(T));pe=(0,te.of)({snapshot:en,consumedSegments:[],remainingSegments:[]})}else pe=zo(F,T,W,O).pipe((0,Ye.U)(({matched:je,consumedSegments:St,remainingSegments:en,parameters:an})=>{if(!je)return null;const Tr=Xo(F)+St.length;return{snapshot:new Gi(St,an,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gn(T),Qi(T),T.component??T._loadedComponent??null,T,Ai(F),Tr,In(T)),consumedSegments:St,remainingSegments:en}}));return pe.pipe((0,Ve.w)(je=>{if(null===je)return(0,te.of)(null);const{snapshot:St,consumedSegments:en,remainingSegments:an}=je;O=T._injector??O;const Tr=T._loadedInjector??O,kr=function Di(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(T),{segmentGroup:vs,slicedSegments:fi}=Ki(F,en,an,kr.filter(Bi=>void 0===Bi.redirectTo));if(0===fi.length&&vs.hasChildren())return this.processChildren(Tr,kr,vs).pipe((0,Ye.U)(Bi=>null===Bi?null:[new Ar(St,Bi)]));if(0===kr.length&&0===fi.length)return(0,te.of)([new Ar(St,[])]);const Ra=Qi(T)===oe;return this.processSegment(Tr,kr,vs,fi,Ra?dn:oe).pipe((0,Ye.U)(Bi=>null===Bi?null:[new Ar(St,Bi)]))}))}}function ms(A){const O=A.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Qr(A){const O=[],T=new Set;for(const F of A){if(!ms(F)){O.push(F);continue}const W=O.find(oe=>F.value.routeConfig===oe.value.routeConfig);void 0!==W?(W.children.push(...F.children),T.add(W)):O.push(F)}for(const F of T){const W=Qr(F.children);O.push(new Ar(F.value,W))}return O.filter(F=>!T.has(F))}function Ai(A){let O=A;for(;O._sourceSegment;)O=O._sourceSegment;return O}function Xo(A){let O=A,T=O._segmentIndexShift??0;for(;O._sourceSegment;)O=O._sourceSegment,T+=O._segmentIndexShift??0;return T-1}function gn(A){return A.data||{}}function In(A){return A.resolve||{}}function le(A){return"string"==typeof A.title||null===A.title}function we(A){return(0,Ve.w)(O=>{const T=A(O);return T?(0,I.D)(T).pipe((0,Ye.U)(()=>O)):(0,te.of)(O)})}const Et=new f.OlP("ROUTES");let nn=(()=>{class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,te.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=yt(T.loadComponent()).pipe((0,Ye.U)(Rr),(0,Ct.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=oe}),(0,_t.x)(()=>{this.componentLoaders.delete(T)})),W=new Ne.c(F,()=>new $e.x).pipe((0,bt.x)());return this.componentLoaders.set(T,W),W}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,te.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const oe=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ye.U)(je=>{this.onLoadEndListener&&this.onLoadEndListener(F);let St,en,an=!1;Array.isArray(je)?en=je:(St=je.create(T).injector,en=si(St.get(Et,[],f.XFs.Self|f.XFs.Optional)));return{routes:en.map(Mr),injector:St}}),(0,_t.x)(()=>{this.childrenLoaders.delete(F)})),pe=new Ne.c(oe,()=>new $e.x).pipe((0,bt.x)());return this.childrenLoaders.set(F,pe),pe}loadModuleFactoryOrRoutes(T){return yt(T()).pipe((0,Ye.U)(Rr),(0,ke.z)(F=>F instanceof f.YKP||Array.isArray(F)?(0,te.of)(F):(0,I.D)(this.compiler.compileModuleAsync(F))))}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Rr(A){return function Zr(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let fr=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $e.x,this.configLoader=(0,f.f3M)(nn),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Yn),this.rootContexts=(0,f.f3M)(Yi),this.navigationId=0,this.afterPreactivation=()=>(0,te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new xn(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new vr(W))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:F})}setupNavigations(T){return this.transitions=new B.X({id:0,targetPageId:0,currentUrlTree:T.currentUrlTree,currentRawUrl:T.currentUrlTree,extractedUrl:T.urlHandlingStrategy.extract(T.currentUrlTree),urlAfterRedirects:T.urlHandlingStrategy.extract(T.currentUrlTree),rawUrl:T.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Br,restoredState:null,currentSnapshot:T.routerState.snapshot,targetSnapshot:null,currentRouterState:T.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,rt.h)(F=>0!==F.id),(0,Ye.U)(F=>({...F,extractedUrl:T.urlHandlingStrategy.extract(F.rawUrl)})),(0,Ve.w)(F=>{let W=!1,oe=!1;return(0,te.of)(F).pipe((0,Ct.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.rawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ve.w)(pe=>{const je=T.browserUrlTree.toString(),St=!T.navigated||pe.extractedUrl.toString()!==je||je!==T.currentUrlTree.toString();if(!St&&"reload"!==(pe.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const an="";return this.events.next(new Dn(pe.id,T.serializeUrl(F.rawUrl),an,0)),T.rawUrlTree=pe.rawUrl,pe.resolve(null),fe.E}if(T.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return $n(pe.source)&&(T.browserUrlTree=pe.extractedUrl),(0,te.of)(pe).pipe((0,Ve.w)(an=>{const Tr=this.transitions?.getValue();return this.events.next(new bn(an.id,this.urlSerializer.serialize(an.extractedUrl),an.source,an.restoredState)),Tr!==this.transitions?.getValue()?fe.E:Promise.resolve(an)}),function qo(A,O,T,F){return(0,Ve.w)(W=>function li(A,O,T,F,W){return new Bs(A,O,T,F,W).apply()}(A,O,T,W.extractedUrl,F).pipe((0,Ye.U)(oe=>({...W,urlAfterRedirects:oe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,T.config),(0,Ct.b)(an=>{this.currentNavigation={...this.currentNavigation,finalUrl:an.urlAfterRedirects},F.urlAfterRedirects=an.urlAfterRedirects}),function ul(A,O,T,F,W){return(0,ke.z)(oe=>function Zo(A,O,T,F,W,oe,pe="emptyOnly"){return new Xi(A,O,T,F,W,pe,oe).recognize().pipe((0,Ve.w)(je=>null===je?function Xa(A){return new ue.y(O=>O.error(A))}(new $a):(0,te.of)(je)))}(A,O,T,oe.urlAfterRedirects,F.serialize(oe.urlAfterRedirects),F,W).pipe((0,Ye.U)(pe=>({...oe,targetSnapshot:pe}))))}(this.environmentInjector,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Ct.b)(an=>{if(F.targetSnapshot=an.targetSnapshot,"eager"===T.urlUpdateStrategy){if(!an.extras.skipLocationChange){const kr=T.urlHandlingStrategy.merge(an.urlAfterRedirects,an.rawUrl);T.setBrowserUrl(kr,an)}T.browserUrlTree=an.urlAfterRedirects}const Tr=new mr(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Tr)}));if(St&&T.urlHandlingStrategy.shouldProcessUrl(T.rawUrlTree)){const{id:an,extractedUrl:Tr,source:kr,restoredState:vs,extras:fi}=pe,Ra=new bn(an,this.urlSerializer.serialize(Tr),kr,vs);this.events.next(Ra);const Bi=wa(Tr,this.rootComponentType).snapshot;return F={...pe,targetSnapshot:Bi,urlAfterRedirects:Tr,extras:{...fi,skipLocationChange:!1,replaceUrl:!1}},(0,te.of)(F)}{const an="";return this.events.next(new Dn(pe.id,T.serializeUrl(F.extractedUrl),an,1)),T.rawUrlTree=pe.rawUrl,pe.resolve(null),fe.E}}),(0,Ct.b)(pe=>{const je=new br(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot);this.events.next(je)}),(0,Ye.U)(pe=>F={...pe,guards:jo(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)}),function on(A,O){return(0,ke.z)(T=>{const{targetSnapshot:F,currentSnapshot:W,guards:{canActivateChecks:oe,canDeactivateChecks:pe}}=T;return 0===pe.length&&0===oe.length?(0,te.of)({...T,guardsResult:!0}):function $r(A,O,T,F){return(0,I.D)(A).pipe((0,ke.z)(W=>function ja(A,O,T,F,W){const oe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,te.of)(!0);const pe=oe.map(je=>{const St=vi(O)??W,en=ls(je,St);return yt(function kn(A){return A&&Rs(A.canDeactivate)}(en)?en.canDeactivate(A,O,T,F):St.runInContext(()=>en(A,O,T,F))).pipe((0,Re.P)())});return(0,te.of)(pe).pipe(et())}(W.component,W.route,T,O,F)),(0,Re.P)(W=>!0!==W,!0))}(pe,F,W,A).pipe((0,ke.z)(je=>je&&function qa(A){return"boolean"==typeof A}(je)?function mt(A,O,T,F){return(0,I.D)(O).pipe((0,Dt.b)(W=>(0,ee.z)(function Go(A,O){return null!==A&&O&&O(new Yr(A)),(0,te.of)(!0)}(W.route.parent,F),function lr(A,O){return null!==A&&O&&O(new Ee(A)),(0,te.of)(!0)}(W.route,F),function zi(A,O,T){const F=O[O.length-1],oe=O.slice(0,O.length-1).reverse().map(pe=>function Ei(A){const O=A.routeConfig?A.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:A,guards:O}:null}(pe)).filter(pe=>null!==pe).map(pe=>(0,K.P)(()=>{const je=pe.guards.map(St=>{const en=vi(pe.node)??T,an=ls(St,en);return yt(function Ao(A){return A&&Rs(A.canActivateChild)}(an)?an.canActivateChild(F,A):en.runInContext(()=>an(F,A))).pipe((0,Re.P)())});return(0,te.of)(je).pipe(et())}));return(0,te.of)(oe).pipe(et())}(A,W.path,T),function Ml(A,O,T){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,te.of)(!0);const W=F.map(oe=>(0,K.P)(()=>{const pe=vi(O)??T,je=ls(oe,pe);return yt(function Ba(A){return A&&Rs(A.canActivate)}(je)?je.canActivate(O,A):pe.runInContext(()=>je(O,A))).pipe((0,Re.P)())}));return(0,te.of)(W).pipe(et())}(A,W.route,T))),(0,Re.P)(W=>!0!==W,!0))}(F,oe,A,O):(0,te.of)(je)),(0,Ye.U)(je=>({...T,guardsResult:je})))})}(this.environmentInjector,pe=>this.events.next(pe)),(0,Ct.b)(pe=>{if(F.guardsResult=pe.guardsResult,Oe(pe.guardsResult))throw To(0,pe.guardsResult);const je=new oi(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.events.next(je)}),(0,rt.h)(pe=>!!pe.guardsResult||(T.restoreHistory(pe),this.cancelNavigationTransition(pe,"",3),!1)),we(pe=>{if(pe.guards.canActivateChecks.length)return(0,te.of)(pe).pipe((0,Ct.b)(je=>{const St=new _i(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(St)}),(0,Ve.w)(je=>{let St=!1;return(0,te.of)(je).pipe(function Jt(A,O){return(0,ke.z)(T=>{const{targetSnapshot:F,guards:{canActivateChecks:W}}=T;if(!W.length)return(0,te.of)(T);let oe=0;return(0,I.D)(W).pipe((0,Dt.b)(pe=>function dt(A,O,T,F){const W=A.routeConfig,oe=A._resolve;return void 0!==W?.title&&!le(W)&&(oe[Kt]=W.title),function P(A,O,T,F){const W=function Q(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===W.length)return(0,te.of)({});const oe={};return(0,I.D)(W).pipe((0,ke.z)(pe=>function V(A,O,T,F){const W=vi(O)??F,oe=ls(A,W);return yt(oe.resolve?oe.resolve(O,T):W.runInContext(()=>oe(O,T)))}(A[pe],O,T,F).pipe((0,Re.P)(),(0,Ct.b)(je=>{oe[pe]=je}))),(0,at.h)(1),(0,Xe.h)(oe),(0,Qe.K)(pe=>k(pe)?fe.E:(0,q._)(pe)))}(oe,A,O,F).pipe((0,Ye.U)(pe=>(A._resolvedData=pe,A.data=As(A,T).resolve,W&&le(W)&&(A.data[Kt]=W.title),null)))}(pe.route,F,A,O)),(0,Ct.b)(()=>oe++),(0,at.h)(1),(0,ke.z)(pe=>oe===W.length?(0,te.of)(T):fe.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Ct.b)({next:()=>St=!0,complete:()=>{St||(T.restoreHistory(je),this.cancelNavigationTransition(je,"",2))}}))}),(0,Ct.b)(je=>{const St=new Rn(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(St)}))}),we(pe=>{const je=St=>{const en=[];St.routeConfig?.loadComponent&&!St.routeConfig._loadedComponent&&en.push(this.configLoader.loadComponent(St.routeConfig).pipe((0,Ct.b)(an=>{St.component=an}),(0,Ye.U)(()=>{})));for(const an of St.children)en.push(...je(an));return en};return(0,se.a)(je(pe.targetSnapshot.root)).pipe((0,qe.d)(),(0,We.q)(1))}),we(()=>this.afterPreactivation()),(0,Ye.U)(pe=>{const je=function fo(A,O,T){const F=zs(A,O._root,T?T._root:void 0);return new ni(F,O)}(T.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return F={...pe,targetRouterState:je}}),(0,Ct.b)(pe=>{T.currentUrlTree=pe.urlAfterRedirects,T.rawUrlTree=T.urlHandlingStrategy.merge(pe.urlAfterRedirects,pe.rawUrl),T.routerState=pe.targetRouterState,"deferred"===T.urlUpdateStrategy&&(pe.extras.skipLocationChange||T.setBrowserUrl(T.rawUrlTree,pe),T.browserUrlTree=pe.urlAfterRedirects)}),((A,O,T)=>(0,Ye.U)(F=>(new as(O,F.targetRouterState,F.currentRouterState,T).activate(A),F)))(this.rootContexts,T.routeReuseStrategy,pe=>this.events.next(pe)),(0,We.q)(1),(0,Ct.b)({next:pe=>{W=!0,this.lastSuccessfulNavigation=this.currentNavigation,T.navigated=!0,this.events.next(new pn(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(T.currentUrlTree))),T.titleStrategy?.updateTitle(pe.targetRouterState.snapshot),pe.resolve(!0)},complete:()=>{W=!0}}),(0,_t.x)(()=>{W||oe||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,Qe.K)(pe=>{if(oe=!0,Ta(pe)){Wi(pe)||(T.navigated=!0,T.restoreHistory(F,!0));const je=new An(F.id,this.urlSerializer.serialize(F.extractedUrl),pe.message,pe.cancellationCode);if(this.events.next(je),Wi(pe)){const St=T.urlHandlingStrategy.merge(pe.url,T.rawUrlTree),en={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===T.urlUpdateStrategy||$n(F.source)};T.scheduleNavigation(St,Br,null,en,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{T.restoreHistory(F,!0);const je=new tr(F.id,this.urlSerializer.serialize(F.extractedUrl),pe,F.targetSnapshot??void 0);this.events.next(je);try{F.resolve(T.errorHandler(pe))}catch(St){F.reject(St)}}return fe.E}))}))}cancelNavigationTransition(T,F,W){const oe=new An(T.id,this.urlSerializer.serialize(T.extractedUrl),F,W);this.events.next(oe),T.resolve(!1)}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function $n(A){return A!==Br}let sn=(()=>{class A{buildTitle(T){let F,W=T.root;for(;void 0!==W;)F=this.getResolvedTitleForRoute(W)??F,W=W.children.find(oe=>oe.outlet===dn);return F}getResolvedTitleForRoute(T){return T.data[Kt]}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(Fr)},providedIn:"root"}),A})(),Fr=(()=>{class A extends sn{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return A.\u0275fac=function(T){return new(T||A)(f.LFG(rr.Dx))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),ao=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(yn)},providedIn:"root"}),A})();class pr{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}let yn=(()=>{class A extends pr{}return A.\u0275fac=function(){let O;return function(F){return(O||(O=f.n5z(A)))(F||A)}}(),A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Vn=new f.OlP("",{providedIn:"root",factory:()=>({})});let Jo=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(xr)},providedIn:"root"}),A})(),xr=(()=>{class A{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,F){return T}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function lo(A){throw A}function ba(A,O,T){return O.parse("/")}const ea={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ya={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ys=(()=>{class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(Vn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||lo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ba,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Jo),this.routeReuseStrategy=(0,f.f3M)(ao),this.urlCreationStrategy=(0,f.f3M)(hr),this.titleStrategy=(0,f.f3M)(sn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=si((0,f.f3M)(Et,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(fr),this.urlSerializer=(0,f.f3M)(Yn),this.location=(0,f.f3M)(Be.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wa(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId??0},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Br,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,F,T.state)},0)}))}navigateToSyncWithBrowser(T,F,W){const oe={replaceUrl:!0},pe=W?.navigationId?W:null;if(W){const St={...W};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(oe.state=St)}const je=this.parseUrl(T);this.scheduleNavigation(je,F,pe,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(T){this.config=T.map(Mr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,F={}){const{relativeTo:W,queryParams:oe,fragment:pe,queryParamsHandling:je,preserveFragment:St}=F,en=St?this.currentUrlTree.fragment:pe;let an=null;switch(je){case"merge":an={...this.currentUrlTree.queryParams,...oe};break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=oe||null}return null!==an&&(an=this.removeEmptyProps(an)),this.urlCreationStrategy.createUrlTree(W,this.routerState,this.currentUrlTree,T,an,en??null)}navigateByUrl(T,F={skipLocationChange:!1}){const W=Oe(T)?T:this.parseUrl(T),oe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(oe,Br,null,F)}navigate(T,F={skipLocationChange:!1}){return function uo(A){for(let O=0;O<A.length;O++){const T=A[O];if(null==T)throw new f.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch(W){F=this.malformedUriErrorHandler(W,this.urlSerializer,T)}return F}isActive(T,F){let W;if(W=!0===F?{...ea}:!1===F?{...ya}:F,Oe(T))return Lr(this.currentUrlTree,T,W);const oe=this.parseUrl(T);return Lr(this.currentUrlTree,oe,W)}removeEmptyProps(T){return Object.keys(T).reduce((F,W)=>{const oe=T[W];return null!=oe&&(F[W]=oe),F},{})}scheduleNavigation(T,F,W,oe,pe){if(this.disposed)return Promise.resolve(!1);let je,St,en,an;return pe?(je=pe.resolve,St=pe.reject,en=pe.promise):en=new Promise((Tr,kr)=>{je=Tr,St=kr}),an="computed"===this.canceledNavigationResolution?W&&W.\u0275routerPageId?W.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:an,source:F,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:oe,resolve:je,reject:St,promise:en,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),en.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(T,F){const W=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(W)||F.extras.replaceUrl){const pe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(W,"",pe)}else{const oe={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.go(W,"",oe)}}restoreHistory(T,F=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),ta=(()=>{class A{constructor(T,F,W,oe,pe,je){this.router=T,this.route=F,this.tabIndexAttribute=W,this.renderer=oe,this.el=pe,this.locationStrategy=je,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $e.x;const St=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===St||"area"===St,this.isAnchorElement?this.subscription=T.events.subscribe(en=>{en instanceof pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,F,W,oe,pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||F||W||oe||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,F){const W=this.renderer,oe=this.el.nativeElement;null!==F?W.setAttribute(oe,T,F):W.removeAttribute(oe,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(T){return new(T||A)(f.Y36(ys),f.Y36(Cn),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Be.S$))},A.\u0275dir=f.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,F){1&T&&f.NdJ("click",function(oe){return F.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&T&&f.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),A})(),Aa=(()=>{class A{get isActive(){return this._isActive}constructor(T,F,W,oe,pe){this.router=T,this.element=F,this.renderer=W,this.cdr=oe,this.link=pe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=T.events.subscribe(je=>{je instanceof pn&&this.update()})}ngAfterContentInit(){(0,te.of)(this.links.changes,(0,te.of)(null)).pipe((0,fn.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const T=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,I.D)(T).pipe((0,fn.J)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(T){const F=Array.isArray(T)?T:T.split(" ");this.classes=F.filter(W=>!!W)}ngOnChanges(T){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this._isActive!==T&&(this._isActive=T,this.cdr.markForCheck(),this.classes.forEach(F=>{T?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const F=function cl(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return W=>!!W.urlTree&&T.isActive(W.urlTree,F)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.links.some(T)}}return A.\u0275fac=function(T){return new(T||A)(f.Y36(ys),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(ta,8))},A.\u0275dir=f.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(T,F,W){if(1&T&&f.Suo(W,ta,5),2&T){let oe;f.iGM(oe=f.CRH())&&(F.links=oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),A})();class js{}let ou=(()=>{class A{constructor(T,F,W,oe,pe){this.router=T,this.injector=W,this.preloadingStrategy=oe,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(T=>T instanceof pn),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){const W=[];for(const oe of F){oe.providers&&!oe._injector&&(oe._injector=(0,f.MMx)(oe.providers,T,`Route: ${oe.path}`));const pe=oe._injector??T,je=oe._loadedInjector??pe;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&W.push(this.preloadConfig(pe,oe)),(oe.children||oe._loadedRoutes)&&W.push(this.processRoutes(je,oe.children??oe._loadedRoutes))}return(0,I.D)(W).pipe((0,fn.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let W;W=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,te.of)(null);const oe=W.pipe((0,ke.z)(pe=>null===pe?(0,te.of)(void 0):(F._loadedRoutes=pe.routes,F._loadedInjector=pe.injector,this.processRoutes(pe.injector??T,pe.routes))));if(F.loadComponent&&!F._loadedComponent){const pe=this.loader.loadComponent(F);return(0,I.D)([oe,pe]).pipe((0,fn.J)())}return oe})}}return A.\u0275fac=function(T){return new(T||A)(f.LFG(ys),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(js),f.LFG(nn))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Po=new f.OlP("");let Ja=(()=>{class A{constructor(T,F,W,oe,pe={}){this.urlSerializer=T,this.transitions=F,this.viewportScroller=W,this.zone=oe,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof pn&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Ge&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ge(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return A.\u0275fac=function(T){f.$Z()},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac}),A})();var it=(()=>((it=it||{})[it.COMPLETE=0]="COMPLETE",it[it.FAILED=1]="FAILED",it[it.REDIRECTING=2]="REDIRECTING",it))();const Ts=!1;function _s(A,O){return{\u0275kind:A,\u0275providers:O}}const dl=new f.OlP("",{providedIn:"root",factory:()=>!1});function hl(){const A=(0,f.f3M)(f.zs3);return O=>{const T=A.get(f.z2F);if(O!==T.components[0])return;const F=A.get(ys),W=A.get(Ga);1===A.get(xs)&&F.initialNavigation(),A.get(qs,null,f.XFs.Optional)?.setUpPreloading(),A.get(Po,null,f.XFs.Optional)?.init(),F.resetRootComponentType(T.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const Ga=new f.OlP(Ts?"bootstrap done indicator":"",{factory:()=>new $e.x}),xs=new f.OlP(Ts?"initial navigation":"",{providedIn:"root",factory:()=>1});function Qs(){let A=[];return A=Ts?[{provide:f.Xts,multi:!0,useFactory:()=>{const O=(0,f.f3M)(ys);return()=>O.events.subscribe(T=>{console.group?.(`Router Event: ${T.constructor.name}`),console.log(function gt(A){if(!("type"in A))return`Unknown Router Event: ${A.constructor.name}`;switch(A.type){case 14:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 2:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case 16:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case 1:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case 0:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case 6:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 5:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 10:return`RouteConfigLoadEnd(path: ${A.route.path})`;case 9:return`RouteConfigLoadStart(path: ${A.route.path})`;case 4:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 15:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}(T)),console.log(T),console.groupEnd?.()})}}]:[],_s(1,A)}const qs=new f.OlP(Ts?"router preloader":"");function na(A){return _s(0,[{provide:qs,useExisting:ou},{provide:js,useExisting:A}])}const Nl=!1,Xr=new f.OlP(Nl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),va=[Be.Ye,{provide:Yn,useClass:yi},ys,Yi,{provide:Cn,useFactory:function es(A){return A.routerState.root},deps:[ys]},nn,Nl?{provide:dl,useValue:!0}:[]];function ui(){return new f.PXZ("Router",ys)}let fl=(()=>{class A{constructor(T){}static forRoot(T,F){return{ngModule:A,providers:[va,Nl&&F?.enableTracing?Qs().\u0275providers:[],{provide:Et,multi:!0,useValue:T},{provide:Xr,useFactory:nl,deps:[[ys,new f.FiY,new f.tp0]]},{provide:Vn,useValue:F||{}},F?.useHash?{provide:Be.S$,useClass:Be.Do}:{provide:Be.S$,useClass:Be.b0},{provide:Po,useFactory:()=>{const A=(0,f.f3M)(Be.EM),O=(0,f.f3M)(f.R0b),T=(0,f.f3M)(Vn),F=(0,f.f3M)(fr),W=(0,f.f3M)(Yn);return T.scrollOffset&&A.setOffset(T.scrollOffset),new Ja(W,F,A,O,T)}},F?.preloadingStrategy?na(F.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:ui},F?.initialNavigation?ra(F):[],[{provide:ia,useFactory:hl},{provide:f.tb,multi:!0,useExisting:ia}]]}}static forChild(T){return{ngModule:A,providers:[{provide:Et,multi:!0,useValue:T}]}}}return A.\u0275fac=function(T){return new(T||A)(f.LFG(Xr,8))},A.\u0275mod=f.oAB({type:A}),A.\u0275inj=f.cJS({imports:[Vo]}),A})();function nl(A){if(Nl&&A)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ra(A){return["disabled"===A.initialNavigation?_s(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(ys);return()=>{O.setUpLocationChangeListener()}}},{provide:xs,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?_s(2,[{provide:xs,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const T=O.get(Be.V_,Promise.resolve());return()=>T.then(()=>new Promise(F=>{const W=O.get(ys),oe=O.get(Ga);(function Ma(A,O){A.events.pipe((0,rt.h)(T=>T instanceof pn||T instanceof An||T instanceof tr||T instanceof Dn),(0,Ye.U)(T=>T instanceof pn||T instanceof Dn?it.COMPLETE:T instanceof An&&(0===T.code||1===T.code)?it.REDIRECTING:it.FAILED),(0,rt.h)(T=>T!==it.REDIRECTING),(0,We.q)(1)).subscribe(()=>{O()})})(W,()=>{F(!0)}),O.get(fr).afterPreactivation=()=>(F(!0),oe.closed?(0,te.of)(void 0):oe),W.initialNavigation()}))}}]).\u0275providers:[]]}const ia=new f.OlP(Nl?"Router Initializer":"")},6881:(Te,ae,D)=>{D.d(ae,{Jn:()=>Fi,qX:()=>yi,Xd:()=>Yn,Mq:()=>is,C6:()=>or,ZF:()=>jn,KN:()=>Je});var f=D(9671),I=D(4859),te=D(1877),B=D(2090);const Z=(pt,tt)=>tt.some(xt=>pt instanceof xt);let se,ee;const q=new WeakMap,ue=new WeakMap,fe=new WeakMap,Ne=new WeakMap,$e=new WeakMap;let Ve={get(pt,tt,xt){if(pt instanceof IDBTransaction){if("done"===tt)return ue.get(pt);if("objectStoreNames"===tt)return pt.objectStoreNames||fe.get(pt);if("store"===tt)return xt.objectStoreNames[1]?void 0:xt.objectStore(xt.objectStoreNames[0])}return ke(pt[tt])},set:(pt,tt,xt)=>(pt[tt]=xt,!0),has:(pt,tt)=>pt instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in pt};function rt(pt){return"function"==typeof pt?function ze(pt){return pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pt)?function(...tt){return pt.apply(Re(this),tt),ke(q.get(this))}:function(...tt){return ke(pt.apply(Re(this),tt))}:function(tt,...xt){const Zt=pt.call(Re(this),tt,...xt);return fe.set(Zt,tt.sort?tt.sort():[tt]),ke(Zt)}}(pt):(pt instanceof IDBTransaction&&function Ye(pt){if(ue.has(pt))return;const tt=new Promise((xt,Zt)=>{const Pn=()=>{pt.removeEventListener("complete",Qn),pt.removeEventListener("error",cn),pt.removeEventListener("abort",cn)},Qn=()=>{xt(),Pn()},cn=()=>{Zt(pt.error||new DOMException("AbortError","AbortError")),Pn()};pt.addEventListener("complete",Qn),pt.addEventListener("error",cn),pt.addEventListener("abort",cn)});ue.set(pt,tt)}(pt),Z(pt,function K(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pt,Ve):pt)}function ke(pt){if(pt instanceof IDBRequest)return function Be(pt){const tt=new Promise((xt,Zt)=>{const Pn=()=>{pt.removeEventListener("success",Qn),pt.removeEventListener("error",cn)},Qn=()=>{xt(ke(pt.result)),Pn()},cn=()=>{Zt(pt.error),Pn()};pt.addEventListener("success",Qn),pt.addEventListener("error",cn)});return tt.then(xt=>{xt instanceof IDBCursor&&q.set(xt,pt)}).catch(()=>{}),$e.set(tt,pt),tt}(pt);if(Ne.has(pt))return Ne.get(pt);const tt=rt(pt);return tt!==pt&&(Ne.set(pt,tt),$e.set(tt,pt)),tt}const Re=pt=>$e.get(pt),Qe=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Tt=new Map;function nt(pt,tt){if(!(pt instanceof IDBDatabase)||tt in pt||"string"!=typeof tt)return;if(Tt.get(tt))return Tt.get(tt);const xt=tt.replace(/FromIndex$/,""),Zt=tt!==xt,Pn=Mt.includes(xt);if(!(xt in(Zt?IDBIndex:IDBObjectStore).prototype)||!Pn&&!Qe.includes(xt))return;const Qn=function(){var cn=(0,f.Z)(function*(dr,...nr){const ei=this.transaction(dr,Pn?"readwrite":"readonly");let ti=ei.store;return Zt&&(ti=ti.index(nr.shift())),(yield Promise.all([ti[xt](...nr),Pn&&ei.done]))[0]});return function(nr){return cn.apply(this,arguments)}}();return Tt.set(tt,Qn),Qn}!function We(pt){Ve=pt(Ve)}(pt=>({...pt,get:(tt,xt,Zt)=>nt(tt,xt)||pt.get(tt,xt,Zt),has:(tt,xt)=>!!nt(tt,xt)||pt.has(tt,xt)}));class qe{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function at(pt){return"VERSION"===pt.getComponent()?.type}(xt)){const Zt=xt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(xt=>xt).join(" ")}}const Xe="@firebase/app",bt=new te.Yd("@firebase/app"),Sr="[DEFAULT]",Tn={[Xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kn=new Map,cr=new Map;function un(pt,tt){try{pt.container.addComponent(tt)}catch(xt){bt.debug(`Component ${tt.name} failed to register with FirebaseApp ${pt.name}`,xt)}}function Yn(pt){const tt=pt.name;if(cr.has(tt))return bt.debug(`There were multiple attempts to register component ${tt}.`),!1;cr.set(tt,pt);for(const xt of Kn.values())un(xt,pt);return!0}function yi(pt,tt){const xt=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),pt.container.getProvider(tt)}const di=new B.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _r{constructor(tt,xt,Zt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new I.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const Fi="9.17.1";function jn(pt,tt={}){let xt=pt;"object"!=typeof tt&&(tt={name:tt});const Zt=Object.assign({name:Sr,automaticDataCollectionEnabled:!1},tt),Pn=Zt.name;if("string"!=typeof Pn||!Pn)throw di.create("bad-app-name",{appName:String(Pn)});if(xt||(xt=(0,B.aH)()),!xt)throw di.create("no-options");const Qn=Kn.get(Pn);if(Qn){if((0,B.vZ)(xt,Qn.options)&&(0,B.vZ)(Zt,Qn.config))return Qn;throw di.create("duplicate-app",{appName:Pn})}const cn=new I.H0(Pn);for(const nr of cr.values())cn.addComponent(nr);const dr=new _r(xt,Zt,cn);return Kn.set(Pn,dr),dr}function is(pt=Sr){const tt=Kn.get(pt);if(!tt&&pt===Sr)return jn();if(!tt)throw di.create("no-app",{appName:pt});return tt}function or(){return Array.from(Kn.values())}function Je(pt,tt,xt){var Zt;let Pn=null!==(Zt=Tn[pt])&&void 0!==Zt?Zt:pt;xt&&(Pn+=`-${xt}`);const Qn=Pn.match(/\s|\//),cn=tt.match(/\s|\//);if(Qn||cn){const dr=[`Unable to register library "${Pn}" with version "${tt}":`];return Qn&&dr.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),Qn&&cn&&dr.push("and"),cn&&dr.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void bt.warn(dr.join(" "))}Yn(new I.wA(`${Pn}-version`,()=>({library:Pn,version:tt}),"VERSION"))}const Pt="firebase-heartbeat-database",ge=1,ve="firebase-heartbeat-store";let Ce=null;function st(){return Ce||(Ce=function Dt(pt,tt,{blocked:xt,upgrade:Zt,blocking:Pn,terminated:Qn}={}){const cn=indexedDB.open(pt,tt),dr=ke(cn);return Zt&&cn.addEventListener("upgradeneeded",nr=>{Zt(ke(cn.result),nr.oldVersion,nr.newVersion,ke(cn.transaction))}),xt&&cn.addEventListener("blocked",()=>xt()),dr.then(nr=>{Qn&&nr.addEventListener("close",()=>Qn()),Pn&&nr.addEventListener("versionchange",()=>Pn())}).catch(()=>{}),dr}(Pt,ge,{upgrade:(pt,tt)=>{0===tt&&pt.createObjectStore(ve)}}).catch(pt=>{throw di.create("idb-open",{originalErrorMessage:pt.message})})),Ce}function Nt(){return(Nt=(0,f.Z)(function*(pt){try{return(yield st()).transaction(ve).objectStore(ve).get(Pe(pt))}catch(tt){if(tt instanceof B.ZR)bt.warn(tt.message);else{const xt=di.create("idb-get",{originalErrorMessage:tt?.message});bt.warn(xt.message)}}})).apply(this,arguments)}function Wt(pt,tt){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,f.Z)(function*(pt,tt){try{const Zt=(yield st()).transaction(ve,"readwrite");return yield Zt.objectStore(ve).put(tt,Pe(pt)),Zt.done}catch(xt){if(xt instanceof B.ZR)bt.warn(xt.message);else{const Zt=di.create("idb-set",{originalErrorMessage:xt?.message});bt.warn(Zt.message)}}})).apply(this,arguments)}function Pe(pt){return`${pt.name}!${pt.options.appId}`}class Ke{constructor(tt){this.container=tt,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new Xn(xt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var tt=this;return(0,f.Z)(function*(){const Zt=tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pn=kt();if(null===tt._heartbeatsCache&&(tt._heartbeatsCache=yield tt._heartbeatsCachePromise),tt._heartbeatsCache.lastSentHeartbeatDate!==Pn&&!tt._heartbeatsCache.heartbeats.some(Qn=>Qn.date===Pn))return tt._heartbeatsCache.heartbeats.push({date:Pn,agent:Zt}),tt._heartbeatsCache.heartbeats=tt._heartbeatsCache.heartbeats.filter(Qn=>{const cn=new Date(Qn.date).valueOf();return Date.now()-cn<=2592e6}),tt._storage.overwrite(tt._heartbeatsCache)})()}getHeartbeatsHeader(){var tt=this;return(0,f.Z)(function*(){if(null===tt._heartbeatsCache&&(yield tt._heartbeatsCachePromise),null===tt._heartbeatsCache||0===tt._heartbeatsCache.heartbeats.length)return"";const xt=kt(),{heartbeatsToSend:Zt,unsentEntries:Pn}=function rn(pt,tt=1024){const xt=[];let Zt=pt.slice();for(const Pn of pt){const Qn=xt.find(cn=>cn.agent===Pn.agent);if(Qn){if(Qn.dates.push(Pn.date),Dr(xt)>tt){Qn.dates.pop();break}}else if(xt.push({agent:Pn.agent,dates:[Pn.date]}),Dr(xt)>tt){xt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:xt,unsentEntries:Zt}}(tt._heartbeatsCache.heartbeats),Qn=(0,B.L)(JSON.stringify({version:2,heartbeats:Zt}));return tt._heartbeatsCache.lastSentHeartbeatDate=xt,Pn.length>0?(tt._heartbeatsCache.heartbeats=Pn,yield tt._storage.overwrite(tt._heartbeatsCache)):(tt._heartbeatsCache.heartbeats=[],tt._storage.overwrite(tt._heartbeatsCache)),Qn})()}}function kt(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(tt){this.app=tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,B.hl)()&&(0,B.eu)().then(()=>!0).catch(()=>!1)})()}read(){var tt=this;return(0,f.Z)(function*(){return(yield tt._canUseIndexedDBPromise)&&(yield function Fe(pt){return Nt.apply(this,arguments)}(tt.app))||{heartbeats:[]}})()}overwrite(tt){var xt=this;return(0,f.Z)(function*(){var Zt;if(yield xt._canUseIndexedDBPromise){const Qn=yield xt.read();return Wt(xt.app,{lastSentHeartbeatDate:null!==(Zt=tt.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Qn.lastSentHeartbeatDate,heartbeats:tt.heartbeats})}})()}add(tt){var xt=this;return(0,f.Z)(function*(){var Zt;if(yield xt._canUseIndexedDBPromise){const Qn=yield xt.read();return Wt(xt.app,{lastSentHeartbeatDate:null!==(Zt=tt.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Qn.lastSentHeartbeatDate,heartbeats:[...Qn.heartbeats,...tt.heartbeats]})}})()}}function Dr(pt){return(0,B.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function Ti(pt){Yn(new I.wA("platform-logger",tt=>new qe(tt),"PRIVATE")),Yn(new I.wA("heartbeat",tt=>new Ke(tt),"PRIVATE")),Je(Xe,"0.9.3",pt),Je(Xe,"0.9.3","esm2017"),Je("fire-js","")}("")},4859:(Te,ae,D)=>{D.d(ae,{H0:()=>K,wA:()=>te});var f=D(9671),I=D(2090);class te{constructor(q,ue,fe){this.name=q,this.instanceFactory=ue,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const B="[DEFAULT]";class Z{constructor(q,ue){this.name=q,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ue=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ue)){const fe=new I.BH;if(this.instancesDeferred.set(ue,fe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:ue});Ne&&fe.resolve(Ne)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(q){var ue;const fe=this.normalizeInstanceIdentifier(q?.identifier),Ne=null!==(ue=q?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch($e){if(Ne)return null;throw $e}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function ee(re){return"EAGER"===re.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:B})}catch{}for(const[ue,fe]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(ue);try{const $e=this.getOrInitializeService({instanceIdentifier:Ne});fe.resolve($e)}catch{}}}}clearInstance(q=B){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,f.Z)(function*(){const ue=Array.from(q.instances.values());yield Promise.all([...ue.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ue.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=B){return this.instances.has(q)}getOptions(q=B){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ue={}}=q,fe=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:fe,options:ue});for(const[$e,Be]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier($e)&&Be.resolve(Ne);return Ne}onInit(q,ue){var fe;const Ne=this.normalizeInstanceIdentifier(ue),$e=null!==(fe=this.onInitCallbacks.get(Ne))&&void 0!==fe?fe:new Set;$e.add(q),this.onInitCallbacks.set(Ne,$e);const Be=this.instances.get(Ne);return Be&&q(Be,Ne),()=>{$e.delete(q)}}invokeOnInitCallbacks(q,ue){const fe=this.onInitCallbacks.get(ue);if(fe)for(const Ne of fe)try{Ne(q,ue)}catch{}}getOrInitializeService({instanceIdentifier:q,options:ue={}}){let fe=this.instances.get(q);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(re=q,re===B?void 0:re),options:ue}),this.instances.set(q,fe),this.instancesOptions.set(q,ue),this.invokeOnInitCallbacks(fe,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,fe)}catch{}var re;return fe||null}normalizeInstanceIdentifier(q=B){return this.component?this.component.multipleInstances?q:B:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ue=this.getProvider(q.name);if(ue.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ue.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ue=new Z(q,this);return this.providers.set(q,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Te,ae,D)=>{D.d(ae,{Yd:()=>ee,in:()=>I});const f=[];var I=(()=>{return(q=I||(I={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",I;var q})();const te={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},B=I.INFO,Z={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},se=(q,ue,...fe)=>{if(ue<q.logLevel)return;const Ne=(new Date).toISOString(),$e=Z[ue];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[$e](`[${Ne}]  ${q.name}:`,...fe)};class ee{constructor(ue){this.name=ue,this._logLevel=B,this._logHandler=se,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in I))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?te[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...ue),this._logHandler(this,I.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...ue),this._logHandler(this,I.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,I.INFO,...ue),this._logHandler(this,I.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,I.WARN,...ue),this._logHandler(this,I.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,I.ERROR,...ue),this._logHandler(this,I.ERROR,...ue)}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8555),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ae,D){if(this.action=ae,this.timestamp=D,this.type=PERFORM_ACTION,typeof ae.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ae){this.timestamp=ae,this.type=RESET}}class Rollback{constructor(ae){this.timestamp=ae,this.type=ROLLBACK}}class Commit{constructor(ae){this.timestamp=ae,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ae){this.id=ae,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ae,D,f=!0){this.start=ae,this.end=D,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ae){this.index=ae,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ae){this.actionId=ae,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ae){this.nextLiftedState=ae,this.type=IMPORT_STATE}}class LockChanges{constructor(ae){this.status=ae,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ae){this.status=ae,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Te){const ae={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof Te?Te():Te,te=Object.assign({},ae,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||ae.features},D);if(te.maxAge&&te.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${te.maxAge}`);return te}function difference(Te,ae){return Te.filter(D=>ae.indexOf(D)<0)}function unliftState(Te){const{computedStates:ae,currentStateIndex:D}=Te;if(D>=ae.length){const{state:I}=ae[ae.length-1];return I}const{state:f}=ae[D];return f}function unliftAction(Te){return Te.actionsById[Te.nextActionId-1]}function liftAction(Te){return new PerformAction(Te,+Date.now())}function sanitizeActions(Te,ae){return Object.keys(ae).reduce((D,f)=>{const I=Number(f);return D[I]=sanitizeAction(Te,ae[I],I),D},{})}function sanitizeAction(Te,ae,D){return{...ae,action:Te(ae.action,D)}}function sanitizeStates(Te,ae){return ae.map((D,f)=>({state:sanitizeState(Te,D.state,f),error:D.error}))}function sanitizeState(Te,ae,D){return Te(ae,D)}function shouldFilterActions(Te){return Te.predicate||Te.actionsSafelist||Te.actionsBlocklist}function filterLiftedState(Te,ae,D,f){const I=[],te={},B=[];return Te.stagedActionIds.forEach((Z,se)=>{const ee=Te.actionsById[Z];ee&&(se&&isActionFiltered(Te.computedStates[se],ee,ae,D,f)||(te[Z]=ee,I.push(Z),B.push(Te.computedStates[se])))}),{...Te,stagedActionIds:I,actionsById:te,computedStates:B}}function isActionFiltered(Te,ae,D,f,I){const te=D&&!D(Te,ae.action),B=f&&!ae.action.type.match(f.map(se=>escapeRegExp(se)).join("|")),Z=I&&ae.action.type.match(I.map(se=>escapeRegExp(se)).join("|"));return te||B||Z}function escapeRegExp(Te){return Te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Te extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Te.\u0275fac=function(){let ae;return function(f){return(ae||(ae=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Te)))(f||Te)}}(),Te.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Te,ae,D){this.config=ae,this.dispatcher=D,this.devtoolsExtension=Te,this.createActionStreams()}notify(Te,ae){if(this.devtoolsExtension)if(Te.type===PERFORM_ACTION){if(ae.isLocked||ae.isPaused)return;const D=unliftState(ae);if(shouldFilterActions(this.config)&&isActionFiltered(D,Te,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,ae.currentStateIndex):D,I=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Te,ae.nextActionId):Te;this.sendToReduxDevtools(()=>this.extensionConnection.send(I,f))}else{const D={...ae,stagedActionIds:ae.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ae.actionsById):ae.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ae.computedStates):ae.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Te=>{const ae=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ae,ae.init(),ae.subscribe(D=>Te.next(D)),ae.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Te=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ae=Te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Z=>Z.type===ExtensionActionTypes.START)),D=Te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Z=>Z.type===ExtensionActionTypes.STOP)),f=Te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Z=>Z.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Z=>this.unwrapAction(Z.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Z=>Z.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(se=>se.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Z)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Z))),te=Te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Z=>Z.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Z=>this.unwrapAction(Z.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),B=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>te)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>B))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Te){const ae={name:Te.name,features:Te.features,serialize:Te.serialize,autoPause:Te.autoPause??!1};return!1!==Te.maxAge&&(ae.maxAge=Te.maxAge),ae}sendToReduxDevtools(Te){try{Te()}catch(ae){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ae)}}}return DevtoolsExtension.\u0275fac=function Te(ae){return new(ae||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Te,ae,D,f,I){if(f)return{state:D,error:"Interrupted by an error up the chain"};let B,te=D;try{te=Te(D,ae)}catch(Z){B=Z.toString(),I.handleError(Z)}return{state:te,error:B}}function recomputeStates(Te,ae,D,f,I,te,B,Z,se){if(ae>=Te.length&&Te.length===te.length)return Te;const ee=Te.slice(0,ae),K=te.length-(se?1:0);for(let re=ae;re<K;re++){const q=te[re],ue=I[q].action,fe=ee[re-1],Ne=fe?fe.state:f,$e=fe?fe.error:void 0,Ye=B.indexOf(q)>-1?fe:computeNextEntry(D,ue,Ne,$e,Z);ee.push(Ye)}return se&&ee.push(Te[Te.length-1]),ee}function liftInitialState(Te,ae){return{monitorState:ae(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Te,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Te,ae,D,f,I={}){return te=>(B,Z)=>{let{monitorState:se,actionsById:ee,nextActionId:K,stagedActionIds:re,skippedActionIds:q,committedState:ue,currentStateIndex:fe,computedStates:Ne,isLocked:$e,isPaused:Be}=B||ae;function Ye(ze){let rt=ze,ke=re.slice(1,rt+1);for(let Re=0;Re<ke.length;Re++){if(Ne[Re+1].error){rt=Re,ke=re.slice(1,rt+1);break}delete ee[ke[Re]]}q=q.filter(Re=>-1===ke.indexOf(Re)),re=[0,...re.slice(rt+1)],ue=Ne[rt].state,Ne=Ne.slice(rt),fe=fe>rt?fe-rt:0}function Ve(){ee={0:liftAction(INIT_ACTION)},K=1,re=[0],q=[],ue=Ne[fe].state,fe=0,Ne=[]}B||(ee=Object.create(ee));let We=0;switch(Z.type){case LOCK_CHANGES:$e=Z.status,We=1/0;break;case PAUSE_RECORDING:Be=Z.status,Be?(re=[...re,K],ee[K]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),K++,We=re.length-1,Ne=Ne.concat(Ne[Ne.length-1]),fe===re.length-2&&fe++,We=1/0):Ve();break;case RESET:ee={0:liftAction(INIT_ACTION)},K=1,re=[0],q=[],ue=Te,fe=0,Ne=[];break;case COMMIT:Ve();break;case ROLLBACK:ee={0:liftAction(INIT_ACTION)},K=1,re=[0],q=[],fe=0,Ne=[];break;case TOGGLE_ACTION:{const{id:ze}=Z;q=-1===q.indexOf(ze)?[ze,...q]:q.filter(ke=>ke!==ze),We=re.indexOf(ze);break}case SET_ACTIONS_ACTIVE:{const{start:ze,end:rt,active:ke}=Z,Re=[];for(let Dt=ze;Dt<rt;Dt++)Re.push(Dt);q=ke?difference(q,Re):[...q,...Re],We=re.indexOf(ze);break}case JUMP_TO_STATE:fe=Z.index,We=1/0;break;case JUMP_TO_ACTION:{const ze=re.indexOf(Z.actionId);-1!==ze&&(fe=ze),We=1/0;break}case SWEEP:re=difference(re,q),q=[],fe=Math.min(fe,re.length-1);break;case PERFORM_ACTION:{if($e)return B||ae;if(Be||B&&isActionFiltered(B.computedStates[fe],Z,I.predicate,I.actionsSafelist,I.actionsBlocklist)){const rt=Ne[Ne.length-1];Ne=[...Ne.slice(0,-1),computeNextEntry(te,Z.action,rt.state,rt.error,D)],We=1/0;break}I.maxAge&&re.length===I.maxAge&&Ye(1),fe===re.length-1&&fe++;const ze=K++;ee[ze]=Z,re=[...re,ze],We=re.length-1;break}case IMPORT_STATE:({monitorState:se,actionsById:ee,nextActionId:K,stagedActionIds:re,skippedActionIds:q,committedState:ue,currentStateIndex:fe,computedStates:Ne,isLocked:$e,isPaused:Be}=Z.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:We=0,I.maxAge&&re.length>I.maxAge&&(Ne=recomputeStates(Ne,We,te,ue,ee,re,q,D,Be),Ye(re.length-I.maxAge),We=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ne.filter(rt=>rt.error).length>0)We=0,I.maxAge&&re.length>I.maxAge&&(Ne=recomputeStates(Ne,We,te,ue,ee,re,q,D,Be),Ye(re.length-I.maxAge),We=1/0);else{if(!Be&&!$e){fe===re.length-1&&fe++;const rt=K++;ee[rt]=new PerformAction(Z,+Date.now()),re=[...re,rt],We=re.length-1,Ne=recomputeStates(Ne,We,te,ue,ee,re,q,D,Be)}Ne=Ne.map(rt=>({...rt,state:te(rt.state,RECOMPUTE_ACTION)})),fe=re.length-1,I.maxAge&&re.length>I.maxAge&&Ye(re.length-I.maxAge),We=1/0}break;default:We=1/0}return Ne=recomputeStates(Ne,We,te,ue,ee,re,q,D,Be),se=f(se,Z),{monitorState:se,actionsById:ee,nextActionId:K,stagedActionIds:re,skippedActionIds:q,committedState:ue,currentStateIndex:fe,computedStates:Ne,isLocked:$e,isPaused:Be}}}let StoreDevtools=(()=>{class Te{constructor(D,f,I,te,B,Z,se,ee){const K=liftInitialState(se,ee.monitor),re=liftReducerWith(se,K,Z,ee.monitor,ee),q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),te.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,te.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ue=I.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re)),fe=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ne=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ue),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ve},[We,ze])=>{let rt=ze(Ve,We);return We.type!==PERFORM_ACTION&&shouldFilterActions(ee)&&(rt=filterLiftedState(rt,ee.predicate,ee.actionsSafelist,ee.actionsBlocklist)),te.notify(We,rt),{state:rt,action:We}},{state:K,action:null})).subscribe(({state:Ve,action:We})=>{fe.next(Ve),We.type===PERFORM_ACTION&&B.next(We.action)}),$e=te.start$.subscribe(()=>{this.refresh()}),Be=fe.asObservable(),Ye=Be.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=$e,this.stateSubscription=Ne,this.dispatcher=D,this.liftedState=Be,this.state=Ye}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return Te.\u0275fac=function(D){return new(D||Te)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Te.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Te,ae){return Boolean(Te)||ae.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Te="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Te]<"u"?window[Te]:null}function provideStoreDevtools(Te={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Te},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(Te){return Te.state}let StoreDevtoolsModule=(()=>{class Te{static instrument(D={}){return{ngModule:Te,providers:[...provideStoreDevtools(D).\u0275providers]}}}return Te.\u0275fac=function(D){return new(D||Te)},Te.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Te}),Te.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Te})()},8555:(Te,ae,D)=>{D.d(ae,{Aw:()=>xn,CK:()=>vr,FR:()=>Kn,Ky:()=>Be,Lq:()=>Is,P1:()=>Wt,PH:()=>$e,UO:()=>Ct,Y$:()=>Sr,Y6:()=>nt,Ys:()=>Ur,ZF:()=>he,cr:()=>Rn,mK:()=>ln,n$:()=>ur,on:()=>Yr,qC:()=>Zn,qg:()=>Dt,wb:()=>Li,yh:()=>Yn});var f=D(4650),I=D(1135),te=D(9751),B=D(7579),Z=D(233),se=D(5363),ee=D(1365),K=D(5026),re=D(4813),q=D(4004),ue=D(1884);const fe={};function $e(Ee,ot){if(fe[Ee]=(fe[Ee]||0)+1,"function"==typeof ot)return Ve(Ee,(...gt)=>({...ot(...gt),type:Ee}));switch(ot?ot._as:"empty"){case"empty":return Ve(Ee,()=>({type:Ee}));case"props":return Ve(Ee,gt=>({...gt,type:Ee}));default:throw new Error("Unexpected config.")}}function Be(){return{_as:"props",_p:void 0}}function Ve(Ee,ot){return Object.defineProperty(ot,"type",{value:Ee,writable:!1})}const Dt="@ngrx/store/init";let Ct=(()=>{class Ee extends I.X{constructor(){super({type:Dt})}next(Ge){if("function"==typeof Ge)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ge>"u")throw new TypeError("Actions must be objects");if(typeof Ge.type>"u")throw new TypeError("Actions must have a type property");super.next(Ge)}complete(){}ngOnDestroy(){super.complete()}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275prov=f.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Qe=[Ct],Mt=new f.OlP("@ngrx/store Internal Root Guard"),Tt=new f.OlP("@ngrx/store Internal Initial State"),nt=new f.OlP("@ngrx/store Initial State"),qe=new f.OlP("@ngrx/store Reducer Factory"),at=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),Xe=new f.OlP("@ngrx/store Initial Reducers"),_t=new f.OlP("@ngrx/store Internal Initial Reducers"),bt=new f.OlP("@ngrx/store Store Features"),fn=new f.OlP("@ngrx/store Internal Store Reducers"),rr=new f.OlP("@ngrx/store Internal Feature Reducers"),dn=new f.OlP("@ngrx/store Internal Feature Configs"),Kt=new f.OlP("@ngrx/store Internal Store Features"),Ln=new f.OlP("@ngrx/store Internal Feature Reducers Token"),En=new f.OlP("@ngrx/store Feature Reducers"),ir=new f.OlP("@ngrx/store User Provided Meta Reducers"),Kr=new f.OlP("@ngrx/store Meta Reducers"),Mn=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),hn=new f.OlP("@ngrx/store User Runtime Checks Config"),si=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),wt=new f.OlP("@ngrx/store Internal Runtime Checks"),ct=new f.OlP("@ngrx/store Check if Action types are unique");function Lt(Ee,ot={}){const Ge=Object.keys(Ee),gt={};for(let zt=0;zt<Ge.length;zt++){const Xt=Ge[zt];"function"==typeof Ee[Xt]&&(gt[Xt]=Ee[Xt])}const Ht=Object.keys(gt);return function(Xt,hr){Xt=void 0===Xt?ot:Xt;let ar=!1;const hi={};for(let Er=0;Er<Ht.length;Er++){const Ar=Ht[Er],ni=Xt[Ar],wa=(0,gt[Ar])(ni,hr);hi[Ar]=wa,ar=ar||wa!==ni}return ar?hi:Xt}}function Zn(...Ee){return function(ot){if(0===Ee.length)return ot;const Ge=Ee[Ee.length-1];return Ee.slice(0,-1).reduceRight((Ht,zt)=>zt(Ht),Ge(ot))}}function Lr(Ee,ot){return Array.isArray(ot)&&ot.length>0&&(Ee=Zn.apply(null,[...ot,Ee])),(Ge,gt)=>{const Ht=Ee(Ge);return(zt,Xt)=>Ht(zt=void 0===zt?gt:zt,Xt)}}new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class ur extends te.y{}class ln extends Ct{}const Li="@ngrx/store/update-reducers";let qr=(()=>{class Ee extends I.X{constructor(Ge,gt,Ht,zt){super(zt(Ht,gt)),this.dispatcher=Ge,this.initialState=gt,this.reducers=Ht,this.reducerFactory=zt}get currentReducers(){return this.reducers}addFeature(Ge){this.addFeatures([Ge])}addFeatures(Ge){const gt=Ge.reduce((Ht,{reducers:zt,reducerFactory:Xt,metaReducers:hr,initialState:ar,key:hi})=>{const Er="function"==typeof zt?function rs(Ee){const ot=Array.isArray(Ee)&&Ee.length>0?Zn(...Ee):Ge=>Ge;return(Ge,gt)=>(Ge=ot(Ge),(Ht,zt)=>Ge(Ht=void 0===Ht?gt:Ht,zt))}(hr)(zt,ar):Lr(Xt,hr)(zt,ar);return Ht[hi]=Er,Ht},{});this.addReducers(gt)}removeFeature(Ge){this.removeFeatures([Ge])}removeFeatures(Ge){this.removeReducers(Ge.map(gt=>gt.key))}addReducer(Ge,gt){this.addReducers({[Ge]:gt})}addReducers(Ge){this.reducers={...this.reducers,...Ge},this.updateReducers(Object.keys(Ge))}removeReducer(Ge){this.removeReducers([Ge])}removeReducers(Ge){Ge.forEach(gt=>{this.reducers=function Un(Ee,ot){return Object.keys(Ee).filter(Ge=>Ge!==ot).reduce((Ge,gt)=>Object.assign(Ge,{[gt]:Ee[gt]}),{})}(this.reducers,gt)}),this.updateReducers(Ge)}updateReducers(Ge){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Li,features:Ge})}ngOnDestroy(){this.complete()}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(f.LFG(ln),f.LFG(nt),f.LFG(Xe),f.LFG(qe))},Ee.\u0275prov=f.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ir=[qr,{provide:ur,useExisting:qr},{provide:ln,useExisting:Ct}];let Sr=(()=>{class Ee extends B.x{ngOnDestroy(){this.complete()}}return Ee.\u0275fac=function(){let ot;return function(gt){return(ot||(ot=f.n5z(Ee)))(gt||Ee)}}(),Ee.\u0275prov=f.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Tn=[Sr];class Kn extends te.y{}let cr=(()=>{class Ee extends I.X{constructor(Ge,gt,Ht,zt){super(zt);const hi=Ge.pipe((0,se.Q)(Z.N)).pipe((0,ee.M)(gt)).pipe((0,K.R)(un,{state:zt}));this.stateSubscription=hi.subscribe(({state:Er,action:Ar})=>{this.next(Er),Ht.next(Ar)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Ee.INIT=Dt,Ee.\u0275fac=function(Ge){return new(Ge||Ee)(f.LFG(Ct),f.LFG(ur),f.LFG(Sr),f.LFG(nt))},Ee.\u0275prov=f.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();function un(Ee={state:void 0},[ot,Ge]){const{state:gt}=Ee;return{state:Ge(gt,ot),action:ot}}const qt=[cr,{provide:Kn,useExisting:cr}];let Yn=(()=>{class Ee extends te.y{constructor(Ge,gt,Ht){super(),this.actionsObserver=gt,this.reducerManager=Ht,this.source=Ge}select(Ge,...gt){return Ur.call(null,Ge,...gt)(this)}lift(Ge){const gt=new Ee(this,this.actionsObserver,this.reducerManager);return gt.operator=Ge,gt}dispatch(Ge){this.actionsObserver.next(Ge)}next(Ge){this.actionsObserver.next(Ge)}error(Ge){this.actionsObserver.error(Ge)}complete(){this.actionsObserver.complete()}addReducer(Ge,gt){this.reducerManager.addReducer(Ge,gt)}removeReducer(Ge){this.reducerManager.removeReducer(Ge)}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(f.LFG(Kn),f.LFG(Ct),f.LFG(qr))},Ee.\u0275prov=f.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const yi=[Yn];function Ur(Ee,ot,...Ge){return function(Ht){let zt;if("string"==typeof Ee){const Xt=[ot,...Ge].filter(Boolean);zt=Ht.pipe((0,re.j)(Ee,...Xt))}else{if("function"!=typeof Ee)throw new TypeError(`Unexpected type '${typeof Ee}' in select operator, expected 'string' or 'function'`);zt=Ht.pipe((0,q.U)(Xt=>Ee(Xt,ot)))}return zt.pipe((0,ue.x)())}}const gi="https://ngrx.io/guide/store/configuration/runtime-checks";function Vr(Ee){return void 0===Ee}function di(Ee){return null===Ee}function _r(Ee){return Array.isArray(Ee)}function or(Ee){return"object"==typeof Ee&&null!==Ee}function Je(Ee){return"function"==typeof Ee}let Pt=!1;function Ce(Ee,ot){return Ee===ot}function Nt(Ee,ot=Ce,Ge=Ce){let zt,gt=null,Ht=null;return{memoized:function hi(){if(void 0!==zt)return zt.result;if(!gt)return Ht=Ee.apply(null,arguments),gt=arguments,Ht;if(!function st(Ee,ot,Ge){for(let gt=0;gt<Ee.length;gt++)if(!Ge(Ee[gt],ot[gt]))return!0;return!1}(arguments,gt,ot))return Ht;const Er=Ee.apply(null,arguments);return gt=arguments,Ge(Ht,Er)?Ht:(Ht=Er,Er)},reset:function Xt(){gt=null,Ht=null},setResult:function hr(Er){zt={result:Er}},clearResult:function ar(){zt=void 0}}}function Wt(...Ee){return function Pe(Ee,ot={stateFn:Oe}){return function(...Ge){let gt=Ge;if(Array.isArray(gt[0])){const[Er,...Ar]=gt;gt=[...Er,...Ar]}const Ht=gt.slice(0,gt.length-1),zt=gt[gt.length-1],Xt=Ht.filter(Er=>Er.release&&"function"==typeof Er.release),hr=Ee(function(...Er){return zt.apply(null,Er)}),ar=Nt(function(Er,Ar){return ot.stateFn.apply(null,[Er,Ht,Ar,hr])});return Object.assign(ar.memoized,{release:function hi(){ar.reset(),hr.reset(),Xt.forEach(Er=>Er.release())},projector:hr.memoized,setResult:ar.setResult,clearResult:ar.clearResult})}}(Nt)(...Ee)}function Oe(Ee,ot,Ge,gt){if(void 0===Ge){const zt=ot.map(Xt=>Xt(Ee));return gt.memoized.apply(null,zt)}const Ht=ot.map(zt=>zt(Ee,Ge));return gt.memoized.apply(null,[...Ht,Ge])}function he(Ee){return Wt(ot=>{const Ge=ot[Ee];return!function ve(){return Pt}()&&(0,f.X6Q)()&&!(Ee in ot)&&console.warn(`@ngrx/store: The feature name "${Ee}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ee}', ...) or StoreModule.forFeature('${Ee}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ge},ot=>ot)}function rn(Ee,ot){return ot instanceof f.OlP?Ee.get(ot):ot}function Xn(Ee,ot,Ge){return Ge.map((gt,Ht)=>{if(ot[Ht]instanceof f.OlP){const zt=Ee.get(ot[Ht]);return{key:gt.key,reducerFactory:zt.reducerFactory?zt.reducerFactory:Lt,metaReducers:zt.metaReducers?zt.metaReducers:[],initialState:zt.initialState}}return gt})}function Dr(Ee,ot){return ot.map(gt=>gt instanceof f.OlP?Ee.get(gt):gt)}function Ti(Ee){return"function"==typeof Ee?Ee():Ee}function pt(Ee,ot){return Ee.concat(ot)}function tt(Ee){if(Ee)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Zt(Ee){Object.freeze(Ee);const ot=Je(Ee);return Object.getOwnPropertyNames(Ee).forEach(Ge=>{if(!Ge.startsWith("\u0275")&&function xe(Ee,ot){return Object.prototype.hasOwnProperty.call(Ee,ot)}(Ee,Ge)&&(!ot||"caller"!==Ge&&"callee"!==Ge&&"arguments"!==Ge)){const gt=Ee[Ge];(or(gt)||Je(gt))&&!Object.isFrozen(gt)&&Zt(gt)}}),Ee}function Qn(Ee,ot=[]){return(Vr(Ee)||di(Ee))&&0===ot.length?{path:["root"],value:Ee}:Object.keys(Ee).reduce((gt,Ht)=>{if(gt)return gt;const zt=Ee[Ht];return function Se(Ee){return Je(Ee)&&Ee.hasOwnProperty("\u0275cmp")}(zt)?gt:!(Vr(zt)||di(zt)||function is(Ee){return"number"==typeof Ee}(zt)||function jn(Ee){return"boolean"==typeof Ee}(zt)||function Fi(Ee){return"string"==typeof Ee}(zt)||_r(zt))&&(function Jr(Ee){if(!function Pi(Ee){return or(Ee)&&!_r(Ee)}(Ee))return!1;const ot=Object.getPrototypeOf(Ee);return ot===Object.prototype||null===ot}(zt)?Qn(zt,[...ot,Ht]):{path:[...ot,Ht],value:zt})},!1)}function cn(Ee,ot){if(!1===Ee)return;const Ge=Ee.path.join("."),gt=new Error(`Detected unserializable ${ot} at "${Ge}". ${gi}#strict${ot}serializability`);throw gt.value=Ee.value,gt.unserializablePath=Ge,gt}function nr(Ee){return(0,f.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ee}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ei({strictActionSerializability:Ee,strictStateSerializability:ot}){return Ge=>Ee||ot?function Pn(Ee,ot){return function(Ge,gt){ot.action(gt)&&cn(Qn(gt),"action");const Ht=Ee(Ge,gt);return ot.state()&&cn(Qn(Ht),"state"),Ht}}(Ge,{action:gt=>Ee&&!bs(gt),state:()=>ot}):Ge}function ti({strictActionImmutability:Ee,strictStateImmutability:ot}){return Ge=>Ee||ot?function xt(Ee,ot){return function(Ge,gt){const Ht=ot.action(gt)?Zt(gt):gt,zt=Ee(Ge,Ht);return ot.state()?Zt(zt):zt}}(Ge,{action:gt=>Ee&&!bs(gt),state:()=>ot}):Ge}function bs(Ee){return Ee.type.startsWith("@ngrx")}function ki({strictActionWithinNgZone:Ee}){return ot=>Ee?function dr(Ee,ot){return function(Ge,gt){if(ot.action(gt)&&!f.R0b.isInAngularZone())throw new Error(`Action '${gt.type}' running outside NgZone. ${gi}#strictactionwithinngzone`);return Ee(Ge,gt)}}(ot,{action:Ge=>Ee&&!bs(Ge)}):ot}function ss(Ee){return[{provide:si,useValue:Ee},{provide:hn,useFactory:Bt,deps:[si]},{provide:wt,deps:[hn],useFactory:nr},{provide:Kr,multi:!0,deps:[wt],useFactory:ti},{provide:Kr,multi:!0,deps:[wt],useFactory:ei},{provide:Kr,multi:!0,deps:[wt],useFactory:ki}]}function Br(){return[{provide:ct,multi:!0,deps:[wt],useFactory:bn}]}function Bt(Ee){return Ee}function bn(Ee){if(!Ee.strictActionTypeUniqueness)return;const ot=Object.entries(fe).filter(([,Ge])=>Ge>1).map(([Ge])=>Ge);if(ot.length)throw new Error(`Action types are registered more than once, ${ot.map(Ge=>`"${Ge}"`).join(", ")}. ${gi}#strictactiontypeuniqueness`)}function An(Ee,ot){return[{provide:Mt,useFactory:tt,deps:[[Yn,new f.FiY,new f.tp0]]},{provide:Tt,useValue:ot.initialState},{provide:nt,useFactory:Ti,deps:[Tt]},{provide:_t,useValue:Ee},{provide:fn,useExisting:Ee instanceof f.OlP?Ee:_t},{provide:Xe,deps:[f.zs3,_t,[new f.tBr(fn)]],useFactory:rn},{provide:ir,useValue:ot.metaReducers?ot.metaReducers:[]},{provide:Mn,deps:[Kr,ir],useFactory:pt},{provide:at,useValue:ot.reducerFactory?ot.reducerFactory:Lt},{provide:qe,deps:[at,Mn],useFactory:Lr},Qe,Ir,Tn,qt,yi,ss(ot.runtimeChecks),Br()]}function _i(Ee,ot,Ge={}){return[{provide:dn,multi:!0,useValue:Ee instanceof Object?{}:Ge},{provide:bt,multi:!0,useValue:{key:Ee instanceof Object?Ee.name:Ee,reducerFactory:Ge instanceof f.OlP||!Ge.reducerFactory?Lt:Ge.reducerFactory,metaReducers:Ge instanceof f.OlP||!Ge.metaReducers?[]:Ge.metaReducers,initialState:Ge instanceof f.OlP||!Ge.initialState?void 0:Ge.initialState}},{provide:Kt,deps:[f.zs3,dn,bt],useFactory:Xn},{provide:rr,multi:!0,useValue:Ee instanceof Object?Ee.reducer:ot},{provide:Ln,multi:!0,useExisting:ot instanceof f.OlP?ot:rr},{provide:En,multi:!0,deps:[f.zs3,rr,[new f.tBr(Ln)]],useFactory:Dr},Br()]}let Rn=(()=>{class Ee{constructor(Ge,gt,Ht,zt,Xt,hr){}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(f.LFG(Ct),f.LFG(ur),f.LFG(Sr),f.LFG(Yn),f.LFG(Mt,8),f.LFG(ct,8))},Ee.\u0275mod=f.oAB({type:Ee}),Ee.\u0275inj=f.cJS({}),Ee})(),vr=(()=>{class Ee{constructor(Ge,gt,Ht,zt,Xt){this.features=Ge,this.featureReducers=gt,this.reducerManager=Ht;const hr=Ge.map((ar,hi)=>{const Ar=gt.shift()[hi];return{...ar,reducers:Ar,initialState:Ti(ar.initialState)}});Ht.addFeatures(hr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(f.LFG(Kt),f.LFG(En),f.LFG(qr),f.LFG(Rn),f.LFG(ct,8))},Ee.\u0275mod=f.oAB({type:Ee}),Ee.\u0275inj=f.cJS({}),Ee})(),xn=(()=>{class Ee{static forRoot(Ge,gt={}){return{ngModule:Rn,providers:[...An(Ge,gt)]}}static forFeature(Ge,gt,Ht={}){return{ngModule:vr,providers:[..._i(Ge,gt,Ht)]}}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275mod=f.oAB({type:Ee}),Ee.\u0275inj=f.cJS({}),Ee})();function Yr(...Ee){return{reducer:Ee.pop(),types:Ee.map(gt=>gt.type)}}function Is(Ee,...ot){const Ge=new Map;for(const gt of ot)for(const Ht of gt.types){const zt=Ge.get(Ht);Ge.set(Ht,zt?(hr,ar)=>gt.reducer(zt(hr,ar),ar):gt.reducer)}return function(gt=Ee,Ht){const zt=Ge.get(Ht.type);return zt?zt(gt,Ht):gt}}},4440:(Te,ae,D)=>{D.d(ae,{C5:()=>si,G2:()=>ir,gm:()=>hn});var f=D(9671),I=D(4650),te=D(6197),B=D(9751),Z=D(4004),se=D(6895),ee=D(4793),K=D(529),re=D(259),q=D(9996),ue=D(4716);class nt{constructor(){this.db=(0,te.N8)()}create(ct,Ue={}){let yt=(0,te.VF)((0,te.iH)(this.db,ct));return(0,te.t8)(yt,{key:yt.key,...Ue}).then(),Promise.resolve({key:yt.key})}set(ct,Ue={}){var yt=this;return(0,f.Z)(function*(){const Lt=(0,te.iH)(yt.db,ct);yield(0,te.t8)(Lt,Ue)})()}update(ct,Ue={}){var yt=this;return(0,f.Z)(function*(){const Lt=(0,te.iH)(yt.db,ct);yield(0,te.Vx)(Lt,Ue)})()}remove(ct){var Ue=this;return(0,f.Z)(function*(){const yt=(0,te.iH)(Ue.db,ct);yield(0,te.Od)(yt)})()}readRealTime(ct){return new B.y(Ue=>{(0,te.jM)((0,te.iH)(this.db,ct),yt=>{let Lt=[];yt.exists()?(yt.forEach(Un=>{Lt.push({key:Un.key,...Un.val()})}),Ue.next(Lt)):Ue.next([])})})}readOnceWithObserver(ct){return(0,te.jM)((0,te.iH)(this.db,ct),Ue=>Ue.val(),{onlyOnce:!0})}readOnce(ct){return new Promise((Ue,yt)=>{(0,te.U2)((0,te.iH)(this.db,ct)).then(Lt=>{Lt.exists()?Ue({key:Lt.key,...Lt.val()}):Ue([])}).catch(Lt=>{yt(Lt)})})}readReal(ct){return new B.y(Ue=>{(0,te.jM)((0,te.iH)(this.db,ct),yt=>{yt.exists()?Ue.next(yt.val()):Ue.next(null)})})}updateCounter(ct,Ue=!0){return new Promise((yt,Lt)=>{const Un=(0,te.iH)(this.db);(0,te.U2)((0,te.iU)(Un,"counter")).then(Zn=>{(0,te.Vx)((0,te.iH)(this.db,ct),{counter:(0,te.nP)(Ue?1:-1)}).then(Lr=>{yt(Lr)})})})}others(){}checkPresence(ct){const Ue=(0,te.iH)(this.db,`${ct}/connections`),yt=(0,te.iH)(this.db,`${ct}/lastOnline`),Lt=(0,te.iH)(this.db,".info/connected");(0,te.jM)(Lt,Un=>{if(!0===Un.val()){const Zn=(0,te.VF)(Ue);(0,te.ae)(Zn).remove().then(),(0,te.t8)(Zn,!0).then(),(0,te.ae)(yt).set((0,te.Bt)()).then()}})}onDisconnect(ct){const Ue=(0,te.iH)(this.db,ct);return(0,te.ae)(Ue)}detectingConnectionState(){return new B.y(ct=>{const Ue=(0,te.iH)(this.db,".info/connected");(0,te.jM)(Ue,yt=>{ct.next(yt.val())})})}}let qe=(()=>{class wt extends nt{constructor(){super()}get timestamp(){return(new Date).getTime()}getPresence(Ue){return this.readReal(`status/${Ue}`)}getUserOnlineCounts(){return this.readRealTime("status").pipe((0,Z.U)(Ue=>Ue.reduce((yt,Lt)=>"online"===Lt.status?++yt:yt,0)))}getTotalUserCounts(){return this.readRealTime("status").pipe((0,Z.U)(Ue=>Ue))}setPresence(Ue,yt){return this.set(`status/${Ue}`,{status:yt,timestamp:this.timestamp})}updateOnAway(Ue){document.onvisibilitychange=yt=>{"hidden"===document.visibilityState?this.setPresence(Ue,"away"):this.setPresence(Ue,"online")}}updateOnUser(Ue){this.detectingConnectionState().pipe((0,Z.U)(Lt=>Lt?"online":"offline")).subscribe(Lt=>this.setPresence(Ue,Lt))}updateOnDisconnect(Ue){this.onDisconnect(`status/${Ue}`).update({status:"offline",timestamp:this.timestamp})}configure(Ue){this.updateOnAway(Ue),this.updateOnUser(Ue),this.updateOnDisconnect(Ue)}configureUserPresenceByLocal(){let Ue=localStorage.getItem("uid");this.checkingUser(Ue)}configureUserPresenceByLogin(Ue,yt={}){this.checkingUser(Ue,yt)}checkingUser(Ue,yt={}){Ue?this.configure(Ue):this.create("status",{uid:Ue,...yt}).then(Lt=>{localStorage.setItem("uid",Lt.key),this.configure(Lt.key)})}}return wt.\u0275fac=function(Ue){return new(Ue||wt)},wt.\u0275prov=I.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const Xe={provide:I.ip1,useFactory:function at(wt){return()=>new Promise(function(){var ct=(0,f.Z)(function*(Ue,yt){yield wt.configureUserPresenceByLocal(),Ue("done")});return function(Ue,yt){return ct.apply(this,arguments)}}())},deps:[qe],multi:!0};let bt=(()=>{class wt extends nt{constructor(Ue){super(),this.router=Ue}config(){this.router.events.subscribe(Ue=>{Ue instanceof ee.m2&&(/[#$\[\]'?]/g.test(Ue.url)||this.updateCounter(`router-activities${Ue.url}`).then())})}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(I.LFG(ee.F0))},wt.\u0275prov=I.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const rr={provide:I.ip1,useFactory:wt=>()=>wt.config(),multi:!0,deps:[bt]},Kt={provide:K.TP,useClass:(()=>{class wt extends nt{constructor(){super()}intercept(Ue,yt){return this.updateCounter("server-activities").then(),yt.handle(Ue)}}return wt.\u0275fac=function(Ue){return new(Ue||wt)},wt.\u0275prov=I.Yz7({token:wt,factory:wt.\u0275fac}),wt})(),multi:!0},Ln=new I.OlP(null);function En(wt){return()=>{const ct=(0,re.ZF)(wt);(0,te.N8)(ct),(0,q.ad)(ct),console.log(`no of Firebase app:: ${(0,re.C6)().length}`)}}let ir=(()=>{class wt{constructor(Ue){this.config=Ue}static initializeApp(Ue){return{ngModule:wt,providers:[{provide:Ln,useFactory:En(Ue)}]}}static initialize(Ue){let yt=[];return Ue.activityInHttp&&yt.push(Kt),Ue.activityInRouter&&yt.push(rr),Ue.activityOfAnonymousUser&&yt.push(Xe),{ngModule:wt,providers:yt}}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(I.LFG(Ln))},wt.\u0275mod=I.oAB({type:wt}),wt.\u0275inj=I.cJS({providers:[bt,qe],imports:[se.ez]}),wt})();const Kr="https://rktect-rest-default-rtdb.firebaseio.com/users.json",Mn="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let hn=(()=>{class wt{constructor(Ue){this.http=Ue}getUsers(){return this.http.get(Kr,{params:{auth:Mn}})}createUser(Ue){return this.http.post(Kr,Ue,{params:{auth:Mn}})}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(I.LFG(K.eN))},wt.\u0275prov=I.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();class si{constructor(){this.db=(0,q.ad)(),this.auth=(0,ue.v0)(),(0,q.ST)(this.db).catch(ct=>{"failed-precondition"==ct.code?console.log("persistance failed"):"unimplemented"==ct.code&&console.log("persistance not available")})}get colRef(){return(0,q.hJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((ct,Ue)=>{(0,q.PL)(this.colRef).then(yt=>{let Lt=this.setData2(yt);ct(Lt)}).catch(yt=>{Ue(yt.message)})})}getSingleDoc(ct){const Ue=(0,q.JU)(this.db,this.collectionPath,ct);return new Promise((yt,Lt)=>(0,q.QT)(Ue).then(Un=>{let Zn=this.transformSingleDoc(Un);yt(Zn)}).catch(Un=>{Lt(Un.message)}))}getSingleDocFromCache(ct){var Ue=this;return(0,f.Z)(function*(){const yt=(0,q.JU)(Ue.db,Ue.collectionPath,ct);try{const Lt=yield(0,q.kl)(yt);console.log("Cached document data:",Lt.data())}catch(Lt){console.log("Error getting cached document:",Lt)}})()}getCollectionRealTime(ct){return this.unsubscribe=(0,q.cf)(this.colRef,Ue=>{ct(this.setData2(Ue))})}getDocRealTime(ct,Ue){const yt=(0,q.JU)(this.db,this.collectionPath,ct);return(0,q.cf)(yt,Lt=>{Ue(this.transformSingleDoc(Lt))})}g(){(0,q.cf)(void 0,Ue=>{Ue.docChanges().forEach(yt=>{"added"===yt.type&&console.log("New city: ",yt.doc.data()),"modified"===yt.type&&console.log("Modified city: ",yt.doc.data()),"removed"===yt.type&&console.log("Removed city: ",yt.doc.data())})})}addingDoc(ct={}){return(0,q.ET)(this.colRef,{createdAt:(0,q.Bt)(),updatedAt:(0,q.Bt)(),...ct})}deletingDoc(ct){const Ue=(0,q.JU)(this.db,this.collectionPath,ct);return(0,q.oe)(Ue)}updatingDoc(ct,Ue){const yt=(0,q.JU)(this.db,this.collectionPath,ct);return(0,q.r7)(yt,{updatedAt:(0,q.Bt)(),...Ue})}signUpWithEmailPass({email:ct,password:Ue}){return(0,ue.Xb)(this.auth,ct,Ue).then(yt=>Promise.resolve(yt.user)).catch(yt=>Promise.reject(yt.message))}signInWithEmailPass({email:ct,password:Ue}){return(0,ue.e5)(this.auth,ct,Ue).then(yt=>Promise.resolve(yt.user)).catch(yt=>Promise.reject(yt.message))}onSignOut(){return(0,ue.w7)(this.auth).then(ct=>Promise.resolve(ct)).catch(ct=>Promise.reject(ct.message))}subscribingAuthChangedRealTime(ct){return(0,ue.Aj)(this.auth,Ue=>{ct(Ue)})}getPaginationData1(ct={latestDoc:null,empty:!1,data:[]},Ue=5){return new Promise((yt,Lt)=>{const Un=(0,q.IO)(this.colRef,(0,q.Xo)("createdAt"),(0,q.TQ)(ct.latestDoc||0),(0,q.b9)(Ue));(0,q.PL)(Un).then(Zn=>{let Lr=this.setData2(Zn);ct.latestDoc=Zn.docs[Zn.docs.length-1],ct.data=[...ct.data,...Lr],ct.empty=Zn.empty,yt(ct)}).catch(Zn=>{Lt(Zn.message)})})}getPaginationData(ct={latestDoc:null,empty:!1,data:[],size:0},Ue=5){var yt=this;return(0,f.Z)(function*(){if(!ct.empty)try{const Lt=(0,q.IO)(yt.colRef,(0,q.Xo)("createdAt"),(0,q.TQ)(ct.latestDoc||0),(0,q.b9)(Ue)),Un=yield(0,q.PL)(Lt);let Zn=yt.setData2(Un);return ct.latestDoc=Un.docs[Un.docs.length-1],ct.data=[...ct.data,...Zn],ct.empty=Un.empty,ct.size=Un.size,ct}catch(Lt){return Lt}})()}unsubscribeRealTime(){this.unsubscribe()}nextPage(ct={latestDoc:null,empty:!1,data:[],size:0},Ue=5){var yt=this;return(0,f.Z)(function*(){const Lt=(0,q.IO)(yt.colRef,(0,q.Xo)("createdAt"),(0,q.TQ)(ct.latestDoc||0),(0,q.b9)(Ue));return yield yt.handlePagination(Lt)})()}prePage(ct={latestDoc:null,empty:!1,data:[],size:0},Ue=5){var yt=this;return(0,f.Z)(function*(){const Lt=(0,q.IO)(yt.colRef,(0,q.Xo)("createdAt"),(0,q.Lx)(ct.latestDoc||0),(0,q.b9)(Ue));return yield yt.handlePagination(Lt,!1)})()}setData(ct){return ct.docs.map(Ue=>({id:Ue.id,...Ue.data()}))}setData2(ct){let Ue=[];return ct.docs.forEach(yt=>{Ue.push({...yt.data(),id:yt.id})}),Ue}transformSingleDoc(ct){return{...ct.data(),id:ct.id}}handlePagination(ct,Ue=!0){var yt=this;return(0,f.Z)(function*(){try{const Lt=yield(0,q.PL)(ct);let Un=yt.setData2(Lt);return{latestDoc:Ue?Lt.docs[Lt.docs.length-1]:Lt.docs[0],data:Un,empty:Lt.empty,size:Lt.size}}catch(Lt){return Lt}})()}}},259:(Te,ae,D)=>{D.d(ae,{C6:()=>f.C6,ZF:()=>f.ZF});var f=D(6881);(0,f.KN)("firebase","9.17.1","app")},4716:(Te,ae,D)=>{D.d(ae,{hJ:()=>no,Xb:()=>et,gK:()=>Bs,v0:()=>Cl,cx:()=>au,Aj:()=>Xa,e5:()=>$r,rh:()=>pe,w7:()=>Ys});var f=D(9671),I=D(2090),te=D(6881),B=D(1877),Z=D(655),se=D(4859);const Be=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new I.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new B.Yd("@firebase/auth");function ze(R,...v){We.logLevel<=B.in.ERROR&&We.error(`Auth (${te.Jn}): ${R}`,...v)}function rt(R,...v){throw Ct(R,...v)}function ke(R,...v){return Ct(R,...v)}function Re(R,v,C){const L=Object.assign(Object.assign({},Be()),{[v]:C});return new I.LL("auth","Firebase",L).create(v,{appName:R.name})}function Ct(R,...v){if("string"!=typeof R){const C=v[0],L=[...v.slice(1)];return L[0]&&(L[0].appName=R.name),R._errorFactory.create(C,...L)}return Ye.create(R,...v)}function Qe(R,v,...C){if(!R)throw Ct(v,...C)}function Mt(R){const v="INTERNAL ASSERTION FAILED: "+R;throw ze(v),new Error(v)}function Tt(R,v){R||Mt(v)}const nt=new Map;function qe(R){Tt(R instanceof Function,"Expected a class definition");let v=nt.get(R);return v?(Tt(v instanceof R,"Instance stored in cache mismatched with class"),v):(v=new R,nt.set(R,v),v)}function _t(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function fn(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class Kt{constructor(v,C){this.shortDelay=v,this.longDelay=C,Tt(C>v,"Short delay should be less than long delay!"),this.isMobile=(0,I.uI)()||(0,I.b$)()}get(){return function rr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bt(){return"http:"===fn()||"https:"===fn()}()||(0,I.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(R,v){Tt(R.emulator,"Emulator should always be set here");const{url:C}=R.emulator;return v?`${C}${v.startsWith("/")?v.slice(1):v}`:C}class En{static initialize(v,C,L){this.fetchImpl=v,C&&(this.headersImpl=C),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kr=new Kt(3e4,6e4);function Mn(R,v){return R.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:R.tenantId}):v}function hn(R,v,C,L){return si.apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(R,v,C,L,ie={}){return wt(R,ie,(0,f.Z)(function*(){let y={},_={};L&&("GET"===v?_=L:y={body:JSON.stringify(L)});const g=(0,I.xO)(Object.assign({key:R.config.apiKey},_)).slice(1),b=yield R._getAdditionalHeaders();return b["Content-Type"]="application/json",R.languageCode&&(b["X-Firebase-Locale"]=R.languageCode),En.fetch()(Lt(R,R.config.apiHost,C,g),Object.assign({method:v,headers:b,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function wt(R,v,C){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(R,v,C){R._canInitEmulator=!1;const L=Object.assign(Object.assign({},ir),v);try{const ie=new Un(R),y=yield Promise.race([C(),ie.promise]);ie.clearNetworkTimeout();const _=yield y.json();if("needConfirmation"in _)throw Zn(R,"account-exists-with-different-credential",_);if(y.ok&&!("errorMessage"in _))return _;{const g=y.ok?_.errorMessage:_.error.message,[b,H]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===b)throw Zn(R,"credential-already-in-use",_);if("EMAIL_EXISTS"===b)throw Zn(R,"email-already-in-use",_);if("USER_DISABLED"===b)throw Zn(R,"user-disabled",_);const ne=L[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(H)throw Re(R,ne,H);rt(R,ne)}}catch(ie){if(ie instanceof I.ZR)throw ie;rt(R,"network-request-failed")}})).apply(this,arguments)}function Ue(R,v,C,L){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(R,v,C,L,ie={}){const y=yield hn(R,v,C,L,ie);return"mfaPendingCredential"in y&&rt(R,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Lt(R,v,C,L){const ie=`${v}${C}?${L}`;return R.config.emulator?Ln(R.config,ie):`${R.config.apiScheme}://${ie}`}class Un{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((C,L)=>{this.timer=setTimeout(()=>L(ke(this.auth,"network-request-failed")),Kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(R,v,C){const L={appName:R.name};C.email&&(L.email=C.email),C.phoneNumber&&(L.phoneNumber=C.phoneNumber);const ie=ke(R,v,L);return ie.customData._tokenResponse=C,ie}function rs(){return(rs=(0,f.Z)(function*(R,v){return hn(R,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(R,v){return hn(R,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Ir(R){if(R)try{const v=new Date(Number(R));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Kn(){return(Kn=(0,f.Z)(function*(R,v=!1){const C=(0,I.m9)(R),L=yield C.getIdToken(v),ie=un(L);Qe(ie&&ie.exp&&ie.auth_time&&ie.iat,C.auth,"internal-error");const y="object"==typeof ie.firebase?ie.firebase:void 0,_=y?.sign_in_provider;return{claims:ie,token:L,authTime:Ir(cr(ie.auth_time)),issuedAtTime:Ir(cr(ie.iat)),expirationTime:Ir(cr(ie.exp)),signInProvider:_||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function cr(R){return 1e3*Number(R)}function un(R){const[v,C,L]=R.split(".");if(void 0===v||void 0===C||void 0===L)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,I.tV)(C);return ie?JSON.parse(ie):(ze("Failed to decode base64 JWT payload"),null)}catch(ie){return ze("Caught error parsing JWT payload as JSON",ie?.toString()),null}}function Yn(R,v){return yi.apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(R,v,C=!1){if(C)return v;try{return yield v}catch(L){throw L instanceof I.ZR&&function Ur({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}(L)&&R.auth.currentUser===R&&(yield R.auth.signOut()),L}})).apply(this,arguments)}class gi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var C;if(v){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const ie=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(v=!1){var C=this;if(!this.isRunning)return;const L=this.getInterval(v);this.timerId=setTimeout((0,f.Z)(function*(){yield C.iteration()}),L)}iteration(){var v=this;return(0,f.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&v.schedule(!0))}v.schedule()})()}}class Vr{constructor(v,C){this.createdAt=v,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function di(R){return _r.apply(this,arguments)}function _r(){return _r=(0,f.Z)(function*(R){var v;const C=R.auth,L=yield R.getIdToken(),ie=yield Yn(R,function Li(R,v){return qr.apply(this,arguments)}(C,{idToken:L}));Qe(ie?.users.length,C,"internal-error");const y=ie.users[0];R._notifyReloadListener(y);const _=null!==(v=y.providerUserInfo)&&void 0!==v&&v.length?function or(R){return R.map(v=>{var{providerId:C}=v,L=(0,Z._T)(v,["providerId"]);return{providerId:C,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}(y.providerUserInfo):[],g=function is(R,v){return[...R.filter(L=>!v.some(ie=>ie.providerId===L.providerId)),...v]}(R.providerData,_),ne=!!R.isAnonymous&&!(R.email&&y.passwordHash||g?.length),_e={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:g,metadata:new Vr(y.createdAt,y.lastLoginAt),isAnonymous:ne};Object.assign(R,_e)}),_r.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(R){const v=(0,I.m9)(R);yield di(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(R,v){const C=yield wt(R,{},(0,f.Z)(function*(){const L=(0,I.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:ie,apiKey:y}=R.config,_=Lt(R,ie,"/v1/token",`key=${y}`),g=yield R._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",En.fetch()(_,{method:"POST",headers:g,body:L})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){Qe(v.idToken,"internal-error"),Qe(typeof v.idToken<"u","internal-error"),Qe(typeof v.refreshToken<"u","internal-error");const C="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function qt(R){const v=un(R);return Qe(v,"internal-error"),Qe(typeof v.exp<"u","internal-error"),Qe(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,C)}getToken(v,C=!1){var L=this;return(0,f.Z)(function*(){return Qe(!L.accessToken||L.refreshToken,v,"user-token-expired"),C||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(v,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,C){var L=this;return(0,f.Z)(function*(){const{accessToken:ie,refreshToken:y,expiresIn:_}=yield function Pi(R,v){return Jr.apply(this,arguments)}(v,C);L.updateTokensAndExpiration(ie,y,Number(_))})()}updateTokensAndExpiration(v,C,L){this.refreshToken=C||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(v,C){const{refreshToken:L,accessToken:ie,expirationTime:y}=C,_=new Je;return L&&(Qe("string"==typeof L,"internal-error",{appName:v}),_.refreshToken=L),ie&&(Qe("string"==typeof ie,"internal-error",{appName:v}),_.accessToken=ie),y&&(Qe("number"==typeof y,"internal-error",{appName:v}),_.expirationTime=y),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function Se(R,v){Qe("string"==typeof R||typeof R>"u","internal-error",{appName:v})}class xe{constructor(v){var{uid:C,auth:L,stsTokenManager:ie}=v,y=(0,Z._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=L,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Vr(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(v){var C=this;return(0,f.Z)(function*(){const L=yield Yn(C,C.stsTokenManager.getToken(C.auth,v));return Qe(L,C.auth,"internal-error"),C.accessToken!==L&&(C.accessToken=L,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),L})()}getIdTokenResult(v){return function Tn(R){return Kn.apply(this,arguments)}(this,v)}reload(){return function Fi(R){return jn.apply(this,arguments)}(this)}_assign(v){this!==v&&(Qe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(C=>Object.assign({},C)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new xe(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,C=!1){var L=this;return(0,f.Z)(function*(){let ie=!1;v.idToken&&v.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(v),ie=!0),C&&(yield di(L)),yield L.auth._persistUserIfCurrent(L),ie&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var v=this;return(0,f.Z)(function*(){const C=yield v.getIdToken();return yield Yn(v,function Lr(R,v){return rs.apply(this,arguments)}(v.auth,{idToken:C})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,C){var L,ie,y,_,g,b,H,ne;const _e=null!==(L=C.displayName)&&void 0!==L?L:void 0,Ie=null!==(ie=C.email)&&void 0!==ie?ie:void 0,Ze=null!==(y=C.phoneNumber)&&void 0!==y?y:void 0,ft=null!==(_=C.photoURL)&&void 0!==_?_:void 0,Vt=null!==(g=C.tenantId)&&void 0!==g?g:void 0,$t=null!==(b=C._redirectEventId)&&void 0!==b?b:void 0,On=null!==(H=C.createdAt)&&void 0!==H?H:void 0,tn=null!==(ne=C.lastLoginAt)&&void 0!==ne?ne:void 0,{uid:Ut,emailVerified:Sn,isAnonymous:gr,providerData:Nr,stsTokenManager:Ls}=C;Qe(Ut&&Ls,v,"internal-error");const Wr=Je.fromJSON(this.name,Ls);Qe("string"==typeof Ut,v,"internal-error"),Se(_e,v.name),Se(Ie,v.name),Qe("boolean"==typeof Sn,v,"internal-error"),Qe("boolean"==typeof gr,v,"internal-error"),Se(Ze,v.name),Se(ft,v.name),Se(Vt,v.name),Se($t,v.name),Se(On,v.name),Se(tn,v.name);const Ds=new xe({uid:Ut,auth:v,email:Ie,emailVerified:Sn,displayName:_e,isAnonymous:gr,photoURL:ft,phoneNumber:Ze,tenantId:Vt,stsTokenManager:Wr,createdAt:On,lastLoginAt:tn});return Nr&&Array.isArray(Nr)&&(Ds.providerData=Nr.map(Ca=>Object.assign({},Ca))),$t&&(Ds._redirectEventId=$t),Ds}static _fromIdTokenResponse(v,C,L=!1){return(0,f.Z)(function*(){const ie=new Je;ie.updateFromServerResponse(C);const y=new xe({uid:C.localId,auth:v,stsTokenManager:ie,isAnonymous:L});return yield di(y),y})()}}const ge=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(C,L){var ie=this;return(0,f.Z)(function*(){ie.storage[C]=L})()}_get(C){var L=this;return(0,f.Z)(function*(){const ie=L.storage[C];return void 0===ie?null:ie})()}_remove(C){var L=this;return(0,f.Z)(function*(){delete L.storage[C]})()}_addListener(C,L){}_removeListener(C,L){}}return R.type="NONE",R})();function ve(R,v,C){return`firebase:${R}:${v}:${C}`}class Ce{constructor(v,C,L){this.persistence=v,this.auth=C,this.userKey=L;const{config:ie,name:y}=this.auth;this.fullUserKey=ve(this.userKey,ie.apiKey,y),this.fullPersistenceKey=ve("persistence",ie.apiKey,y),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,f.Z)(function*(){const C=yield v.persistence._get(v.fullUserKey);return C?xe._fromJSON(v.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var C=this;return(0,f.Z)(function*(){if(C.persistence===v)return;const L=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=v,L?C.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,C,L="authUser"){return(0,f.Z)(function*(){if(!C.length)return new Ce(qe(ge),v,L);const ie=(yield Promise.all(C.map(function(){var H=(0,f.Z)(function*(ne){if(yield ne._isAvailable())return ne});return function(ne){return H.apply(this,arguments)}}()))).filter(H=>H);let y=ie[0]||qe(ge);const _=ve(L,v.config.apiKey,v.name);let g=null;for(const H of C)try{const ne=yield H._get(_);if(ne){const _e=xe._fromJSON(v,ne);H!==y&&(g=_e),y=H;break}}catch{}const b=ie.filter(H=>H._shouldAllowMigration);return y._shouldAllowMigration&&b.length?(y=b[0],g&&(yield y._set(_,g.toJSON())),yield Promise.all(C.map(function(){var H=(0,f.Z)(function*(ne){if(ne!==y)try{yield ne._remove(_)}catch{}});return function(ne){return H.apply(this,arguments)}}())),new Ce(y,v,L)):new Ce(y,v,L)})()}}function st(R){const v=R.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Oe(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Fe(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(he(v))return"Blackberry";if(Ae(v))return"Webos";if(Nt(v))return"Safari";if((v.includes("chrome/")||Wt(v))&&!v.includes("edge/"))return"Chrome";if(Pe(v))return"Android";{const L=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===L?.length)return L[1]}return"Other"}function Fe(R=(0,I.z$)()){return/firefox\//i.test(R)}function Nt(R=(0,I.z$)()){const v=R.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Wt(R=(0,I.z$)()){return/crios\//i.test(R)}function Oe(R=(0,I.z$)()){return/iemobile/i.test(R)}function Pe(R=(0,I.z$)()){return/android/i.test(R)}function he(R=(0,I.z$)()){return/blackberry/i.test(R)}function Ae(R=(0,I.z$)()){return/webos/i.test(R)}function Ke(R=(0,I.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Dr(R=(0,I.z$)()){return Ke(R)||Pe(R)||Ae(R)||he(R)||/windows phone/i.test(R)||Oe(R)}function pt(R,v=[]){let C;switch(R){case"Browser":C=st((0,I.z$)());break;case"Worker":C=`${st((0,I.z$)())}-${R}`;break;default:C=R}const L=v.length?v.join(","):"FirebaseCore-web";return`${C}/JsCore/${te.Jn}/${L}`}class tt{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,C){const L=y=>new Promise((_,g)=>{try{_(v(y))}catch(b){g(b)}});L.onAbort=C,this.queue.push(L);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(v){var C=this;return(0,f.Z)(function*(){if(C.auth.currentUser===v)return;const L=[];try{for(const ie of C.queue)yield ie(v),ie.onAbort&&L.push(ie.onAbort)}catch(ie){L.reverse();for(const y of L)try{y()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:ie?.message})}})()}}class xt{constructor(v,C,L){this.app=v,this.heartbeatServiceProvider=C,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pn(this),this.idTokenSubscription=new Pn(this),this.beforeStateQueue=new tt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(v,C){var L=this;return C&&(this._popupRedirectResolver=qe(C)),this._initializationPromise=this.queue((0,f.Z)(function*(){var ie,y;if(!L._deleted&&(L.persistenceManager=yield Ce.create(L,v),!L._deleted)){if(null!==(ie=L._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch{}yield L.initializeCurrentUser(C),L.lastNotifiedUid=(null===(y=L.currentUser)||void 0===y?void 0:y.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,f.Z)(function*(){if(v._deleted)return;const C=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||C){if(v.currentUser&&C&&v.currentUser.uid===C.uid)return v._currentUser._assign(C),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(C,!0)}})()}initializeCurrentUser(v){var C=this;return(0,f.Z)(function*(){var L;const ie=yield C.assertedPersistence.getCurrentUser();let y=ie,_=!1;if(v&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const g=null===(L=C.redirectUser)||void 0===L?void 0:L._redirectEventId,b=y?._redirectEventId,H=yield C.tryRedirectSignIn(v);(!g||g===b)&&H?.user&&(y=H.user,_=!0)}if(!y)return C.directlySetCurrentUser(null);if(!y._redirectEventId){if(_)try{yield C.beforeStateQueue.runMiddleware(y)}catch(g){y=ie,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(g))}return y?C.reloadAndSetCurrentUserOrClear(y):C.directlySetCurrentUser(null)}return Qe(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===y._redirectEventId?C.directlySetCurrentUser(y):C.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(v){var C=this;return(0,f.Z)(function*(){let L=null;try{L=yield C._popupRedirectResolver._completeRedirectFn(C,v,!0)}catch{yield C._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(v){var C=this;return(0,f.Z)(function*(){try{yield di(v)}catch(L){if("auth/network-request-failed"!==L?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function dn(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var v=this;return(0,f.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var C=this;return(0,f.Z)(function*(){const L=v?(0,I.m9)(v):null;return L&&Qe(L.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(L&&L._clone(C))})()}_updateCurrentUser(v,C=!1){var L=this;return(0,f.Z)(function*(){if(!L._deleted)return v&&Qe(L.tenantId===v.tenantId,L,"tenant-id-mismatch"),C||(yield L.beforeStateQueue.runMiddleware(v)),L.queue((0,f.Z)(function*(){yield L.directlySetCurrentUser(v),L.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,f.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var C=this;return this.queue((0,f.Z)(function*(){yield C.assertedPersistence.setPersistence(qe(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new I.LL("auth","Firebase",v())}onAuthStateChanged(v,C,L){return this.registerStateListener(this.authStateSubscription,v,C,L)}beforeAuthStateChanged(v,C){return this.beforeStateQueue.pushCallback(v,C)}onIdTokenChanged(v,C,L){return this.registerStateListener(this.idTokenSubscription,v,C,L)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,C){var L=this;return(0,f.Z)(function*(){const ie=yield L.getOrInitRedirectPersistenceManager(C);return null===v?ie.removeCurrentUser():ie.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var C=this;return(0,f.Z)(function*(){if(!C.redirectPersistenceManager){const L=v&&qe(v)||C._popupRedirectResolver;Qe(L,C,"argument-error"),C.redirectPersistenceManager=yield Ce.create(C,[qe(L._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(v){var C=this;return(0,f.Z)(function*(){var L,ie;return C._isInitialized&&(yield C.queue((0,f.Z)(function*(){}))),(null===(L=C._currentUser)||void 0===L?void 0:L._redirectEventId)===v?C._currentUser:(null===(ie=C.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===v?C.redirectUser:null})()}_persistUserIfCurrent(v){var C=this;return(0,f.Z)(function*(){if(v===C.currentUser)return C.queue((0,f.Z)(function*(){return C.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(C=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,C,L,ie){if(this._deleted)return()=>{};const y="function"==typeof C?C:C.next.bind(C),_=this._isInitialized?Promise.resolve():this._initializationPromise;return Qe(_,this,"internal-error"),_.then(()=>y(this.currentUser)),"function"==typeof C?v.addObserver(C,L,ie):v.addObserver(C)}directlySetCurrentUser(v){var C=this;return(0,f.Z)(function*(){C.currentUser&&C.currentUser!==v&&C._currentUser._stopProactiveRefresh(),v&&C.isProactiveRefreshEnabled&&v._startProactiveRefresh(),C.currentUser=v,v?yield C.assertedPersistence.setCurrentUser(v):yield C.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,f.Z)(function*(){var C;const L={"X-Client-Version":v.clientVersion};v.app.options.appId&&(L["X-Firebase-gmpid"]=v.app.options.appId);const ie=yield null===(C=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return ie&&(L["X-Firebase-Client"]=ie),L})()}}function Zt(R){return(0,I.m9)(R)}class Pn{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,I.ne)(C=>this.observer=C)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cn(R){const v=R.indexOf(":");return v<0?"":R.substr(0,v+1)}function nr(R){if(!R)return null;const v=Number(R);return isNaN(v)?null:v}class ti{constructor(v,C){this.providerId=v,this.signInMethod=C}toJSON(){return Mt("not implemented")}_getIdTokenResponse(v){return Mt("not implemented")}_linkToIdToken(v,C){return Mt("not implemented")}_getReauthenticationResolver(v){return Mt("not implemented")}}function ss(R,v){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(R,v){return hn(R,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(R,v){return Ue(R,"POST","/v1/accounts:signInWithPassword",Mn(R,v))})).apply(this,arguments)}function Ee(){return(Ee=(0,f.Z)(function*(R,v){return Ue(R,"POST","/v1/accounts:signInWithEmailLink",Mn(R,v))})).apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(R,v){return Ue(R,"POST","/v1/accounts:signInWithEmailLink",Mn(R,v))})).apply(this,arguments)}class gt extends ti{constructor(v,C,L,ie=null){super("password",L),this._email=v,this._password=C,this._tenantId=ie}static _fromEmailAndPassword(v,C){return new gt(v,C,"password")}static _fromEmailAndCode(v,C,L=null){return new gt(v,C,"emailLink",L)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(v){var C=this;return(0,f.Z)(function*(){switch(C.signInMethod){case"password":return function pn(R,v){return An.apply(this,arguments)}(v,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Is(R,v){return Ee.apply(this,arguments)}(v,{email:C._email,oobCode:C._password});default:rt(v,"internal-error")}})()}_linkToIdToken(v,C){var L=this;return(0,f.Z)(function*(){switch(L.signInMethod){case"password":return ss(v,{idToken:C,returnSecureToken:!0,email:L._email,password:L._password});case"emailLink":return function ot(R,v){return Ge.apply(this,arguments)}(v,{idToken:C,email:L._email,oobCode:L._password});default:rt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Ht(R,v){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(R,v){return Ue(R,"POST","/v1/accounts:signInWithIdp",Mn(R,v))})).apply(this,arguments)}class hr extends ti{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const C=new hr(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(C.idToken=v.idToken),v.accessToken&&(C.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(C.nonce=v.nonce),v.pendingToken&&(C.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(C.accessToken=v.oauthToken,C.secret=v.oauthTokenSecret):rt("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v,{providerId:L,signInMethod:ie}=C,y=(0,Z._T)(C,["providerId","signInMethod"]);if(!L||!ie)return null;const _=new hr(L,ie);return _.idToken=y.idToken||void 0,_.accessToken=y.accessToken||void 0,_.secret=y.secret,_.nonce=y.nonce,_.pendingToken=y.pendingToken||null,_}_getIdTokenResponse(v){return Ht(v,this.buildRequest())}_linkToIdToken(v,C){const L=this.buildRequest();return L.idToken=C,Ht(v,L)}_getReauthenticationResolver(v){const C=this.buildRequest();return C.autoCreate=!1,Ht(v,C)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),v.postBody=(0,I.xO)(C)}return v}}class sr{constructor(v){var C,L,ie,y,_,g;const b=(0,I.zd)((0,I.pd)(v)),H=null!==(C=b.apiKey)&&void 0!==C?C:null,ne=null!==(L=b.oobCode)&&void 0!==L?L:null,_e=function Ws(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=b.mode)&&void 0!==ie?ie:null);Qe(H&&ne&&_e,"argument-error"),this.apiKey=H,this.operation=_e,this.code=ne,this.continueUrl=null!==(y=b.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(_=b.languageCode)&&void 0!==_?_:null,this.tenantId=null!==(g=b.tenantId)&&void 0!==g?g:null}static parseLink(v){const C=function Gi(R){const v=(0,I.zd)((0,I.pd)(R)).link,C=v?(0,I.zd)((0,I.pd)(v)).deep_link_id:null,L=(0,I.zd)((0,I.pd)(R)).deep_link_id;return(L?(0,I.zd)((0,I.pd)(L)).link:null)||L||C||v||R}(v);try{return new sr(C)}catch{return null}}}let bi=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(C,L){return gt._fromEmailAndPassword(C,L)}static credentialWithLink(C,L){const ie=sr.parseLink(L);return Qe(ie,"argument-error"),gt._fromEmailAndCode(C,ie.code,ie.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Ms{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Hn extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}let no=(()=>{class R extends Hn{constructor(){super("google.com"),this.addScope("profile")}static credential(C,L){return hr._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:L})}static credentialFromResult(C){return R.credentialFromTaggedObject(C)}static credentialFromError(C){return R.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:L,oauthAccessToken:ie}=C;if(!L&&!ie)return null;try{return R.credential(L,ie)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})();function po(R,v){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(R,v){return Ue(R,"POST","/v1/accounts:signUp",Mn(R,v))})).apply(this,arguments)}class os{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,C,L,ie=!1){return(0,f.Z)(function*(){const y=yield xe._fromIdTokenResponse(v,L,ie),_=ro(L);return new os({user:y,providerId:_,_tokenResponse:L,operationType:C})})()}static _forOperation(v,C,L){return(0,f.Z)(function*(){yield v._updateTokensIfNecessary(L,!0);const ie=ro(L);return new os({user:v,providerId:ie,_tokenResponse:L,operationType:C})})()}}function ro(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}class Vo extends I.ZR{constructor(v,C,L,ie){var y;super(C.code,C.message),this.operationType=L,this.user=ie,Object.setPrototypeOf(this,Vo.prototype),this.customData={appName:v.name,tenantId:null!==(y=v.tenantId)&&void 0!==y?y:void 0,_serverResponse:C.customData._serverResponse,operationType:L}}static _fromErrorAndOperation(v,C,L,ie){return new Vo(v,C,L,ie)}}function Ps(R,v,C,L){return("reauthenticate"===v?C._getReauthenticationResolver(R):C._getIdTokenResponse(R)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?Vo._fromErrorAndOperation(R,y,v,L):y})}function ws(R,v){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(R,v,C=!1){const L=yield Yn(R,v._linkToIdToken(R.auth,yield R.getIdToken()),C);return os._forOperation(R,"link",L)})).apply(this,arguments)}function Va(R,v){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(R,v,C=!1){const{auth:L}=R,ie="reauthenticate";try{const y=yield Yn(R,Ps(L,ie,v,R),C);Qe(y.idToken,L,"internal-error");const _=un(y.idToken);Qe(_,L,"internal-error");const{sub:g}=_;return Qe(R.uid===g,L,"user-mismatch"),os._forOperation(R,ie,y)}catch(y){throw"auth/user-not-found"===y?.code&&rt(L,"user-mismatch"),y}})).apply(this,arguments)}function Qi(R,v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,f.Z)(function*(R,v,C=!1){const L="signIn",ie=yield Ps(R,L,v),y=yield os._fromIdTokenResponse(R,L,ie);return C||(yield R._updateCurrentUser(y.user)),y})).apply(this,arguments)}function vi(R,v){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(R,v){return Qi(Zt(R),v)})).apply(this,arguments)}function et(R,v,C){return on.apply(this,arguments)}function on(){return(on=(0,f.Z)(function*(R,v,C){const L=Zt(R),ie=yield po(L,{returnSecureToken:!0,email:v,password:C}),y=yield os._fromIdTokenResponse(L,"signIn",ie);return yield L._updateCurrentUser(y.user),y})).apply(this,arguments)}function $r(R,v,C){return vi((0,I.m9)(R),bi.credential(v,C))}class oo{constructor(v,C,L={}){this.isNewUser=v,this.providerId=C,this.profile=L}}class Zi extends oo{constructor(v,C,L,ie){super(v,C,L),this.username=ie}}class Qo extends oo{constructor(v,C){super(v,"facebook.com",C)}}class Za extends Zi{constructor(v,C){super(v,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class Pl extends oo{constructor(v,C){super(v,"google.com",C)}}class li extends Zi{constructor(v,C,L){super(v,"twitter.com",C,L)}}function Bs(R){const{user:v,_tokenResponse:C}=R;return v.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function _o(R){var v,C;if(!R)return null;const{providerId:L}=R,ie=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},y=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!L&&R?.idToken){const _=null===(C=null===(v=un(R.idToken))||void 0===v?void 0:v.firebase)||void 0===C?void 0:C.sign_in_provider;if(_)return new oo(y,"anonymous"!==_&&"custom"!==_?_:null)}if(!L)return null;switch(L){case"facebook.com":return new Qo(y,ie);case"github.com":return new Za(y,ie);case"google.com":return new Pl(y,ie);case"twitter.com":return new li(y,ie,R.screenName||null);case"custom":case"anonymous":return new oo(y,null);default:return new oo(y,L,ie)}}(C)}function Xa(R,v,C,L){return(0,I.m9)(R).onAuthStateChanged(v,C,L)}function Ys(R){return(0,I.m9)(R).signOut()}const dt="__sak";class P{constructor(v,C){this.storageRetriever=v,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(dt,"1"),this.storage.removeItem(dt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,C){return this.storage.setItem(v,JSON.stringify(C)),Promise.resolve()}_get(v){const C=this.storage.getItem(v);return Promise.resolve(C?JSON.parse(C):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const ht=(()=>{class R extends P{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,L)=>this.onStorageEvent(C,L),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Q(){const R=(0,I.z$)();return Nt(R)||Ke(R)}()&&function Ti(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const L of Object.keys(this.listeners)){const ie=this.storage.getItem(L),y=this.localCache[L];ie!==y&&C(L,y,ie)}}onStorageEvent(C,L=!1){if(!C.key)return void this.forAllChangedKeys((g,b,H)=>{this.notifyListeners(g,H)});const ie=C.key;if(L?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const g=this.storage.getItem(ie);if(C.newValue!==g)null!==C.newValue?this.storage.setItem(ie,C.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===C.newValue&&!L)return}const y=()=>{const g=this.storage.getItem(ie);!L&&this.localCache[ie]===g||this.notifyListeners(ie,g)},_=this.storage.getItem(ie);!function Xn(){return(0,I.w1)()&&10===document.documentMode}()||_===C.newValue||C.newValue===C.oldValue?y():setTimeout(y,10)}notifyListeners(C,L){this.localCache[C]=L;const ie=this.listeners[C];if(ie)for(const y of Array.from(ie))y(L&&JSON.parse(L))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,L,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:L,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,L){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(L)}_removeListener(C,L){this.listeners[C]&&(this.listeners[C].delete(L),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,L){var ie=()=>super._set,y=this;return(0,f.Z)(function*(){yield ie().call(y,C,L),y.localCache[C]=JSON.stringify(L)})()}_get(C){var L=()=>super._get,ie=this;return(0,f.Z)(function*(){const y=yield L().call(ie,C);return ie.localCache[C]=JSON.stringify(y),y})()}_remove(C){var L=()=>super._remove,ie=this;return(0,f.Z)(function*(){yield L().call(ie,C),delete ie.localCache[C]})()}}return R.type="LOCAL",R})(),nn=(()=>{class R extends P{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,L){}_removeListener(C,L){}}return R.type="SESSION",R})();let Rr=(()=>{class R{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const L=this.receivers.find(y=>y.isListeningto(C));if(L)return L;const ie=new R(C);return this.receivers.push(ie),ie}isListeningto(C){return this.eventTarget===C}handleEvent(C){var L=this;return(0,f.Z)(function*(){const ie=C,{eventId:y,eventType:_,data:g}=ie.data,b=L.handlersMap[_];if(!b?.size)return;ie.ports[0].postMessage({status:"ack",eventId:y,eventType:_});const H=Array.from(b).map(function(){var _e=(0,f.Z)(function*(Ie){return Ie(ie.origin,g)});return function(Ie){return _e.apply(this,arguments)}}()),ne=yield function Zr(R){return Promise.all(R.map(function(){var v=(0,f.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(L){return{fulfilled:!1,reason:L}}});return function(C){return v.apply(this,arguments)}}()))}(H);ie.ports[0].postMessage({status:"done",eventId:y,eventType:_,response:ne})})()}_subscribe(C,L){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(L)}_unsubscribe(C,L){this.handlersMap[C]&&L&&this.handlersMap[C].delete(L),(!L||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function Wn(R="",v=10){let C="";for(let L=0;L<v;L++)C+=Math.floor(10*Math.random());return R+C}class fr{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,C,L=50){var ie=this;return(0,f.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let _,g;return new Promise((b,H)=>{const ne=Wn("",20);y.port1.start();const _e=setTimeout(()=>{H(new Error("unsupported_event"))},L);g={messageChannel:y,onMessage(Ie){const Ze=Ie;if(Ze.data.eventId===ne)switch(Ze.data.status){case"ack":clearTimeout(_e),_=setTimeout(()=>{H(new Error("timeout"))},3e3);break;case"done":clearTimeout(_),b(Ze.data.response);break;default:clearTimeout(_e),clearTimeout(_),H(new Error("invalid_response"))}}},ie.handlers.add(g),y.port1.addEventListener("message",g.onMessage),ie.target.postMessage({eventType:v,eventId:ne,data:C},[y.port2])}).finally(()=>{g&&ie.removeMessageHandler(g)})})()}}function $n(){return window}function Fr(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function pr(){return(pr=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vn="firebaseLocalStorageDb",Jo=1,xr="firebaseLocalStorage",Yt="fbase_key";class lo{constructor(v){this.request=v}toPromise(){return new Promise((v,C)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function ba(R,v){return R.transaction([xr],v?"readwrite":"readonly").objectStore(xr)}function ya(){const R=indexedDB.open(Vn,Jo);return new Promise((v,C)=>{R.addEventListener("error",()=>{C(R.error)}),R.addEventListener("upgradeneeded",()=>{const L=R.result;try{L.createObjectStore(xr,{keyPath:Yt})}catch(ie){C(ie)}}),R.addEventListener("success",(0,f.Z)(function*(){const L=R.result;L.objectStoreNames.contains(xr)?v(L):(L.close(),yield function ea(){const R=indexedDB.deleteDatabase(Vn);return new lo(R).toPromise()}(),v(yield ya()))}))})}function ys(R,v,C){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(R,v,C){const L=ba(R,!0).put({[Yt]:v,value:C});return new lo(L).toPromise()})).apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(R,v){const C=ba(R,!1).get(v),L=yield new lo(C).toPromise();return void 0===L?null:L.value})).apply(this,arguments)}function cl(R,v){const C=ba(R,!0).delete(v);return new lo(C).toPromise()}const ou=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,f.Z)(function*(){return C.db||(C.db=yield ya()),C.db})()}_withRetries(C){var L=this;return(0,f.Z)(function*(){let ie=0;for(;;)try{const y=yield L._openDb();return yield C(y)}catch(y){if(ie++>3)throw y;L.db&&(L.db.close(),L.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,f.Z)(function*(){return Fr()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,f.Z)(function*(){C.receiver=Rr._getInstance(function Ji(){return Fr()?self:null}()),C.receiver._subscribe("keyChanged",function(){var L=(0,f.Z)(function*(ie,y){return{keyProcessed:(yield C._poll()).includes(y.key)}});return function(ie,y){return L.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var L=(0,f.Z)(function*(ie,y){return["keyChanged"]});return function(ie,y){return L.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,f.Z)(function*(){var L,ie;if(C.activeServiceWorker=yield function ao(){return pr.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new fr(C.activeServiceWorker);const y=yield C.sender._send("ping",{},800);y&&null!==(L=y[0])&&void 0!==L&&L.fulfilled&&null!==(ie=y[0])&&void 0!==ie&&ie.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var L=this;return(0,f.Z)(function*(){if(L.sender&&L.activeServiceWorker&&function yn(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===L.activeServiceWorker)try{yield L.sender._send("keyChanged",{key:C},L.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const C=yield ya();return yield ys(C,dt,"1"),yield cl(C,dt),!0}catch{}return!1})()}_withPendingWrite(C){var L=this;return(0,f.Z)(function*(){L.pendingWrites++;try{yield C()}finally{L.pendingWrites--}})()}_set(C,L){var ie=this;return(0,f.Z)(function*(){return ie._withPendingWrite((0,f.Z)(function*(){return yield ie._withRetries(y=>ys(y,C,L)),ie.localCache[C]=L,ie.notifyServiceWorker(C)}))})()}_get(C){var L=this;return(0,f.Z)(function*(){const ie=yield L._withRetries(y=>function ta(R,v){return Aa.apply(this,arguments)}(y,C));return L.localCache[C]=ie,ie})()}_remove(C){var L=this;return(0,f.Z)(function*(){return L._withPendingWrite((0,f.Z)(function*(){return yield L._withRetries(ie=>cl(ie,C)),delete L.localCache[C],L.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,f.Z)(function*(){const L=yield C._withRetries(_=>{const g=ba(_,!1).getAll();return new lo(g).toPromise()});if(!L)return[];if(0!==C.pendingWrites)return[];const ie=[],y=new Set;for(const{fbase_key:_,value:g}of L)y.add(_),JSON.stringify(C.localCache[_])!==JSON.stringify(g)&&(C.notifyListeners(_,g),ie.push(_));for(const _ of Object.keys(C.localCache))C.localCache[_]&&!y.has(_)&&(C.notifyListeners(_,null),ie.push(_));return ie})()}notifyListeners(C,L){this.localCache[C]=L;const ie=this.listeners[C];if(ie)for(const y of Array.from(ie))y(L)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,L){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(L)}_removeListener(C,L){this.listeners[C]&&(this.listeners[C].delete(L),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function es(R){return`__${R}${Math.floor(1e6*Math.random())}`}function us(R,v){return v?qe(v):(Qe(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}es("rcb"),new Kt(3e4,6e4);class Gr extends ti{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Ht(v,this._buildIdpRequest())}_linkToIdToken(v,C){return Ht(v,this._buildIdpRequest(C))}_getReauthenticationResolver(v){return Ht(v,this._buildIdpRequest())}_buildIdpRequest(v){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(C.idToken=v),C}}function A(R){return Qi(R.auth,new Gr(R),R.bypassAuthState)}function O(R){const{auth:v,user:C}=R;return Qe(C,v,"internal-error"),Va(C,new Gr(R),R.bypassAuthState)}function T(R){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(R){const{auth:v,user:C}=R;return Qe(C,v,"internal-error"),ws(C,new Gr(R),R.bypassAuthState)})).apply(this,arguments)}class W{constructor(v,C,L,ie,y=!1){this.auth=v,this.resolver=L,this.user=ie,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var v=this;return new Promise(function(){var C=(0,f.Z)(function*(L,ie){v.pendingPromise={resolve:L,reject:ie};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(y){v.reject(y)}});return function(L,ie){return C.apply(this,arguments)}}())}onAuthEvent(v){var C=this;return(0,f.Z)(function*(){const{urlResponse:L,sessionId:ie,postBody:y,tenantId:_,error:g,type:b}=v;if(g)return void C.reject(g);const H={auth:C.auth,requestUri:L,sessionId:ie,tenantId:_||void 0,postBody:y||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(b)(H))}catch(ne){C.reject(ne)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return A;case"linkViaPopup":case"linkViaRedirect":return T;case"reauthViaPopup":case"reauthViaRedirect":return O;default:rt(this.auth,"internal-error")}}resolve(v){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oe=new Kt(2e3,1e4);function pe(R,v,C){return je.apply(this,arguments)}function je(){return(je=(0,f.Z)(function*(R,v,C){const L=Zt(R);!function Dt(R,v,C){if(!(v instanceof C))throw C.name!==v.constructor.name&&rt(R,"argument-error"),Re(R,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(R,v,Ms);const ie=us(L,C);return new kr(L,"signInViaPopup",v,ie).executeNotNull()})).apply(this,arguments)}let kr=(()=>{class R extends W{constructor(C,L,ie,y,_){super(C,L,y,_),this.provider=ie,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var C=this;return(0,f.Z)(function*(){const L=yield C.execute();return Qe(L,C.auth,"internal-error"),L})()}onExecution(){var C=this;return(0,f.Z)(function*(){Tt(1===C.filter.length,"Popup operations only handle one event");const L=Wn();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],L),C.authWindow.associatedEvent=L,C.resolver._originValidation(C.auth).catch(ie=>{C.reject(ie)}),C.resolver._isIframeWebStorageSupported(C.auth,ie=>{ie||C.reject(ke(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const C=()=>{var L,ie;this.pollId=null!==(ie=null===(L=this.authWindow)||void 0===L?void 0:L.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,oe.get())};C()}}return R.currentPopupAction=null,R})();const vs="pendingRedirect",fi=new Map;class Ra extends W{constructor(v,C,L=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,L),this.eventId=null}execute(){var v=()=>super.execute,C=this;return(0,f.Z)(function*(){let L=fi.get(C.auth._key());if(!L){try{const y=(yield function Bi(R,v){return Wa.apply(this,arguments)}(C.resolver,C.auth))?yield v().call(C):null;L=()=>Promise.resolve(y)}catch(ie){L=()=>Promise.reject(ie)}fi.set(C.auth._key(),L)}return C.bypassAuthState||fi.set(C.auth._key(),()=>Promise.resolve(null)),L()})()}onAuthEvent(v){var C=()=>super.onAuthEvent,L=this;return(0,f.Z)(function*(){if("signInViaRedirect"===v.type)return C().call(L,v);if("unknown"!==v.type){if(v.eventId){const ie=yield L.auth._redirectUserForId(v.eventId);if(ie)return L.user=ie,C().call(L,v);L.resolve(null)}}else L.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Wa(){return(Wa=(0,f.Z)(function*(R,v){const C=function gl(R){return ve(vs,R.config.apiKey,R.name)}(v),L=function rl(R){return qe(R._redirectPersistence)}(R);if(!(yield L._isAvailable()))return!1;const ie="true"===(yield L._get(C));return yield L._remove(C),ie})).apply(this,arguments)}function pi(R,v){fi.set(R._key(),v)}function au(R,v){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,f.Z)(function*(R,v){return yield Zt(R)._initializationPromise,Ka(R,v,!1)})).apply(this,arguments)}function Ka(R,v){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(R,v,C=!1){const L=Zt(R),ie=us(L,v),_=yield new Ra(L,ie,C).execute();return _&&!C&&(delete _.user._redirectEventId,yield L._persistUserIfCurrent(_.user),yield L._setRedirectUser(null,v)),_})).apply(this,arguments)}class xi{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let C=!1;return this.consumers.forEach(L=>{this.isEventForConsumer(v,L)&&(C=!0,this.sendToConsumer(v,L),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function mi(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ss(R);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=v,C=!0)),C}sendToConsumer(v,C){var L;if(v.error&&!Ss(v)){const ie=(null===(L=v.error.code)||void 0===L?void 0:L.split("auth/")[1])||"internal-error";C.onError(ke(this.auth,ie))}else C.onAuthEvent(v)}isEventForConsumer(v,C){const L=null===C.eventId||!!v.eventId&&v.eventId===C.eventId;return C.filter.includes(v.type)&&L}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(v))}saveEventToCache(v){this.cachedEventUids.add(oa(v)),this.lastProcessedEventTime=Date.now()}}function oa(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(v=>v).join("-")}function Ss({type:R,error:v}){return"unknown"===R&&"auth/no-auth-event"===v?.code}function Zs(){return(Zs=(0,f.Z)(function*(R,v={}){return hn(R,"GET","/v1/projects",v)})).apply(this,arguments)}const Es=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hs=/^https?/;function ci(){return ci=(0,f.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:v}=yield function Ul(R){return Zs.apply(this,arguments)}(R);for(const C of v)try{if(uu(C))return}catch{}rt(R,"unauthorized-domain")}),ci.apply(this,arguments)}function uu(R){const v=_t(),{protocol:C,hostname:L}=new URL(v);if(R.startsWith("chrome-extension://")){const _=new URL(R);return""===_.hostname&&""===L?"chrome-extension:"===C&&R.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===C&&_.hostname===L}if(!Hs.test(C))return!1;if(Es.test(R))return L===R;const ie=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(L)}const Vl=new Kt(3e4,6e4);function _l(){const R=$n().___jsl;if(R?.H)for(const v of Object.keys(R.H))if(R.H[v].r=R.H[v].r||[],R.H[v].L=R.H[v].L||[],R.H[v].r=[...R.H[v].L],R.CP)for(let C=0;C<R.CP.length;C++)R.CP[C]=null}let La=null;function Bl(R){return La=La||function co(R){return new Promise((v,C)=>{var L,ie,y;function _(){_l(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{_l(),C(ke(R,"network-request-failed"))},timeout:Vl.get()})}if(null!==(ie=null===(L=$n().gapi)||void 0===L?void 0:L.iframes)&&void 0!==ie&&ie.Iframe)v(gapi.iframes.getContext());else{if(null===(y=$n().gapi)||void 0===y||!y.load){const g=es("iframefcb");return $n()[g]=()=>{gapi.load?_():C(ke(R,"network-request-failed"))},function xl(R){return new Promise((v,C)=>{const L=document.createElement("script");L.setAttribute("src",R),L.onload=v,L.onerror=ie=>{const y=ke("internal-error");y.customData=ie,C(y)},L.type="text/javascript",L.charset="UTF-8",function Ts(){var R,v;return null!==(v=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==v?v:document}().appendChild(L)})}(`https://apis.google.com/js/api.js?onload=${g}`).catch(b=>C(b))}_()}}).catch(v=>{throw La=null,v})}(R),La}const cu=new Kt(5e3,15e3),$u="__/auth/iframe",ji="emulator/auth/iframe",du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(R){const v=R.config;Qe(v.authDomain,R,"auth-domain-config-required");const C=v.emulator?Ln(v,ji):`https://${R.config.authDomain}/${$u}`,L={apiKey:v.apiKey,appName:R.name,v:te.Jn},ie=Xl.get(R.config.apiHost);ie&&(L.eid=ie);const y=R._getFrameworks();return y.length&&(L.fw=y.join(",")),`${C}?${(0,I.xO)(L).slice(1)}`}function jl(){return jl=(0,f.Z)(function*(R){const v=yield Bl(R),C=$n().gapi;return Qe(C,R,"internal-error"),v.open({where:document.body,url:Gu(R),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:du,dontclear:!0},L=>new Promise(function(){var ie=(0,f.Z)(function*(y,_){yield L.restyle({setHideOnLeave:!1});const g=ke(R,"network-request-failed"),b=$n().setTimeout(()=>{_(g)},cu.get());function H(){$n().clearTimeout(b),y(L)}L.ping(H).then(H,()=>{_(g)})});return function(y,_){return ie.apply(this,arguments)}}()))}),jl.apply(this,arguments)}const wu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aa=500,cs=600,Jl="_blank",Hl="http://localhost";class vl{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const eu="__/auth/handler",hu="emulator/auth/handler";function fu(R,v,C,L,ie,y){Qe(R.config.authDomain,R,"auth-domain-config-required"),Qe(R.config.apiKey,R,"invalid-api-key");const _={apiKey:R.config.apiKey,appName:R.name,authType:C,redirectUrl:L,v:te.Jn,eventId:ie};if(v instanceof Ms){v.setDefaultLanguage(R.languageCode),_.providerId=v.providerId||"",(0,I.xb)(v.getCustomParameters())||(_.customParameters=JSON.stringify(v.getCustomParameters()));for(const[b,H]of Object.entries(y||{}))_[b]=H}if(v instanceof Hn){const b=v.getScopes().filter(H=>""!==H);b.length>0&&(_.scopes=b.join(","))}R.tenantId&&(_.tid=R.tenantId);const g=_;for(const b of Object.keys(g))void 0===g[b]&&delete g[b];return`${function Tu({config:R}){return R.emulator?Ln(R,hu):`https://${R.authDomain}/${eu}`}(R)}?${(0,I.xO)(g).slice(1)}`}const pu="webStorageSupport",bu=class Su{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nn,this._completeRedirectFn=Ka,this._overrideRedirectResult=pi}_openPopup(v,C,L,ie){var y=this;return(0,f.Z)(function*(){var _;Tt(null===(_=y.eventManagers[v._key()])||void 0===_?void 0:_.manager,"_initialize() not called before _openPopup()");const g=fu(v,C,L,_t(),ie);return function No(R,v,C,L=aa,ie=cs){const y=Math.max((window.screen.availHeight-ie)/2,0).toString(),_=Math.max((window.screen.availWidth-L)/2,0).toString();let g="";const b=Object.assign(Object.assign({},wu),{width:L.toString(),height:ie.toString(),top:y,left:_}),H=(0,I.z$)().toLowerCase();C&&(g=Wt(H)?Jl:C),Fe(H)&&(v=v||Hl,b.scrollbars="yes");const ne=Object.entries(b).reduce((Ie,[Ze,ft])=>`${Ie}${Ze}=${ft},`,"");if(function rn(R=(0,I.z$)()){var v;return Ke(R)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(H)&&"_self"!==g)return function Eo(R,v){const C=document.createElement("a");C.href=R,C.target=v;const L=document.createEvent("MouseEvent");L.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(L)}(v||"",g),new vl(null);const _e=window.open(v||"",g,ne);Qe(_e,R,"popup-blocked");try{_e.focus()}catch{}return new vl(_e)}(v,g,Wn())})()}_openRedirect(v,C,L,ie){var y=this;return(0,f.Z)(function*(){return yield y._originValidation(v),function sn(R){$n().location.href=R}(fu(v,C,L,_t(),ie)),new Promise(()=>{})})()}_initialize(v){const C=v._key();if(this.eventManagers[C]){const{manager:ie,promise:y}=this.eventManagers[C];return ie?Promise.resolve(ie):(Tt(y,"If manager is not set, promise should be"),y)}const L=this.initAndGetManager(v);return this.eventManagers[C]={promise:L},L.catch(()=>{delete this.eventManagers[C]}),L}initAndGetManager(v){var C=this;return(0,f.Z)(function*(){const L=yield function Wu(R){return jl.apply(this,arguments)}(v),ie=new xi(v);return L.register("authEvent",y=>(Qe(y?.authEvent,v,"invalid-auth-event"),{status:ie.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[v._key()]={manager:ie},C.iframes[v._key()]=L,ie})()}_isIframeWebStorageSupported(v,C){this.iframes[v._key()].send(pu,{type:pu},ie=>{var y;const _=null===(y=ie?.[0])||void 0===y?void 0:y[pu];void 0!==_&&C(!!_),rt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const C=v._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function lu(R){return ci.apply(this,arguments)}(v)),this.originValidationPromises[C]}get _shouldInitProactively(){return Dr()||Nt()||Ke()}};var $s="@firebase/auth";class Lo{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var C=this;return(0,f.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const C=this.auth.onIdTokenChanged(L=>{v(L?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,C),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const C=this.internalListeners.get(v);C&&(this.internalListeners.delete(v),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fa=(0,I.Pz)("authIdTokenMaxAge")||300;let El=null;const Dl=R=>function(){var v=(0,f.Z)(function*(C){const L=C&&(yield C.getIdTokenResult()),ie=L&&((new Date).getTime()-Date.parse(L.issuedAtTime))/1e3;if(ie&&ie>Fa)return;const y=L?.token;El!==y&&(El=y,yield fetch(R,{method:y?"POST":"DELETE",headers:y?{Authorization:`Bearer ${y}`}:{}}))});return function(C){return v.apply(this,arguments)}}();function Cl(R=(0,te.Mq)()){const v=(0,te.qX)(R,"auth");if(v.isInitialized())return v.getImmediate();const C=function at(R,v){const C=(0,te.qX)(R,"auth");if(C.isInitialized()){const ie=C.getImmediate(),y=C.getOptions();if((0,I.vZ)(y,v??{}))return ie;rt(ie,"already-initialized")}return C.initialize({options:v})}(R,{popupRedirectResolver:bu,persistence:[ou,ht,nn]}),L=(0,I.Pz)("authTokenSyncURL");if(L){const y=Dl(L);(function $a(R,v,C){(0,I.m9)(R).beforeAuthStateChanged(v,C)})(C,y,()=>y(C.currentUser)),function Ha(R,v,C,L){(0,I.m9)(R).onIdTokenChanged(v,C,L)}(C,_=>y(_))}const ie=(0,I.q4)("auth");return ie&&function Qn(R,v,C){const L=Zt(R);Qe(L._canInitEmulator,L,"emulator-config-failed"),Qe(/^https?:\/\//.test(v),L,"invalid-emulator-scheme");const ie=!!C?.disableWarnings,y=cn(v),{host:_,port:g}=function dr(R){const v=cn(R),C=/(\/\/)?([^?#/]+)/.exec(R.substr(v.length));if(!C)return{host:"",port:null};const L=C[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(L);if(ie){const y=ie[1];return{host:y,port:nr(L.substr(y.length+1))}}{const[y,_]=L.split(":");return{host:y,port:nr(_)}}}(v);L.config.emulator={url:`${y}//${_}${null===g?"":`:${g}`}/`},L.settings.appVerificationDisabledForTesting=!0,L.emulatorConfig=Object.freeze({host:_,port:g,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function ei(){function R(){const v=document.createElement("p"),C=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}(C,`http://${ie}`),C}!function ts(R){(0,te.Xd)(new se.wA("auth",(v,{options:C})=>{const L=v.getProvider("app").getImmediate(),ie=v.getProvider("heartbeat"),{apiKey:y,authDomain:_}=L.options;return((g,b)=>{Qe(y&&!y.includes(":"),"invalid-api-key",{appName:g.name}),Qe(!_?.includes(":"),"argument-error",{appName:g.name});const H={apiKey:y,authDomain:_,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pt(R)},ne=new xt(g,b,H);return function Xe(R,v){const C=v?.persistence||[],L=(Array.isArray(C)?C:[C]).map(qe);v?.errorMap&&R._updateErrorMap(v.errorMap),R._initializeWithPersistence(L,v?.popupRedirectResolver)}(ne,C),ne})(L,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,C,L)=>{v.getProvider("auth-internal").initialize()})),(0,te.Xd)(new se.wA("auth-internal",v=>{const C=Zt(v.getProvider("auth").getImmediate());return new Lo(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.KN)($s,"0.21.3",function Fo(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,te.KN)($s,"0.21.3","esm2017")}("Browser")},6197:(Te,ae,D)=>{D.d(ae,{iU:()=>Wr,U2:()=>uc,N8:()=>Eh,nP:()=>Gc,S1:()=>Fs,ae:()=>Ds,jM:()=>$l,VF:()=>Ca,iH:()=>Nr,Od:()=>Ia,Bt:()=>Ch,t8:()=>Ni,Vx:()=>Il});var f=D(9671),I=D(6881),te=D(4859),B=D(2090),Z=D(1877);const se="@firebase/database";let K="";class q{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,B.Wl)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,B.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class ue{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,B.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const fe=function(h){try{if(typeof window<"u"&&typeof window[h]<"u"){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new q(u)}}catch{}return new ue},Ne=fe("localStorage"),$e=fe("sessionStorage"),Be=new Z.Yd("@firebase/database"),Ye=function(){let h=1;return function(){return h++}}(),Ve=function(h){const u=(0,B.dS)(h),c=new B.gQ;c.update(u);const E=c.digest();return B.US.encodeByteArray(E)},We=function(...h){let u="";for(let c=0;c<h.length;c++){const E=h[c];Array.isArray(E)||E&&"object"==typeof E&&"number"==typeof E.length?u+=We.apply(null,E):u+="object"==typeof E?(0,B.Wl)(E):E,u+=" "}return u};let ze=null,rt=!0;const Re=function(...h){if(!0===rt&&(rt=!1,null===ze&&!0===$e.get("logging_enabled")&&function(h,u){(0,B.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Be.logLevel=Z.in.VERBOSE,ze=Be.log.bind(Be),u&&$e.set("logging_enabled",!0)):"function"==typeof h?ze=h:(ze=null,$e.remove("logging_enabled"))}(!0)),ze){const u=We.apply(null,h);ze(u)}},Dt=function(h){return function(...u){Re(h,...u)}},Ct=function(...h){const u="FIREBASE INTERNAL ERROR: "+We(...h);Be.error(u)},Qe=function(...h){const u=`FIREBASE FATAL ERROR: ${We(...h)}`;throw Be.error(u),new Error(u)},Mt=function(...h){const u="FIREBASE WARNING: "+We(...h);Be.warn(u)},nt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},at="[MIN_NAME]",Xe="[MAX_NAME]",_t=function(h,u){if(h===u)return 0;if(h===at||u===Xe)return-1;if(u===at||h===Xe)return 1;{const c=wt(h),E=wt(u);return null!==c?null!==E?c-E==0?h.length-u.length:c-E:-1:null!==E?1:h<u?-1:1}},bt=function(h,u){return h===u?0:h<u?-1:1},fn=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,B.Wl)(u))},rr=function(h){if("object"!=typeof h||null===h)return(0,B.Wl)(h);const u=[];for(const E in h)u.push(E);u.sort();let c="{";for(let E=0;E<u.length;E++)0!==E&&(c+=","),c+=(0,B.Wl)(u[E]),c+=":",c+=rr(h[u[E]]);return c+="}",c},dn=function(h,u){const c=h.length;if(c<=u)return[h];const E=[];for(let M=0;M<c;M+=u)E.push(h.substring(M,M+u>c?c:M+u));return E};function Kt(h,u){for(const c in h)h.hasOwnProperty(c)&&u(c,h[c])}const Ln=function(h){(0,B.hu)(!nt(h),"Invalid JSON number");const E=1023;let M,j,Y,me,be;0===h?(j=0,Y=0,M=1/h==-1/0?1:0):(M=h<0,(h=Math.abs(h))>=Math.pow(2,1-E)?(me=Math.min(Math.floor(Math.log(h)/Math.LN2),E),j=me+E,Y=Math.round(h*Math.pow(2,52-me)-Math.pow(2,52))):(j=0,Y=Math.round(h/Math.pow(2,-1074))));const Le=[];for(be=52;be;be-=1)Le.push(Y%2?1:0),Y=Math.floor(Y/2);for(be=11;be;be-=1)Le.push(j%2?1:0),j=Math.floor(j/2);Le.push(M?1:0),Le.reverse();const vt=Le.join("");let It="";for(be=0;be<64;be+=8){let Ot=parseInt(vt.substr(be,8),2).toString(16);1===Ot.length&&(Ot="0"+Ot),It+=Ot}return It.toLowerCase()},Mn=new RegExp("^-?(0*)\\d{1,10}$"),wt=function(h){if(Mn.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},ct=function(h){try{h()}catch(u){setTimeout(()=>{throw Mt("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Ue=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yt=function(h,u){const c=setTimeout(h,u);return"number"==typeof c&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Lt{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=c?.getImmediate({optional:!0}),this.appCheck||c?.get().then(E=>this.appCheck=E)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,E)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,E):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(E=>E.addTokenListener(u))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Un{constructor(u,c,E){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=E,this.auth_=null,this.auth_=E.getImmediate({optional:!0}),this.auth_||E.onInit(M=>this.auth_=M)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,E)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,E):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(u)}}let Zn=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const qr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kn="websocket",cr="long_polling";class un{constructor(u,c,E,M,j=!1,Y="",me=!1,be=!1){this.secure=c,this.namespace=E,this.webSocketOnly=M,this.nodeAdmin=j,this.persistenceKey=Y,this.includeNamespaceInQueryParams=me,this.isUsingEmulator=be,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ne.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Ne.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Yn(h,u,c){let E;if((0,B.hu)("string"==typeof u,"typeof type must == string"),(0,B.hu)("object"==typeof c,"typeof params must == object"),u===Kn)E=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==cr)throw new Error("Unknown connection type: "+u);E=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function qt(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const M=[];return Kt(c,(j,Y)=>{M.push(j+"="+Y)}),E+M.join("&")}class yi{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,B.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,B.p$)(this.counters_)}}const Ur={},gi={};function Vr(h){const u=h.toString();return Ur[u]||(Ur[u]=new yi),Ur[u]}class _r{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const E=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let M=0;M<E.length;++M)E[M]&&ct(()=>{this.onMessage_(E[M])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Oe{constructor(u,c,E,M,j,Y,me){this.connId=u,this.repoInfo=c,this.applicationId=E,this.appCheckToken=M,this.authToken=j,this.transportSessionId=Y,this.lastSessionId=me,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dt(u),this.stats_=Vr(c),this.urlFn=be=>(this.appCheckToken&&(be.ac=this.appCheckToken),Yn(c,cr,be))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new _r(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,B.Yr)()||"complete"===document.readyState)h();else{let u=!1;const c=function(){document.body?u||(u=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pe((...j)=>{const[Y,me,be,Le,vt]=j;if(this.incrementIncomingBytes_(j),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Y)this.id=me,this.password=be;else{if("close"!==Y)throw new Error("Unrecognized command received: "+Y);me?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(me,()=>{this.onClosed_()})):this.onClosed_()}},(...j)=>{const[Y,me]=j;this.incrementIncomingBytes_(j),this.myPacketOrderer.handleResponse(Y,me)},()=>{this.onClosed_()},this.urlFn);const E={start:"t"};E.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(E.cb=this.scriptTagHolder.uniqueCallbackIdentifier),E.v="5",this.transportSessionId&&(E.s=this.transportSessionId),this.lastSessionId&&(E.ls=this.lastSessionId),this.applicationId&&(E.p=this.applicationId),this.appCheckToken&&(E.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&qr.test(location.hostname)&&(E.r="f");const M=this.urlFn(E);this.log_("Connecting via long-poll to "+M),this.scriptTagHolder.addTag(M,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Oe.forceAllow_=!0}static forceDisallow(){Oe.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Oe.forceAllow_&&(Oe.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,B.Wl)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const E=(0,B.h$)(c),M=dn(E,1840);for(let j=0;j<M.length;j++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[j]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const E={dframe:"t"};E.id=u,E.pw=c,this.myDisconnFrame.src=this.urlFn(E),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,B.Wl)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class Pe{constructor(u,c,E,M){if(this.onDisconnect=E,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Ye(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=Pe.createIFrame_();let j="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(j='<script>document.domain="'+document.domain+'";<\/script>');const Y="<html><body>"+j+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Y),this.myIFrame.doc.close()}catch(me){Re("frame writing exception"),me.stack&&Re(me.stack),Re(me)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||Re("No IE domain setting required")}catch{const E=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+E+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),E="",M=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+E.length<=1870;){const Y=this.pendingSegs.shift();E=E+"&seg"+M+"="+Y.seg+"&ts"+M+"="+Y.ts+"&d"+M+"="+Y.d,M++}return c+=E,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,E){this.pendingSegs.push({seg:u,ts:c,d:E}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const E=()=>{this.outstandingRequests.delete(c),this.newRequest_()},M=setTimeout(E,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(M),E()})}addTag(u,c){(0,B.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const E=this.myIFrame.doc.createElement("script");E.type="text/javascript",E.async=!0,E.src=u,E.onload=E.onreadystatechange=function(){const M=E.readyState;(!M||"loaded"===M||"complete"===M)&&(E.onload=E.onreadystatechange=null,E.parentNode&&E.parentNode.removeChild(E),c())},E.onerror=()=>{Re("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(E)}catch{}},Math.floor(1))}}let Ke=null;typeof MozWebSocket<"u"?Ke=MozWebSocket:typeof WebSocket<"u"&&(Ke=WebSocket);let kt=(()=>{class h{constructor(c,E,M,j,Y,me,be){this.connId=c,this.applicationId=M,this.appCheckToken=j,this.authToken=Y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dt(this.connId),this.stats_=Vr(E),this.connURL=h.connectionURL_(E,me,be,j,M),this.nodeAdmin=E.nodeAdmin}static connectionURL_(c,E,M,j,Y){const me={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&qr.test(location.hostname)&&(me.r="f"),E&&(me.s=E),M&&(me.ls=M),j&&(me.ac=j),Y&&(me.p=Y),Yn(c,Kn,me)}open(c,E){this.onDisconnect=E,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ne.set("previous_websocket_failure",!0);try{let M;if((0,B.Yr)()){M={headers:{"User-Agent":`Firebase/5/${K}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(M.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Y=process.env,me=0===this.connURL.indexOf("wss://")?Y.HTTPS_PROXY||Y.https_proxy:Y.HTTP_PROXY||Y.http_proxy;me&&(M.proxy={origin:me})}this.mySock=new Ke(this.connURL,[],M)}catch(M){this.log_("Error instantiating WebSocket.");const j=M.message||M.data;return j&&this.log_(j),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=M=>{this.handleIncomingFrame(M)},this.mySock.onerror=M=>{this.log_("WebSocket error.  Closing connection.");const j=M.message||M.data;j&&this.log_(j),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if(typeof navigator<"u"&&navigator.userAgent){const M=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);M&&M.length>1&&parseFloat(M[1])<4.4&&(c=!0)}return!c&&null!==Ke&&!h.forceDisallow_}static previouslyFailed(){return Ne.isInMemoryStorage||!0===Ne.get("previous_websocket_failure")}markConnectionHealthy(){Ne.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const E=this.frames.join("");this.frames=null;const M=(0,B.cI)(E);this.onMessage(M)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const E=Number(c);if(!isNaN(E))return this.handleNewFrameCount_(E),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const E=c.data;if(this.bytesReceived+=E.length,this.stats_.incrementCounter("bytes_received",E.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(E);else{const M=this.extractFrameCount_(E);null!==M&&this.appendFrame_(M)}}send(c){this.resetKeepAlive();const E=(0,B.Wl)(c);this.bytesSent+=E.length,this.stats_.incrementCounter("bytes_sent",E.length);const M=dn(E,16384);M.length>1&&this.sendString_(String(M.length));for(let j=0;j<M.length;j++)this.sendString_(M[j])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(E){this.log_("Exception thrown from WebSocket.send():",E.message||E.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),rn=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Oe,kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const E=kt&&kt.isAvailable();let M=E&&!kt.previouslyFailed();if(c.webSocketOnly&&(E||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),M=!0),M)this.transports_=[kt];else{const j=this.transports_=[];for(const Y of h.ALL_TRANSPORTS)Y&&Y.isAvailable()&&j.push(Y);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class bs{constructor(u,c,E,M,j,Y,me,be,Le,vt){this.id=u,this.repoInfo_=c,this.applicationId_=E,this.appCheckToken_=M,this.authToken_=j,this.onMessage_=Y,this.onReady_=me,this.onDisconnect_=be,this.onKill_=Le,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dt("c:"+this.id+":"),this.transportManager_=new rn(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),E=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,E)},Math.floor(0));const M=u.healthyTimeout||0;M>0&&(this.healthyTimeout_=yt(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(M)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=fn("t",u),E=fn("d",u);if("c"===c)this.onSecondaryControl_(E);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(E)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=fn("t",u),E=fn("d",u);"c"===c?this.onControl_(E):"d"===c&&this.onDataMessage_(E)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=fn("t",u);if("d"in u){const E=u.d;if("h"===c){const M=Object.assign({},E);this.repoInfo_.isUsingEmulator&&(M.h=this.repoInfo_.host),this.onHandshake_(M)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(E):"r"===c?this.onReset_(E):"e"===c?Ct("Server Error: "+E):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ct("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,E=u.v,M=u.h;this.sessionId=u.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==E&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),E=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,E),yt(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yt(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ne.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ki{put(u,c,E,M){}merge(u,c,E,M){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,E){}onDisconnectMerge(u,c,E){}onDisconnectCancel(u,c){}reportStats(u){}}class ss{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,B.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const E=[...this.listeners_[u]];for(let M=0;M<E.length;M++)E[M].callback.apply(E[M].context,c)}}on(u,c,E){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:E});const M=this.getInitialEvent(u);M&&c.apply(E,M)}off(u,c,E){this.validateEventType_(u);const M=this.listeners_[u]||[];for(let j=0;j<M.length;j++)if(M[j].callback===c&&(!E||E===M[j].context))return void M.splice(j,1)}validateEventType_(u){(0,B.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class Br extends ss{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Br}getInitialEvent(u){return(0,B.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}const Bt=32,bn=768;class pn{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let E=0;for(let M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[E]=this.pieces_[M],E++);this.pieces_.length=E,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function An(){return new pn("")}function Dn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function tr(h){return h.pieces_.length-h.pieceNum_}function mr(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new pn(h.pieces_,u)}function br(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function _i(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function Rn(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)u.push(h.pieces_[c]);return new pn(u,0)}function vr(h,u){const c=[];for(let E=h.pieceNum_;E<h.pieces_.length;E++)c.push(h.pieces_[E]);if(u instanceof pn)for(let E=u.pieceNum_;E<u.pieces_.length;E++)c.push(u.pieces_[E]);else{const E=u.split("/");for(let M=0;M<E.length;M++)E[M].length>0&&c.push(E[M])}return new pn(c,0)}function xn(h){return h.pieceNum_>=h.pieces_.length}function Yr(h,u){const c=Dn(h),E=Dn(u);if(null===c)return u;if(c===E)return Yr(mr(h),mr(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function Is(h,u){const c=_i(h,0),E=_i(u,0);for(let M=0;M<c.length&&M<E.length;M++){const j=_t(c[M],E[M]);if(0!==j)return j}return c.length===E.length?0:c.length<E.length?-1:1}function Ee(h,u){if(tr(h)!==tr(u))return!1;for(let c=h.pieceNum_,E=u.pieceNum_;c<=h.pieces_.length;c++,E++)if(h.pieces_[c]!==u.pieces_[E])return!1;return!0}function ot(h,u){let c=h.pieceNum_,E=u.pieceNum_;if(tr(h)>tr(u))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==u.pieces_[E])return!1;++c,++E}return!0}class Ge{constructor(u,c){this.errorPrefix_=c,this.parts_=_i(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let E=0;E<this.parts_.length;E++)this.byteLength_+=(0,B.ug)(this.parts_[E]);zt(this)}}function zt(h){if(h.byteLength_>bn)throw new Error(h.errorPrefix_+"has a key path longer than "+bn+" bytes ("+h.byteLength_+").");if(h.parts_.length>Bt)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bt+") or object contains a cycle "+Xt(h))}function Xt(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class hr extends ss{constructor(){let u,c;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(c="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(c="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(c="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const E=!document[u];E!==this.visible_&&(this.visible_=E,this.trigger("visible",E))},!1)}static getInstance(){return new hr}getInitialEvent(u){return(0,B.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const ar=1e3;let Ws,ri=(()=>{class h extends ki{constructor(c,E,M,j,Y,me,be,Le){if(super(),this.repoInfo_=c,this.applicationId_=E,this.onDataUpdate_=M,this.onConnectStatus_=j,this.onServerInfoUpdate_=Y,this.authTokenProvider_=me,this.appCheckTokenProvider_=be,this.authOverride_=Le,this.id=h.nextPersistentConnectionId_++,this.log_=Dt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ar,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Le&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hr.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Br.getInstance().on("online",this.onOnline_,this)}sendRequest(c,E,M){const j=++this.requestNumber_,Y={r:j,a:c,b:E};this.log_((0,B.Wl)(Y)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Y),M&&(this.requestCBHash_[j]=M)}get(c){this.initConnection_();const E=new B.BH,j={action:"g",request:{p:c._path.toString(),q:c._queryObject},onComplete:me=>{const be=me.d;"ok"===me.s?E.resolve(be):E.reject(be)}};return this.outstandingGets_.push(j),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),E.promise}listen(c,E,M,j){this.initConnection_();const Y=c._queryIdentifier,me=c._path.toString();this.log_("Listen called for "+me+" "+Y),this.listens.has(me)||this.listens.set(me,new Map),(0,B.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(me).has(Y),"listen() called twice for same path/queryId.");const be={onComplete:j,hashFn:E,query:c,tag:M};this.listens.get(me).set(Y,be),this.connected_&&this.sendListen_(be)}sendGet_(c){const E=this.outstandingGets_[c];this.sendRequest("g",E.request,M=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),E.onComplete&&E.onComplete(M)})}sendListen_(c){const E=c.query,M=E._path.toString(),j=E._queryIdentifier;this.log_("Listen on "+M+" for "+j);const Y={p:M};c.tag&&(Y.q=E._queryObject,Y.t=c.tag),Y.h=c.hashFn(),this.sendRequest("q",Y,be=>{const Le=be.d,vt=be.s;h.warnOnListenWarnings_(Le,E),(this.listens.get(M)&&this.listens.get(M).get(j))===c&&(this.log_("listen response",be),"ok"!==vt&&this.removeListen_(M,j),c.onComplete&&c.onComplete(vt,Le))})}static warnOnListenWarnings_(c,E){if(c&&"object"==typeof c&&(0,B.r3)(c,"w")){const M=(0,B.DV)(c,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){const j='".indexOn": "'+E._queryParams.getIndex().toString()+'"',Y=E._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${j} at ${Y} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,B.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,E=(0,B.w9)(c)?"auth":"gauth",M={cred:c};null===this.authOverride_?M.noauth=!0:"object"==typeof this.authOverride_&&(M.authvar=this.authOverride_),this.sendRequest(E,M,j=>{const Y=j.s,me=j.d||"error";this.authToken_===c&&("ok"===Y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Y,me))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const E=c.s,M=c.d||"error";"ok"===E?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(E,M)})}unlisten(c,E){const M=c._path.toString(),j=c._queryIdentifier;this.log_("Unlisten called for "+M+" "+j),(0,B.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,j)&&this.connected_&&this.sendUnlisten_(M,j,c._queryObject,E)}sendUnlisten_(c,E,M,j){this.log_("Unlisten on "+c+" for "+E);const Y={p:c};j&&(Y.q=M,Y.t=j),this.sendRequest("n",Y)}onDisconnectPut(c,E,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,E,M):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:E,onComplete:M})}onDisconnectMerge(c,E,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,E,M):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:E,onComplete:M})}onDisconnectCancel(c,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,E):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:E})}sendOnDisconnect_(c,E,M,j){const Y={p:E,d:M};this.log_("onDisconnect "+c,Y),this.sendRequest(c,Y,me=>{j&&setTimeout(()=>{j(me.s,me.d)},Math.floor(0))})}put(c,E,M,j){this.putInternal("p",c,E,M,j)}merge(c,E,M,j){this.putInternal("m",c,E,M,j)}putInternal(c,E,M,j,Y){this.initConnection_();const me={p:E,d:M};void 0!==Y&&(me.h=Y),this.outstandingPuts_.push({action:c,request:me,onComplete:j}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+E)}sendPut_(c){const E=this.outstandingPuts_[c].action,M=this.outstandingPuts_[c].request,j=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(E,M,Y=>{this.log_(E+" response",Y),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),j&&j(Y.s,Y.d)})}reportStats(c){if(this.connected_){const E={c};this.log_("reportStats",E),this.sendRequest("s",E,M=>{"ok"!==M.s&&this.log_("reportStats","Error sending stats: "+M.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,B.Wl)(c));const E=c.r,M=this.requestCBHash_[E];M&&(delete this.requestCBHash_[E],M(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,E){this.log_("handleServerMessage",c,E),"d"===c?this.onDataUpdate_(E.p,E.d,!1,E.t):"m"===c?this.onDataUpdate_(E.p,E.d,!0,E.t):"c"===c?this.onListenRevoked_(E.p,E.q):"ac"===c?this.onAuthRevoked_(E.s,E.d):"apc"===c?this.onAppCheckRevoked_(E.s,E.d):"sd"===c?this.onSecurityDebugPacket_(E):Ct("Unrecognized action received from server: "+(0,B.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,E){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=E,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ar,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=ar,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ar),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let E=Math.max(0,this.reconnectDelay_-c);E=Math.random()*E,this.log_("Trying to reconnect in "+E+"ms"),this.scheduleConnect_(E),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,f.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const E=c.onDataMessage_.bind(c),M=c.onReady_.bind(c),j=c.onRealtimeDisconnect_.bind(c),Y=c.id+":"+h.nextConnectionId_++,me=c.lastSessionId;let be=!1,Le=null;const vt=function(){Le?Le.close():(be=!0,j())};c.realtime_={close:vt,sendRequest:function(_n){(0,B.hu)(Le,"sendRequest call when we're not connected not allowed."),Le.sendRequest(_n)}};const Ot=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[_n,zn]=yield Promise.all([c.authTokenProvider_.getToken(Ot),c.appCheckTokenProvider_.getToken(Ot)]);be?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),c.authToken_=_n&&_n.accessToken,c.appCheckToken_=zn&&zn.token,Le=new bs(Y,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,E,M,j,Ii=>{Mt(Ii+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},me))}catch(_n){c.log_("Failed to get token: "+_n),be||(c.repoInfo_.nodeAdmin&&Mt(_n),vt())}}})()}interrupt(c){Re("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){Re("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ar,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const E=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:E})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const E=this.outstandingPuts_[c];E&&"h"in E.request&&E.queued&&(E.onComplete&&E.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,E){let M;M=E?E.map(Y=>rr(Y)).join("$"):"default";const j=this.removeListen_(c,M);j&&j.onComplete&&j.onComplete("permission_denied")}removeListen_(c,E){const M=new pn(c).toString();let j;if(this.listens.has(M)){const Y=this.listens.get(M);j=Y.get(E),Y.delete(E),0===Y.size&&this.listens.delete(M)}else j=void 0;return j}onAuthRevoked_(c,E){Re("Auth token revoked: "+c+"/"+E),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,E){Re("App check token revoked: "+c+"/"+E),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const E of c.values())this.sendListen_(E);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let E="js";(0,B.Yr)()&&(E=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+E+"."+K.replace(/\./g,"-")]=1,(0,B.uI)()?c["framework.cordova"]=1:(0,B.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Br.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Cn{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new Cn(u,c)}}class As{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const E=new Cn(at,u),M=new Cn(at,c);return 0!==this.compare(E,M)}minPost(){return Cn.MIN}}class Gi extends As{static get __EMPTY_NODE(){return Ws}static set __EMPTY_NODE(u){Ws=u}compare(u,c){return _t(u.name,c.name)}isDefinedOn(u){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return Cn.MIN}maxPost(){return new Cn(Xe,Ws)}makePost(u,c){return(0,B.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Cn(u,Ws)}toString(){return".key"}}const sr=new Gi;class to{constructor(u,c,E,M,j=null){this.isReverse_=M,this.resultGenerator_=j,this.nodeStack_=[];let Y=1;for(;!u.isEmpty();)if(Y=c?E(u.key,c):1,M&&(Y*=-1),Y<0)u=this.isReverse_?u.left:u.right;else{if(0===Y){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let no,bi=(()=>{class h{constructor(c,E,M,j,Y){this.key=c,this.value=E,this.color=M??h.RED,this.left=j??Hn.EMPTY_NODE,this.right=Y??Hn.EMPTY_NODE}copy(c,E,M,j,Y){return new h(c??this.key,E??this.value,M??this.color,j??this.left,Y??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,E,M){let j=this;const Y=M(c,j.key);return j=Y<0?j.copy(null,null,null,j.left.insert(c,E,M),null):0===Y?j.copy(null,E,null,null,null):j.copy(null,null,null,null,j.right.insert(c,E,M)),j.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hn.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,E){let M,j;if(M=this,E(c,M.key)<0)!M.left.isEmpty()&&!M.left.isRed_()&&!M.left.left.isRed_()&&(M=M.moveRedLeft_()),M=M.copy(null,null,null,M.left.remove(c,E),null);else{if(M.left.isRed_()&&(M=M.rotateRight_()),!M.right.isEmpty()&&!M.right.isRed_()&&!M.right.left.isRed_()&&(M=M.moveRedRight_()),0===E(c,M.key)){if(M.right.isEmpty())return Hn.EMPTY_NODE;j=M.right.min_(),M=M.copy(j.key,j.value,null,null,M.right.removeMin_())}M=M.copy(null,null,null,null,M.right.remove(c,E))}return M.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),E=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,E)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class Hn{constructor(u,c=Hn.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new Hn(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,bi.BLACK,null,null))}remove(u){return new Hn(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,bi.BLACK,null,null))}get(u){let c,E=this.root_;for(;!E.isEmpty();){if(c=this.comparator_(u,E.key),0===c)return E.value;c<0?E=E.left:c>0&&(E=E.right)}return null}getPredecessorKey(u){let c,E=this.root_,M=null;for(;!E.isEmpty();){if(c=this.comparator_(u,E.key),0===c){if(E.left.isEmpty())return M?M.key:null;for(E=E.left;!E.right.isEmpty();)E=E.right;return E.key}c<0?E=E.left:c>0&&(M=E,E=E.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new to(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new to(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new to(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new to(this.root_,null,this.comparator_,!0,u)}}function fo(h,u){return _t(h.name,u.name)}function zs(h,u){return _t(h,u)}Hn.EMPTY_NODE=new class Ms{copy(u,c,E,M,j){return this}insert(u,c,E){return new bi(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Uo=function(h){return"number"==typeof h?"number:"+Ln(h):"string:"+h},To=function(h){if(h.isLeafNode()){const u=h.val();(0,B.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,B.r3)(u,".sv"),"Priority must be a string or number.")}else(0,B.hu)(h===no||h.isEmpty(),"priority of unexpected type.");(0,B.hu)(h===no||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let So,Ta,po,Wi=(()=>{class h{constructor(c,E=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=E,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),To(this.priorityNode_)}static set __childrenNodeConstructor(c){So=c}static get __childrenNodeConstructor(){return So}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return xn(c)?this:".priority"===Dn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,E){return null}updateImmediateChild(c,E){return".priority"===c?this.updatePriority(E):E.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,E).updatePriority(this.priorityNode_)}updateChild(c,E){const M=Dn(c);return null===M?E:E.isEmpty()&&".priority"!==M?this:((0,B.hu)(".priority"!==M||1===tr(c),".priority must be the last token in a path"),this.updateImmediateChild(M,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(mr(c),E)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,E){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+Uo(this.priorityNode_.val())+":");const E=typeof this.value_;c+=E+":",c+="number"===E?Ln(this.value_):this.value_,this.lazyHash_=Ve(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,B.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const E=typeof c.value_,M=typeof this.value_,j=h.VALUE_TYPE_ORDER.indexOf(E),Y=h.VALUE_TYPE_ORDER.indexOf(M);return(0,B.hu)(j>=0,"Unknown leaf type: "+E),(0,B.hu)(Y>=0,"Unknown leaf type: "+M),j===Y?"object"===M?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:Y-j}withIndex(){return this}isIndexed(){return!0}equals(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const jr=new class ro extends As{compare(u,c){const E=u.node.getPriority(),M=c.node.getPriority(),j=E.compareTo(M);return 0===j?_t(u.name,c.name):j}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return Cn.MIN}maxPost(){return new Cn(Xe,new Wi("[PRIORITY-POST]",po))}makePost(u,c){const E=Ta(u);return new Cn(c,new Wi("[PRIORITY-POST]",E))}toString(){return".priority"}},go=Math.log(2);class Vo{constructor(u){this.count=parseInt(Math.log(u+1)/go,10),this.current_=this.count-1;const M=(j=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&M}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Ps=function(h,u,c,E){h.sort(u);const M=function(be,Le){const vt=Le-be;let It,Ot;if(0===vt)return null;if(1===vt)return It=h[be],Ot=c?c(It):It,new bi(Ot,It.node,bi.BLACK,null,null);{const _n=parseInt(vt/2,10)+be,zn=M(be,_n),Ii=M(_n+1,Le);return It=h[_n],Ot=c?c(It):It,new bi(Ot,It.node,bi.BLACK,zn,Ii)}},me=function(be){let Le=null,vt=null,It=h.length;const Ot=function(zn,Ii){const wo=It-zn,_u=It;It-=zn;const Gs=M(wo+1,_u),mc=h[wo],Ld=c?c(mc):mc;_n(new bi(Ld,mc.node,Ii,null,Gs))},_n=function(zn){Le?(Le.left=zn,Le=zn):(vt=zn,Le=zn)};for(let zn=0;zn<be.count;++zn){const Ii=be.nextBitIsOne(),wo=Math.pow(2,be.count-(zn+1));Ii?Ot(wo,bi.BLACK):(Ot(wo,bi.BLACK),Ot(wo,bi.RED))}return vt}(new Vo(h.length));return new Hn(E||u,me)};let io;const mo={};class fs{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,B.hu)(mo&&jr,"ChildrenNode.ts has not been loaded"),io=io||new fs({".priority":mo},{".priority":jr}),io}get(u){const c=(0,B.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof Hn?c:null}hasIndex(u){return(0,B.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,B.hu)(u!==sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const E=[];let M=!1;const j=c.getIterator(Cn.Wrap);let me,Y=j.getNext();for(;Y;)M=M||u.isDefinedOn(Y.node),E.push(Y),Y=j.getNext();me=M?Ps(E,u.getCompare()):mo;const be=u.toString(),Le=Object.assign({},this.indexSet_);Le[be]=u;const vt=Object.assign({},this.indexes_);return vt[be]=me,new fs(vt,Le)}addToIndexes(u,c){const E=(0,B.UI)(this.indexes_,(M,j)=>{const Y=(0,B.DV)(this.indexSet_,j);if((0,B.hu)(Y,"Missing index implementation for "+j),M===mo){if(Y.isDefinedOn(u.node)){const me=[],be=c.getIterator(Cn.Wrap);let Le=be.getNext();for(;Le;)Le.name!==u.name&&me.push(Le),Le=be.getNext();return me.push(u),Ps(me,Y.getCompare())}return mo}{const me=c.get(u.name);let be=M;return me&&(be=be.remove(new Cn(u.name,me))),be.insert(u,u.node)}});return new fs(E,this.indexSet_)}removeFromIndexes(u,c){const E=(0,B.UI)(this.indexes_,M=>{if(M===mo)return M;{const j=c.get(u.name);return j?M.remove(new Cn(u.name,j)):M}});return new fs(E,this.indexSet_)}}let ws,Fn=(()=>{class h{constructor(c,E,M){this.children_=c,this.priorityNode_=E,this.indexMap_=M,this.lazyHash_=null,this.priorityNode_&&To(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ws||(ws=new h(new Hn(zs),null,fs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const E=this.children_.get(c);return null===E?ws:E}}getChild(c){const E=Dn(c);return null===E?this:this.getImmediateChild(E).getChild(mr(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,E){if((0,B.hu)(E,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(E);{const M=new Cn(c,E);let j,Y;E.isEmpty()?(j=this.children_.remove(c),Y=this.indexMap_.removeFromIndexes(M,this.children_)):(j=this.children_.insert(c,E),Y=this.indexMap_.addToIndexes(M,this.children_));const me=j.isEmpty()?ws:this.priorityNode_;return new h(j,me,Y)}}updateChild(c,E){const M=Dn(c);if(null===M)return E;{(0,B.hu)(".priority"!==Dn(c)||1===tr(c),".priority must be the last token in a path");const j=this.getImmediateChild(M).updateChild(mr(c),E);return this.updateImmediateChild(M,j)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const E={};let M=0,j=0,Y=!0;if(this.forEachChild(jr,(me,be)=>{E[me]=be.val(c),M++,Y&&h.INTEGER_REGEXP_.test(me)?j=Math.max(j,Number(me)):Y=!1}),!c&&Y&&j<2*M){const me=[];for(const be in E)me[be]=E[be];return me}return c&&!this.getPriority().isEmpty()&&(E[".priority"]=this.getPriority().val()),E}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+Uo(this.getPriority().val())+":"),this.forEachChild(jr,(E,M)=>{const j=M.hash();""!==j&&(c+=":"+E+":"+j)}),this.lazyHash_=""===c?"":Ve(c)}return this.lazyHash_}getPredecessorChildName(c,E,M){const j=this.resolveIndex_(M);if(j){const Y=j.getPredecessorKey(new Cn(c,E));return Y?Y.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const E=this.resolveIndex_(c);if(E){const M=E.minKey();return M&&M.name}return this.children_.minKey()}getFirstChild(c){const E=this.getFirstChildName(c);return E?new Cn(E,this.children_.get(E)):null}getLastChildName(c){const E=this.resolveIndex_(c);if(E){const M=E.maxKey();return M&&M.name}return this.children_.maxKey()}getLastChild(c){const E=this.getLastChildName(c);return E?new Cn(E,this.children_.get(E)):null}forEachChild(c,E){const M=this.resolveIndex_(c);return M?M.inorderTraversal(j=>E(j.name,j.node)):this.children_.inorderTraversal(E)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,E){const M=this.resolveIndex_(E);if(M)return M.getIteratorFrom(c,j=>j);{const j=this.children_.getIteratorFrom(c.name,Cn.Wrap);let Y=j.peek();for(;null!=Y&&E.compare(Y,c)<0;)j.getNext(),Y=j.peek();return j}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,E){const M=this.resolveIndex_(E);if(M)return M.getReverseIteratorFrom(c,j=>j);{const j=this.children_.getReverseIteratorFrom(c.name,Cn.Wrap);let Y=j.peek();for(;null!=Y&&E.compare(Y,c)>0;)j.getNext(),Y=j.peek();return j}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Os?-1:0}withIndex(c){if(c===sr||this.indexMap_.hasIndex(c))return this;{const E=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,E)}}isIndexed(c){return c===sr||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const E=c;if(this.getPriority().equals(E.getPriority())){if(this.children_.count()===E.children_.count()){const M=this.getIterator(jr),j=E.getIterator(jr);let Y=M.getNext(),me=j.getNext();for(;Y&&me;){if(Y.name!==me.name||!Y.node.equals(me.node))return!1;Y=M.getNext(),me=j.getNext()}return null===Y&&null===me}return!1}return!1}}resolveIndex_(c){return c===sr?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const Os=new class yo extends Fn{constructor(){super(new Hn(zs),Fn.EMPTY_NODE,fs.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return Fn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Cn,{MIN:{value:new Cn(at,Fn.EMPTY_NODE)},MAX:{value:new Cn(Xe,Os)}}),Gi.__EMPTY_NODE=Fn.EMPTY_NODE,Wi.__childrenNodeConstructor=Fn,function Al(h){no=h}(Os),function os(h){po=h}(Os);const Va=!0;function Mr(h,u=null){if(null===h)return Fn.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,B.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Wi(h,Mr(u));if(h instanceof Array||!Va){let c=Fn.EMPTY_NODE;return Kt(h,(E,M)=>{if((0,B.r3)(h,E)&&"."!==E.substring(0,1)){const j=Mr(M);(j.isLeafNode()||!j.isEmpty())&&(c=c.updateImmediateChild(E,j))}}),c.updatePriority(Mr(u))}{const c=[];let E=!1;if(Kt(h,(Y,me)=>{if("."!==Y.substring(0,1)){const be=Mr(me);be.isEmpty()||(E=E||!be.getPriority().isEmpty(),c.push(new Cn(Y,be)))}}),0===c.length)return Fn.EMPTY_NODE;const j=Ps(c,fo,Y=>Y.name,zs);if(E){const Y=Ps(c,jr.getCompare());return new Fn(j,Mr(u),new fs({".priority":Y},{".priority":jr}))}return new Fn(j,Mr(u),fs.Default)}}!function Yi(h){Ta=h}(Mr);class Qi extends As{constructor(u){super(),this.indexPath_=u,(0,B.hu)(!xn(u)&&".priority"!==Dn(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const E=this.extractChild(u.node),M=this.extractChild(c.node),j=E.compareTo(M);return 0===j?_t(u.name,c.name):j}makePost(u,c){const E=Mr(u),M=Fn.EMPTY_NODE.updateChild(this.indexPath_,E);return new Cn(c,M)}maxPost(){const u=Fn.EMPTY_NODE.updateChild(this.indexPath_,Os);return new Cn(Xe,u)}toString(){return _i(this.indexPath_,0).join("/")}}const vi=new class Bo extends As{compare(u,c){const E=u.node.compareTo(c.node);return 0===E?_t(u.name,c.name):E}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return Cn.MIN}maxPost(){return Cn.MAX}makePost(u,c){const E=Mr(u);return new Cn(c,E)}toString(){return".value"}};function so(h){return{type:"value",snapshotNode:h}}function as(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function Hr(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function ps(h,u,c){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:c}}class Ei{constructor(u){this.index_=u}updateChild(u,c,E,M,j,Y){(0,B.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const me=u.getImmediateChild(c);return me.getChild(M).equals(E.getChild(M))&&me.isEmpty()===E.isEmpty()||(null!=Y&&(E.isEmpty()?u.hasChild(c)?Y.trackChildChange(Hr(c,me)):(0,B.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):me.isEmpty()?Y.trackChildChange(as(c,E)):Y.trackChildChange(ps(c,E,me))),u.isLeafNode()&&E.isEmpty())?u:u.updateImmediateChild(c,E).withIndex(this.index_)}updateFullNode(u,c,E){return null!=E&&(u.isLeafNode()||u.forEachChild(jr,(M,j)=>{c.hasChild(M)||E.trackChildChange(Hr(M,j))}),c.isLeafNode()||c.forEachChild(jr,(M,j)=>{if(u.hasChild(M)){const Y=u.getImmediateChild(M);Y.equals(j)||E.trackChildChange(ps(M,j,Y))}else E.trackChildChange(as(M,j))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?Fn.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ls{constructor(u){this.indexedFilter_=new Ei(u.getIndex()),this.index_=u.getIndex(),this.startPost_=ls.getStartPost_(u),this.endPost_=ls.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,E=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return c&&E}updateChild(u,c,E,M,j,Y){return this.matches(new Cn(c,E))||(E=Fn.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,E,M,j,Y)}updateFullNode(u,c,E){c.isLeafNode()&&(c=Fn.EMPTY_NODE);let M=c.withIndex(this.index_);M=M.updatePriority(Fn.EMPTY_NODE);const j=this;return c.forEachChild(jr,(Y,me)=>{j.matches(new Cn(Y,me))||(M=M.updateImmediateChild(Y,Fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,M,E)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class Ho{constructor(u){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const E=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?E<=0:E<0},this.withinEndPost=c=>{const E=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?E<=0:E<0},this.rangedFilter_=new ls(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,c,E,M,j,Y){return this.rangedFilter_.matches(new Cn(c,E))||(E=Fn.EMPTY_NODE),u.getImmediateChild(c).equals(E)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,E,M,j,Y):this.fullLimitUpdateChild_(u,c,E,j,Y)}updateFullNode(u,c,E){let M;if(c.isLeafNode()||c.isEmpty())M=Fn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let j;M=Fn.EMPTY_NODE.withIndex(this.index_),j=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Y=0;for(;j.hasNext()&&Y<this.limit_;){const me=j.getNext();if(this.withinDirectionalStart(me)){if(!this.withinDirectionalEnd(me))break;M=M.updateImmediateChild(me.name,me.node),Y++}}}else{let j;M=c.withIndex(this.index_),M=M.updatePriority(Fn.EMPTY_NODE),j=this.reverse_?M.getReverseIterator(this.index_):M.getIterator(this.index_);let Y=0;for(;j.hasNext();){const me=j.getNext();Y<this.limit_&&this.withinDirectionalStart(me)&&this.withinDirectionalEnd(me)?Y++:M=M.updateImmediateChild(me.name,Fn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,M,E)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,E,M,j){let Y;if(this.reverse_){const It=this.index_.getCompare();Y=(Ot,_n)=>It(_n,Ot)}else Y=this.index_.getCompare();const me=u;(0,B.hu)(me.numChildren()===this.limit_,"");const be=new Cn(c,E),Le=this.reverse_?me.getFirstChild(this.index_):me.getLastChild(this.index_),vt=this.rangedFilter_.matches(be);if(me.hasChild(c)){const It=me.getImmediateChild(c);let Ot=M.getChildAfterChild(this.index_,Le,this.reverse_);for(;null!=Ot&&(Ot.name===c||me.hasChild(Ot.name));)Ot=M.getChildAfterChild(this.index_,Ot,this.reverse_);const _n=null==Ot?1:Y(Ot,be);if(vt&&!E.isEmpty()&&_n>=0)return j?.trackChildChange(ps(c,E,It)),me.updateImmediateChild(c,E);{j?.trackChildChange(Hr(c,It));const Ii=me.updateImmediateChild(c,Fn.EMPTY_NODE);return null!=Ot&&this.rangedFilter_.matches(Ot)?(j?.trackChildChange(as(Ot.name,Ot.node)),Ii.updateImmediateChild(Ot.name,Ot.node)):Ii}}return E.isEmpty()?u:vt&&Y(Le,be)>=0?(null!=j&&(j.trackChildChange(Hr(Le.name,Le.node)),j.trackChildChange(as(c,E))),me.updateImmediateChild(c,E).updateImmediateChild(Le.name,Fn.EMPTY_NODE)):u}}class wr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:at}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xe}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jr}copy(){const u=new wr;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function $o(h){const u={};if(h.isDefault())return u;let c;if(h.index_===jr?c="$priority":h.index_===vi?c="$value":h.index_===sr?c="$key":((0,B.hu)(h.index_ instanceof Qi,"Unrecognized index type!"),c=h.index_.toString()),u.orderBy=(0,B.Wl)(c),h.startSet_){const E=h.startAfterSet_?"startAfter":"startAt";u[E]=(0,B.Wl)(h.indexStartValue_),h.startNameSet_&&(u[E]+=","+(0,B.Wl)(h.indexStartName_))}if(h.endSet_){const E=h.endBeforeSet_?"endBefore":"endAt";u[E]=(0,B.Wl)(h.indexEndValue_),h.endNameSet_&&(u[E]+=","+(0,B.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function G(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),u.vf=c}return h.index_!==jr&&(u.i=h.index_.toString()),u}class $ extends ki{constructor(u,c,E,M){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=E,this.appCheckTokenProvider_=M,this.log_=Dt("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,B.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,E,M){const j=u._path.toString();this.log_("Listen called for "+j+" "+u._queryIdentifier);const Y=$.getListenId_(u,E),me={};this.listens_[Y]=me;const be=$o(u._queryParams);this.restRequest_(j+".json",be,(Le,vt)=>{let It=vt;if(404===Le&&(It=null,Le=null),null===Le&&this.onDataUpdate_(j,It,!1,E),(0,B.DV)(this.listens_,Y)===me){let Ot;Ot=Le?401===Le?"permission_denied":"rest_error:"+Le:"ok",M(Ot,null)}})}unlisten(u,c){const E=$.getListenId_(u,c);delete this.listens_[E]}get(u){const c=$o(u._queryParams),E=u._path.toString(),M=new B.BH;return this.restRequest_(E+".json",c,(j,Y)=>{let me=Y;404===j&&(me=null,j=null),null===j?(this.onDataUpdate_(E,me,!1,null),M.resolve(me)):M.reject(new Error(me))}),M.promise}refreshAuthToken(u){}restRequest_(u,c={},E){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([M,j])=>{M&&M.accessToken&&(c.auth=M.accessToken),j&&j.token&&(c.ac=j.token);const Y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,B.xO)(c);this.log_("Sending REST request for "+Y);const me=new XMLHttpRequest;me.onreadystatechange=()=>{if(E&&4===me.readyState){this.log_("REST Response for "+Y+" received. status:",me.status,"response:",me.responseText);let be=null;if(me.status>=200&&me.status<300){try{be=(0,B.cI)(me.responseText)}catch{Mt("Failed to parse JSON response for "+Y+": "+me.responseText)}E(null,be)}else 401!==me.status&&404!==me.status&&Mt("Got unsuccessful REST response for "+Y+" Status: "+me.status),E(me.status);E=null}},me.open("GET",Y,!0),me.send()})}}class k{constructor(){this.rootNode_=Fn.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function ce(){return{value:null,children:new Map}}function et(h,u,c){if(xn(u))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,c);else{const E=Dn(u);h.children.has(E)||h.children.set(E,ce()),et(h.children.get(E),u=mr(u),c)}}function on(h,u){if(xn(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(jr,(E,M)=>{et(h,new pn(E),M)}),on(h,u)}}if(h.children.size>0){const c=Dn(u);return u=mr(u),h.children.has(c)&&on(h.children.get(c),u)&&h.children.delete(c),0===h.children.size}return!0}function $r(h,u,c){null!==h.value?c(u,h.value):function mt(h,u){h.children.forEach((c,E)=>{u(E,c)})}(h,(E,M)=>{$r(M,new pn(u.toString()+"/"+E),c)})}class lr{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&Kt(this.last_,(E,M)=>{c[E]=c[E]-M}),this.last_=u,c}}class ja{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new lr(u);const E=1e4+2e4*Math.random();yt(this.reportStats_.bind(this),Math.floor(E))}reportStats_(){const u=this.statsListener_.get(),c={};let E=!1;Kt(u,(M,j)=>{j>0&&(0,B.r3)(this.statsToReport_,M)&&(c[M]=j,E=!0)}),E&&this.server_.reportStats(c),yt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Oi=(()=>{return(h=Oi||(Oi={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Oi;var h})();function Wo(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class zo{constructor(u,c,E){this.path=u,this.affectedTree=c,this.revert=E,this.type=Oi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(xn(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new pn(u));return new zo(An(),c,this.revert)}}return(0,B.hu)(Dn(this.path)===u,"operationForChild called for unrelated child."),new zo(mr(this.path),this.affectedTree,this.revert)}}class Ui{constructor(u,c){this.source=u,this.path=c,this.type=Oi.LISTEN_COMPLETE}operationForChild(u){return xn(this.path)?new Ui(this.source,An()):new Ui(this.source,mr(this.path))}}class Ki{constructor(u,c,E){this.source=u,this.path=c,this.snap=E,this.type=Oi.OVERWRITE}operationForChild(u){return xn(this.path)?new Ki(this.source,An(),this.snap.getImmediateChild(u)):new Ki(this.source,mr(this.path),this.snap)}}class Ri{constructor(u,c,E){this.source=u,this.path=c,this.children=E,this.type=Oi.MERGE}operationForChild(u){if(xn(this.path)){const c=this.children.subtree(new pn(u));return c.isEmpty()?null:c.value?new Ki(this.source,An(),c.value):new Ri(this.source,An(),c)}return(0,B.hu)(Dn(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Ri(this.source,mr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ai{constructor(u,c,E){this.node_=u,this.fullyInitialized_=c,this.filtered_=E}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(xn(u))return this.isFullyInitialized()&&!this.filtered_;const c=Dn(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class ma{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function gs(h,u,c,E,M,j){const Y=E.filter(me=>me.type===c);Y.sort((me,be)=>function Yo(h,u,c){if(null==u.childName||null==c.childName)throw(0,B.g5)("Should only compare child_ events.");const E=new Cn(u.childName,u.snapshotNode),M=new Cn(c.childName,c.snapshotNode);return h.index_.compare(E,M)}(h,me,be)),Y.forEach(me=>{const be=function Sa(h,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,me,j);M.forEach(Le=>{Le.respondsTo(me.type)&&u.push(Le.createEvent(be,h.query_))})})}function Vi(h,u){return{eventCache:h,serverCache:u}}function _o(h,u,c,E){return Vi(new ai(u,c,E),h.serverCache)}function oo(h,u,c,E){return Vi(h.eventCache,new ai(u,c,E))}function Zi(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function Qo(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let Za;class li{constructor(u,c=(()=>(Za||(Za=new Hn(bt)),Za))()){this.value=u,this.children=c}static fromObject(u){let c=new li(null);return Kt(u,(E,M)=>{c=c.set(new pn(E),M)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:An(),value:this.value};if(xn(u))return null;{const E=Dn(u),M=this.children.get(E);if(null!==M){const j=M.findRootMostMatchingPathAndValue(mr(u),c);return null!=j?{path:vr(new pn(E),j.path),value:j.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(xn(u))return this;{const c=Dn(u),E=this.children.get(c);return null!==E?E.subtree(mr(u)):new li(null)}}set(u,c){if(xn(u))return new li(c,this.children);{const E=Dn(u),j=(this.children.get(E)||new li(null)).set(mr(u),c),Y=this.children.insert(E,j);return new li(this.value,Y)}}remove(u){if(xn(u))return this.children.isEmpty()?new li(null):new li(null,this.children);{const c=Dn(u),E=this.children.get(c);if(E){const M=E.remove(mr(u));let j;return j=M.isEmpty()?this.children.remove(c):this.children.insert(c,M),null===this.value&&j.isEmpty()?new li(null):new li(this.value,j)}return this}}get(u){if(xn(u))return this.value;{const c=Dn(u),E=this.children.get(c);return E?E.get(mr(u)):null}}setTree(u,c){if(xn(u))return c;{const E=Dn(u),j=(this.children.get(E)||new li(null)).setTree(mr(u),c);let Y;return Y=j.isEmpty()?this.children.remove(E):this.children.insert(E,j),new li(this.value,Y)}}fold(u){return this.fold_(An(),u)}fold_(u,c){const E={};return this.children.inorderTraversal((M,j)=>{E[M]=j.fold_(vr(u,M),c)}),c(u,this.value,E)}findOnPath(u,c){return this.findOnPath_(u,An(),c)}findOnPath_(u,c,E){const M=!!this.value&&E(c,this.value);if(M)return M;if(xn(u))return null;{const j=Dn(u),Y=this.children.get(j);return Y?Y.findOnPath_(mr(u),vr(c,j),E):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,An(),c)}foreachOnPath_(u,c,E){if(xn(u))return this;{this.value&&E(c,this.value);const M=Dn(u),j=this.children.get(M);return j?j.foreachOnPath_(mr(u),vr(c,M),E):new li(null)}}foreach(u){this.foreach_(An(),u)}foreach_(u,c){this.children.inorderTraversal((E,M)=>{M.foreach_(vr(u,E),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,E)=>{E.value&&u(c,E.value)})}}class Bs{constructor(u){this.writeTree_=u}static empty(){return new Bs(new li(null))}}function qo(h,u,c){if(xn(u))return new Bs(new li(c));{const E=h.writeTree_.findRootMostValueAndPath(u);if(null!=E){const M=E.path;let j=E.value;const Y=Yr(M,u);return j=j.updateChild(Y,c),new Bs(h.writeTree_.set(M,j))}{const M=new li(c),j=h.writeTree_.setTree(u,M);return new Bs(j)}}}function Ha(h,u,c){let E=h;return Kt(c,(M,j)=>{E=qo(E,vr(u,M),j)}),E}function $a(h,u){if(xn(u))return Bs.empty();{const c=h.writeTree_.setTree(u,new li(null));return new Bs(c)}}function Xa(h,u){return null!=Zo(h,u)}function Zo(h,u){const c=h.writeTree_.findRootMostValueAndPath(u);return null!=c?h.writeTree_.get(c.path).getChild(Yr(c.path,u)):null}function Xi(h){const u=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(jr,(E,M)=>{u.push(new Cn(E,M))}):h.writeTree_.children.inorderTraversal((E,M)=>{null!=M.value&&u.push(new Cn(E,M.value))}),u}function Ys(h,u){if(xn(u))return h;{const c=Zo(h,u);return new Bs(null!=c?new li(c):h.writeTree_.subtree(u))}}function Di(h){return h.writeTree_.isEmpty()}function ms(h,u){return Qr(An(),h.writeTree_,u)}function Qr(h,u,c){if(null!=u.value)return c.updateChild(h,u.value);{let E=null;return u.children.inorderTraversal((M,j)=>{".priority"===M?((0,B.hu)(null!==j.value,"Priority writes must always be leaf nodes"),E=j.value):c=Qr(vr(h,M),j,c)}),!c.getChild(h).isEmpty()&&null!==E&&(c=c.updateChild(vr(h,".priority"),E)),c}}function Ft(h,u){return Fr(u,h)}function In(h,u){if(h.snap)return ot(h.path,u);for(const c in h.children)if(h.children.hasOwnProperty(c)&&ot(vr(h.path,c),u))return!0;return!1}function Jt(h){return h.visible}function dt(h,u,c){let E=Bs.empty();for(let M=0;M<h.length;++M){const j=h[M];if(u(j)){const Y=j.path;let me;if(j.snap)ot(c,Y)?(me=Yr(c,Y),E=qo(E,me,j.snap)):ot(Y,c)&&(me=Yr(Y,c),E=qo(E,An(),j.snap.getChild(me)));else{if(!j.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(ot(c,Y))me=Yr(c,Y),E=Ha(E,me,j.children);else if(ot(Y,c))if(me=Yr(Y,c),xn(me))E=Ha(E,An(),j.children);else{const be=(0,B.DV)(j.children,Dn(me));if(be){const Le=be.getChild(mr(me));E=qo(E,An(),Le)}}}}}return E}function P(h,u,c,E,M){if(E||M){const j=Ys(h.visibleWrites,u);return!M&&Di(j)?c:M||null!=c||Xa(j,An())?ms(dt(h.allWrites,function(Le){return(Le.visible||M)&&(!E||!~E.indexOf(Le.writeId))&&(ot(Le.path,u)||ot(u,Le.path))},u),c||Fn.EMPTY_NODE):null}{const j=Zo(h.visibleWrites,u);if(null!=j)return j;{const Y=Ys(h.visibleWrites,u);return Di(Y)?c:null!=c||Xa(Y,An())?ms(Y,c||Fn.EMPTY_NODE):null}}}function nn(h,u,c,E){return P(h.writeTree,h.treePath,u,c,E)}function Zr(h,u){return function Q(h,u,c){let E=Fn.EMPTY_NODE;const M=Zo(h.visibleWrites,u);if(M)return M.isLeafNode()||M.forEachChild(jr,(j,Y)=>{E=E.updateImmediateChild(j,Y)}),E;if(c){const j=Ys(h.visibleWrites,u);return c.forEachChild(jr,(Y,me)=>{const be=ms(Ys(j,new pn(Y)),me);E=E.updateImmediateChild(Y,be)}),Xi(j).forEach(Y=>{E=E.updateImmediateChild(Y.name,Y.node)}),E}return Xi(Ys(h.visibleWrites,u)).forEach(Y=>{E=E.updateImmediateChild(Y.name,Y.node)}),E}(h.writeTree,h.treePath,u)}function Rr(h,u,c,E){return function V(h,u,c,E,M){(0,B.hu)(E||M,"Either existingEventSnap or existingServerSnap must exist");const j=vr(u,c);if(Xa(h.visibleWrites,j))return null;{const Y=Ys(h.visibleWrites,j);return Di(Y)?M.getChild(c):ms(Y,M.getChild(c))}}(h.writeTree,h.treePath,u,c,E)}function Wn(h,u){return function we(h,u){return Zo(h.visibleWrites,u)}(h.writeTree,vr(h.treePath,u))}function $n(h,u,c){return function le(h,u,c,E){const M=vr(u,c),j=Zo(h.visibleWrites,M);return null!=j?j:E.isCompleteForChild(c)?ms(Ys(h.visibleWrites,M),E.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,u,c)}function sn(h,u){return Fr(vr(h.treePath,u),h.writeTree)}function Fr(h,u){return{treePath:h,writeTree:u}}class ao{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,E=u.childName;(0,B.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==E,"Only non-priority child changes can be tracked.");const M=this.changeMap.get(E);if(M){const j=M.type;if("child_added"===c&&"child_removed"===j)this.changeMap.set(E,ps(E,u.snapshotNode,M.snapshotNode));else if("child_removed"===c&&"child_added"===j)this.changeMap.delete(E);else if("child_removed"===c&&"child_changed"===j)this.changeMap.set(E,Hr(E,M.oldSnap));else if("child_changed"===c&&"child_added"===j)this.changeMap.set(E,as(E,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==j)throw(0,B.g5)("Illegal combination of changes: "+u+" occurred after "+M);this.changeMap.set(E,ps(E,u.snapshotNode,M.oldSnap))}}else this.changeMap.set(E,u)}getChanges(){return Array.from(this.changeMap.values())}}const yn=new class pr{getCompleteChild(u){return null}getChildAfterChild(u,c,E){return null}};class Ji{constructor(u,c,E=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=E}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const E=null!=this.optCompleteServerCache_?new ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $n(this.writes_,u,E)}}getChildAfterChild(u,c,E){const M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qo(this.viewCache_),j=function fr(h,u,c,E,M,j){return function ht(h,u,c,E,M,j,Y){let me;const be=Ys(h.visibleWrites,u),Le=Zo(be,An());if(null!=Le)me=Le;else{if(null==c)return[];me=ms(be,c)}if(me=me.withIndex(Y),me.isEmpty()||me.isLeafNode())return[];{const vt=[],It=Y.getCompare(),Ot=j?me.getReverseIteratorFrom(E,Y):me.getIteratorFrom(E,Y);let _n=Ot.getNext();for(;_n&&vt.length<M;)0!==It(_n,E)&&vt.push(_n),_n=Ot.getNext();return vt}}(h.writeTree,h.treePath,u,c,E,M,j)}(this.writes_,M,c,1,E,u);return 0===j.length?null:j[0]}}function lo(h,u,c,E,M,j){const Y=u.eventCache;if(null!=Wn(E,c))return u;{let me,be;if(xn(c))if((0,B.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Le=Qo(u),It=Zr(E,Le instanceof Fn?Le:Fn.EMPTY_NODE);me=h.filter.updateFullNode(u.eventCache.getNode(),It,j)}else{const Le=nn(E,Qo(u));me=h.filter.updateFullNode(u.eventCache.getNode(),Le,j)}else{const Le=Dn(c);if(".priority"===Le){(0,B.hu)(1===tr(c),"Can't have a priority with additional path components");const vt=Y.getNode();be=u.serverCache.getNode();const It=Rr(E,c,vt,be);me=null!=It?h.filter.updatePriority(vt,It):Y.getNode()}else{const vt=mr(c);let It;if(Y.isCompleteForChild(Le)){be=u.serverCache.getNode();const Ot=Rr(E,c,Y.getNode(),be);It=null!=Ot?Y.getNode().getImmediateChild(Le).updateChild(vt,Ot):Y.getNode().getImmediateChild(Le)}else It=$n(E,Le,u.serverCache);me=null!=It?h.filter.updateChild(Y.getNode(),Le,It,vt,M,j):Y.getNode()}}return _o(u,me,Y.isFullyInitialized()||xn(c),h.filter.filtersNodes())}}function ba(h,u,c,E,M,j,Y,me){const be=u.serverCache;let Le;const vt=Y?h.filter:h.filter.getIndexedFilter();if(xn(c))Le=vt.updateFullNode(be.getNode(),E,null);else if(vt.filtersNodes()&&!be.isFiltered()){const _n=be.getNode().updateChild(c,E);Le=vt.updateFullNode(be.getNode(),_n,null)}else{const _n=Dn(c);if(!be.isCompleteForPath(c)&&tr(c)>1)return u;const zn=mr(c),wo=be.getNode().getImmediateChild(_n).updateChild(zn,E);Le=".priority"===_n?vt.updatePriority(be.getNode(),wo):vt.updateChild(be.getNode(),_n,wo,zn,yn,null)}const It=oo(u,Le,be.isFullyInitialized()||xn(c),vt.filtersNodes());return lo(h,It,c,M,new Ji(M,It,j),me)}function ea(h,u,c,E,M,j,Y){const me=u.eventCache;let be,Le;const vt=new Ji(M,u,j);if(xn(c))Le=h.filter.updateFullNode(u.eventCache.getNode(),E,Y),be=_o(u,Le,!0,h.filter.filtersNodes());else{const It=Dn(c);if(".priority"===It)Le=h.filter.updatePriority(u.eventCache.getNode(),E),be=_o(u,Le,me.isFullyInitialized(),me.isFiltered());else{const Ot=mr(c),_n=me.getNode().getImmediateChild(It);let zn;if(xn(Ot))zn=E;else{const Ii=vt.getCompleteChild(It);zn=null!=Ii?".priority"===br(Ot)&&Ii.getChild(Rn(Ot)).isEmpty()?Ii:Ii.updateChild(Ot,E):Fn.EMPTY_NODE}be=_n.equals(zn)?u:_o(u,h.filter.updateChild(me.getNode(),It,zn,Ot,vt,Y),me.isFullyInitialized(),h.filter.filtersNodes())}}return be}function ya(h,u){return h.eventCache.isCompleteForChild(u)}function uo(h,u,c){return c.foreach((E,M)=>{u=u.updateChild(E,M)}),u}function ta(h,u,c,E,M,j,Y,me){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Le,be=u;Le=xn(c)?E:new li(null).setTree(c,E);const vt=u.serverCache.getNode();return Le.children.inorderTraversal((It,Ot)=>{if(vt.hasChild(It)){const zn=uo(0,u.serverCache.getNode().getImmediateChild(It),Ot);be=ba(h,be,new pn(It),zn,M,j,Y,me)}}),Le.children.inorderTraversal((It,Ot)=>{const _n=!u.serverCache.isCompleteForChild(It)&&null===Ot.value;if(!vt.hasChild(It)&&!_n){const Ii=uo(0,u.serverCache.getNode().getImmediateChild(It),Ot);be=ba(h,be,new pn(It),Ii,M,j,Y,me)}}),be}class Rl{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const E=this.query_._queryParams,M=new Ei(E.getIndex()),j=function qi(h){return h.loadsAllData()?new Ei(h.getIndex()):h.hasLimit()?new Ho(h):new ls(h)}(E);this.processor_=function Vn(h){return{filter:h}}(j);const Y=c.serverCache,me=c.eventCache,be=M.updateFullNode(Fn.EMPTY_NODE,Y.getNode(),null),Le=j.updateFullNode(Fn.EMPTY_NODE,me.getNode(),null),vt=new ai(be,Y.isFullyInitialized(),M.filtersNodes()),It=new ai(Le,me.isFullyInitialized(),j.filtersNodes());this.viewCache_=Vi(It,vt),this.eventGenerator_=new ma(this.query_)}get query(){return this.query_}}function Po(h,u){const c=Qo(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!xn(u)&&!c.getImmediateChild(Dn(u)).isEmpty())?c.getChild(u):null}function Ja(h){return 0===h.eventRegistrations_.length}function Ma(h,u,c){const E=[];if(c){(0,B.hu)(null==u,"A cancel should cancel all event registrations.");const M=h.query._path;h.eventRegistrations_.forEach(j=>{const Y=j.createCancelEvent(c,M);Y&&E.push(Y)})}if(u){let M=[];for(let j=0;j<h.eventRegistrations_.length;++j){const Y=h.eventRegistrations_[j];if(Y.matches(u)){if(u.hasAnyCallback()){M=M.concat(h.eventRegistrations_.slice(j+1));break}}else M.push(Y)}h.eventRegistrations_=M}else h.eventRegistrations_=[];return E}function Ts(h,u,c,E){u.type===Oi.MERGE&&null!==u.source.queryId&&((0,B.hu)(Qo(h.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(Zi(h.viewCache_),"Missing event cache, even though we have a server cache"));const M=h.viewCache_,j=function xr(h,u,c,E,M){const j=new ao;let Y,me;if(c.type===Oi.OVERWRITE){const Le=c;Le.source.fromUser?Y=ea(h,u,Le.path,Le.snap,E,M,j):((0,B.hu)(Le.source.fromServer,"Unknown source."),me=Le.source.tagged||u.serverCache.isFiltered()&&!xn(Le.path),Y=ba(h,u,Le.path,Le.snap,E,M,me,j))}else if(c.type===Oi.MERGE){const Le=c;Le.source.fromUser?Y=function ys(h,u,c,E,M,j,Y){let me=u;return E.foreach((be,Le)=>{const vt=vr(c,be);ya(u,Dn(vt))&&(me=ea(h,me,vt,Le,M,j,Y))}),E.foreach((be,Le)=>{const vt=vr(c,be);ya(u,Dn(vt))||(me=ea(h,me,vt,Le,M,j,Y))}),me}(h,u,Le.path,Le.children,E,M,j):((0,B.hu)(Le.source.fromServer,"Unknown source."),me=Le.source.tagged||u.serverCache.isFiltered(),Y=ta(h,u,Le.path,Le.children,E,M,me,j))}else if(c.type===Oi.ACK_USER_WRITE){const Le=c;Y=Le.revert?function js(h,u,c,E,M,j){let Y;if(null!=Wn(E,c))return u;{const me=new Ji(E,u,M),be=u.eventCache.getNode();let Le;if(xn(c)||".priority"===Dn(c)){let vt;if(u.serverCache.isFullyInitialized())vt=nn(E,Qo(u));else{const It=u.serverCache.getNode();(0,B.hu)(It instanceof Fn,"serverChildren would be complete if leaf node"),vt=Zr(E,It)}Le=h.filter.updateFullNode(be,vt,j)}else{const vt=Dn(c);let It=$n(E,vt,u.serverCache);null==It&&u.serverCache.isCompleteForChild(vt)&&(It=be.getImmediateChild(vt)),Le=null!=It?h.filter.updateChild(be,vt,It,mr(c),me,j):u.eventCache.getNode().hasChild(vt)?h.filter.updateChild(be,vt,Fn.EMPTY_NODE,mr(c),me,j):be,Le.isEmpty()&&u.serverCache.isFullyInitialized()&&(Y=nn(E,Qo(u)),Y.isLeafNode()&&(Le=h.filter.updateFullNode(Le,Y,j)))}return Y=u.serverCache.isFullyInitialized()||null!=Wn(E,An()),_o(u,Le,Y,h.filter.filtersNodes())}}(h,u,Le.path,E,M,j):function Aa(h,u,c,E,M,j,Y){if(null!=Wn(M,c))return u;const me=u.serverCache.isFiltered(),be=u.serverCache;if(null!=E.value){if(xn(c)&&be.isFullyInitialized()||be.isCompleteForPath(c))return ba(h,u,c,be.getNode().getChild(c),M,j,me,Y);if(xn(c)){let Le=new li(null);return be.getNode().forEachChild(sr,(vt,It)=>{Le=Le.set(new pn(vt),It)}),ta(h,u,c,Le,M,j,me,Y)}return u}{let Le=new li(null);return E.foreach((vt,It)=>{const Ot=vr(c,vt);be.isCompleteForPath(Ot)&&(Le=Le.set(vt,be.getNode().getChild(Ot)))}),ta(h,u,c,Le,M,j,me,Y)}}(h,u,Le.path,Le.affectedTree,E,M,j)}else{if(c.type!==Oi.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+c.type);Y=function cl(h,u,c,E,M){const j=u.serverCache;return lo(h,oo(u,j.getNode(),j.isFullyInitialized()||xn(c),j.isFiltered()),c,E,yn,M)}(h,u,c.path,E,j)}const be=j.getChanges();return function Yt(h,u,c){const E=u.eventCache;if(E.isFullyInitialized()){const M=E.getNode().isLeafNode()||E.getNode().isEmpty(),j=Zi(h);(c.length>0||!h.eventCache.isFullyInitialized()||M&&!E.getNode().equals(j)||!E.getNode().getPriority().equals(j.getPriority()))&&c.push(so(Zi(u)))}}(u,Y,be),{viewCache:Y,changes:be}}(h.processor_,M,u,c,E);return function Jo(h,u){(0,B.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,j.viewCache),(0,B.hu)(j.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=j.viewCache,es(h,j.changes,j.viewCache.eventCache.getNode(),null)}function es(h,u,c,E){return function Ko(h,u,c,E){const M=[],j=[];return u.forEach(Y=>{"child_changed"===Y.type&&h.index_.indexedValueChanged(Y.oldSnap,Y.snapshotNode)&&j.push(function jo(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(Y.childName,Y.snapshotNode))}),gs(h,M,"child_removed",u,E,c),gs(h,M,"child_added",u,E,c),gs(h,M,"child_moved",j,E,c),gs(h,M,"child_changed",u,E,c),gs(h,M,"value",u,E,c),M}(h.eventGenerator_,u,c,E?[E]:h.eventRegistrations_)}let _s,_a;class dl{constructor(){this.views=new Map}}function hl(h,u,c,E){const M=u.source.queryId;if(null!==M){const j=h.views.get(M);return(0,B.hu)(null!=j,"SyncTree gave us an op for an invalid query."),Ts(j,u,c,E)}{let j=[];for(const Y of h.views.values())j=j.concat(Ts(Y,u,c,E));return j}}function Ga(h,u,c,E,M){const Y=h.views.get(u._queryIdentifier);if(!Y){let me=nn(c,M?E:null),be=!1;me?be=!0:E instanceof Fn?(me=Zr(c,E),be=!1):(me=Fn.EMPTY_NODE,be=!1);const Le=Vi(new ai(me,be,!1),new ai(E,M,!1));return new Rl(u,Le)}return Y}function Ro(h){const u=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function Qs(h,u){let c=null;for(const E of h.views.values())c=c||Po(E,u);return c}function qs(h,u){return u._queryParams.loadsAllData()?Pa(h):h.views.get(u._queryIdentifier)}function na(h,u){return null!=qs(h,u)}function vo(h){return null!=Pa(h)}function Pa(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let Xr=1;class va{constructor(u){this.listenProvider_=u,this.syncPointTree_=new li(null),this.pendingWriteTree_=function Et(){return{visibleWrites:Bs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ui(h,u,c,E,M){return function Ai(h,u,c,E,M){(0,B.hu)(E>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),h.allWrites.push({path:u,snap:c,writeId:E,visible:M}),M&&(h.visibleWrites=qo(h.visibleWrites,u,c)),h.lastWriteId=E}(h.pendingWriteTree_,u,c,E,M),M?F(h,new Ki({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function xo(h,u,c=!1){const E=function Ol(h,u){for(let c=0;c<h.allWrites.length;c++){const E=h.allWrites[c];if(E.writeId===u)return E}return null}(h.pendingWriteTree_,u);if(function gn(h,u){const c=h.allWrites.findIndex(me=>me.writeId===u);(0,B.hu)(c>=0,"removeWrite called with nonexistent writeId.");const E=h.allWrites[c];h.allWrites.splice(c,1);let M=E.visible,j=!1,Y=h.allWrites.length-1;for(;M&&Y>=0;){const me=h.allWrites[Y];me.visible&&(Y>=c&&In(me,E.path)?M=!1:ot(E.path,me.path)&&(j=!0)),Y--}return!!M&&(j?(function ul(h){h.visibleWrites=dt(h.allWrites,Jt,An()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(E.snap?h.visibleWrites=$a(h.visibleWrites,E.path):Kt(E.children,be=>{h.visibleWrites=$a(h.visibleWrites,vr(E.path,be))}),!0))}(h.pendingWriteTree_,u)){let j=new li(null);return null!=E.snap?j=j.set(An(),!0):Kt(E.children,Y=>{j=j.set(new pn(Y),!0)}),F(h,new zo(E.path,j,c))}return[]}function Oa(h,u,c){return F(h,new Ki({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function ia(h,u,c,E,M=!1){const j=u._path,Y=h.syncPointTree_.get(j);let me=[];if(Y&&("default"===u._queryIdentifier||na(Y,u))){const be=function Ns(h,u,c,E){const M=u._queryIdentifier,j=[];let Y=[];const me=vo(h);if("default"===M)for(const[be,Le]of h.views.entries())Y=Y.concat(Ma(Le,c,E)),Ja(Le)&&(h.views.delete(be),Le.query._queryParams.loadsAllData()||j.push(Le.query));else{const be=h.views.get(M);be&&(Y=Y.concat(Ma(be,c,E)),Ja(be)&&(h.views.delete(M),be.query._queryParams.loadsAllData()||j.push(be.query)))}return me&&!vo(h)&&j.push(new(function el(){return(0,B.hu)(_s,"Reference.ts has not been loaded"),_s}())(u._repo,u._path)),{removed:j,events:Y}}(Y,u,c,E);(function Ql(h){return 0===h.views.size})(Y)&&(h.syncPointTree_=h.syncPointTree_.remove(j));const Le=be.removed;if(me=be.events,!M){const vt=-1!==Le.findIndex(Ot=>Ot._queryParams.loadsAllData()),It=h.syncPointTree_.findOnPath(j,(Ot,_n)=>vo(_n));if(vt&&!It){const Ot=h.syncPointTree_.subtree(j);if(!Ot.isEmpty()){const _n=function kr(h){return h.fold((u,c,E)=>{if(c&&vo(c))return[Pa(c)];{let M=[];return c&&(M=Ro(c)),Kt(E,(j,Y)=>{M=M.concat(Y)}),M}})}(Ot);for(let zn=0;zn<_n.length;++zn){const Ii=_n[zn],wo=Ii.query,_u=pe(h,Ii);h.listenProvider_.startListening(vs(wo),je(h,wo),_u.hashFn,_u.onComplete)}}}!It&&Le.length>0&&!E&&(vt?h.listenProvider_.stopListening(vs(u),null):Le.forEach(Ot=>{const _n=h.queryToTagMap.get(St(Ot));h.listenProvider_.stopListening(vs(Ot),_n)}))}!function fi(h,u){for(let c=0;c<u.length;++c){const E=u[c];if(!E._queryParams.loadsAllData()){const M=St(E),j=h.queryToTagMap.get(M);h.queryToTagMap.delete(M),h.tagToQueryMap.delete(j)}}}(h,Le)}return me}function us(h,u,c,E){const M=en(h,E);if(null!=M){const j=an(M),Y=j.path,me=j.queryId,be=Yr(Y,u);return Tr(h,Y,new Ki(Wo(me),be,c))}return[]}function A(h,u,c,E=!1){const M=u._path;let j=null,Y=!1;h.syncPointTree_.foreachOnPath(M,(Ot,_n)=>{const zn=Yr(Ot,M);j=j||Qs(_n,zn),Y=Y||vo(_n)});let be,me=h.syncPointTree_.get(M);me?(Y=Y||vo(me),j=j||Qs(me,An())):(me=new dl,h.syncPointTree_=h.syncPointTree_.set(M,me)),null!=j?be=!0:(be=!1,j=Fn.EMPTY_NODE,h.syncPointTree_.subtree(M).foreachChild((_n,zn)=>{const Ii=Qs(zn,An());Ii&&(j=j.updateImmediateChild(_n,Ii))}));const Le=na(me,u);if(!Le&&!u._queryParams.loadsAllData()){const Ot=St(u);(0,B.hu)(!h.queryToTagMap.has(Ot),"View does not exist, but we have a tag");const _n=function Ra(){return Xr++}();h.queryToTagMap.set(Ot,_n),h.tagToQueryMap.set(_n,Ot)}let It=function xs(h,u,c,E,M,j){const Y=Ga(h,u,E,M,j);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,Y),function it(h,u){h.eventRegistrations_.push(u)}(Y,c),function xl(h,u){const c=h.viewCache_.eventCache,E=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(jr,(j,Y)=>{E.push(as(j,Y))}),c.isFullyInitialized()&&E.push(so(c.getNode())),es(h,E,c.getNode(),u)}(Y,c)}(me,u,c,Ft(h.pendingWriteTree_,M),j,be);if(!Le&&!Y&&!E){const Ot=qs(me,u);It=It.concat(function Bi(h,u,c){const E=u._path,M=je(h,u),j=pe(h,c),Y=h.listenProvider_.startListening(vs(u),M,j.hashFn,j.onComplete),me=h.syncPointTree_.subtree(E);if(M)(0,B.hu)(!vo(me.value),"If we're adding a query, it shouldn't be shadowed");else{const be=me.fold((Le,vt,It)=>{if(!xn(Le)&&vt&&vo(vt))return[Pa(vt).query];{let Ot=[];return vt&&(Ot=Ot.concat(Ro(vt).map(_n=>_n.query))),Kt(It,(_n,zn)=>{Ot=Ot.concat(zn)}),Ot}});for(let Le=0;Le<be.length;++Le){const vt=be[Le];h.listenProvider_.stopListening(vs(vt),je(h,vt))}}return Y}(h,u,Ot))}return It}function O(h,u,c){const M=h.pendingWriteTree_,j=h.syncPointTree_.findOnPath(u,(Y,me)=>{const Le=Qs(me,Yr(Y,u));if(Le)return Le});return P(M,u,j,c,!0)}function F(h,u){return W(u,h.syncPointTree_,null,Ft(h.pendingWriteTree_,An()))}function W(h,u,c,E){if(xn(h.path))return oe(h,u,c,E);{const M=u.get(An());null==c&&null!=M&&(c=Qs(M,An()));let j=[];const Y=Dn(h.path),me=h.operationForChild(Y),be=u.children.get(Y);if(be&&me){const Le=c?c.getImmediateChild(Y):null,vt=sn(E,Y);j=j.concat(W(me,be,Le,vt))}return M&&(j=j.concat(hl(M,h,E,c))),j}}function oe(h,u,c,E){const M=u.get(An());null==c&&null!=M&&(c=Qs(M,An()));let j=[];return u.children.inorderTraversal((Y,me)=>{const be=c?c.getImmediateChild(Y):null,Le=sn(E,Y),vt=h.operationForChild(Y);vt&&(j=j.concat(oe(vt,me,be,Le)))}),M&&(j=j.concat(hl(M,h,E,c))),j}function pe(h,u){const c=u.query,E=je(h,c);return{hashFn:()=>(function su(h){return h.viewCache_.serverCache.getNode()}(u)||Fn.EMPTY_NODE).hash(),onComplete:M=>{if("ok"===M)return E?function ra(h,u,c){const E=en(h,c);if(E){const M=an(E),j=M.path,Y=M.queryId,me=Yr(j,u);return Tr(h,j,new Ui(Wo(Y),me))}return[]}(h,c._path,E):function nl(h,u){return F(h,new Ui({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,c._path);{const j=function Kr(h,u){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const E=new Error(h+" at "+u._path.toString()+": "+c);return E.code=h.toUpperCase(),E}(M,c);return ia(h,c,null,j)}}}}function je(h,u){const c=St(u);return h.queryToTagMap.get(c)}function St(h){return h._path.toString()+"$"+h._queryIdentifier}function en(h,u){return h.tagToQueryMap.get(u)}function an(h){const u=h.indexOf("$");return(0,B.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new pn(h.substr(0,u))}}function Tr(h,u,c){const E=h.syncPointTree_.get(u);return(0,B.hu)(E,"Missing sync point for query tag that we're tracking"),hl(E,c,Ft(h.pendingWriteTree_,u),null)}function vs(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Ci(){return(0,B.hu)(_a,"Reference.ts has not been loaded"),_a}())(h._repo,h._path):h}class Wa{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new Wa(c)}node(){return this.node_}}class Ea{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=vr(this.path_,u);return new Ea(this.syncTree_,c)}node(){return O(this.syncTree_,this.path_)}}const pl=function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h},Pr=function(h,u,c){return h&&"object"==typeof h?((0,B.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?pi(h[".sv"],u,c):"object"==typeof h[".sv"]?rl(h[".sv"],u):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},pi=function(h,u,c){if("timestamp"===h)return c.timestamp;(0,B.hu)(!1,"Unexpected server value: "+h)},rl=function(h,u,c){h.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const E=h.increment;"number"!=typeof E&&(0,B.hu)(!1,"Unexpected increment value: "+E);const M=u.node();if((0,B.hu)(null!==M&&typeof M<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return E;const Y=M.getValue();return"number"!=typeof Y?E:Y+E},gl=function(h,u,c,E){return yl(u,new Ea(c,h),E)},ml=function(h,u,c){return yl(h,new Wa(u),c)};function yl(h,u,c){const E=h.getPriority().val(),M=Pr(E,u.getImmediateChild(".priority"),c);let j;if(h.isLeafNode()){const Y=h,me=Pr(Y.getValue(),u,c);return me!==Y.getValue()||M!==Y.getPriority().val()?new Wi(me,Mr(M)):h}{const Y=h;return j=Y,M!==Y.getPriority().val()&&(j=j.updatePriority(new Wi(M))),Y.forEachChild(jr,(me,be)=>{const Le=yl(be,u.getImmediateChild(me),c);Le!==be&&(j=j.updateImmediateChild(me,Le))}),j}}class Da{constructor(u="",c=null,E={children:{},childCount:0}){this.name=u,this.parent=c,this.node=E}}function Ll(h,u){let c=u instanceof pn?u:new pn(u),E=h,M=Dn(c);for(;null!==M;){const j=(0,B.DV)(E.node.children,M)||{children:{},childCount:0};E=new Da(M,E,j),c=mr(c),M=Dn(c)}return E}function sa(h){return h.node.value}function Fl(h,u){h.node.value=u,xa(h)}function Hu(h){return h.node.childCount>0}function za(h,u){Kt(h.node.children,(c,E)=>{u(new Da(c,h,E))})}function au(h,u,c,E){c&&!E&&u(h),za(h,M=>{au(M,u,!0,E)}),c&&E&&u(h)}function Ka(h){return new pn(null===h.parent?h.name:Ka(h.parent)+"/"+h.name)}function xa(h){null!==h.parent&&function kl(h,u,c){const E=function ql(h){return void 0===sa(h)&&!Hu(h)}(c),M=(0,B.r3)(h.node.children,u);E&&M?(delete h.node.children[u],h.node.childCount--,xa(h)):!E&&!M&&(h.node.children[u]=c.node,h.node.childCount++,xa(h))}(h.parent,h.name,h)}const Na=/[\[\].#$\/\u0000-\u001F\u007F]/,lc=/[\[\].#$\u0000-\u001F\u007F]/,xi=10485760,oa=function(h){return"string"==typeof h&&0!==h.length&&!Na.test(h)},Ss=function(h){return"string"==typeof h&&0!==h.length&&!lc.test(h)},Ul=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!nt(h)||h&&"object"==typeof h&&(0,B.r3)(h,".sv")},Zs=function(h,u,c,E){E&&void 0===u||Es((0,B.gK)(h,"value"),u,c)},Es=function(h,u,c){const E=c instanceof pn?new Ge(c,h):c;if(void 0===u)throw new Error(h+"contains undefined "+Xt(E));if("function"==typeof u)throw new Error(h+"contains a function "+Xt(E)+" with contents = "+u.toString());if(nt(u))throw new Error(h+"contains "+u.toString()+" "+Xt(E));if("string"==typeof u&&u.length>xi/3&&(0,B.ug)(u)>xi)throw new Error(h+"contains a string greater than "+xi+" utf8 bytes "+Xt(E)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let M=!1,j=!1;if(Kt(u,(Y,me)=>{if(".value"===Y)M=!0;else if(".priority"!==Y&&".sv"!==Y&&(j=!0,!oa(Y)))throw new Error(h+" contains an invalid key ("+Y+") "+Xt(E)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function gt(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,B.ug)(u),zt(h)})(E,Y),Es(h,me,E),function Ht(h){const u=h.parts_.pop();h.byteLength_-=(0,B.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(E)}),M&&j)throw new Error(h+' contains ".value" child '+Xt(E)+" in addition to actual children.")}},lu=function(h,u,c,E){if(E&&void 0===u)return;const M=(0,B.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(M+" must be an object containing the children to replace.");const j=[];Kt(u,(Y,me)=>{const be=new pn(Y);if(Es(M,me,vr(c,be)),".priority"===br(be)&&!Ul(me))throw new Error(M+"contains an invalid value for '"+be.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");j.push(be)}),function(h,u){let c,E;for(c=0;c<u.length;c++){E=u[c];const j=_i(E);for(let Y=0;Y<j.length;Y++)if((".priority"!==j[Y]||Y!==j.length-1)&&!oa(j[Y]))throw new Error(h+"contains an invalid key ("+j[Y]+") in path "+E.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(Is);let M=null;for(c=0;c<u.length;c++){if(E=u[c],null!==M&&ot(M,E))throw new Error(h+"contains a path "+M.toString()+" that is ancestor of another path "+E.toString());M=E}}(M,j)},Vl=function(h,u,c,E){if(!(E&&void 0===c||Ss(c)))throw new Error((0,B.gK)(h,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_l=function(h,u,c,E){c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Vl(h,u,c,E)},co=function(h,u){if(".info"===Dn(u))throw new Error(h+" failed = Can't modify data under /.info/")},La=function(h,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!oa(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Ss(h)}(c))throw new Error((0,B.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Bl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cu(h,u){let c=null;for(let E=0;E<u.length;E++){const M=u[E],j=M.getPath();null!==c&&!Ee(j,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:j}),c.events.push(M)}c&&h.eventLists_.push(c)}function $u(h,u,c){cu(h,c),du(h,E=>Ee(E,u))}function ji(h,u,c){cu(h,c),du(h,E=>ot(E,u)||ot(u,E))}function du(h,u){h.recursionDepth_++;let c=!0;for(let E=0;E<h.eventLists_.length;E++){const M=h.eventLists_[E];M&&(u(M.path)?(Xl(h.eventLists_[E]),h.eventLists_[E]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function Xl(h){for(let u=0;u<h.events.length;u++){const c=h.events[u];if(null!==c){h.events[u]=null;const E=c.getEventRunner();ze&&Re("event: "+c.toString()),ct(E)}}}const Gu="repo_interrupt",Wu=25;class jl{constructor(u,c,E,M){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=E,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ce(),this.transactionQueueTree_=new Da,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aa(h){const c=h.infoData_.getNode(new pn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function cs(h){return pl({timestamp:aa(h)})}function Jl(h,u,c,E,M){h.dataUpdateCount++;const j=new pn(u);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,c):c;let Y=[];if(M)if(E){const be=(0,B.UI)(c,Le=>Mr(Le));Y=function Gr(h,u,c,E){const M=en(h,E);if(M){const j=an(M),Y=j.path,me=j.queryId,be=Yr(Y,u),Le=li.fromObject(c);return Tr(h,Y,new Ri(Wo(me),be,Le))}return[]}(h.serverSyncTree_,j,be,M)}else{const be=Mr(c);Y=us(h.serverSyncTree_,j,be,M)}else if(E){const be=(0,B.UI)(c,Le=>Mr(Le));Y=function tl(h,u,c){const E=li.fromObject(c);return F(h,new Ri({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,E))}(h.serverSyncTree_,j,be)}else{const be=Mr(c);Y=Oa(h.serverSyncTree_,j,be)}let me=j;Y.length>0&&(me=Dl(h,j)),ji(h.eventQueue_,me,Y)}function Hl(h,u){No(h,"connected",u),!1===u&&function Tu(h){Lo(h,"onDisconnectEvents");const u=cs(h),c=ce();$r(h.onDisconnect_,An(),(M,j)=>{const Y=gl(M,j,h.serverSyncTree_,u);et(c,M,Y)});let E=[];$r(c,An(),(M,j)=>{E=E.concat(Oa(h.serverSyncTree_,M,j));const Y=ie(h,M);Dl(h,Y)}),h.onDisconnect_=ce(),ji(h.eventQueue_,An(),E)}(h)}function No(h,u,c){const E=new pn("/.info/"+u),M=Mr(c);h.infoData_.updateSnapshot(E,M);const j=Oa(h.infoSyncTree_,E,M);ji(h.eventQueue_,E,j)}function Eo(h){return h.nextWriteId_++}function pu(h,u,c){h.server_.onDisconnectCancel(u.toString(),(E,M)=>{"ok"===E&&on(h.onDisconnect_,u),Fo(0,c,E,M)})}function Su(h,u,c,E){const M=Mr(c);h.server_.onDisconnectPut(u.toString(),M.val(!0),(j,Y)=>{"ok"===j&&et(h.onDisconnect_,u,M),Fo(0,E,j,Y)})}function Ku(h,u,c){let E;E=".info"===Dn(u._path)?ia(h.infoSyncTree_,u,c):ia(h.serverSyncTree_,u,c),$u(h.eventQueue_,u._path,E)}function Lo(h,...u){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),Re(c,...u)}function Fo(h,u,c,E){u&&ct(()=>{if("ok"===c)u(null);else{const M=(c||"error").toUpperCase();let j=M;E&&(j+=": "+E);const Y=new Error(j);Y.code=M,u(Y)}})}function sl(h,u,c){return O(h.serverSyncTree_,u,c)||Fn.EMPTY_NODE}function Fa(h,u=h.transactionQueueTree_){if(u||L(h,u),sa(u)){const c=v(h,u);(0,B.hu)(c.length>0,"Sending zero length transaction queue"),c.every(M=>0===M.status)&&function El(h,u,c){const E=c.map(Le=>Le.currentWriteId),M=sl(h,u,E);let j=M;const Y=M.hash();for(let Le=0;Le<c.length;Le++){const vt=c[Le];(0,B.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const It=Yr(u,vt.path);j=j.updateChild(It,vt.currentOutputSnapshotRaw)}const me=j.val(!0),be=u;h.server_.put(be.toString(),me,Le=>{Lo(h,"transaction put response",{path:be.toString(),status:Le});let vt=[];if("ok"===Le){const It=[];for(let Ot=0;Ot<c.length;Ot++)c[Ot].status=2,vt=vt.concat(xo(h.serverSyncTree_,c[Ot].currentWriteId)),c[Ot].onComplete&&It.push(()=>c[Ot].onComplete(null,!0,c[Ot].currentOutputSnapshotResolved)),c[Ot].unwatcher();L(h,Ll(h.transactionQueueTree_,u)),Fa(h,h.transactionQueueTree_),ji(h.eventQueue_,u,vt);for(let Ot=0;Ot<It.length;Ot++)ct(It[Ot])}else{if("datastale"===Le)for(let It=0;It<c.length;It++)c[It].status=3===c[It].status?4:0;else{Mt("transaction at "+be.toString()+" failed: "+Le);for(let It=0;It<c.length;It++)c[It].status=4,c[It].abortReason=Le}Dl(h,u)}},Y)}(h,Ka(u),c)}else Hu(u)&&za(u,c=>{Fa(h,c)})}function Dl(h,u){const c=R(h,u),E=Ka(c);return function Cl(h,u,c){if(0===u.length)return;const E=[];let M=[];const Y=u.filter(me=>0===me.status).map(me=>me.currentWriteId);for(let me=0;me<u.length;me++){const be=u[me],Le=Yr(c,be.path);let It,vt=!1;if((0,B.hu)(null!==Le,"rerunTransactionsUnderNode_: relativePath should not be null."),4===be.status)vt=!0,It=be.abortReason,M=M.concat(xo(h.serverSyncTree_,be.currentWriteId,!0));else if(0===be.status)if(be.retryCount>=Wu)vt=!0,It="maxretry",M=M.concat(xo(h.serverSyncTree_,be.currentWriteId,!0));else{const Ot=sl(h,be.path,Y);be.currentInputSnapshot=Ot;const _n=u[me].update(Ot.val());if(void 0!==_n){Es("transaction failed: Data returned ",_n,be.path);let zn=Mr(_n);"object"==typeof _n&&null!=_n&&(0,B.r3)(_n,".priority")||(zn=zn.updatePriority(Ot.getPriority()));const wo=be.currentWriteId,_u=cs(h),Gs=ml(zn,Ot,_u);be.currentOutputSnapshotRaw=zn,be.currentOutputSnapshotResolved=Gs,be.currentWriteId=Eo(h),Y.splice(Y.indexOf(wo),1),M=M.concat(ui(h.serverSyncTree_,be.path,Gs,be.currentWriteId,be.applyLocally)),M=M.concat(xo(h.serverSyncTree_,wo,!0))}else vt=!0,It="nodata",M=M.concat(xo(h.serverSyncTree_,be.currentWriteId,!0))}ji(h.eventQueue_,c,M),M=[],vt&&(u[me].status=2,setTimeout(u[me].unwatcher,Math.floor(0)),u[me].onComplete&&E.push("nodata"===It?()=>u[me].onComplete(null,!1,u[me].currentInputSnapshot):()=>u[me].onComplete(new Error(It),!1,null)))}L(h,h.transactionQueueTree_);for(let me=0;me<E.length;me++)ct(E[me]);Fa(h,h.transactionQueueTree_)}(h,v(h,c),E),E}function R(h,u){let c,E=h.transactionQueueTree_;for(c=Dn(u);null!==c&&void 0===sa(E);)E=Ll(E,c),c=Dn(u=mr(u));return E}function v(h,u){const c=[];return C(h,u,c),c.sort((E,M)=>E.order-M.order),c}function C(h,u,c){const E=sa(u);if(E)for(let M=0;M<E.length;M++)c.push(E[M]);za(u,M=>{C(h,M,c)})}function L(h,u){const c=sa(u);if(c){let E=0;for(let M=0;M<c.length;M++)2!==c[M].status&&(c[E]=c[M],E++);c.length=E,Fl(u,c.length>0?c:void 0)}za(u,E=>{L(h,E)})}function ie(h,u){const c=Ka(R(h,u)),E=Ll(h.transactionQueueTree_,u);return function Zl(h,u,c){let E=c?h:h.parent;for(;null!==E;){if(u(E))return!0;E=E.parent}}(E,M=>{y(h,M)}),y(h,E),au(E,M=>{y(h,M)}),c}function y(h,u){const c=sa(u);if(c){const E=[];let M=[],j=-1;for(let Y=0;Y<c.length;Y++)3===c[Y].status||(1===c[Y].status?((0,B.hu)(j===Y-1,"All SENT items should be at beginning of queue."),j=Y,c[Y].status=3,c[Y].abortReason="set"):((0,B.hu)(0===c[Y].status,"Unexpected transaction status in abort"),c[Y].unwatcher(),M=M.concat(xo(h.serverSyncTree_,c[Y].currentWriteId,!0)),c[Y].onComplete&&E.push(c[Y].onComplete.bind(null,new Error("set"),!1,null))));-1===j?Fl(u,void 0):c.length=j+1,ji(h.eventQueue_,Ka(u),M);for(let Y=0;Y<E.length;Y++)ct(E[Y])}}const b=function(h,u){const c=H(h),E=c.namespace;return"firebase.com"===c.domain&&Qe(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!E||"undefined"===E)&&"localhost"!==c.domain&&Qe("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new un(c.host,c.secure,E,"ws"===c.scheme||"wss"===c.scheme,u,"",E!==c.subdomain),path:new pn(c.pathString)}},H=function(h){let u="",c="",E="",M="",j="",Y=!0,me="https",be=443;if("string"==typeof h){let Le=h.indexOf("//");Le>=0&&(me=h.substring(0,Le-1),h=h.substring(Le+2));let vt=h.indexOf("/");-1===vt&&(vt=h.length);let It=h.indexOf("?");-1===It&&(It=h.length),u=h.substring(0,Math.min(vt,It)),vt<It&&(M=function _(h){let u="";const c=h.split("/");for(let E=0;E<c.length;E++)if(c[E].length>0){let M=c[E];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch{}u+="/"+M}return u}(h.substring(vt,It)));const Ot=function g(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const E=c.split("=");2===E.length?u[decodeURIComponent(E[0])]=decodeURIComponent(E[1]):Mt(`Invalid query segment '${c}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,It)));Le=u.indexOf(":"),Le>=0?(Y="https"===me||"wss"===me,be=parseInt(u.substring(Le+1),10)):Le=u.length;const _n=u.slice(0,Le);if("localhost"===_n.toLowerCase())c="localhost";else if(_n.split(".").length<=2)c=_n;else{const zn=u.indexOf(".");E=u.substring(0,zn).toLowerCase(),c=u.substring(zn+1),j=E}"ns"in Ot&&(j=Ot.ns)}return{host:u,port:be,domain:c,subdomain:E,secure:Y,scheme:me,pathString:M,namespace:j}},ne="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_e=function(){let h=0;const u=[];return function(c){const E=c===h;let M;h=c;const j=new Array(8);for(M=7;M>=0;M--)j[M]=ne.charAt(c%64),c=Math.floor(c/64);(0,B.hu)(0===c,"Cannot push at time == 0");let Y=j.join("");if(E){for(M=11;M>=0&&63===u[M];M--)u[M]=0;u[M]++}else for(M=0;M<12;M++)u[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)Y+=ne.charAt(u[M]);return(0,B.hu)(20===Y.length,"nextPushId: Length should be 20."),Y}}();class Ie{constructor(u,c,E,M){this.eventType=u,this.eventRegistration=c,this.snapshot=E,this.prevName=M}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class Ze{constructor(u,c,E){this.eventRegistration=u,this.error=c,this.path=E}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ft{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Vt{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new B.BH;return pu(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){co("OnDisconnect.remove",this._path);const u=new B.BH;return Su(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){co("OnDisconnect.set",this._path),Zs("OnDisconnect.set",u,this._path,!1);const c=new B.BH;return Su(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){co("OnDisconnect.setWithPriority",this._path),Zs("OnDisconnect.setWithPriority",u,this._path,!1),function(h,u,c){if(!c||void 0!==u){if(nt(u))throw new Error((0,B.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ul(u))throw new Error((0,B.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",c,!1);const E=new B.BH;return function bu(h,u,c,E,M){const j=Mr(c,E);h.server_.onDisconnectPut(u.toString(),j.val(!0),(Y,me)=>{"ok"===Y&&et(h.onDisconnect_,u,j),Fo(0,M,Y,me)})}(this._repo,this._path,u,c,E.wrapCallback(()=>{})),E.promise}update(u){co("OnDisconnect.update",this._path),lu("OnDisconnect.update",u,this._path,!1);const c=new B.BH;return function gu(h,u,c,E){if((0,B.xb)(c))return Re("onDisconnect().update() called with empty data.  Don't do anything."),void Fo(0,E,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),c,(M,j)=>{"ok"===M&&Kt(c,(Y,me)=>{const be=Mr(me);et(h.onDisconnect_,vr(u,Y),be)}),Fo(0,E,M,j)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class $t{constructor(u,c,E,M){this._repo=u,this._path=c,this._queryParams=E,this._orderByCalled=M}get key(){return xn(this._path)?null:br(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const u=G(this._queryParams),c=rr(u);return"{}"===c?"default":c}get _queryObject(){return G(this._queryParams)}isEqual(u){if(!((u=(0,B.m9)(u))instanceof $t))return!1;const c=this._repo===u._repo,E=Ee(this._path,u._path);return c&&E&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function oi(h){let u="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(u+="/"+encodeURIComponent(String(h.pieces_[c])));return u||"/"}(this._path)}}class Sn extends $t{constructor(u,c){super(u,c,new wr,!1)}get parent(){const u=Rn(this._path);return null===u?null:new Sn(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class gr{constructor(u,c,E){this._node=u,this.ref=c,this._index=E}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new pn(u),E=Wr(this.ref,u);return new gr(this._node.getChild(c),E,jr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(E,M)=>u(new gr(M,Wr(this.ref,E),jr)))}hasChild(u){const c=new pn(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nr(h,u){return(h=(0,B.m9)(h))._checkNotDeleted("ref"),void 0!==u?Wr(h._root,u):h._root}function Wr(h,u){return null===Dn((h=(0,B.m9)(h))._path)?_l("child","path",u,!1):Vl("child","path",u,!1),new Sn(h._repo,vr(h._path,u))}function Ds(h){return h=(0,B.m9)(h),new Vt(h._repo,h._path)}function Ca(h,u){h=(0,B.m9)(h),co("push",h._path),Zs("push",u,h._path,!0);const c=aa(h._repo),E=_e(c),M=Wr(h,E),j=Wr(h,E);let Y;return Y=null!=u?Ni(j,u).then(()=>j):Promise.resolve(j),M.then=Y.then.bind(Y),M.catch=Y.then.bind(Y,void 0),M}function Ia(h){return co("remove",h._path),Ni(h,null)}function Ni(h,u){h=(0,B.m9)(h),co("set",h._path),Zs("set",u,h._path,!1);const c=new B.BH;return function hu(h,u,c,E,M){Lo(h,"set",{path:u.toString(),value:c,priority:E});const j=cs(h),Y=Mr(c,E),me=O(h.serverSyncTree_,u),be=ml(Y,me,j),Le=Eo(h),vt=ui(h.serverSyncTree_,u,be,Le,!0);cu(h.eventQueue_,vt),h.server_.put(u.toString(),Y.val(!0),(Ot,_n)=>{const zn="ok"===Ot;zn||Mt("set at "+u+" failed: "+Ot);const Ii=xo(h.serverSyncTree_,Le,!zn);ji(h.eventQueue_,u,Ii),Fo(0,M,Ot,_n)});const It=ie(h,u);Dl(h,It),ji(h.eventQueue_,It,[])}(h._repo,h._path,u,null,c.wrapCallback(()=>{})),c.promise}function Il(h,u){lu("update",u,h._path,!1);const c=new B.BH;return function fu(h,u,c,E){Lo(h,"update",{path:u.toString(),value:c});let M=!0;const j=cs(h),Y={};if(Kt(c,(me,be)=>{M=!1,Y[me]=gl(vr(u,me),Mr(be),h.serverSyncTree_,j)}),M)Re("update() called with empty data.  Don't do anything."),Fo(0,E,"ok",void 0);else{const me=Eo(h),be=function fl(h,u,c,E){!function Xo(h,u,c,E){(0,B.hu)(E>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:c,writeId:E,visible:!0}),h.visibleWrites=Ha(h.visibleWrites,u,c),h.lastWriteId=E}(h.pendingWriteTree_,u,c,E);const M=li.fromObject(c);return F(h,new Ri({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,M))}(h.serverSyncTree_,u,Y,me);cu(h.eventQueue_,be),h.server_.merge(u.toString(),c,(Le,vt)=>{const It="ok"===Le;It||Mt("update at "+u+" failed: "+Le);const Ot=xo(h.serverSyncTree_,me,!It),_n=Ot.length>0?Dl(h,u):u;ji(h.eventQueue_,_n,Ot),Fo(0,E,Le,vt)}),Kt(c,Le=>{const vt=ie(h,vr(u,Le));Dl(h,vt)}),ji(h.eventQueue_,u,[])}}(h._repo,h._path,u,c.wrapCallback(()=>{})),c.promise}function uc(h){h=(0,B.m9)(h);const u=new ft(()=>{}),c=new Jn(u);return function eu(h,u,c){const E=function T(h,u){const c=u._path;let E=null;h.syncPointTree_.foreachOnPath(c,(Le,vt)=>{const It=Yr(Le,c);E=E||Qs(vt,It)});let M=h.syncPointTree_.get(c);M?E=E||Qs(M,An()):(M=new dl,h.syncPointTree_=h.syncPointTree_.set(c,M));const j=null!=E,Y=j?new ai(E,!0,!1):null;return function ou(h){return Zi(h.viewCache_)}(Ga(M,u,Ft(h.pendingWriteTree_,u._path),j?Y.getNode():Fn.EMPTY_NODE,j))}(h.serverSyncTree_,u);return null!=E?Promise.resolve(E):h.server_.get(u).then(M=>{const j=Mr(M).withIndex(u._queryParams.getIndex());let Y;if(A(h.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())Y=Oa(h.serverSyncTree_,u._path,j);else{const me=je(h.serverSyncTree_,u);Y=us(h.serverSyncTree_,u._path,j,me)}return ji(h.eventQueue_,u._path,Y),ia(h.serverSyncTree_,u,c,null,!0),j},M=>(Lo(h,"get for query "+(0,B.Wl)(u)+" failed: "+M),Promise.reject(new Error(M))))}(h._repo,h,c).then(E=>new gr(E,new Sn(h._repo,h._path),h._queryParams.getIndex()))}class Jn{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const E=c._queryParams.getIndex();return new Ie("value",this,new gr(u.snapshotNode,new Sn(c._repo,c._path),E))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Ze(this,u,c):null}matches(u){return u instanceof Jn&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Do{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Ze(this,u,c):null}createEvent(u,c){(0,B.hu)(null!=u.childName,"Child events should have a childName.");const E=Wr(new Sn(c._repo,c._path),u.childName),M=c._queryParams.getIndex();return new Ie(u.type,this,new gr(u.snapshotNode,E,M),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof Do&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $l(h,u,c,E){return function ol(h,u,c,E,M){let j;if("object"==typeof E&&(j=void 0,M=E),"function"==typeof E&&(j=E),M&&M.onlyOnce){const be=c,Le=(vt,It)=>{Ku(h._repo,h,me),be(vt,It)};Le.userCallback=c.userCallback,Le.context=c.context,c=Le}const Y=new ft(c,j||void 0),me="value"===u?new Jn(Y):new Do(u,Y);return function zu(h,u,c){let E;E=".info"===Dn(u._path)?A(h.infoSyncTree_,u,c):A(h.serverSyncTree_,u,c),$u(h.eventQueue_,u._path,E)}(h._repo,h,me),()=>Ku(h._repo,h,me)}(h,"value",u,c,E)}function Fs(h,u,c){let E=null;const M=c?new ft(c):null;"value"===u?E=new Jn(M):u&&(E=new Do(u,M)),Ku(h._repo,h,E)}(function Oo(h){(0,B.hu)(!_s,"__referenceConstructor has already been defined"),_s=h})(Sn),function Nl(h){(0,B.hu)(!_a,"__referenceConstructor has already been defined"),_a=h}(Sn);const Od="FIREBASE_DATABASE_EMULATOR_HOST",dc={};let Rd=!1;class vh{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function wu(h,u,c){if(h.stats_=Vr(h.repoInfo_),h.forceRestClient_||Ue())h.server_=new $(h.repoInfo_,(E,M,j,Y)=>{Jl(h,E,M,j,Y)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>Hl(h,!0),0);else{if(typeof c<"u"&&null!==c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(c)}catch(E){throw new Error("Invalid authOverride provided: "+E)}}h.persistentConnection_=new ri(h.repoInfo_,u,(E,M,j,Y)=>{Jl(h,E,M,j,Y)},E=>{Hl(h,E)},E=>{!function vl(h,u){Kt(u,(c,E)=>{No(h,c,E)})}(h,E)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(E=>{h.server_.refreshAuthToken(E)}),h.appCheckProvider_.addTokenChangeListener(E=>{h.server_.refreshAppCheckToken(E.token)}),h.statsReporter_=function di(h,u){const c=h.toString();return gi[c]||(gi[c]=u()),gi[c]}(h.repoInfo_,()=>new ja(h.stats_,h.server_)),h.infoData_=new k,h.infoSyncTree_=new va({startListening:(E,M,j,Y)=>{let me=[];const be=h.infoData_.getNode(E._path);return be.isEmpty()||(me=Oa(h.infoSyncTree_,E._path,be),setTimeout(()=>{Y("ok")},0)),me},stopListening:()=>{}}),No(h,"connected",!1),h.serverSyncTree_=new va({startListening:(E,M,j,Y)=>(h.server_.listen(E,j,M,(me,be)=>{const Le=Y(me,be);ji(h.eventQueue_,E._path,Le)}),[]),stopListening:(E,M)=>{h.server_.unlisten(E,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,An())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xd(h,u){const c=dc[u];(!c||c[h.key]!==h)&&Qe(`Database ${u}(${h.repoInfo_}) has already been deleted.`),function $s(h){h.persistentConnection_&&h.persistentConnection_.interrupt(Gu)}(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Qe("Cannot call "+u+" on a deleted database.")}}function Eh(h=(0,I.Mq)(),u){const c=(0,I.qX)(h,"database").getImmediate({identifier:u});if(!c._instanceStarted){const E=(0,B.P0)("database");E&&function _f(h,u,c,E={}){(h=(0,B.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Qe("Cannot call useEmulator() after instance has already been initialized.");const M=h._repoInternal;let j;if(M.repoInfo_.nodeAdmin)E.mockUserToken&&Qe('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),j=new Zn(Zn.OWNER);else if(E.mockUserToken){const Y="string"==typeof E.mockUserToken?E.mockUserToken:(0,B.Sg)(E.mockUserToken,h.app.options.projectId);j=new Zn(Y)}!function $c(h,u,c,E){h.repoInfo_=new un(`${u}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),E&&(h.authTokenProvider_=E)}(M,u,c,j)}(c,...E)}return c}const Gl={".sv":"timestamp"};function Ch(){return Gl}function Gc(h){return{".sv":{increment:h}}}ri.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},ri.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function Dh(h){(function re(h){K=h})(I.Jn),(0,I.Xd)(new te.wA("database",(u,{instanceIdentifier:c})=>function hc(h,u,c,E,M){let j=E||h.options.databaseURL;void 0===j&&(h.options.projectId||Qe("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",h.options.projectId),j=`${h.options.projectId}-default-rtdb.firebaseio.com`);let be,Le,Y=b(j,M),me=Y.repoInfo;typeof process<"u"&&process.env&&(Le=process.env[Od]),Le?(be=!0,j=`http://${Le}?ns=${me.namespace}`,Y=b(j,M),me=Y.repoInfo):be=!Y.repoInfo.secure;const vt=M&&be?new Zn(Zn.OWNER):new Un(h.name,h.options,u);La("Invalid Firebase Database URL",Y),xn(Y.path)||Qe("Database URL must point to the root of a Firebase Database (not including a child path).");const It=function Nd(h,u,c,E){let M=dc[u.name];M||(M={},dc[u.name]=M);let j=M[h.toURLString()];return j&&Qe("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),j=new jl(h,Rd,c,E),M[h.toURLString()]=j,j}(me,h,vt,new Lt(h.name,c));return new vh(It,h)}(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,I.KN)(se,"0.14.3",h),(0,I.KN)(se,"0.14.3","esm2017")}()},9996:(Te,ae,D)=>{D.d(ae,{ET:()=>Zy,hJ:()=>cm,oe:()=>Vc,JU:()=>dm,ST:()=>Bp,Lx:()=>Wy,QT:()=>Hm,kl:()=>$m,PL:()=>Gm,ad:()=>ky,b9:()=>Nm,cf:()=>Xy,Xo:()=>xm,IO:()=>Mm,Bt:()=>Td,TQ:()=>Lm,r7:()=>Zp});var K,f=D(9671),I=D(6881),te=D(4859),B=D(1877),Z=D(2090),se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee={},re=re||{},q=se||self;function ue(){}function fe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ne(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),Ye=0;function Ve(i,e,t){return i.call.apply(i.bind,arguments)}function We(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function ze(i,e,t){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ve:We).apply(null,arguments)}function rt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ke(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,l,p){for(var w=Array(arguments.length-2),N=2;N<arguments.length;N++)w[N-2]=arguments[N];return e.prototype[l].apply(o,w)}}function Re(){this.s=this.s,this.o=this.o}Re.prototype.s=!1,Re.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function $e(i){Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++Ye)}(this)},Re.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ct=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Qe(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Mt(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(fe(o)){const l=i.length||0,p=o.length||0;i.length=l+p;for(let w=0;w<p;w++)i[l+w]=o[w]}else i.push(o)}}function Tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{q.addEventListener("test",ue,e),q.removeEventListener("test",ue,e)}catch{}return i}();function qe(i){return/^[\s\xa0]*$/.test(i)}var at=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Xe(i,e){return i<e?-1:i>e?1:0}function _t(){var i=q.navigator;return i&&(i=i.userAgent)?i:""}function bt(i){return-1!=_t().indexOf(i)}function fn(i){return fn[" "](i),i}fn[" "]=ue;var hn,i,dn=bt("Opera"),Kt=bt("Trident")||bt("MSIE"),Ln=bt("Edge"),En=Ln||Kt,ir=bt("Gecko")&&!(-1!=_t().toLowerCase().indexOf("webkit")&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),Kr=-1!=_t().toLowerCase().indexOf("webkit")&&!bt("Edge");function Mn(){var i=q.document;return i?i.documentMode:void 0}e:{var si="",wt=(i=_t(),ir?/rv:([^\);]+)(\)|;)/.exec(i):Ln?/Edge\/([\d\.]+)/.exec(i):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Kr?/WebKit\/(\S+)/.exec(i):dn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(wt&&(si=wt?wt[1]:""),Kt){var ct=Mn();if(null!=ct&&ct>parseFloat(si)){hn=String(ct);break e}}hn=si}var Ue={};var Zn=q.document&&Kt&&(Mn()||parseInt(hn,10))||void 0;function Lr(i,e){if(Tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ir){e:{try{fn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:rs[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Lr.X.h.call(this)}}ke(Lr,Tt);var rs={2:"touch",3:"pen",4:"mouse"};Lr.prototype.h=function(){Lr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ur="closure_listenable_"+(1e6*Math.random()|0),ln=0;function Li(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++ln,this.ba=this.ea=!1}function qr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Ir(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Sr(i){const e={};for(const t in i)e[t]=i[t];return e}const Tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kn(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let p=0;p<Tn.length;p++)t=Tn[p],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function cr(i){this.src=i,this.g={},this.h=0}function un(i,e){var t=e.type;if(t in i.g){var p,o=i.g[t],l=Ct(o,e);(p=0<=l)&&Array.prototype.splice.call(o,l,1),p&&(qr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function qt(i,e,t,o){for(var l=0;l<i.length;++l){var p=i[l];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==o)return l}return-1}cr.prototype.add=function(i,e,t,o,l){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var w=qt(i,e,o,l);return-1<w?(e=i[w],t||(e.ea=!1)):((e=new Li(e,this.src,p,!!o,l)).ea=t,i.push(e)),e};var Yn="closure_lm_"+(1e6*Math.random()|0),yi={};function Ur(i,e,t,o,l){if(o&&o.once)return di(i,e,t,o,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Ur(i,e[p],t,o,l);return null}return t=Jr(t),i&&i[ur]?i.N(e,t,Ne(o)?!!o.capture:!!o,l):gi(i,e,t,!1,o,l)}function gi(i,e,t,o,l,p){if(!e)throw Error("Invalid event type");var w=Ne(l)?!!l.capture:!!l,N=or(i);if(N||(i[Yn]=N=new cr(i)),(t=N.add(e,t,o,w,p)).proxy)return t;if(o=function Vr(){const e=is;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)nt||(l=w),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(jn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function di(i,e,t,o,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)di(i,e[p],t,o,l);return null}return t=Jr(t),i&&i[ur]?i.O(e,t,Ne(o)?!!o.capture:!!o,l):gi(i,e,t,!0,o,l)}function _r(i,e,t,o,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)_r(i,e[p],t,o,l);else o=Ne(o)?!!o.capture:!!o,t=Jr(t),i&&i[ur]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=qt(p=i.g[e],t,o,l))&&(qr(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=or(i))&&(e=i.g[e.toString()],i=-1,e&&(i=qt(e,t,o,l)),(t=-1<i?e[i]:null)&&Fi(t))}function Fi(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[ur])un(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(jn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=or(e))?(un(t,i),0==t.h&&(t.src=null,e[Yn]=null)):qr(i)}}}function jn(i){return i in yi?yi[i]:yi[i]="on"+i}function is(i,e){if(i.ba)i=!0;else{e=new Lr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Fi(i),i=t.call(o,e)}return i}function or(i){return(i=i[Yn])instanceof cr?i:null}var Pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(i){return"function"==typeof i?i:(i[Pi]||(i[Pi]=function(e){return i.handleEvent(e)}),i[Pi])}function Je(){Re.call(this),this.i=new cr(this),this.P=this,this.I=null}function Se(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Tt(e,i);else if(e instanceof Tt)e.target=e.target||i;else{var l=e;Kn(e=new Tt(o,i),l)}if(l=!0,t)for(var p=t.length-1;0<=p;p--){var w=e.g=t[p];l=xe(w,o,!0,e)&&l}if(l=xe(w=e.g=i,o,!0,e)&&l,l=xe(w,o,!1,e)&&l,t)for(p=0;p<t.length;p++)l=xe(w=e.g=t[p],o,!1,e)&&l}function xe(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var w=e[p];if(w&&!w.ba&&w.capture==t){var N=w.listener,z=w.ha||w.src;w.ea&&un(i.i,w),l=!1!==N.call(z,o)&&l}}return l&&!o.defaultPrevented}ke(Je,Re),Je.prototype[ur]=!0,Je.prototype.removeEventListener=function(i,e,t,o){_r(this,i,e,t,o)},Je.prototype.M=function(){if(Je.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)qr(t[o]);delete i.g[e],i.h--}}this.I=null},Je.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Je.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Pt=q.JSON.stringify;function ge(){var i=he;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Wt,Ce=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new st,i=>i.reset());class st{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fe(i){q.setTimeout(()=>{throw i},0)}function Nt(i,e){Wt||function Oe(){var i=q.Promise.resolve(void 0);Wt=function(){i.then(Ae)}}(),Pe||(Wt(),Pe=!0),he.add(i,e)}var Pe=!1,he=new class ve{constructor(){this.h=this.g=null}add(e,t){const o=Ce.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ae(){for(var i;i=ge();){try{i.h.call(i.g)}catch(t){Fe(t)}var e=Ce;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Pe=!1}function Ke(i,e){Je.call(this),this.h=i||1,this.g=e||q,this.j=ze(this.lb,this),this.l=Date.now()}function kt(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function rn(i,e,t){if("function"==typeof i)t&&(i=ze(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ze(i.handleEvent,i)}return 2147483647<Number(e)?-1:q.setTimeout(i,e||0)}function Xn(i){i.g=rn(()=>{i.g=null,i.i&&(i.i=!1,Xn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ke(Ke,Je),(K=Ke.prototype).ca=!1,K.R=null,K.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Se(this,"tick"),this.ca&&(kt(this),this.start()))}},K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},K.M=function(){Ke.X.M.call(this),kt(this),delete this.g};class Dr extends Re{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xn(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(i){Re.call(this),this.h=i,this.g={}}ke(Ti,Re);var pt=[];function tt(i,e,t,o){Array.isArray(t)||(t&&(pt[0]=t.toString()),t=pt);for(var l=0;l<t.length;l++){var p=Ur(e,t[l],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function xt(i){Ir(i.g,function(e,t){this.g.hasOwnProperty(t)&&Fi(e)},i),i.g={}}function Zt(){this.g=!0}function cn(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var w=1;w<l.length;w++)l[w]=""}}}return Pt(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ti.prototype.M=function(){Ti.X.M.call(this),xt(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.Aa=function(){this.g=!1},Zt.prototype.info=function(){};var ei={},ti=null;function bs(){return ti=ti||new Je}function ki(i){Tt.call(this,ei.Pa,i)}function ss(i){const e=bs();Se(e,new ki(e))}function Br(i,e){Tt.call(this,ei.STAT_EVENT,i),this.stat=e}function Bt(i){const e=bs();Se(e,new Br(e,i))}function bn(i,e){Tt.call(this,ei.Qa,i),this.size=e}function pn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){i()},e)}ei.Pa="serverreachability",ke(ki,Tt),ei.STAT_EVENT="statevent",ke(Br,Tt),ei.Qa="timingevent",ke(bn,Tt);var An={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function tr(){}function br(){}tr.prototype.h=null;var vr,oi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _i(){Tt.call(this,"d")}function Rn(){Tt.call(this,"c")}function xn(){}function Yr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Ti(this),this.O=Ee,this.T=new Ke(i=En?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}ke(_i,Tt),ke(Rn,Tt),ke(xn,tr),xn.prototype.g=function(){return new XMLHttpRequest},xn.prototype.i=function(){return{}},vr=new xn;var Ee=45e3,ot={},Ge={};function gt(i,e,t){i.K=1,i.v=fo(sr(e)),i.s=t,i.P=!0,Ht(i,null)}function Ht(i,e){i.F=Date.now(),ar(i),i.A=sr(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),jr(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Is,i.g=gs(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Dr(ze(i.La,i,i.g),i.N)),tt(i.S,i.g,"readystatechange",i.ib),e=i.H?Sr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ss(),function Pn(i,e,t,o,l,p){i.info(function(){if(i.g)if(p)for(var w="",N=p.split("&"),z=0;z<N.length;z++){var J=N[z].split("=");if(1<J.length){var ye=J[0];J=J[1];var Me=ye.split("_");w=2<=Me.length&&"type"==Me[1]?w+(ye+"=")+J+"&":w+(ye+"=redacted&")}}else w=null;else w=p;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+w})}(i.j,i.u,i.A,i.m,i.U,i.s)}function zt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Xt(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=hr(i,t),l==Ge){4==e&&(i.o=4,Bt(14),o=!1),cn(i.j,i.m,null,"[Incomplete Response]");break}if(l==ot){i.o=4,Bt(15),cn(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}cn(i.j,i.m,l,null),ni(i,l)}zt(i)&&l!=Ge&&l!=ot&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Bt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wo(e),e.K=!0,Bt(11))):(cn(i.j,i.m,t,"[Invalid Chunked Response]"),Si(i),Ar(i))}function hr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Ge:(t=Number(e.substring(t,o)),isNaN(t)?ot:(o+=1)+t>e.length?Ge:(e=e.substr(o,t),i.C=o+t,e))}function ar(i){i.V=Date.now()+i.O,hi(i,i.O)}function hi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=pn(ze(i.gb,i),e)}function Er(i){i.B&&(q.clearTimeout(i.B),i.B=null)}function Ar(i){0==i.l.G||i.I||Ki(i.l,i)}function Si(i){Er(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,kt(i.T),xt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ni(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Fn(t.h,i)))if(!i.J&&Fn(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Ui(t),mt(t)}Mo(t),Bt(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=pn(ze(t.cb,t),6e3));if(1>=ws(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ai(t,11)}else if((i.J||t.g==i)&&Ui(t),!qe(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let J=l[e];if(t.T=J[0],J=J[1],2==t.G)if("c"==J[0]){t.I=J[1],t.ka=J[2];const ye=J[3];null!=ye&&(t.ma=ye,t.j.info("VER="+t.ma));const Me=J[4];null!=Me&&(t.Ca=Me,t.j.info("SVER="+t.Ca));const lt=J[5];null!=lt&&"number"==typeof lt&&0<lt&&(t.J=o=1.5*lt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Rt=i.g;if(Rt){const jt=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var p=o.h;p.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(yo(p,p.h),p.h=null))}if(o.D){const vn=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(o.za=vn,Hn(o.F,o.D,vn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var w=i;if((o=t).sa=Ko(o,o.H?o.ka:null,o.V),w.J){Os(o.h,w);var N=w,z=o.J;z&&N.setTimeout(z),N.B&&(Er(N),ar(N)),o.g=w}else Vs(o);0<t.i.length&&Go(t)}else"stop"!=J[0]&&"close"!=J[0]||ai(t,7);else 3==t.G&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?ai(t,7):$r(t):"noop"!=J[0]&&t.l&&t.l.wa(J),t.A=0)}ss()}catch{}}function Cn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(fe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ri(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(fe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function wa(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(fe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,p=0;p<l;p++)e.call(void 0,o[p],t&&t[p],i)}(K=Yr.prototype).setTimeout=function(i){this.O=i},K.ib=function(i){i=i.target;const e=this.L;e&&3==G(i)?e.l():this.La(i)},K.La=function(i){try{if(i==this.g)e:{const ye=G(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ye)&&(3!=ye||En||this.g&&(this.h.h||this.g.fa()||$(this.g)))){this.I||4!=ye||7==e||ss(),Er(this);var t=this.g.aa();this.Y=t;t:if(zt(this)){var o=$(this.g);i="";var l=o.length,p=4==G(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),Ar(this);var w="";break t}this.h.i=new q.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==t,function Qn(i,e,t,o,l,p,w){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+p+" "+w})}(this.j,this.u,this.A,this.m,this.U,ye,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,z=this.g;if((N=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qe(N)){var J=N;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,Bt(12),Si(this),Ar(this);break e}cn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ni(this,t)}this.P?(Xt(this,ye,w),En&&this.i&&3==ye&&(tt(this.S,this.T,"tick",this.hb),this.T.start())):(cn(this.j,this.m,w,null),ni(this,w)),4==ye&&Si(this),this.i&&!this.I&&(4==ye?Ki(this.l,this):(this.i=!1,ar(this)))}else 400==t&&0<w.indexOf("Unknown SID")?(this.o=3,Bt(12)):(this.o=0,Bt(13)),Si(this),Ar(this)}}}catch{}},K.hb=function(){if(this.g){var i=G(this.g),e=this.g.fa();this.C<e.length&&(Er(this),Xt(this,i,e),this.i&&4!=i&&ar(this))}},K.cancel=function(){this.I=!0,Si(this)},K.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function dr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ss(),Bt(17)),Si(this),this.o=2,Ar(this)):hi(this,this.V-i)};var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Gi){this.h=void 0!==e?e:i.h,to(this,i.j),this.s=i.s,this.g=i.g,bi(this,i.m),this.l=i.l,e=i.i;var t=new po;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ms(this,t),this.o=i.o}else i&&(t=String(i).match(As))?(this.h=!!e,to(this,t[1]||"",!0),this.s=zs(t[2]||""),this.g=zs(t[3]||"",!0),bi(this,t[4]),this.l=zs(t[5]||"",!0),Ms(this,t[6]||"",!0),this.o=zs(t[7]||"")):(this.h=!!e,this.i=new po(null,this.h))}function sr(i){return new Gi(i)}function to(i,e,t){i.j=t?zs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function bi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ms(i,e,t){e instanceof po?(i.i=e,function Vo(i,e){e&&!i.j&&(Yi(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(os(this,o),jr(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=no(e,Wi)),i.i=new po(e,i.h))}function Hn(i,e,t){i.i.set(e,t)}function fo(i){return Hn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function zs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function no(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Al),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Al(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(no(e,Uo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(no(e,Uo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(no(t,"/"==t.charAt(0)?So:To,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",no(t,Ta)),i.join("")};var Uo=/[#\/\?@]/g,To=/[#\?:]/g,So=/[#\?]/g,Wi=/[#\?@]/g,Ta=/#/g;function po(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Yi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ws(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var p=i[t].substring(0,o);l=i[t].substring(o+1)}else p=i[t];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function os(i,e){Yi(i),e=go(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ro(i,e){return Yi(i),e=go(i,e),i.g.has(e)}function jr(i,e,t){os(i,e),0<t.length&&(i.i=null,i.g.set(go(i,e),Qe(t)),i.h+=t.length)}function go(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function io(i){this.l=i||mo,i=q.PerformanceNavigationTiming?0<(i=q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(K=po.prototype).add=function(i,e){Yi(this),this.i=null,i=go(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},K.forEach=function(i,e){Yi(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},K.oa=function(){Yi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let p=0;p<l.length;p++)t.push(e[o])}return t},K.W=function(i){Yi(this);let e=[];if("string"==typeof i)ro(this,i)&&(e=e.concat(this.g.get(go(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},K.set=function(i,e){return Yi(this),this.i=null,ro(this,i=go(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},K.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const p=encodeURIComponent(String(o)),w=this.W(o);for(o=0;o<w.length;o++){var l=p;""!==w[o]&&(l+="="+encodeURIComponent(String(w[o]))),i.push(l)}}return this.i=i.join("&")};var mo=10;function fs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ws(i){return i.h?1:i.g?i.g.size:0}function Fn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function yo(i,e){i.g?i.g.add(e):i.h=e}function Os(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Va(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Qe(i.i)}function Mr(){}function Qi(){this.g=new Mr}function Bo(i,e,t){const o=t||"";try{Cn(i,function(l,p){let w=l;Ne(l)&&(w=Pt(l)),e.push(o+p+"="+encodeURIComponent(w))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function so(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function as(i){this.l=i.ac||null,this.j=i.jb||!1}function Hr(i,e){Je.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}io.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Mr.prototype.stringify=function(i){return q.JSON.stringify(i,void 0)},Mr.prototype.parse=function(i){return q.JSON.parse(i,void 0)},ke(as,tr),as.prototype.g=function(){return new Hr(this.l,this.j)},as.prototype.i=function(i){return function(){return i}}({}),ke(Hr,Je);var ps=0;function jo(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Ei(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ls(i)}function ls(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(K=Hr.prototype).open=function(i,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ls(this)},K.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ei(this)),this.readyState=ps},K.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jo(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},K.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ei(this):ls(this),3==this.readyState&&jo(this)}},K.Va=function(i){this.g&&(this.response=this.responseText=i,Ei(this))},K.Ua=function(i){this.g&&(this.response=i,Ei(this))},K.ga=function(){this.g&&Ei(this)},K.setRequestHeader=function(i,e){this.v.append(i,e)},K.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},K.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ho=q.JSON.parse;function wr(i){Je.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qi,this.K=this.L=!1}ke(wr,Je);var qi="",bo=/^https?$/i,Rs=["POST","PUT"];function Ks(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ba(i),kn(i)}function Ba(i){i.D||(i.D=!0,Se(i,"complete"),Se(i,"error"))}function Ao(i){if(i.h&&typeof re<"u"&&(!i.C[1]||4!=G(i)||2!=i.aa()))if(i.v&&4==G(i))rn(i.Ha,0,i);else if(Se(i,"readystatechange"),4==G(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===N){var l=String(i.H).match(As)[1]||null;if(!l&&q.self&&q.self.location){var p=q.self.location.protocol;l=p.substr(0,p.length-1)}o=!bo.test(l?l.toLowerCase():"")}t=o}if(t)Se(i,"complete"),Se(i,"success");else{i.m=6;try{var w=2<G(i)?i.g.statusText:""}catch{w=""}i.j=w+" ["+i.aa()+"]",Ba(i)}}finally{kn(i)}}}function kn(i,e){if(i.g){$o(i);const t=i.g,o=i.C[0]?ue:null;i.g=null,i.C=null,e||Se(i,"ready");try{t.onreadystatechange=o}catch{}}}function $o(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(q.clearTimeout(i.A),i.A=null)}function G(i){return i.g?i.g.readyState:0}function $(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case qi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function k(i){let e="";return Ir(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ce(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=k(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Hn(i,e,t))}function et(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function on(i){this.Ca=0,this.i=[],this.j=new Zt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=et("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=et("baseRetryDelayMs",5e3,i),this.bb=et("retryDelaySeedMs",1e4,i),this.$a=et("forwardChannelMaxRetries",2,i),this.ta=et("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new io(i&&i.concurrentRequestLimit),this.Fa=new Qi,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function $r(i){if(lr(i),3==i.G){var e=i.U++,t=sr(i.F);Hn(t,"SID",i.I),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),ja(i,t),(e=new Yr(i,i.j,e,void 0)).K=2,e.v=fo(sr(t)),t=!1,q.navigator&&q.navigator.sendBeacon&&(t=q.navigator.sendBeacon(e.v.toString(),"")),!t&&q.Image&&((new Image).src=e.v,t=!0),t||(e.g=gs(e.l,null),e.g.da(e.v)),e.F=Date.now(),ar(e)}ma(i)}function mt(i){i.g&&(Wo(i),i.g.cancel(),i.g=null)}function lr(i){mt(i),i.u&&(q.clearTimeout(i.u),i.u=null),Ui(i),i.h.cancel(),i.m&&("number"==typeof i.m&&q.clearTimeout(i.m),i.m=null)}function Go(i){fs(i.h)||i.m||(i.m=!0,Nt(i.Ja,i),i.C=0)}function zi(i,e){var t;t=e?e.m:i.U++;const o=sr(i.F);Hn(o,"SID",i.I),Hn(o,"RID",t),Hn(o,"AID",i.T),ja(i,o),i.o&&i.s&&ce(o,i.o,i.s),t=new Yr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Oi(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),yo(i.h,t),gt(t,o,e)}function ja(i,e){i.ia&&Ir(i.ia,function(t,o){Hn(e,o,t)}),i.l&&Cn({},function(t,o){Hn(e,o,t)})}function Oi(i,e,t){t=Math.min(i.i.length,t);var o=i.l?ze(i.l.Ra,i.l,i):null;e:{var l=i.i;let p=-1;for(;;){const w=["count="+t];-1==p?0<t?(p=l[0].h,w.push("ofs="+p)):p=0:w.push("ofs="+p);let N=!0;for(let z=0;z<t;z++){let J=l[z].h;const ye=l[z].g;if(J-=p,0>J)p=Math.max(0,l[z].h-100),N=!1;else try{Bo(ye,w,"req"+J+"_")}catch{o&&o(ye)}}if(N){o=w.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Vs(i){i.g||i.u||(i.Z=1,Nt(i.Ia,i),i.A=0)}function Mo(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=pn(ze(i.Ia,i),Ri(i,i.A)),i.A++,0))}function Wo(i){null!=i.B&&(q.clearTimeout(i.B),i.B=null)}function zo(i){i.g=new Yr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=sr(i.sa);Hn(e,"RID","rpc"),Hn(e,"SID",i.I),Hn(e,"CI",i.L?"0":"1"),Hn(e,"AID",i.T),Hn(e,"TYPE","xmlhttp"),ja(i,e),i.o&&i.s&&ce(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=fo(sr(e)),t.s=null,t.P=!0,Ht(t,i)}function Ui(i){null!=i.v&&(q.clearTimeout(i.v),i.v=null)}function Ki(i,e){var t=null;if(i.g==e){Ui(i),Wo(i),i.g=null;var o=2}else{if(!Fn(i.h,e))return;t=e.D,Os(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Se(o=bs(),new bn(o,t)),Go(i)}else Vs(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function Ml(i,e){return!(ws(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=pn(ze(i.Ja,i,e),Ri(i,i.C)),i.C++,0)))}(i,e)||2==o&&Mo(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:ai(i,5);break;case 4:ai(i,10);break;case 3:ai(i,6);break;default:ai(i,2)}}function Ri(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function ai(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=ze(i.kb,i);t||(t=new Gi("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||to(t,"https"),fo(t)),function vi(i,e){const t=new Zt;if(q.Image){const o=new Image;o.onload=rt(so,t,o,"TestLoadImage: loaded",!0,e),o.onerror=rt(so,t,o,"TestLoadImage: error",!1,e),o.onabort=rt(so,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=rt(so,t,o,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Bt(2);i.G=0,i.l&&i.l.va(e),ma(i),lr(i)}function ma(i){if(i.G=0,i.la=[],i.l){const e=Va(i.h);(0!=e.length||0!=i.i.length)&&(Mt(i.la,e),Mt(i.la,i.i),i.h.i.length=0,Qe(i.i),i.i.length=0),i.l.ua()}}function Ko(i,e,t){var o=t instanceof Gi?sr(t):new Gi(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),bi(o,o.m);else{var l=q.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var p=new Gi(null,void 0);o&&to(p,o),e&&(p.g=e),l&&bi(p,l),t&&(p.l=t),o=p}return e=i.za,(t=i.D)&&e&&Hn(o,t,e),Hn(o,"VER",i.ma),ja(i,o),o}function gs(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&i.Da&&!i.ra?new as({jb:!0}):i.ra)).Ka(i.H),e}function Sa(){}function Yo(){if(Kt&&!(10<=Number(Zn)))throw Error("Environmental error: no available transport.")}function Vi(i,e){Je.call(this),this.g=new on(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!qe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zi(this)}function _o(i){_i.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function oo(){Rn.call(this),this.status=1}function Zi(i){this.g=i}(K=wr.prototype).Ka=function(i){this.L=i},K.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vr.g(),this.C=function mr(i){return i.h||(i.h=i.i())}(this.u?this.u:vr),this.g.onreadystatechange=ze(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void Ks(this,p)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())t.set(p,o.get(p))}o=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),l=q.FormData&&i instanceof q.FormData,!(0<=Ct(Rs,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,w]of t)this.g.setRequestHeader(p,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$o(this),0<this.B&&((this.K=function qa(i){return Kt&&function yt(){return function rr(i){var e=Ue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=at(String(hn)).split("."),t=at("9").split("."),o=Math.max(e.length,t.length);for(let w=0;0==i&&w<o;w++){var l=e[w]||"",p=t[w]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==l[0].length&&0==p[0].length)break;i=Xe(0==l[1].length?0:parseInt(l[1],10),0==p[1].length?0:parseInt(p[1],10))||Xe(0==l[2].length,0==p[2].length)||Xe(l[2],p[2]),l=l[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.qa,this)):this.A=rn(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){Ks(this,p)}},K.qa=function(){typeof re<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Se(this,"timeout"),this.abort(8))},K.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Se(this,"complete"),Se(this,"abort"),kn(this))},K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kn(this,!0)),wr.X.M.call(this)},K.Ha=function(){this.s||(this.F||this.v||this.l?Ao(this):this.fb())},K.fb=function(){Ao(this)},K.aa=function(){try{return 2<G(this)?this.g.status:-1}catch{return-1}},K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},K.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ho(e)}},K.Ea=function(){return this.m},K.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(K=on.prototype).ma=8,K.G=1,K.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new Yr(this,this.j,i,void 0);let p=this.s;if(this.S&&(p?(p=Sr(p),Kn(p,this.S)):p=this.S),null!==this.o||this.N||(l.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Oi(this,l,e),Hn(t=sr(this.F),"RID",i),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),ja(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(k(p)))+"&"+e:this.o&&ce(t,this.o,p)),yo(this.h,l),this.Ya&&Hn(t,"TYPE","init"),this.O?(Hn(t,"$req",e),Hn(t,"SID","null"),l.Z=!0,gt(l,t,null)):gt(l,t,e),this.G=2}}else 3==this.G&&(i?zi(this,i):0==this.i.length||fs(this.h)||zi(this))},K.Ia=function(){if(this.u=null,zo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=pn(ze(this.eb,this),i)}},K.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bt(10),mt(this),zo(this))},K.cb=function(){null!=this.v&&(this.v=null,mt(this),Mo(this),Bt(19))},K.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))},(K=Sa.prototype).xa=function(){},K.wa=function(){},K.va=function(){},K.ua=function(){},K.Ra=function(){},Yo.prototype.g=function(i,e){return new Vi(i,e)},ke(Vi,Je),Vi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Bt(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Ko(i,null,i.V),Go(i)},Vi.prototype.close=function(){$r(this.g)},Vi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Pt(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Go(e)},Vi.prototype.M=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,Vi.X.M.call(this)},ke(_o,_i),ke(oo,Rn),ke(Zi,Sa),Zi.prototype.xa=function(){Se(this.g,"a")},Zi.prototype.wa=function(i){Se(this.g,new _o(i))},Zi.prototype.va=function(i){Se(this.g,new oo)},Zi.prototype.ua=function(){Se(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,Dn.COMPLETE="complete",br.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Je.prototype.listen=Je.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.Oa,wr.prototype.getLastErrorCode=wr.prototype.Ea,wr.prototype.getStatus=wr.prototype.aa,wr.prototype.getResponseJson=wr.prototype.Sa,wr.prototype.getResponseText=wr.prototype.fa,wr.prototype.send=wr.prototype.da,wr.prototype.setWithCredentials=wr.prototype.Ka;var Qo=ee.createWebChannelTransport=function(){return new Yo},Za=ee.getStatEventTarget=function(){return bs()},Pl=ee.ErrorCode=An,li=ee.EventType=Dn,Bs=ee.Event=ei,qo=ee.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ha=ee.FetchXmlHttpFactory=as,$a=ee.WebChannel=br,Xa=ee.XhrIo=wr;const Zo="@firebase/firestore";class Xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let Ys="9.17.1";const Di=new B.Yd("@firebase/firestore");function ms(){return Di.logLevel}function Ft(i,...e){if(Di.logLevel<=B.in.DEBUG){const t=e.map(Ol);Di.debug(`Firestore (${Ys}): ${i}`,...t)}}function Ai(i,...e){if(Di.logLevel<=B.in.ERROR){const t=e.map(Ol);Di.error(`Firestore (${Ys}): ${i}`,...t)}}function Xo(i,...e){if(Di.logLevel<=B.in.WARN){const t=e.map(Ol);Di.warn(`Firestore (${Ys}): ${i}`,...t)}}function Ol(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function gn(i="Unexpected state"){const e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+i;throw Ai(e),new Error(e)}function In(i,e){i||gn()}function Jt(i,e){return i}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends Z.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Q{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class le{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xi.UNAUTHENTICATED))}shutdown(){}}class we{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ht{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const p=J=>this.i!==l?(l=this.i,t(J)):Promise.resolve();let w=new Q;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new Q,e.enqueueRetryable(()=>p(this.currentUser))};const N=()=>{const J=w;e.enqueueRetryable((0,f.Z)(function*(){yield J.promise,yield p(o.currentUser)}))},z=J=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(J=>z(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?z(J):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new Q)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new V(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new Xi(e)}}class Et{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(In(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nn{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new Et(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=p=>{null!=p.error&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const w=p.token!==this.A;return this.A=p.token,Ft("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const l=p=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?l(p):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.A=t.token,new Zr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class $n{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=fr(40);for(let p=0;p<l.length;++p)o.length<20&&l[p]<t&&(o+=e.charAt(l[p]%e.length))}return o}}function sn(i,e){return i<e?-1:i>e?1:0}function Fr(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function ao(i){return i+"\0"}class pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new P(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new P(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new P(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new pr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yn(e)}static min(){return new yn(new pr(0,0))}static max(){return new yn(new pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ji{constructor(e,t,o){void 0===t?t=0:t>e.length&&gn(),void 0===o?o=e.length-t:o>e.length-t&&gn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ji.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const p=e.get(l),w=t.get(l);if(p<w)return-1;if(p>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends Ji{construct(e,t,o){return new Vn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new P(dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Ji{construct(e,t,o){return new xr(e,t,o)}static isValidIdentifier(e){return Jo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const p=()=>{if(0===o.length)throw new P(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let w=!1;for(;l<e.length;){const N=e[l];if("\\"===N){if(l+1===e.length)throw new P(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[l+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new P(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=z,l+=2}else"`"===N?(w=!w,l++):"."!==N||w?(o+=N,l++):(p(),l++)}if(p(),w)throw new P(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(t)}static emptyPath(){return new xr([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Vn.fromString(e))}static fromName(e){return new Yt(Vn.fromString(e).popFirst(5))}static empty(){return new Yt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Vn(e.slice()))}}class lo{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function ba(i){return i.fields.find(e=>2===e.kind)}function ea(i){return i.fields.filter(e=>2!==e.kind)}lo.UNKNOWN_ID=-1;class ys{constructor(e,t){this.fieldPath=e,this.kind=t}}class ta{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ta(0,js.min())}}function cl(i){return new js(i.readTime,i.key,-1)}class js{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new js(yn.min(),Yt.empty(),-1)}static max(){return new js(yn.max(),Yt.empty(),-1)}}function Rl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(i.documentKey,e.documentKey),0!==t?t:sn(i.largestBatchId,e.largestBatchId))}const su="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ou{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Po(i){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,f.Z)(function*(i){if(i.code!==dt.FAILED_PRECONDITION||i.message!==su)throw i;Ft("LocalStore","Unexpectedly lost primary lease")}),Ja.apply(this,arguments)}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it((o,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,l)},this.catchCallback=p=>{this.wrapFailure(t,p).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):it.reject(t)}static resolve(e){return new it((t,o)=>{t(e)})}static reject(e){return new it((t,o)=>{o(e)})}static waitFor(e){return new it((t,o)=>{let l=0,p=0,w=!1;e.forEach(N=>{++l,N.next(()=>{++p,w&&p===l&&t()},z=>o(z))}),w=!0,p===l&&t()})}static or(e){let t=it.resolve(!1);for(const o of e)t=t.next(l=>l?it.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,p)=>{o.push(t.call(this,l,p))}),this.waitFor(o)}static mapArray(e,t){return new it((o,l)=>{const p=e.length,w=new Array(p);let N=0;for(let z=0;z<p;z++){const J=z;t(e[J]).next(ye=>{w[J]=ye,++N,N===p&&o(w)},ye=>l(ye))}})}static doWhile(e,t){return new it((o,l)=>{const p=()=>{!0===e()?t().next(()=>{p()},l):o()};p()})}}class Ma{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Q,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new es(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const l=Ql(o.target.error);this.P.reject(new es(e,l))}}static open(e,t,o,l){try{return new Ma(t,e.transaction(l,o))}catch(p){throw new es(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ft("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dl(t)}}class Ts{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Ts.D((0,Z.z$)())&&Ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ft("SimpleDb","Removing database:",e),Oo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Z.hl)())return!1;if(Ts.N())return!0;const e=(0,Z.z$)(),t=Ts.D(e),o=0<t&&t<10,l=Ts.k(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,f.Z)(function*(){return t.db||(Ft("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=w=>{o(w.target.result)},p.onblocked=()=>{l(new es(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=w=>{const N=w.target.error;l("VersionError"===N.name?new P(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new P(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new es(e,N))},p.onupgradeneeded=w=>{Ft("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.S.$(w.target.result,p.transaction,w.oldVersion,t.version).next(()=>{Ft("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var p=this;return(0,f.Z)(function*(){const w="readonly"===t;let N=0;for(;;){++N;try{p.db=yield p.F(e);const z=Ma.open(p.db,e,w?"readonly":"readwrite",o),J=l(z).next(ye=>(z.V(),ye)).catch(ye=>(z.abort(ye),it.reject(ye))).toPromise();return J.catch(()=>{}),yield z.v,J}catch(z){const J=z,ye="FirebaseError"!==J.name&&N<3;if(Ft("SimpleDb","Transaction failed with error:",J.message,"Retrying:",ye),p.close(),!ye)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xl{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Oo(this.q.delete())}}class es extends P{constructor(e,t){super(dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _s(i){return"IndexedDbTransactionError"===i.name}class dl{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Ft("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ft("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Oo(o)}add(e){return Ft("SimpleDb","ADD",this.store.name,e,e),Oo(this.store.add(e))}get(e){return Oo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ft("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ft("SimpleDb","DELETE",this.store.name,e),Oo(this.store.delete(e))}count(){return Ft("SimpleDb","COUNT",this.store.name),Oo(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),p=[];return this.H(l,(w,N)=>{p.push(N)}).next(()=>p)}{const l=this.store.getAll(o.range);return new it((p,w)=>{l.onerror=N=>{w(N.target.error)},l.onsuccess=N=>{p(N.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new it((l,p)=>{o.onerror=w=>{p(w.target.error)},o.onsuccess=w=>{l(w.target.result)}})}Y(e,t){Ft("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const l=this.cursor(o);return this.H(l,(p,w,N)=>N.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.H(l,t)}tt(e){const t=this.cursor({});return new it((o,l)=>{t.onerror=p=>{const w=Ql(p.target.error);l(w)},t.onsuccess=p=>{const w=p.target.result;w?e(w.primaryKey,w.value).next(N=>{N?w.continue():o()}):o()}})}H(e,t){const o=[];return new it((l,p)=>{e.onerror=w=>{p(w.target.error)},e.onsuccess=w=>{const N=w.target.result;if(!N)return void l();const z=new xl(N),J=t(N.primaryKey,N.value,z);if(J instanceof it){const ye=J.catch(Me=>(z.done(),it.reject(Me)));o.push(ye)}z.isDone?l():null===z.G?N.continue():N.continue(z.G)}}).next(()=>it.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Oo(i){return new it((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Ql(o.target.error);t(l)}})}let el=!1;function Ql(i){const e=Ts.D((0,Z.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new P("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return el||(el=!0,setTimeout(()=>{throw o},0)),o}}return i}class hl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ft("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{Ft("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){_s(o)?Ft("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Po(o)}yield t.nt(6e4)}))}}class Ga{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let l=t,p=!0;return it.doWhile(()=>!0===p&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!o.has(w))return Ft("IndexBackiller",`Processing collection: ${w}`),this.rt(e,w,l).next(N=>{l-=N,o.add(w)});p=!1})).next(()=>t-l)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(p=>{const w=p.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.ot(l,p)).next(N=>(Ft("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>w.size)}))}ot(e,t){let o=e;return t.changes.forEach((l,p)=>{const w=cl(p);Rl(w,o)>0&&(o=w)}),new js(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let xs=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>o.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Ns{constructor(e,t,o,l,p,w,N,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=p,this.forceLongPolling=w,this.autoDetectLongPolling=N,this.useFetchStreams=z}}class Ro{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}function Qs(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function qs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function na(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function vo(i){return null==i}function Pa(i){return 0===i&&1/i==-1/0}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ci(t)}static fromUint8Array(e){const t=function(o){let l="";for(let p=0;p<o.length;++p)l+=String.fromCharCode(o[p]);return l}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const Xr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(i){if(In(!!i),"string"==typeof i){let e=0;const t=Xr.exec(i);if(In(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ui(i.seconds),nanos:ui(i.nanos)}}function ui(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function fl(i){return"string"==typeof i?Ci.fromBase64String(i):Ci.fromUint8Array(i)}function xo(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Oa(i){const e=i.mapValue.fields.__previous_value__;return xo(e)?Oa(e):e}function tl(i){const e=va(i.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ra={nullValue:"NULL_VALUE"};function ia(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xo(i)?4:Tr(i)?9007199254740991:10:gn()}function us(i,e){if(i===e)return!0;const t=ia(i);if(t!==ia(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tl(i).isEqual(tl(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const p=va(o.timestampValue),w=va(l.timestampValue);return p.seconds===w.seconds&&p.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,fl(i.bytesValue).isEqual(fl(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return ui(o.geoPointValue.latitude)===ui(l.geoPointValue.latitude)&&ui(o.geoPointValue.longitude)===ui(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ui(o.integerValue)===ui(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const p=ui(o.doubleValue),w=ui(l.doubleValue);return p===w?Pa(p)===Pa(w):isNaN(p)&&isNaN(w)}return!1}(i,e);case 9:return Fr(i.arrayValue.values||[],e.arrayValue.values||[],us);case 10:return function(o,l){const p=o.mapValue.fields||{},w=l.mapValue.fields||{};if(Qs(p)!==Qs(w))return!1;for(const N in p)if(p.hasOwnProperty(N)&&(void 0===w[N]||!us(p[N],w[N])))return!1;return!0}(i,e);default:return gn()}var l}function Gr(i,e){return void 0!==(i.values||[]).find(t=>us(t,e))}function A(i,e){if(i===e)return 0;const t=ia(i),o=ia(e);if(t!==o)return sn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(i.booleanValue,e.booleanValue);case 2:return function(l,p){const w=ui(l.integerValue||l.doubleValue),N=ui(p.integerValue||p.doubleValue);return w<N?-1:w>N?1:w===N?0:isNaN(w)?isNaN(N)?0:-1:1}(i,e);case 3:return O(i.timestampValue,e.timestampValue);case 4:return O(tl(i),tl(e));case 5:return sn(i.stringValue,e.stringValue);case 6:return function(l,p){const w=fl(l),N=fl(p);return w.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(l,p){const w=l.split("/"),N=p.split("/");for(let z=0;z<w.length&&z<N.length;z++){const J=sn(w[z],N[z]);if(0!==J)return J}return sn(w.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,p){const w=sn(ui(l.latitude),ui(p.latitude));return 0!==w?w:sn(ui(l.longitude),ui(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,p){const w=l.values||[],N=p.values||[];for(let z=0;z<w.length&&z<N.length;++z){const J=A(w[z],N[z]);if(J)return J}return sn(w.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,p){if(l===nl.mapValue&&p===nl.mapValue)return 0;if(l===nl.mapValue)return 1;if(p===nl.mapValue)return-1;const w=l.fields||{},N=Object.keys(w),z=p.fields||{},J=Object.keys(z);N.sort(),J.sort();for(let ye=0;ye<N.length&&ye<J.length;++ye){const Me=sn(N[ye],J[ye]);if(0!==Me)return Me;const lt=A(w[N[ye]],z[J[ye]]);if(0!==lt)return lt}return sn(N.length,J.length)}(i.mapValue,e.mapValue);default:throw gn()}}function O(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return sn(i,e);const t=va(i),o=va(e),l=sn(t.seconds,o.seconds);return 0!==l?l:sn(t.nanos,o.nanos)}function T(i){return F(i)}function F(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=va(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?fl(i.bytesValue).toBase64():"referenceValue"in i?Yt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",p=!0;for(const w of o.values||[])p?p=!1:l+=",",l+=F(w);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let p="{",w=!0;for(const N of l)w?w=!1:p+=",",p+=`${N}:${F(o.fields[N])}`;return p+"}"}(i.mapValue):gn();var e}function W(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function oe(i){return!!i&&"integerValue"in i}function pe(i){return!!i&&"arrayValue"in i}function je(i){return!!i&&"nullValue"in i}function St(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function en(i){return!!i&&"mapValue"in i}function an(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return qs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=an(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=an(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Tr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function kr(i){return"nullValue"in i?ra:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?W(Ro.empty(),Yt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:gn()}function vs(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?W(Ro.empty(),Yt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?nl:gn()}function fi(i,e){const t=A(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ra(i,e){const t=A(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Bi{constructor(e,t){this.position=e,this.inclusive=t}}function Wa(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const p=e[l],w=i.position[l];if(o=p.field.isKeyField()?Yt.comparator(Yt.fromName(w.referenceValue),t.key):A(w,t.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Ea(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!us(i.position[t],e.position[t]))return!1;return!0}class pl{}class Pr extends pl{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Hu(e,t,o):"array-contains"===t?new Zl(e,o):"in"===t?new Ka(e,o):"not-in"===t?new xa(e,o):"array-contains-any"===t?new kl(e,o):new Pr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new ql(e,o):new za(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(A(t,this.value)):null!==t&&ia(this.value)===ia(t)&&this.matchesComparison(A(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pi extends pl{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new pi(e,t)}matches(e){return rl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function rl(i){return"and"===i.op}function gl(i){return"or"===i.op}function ml(i){return yl(i)&&rl(i)}function yl(i){for(const e of i.filters)if(e instanceof pi)return!1;return!0}function Da(i){if(i instanceof Pr)return i.field.canonicalString()+i.op.toString()+T(i.value);if(ml(i))return i.filters.map(e=>Da(e)).join(",");{const e=i.filters.map(t=>Da(t)).join(",");return`${i.op}(${e})`}}function Ll(i,e){return i instanceof Pr?(t=i,(o=e)instanceof Pr&&t.op===o.op&&t.field.isEqual(o.field)&&us(t.value,o.value)):i instanceof pi?function(t,o){return o instanceof pi&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,p,w)=>l&&Ll(p,o.filters[w]),!0)}(i,e):void gn();var t,o}function sa(i,e){const t=i.filters.concat(e);return pi.create(t,i.op)}function Fl(i){return i instanceof Pr?`${(e=i).field.canonicalString()} ${e.op} ${T(e.value)}`:i instanceof pi?function(e){return e.op.toString()+" {"+e.getFilters().map(Fl).join(" ,")+"}"}(i):"Filter";var e}class Hu extends Pr{constructor(e,t,o){super(e,t,o),this.key=Yt.fromName(o.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ql extends Pr{constructor(e,t){super(e,"in",t),this.keys=au(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class za extends Pr{constructor(e,t){super(e,"not-in",t),this.keys=au(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function au(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Yt.fromName(o.referenceValue))}class Zl extends Pr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pe(t)&&Gr(t.arrayValue,this.value)}}class Ka extends Pr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gr(this.value.arrayValue,t)}}class xa extends Pr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gr(this.value.arrayValue,t)}}class kl extends Pr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Gr(this.value.arrayValue,o))}}class Na{constructor(e,t="asc"){this.field=e,this.dir=t}}function lc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class xi{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oa(this.root,e,this.comparator,!0)}}class oa{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?o(e.key,t):1,t&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,o,l,p){this.key=e,this.value=t,this.color=o??Ss.RED,this.left=l??Ss.EMPTY,this.right=p??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,p){return new Ss(e??this.key,t??this.value,o??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const p=o(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===p?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Ss.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Ss(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ul(this.data.getIterator())}getIteratorFrom(e){return new Ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=o.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class Ul{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zs(i){return i.hasNext()?i.getNext():void 0}class Es{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Es([])}unionWith(e){let t=new mi(xr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Hs{constructor(e){this.value=e}static empty(){return new Hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!en(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=an(t)}setAll(e){let t=xr.emptyPath(),o={},l=[];e.forEach((w,N)=>{if(!t.isImmediateParentOf(N)){const z=this.getFieldsMap(t);this.applyChanges(z,o,l),o={},l=[],t=N.popLast()}w?o[N.lastSegment()]=an(w):l.push(N.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,o,l)}delete(e){const t=this.field(e.popLast());en(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];en(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){qs(t,(l,p)=>e[l]=p);for(const l of o)delete e[l]}clone(){return new Hs(an(this.value))}}function lu(i){const e=[];return qs(i.fields,(t,o)=>{const l=new xr([t]);if(en(o)){const p=lu(o.mapValue).fields;if(0===p.length)e.push(l);else for(const w of p)e.push(l.child(w))}else e.push(l)}),new Es(e)}class ci{constructor(e,t,o,l,p,w,N){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=p,this.data=w,this.documentState=N}static newInvalidDocument(e){return new ci(e,0,yn.min(),yn.min(),yn.min(),Hs.empty(),0)}static newFoundDocument(e,t,o,l){return new ci(e,1,t,yn.min(),o,l,0)}static newNoDocument(e,t){return new ci(e,2,t,yn.min(),yn.min(),Hs.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,yn.min(),yn.min(),Hs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uu{constructor(e,t=null,o=[],l=[],p=null,w=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=p,this.startAt=w,this.endAt=N,this.ft=null}}function Vl(i,e=null,t=[],o=[],l=null,p=null,w=null){return new uu(i,e,t,o,l,p,w)}function _l(i){const e=Jt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Da(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),vo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>T(o)).join(",")),e.ft=t}return e.ft}function co(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!lc(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ll(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ea(i.startAt,e.startAt)&&Ea(i.endAt,e.endAt)}function La(i){return Yt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Bl(i,e){return i.filters.filter(t=>t instanceof Pr&&t.field.isEqual(e))}function cu(i,e,t){let o=ra,l=!0;for(const p of Bl(i,e)){let w=ra,N=!0;switch(p.op){case"<":case"<=":w=kr(p.value);break;case"==":case"in":case">=":w=p.value;break;case">":w=p.value,N=!1;break;case"!=":case"not-in":w=ra}fi({value:o,inclusive:l},{value:w,inclusive:N})<0&&(o=w,l=N)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const w=t.position[p];fi({value:o,inclusive:l},{value:w,inclusive:t.inclusive})<0&&(o=w,l=t.inclusive);break}return{value:o,inclusive:l}}function $u(i,e,t){let o=nl,l=!0;for(const p of Bl(i,e)){let w=nl,N=!0;switch(p.op){case">=":case">":w=vs(p.value),N=!1;break;case"==":case"in":case"<=":w=p.value;break;case"<":w=p.value,N=!1;break;case"!=":case"not-in":w=nl}Ra({value:o,inclusive:l},{value:w,inclusive:N})>0&&(o=w,l=N)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const w=t.position[p];Ra({value:o,inclusive:l},{value:w,inclusive:t.inclusive})>0&&(o=w,l=t.inclusive);break}return{value:o,inclusive:l}}class ji{constructor(e,t=null,o=[],l=[],p=null,w="F",N=null,z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=p,this.limitType=w,this.startAt=N,this.endAt=z,this.dt=null,this._t=null}}function Xl(i){return new ji(i)}function Gu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Wu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function jl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function wu(i){return null!==i.collectionGroup}function aa(i){const e=Jt(i);if(null===e.dt){e.dt=[];const t=jl(e),o=Wu(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new Na(t)),e.dt.push(new Na(xr.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.dt.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Na(xr.keyField(),p))}}}return e.dt}function cs(i){const e=Jt(i);if(!e._t)if("F"===e.limitType)e._t=Vl(e.path,e.collectionGroup,aa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of aa(e))t.push(new Na(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Bi(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Bi(e.startAt.position,e.startAt.inclusive):null;e._t=Vl(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function Jl(i,e){e.getFirstInequalityField(),jl(i);const t=i.filters.concat([e]);return new ji(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Hl(i,e,t){return new ji(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function vl(i,e){return co(cs(i),cs(e))&&i.limitType===e.limitType}function No(i){return`${_l(cs(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Fl(o)).join(", ")}]`),vo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>T(o)).join(",")),`Target(${t})`}(cs(i))}; limitType=${i.limitType})`}function eu(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Yt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of aa(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,p,w){const N=Wa(l,p,w);return l.inclusive?N<=0:N<0}(t.startAt,aa(t),o)||t.endAt&&!function(l,p,w){const N=Wa(l,p,w);return l.inclusive?N>=0:N>0}(t.endAt,aa(t),o)));var t,o}function fu(i){return(e,t)=>{let o=!1;for(const l of aa(i)){const p=Tu(l,e,t);if(0!==p)return p;o=o||l.field.isKeyField()}return 0}}function Tu(i,e,t){const o=i.field.isKeyField()?Yt.comparator(e.key,t.key):function(l,p,w){const N=p.data.field(l),z=w.data.field(l);return null!==N&&null!==z?A(N,z):gn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return gn()}}function pu(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(e)?"-0":e}}function Su(i){return{integerValue:""+i}}function bu(i,e){return function _a(i){return"number"==typeof i&&Number.isInteger(i)&&!Pa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Su(e):pu(i,e)}class gu{constructor(){this._=void 0}}function zu(i,e,t){return i instanceof il?function(o,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(p.fields.__previous_value__=l),{mapValue:p}}(t,e):i instanceof Lo?Fo(i,e):i instanceof ts?sl(i,e):function(o,l){const p=$s(o,l),w=El(p)+El(o.gt);return oe(p)&&oe(o.gt)?Su(w):pu(o.yt,w)}(i,e)}function Ku(i,e,t){return i instanceof Lo?Fo(i,e):i instanceof ts?sl(i,e):t}function $s(i,e){return i instanceof Fa?oe(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class il extends gu{}class Lo extends gu{constructor(e){super(),this.elements=e}}function Fo(i,e){const t=Dl(e);for(const o of i.elements)t.some(l=>us(l,o))||t.push(o);return{arrayValue:{values:t}}}class ts extends gu{constructor(e){super(),this.elements=e}}function sl(i,e){let t=Dl(e);for(const o of i.elements)t=t.filter(l=>!us(l,o));return{arrayValue:{values:t}}}class Fa extends gu{constructor(e,t){super(),this.yt=e,this.gt=t}}function El(i){return ui(i.integerValue||i.doubleValue)}function Dl(i){return pe(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Cl{constructor(e,t){this.field=e,this.transform=t}}class v{constructor(e,t){this.version=e,this.transformResults=t}}class C{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new C}static exists(e){return new C(void 0,e)}static updateTime(e){return new C(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function L(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ie{}function y(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Vt(i.key,C.none()):new ne(i.key,i.data,C.none());{const t=i.data,o=Hs.empty();let l=new mi(xr.comparator);for(let p of e.fields)if(!l.has(p)){let w=t.field(p);null===w&&p.length>1&&(p=p.popLast(),w=t.field(p)),null===w?o.delete(p):o.set(p,w),l=l.add(p)}return new _e(i.key,o,new Es(l.toArray()),C.none())}}function _(i,e,t){i instanceof ne?function(o,l,p){const w=o.value.clone(),N=Ze(o.fieldTransforms,l,p.transformResults);w.setAll(N),l.convertToFoundDocument(p.version,w).setHasCommittedMutations()}(i,e,t):i instanceof _e?function(o,l,p){if(!L(o.precondition,l))return void l.convertToUnknownDocument(p.version);const w=Ze(o.fieldTransforms,l,p.transformResults),N=l.data;N.setAll(Ie(o)),N.setAll(w),l.convertToFoundDocument(p.version,N).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function g(i,e,t,o){return i instanceof ne?function(l,p,w,N){if(!L(l.precondition,p))return w;const z=l.value.clone(),J=ft(l.fieldTransforms,N,p);return z.setAll(J),p.convertToFoundDocument(p.version,z).setHasLocalMutations(),null}(i,e,t,o):i instanceof _e?function(l,p,w,N){if(!L(l.precondition,p))return w;const z=ft(l.fieldTransforms,N,p),J=p.data;return J.setAll(Ie(l)),J.setAll(z),p.convertToFoundDocument(p.version,J).setHasLocalMutations(),null===w?null:w.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ye=>ye.field))}(i,e,t,o):(w=t,L(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):w);var p,w}function b(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),p=$s(o.transform,l||null);null!=p&&(null===t&&(t=Hs.empty()),t.set(o.field,p))}return t||null}function H(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Fr(t,o,(l,p)=>function R(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Lo&&o instanceof Lo||t instanceof ts&&o instanceof ts?Fr(t.elements,o.elements,us):t instanceof Fa&&o instanceof Fa?us(t.gt,o.gt):t instanceof il&&o instanceof il);var t,o}(l,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class ne extends ie{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _e extends ie{constructor(e,t,o,l,p=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Ie(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Ze(i,e,t){const o=new Map;In(i.length===t.length);for(let l=0;l<t.length;l++){const p=i[l],w=p.transform,N=e.data.field(p.field);o.set(p.field,Ku(w,N,t[l]))}return o}function ft(i,e,t){const o=new Map;for(const l of i){const p=l.transform,w=t.data.field(l.field);o.set(l.field,zu(p,w,e))}return o}class Vt extends ie{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $t extends ie{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class On{constructor(e){this.count=e}}var tn,Ut;function gr(i){if(void 0===i)return Ai("GRPC error has no .code"),dt.UNKNOWN;switch(i){case tn.OK:return dt.OK;case tn.CANCELLED:return dt.CANCELLED;case tn.UNKNOWN:return dt.UNKNOWN;case tn.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case tn.INTERNAL:return dt.INTERNAL;case tn.UNAVAILABLE:return dt.UNAVAILABLE;case tn.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case tn.NOT_FOUND:return dt.NOT_FOUND;case tn.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case tn.ABORTED:return dt.ABORTED;case tn.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case tn.DATA_LOSS:return dt.DATA_LOSS;default:return gn()}}(Ut=tn||(tn={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class Nr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,p]of o)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,o)=>{for(const[l,p]of o)e(l,p)})}isEmpty(){return na(this.inner)}size(){return this.innerSize}}const Ls=new xi(Yt.comparator);function Wr(){return Ls}const Ds=new xi(Yt.comparator);function Ca(...i){let e=Ds;for(const t of i)e=e.insert(t.key,t);return e}function Ia(i){let e=Ds;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ni(){return ka()}function Ya(){return ka()}function ka(){return new Nr(i=>i.toString(),(i,e)=>i.isEqual(e))}const Il=new xi(Yt.comparator),uc=new mi(Yt.comparator);function Jn(...i){let e=uc;for(const t of i)e=e.add(t);return e}const Do=new mi(sn);function ol(){return Do}class $l{constructor(e,t,o,l,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,wn.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new $l(yn.min(),l,ol(),Wr(),Jn())}}class wn{constructor(e,t,o,l,p){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new wn(o,t,Jn(),Jn(),Jn())}}class Gn{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class qn{constructor(e,t){this.targetId=e,this.Et=t}}class ii{constructor(e,t,o=Ci.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Fs{constructor(){this.At=0,this.Rt=ll(),this.bt=Ci.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Jn(),t=Jn(),o=Jn();return this.Rt.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:gn()}}),new wn(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=ll()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class al{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Wr(),this.qt=Co(),this.Ut=new mi(sn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:gn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,o=e.Et.count,l=this.Yt(t);if(l){const p=l.target;if(La(p))if(0===o){const w=new Yt(p.path);this.Qt(t,w,ci.newNoDocument(w,yn.min()))}else In(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((p,w)=>{const N=this.Yt(w);if(N){if(p.current&&La(N.target)){const z=new Yt(N.target.path);null!==this.Lt.get(z)||this.te(w,z)||this.Qt(w,z,ci.newNoDocument(z,e))}p.St&&(t.set(w,p.Ct()),p.xt())}});let o=Jn();this.qt.forEach((p,w)=>{let N=!0;w.forEachWhile(z=>{const J=this.Yt(z);return!J||2===J.purpose||(N=!1,!1)}),N&&(o=o.add(p))}),this.Lt.forEach((p,w)=>w.setReadTime(e));const l=new $l(e,t,this.Ut,this.Lt,o);return this.Lt=Wr(),this.qt=Co(),this.Ut=new mi(sn),l}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Fs,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new mi(sn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Fs),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Co(){return new xi(Yt.comparator)}function ll(){return new xi(Yt.comparator)}const ns={asc:"ASCENDING",desc:"DESCENDING"},Yu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Au={and:"AND",or:"OR"};class Io{constructor(e,t){this.databaseId=e,this.wt=t}}function la(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ua(i,e){return i.wt?e.toBase64():e.toUint8Array()}function mu(i,e){return la(i,e.toTimestamp())}function Hi(i){return In(!!i),yn.fromTimestamp(function(e){const t=va(e);return new pr(t.seconds,t.nanos)}(i))}function Ad(i,e){return(t=i,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mh(i){const e=Vn.fromString(i);return In(vf(e)),e}function cc(i,e){return Ad(i.databaseId,e.path)}function tu(i,e){const t=mh(e);if(t.get(1)!==i.databaseId.projectId)throw new P(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new P(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Yt(jc(t))}function Md(i,e){return Ad(i.databaseId,e)}function yh(i){const e=mh(i);return 4===e.length?Vn.emptyPath():jc(e)}function Qu(i){return new Vn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jc(i){return In(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Hc(i,e,t){return{name:cc(i,e),fields:t.value.mapValue.fields}}function Pd(i,e){let t;if(e instanceof ne)t={update:Hc(i,e.key,e.value)};else if(e instanceof Vt)t={delete:cc(i,e.key)};else if(e instanceof _e)t={update:Hc(i,e.key,e.data),updateMask:_f(e.fieldMask)};else{if(!(e instanceof $t))return gn();t={verify:cc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,p){const w=p.transform;if(w instanceof il)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Lo)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof ts)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Fa)return{fieldPath:p.field.canonicalString(),increment:w.gt};throw gn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:mu(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:gn()),t;var l}function Od(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?C.updateTime(Hi(l.updateTime)):void 0!==l.exists?C.exists(l.exists):C.none():C.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(p,w){let N=null;"setToServerValue"in w?(In("REQUEST_TIME"===w.setToServerValue),N=new il):"appendMissingElements"in w?N=new Lo(w.appendMissingElements.values||[]):"removeAllFromArray"in w?N=new ts(w.removeAllFromArray.values||[]):"increment"in w?N=new Fa(p,w.increment):gn();const z=xr.fromServerFormat(w.fieldPath);return new Cl(z,N)}(i,l)):[];var l;if(e.update){const l=tu(i,e.update.name),p=new Hs({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new Es((e.updateMask.fieldPaths||[]).map(J=>xr.fromServerFormat(J)));return new _e(l,p,w,t,o)}return new ne(l,p,t,o)}if(e.delete){const l=tu(i,e.delete);return new Vt(l,t)}if(e.verify){const l=tu(i,e.verify);return new $t(l,t)}return gn()}function Rd(i,e){return{documents:[Md(i,e.path)]}}function $c(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Md(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Md(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(z){if(0!==z.length)return Eh(pi.create(z,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const p=function(z){if(0!==z.length)return z.map(J=>{return{field:fc((ye=J).field),direction:_h(ye.dir)};var ye})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const w=(J=e.limit,i.wt||vo(J)?J:{value:J});var J,N,z;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!(z=e.endAt).inclusive,values:z.position}),t}function hc(i){let e=yh(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){In(1===o);const ye=t.from[0];ye.allDescendants?l=ye.collectionId:e=e.child(ye.collectionId)}let p=[];t.where&&(p=function(ye){const Me=Nd(ye);return Me instanceof pi&&ml(Me)?Me.getFilters():[Me]}(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(ye=>{return new Na(pc((Me=ye).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Me.direction));var Me}));let N=null;t.limit&&(N=function(ye){let Me;return Me="object"==typeof ye?ye.value:ye,vo(Me)?null:Me}(t.limit));let z=null;var ye;t.startAt&&(z=new Bi((ye=t.startAt).values||[],!!ye.before));let J=null;return t.endAt&&(J=function(ye){return new Bi(ye.values||[],!ye.before)}(t.endAt)),function du(i,e,t,o,l,p,w,N){return new ji(i,e,t,o,l,p,w,N)}(e,l,w,p,N,"F",z,J)}function Nd(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pc(e.unaryFilter.field);return Pr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=pc(e.unaryFilter.field);return Pr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pc(e.unaryFilter.field);return Pr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=pc(e.unaryFilter.field);return Pr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}(i):void 0!==i.fieldFilter?Pr.create(pc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return pi.create(e.compositeFilter.filters.map(t=>Nd(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gn()}}(e.compositeFilter.op))}(i):gn();var e}function _h(i){return ns[i]}function vh(i){return Yu[i]}function yu(i){return Au[i]}function fc(i){return{fieldPath:i.canonicalString()}}function pc(i){return xr.fromServerFormat(i.fieldPath)}function Eh(i){return i instanceof Pr?function(e){if("=="===e.op){if(St(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NAN"}};if(je(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(St(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NOT_NAN"}};if(je(e.value))return{unaryFilter:{field:fc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(e.field),op:vh(e.op),value:e.value}}}(i):i instanceof pi?function(e){const t=e.getFilters().map(o=>Eh(o));return 1===t.length?t[0]:{compositeFilter:{op:yu(e.op),filters:t}}}(i):gn()}function _f(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ks(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Dh(e)),e=gc(i.get(t),e);return Dh(e)}function gc(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const p=i.charAt(l);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function Dh(i){return i+"\x01\x01"}function Gl(i){const e=i.length;if(In(e>=2),2===e)return In("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Vn.emptyPath();const t=e-2,o=[];let l="";for(let p=0;p<e;){const w=i.indexOf("\x01",p);switch((w<0||w>t)&&gn(),i.charAt(w+1)){case"\x01":const N=i.substring(p,w);let z;0===l.length?z=N:(l+=N,z=l,l=""),o.push(z);break;case"\x10":l+=i.substring(p,w),l+="\0";break;case"\x11":l+=i.substring(p,w+1);break;default:gn()}p=w+2}return new Vn(o)}const Ch=["userId","batchId"];function Gc(i,e){return[i,ks(e)]}function Ih(i,e,t){return[i,ks(e),t]}const lg={},Ef=["prefixPath","collectionGroup","readTime","documentId"],ug=["prefixPath","collectionGroup","documentId"],h=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],c=["targetId","path"],E=["path","targetId"],M=["collectionId","parent"],j=["indexId","uid"],Y=["uid","sequenceNumber"],me=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],be=["indexId","uid","orderedDocumentKey"],Le=["userId","collectionPath","documentId"],vt=["userId","collectionPath","largestBatchId"],It=["userId","collectionGroup","largestBatchId"],Ot=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...Ot,"documentOverlays"],zn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ii=zn,wo=[...Ii,"indexConfiguration","indexState","indexEntries"];class _u extends ou{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Gs(i,e){const t=Jt(i);return Ts.M(t.se,e)}class mc{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&_(p,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=g(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=g(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Ya();return this.mutations.forEach(l=>{const p=e.get(l.key),w=p.overlayedDocument;let N=this.applyToLocalView(w,p.mutatedFields);N=t.has(l.key)?null:N;const z=y(w,N);null!==z&&o.set(l.key,z),w.isValidDocument()||w.convertToNoDocument(yn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jn())}isEqual(e){return this.batchId===e.batchId&&Fr(this.mutations,e.mutations,(t,o)=>H(t,o))&&Fr(this.baseMutations,e.baseMutations,(t,o)=>H(t,o))}}class Ld{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){In(e.mutations.length===o.length);let l=Il;const p=e.mutations;for(let w=0;w<p.length;w++)l=l.insert(p[w].key,o[w].version);return new Ld(e,t,o,l)}}class wh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nu{constructor(e,t,o,l,p=yn.min(),w=yn.min(),N=Ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=N}withSequenceNumber(e){return new nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Df{constructor(e){this.ie=e}}function cg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Us(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:cc(l=i.ie,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:la(l,p.version.toTimestamp()),createTime:la(l,p.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Zu(e.version)};else{if(!e.isUnknownDocument())return gn();o.unknownDocument={path:t.path.toArray(),version:Zu(e.version)}}var l,p;return o}function Us(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Zu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yc(i){const e=new pr(i.seconds,i.nanoseconds);return yn.fromTimestamp(e)}function Mu(i,e){const t=(e.baseMutations||[]).map(p=>Od(i.ie,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const o=e.mutations.map(p=>Od(i.ie,p)),l=pr.fromMillis(e.localWriteTimeMs);return new mc(e.batchId,l,t,o)}function _c(i){const e=yc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?yc(i.lastLimboFreeSnapshotVersion):yn.min();let o;var l;return void 0!==i.query.documents?(In(1===(l=i.query).documents.length),o=cs(Xl(yh(l.documents[0])))):o=cs(hc(i.query)),new nu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Ci.fromBase64String(i.resumeToken))}function dg(i,e){const t=Zu(e.snapshotVersion),o=Zu(e.lastLimboFreeSnapshotVersion);let l;l=La(e.target)?Rd(i.ie,e.target):$c(i.ie,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_l(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function If(i){const e=hc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Hl(e,e.limit,"L"):e}function wf(i,e){return new wh(e.largestBatchId,Od(i.ie,e.overlayMutation))}function hg(i,e){const t=e.path.lastSegment();return[i,ks(e.path.popLast()),t]}function Tf(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Zu(o.readTime),documentKey:ks(o.documentKey.path),largestBatchId:o.largestBatchId}}class F_{getBundleMetadata(e,t){return iy(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:yc(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return iy(e).put({bundleId:(o=t).id,createTime:Zu(Hi(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Wc(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:If(l.bundledQuery),readTime:yc(l.readTime)};var l})}saveNamedQuery(e,t){return Wc(e).put({name:(o=t).name,readTime:Zu(Hi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function iy(i){return Gs(i,"bundles")}function Wc(i){return Gs(i,"namedQueries")}class zc{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new zc(e,t.uid||"")}getOverlay(e,t){return Kc(e).get(hg(this.userId,t)).next(o=>o?wf(this.yt,o):null)}getOverlays(e,t){const o=Ni();return it.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&o.set(l,p)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((p,w)=>{const N=new wh(t,w);l.push(this.oe(e,N))}),it.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(w=>l.add(ks(w.getCollectionPath())));const p=[];return l.forEach(w=>{const N=IDBKeyRange.bound([this.userId,w,o],[this.userId,w,o+1],!1,!0);p.push(Kc(e).Y("collectionPathOverlayIndex",N))}),it.waitFor(p)}getOverlaysForCollection(e,t,o){const l=Ni(),p=ks(t),w=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Kc(e).W("collectionPathOverlayIndex",w).next(N=>{for(const z of N){const J=wf(this.yt,z);l.set(J.getKey(),J)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const p=Ni();let w;const N=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Kc(e).Z({index:"collectionGroupOverlayIndex",range:N},(z,J,ye)=>{const Me=wf(this.yt,J);p.size()<l||Me.largestBatchId===w?(p.set(Me.getKey(),Me),w=Me.largestBatchId):ye.done()}).next(()=>p)}oe(e,t){return Kc(e).put(function(o,l,p){const[w,N,z]=hg(l,p.mutation.key);return{userId:l,collectionPath:N,documentId:z,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Pd(o.ie,p.mutation)}}(this.yt,this.userId,t))}}function Kc(i){return Gs(i,"documentOverlays")}class Xu{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ui(e.integerValue));else if("doubleValue"in e){const o=ui(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),Pa(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(fl(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?Tr(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):gn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const l of Object.keys(o))this.de(l,t),this.ce(o[l],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const l of o)this.ce(l,t)}me(e,t){this.he(t,37),Yt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function fg(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function pg(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const p=fg(255&t[l]);if(o+=p,8!==p)break}return o}(i);return Math.ceil(e/8)}Xu.Ie=new Xu;class sy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ee(o.value),o=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.be(o.value),o=t.next();this.Pe()}ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),o=pg(t);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),o=pg(t);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,l,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class gg{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class mg{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class vc{constructor(){this.$e=new sy,this.Be=new gg(this.$e),this.Le=new mg(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Yc{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Yc(this.indexId,this.documentKey,this.arrayValue,o)}}function vu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=yg(i.arrayValue,e.arrayValue),0!==t?t:(t=yg(i.directionalValue,e.directionalValue),0!==t?t:Yt.comparator(i.documentKey,e.documentKey)))}function yg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Sf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const o=t;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){In(e.collectionGroup===this.collectionId);const t=ba(e);if(void 0!==t&&!this.We(t))return!1;const o=ea(e);let l=0,p=0;for(;l<o.length&&this.We(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Qe){const w=o[l];if(!this.ze(this.Qe,w)||!this.He(this.Ke[p++],w))return!1;++l}for(;l<o.length;++l)if(p>=this.Ke.length||!this.He(this.Ke[p++],o[l]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bf(i){var e,t;if(In(i instanceof Pr||i instanceof pi),i instanceof Pr){if(i instanceof Ka){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(p=>Pr.create(i.field,"==",p)))||[];return pi.create(l,"or")}return i}const o=i.filters.map(l=>bf(l));return pi.create(o,i.op)}function _g(i){if(0===i.getFilters().length)return[];const e=Qc(bf(i));return In(Th(e)),Pu(e)||Af(e)?[e]:e.getFilters()}function Pu(i){return i instanceof Pr}function Af(i){return i instanceof pi&&ml(i)}function Th(i){return Pu(i)||Af(i)||function(e){if(e instanceof pi&&gl(e)){for(const t of e.getFilters())if(!Pu(t)&&!Af(t))return!1;return!0}return!1}(i)}function Qc(i){if(In(i instanceof Pr||i instanceof pi),i instanceof Pr)return i;if(1===i.filters.length)return Qc(i.filters[0]);const e=i.filters.map(o=>Qc(o));let t=pi.create(e,i.op);return t=Ec(t),Th(t)?t:(In(t instanceof pi),In(rl(t)),In(t.filters.length>1),t.filters.reduce((o,l)=>Mf(o,l)))}function Mf(i,e){let t;return In(i instanceof Pr||i instanceof pi),In(e instanceof Pr||e instanceof pi),t=i instanceof Pr?e instanceof Pr?pi.create([i,e],"and"):Sh(i,e):e instanceof Pr?Sh(e,i):function(o,l){if(In(o.filters.length>0&&l.filters.length>0),rl(o)&&rl(l))return sa(o,l.getFilters());const p=gl(o)?o:l,w=gl(o)?l:o,N=p.filters.map(z=>Mf(z,w));return pi.create(N,"or")}(i,e),Ec(t)}function Sh(i,e){if(rl(e))return sa(e,i.getFilters());{const t=e.filters.map(o=>Mf(i,o));return pi.create(t,"or")}}function Ec(i){if(In(i instanceof Pr||i instanceof pi),i instanceof Pr)return i;const e=i.getFilters();if(1===e.length)return Ec(e[0]);if(yl(i))return i;const t=e.map(l=>Ec(l)),o=[];return t.forEach(l=>{l instanceof Pr?o.push(l):l instanceof pi&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:pi.create(o,i.op)}class Dc{constructor(){this.Je=new bh}addToCollectionParentIndex(e,t){return this.Je.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t){return it.resolve(null)}getIndexType(e,t){return it.resolve(0)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,t){return it.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return it.resolve(js.min())}updateCollectionGroup(e,t,o){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class bh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new mi(Vn.comparator),p=!l.has(o);return this.index[t]=l.add(o),p}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new mi(Vn.comparator)).toArray()}}const qc=new Uint8Array(0);class oy{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new bh,this.Xe=new Nr(o=>_l(o),(o,l)=>co(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const p={collectionId:o,parent:ks(l)};return vg(e).put(p)}return it.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[ao(t),""],!1,!0);return vg(e).W(l).next(p=>{for(const w of p){if(w.collectionId!==t)break;o.push(Gl(w.parent))}return o})}addFieldIndex(e,t){const o=Ou(e),l={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var w;delete l.indexId;const p=o.add(l);if(t.indexState){const w=Fd(e);return p.next(N=>{w.put(Tf(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const o=Ou(e),l=Fd(e),p=Zc(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Zc(e);let l=!0;const p=new Map;return it.forEach(this.Ze(t),w=>this.tn(e,w).next(N=>{l&&(l=!!N),p.set(w,N)})).next(()=>{if(l){let w=Jn();const N=[];return it.forEach(p,(z,J)=>{var ye;Ft("IndexedDbIndexManager",`Using index ${ye=z,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(wi=>`${wi.fieldPath}:${wi.kind}`).join(",")}`} to execute ${_l(t)}`);const Me=function(wi,pa){const hs=ba(pa);if(void 0===hs)return null;for(const $i of Bl(wi,hs.fieldPath))switch($i.op){case"array-contains-any":return $i.value.arrayValue.values||[];case"array-contains":return[$i.value]}return null}(J,z),lt=function(wi,pa){const hs=new Map;for(const $i of ea(pa))for(const ga of Bl(wi,$i.fieldPath))switch(ga.op){case"==":case"in":hs.set($i.fieldPath.canonicalString(),ga.value);break;case"not-in":case"!=":return hs.set($i.fieldPath.canonicalString(),ga.value),Array.from(hs.values())}return null}(J,z),Rt=function(wi,pa){const hs=[];let $i=!0;for(const ga of ea(pa)){const Sd=0===ga.kind?cu(wi,ga.fieldPath,wi.startAt):$u(wi,ga.fieldPath,wi.startAt);hs.push(Sd.value),$i&&($i=Sd.inclusive)}return new Bi(hs,$i)}(J,z),jt=function(wi,pa){const hs=[];let $i=!0;for(const ga of ea(pa)){const Sd=0===ga.kind?$u(wi,ga.fieldPath,wi.endAt):cu(wi,ga.fieldPath,wi.endAt);hs.push(Sd.value),$i&&($i=Sd.inclusive)}return new Bi(hs,$i)}(J,z),vn=this.en(z,J,Rt),Bn=this.en(z,J,jt),Cs=this.nn(z,J,lt),ds=this.sn(z.indexId,Me,vn,Rt.inclusive,Bn,jt.inclusive,Cs);return it.forEach(ds,wi=>o.J(wi,t.limit).next(pa=>{pa.forEach(hs=>{const $i=Yt.fromSegments(hs.documentKey);w.has($i)||(w=w.add($i),N.push($i))})}))}).next(()=>N)}return it.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:_g(pi.create(e.filters,"and")).map(o=>Vl(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,o,l,p,w,N){const z=(null!=t?t.length:1)*Math.max(o.length,p.length),J=z/(null!=t?t.length:1),ye=[];for(let Me=0;Me<z;++Me){const lt=t?this.rn(t[Me/J]):qc,Rt=this.on(e,lt,o[Me%J],l),jt=this.un(e,lt,p[Me%J],w),vn=N.map(Bn=>this.on(e,lt,Bn,!0));ye.push(...this.createRange(Rt,jt,vn))}return ye}on(e,t,o,l){const p=new Yc(e,Yt.empty(),t,o);return l?p:p.Ue()}un(e,t,o,l){const p=new Yc(e,Yt.empty(),t,o);return l?p.Ue():p}tn(e,t){const o=new Sf(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(p=>{let w=null;for(const N of p)o.je(N)&&(!w||N.fields.length>w.fields.length)&&(w=N);return w})}getIndexType(e,t){let o=2;const l=this.Ze(t);return it.forEach(l,p=>this.tn(e,p).next(w=>{w?0!==o&&w.fields.length<function(N){let z=new mi(xr.comparator),J=!1;for(const ye of N.filters)for(const Me of ye.getFlattenedFilters())Me.field.isKeyField()||("array-contains"===Me.op||"array-contains-any"===Me.op?J=!0:z=z.add(Me.field));for(const ye of N.orderBy)ye.field.isKeyField()||(z=z.add(ye.field));return z.size+(J?1:0)}(p)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}cn(e,t){const o=new vc;for(const l of ea(e)){const p=t.data.field(l.fieldPath);if(null==p)return null;const w=o.qe(l.kind);Xu.Ie.ue(p,w)}return o.Fe()}rn(e){const t=new vc;return Xu.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const o=new vc;return Xu.Ie.ue(W(this.databaseId,t),o.qe(function(l){const p=ea(l);return 0===p.length?0:p[p.length-1].kind}(e))),o.Fe()}nn(e,t,o){if(null===o)return[];let l=[];l.push(new vc);let p=0;for(const w of ea(e)){const N=o[p++];for(const z of l)if(this.hn(t,w.fieldPath)&&pe(N))l=this.ln(l,w,N);else{const J=z.qe(w.kind);Xu.Ie.ue(N,J)}}return this.fn(l)}en(e,t,o){return this.nn(e,t,o.position)}fn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Fe();return t}ln(e,t,o){const l=[...e],p=[];for(const w of o.arrayValue.values||[])for(const N of l){const z=new vc;z.seed(N.Fe()),Xu.Ie.ue(w,z.qe(t.kind)),p.push(z)}return p}hn(e,t){return!!e.filters.find(o=>o instanceof Pr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Ou(e),l=Fd(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(p=>{const w=[];return it.forEach(p,N=>l.get([N.indexId,this.uid]).next(z=>{w.push(function(J,ye){const Me=ye?new ta(ye.sequenceNumber,new js(yc(ye.readTime),new Yt(Gl(ye.documentKey)),ye.largestBatchId)):ta.empty(),lt=J.fields.map(([Rt,jt])=>new ys(xr.fromServerFormat(Rt),jt));return new lo(J.indexId,J.collectionGroup,lt,Me)}(N,z))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const p=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==p?p:sn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=Ou(e),p=Fd(e);return this.dn(e).next(w=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>it.forEach(N,z=>p.put(Tf(z.indexId,this.user,w,o)))))}updateIndexEntries(e,t){const o=new Map;return it.forEach(t,(l,p)=>{const w=o.get(l.collectionGroup);return(w?it.resolve(w):this.getFieldIndexes(e,l.collectionGroup)).next(N=>(o.set(l.collectionGroup,N),it.forEach(N,z=>this._n(e,l,z).next(J=>{const ye=this.wn(p,z);return J.isEqual(ye)?it.resolve():this.mn(e,p,z,J,ye)}))))})}gn(e,t,o,l){return Zc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(o,t.key),documentKey:t.key.path.toArray()})}yn(e,t,o,l){return Zc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(o,t.key),t.key.path.toArray()])}_n(e,t,o){const l=Zc(e);let p=new mi(vu);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,t)])},(w,N)=>{p=p.add(new Yc(o.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>p)}wn(e,t){let o=new mi(vu);const l=this.cn(t,e);if(null==l)return o;const p=ba(t);if(null!=p){const w=e.data.field(p.fieldPath);if(pe(w))for(const N of w.arrayValue.values||[])o=o.add(new Yc(t.indexId,e.key,this.rn(N),l))}else o=o.add(new Yc(t.indexId,e.key,qc,l));return o}mn(e,t,o,l,p){Ft("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(N,z,J,ye,Me){const lt=N.getIterator(),Rt=z.getIterator();let jt=Zs(lt),vn=Zs(Rt);for(;jt||vn;){let Bn=!1,Cs=!1;if(jt&&vn){const ds=J(jt,vn);ds<0?Cs=!0:ds>0&&(Bn=!0)}else null!=jt?Cs=!0:Bn=!0;Bn?(ye(vn),vn=Zs(Rt)):Cs?(Me(jt),jt=Zs(lt)):(jt=Zs(lt),vn=Zs(Rt))}}(l,p,vu,N=>{w.push(this.gn(e,t,o,N))},N=>{w.push(this.yn(e,t,o,N))}),it.waitFor(w)}dn(e){let t=1;return Fd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,p)=>{p.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((w,N)=>vu(w,N)).filter((w,N,z)=>!N||0!==vu(w,z[N-1]));const l=[];l.push(e);for(const w of o){const N=vu(w,e),z=vu(w,t);if(0===N)l[0]=e.Ue();else if(N>0&&z<0)l.push(w),l.push(w.Ue());else if(z>0)break}l.push(t);const p=[];for(let w=0;w<l.length;w+=2){if(this.pn(l[w],l[w+1]))return[];p.push(IDBKeyRange.bound([l[w].indexId,this.uid,l[w].arrayValue,l[w].directionalValue,qc,[]],[l[w+1].indexId,this.uid,l[w+1].arrayValue,l[w+1].directionalValue,qc,[]]))}return p}pn(e,t){return vu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Eg)}getMinOffset(e,t){return it.mapArray(this.Ze(t),o=>this.tn(e,o).next(l=>l||gn())).next(Eg)}}function vg(i){return Gs(i,"collectionParents")}function Zc(i){return Gs(i,"indexEntries")}function Ou(i){return Gs(i,"indexConfiguration")}function Fd(i){return Gs(i,"indexState")}function Eg(i){In(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;Rl(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new js(e.readTime,e.documentKey,t)}const Dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ua{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ua(e,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cg(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),p=[],w=IDBKeyRange.only(t.batchId);let N=0;const z=o.Z({range:w},(ye,Me,lt)=>(N++,lt.delete()));p.push(z.next(()=>{In(1===N)}));const J=[];for(const ye of t.mutations){const Me=Ih(e,ye.key.path,t.batchId);p.push(l.delete(Me)),J.push(ye.key)}return it.waitFor(p).next(()=>J)}function kd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw gn();e=i.noDocument}return JSON.stringify(e).length}Ua.DEFAULT_COLLECTION_PERCENTILE=10,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ua.DEFAULT=new Ua(41943040,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ua.DISABLED=new Ua(-1,0,0);class Ah{constructor(e,t,o,l){this.userId=e,this.yt=t,this.indexManager=o,this.referenceDelegate=l,this.In={}}static re(e,t,o,l){In(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Ah(p,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).Z({index:"userMutationsIndex",range:o},(l,p,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const p=Xc(e),w=Cc(e);return w.add({}).next(N=>{In("number"==typeof N);const z=new mc(N,t,o,l),J=function(lt,Rt,jt){const vn=jt.baseMutations.map(Cs=>Pd(lt.ie,Cs)),Bn=jt.mutations.map(Cs=>Pd(lt.ie,Cs));return{userId:Rt,batchId:jt.batchId,localWriteTimeMs:jt.localWriteTime.toMillis(),baseMutations:vn,mutations:Bn}}(this.yt,this.userId,z),ye=[];let Me=new mi((lt,Rt)=>sn(lt.canonicalString(),Rt.canonicalString()));for(const lt of l){const Rt=Ih(this.userId,lt.key.path,N);Me=Me.add(lt.key.path.popLast()),ye.push(w.put(J)),ye.push(p.put(Rt,lg))}return Me.forEach(lt=>{ye.push(this.indexManager.addToCollectionParentIndex(e,lt))}),e.addOnCommittedListener(()=>{this.In[N]=z.keys()}),it.waitFor(ye).next(()=>z)})}lookupMutationBatch(e,t){return Cc(e).get(t).next(o=>o?(In(o.userId===this.userId),Mu(this.yt,o)):null)}Tn(e,t){return this.In[t]?it.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Cc(e).Z({index:"userMutationsIndex",range:l},(w,N,z)=>{N.userId===this.userId&&(In(N.batchId>=o),p=Mu(this.yt,N)),z.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Cc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,p,w)=>{o=p.batchId,w.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).W("userMutationsIndex",t).next(o=>o.map(l=>Mu(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Gc(this.userId,t.path),l=IDBKeyRange.lowerBound(o),p=[];return Xc(e).Z({range:l},(w,N,z)=>{const[J,ye,Me]=w,lt=Gl(ye);if(J===this.userId&&t.path.isEqual(lt))return Cc(e).get(Me).next(Rt=>{if(!Rt)throw gn();In(Rt.userId===this.userId),p.push(Mu(this.yt,Rt))});z.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new mi(sn);const l=[];return t.forEach(p=>{const w=Gc(this.userId,p.path),N=IDBKeyRange.lowerBound(w),z=Xc(e).Z({range:N},(J,ye,Me)=>{const[lt,Rt,jt]=J,vn=Gl(Rt);lt===this.userId&&p.path.isEqual(vn)?o=o.add(jt):Me.done()});l.push(z)}),it.waitFor(l).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,p=Gc(this.userId,o),w=IDBKeyRange.lowerBound(p);let N=new mi(sn);return Xc(e).Z({range:w},(z,J,ye)=>{const[Me,lt,Rt]=z,jt=Gl(lt);Me===this.userId&&o.isPrefixOf(jt)?jt.length===l&&(N=N.add(Rt)):ye.done()}).next(()=>this.En(e,N))}En(e,t){const o=[],l=[];return t.forEach(p=>{l.push(Cc(e).get(p).next(w=>{if(null===w)throw gn();In(w.userId===this.userId),o.push(Mu(this.yt,w))}))}),it.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Cg(e.se,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),it.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return it.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Xc(e).Z({range:o},(p,w,N)=>{if(p[0]===this.userId){const z=Gl(p[1]);l.push(z)}else N.done()}).next(()=>{In(0===l.length)})})}containsKey(e,t){return Pf(e,this.userId,t)}Rn(e){return Jc(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pf(i,e,t){const o=Gc(e,t.path),l=o[1],p=IDBKeyRange.lowerBound(o);let w=!1;return Xc(i).Z({range:p,X:!0},(N,z,J)=>{const[ye,Me,lt]=N;ye===e&&Me===l&&(w=!0),J.done()}).next(()=>w)}function Cc(i){return Gs(i,"mutations")}function Xc(i){return Gs(i,"documentMutations")}function Jc(i){return Gs(i,"mutationQueues")}class Ic{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ic(0)}static vn(){return new Ic(-1)}}class ed{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Ic(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>yn.fromTimestamp(new pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Eu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let l=0;const p=[];return Eu(e).Z((w,N)=>{const z=_c(N);z.sequenceNumber<=t&&null===o.get(z.targetId)&&(l++,p.push(this.removeTargetData(e,z)))}).next(()=>it.waitFor(p)).next(()=>l)}forEachTarget(e,t){return Eu(e).Z((o,l)=>{const p=_c(l);t(p)})}Vn(e){return Ig(e).get("targetGlobalKey").next(t=>(In(null!==t),t))}Sn(e,t){return Ig(e).put("targetGlobalKey",t)}Dn(e,t){return Eu(e).put(dg(this.yt,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=_l(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Eu(e).Z({range:l,index:"queryTargetsIndex"},(w,N,z)=>{const J=_c(N);co(t,J.target)&&(p=J,z.done())}).next(()=>p)}addMatchingKeys(e,t,o){const l=[],p=Ru(e);return t.forEach(w=>{const N=ks(w.path);l.push(p.put({targetId:o,path:N})),l.push(this.referenceDelegate.addReference(e,o,w))}),it.waitFor(l)}removeMatchingKeys(e,t,o){const l=Ru(e);return it.forEach(t,p=>{const w=ks(p.path);return it.waitFor([l.delete([o,w]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,t){const o=Ru(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=Ru(e);let p=Jn();return l.Z({range:o,X:!0},(w,N,z)=>{const J=Gl(w[1]),ye=new Yt(J);p=p.add(ye)}).next(()=>p)}containsKey(e,t){const o=ks(t.path),l=IDBKeyRange.bound([o],[ao(o)],!1,!0);let p=0;return Ru(e).Z({index:"documentTargetsIndex",X:!0,range:l},([w,N],z,J)=>{0!==w&&(p++,J.done())}).next(()=>p>0)}ne(e,t){return Eu(e).get(t).next(o=>o?_c(o):null)}}function Eu(i){return Gs(i,"targets")}function Ig(i){return Gs(i,"targetGlobal")}function Ru(i){return Gs(i,"targetDocuments")}function wg([i,e],[t,o]){const l=sn(i,t);return 0===l?sn(e,o):l}class ay{constructor(e){this.xn=e,this.buffer=new mi(wg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();wg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ly{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ft("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){_s(o)?Ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Po(o)}yield t.Fn(3e5)}))}}class Tg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return it.resolve(xs.at);const o=new ay(t);return this.$n.forEachTarget(e,l=>o.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>o.On(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Dg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dg):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let o,l,p,w,N,z,J;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),l=this.params.maximumSequenceNumbersToCollect):l=Me,w=Date.now(),this.nthSequenceNumber(e,l))).next(Me=>(o=Me,N=Date.now(),this.removeTargets(e,o,t))).next(Me=>(p=Me,z=Date.now(),this.removeOrphanedDocuments(e,o))).next(Me=>(J=Date.now(),ms()<=B.in.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-ye}ms\n\tDetermined least recently used ${l} in `+(N-w)+`ms\n\tRemoved ${p} targets in `+(z-N)+`ms\n\tRemoved ${Me} documents in `+(J-z)+`ms\nTotal Duration: ${J-ye}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:Me})))}}class Sg{constructor(e,t){this.db=e,this.garbageCollector=new Tg(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Un(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,l)=>t(l))}addReference(e,t,o){return td(e,o)}removeReference(e,t,o){return td(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return td(e,t)}Gn(e,t){return function(o,l){let p=!1;return Jc(o).tt(w=>Pf(o,w,l).next(N=>(N&&(p=!0),it.resolve(!N)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.Kn(e,(w,N)=>{if(N<=t){const z=this.Gn(e,w).next(J=>{if(!J)return p++,o.getEntry(e,w).next(()=>(o.removeEntry(w,yn.min()),Ru(e).delete([0,ks(w.path)])))});l.push(z)}}).next(()=>it.waitFor(l)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return td(e,t)}Kn(e,t){const o=Ru(e);let l,p=xs.at;return o.Z({index:"documentTargetsIndex"},([w,N],{path:z,sequenceNumber:J})=>{0===w?(p!==xs.at&&t(new Yt(Gl(l)),p),p=J,l=z):p=xs.at}).next(()=>{p!==xs.at&&t(new Yt(Gl(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function td(i,e){return Ru(i).put((o=i.currentSequenceNumber,{targetId:0,path:ks(e.path),sequenceNumber:o}));var o}class Mh{constructor(){this.changes=new Nr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?it.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uy{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return wc(e).put(o)}removeEntry(e,t,o){return wc(e).delete(function(l,p){const w=l.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],Us(p),w[w.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=ci.newInvalidDocument(t);return wc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vd(t))},(l,p)=>{o=this.jn(t,p)}).next(()=>o)}Wn(e,t){let o={size:0,document:ci.newInvalidDocument(t)};return wc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Vd(t))},(l,p)=>{o={document:this.jn(t,p),size:kd(p)}}).next(()=>o)}getEntries(e,t){let o=Wr();return this.zn(e,t,(l,p)=>{const w=this.jn(l,p);o=o.insert(l,w)}).next(()=>o)}Hn(e,t){let o=Wr(),l=new xi(Yt.comparator);return this.zn(e,t,(p,w)=>{const N=this.jn(p,w);o=o.insert(p,N),l=l.insert(p,kd(w))}).next(()=>({documents:o,Jn:l}))}zn(e,t,o){if(t.isEmpty())return it.resolve();let l=new mi(Of);t.forEach(z=>l=l.add(z));const p=IDBKeyRange.bound(Vd(l.first()),Vd(l.last())),w=l.getIterator();let N=w.getNext();return wc(e).Z({index:"documentKeyIndex",range:p},(z,J,ye)=>{const Me=Yt.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;N&&Of(N,Me)<0;)o(N,null),N=w.getNext();N&&N.isEqual(Me)&&(o(N,J),N=w.hasNext()?w.getNext():null),N?ye.j(Vd(N)):ye.done()}).next(()=>{for(;N;)o(N,null),N=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const p=t.path,w=[p.popLast().toArray(),p.lastSegment(),Us(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wc(e).W(IDBKeyRange.bound(w,N,!0)).next(z=>{let J=Wr();for(const ye of z){const Me=this.jn(Yt.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Me.isFoundDocument()&&(eu(t,Me)||l.has(Me.key))&&(J=J.insert(Me.key,Me))}return J})}getAllFromCollectionGroup(e,t,o,l){let p=Wr();const w=Ag(t,o),N=Ag(t,js.max());return wc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,N,!0)},(z,J,ye)=>{const Me=this.jn(Yt.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);p=p.insert(Me.key,Me),p.size===l&&ye.done()}).next(()=>p)}newChangeBuffer(e){return new Ud(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bg(e).get("remoteDocumentGlobalKey").next(t=>(In(!!t),t))}Qn(e,t){return bg(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Cf(i,e){let t;if(e.document)t=function qu(i,e,t){const o=tu(i,e.name),l=Hi(e.updateTime),p=e.createTime?Hi(e.createTime):yn.min(),w=new Hs({mapValue:{fields:e.fields}}),N=ci.newFoundDocument(o,l,p,w);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Yt.fromSegments(e.noDocument.path),l=yc(e.noDocument.readTime);t=ci.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gn();{const o=Yt.fromSegments(e.unknownDocument.path),l=yc(e.unknownDocument.version);t=ci.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new pr(o[0],o[1]);return yn.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!o.isNoDocument()||!o.version.isEqual(yn.min()))return o}return ci.newInvalidDocument(e)}}function Ph(i){return new uy(i)}class Ud extends Mh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Nr(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new mi((p,w)=>sn(p.canonicalString(),w.canonicalString()));return this.changes.forEach((p,w)=>{const N=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,N.readTime)),w.isValidDocument()){const z=cg(this.Yn.yt,w);l=l.add(p.path.popLast());const J=kd(z);o+=J-N.size,t.push(this.Yn.addEntry(e,p,z))}else if(o-=N.size,this.trackRemovals){const z=cg(this.Yn.yt,w.convertToNoDocument(yn.min()));t.push(this.Yn.addEntry(e,p,z))}}),l.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,o)),it.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:l})=>(l.forEach((p,w)=>{this.Xn.set(p,{size:w,readTime:o.get(p).readTime})}),o))}}function bg(i){return Gs(i,"remoteDocumentGlobal")}function wc(i){return Gs(i,"remoteDocumentsV14")}function Vd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ag(i,e){const t=e.documentKey.path.toArray();return[i,Us(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Of(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let p=0;p<t.length-2&&p<o.length-2;++p)if(l=sn(t[p],o[p]),l)return l;return l=sn(t.length,o.length),l||(l=sn(t[t.length-2],o[o.length-2]),l||sn(t[t.length-1],o[o.length-1]))}class Mg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pg{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&g(o.mutation,l,Es.empty(),pr.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Jn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Jn()){const l=Ni();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(p=>{let w=Ca();return p.forEach((N,z)=>{w=w.insert(N,z.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const o=Ni();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Jn()))}populateOverlays(e,t,o){const l=[];return o.forEach(p=>{t.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((w,N)=>{t.set(w,N)})})}computeViews(e,t,o,l){let p=Wr();const w=ka(),N=ka();return t.forEach((z,J)=>{const ye=o.get(J.key);l.has(J.key)&&(void 0===ye||ye.mutation instanceof _e)?p=p.insert(J.key,J):void 0!==ye?(w.set(J.key,ye.mutation.getFieldMask()),g(ye.mutation,J,ye.mutation.getFieldMask(),pr.now())):w.set(J.key,Es.empty())}),this.recalculateAndSaveOverlays(e,p).next(z=>(z.forEach((J,ye)=>w.set(J,ye)),t.forEach((J,ye)=>{var Me;return N.set(J,new Mg(ye,null!==(Me=w.get(J))&&void 0!==Me?Me:null))}),N))}recalculateAndSaveOverlays(e,t){const o=ka();let l=new xi((w,N)=>w-N),p=Jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const N of w)N.keys().forEach(z=>{const J=t.get(z);if(null===J)return;let ye=o.get(z)||Es.empty();ye=N.applyToLocalView(J,ye),o.set(z,ye);const Me=(l.get(N.batchId)||Jn()).add(z);l=l.insert(N.batchId,Me)})}).next(()=>{const w=[],N=l.getReverseIterator();for(;N.hasNext();){const z=N.getNext(),J=z.key,ye=z.value,Me=Ya();ye.forEach(lt=>{if(!p.has(lt)){const Rt=y(t.get(lt),o.get(lt));null!==Rt&&Me.set(lt,Rt),p=p.add(lt)}}),w.push(this.documentOverlayCache.saveOverlays(e,J,Me))}return it.waitFor(w)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Yt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(p=>{const w=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-p.size):it.resolve(Ni());let N=-1,z=p;return w.next(J=>it.forEach(J,(ye,Me)=>(N<Me.largestBatchId&&(N=Me.largestBatchId),p.get(ye)?it.resolve():this.remoteDocumentCache.getEntry(e,ye).next(lt=>{z=z.insert(ye,lt)}))).next(()=>this.populateOverlays(e,J,p)).next(()=>this.computeViews(e,z,J,Jn())).next(ye=>({batchId:N,changes:Ia(ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(o=>{let l=Ca();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let p=Ca();return this.indexManager.getCollectionParents(e,l).next(w=>it.forEach(w,N=>{const z=(J=t,ye=N.child(l),new ji(ye,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,ye;return this.getDocumentsMatchingCollectionQuery(e,z,o).next(J=>{J.forEach((ye,Me)=>{p=p.insert(ye,Me)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(p=>(l=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(p=>{l.forEach((N,z)=>{const J=z.getKey();null===p.get(J)&&(p=p.insert(J,ci.newInvalidDocument(J)))});let w=Ca();return p.forEach((N,z)=>{const J=l.get(N);void 0!==J&&g(J.mutation,z,Es.empty(),pr.now()),eu(t,z)&&(w=w.insert(N,z))}),w})}}class nd{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return it.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Hi(o.createTime)}),it.resolve()}getNamedQuery(e,t){return it.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:If(o.bundledQuery),readTime:Hi(o.readTime)}),it.resolve();var o}}class xu{constructor(){this.overlays=new xi(Yt.comparator),this.es=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ni();return it.forEach(t,l=>this.getOverlay(e,l).next(p=>{null!==p&&o.set(l,p)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,p)=>{this.oe(e,t,p)}),it.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),it.resolve()}getOverlaysForCollection(e,t,o){const l=Ni(),p=t.length+1,w=new Yt(t.child("")),N=this.overlays.getIteratorFrom(w);for(;N.hasNext();){const z=N.getNext().value,J=z.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===p&&z.largestBatchId>o&&l.set(z.getKey(),z)}return it.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let p=new xi((J,ye)=>J-ye);const w=this.overlays.getIterator();for(;w.hasNext();){const J=w.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>o){let ye=p.get(J.largestBatchId);null===ye&&(ye=Ni(),p=p.insert(J.largestBatchId,ye)),ye.set(J.getKey(),J)}}const N=Ni(),z=p.getIterator();for(;z.hasNext()&&(z.getNext().value.forEach((J,ye)=>N.set(J,ye)),!(N.size()>=l)););return it.resolve(N)}oe(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const w=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,w)}this.overlays=this.overlays.insert(o.key,new wh(t,o));let p=this.es.get(t);void 0===p&&(p=Jn(),this.es.set(t,p)),this.es.set(t,p.add(o.key))}}class Rf{constructor(){this.ns=new mi(ca.ss),this.rs=new mi(ca.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ca(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ca(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Yt(new Vn([])),o=new ca(t,e),l=new ca(t,e+1),p=[];return this.rs.forEachInRange([o,l],w=>{this.cs(w),p.push(w.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Yt(new Vn([])),o=new ca(t,e),l=new ca(t,e+1);let p=Jn();return this.rs.forEachInRange([o,l],w=>{p=p.add(w.key)}),p}containsKey(e){const t=new ca(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ca{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Yt.comparator(e.key,t.key)||sn(e._s,t._s)}static os(e,t){return sn(e._s,t._s)||Yt.comparator(e.key,t.key)}}class k_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new mi(ca.ss)}checkEmpty(e){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const p=this.ws;this.ws++;const w=new mc(p,t,o,l);this.mutationQueue.push(w);for(const N of l)this.gs=this.gs.add(new ca(N.key,p)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return it.resolve(w)}lookupMutationBatch(e,t){return it.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),p=l<0?0:l;return it.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ca(t,0),l=new ca(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,l],w=>{const N=this.ys(w._s);p.push(N)}),it.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new mi(sn);return t.forEach(l=>{const p=new ca(l,0),w=new ca(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,w],N=>{o=o.add(N._s)})}),it.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let p=o;Yt.isDocumentKey(p)||(p=p.child(""));const w=new ca(new Yt(p),0);let N=new mi(sn);return this.gs.forEachWhile(z=>{const J=z.key.path;return!!o.isPrefixOf(J)&&(J.length===l&&(N=N.add(z._s)),!0)},w),it.resolve(this.Is(N))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){In(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return it.forEach(t.mutations,l=>{const p=new ca(l.key,t.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ca(t,0),l=this.gs.firstAfterOrEqual(o);return it.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return it.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class U_{constructor(e){this.Es=e,this.docs=new xi(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),p=l?l.size:0,w=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:w}),this.size+=w-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return it.resolve(o?o.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let o=Wr();return t.forEach(l=>{const p=this.docs.get(l);o=o.insert(l,p?p.document.mutableCopy():ci.newInvalidDocument(l))}),it.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let p=Wr();const w=t.path,N=new Yt(w.child("")),z=this.docs.getIteratorFrom(N);for(;z.hasNext();){const{key:J,value:{document:ye}}=z.getNext();if(!w.isPrefixOf(J.path))break;J.path.length>w.length+1||Rl(cl(ye),o)<=0||(l.has(ye.key)||eu(t,ye))&&(p=p.insert(ye.key,ye.mutableCopy()))}return it.resolve(p)}getAllFromCollectionGroup(e,t,o,l){gn()}As(e,t){return it.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Og(this)}getSize(e){return it.resolve(this.size)}}class Og extends Mh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),it.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class V_{constructor(e){this.persistence=e,this.Rs=new Nr(t=>_l(t),co),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Rf,this.targetCount=0,this.vs=Ic.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),it.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.Dn(t),it.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,o){let l=0;const p=[];return this.Rs.forEach((w,N)=>{N.sequenceNumber<=t&&null===o.get(N.targetId)&&(this.Rs.delete(w),p.push(this.removeMatchingKeysForTargetId(e,N.targetId)),l++)}),it.waitFor(p).next(()=>l)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return it.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),it.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,p=[];return l&&t.forEach(w=>{p.push(l.markPotentiallyOrphaned(e,w))}),it.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),it.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return it.resolve(o)}containsKey(e,t){return it.resolve(this.Ps.containsKey(t))}}class xf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new xs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new V_(this),this.indexManager=new Dc,this.remoteDocumentCache=new U_(o=>this.referenceDelegate.xs(o)),this.yt=new Df(t),this.Ns=new nd(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new k_(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Ft("MemoryPersistence","Starting transaction:",e);const l=new Rg(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(p=>this.referenceDelegate.Os(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Ms(e,t){return it.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Rg extends ou{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Fs=new Rf,this.$s=null}static Bs(e){return new Oh(e)}get Ls(){if(this.$s)return this.$s;throw gn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),it.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),it.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Ls,o=>{const l=Yt.fromPath(o);return this.qs(e,l).next(p=>{p||t.removeEntry(l,yn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return it.or([()=>it.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class xg{constructor(e){this.yt=e}$(e,t,o,l){const p=new Ma("createOrUpgrade",t);var N;o<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ch,{unique:!0}),N.createObjectStore("documentMutations"),Ng(e),function(N){N.createObjectStore("remoteDocuments")}(e));let w=it.resolve();return o<3&&l>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Ng(e)),w=w.next(()=>function(N){const z=N.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yn.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",J)}(p))),o<4&&l>=4&&(0!==o&&(w=w.next(()=>function(N,z){return z.store("mutations").W().next(J=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ch,{unique:!0});const ye=z.store("mutations"),Me=J.map(lt=>ye.put(lt));return it.waitFor(Me)})}(e,p))),w=w.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(w=w.next(()=>this.Us(p))),o<6&&l>=6&&(w=w.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&l>=7&&(w=w.next(()=>this.Gs(p))),o<8&&l>=8&&(w=w.next(()=>this.Qs(e,p))),o<9&&l>=9&&(w=w.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(w=w.next(()=>this.js(p))),o<11&&l>=11&&(w=w.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(w=w.next(()=>{!function(N){const z=N.createObjectStore("documentOverlays",{keyPath:Le});z.createIndex("collectionPathOverlayIndex",vt,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",It,{unique:!1})}(e)})),o<13&&l>=13&&(w=w.next(()=>function(N){const z=N.createObjectStore("remoteDocumentsV14",{keyPath:Ef});z.createIndex("documentKeyIndex",ug),z.createIndex("collectionGroupIndex",h)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(w=w.next(()=>this.zs(e,p))),o<15&&l>=15&&(w=w.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:j}).createIndex("sequenceNumberIndex",Y,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:me}).createIndex("documentKeyIndex",be,{unique:!1})}(e))),w}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,l)=>{t+=kd(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(l=>it.forEach(l,p=>{const w=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",w).next(N=>it.forEach(N,z=>{In(z.userId===p.userId);const J=Mu(this.yt,z);return Cg(e,p.userId,J).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const p=[];return o.Z((w,N)=>{const z=new Vn(w),J=[0,ks(z)];p.push(t.get(J).next(ye=>ye?it.resolve():t.put({targetId:0,path:ks(z),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>it.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:M});const o=t.store("collectionParents"),l=new bh,p=w=>{if(l.add(w)){const N=w.lastSegment(),z=w.popLast();return o.put({collectionId:N,parent:ks(z)})}};return t.store("remoteDocuments").Z({X:!0},(w,N)=>{const z=new Vn(w);return p(z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([w,N,z],J)=>{const ye=Gl(N);return p(ye.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,l)=>{const p=_c(l),w=dg(this.yt,p);return t.put(w)})}Ws(e,t){const o=t.store("remoteDocuments"),l=[];return o.Z((p,w)=>{const N=t.store("remoteDocumentsV14"),z=(J=w,J.document?new Yt(Vn.fromString(J.document.name).popFirst(5)):J.noDocument?Yt.fromSegments(J.noDocument.path):J.unknownDocument?Yt.fromSegments(J.unknownDocument.path):gn()).path.toArray();var J;const ye={prefixPath:z.slice(0,z.length-2),collectionGroup:z[z.length-2],documentId:z[z.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};l.push(N.put(ye))}).next(()=>it.waitFor(l))}zs(e,t){const o=t.store("mutations"),l=Ph(this.yt),p=new xf(Oh.Bs,this.yt.ie);return o.W().next(w=>{const N=new Map;return w.forEach(z=>{var J;let ye=null!==(J=N.get(z.userId))&&void 0!==J?J:Jn();Mu(this.yt,z).keys().forEach(Me=>ye=ye.add(Me)),N.set(z.userId,ye)}),it.forEach(N,(z,J)=>{const ye=new Xi(J),Me=zc.re(this.yt,ye),lt=p.getIndexManager(ye),Rt=Ah.re(ye,this.yt,lt,p.referenceDelegate);return new Pg(l,Rt,Me,lt).recalculateAndSaveOverlaysForDocumentKeys(new _u(t,xs.at),z).next()})})}}function Ng(i){i.createObjectStore("targetDocuments",{keyPath:c}).createIndex("documentTargetsIndex",E,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),i.createObjectStore("targetGlobal")}const Nf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wl{constructor(e,t,o,l,p,w,N,z,J,ye,Me=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=p,this.window=w,this.document=N,this.Js=J,this.Ys=ye,this.Xs=Me,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=lt=>Promise.resolve(),!wl.C())throw new P(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sg(this,l),this.ii=t+"main",this.yt=new Df(z),this.ri=new Ts(this.ii,this.Xs,new xg(this.yt)),this.Cs=new ed(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ph(this.yt),this.Ns=new F_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ye&&Ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new P(dt.FAILED_PRECONDITION,Nf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new xs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,f.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(_s(e))return Ft("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Bd(e).get("owner").next(t=>it.resolve(this.mi(t)))}gi(e){return jd(e).delete(this.clientId)}yi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Gs(o,"clientMetadata");return l.W().next(p=>{const w=e.Ii(p,18e5),N=p.filter(z=>-1===w.indexOf(z));return it.forEach(N,z=>l.delete(z.clientId)).next(()=>N)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?it.resolve(!0):Bd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new P(dt.FAILED_PRECONDITION,Nf);return!1}}return!(!this.networkEnabled||!this.inForeground)||jd(e).W().next(o=>void 0===this.Ii(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ft("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new _u(t,xs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>jd(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ah.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oy(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return zc.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Ft("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",p=15===(w=this.Xs)?wo:14===w?Ii:13===w?zn:12===w?_n:11===w?Ot:void gn();var w;let N;return this.ri.runTransaction(e,l,p,z=>(N=new _u(z,this.Ss?this.Ss.next():xs.at),"readwrite-primary"===t?this.fi(N).next(J=>!!J||this.di(N)).next(J=>{if(!J)throw Ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new P(dt.FAILED_PRECONDITION,su);return o(N)}).next(J=>this.wi(N).next(()=>J)):this.Vi(N).next(()=>o(N)))).then(z=>(N.raiseOnCommittedEvent(),z))}Vi(e){return Bd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new P(dt.FAILED_PRECONDITION,Nf)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bd(e).put("owner",t)}static C(){return Ts.C()}_i(e){const t=Bd(e);return t.get("owner").next(o=>this.mi(o)?(Ft("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):it.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ai(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Z.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ft("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ai("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ai("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bd(i){return Gs(i,"owner")}function jd(i){return Gs(i,"clientMetadata")}class Ff{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=Jn(),l=Jn();for(const p of t.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new Ff(e,t.fromCache,o,l)}}class Lg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(p=>p||this.Oi(e,t,l,o)).next(p=>p||this.Mi(e,t))}ki(e,t){if(Gu(t))return it.resolve(null);let o=cs(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Hl(t,null,"F"),o=cs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const w=Jn(...p);return this.Ni.getDocuments(e,w).next(N=>this.indexManager.getMinOffset(e,o).next(z=>{const J=this.Fi(t,N);return this.$i(t,J,w,z.readTime)?this.ki(e,Hl(t,null,"F")):this.Bi(e,J,t,z)}))})))}Oi(e,t,o,l){return Gu(t)||l.isEqual(yn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(p=>{const w=this.Fi(t,p);return this.$i(t,w,o,l)?this.Mi(e,t):(ms()<=B.in.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Eo(t)),this.Bi(e,w,t,function Aa(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=yn.fromTimestamp(1e9===o?new pr(t+1,0):new pr(t,o));return new js(l,Yt.empty(),e)}(l,-1)))})}Fi(e,t){let o=new mi(fu(e));return t.forEach((l,p)=>{eu(e,p)&&(o=o.add(p))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Mi(e,t){return ms()<=B.in.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.Ni.getDocumentsMatchingQuery(e,t,js.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(p=>(t.forEach(w=>{p=p.insert(w.key,w)}),p))}}class cy{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new xi(sn),this.Ui=new Nr(p=>_l(p),co),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pg(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function kf(i,e,t,o){return new cy(i,e,t,o)}function Fg(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,f.Z)(function*(i,e){const t=Jt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(p=>(l=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(p=>{const w=[],N=[];let z=Jn();for(const J of l){w.push(J.batchId);for(const ye of J.mutations)z=z.add(ye.key)}for(const J of p){N.push(J.batchId);for(const ye of J.mutations)z=z.add(ye.key)}return t.localDocuments.getDocuments(o,z).next(J=>({ji:J,removedBatchIds:w,addedBatchIds:N}))})})}),Uf.apply(this,arguments)}function Cr(i){const e=Jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ug(i,e){const t=Jt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function id(i,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,f.Z)(function*(i,e,t){const o=Jt(i),l=o.qi.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",p,w=>o.persistence.referenceDelegate.removeTarget(w,l)))}catch(w){if(!_s(w))throw w;Ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}o.qi=o.qi.remove(e),o.Ui.delete(l.target)}),Rh.apply(this,arguments)}function xh(i,e,t){const o=Jt(i);let l=yn.min(),p=Jn();return o.persistence.runTransaction("Execute query","readonly",w=>function(N,z,J){const ye=Jt(N),Me=ye.Ui.get(J);return void 0!==Me?it.resolve(ye.qi.get(Me)):ye.Cs.getTargetData(z,J)}(o,w,cs(e)).next(N=>{if(N)return l=N.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(w,N.targetId).next(z=>{p=z})}).next(()=>o.Li.getDocumentsMatchingQuery(w,e,t?l:yn.min(),t?p:Jn())).next(N=>(function Bg(i,e,t){let o=i.Ki.get(e)||yn.min();t.forEach((l,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.Ki.set(e,o)}(o,function hu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),N),{documents:N,Hi:p})))}class Hf{constructor(){this.activeTargetIds=ol()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hy{constructor(){this.Lr=new Hf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Hf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fy{Ur(e){}shutdown(){}}class Tc{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gg{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Vh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,l,p){const w=this.ho(e,t);Ft("RestConnection","Sending: ",w,o);const N={};return this.lo(N,l,p),this.fo(e,w,N,o).then(z=>(Ft("RestConnection","Received: ",z),z),z=>{throw Xo("RestConnection",`${e} failed with error: `,z,"url: ",w,"request:",o),z})}_o(e,t,o,l,p,w){return this.ao(e,t,o,l,p)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ys,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,p)=>e[p]=l),o&&o.headers.forEach((l,p)=>e[p]=l)}ho(e,t){return`${this.oo}/v1/${t}:${py[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((p,w)=>{const N=new Xa;N.setWithCredentials(!0),N.listenOnce(li.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Pl.NO_ERROR:const J=N.getResponseJson();Ft("Connection","XHR received:",JSON.stringify(J)),p(J);break;case Pl.TIMEOUT:Ft("Connection",'RPC "'+e+'" timed out'),w(new P(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const ye=N.getStatus();if(Ft("Connection",'RPC "'+e+'" failed with status:',ye,"response text:",N.getResponseText()),ye>0){let Me=N.getResponseJson();Array.isArray(Me)&&(Me=Me[0]);const lt=Me?.error;if(lt&&lt.status&&lt.message){const Rt=function(jt){const vn=jt.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(vn)>=0?vn:dt.UNKNOWN}(lt.status);w(new P(Rt,lt.message))}else w(new P(dt.UNKNOWN,"Server responded with status "+N.getStatus()))}else w(new P(dt.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{Ft("Connection",'RPC "'+e+'" completed.')}});const z=JSON.stringify(l);N.send(t,"POST",z,o,15)})}wo(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Qo(),w=Za(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new Ha({})),this.lo(N.initMessageHeaders,t,o),N.encodeInitMessageHeaders=!0;const z=l.join("");Ft("Connection","Creating WebChannel: "+z,N);const J=p.createWebChannel(z,N);let ye=!1,Me=!1;const lt=new Gg({Hr:jt=>{Me?Ft("Connection","Not sending because WebChannel is closed:",jt):(ye||(Ft("Connection","Opening WebChannel transport."),J.open(),ye=!0),Ft("Connection","WebChannel sending:",jt),J.send(jt))},Jr:()=>J.close()}),Rt=(jt,vn,Bn)=>{jt.listen(vn,Cs=>{try{Bn(Cs)}catch(ds){setTimeout(()=>{throw ds},0)}})};return Rt(J,$a.EventType.OPEN,()=>{Me||Ft("Connection","WebChannel transport opened.")}),Rt(J,$a.EventType.CLOSE,()=>{Me||(Me=!0,Ft("Connection","WebChannel transport closed"),lt.io())}),Rt(J,$a.EventType.ERROR,jt=>{Me||(Me=!0,Xo("Connection","WebChannel transport errored:",jt),lt.io(new P(dt.UNAVAILABLE,"The operation could not be completed")))}),Rt(J,$a.EventType.MESSAGE,jt=>{var vn;if(!Me){const Bn=jt.data[0];In(!!Bn);const ds=Bn.error||(null===(vn=Bn[0])||void 0===vn?void 0:vn.error);if(ds){Ft("Connection","WebChannel received error:",ds);const wi=ds.status;let pa=function($i){const ga=tn[$i];if(void 0!==ga)return gr(ga)}(wi),hs=ds.message;void 0===pa&&(pa=dt.INTERNAL,hs="Unknown error status: "+wi+" with message "+ds.message),Me=!0,lt.io(new P(pa,hs)),J.close()}else Ft("Connection","WebChannel received:",Bn),lt.ro(Bn)}}),Rt(w,Bs.STAT_EVENT,jt=>{jt.stat===qo.PROXY?Ft("Connection","Detected buffering proxy"):jt.stat===qo.NOPROXY&&Ft("Connection","Detected no buffering proxy")}),setTimeout(()=>{lt.so()},0),lt}}function $d(){return typeof document<"u"?document:null}function Gd(i){return new Io(i,!0)}class $f{constructor(e,t,o=1e3,l=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=l,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&Ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class zg{constructor(e,t,o,l,p,w,N,z){this.Hs=e,this.vo=o,this.Vo=l,this.connection=p,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=N,this.listener=z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $f(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,f.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===dt.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new P(dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gy extends zg{constructor(e,t,o,l,p,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,w),this.yt=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ag(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:gn(),l=e.targetChange.targetIds||[],p=function(z,J){return z.wt?(In(void 0===J||"string"==typeof J),Ci.fromBase64String(J||"")):(In(void 0===J||J instanceof Uint8Array),Ci.fromUint8Array(J||new Uint8Array))}(i,e.targetChange.resumeToken),w=e.targetChange.cause,N=w&&function(z){const J=void 0===z.code?dt.UNKNOWN:gr(z.code);return new P(J,z.message||"")}(w);t=new ii(o,l,p,N||null)}else if("documentChange"in e){const o=e.documentChange,l=tu(i,o.document.name),p=Hi(o.document.updateTime),w=o.document.createTime?Hi(o.document.createTime):yn.min(),N=new Hs({mapValue:{fields:o.document.fields}}),z=ci.newFoundDocument(l,p,w,N);t=new Gn(o.targetIds||[],o.removedTargetIds||[],z.key,z)}else if("documentDelete"in e){const o=e.documentDelete,l=tu(i,o.document),p=o.readTime?Hi(o.readTime):yn.min(),w=ci.newNoDocument(l,p);t=new Gn([],o.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const o=e.documentRemove,l=tu(i,o.document);t=new Gn([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return gn();{const o=e.filter,p=new On(o.count||0);t=new qn(o.targetId,p)}}var z;return t}(this.yt,e),o=function(l){if(!("targetChange"in l))return yn.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?yn.min():p.readTime?Hi(p.readTime):yn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Qu(this.yt),t.addTarget=function(l,p){let w;const N=p.target;return w=La(N)?{documents:Rd(l,N)}:{query:$c(l,N)},w.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?w.resumeToken=ua(l,p.resumeToken):p.snapshotVersion.compareTo(yn.min())>0&&(w.readTime=la(l,p.snapshotVersion.toTimestamp())),w}(this.yt,e);const o=function xd(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Qu(this.yt),t.removeTarget=e,this.Bo(t)}}class my extends zg{constructor(e,t,o,l,p,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,w),this.yt=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function dc(i,e){return i&&i.length>0?(In(void 0!==e),i.map(t=>function(o,l){let p=Hi(o.updateTime?o.updateTime:l);return p.isEqual(yn.min())&&(p=Hi(l)),new v(p,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Hi(e.commitTime);return this.listener.Zo(o,t)}return In(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Qu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Pd(this.yt,o))};this.Bo(t)}}class Kg extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=l,this.nu=!1}su(){if(this.nu)throw new P(dt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.ao(e,t,o,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new P(dt.UNKNOWN,l.toString())})}_o(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,w])=>this.connection._o(e,t,o,p,w,l)).catch(p=>{throw"FirebaseError"===p.name?(p.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new P(dt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class Yg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ai(t),this.ou=!1):Ft("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Gf{constructor(e,t,o,l,p){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.Ur(N=>{o.enqueueAndForget((0,f.Z)(function*(){var z;Wl(w)&&(Ft("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,f.Z)(function*(J){const ye=Jt(J);ye._u.add(4),yield sd(ye),ye.gu.set("Unknown"),ye._u.delete(4),yield jh(ye)}),function(J){return z.apply(this,arguments)})(w))}))}),this.gu=new Yg(o,l)}}function jh(i){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,f.Z)(function*(i){if(Wl(i))for(const e of i.wu)yield e(!0)}),Wd.apply(this,arguments)}function sd(i){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,f.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Qg.apply(this,arguments)}function Lu(i,e){const t=Jt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Yf(t)?Kf(t):Ac(t).ko()&&Wf(t,e))}function od(i,e){const t=Jt(i),o=Ac(t);t.du.delete(e),o.ko()&&zf(t,e),0===t.du.size&&(o.ko()?o.Fo():Wl(t)&&t.gu.set("Unknown"))}function Wf(i,e){i.yu.Ot(e.targetId),Ac(i).zo(e)}function zf(i,e){i.yu.Ot(e),Ac(i).Ho(e)}function Kf(i){i.yu=new al({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Ac(i).start(),i.gu.uu()}function Yf(i){return Wl(i)&&!Ac(i).No()&&i.du.size>0}function Wl(i){return 0===Jt(i)._u.size}function Sc(i){i.yu=void 0}function Qf(i){return bc.apply(this,arguments)}function bc(){return bc=(0,f.Z)(function*(i){i.du.forEach((e,t)=>{Wf(i,e)})}),bc.apply(this,arguments)}function qf(i,e){return ad.apply(this,arguments)}function ad(){return ad=(0,f.Z)(function*(i,e){Sc(i),Yf(i)?(i.gu.hu(e),Kf(i)):i.gu.set("Unknown")}),ad.apply(this,arguments)}function qg(i,e,t){return zd.apply(this,arguments)}function zd(){return zd=(0,f.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof ii&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(l,p){const w=p.cause;for(const N of p.targetIds)l.du.has(N)&&(yield l.remoteSyncer.rejectListen(N,w),l.du.delete(N),l.yu.removeTarget(N))}),function(l,p){return o.apply(this,arguments)})(i,e)}catch(o){Ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ld(i,o)}else if(e instanceof Gn?i.yu.Kt(e):e instanceof qn?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(yn.min()))try{const o=yield Cr(i.localStore);t.compareTo(o)>=0&&(yield function(l,p){const w=l.yu.Zt(p);return w.targetChanges.forEach((N,z)=>{if(N.resumeToken.approximateByteSize()>0){const J=l.du.get(z);J&&l.du.set(z,J.withResumeToken(N.resumeToken,p))}}),w.targetMismatches.forEach(N=>{const z=l.du.get(N);if(!z)return;l.du.set(N,z.withResumeToken(Ci.EMPTY_BYTE_STRING,z.snapshotVersion)),zf(l,N);const J=new nu(z.target,N,1,z.sequenceNumber);Wf(l,J)}),l.remoteSyncer.applyRemoteEvent(w)}(i,t))}catch(o){Ft("RemoteStore","Failed to raise snapshot:",o),yield ld(i,o)}var o}),zd.apply(this,arguments)}function ld(i,e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,f.Z)(function*(i,e,t){if(!_s(e))throw e;i._u.add(1),yield sd(i),i.gu.set("Offline"),t||(t=()=>Cr(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Ft("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield jh(i)}))}),Kd.apply(this,arguments)}function Zf(i,e){return e().catch(t=>ld(i,t,e))}function Ju(i){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,f.Z)(function*(i){const e=Jt(i),t=ec(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;_y(e);)try{const l=yield Ug(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,Zg(e,l)}catch(l){yield ld(e,l)}Xg(e)&&Jf(e)}),Xf.apply(this,arguments)}function _y(i){return Wl(i)&&i.fu.length<10}function Zg(i,e){i.fu.push(e);const t=ec(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Xg(i){return Wl(i)&&!ec(i).No()&&i.fu.length>0}function Jf(i){ec(i).start()}function Jg(i){return ep.apply(this,arguments)}function ep(){return ep=(0,f.Z)(function*(i){ec(i).eu()}),ep.apply(this,arguments)}function vy(i){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,f.Z)(function*(i){const e=ec(i);for(const t of i.fu)e.Xo(t.mutations)}),Qa.apply(this,arguments)}function Ey(i,e,t){return tp.apply(this,arguments)}function tp(){return tp=(0,f.Z)(function*(i,e,t){const o=i.fu.shift(),l=Ld.from(o,e,t);yield Zf(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Ju(i)}),tp.apply(this,arguments)}function j_(i,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,f.Z)(function*(i,e){var t;e&&ec(i).Yo&&(yield(t=(0,f.Z)(function*(o,l){if(function Sn(i){switch(i){default:return gn();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0}}(p=l.code)&&p!==dt.ABORTED){const w=o.fu.shift();ec(o).Mo(),yield Zf(o,()=>o.remoteSyncer.rejectFailedWrite(w.batchId,l)),yield Ju(o)}var p}),function(o,l){return t.apply(this,arguments)})(i,e)),Xg(i)&&Jf(i)}),Yd.apply(this,arguments)}function np(i,e){return rp.apply(this,arguments)}function rp(){return rp=(0,f.Z)(function*(i,e){const t=Jt(i);t.asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials");const o=Wl(t);t._u.add(3),yield sd(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield jh(t)}),rp.apply(this,arguments)}function sp(){return sp=(0,f.Z)(function*(i,e){const t=Jt(i);e?(t._u.delete(2),yield jh(t)):e||(t._u.add(2),yield sd(t),t.gu.set("Unknown"))}),sp.apply(this,arguments)}function Ac(i){return i.pu||(i.pu=function(e,t,o){const l=Jt(e);return l.su(),new gy(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:Qf.bind(null,i),Zr:qf.bind(null,i),Wo:qg.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.pu.Mo(),Yf(i)?Kf(i):i.gu.set("Unknown")):(yield i.pu.stop(),Sc(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function ec(i){return i.Iu||(i.Iu=function(e,t,o){const l=Jt(e);return l.su(),new my(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:Jg.bind(null,i),Zr:j_.bind(null,i),tu:vy.bind(null,i),Zo:Ey.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.Iu.Mo(),yield Ju(i)):(yield i.Iu.stop(),i.fu.length>0&&(Ft("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class op{constructor(e,t,o,l,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=p,this.deferred=new Q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,o,l,p){const w=Date.now()+o,N=new op(e,t,w,l,p);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tc(i,e){if(Ai("AsyncQueue",`${e}: ${i}`),_s(i))return new P(dt.UNAVAILABLE,`${e}: ${i}`);throw i}class ud{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Yt.comparator(t.key,o.key):(t,o)=>Yt.comparator(t.key,o.key),this.keyedMap=Ca(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,p=o.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ud;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class em{constructor(){this.Tu=new xi(Yt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):gn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class cd{constructor(e,t,o,l,p,w,N,z,J){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=p,this.fromCache=w,this.syncStateChanged=N,this.excludesMetadataChanges=z,this.hasCachedResults=J}static fromInitialDocuments(e,t,o,l,p){const w=[];return t.forEach(N=>{w.push({type:0,doc:N})}),new cd(e,t,ud.emptySet(t),w,o,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Dy{constructor(){this.Au=void 0,this.listeners=[]}}class Cy{constructor(){this.queries=new Nr(e=>No(e),vl),this.onlineState="Unknown",this.Ru=new Set}}function zl(i,e){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,f.Z)(function*(i,e){const t=Jt(i),o=e.query;let l=!1,p=t.queries.get(o);if(p||(l=!0,p=new Dy),l)try{p.Au=yield t.onListen(o)}catch(w){const N=tc(w,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(N)}t.queries.set(o,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&up(t)}),Qd.apply(this,arguments)}function ap(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,f.Z)(function*(i,e){const t=Jt(i),o=e.query;let l=!1;const p=t.queries.get(o);if(p){const w=p.listeners.indexOf(e);w>=0&&(p.listeners.splice(w,1),l=0===p.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),lp.apply(this,arguments)}function tm(i,e){const t=Jt(i);let o=!1;for(const l of e){const w=t.queries.get(l.query);if(w){for(const N of w.listeners)N.Pu(l)&&(o=!0);w.Au=l}}o&&up(t)}function Iy(i,e,t){const o=Jt(i),l=o.queries.get(e);if(l)for(const p of l.listeners)p.onError(t);o.queries.delete(e)}function up(i){i.Ru.forEach(e=>{e.next()})}class cp{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new cd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Zd{constructor(e){this.key=e}}class Xd{constructor(e){this.key=e}}class Ty{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Jn(),this.mutatedKeys=Jn(),this.Gu=fu(e),this.Qu=new ud(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new em,l=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,w=l,N=!1;const z="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,J="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ye,Me)=>{const lt=l.get(ye),Rt=eu(this.query,Me)?Me:null,jt=!!lt&&this.mutatedKeys.has(lt.key),vn=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let Bn=!1;lt&&Rt?lt.data.isEqual(Rt.data)?jt!==vn&&(o.track({type:3,doc:Rt}),Bn=!0):this.Hu(lt,Rt)||(o.track({type:2,doc:Rt}),Bn=!0,(z&&this.Gu(Rt,z)>0||J&&this.Gu(Rt,J)<0)&&(N=!0)):!lt&&Rt?(o.track({type:0,doc:Rt}),Bn=!0):lt&&!Rt&&(o.track({type:1,doc:lt}),Bn=!0,(z||J)&&(N=!0)),Bn&&(Rt?(w=w.add(Rt),p=vn?p.add(ye):p.delete(ye)):(w=w.delete(ye),p=p.delete(ye)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const ye="F"===this.query.limitType?w.last():w.first();w=w.delete(ye.key),p=p.delete(ye.key),o.track({type:1,doc:ye})}return{Qu:w,zu:o,$i:N,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((J,ye)=>function(Me,lt){const Rt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return Rt(Me)-Rt(lt)}(J.type,ye.type)||this.Gu(J.doc,ye.doc)),this.Ju(o);const w=t?this.Yu():[],N=0===this.Ku.size&&this.current?1:0,z=N!==this.Uu;return this.Uu=N,0!==p.length||z?{snapshot:new cd(this.query,e.Qu,l,p,e.mutatedKeys,0===N,z,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:w}:{Xu:w}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new em,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Jn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Xd(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Zd(o))}),t}tc(e){this.qu=e.Hi,this.Ku=Jn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return cd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class hp{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class H_{constructor(e){this.key=e,this.nc=!1}}class rm{constructor(e,t,o,l,p,w){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=w,this.sc={},this.ic=new Nr(N=>No(N),vl),this.rc=new Map,this.oc=new Set,this.uc=new xi(Yt.comparator),this.cc=new Map,this.ac=new Rf,this.hc={},this.lc=new Map,this.fc=Ic.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function im(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,f.Z)(function*(i,e){const t=function da(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=My.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sy.bind(null,e),e.sc.Wo=tm.bind(null,e.eventManager),e.sc.wc=Iy.bind(null,e.eventManager),e}(i);let o,l;const p=t.ic.get(e);if(p)o=p.targetId,t.sharedClientState.addLocalQueryTarget(o),l=p.view.ec();else{const w=yield function rd(i,e){const t=Jt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(p=>p?(l=p,it.resolve(l)):t.Cs.allocateTargetId(o).next(w=>(l=new nu(e,w,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.qi.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}(t.localStore,cs(e));t.isPrimaryClient&&Lu(t.remoteStore,w);const N=t.sharedClientState.addLocalQueryTarget(w.targetId);o=w.targetId,l=yield function $h(i,e,t,o,l){return Jd.apply(this,arguments)}(t,e,o,"current"===N,w.resumeToken)}return l}),Hh.apply(this,arguments)}function Jd(){return Jd=(0,f.Z)(function*(i,e,t,o,l){i._c=(Me,lt,Rt)=>{return(jt=(0,f.Z)(function*(vn,Bn,Cs,ds){let wi=Bn.view.Wu(Cs);wi.$i&&(wi=yield xh(vn.localStore,Bn.query,!1).then(({documents:$i})=>Bn.view.Wu($i,wi)));const pa=ds&&ds.targetChanges.get(Bn.targetId),hs=Bn.view.applyChanges(wi,vn.isPrimaryClient,pa);return zh(vn,Bn.targetId,hs.Xu),hs.snapshot}),function(vn,Bn,Cs,ds){return jt.apply(this,arguments)})(i,Me,lt,Rt);var jt};const p=yield xh(i.localStore,e,!0),w=new Ty(e,p.Hi),N=w.Wu(p.documents),z=wn.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),J=w.applyChanges(N,i.isPrimaryClient,z);zh(i,t,J.Xu);const ye=new hp(e,t,w);return i.ic.set(e,ye),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),J.snapshot}),Jd.apply(this,arguments)}function Fu(i,e){return dd.apply(this,arguments)}function dd(){return dd=(0,f.Z)(function*(i,e){const t=Jt(i),o=t.ic.get(e),l=t.rc.get(o.targetId);if(l.length>1)return t.rc.set(o.targetId,l.filter(p=>!vl(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield id(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),od(t.remoteStore,o.targetId),hd(t,o.targetId)}).catch(Po))):(hd(t,o.targetId),yield id(t.localStore,o.targetId,!0))}),dd.apply(this,arguments)}function Mc(){return Mc=(0,f.Z)(function*(i,e,t){const o=ku(i);try{const l=yield function(p,w){const N=Jt(p),z=pr.now(),J=w.reduce((lt,Rt)=>lt.add(Rt.key),Jn());let ye,Me;return N.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let Rt=Wr(),jt=Jn();return N.Gi.getEntries(lt,J).next(vn=>{Rt=vn,Rt.forEach((Bn,Cs)=>{Cs.isValidDocument()||(jt=jt.add(Bn))})}).next(()=>N.localDocuments.getOverlayedDocuments(lt,Rt)).next(vn=>{ye=vn;const Bn=[];for(const Cs of w){const ds=b(Cs,ye.get(Cs.key).overlayedDocument);null!=ds&&Bn.push(new _e(Cs.key,ds,lu(ds.value.mapValue),C.exists(!0)))}return N.mutationQueue.addMutationBatch(lt,z,Bn,w)}).next(vn=>{Me=vn;const Bn=vn.applyToLocalDocumentSet(ye,jt);return N.documentOverlayCache.saveOverlays(lt,vn.batchId,Bn)})}).then(()=>({batchId:Me.batchId,changes:Ia(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(p,w,N){let z=p.hc[p.currentUser.toKey()];z||(z=new xi(sn)),z=z.insert(w,N),p.hc[p.currentUser.toKey()]=z}(o,l.batchId,t),yield ru(o,l.changes),yield Ju(o.remoteStore)}catch(l){const p=tc(l,"Failed to persist write");t.reject(p)}}),Mc.apply(this,arguments)}function sm(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,f.Z)(function*(i,e){const t=Jt(i);try{const o=yield function kg(i,e){const t=Jt(i),o=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const w=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const N=[];e.targetChanges.forEach((ye,Me)=>{const lt=l.get(Me);if(!lt)return;N.push(t.Cs.removeMatchingKeys(p,ye.removedDocuments,Me).next(()=>t.Cs.addMatchingKeys(p,ye.addedDocuments,Me)));let Rt=lt.withSequenceNumber(p.currentSequenceNumber);var jt,vn,Bn;e.targetMismatches.has(Me)?Rt=Rt.withResumeToken(Ci.EMPTY_BYTE_STRING,yn.min()).withLastLimboFreeSnapshotVersion(yn.min()):ye.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(ye.resumeToken,o)),l=l.insert(Me,Rt),vn=Rt,Bn=ye,(0===(jt=lt).resumeToken.approximateByteSize()||vn.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&N.push(t.Cs.updateTargetData(p,Rt))});let z=Wr(),J=Jn();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(p,ye))}),N.push(function Vf(i,e,t){let o=Jn(),l=Jn();return t.forEach(p=>o=o.add(p)),e.getEntries(i,o).next(p=>{let w=Wr();return t.forEach((N,z)=>{const J=p.get(N);z.isFoundDocument()!==J.isFoundDocument()&&(l=l.add(N)),z.isNoDocument()&&z.version.isEqual(yn.min())?(e.removeEntry(N,z.readTime),w=w.insert(N,z)):!J.isValidDocument()||z.version.compareTo(J.version)>0||0===z.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(z),w=w.insert(N,z)):Ft("LocalStore","Ignoring outdated watch update for ",N,". Current version:",J.version," Watch version:",z.version)}),{Wi:w,zi:l}})}(p,w,e.documentUpdates).next(ye=>{z=ye.Wi,J=ye.zi})),!o.isEqual(yn.min())){const ye=t.Cs.getLastRemoteSnapshotVersion(p).next(Me=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));N.push(ye)}return it.waitFor(N).next(()=>w.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,z,J)).next(()=>z)}).then(p=>(t.qi=l,p))}(t.localStore,e);e.targetChanges.forEach((l,p)=>{const w=t.cc.get(p);w&&(In(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?w.nc=!0:l.modifiedDocuments.size>0?In(w.nc):l.removedDocuments.size>0&&(In(w.nc),w.nc=!1))}),yield ru(t,o,e)}catch(o){yield Po(o)}}),Wh.apply(this,arguments)}function fp(i,e,t){const o=Jt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ic.forEach((p,w)=>{const N=w.view.bu(e);N.snapshot&&l.push(N.snapshot)}),function(p,w){const N=Jt(p);N.onlineState=w;let z=!1;N.queries.forEach((J,ye)=>{for(const Me of ye.listeners)Me.bu(w)&&(z=!0)}),z&&up(N)}(o.eventManager,e),l.length&&o.sc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Sy(i,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,f.Z)(function*(i,e,t){const o=Jt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.cc.get(e),p=l&&l.key;if(p){let w=new xi(Yt.comparator);w=w.insert(p,ci.newNoDocument(p,yn.min()));const N=Jn().add(p),z=new $l(yn.min(),new Map,new mi(sn),w,N);yield sm(o,z),o.uc=o.uc.remove(p),o.cc.delete(e),Dp(o)}else yield id(o.localStore,e,!1).then(()=>hd(o,e,t)).catch(Po)}),pp.apply(this,arguments)}function eh(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,f.Z)(function*(i,e){const t=Jt(i),o=e.batch.batchId;try{const l=yield function dy(i,e){const t=Jt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(w,N,z,J){const ye=z.batch,Me=ye.keys();let lt=it.resolve();return Me.forEach(Rt=>{lt=lt.next(()=>J.getEntry(N,Rt)).next(jt=>{const vn=z.docVersions.get(Rt);In(null!==vn),jt.version.compareTo(vn)<0&&(ye.applyToRemoteDocument(jt,z),jt.isValidDocument()&&(jt.setReadTime(z.commitVersion),J.addEntry(jt)))})}),lt.next(()=>w.mutationQueue.removeMutationBatch(N,ye))}(t,o,e,p).next(()=>p.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(w){let N=Jn();for(let z=0;z<w.mutationResults.length;++z)w.mutationResults[z].transformResults.length>0&&(N=N.add(w.batch.mutations[z].key));return N}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);vp(t,o,null),_p(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ru(t,l)}catch(l){yield Po(l)}}),gp.apply(this,arguments)}function $_(i,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,f.Z)(function*(i,e,t){const o=Jt(i);try{const l=yield function(p,w){const N=Jt(p);return N.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let J;return N.mutationQueue.lookupMutationBatch(z,w).next(ye=>(In(null!==ye),J=ye.keys(),N.mutationQueue.removeMutationBatch(z,ye))).next(()=>N.mutationQueue.performConsistencyCheck(z)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(z,J,w)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,J)).next(()=>N.localDocuments.getDocuments(z,J))})}(o.localStore,e);vp(o,e,t),_p(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ru(o,l)}catch(l){yield Po(l)}}),mp.apply(this,arguments)}function _p(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function vp(i,e,t){const o=Jt(i);let l=o.hc[o.currentUser.toKey()];if(l){const p=l.get(e);p&&(t?p.reject(t):p.resolve(),l=l.remove(e)),o.hc[o.currentUser.toKey()]=l}}function hd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||om(i,o)})}function om(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(od(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Dp(i))}function zh(i,e,t){for(const o of t)o instanceof Zd?(i.ac.addReference(o.key,e),Ep(i,o)):o instanceof Xd?(Ft("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||om(i,o.key)):gn()}function Ep(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Ft("SyncEngine","New document in limbo: "+t),i.oc.add(o),Dp(i))}function Dp(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Yt(Vn.fromString(e)),o=i.fc.next();i.cc.set(o,new H_(t)),i.uc=i.uc.insert(t,o),Lu(i.remoteStore,new nu(cs(Xl(t.path)),o,2,xs.at))}}function ru(i,e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,f.Z)(function*(i,e,t){const o=Jt(i),l=[],p=[],w=[];var N;o.ic.isEmpty()||(o.ic.forEach((N,z)=>{w.push(o._c(z,e,t).then(J=>{if((J||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(z.targetId,J?.fromCache?"not-current":"current"),J){l.push(J);const ye=Ff.Ci(z.targetId,J);p.push(ye)}}))}),yield Promise.all(w),o.sc.Wo(l),yield(N=(0,f.Z)(function*(z,J){const ye=Jt(z);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Me=>it.forEach(J,lt=>it.forEach(lt.Si,Rt=>ye.persistence.referenceDelegate.addReference(Me,lt.targetId,Rt)).next(()=>it.forEach(lt.Di,Rt=>ye.persistence.referenceDelegate.removeReference(Me,lt.targetId,Rt)))))}catch(Me){if(!_s(Me))throw Me;Ft("LocalStore","Failed to update sequence numbers: "+Me)}for(const Me of J){const lt=Me.targetId;if(!Me.fromCache){const Rt=ye.qi.get(lt),vn=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ye.qi=ye.qi.insert(lt,vn)}}}),function(z,J){return N.apply(this,arguments)})(o.localStore,p))}),Cp.apply(this,arguments)}function Ay(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,f.Z)(function*(i,e){const t=Jt(i);if(!t.currentUser.isEqual(e)){Ft("SyncEngine","User change. New user:",e.toKey());const o=yield Fg(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(w=>{w.forEach(N=>{N.reject(new P(dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ru(t,o.ji)}var l}),Ip.apply(this,arguments)}function My(i,e){const t=Jt(i),o=t.cc.get(e);if(o&&o.nc)return Jn().add(o.key);{let l=Jn();const p=t.rc.get(e);if(!p)return l;for(const w of p){const N=t.ic.get(w);l=l.unionWith(N.view.ju)}return l}}function ku(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$_.bind(null,e),e}class Tl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.yt=Gd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return kf(this.persistence,new Lg,e.initialUser,this.yt)}yc(e){return new xf(Oh.Bs,this.yt)}gc(e){return new hy}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ap extends Tl{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield ku(o.Ac.syncEngine),yield Ju(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return kf(this.persistence,new Lg,e.initialUser,this.yt)}Tc(e,t){return new ly(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Ga(t,this.persistence);return new hl(e.asyncQueue,o)}yc(e){const t=function Lf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ua.withCacheSize(this.cacheSizeBytes):Ua.DEFAULT;return new wl(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,function Wg(){return typeof window<"u"?window:null}(),$d(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new hy}}class nc{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>fp(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ay.bind(null,o.syncEngine),yield function ip(i,e){return sp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cy}createDatastore(e){const t=Gd(e.databaseInfo.databaseId),o=new Vh(e.databaseInfo);return new Kg(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,p=N=>fp(this.syncEngine,N,0),w=Tc.C()?new Tc:new fy,new Gf(t,o,l,p,w);var t,o,l,p,w}createSyncEngine(e,t){return function(o,l,p,w,N,z,J){const ye=new rm(o,l,p,w,N,z);return J&&(ye.dc=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=Jt(t);Ft("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield sd(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rc(i,e,t){if(!t)throw new P(dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Oc(i){if(!Yt.isDocumentKey(i))throw new P(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rc(i){if(Yt.isDocumentKey(i))throw new P(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uu(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":gn()}function zr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new P(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uu(i);throw new P(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const Mp=new Map;class Pp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new P(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function gd(i,e,t,o){if(!0===e&&!0===o)throw new P(dt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new le;switch(t.type){case"gapi":return new nn(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new P(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mp.get(e);t&&(Ft("ComponentProvider","Removing Datastore"),Mp.delete(e),t.terminate())}(this),Promise.resolve()}}class Xs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xs(this.firestore,e,this._key)}}class ha{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class iu extends ha{constructor(e,t,o){super(e,t,Xl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xs(this.firestore,null,new Yt(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function cm(i,e,...t){if(i=(0,Z.m9)(i),rc("collection","path",e),i instanceof md){const o=Vn.fromString(e,...t);return Rc(o),new iu(i,null,o)}{if(!(i instanceof Xs||i instanceof iu))throw new P(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Vn.fromString(e,...t));return Rc(o),new iu(i.firestore,null,o)}}function dm(i,e,...t){if(i=(0,Z.m9)(i),1===arguments.length&&(e=$n.R()),rc("doc","path",e),i instanceof md){const o=Vn.fromString(e,...t);return Oc(o),new Xs(i,null,new Yt(o))}{if(!(i instanceof Xs||i instanceof iu))throw new P(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Vn.fromString(e,...t));return Oc(o),new Xs(i.firestore,i instanceof iu?i.converter:null,new Yt(o))}}class th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Fy{constructor(e,t,o,l){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=Xi.UNAUTHENTICATED,this.clientId=$n.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var w=(0,f.Z)(function*(N){Ft("FirestoreClient","Received user=",N.uid),yield p.authCredentialListener(N),p.user=N});return function(N){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(o,w=>(Ft("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=tc(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function nh(i,e){return yd.apply(this,arguments)}function yd(){return yd=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(p){o.isEqual(p)||(yield Fg(e.localStore,p),o=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),yd.apply(this,arguments)}function Xh(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield rh(i);Ft("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>np(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,p)=>np(e.remoteStore,p)),i.onlineComponents=e}),Jh.apply(this,arguments)}function rh(i){return ef.apply(this,arguments)}function ef(){return ef=(0,f.Z)(function*(i){return i.offlineComponents||(Ft("FirestoreClient","Using default OfflineComponentProvider"),yield nh(i,new Tl)),i.offlineComponents}),ef.apply(this,arguments)}function ih(i){return sh.apply(this,arguments)}function sh(){return sh=(0,f.Z)(function*(i){return i.onlineComponents||(Ft("FirestoreClient","Using default OnlineComponentProvider"),yield Xh(i,new nc)),i.onlineComponents}),sh.apply(this,arguments)}function Nc(i){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,f.Z)(function*(i){const e=yield ih(i),t=e.eventManager;return t.onListen=im.bind(null,e.syncEngine),t.onUnlisten=Fu.bind(null,e.syncEngine),t}),Fp.apply(this,arguments)}class Em{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new $f(this,"async_queue_retry"),this.Wc=()=>{const t=$d();t&&Ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=$d();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=$d();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Q;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!_s(t))throw t;Ft("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Ai("INTERNAL UNHANDLED ERROR: ",function(p){let w=p.message||"";return p.stack&&(w=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),w}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=op.createAndSchedule(this,e,t,o,p=>this.Yc(p));return this.Uc.push(l),l}zc(){this.Kc&&gn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function sf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Mi extends md{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new Em,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ic(this),this._firestoreClient.terminate()}}function ky(i,e){const t="object"==typeof i?i:(0,I.Mq)(),o="string"==typeof i?i:e||"(default)",l=(0,I.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const p=(0,Z.P0)("firestore");p&&function um(i,e,t,o={}){var l;const p=(i=zr(i,md))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Xo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let w,N;if("string"==typeof o.mockUserToken)w=o.mockUserToken,N=Xi.MOCK_USER;else{w=(0,Z.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!z)throw new P(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Xi(z)}i._authCredentials=new we(new V(w,N))}}(l,...p)}return l}function Js(i){return i._firestoreClient||ic(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ic(i){var e;const t=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ns(i._databaseId,p,i._persistenceKey,(N=t).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var p,N;i._firestoreClient=new Fy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Bp(i,e){!function jp(i){if(i._initialized||i._terminated)throw new P(dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=zr(i,Mi));const t=Js(i),o=i._freezeSettings(),l=new nc;return function af(i,e,t){const o=new Q;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield nh(i,t),yield Xh(i,e),o.resolve()}catch(l){const p=l;if(!("FirebaseError"===(w=p).name?w.code===dt.FAILED_PRECONDITION||w.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw p;Xo("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var w})).then(()=>o.promise)}(t,l,new Ap(l,o.cacheSizeBytes,e?.forceOwnership))}class Lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lc(Ci.fromBase64String(e))}catch(t){throw new P(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lc(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _d{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new P(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lf{constructor(e){this._methodName=e}}class uf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new P(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new P(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const Cm=/^__.*__$/;class vd{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new _e(e,this.data,this.fieldMask,t,this.fieldTransforms):new ne(e,this.data,t,this.fieldTransforms)}}class Im{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new _e(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class ah{constructor(e,t,o,l,p,w){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=l,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=w||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ah(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.ua(e),l}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return df(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(wm(this.sa)&&Cm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class By{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Gd(e)}da(e,t,o,l=!1){return new ah({sa:e,methodName:t,fa:o,path:xr.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Fc(i){const e=i._freezeSettings(),t=Gd(i._databaseId);return new By(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Tm(i,e,t,o,l,p={}){const w=i.da(p.merge||p.mergeFields?2:0,e,t,l);$p("Data must be an object, but it was:",w,o);const N=bm(o,w);let z,J;if(p.merge)z=new Es(w.fieldMask),J=w.fieldTransforms;else if(p.mergeFields){const ye=[];for(const Me of p.mergeFields){const lt=Gp(e,Me,t);if(!w.contains(lt))throw new P(dt.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);zp(ye,lt)||ye.push(lt)}z=new Es(ye),J=w.fieldTransforms.filter(Me=>z.covers(Me.field))}else z=null,J=w.fieldTransforms;return new vd(new Hs(N),z,J)}class kc extends lf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}class Sl extends lf{_toFieldTransform(e){return new Cl(e.path,new il)}isEqual(e){return e instanceof Sl}}function Hp(i,e,t,o=!1){return sc(t,i.da(o?4:3,e))}function sc(i,e){if(Am(i=(0,Z.m9)(i)))return $p("Unsupported field value:",e,i),bm(i,e);if(i instanceof lf)return function(t,o){if(!wm(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const l=[];let p=0;for(const w of t){let N=sc(w,o.aa(p));null==N&&(N={nullValue:"NULL_VALUE"}),l.push(N),p++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Z.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bu(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=pr.fromDate(t);return{timestampValue:la(o.yt,l)}}if(t instanceof pr){const l=new pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:la(o.yt,l)}}if(t instanceof uf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lc)return{bytesValue:ua(o.yt,t._byteString)};if(t instanceof Xs){const l=o.databaseId,p=t.firestore._databaseId;if(!p.isEqual(l))throw o.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ad(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Uu(t)}`)}(i,e)}function bm(i,e){const t={};return na(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(i,(o,l)=>{const p=sc(l,e.ra(o));null!=p&&(t[o]=p)}),{mapValue:{fields:t}}}function Am(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof pr||i instanceof uf||i instanceof Lc||i instanceof Xs||i instanceof lf)}function $p(i,e,t){if(!Am(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Uu(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function Gp(i,e,t){if((e=(0,Z.m9)(e))instanceof _d)return e._internalPath;if("string"==typeof e)return oc(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,t)}const Wp=new RegExp("[~\\*/\\[\\]]");function oc(i,e,t){if(e.search(Wp)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new _d(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function df(i,e,t,o,l){const p=o&&!o.isEmpty(),w=void 0!==l;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let z="";return(p||w)&&(z+=" (found",p&&(z+=` in field ${o}`),w&&(z+=` in document ${l}`),z+=")"),new P(dt.INVALID_ARGUMENT,N+i+z)}function zp(i,e){return i.some(t=>t.isEqual(e))}class Kp{constructor(e,t,o,l,p){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Xs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hy extends Kp{data(){return super.data()}}function lh(i,e){return"string"==typeof e?oc(i,e):e instanceof _d?e._internalPath:e._delegate._internalPath}function Yp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new P(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ed{}class uh extends Ed{}function Mm(i,e,...t){let o=[];e instanceof Ed&&o.push(e),o=o.concat(t),function(l){const p=l.filter(N=>N instanceof Vu).length,w=l.filter(N=>N instanceof Dd).length;if(p>1||p>0&&w>0)throw new P(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class Dd extends uh{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Dd(e,t,o)}_apply(e){const t=this._parse(e);return Vm(e._query,t),new ha(e.firestore,e.converter,Jl(e._query,t))}_parse(e){const t=Fc(e.firestore);return function(l,p,w,N,z,J,ye){let Me;if(z.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new P(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Um(ye,J);const lt=[];for(const Rt of ye)lt.push(km(N,l,Rt));Me={arrayValue:{values:lt}}}else Me=km(N,l,ye)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Um(ye,J),Me=Hp(w,"where",ye,"in"===J||"not-in"===J);return Pr.create(z,J,Me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vu extends Ed{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vu(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let p=o;const w=l.getFlattenedFilters();for(const N of w)Vm(p,N),p=Jl(p,N)}(e._query,t),new ha(e.firestore,e.converter,Jl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ch extends uh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ch(e,t)}_apply(e){const t=function(o,l,p){if(null!==o.startAt)throw new P(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new P(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new Na(l,p);return function(N,z){if(null===Wu(N)){const J=jl(N);null!==J&&Qp(0,J,z.field)}}(o,w),w}(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,function(o,l){const p=o.explicitOrderBy.concat([l]);return new ji(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function xm(i,e="asc"){const t=e,o=lh("orderBy",i);return ch._create(o,t)}class Cd extends uh{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Cd(e,t,o)}_apply(e){return new ha(e.firestore,e.converter,Hl(e._query,this._limit,this._limitType))}}function Nm(i){return function xc(i,e){if(e<=0)throw new P(dt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),Cd._create("limit",i,"F")}class dh extends uh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new dh(e,t,o)}_apply(e){const t=Fm(e,this.type,this._docOrFields,this._inclusive);return new ha(e.firestore,e.converter,(l=t,new ji((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function Lm(...i){return dh._create("startAfter",i,!1)}class hh extends uh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new hh(e,t,o)}_apply(e){const t=Fm(e,this.type,this._docOrFields,this._inclusive);return new ha(e.firestore,e.converter,(l=t,new ji((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Wy(...i){return hh._create("endBefore",i,!1)}function Fm(i,e,t,o){if(t[0]=(0,Z.m9)(t[0]),t[0]instanceof Kp)return function(l,p,w,N,z){if(!N)throw new P(dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const J=[];for(const ye of aa(l))if(ye.field.isKeyField())J.push(W(p,N.key));else{const Me=N.data.field(ye.field);if(xo(Me))throw new P(dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Me){const lt=ye.field.canonicalString();throw new P(dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}J.push(Me)}return new Bi(J,z)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=Fc(i.firestore);return function(p,w,N,z,J,ye){const Me=p.explicitOrderBy;if(J.length>Me.length)throw new P(dt.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Rt=0;Rt<J.length;Rt++){const jt=J[Rt];if(Me[Rt].field.isKeyField()){if("string"!=typeof jt)throw new P(dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof jt}`);if(!wu(p)&&-1!==jt.indexOf("/"))throw new P(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${jt}' contains a slash.`);const vn=p.path.child(Vn.fromString(jt));if(!Yt.isDocumentKey(vn))throw new P(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${vn}' is not because it contains an odd number of segments.`);const Bn=new Yt(vn);lt.push(W(w,Bn))}else{const vn=Hp(N,z,jt);lt.push(vn)}}return new Bi(lt,ye)}(i._query,i.firestore._databaseId,l,e,t,o)}}function km(i,e,t){if("string"==typeof(t=(0,Z.m9)(t))){if(""===t)throw new P(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wu(e)&&-1!==t.indexOf("/"))throw new P(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Vn.fromString(t));if(!Yt.isDocumentKey(o))throw new P(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return W(i,new Yt(o))}if(t instanceof Xs)return W(i,t._key);throw new P(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uu(t)}.`)}function Um(i,e){if(!Array.isArray(i)||0===i.length)throw new P(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new P(dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Vm(i,e){if(e.isInequality()){const o=jl(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new P(dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const p=Wu(i);null!==p&&Qp(0,l,p)}const t=function(o,l){for(const p of o)for(const w of p.getFlattenedFilters())if(l.indexOf(w.op)>=0)return w.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new P(dt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Qp(i,e,t){if(!t.isEqual(e))throw new P(dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zy{convertValue(e,t="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gn()}}convertObject(e,t){const o={};return qs(e.fields,(l,p)=>{o[l]=this.convertValue(p,t)}),o}convertGeoPoint(e){return new uf(ui(e.latitude),ui(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Oa(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=va(e);return new pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Vn.fromString(e);In(vf(o));const l=new Ro(o.get(1),o.get(3)),p=new Yt(o.popFirst(5));return l.isEqual(t)||Ai(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Id extends Kp{constructor(e,t,o,l,p,w){super(e,t,o,l,w),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(lh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class hf extends Id{data(e={}){return super.data(e)}}class wd{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Uc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new hf(this._firestore,this._userDataWriter,o.key,o,new Uc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new P(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(w=>({type:"added",doc:new hf(o._firestore,o._userDataWriter,w.doc.key,w.doc,new Uc(o._snapshot.mutatedKeys.has(w.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(w=>l||3!==w.type).map(w=>{const N=new hf(o._firestore,o._userDataWriter,w.doc.key,w.doc,new Uc(o._snapshot.mutatedKeys.has(w.doc.key),o._snapshot.fromCache),o.query.converter);let z=-1,J=-1;return 0!==w.type&&(z=p.indexOf(w.doc.key),p=p.delete(w.doc.key)),1!==w.type&&(p=p.add(w.doc),J=p.indexOf(w.doc.key)),{type:jm(w.type),doc:N,oldIndex:z,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function Hm(i){i=zr(i,Xs);const e=zr(i.firestore,Mi);return function oh(i,e,t={}){const o=new Q;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,p,w,N,z){const J=new th({next:Me=>{p.enqueueAndForget(()=>ap(l,ye));const lt=Me.docs.has(w);!lt&&Me.fromCache?z.reject(new P(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Me.fromCache&&N&&"server"===N.source?z.reject(new P(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(Me)},error:Me=>z.reject(Me)}),ye=new cp(Xl(w.path),J,{includeMetadataChanges:!0,Nu:!0});return zl(l,ye)}(yield Nc(i),i.asyncQueue,e,t,o)})),o.promise}(Js(e),i._key).then(t=>ph(e,i,t))}class Bu extends zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xs(this.firestore,null,t)}}function $m(i){i=zr(i,Xs);const e=zr(i.firestore,Mi),t=Js(e),o=new Bu(e);return function kp(i,e){const t=new Q;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(l,p,w){try{const N=yield function(z,J){const ye=Jt(z);return ye.persistence.runTransaction("read document","readonly",Me=>ye.localDocuments.getDocument(Me,J))}(l,p);N.isFoundDocument()?w.resolve(N):N.isNoDocument()?w.resolve(null):w.reject(new P(dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const z=tc(N,`Failed to get document '${p} from cache`);w.reject(z)}}),function(l,p,w){return o.apply(this,arguments)})(yield function tf(i){return rh(i).then(e=>e.localStore)}(i),e,t);var o})),t.promise}(t,i._key).then(l=>new Id(e,o,i._key,l,new Uc(null!==l&&l.hasLocalMutations,!0),i.converter))}function Gm(i){i=zr(i,ha);const e=zr(i.firestore,Mi),t=Js(e),o=new Bu(e);return Yp(i._query),function Up(i,e,t={}){const o=new Q;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,p,w,N,z){const J=new th({next:Me=>{p.enqueueAndForget(()=>ap(l,ye)),Me.fromCache&&"server"===N.source?z.reject(new P(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(Me)},error:Me=>z.reject(Me)}),ye=new cp(w,J,{includeMetadataChanges:!0,Nu:!0});return zl(l,ye)}(yield Nc(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(l=>new wd(e,o,i,l))}function Zp(i,e,t,...o){i=zr(i,Xs);const l=zr(i.firestore,Mi),p=Fc(l);let w;return w="string"==typeof(e=(0,Z.m9)(e))||e instanceof _d?function Yl(i,e,t,o,l,p){const w=i.da(1,e,t),N=[Gp(e,o,t)],z=[l];if(p.length%2!=0)throw new P(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<p.length;lt+=2)N.push(Gp(e,p[lt])),z.push(p[lt+1]);const J=[],ye=Hs.empty();for(let lt=N.length-1;lt>=0;--lt)if(!zp(J,N[lt])){const Rt=N[lt];let jt=z[lt];jt=(0,Z.m9)(jt);const vn=w.ca(Rt);if(jt instanceof kc)J.push(Rt);else{const Bn=sc(jt,vn);null!=Bn&&(J.push(Rt),ye.set(Rt,Bn))}}const Me=new Es(J);return new Im(ye,Me,w.fieldTransforms)}(p,"updateDoc",i._key,e,t,o):function Kl(i,e,t,o){const l=i.da(1,e,t);$p("Data must be an object, but it was:",l,o);const p=[],w=Hs.empty();qs(o,(z,J)=>{const ye=oc(e,z,t);J=(0,Z.m9)(J);const Me=l.ca(ye);if(J instanceof kc)p.push(ye);else{const lt=sc(J,Me);null!=lt&&(p.push(ye),w.set(ye,lt))}});const N=new Es(p);return new Im(w,N,l.fieldTransforms)}(p,"updateDoc",i._key,e),ff(l,[w.toMutation(i._key,C.exists(!0))])}function Vc(i){return ff(zr(i.firestore,Mi),[new Vt(i._key,C.none())])}function Zy(i,e){const t=zr(i.firestore,Mi),o=dm(i),l=function qp(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return ff(t,[Tm(Fc(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,C.exists(!1))]).then(()=>o)}function Xy(i,...e){var t,o,l;i=(0,Z.m9)(i);let p={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||sf(e[w])||(p=e[w],w++);const N={includeMetadataChanges:p.includeMetadataChanges};if(sf(e[w])){const Me=e[w];e[w]=null===(t=Me.next)||void 0===t?void 0:t.bind(Me),e[w+1]=null===(o=Me.error)||void 0===o?void 0:o.bind(Me),e[w+2]=null===(l=Me.complete)||void 0===l?void 0:l.bind(Me)}let z,J,ye;if(i instanceof Xs)J=zr(i.firestore,Mi),ye=Xl(i._key.path),z={next:Me=>{e[w]&&e[w](ph(J,i,Me))},error:e[w+1],complete:e[w+2]};else{const Me=zr(i,ha);J=zr(Me.firestore,Mi),ye=Me._query;const lt=new Bu(J);z={next:Rt=>{e[w]&&e[w](new wd(J,lt,Me,Rt))},error:e[w+1],complete:e[w+2]},Yp(i._query)}return function(Me,lt,Rt,jt){const vn=new th(jt),Bn=new cp(lt,vn,Rt);return Me.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return zl(yield Nc(Me),Bn)})),()=>{vn.bc(),Me.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return ap(yield Nc(Me),Bn)}))}}(Js(J),ye,N,z)}function ff(i,e){return function(t,o){const l=new Q;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Gh(i,e,t){return Mc.apply(this,arguments)}(yield function rf(i){return ih(i).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(Js(i),e)}function ph(i,e,t){const o=t.docs.get(e._key),l=new Bu(i);return new Id(i,l,e._key,o,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}function Td(){return new Sl("serverTimestamp")}!function(i,e=!0){Ys=I.Jn,(0,I.Xd)(new te.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const p=t.getProvider("app").getImmediate(),w=new Mi(new ht(t.getProvider("auth-internal")),new Rr(t.getProvider("app-check-internal")),function(N,z){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new P(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(N.options.projectId,z)}(p,o),p);return l=Object.assign({useFetchStreams:e},l),w._setSettings(l),w},"PUBLIC").setMultipleInstances(!0)),(0,I.KN)(Zo,"3.8.3",i),(0,I.KN)(Zo,"3.8.3","esm2017")}()},4147:Te=>{Te.exports={i8:"0.0.208"}}},Te=>{Te(Te.s=2077)}]);