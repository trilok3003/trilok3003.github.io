"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[507],{507:(T,l,i)=>{i.r(l),i.d(l,{default:()=>I});var u=i(177),t=i(4438),p=i(9079),m=i(8475),f=i(1626);const s="https://api.openweathermap.org/data/2.5",c="5a4b2d457ecbef9eb2a71e480b947604";let F=(()=>{class n{constructor(){this.http=(0,t.WQX)(f.Qq)}getWeatherByLocation(e){return this.http.get(`${s}/weather`,{params:{q:e,appid:c,units:"metric"}})}getWeatherByZipcode(e,o){return this.http.get(`${s}/weather`,{params:{zip:`${e},${o}`,appid:c,units:"metric"}})}getForcastByLocation(e){return this.http.get(`${s}/forecast`,{params:{q:e,appid:c,units:"metric"}})}getOnecall(e,o){return this.http.get(`${s}/onecall`,{params:{lat:e,lon:o,exclude:"current, minutely, alerts",appid:c,units:"metric"}})}getForecastDaily(e,o){return this.http.get(`${s}/forecast/daily`,{params:{zip:`${e},${o}`,appid:c,units:"metric"}})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var v=i(6354),y=i(1173);const h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let g=(()=>{class n{constructor(){}formatAMPM(e){var o=e.getHours(),a=e.getMinutes(),d=o>=12?"pm":"am";return(o=(o%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+d}formatDate(e){return new Date(e).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getDay(e){return e=new Date(e),h[e.getDay()]}getDayByMs(e){const o=new Date(1e3*e);return h[o.getDay()]}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _=i(8120),w=i(4056);function R(n,r){1&n&&t.nrm(0,"app-theme-loader",0)}function C(n,r){if(1&n){const e=t.RV6();t.SS7(0),t.j41(1,"app-list")(2,"app-list-item")(3,"h2"),t.EFF(4),t.k0s(),t.j41(5,"h3"),t.EFF(6),t.k0s(),t.j41(7,"div",2)(8,"div"),t.nrm(9,"img",3),t.j41(10,"h1"),t.EFF(11),t.k0s()(),t.j41(12,"div")(13,"p"),t.EFF(14),t.k0s(),t.j41(15,"p"),t.EFF(16),t.k0s()()(),t.j41(17,"button",1),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.weather.reload())}),t.EFF(18," Refresh weather "),t.k0s()()()}if(2&n){const e=t.XpG(2),o=e.weather.value();t.R7$(4),t.SpI(" ",e.dateService.formatDate(o.date)," "),t.R7$(2),t.SpI(" ",o.description," "),t.R7$(3),t.Mz_("src","https://openweathermap.org/img/wn/",o.icon,".png",t.B4B),t.R7$(2),t.SpI("",o.temp,"\xb0C"),t.R7$(3),t.SpI("Humidity: ",o.humidity,"%"),t.R7$(2),t.SpI("Wind: ",o.wind," km/h")}}function k(n,r){if(1&n&&t.DNE(0,C,19,7,"app-list"),2&n){const e=t.XpG();t.vxM(e.weather.value()?0:-1)}}function x(n,r){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"app-theme-alert",4),t.EFF(2),t.k0s(),t.j41(3,"button",5),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.weather.reload())}),t.EFF(4," realod "),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("dismissible",!1),t.R7$(),t.SpI(" ",e.weather.error()," ")}}function j(n,r){if(1&n){const e=t.RV6();t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div")(3,"button",6),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.refresh())}),t.EFF(4,"Retry"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.JRh(e.weatherforecastResource.error().message)}}function $(n,r){1&n&&(t.j41(0,"div"),t.EFF(1,"Loading..."),t.k0s())}function D(n,r){if(1&n&&(t.j41(0,"app-list-item")(1,"div"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s(),t.j41(6,"div"),t.EFF(7),t.k0s(),t.j41(8,"div"),t.EFF(9),t.k0s(),t.j41(10,"div"),t.EFF(11),t.k0s(),t.j41(12,"div"),t.EFF(13),t.k0s(),t.j41(14,"div"),t.nrm(15,"img",3),t.k0s()()),2&n){const e=r.$implicit;t.R7$(2),t.JRh(t.bMT(3,8,1e3*e.dt)),t.R7$(3),t.SpI("",e.temp.day," *c"),t.R7$(2),t.SpI("",e.temp.min," *c"),t.R7$(2),t.SpI("",e.temp.max," *c"),t.R7$(2),t.SpI("",e.humidity," % "),t.R7$(2),t.SpI("",e.speed," km/h "),t.R7$(2),t.Mz_("src","https://openweathermap.org/img/wn/",e.weather[0].icon,".png",t.B4B)}}function W(n,r){if(1&n&&(t.j41(0,"h2"),t.EFF(1),t.k0s(),t.j41(2,"app-list",7),t.Z7z(3,D,16,10,"app-list-item",null,t.fX1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.JRh(e.weatherforecastResource.value().city.name),t.R7$(),t.Y8G("fullwidth",!0),t.R7$(),t.Dyx(e.weatherforecastResource.value().list)}}function E(n,r){if(1&n&&t.DNE(0,$,2,0,"div")(1,W,5,2),2&n){const e=t.XpG();t.vxM(e.weatherforecastResource.isLoading()?0:-1),t.R7$(),t.vxM(e.weatherforecastResource.hasValue()?1:-1)}}let I=(()=>{class n{constructor(){this.http=(0,t.WQX)(F),this.dateService=(0,t.WQX)(g),this.weather=(0,p.ZX)({loader:()=>this.http.getWeatherByLocation("noida").pipe((0,v.T)(e=>this.transformWeatherData(e)))}),this.weatherforecastResource=(0,p.ZX)({loader:()=>this.http.getForecastDaily("201301","IN")}),this.forecastResource=(0,p.ZX)({loader:()=>this.http.getForcastByLocation("noida")})}refresh(){this.weatherforecastResource.reload()}transformWeatherData(e){let o=new Date(1e3*e.dt);return{id:e.id,name:e.name,description:e.weather[0].description,icon:e.weather[0].icon,temp:e.main.temp.toFixed(0),temp_max:e.main.temp_max.toFixed(0),temp_min:e.main.temp_min.toFixed(0),humidity:e.main.humidity,date:o,day:this.dateService.getDay(o),conditions:e.weather[0],wind:e.wind.speed}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-weather-forecast"]],decls:7,vars:2,consts:[["spinSize","small"],["app-theme-button","","color","warning",3,"click"],[1,"weather-info"],["alt","",3,"src"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","large",3,"click"],[3,"click"],[3,"fullwidth"]],template:function(o,a){1&o&&(t.DNE(0,R,1,0,"app-theme-loader",0)(1,k,1,1)(2,x,5,2,"div"),t.j41(3,"button",1),t.bIt("click",function(){return a.refresh()}),t.EFF(4," Refresh forecast\n"),t.k0s(),t.DNE(5,j,5,1)(6,E,2,2)),2&o&&(t.vxM(a.weather.isLoading()?0:a.weather.hasValue()?1:2),t.R7$(5),t.vxM(a.weatherforecastResource.error()?5:6))},dependencies:[u.DatePipe,y.F,m.Ck,m.FY,_.s,w.P],styles:["table[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1558418294-9da149757efe?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80)}"]})}}return n})()}}]);