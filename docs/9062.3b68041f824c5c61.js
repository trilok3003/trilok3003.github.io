"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[9062],{4875:(v,_,c)=>{c.d(_,{x:()=>y});var t=c(4438),b=c(3770);const g=["contentTemplate"],C=["*"];function M(u,l){1&u&&t.SdG(0)}let y=(()=>{class u{constructor(d){this.modalService=d,this.isOpen=!1,this.closed=new t.bkB,this.isInitialized=!1,this.isModalOpen=!1}ngAfterViewInit(){this.isInitialized=!0,this.isOpen&&this.open()}ngOnChanges(d){if(this.isInitialized&&d.isOpen){const r=d.isOpen.currentValue;r&&!this.isModalOpen?this.open():!r&&this.isModalOpen&&this.close()}}open(){if(!this.isInitialized)return;const d={...this.modalOptions,title:this.modalTitle};this.isModalOpen=!0,this.modalService.openWithTemplate(this.contentTemplate,d).subscribe(r=>{this.isModalOpen=!1,this.closed.emit(r)},r=>{},()=>{this.closed.emit("closed")})}close(){this.isModalOpen&&(this.modalService.closeModal(),this.isModalOpen=!1)}submit(d){this.modalService.submitModal(d)}static{this.\u0275fac=function(r){return new(r||u)(t.rXU(b.Bg))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-modal-launcher"]],viewQuery:function(r,h){if(1&r&&t.GBs(g,5),2&r){let f;t.mGM(f=t.lsd())&&(h.contentTemplate=f.first)}},inputs:{modalTitle:"modalTitle",modalOptions:"modalOptions",isOpen:"isOpen"},outputs:{closed:"closed"},features:[t.OA$],ngContentSelectors:C,decls:2,vars:0,consts:[["contentTemplate",""]],template:function(r,h){1&r&&(t.NAR(),t.DNE(0,M,1,0,"ng-template",null,0,t.C5r))},encapsulation:2})}}return u})()},9062:(v,_,c)=>{c.r(_),c.d(_,{default:()=>B});var t=c(4438),b=c(9079),g=c(3802),C=c(8645),M=c(4875),y=c(3889),u=c(177),l=c(9417),d=c(2821);const r=()=>({standalone:!0});function h(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",3),t.nrm(1,"input",13,0),t.j41(3,"select",14,1)(5,"option",15),t.EFF(6,"Text"),t.k0s(),t.j41(7,"option",16),t.EFF(8,"Checkbox"),t.k0s()(),t.j41(9,"button",17),t.bIt("click",function(){t.eBV(e);const i=t.sdS(2),a=t.sdS(4);return t.XpG().addColumn(i.value,a.value),t.Njj(i.value="")}),t.EFF(10," + Column "),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("readonly",e.viewMode),t.R7$(2),t.Y8G("disabled",e.viewMode)}}function f(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,a=t.XpG();return t.Njj(a.removeColumn(i.name))}),t.EFF(1," \u{1f5d1}\ufe0f "),t.k0s()}}function O(n,s){if(1&n){const e=t.RV6();t.j41(0,"th")(1,"input",18),t.bIt("change",function(i){const a=t.eBV(e).$implicit,m=t.XpG();return t.Njj(m.renameColumn(a.name,i.target.value))}),t.k0s(),t.DNE(2,f,2,0,"button",19),t.k0s()}if(2&n){const e=s.$implicit,o=t.XpG();t.R7$(),t.Y8G("value",e.name)("readonly",o.viewMode),t.R7$(),t.Y8G("ngIf",!o.viewMode)}}function x(n,s){1&n&&(t.j41(0,"th"),t.EFF(1,"Actions"),t.k0s())}function T(n,s){if(1&n&&t.nrm(0,"input",25),2&n){const e=t.XpG().$implicit,o=t.XpG(2);t.Y8G("formControlName",e.name)("readonly",o.viewMode)}}function D(n,s){if(1&n&&t.nrm(0,"input",26),2&n){const e=t.XpG().$implicit,o=t.XpG(2);t.Y8G("formControlName",e.name)("readonly",o.viewMode)}}function w(n,s){if(1&n&&(t.j41(0,"td"),t.qex(1,21),t.DNE(2,T,1,2,"input",23)(3,D,1,2,"input",24),t.bVm(),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.Y8G("formGroupName","cells"),t.R7$(),t.Y8G("ngIf","checkbox"===e.type),t.R7$(),t.Y8G("ngIf","text"===e.type)}}function F(n,s){if(1&n){const e=t.RV6();t.j41(0,"td")(1,"button",17),t.bIt("click",function(){t.eBV(e);const i=t.XpG().index,a=t.XpG();return t.Njj(a.removeRow(i))}),t.EFF(2,"\u{1f5d1}\ufe0f"),t.k0s()()}}function k(n,s){if(1&n&&(t.j41(0,"tr",21)(1,"td"),t.nrm(2,"input",22),t.k0s(),t.DNE(3,w,4,3,"td",9)(4,F,3,0,"td",10),t.k0s()),2&n){const e=s.index,o=t.XpG();t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("readonly",o.viewMode),t.R7$(),t.Y8G("ngForOf",o.columns),t.R7$(),t.Y8G("ngIf",!o.viewMode)}}function G(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"button",17),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.addRow("New Row"))}),t.EFF(2,"+ Add Row"),t.k0s(),t.j41(3,"button",27),t.EFF(4),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(4),t.JRh(e.updateMode?"Update":"Submit")}}let R=(()=>{class n{constructor(e){this.fb=e,this.title="",this.defaultColumns=[],this.defaultRows=[],this.updateMode=!1,this.tableChange=new t.bkB,this.submitChange=new t.bkB,this.columns=[],this.viewMode=!1,this.form=this.fb.group({title:["",l.k0.required],rows:this.fb.array([])}),this.form.valueChanges.subscribe(()=>this.tableChange.emit(this.getTableData()))}get rows(){return this.form.get("rows")}ngOnChanges(){this.initForm()}initForm(){this.rows.clear(),this.columns=this.defaultColumns.length?[...this.defaultColumns]:this.detectColumns(),this.form.patchValue({title:this.title||"Untitled"}),(this.defaultRows?.length?this.defaultRows:[{name:"Row 1",cells:{}}]).forEach(e=>this.addRow(e.name,e.cells))}detectColumns(){const e=this.defaultRows?.[0];return e?Object.entries(e.cells).map(([o,i])=>({name:o,type:"boolean"==typeof i?"checkbox":"text"})):[]}addRow(e="",o={}){this.rows.push(this.fb.group({name:e,cells:this.createCellsGroup(o)}))}removeRow(e){this.rows.removeAt(e)}addColumn(e,o="text"){!e||this.columns.some(i=>i.name===e)||(this.columns.push({name:e,type:o}),this.rows.controls.forEach(i=>i.get("cells").addControl(e,new l.MJ("checkbox"!==o&&""))))}renameColumn(e,o){if(!o||this.columns.some(a=>a.name===o))return;const i=this.columns.find(a=>a.name===e);i&&(i.name=o,this.rows.controls.forEach(a=>{const m=a.get("cells"),p=m.get(e)?.value;m.removeControl(e),m.addControl(o,new l.MJ(p))}))}removeColumn(e){this.columns=this.columns.filter(o=>o.name!==e),this.rows.controls.forEach(o=>o.get("cells").removeControl(e))}createCellsGroup(e){const o=this.fb.group({});return this.columns.forEach(i=>o.addControl(i.name,new l.MJ("checkbox"===i.type?!!e[i.name]:e[i.name]??""))),o}getTableData(){return this.rows.value.map(e=>({name:e.name,...e.cells}))}onSubmit(){this.submitChange.emit(this.form)}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(l.ok))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-dynamic-table-form"]],inputs:{title:"title",defaultColumns:"defaultColumns",defaultRows:"defaultRows",updateMode:"updateMode"},outputs:{tableChange:"tableChange",submitChange:"submitChange"},features:[t.OA$],decls:16,vars:10,consts:[["colInput",""],["colType",""],[1,"table-wrapper",3,"ngSubmit","formGroup"],[1,"toolbar"],["placeholder","Enter Title","formControlName","title","type","text",1,"col-input",3,"readonly"],["label","View Mode",3,"ngModelChange","ngModel","ngModelOptions"],["class","toolbar",4,"ngIf"],[1,"table-scroll"],[1,"dynamic-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","rows"],[3,"formGroupName",4,"ngFor","ngForOf"],["placeholder","New column","type","text",1,"col-input",3,"readonly"],[3,"disabled"],["value","text"],["value","checkbox"],["type","button",3,"click"],["type","text",3,"change","value","readonly"],[3,"click",4,"ngIf"],[3,"click"],[3,"formGroupName"],["formControlName","name","type","text",3,"readonly"],["type","checkbox",3,"formControlName","readonly",4,"ngIf"],["type","text",3,"formControlName","readonly",4,"ngIf"],["type","checkbox",3,"formControlName","readonly"],["type","text",3,"formControlName","readonly"],["type","submit"]],template:function(o,i){1&o&&(t.j41(0,"form",2),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(1,"div",3),t.nrm(2,"input",4),t.j41(3,"app-form-toggle",5),t.mxI("ngModelChange",function(m){return t.DH7(i.viewMode,m)||(i.viewMode=m),m}),t.k0s()(),t.DNE(4,h,11,2,"div",6),t.j41(5,"div",7)(6,"table",8)(7,"thead")(8,"tr")(9,"th"),t.EFF(10,"Row Name"),t.k0s(),t.DNE(11,O,3,3,"th",9)(12,x,2,0,"th",10),t.k0s()(),t.j41(13,"tbody",11),t.DNE(14,k,5,4,"tr",12),t.k0s()()(),t.DNE(15,G,5,1,"div",6),t.k0s()),2&o&&(t.Y8G("formGroup",i.form),t.R7$(2),t.Y8G("readonly",i.viewMode),t.R7$(),t.R50("ngModel",i.viewMode),t.Y8G("ngModelOptions",t.lJ4(9,r)),t.R7$(),t.Y8G("ngIf",!i.viewMode),t.R7$(7),t.Y8G("ngForOf",i.columns),t.R7$(),t.Y8G("ngIf",!i.viewMode),t.R7$(2),t.Y8G("ngForOf",i.rows.controls),t.R7$(),t.Y8G("ngIf",!i.viewMode))},dependencies:[l.X1,l.qT,l.xH,l.y7,l.me,l.Zm,l.BC,l.cb,l.j4,l.JD,l.$R,l.v8,l.YN,l.vS,u.NgFor,u.NgIf,d.m],styles:["[_nghost-%COMP%]{--bg-main: #ffffff;--bg-muted: #f5f5f5;--border-main: #dcdcdc;--border-input: #ccc;--border-muted: #ddd;--text-main: #222}[data-theme=dark]   [_nghost-%COMP%]{--bg-main: #1e1e1e;--bg-muted: #252525;--border-main: #333;--border-input: #444;--border-muted: #333;--text-main: #e0e0e0}.table-wrapper[_ngcontent-%COMP%]{width:100%;padding:1rem;overflow:hidden;background:var(--bg-main);color:var(--text-main)}.toolbar[_ngcontent-%COMP%]{display:inline-flex;gap:.75rem;margin:1rem 0;align-items:center}.table-scroll[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.dynamic-table[_ngcontent-%COMP%]{width:100%;min-width:700px;border-collapse:collapse;background:var(--bg-main);font-size:14px}.dynamic-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dynamic-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--border-main);padding:8px}.dynamic-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .dynamic-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{position:sticky;left:0;background:var(--bg-main);z-index:2}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;min-width:140px;padding:6px;border-radius:4px;border:1px solid var(--border-input);background:var(--bg-main);color:var(--text-main)}button[_ngcontent-%COMP%]{padding:4px 8px;cursor:pointer}.view-mode[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:var(--bg-muted);border-color:var(--border-muted)}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:1}input[readonly][_ngcontent-%COMP%], select[readonly][_ngcontent-%COMP%], textarea[readonly][_ngcontent-%COMP%]{all:unset}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled, button[_ngcontent-%COMP%]:disabled{all:unset}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch}.dynamic-table[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 480px){.dynamic-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dynamic-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px}input[_ngcontent-%COMP%]{min-width:120px}}"]})}}return n})();var j=c(8775);let P=(()=>{class n extends j.u{constructor(){super(...arguments),this.basePath="master-db",this.endpoint="",this.documentationEndpoint="documentations"}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(n)))(i||n)}})()}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const I=()=>({width:"90%"}),E=()=>({close:!1,submit:!1,closeText:"Close",submitText:"Done"}),$=(n,s)=>({subTitle:"",position:"center",styles:n,footerControls:s});function N(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-dynamic-table-form",5),t.bIt("submitChange",function(i){t.eBV(e);const a=t.XpG();return t.Njj(a.onUpdateChange(i))}),t.k0s(),t.j41(1,"button",6),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onDelete())}),t.EFF(2,"Delete"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("title",e.selectedItem.title)("defaultRows",e.selectedItem.rows)("updateMode",!0)}}function V(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-dynamic-table-form",7),t.bIt("submitChange",function(i){t.eBV(e);const a=t.XpG();return t.Njj(a.onSubmitChange(i))}),t.k0s()}}function X(n,s){if(1&n){const e=t.RV6();t.j41(0,"h4",8),t.bIt("click",function(){const i=t.eBV(e).$implicit,a=t.XpG(),m=t.sdS(3);return t.Njj(a.openDetails(i,m))}),t.EFF(1),t.k0s()}if(2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",null==e?null:e.title," ")}}let B=(()=>{class n{constructor(){this.data=[],this.api=(0,t.WQX)(P),this.toast=(0,t.WQX)(y.f),this.dataResource=(0,b.ZX)({loader:()=>this.api.read$(this.api.documentationEndpoint)})}ngOnInit(){this.loader=()=>this.api.read$(this.api.documentationEndpoint)}onOpenCreate(e){this.model=e,this.model.open()}onClosed(e){this.selectedItem=null}onSubmitChange(e){e.valid&&this.api.create(this.api.documentationEndpoint,e.value).then(()=>{this.toast.success("Create successfully!"),this.model.close()})}onUpdateChange(e){e.valid&&this.api.update(`${this.api.documentationEndpoint}/${this.selectedItem?.key}`,e.value).then(()=>{this.toast.success("Update successfully!"),this.model.close()})}openDetails(e,o){this.selectedItem=e,this.model=o,this.model.open()}onDelete(){this.api.remove(`${this.api.documentationEndpoint}/${this.selectedItem?.key}`).then(()=>{this.toast.success("Delete successfully!"),this.model.close()})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-documentation"]],decls:9,vars:10,consts:[["modal",""],["catTemp",""],["semanticButton","",3,"click"],[3,"closed","modalTitle","modalOptions"],[3,"loader","itemTemplate"],[3,"submitChange","title","defaultRows","updateMode"],["semanticButton","","variant","danger",3,"click"],[3,"submitChange"],[1,"grid-item-title",3,"click"]],template:function(o,i){if(1&o){const a=t.RV6();t.j41(0,"button",2),t.bIt("click",function(){t.eBV(a);const p=t.sdS(3);return t.Njj(i.onOpenCreate(p))}),t.EFF(1,"Create"),t.k0s(),t.j41(2,"app-modal-launcher",3,0),t.bIt("closed",function(p){return t.eBV(a),t.Njj(i.onClosed(p))}),t.DNE(4,N,3,3)(5,V,1,0,"app-dynamic-table-form"),t.k0s(),t.nrm(6,"app-rx-resource-flexible",4),t.DNE(7,X,2,1,"ng-template",null,1,t.C5r)}if(2&o){const a=t.sdS(8);t.R7$(2),t.Y8G("modalTitle","")("modalOptions",t.l_i(7,$,t.lJ4(5,I),t.lJ4(6,E))),t.R7$(2),t.vxM(i.selectedItem?4:5),t.R7$(2),t.Y8G("loader",i.loader)("itemTemplate",a)}},dependencies:[R,g.SE,M.x,C.n],encapsulation:2})}}return n})()}}]);