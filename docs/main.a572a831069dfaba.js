"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8792],{17:(lt,he,C)=>{C.d(he,{G:()=>Q});var _=C(1985),E=C(8359),ie=C(9898),ee=C(4360),U=C(9974);class Q extends _.c{constructor(W,ae){super(),this.source=W,this.subjectFactory=ae,this._subject=null,this._refCount=0,this._connection=null,(0,U.S)(W)&&(this.lift=W.lift)}_subscribe(W){return this.getSubject().subscribe(W)}getSubject(){const W=this._subject;return(!W||W.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:W}=this;this._subject=this._connection=null,W?.unsubscribe()}connect(){let W=this._connection;if(!W){W=this._connection=new E.yU;const ae=this.getSubject();W.add(this.source.subscribe((0,ee._)(ae,void 0,()=>{this._teardown(),ae.complete()},q=>{this._teardown(),ae.error(q)},()=>this._teardown()))),W.closed&&(this._connection=null,W=E.yU.EMPTY)}return W}refCount(){return(0,ie.B)()(this)}}},152:(lt,he,C)=>{C.d(he,{B:()=>ee});var _=C(3236),E=C(9974),ie=C(4360);function ee(U,Q=_.E){return(0,E.N)((X,W)=>{let ae=null,q=null,te=null;const ye=()=>{if(ae){ae.unsubscribe(),ae=null;const Oe=q;q=null,W.next(Oe)}};function Fe(){const Oe=te+U,Te=Q.now();if(Te<Oe)return ae=this.schedule(void 0,Oe-Te),void W.add(ae);ye()}X.subscribe((0,ie._)(W,Oe=>{q=Oe,te=Q.now(),ae||(ae=Q.schedule(Fe,U),W.add(ae))},()=>{ye(),W.complete()},void 0,()=>{q=ae=null}))})}},177:(lt,he,C)=>{C.r(he),C.d(he,{APP_BASE_HREF:()=>He,AsyncPipe:()=>Me,BrowserPlatformLocation:()=>ye,CommonModule:()=>Uo,CurrencyPipe:()=>wo,DATE_PIPE_DEFAULT_OPTIONS:()=>Tr,DATE_PIPE_DEFAULT_TIMEZONE:()=>_n,DOCUMENT:()=>ae,DatePipe:()=>hn,DecimalPipe:()=>ri,FormStyle:()=>wn,FormatWidth:()=>Ge,HashLocationStrategy:()=>mt,I18nPluralPipe:()=>Fs,I18nSelectPipe:()=>En,IMAGE_CONFIG:()=>E.GGh,IMAGE_LOADER:()=>Li,JsonPipe:()=>ks,KeyValuePipe:()=>Zr,LOCATION_INITIALIZED:()=>te,Location:()=>Et,LocationStrategy:()=>_e,LowerCasePipe:()=>Ue,NgClass:()=>an,NgComponentOutlet:()=>fs,NgFor:()=>wr,NgForOf:()=>wr,NgForOfContext:()=>ps,NgIf:()=>ci,NgIfContext:()=>Zt,NgLocaleLocalization:()=>Ir,NgLocalization:()=>Sn,NgOptimizedImage:()=>aa,NgPlural:()=>re,NgPluralCase:()=>Ee,NgStyle:()=>fe,NgSwitch:()=>Gi,NgSwitchCase:()=>Eo,NgSwitchDefault:()=>Ta,NgTemplateOutlet:()=>$e,NumberFormatStyle:()=>Vt,NumberSymbol:()=>Ft,PRECONNECT_CHECK_BLOCKLIST:()=>N,PathLocationStrategy:()=>Le,PercentPipe:()=>ea,PlatformLocation:()=>q,Plural:()=>Wt,SlicePipe:()=>Ao,TitleCasePipe:()=>st,TranslationWidth:()=>ut,UpperCasePipe:()=>xt,VERSION:()=>ra,ViewportScroller:()=>qs,WeekDay:()=>nn,XhrFactory:()=>Bo,formatCurrency:()=>ar,formatDate:()=>tr,formatNumber:()=>et,formatPercent:()=>Ti,getCurrencySymbol:()=>Rs,getLocaleCurrencyCode:()=>qt,getLocaleCurrencyName:()=>er,getLocaleCurrencySymbol:()=>vn,getLocaleDateFormat:()=>Ze,getLocaleDateTimeFormat:()=>Dt,getLocaleDayNames:()=>es,getLocaleDayPeriods:()=>Or,getLocaleDirection:()=>Qr,getLocaleEraNames:()=>Gr,getLocaleExtraDayPeriodRules:()=>Un,getLocaleExtraDayPeriods:()=>qn,getLocaleFirstDayOfWeek:()=>Ne,getLocaleId:()=>jn,getLocaleMonthNames:()=>Cr,getLocaleNumberFormat:()=>Lt,getLocaleNumberSymbol:()=>vt,getLocalePluralCase:()=>ln,getLocaleTimeFormat:()=>Xe,getLocaleWeekEndRange:()=>Qe,getNumberOfCurrencyDigits:()=>Fr,isPlatformBrowser:()=>Dl,isPlatformServer:()=>ki,provideCloudflareLoader:()=>To,provideCloudinaryLoader:()=>Es,provideImageKitLoader:()=>Ys,provideImgixLoader:()=>ws,provideNetlifyLoader:()=>pn,registerLocaleData:()=>Cn,\u0275DomAdapter:()=>X,\u0275NullViewportScroller:()=>Do,\u0275PLATFORM_BROWSER_ID:()=>di,\u0275PLATFORM_SERVER_ID:()=>lo,\u0275PlatformNavigation:()=>W,\u0275getDOM:()=>U,\u0275normalizeQueryParams:()=>Te,\u0275parseCookieValue:()=>Ki,\u0275setRootDomAdapter:()=>Q}),C(467);var E=C(4438),ie=C(1413);let ee=null;function U(){return ee}function Q(M){ee??=M}class X{}let W=(()=>{class M{static \u0275fac=function(k){return new(k||M)};static \u0275prov=E.jDH({token:M,factory:()=>window.navigation,providedIn:"platform"})}return M})();const ae=new E.nKC("");let q=(()=>{class M{historyGo(x){throw new Error("")}static \u0275fac=function(k){return new(k||M)};static \u0275prov=E.jDH({token:M,factory:()=>(0,E.WQX)(ye),providedIn:"platform"})}return M})();const te=new E.nKC("");let ye=(()=>{class M extends q{_location;_history;_doc=(0,E.WQX)(ae);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(x){const k=U().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",x,!1),()=>k.removeEventListener("popstate",x)}onHashChange(x){const k=U().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",x,!1),()=>k.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,k,Y){this._history.pushState(x,k,Y)}replaceState(x,k,Y){this._history.replaceState(x,k,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static \u0275fac=function(k){return new(k||M)};static \u0275prov=E.jDH({token:M,factory:()=>new M,providedIn:"platform"})}return M})();function Fe(M,z){return M?z?M.endsWith("/")?z.startsWith("/")?M+z.slice(1):M+z:z.startsWith("/")?M+z:`${M}/${z}`:M:z}function Oe(M){const z=M.search(/#|\?|$/);return"/"===M[z-1]?M.slice(0,z-1)+M.slice(z):M}function Te(M){return M&&"?"!==M[0]?`?${M}`:M}let _e=(()=>{class M{historyGo(x){throw new Error("")}static \u0275fac=function(k){return new(k||M)};static \u0275prov=E.jDH({token:M,factory:()=>(0,E.WQX)(Le),providedIn:"root"})}return M})();const He=new E.nKC("");let Le=(()=>{class M extends _e{_platformLocation;_baseHref;_removeListenerFns=[];constructor(x,k){super(),this._platformLocation=x,this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,E.WQX)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Fe(this._baseHref,x)}path(x=!1){const k=this._platformLocation.pathname+Te(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&x?`${k}${Y}`:k}pushState(x,k,Y,We){const Ae=this.prepareExternalUrl(Y+Te(We));this._platformLocation.pushState(x,k,Ae)}replaceState(x,k,Y,We){const Ae=this.prepareExternalUrl(Y+Te(We));this._platformLocation.replaceState(x,k,Ae)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static \u0275fac=function(k){return new(k||M)(E.KVO(q),E.KVO(He,8))};static \u0275prov=E.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),mt=(()=>{class M extends _e{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(x,k){super(),this._platformLocation=x,null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){const k=this._platformLocation.hash??"#";return k.length>0?k.substring(1):k}prepareExternalUrl(x){const k=Fe(this._baseHref,x);return k.length>0?"#"+k:k}pushState(x,k,Y,We){const Ae=this.prepareExternalUrl(Y+Te(We))||this._platformLocation.pathname;this._platformLocation.pushState(x,k,Ae)}replaceState(x,k,Y,We){const Ae=this.prepareExternalUrl(Y+Te(We))||this._platformLocation.pathname;this._platformLocation.replaceState(x,k,Ae)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static \u0275fac=function(k){return new(k||M)(E.KVO(q),E.KVO(He,8))};static \u0275prov=E.jDH({token:M,factory:M.\u0275fac})}return M})(),Et=(()=>{class M{_subject=new ie.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(x){this._locationStrategy=x;const k=this._locationStrategy.getBaseHref();this._basePath=function Mt(M){if(new RegExp("^(https?:)?//").test(M)){const[,x]=M.split(/\/\/[^\/]+/);return x}return M}(Oe(Ot(k))),this._locationStrategy.onPopState(Y=>{this._subject.next({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,k=""){return this.path()==this.normalize(x+Te(k))}normalize(x){return M.stripTrailingSlash(function tt(M,z){if(!M||!z.startsWith(M))return z;const x=z.substring(M.length);return""===x||["/",";","?","#"].includes(x[0])?x:z}(this._basePath,Ot(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,k="",Y=null){this._locationStrategy.pushState(Y,"",x,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Te(k)),Y)}replaceState(x,k="",Y=null){this._locationStrategy.replaceState(Y,"",x,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Te(k)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription??=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)}),()=>{const k=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",k){this._urlChangeListeners.forEach(Y=>Y(x,k))}subscribe(x,k,Y){return this._subject.subscribe({next:x,error:k??void 0,complete:Y??void 0})}static normalizeQueryParams=Te;static joinWithSlash=Fe;static stripTrailingSlash=Oe;static \u0275fac=function(k){return new(k||M)(E.KVO(_e))};static \u0275prov=E.jDH({token:M,factory:()=>function rt(){return new Et((0,E.KVO)(_e))}(),providedIn:"root"})}return M})();function Ot(M){return M.replace(/\/index.html$/,"")}const jt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Vt=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(Vt||{}),Wt=function(M){return M[M.Zero=0]="Zero",M[M.One=1]="One",M[M.Two=2]="Two",M[M.Few=3]="Few",M[M.Many=4]="Many",M[M.Other=5]="Other",M}(Wt||{}),wn=function(M){return M[M.Format=0]="Format",M[M.Standalone=1]="Standalone",M}(wn||{}),ut=function(M){return M[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M}(ut||{}),Ge=function(M){return M[M.Short=0]="Short",M[M.Medium=1]="Medium",M[M.Long=2]="Long",M[M.Full=3]="Full",M}(Ge||{});const Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};var nn=function(M){return M[M.Sunday=0]="Sunday",M[M.Monday=1]="Monday",M[M.Tuesday=2]="Tuesday",M[M.Wednesday=3]="Wednesday",M[M.Thursday=4]="Thursday",M[M.Friday=5]="Friday",M[M.Saturday=6]="Saturday",M}(nn||{});function jn(M){return(0,E.H5H)(M)[E.KH2.LocaleId]}function Or(M,z,x){const k=(0,E.H5H)(M),We=or([k[E.KH2.DayPeriodsFormat],k[E.KH2.DayPeriodsStandalone]],z);return or(We,x)}function es(M,z,x){const k=(0,E.H5H)(M),We=or([k[E.KH2.DaysFormat],k[E.KH2.DaysStandalone]],z);return or(We,x)}function Cr(M,z,x){const k=(0,E.H5H)(M),We=or([k[E.KH2.MonthsFormat],k[E.KH2.MonthsStandalone]],z);return or(We,x)}function Gr(M,z){return or((0,E.H5H)(M)[E.KH2.Eras],z)}function Ne(M){return(0,E.H5H)(M)[E.KH2.FirstDayOfWeek]}function Qe(M){return(0,E.H5H)(M)[E.KH2.WeekendRange]}function Ze(M,z){return or((0,E.H5H)(M)[E.KH2.DateFormat],z)}function Xe(M,z){return or((0,E.H5H)(M)[E.KH2.TimeFormat],z)}function Dt(M,z){return or((0,E.H5H)(M)[E.KH2.DateTimeFormat],z)}function vt(M,z){const x=(0,E.H5H)(M),k=x[E.KH2.NumberSymbols][z];if(typeof k>"u"){if(z===Ft.CurrencyDecimal)return x[E.KH2.NumberSymbols][Ft.Decimal];if(z===Ft.CurrencyGroup)return x[E.KH2.NumberSymbols][Ft.Group]}return k}function Lt(M,z){return(0,E.H5H)(M)[E.KH2.NumberFormats][z]}function vn(M){return(0,E.H5H)(M)[E.KH2.CurrencySymbol]||null}function er(M){return(0,E.H5H)(M)[E.KH2.CurrencyName]||null}function qt(M){return(0,E.uq$)(M)}const ln=E.mq5;function _r(M){if(!M[E.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[E.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Un(M){const z=(0,E.H5H)(M);return _r(z),(z[E.KH2.ExtraData][2]||[]).map(k=>"string"==typeof k?Pr(k):[Pr(k[0]),Pr(k[1])])}function qn(M,z,x){const k=(0,E.H5H)(M);_r(k);const We=or([k[E.KH2.ExtraData][0],k[E.KH2.ExtraData][1]],z)||[];return or(We,x)||[]}function Qr(M){return(0,E.H5H)(M)[E.KH2.Directionality]}function or(M,z){for(let x=z;x>-1;x--)if(typeof M[x]<"u")return M[x];throw new Error("Locale data API: locale data undefined")}function Pr(M){const[z,x]=M.split(":");return{hours:+z,minutes:+x}}function Rs(M,z,x="en"){const k=function Mn(M){return(0,E.H5H)(M)[E.KH2.Currencies]}(x)[M]||jt[M]||[],Y=k[1];return"narrow"===z&&"string"==typeof Y?Y:k[0]||M}const ts=2;function Fr(M){let z;const x=jt[M];return x&&(z=x[2]),"number"==typeof z?z:ts}const Tn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xr={},At=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function tr(M,z,x,k){let Y=function we(M){if(je(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[Y,We=1,Ae=1]=M.split("-").map(be=>+be);return ns(Y,We-1,Ae)}const x=parseFloat(M);if(!isNaN(M-x))return new Date(x);let k;if(k=M.match(Tn))return function Re(M){const z=new Date(0);let x=0,k=0;const Y=M[8]?z.setUTCFullYear:z.setFullYear,We=M[8]?z.setUTCHours:z.setHours;M[9]&&(x=Number(M[9]+M[10]),k=Number(M[9]+M[11])),Y.call(z,Number(M[1]),Number(M[2])-1,Number(M[3]));const Ae=Number(M[4]||0)-x,be=Number(M[5]||0)-k,ot=Number(M[6]||0),un=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return We.call(z,Ae,be,ot,un),z}(k)}const z=new Date(M);if(!je(z))throw new Error(`Unable to convert "${M}" into a date`);return z}(M);z=Nr(x,z)||z;let be,Ae=[];for(;z;){if(be=At.exec(z),!be){Ae.push(z);break}{Ae=Ae.concat(be.slice(1));const ur=Ae.pop();if(!ur)break;z=ur}}let ot=Y.getTimezoneOffset();k&&(ot=Yn(k,ot),Y=function Se(M,z,x){const k=x?-1:1,Y=M.getTimezoneOffset();return function Ps(M,z){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+z),M}(M,k*(Yn(z,Y)-Y))}(Y,k,!0));let un="";return Ae.forEach(ur=>{const In=function io(M){if(An[M])return An[M];let z;switch(M){case"G":case"GG":case"GGG":z=dn(3,ut.Abbreviated);break;case"GGGG":z=dn(3,ut.Wide);break;case"GGGGG":z=dn(3,ut.Narrow);break;case"y":z=Yt(0,1,0,!1,!0);break;case"yy":z=Yt(0,2,0,!0,!0);break;case"yyy":z=Yt(0,3,0,!1,!0);break;case"yyyy":z=Yt(0,4,0,!1,!0);break;case"Y":z=jr(1);break;case"YY":z=jr(2,!0);break;case"YYY":z=jr(3);break;case"YYYY":z=jr(4);break;case"M":case"L":z=Yt(1,1,1);break;case"MM":case"LL":z=Yt(1,2,1);break;case"MMM":z=dn(2,ut.Abbreviated);break;case"MMMM":z=dn(2,ut.Wide);break;case"MMMMM":z=dn(2,ut.Narrow);break;case"LLL":z=dn(2,ut.Abbreviated,wn.Standalone);break;case"LLLL":z=dn(2,ut.Wide,wn.Standalone);break;case"LLLLL":z=dn(2,ut.Narrow,wn.Standalone);break;case"w":z=kr(1);break;case"ww":z=kr(2);break;case"W":z=kr(1,!0);break;case"d":z=Yt(2,1);break;case"dd":z=Yt(2,2);break;case"c":case"cc":z=Yt(7,1);break;case"ccc":z=dn(1,ut.Abbreviated,wn.Standalone);break;case"cccc":z=dn(1,ut.Wide,wn.Standalone);break;case"ccccc":z=dn(1,ut.Narrow,wn.Standalone);break;case"cccccc":z=dn(1,ut.Short,wn.Standalone);break;case"E":case"EE":case"EEE":z=dn(1,ut.Abbreviated);break;case"EEEE":z=dn(1,ut.Wide);break;case"EEEEE":z=dn(1,ut.Narrow);break;case"EEEEEE":z=dn(1,ut.Short);break;case"a":case"aa":case"aaa":z=dn(0,ut.Abbreviated);break;case"aaaa":z=dn(0,ut.Wide);break;case"aaaaa":z=dn(0,ut.Narrow);break;case"b":case"bb":case"bbb":z=dn(0,ut.Abbreviated,wn.Standalone,!0);break;case"bbbb":z=dn(0,ut.Wide,wn.Standalone,!0);break;case"bbbbb":z=dn(0,ut.Narrow,wn.Standalone,!0);break;case"B":case"BB":case"BBB":z=dn(0,ut.Abbreviated,wn.Format,!0);break;case"BBBB":z=dn(0,ut.Wide,wn.Format,!0);break;case"BBBBB":z=dn(0,ut.Narrow,wn.Format,!0);break;case"h":z=Yt(3,1,-12);break;case"hh":z=Yt(3,2,-12);break;case"H":z=Yt(3,1);break;case"HH":z=Yt(3,2);break;case"m":z=Yt(4,1);break;case"mm":z=Yt(4,2);break;case"s":z=Yt(5,1);break;case"ss":z=Yt(5,2);break;case"S":z=Yt(6,1);break;case"SS":z=Yt(6,2);break;case"SSS":z=Yt(6,3);break;case"Z":case"ZZ":case"ZZZ":z=zs(0);break;case"ZZZZZ":z=zs(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=zs(1);break;case"OOOO":case"ZZZZ":case"zzzz":z=zs(2);break;default:return null}return An[M]=z,z}(ur);un+=In?In(Y,x,ot):"''"===ur?"'":ur.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),un}function ns(M,z,x){const k=new Date(0);return k.setFullYear(M,z,x),k.setHours(0,0,0),k}function Nr(M,z){const x=jn(M);if(Xr[x]??={},Xr[x][z])return Xr[x][z];let k="";switch(z){case"shortDate":k=Ze(M,Ge.Short);break;case"mediumDate":k=Ze(M,Ge.Medium);break;case"longDate":k=Ze(M,Ge.Long);break;case"fullDate":k=Ze(M,Ge.Full);break;case"shortTime":k=Xe(M,Ge.Short);break;case"mediumTime":k=Xe(M,Ge.Medium);break;case"longTime":k=Xe(M,Ge.Long);break;case"fullTime":k=Xe(M,Ge.Full);break;case"short":const Y=Nr(M,"shortTime"),We=Nr(M,"shortDate");k=xs(Dt(M,Ge.Short),[Y,We]);break;case"medium":const Ae=Nr(M,"mediumTime"),be=Nr(M,"mediumDate");k=xs(Dt(M,Ge.Medium),[Ae,be]);break;case"long":const ot=Nr(M,"longTime"),un=Nr(M,"longDate");k=xs(Dt(M,Ge.Long),[ot,un]);break;case"full":const ur=Nr(M,"fullTime"),In=Nr(M,"fullDate");k=xs(Dt(M,Ge.Full),[ur,In])}return k&&(Xr[x][z]=k),k}function xs(M,z){return z&&(M=M.replace(/\{([^}]+)}/g,function(x,k){return null!=z&&k in z?z[k]:x})),M}function qr(M,z,x="-",k,Y){let We="";(M<0||Y&&M<=0)&&(Y?M=1-M:(M=-M,We=x));let Ae=String(M);for(;Ae.length<z;)Ae="0"+Ae;return k&&(Ae=Ae.slice(Ae.length-z)),We+Ae}function Yt(M,z,x=0,k=!1,Y=!1){return function(We,Ae){let be=function ni(M,z){switch(M){case 0:return z.getFullYear();case 1:return z.getMonth();case 2:return z.getDate();case 3:return z.getHours();case 4:return z.getMinutes();case 5:return z.getSeconds();case 6:return z.getMilliseconds();case 7:return z.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,We);if((x>0||be>-x)&&(be+=x),3===M)0===be&&-12===x&&(be=12);else if(6===M)return function Ii(M,z){return qr(M,3).substring(0,z)}(be,z);const ot=vt(Ae,Ft.MinusSign);return qr(be,z,ot,k,Y)}}function dn(M,z,x=wn.Format,k=!1){return function(Y,We){return function Xs(M,z,x,k,Y,We){switch(x){case 2:return Cr(z,Y,k)[M.getMonth()];case 1:return es(z,Y,k)[M.getDay()];case 0:const Ae=M.getHours(),be=M.getMinutes();if(We){const un=Un(z),ur=qn(z,Y,k),In=un.findIndex(Sr=>{if(Array.isArray(Sr)){const[Tt,Ds]=Sr,Us=Ae>=Tt.hours&&be>=Tt.minutes,Cs=Ae<Ds.hours||Ae===Ds.hours&&be<Ds.minutes;if(Tt.hours<Ds.hours){if(Us&&Cs)return!0}else if(Us||Cs)return!0}else if(Sr.hours===Ae&&Sr.minutes===be)return!0;return!1});if(-1!==In)return ur[In]}return Or(z,Y,k)[Ae<12?0:1];case 3:return Gr(z,k)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(Y,We,M,z,x,k)}}function zs(M){return function(z,x,k){const Y=-1*k,We=vt(x,Ft.MinusSign),Ae=Y>0?Math.floor(Y/60):Math.ceil(Y/60);switch(M){case 0:return(Y>=0?"+":"")+qr(Ae,2,We)+qr(Math.abs(Y%60),2,We);case 1:return"GMT"+(Y>=0?"+":"")+qr(Ae,1,We);case 2:return"GMT"+(Y>=0?"+":"")+qr(Ae,2,We)+":"+qr(Math.abs(Y%60),2,We);case 3:return 0===k?"Z":(Y>=0?"+":"")+qr(Ae,2,We)+":"+qr(Math.abs(Y%60),2,We);default:throw new Error(`Unknown zone width "${M}"`)}}}const Yr=0,Ln=4;function Kn(M){const z=M.getDay(),x=0===z?-3:Ln-z;return ns(M.getFullYear(),M.getMonth(),M.getDate()+x)}function kr(M,z=!1){return function(x,k){let Y;if(z){const We=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,Ae=x.getDate();Y=1+Math.floor((Ae+We)/7)}else{const We=Kn(x),Ae=function Er(M){const z=ns(M,Yr,1).getDay();return ns(M,0,1+(z<=Ln?Ln:Ln+7)-z)}(We.getFullYear()),be=We.getTime()-Ae.getTime();Y=1+Math.round(be/6048e5)}return qr(Y,M,vt(k,Ft.MinusSign))}}function jr(M,z=!1){return function(x,k){return qr(Kn(x).getFullYear(),M,vt(k,Ft.MinusSign),z)}}const An={};function Yn(M,z){M=M.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(x)?z:x}function je(M){return M instanceof Date&&!isNaN(M.valueOf())}const le=/^(\d+)?\.((\d+)(-(\d+))?)?$/,De=22,oe=".",me="0",Je=";",pt=",",Gt="#",Ut="\xa4",Dn="%";function nr(M,z,x,k,Y,We,Ae=!1){let be="",ot=!1;if(isFinite(M)){let un=function dt(M){let k,Y,We,Ae,be,z=Math.abs(M)+"",x=0;for((Y=z.indexOf(oe))>-1&&(z=z.replace(oe,"")),(We=z.search(/e/i))>0?(Y<0&&(Y=We),Y+=+z.slice(We+1),z=z.substring(0,We)):Y<0&&(Y=z.length),We=0;z.charAt(We)===me;We++);if(We===(be=z.length))k=[0],Y=1;else{for(be--;z.charAt(be)===me;)be--;for(Y-=We,k=[],Ae=0;We<=be;We++,Ae++)k[Ae]=Number(z.charAt(We))}return Y>De&&(k=k.splice(0,De-1),x=Y-1,Y=1),{digits:k,exponent:x,integerLen:Y}}(M);Ae&&(un=function gt(M){if(0===M.digits[0])return M;const z=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===z?M.digits.push(0,0):1===z&&M.digits.push(0),M.integerLen+=2),M}(un));let ur=z.minInt,In=z.minFrac,Sr=z.maxFrac;if(We){const _i=We.match(le);if(null===_i)throw new Error(`${We} is not a valid digit info`);const xr=_i[1],Dr=_i[3],Kt=_i[5];null!=xr&&(ur=cn(xr)),null!=Dr&&(In=cn(Dr)),null!=Kt?Sr=cn(Kt):null!=Dr&&In>Sr&&(Sr=In)}!function fn(M,z,x){if(z>x)throw new Error(`The minimum number of digits after fraction (${z}) is higher than the maximum (${x}).`);let k=M.digits,Y=k.length-M.integerLen;const We=Math.min(Math.max(z,Y),x);let Ae=We+M.integerLen,be=k[Ae];if(Ae>0){k.splice(Math.max(M.integerLen,Ae));for(let In=Ae;In<k.length;In++)k[In]=0}else{Y=Math.max(0,Y),M.integerLen=1,k.length=Math.max(1,Ae=We+1),k[0]=0;for(let In=1;In<Ae;In++)k[In]=0}if(be>=5)if(Ae-1<0){for(let In=0;In>Ae;In--)k.unshift(0),M.integerLen++;k.unshift(1),M.integerLen++}else k[Ae-1]++;for(;Y<Math.max(0,We);Y++)k.push(0);let ot=0!==We;const un=z+M.integerLen,ur=k.reduceRight(function(In,Sr,Tt,Ds){return Ds[Tt]=(Sr+=In)<10?Sr:Sr-10,ot&&(0===Ds[Tt]&&Tt>=un?Ds.pop():ot=!1),Sr>=10?1:0},0);ur&&(k.unshift(ur),M.integerLen++)}(un,In,Sr);let Tt=un.digits,Ds=un.integerLen;const Us=un.exponent;let Cs=[];for(ot=Tt.every(_i=>!_i);Ds<ur;Ds++)Tt.unshift(0);for(;Ds<0;Ds++)Tt.unshift(0);Ds>0?Cs=Tt.splice(Ds,Tt.length):(Cs=Tt,Tt=[0]);const da=[];for(Tt.length>=z.lgSize&&da.unshift(Tt.splice(-z.lgSize,Tt.length).join(""));Tt.length>z.gSize;)da.unshift(Tt.splice(-z.gSize,Tt.length).join(""));Tt.length&&da.unshift(Tt.join("")),be=da.join(vt(x,k)),Cs.length&&(be+=vt(x,Y)+Cs.join("")),Us&&(be+=vt(x,Ft.Exponential)+"+"+Us)}else be=vt(x,Ft.Infinity);return be=M<0&&!ot?z.negPre+be+z.negSuf:z.posPre+be+z.posSuf,be}function ar(M,z,x,k,Y){const Ae=Ve(Lt(z,Vt.Currency),vt(z,Ft.MinusSign));return Ae.minFrac=Fr(k),Ae.maxFrac=Ae.minFrac,nr(M,Ae,z,Ft.CurrencyGroup,Ft.CurrencyDecimal,Y).replace(Ut,x).replace(Ut,"").trim()}function Ti(M,z,x){return nr(M,Ve(Lt(z,Vt.Percent),vt(z,Ft.MinusSign)),z,Ft.Group,Ft.Decimal,x,!0).replace(new RegExp(Dn,"g"),vt(z,Ft.PercentSign))}function et(M,z,x){return nr(M,Ve(Lt(z,Vt.Decimal),vt(z,Ft.MinusSign)),z,Ft.Group,Ft.Decimal,x)}function Ve(M,z="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},k=M.split(Je),Y=k[0],We=k[1],Ae=-1!==Y.indexOf(oe)?Y.split(oe):[Y.substring(0,Y.lastIndexOf(me)+1),Y.substring(Y.lastIndexOf(me)+1)],be=Ae[0],ot=Ae[1]||"";x.posPre=be.substring(0,be.indexOf(Gt));for(let ur=0;ur<ot.length;ur++){const In=ot.charAt(ur);In===me?x.minFrac=x.maxFrac=ur+1:In===Gt?x.maxFrac=ur+1:x.posSuf+=In}const un=be.split(pt);if(x.gSize=un[1]?un[1].length:0,x.lgSize=un[2]||un[1]?(un[2]||un[1]).length:0,We){const ur=Y.length-x.posPre.length-x.posSuf.length,In=We.indexOf(Gt);x.negPre=We.substring(0,In).replace(/'/g,""),x.negSuf=We.slice(In+ur).replace(/'/g,"")}else x.negPre=z+x.posPre,x.negSuf=x.posSuf;return x}function cn(M){const z=parseInt(M);if(isNaN(z))throw new Error("Invalid integer literal when parsing "+M);return z}let Sn=(()=>{class M{static \u0275fac=function(k){return new(k||M)};static \u0275prov=E.jDH({token:M,factory:function(k){let Y=null;return k?Y=new k:(We=E.KVO(E.xe9),Y=new Ir(We)),Y;var We},providedIn:"root"})}return M})();function Lr(M,z,x,k){let Y=`=${M}`;if(z.indexOf(Y)>-1||(Y=x.getPluralCategory(M,k),z.indexOf(Y)>-1))return Y;if(z.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${M}"`)}let Ir=(()=>{class M extends Sn{locale;constructor(x){super(),this.locale=x}getPluralCategory(x,k){switch(ln(k||this.locale)(x)){case Wt.Zero:return"zero";case Wt.One:return"one";case Wt.Two:return"two";case Wt.Few:return"few";case Wt.Many:return"many";default:return"other"}}static \u0275fac=function(k){return new(k||M)(E.KVO(E.xe9))};static \u0275prov=E.jDH({token:M,factory:M.\u0275fac})}return M})();function Cn(M,z,x){return(0,E.XSP)(M,z,x)}function Ki(M,z){z=encodeURIComponent(z);for(const x of M.split(";")){const k=x.indexOf("="),[Y,We]=-1==k?[x,""]:[x.slice(0,k),x.slice(k+1)];if(Y.trim()===z)return decodeURIComponent(We)}return null}const yi=/\s+/,Rr=[];let an=(()=>{class M{_ngEl;_renderer;initialClasses=Rr;rawClass;stateMap=new Map;constructor(x,k){this._ngEl=x,this._renderer=k}set klass(x){this.initialClasses=null!=x?x.trim().split(yi):Rr}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(yi):x}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const k of x)this._updateState(k,!0);else if(null!=x)for(const k of Object.keys(x))this._updateState(k,!!x[k]);this._applyStateDiff()}_updateState(x,k){const Y=this.stateMap.get(x);void 0!==Y?(Y.enabled!==k&&(Y.changed=!0,Y.enabled=k),Y.touched=!0):this.stateMap.set(x,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const k=x[0],Y=x[1];Y.changed?(this._toggleClass(k,Y.enabled),Y.changed=!1):Y.touched||(Y.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Y.touched=!1}}_toggleClass(x,k){(x=x.trim()).length>0&&x.split(yi).forEach(Y=>{k?this._renderer.addClass(this._ngEl.nativeElement,Y):this._renderer.removeClass(this._ngEl.nativeElement,Y)})}static \u0275fac=function(k){return new(k||M)(E.rXU(E.aKT),E.rXU(E.sFG))};static \u0275dir=E.FsC({type:M,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return M})(),fs=(()=>{class M{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(x){this._viewContainerRef=x}_needToReCreateNgModuleInstance(x){return void 0!==x.ngComponentOutletNgModule||void 0!==x.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(x){return void 0!==x.ngComponentOutlet||void 0!==x.ngComponentOutletContent||void 0!==x.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(x)}ngOnChanges(x){if(this._needToReCreateComponentInstance(x)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const k=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(x)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,E.w6W)(this.ngComponentOutletNgModule,zi(k)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(zi(k)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:k,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const x of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(x,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(x){for(const[k,Y]of this._inputsUsed)Y?(x.setInput(k,this.ngComponentOutletInputs[k]),this._inputsUsed.set(k,!1)):(x.setInput(k,void 0),this._inputsUsed.delete(k))}static \u0275fac=function(k){return new(k||M)(E.rXU(E.c1b))};static \u0275dir=E.FsC({type:M,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[E.OA$]})}return M})();function zi(M){return M.get(E.Vns).injector}class ps{$implicit;ngForOf;index;count;constructor(z,x,k,Y){this.$implicit=z,this.ngForOf=x,this.index=k,this.count=Y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{class M{_viewContainer;_template;_differs;set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(x,k,Y){this._viewContainer=x,this._template=k,this._differs=Y}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const k=this._viewContainer;x.forEachOperation((Y,We,Ae)=>{if(null==Y.previousIndex)k.createEmbeddedView(this._template,new ps(Y.item,this._ngForOf,-1,-1),null===Ae?void 0:Ae);else if(null==Ae)k.remove(null===We?void 0:We);else if(null!==We){const be=k.get(We);k.move(be,Ae),_o(be,Y)}});for(let Y=0,We=k.length;Y<We;Y++){const be=k.get(Y).context;be.index=Y,be.count=We,be.ngForOf=this._ngForOf}x.forEachIdentityChange(Y=>{_o(k.get(Y.currentIndex),Y)})}static ngTemplateContextGuard(x,k){return!0}static \u0275fac=function(k){return new(k||M)(E.rXU(E.c1b),E.rXU(E.C4Q),E.rXU(E._q3))};static \u0275dir=E.FsC({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return M})();function _o(M,z){M.context.$implicit=z.item}let ci=(()=>{class M{_viewContainer;_context=new Zt;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(x,k){this._viewContainer=x,this._thenTemplateRef=k}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){ao("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){ao("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(x,k){return!0}static \u0275fac=function(k){return new(k||M)(E.rXU(E.c1b),E.rXU(E.C4Q))};static \u0275dir=E.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return M})();class Zt{$implicit=null;ngIf=null}function ao(M,z){if(z&&!z.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,E.Tbb)(z)}'.`)}class ui{_viewContainerRef;_templateRef;_created=!1;constructor(z,x){this._viewContainerRef=z,this._templateRef=x}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let Gi=(()=>{class M{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(x){this._ngSwitch=x,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(x){this._defaultViews.push(x)}_matchCase(x){const k=x===this._ngSwitch;return this._lastCasesMatched||=k,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),k}_updateDefaultCases(x){if(this._defaultViews.length>0&&x!==this._defaultUsed){this._defaultUsed=x;for(const k of this._defaultViews)k.enforceState(x)}}static \u0275fac=function(k){return new(k||M)};static \u0275dir=E.FsC({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return M})(),Eo=(()=>{class M{ngSwitch;_view;ngSwitchCase;constructor(x,k,Y){this.ngSwitch=Y,Y._addCase(),this._view=new ui(x,k)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(k){return new(k||M)(E.rXU(E.c1b),E.rXU(E.C4Q),E.rXU(Gi,9))};static \u0275dir=E.FsC({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return M})(),Ta=(()=>{class M{constructor(x,k,Y){Y._addDefault(new ui(x,k))}static \u0275fac=function(k){return new(k||M)(E.rXU(E.c1b),E.rXU(E.C4Q),E.rXU(Gi,9))};static \u0275dir=E.FsC({type:M,selectors:[["","ngSwitchDefault",""]]})}return M})(),re=(()=>{class M{_localization;_activeView;_caseViews={};constructor(x){this._localization=x}set ngPlural(x){this._updateView(x)}addCase(x,k){this._caseViews[x]=k}_updateView(x){this._clearViews();const Y=Lr(x,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[Y])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(x){x&&(this._activeView=x,this._activeView.create())}static \u0275fac=function(k){return new(k||M)(E.rXU(Sn))};static \u0275dir=E.FsC({type:M,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}})}return M})(),Ee=(()=>{class M{value;constructor(x,k,Y,We){this.value=x;const Ae=!isNaN(Number(x));We.addCase(Ae?`=${x}`:x,new ui(Y,k))}static \u0275fac=function(k){return new(k||M)(E.kS0("ngPluralCase"),E.rXU(E.C4Q),E.rXU(E.c1b),E.rXU(re,1))};static \u0275dir=E.FsC({type:M,selectors:[["","ngPluralCase",""]]})}return M})(),fe=(()=>{class M{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(x,k,Y){this._ngEl=x,this._differs=k,this._renderer=Y}set ngStyle(x){this._ngStyle=x,!this._differ&&x&&(this._differ=this._differs.find(x).create())}ngDoCheck(){if(this._differ){const x=this._differ.diff(this._ngStyle);x&&this._applyChanges(x)}}_setStyle(x,k){const[Y,We]=x.split("."),Ae=-1===Y.indexOf("-")?void 0:E.czy.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,Y,We?`${k}${We}`:k,Ae):this._renderer.removeStyle(this._ngEl.nativeElement,Y,Ae)}_applyChanges(x){x.forEachRemovedItem(k=>this._setStyle(k.key,null)),x.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),x.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}static \u0275fac=function(k){return new(k||M)(E.rXU(E.aKT),E.rXU(E.MKu),E.rXU(E.sFG))};static \u0275dir=E.FsC({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return M})(),$e=(()=>{class M{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(x){this._viewContainerRef=x}ngOnChanges(x){if(this._shouldRecreateView(x)){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Y=this._createContextForwardProxy();this._viewRef=k.createEmbeddedView(this.ngTemplateOutlet,Y,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(x){return!!x.ngTemplateOutlet||!!x.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(x,k,Y)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,k,Y),get:(x,k,Y)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,k,Y)}})}static \u0275fac=function(k){return new(k||M)(E.rXU(E.c1b))};static \u0275dir=E.FsC({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[E.OA$]})}return M})();function Ct(M,z){return new E.wOt(2100,!1)}class bt{createSubscription(z,x){return(0,E.O8t)(()=>z.subscribe({next:x,error:k=>{throw k}}))}dispose(z){(0,E.O8t)(()=>z.unsubscribe())}}class rn{createSubscription(z,x){return z.then(x,k=>{throw k})}dispose(z){}}const ce=new rn,ze=new bt;let Me=(()=>{class M{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(x){this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){if(!this._obj){if(x)try{this.markForCheckOnValueUpdate=!1,this._subscribe(x)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,k=>this._updateLatestValue(x,k))}_selectStrategy(x){if((0,E.jNT)(x))return ce;if((0,E.zjR)(x))return ze;throw Ct()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,k){x===this._obj&&(this._latestValue=k,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(k){return new(k||M)(E.rXU(E.gRc,16))};static \u0275pipe=E.EJ8({name:"async",type:M,pure:!1})}return M})(),Ue=(()=>{class M{transform(x){if(null==x)return null;if("string"!=typeof x)throw Ct();return x.toLowerCase()}static \u0275fac=function(k){return new(k||M)};static \u0275pipe=E.EJ8({name:"lowercase",type:M,pure:!0})}return M})();const ht=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let st=(()=>{class M{transform(x){if(null==x)return null;if("string"!=typeof x)throw Ct();return x.replace(ht,k=>k[0].toUpperCase()+k.slice(1).toLowerCase())}static \u0275fac=function(k){return new(k||M)};static \u0275pipe=E.EJ8({name:"titlecase",type:M,pure:!0})}return M})(),xt=(()=>{class M{transform(x){if(null==x)return null;if("string"!=typeof x)throw Ct();return x.toUpperCase()}static \u0275fac=function(k){return new(k||M)};static \u0275pipe=E.EJ8({name:"uppercase",type:M,pure:!0})}return M})();const _n=new E.nKC(""),Tr=new E.nKC("");let hn=(()=>{class M{locale;defaultTimezone;defaultOptions;constructor(x,k,Y){this.locale=x,this.defaultTimezone=k,this.defaultOptions=Y}transform(x,k,Y,We){if(null==x||""===x||x!=x)return null;try{return tr(x,k??this.defaultOptions?.dateFormat??"mediumDate",We||this.locale,Y??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ae){throw Ct()}}static \u0275fac=function(k){return new(k||M)(E.rXU(E.xe9,16),E.rXU(_n,24),E.rXU(Tr,24))};static \u0275pipe=E.EJ8({name:"date",type:M,pure:!0})}return M})();const On=/#/g;let Fs=(()=>{class M{_localization;constructor(x){this._localization=x}transform(x,k,Y){if(null==x)return"";if("object"!=typeof k||null===k)throw Ct();return k[Lr(x,Object.keys(k),this._localization,Y)].replace(On,x.toString())}static \u0275fac=function(k){return new(k||M)(E.rXU(Sn,16))};static \u0275pipe=E.EJ8({name:"i18nPlural",type:M,pure:!0})}return M})(),En=(()=>{class M{transform(x,k){if(null==x)return"";if("object"!=typeof k||"string"!=typeof x)throw Ct();return k.hasOwnProperty(x)?k[x]:k.hasOwnProperty("other")?k.other:""}static \u0275fac=function(k){return new(k||M)};static \u0275pipe=E.EJ8({name:"i18nSelect",type:M,pure:!0})}return M})(),ks=(()=>{class M{transform(x){return JSON.stringify(x,null,2)}static \u0275fac=function(k){return new(k||M)};static \u0275pipe=E.EJ8({name:"json",type:M,pure:!1})}return M})(),Zr=(()=>{class M{differs;constructor(x){this.differs=x}differ;keyValues=[];compareFn=Si;transform(x,k=Si){if(!x||!(x instanceof Map)&&"object"!=typeof x)return null;this.differ??=this.differs.find(x).create();const Y=this.differ.diff(x),We=k!==this.compareFn;return Y&&(this.keyValues=[],Y.forEachItem(Ae=>{this.keyValues.push(function zn(M,z){return{key:M,value:z}}(Ae.key,Ae.currentValue))})),(Y||We)&&(k&&this.keyValues.sort(k),this.compareFn=k),this.keyValues}static \u0275fac=function(k){return new(k||M)(E.rXU(E.MKu,16))};static \u0275pipe=E.EJ8({name:"keyvalue",type:M,pure:!1})}return M})();function Si(M,z){const x=M.key,k=z.key;if(x===k)return 0;if(null==x)return 1;if(null==k)return-1;if("string"==typeof x&&"string"==typeof k)return x<k?-1:1;if("number"==typeof x&&"number"==typeof k)return x-k;if("boolean"==typeof x&&"boolean"==typeof k)return x<k?-1:1;const Y=String(x),We=String(k);return Y==We?0:Y<We?-1:1}let ri=(()=>{class M{_locale;constructor(x){this._locale=x}transform(x,k,Y){if(!ta(x))return null;Y||=this._locale;try{return et(Xi(x),Y,k)}catch(We){throw Ct()}}static \u0275fac=function(k){return new(k||M)(E.rXU(E.xe9,16))};static \u0275pipe=E.EJ8({name:"number",type:M,pure:!0})}return M})(),ea=(()=>{class M{_locale;constructor(x){this._locale=x}transform(x,k,Y){if(!ta(x))return null;Y||=this._locale;try{return Ti(Xi(x),Y,k)}catch(We){throw Ct()}}static \u0275fac=function(k){return new(k||M)(E.rXU(E.xe9,16))};static \u0275pipe=E.EJ8({name:"percent",type:M,pure:!0})}return M})(),wo=(()=>{class M{_locale;_defaultCurrencyCode;constructor(x,k="USD"){this._locale=x,this._defaultCurrencyCode=k}transform(x,k=this._defaultCurrencyCode,Y="symbol",We,Ae){if(!ta(x))return null;Ae||=this._locale,"boolean"==typeof Y&&(Y=Y?"symbol":"code");let be=k||this._defaultCurrencyCode;"code"!==Y&&(be="symbol"===Y||"symbol-narrow"===Y?Rs(be,"symbol"===Y?"wide":"narrow",Ae):Y);try{return ar(Xi(x),Ae,be,k,We)}catch(ot){throw Ct()}}static \u0275fac=function(k){return new(k||M)(E.rXU(E.xe9,16),E.rXU(E.Ocv,16))};static \u0275pipe=E.EJ8({name:"currency",type:M,pure:!0})}return M})();function ta(M){return!(null==M||""===M||M!=M)}function Xi(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}let Ao=(()=>{class M{transform(x,k,Y){if(null==x)return null;if("string"!=typeof x&&!Array.isArray(x))throw Ct();return x.slice(k,Y)}static \u0275fac=function(k){return new(k||M)};static \u0275pipe=E.EJ8({name:"slice",type:M,pure:!1})}return M})(),Uo=(()=>{class M{static \u0275fac=function(k){return new(k||M)};static \u0275mod=E.$C({type:M});static \u0275inj=E.G2t({})}return M})();const di="browser",lo="server";function Dl(M){return M===di}function ki(M){return M===lo}const ra=new E.RxE("19.2.0");let qs=(()=>{class M{static \u0275prov=(0,E.jDH)({token:M,providedIn:"root",factory:()=>new sc((0,E.WQX)(ae),window)})}return M})();class sc{document;window;offset=()=>[0,0];constructor(z,x){this.document=z,this.window=x}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(z){this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){const x=function Ht(M,z){const x=M.getElementById(z)||M.getElementsByName(z)[0];if(x)return x;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const k=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Y=k.currentNode;for(;Y;){const We=Y.shadowRoot;if(We){const Ae=We.getElementById(z)||We.querySelector(`[name="${z}"]`);if(Ae)return Ae}Y=k.nextNode()}}return null}(this.document,z);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(z){this.window.history.scrollRestoration=z}scrollToElement(z){const x=z.getBoundingClientRect(),k=x.left+this.window.pageXOffset,Y=x.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(k-We[0],Y-We[1])}}class Do{setOffset(z){}getScrollPosition(){return[0,0]}scrollToPosition(z){}scrollToAnchor(z){}setHistoryScrollRestoration(z){}}class Bo{}const qi="20";function Co(M){return/^https?:\/\//.test(M)}function sa(M){if("string"!=typeof M||""===M.trim())return!1;try{return new URL(M),!0}catch{return!1}}function ic(M){return M.startsWith("/")?M.slice(1):M}const us=M=>M.src,Li=new E.nKC("",{providedIn:"root",factory:()=>us});function si(M,z){return function(k){return sa(k)||function Io(){throw new E.wOt(2959,!1)}(),k=function jo(M){return M.endsWith("/")?M.slice(0,-1):M}(k),[{provide:Li,useValue:Ae=>(Co(Ae.src)&&function hi(){throw new E.wOt(2959,!1)}(),M(k,{...Ae,src:ic(Ae.src)}))}]}}const To=si(Ka);function Ka(M,z){let x="format=auto";return z.width&&(x+=`,width=${z.width}`),z.isPlaceholder&&(x+=`,quality=${qi}`),`${M}/cdn-cgi/image/${x}/${z.src}`}const Es=si(So);function So(M,z){let k="f_auto,"+(z.isPlaceholder?"q_auto:low":"q_auto");return z.width&&(k+=`,w_${z.width}`),z.loaderParams?.rounded&&(k+=",r_max"),`${M}/image/upload/${k}/${z.src}`}const Ys=si(Ga);function Ga(M,z){const{src:x,width:k}=z,Y=[];k&&Y.push(`w-${k}`),z.isPlaceholder&&Y.push(`q-${qi}`);const We=Y.length?[M,`tr:${Y.join(",")}`,x]:[M,x];return new URL(We.join("/")).href}const ws=si($o);function $o(M,z){const x=new URL(`${M}/${z.src}`);return x.searchParams.set("auto","format"),z.width&&x.searchParams.set("w",z.width.toString()),z.isPlaceholder&&x.searchParams.set("q",qi),x.href}function pn(M){if(M&&!sa(M))throw new E.wOt(2959,!1);return M&&(M=new URL(M).origin),[{provide:Li,useValue:k=>function Gs(M,z){const x=new URL(z??"https://a/");x.pathname="/.netlify/images",!Co(M.src)&&!M.src.startsWith("/")&&(M.src="/"+M.src),x.searchParams.set("url",M.src),M.width&&x.searchParams.set("w",M.width.toString());M.isPlaceholder&&!(M.loaderParams?.quality??M.loaderParams?.q)&&x.searchParams.set("q",qi);for(const[Y,We]of Object.entries(M.loaderParams??{}))ms.has(Y)&&x.searchParams.set(ms.get(Y),We.toString());return"a"===x.hostname?x.href.replace(x.origin,""):x.href}(k,M)}]}const ms=new Map([["height","h"],["fit","fit"],["quality","q"],["q","q"],["position","position"]]),N=new E.nKC(""),Yi=/^((\s*\d+w\s*(,|$)){1,})$/,bu=[1,2];let aa=(()=>{class M{imageLoader=(0,E.WQX)(Li);config=function Il(M){let z={};return M.breakpoints&&(z.breakpoints=M.breakpoints.sort((x,k)=>x-k)),Object.assign({},E.PUk,M,z)}((0,E.WQX)(E.GGh));renderer=(0,E.WQX)(E.sFG);imgElement=(0,E.WQX)(E.aKT).nativeElement;injector=(0,E.WQX)(E.zZn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,E.ngT)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Yi.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(x){x.ngSrc&&!x.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(x){let k=x;return this.loaderParams&&(k.loaderParams=this.loaderParams),this.imageLoader(k)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const x=Yi.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Y=>""!==Y).map(Y=>{Y=Y.trim();const We=x?parseFloat(Y):parseFloat(Y)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:We})} ${Y}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:x}=this.config;let k=x;return"100vw"===this.sizes?.trim()&&(k=x.filter(We=>We>=640)),k.map(We=>`${this.callImageLoader({src:this.ngSrc,width:We})} ${We}w`).join(", ")}updateSrcAndSrcset(x=!1){x&&(this._renderedSrc=null);const k=this.getRewrittenSrc();let Y;return this.setHostAttribute("src",k),this.ngSrcset?Y=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(Y=this.getAutomaticSrcset()),Y&&this.setHostAttribute("srcset",Y),Y}getFixedSrcset(){return bu.map(k=>`${this.callImageLoader({src:this.ngSrc,width:this.width*k})} ${k}x`).join(", ")}shouldGenerateAutomaticSrcset(){let x=!1;return this.sizes||(x=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==us&&!x}generatePlaceholder(x){const{placeholderResolution:k}=this.config;return!0===x?`url(${this.callImageLoader({src:this.ngSrc,width:k,isPlaceholder:!0})})`:"string"==typeof x?`url(${x})`:null}shouldBlurPlaceholder(x){return!x||!x.hasOwnProperty("blur")||!!x.blur}removePlaceholderOnLoad(x){const k=()=>{const Ae=this.injector.get(E.gRc);Y(),We(),this.placeholder=!1,Ae.markForCheck()},Y=this.renderer.listen(x,"load",k),We=this.renderer.listen(x,"error",k);!function Zn(M,z){M.complete&&M.naturalWidth&&z()}(x,k)}setHostAttribute(x,k){this.renderer.setAttribute(this.imgElement,x,k)}static \u0275fac=function(k){return new(k||M)};static \u0275dir=E.FsC({type:M,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(k,Y){2&k&&E.xc7("position",Y.fill?"absolute":null)("width",Y.fill?"100%":null)("height",Y.fill?"100%":null)("inset",Y.fill?"0":null)("background-size",Y.placeholder?"cover":null)("background-position",Y.placeholder?"50% 50%":null)("background-repeat",Y.placeholder?"no-repeat":null)("background-image",Y.placeholder?Y.generatePlaceholder(Y.placeholder):null)("filter",Y.placeholder&&Y.shouldBlurPlaceholder(Y.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",mn],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",E.Udg],height:[2,"height","height",E.Udg],loading:"loading",priority:[2,"priority","priority",E.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",E.L39],fill:[2,"fill","fill",E.L39],placeholder:[2,"placeholder","placeholder",It],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[E.OA$]})}return M})();function mn(M){return"string"==typeof M?M:(0,E.rcV)(M)}function It(M){return"string"==typeof M&&"true"!==M&&"false"!==M&&""!==M?M:(0,E.L39)(M)}},274:(lt,he,C)=>{C.d(he,{H:()=>ie});var _=C(1397),E=C(8071);function ie(ee,U){return(0,E.T)(U)?(0,_.Z)(ee,U,1):(0,_.Z)(ee,1)}},334:(lt,he,C)=>{C.d(he,{GV:()=>ie,Hh:()=>Q,Kt:()=>ee,WQ:()=>U});var _=C(9310),E=function(X){return X.INCREMENT="Increment Article",X.DECREMENT="Decrememnt Article",X.ADD="Add Article",X.LOAD="Load Articles",X}(E||{});const ie=(0,_.VP)(E.INCREMENT,(0,_.xk)()),ee=(0,_.VP)(E.DECREMENT,(0,_.xk)()),U=(0,_.VP)(E.ADD,(0,_.xk)()),Q=(0,_.VP)(E.LOAD)},345:(lt,he,C)=>{C.d(he,{B7:()=>nn,Bb:()=>ts,W8:()=>Fr,hE:()=>Xr,sG:()=>Qr,up:()=>Er});var _=C(177),E=C(4438);class ie extends _.\u0275DomAdapter{supportsDOMEvents=!0}class ee extends ie{static makeCurrent(){(0,_.\u0275setRootDomAdapter)(new ee)}onAndCancel(De,oe,me,Je){return De.addEventListener(oe,me,Je),()=>{De.removeEventListener(oe,me,Je)}}dispatchEvent(De,oe){De.dispatchEvent(oe)}remove(De){De.remove()}createElement(De,oe){return(oe=oe||this.getDefaultDocument()).createElement(De)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(De){return De.nodeType===Node.ELEMENT_NODE}isShadowRoot(De){return De instanceof DocumentFragment}getGlobalEventTarget(De,oe){return"window"===oe?window:"document"===oe?De:"body"===oe?De.body:null}getBaseHref(De){const oe=function Q(){return U=U||document.querySelector("base"),U?U.getAttribute("href"):null}();return null==oe?null:function X(le){return new URL(le,document.baseURI).pathname}(oe)}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}getCookie(De){return(0,_.\u0275parseCookieValue)(document.cookie,De)}}let U=null,ae=(()=>{class le{build(){return new XMLHttpRequest}static \u0275fac=function(me){return new(me||le)};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac})}return le})();const q=new E.nKC("");let te=(()=>{class le{_zone;_plugins;_eventNameToPlugin=new Map;constructor(oe,me){this._zone=me,oe.forEach(Je=>{Je.manager=this}),this._plugins=oe.slice().reverse()}addEventListener(oe,me,Je,pt){return this._findPluginFor(me).addEventListener(oe,me,Je,pt)}getZone(){return this._zone}_findPluginFor(oe){let me=this._eventNameToPlugin.get(oe);if(me)return me;if(me=this._plugins.find(pt=>pt.supports(oe)),!me)throw new E.wOt(5101,!1);return this._eventNameToPlugin.set(oe,me),me}static \u0275fac=function(me){return new(me||le)(E.KVO(q),E.KVO(E.SKi))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac})}return le})();class ye{_doc;constructor(De){this._doc=De}manager}const Fe="ng-app-id";function Oe(le){for(const De of le)De.remove()}function Te(le,De){const oe=De.createElement("style");return oe.textContent=le,oe}function He(le,De){const oe=De.createElement("link");return oe.setAttribute("rel","stylesheet"),oe.setAttribute("href",le),oe}let Le=(()=>{class le{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(oe,me,Je,pt={}){this.doc=oe,this.appId=me,this.nonce=Je,this.isServer=(0,_.isPlatformServer)(pt),function _e(le,De,oe,me){const Je=le.head?.querySelectorAll(`style[${Fe}="${De}"],link[${Fe}="${De}"]`);if(Je)for(const pt of Je)pt.removeAttribute(Fe),pt instanceof HTMLLinkElement?me.set(pt.href.slice(pt.href.lastIndexOf("/")+1),{usage:0,elements:[pt]}):pt.textContent&&oe.set(pt.textContent,{usage:0,elements:[pt]})}(oe,me,this.inline,this.external),this.hosts.add(oe.head)}addStyles(oe,me){for(const Je of oe)this.addUsage(Je,this.inline,Te);me?.forEach(Je=>this.addUsage(Je,this.external,He))}removeStyles(oe,me){for(const Je of oe)this.removeUsage(Je,this.inline);me?.forEach(Je=>this.removeUsage(Je,this.external))}addUsage(oe,me,Je){const pt=me.get(oe);pt?pt.usage++:me.set(oe,{usage:1,elements:[...this.hosts].map(Gt=>this.addElement(Gt,Je(oe,this.doc)))})}removeUsage(oe,me){const Je=me.get(oe);Je&&(Je.usage--,Je.usage<=0&&(Oe(Je.elements),me.delete(oe)))}ngOnDestroy(){for(const[,{elements:oe}]of[...this.inline,...this.external])Oe(oe);this.hosts.clear()}addHost(oe){this.hosts.add(oe);for(const[me,{elements:Je}]of this.inline)Je.push(this.addElement(oe,Te(me,this.doc)));for(const[me,{elements:Je}]of this.external)Je.push(this.addElement(oe,He(me,this.doc)))}removeHost(oe){this.hosts.delete(oe)}addElement(oe,me){return this.nonce&&me.setAttribute("nonce",this.nonce),this.isServer&&me.setAttribute(Fe,this.appId),oe.appendChild(me)}static \u0275fac=function(me){return new(me||le)(E.KVO(_.DOCUMENT),E.KVO(E.sZ2),E.KVO(E.BIS,8),E.KVO(E.Agw))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac})}return le})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Et=/%COMP%/g,Wt=new E.nKC("",{providedIn:"root",factory:()=>!0});function Ge(le,De){return De.map(oe=>oe.replace(Et,le))}let nn=(()=>{class le{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(oe,me,Je,pt,Gt,Ut,Dn,nr=null,ar=null){this.eventManager=oe,this.sharedStylesHost=me,this.appId=Je,this.removeStylesOnCompDestroy=pt,this.doc=Gt,this.platformId=Ut,this.ngZone=Dn,this.nonce=nr,this.tracingService=ar,this.platformIsServer=(0,_.isPlatformServer)(Ut),this.defaultRenderer=new jn(oe,Gt,Dn,this.platformIsServer,this.tracingService)}createRenderer(oe,me){if(!oe||!me)return this.defaultRenderer;this.platformIsServer&&me.encapsulation===E.gXe.ShadowDom&&(me={...me,encapsulation:E.gXe.Emulated});const Je=this.getOrCreateRenderer(oe,me);return Je instanceof Qe?Je.applyToHost(oe):Je instanceof Ne&&Je.applyStyles(),Je}getOrCreateRenderer(oe,me){const Je=this.rendererByCompId;let pt=Je.get(me.id);if(!pt){const Gt=this.doc,Ut=this.ngZone,Dn=this.eventManager,nr=this.sharedStylesHost,ar=this.removeStylesOnCompDestroy,Ti=this.platformIsServer,et=this.tracingService;switch(me.encapsulation){case E.gXe.Emulated:pt=new Qe(Dn,nr,me,this.appId,ar,Gt,Ut,Ti,et);break;case E.gXe.ShadowDom:return new Gr(Dn,nr,oe,me,Gt,Ut,this.nonce,Ti,et);default:pt=new Ne(Dn,nr,me,ar,Gt,Ut,Ti,et)}Je.set(me.id,pt)}return pt}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(oe){this.rendererByCompId.delete(oe)}static \u0275fac=function(me){return new(me||le)(E.KVO(te),E.KVO(Le),E.KVO(E.sZ2),E.KVO(Wt),E.KVO(_.DOCUMENT),E.KVO(E.Agw),E.KVO(E.SKi),E.KVO(E.BIS),E.KVO(E.Lf2,8))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac})}return le})();class jn{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(De,oe,me,Je,pt){this.eventManager=De,this.doc=oe,this.ngZone=me,this.platformIsServer=Je,this.tracingService=pt}destroy(){}destroyNode=null;createElement(De,oe){return oe?this.doc.createElementNS(mt[oe]||oe,De):this.doc.createElement(De)}createComment(De){return this.doc.createComment(De)}createText(De){return this.doc.createTextNode(De)}appendChild(De,oe){(Cr(De)?De.content:De).appendChild(oe)}insertBefore(De,oe,me){De&&(Cr(De)?De.content:De).insertBefore(oe,me)}removeChild(De,oe){oe.remove()}selectRootElement(De,oe){let me="string"==typeof De?this.doc.querySelector(De):De;if(!me)throw new E.wOt(-5104,!1);return oe||(me.textContent=""),me}parentNode(De){return De.parentNode}nextSibling(De){return De.nextSibling}setAttribute(De,oe,me,Je){if(Je){oe=Je+":"+oe;const pt=mt[Je];pt?De.setAttributeNS(pt,oe,me):De.setAttribute(oe,me)}else De.setAttribute(oe,me)}removeAttribute(De,oe,me){if(me){const Je=mt[me];Je?De.removeAttributeNS(Je,oe):De.removeAttribute(`${me}:${oe}`)}else De.removeAttribute(oe)}addClass(De,oe){De.classList.add(oe)}removeClass(De,oe){De.classList.remove(oe)}setStyle(De,oe,me,Je){Je&(E.czy.DashCase|E.czy.Important)?De.style.setProperty(oe,me,Je&E.czy.Important?"important":""):De.style[oe]=me}removeStyle(De,oe,me){me&E.czy.DashCase?De.style.removeProperty(oe):De.style[oe]=""}setProperty(De,oe,me){null!=De&&(De[oe]=me)}setValue(De,oe){De.nodeValue=oe}listen(De,oe,me,Je){if("string"==typeof De&&!(De=(0,_.\u0275getDOM)().getGlobalEventTarget(this.doc,De)))throw new Error(`Unsupported event target ${De} for event ${oe}`);let pt=this.decoratePreventDefault(me);return null!==this.tracingService&&this.tracingService.wrapEventListener&&(pt=this.tracingService.wrapEventListener(De,oe,pt)),this.eventManager.addEventListener(De,oe,pt,Je)}decoratePreventDefault(De){return oe=>{if("__ngUnwrap__"===oe)return De;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>De(oe)):De(oe))&&oe.preventDefault()}}}function Cr(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class Gr extends jn{sharedStylesHost;hostEl;shadowRoot;constructor(De,oe,me,Je,pt,Gt,Ut,Dn,nr){super(De,pt,Gt,Dn,nr),this.sharedStylesHost=oe,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let ar=Je.styles;ar=Ge(Je.id,ar);for(const et of ar){const Ve=document.createElement("style");Ut&&Ve.setAttribute("nonce",Ut),Ve.textContent=et,this.shadowRoot.appendChild(Ve)}const Ti=Je.getExternalStyles?.();if(Ti)for(const et of Ti){const Ve=He(et,pt);Ut&&Ve.setAttribute("nonce",Ut),this.shadowRoot.appendChild(Ve)}}nodeOrShadowRoot(De){return De===this.hostEl?this.shadowRoot:De}appendChild(De,oe){return super.appendChild(this.nodeOrShadowRoot(De),oe)}insertBefore(De,oe,me){return super.insertBefore(this.nodeOrShadowRoot(De),oe,me)}removeChild(De,oe){return super.removeChild(null,oe)}parentNode(De){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(De)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends jn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(De,oe,me,Je,pt,Gt,Ut,Dn,nr){super(De,pt,Gt,Ut,Dn),this.sharedStylesHost=oe,this.removeStylesOnCompDestroy=Je;let ar=me.styles;this.styles=nr?Ge(nr,ar):ar,this.styleUrls=me.getExternalStyles?.(nr)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Qe extends Ne{contentAttr;hostAttr;constructor(De,oe,me,Je,pt,Gt,Ut,Dn,nr){const ar=Je+"-"+me.id;super(De,oe,me,pt,Gt,Ut,Dn,nr,ar),this.contentAttr=function wn(le){return"_ngcontent-%COMP%".replace(Et,le)}(ar),this.hostAttr=function ut(le){return"_nghost-%COMP%".replace(Et,le)}(ar)}applyToHost(De){this.applyStyles(),this.setAttribute(De,this.hostAttr,"")}createElement(De,oe){const me=super.createElement(De,oe);return super.setAttribute(me,this.contentAttr,""),me}}let Ze=(()=>{class le extends ye{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,me,Je,pt){return oe.addEventListener(me,Je,pt),()=>this.removeEventListener(oe,me,Je,pt)}removeEventListener(oe,me,Je,pt){return oe.removeEventListener(me,Je,pt)}static \u0275fac=function(me){return new(me||le)(E.KVO(_.DOCUMENT))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac})}return le})();const Xe=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let Lt=(()=>{class le extends ye{constructor(oe){super(oe)}supports(oe){return null!=le.parseEventName(oe)}addEventListener(oe,me,Je,pt){const Gt=le.parseEventName(me),Ut=le.eventCallback(Gt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.\u0275getDOM)().onAndCancel(oe,Gt.domEventName,Ut,pt))}static parseEventName(oe){const me=oe.toLowerCase().split("."),Je=me.shift();if(0===me.length||"keydown"!==Je&&"keyup"!==Je)return null;const pt=le._normalizeKey(me.pop());let Gt="",Ut=me.indexOf("code");if(Ut>-1&&(me.splice(Ut,1),Gt="code."),Xe.forEach(nr=>{const ar=me.indexOf(nr);ar>-1&&(me.splice(ar,1),Gt+=nr+".")}),Gt+=pt,0!=me.length||0===pt.length)return null;const Dn={};return Dn.domEventName=Je,Dn.fullKey=Gt,Dn}static matchEventFullKeyCode(oe,me){let Je=Dt[oe.key]||oe.key,pt="";return me.indexOf("code.")>-1&&(Je=oe.code,pt="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Xe.forEach(Gt=>{Gt!==Je&&(0,vt[Gt])(oe)&&(pt+=Gt+".")}),pt+=Je,pt===me)}static eventCallback(oe,me,Je){return pt=>{le.matchEventFullKeyCode(pt,oe)&&Je.runGuarded(()=>me(pt))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}static \u0275fac=function(me){return new(me||le)(E.KVO(_.DOCUMENT))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac})}return le})();const Qr=(0,E.oH4)(E.fpN,"browser",[{provide:E.Agw,useValue:_.\u0275PLATFORM_BROWSER_ID},{provide:E.PLl,useValue:function ln(){ee.makeCurrent()},multi:!0},{provide:_.DOCUMENT,useFactory:function Un(){return(0,E.TL$)(document),document},deps:[]}]),Pr=[{provide:E.e01,useClass:class W{addToWindow(De){E.JZv.getAngularTestability=(me,Je=!0)=>{const pt=De.findTestabilityInTree(me,Je);if(null==pt)throw new E.wOt(5103,!1);return pt},E.JZv.getAllAngularTestabilities=()=>De.getAllTestabilities(),E.JZv.getAllAngularRootElements=()=>De.getAllRootElements(),E.JZv.frameworkStabilizers||(E.JZv.frameworkStabilizers=[]),E.JZv.frameworkStabilizers.push(me=>{const Je=E.JZv.getAllAngularTestabilities();let pt=Je.length;const Gt=function(){pt--,0==pt&&me()};Je.forEach(Ut=>{Ut.whenStable(Gt)})})}findTestabilityInTree(De,oe,me){return null==oe?null:De.getTestability(oe)??(me?(0,_.\u0275getDOM)().isShadowRoot(oe)?this.findTestabilityInTree(De,oe.host,!0):this.findTestabilityInTree(De,oe.parentElement,!0):null)}},deps:[]},{provide:E.WHO,useClass:E.NYb,deps:[E.SKi,E.giA,E.e01]},{provide:E.NYb,useClass:E.NYb,deps:[E.SKi,E.giA,E.e01]}],Rs=[{provide:E.H8p,useValue:"root"},{provide:E.zcH,useFactory:function _r(){return new E.zcH},deps:[]},{provide:q,useClass:Ze,multi:!0,deps:[_.DOCUMENT]},{provide:q,useClass:Lt,multi:!0,deps:[_.DOCUMENT]},nn,Le,te,{provide:E._9s,useExisting:nn},{provide:_.XhrFactory,useClass:ae,deps:[]},[]];let ts=(()=>{class le{constructor(){}static \u0275fac=function(me){return new(me||le)};static \u0275mod=E.$C({type:le});static \u0275inj=E.G2t({providers:[...Rs,...Pr],imports:[_.CommonModule,E.Hbi]})}return le})(),Fr=(()=>{class le{_doc;_dom;constructor(oe){this._doc=oe,this._dom=(0,_.\u0275getDOM)()}addTag(oe,me=!1){return oe?this._getOrCreateElement(oe,me):null}addTags(oe,me=!1){return oe?oe.reduce((Je,pt)=>(pt&&Je.push(this._getOrCreateElement(pt,me)),Je),[]):[]}getTag(oe){return oe&&this._doc.querySelector(`meta[${oe}]`)||null}getTags(oe){if(!oe)return[];const me=this._doc.querySelectorAll(`meta[${oe}]`);return me?[].slice.call(me):[]}updateTag(oe,me){if(!oe)return null;me=me||this._parseSelector(oe);const Je=this.getTag(me);return Je?this._setMetaElementAttributes(oe,Je):this._getOrCreateElement(oe,!0)}removeTag(oe){this.removeTagElement(this.getTag(oe))}removeTagElement(oe){oe&&this._dom.remove(oe)}_getOrCreateElement(oe,me=!1){if(!me){const Gt=this._parseSelector(oe),Ut=this.getTags(Gt).filter(Dn=>this._containsAttributes(oe,Dn))[0];if(void 0!==Ut)return Ut}const Je=this._dom.createElement("meta");return this._setMetaElementAttributes(oe,Je),this._doc.getElementsByTagName("head")[0].appendChild(Je),Je}_setMetaElementAttributes(oe,me){return Object.keys(oe).forEach(Je=>me.setAttribute(this._getMetaKeyMap(Je),oe[Je])),me}_parseSelector(oe){const me=oe.name?"name":"property";return`${me}="${oe[me]}"`}_containsAttributes(oe,me){return Object.keys(oe).every(Je=>me.getAttribute(this._getMetaKeyMap(Je))===oe[Je])}_getMetaKeyMap(oe){return Tn[oe]||oe}static \u0275fac=function(me){return new(me||le)(E.KVO(_.DOCUMENT))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const Tn={httpEquiv:"http-equiv"};let Xr=(()=>{class le{_doc;constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}static \u0275fac=function(me){return new(me||le)(E.KVO(_.DOCUMENT))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Er=(()=>{class le{static \u0275fac=function(me){return new(me||le)};static \u0275prov=E.jDH({token:le,factory:function(me){let Je=null;return Je=me?new(me||le):E.KVO(Kn),Je},providedIn:"root"})}return le})(),Kn=(()=>{class le extends Er{_doc;constructor(oe){super(),this._doc=oe}sanitize(oe,me){if(null==me)return null;switch(oe){case E.WPN.NONE:return me;case E.WPN.HTML:return(0,E.ZF7)(me,"HTML")?(0,E.rcV)(me):(0,E.h9k)(this._doc,String(me)).toString();case E.WPN.STYLE:return(0,E.ZF7)(me,"Style")?(0,E.rcV)(me):me;case E.WPN.SCRIPT:if((0,E.ZF7)(me,"Script"))return(0,E.rcV)(me);throw new E.wOt(5200,!1);case E.WPN.URL:return(0,E.ZF7)(me,"URL")?(0,E.rcV)(me):(0,E.$MX)(String(me));case E.WPN.RESOURCE_URL:if((0,E.ZF7)(me,"ResourceURL"))return(0,E.rcV)(me);throw new E.wOt(5201,!1);default:throw new E.wOt(5202,!1)}}bypassSecurityTrustHtml(oe){return(0,E.Kcf)(oe)}bypassSecurityTrustStyle(oe){return(0,E.cWb)(oe)}bypassSecurityTrustScript(oe){return(0,E.UyX)(oe)}bypassSecurityTrustUrl(oe){return(0,E.osQ)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,E.e5t)(oe)}static \u0275fac=function(me){return new(me||le)(E.KVO(_.DOCUMENT))};static \u0275prov=E.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},459:(lt,he,C)=>{C.d(he,{c:()=>ee,o:()=>Q});var _=C(9310),ie=C(965);const ee="user_info",U=(0,_.vy)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,_.on)(ie.bI,(X,{user:W})=>({...X,user:W,error:null})),(0,_.on)(ie.VA,(X,{error:W})=>({...X,user:{userId:null,name:null,lastName:null,email:null},error:W})));function Q(X,W){return U(X,W)}},467:(lt,he,C)=>{function _(ie,ee,U,Q,X,W,ae){try{var q=ie[W](ae),te=q.value}catch(ye){return void U(ye)}q.done?ee(te):Promise.resolve(te).then(Q,X)}function E(ie){return function(){var ee=this,U=arguments;return new Promise(function(Q,X){var W=ie.apply(ee,U);function ae(te){_(W,Q,X,ae,q,"next",te)}function q(te){_(W,Q,X,ae,q,"throw",te)}ae(void 0)})}}C.d(he,{A:()=>E})},591:(lt,he,C)=>{function _(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(he,{L:()=>_})},786:(lt,he,C)=>{C.d(he,{p:()=>U});var _=C(6354),E=C(8750),ie=C(9974),ee=C(4360);function U(Q,X){return X?W=>W.pipe(U((ae,q)=>(0,E.Tg)(Q(ae,q)).pipe((0,_.T)((te,ye)=>X(ae,te,q,ye))))):(0,ie.N)((W,ae)=>{let q=0,te=null,ye=!1;W.subscribe((0,ee._)(ae,Fe=>{te||(te=(0,ee._)(ae,void 0,()=>{te=null,ye&&ae.complete()}),(0,E.Tg)(Q(Fe,q++)).subscribe(te))},()=>{ye=!0,!te&&ae.complete()}))})}},884:(lt,he,C)=>{C.d(he,{nX:()=>Ao,j5:()=>oo,wF:()=>ps,L6:()=>Zt,Z:()=>zi,b:()=>z,Ix:()=>un,Wk:()=>Sr,wQ:()=>Tt,$T:()=>Sr,iI:()=>bl,n3:()=>Ht});var _=C(4438),E=C(1985),ie=C(8071),U=C(2806),Q=C(7673),X=C(4412),W=C(4572),ae=C(9350),q=C(8793),te=C(9030),ye=C(1203),Fe=C(8810),Oe=C(983),Te=C(17),_e=C(1413),He=C(8359),Le=C(177),mt=C(6354),Et=C(5558),rt=C(6697),tt=C(9172),Ot=C(5964),Mt=C(1397),jt=C(1594),Vt=C(274),Wt=C(8141),wn=C(9437),ut=C(2816),Ge=C(9901),Ft=C(7018),nn=C(5109),jn=C(980),Or=C(9898),es=C(6977),Cr=C(6365),Gr=C(345);const Ne="primary",Qe=Symbol("RouteTitle");class Ze{params;constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S[0]:S}return null}getAll(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Xe(T){return new Ze(T)}function Dt(T,R,S){const O=S.path.split("/");if(O.length>T.length||"full"===S.pathMatch&&(R.hasChildren()||O.length<T.length))return null;const j={};for(let ne=0;ne<O.length;ne++){const ue=O[ne],nt=T[ne];if(":"===ue[0])j[ue.substring(1)]=nt;else if(ue!==nt.path)return null}return{consumed:T.slice(0,O.length),posParams:j}}function Lt(T,R){const S=T?vn(T):void 0,O=R?vn(R):void 0;if(!S||!O||S.length!=O.length)return!1;let j;for(let ne=0;ne<S.length;ne++)if(j=S[ne],!er(T[j],R[j]))return!1;return!0}function vn(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function er(T,R){if(Array.isArray(T)&&Array.isArray(R)){if(T.length!==R.length)return!1;const S=[...T].sort(),O=[...R].sort();return S.every((j,ne)=>O[ne]===j)}return T===R}function qt(T){return T.length>0?T[T.length-1]:null}function Mn(T){return function ee(T){return!!T&&(T instanceof E.c||(0,ie.T)(T.lift)&&(0,ie.T)(T.subscribe))}(T)?T:(0,_.jNT)(T)?(0,U.H)(Promise.resolve(T)):(0,Q.of)(T)}const ln={exact:function Qr(T,R,S){if(!tr(T.segments,R.segments)||!ts(T.segments,R.segments,S)||T.numberOfChildren!==R.numberOfChildren)return!1;for(const O in R.children)if(!T.children[O]||!Qr(T.children[O],R.children[O],S))return!1;return!0},subset:Pr},_r={exact:function qn(T,R){return Lt(T,R)},subset:function or(T,R){return Object.keys(R).length<=Object.keys(T).length&&Object.keys(R).every(S=>er(T[S],R[S]))},ignored:()=>!0};function Un(T,R,S){return ln[S.paths](T.root,R.root,S.matrixParams)&&_r[S.queryParams](T.queryParams,R.queryParams)&&!("exact"===S.fragment&&T.fragment!==R.fragment)}function Pr(T,R,S){return Rs(T,R,R.segments,S)}function Rs(T,R,S,O){if(T.segments.length>S.length){const j=T.segments.slice(0,S.length);return!(!tr(j,S)||R.hasChildren()||!ts(j,S,O))}if(T.segments.length===S.length){if(!tr(T.segments,S)||!ts(T.segments,S,O))return!1;for(const j in R.children)if(!T.children[j]||!Pr(T.children[j],R.children[j],O))return!1;return!0}{const j=S.slice(0,T.segments.length),ne=S.slice(T.segments.length);return!!(tr(T.segments,j)&&ts(T.segments,j,O)&&T.children[Ne])&&Rs(T.children[Ne],R,ne,O)}}function ts(T,R,S){return R.every((O,j)=>_r[S](T[j].parameters,O.parameters))}class Fr{root;queryParams;fragment;_queryParamMap;constructor(R=new Tn([],{}),S={},O=null){this.root=R,this.queryParams=S,this.fragment=O}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return qr.serialize(this)}}class Tn{segments;children;parent=null;constructor(R,S){this.segments=R,this.children=S,Object.values(S).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ii(this)}}class Xr{path;parameters;_parameterMap;constructor(R,S){this.path=R,this.parameters=S}get parameterMap(){return this._parameterMap??=Xe(this.parameters),this._parameterMap}toString(){return Er(this)}}function tr(T,R){return T.length===R.length&&T.every((S,O)=>S.path===R[O].path)}let Nr=(()=>{class T{static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:()=>new xs,providedIn:"root"})}return T})();class xs{parse(R){const S=new je(R);return new Fr(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(R){const S=`/${Yt(R.root,!0)}`,O=function kr(T){const R=Object.entries(T).map(([S,O])=>Array.isArray(O)?O.map(j=>`${dn(S)}=${dn(j)}`).join("&"):`${dn(S)}=${dn(O)}`).filter(S=>S);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${S}${O}${"string"==typeof R.fragment?`#${function Xs(T){return encodeURI(T)}(R.fragment)}`:""}`}}const qr=new xs;function Ii(T){return T.segments.map(R=>Er(R)).join("/")}function Yt(T,R){if(!T.hasChildren())return Ii(T);if(R){const S=T.children[Ne]?Yt(T.children[Ne],!1):"",O=[];return Object.entries(T.children).forEach(([j,ne])=>{j!==Ne&&O.push(`${j}:${Yt(ne,!1)}`)}),O.length>0?`${S}(${O.join("//")})`:S}{const S=function ns(T,R){let S=[];return Object.entries(T.children).forEach(([O,j])=>{O===Ne&&(S=S.concat(R(j,O)))}),Object.entries(T.children).forEach(([O,j])=>{O!==Ne&&(S=S.concat(R(j,O)))}),S}(T,(O,j)=>j===Ne?[Yt(T.children[Ne],!1)]:[`${j}:${Yt(O,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ne]?`${Ii(T)}/${S[0]}`:`${Ii(T)}/(${S.join("//")})`}}function ni(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(T){return ni(T).replace(/%3B/gi,";")}function zs(T){return ni(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yr(T){return decodeURIComponent(T)}function Ln(T){return Yr(T.replace(/\+/g,"%20"))}function Er(T){return`${zs(T.path)}${function Kn(T){return Object.entries(T).map(([R,S])=>`;${zs(R)}=${zs(S)}`).join("")}(T.parameters)}`}const jr=/^[^\/()?;#]+/;function An(T){const R=T.match(jr);return R?R[0]:""}const io=/^[^\/()?;=#]+/,Ps=/^[^=?&#]+/,we=/^[^&#]+/;class je{url;remaining;constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(R.length>0||Object.keys(S).length>0)&&(O[Ne]=new Tn(R,S)),O}parseSegment(){const R=An(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new _.wOt(4009,!1);return this.capture(R),new Xr(Yr(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const S=function Yn(T){const R=T.match(io);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let O="";if(this.consumeOptional("=")){const j=An(this.remaining);j&&(O=j,this.capture(O))}R[Yr(S)]=Yr(O)}parseQueryParam(R){const S=function Se(T){const R=T.match(Ps);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let O="";if(this.consumeOptional("=")){const ue=function Re(T){const R=T.match(we);return R?R[0]:""}(this.remaining);ue&&(O=ue,this.capture(O))}const j=Ln(S),ne=Ln(O);if(R.hasOwnProperty(j)){let ue=R[j];Array.isArray(ue)||(ue=[ue],R[j]=ue),ue.push(ne)}else R[j]=ne}parseParens(R){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=An(this.remaining),j=this.remaining[O.length];if("/"!==j&&")"!==j&&";"!==j)throw new _.wOt(4010,!1);let ne;O.indexOf(":")>-1?(ne=O.slice(0,O.indexOf(":")),this.capture(ne),this.capture(":")):R&&(ne=Ne);const ue=this.parseChildren();S[ne]=1===Object.keys(ue).length?ue[Ne]:new Tn([],ue),this.consumeOptional("//")}return S}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new _.wOt(4011,!1)}}function le(T){return T.segments.length>0?new Tn([],{[Ne]:T}):T}function De(T){const R={};for(const[O,j]of Object.entries(T.children)){const ne=De(j);if(O===Ne&&0===ne.segments.length&&ne.hasChildren())for(const[ue,nt]of Object.entries(ne.children))R[ue]=nt;else(ne.segments.length>0||ne.hasChildren())&&(R[O]=ne)}return function oe(T){if(1===T.numberOfChildren&&T.children[Ne]){const R=T.children[Ne];return new Tn(T.segments.concat(R.segments),R.children)}return T}(new Tn(T.segments,R))}function me(T){return T instanceof Fr}function pt(T){let R;const j=le(function S(ne){const ue={};for(const Be of ne.children){const Nt=S(Be);ue[Be.outlet]=Nt}const nt=new Tn(ne.url,ue);return ne===T&&(R=nt),nt}(T.root));return R??j}function Gt(T,R,S,O){let j=T;for(;j.parent;)j=j.parent;if(0===R.length)return nr(j,j,j,S,O);const ne=function et(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Ti(!0,0,T);let R=0,S=!1;const O=T.reduce((j,ne,ue)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const nt={};return Object.entries(ne.outlets).forEach(([Be,Nt])=>{nt[Be]="string"==typeof Nt?Nt.split("/"):Nt}),[...j,{outlets:nt}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===ue?(ne.split("/").forEach((nt,Be)=>{0==Be&&"."===nt||(0==Be&&""===nt?S=!0:".."===nt?R++:""!=nt&&j.push(nt))}),j):[...j,ne]},[]);return new Ti(S,R,O)}(R);if(ne.toRoot())return nr(j,j,new Tn([],{}),S,O);const ue=function gt(T,R,S){if(T.isAbsolute)return new Ve(R,!0,0);if(!S)return new Ve(R,!1,NaN);if(null===S.parent)return new Ve(S,!0,0);const O=Ut(T.commands[0])?0:1;return function dt(T,R,S){let O=T,j=R,ne=S;for(;ne>j;){if(ne-=j,O=O.parent,!O)throw new _.wOt(4005,!1);j=O.segments.length}return new Ve(O,!1,j-ne)}(S,S.segments.length-1+O,T.numberOfDoubleDots)}(ne,j,T),nt=ue.processChildren?Sn(ue.segmentGroup,ue.index,ne.commands):cn(ue.segmentGroup,ue.index,ne.commands);return nr(j,ue.segmentGroup,nt,S,O)}function Ut(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Dn(T){return"object"==typeof T&&null!=T&&T.outlets}function nr(T,R,S,O,j){let ue,ne={};O&&Object.entries(O).forEach(([Be,Nt])=>{ne[Be]=Array.isArray(Nt)?Nt.map(Rn=>`${Rn}`):`${Nt}`}),ue=T===R?S:ar(T,R,S);const nt=le(De(ue));return new Fr(nt,ne,j)}function ar(T,R,S){const O={};return Object.entries(T.children).forEach(([j,ne])=>{O[j]=ne===R?S:ar(ne,R,S)}),new Tn(T.segments,O)}class Ti{isAbsolute;numberOfDoubleDots;commands;constructor(R,S,O){if(this.isAbsolute=R,this.numberOfDoubleDots=S,this.commands=O,R&&O.length>0&&Ut(O[0]))throw new _.wOt(4003,!1);const j=O.find(Dn);if(j&&j!==qt(O))throw new _.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ve{segmentGroup;processChildren;index;constructor(R,S,O){this.segmentGroup=R,this.processChildren=S,this.index=O}}function cn(T,R,S){if(T??=new Tn([],{}),0===T.segments.length&&T.hasChildren())return Sn(T,R,S);const O=function Lr(T,R,S){let O=0,j=R;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<T.segments.length;){if(O>=S.length)return ne;const ue=T.segments[j],nt=S[O];if(Dn(nt))break;const Be=`${nt}`,Nt=O<S.length-1?S[O+1]:null;if(j>0&&void 0===Be)break;if(Be&&Nt&&"object"==typeof Nt&&void 0===Nt.outlets){if(!yi(Be,Nt,ue))return ne;O+=2}else{if(!yi(Be,{},ue))return ne;O++}j++}return{match:!0,pathIndex:j,commandIndex:O}}(T,R,S),j=S.slice(O.commandIndex);if(O.match&&O.pathIndex<T.segments.length){const ne=new Tn(T.segments.slice(0,O.pathIndex),{});return ne.children[Ne]=new Tn(T.segments.slice(O.pathIndex),T.children),Sn(ne,0,j)}return O.match&&0===j.length?new Tn(T.segments,{}):O.match&&!T.hasChildren()?Ir(T,R,S):O.match?Sn(T,0,j):Ir(T,R,S)}function Sn(T,R,S){if(0===S.length)return new Tn(T.segments,{});{const O=function fn(T){return Dn(T[0])?T[0].outlets:{[Ne]:T}}(S),j={};if(Object.keys(O).some(ne=>ne!==Ne)&&T.children[Ne]&&1===T.numberOfChildren&&0===T.children[Ne].segments.length){const ne=Sn(T.children[Ne],R,S);return new Tn(T.segments,ne.children)}return Object.entries(O).forEach(([ne,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(j[ne]=cn(T.children[ne],R,ue))}),Object.entries(T.children).forEach(([ne,ue])=>{void 0===O[ne]&&(j[ne]=ue)}),new Tn(T.segments,j)}}function Ir(T,R,S){const O=T.segments.slice(0,R);let j=0;for(;j<S.length;){const ne=S[j];if(Dn(ne)){const Be=Cn(ne.outlets);return new Tn(O,Be)}if(0===j&&Ut(S[0])){O.push(new Xr(T.segments[R].path,Ki(S[0]))),j++;continue}const ue=Dn(ne)?ne.outlets[Ne]:`${ne}`,nt=j<S.length-1?S[j+1]:null;ue&&nt&&Ut(nt)?(O.push(new Xr(ue,Ki(nt))),j+=2):(O.push(new Xr(ue,{})),j++)}return new Tn(O,{})}function Cn(T){const R={};return Object.entries(T).forEach(([S,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(R[S]=Ir(new Tn([],{}),0,O))}),R}function Ki(T){const R={};return Object.entries(T).forEach(([S,O])=>R[S]=`${O}`),R}function yi(T,R,S){return T==S.path&&Lt(R,S.parameters)}const Rr="imperative";var an=function(T){return T[T.NavigationStart=0]="NavigationStart",T[T.NavigationEnd=1]="NavigationEnd",T[T.NavigationCancel=2]="NavigationCancel",T[T.NavigationError=3]="NavigationError",T[T.RoutesRecognized=4]="RoutesRecognized",T[T.ResolveStart=5]="ResolveStart",T[T.ResolveEnd=6]="ResolveEnd",T[T.GuardsCheckStart=7]="GuardsCheckStart",T[T.GuardsCheckEnd=8]="GuardsCheckEnd",T[T.RouteConfigLoadStart=9]="RouteConfigLoadStart",T[T.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",T[T.ChildActivationStart=11]="ChildActivationStart",T[T.ChildActivationEnd=12]="ChildActivationEnd",T[T.ActivationStart=13]="ActivationStart",T[T.ActivationEnd=14]="ActivationEnd",T[T.Scroll=15]="Scroll",T[T.NavigationSkipped=16]="NavigationSkipped",T}(an||{});class fs{id;url;constructor(R,S){this.id=R,this.url=S}}class zi extends fs{type=an.NavigationStart;navigationTrigger;restoredState;constructor(R,S,O="imperative",j=null){super(R,S),this.navigationTrigger=O,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ps extends fs{urlAfterRedirects;type=an.NavigationEnd;constructor(R,S,O){super(R,S),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var wr=function(T){return T[T.Redirect=0]="Redirect",T[T.SupersededByNewNavigation=1]="SupersededByNewNavigation",T[T.NoDataFromResolver=2]="NoDataFromResolver",T[T.GuardRejected=3]="GuardRejected",T}(wr||{}),_o=function(T){return T[T.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",T[T.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",T}(_o||{});class oo extends fs{reason;code;type=an.NavigationCancel;constructor(R,S,O,j){super(R,S),this.reason=O,this.code=j}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ci extends fs{reason;code;type=an.NavigationSkipped;constructor(R,S,O,j){super(R,S),this.reason=O,this.code=j}}class Zt extends fs{error;target;type=an.NavigationError;constructor(R,S,O,j){super(R,S),this.error=O,this.target=j}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ao extends fs{urlAfterRedirects;state;type=an.RoutesRecognized;constructor(R,S,O,j){super(R,S),this.urlAfterRedirects=O,this.state=j}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends fs{urlAfterRedirects;state;type=an.GuardsCheckStart;constructor(R,S,O,j){super(R,S),this.urlAfterRedirects=O,this.state=j}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends fs{urlAfterRedirects;state;shouldActivate;type=an.GuardsCheckEnd;constructor(R,S,O,j,ne){super(R,S),this.urlAfterRedirects=O,this.state=j,this.shouldActivate=ne}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eo extends fs{urlAfterRedirects;state;type=an.ResolveStart;constructor(R,S,O,j){super(R,S),this.urlAfterRedirects=O,this.state=j}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ta extends fs{urlAfterRedirects;state;type=an.ResolveEnd;constructor(R,S,O,j){super(R,S),this.urlAfterRedirects=O,this.state=j}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi{route;type=an.RouteConfigLoadStart;constructor(R){this.route=R}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class re{route;type=an.RouteConfigLoadEnd;constructor(R){this.route=R}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ee{snapshot;type=an.ChildActivationStart;constructor(R){this.snapshot=R}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{snapshot;type=an.ChildActivationEnd;constructor(R){this.snapshot=R}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{snapshot;type=an.ActivationStart;constructor(R){this.snapshot=R}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{snapshot;type=an.ActivationEnd;constructor(R){this.snapshot=R}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ct{routerEvent;position;anchor;type=an.Scroll;constructor(R,S,O){this.routerEvent=R,this.position=S,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bt{}class rn{url;navigationBehaviorOptions;constructor(R,S){this.url=R,this.navigationBehaviorOptions=S}}function hn(T){return T.outlet||Ne}function Fs(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let R=T.parent;R;R=R.parent){const S=R.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class En{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fs(this.route?.snapshot)??this.rootInjector}constructor(R){this.rootInjector=R,this.children=new ks(this.rootInjector)}}let ks=(()=>{class T{rootInjector;contexts=new Map;constructor(S){this.rootInjector=S}onChildOutletCreated(S,O){const j=this.getOrCreateContext(S);j.outlet=O,this.contexts.set(S,j)}onChildOutletDestroyed(S){const O=this.getContext(S);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let O=this.getContext(S);return O||(O=new En(this.rootInjector),this.contexts.set(S,O)),O}getContext(S){return this.contexts.get(S)||null}static \u0275fac=function(O){return new(O||T)(_.KVO(_.uvJ))};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class zn{_root;constructor(R){this._root=R}get root(){return this._root.value}parent(R){const S=this.pathFromRoot(R);return S.length>1?S[S.length-2]:null}children(R){const S=Zr(R,this._root);return S?S.children.map(O=>O.value):[]}firstChild(R){const S=Zr(R,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(R){const S=Si(R,this._root);return S.length<2?[]:S[S.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return Si(R,this._root).map(S=>S.value)}}function Zr(T,R){if(T===R.value)return R;for(const S of R.children){const O=Zr(T,S);if(O)return O}return null}function Si(T,R){if(T===R.value)return[R];for(const S of R.children){const O=Si(T,S);if(O.length)return O.unshift(R),O}return[]}class ri{value;children;constructor(R,S){this.value=R,this.children=S}toString(){return`TreeNode(${this.value})`}}function ea(T){const R={};return T&&T.children.forEach(S=>R[S.value.outlet]=S),R}class wo extends zn{snapshot;constructor(R,S){super(R),this.snapshot=S,lo(this,R)}toString(){return this.snapshot.toString()}}function ta(T){const R=function Xi(T){const ne=new Uo([],{},{},"",{},Ne,T,null,{});return new di("",new ri(ne,[]))}(T),S=new X.t([new Xr("",{})]),O=new X.t({}),j=new X.t({}),ne=new X.t({}),ue=new X.t(""),nt=new Ao(S,O,ne,ue,j,Ne,T,R.root);return nt.snapshot=R.root,new wo(new ri(nt,[]),R)}class Ao{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(R,S,O,j,ne,ue,nt,Be){this.urlSubject=R,this.paramsSubject=S,this.queryParamsSubject=O,this.fragmentSubject=j,this.dataSubject=ne,this.outlet=ue,this.component=nt,this._futureSnapshot=Be,this.title=this.dataSubject?.pipe((0,mt.T)(Nt=>Nt[Qe]))??(0,Q.of)(void 0),this.url=R,this.params=S,this.queryParams=O,this.fragment=j,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,mt.T)(R=>Xe(R))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,mt.T)(R=>Xe(R))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function na(T,R,S="emptyOnly"){let O;const{routeConfig:j}=T;return O=null===R||"always"!==S&&""!==j?.path&&(R.component||R.routeConfig?.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...T._resolvedData??{}}}:{params:{...R.params,...T.params},data:{...R.data,...T.data},resolve:{...T.data,...R.data,...j?.data,...T._resolvedData}},j&&qs(j)&&(O.resolve[Qe]=j.title),O}class Uo{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Qe]}constructor(R,S,O,j,ne,ue,nt,Be,Nt){this.url=R,this.params=S,this.queryParams=O,this.fragment=j,this.data=ne,this.outlet=ue,this.component=nt,this.routeConfig=Be,this._resolve=Nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class di extends zn{url;constructor(R,S){super(S),this.url=R,lo(this,S)}toString(){return Dl(this._root)}}function lo(T,R){R.value._routerState=T,R.children.forEach(S=>lo(T,S))}function Dl(T){const R=T.children.length>0?` { ${T.children.map(Dl).join(", ")} } `:"";return`${T.value}${R}`}function ki(T){if(T.snapshot){const R=T.snapshot,S=T._futureSnapshot;T.snapshot=S,Lt(R.queryParams,S.queryParams)||T.queryParamsSubject.next(S.queryParams),R.fragment!==S.fragment&&T.fragmentSubject.next(S.fragment),Lt(R.params,S.params)||T.paramsSubject.next(S.params),function vt(T,R){if(T.length!==R.length)return!1;for(let S=0;S<T.length;++S)if(!Lt(T[S],R[S]))return!1;return!0}(R.url,S.url)||T.urlSubject.next(S.url),Lt(R.data,S.data)||T.dataSubject.next(S.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function ra(T,R){const S=Lt(T.params,R.params)&&function At(T,R){return tr(T,R)&&T.every((S,O)=>Lt(S.parameters,R[O].parameters))}(T.url,R.url);return S&&!(!T.parent!=!R.parent)&&(!T.parent||ra(T.parent,R.parent))}function qs(T){return"string"==typeof T.title||null===T.title}const sc=new _.nKC("");let Ht=(()=>{class T{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ne;activateEvents=new _.bkB;deactivateEvents=new _.bkB;attachEvents=new _.bkB;detachEvents=new _.bkB;routerOutletData=(0,_.hFB)(void 0);parentContexts=(0,_.WQX)(ks);location=(0,_.WQX)(_.c1b);changeDetector=(0,_.WQX)(_.gRc);inputBinder=(0,_.WQX)(Bo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(S){if(S.name){const{firstChange:O,previousValue:j}=S.name;if(O)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,O){this.activated=S,this._activatedRoute=O,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,O){if(this.isActivated)throw new _.wOt(4013,!1);this._activatedRoute=S;const j=this.location,ue=S.snapshot.component,nt=this.parentContexts.getOrCreateContext(this.name).children,Be=new Do(S,nt,j.injector,this.routerOutletData);this.activated=j.createComponent(ue,{index:j.length,injector:Be,environmentInjector:O}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(O){return new(O||T)};static \u0275dir=_.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_.OA$]})}return T})();class Do{route;childContexts;parent;outletData;__ngOutletInjector(R){return new Do(this.route,this.childContexts,R,this.outletData)}constructor(R,S,O,j){this.route=R,this.childContexts=S,this.parent=O,this.outletData=j}get(R,S){return R===Ao?this.route:R===ks?this.childContexts:R===sc?this.outletData:this.parent.get(R,S)}}const Bo=new _.nKC("");let qi=(()=>{class T{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){this.outletDataSubscriptions.get(S)?.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:O}=S,j=(0,W.z)([O.queryParams,O.params,O.data]).pipe((0,Et.n)(([ne,ue,nt],Be)=>(nt={...ne,...ue,...nt},0===Be?(0,Q.of)(nt):Promise.resolve(nt)))).subscribe(ne=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(S);const ue=(0,_.HJs)(O.component);if(ue)for(const{templateName:nt}of ue.inputs)S.activatedComponentRef.setInput(nt,ne[nt]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,j)}static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac})}return T})();function Co(T,R,S){if(S&&T.shouldReuseRoute(R.value,S.value.snapshot)){const O=S.value;O._futureSnapshot=R.value;const j=function Uc(T,R,S){return R.children.map(O=>{for(const j of S.children)if(T.shouldReuseRoute(O.value,j.value.snapshot))return Co(T,O,j);return Co(T,O)})}(T,R,S);return new ri(O,j)}{if(T.shouldAttach(R.value)){const ne=T.retrieve(R.value);if(null!==ne){const ue=ne.route;return ue.value._futureSnapshot=R.value,ue.children=R.children.map(nt=>Co(T,nt)),ue}}const O=function sa(T){return new Ao(new X.t(T.url),new X.t(T.params),new X.t(T.queryParams),new X.t(T.fragment),new X.t(T.data),T.outlet,T.component,T)}(R.value),j=R.children.map(ne=>Co(T,ne));return new ri(O,j)}}class jo{redirectTo;navigationBehaviorOptions;constructor(R,S){this.redirectTo=R,this.navigationBehaviorOptions=S}}const ic="ngNavigationCancelingError";function us(T,R){const{redirectTo:S,navigationBehaviorOptions:O}=me(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=Li(!1,wr.Redirect);return j.url=S,j.navigationBehaviorOptions=O,j}function Li(T,R){const S=new Error(`NavigationCancelingError: ${T||""}`);return S[ic]=!0,S.cancellationCode=R,S}function Io(T){return!!T&&T[ic]}class Ka{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(R,S,O,j,ne){this.routeReuseStrategy=R,this.futureState=S,this.currState=O,this.forwardEvent=j,this.inputBindingEnabled=ne}activate(R){const S=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,O,R),ki(this.futureState.root),this.activateChildRoutes(S,O,R)}deactivateChildRoutes(R,S,O){const j=ea(S);R.children.forEach(ne=>{const ue=ne.value.outlet;this.deactivateRoutes(ne,j[ue],O),delete j[ue]}),Object.values(j).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,O)})}deactivateRoutes(R,S,O){const j=R.value,ne=S?S.value:null;if(j===ne)if(j.component){const ue=O.getContext(j.outlet);ue&&this.deactivateChildRoutes(R,S,ue.children)}else this.deactivateChildRoutes(R,S,O);else ne&&this.deactivateRouteAndItsChildren(S,O)}deactivateRouteAndItsChildren(R,S){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,S):this.deactivateRouteAndOutlet(R,S)}detachAndStoreRouteSubtree(R,S){const O=S.getContext(R.value.outlet),j=O&&R.value.component?O.children:S,ne=ea(R);for(const ue of Object.values(ne))this.deactivateRouteAndItsChildren(ue,j);if(O&&O.outlet){const ue=O.outlet.detach(),nt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:ue,route:R,contexts:nt})}}deactivateRouteAndOutlet(R,S){const O=S.getContext(R.value.outlet),j=O&&R.value.component?O.children:S,ne=ea(R);for(const ue of Object.values(ne))this.deactivateRouteAndItsChildren(ue,j);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(R,S,O){const j=ea(S);R.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],O),this.forwardEvent(new wt(ne.value.snapshot))}),R.children.length&&this.forwardEvent(new fe(R.value.snapshot))}activateRoutes(R,S,O){const j=R.value,ne=S?S.value:null;if(ki(j),j===ne)if(j.component){const ue=O.getOrCreateContext(j.outlet);this.activateChildRoutes(R,S,ue.children)}else this.activateChildRoutes(R,S,O);else if(j.component){const ue=O.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const nt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ue.children.onOutletReAttached(nt.contexts),ue.attachRef=nt.componentRef,ue.route=nt.route.value,ue.outlet&&ue.outlet.attach(nt.componentRef,nt.route.value),ki(nt.route.value),this.activateChildRoutes(R,null,ue.children)}else ue.attachRef=null,ue.route=j,ue.outlet&&ue.outlet.activateWith(j,ue.injector),this.activateChildRoutes(R,null,ue.children)}else this.activateChildRoutes(R,null,O)}}class No{path;route;constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class bi{component;route;constructor(R,S){this.component=R,this.route=S}}function ia(T,R,S){const O=T._root;return za(O,R?R._root:null,S,[O.value])}function So(T,R){const S=Symbol(),O=R.get(T,S);return O===S?"function"!=typeof T||(0,_.LfX)(T)?R.get(T):T:O}function za(T,R,S,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=ea(R);return T.children.forEach(ue=>{(function fi(T,R,S,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,ue=R?R.value:null,nt=S?S.getContext(T.value.outlet):null;if(ue&&ne.routeConfig===ue.routeConfig){const Be=function Mi(T,R,S){if("function"==typeof S)return S(T,R);switch(S){case"pathParamsChange":return!tr(T.url,R.url);case"pathParamsOrQueryParamsChange":return!tr(T.url,R.url)||!Lt(T.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ra(T,R)||!Lt(T.queryParams,R.queryParams);default:return!ra(T,R)}}(ue,ne,ne.routeConfig.runGuardsAndResolvers);Be?j.canActivateChecks.push(new No(O)):(ne.data=ue.data,ne._resolvedData=ue._resolvedData),za(T,R,ne.component?nt?nt.children:null:S,O,j),Be&&nt&&nt.outlet&&nt.outlet.isActivated&&j.canDeactivateChecks.push(new bi(nt.outlet.component,ue))}else ue&&Ys(R,nt,j),j.canActivateChecks.push(new No(O)),za(T,null,ne.component?nt?nt.children:null:S,O,j)})(ue,ne[ue.value.outlet],S,O.concat([ue.value]),j),delete ne[ue.value.outlet]}),Object.entries(ne).forEach(([ue,nt])=>Ys(nt,S.getContext(ue),j)),j}function Ys(T,R,S){const O=ea(T),j=T.value;Object.entries(O).forEach(([ne,ue])=>{Ys(ue,j.component?R?R.children.getContext(ne):null:R,S)}),S.canDeactivateChecks.push(new bi(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function Ga(T){return"function"==typeof T}function qa(T){return T instanceof ae.G||"EmptyError"===T?.name}const gs=Symbol("INITIAL_VALUE");function pn(){return(0,Et.n)(T=>(0,W.z)(T.map(R=>R.pipe((0,rt.s)(1),(0,tt.Z)(gs)))).pipe((0,mt.T)(R=>{for(const S of R)if(!0!==S){if(S===gs)return gs;if(!1===S||ms(S))return S}return!0}),(0,Ot.p)(R=>R!==gs),(0,rt.s)(1)))}function ms(T){return me(T)||T instanceof jo}function Ie(T){return(0,ye.F)((0,Wt.M)(R=>{if("boolean"!=typeof R)throw us(0,R)}),(0,mt.T)(R=>!0===R))}class Nn{segmentGroup;constructor(R){this.segmentGroup=R||null}}class vi extends Error{urlTree;constructor(R){super(),this.urlTree=R}}function Vi(T){return(0,Fe.$)(new Nn(T))}class Sa{urlSerializer;urlTree;constructor(R,S){this.urlSerializer=R,this.urlTree=S}lineralizeSegments(R,S){let O=[],j=S.root;for(;;){if(O=O.concat(j.segments),0===j.numberOfChildren)return(0,Q.of)(O);if(j.numberOfChildren>1||!j.children[Ne])return(0,Fe.$)(new _.wOt(4e3,!1));j=j.children[Ne]}}applyRedirectCommands(R,S,O,j,ne){if("string"!=typeof S){const nt=S,{queryParams:Be,fragment:Nt,routeConfig:Rn,url:bn,outlet:Vr,params:Bs,data:fo,title:Na}=j,zo=(0,_.N4e)(ne,()=>nt({params:Bs,data:fo,queryParams:Be,fragment:Nt,routeConfig:Rn,url:bn,outlet:Vr,title:Na}));if(zo instanceof Fr)throw new vi(zo);S=zo}const ue=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),R,O);if("/"===S[0])throw new vi(ue);return ue}applyRedirectCreateUrlTree(R,S,O,j){const ne=this.createSegmentGroup(R,S.root,O,j);return new Fr(ne,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(R,S){const O={};return Object.entries(R).forEach(([j,ne])=>{if("string"==typeof ne&&":"===ne[0]){const nt=ne.substring(1);O[j]=S[nt]}else O[j]=ne}),O}createSegmentGroup(R,S,O,j){const ne=this.createSegments(R,S.segments,O,j);let ue={};return Object.entries(S.children).forEach(([nt,Be])=>{ue[nt]=this.createSegmentGroup(R,Be,O,j)}),new Tn(ne,ue)}createSegments(R,S,O,j){return S.map(ne=>":"===ne.path[0]?this.findPosParam(R,ne,j):this.findOrReturn(ne,O))}findPosParam(R,S,O){const j=O[S.path.substring(1)];if(!j)throw new _.wOt(4001,!1);return j}findOrReturn(R,S){let O=0;for(const j of S){if(j.path===R.path)return S.splice(O),j;O++}return R}}const bu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mu(T,R,S,O,j){const ne=ii(T,R,S);return ne.matched?(O=function ze(T,R){return T.providers&&!T._injector&&(T._injector=(0,_.Ol2)(T.providers,R,`Route: ${T.path}`)),T._injector??R}(R,O),function Qt(T,R,S,O){const j=R.canMatch;if(!j||0===j.length)return(0,Q.of)(!0);const ne=j.map(ue=>{const nt=So(ue,T);return Mn(function Xa(T){return T&&Ga(T.canMatch)}(nt)?nt.canMatch(R,S):(0,_.N4e)(T,()=>nt(R,S)))});return(0,Q.of)(ne).pipe(pn(),Ie())}(O,R,S).pipe((0,mt.T)(ue=>!0===ue?ne:{...bu}))):(0,Q.of)(ne)}function ii(T,R,S){if("**"===R.path)return function ds(T){return{matched:!0,parameters:T.length>0?qt(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}(S);if(""===R.path)return"full"===R.pathMatch&&(T.hasChildren()||S.length>0)?{...bu}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const j=(R.matcher||Dt)(S,T,R);if(!j)return{...bu};const ne={};Object.entries(j.posParams??{}).forEach(([nt,Be])=>{ne[nt]=Be.path});const ue=j.consumed.length>0?{...ne,...j.consumed[j.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:j.consumed,remainingSegments:S.slice(j.consumed.length),parameters:ue,positionalParamSegments:j.posParams??{}}}function Wo(T,R,S,O){return S.length>0&&function Oi(T,R,S){return S.some(O=>uo(T,R,O)&&hn(O)!==Ne)}(T,S,O)?{segmentGroup:new Tn(R,ba(O,new Tn(S,T.children))),slicedSegments:[]}:0===S.length&&function co(T,R,S){return S.some(O=>uo(T,R,O))}(T,S,O)?{segmentGroup:new Tn(T.segments,Cl(T,S,O,T.children)),slicedSegments:S}:{segmentGroup:new Tn(T.segments,T.children),slicedSegments:S}}function Cl(T,R,S,O){const j={};for(const ne of S)if(uo(T,R,ne)&&!O[hn(ne)]){const ue=new Tn([],{});j[hn(ne)]=ue}return{...O,...j}}function ba(T,R){const S={};S[Ne]=R;for(const O of T)if(""===O.path&&hn(O)!==Ne){const j=new Tn([],{});S[hn(O)]=j}return S}function uo(T,R,S){return(!(T.hasChildren()||R.length>0)||"full"!==S.pathMatch)&&""===S.path}class Nd{}class aa{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(R,S,O,j,ne,ue,nt){this.injector=R,this.configLoader=S,this.rootComponentType=O,this.config=j,this.urlTree=ne,this.paramsInheritanceStrategy=ue,this.urlSerializer=nt,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree)}noMatchError(R){return new _.wOt(4002,`'${R.segmentGroup}'`)}recognize(){const R=Wo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(R).pipe((0,mt.T)(({children:S,rootSnapshot:O})=>{const j=new ri(O,S),ne=new di("",j),ue=function Je(T,R,S=null,O=null){return Gt(pt(T),R,S,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(ue),{state:ne,tree:ue}}))}match(R){const S=new Uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,R,Ne,S).pipe((0,mt.T)(O=>({children:O,rootSnapshot:S})),(0,wn.W)(O=>{if(O instanceof vi)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof Nn?this.noMatchError(O):O}))}processSegmentGroup(R,S,O,j,ne){return 0===O.segments.length&&O.hasChildren()?this.processChildren(R,S,O,ne):this.processSegment(R,S,O,O.segments,j,!0,ne).pipe((0,mt.T)(ue=>ue instanceof ri?[ue]:[]))}processChildren(R,S,O,j){const ne=[];for(const ue of Object.keys(O.children))"primary"===ue?ne.unshift(ue):ne.push(ue);return(0,U.H)(ne).pipe((0,Vt.H)(ue=>{const nt=O.children[ue],Be=function On(T,R){const S=T.filter(O=>hn(O)===R);return S.push(...T.filter(O=>hn(O)!==R)),S}(S,ue);return this.processSegmentGroup(R,Be,nt,ue,j)}),(0,ut.S)((ue,nt)=>(ue.push(...nt),ue)),(0,Ge.U)(null),(0,Ft.H)(),(0,Mt.Z)(ue=>{if(null===ue)return Vi(O);const nt=Ls(ue);return function Il(T){T.sort((R,S)=>R.value.outlet===Ne?-1:S.value.outlet===Ne?1:R.value.outlet.localeCompare(S.value.outlet))}(nt),(0,Q.of)(nt)}))}processSegment(R,S,O,j,ne,ue,nt){return(0,U.H)(S).pipe((0,Vt.H)(Be=>this.processSegmentAgainstRoute(Be._injector??R,S,Be,O,j,ne,ue,nt).pipe((0,wn.W)(Nt=>{if(Nt instanceof Nn)return(0,Q.of)(null);throw Nt}))),(0,jt.$)(Be=>!!Be),(0,wn.W)(Be=>{if(qa(Be))return function Bn(T,R,S){return 0===R.length&&!T.children[S]}(O,j,ne)?(0,Q.of)(new Nd):Vi(O);throw Be}))}processSegmentAgainstRoute(R,S,O,j,ne,ue,nt,Be){return hn(O)===ue||ue!==Ne&&uo(j,ne,O)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(R,j,O,ne,ue,Be):this.allowRedirects&&nt?this.expandSegmentAgainstRouteUsingRedirect(R,j,S,O,ne,ue,Be):Vi(j):Vi(j)}expandSegmentAgainstRouteUsingRedirect(R,S,O,j,ne,ue,nt){const{matched:Be,parameters:Nt,consumedSegments:Rn,positionalParamSegments:bn,remainingSegments:Vr}=ii(S,j,ne);if(!Be)return Vi(S);"string"==typeof j.redirectTo&&"/"===j.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Bs=new Uo(ne,Nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(j),hn(j),j.component??j._loadedComponent??null,j,oi(j)),fo=na(Bs,nt,this.paramsInheritanceStrategy);Bs.params=Object.freeze(fo.params),Bs.data=Object.freeze(fo.data);const Na=this.applyRedirects.applyRedirectCommands(Rn,j.redirectTo,bn,Bs,R);return this.applyRedirects.lineralizeSegments(j,Na).pipe((0,Mt.Z)(zo=>this.processSegment(R,O,S,zo.concat(Vr),ue,!1,nt)))}matchSegmentAgainstRoute(R,S,O,j,ne,ue){const nt=Mu(S,O,j,R);return"**"===O.path&&(S.children={}),nt.pipe((0,Et.n)(Be=>Be.matched?this.getChildConfig(R=O._injector??R,O,j).pipe((0,Et.n)(({routes:Nt})=>{const Rn=O._loadedInjector??R,{parameters:bn,consumedSegments:Vr,remainingSegments:Bs}=Be,fo=new Uo(Vr,bn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(O),hn(O),O.component??O._loadedComponent??null,O,oi(O)),Na=na(fo,ue,this.paramsInheritanceStrategy);fo.params=Object.freeze(Na.params),fo.data=Object.freeze(Na.data);const{segmentGroup:zo,slicedSegments:Ri}=Wo(S,Vr,Bs,Nt);if(0===Ri.length&&zo.hasChildren())return this.processChildren(Rn,Nt,zo,fo).pipe((0,mt.T)($c=>new ri(fo,$c)));if(0===Nt.length&&0===Ri.length)return(0,Q.of)(new ri(fo,[]));const sp=hn(O)===ne;return this.processSegment(Rn,Nt,zo,Ri,sp?Ne:ne,!0,fo).pipe((0,mt.T)($c=>new ri(fo,$c instanceof ri?[$c]:[])))})):Vi(S)))}getChildConfig(R,S,O){return S.children?(0,Q.of)({routes:S.children,injector:R}):S.loadChildren?void 0!==S._loadedRoutes?(0,Q.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function J(T,R,S,O){const j=R.canLoad;if(void 0===j||0===j.length)return(0,Q.of)(!0);const ne=j.map(ue=>{const nt=So(ue,T);return Mn(function Ai(T){return T&&Ga(T.canLoad)}(nt)?nt.canLoad(R,S):(0,_.N4e)(T,()=>nt(R,S)))});return(0,Q.of)(ne).pipe(pn(),Ie())}(R,S,O).pipe((0,Mt.Z)(j=>j?this.configLoader.loadChildren(R,S).pipe((0,Wt.M)(ne=>{S._loadedRoutes=ne.routes,S._loadedInjector=ne.injector})):function Za(){return(0,Fe.$)(Li(!1,wr.GuardRejected))}())):(0,Q.of)({routes:[],injector:R})}}function lr(T){const R=T.value.routeConfig;return R&&""===R.path}function Ls(T){const R=[],S=new Set;for(const O of T){if(!lr(O)){R.push(O);continue}const j=R.find(ne=>O.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...O.children),S.add(j)):R.push(O)}for(const O of S){const j=Ls(O.children);R.push(new ri(O.value,j))}return R.filter(O=>!S.has(O))}function la(T){return T.data||{}}function oi(T){return T.resolve||{}}function ca(T){const R=T.children.map(S=>ca(S)).flat();return[T,...R]}function ua(T){return(0,Et.n)(R=>{const S=T(R);return S?(0,U.H)(S).pipe((0,mt.T)(()=>R)):(0,Q.of)(R)})}let Au=(()=>{class T{buildTitle(S){let O,j=S.root;for(;void 0!==j;)O=this.getResolvedTitleForRoute(j)??O,j=j.children.find(ne=>ne.outlet===Ne);return O}getResolvedTitleForRoute(S){return S.data[Qe]}static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(Jf),providedIn:"root"})}return T})(),Jf=(()=>{class T extends Au{title;constructor(S){super(),this.title=S}updateTitle(S){const O=this.buildTitle(S);void 0!==O&&this.title.setTitle(O)}static \u0275fac=function(O){return new(O||T)(_.KVO(Gr.hE))};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Oa=new _.nKC("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class T{static \u0275fac=function(O){return new(O||T)};static \u0275cmp=_.VBU({type:T,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(O,j){1&O&&_.nrm(0,"router-outlet")},dependencies:[Ht],encapsulation:2})}return T})();function el(T){const R=T.children&&T.children.map(el),S=R?{...T,children:R}:{...T};return!S.component&&!S.loadComponent&&(R||S.loadChildren)&&S.outlet&&S.outlet!==Ne&&(S.component=Ou),S}const yr=new _.nKC("");let St=(()=>{class T{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,_.WQX)(_.Ql9);loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,Q.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const O=Mn(S.loadComponent()).pipe((0,mt.T)(Ni),(0,Wt.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=ne}),(0,jn.j)(()=>{this.componentLoaders.delete(S)})),j=new Te.G(O,()=>new _e.B).pipe((0,Or.B)());return this.componentLoaders.set(S,j),j}loadChildren(S,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,Q.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ne=function sn(T,R,S,O){return Mn(T.loadChildren()).pipe((0,mt.T)(Ni),(0,Mt.Z)(j=>j instanceof _.Co$||Array.isArray(j)?(0,Q.of)(j):(0,U.H)(R.compileModuleAsync(j))),(0,mt.T)(j=>{O&&O(T);let ne,ue,nt=!1;return Array.isArray(j)?(ue=j,!0):(ne=j.create(S).injector,ue=ne.get(yr,[],{optional:!0,self:!0}).flat()),{routes:ue.map(el),injector:ne}}))}(O,this.compiler,S,this.onLoadEndListener).pipe((0,jn.j)(()=>{this.childrenLoaders.delete(O)})),ue=new Te.G(ne,()=>new _e.B).pipe((0,Or.B)());return this.childrenLoaders.set(O,ue),ue}static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Ni(T){return function Vs(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let hs=(()=>{class T{static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(Ui),providedIn:"root"})}return T})(),Ui=(()=>{class T{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,O){return S}static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const rs=new _.nKC(""),cr=new _.nKC("");function Zn(T,R,S){const O=T.get(cr),j=T.get(Le.DOCUMENT);return T.get(_.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,new Promise(Nt=>setTimeout(Nt));let ne;const ue=new Promise(Nt=>{ne=Nt}),nt=j.startViewTransition(()=>(ne(),function Bi(T){return new Promise(R=>{(0,_.mal)({read:()=>setTimeout(R)},{injector:T})})}(T))),{onViewTransitionCreated:Be}=O;return Be&&(0,_.N4e)(T,()=>Be({transition:nt,from:R,to:S})),ue})}const mn=new _.nKC("");let It=(()=>{class T{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _e.B;transitionAbortSubject=new _e.B;configLoader=(0,_.WQX)(St);environmentInjector=(0,_.WQX)(_.uvJ);destroyRef=(0,_.WQX)(_.abz);urlSerializer=(0,_.WQX)(Nr);rootContexts=(0,_.WQX)(ks);location=(0,_.WQX)(Le.Location);inputBindingEnabled=null!==(0,_.WQX)(Bo,{optional:!0});titleStrategy=(0,_.WQX)(Au);options=(0,_.WQX)(Oa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,_.WQX)(hs);createViewTransition=(0,_.WQX)(rs,{optional:!0});navigationErrorHandler=(0,_.WQX)(mn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,Q.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=j=>this.events.next(new re(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new Qi(j)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(S){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...S,id:O})}setupNavigations(S,O,j){return this.transitions=new X.t({id:0,currentUrlTree:O,currentRawUrl:O,extractedUrl:this.urlHandlingStrategy.extract(O),urlAfterRedirects:this.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Rr,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ot.p)(ne=>0!==ne.id),(0,mt.T)(ne=>({...ne,extractedUrl:this.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Et.n)(ne=>{let ue=!1,nt=!1;return(0,Q.of)(ne).pipe((0,Et.n)(Be=>{if(this.navigationId>ne.id)return this.cancelNavigationTransition(ne,"",wr.SupersededByNewNavigation),Oe.w;this.currentTransition=ne,this.currentNavigation={id:Be.id,initialUrl:Be.rawUrl,extractedUrl:Be.extractedUrl,targetBrowserUrl:"string"==typeof Be.extras.browserUrl?this.urlSerializer.parse(Be.extras.browserUrl):Be.extras.browserUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Nt=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Nt&&"reload"!==(Be.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const bn="";return this.events.next(new ci(Be.id,this.urlSerializer.serialize(Be.rawUrl),bn,_o.IgnoredSameUrlNavigation)),Be.resolve(!1),Oe.w}if(this.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl))return(0,Q.of)(Be).pipe((0,Et.n)(bn=>{const Vr=this.transitions?.getValue();return this.events.next(new zi(bn.id,this.urlSerializer.serialize(bn.extractedUrl),bn.source,bn.restoredState)),Vr!==this.transitions?.getValue()?Oe.w:Promise.resolve(bn)}),function rr(T,R,S,O,j,ne){return(0,Mt.Z)(ue=>function ho(T,R,S,O,j,ne,ue="emptyOnly"){return new aa(T,R,S,O,j,ue,ne).recognize()}(T,R,S,O,ue.extractedUrl,j,ne).pipe((0,mt.T)(({state:nt,tree:Be})=>({...ue,targetSnapshot:nt,urlAfterRedirects:Be}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Wt.M)(bn=>{ne.targetSnapshot=bn.targetSnapshot,ne.urlAfterRedirects=bn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:bn.urlAfterRedirects};const Vr=new ao(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Vr)}));if(Nt&&this.urlHandlingStrategy.shouldProcessUrl(Be.currentRawUrl)){const{id:bn,extractedUrl:Vr,source:Bs,restoredState:fo,extras:Na}=Be,zo=new zi(bn,this.urlSerializer.serialize(Vr),Bs,fo);this.events.next(zo);const Ri=ta(this.rootComponentType).snapshot;return this.currentTransition=ne={...Be,targetSnapshot:Ri,urlAfterRedirects:Vr,extras:{...Na,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Vr,(0,Q.of)(ne)}{const bn="";return this.events.next(new ci(Be.id,this.urlSerializer.serialize(Be.extractedUrl),bn,_o.IgnoredByUrlHandlingStrategy)),Be.resolve(!1),Oe.w}}),(0,Wt.M)(Be=>{const Nt=new ui(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(Nt)}),(0,mt.T)(Be=>(this.currentTransition=ne={...Be,guards:ia(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)},ne)),function Gs(T,R){return(0,Mt.Z)(S=>{const{targetSnapshot:O,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:ue}}=S;return 0===ue.length&&0===ne.length?(0,Q.of)({...S,guardsResult:!0}):function Gn(T,R,S,O){return(0,U.H)(T).pipe((0,Mt.Z)(j=>function N(T,R,S,O,j){const ne=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Q.of)(!0);const ue=ne.map(nt=>{const Be=Fs(R)??j,Nt=So(nt,Be);return Mn(function $o(T){return T&&Ga(T.canDeactivate)}(Nt)?Nt.canDeactivate(T,R,S,O):(0,_.N4e)(Be,()=>Nt(T,R,S,O))).pipe((0,jt.$)())});return(0,Q.of)(ue).pipe(pn())}(j.component,j.route,S,R,O)),(0,jt.$)(j=>!0!==j,!0))}(ue,O,j,T).pipe((0,Mt.Z)(nt=>nt&&function Qa(T){return"boolean"==typeof T}(nt)?function Ho(T,R,S,O){return(0,U.H)(R).pipe((0,Vt.H)(j=>(0,q.x)(function Bc(T,R){return null!==T&&R&&R(new Ee(T)),(0,Q.of)(!0)}(j.route.parent,O),function Ya(T,R){return null!==T&&R&&R(new $e(T)),(0,Q.of)(!0)}(j.route,O),function B(T,R,S){const O=R[R.length-1],ne=R.slice(0,R.length-1).reverse().map(ue=>function Es(T){const R=T.routeConfig?T.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:T,guards:R}:null}(ue)).filter(ue=>null!==ue).map(ue=>(0,te.v)(()=>{const nt=ue.guards.map(Be=>{const Nt=Fs(ue.node)??S,Rn=So(Be,Nt);return Mn(function ws(T){return T&&Ga(T.canActivateChild)}(Rn)?Rn.canActivateChild(O,T):(0,_.N4e)(Nt,()=>Rn(O,T))).pipe((0,jt.$)())});return(0,Q.of)(nt).pipe(pn())}));return(0,Q.of)(ne).pipe(pn())}(T,j.path,S),function V(T,R,S){const O=R.routeConfig?R.routeConfig.canActivate:null;if(!O||0===O.length)return(0,Q.of)(!0);const j=O.map(ne=>(0,te.v)(()=>{const ue=Fs(R)??S,nt=So(ne,ue);return Mn(function mr(T){return T&&Ga(T.canActivate)}(nt)?nt.canActivate(R,T):(0,_.N4e)(ue,()=>nt(R,T))).pipe((0,jt.$)())}));return(0,Q.of)(j).pipe(pn())}(T,j.route,S))),(0,jt.$)(j=>!0!==j,!0))}(O,ne,T,R):(0,Q.of)(nt)),(0,mt.T)(nt=>({...S,guardsResult:nt})))})}(this.environmentInjector,Be=>this.events.next(Be)),(0,Wt.M)(Be=>{if(ne.guardsResult=Be.guardsResult,Be.guardsResult&&"boolean"!=typeof Be.guardsResult)throw us(0,Be.guardsResult);const Nt=new Gi(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.events.next(Nt)}),(0,Ot.p)(Be=>!!Be.guardsResult||(this.cancelNavigationTransition(Be,"",wr.GuardRejected),!1)),ua(Be=>{if(Be.guards.canActivateChecks.length)return(0,Q.of)(Be).pipe((0,Wt.M)(Nt=>{const Rn=new Eo(Nt.id,this.urlSerializer.serialize(Nt.extractedUrl),this.urlSerializer.serialize(Nt.urlAfterRedirects),Nt.targetSnapshot);this.events.next(Rn)}),(0,Et.n)(Nt=>{let Rn=!1;return(0,Q.of)(Nt).pipe(function oc(T,R){return(0,Mt.Z)(S=>{const{targetSnapshot:O,guards:{canActivateChecks:j}}=S;if(!j.length)return(0,Q.of)(S);const ne=new Set(j.map(Be=>Be.route)),ue=new Set;for(const Be of ne)if(!ue.has(Be))for(const Nt of ca(Be))ue.add(Nt);let nt=0;return(0,U.H)(ue).pipe((0,Vt.H)(Be=>ne.has(Be)?function Aa(T,R,S,O){const j=T.routeConfig,ne=T._resolve;return void 0!==j?.title&&!qs(j)&&(ne[Qe]=j.title),function Ja(T,R,S,O){const j=vn(T);if(0===j.length)return(0,Q.of)({});const ne={};return(0,U.H)(j).pipe((0,Mt.Z)(ue=>function Rd(T,R,S,O){const j=Fs(R)??O,ne=So(T,j);return Mn(ne.resolve?ne.resolve(R,S):(0,_.N4e)(j,()=>ne(R,S)))}(T[ue],R,S,O).pipe((0,jt.$)(),(0,Wt.M)(nt=>{if(nt instanceof jo)throw us(new xs,nt);ne[ue]=nt}))),(0,nn.o)(1),(0,mt.T)(()=>ne),(0,wn.W)(ue=>qa(ue)?Oe.w:(0,Fe.$)(ue)))}(ne,T,R,O).pipe((0,mt.T)(ue=>(T._resolvedData=ue,T.data=na(T,T.parent,S).resolve,null)))}(Be,O,T,R):(Be.data=na(Be,Be.parent,T).resolve,(0,Q.of)(void 0))),(0,Wt.M)(()=>nt++),(0,nn.o)(1),(0,Mt.Z)(Be=>nt===ue.size?(0,Q.of)(S):Oe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Wt.M)({next:()=>Rn=!0,complete:()=>{Rn||this.cancelNavigationTransition(Nt,"",wr.NoDataFromResolver)}}))}),(0,Wt.M)(Nt=>{const Rn=new Ta(Nt.id,this.urlSerializer.serialize(Nt.extractedUrl),this.urlSerializer.serialize(Nt.urlAfterRedirects),Nt.targetSnapshot);this.events.next(Rn)}))}),ua(Be=>{const Nt=Rn=>{const bn=[];Rn.routeConfig?.loadComponent&&!Rn.routeConfig._loadedComponent&&bn.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,Wt.M)(Vr=>{Rn.component=Vr}),(0,mt.T)(()=>{})));for(const Vr of Rn.children)bn.push(...Nt(Vr));return bn};return(0,W.z)(Nt(Be.targetSnapshot.root)).pipe((0,Ge.U)(null),(0,rt.s)(1))}),ua(()=>this.afterPreactivation()),(0,Et.n)(()=>{const{currentSnapshot:Be,targetSnapshot:Nt}=ne,Rn=this.createViewTransition?.(this.environmentInjector,Be.root,Nt.root);return Rn?(0,U.H)(Rn).pipe((0,mt.T)(()=>ne)):(0,Q.of)(ne)}),(0,mt.T)(Be=>{const Nt=function Oo(T,R,S){const O=Co(T,R._root,S?S._root:void 0);return new wo(O,R)}(S.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return this.currentTransition=ne={...Be,targetRouterState:Nt},this.currentNavigation.targetRouterState=Nt,ne}),(0,Wt.M)(()=>{this.events.next(new bt)}),((T,R,S,O)=>(0,mt.T)(j=>(new Ka(R,j.targetRouterState,j.currentRouterState,S,O).activate(T),j)))(this.rootContexts,S.routeReuseStrategy,Be=>this.events.next(Be),this.inputBindingEnabled),(0,rt.s)(1),(0,Wt.M)({next:Be=>{ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ps(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects))),this.titleStrategy?.updateTitle(Be.targetRouterState.snapshot),Be.resolve(!0)},complete:()=>{ue=!0}}),(0,es.Q)(this.transitionAbortSubject.pipe((0,Wt.M)(Be=>{throw Be}))),(0,jn.j)(()=>{!ue&&!nt&&this.cancelNavigationTransition(ne,"",wr.SupersededByNewNavigation),this.currentTransition?.id===ne.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,wn.W)(Be=>{if(this.destroyed)return ne.resolve(!1),Oe.w;if(nt=!0,Io(Be))this.events.next(new oo(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Be.message,Be.cancellationCode)),function si(T){return Io(T)&&me(T.url)}(Be)?this.events.next(new rn(Be.url,Be.navigationBehaviorOptions)):ne.resolve(!1);else{const Nt=new Zt(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Be,ne.targetSnapshot??void 0);try{const Rn=(0,_.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Nt));if(!(Rn instanceof jo))throw this.events.next(Nt),Be;{const{message:bn,cancellationCode:Vr}=us(0,Rn);this.events.next(new oo(ne.id,this.urlSerializer.serialize(ne.extractedUrl),bn,Vr)),this.events.next(new rn(Rn.redirectTo,Rn.navigationBehaviorOptions))}}catch(Rn){this.options.resolveNavigationPromiseOnError?ne.resolve(!1):ne.reject(Rn)}}return Oe.w}))}))}cancelNavigationTransition(S,O,j){const ne=new oo(S.id,this.urlSerializer.serialize(S.extractedUrl),O,j);this.events.next(ne),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const S=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),O=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return S.toString()!==O?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function M(T){return T!==Rr}let z=(()=>{class T{static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(k),providedIn:"root"})}return T})();class x{shouldDetach(R){return!1}store(R,S){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,S){return R.routeConfig===S.routeConfig}}let k=(()=>{class T extends x{static \u0275fac=(()=>{let S;return function(j){return(S||(S=_.xGo(T)))(j||T)}})();static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Y=(()=>{class T{static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(We),providedIn:"root"})}return T})(),We=(()=>{class T extends Y{location=(0,_.WQX)(Le.Location);urlSerializer=(0,_.WQX)(Nr);options=(0,_.WQX)(Oa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=(0,_.WQX)(hs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=ta(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(O=>{"popstate"===O.type&&S(O.url,O.state)})}handleRouterEvent(S,O){if(S instanceof zi)this.stateMemento=this.createStateMemento();else if(S instanceof ci)this.rawUrlTree=O.initialUrl;else if(S instanceof ao){if("eager"===this.urlUpdateStrategy&&!O.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl);this.setBrowserUrl(O.targetBrowserUrl??j,O)}}else S instanceof bt?(this.currentUrlTree=O.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&!O.extras.skipLocationChange&&this.setBrowserUrl(O.targetBrowserUrl??this.rawUrlTree,O)):S instanceof oo&&(S.code===wr.GuardRejected||S.code===wr.NoDataFromResolver)?this.restoreHistory(O):S instanceof Zt?this.restoreHistory(O,!0):S instanceof ps&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,O){const j=S instanceof Fr?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(j)||O.extras.replaceUrl){const ue={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(j,"",ue)}else{const ne={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(j,"",ne)}}restoreHistory(S,O=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===S.finalUrl&&0===ne&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,O){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:O}:{navigationId:S}}static \u0275fac=(()=>{let S;return function(j){return(S||(S=_.xGo(T)))(j||T)}})();static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Ae(T,R){T.events.pipe((0,Ot.p)(S=>S instanceof ps||S instanceof oo||S instanceof Zt||S instanceof ci),(0,mt.T)(S=>S instanceof ps||S instanceof ci?0:S instanceof oo&&(S.code===wr.Redirect||S.code===wr.SupersededByNewNavigation)?2:1),(0,Ot.p)(S=>2!==S),(0,rt.s)(1)).subscribe(()=>{R()})}const be={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ot={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let un=(()=>{class T{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,_.WQX)(_.H3F);stateManager=(0,_.WQX)(Y);options=(0,_.WQX)(Oa,{optional:!0})||{};pendingTasks=(0,_.WQX)(_.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,_.WQX)(It);urlSerializer=(0,_.WQX)(Nr);location=(0,_.WQX)(Le.Location);urlHandlingStrategy=(0,_.WQX)(hs);_events=new _e.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,_.WQX)(z);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,_.WQX)(yr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,_.WQX)(Bo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He.yU;subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(O=>{try{const j=this.navigationTransitions.currentTransition,ne=this.navigationTransitions.currentNavigation;if(null!==j&&null!==ne)if(this.stateManager.handleRouterEvent(O,ne),O instanceof oo&&O.code!==wr.Redirect&&O.code!==wr.SupersededByNewNavigation)this.navigated=!0;else if(O instanceof ps)this.navigated=!0;else if(O instanceof rn){const ue=O.navigationBehaviorOptions,nt=this.urlHandlingStrategy.merge(O.url,j.currentRawUrl),Be={browserUrl:j.extras.browserUrl,info:j.extras.info,skipLocationChange:j.extras.skipLocationChange,replaceUrl:j.extras.replaceUrl||"eager"===this.urlUpdateStrategy||M(j.source),...ue};this.scheduleNavigation(nt,Rr,null,Be,{resolve:j.resolve,reject:j.reject,promise:j.promise})}(function In(T){return!(T instanceof bt||T instanceof rn)})(O)&&this._events.next(O)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,O)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(S,"popstate",O)},0)})}navigateToSyncWithBrowser(S,O,j){const ne={replaceUrl:!0},ue=j?.navigationId?j:null;if(j){const Be={...j};delete Be.navigationId,delete Be.\u0275routerPageId,0!==Object.keys(Be).length&&(ne.state=Be)}const nt=this.parseUrl(S);this.scheduleNavigation(nt,O,ue,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(el),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,O={}){const{relativeTo:j,queryParams:ne,fragment:ue,queryParamsHandling:nt,preserveFragment:Be}=O,Nt=Be?this.currentUrlTree.fragment:ue;let bn,Rn=null;switch(nt??this.options.defaultQueryParamsHandling){case"merge":Rn={...this.currentUrlTree.queryParams,...ne};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=ne||null}null!==Rn&&(Rn=this.removeEmptyProps(Rn));try{bn=pt(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),bn=this.currentUrlTree.root}return Gt(bn,S,Rn,Nt??null)}navigateByUrl(S,O={skipLocationChange:!1}){const j=me(S)?S:this.parseUrl(S),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,Rr,null,O)}navigate(S,O={skipLocationChange:!1}){return function ur(T){for(let R=0;R<T.length;R++)if(null==T[R])throw new _.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,O),O)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,O){let j;if(j=!0===O?{...be}:!1===O?{...ot}:O,me(S))return Un(this.currentUrlTree,S,j);const ne=this.parseUrl(S);return Un(this.currentUrlTree,ne,j)}removeEmptyProps(S){return Object.entries(S).reduce((O,[j,ne])=>(null!=ne&&(O[j]=ne),O),{})}scheduleNavigation(S,O,j,ne,ue){if(this.disposed)return Promise.resolve(!1);let nt,Be,Nt;ue?(nt=ue.resolve,Be=ue.reject,Nt=ue.promise):Nt=new Promise((bn,Vr)=>{nt=bn,Be=Vr});const Rn=this.pendingTasks.add();return Ae(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rn))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:ne,resolve:nt,reject:Be,promise:Nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nt.catch(bn=>Promise.reject(bn))}static \u0275fac=function(O){return new(O||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Sr=(()=>{class T{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e.B;constructor(S,O,j,ne,ue,nt){this.router=S,this.route=O,this.tabIndexAttribute=j,this.renderer=ne,this.el=ue,this.locationStrategy=nt;const Be=ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Be||"area"===Be,this.isAnchorElement?this.subscription=S.events.subscribe(Nt=>{Nt instanceof ps&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=me(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,O,j,ne,ue){const nt=this.urlTree;return!!(null===nt||this.isAnchorElement&&(0!==S||O||j||ne||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(nt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const S=this.urlTree;this.href=null!==S&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(S)):null;const O=null===this.href?null:(0,_.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(S,O){const j=this.renderer,ne=this.el.nativeElement;null!==O?j.setAttribute(ne,S,O):j.removeAttribute(ne,S)}get urlTree(){return null===this.routerLinkInput?null:me(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(O){return new(O||T)(_.rXU(un),_.rXU(Ao),_.kS0("tabindex"),_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(Le.LocationStrategy))};static \u0275dir=_.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,j){1&O&&_.bIt("click",function(ue){return j.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&O&&_.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_.L39],replaceUrl:[2,"replaceUrl","replaceUrl",_.L39],routerLink:"routerLink"},features:[_.OA$]})}return T})(),Tt=(()=>{class T{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new _.bkB;constructor(S,O,j,ne,ue){this.router=S,this.element=O,this.renderer=j,this.cdr=ne,this.link=ue,this.routerEventsSubscription=S.events.subscribe(nt=>{nt instanceof ps&&this.update()})}ngAfterContentInit(){(0,Q.of)(this.links.changes,(0,Q.of)(null)).pipe((0,Cr.U)()).subscribe(S=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const S=[...this.links.toArray(),this.link].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,U.H)(S).pipe((0,Cr.U)()).subscribe(O=>{this._isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(S){const O=Array.isArray(S)?S:S.split(" ");this.classes=O.filter(j=>!!j)}ngOnChanges(S){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const S=this.hasActiveLinks();this.classes.forEach(O=>{S?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),S&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==S&&(this._isActive=S,this.cdr.markForCheck(),this.isActiveChange.emit(S))})}isLinkActive(S){const O=function Ds(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>{const ne=j.urlTree;return!!ne&&S.isActive(ne,O)}}hasActiveLinks(){const S=this.isLinkActive(this.router);return this.link&&S(this.link)||this.links.some(S)}static \u0275fac=function(O){return new(O||T)(_.rXU(un),_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(_.gRc),_.rXU(Sr,8))};static \u0275dir=_.FsC({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(O,j,ne){if(1&O&&_.wni(ne,Sr,5),2&O){let ue;_.mGM(ue=_.lsd())&&(j.links=ue)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[_.OA$]})}return T})();class Us{}let _i=(()=>{class T{router;injector;preloadingStrategy;loader;subscription;constructor(S,O,j,ne,ue){this.router=S,this.injector=j,this.preloadingStrategy=ne,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.p)(S=>S instanceof ps),(0,Vt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,O){const j=[];for(const ne of O){ne.providers&&!ne._injector&&(ne._injector=(0,_.Ol2)(ne.providers,S,`Route: ${ne.path}`));const ue=ne._injector??S,nt=ne._loadedInjector??ue;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&j.push(this.preloadConfig(ue,ne)),(ne.children||ne._loadedRoutes)&&j.push(this.processRoutes(nt,ne.children??ne._loadedRoutes))}return(0,U.H)(j).pipe((0,Cr.U)())}preloadConfig(S,O){return this.preloadingStrategy.preload(O,()=>{let j;j=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(S,O):(0,Q.of)(null);const ne=j.pipe((0,Mt.Z)(ue=>null===ue?(0,Q.of)(void 0):(O._loadedRoutes=ue.routes,O._loadedInjector=ue.injector,this.processRoutes(ue.injector??S,ue.routes))));if(O.loadComponent&&!O._loadedComponent){const ue=this.loader.loadComponent(O);return(0,U.H)([ne,ue]).pipe((0,Cr.U)())}return ne})}static \u0275fac=function(O){return new(O||T)(_.KVO(un),_.KVO(_.Ql9),_.KVO(_.uvJ),_.KVO(Us),_.KVO(St))};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const xr=new _.nKC("");let Dr=(()=>{class T{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(S,O,j,ne,ue={}){this.urlSerializer=S,this.transitions=O,this.viewportScroller=j,this.zone=ne,this.options=ue,ue.scrollPositionRestoration||="disabled",ue.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof ps?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof ci&&S.code===_o.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Ct&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ct(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(O){_.QTQ()};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac})}return T})();function Is(T,R){return{\u0275kind:T,\u0275providers:R}}function Bh(){const T=(0,_.WQX)(_.zZn);return R=>{const S=T.get(_.o8S);if(R!==S.components[0])return;const O=T.get(un),j=T.get($r);1===T.get(Bt)&&O.initialNavigation(),T.get(zg,null,_.$GK.Optional)?.setUpPreloading(),T.get(xr,null,_.$GK.Optional)?.init(),O.resetRootComponentType(S.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const $r=new _.nKC("",{factory:()=>new _e.B}),Bt=new _.nKC("",{providedIn:"root",factory:()=>1}),zg=new _.nKC("");function jh(T){return Is(0,[{provide:zg,useExisting:_i},{provide:Us,useExisting:T}])}function ji(T){return Is(9,[{provide:rs,useValue:Zn},{provide:cr,useValue:{skipNextTransition:!!T?.skipInitialTransition,...T}}])}const tp=[Le.Location,{provide:Nr,useClass:xs},un,ks,{provide:Ao,useFactory:function Ro(T){return T.routerState.root},deps:[un]},St,[]];let bl=(()=>{class T{constructor(){}static forRoot(S,O){return{ngModule:T,providers:[tp,[],{provide:yr,multi:!0,useValue:S},[],O?.errorHandler?{provide:mn,useValue:O.errorHandler}:[],{provide:Oa,useValue:O||{}},O?.useHash?{provide:Le.LocationStrategy,useClass:Le.HashLocationStrategy}:{provide:Le.LocationStrategy,useClass:Le.PathLocationStrategy},{provide:xr,useFactory:()=>{const T=(0,_.WQX)(Le.ViewportScroller),R=(0,_.WQX)(_.SKi),S=(0,_.WQX)(Oa),O=(0,_.WQX)(It),j=(0,_.WQX)(Nr);return S.scrollOffset&&T.setOffset(S.scrollOffset),new Dr(j,O,T,R,S)}},O?.preloadingStrategy?jh(O.preloadingStrategy).\u0275providers:[],O?.initialNavigation?Ny(O):[],O?.bindToComponentInputs?Is(8,[qi,{provide:Bo,useExisting:qi}]).\u0275providers:[],O?.enableViewTransitions?ji().\u0275providers:[],[{provide:Ru,useFactory:Bh},{provide:_.iLQ,multi:!0,useExisting:Ru}]]}}static forChild(S){return{ngModule:T,providers:[{provide:yr,multi:!0,useValue:S}]}}static \u0275fac=function(O){return new(O||T)};static \u0275mod=_.$C({type:T});static \u0275inj=_.G2t({})}return T})();function Ny(T){return["disabled"===T.initialNavigation?Is(3,[{provide:_.hnV,multi:!0,useFactory:()=>{const R=(0,_.WQX)(un);return()=>{R.setUpLocationChangeListener()}}},{provide:Bt,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Is(2,[{provide:Bt,useValue:0},{provide:_.hnV,multi:!0,deps:[_.zZn],useFactory:R=>{const S=R.get(Le.LOCATION_INITIALIZED,Promise.resolve());return()=>S.then(()=>new Promise(O=>{const j=R.get(un),ne=R.get($r);Ae(j,()=>{O(!0)}),R.get(It).afterPreactivation=()=>(O(!0),ne.closed?(0,Q.of)(void 0):ne),j.initialNavigation()}))}}]).\u0275providers:[]]}const Ru=new _.nKC("")},941:(lt,he,C)=>{C.d(he,{Q:()=>ee});var _=C(5225),E=C(9974),ie=C(4360);function ee(U,Q=0){return(0,E.N)((X,W)=>{X.subscribe((0,ie._)(W,ae=>(0,_.N)(W,U,()=>W.next(ae),Q),()=>(0,_.N)(W,U,()=>W.complete(),Q),ae=>(0,_.N)(W,U,()=>W.error(ae),Q)))})}},965:(lt,he,C)=>{C.d(he,{VA:()=>U,bI:()=>ee,wz:()=>ie});var _=C(9310),E=function(Q){return Q.GET_USER="[User] Get User",Q.GET_USER_SUCCESS="[User] Get User Success",Q.GET_USER_FAILED="[User] Get User Failed",Q}(E||{});const ie=(0,_.VP)(E.GET_USER),ee=(0,_.VP)(E.GET_USER_SUCCESS,(0,_.xk)()),U=(0,_.VP)(E.GET_USER_FAILED,(0,_.xk)())},980:(lt,he,C)=>{C.d(he,{j:()=>E});var _=C(9974);function E(ie){return(0,_.N)((ee,U)=>{try{ee.subscribe(U)}finally{U.add(ie)}})}},983:(lt,he,C)=>{C.d(he,{I:()=>ie,w:()=>E});var _=C(1985);const E=new _.c(U=>U.complete());function ie(U){return U?function ee(U){return new _.c(Q=>U.schedule(()=>Q.complete()))}(U):E}},1026:(lt,he,C)=>{C.d(he,{$:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1076:(lt,he,C)=>{C.d(he,{$L:()=>Lt,$g:()=>Or,A4:()=>te,Am:()=>Fr,As:()=>vn,Cv:()=>ln,FA:()=>Xe,Fy:()=>Mt,Hk:()=>ie,Im:()=>Qr,K3:()=>Q,KA:()=>W,Ku:()=>Ps,Ll:()=>Wt,OE:()=>Yr,T9:()=>rt,Tj:()=>mt,Uj:()=>ae,XA:()=>tt,ZQ:()=>jt,bD:()=>Pr,cY:()=>Ot,dI:()=>Yt,eX:()=>Gr,g:()=>Ze,gR:()=>Un,gz:()=>At,jZ:()=>Vt,kH:()=>or,kj:()=>zs,lT:()=>nn,lV:()=>Ge,nr:()=>es,qc:()=>_r,sr:()=>ut,tD:()=>tr,u:()=>q,vA:()=>E,yU:()=>Et,yw:()=>qn,zW:()=>Cr});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},E=function(Se,we){if(!Se)throw ie(we)},ie=function(Se){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Se)},ee=function(Se){const we=[];let Re=0;for(let je=0;je<Se.length;je++){let le=Se.charCodeAt(je);le<128?we[Re++]=le:le<2048?(we[Re++]=le>>6|192,we[Re++]=63&le|128):55296==(64512&le)&&je+1<Se.length&&56320==(64512&Se.charCodeAt(je+1))?(le=65536+((1023&le)<<10)+(1023&Se.charCodeAt(++je)),we[Re++]=le>>18|240,we[Re++]=le>>12&63|128,we[Re++]=le>>6&63|128,we[Re++]=63&le|128):(we[Re++]=le>>12|224,we[Re++]=le>>6&63|128,we[Re++]=63&le|128)}return we},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,we){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Re=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let le=0;le<Se.length;le+=3){const De=Se[le],oe=le+1<Se.length,me=oe?Se[le+1]:0,Je=le+2<Se.length,pt=Je?Se[le+2]:0;let Dn=(15&me)<<2|pt>>6,nr=63&pt;Je||(nr=64,oe||(Dn=64)),je.push(Re[De>>2],Re[(3&De)<<4|me>>4],Re[Dn],Re[nr])}return je.join("")},encodeString(Se,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Se):this.encodeByteArray(ee(Se),we)},decodeString(Se,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Se):function(Se){const we=[];let Re=0,je=0;for(;Re<Se.length;){const le=Se[Re++];if(le<128)we[je++]=String.fromCharCode(le);else if(le>191&&le<224){const De=Se[Re++];we[je++]=String.fromCharCode((31&le)<<6|63&De)}else if(le>239&&le<365){const Je=((7&le)<<18|(63&Se[Re++])<<12|(63&Se[Re++])<<6|63&Se[Re++])-65536;we[je++]=String.fromCharCode(55296+(Je>>10)),we[je++]=String.fromCharCode(56320+(1023&Je))}else{const De=Se[Re++],oe=Se[Re++];we[je++]=String.fromCharCode((15&le)<<12|(63&De)<<6|63&oe)}}return we.join("")}(this.decodeStringToByteArray(Se,we))},decodeStringToByteArray(Se,we){this.init_();const Re=we?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let le=0;le<Se.length;){const De=Re[Se.charAt(le++)],me=le<Se.length?Re[Se.charAt(le)]:0;++le;const pt=le<Se.length?Re[Se.charAt(le)]:64;++le;const Ut=le<Se.length?Re[Se.charAt(le)]:64;if(++le,null==De||null==me||null==pt||null==Ut)throw new X;je.push(De<<2|me>>4),64!==pt&&(je.push(me<<4&240|pt>>2),64!==Ut&&je.push(pt<<6&192|Ut))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}};class X extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W=function(Se){const we=ee(Se);return Q.encodeByteArray(we,!0)},ae=function(Se){return W(Se).replace(/\./g,"")},q=function(Se){try{return Q.decodeString(Se,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function te(Se){return ye(void 0,Se)}function ye(Se,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Se&&(Se={});break;case Array:Se=[];break;default:return we}for(const Re in we)!we.hasOwnProperty(Re)||!Fe(Re)||(Se[Re]=ye(Se[Re],we[Re]));return Se}function Fe(Se){return"__proto__"!==Se}const Le=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if(typeof document>"u")return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const we=Se&&q(Se[1]);return we&&JSON.parse(we)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},mt=Se=>{var we,Re;return null===(Re=null===(we=Le())||void 0===we?void 0:we.emulatorHosts)||void 0===Re?void 0:Re[Se]},Et=Se=>{const we=mt(Se);if(!we)return;const Re=we.lastIndexOf(":");if(Re<=0||Re+1===we.length)throw new Error(`Invalid host ${we} with no separate hostname and port!`);const je=parseInt(we.substring(Re+1),10);return"["===we[0]?[we.substring(1,Re-1),je]:[we.substring(0,Re),je]},rt=()=>{var Se;return null===(Se=Le())||void 0===Se?void 0:Se.config},tt=Se=>{var we;return null===(we=Le())||void 0===we?void 0:we[`_${Se}`]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Re)=>{this.resolve=we,this.reject=Re})}wrapCallback(we){return(Re,je)=>{Re?this.reject(Re):this.resolve(je),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Re):we(Re,je))}}}function Mt(Se,we){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=we||"demo-project",le=Se.iat||0,De=Se.sub||Se.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:le,exp:le+3600,auth_time:le,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(oe)),""].join(".")}function jt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Wt(){var Se;const we=null===(Se=Le())||void 0===Se?void 0:Se.forceEnvironment;if("node"===we)return!0;if("browser"===we)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const Se=jt();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function Or(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function es(){return!Wt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cr(){try{return"object"==typeof indexedDB}catch{return!1}}function Gr(){return new Promise((Se,we)=>{try{let Re=!0;const je="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(je);le.onsuccess=()=>{le.result.close(),Re||self.indexedDB.deleteDatabase(je),Se(!0)},le.onupgradeneeded=()=>{Re=!1},le.onerror=()=>{var De;we((null===(De=le.error)||void 0===De?void 0:De.message)||"")}}catch(Re){we(Re)}})}class Ze extends Error{constructor(we,Re,je){super(Re),this.code=we,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(we,Re,je){this.service=we,this.serviceName=Re,this.errors=je}create(we,...Re){const je=Re[0]||{},le=`${this.service}/${we}`,De=this.errors[we],oe=De?function Dt(Se,we){return Se.replace(vt,(Re,je)=>{const le=we[je];return null!=le?String(le):`<${je}?>`})}(De,je):"Error";return new Ze(le,`${this.serviceName}: ${oe} (${le}).`,je)}}const vt=/\{\$([^}]+)}/g;function Lt(Se){return JSON.parse(Se)}function vn(Se){return JSON.stringify(Se)}const er=function(Se){let we={},Re={},je={},le="";try{const De=Se.split(".");we=Lt(q(De[0])||""),Re=Lt(q(De[1])||""),le=De[2],je=Re.d||{},delete Re.d}catch{}return{header:we,claims:Re,data:je,signature:le}},ln=function(Se){const Re=er(Se).claims;return!!Re&&"object"==typeof Re&&Re.hasOwnProperty("iat")},_r=function(Se){const we=er(Se).claims;return"object"==typeof we&&!0===we.admin};function Un(Se,we){return Object.prototype.hasOwnProperty.call(Se,we)}function qn(Se,we){if(Object.prototype.hasOwnProperty.call(Se,we))return Se[we]}function Qr(Se){for(const we in Se)if(Object.prototype.hasOwnProperty.call(Se,we))return!1;return!0}function or(Se,we,Re){const je={};for(const le in Se)Object.prototype.hasOwnProperty.call(Se,le)&&(je[le]=we.call(Re,Se[le],le,Se));return je}function Pr(Se,we){if(Se===we)return!0;const Re=Object.keys(Se),je=Object.keys(we);for(const le of Re){if(!je.includes(le))return!1;const De=Se[le],oe=we[le];if(Rs(De)&&Rs(oe)){if(!Pr(De,oe))return!1}else if(De!==oe)return!1}for(const le of je)if(!Re.includes(le))return!1;return!0}function Rs(Se){return null!==Se&&"object"==typeof Se}function Fr(Se){const we=[];for(const[Re,je]of Object.entries(Se))Array.isArray(je)?je.forEach(le=>{we.push(encodeURIComponent(Re)+"="+encodeURIComponent(le))}):we.push(encodeURIComponent(Re)+"="+encodeURIComponent(je));return we.length?"&"+we.join("&"):""}class At{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(we,Re){Re||(Re=0);const je=this.W_;if("string"==typeof we)for(let Ut=0;Ut<16;Ut++)je[Ut]=we.charCodeAt(Re)<<24|we.charCodeAt(Re+1)<<16|we.charCodeAt(Re+2)<<8|we.charCodeAt(Re+3),Re+=4;else for(let Ut=0;Ut<16;Ut++)je[Ut]=we[Re]<<24|we[Re+1]<<16|we[Re+2]<<8|we[Re+3],Re+=4;for(let Ut=16;Ut<80;Ut++){const Dn=je[Ut-3]^je[Ut-8]^je[Ut-14]^je[Ut-16];je[Ut]=4294967295&(Dn<<1|Dn>>>31)}let pt,Gt,le=this.chain_[0],De=this.chain_[1],oe=this.chain_[2],me=this.chain_[3],Je=this.chain_[4];for(let Ut=0;Ut<80;Ut++){Ut<40?Ut<20?(pt=me^De&(oe^me),Gt=1518500249):(pt=De^oe^me,Gt=1859775393):Ut<60?(pt=De&oe|me&(De|oe),Gt=2400959708):(pt=De^oe^me,Gt=3395469782);const Dn=(le<<5|le>>>27)+pt+Je+Gt+je[Ut]&4294967295;Je=me,me=oe,oe=4294967295&(De<<30|De>>>2),De=le,le=Dn}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+De&4294967295,this.chain_[2]=this.chain_[2]+oe&4294967295,this.chain_[3]=this.chain_[3]+me&4294967295,this.chain_[4]=this.chain_[4]+Je&4294967295}update(we,Re){if(null==we)return;void 0===Re&&(Re=we.length);const je=Re-this.blockSize;let le=0;const De=this.buf_;let oe=this.inbuf_;for(;le<Re;){if(0===oe)for(;le<=je;)this.compress_(we,le),le+=this.blockSize;if("string"==typeof we){for(;le<Re;)if(De[oe]=we.charCodeAt(le),++oe,++le,oe===this.blockSize){this.compress_(De),oe=0;break}}else for(;le<Re;)if(De[oe]=we[le],++oe,++le,oe===this.blockSize){this.compress_(De),oe=0;break}}this.inbuf_=oe,this.total_+=Re}digest(){const we=[];let Re=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&Re,Re/=256;this.compress_(this.buf_);let je=0;for(let le=0;le<5;le++)for(let De=24;De>=0;De-=8)we[je]=this.chain_[le]>>De&255,++je;return we}}function tr(Se,we){const Re=new ns(Se,we);return Re.subscribe.bind(Re)}class ns{constructor(we,Re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Re,this.task.then(()=>{we(this)}).catch(je=>{this.error(je)})}next(we){this.forEachObserver(Re=>{Re.next(we)})}error(we){this.forEachObserver(Re=>{Re.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Re,je){let le;if(void 0===we&&void 0===Re&&void 0===je)throw new Error("Missing Observer.");le=function xs(Se,we){if("object"!=typeof Se||null===Se)return!1;for(const Re of we)if(Re in Se&&"function"==typeof Se[Re])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:Re,complete:je},void 0===le.next&&(le.next=qr),void 0===le.error&&(le.error=qr),void 0===le.complete&&(le.complete=qr);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),De}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Re=0;Re<this.observers.length;Re++)this.sendOne(Re,we)}sendOne(we,Re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Re(this.observers[we])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}function Yt(Se,we){return`${Se} failed: ${we} argument `}const zs=function(Se){const we=[];let Re=0;for(let je=0;je<Se.length;je++){let le=Se.charCodeAt(je);if(le>=55296&&le<=56319){const De=le-55296;je++,E(je<Se.length,"Surrogate pair missing trail surrogate."),le=65536+(De<<10)+(Se.charCodeAt(je)-56320)}le<128?we[Re++]=le:le<2048?(we[Re++]=le>>6|192,we[Re++]=63&le|128):le<65536?(we[Re++]=le>>12|224,we[Re++]=le>>6&63|128,we[Re++]=63&le|128):(we[Re++]=le>>18|240,we[Re++]=le>>12&63|128,we[Re++]=le>>6&63|128,we[Re++]=63&le|128)}return we},Yr=function(Se){let we=0;for(let Re=0;Re<Se.length;Re++){const je=Se.charCodeAt(Re);je<128?we++:je<2048?we+=2:je>=55296&&je<=56319?(we+=4,Re++):we+=3}return we};function Ps(Se){return Se&&Se._delegate?Se._delegate:Se}},1111:(lt,he,C)=>{C.d(he,{MB:()=>ee,fw:()=>E.f});var _=C(177),E=C(2376),ie=C(4438);let ee=(()=>{class Q{constructor(W){if(W)throw new Error("ToastModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:Q,providers:[E.f]}}static{this.\u0275fac=function(ae){return new(ae||Q)(ie.KVO(Q,12))}}static{this.\u0275mod=ie.$C({type:Q})}static{this.\u0275inj=ie.G2t({imports:[_.CommonModule]})}}return Q})();C(1152)},1116:(lt,he,C)=>{C.d(he,{GE:()=>W,I4:()=>ae,JS:()=>Fe,gz:()=>Te,iF:()=>Oe});var _=C(9310),E=C(8527);const U=(0,_.vy)({articles:[],message:""},(0,_.on)(E.op,(_e,{payload:He})=>({articles:He,message:"Success"})),(0,_.on)(E.om,(_e,{payload:He})=>({articles:[He],message:"Article Created."})),(0,_.on)(E.VZ,(_e,{payload:He})=>({articles:[],message:He})),(0,_.on)(E.i8,(_e,{payload:He})=>({articles:He,message:"Success"})),(0,_.on)(E.sc,_e=>({articles:[],message:""}))),X=(0,_.UX)("articleState"),W=(0,_.Mz)(X,_e=>_e.articles),ae=(0,_.Mz)(X,_e=>_e.message),q=(0,_.vy)({products:[],cart:[]},(0,_.on)(E.iQ,(_e,{payload:He})=>({..._e,products:He})),(0,_.on)(E.OM,(_e,{payload:He})=>({..._e,cart:[..._e.cart,He]})),(0,_.on)(E.n$,(_e,{payload:He})=>({..._e,cart:[..._e.cart.filter(Le=>Le.name!==He.name)]}))),ye=(0,_.UX)("productState1"),Fe=(0,_.Mz)(ye,_e=>_e.products),Oe=(0,_.Mz)(ye,_e=>_e.cart),Te={articleState:function Q(_e,He){return U(_e,He)},productState1:function te(_e,He){return q(_e,He)}}},1152:(lt,he,C)=>{C.d(he,{d3:()=>W});var _=C(9969),E=C(4438),ie=C(2376),ee=C(177);function U(ae,q){if(1&ae){const te=E.RV6();E.j41(0,"div",2),E.bIt("click",function(){const Fe=E.eBV(te).$implicit,Oe=E.XpG();return E.Njj(Oe.dismissToast(Fe))}),E.nrm(1,"span",3),E.j41(2,"div",4)(3,"div",5),E.EFF(4),E.k0s(),E.j41(5,"div",6),E.EFF(6),E.k0s()(),E.qSk(),E.j41(7,"svg",7),E.nrm(8,"path",8),E.k0s()()}if(2&ae){const te=q.$implicit;E.ZvI("toaster toast-",te.type,""),E.Y8G("@slideInOut",void 0),E.R7$(),E.Y8G("innerHtml",te.svg,E.npT),E.R7$(3),E.SpI(" ",te.title," "),E.R7$(2),E.JRh(te.message)}}const Q=(0,_.hZ)("slideUp",[(0,_.kY)(":enter",[(0,_.iF)({transform:"translate(0,500px)"}),(0,_.i0)("350ms cubic-bezier(0.17, 0.89, 0.24, 1.11)",(0,_.iF)({transform:"translate(0,0)"}))]),(0,_.kY)(":leave",[(0,_.i0)("300ms ease-in-out",(0,_.iF)({transform:"translate(0,500px)"}))])]),X=(0,_.hZ)("slideInOut",[(0,_.kY)(":enter",[(0,_.iF)({transform:"translateX(calc(100% + 30px))"}),(0,_.i0)("350ms cubic-bezier(0.68, -0.55, 0.25, 1.35)",(0,_.iF)({transform:"translateX(0)"}))]),(0,_.kY)(":leave",[(0,_.i0)("300ms ease-in-out",(0,_.iF)({transform:"translateX(calc(100% + 30px))"}))])]);let W=(()=>{class ae{constructor(te,ye){this.toastService=te,this.cdr=ye,this.currentToasts=[]}ngOnInit(){this.toastService.toastEvents.subscribe(te=>{te?this.currentToasts.push(te):this.currentToasts.shift(),this.cdr.markForCheck()})}dismissToast(te){this.currentToasts=this.currentToasts.filter(ye=>ye.id!==te.id),this.cdr.markForCheck()}static{this.\u0275fac=function(ye){return new(ye||ae)(E.rXU(ie.f),E.rXU(E.gRc))}}static{this.\u0275cmp=E.VBU({type:ae,selectors:[["ng-toast"]],standalone:!1,decls:2,vars:1,consts:[[1,"toast-container","top-right"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"closeSvg",3,"innerHtml"],[2,"flex","1"],[1,"toaster__title"],[1,"toaster__message"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"closeSvg"],["d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]],template:function(ye,Fe){1&ye&&(E.j41(0,"div",0),E.DNE(1,U,9,7,"div",1),E.k0s()),2&ye&&(E.R7$(),E.Y8G("ngForOf",Fe.currentToasts))},dependencies:[ee.NgForOf],styles:['.toast-container[_ngcontent-%COMP%]{--dark: #34495e;--light: #ffffff;--success: #0abf30;--error: #e24d4c;--warning: #e9bd0c;--info: #3498db}.toast-container[_ngcontent-%COMP%]{width:max-content;max-width:100%;pointer-events:none;position:fixed;z-index:999999}.toast-container.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-container.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{--toast-width: 400px;position:relative;overflow:hidden;margin:0 0 6px;width:var(--toast-width);padding:16px 17px;border-radius:4px;pointer-events:auto;display:flex;align-items:center;gap:.5rem;--toast-light-color: color-mix(in srgb, var(--toast-color) 20%, white);background-color:var(--toast-light-color);color:var(--toast-color)}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.toast-container[_ngcontent-%COMP%]   .toaster__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.toast-container[_ngcontent-%COMP%]   .toaster__message[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(:last-child){font-size:1.5rem}.toast-container[_ngcontent-%COMP%]   .toaster.toast-success[_ngcontent-%COMP%]{--toast-color: var(--success)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-warning[_ngcontent-%COMP%]{--toast-color: var(--warning)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-error[_ngcontent-%COMP%]{--toast-color: var(--error)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-info[_ngcontent-%COMP%]{--toast-color: var(--info)}.toaster[_ngcontent-%COMP%]:before{position:absolute;content:"";height:3px;width:100%;bottom:0;left:0;animation:_ngcontent-%COMP%_progress 5s linear forwards;background-color:var(--toast-color)}@keyframes _ngcontent-%COMP%_progress{to{width:0%}}.toaster-animation[_ngcontent-%COMP%]{transform:translate(calc(100% + 30px));transition:all .5s cubic-bezier(.68,-.55,.25,1.35)}.toaster-animation.active[_ngcontent-%COMP%]{transform:translate(0)}.show-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_show_toast .3s ease forwards}.hide-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hide_toast .3s ease forwards}@keyframes _ngcontent-%COMP%_hide_toast{0%{transform:translate(-10px)}40%{transform:translate(0)}80%{transform:translate(-5%)}to{transform:translate(calc(100% + 20px))}}@keyframes _ngcontent-%COMP%_show_toast{0%{transform:translate(100%)}40%{transform:translate(-5%)}80%{transform:translate(0)}to{transform:translate(-10px)}}@media (max-width: 530px){.toast-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{width:100%}}.closeSvg[_ngcontent-%COMP%]{width:20px;height:20px}.toast-success[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--success)}.toast-warning[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--warning)}.toast-error[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--error)}.toast-info[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--info)}'],data:{animation:[Q,X]},changeDetection:0})}}return ae})()},1203:(lt,he,C)=>{C.d(he,{F:()=>E,m:()=>ie});var _=C(3669);function E(...ee){return ie(ee)}function ie(ee){return 0===ee.length?_.D:1===ee.length?ee[0]:function(Q){return ee.reduce((X,W)=>W(X),Q)}}},1316:(lt,he,C)=>{C.d(he,{h:()=>Fe});var _=C(4412),E=C(5558),ie=C(7673),ee=C(9350),Q=C(8810),X=C(8141),W=C(9437),ae=C(6354),q=C(5085),te=C(4438),ye=C(1626);let Fe=(()=>{class Oe{constructor(_e){this.http=_e,this.alertSubject=new _.t(null),this.alertObservable=this.alertSubject.asObservable()}setUser(_e){console.log(_e)}setToDos(_e){console.log(_e)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,E.n)(_e=>(this.setUser(_e),this.getToDo(_e.id).pipe((0,X.M)(He=>this.setToDos(He))))),(0,W.W)(_e=>(this.alertSubject.next(_e),(0,ie.of)(_e))))}initialiseAppUsingPromises(){return function U(Oe,Te){const _e="object"==typeof Te;return new Promise((He,Le)=>{let Et,mt=!1;Oe.subscribe({next:rt=>{Et=rt,mt=!0},error:Le,complete:()=>{mt?He(Et):_e?He(Te.defaultValue):Le(new ee.G)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,ae.T)(_e=>_e))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,ae.T)(_e=>_e))}getUsers(){return this.http.get(q.O.jsonplaceholderEndpoints.users)}getUser(_e){return this.http.get(`${q.O.jsonplaceholderEndpoints.users}${_e}`).pipe((0,W.W)(He=>(0,Q.$)(()=>He)))}deleteToDo(_e){return this.http.delete(`${q.O.jsonplaceholderEndpoints.users}${_e}`).pipe((0,ae.T)(He=>He))}getToDos(){return this.http.get(q.O.jsonplaceholderEndpoints.todos).pipe((0,ae.T)(_e=>_e))}getToDo(_e){return this.http.get(`${q.O.jsonplaceholderEndpoints.todos}?userId=${_e}`).pipe((0,W.W)(He=>(0,Q.$)(()=>He)))}getPosts(){return this.http.get(q.O.jsonplaceholderEndpoints.posts)}getPost(_e){return this.http.get(`${q.O.jsonplaceholderEndpoints.posts}${_e}`)}getPostComments(_e){return this.http.get(`${q.O.jsonplaceholderEndpoints.posts}${_e}/comments`)}getPostsByUser(_e){return this.http.get(q.O.jsonplaceholderEndpoints.posts,{params:{userId:_e}})}getComments(){return this.http.get(q.O.jsonplaceholderEndpoints.comments)}getComment(_e){return this.http.get(`${q.O.jsonplaceholderEndpoints.comments}${_e}`)}getCommentsByPostId(_e){return this.http.get(`${q.O.jsonplaceholderEndpoints.comments}`,{params:{postId:_e}})}static{this.\u0275fac=function(He){return new(He||Oe)(te.KVO(ye.Qq))}}static{this.\u0275prov=te.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}return Oe})()},1362:(lt,he,C)=>{C.d(he,{h1:()=>W,uA:()=>ie});var _=C(467),E=C(1076);class ie{constructor(q,te,ye){this.name=q,this.instanceFactory=te,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ee="[DEFAULT]";class U{constructor(q,te){this.name=q,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const te=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(te)){const ye=new E.cY;if(this.instancesDeferred.set(te,ye),this.isInitialized(te)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:te});Fe&&ye.resolve(Fe)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(q){var te;const ye=this.normalizeInstanceIdentifier(q?.identifier),Fe=null!==(te=q?.optional)&&void 0!==te&&te;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Oe){if(Fe)return null;throw Oe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function X(ae){return"EAGER"===ae.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[te,ye]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(te);try{const Oe=this.getOrInitializeService({instanceIdentifier:Fe});ye.resolve(Oe)}catch{}}}}clearInstance(q=ee){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,_.A)(function*(){const te=Array.from(q.instances.values());yield Promise.all([...te.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...te.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ee){return this.instances.has(q)}getOptions(q=ee){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:te={}}=q,ye=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:ye,options:te});for(const[Oe,Te]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Oe)&&Te.resolve(Fe);return Fe}onInit(q,te){var ye;const Fe=this.normalizeInstanceIdentifier(te),Oe=null!==(ye=this.onInitCallbacks.get(Fe))&&void 0!==ye?ye:new Set;Oe.add(q),this.onInitCallbacks.set(Fe,Oe);const Te=this.instances.get(Fe);return Te&&q(Te,Fe),()=>{Oe.delete(q)}}invokeOnInitCallbacks(q,te){const ye=this.onInitCallbacks.get(te);if(ye)for(const Fe of ye)try{Fe(q,te)}catch{}}getOrInitializeService({instanceIdentifier:q,options:te={}}){let ye=this.instances.get(q);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=q,ae===ee?void 0:ae),options:te}),this.instances.set(q,ye),this.instancesOptions.set(q,te),this.invokeOnInitCallbacks(ye,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ye)}catch{}var ae;return ye||null}normalizeInstanceIdentifier(q=ee){return this.component?this.component.multipleInstances?q:ee:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const te=this.getProvider(q.name);if(te.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);te.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const te=new U(q,this);return this.providers.set(q,te),te}getProviders(){return Array.from(this.providers.values())}}},1397:(lt,he,C)=>{C.d(he,{Z:()=>W});var _=C(6354),E=C(8750),ie=C(9974),ee=C(5225),U=C(4360),X=C(8071);function W(ae,q,te=1/0){return(0,X.T)(q)?W((ye,Fe)=>(0,_.T)((Oe,Te)=>q(ye,Oe,Fe,Te))((0,E.Tg)(ae(ye,Fe))),te):("number"==typeof q&&(te=q),(0,ie.N)((ye,Fe)=>function Q(ae,q,te,ye,Fe,Oe,Te,_e){const He=[];let Le=0,mt=0,Et=!1;const rt=()=>{Et&&!He.length&&!Le&&q.complete()},tt=Mt=>Le<ye?Ot(Mt):He.push(Mt),Ot=Mt=>{Oe&&q.next(Mt),Le++;let jt=!1;(0,E.Tg)(te(Mt,mt++)).subscribe((0,U._)(q,Vt=>{Fe?.(Vt),Oe?tt(Vt):q.next(Vt)},()=>{jt=!0},void 0,()=>{if(jt)try{for(Le--;He.length&&Le<ye;){const Vt=He.shift();Te?(0,ee.N)(q,Te,()=>Ot(Vt)):Ot(Vt)}rt()}catch(Vt){q.error(Vt)}}))};return ae.subscribe((0,U._)(q,tt,()=>{Et=!0,rt()})),()=>{_e?.()}}(ye,Fe,ae,te)))}},1413:(lt,he,C)=>{C.d(he,{B:()=>X});var _=C(1985),E=C(8359);const ee=(0,C(1853).L)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=C(7908),Q=C(9786);let X=(()=>{class ae extends _.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ye=new W(this,this);return ye.operator=te,ye}_throwIfClosed(){if(this.closed)throw new ee}next(te){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(te)}})}error(te){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ye}=this;for(;ye.length;)ye.shift().error(te)}})}complete(){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ye,isStopped:Fe,observers:Oe}=this;return ye||Fe?E.Kn:(this.currentObservers=null,Oe.push(te),new E.yU(()=>{this.currentObservers=null,(0,U.o)(Oe,te)}))}_checkFinalizedStatuses(te){const{hasError:ye,thrownError:Fe,isStopped:Oe}=this;ye?te.error(Fe):Oe&&te.complete()}asObservable(){const te=new _.c;return te.source=this,te}}return ae.create=(q,te)=>new W(q,te),ae})();class W extends X{constructor(q,te){super(),this.destination=q,this.source=te}next(q){var te,ye;null===(ye=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ye||ye.call(te,q)}error(q){var te,ye;null===(ye=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ye||ye.call(te,q)}complete(){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===te||te.call(q)}_subscribe(q){var te,ye;return null!==(ye=null===(te=this.source)||void 0===te?void 0:te.subscribe(q))&&void 0!==ye?ye:E.Kn}}},1594:(lt,he,C)=>{C.d(he,{$:()=>X});var _=C(9350),E=C(5964),ie=C(6697),ee=C(9901),U=C(3774),Q=C(3669);function X(W,ae){const q=arguments.length>=2;return te=>te.pipe(W?(0,E.p)((ye,Fe)=>W(ye,Fe,te)):Q.D,(0,ie.s)(1),q?(0,ee.U)(ae):(0,U.v)(()=>new _.G))}},1626:(lt,he,C)=>{C.d(he,{Lr:()=>Oe,Nl:()=>tt,Qq:()=>er,a7:()=>ts,cS:()=>Ze,fx:()=>fn,q1:()=>gt,uA:()=>dt}),C(467);var E=C(4438),ie=C(7673),ee=C(1985),U=C(2806),Q=C(274),X=C(5964),W=C(6354),ae=C(980),q=C(5558),te=C(177);class ye{}class Fe{}class Oe{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Ee){Ee?"string"==typeof Ee?this.lazyInit=()=>{this.headers=new Map,Ee.split("\n").forEach(fe=>{const $e=fe.indexOf(":");if($e>0){const wt=fe.slice(0,$e),Ct=fe.slice($e+1).trim();this.addHeaderEntry(wt,Ct)}})}:typeof Headers<"u"&&Ee instanceof Headers?(this.headers=new Map,Ee.forEach((fe,$e)=>{this.addHeaderEntry($e,fe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ee).forEach(([fe,$e])=>{this.setHeaderEntries(fe,$e)})}:this.headers=new Map}has(Ee){return this.init(),this.headers.has(Ee.toLowerCase())}get(Ee){this.init();const fe=this.headers.get(Ee.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ee){return this.init(),this.headers.get(Ee.toLowerCase())||null}append(Ee,fe){return this.clone({name:Ee,value:fe,op:"a"})}set(Ee,fe){return this.clone({name:Ee,value:fe,op:"s"})}delete(Ee,fe){return this.clone({name:Ee,value:fe,op:"d"})}maybeSetNormalizedName(Ee,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,Ee)}init(){this.lazyInit&&(this.lazyInit instanceof Oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ee=>this.applyUpdate(Ee)),this.lazyUpdate=null))}copyFrom(Ee){Ee.init(),Array.from(Ee.headers.keys()).forEach(fe=>{this.headers.set(fe,Ee.headers.get(fe)),this.normalizedNames.set(fe,Ee.normalizedNames.get(fe))})}clone(Ee){const fe=new Oe;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof Oe?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([Ee]),fe}applyUpdate(Ee){const fe=Ee.name.toLowerCase();switch(Ee.op){case"a":case"s":let $e=Ee.value;if("string"==typeof $e&&($e=[$e]),0===$e.length)return;this.maybeSetNormalizedName(Ee.name,fe);const wt=("a"===Ee.op?this.headers.get(fe):void 0)||[];wt.push(...$e),this.headers.set(fe,wt);break;case"d":const Ct=Ee.value;if(Ct){let bt=this.headers.get(fe);if(!bt)return;bt=bt.filter(rn=>-1===Ct.indexOf(rn)),0===bt.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,bt)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}addHeaderEntry(Ee,fe){const $e=Ee.toLowerCase();this.maybeSetNormalizedName(Ee,$e),this.headers.has($e)?this.headers.get($e).push(fe):this.headers.set($e,[fe])}setHeaderEntries(Ee,fe){const $e=(Array.isArray(fe)?fe:[fe]).map(Ct=>Ct.toString()),wt=Ee.toLowerCase();this.headers.set(wt,$e),this.maybeSetNormalizedName(Ee,wt)}forEach(Ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>Ee(this.normalizedNames.get(fe),this.headers.get(fe)))}}class _e{encodeKey(Ee){return Et(Ee)}encodeValue(Ee){return Et(Ee)}decodeKey(Ee){return decodeURIComponent(Ee)}decodeValue(Ee){return decodeURIComponent(Ee)}}const Le=/%(\d[a-f0-9])/gi,mt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Et(re){return encodeURIComponent(re).replace(Le,(Ee,fe)=>mt[fe]??Ee)}function rt(re){return`${re}`}class tt{map;encoder;updates=null;cloneFrom=null;constructor(Ee={}){if(this.encoder=Ee.encoder||new _e,Ee.fromString){if(Ee.fromObject)throw new E.wOt(2805,!1);this.map=function He(re,Ee){const fe=new Map;return re.length>0&&re.replace(/^\?/,"").split("&").forEach(wt=>{const Ct=wt.indexOf("="),[bt,rn]=-1==Ct?[Ee.decodeKey(wt),""]:[Ee.decodeKey(wt.slice(0,Ct)),Ee.decodeValue(wt.slice(Ct+1))],ce=fe.get(bt)||[];ce.push(rn),fe.set(bt,ce)}),fe}(Ee.fromString,this.encoder)}else Ee.fromObject?(this.map=new Map,Object.keys(Ee.fromObject).forEach(fe=>{const $e=Ee.fromObject[fe],wt=Array.isArray($e)?$e.map(rt):[rt($e)];this.map.set(fe,wt)})):this.map=null}has(Ee){return this.init(),this.map.has(Ee)}get(Ee){this.init();const fe=this.map.get(Ee);return fe?fe[0]:null}getAll(Ee){return this.init(),this.map.get(Ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ee,fe){return this.clone({param:Ee,value:fe,op:"a"})}appendAll(Ee){const fe=[];return Object.keys(Ee).forEach($e=>{const wt=Ee[$e];Array.isArray(wt)?wt.forEach(Ct=>{fe.push({param:$e,value:Ct,op:"a"})}):fe.push({param:$e,value:wt,op:"a"})}),this.clone(fe)}set(Ee,fe){return this.clone({param:Ee,value:fe,op:"s"})}delete(Ee,fe){return this.clone({param:Ee,value:fe,op:"d"})}toString(){return this.init(),this.keys().map(Ee=>{const fe=this.encoder.encodeKey(Ee);return this.map.get(Ee).map($e=>fe+"="+this.encoder.encodeValue($e)).join("&")}).filter(Ee=>""!==Ee).join("&")}clone(Ee){const fe=new tt({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat(Ee),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ee=>this.map.set(Ee,this.cloneFrom.map.get(Ee))),this.updates.forEach(Ee=>{switch(Ee.op){case"a":case"s":const fe=("a"===Ee.op?this.map.get(Ee.param):void 0)||[];fe.push(rt(Ee.value)),this.map.set(Ee.param,fe);break;case"d":if(void 0===Ee.value){this.map.delete(Ee.param);break}{let $e=this.map.get(Ee.param)||[];const wt=$e.indexOf(rt(Ee.value));-1!==wt&&$e.splice(wt,1),$e.length>0?this.map.set(Ee.param,$e):this.map.delete(Ee.param)}}}),this.cloneFrom=this.updates=null)}}class Mt{map=new Map;set(Ee,fe){return this.map.set(Ee,fe),this}get(Ee){return this.map.has(Ee)||this.map.set(Ee,Ee.defaultValue()),this.map.get(Ee)}delete(Ee){return this.map.delete(Ee),this}has(Ee){return this.map.has(Ee)}keys(){return this.map.keys()}}function Vt(re){return typeof ArrayBuffer<"u"&&re instanceof ArrayBuffer}function Wt(re){return typeof Blob<"u"&&re instanceof Blob}function wn(re){return typeof FormData<"u"&&re instanceof FormData}const Ge="Content-Type",nn="X-Request-URL",jn="text/plain",Or="application/json",es=`${Or}, ${jn}, */*`;class Cr{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Ee,fe,$e,wt){let Ct;if(this.url=fe,this.method=Ee.toUpperCase(),function jt(re){switch(re){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==$e?$e:null,Ct=wt):Ct=$e,Ct&&(this.reportProgress=!!Ct.reportProgress,this.withCredentials=!!Ct.withCredentials,Ct.responseType&&(this.responseType=Ct.responseType),Ct.headers&&(this.headers=Ct.headers),Ct.context&&(this.context=Ct.context),Ct.params&&(this.params=Ct.params),this.transferCache=Ct.transferCache),this.headers??=new Oe,this.context??=new Mt,this.params){const bt=this.params.toString();if(0===bt.length)this.urlWithParams=fe;else{const rn=fe.indexOf("?");this.urlWithParams=fe+(-1===rn?"?":rn<fe.length-1?"&":"")+bt}}else this.params=new tt,this.urlWithParams=fe}serializeBody(){return null===this.body?null:"string"==typeof this.body||Vt(this.body)||Wt(this.body)||wn(this.body)||function ut(re){return typeof URLSearchParams<"u"&&re instanceof URLSearchParams}(this.body)?this.body:this.body instanceof tt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wn(this.body)?null:Wt(this.body)?this.body.type||null:Vt(this.body)?null:"string"==typeof this.body?jn:this.body instanceof tt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Or:null}clone(Ee={}){const fe=Ee.method||this.method,$e=Ee.url||this.url,wt=Ee.responseType||this.responseType,Ct=Ee.transferCache??this.transferCache,bt=void 0!==Ee.body?Ee.body:this.body,rn=Ee.withCredentials??this.withCredentials,ce=Ee.reportProgress??this.reportProgress;let ze=Ee.headers||this.headers,Me=Ee.params||this.params;const Ue=Ee.context??this.context;return void 0!==Ee.setHeaders&&(ze=Object.keys(Ee.setHeaders).reduce((ht,st)=>ht.set(st,Ee.setHeaders[st]),ze)),Ee.setParams&&(Me=Object.keys(Ee.setParams).reduce((ht,st)=>ht.set(st,Ee.setParams[st]),Me)),new Cr(fe,$e,bt,{params:Me,headers:ze,context:Ue,reportProgress:ce,responseType:wt,withCredentials:rn,transferCache:Ct})}}var Gr=function(re){return re[re.Sent=0]="Sent",re[re.UploadProgress=1]="UploadProgress",re[re.ResponseHeader=2]="ResponseHeader",re[re.DownloadProgress=3]="DownloadProgress",re[re.Response=4]="Response",re[re.User=5]="User",re}(Gr||{});class Ne{headers;status;statusText;url;ok;type;constructor(Ee,fe=200,$e="OK"){this.headers=Ee.headers||new Oe,this.status=void 0!==Ee.status?Ee.status:fe,this.statusText=Ee.statusText||$e,this.url=Ee.url||null,this.ok=this.status>=200&&this.status<300}}class Qe extends Ne{constructor(Ee={}){super(Ee)}type=Gr.ResponseHeader;clone(Ee={}){return new Qe({headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class Ze extends Ne{body;constructor(Ee={}){super(Ee),this.body=void 0!==Ee.body?Ee.body:null}type=Gr.Response;clone(Ee={}){return new Ze({body:void 0!==Ee.body?Ee.body:this.body,headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class Xe extends Ne{name="HttpErrorResponse";message;error;ok=!1;constructor(Ee){super(Ee,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ee.url||"(unknown url)"}`:`Http failure response for ${Ee.url||"(unknown url)"}: ${Ee.status} ${Ee.statusText}`,this.error=Ee.error||null}}function vn(re,Ee){return{body:Ee,headers:re.headers,context:re.context,observe:re.observe,params:re.params,reportProgress:re.reportProgress,responseType:re.responseType,withCredentials:re.withCredentials,transferCache:re.transferCache}}let er=(()=>{class re{handler;constructor(fe){this.handler=fe}request(fe,$e,wt={}){let Ct;if(fe instanceof Cr)Ct=fe;else{let ce,ze;ce=wt.headers instanceof Oe?wt.headers:new Oe(wt.headers),wt.params&&(ze=wt.params instanceof tt?wt.params:new tt({fromObject:wt.params})),Ct=new Cr(fe,$e,void 0!==wt.body?wt.body:null,{headers:ce,context:wt.context,params:ze,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials,transferCache:wt.transferCache})}const bt=(0,ie.of)(Ct).pipe((0,Q.H)(ce=>this.handler.handle(ce)));if(fe instanceof Cr||"events"===wt.observe)return bt;const rn=bt.pipe((0,X.p)(ce=>ce instanceof Ze));switch(wt.observe||"body"){case"body":switch(Ct.responseType){case"arraybuffer":return rn.pipe((0,W.T)(ce=>{if(null!==ce.body&&!(ce.body instanceof ArrayBuffer))throw new E.wOt(2806,!1);return ce.body}));case"blob":return rn.pipe((0,W.T)(ce=>{if(null!==ce.body&&!(ce.body instanceof Blob))throw new E.wOt(2807,!1);return ce.body}));case"text":return rn.pipe((0,W.T)(ce=>{if(null!==ce.body&&"string"!=typeof ce.body)throw new E.wOt(2808,!1);return ce.body}));default:return rn.pipe((0,W.T)(ce=>ce.body))}case"response":return rn;default:throw new E.wOt(2809,!1)}}delete(fe,$e={}){return this.request("DELETE",fe,$e)}get(fe,$e={}){return this.request("GET",fe,$e)}head(fe,$e={}){return this.request("HEAD",fe,$e)}jsonp(fe,$e){return this.request("JSONP",fe,{params:(new tt).append($e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,$e={}){return this.request("OPTIONS",fe,$e)}patch(fe,$e,wt={}){return this.request("PATCH",fe,vn(wt,$e))}post(fe,$e,wt={}){return this.request("POST",fe,vn(wt,$e))}put(fe,$e,wt={}){return this.request("PUT",fe,vn(wt,$e))}static \u0275fac=function($e){return new($e||re)(E.KVO(ye))};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac})}return re})();const ln=new E.nKC("");function or(re,Ee){return Ee(re)}function Pr(re,Ee){return(fe,$e)=>Ee.intercept(fe,{handle:wt=>re(wt,$e)})}const ts=new E.nKC(""),Fr=new E.nKC(""),Tn=new E.nKC(""),Xr=new E.nKC("",{providedIn:"root",factory:()=>!0});function At(){let re=null;return(Ee,fe)=>{null===re&&(re=((0,E.WQX)(ts,{optional:!0})??[]).reduceRight(Pr,or));const $e=(0,E.WQX)(E.Ua0);if((0,E.WQX)(Xr)){const Ct=$e.add();return re(Ee,fe).pipe((0,ae.j)(()=>$e.remove(Ct)))}return re(Ee,fe)}}let qr,Nr=(()=>{class re extends ye{backend;injector;chain=null;pendingTasks=(0,E.WQX)(E.Ua0);contributeToStability=(0,E.WQX)(Xr);constructor(fe,$e){super(),this.backend=fe,this.injector=$e}handle(fe){if(null===this.chain){const $e=Array.from(new Set([...this.injector.get(Fr),...this.injector.get(Tn,[])]));this.chain=$e.reduceRight((wt,Ct)=>function Rs(re,Ee,fe){return($e,wt)=>(0,E.N4e)(fe,()=>Ee($e,Ct=>re(Ct,wt)))}(wt,Ct,this.injector),or)}if(this.contributeToStability){const $e=this.pendingTasks.add();return this.chain(fe,wt=>this.backend.handle(wt)).pipe((0,ae.j)(()=>this.pendingTasks.remove($e)))}return this.chain(fe,$e=>this.backend.handle($e))}static \u0275fac=function($e){return new($e||re)(E.KVO(Fe),E.KVO(E.uvJ))};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac})}return re})(),xs=0;class Xs{}function zs(){return"object"==typeof window?window:{}}let Yr=(()=>{class re{callbackMap;document;resolvedPromise=Promise.resolve();constructor(fe,$e){this.callbackMap=fe,this.document=$e}nextCallback(){return"ng_jsonp_callback_"+xs++}handle(fe){if("JSONP"!==fe.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==fe.responseType)throw new Error("JSONP requests must use Json response type.");if(fe.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new ee.c($e=>{const wt=this.nextCallback(),Ct=fe.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${wt}$1`),bt=this.document.createElement("script");bt.src=Ct;let rn=null,ce=!1;this.callbackMap[wt]=ht=>{delete this.callbackMap[wt],rn=ht,ce=!0};const ze=()=>{bt.removeEventListener("load",Me),bt.removeEventListener("error",Ue),bt.remove(),delete this.callbackMap[wt]},Me=ht=>{this.resolvedPromise.then(()=>{ze(),ce?($e.next(new Ze({body:rn,status:200,statusText:"OK",url:Ct})),$e.complete()):$e.error(new Xe({url:Ct,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},Ue=ht=>{ze(),$e.error(new Xe({error:ht,status:0,statusText:"JSONP Error",url:Ct}))};return bt.addEventListener("load",Me),bt.addEventListener("error",Ue),this.document.body.appendChild(bt),$e.next({type:Gr.Sent}),()=>{ce||this.removeListeners(bt),ze()}})}removeListeners(fe){qr??=this.document.implementation.createHTMLDocument(),qr.adoptNode(fe)}static \u0275fac=function($e){return new($e||re)(E.KVO(Xs),E.KVO(te.DOCUMENT))};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac})}return re})();function Ln(re,Ee){return"JSONP"===re.method?(0,E.WQX)(Yr).handle(re):Ee(re)}const Kn=/^\)\]\}',?\n/,kr=RegExp(`^${nn}:`,"m");let An=(()=>{class re{xhrFactory;constructor(fe){this.xhrFactory=fe}handle(fe){if("JSONP"===fe.method)throw new E.wOt(-2800,!1);const $e=this.xhrFactory;return($e.\u0275loadImpl?(0,U.H)($e.\u0275loadImpl()):(0,ie.of)(null)).pipe((0,q.n)(()=>new ee.c(Ct=>{const bt=$e.build();if(bt.open(fe.method,fe.urlWithParams),fe.withCredentials&&(bt.withCredentials=!0),fe.headers.forEach((en,_n)=>bt.setRequestHeader(en,_n.join(","))),fe.headers.has("Accept")||bt.setRequestHeader("Accept",es),!fe.headers.has(Ge)){const en=fe.detectContentTypeHeader();null!==en&&bt.setRequestHeader(Ge,en)}if(fe.responseType){const en=fe.responseType.toLowerCase();bt.responseType="json"!==en?en:"text"}const rn=fe.serializeBody();let ce=null;const ze=()=>{if(null!==ce)return ce;const en=bt.statusText||"OK",_n=new Oe(bt.getAllResponseHeaders()),Tr=function jr(re){return"responseURL"in re&&re.responseURL?re.responseURL:kr.test(re.getAllResponseHeaders())?re.getResponseHeader(nn):null}(bt)||fe.url;return ce=new Qe({headers:_n,status:bt.status,statusText:en,url:Tr}),ce},Me=()=>{let{headers:en,status:_n,statusText:Tr,url:hn}=ze(),On=null;204!==_n&&(On=typeof bt.response>"u"?bt.responseText:bt.response),0===_n&&(_n=On?200:0);let Fs=_n>=200&&_n<300;if("json"===fe.responseType&&"string"==typeof On){const En=On;On=On.replace(Kn,"");try{On=""!==On?JSON.parse(On):null}catch(ks){On=En,Fs&&(Fs=!1,On={error:ks,text:On})}}Fs?(Ct.next(new Ze({body:On,headers:en,status:_n,statusText:Tr,url:hn||void 0})),Ct.complete()):Ct.error(new Xe({error:On,headers:en,status:_n,statusText:Tr,url:hn||void 0}))},Ue=en=>{const{url:_n}=ze(),Tr=new Xe({error:en,status:bt.status||0,statusText:bt.statusText||"Unknown Error",url:_n||void 0});Ct.error(Tr)};let ht=!1;const st=en=>{ht||(Ct.next(ze()),ht=!0);let _n={type:Gr.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(_n.total=en.total),"text"===fe.responseType&&bt.responseText&&(_n.partialText=bt.responseText),Ct.next(_n)},xt=en=>{let _n={type:Gr.UploadProgress,loaded:en.loaded};en.lengthComputable&&(_n.total=en.total),Ct.next(_n)};return bt.addEventListener("load",Me),bt.addEventListener("error",Ue),bt.addEventListener("timeout",Ue),bt.addEventListener("abort",Ue),fe.reportProgress&&(bt.addEventListener("progress",st),null!==rn&&bt.upload&&bt.upload.addEventListener("progress",xt)),bt.send(rn),Ct.next({type:Gr.Sent}),()=>{bt.removeEventListener("error",Ue),bt.removeEventListener("abort",Ue),bt.removeEventListener("load",Me),bt.removeEventListener("timeout",Ue),fe.reportProgress&&(bt.removeEventListener("progress",st),null!==rn&&bt.upload&&bt.upload.removeEventListener("progress",xt)),bt.readyState!==bt.DONE&&bt.abort()}})))}static \u0275fac=function($e){return new($e||re)(E.KVO(te.XhrFactory))};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac})}return re})();const io=new E.nKC(""),Ps=new E.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),we=new E.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Re{}let je=(()=>{class re{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(fe,$e,wt){this.doc=fe,this.platform=$e,this.cookieName=wt}getToken(){if("server"===this.platform)return null;const fe=this.doc.cookie||"";return fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te.\u0275parseCookieValue)(fe,this.cookieName),this.lastCookieString=fe),this.lastToken}static \u0275fac=function($e){return new($e||re)(E.KVO(te.DOCUMENT),E.KVO(E.Agw),E.KVO(Ps))};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac})}return re})();function le(re,Ee){const fe=re.url.toLowerCase();if(!(0,E.WQX)(io)||"GET"===re.method||"HEAD"===re.method||fe.startsWith("http://")||fe.startsWith("https://"))return Ee(re);const $e=(0,E.WQX)(Re).getToken(),wt=(0,E.WQX)(we);return null!=$e&&!re.headers.has(wt)&&(re=re.clone({headers:re.headers.set(wt,$e)})),Ee(re)}var oe=function(re){return re[re.Interceptors=0]="Interceptors",re[re.LegacyInterceptors=1]="LegacyInterceptors",re[re.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",re[re.NoXsrfProtection=3]="NoXsrfProtection",re[re.JsonpSupport=4]="JsonpSupport",re[re.RequestsMadeViaParent=5]="RequestsMadeViaParent",re[re.Fetch=6]="Fetch",re}(oe||{});function me(re,Ee){return{\u0275kind:re,\u0275providers:Ee}}function Je(...re){const Ee=[er,An,Nr,{provide:ye,useExisting:Nr},{provide:Fe,useFactory:()=>(0,E.WQX)(ln,{optional:!0})??(0,E.WQX)(An)},{provide:Fr,useValue:le,multi:!0},{provide:io,useValue:!0},{provide:Re,useClass:je}];for(const fe of re)Ee.push(...fe.\u0275providers);return(0,E.EmA)(Ee)}const Gt=new E.nKC("");function Ut(){return me(oe.LegacyInterceptors,[{provide:Gt,useFactory:At},{provide:Fr,useExisting:Gt,multi:!0}])}function ar(){return me(oe.JsonpSupport,[Yr,{provide:Xs,useFactory:zs},{provide:Fr,useValue:Ln,multi:!0}])}let gt=(()=>{class re{static \u0275fac=function($e){return new($e||re)};static \u0275mod=E.$C({type:re});static \u0275inj=E.G2t({providers:[Je(Ut())]})}return re})(),dt=(()=>{class re{static \u0275fac=function($e){return new($e||re)};static \u0275mod=E.$C({type:re});static \u0275inj=E.G2t({providers:[ar().\u0275providers]})}return re})();const fn=(()=>{const re=cn("json");return re.arrayBuffer=cn("arraybuffer"),re.blob=cn("blob"),re.text=cn("text"),re})();function cn(re){return function(fe,$e){$e?.injector||(0,E.Af3)(fn);const wt=$e?.injector??(0,E.WQX)(E.zZn);return new Lr(wt,()=>function Sn(re,Ee){let fe="function"==typeof re?re():re;if(void 0===fe)return;"string"==typeof fe&&(fe={url:fe});const $e=fe.headers instanceof Oe?fe.headers:new Oe(fe.headers),wt=fe.params instanceof tt?fe.params:new tt({fromObject:fe.params});return new Cr(fe.method??"GET",fe.url,fe.body??null,{headers:$e,params:wt,reportProgress:fe.reportProgress,withCredentials:fe.withCredentials,responseType:Ee})}(fe,re),$e?.defaultValue,$e?.parse)}}class Lr extends E.waE{client;_headers=(0,E.uuI)({source:this.extRequest,computation:()=>{}});_progress=(0,E.uuI)({source:this.extRequest,computation:()=>{}});_statusCode=(0,E.uuI)({source:this.extRequest,computation:()=>{}});headers=(0,E.EWP)(()=>this.status()===E.bk.Resolved||this.status()===E.bk.Error?this._headers():void 0);progress=this._progress.asReadonly();statusCode=this._statusCode.asReadonly();constructor(Ee,fe,$e,wt){super(fe,({request:Ct,abortSignal:bt})=>{let rn;const ce=()=>rn.unsubscribe();bt.addEventListener("abort",ce);const ze=(0,E.vPA)({value:void 0});let Me;const Ue=new Promise(st=>Me=st),ht=st=>{ze.set(st),Me?.(ze),Me=void 0};return rn=this.client.request(Ct).subscribe({next:st=>{switch(st.type){case Gr.Response:this._headers.set(st.headers),this._statusCode.set(st.status);try{ht({value:wt?wt(st.body):st.body})}catch(xt){ht({error:xt})}break;case Gr.DownloadProgress:this._progress.set(st)}},error:st=>ht({error:st}),complete:()=>{Me&&ht({error:new Error("Resource completed before producing a value")}),bt.removeEventListener("abort",ce)}}),Ue},$e,void 0,Ee),this.client=Ee.get(er)}hasValue(){return super.hasValue()}}},1635:(lt,he,C)=>{function ee(Ne,Qe){var Ze={};for(var Xe in Ne)Object.prototype.hasOwnProperty.call(Ne,Xe)&&Qe.indexOf(Xe)<0&&(Ze[Xe]=Ne[Xe]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var Dt=0;for(Xe=Object.getOwnPropertySymbols(Ne);Dt<Xe.length;Dt++)Qe.indexOf(Xe[Dt])<0&&Object.prototype.propertyIsEnumerable.call(Ne,Xe[Dt])&&(Ze[Xe[Dt]]=Ne[Xe[Dt]])}return Ze}function U(Ne,Qe,Ze,Xe){var Lt,Dt=arguments.length,vt=Dt<3?Qe:null===Xe?Xe=Object.getOwnPropertyDescriptor(Qe,Ze):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)vt=Reflect.decorate(Ne,Qe,Ze,Xe);else for(var vn=Ne.length-1;vn>=0;vn--)(Lt=Ne[vn])&&(vt=(Dt<3?Lt(vt):Dt>3?Lt(Qe,Ze,vt):Lt(Qe,Ze))||vt);return Dt>3&&vt&&Object.defineProperty(Qe,Ze,vt),vt}function ye(Ne,Qe,Ze,Xe){return new(Ze||(Ze=Promise))(function(vt,Lt){function vn(Mn){try{qt(Xe.next(Mn))}catch(ln){Lt(ln)}}function er(Mn){try{qt(Xe.throw(Mn))}catch(ln){Lt(ln)}}function qt(Mn){Mn.done?vt(Mn.value):function Dt(vt){return vt instanceof Ze?vt:new Ze(function(Lt){Lt(vt)})}(Mn.value).then(vn,er)}qt((Xe=Xe.apply(Ne,Qe||[])).next())})}function rt(Ne){return this instanceof rt?(this.v=Ne,this):new rt(Ne)}function tt(Ne,Qe,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,Xe=Ze.apply(Ne,Qe||[]),vt=[];return Dt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vn("next"),vn("throw"),vn("return",function Lt(Un){return function(qn){return Promise.resolve(qn).then(Un,ln)}}),Dt[Symbol.asyncIterator]=function(){return this},Dt;function vn(Un,qn){Xe[Un]&&(Dt[Un]=function(Qr){return new Promise(function(or,Pr){vt.push([Un,Qr,or,Pr])>1||er(Un,Qr)})},qn&&(Dt[Un]=qn(Dt[Un])))}function er(Un,qn){try{!function qt(Un){Un.value instanceof rt?Promise.resolve(Un.value.v).then(Mn,ln):_r(vt[0][2],Un)}(Xe[Un](qn))}catch(Qr){_r(vt[0][3],Qr)}}function Mn(Un){er("next",Un)}function ln(Un){er("throw",Un)}function _r(Un,qn){Un(qn),vt.shift(),vt.length&&er(vt[0][0],vt[0][1])}}function Mt(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Qe=Ne[Symbol.asyncIterator];return Qe?Qe.call(Ne):(Ne=function _e(Ne){var Qe="function"==typeof Symbol&&Symbol.iterator,Ze=Qe&&Ne[Qe],Xe=0;if(Ze)return Ze.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&Xe>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[Xe++],done:!Ne}}};throw new TypeError(Qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),Ze={},Xe("next"),Xe("throw"),Xe("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Xe(vt){Ze[vt]=Ne[vt]&&function(Lt){return new Promise(function(vn,er){!function Dt(vt,Lt,vn,er){Promise.resolve(er).then(function(qt){vt({value:qt,done:vn})},Lt)}(vn,er,(Lt=Ne[vt](Lt)).done,Lt.value)})}}}C.d(he,{AQ:()=>tt,Cg:()=>U,N3:()=>rt,Tt:()=>ee,sH:()=>ye,xN:()=>Mt}),"function"==typeof SuppressedError&&SuppressedError},1807:(lt,he,C)=>{C.d(he,{O:()=>U});var _=C(1985),E=C(3236),ie=C(9470),ee=C(8211);function U(Q=0,X,W=E.b){let ae=-1;return null!=X&&((0,ie.m)(X)?W=X:ae=X),new _.c(q=>{let te=(0,ee.v)(Q)?+Q-W.now():Q;te<0&&(te=0);let ye=0;return W.schedule(function(){q.closed||(q.next(ye++),0<=ae?this.schedule(void 0,ae):q.complete())},te)})}},1813:(lt,he,C)=>{var _=C(345),E=C(4438),ie=C(467),ee=C(884),U=C(9969);const Q=[(0,U.P)(":enter, :leave",(0,U.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,U.P)(":leave",(0,U.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,U.P)(":enter",(0,U.iF)({transform:"translateX(100%)"}),{optional:!0}),(0,U.Os)([(0,U.P)(":leave",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateX(-100%)"}))],{optional:!0}),(0,U.P)(":enter",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateX(0%)"}))],{optional:!0})])],X=[(0,U.P)(":enter, :leave",(0,U.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,U.P)(":leave",(0,U.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,U.P)(":enter",(0,U.iF)({transform:"translateX(-100%)"}),{optional:!0}),(0,U.Os)([(0,U.P)(":leave",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateX(100%)"}))],{optional:!0}),(0,U.P)(":enter",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateX(0%)"}))],{optional:!0})])],W=[(0,U.P)(":enter, :leave",(0,U.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,U.P)(":leave",(0,U.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,U.P)(":enter",(0,U.iF)({transform:"translateY(100%)"}),{optional:!0}),(0,U.Os)([(0,U.P)(":leave",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateY(-100%)"}))],{optional:!0}),(0,U.P)(":enter",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateY(0%)"}))],{optional:!0})])],ae=[(0,U.P)(":enter, :leave",(0,U.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,U.P)(":leave",(0,U.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,U.P)(":enter",(0,U.iF)({transform:"translateY(-100%)"}),{optional:!0}),(0,U.Os)([(0,U.P)(":leave",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateY(100%)"}))],{optional:!0}),(0,U.P)(":enter",[(0,U.i0)(".3s ease-in-out",(0,U.iF)({transform:"translateY(0%)"}))],{optional:!0})])],q=(0,U.hZ)("slideTransition",[(0,U.kY)("* => slideToLeft",Q),(0,U.kY)("* => slideToRight",X),(0,U.kY)("* => slideToTop",W),(0,U.kY)("* => slideToBottom",ae)]);var te=C(6454),ye=C(177);const Fe=()=>["navbar-dark","bg-dark"],Oe=()=>["navbar-light","bg-light"],Te=u=>({show:u});function _e(u,c){if(1&u&&(E.j41(0,"li",11)(1,"a",12),E.EFF(2),E.k0s()()),2&u){const a=c.$implicit;E.R7$(),E.Y8G("routerLink",null==a?null:a.path),E.R7$(),E.JRh((null==a?null:a.name)||(null==a?null:a.path))}}function He(u,c){if(1&u&&(E.j41(0,"a",13),E.EFF(1),E.k0s()),2&u){const a=c.$implicit;E.R7$(),E.JRh(a)}}let Le=(()=>{class u{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275cmp=E.VBU({type:u,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},standalone:!1,decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(h,m){1&h&&(E.j41(0,"nav",0)(1,"a",1),E.EFF(2,"Navbar"),E.k0s(),E.j41(3,"button",2),E.bIt("click",function(){return m.toggleNavbar()}),E.nrm(4,"span",3),E.k0s(),E.j41(5,"div",4)(6,"ul",5),E.DNE(7,_e,3,2,"li",6),E.j41(8,"li",7),E.bIt("click",function(){return m.show=!m.show}),E.j41(9,"a",8),E.EFF(10,"Language"),E.k0s(),E.j41(11,"div",9),E.DNE(12,He,2,1,"a",10),E.k0s()()()()()),2&h&&(E.Y8G("ngClass","DARK"===m.template?E.lJ4(6,Fe):E.lJ4(7,Oe)),E.R7$(5),E.Y8G("ngClass",E.eq3(8,Te,m.isCollapsed)),E.R7$(2),E.Y8G("ngForOf",m.routes),E.R7$(4),E.AVh("show",m.show),E.R7$(),E.Y8G("ngForOf",m.languages))},dependencies:[ye.NgClass,ye.NgForOf,ee.Wk,ee.wQ],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]})}}return u})();const Et=[{path:"application",loadChildren:()=>Promise.all([C.e(2076),C.e(8508)]).then(C.bind(C,8508)).then(u=>u.ApplicationModule)},{path:"audios",loadChildren:()=>Promise.all([C.e(3760),C.e(7215)]).then(C.bind(C,7215)).then(u=>u.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([C.e(3760),C.e(2076),C.e(8398)]).then(C.bind(C,8398)).then(u=>u.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([C.e(3760),C.e(8232),C.e(1299)]).then(C.bind(C,1299)).then(u=>u.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([C.e(3760),C.e(6709)]).then(C.bind(C,6709)).then(u=>u.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([C.e(3760),C.e(9125)]).then(C.bind(C,9125)).then(u=>u.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([C.e(3810),C.e(3760),C.e(1658)]).then(C.bind(C,1658)).then(u=>u.CovidModule)},{path:"github",loadChildren:()=>Promise.all([C.e(3810),C.e(3760),C.e(2076),C.e(350)]).then(C.bind(C,350)).then(u=>u.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([C.e(3810),C.e(2076),C.e(6246)]).then(C.bind(C,6246)).then(u=>u.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([C.e(3760),C.e(5802)]).then(C.bind(C,5802)).then(u=>u.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([C.e(3760),C.e(2076),C.e(8204)]).then(C.bind(C,8204)).then(u=>u.MoviesModule)},{path:"sports",loadChildren:()=>Promise.all([C.e(3760),C.e(4624)]).then(C.bind(C,4624)).then(u=>u.SportsModule)},{path:"shop",loadChildren:()=>C.e(7460).then(C.bind(C,7460)).then(u=>u.ShopModule)},{path:"store",loadChildren:()=>C.e(8528).then(C.bind(C,8528)).then(u=>u.StoreModule)},{path:"ngrx-store",loadChildren:()=>C.e(990).then(C.bind(C,990)).then(u=>u.NgrxStoreModule)},{path:"responsive-site",loadChildren:()=>C.e(5447).then(C.bind(C,5447)).then(u=>u.ResponsiveSiteModule)},{path:"mockapi",loadChildren:()=>C.e(3053).then(C.bind(C,3053)).then(u=>u.MockapiModule)},{path:"routeReuse",loadChildren:()=>C.e(7132).then(C.bind(C,7132)).then(u=>u.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>C.e(2959).then(C.bind(C,2959)).then(u=>u.SampleModule)},{path:"navigations",component:(()=>{class u{constructor(a){this.animationService=a,this.routes=[{path:"resume"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(a){return a.activatedRouteData.animation}static{this.\u0275fac=function(h){return new(h||u)(E.rXU(te.O))}}static{this.\u0275cmp=E.VBU({type:u,selectors:[["app-navigations"]],standalone:!1,decls:3,vars:2,consts:[[3,"routes","template"]],template:function(h,m){1&h&&(E.nrm(0,"app-navbar",0),E.j41(1,"main"),E.nrm(2,"router-outlet"),E.k0s()),2&h&&E.Y8G("routes",m.routes)("template","LIGHT")},dependencies:[ee.n3,Le],encapsulation:2,data:{animation:[q]}})}}return u})(),children:[{path:"svg",loadChildren:()=>C.e(862).then(C.bind(C,862)).then(u=>u.SvgRendererModule)},{path:"unit-testing",loadChildren:()=>C.e(9580).then(C.bind(C,9580)).then(u=>u.UnitTestingModule)}]},{path:"library-ex",loadChildren:()=>Promise.all([C.e(3810),C.e(8232),C.e(5704),C.e(2076),C.e(2964)]).then(C.bind(C,2964)).then(u=>u.LibraryExModule)},{path:"firebase",loadChildren:()=>Promise.all([C.e(3810),C.e(2867),C.e(8475),C.e(8232),C.e(8756),C.e(5704),C.e(2076),C.e(193)]).then(C.bind(C,193)).then(u=>u.FirebaseModule)},{path:"tutorials",loadChildren:()=>Promise.all([C.e(8232),C.e(4797)]).then(C.bind(C,4797)).then(u=>u.TutorialsModule)},{path:"code-task",loadChildren:()=>C.e(3940).then(C.bind(C,3940)).then(u=>u.CodeTaskModule)},{path:"custom",loadComponent:(u=(0,ie.A)(function*(){return(yield Promise.all([C.e(3810),C.e(2076),C.e(9603)]).then(C.bind(C,9603))).CustomComponent}),function(){return u.apply(this,arguments)})},{path:"declarative",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield Promise.all([C.e(2076),C.e(562)]).then(C.bind(C,562))).DeclarativeModule});return function(){return u.apply(this,arguments)}}()},{path:"certificate",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield Promise.all([C.e(2076),C.e(4668)]).then(C.bind(C,2287))).CertificateModule});return function(){return u.apply(this,arguments)}}()},{path:"systems",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield Promise.all([C.e(7122),C.e(7739)]).then(C.bind(C,7739))).SystemsModule});return function(){return u.apply(this,arguments)}}()},{path:"assignment",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield Promise.all([C.e(3810),C.e(2495)]).then(C.bind(C,2495))).AssignmentModule});return function(){return u.apply(this,arguments)}}()},{path:"",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield Promise.all([C.e(3810),C.e(4277),C.e(2076),C.e(6505)]).then(C.bind(C,6505))).WebsiteModule});return function(){return u.apply(this,arguments)}}()},{path:"",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield C.e(2302).then(C.bind(C,2302))).DemosModule});return function(){return u.apply(this,arguments)}}()},{path:"",loadChildren:()=>C.e(3794).then(C.bind(C,3794))},{path:"conclude",loadComponent:()=>Promise.all([C.e(2076),C.e(2294)]).then(C.bind(C,2294))},{path:"",loadChildren:()=>C.e(2076).then(C.bind(C,3439))},{path:"features",loadChildren:()=>C.e(2953).then(C.bind(C,2953))},{path:"pages",loadChildren:function(){var u=(0,ie.A)(function*(){return(yield Promise.all([C.e(2076),C.e(6001)]).then(C.bind(C,6001))).PagesModule});return function(){return u.apply(this,arguments)}}()},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:""}];var u;let rt=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({imports:[ee.iI.forRoot(Et,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),ee.iI]})}}return u})();var tt=C(1316),Ot=C(1152);let Mt=(()=>{class u{constructor(a,h){this.jsonPlaceholderService=a,this.route=h,this.title="portfolio-all-in-one",this.version=E.xvI.major}ngOnInit(){window.addEventListener("beforeinstallprompt",a=>{console.log("'beforeinstallprompt' event was fired.")})}static{this.\u0275fac=function(h){return new(h||u)(E.rXU(tt.h),E.rXU(ee.nX))}}static{this.\u0275cmp=E.VBU({type:u,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,template:function(h,m){1&h&&E.nrm(0,"app-notification")(1,"router-outlet")(2,"ng-toast")},dependencies:[ee.n3,Ot.d3],encapsulation:2})}}return u})();function Vt(u){return new E.wOt(3e3,!1)}function ns(u){switch(u.length){case 0:return new U.sf;case 1:return u[0];default:return new U.ui(u)}}function Nr(u,c,a=new Map,h=new Map){const m=[],w=[];let b=-1,P=null;if(c.forEach(K=>{const G=K.get("offset"),ve=G==b,ge=ve&&P||new Map;K.forEach((Pe,ct)=>{let Ye=ct,yt=Pe;if("offset"!==ct)switch(Ye=u.normalizePropertyName(Ye,m),yt){case U.FX:yt=a.get(ct);break;case U.kp:yt=h.get(ct);break;default:yt=u.normalizeStyleValue(ct,Ye,yt,m)}ge.set(Ye,yt)}),ve||w.push(ge),P=ge,b=G}),m.length)throw function _r(){return new E.wOt(3502,!1)}();return w}function xs(u,c,a,h){switch(c){case"start":u.onStart(()=>h(a&&qr(a,"start",u)));break;case"done":u.onDone(()=>h(a&&qr(a,"done",u)));break;case"destroy":u.onDestroy(()=>h(a&&qr(a,"destroy",u)))}}function qr(u,c,a){const w=Ii(u.element,u.triggerName,u.fromState,u.toState,c||u.phaseName,a.totalTime??u.totalTime,!!a.disabled),b=u._data;return null!=b&&(w._data=b),w}function Ii(u,c,a,h,m="",w=0,b){return{element:u,triggerName:c,fromState:a,toState:h,phaseName:m,totalTime:w,disabled:!!b}}function Yt(u,c,a){let h=u.get(c);return h||u.set(c,h=a),h}function ni(u){const c=u.indexOf(":");return[u.substring(1,c),u.slice(c+1)]}const dn=typeof document>"u"?null:document.documentElement;function Xs(u){const c=u.parentNode||u.host||null;return c===dn?null:c}let Yr=null,Ln=!1;function jr(u,c){for(;c;){if(c===u)return!0;c=Xs(c)}return!1}function An(u,c,a){if(a)return Array.from(u.querySelectorAll(c));const h=u.querySelector(c);return h?[h]:[]}let Yn=(()=>{class u{validateStyleProperty(a){return function Er(u){Yr||(Yr=function kr(){return typeof document<"u"?document.body:null}()||{},Ln=!!Yr.style&&"WebkitAppearance"in Yr.style);let c=!0;return Yr.style&&!function zs(u){return"ebkit"==u.substring(1,6)}(u)&&(c=u in Yr.style,!c&&Ln&&(c="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Yr.style)),c}(a)}containsElement(a,h){return jr(a,h)}getParentElement(a){return Xs(a)}query(a,h,m){return An(a,h,m)}computeStyle(a,h,m){return m||""}animate(a,h,m,w,b,P=[],K){return new U.sf(m,w)}static \u0275fac=function(h){return new(h||u)};static \u0275prov=E.jDH({token:u,factory:u.\u0275fac})}return u})();class Ps{static NOOP=new Yn}class Se{}const De="ng-enter",oe="ng-leave",me="ng-trigger",Je=".ng-trigger",pt="ng-animating",Gt=".ng-animating";function Ut(u){if("number"==typeof u)return u;const c=u.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Dn(parseFloat(c[1]),c[2])}function Dn(u,c){return"s"===c?1e3*u:u}function nr(u,c,a){return u.hasOwnProperty("duration")?u:function ar(u,c,a){let m,w=0,b="";if("string"==typeof u){const P=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===P)return c.push(Vt()),{duration:0,delay:0,easing:""};m=Dn(parseFloat(P[1]),P[2]);const K=P[3];null!=K&&(w=Dn(parseFloat(K),P[4]));const G=P[5];G&&(b=G)}else m=u;if(!a){let P=!1,K=c.length;m<0&&(c.push(function Wt(){return new E.wOt(3100,!1)}()),P=!0),w<0&&(c.push(function wn(){return new E.wOt(3101,!1)}()),P=!0),P&&c.splice(K,0,Vt())}return{duration:m,delay:w,easing:b}}(u,c,a)}function Ve(u,c,a){c.forEach((h,m)=>{const w=Cn(m);a&&!a.has(m)&&a.set(m,u.style[w]),u.style[w]=h})}function gt(u,c){c.forEach((a,h)=>{const m=Cn(h);u.style[m]=""})}function dt(u){return Array.isArray(u)?1==u.length?u[0]:(0,U.K2)(u):u}const cn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sn(u){let c=[];if("string"==typeof u){let a;for(;a=cn.exec(u);)c.push(a[1]);cn.lastIndex=0}return c}function Lr(u,c,a){const h=`${u}`,m=h.replace(cn,(w,b)=>{let P=c[b];return null==P&&(a.push(function Ge(){return new E.wOt(3003,!1)}()),P=""),P.toString()});return m==h?u:m}const Ir=/-+([a-z0-9])/g;function Cn(u){return u.replace(Ir,(...c)=>c[1].toUpperCase())}function an(u,c,a){switch(c.type){case U.If.Trigger:return u.visitTrigger(c,a);case U.If.State:return u.visitState(c,a);case U.If.Transition:return u.visitTransition(c,a);case U.If.Sequence:return u.visitSequence(c,a);case U.If.Group:return u.visitGroup(c,a);case U.If.Animate:return u.visitAnimate(c,a);case U.If.Keyframes:return u.visitKeyframes(c,a);case U.If.Style:return u.visitStyle(c,a);case U.If.Reference:return u.visitReference(c,a);case U.If.AnimateChild:return u.visitAnimateChild(c,a);case U.If.AnimateRef:return u.visitAnimateRef(c,a);case U.If.Query:return u.visitQuery(c,a);case U.If.Stagger:return u.visitStagger(c,a);default:throw function Ft(){return new E.wOt(3004,!1)}()}}function fs(u,c){return window.getComputedStyle(u)[c]}const zi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ps extends Se{normalizePropertyName(c,a){return Cn(c)}normalizeStyleValue(c,a,h,m){let w="";const b=h.toString().trim();if(zi.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)w="px";else{const P=h.match(/^[+-]?[\d\.]+([a-z]*)$/);P&&0==P[1].length&&m.push(function nn(){return new E.wOt(3005,!1)}())}return b+w}}const Qi=new Set(["true","1"]),re=new Set(["false","0"]);function Ee(u,c){const a=Qi.has(u)||re.has(u),h=Qi.has(c)||re.has(c);return(m,w)=>{let b="*"==u||u==m,P="*"==c||c==w;return!b&&a&&"boolean"==typeof m&&(b=m?Qi.has(u):re.has(u)),!P&&h&&"boolean"==typeof w&&(P=w?Qi.has(c):re.has(c)),b&&P}}const $e=new RegExp("s*:selfs*,?","g");function wt(u,c,a,h){return new bt(u).build(c,a,h)}class bt{_driver;constructor(c){this._driver=c}build(c,a,h){const m=new ze(a);return this._resetContextStyleTimingState(m),an(this,dt(c),m)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let h=a.queryCount=0,m=a.depCount=0;const w=[],b=[];return"@"==c.name.charAt(0)&&a.errors.push(function jn(){return new E.wOt(3006,!1)}()),c.definitions.forEach(P=>{if(this._resetContextStyleTimingState(a),P.type==U.If.State){const K=P,G=K.name;G.toString().split(/\s*,\s*/).forEach(ve=>{K.name=ve,w.push(this.visitState(K,a))}),K.name=G}else if(P.type==U.If.Transition){const K=this.visitTransition(P,a);h+=K.queryCount,m+=K.depCount,b.push(K)}else a.errors.push(function Or(){return new E.wOt(3007,!1)}())}),{type:U.If.Trigger,name:c.name,states:w,transitions:b,queryCount:h,depCount:m,options:null}}visitState(c,a){const h=this.visitStyle(c.styles,a),m=c.options&&c.options.params||null;if(h.containsDynamicStyles){const w=new Set,b=m||{};h.styles.forEach(P=>{P instanceof Map&&P.forEach(K=>{Sn(K).forEach(G=>{b.hasOwnProperty(G)||w.add(G)})})}),w.size&&a.errors.push(function es(){return new E.wOt(3008,!1)}(0,w.values()))}return{type:U.If.State,name:c.name,style:h,options:m?{params:m}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const h=an(this,dt(c.animation),a),m=function Gi(u,c){const a=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(h=>function Eo(u,c,a){if(":"==u[0]){const K=function Ta(u,c){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return c.push(function er(){return new E.wOt(3016,!1)}()),"* => *"}}(u,a);if("function"==typeof K)return void c.push(K);u=K}const h=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function vn(){return new E.wOt(3015,!1)}()),c;const m=h[1],w=h[2],b=h[3];c.push(Ee(m,b)),"<"==w[0]&&("*"!=m||"*"!=b)&&c.push(Ee(b,m))}(h,a,c)):a.push(u),a}(c.expr,a.errors);return{type:U.If.Transition,matchers:m,animation:h,queryCount:a.queryCount,depCount:a.depCount,options:ht(c.options)}}visitSequence(c,a){return{type:U.If.Sequence,steps:c.steps.map(h=>an(this,h,a)),options:ht(c.options)}}visitGroup(c,a){const h=a.currentTime;let m=0;const w=c.steps.map(b=>{a.currentTime=h;const P=an(this,b,a);return m=Math.max(m,a.currentTime),P});return a.currentTime=m,{type:U.If.Group,steps:w,options:ht(c.options)}}visitAnimate(c,a){const h=function Ue(u,c){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return st(nr(u,c).duration,0,"");const a=u;if(a.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=st(0,0,"");return w.dynamic=!0,w.strValue=a,w}const m=nr(a,c);return st(m.duration,m.delay,m.easing)}(c.timings,a.errors);a.currentAnimateTimings=h;let m,w=c.styles?c.styles:(0,U.iF)({});if(w.type==U.If.Keyframes)m=this.visitKeyframes(w,a);else{let b=c.styles,P=!1;if(!b){P=!0;const G={};h.easing&&(G.easing=h.easing),b=(0,U.iF)(G)}a.currentTime+=h.duration+h.delay;const K=this.visitStyle(b,a);K.isEmptyStep=P,m=K}return a.currentAnimateTimings=null,{type:U.If.Animate,timings:h,style:m,options:null}}visitStyle(c,a){const h=this._makeStyleAst(c,a);return this._validateStyleAst(h,a),h}_makeStyleAst(c,a){const h=[],m=Array.isArray(c.styles)?c.styles:[c.styles];for(let P of m)"string"==typeof P?P===U.kp?h.push(P):a.errors.push(new E.wOt(3002,!1)):h.push(new Map(Object.entries(P)));let w=!1,b=null;return h.forEach(P=>{if(P instanceof Map&&(P.has("easing")&&(b=P.get("easing"),P.delete("easing")),!w))for(let K of P.values())if(K.toString().indexOf("{{")>=0){w=!0;break}}),{type:U.If.Style,styles:h,easing:b,offset:c.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(c,a){const h=a.currentAnimateTimings;let m=a.currentTime,w=a.currentTime;h&&w>0&&(w-=h.duration+h.delay),c.styles.forEach(b=>{"string"!=typeof b&&b.forEach((P,K)=>{const G=a.collectedStyles.get(a.currentQuerySelector),ve=G.get(K);let ge=!0;ve&&(w!=m&&w>=ve.startTime&&m<=ve.endTime&&(a.errors.push(function Ne(){return new E.wOt(3010,!1)}()),ge=!1),w=ve.startTime),ge&&G.set(K,{startTime:w,endTime:m}),a.options&&function fn(u,c,a){const h=c.params||{},m=Sn(u);m.length&&m.forEach(w=>{h.hasOwnProperty(w)||a.push(function ut(){return new E.wOt(3001,!1)}())})}(P,a.options,a.errors)})})}visitKeyframes(c,a){const h={type:U.If.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Qe(){return new E.wOt(3011,!1)}()),h;let w=0;const b=[];let P=!1,K=!1,G=0;const ve=c.steps.map(Vn=>{const Jn=this._makeStyleAst(Vn,a);let cs=null!=Jn.offset?Jn.offset:function Me(u){if("string"==typeof u)return null;let c=null;if(Array.isArray(u))u.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;c=parseFloat(h.get("offset")),h.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const a=u;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(Jn.styles),Wn=0;return null!=cs&&(w++,Wn=Jn.offset=cs),K=K||Wn<0||Wn>1,P=P||Wn<G,G=Wn,b.push(Wn),Jn});K&&a.errors.push(function Ze(){return new E.wOt(3012,!1)}()),P&&a.errors.push(function Xe(){return new E.wOt(3200,!1)}());const ge=c.steps.length;let Pe=0;w>0&&w<ge?a.errors.push(function Dt(){return new E.wOt(3202,!1)}()):0==w&&(Pe=1/(ge-1));const ct=ge-1,Ye=a.currentTime,yt=a.currentAnimateTimings,tn=yt.duration;return ve.forEach((Vn,Jn)=>{const cs=Pe>0?Jn==ct?1:Pe*Jn:b[Jn],Wn=cs*tn;a.currentTime=Ye+yt.delay+Wn,yt.duration=Wn,this._validateStyleAst(Vn,a),Vn.offset=cs,h.styles.push(Vn)}),h}visitReference(c,a){return{type:U.If.Reference,animation:an(this,dt(c.animation),a),options:ht(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:U.If.AnimateChild,options:ht(c.options)}}visitAnimateRef(c,a){return{type:U.If.AnimateRef,animation:this.visitReference(c.animation,a),options:ht(c.options)}}visitQuery(c,a){const h=a.currentQuerySelector,m=c.options||{};a.queryCount++,a.currentQuery=c;const[w,b]=function rn(u){const c=!!u.split(/\s*,\s*/).find(a=>":self"==a);return c&&(u=u.replace($e,"")),u=u.replace(/@\*/g,Je).replace(/@\w+/g,a=>Je+"-"+a.slice(1)).replace(/:animating/g,Gt),[u,c]}(c.selector);a.currentQuerySelector=h.length?h+" "+w:w,Yt(a.collectedStyles,a.currentQuerySelector,new Map);const P=an(this,dt(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:U.If.Query,selector:w,limit:m.limit||0,optional:!!m.optional,includeSelf:b,animation:P,originalSelector:c.selector,options:ht(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function vt(){return new E.wOt(3013,!1)}());const h="full"===c.timings?{duration:0,delay:0,easing:"full"}:nr(c.timings,a.errors,!0);return{type:U.If.Stagger,animation:an(this,dt(c.animation),a),timings:h,options:null}}}class ze{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(c){this.errors=c}}function ht(u){return u?(u={...u}).params&&(u.params=function ce(u){return u?{...u}:null}(u.params)):u={},u}function st(u,c,a){return{duration:u,delay:c,easing:a}}function xt(u,c,a,h,m,w,b=null,P=!1){return{type:1,element:u,keyframes:c,preStyleProps:a,postStyleProps:h,duration:m,delay:w,totalTime:m+w,easing:b,subTimeline:P}}class en{_map=new Map;get(c){return this._map.get(c)||[]}append(c,a){let h=this._map.get(c);h||this._map.set(c,h=[]),h.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const hn=new RegExp(":enter","g"),Fs=new RegExp(":leave","g");function En(u,c,a,h,m,w=new Map,b=new Map,P,K,G=[]){return(new ks).buildKeyframes(u,c,a,h,m,w,b,P,K,G)}class ks{buildKeyframes(c,a,h,m,w,b,P,K,G,ve=[]){G=G||new en;const ge=new Zr(c,a,G,m,w,ve,[]);ge.options=K;const Pe=K.delay?Ut(K.delay):0;ge.currentTimeline.delayNextStep(Pe),ge.currentTimeline.setStyles([b],null,ge.errors,K),an(this,h,ge);const ct=ge.timelines.filter(Ye=>Ye.containsAnimation());if(ct.length&&P.size){let Ye;for(let yt=ct.length-1;yt>=0;yt--){const tn=ct[yt];if(tn.element===a){Ye=tn;break}}Ye&&!Ye.allowOnlyTimelineStyles()&&Ye.setStyles([P],null,ge.errors,K)}return ct.length?ct.map(Ye=>Ye.buildKeyframes()):[xt(a,[],[],[],0,Pe,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const h=a.subInstructions.get(a.element);if(h){const m=a.createSubContext(c.options),w=a.currentTimeline.currentTime,b=this._visitSubInstructions(h,m,m.options);w!=b&&a.transformIntoNewTimeline(b)}a.previousNode=c}visitAnimateRef(c,a){const h=a.createSubContext(c.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,h),this.visitReference(c.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,h){for(const m of c){const w=m?.delay;if(w){const b="number"==typeof w?w:Ut(Lr(w,m?.params??{},a.errors));h.delayNextStep(b)}}}_visitSubInstructions(c,a,h){let w=a.currentTimeline.currentTime;const b=null!=h.duration?Ut(h.duration):null,P=null!=h.delay?Ut(h.delay):null;return 0!==b&&c.forEach(K=>{const G=a.appendInstructionToTimeline(K,b,P);w=Math.max(w,G.duration+G.delay)}),w}visitReference(c,a){a.updateOptions(c.options,!0),an(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const h=a.subContextCount;let m=a;const w=c.options;if(w&&(w.params||w.delay)&&(m=a.createSubContext(w),m.transformIntoNewTimeline(),null!=w.delay)){m.previousNode.type==U.If.Style&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=zn);const b=Ut(w.delay);m.delayNextStep(b)}c.steps.length&&(c.steps.forEach(b=>an(this,b,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>h&&m.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const h=[];let m=a.currentTimeline.currentTime;const w=c.options&&c.options.delay?Ut(c.options.delay):0;c.steps.forEach(b=>{const P=a.createSubContext(c.options);w&&P.delayNextStep(w),an(this,b,P),m=Math.max(m,P.currentTimeline.currentTime),h.push(P.currentTimeline)}),h.forEach(b=>a.currentTimeline.mergeTimelineCollectedStyles(b)),a.transformIntoNewTimeline(m),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const h=c.strValue;return nr(a.params?Lr(h,a.params,a.errors):h,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const h=a.currentAnimateTimings=this._visitTiming(c.timings,a),m=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),m.snapshotCurrentStyles());const w=c.style;w.type==U.If.Keyframes?this.visitKeyframes(w,a):(a.incrementTime(h.duration),this.visitStyle(w,a),m.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const h=a.currentTimeline,m=a.currentAnimateTimings;!m&&h.hasCurrentStyleProperties()&&h.forwardFrame();const w=m&&m.easing||c.easing;c.isEmptyStep?h.applyEmptyStep(w):h.setStyles(c.styles,w,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const h=a.currentAnimateTimings,m=a.currentTimeline.duration,w=h.duration,P=a.createSubContext().currentTimeline;P.easing=h.easing,c.styles.forEach(K=>{P.forwardTime((K.offset||0)*w),P.setStyles(K.styles,K.easing,a.errors,a.options),P.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(P),a.transformIntoNewTimeline(m+w),a.previousNode=c}visitQuery(c,a){const h=a.currentTimeline.currentTime,m=c.options||{},w=m.delay?Ut(m.delay):0;w&&(a.previousNode.type===U.If.Style||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=zn);let b=h;const P=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!m.optional,a.errors);a.currentQueryTotal=P.length;let K=null;P.forEach((G,ve)=>{a.currentQueryIndex=ve;const ge=a.createSubContext(c.options,G);w&&ge.delayNextStep(w),G===a.element&&(K=ge.currentTimeline),an(this,c.animation,ge),ge.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,ge.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(b),K&&(a.currentTimeline.mergeTimelineCollectedStyles(K),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const h=a.parentContext,m=a.currentTimeline,w=c.timings,b=Math.abs(w.duration),P=b*(a.currentQueryTotal-1);let K=b*a.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":K=P-K;break;case"full":K=h.currentStaggerTime}const ve=a.currentTimeline;K&&ve.delayNextStep(K);const ge=ve.currentTime;an(this,c.animation,a),a.previousNode=c,h.currentStaggerTime=m.currentTime-ge+(m.startTime-h.currentTimeline.startTime)}}const zn={};class Zr{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(c,a,h,m,w,b,P,K){this._driver=c,this.element=a,this.subInstructions=h,this._enterClassName=m,this._leaveClassName=w,this.errors=b,this.timelines=P,this.currentTimeline=K||new Si(this._driver,a,0),P.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const h=c;let m=this.options;null!=h.duration&&(m.duration=Ut(h.duration)),null!=h.delay&&(m.delay=Ut(h.delay));const w=h.params;if(w){let b=m.params;b||(b=this.options.params={}),Object.keys(w).forEach(P=>{(!a||!b.hasOwnProperty(P))&&(b[P]=Lr(w[P],b,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const h=c.params={};Object.keys(a).forEach(m=>{h[m]=a[m]})}}return c}createSubContext(c=null,a,h){const m=a||this.element,w=new Zr(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,h||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(c),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(c){return this.previousNode=zn,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,h){const m={duration:a??c.duration,delay:this.currentTimeline.currentTime+(h??0)+c.delay,easing:""},w=new ri(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,m,c.stretchStartingKeyframe);return this.timelines.push(w),m}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,h,m,w,b){let P=[];if(m&&P.push(this.element),c.length>0){c=(c=c.replace(hn,"."+this._enterClassName)).replace(Fs,"."+this._leaveClassName);let G=this._driver.query(this.element,c,1!=h);0!==h&&(G=h<0?G.slice(G.length+h,G.length):G.slice(0,h)),P.push(...G)}return!w&&0==P.length&&b.push(function Lt(){return new E.wOt(3014,!1)}()),P}}class Si{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(c,a,h,m){this._driver=c,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=m,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new Si(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||U.kp),this._currentKeyframe.set(a,U.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,h,m){a&&this._previousKeyframe.set("easing",a);const w=m&&m.params||{},b=function wo(u,c){const a=new Map;let h;return u.forEach(m=>{if("*"===m){h??=c.keys();for(let w of h)a.set(w,U.kp)}else for(let[w,b]of m)a.set(w,b)}),a}(c,this._globalTimelineStyles);for(let[P,K]of b){const G=Lr(K,w,h);this._pendingStyles.set(P,G),this._localTimelineStyles.has(P)||this._backFill.set(P,this._globalTimelineStyles.get(P)??U.kp),this._updateStyle(P,G)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,h)=>{const m=this._styleSummary.get(h);(!m||a.time>m.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((P,K)=>{const G=new Map([...this._backFill,...P]);G.forEach((ve,ge)=>{ve===U.FX?c.add(ge):ve===U.kp&&a.add(ge)}),h||G.set("offset",K/this.duration),m.push(G)});const w=[...c.values()],b=[...a.values()];if(h){const P=m[0],K=new Map(P);P.set("offset",0),K.set("offset",1),m=[P,K]}return xt(this.element,m,w,b,this.duration,this.startTime,this.easing,!1)}}class ri extends Si{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(c,a,h,m,w,b,P=!1){super(c,a,b.delay),this.keyframes=h,this.preStyleProps=m,this.postStyleProps=w,this._stretchStartingKeyframe=P,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:h,easing:m}=this.timings;if(this._stretchStartingKeyframe&&a){const w=[],b=h+a,P=a/b,K=new Map(c[0]);K.set("offset",0),w.push(K);const G=new Map(c[0]);G.set("offset",ea(P)),w.push(G);const ve=c.length-1;for(let ge=1;ge<=ve;ge++){let Pe=new Map(c[ge]);const ct=Pe.get("offset");Pe.set("offset",ea((a+ct*h)/b)),w.push(Pe)}h=b,a=0,m="",c=w}return xt(this.element,c,this.preStyleProps,this.postStyleProps,h,a,m,!0)}}function ea(u,c=3){const a=Math.pow(10,c-1);return Math.round(u*a)/a}function ta(u,c,a,h,m,w,b,P,K,G,ve,ge,Pe){return{type:0,element:u,triggerName:c,isRemovalTransition:m,fromState:a,fromStyles:w,toState:h,toStyles:b,timelines:P,queriedElements:K,preStyleProps:G,postStyleProps:ve,totalTime:ge,errors:Pe}}const Xi={};class Ao{_triggerName;ast;_stateStyles;constructor(c,a,h){this._triggerName=c,this.ast=a,this._stateStyles=h}match(c,a,h,m){return function Uo(u,c,a,h,m){return u.some(w=>w(c,a,h,m))}(this.ast.matchers,c,a,h,m)}buildStyles(c,a,h){let m=this._stateStyles.get("*");return void 0!==c&&(m=this._stateStyles.get(c?.toString())||m),m?m.buildStyles(a,h):new Map}build(c,a,h,m,w,b,P,K,G,ve){const ge=[],Pe=this.ast.options&&this.ast.options.params||Xi,Ye=this.buildStyles(h,P&&P.params||Xi,ge),yt=K&&K.params||Xi,tn=this.buildStyles(m,yt,ge),Vn=new Set,Jn=new Map,cs=new Map,Wn="void"===m,Os={params:di(yt,Pe),delay:this.ast.options?.delay},Ar=ve?[]:En(c,a,this.ast.animation,w,b,Ye,tn,Os,G,ge);let ti=0;return Ar.forEach(Ns=>{ti=Math.max(Ns.duration+Ns.delay,ti)}),ge.length?ta(a,this._triggerName,h,m,Wn,Ye,tn,[],[],Jn,cs,ti,ge):(Ar.forEach(Ns=>{const Wa=Ns.element,Lh=Yt(Jn,Wa,new Set);Ns.preStyleProps.forEach(Sd=>Lh.add(Sd));const Hv=Yt(cs,Wa,new Set);Ns.postStyleProps.forEach(Sd=>Hv.add(Sd)),Wa!==a&&Vn.add(Wa)}),ta(a,this._triggerName,h,m,Wn,Ye,tn,Ar,[...Vn.values()],Jn,cs,ti))}}function di(u,c){const a={...c};return Object.entries(u).forEach(([h,m])=>{null!=m&&(a[h]=m)}),a}class lo{styles;defaultParams;normalizer;constructor(c,a,h){this.styles=c,this.defaultParams=a,this.normalizer=h}buildStyles(c,a){const h=new Map,m=di(c,this.defaultParams);return this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((b,P)=>{b&&(b=Lr(b,m,a));const K=this.normalizer.normalizePropertyName(P,a);b=this.normalizer.normalizeStyleValue(P,K,b,a),h.set(P,b)})}),h}}class ki{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(c,a,h){this.name=c,this.ast=a,this._normalizer=h,a.states.forEach(m=>{this.states.set(m.name,new lo(m.style,m.options&&m.options.params||{},h))}),qs(this.states,"true","1"),qs(this.states,"false","0"),a.transitions.forEach(m=>{this.transitionFactories.push(new Ao(c,m,this.states))}),this.fallbackTransition=function ra(u,c){return new Ao(u,{type:U.If.Transition,animation:{type:U.If.Sequence,steps:[],options:null},matchers:[(b,P)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,h,m){return this.transitionFactories.find(b=>b.match(c,a,h,m))||null}matchStyles(c,a,h){return this.fallbackTransition.buildStyles(c,a,h)}}function qs(u,c,a){u.has(c)?u.has(a)||u.set(a,u.get(c)):u.has(a)&&u.set(c,u.get(a))}const sc=new en;class Ht{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(c,a,h){this.bodyNode=c,this._driver=a,this._normalizer=h}register(c,a){const h=[],w=wt(this._driver,a,h,[]);if(h.length)throw function Un(){return new E.wOt(3503,!1)}();this._animations.set(c,w)}_buildPlayer(c,a,h){const m=c.element,w=Nr(this._normalizer,c.keyframes,a,h);return this._driver.animate(m,w,c.duration,c.delay,c.easing,[],!0)}create(c,a,h={}){const m=[],w=this._animations.get(c);let b;const P=new Map;if(w?(b=En(this._driver,a,w,De,oe,new Map,new Map,h,sc,m),b.forEach(ve=>{const ge=Yt(P,ve.element,new Map);ve.postStyleProps.forEach(Pe=>ge.set(Pe,null))})):(m.push(function qn(){return new E.wOt(3300,!1)}()),b=[]),m.length)throw function Qr(){return new E.wOt(3504,!1)}();P.forEach((ve,ge)=>{ve.forEach((Pe,ct)=>{ve.set(ct,this._driver.computeStyle(ge,ct,U.kp))})});const G=ns(b.map(ve=>{const ge=P.get(ve.element);return this._buildPlayer(ve,new Map,ge)}));return this._playersById.set(c,G),G.onDestroy(()=>this.destroy(c)),this.players.push(G),G}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function or(){return new E.wOt(3301,!1)}();return a}listen(c,a,h,m){const w=Ii(a,"","","");return xs(this._getPlayer(c),h,w,m),()=>{}}command(c,a,h,m){if("register"==h)return void this.register(c,m[0]);if("create"==h)return void this.create(c,a,m[0]||{});const w=this._getPlayer(c);switch(h){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(c)}}}const Do="ng-animate-queued",qi="ng-animate-disabled",sa=[],jo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ic={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},us="__ng_removed";class Li{namespaceId;value;options;get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const h=c&&c.hasOwnProperty("value");if(this.value=function bi(u){return u??null}(h?c.value:c),h){const{value:w,...b}=c;this.options=b}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const h=this.options.params;Object.keys(a).forEach(m=>{null==h[m]&&(h[m]=a[m])})}}}const si="void",Io=new Li(si);class hi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(c,a,h){this.id=c,this.hostElement=a,this._engine=h,this._hostClassName="ng-tns-"+c,Mi(a,this._hostClassName)}listen(c,a,h,m){if(!this._triggers.has(a))throw function Pr(){return new E.wOt(3302,!1)}();if(null==h||0==h.length)throw function Rs(){return new E.wOt(3303,!1)}();if(!function Es(u){return"start"==u||"done"==u}(h))throw function ts(){return new E.wOt(3400,!1)}();const w=Yt(this._elementListeners,c,[]),b={name:a,phase:h,callback:m};w.push(b);const P=Yt(this._engine.statesByElement,c,new Map);return P.has(a)||(Mi(c,me),Mi(c,me+"-"+a),P.set(a,Io)),()=>{this._engine.afterFlush(()=>{const K=w.indexOf(b);K>=0&&w.splice(K,1),this._triggers.has(a)||P.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function Fr(){return new E.wOt(3401,!1)}();return a}trigger(c,a,h,m=!0){const w=this._getTrigger(a),b=new Ka(this.id,a,c);let P=this._engine.statesByElement.get(c);P||(Mi(c,me),Mi(c,me+"-"+a),this._engine.statesByElement.set(c,P=new Map));let K=P.get(a);const G=new Li(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&K&&G.absorbOptions(K.options),P.set(a,G),K||(K=Io),G.value!==si&&K.value===G.value){if(!function mr(u,c){const a=Object.keys(u),h=Object.keys(c);if(a.length!=h.length)return!1;for(let m=0;m<a.length;m++){const w=a[m];if(!c.hasOwnProperty(w)||u[w]!==c[w])return!1}return!0}(K.params,G.params)){const yt=[],tn=w.matchStyles(K.value,K.params,yt),Vn=w.matchStyles(G.value,G.params,yt);yt.length?this._engine.reportError(yt):this._engine.afterFlush(()=>{gt(c,tn),Ve(c,Vn)})}return}const Pe=Yt(this._engine.playersByElement,c,[]);Pe.forEach(yt=>{yt.namespaceId==this.id&&yt.triggerName==a&&yt.queued&&yt.destroy()});let ct=w.matchTransition(K.value,G.value,c,G.params),Ye=!1;if(!ct){if(!m)return;ct=w.fallbackTransition,Ye=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:ct,fromState:K,toState:G,player:b,isFallbackTransition:Ye}),Ye||(Mi(c,Do),b.onStart(()=>{Ys(c,Do)})),b.onDone(()=>{let yt=this.players.indexOf(b);yt>=0&&this.players.splice(yt,1);const tn=this._engine.playersByElement.get(c);if(tn){let Vn=tn.indexOf(b);Vn>=0&&tn.splice(Vn,1)}}),this.players.push(b),Pe.push(b),b}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(m=>m.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const h=this._engine.driver.query(c,Je,!0);h.forEach(m=>{if(m[us])return;const w=this._engine.fetchNamespacesByElement(m);w.size?w.forEach(b=>b.triggerLeaveAnimation(m,a,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(c,a,h,m){const w=this._engine.statesByElement.get(c),b=new Map;if(w){const P=[];if(w.forEach((K,G)=>{if(b.set(G,K.value),this._triggers.has(G)){const ve=this.trigger(c,G,si,m);ve&&P.push(ve)}}),P.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,b),h&&ns(P).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),h=this._engine.statesByElement.get(c);if(a&&h){const m=new Set;a.forEach(w=>{const b=w.name;if(m.has(b))return;m.add(b);const K=this._triggers.get(b).fallbackTransition,G=h.get(b)||Io,ve=new Li(si),ge=new Ka(this.id,b,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:b,transition:K,fromState:G,toState:ve,player:ge,isFallbackTransition:!0})})}}removeNode(c,a){const h=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let m=!1;if(h.totalAnimations){const w=h.players.length?h.playersByQueriedElement.get(c):[];if(w&&w.length)m=!0;else{let b=c;for(;b=b.parentNode;)if(h.statesByElement.get(b)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(c),m)h.markElementAsRemoved(this.id,c,!1,a);else{const w=c[us];(!w||w===jo)&&(h.afterFlush(()=>this.clearElementCache(c)),h.destroyInnerAnimations(c),h._onRemovalComplete(c,a))}}insertNode(c,a){Mi(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(h=>{const m=h.player;if(m.destroyed)return;const w=h.element,b=this._elementListeners.get(w);b&&b.forEach(P=>{if(P.name==h.triggerName){const K=Ii(w,h.triggerName,h.fromState.value,h.toState.value);K._data=c,xs(h.player,P.phase,K,P.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):a.push(h)}),this._queue=[],a.sort((h,m)=>{const w=h.transition.ast.depCount,b=m.transition.ast.depCount;return 0==w||0==b?w-b:this._engine.driver.containsElement(h.element,m.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class To{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(c,a)=>{};_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,h){this.bodyNode=c,this.driver=a,this._normalizer=h}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&c.push(h)})}),c}createNamespace(c,a){const h=new hi(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[c]=h}_balanceNamespaceList(c,a){const h=this._namespaceList,m=this.namespacesByHostElement;if(h.length-1>=0){let b=!1,P=this.driver.getParentElement(a);for(;P;){const K=m.get(P);if(K){const G=h.indexOf(K);h.splice(G+1,0,c),b=!0;break}P=this.driver.getParentElement(P)}b||h.unshift(c)}else h.push(c);return m.set(a,c),c}register(c,a){let h=this._namespaceLookup[c];return h||(h=this.createNamespace(c,a)),h}registerTrigger(c,a,h){let m=this._namespaceLookup[c];m&&m.register(a,h)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(c);this.namespacesByHostElement.delete(h.hostElement);const m=this._namespaceList.indexOf(h);m>=0&&this._namespaceList.splice(m,1),h.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,h=this.statesByElement.get(c);if(h)for(let m of h.values())if(m.namespaceId){const w=this._fetchNamespace(m.namespaceId);w&&a.add(w)}return a}trigger(c,a,h,m){if(ia(a)){const w=this._fetchNamespace(c);if(w)return w.trigger(a,h,m),!0}return!1}insertNode(c,a,h,m){if(!ia(a))return;const w=a[us];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const b=this.collectedLeaveElements.indexOf(a);b>=0&&this.collectedLeaveElements.splice(b,1)}if(c){const b=this._fetchNamespace(c);b&&b.insertNode(a,h)}m&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Mi(c,qi)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Ys(c,qi))}removeNode(c,a,h){if(ia(a)){const m=c?this._fetchNamespace(c):null;m?m.removeNode(a,h):this.markElementAsRemoved(c,a,!1,h);const w=this.namespacesByHostElement.get(a);w&&w.id!==c&&w.removeNode(a,h)}else this._onRemovalComplete(a,h)}markElementAsRemoved(c,a,h,m,w){this.collectedLeaveElements.push(a),a[us]={namespaceId:c,setForRemoval:m,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:w}}listen(c,a,h,m,w){return ia(a)?this._fetchNamespace(c).listen(a,h,m,w):()=>{}}_buildInstruction(c,a,h,m,w){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,h,m,c.fromState.options,c.toState.options,a,w)}destroyInnerAnimations(c){let a=this.driver.query(c,Je,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,Gt,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return ns(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[us];if(a&&a.setForRemoval){if(c[us]=jo,a.namespaceId){this.destroyInnerAnimations(c);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(qi)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,m)=>this._balanceNamespaceList(h,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Mi(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,c)}finally{for(let m=0;m<h.length;m++)h[m]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?ns(a).onDone(()=>{h.forEach(m=>m())}):h.forEach(m=>m())}}reportError(c){throw function Tn(){return new E.wOt(3402,!1)}()}_flushAnimations(c,a){const h=new en,m=[],w=new Map,b=[],P=new Map,K=new Map,G=new Map,ve=new Set;this.disabledNodes.forEach(on=>{ve.add(on);const gn=this.driver.query(on,".ng-animate-queued",!0);for(let Fn=0;Fn<gn.length;Fn++)ve.add(gn[Fn])});const ge=this.bodyNode,Pe=Array.from(this.statesByElement.keys()),ct=fi(Pe,this.collectedEnterElements),Ye=new Map;let yt=0;ct.forEach((on,gn)=>{const Fn=De+yt++;Ye.set(gn,Fn),on.forEach(Br=>Mi(Br,Fn))});const tn=[],Vn=new Set,Jn=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const gn=this.collectedLeaveElements[on],Fn=gn[us];Fn&&Fn.setForRemoval&&(tn.push(gn),Vn.add(gn),Fn.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(Br=>Vn.add(Br)):Jn.add(gn))}const cs=new Map,Wn=fi(Pe,Array.from(Vn));Wn.forEach((on,gn)=>{const Fn=oe+yt++;cs.set(gn,Fn),on.forEach(Br=>Mi(Br,Fn))}),c.push(()=>{ct.forEach((on,gn)=>{const Fn=Ye.get(gn);on.forEach(Br=>Ys(Br,Fn))}),Wn.forEach((on,gn)=>{const Fn=cs.get(gn);on.forEach(Br=>Ys(Br,Fn))}),tn.forEach(on=>{this.processLeaveNode(on)})});const Os=[],Ar=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(a).forEach(Fn=>{const Br=Fn.player,mi=Fn.element;if(Os.push(Br),this.collectedEnterElements.length){const l=mi[us];if(l&&l.setForMove){if(l.previousTriggersValues&&l.previousTriggersValues.has(Fn.triggerName)){const f=l.previousTriggersValues.get(Fn.triggerName),g=this.statesByElement.get(Fn.element);if(g&&g.has(Fn.triggerName)){const v=g.get(Fn.triggerName);v.value=f,g.set(Fn.triggerName,v)}}return void Br.destroy()}}const El=!ge||!this.driver.containsElement(ge,mi),Mo=cs.get(mi),kc=Ye.get(mi),i=this._buildInstruction(Fn,h,kc,Mo,El);if(i.errors&&i.errors.length)return void Ar.push(i);if(El)return Br.onStart(()=>gt(mi,i.fromStyles)),Br.onDestroy(()=>Ve(mi,i.toStyles)),void m.push(Br);if(Fn.isFallbackTransition)return Br.onStart(()=>gt(mi,i.fromStyles)),Br.onDestroy(()=>Ve(mi,i.toStyles)),void m.push(Br);const t=[];i.timelines.forEach(l=>{l.stretchStartingKeyframe=!0,this.disabledNodes.has(l.element)||t.push(l)}),i.timelines=t,h.append(mi,i.timelines),b.push({instruction:i,player:Br,element:mi}),i.queriedElements.forEach(l=>Yt(P,l,[]).push(Br)),i.preStyleProps.forEach((l,f)=>{if(l.size){let g=K.get(f);g||K.set(f,g=new Set),l.forEach((v,A)=>g.add(A))}}),i.postStyleProps.forEach((l,f)=>{let g=G.get(f);g||G.set(f,g=new Set),l.forEach((v,A)=>g.add(A))})});if(Ar.length){const on=[];Ar.forEach(gn=>{on.push(function At(){return new E.wOt(3505,!1)}())}),Os.forEach(gn=>gn.destroy()),this.reportError(on)}const ti=new Map,Ns=new Map;b.forEach(on=>{const gn=on.element;h.has(gn)&&(Ns.set(gn,gn),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,ti))}),m.forEach(on=>{const gn=on.element;this._getPreviousPlayers(gn,!1,on.namespaceId,on.triggerName,null).forEach(Br=>{Yt(ti,gn,[]).push(Br),Br.destroy()})});const Wa=tn.filter(on=>ws(on,K,G)),Lh=new Map;za(Lh,this.driver,Jn,G,U.kp).forEach(on=>{ws(on,K,G)&&Wa.push(on)});const Sd=new Map;ct.forEach((on,gn)=>{za(Sd,this.driver,new Set(on),K,U.FX)}),Wa.forEach(on=>{const gn=Lh.get(on),Fn=Sd.get(on);Lh.set(on,new Map([...gn?.entries()??[],...Fn?.entries()??[]]))});const _l=[],Vg=[],Wv={};b.forEach(on=>{const{element:gn,player:Fn,instruction:Br}=on;if(h.has(gn)){if(ve.has(gn))return Fn.onDestroy(()=>Ve(gn,Br.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(Br.totalTime),void m.push(Fn);let mi=Wv;if(Ns.size>1){let Mo=gn;const kc=[];for(;Mo=Mo.parentNode;){const i=Ns.get(Mo);if(i){mi=i;break}kc.push(Mo)}kc.forEach(i=>Ns.set(i,mi))}const El=this._buildAnimation(Fn.namespaceId,Br,ti,w,Sd,Lh);if(Fn.setRealPlayer(El),mi===Wv)_l.push(Fn);else{const Mo=this.playersByElement.get(mi);Mo&&Mo.length&&(Fn.parentPlayer=ns(Mo)),m.push(Fn)}}else gt(gn,Br.fromStyles),Fn.onDestroy(()=>Ve(gn,Br.toStyles)),Vg.push(Fn),ve.has(gn)&&m.push(Fn)}),Vg.forEach(on=>{const gn=w.get(on.element);if(gn&&gn.length){const Fn=ns(gn);on.setRealPlayer(Fn)}}),m.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<tn.length;on++){const gn=tn[on],Fn=gn[us];if(Ys(gn,oe),Fn&&Fn.hasAnimation)continue;let Br=[];if(P.size){let El=P.get(gn);El&&El.length&&Br.push(...El);let Mo=this.driver.query(gn,Gt,!0);for(let kc=0;kc<Mo.length;kc++){let i=P.get(Mo[kc]);i&&i.length&&Br.push(...i)}}const mi=Br.filter(El=>!El.destroyed);mi.length?Ga(this,gn,mi):this.processLeaveNode(gn)}return tn.length=0,_l.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const gn=this.players.indexOf(on);this.players.splice(gn,1)}),on.play()}),_l}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,h,m,w){let b=[];if(a){const P=this.playersByQueriedElement.get(c);P&&(b=P)}else{const P=this.playersByElement.get(c);if(P){const K=!w||w==si;P.forEach(G=>{G.queued||!K&&G.triggerName!=m||b.push(G)})}}return(h||m)&&(b=b.filter(P=>!(h&&h!=P.namespaceId||m&&m!=P.triggerName))),b}_beforeAnimationBuild(c,a,h){const w=a.element,b=a.isRemovalTransition?void 0:c,P=a.isRemovalTransition?void 0:a.triggerName;for(const K of a.timelines){const G=K.element,ve=G!==w,ge=Yt(h,G,[]);this._getPreviousPlayers(G,ve,b,P,a.toState).forEach(ct=>{const Ye=ct.getRealPlayer();Ye.beforeDestroy&&Ye.beforeDestroy(),ct.destroy(),ge.push(ct)})}gt(w,a.fromStyles)}_buildAnimation(c,a,h,m,w,b){const P=a.triggerName,K=a.element,G=[],ve=new Set,ge=new Set,Pe=a.timelines.map(Ye=>{const yt=Ye.element;ve.add(yt);const tn=yt[us];if(tn&&tn.removedBeforeQueried)return new U.sf(Ye.duration,Ye.delay);const Vn=yt!==K,Jn=function Qa(u){const c=[];return Ai(u,c),c}((h.get(yt)||sa).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===yt),cs=w.get(yt),Wn=b.get(yt),Os=Nr(this._normalizer,Ye.keyframes,cs,Wn),Ar=this._buildPlayer(Ye,Os,Jn);if(Ye.subTimeline&&m&&ge.add(yt),Vn){const ti=new Ka(c,P,yt);ti.setRealPlayer(Ar),G.push(ti)}return Ar});G.forEach(Ye=>{Yt(this.playersByQueriedElement,Ye.element,[]).push(Ye),Ye.onDone(()=>function No(u,c,a){let h=u.get(c);if(h){if(h.length){const m=h.indexOf(a);h.splice(m,1)}0==h.length&&u.delete(c)}return h}(this.playersByQueriedElement,Ye.element,Ye))}),ve.forEach(Ye=>Mi(Ye,pt));const ct=ns(Pe);return ct.onDestroy(()=>{ve.forEach(Ye=>Ys(Ye,pt)),Ve(K,a.toStyles)}),ge.forEach(Ye=>{Yt(m,Ye,[]).push(ct)}),ct}_buildPlayer(c,a,h){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,h):new U.sf(c.duration,c.delay)}}class Ka{namespaceId;triggerName;element;_player=new U.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(c,a,h){this.namespaceId=c,this.triggerName=a,this.element=h}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,h)=>{a.forEach(m=>xs(c,h,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Yt(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function ia(u){return u&&1===u.nodeType}function So(u,c){const a=u.style.display;return u.style.display=c??"none",a}function za(u,c,a,h,m){const w=[];a.forEach(K=>w.push(So(K)));const b=[];h.forEach((K,G)=>{const ve=new Map;K.forEach(ge=>{const Pe=c.computeStyle(G,ge,m);ve.set(ge,Pe),(!Pe||0==Pe.length)&&(G[us]=ic,b.push(G))}),u.set(G,ve)});let P=0;return a.forEach(K=>So(K,w[P++])),b}function fi(u,c){const a=new Map;if(u.forEach(P=>a.set(P,[])),0==c.length)return a;const m=new Set(c),w=new Map;function b(P){if(!P)return 1;let K=w.get(P);if(K)return K;const G=P.parentNode;return K=a.has(G)?G:m.has(G)?1:b(G),w.set(P,K),K}return c.forEach(P=>{const K=b(P);1!==K&&a.get(K).push(P)}),a}function Mi(u,c){u.classList?.add(c)}function Ys(u,c){u.classList?.remove(c)}function Ga(u,c,a){ns(a).onDone(()=>u.processLeaveNode(c))}function Ai(u,c){for(let a=0;a<u.length;a++){const h=u[a];h instanceof U.ui?Ai(h.players,c):c.push(h)}}function ws(u,c,a){const h=a.get(u);if(!h)return!1;let m=c.get(u);return m?h.forEach(w=>m.add(w)):c.set(u,h),a.delete(u),!0}class $o{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(c,a)=>{};constructor(c,a,h){this._driver=a,this._normalizer=h,this._transitionEngine=new To(c.body,a,h),this._timelineEngine=new Ht(c.body,a,h),this._transitionEngine.onRemovalComplete=(m,w)=>this.onRemovalComplete(m,w)}registerTrigger(c,a,h,m,w){const b=c+"-"+m;let P=this._triggerCache[b];if(!P){const K=[],ve=wt(this._driver,w,K,[]);if(K.length)throw function ln(){return new E.wOt(3404,!1)}();P=function Dl(u,c,a){return new ki(u,c,a)}(m,ve,this._normalizer),this._triggerCache[b]=P}this._transitionEngine.registerTrigger(a,m,P)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,h,m){this._transitionEngine.insertNode(c,a,h,m)}onRemove(c,a,h){this._transitionEngine.removeNode(c,a,h)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,h,m){if("@"==h.charAt(0)){const[w,b]=ni(h);this._timelineEngine.command(w,a,b,m)}else this._transitionEngine.trigger(c,a,h,m)}listen(c,a,h,m,w){if("@"==h.charAt(0)){const[b,P]=ni(h);return this._timelineEngine.listen(b,a,P,w)}return this._transitionEngine.listen(c,a,h,m,w)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let qa=(()=>{class u{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(a,h,m){this._element=a,this._startStyles=h,this._endStyles=m;let w=u.initialStylesByElement.get(a);w||u.initialStylesByElement.set(a,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&Ve(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ve(this._element,this._initialStyles),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(gt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gt(this._element,this._endStyles),this._endStyles=null),Ve(this._element,this._initialStyles),this._state=3)}}return u})();function gs(u){let c=null;return u.forEach((a,h)=>{(function pn(u){return"display"===u||"position"===u})(h)&&(c=c||new Map,c.set(h,a))}),c}class ms{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(c,a,h,m){this.element=c,this.keyframes=a,this.options=h,this._specialStyles=m,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(c,a,h){return c.animate(this._convertKeyframesToObject(a),h)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,m)=>{"offset"!==m&&c.set(m,this._finished?h:fs(this.element,m))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class Gs{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}containsElement(c,a){return jr(c,a)}getParentElement(c){return Xs(c)}query(c,a,h){return An(c,a,h)}computeStyle(c,a,h){return fs(c,a)}animate(c,a,h,m,w,b=[]){const K={duration:h,delay:m,fill:0==m?"both":"forwards"};w&&(K.easing=w);const G=new Map,ve=b.filter(ct=>ct instanceof ms);(function yi(u,c){return 0===u||0===c})(h,m)&&ve.forEach(ct=>{ct.currentSnapshot.forEach((Ye,yt)=>G.set(yt,Ye))});let ge=function Ti(u){return u.length?u[0]instanceof Map?u:u.map(c=>new Map(Object.entries(c))):[]}(a).map(ct=>new Map(ct));ge=function Rr(u,c,a){if(a.size&&c.length){let h=c[0],m=[];if(a.forEach((w,b)=>{h.has(b)||m.push(b),h.set(b,w)}),m.length)for(let w=1;w<c.length;w++){let b=c[w];m.forEach(P=>b.set(P,fs(u,P)))}}return c}(c,ge,G);const Pe=function Xa(u,c){let a=null,h=null;return Array.isArray(c)&&c.length?(a=gs(c[0]),c.length>1&&(h=gs(c[c.length-1]))):c instanceof Map&&(a=gs(c)),a||h?new qa(u,a,h):null}(c,ge);return new ms(c,ge,K,Pe)}}const Bc="@.disabled";class V{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(c,a,h,m){this.namespaceId=c,this.delegate=a,this.engine=h,this._onDestroy=m}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,h,m=!0){this.delegate.insertBefore(c,a,h),this.engine.onInsert(this.namespaceId,a,c,m)}removeChild(c,a,h){this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,h,m){this.delegate.setAttribute(c,a,h,m)}removeAttribute(c,a,h){this.delegate.removeAttribute(c,a,h)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,h,m){this.delegate.setStyle(c,a,h,m)}removeStyle(c,a,h){this.delegate.removeStyle(c,a,h)}setProperty(c,a,h){"@"==a.charAt(0)&&a==Bc?this.disableAnimations(c,!!h):this.delegate.setProperty(c,a,h)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,h,m){return this.delegate.listen(c,a,h,m)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class B extends V{factory;constructor(c,a,h,m,w){super(a,h,m,w),this.factory=c,this.namespaceId=a}setProperty(c,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Bc?this.disableAnimations(c,h=void 0===h||!!h):this.engine.process(this.namespaceId,c,a.slice(1),h):this.delegate.setProperty(c,a,h)}listen(c,a,h,m){if("@"==a.charAt(0)){const w=function N(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(c);let b=a.slice(1),P="";return"@"!=b.charAt(0)&&([b,P]=function J(u){const c=u.indexOf(".");return[u.substring(0,c),u.slice(c+1)]}(b)),this.engine.listen(this.namespaceId,w,b,P,K=>{this.factory.scheduleListenerCallback(K._data||-1,h,K)})}return this.delegate.listen(c,a,h,m)}}class Ie{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(c,a,h){this.delegate=c,this.engine=a,this._zone=h,a.onRemovalComplete=(m,w)=>{w?.removeChild(null,m)}}createRenderer(c,a){const m=this.delegate.createRenderer(c,a);if(!c||!a?.data?.animation){const G=this._rendererCache;let ve=G.get(m);return ve||(ve=new V("",m,this.engine,()=>G.delete(m)),G.set(m,ve)),ve}const w=a.id,b=a.id+"-"+this._currentId;this._currentId++,this.engine.register(b,c);const P=G=>{Array.isArray(G)?G.forEach(P):this.engine.registerTrigger(w,b,c,G.name,G)};return a.data.animation.forEach(P),new B(this,b,m,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,a,h){if(c>=0&&c<this._microtaskId)return void this._zone.run(()=>a(h));const m=this._animationCallbacksBuffer;0==m.length&&queueMicrotask(()=>{this._zone.run(()=>{m.forEach(w=>{const[b,P]=w;b(P)}),this._animationCallbacksBuffer=[]})}),m.push([a,h])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(c){this.engine.flush(),this.delegate.componentReplaced?.(c)}}let Qt=(()=>{class u extends $o{constructor(a,h,m){super(a,h,m)}ngOnDestroy(){this.flush()}static \u0275fac=function(h){return new(h||u)(E.KVO(ye.DOCUMENT),E.KVO(Ps),E.KVO(Se))};static \u0275prov=E.jDH({token:u,factory:u.\u0275fac})}return u})();const Vi=[{provide:Se,useFactory:function Nn(){return new ps}},{provide:$o,useClass:Qt},{provide:E._9s,useFactory:function vi(u,c,a){return new Ie(u,c,a)},deps:[_.B7,$o,E.SKi]}],Yi=[{provide:Ps,useClass:Yn},{provide:E.bc$,useValue:"NoopAnimations"},...Vi],oa=[{provide:Ps,useFactory:()=>new Gs},{provide:E.bc$,useFactory:()=>"BrowserAnimations"},...Vi];let Za=(()=>{class u{static withConfig(a){return{ngModule:u,providers:a.disableAnimations?Yi:oa}}static \u0275fac=function(h){return new(h||u)};static \u0275mod=E.$C({type:u});static \u0275inj=E.G2t({providers:oa,imports:[_.Bb]})}return u})();var ii=C(1626),ds=C(6325),Wo=C(9030),Cl=C(8810),ba=C(3726),Oi=C(7673),co=C(8793),uo=C(1413),Bn=C(1985),Nd=C(5343);const ho=new Bn.c(Nd.l);var aa=C(7786),Il=C(2806),lr=C(6354),Ls=C(5964),Zi=C(5558),la=C(3319),oi=C(6697),rr=C(8141),oc=C(5335);const ca="Service workers are disabled or not supported by this browser";class Ja{serviceWorker;worker;registration;events;constructor(c){if(this.serviceWorker=c,c){const h=(0,ba.R)(c,"controllerchange").pipe((0,lr.T)(()=>c.controller)),m=(0,Wo.v)(()=>(0,Oi.of)(c.controller)),w=(0,co.x)(m,h);this.worker=w.pipe((0,Ls.p)(ve=>!!ve)),this.registration=this.worker.pipe((0,Zi.n)(()=>c.getRegistration()));const G=(0,ba.R)(c,"message").pipe((0,lr.T)(ve=>ve.data)).pipe((0,Ls.p)(ve=>ve&&ve.type)).pipe((0,la.m)());G.connect(),this.events=G}else this.worker=this.events=this.registration=function Aa(u){return(0,Wo.v)(()=>(0,Cl.$)(new Error(u)))}(ca)}postMessage(c,a){return this.worker.pipe((0,oi.s)(1),(0,rr.M)(h=>{h.postMessage({action:c,...a})})).toPromise().then(()=>{})}postMessageWithOperation(c,a,h){const m=this.waitForOperationCompleted(h),w=this.postMessage(c,a);return Promise.all([w,m]).then(([,b])=>b)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(c){let a;return a="string"==typeof c?h=>h.type===c:h=>c.includes(h.type),this.events.pipe((0,Ls.p)(a))}nextEventOfType(c){return this.eventsOfType(c).pipe((0,oi.s)(1))}waitForOperationCompleted(c){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ls.p)(a=>a.nonce===c),(0,oi.s)(1),(0,lr.T)(a=>{if(void 0!==a.result)return a.result;throw new Error(a.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Rd=(()=>{class u{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new uo.B;constructor(a){if(this.sw=a,!a.isEnabled)return this.messages=ho,this.notificationClicks=ho,void(this.subscription=ho);this.messages=this.sw.eventsOfType("PUSH").pipe((0,lr.T)(m=>m.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,lr.T)(m=>m.data)),this.pushManager=this.sw.registration.pipe((0,lr.T)(m=>m.pushManager));const h=this.pushManager.pipe((0,Zi.n)(m=>m.getSubscription()));this.subscription=(0,aa.h)(h,this.subscriptionChanges)}requestSubscription(a){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ca));const h={userVisibleOnly:!0};let m=this.decodeBase64(a.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),w=new Uint8Array(new ArrayBuffer(m.length));for(let b=0;b<m.length;b++)w[b]=m.charCodeAt(b);return h.applicationServerKey=w,this.pushManager.pipe((0,Zi.n)(b=>b.subscribe(h)),(0,oi.s)(1)).toPromise().then(b=>(this.subscriptionChanges.next(b),b))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,oi.s)(1),(0,Zi.n)(h=>{if(null===h)throw new Error("Not subscribed to push notifications.");return h.unsubscribe().then(m=>{if(!m)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ca))}decodeBase64(a){return atob(a)}static \u0275fac=function(h){return new(h||u)(E.KVO(Ja))};static \u0275prov=E.jDH({token:u,factory:u.\u0275fac})}return u})(),ua=(()=>{class u{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(a){if(this.sw=a,!a.isEnabled)return this.versionUpdates=ho,void(this.unrecoverable=ho);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ca));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:a},a)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ca));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:a},a)}static \u0275fac=function(h){return new(h||u)(E.KVO(Ja))};static \u0275prov=E.jDH({token:u,factory:u.\u0275fac})}return u})();const Au=new E.nKC("");function Jf(u,c,a){return()=>{if(!("serviceWorker"in navigator)||!1===a.enabled)return;const h=u.get(E.SKi),m=u.get(E.o8S);let w;if(h.runOutsideAngular(()=>{const b=navigator.serviceWorker,P=()=>b.controller?.postMessage({action:"INITIALIZE"});b.addEventListener("controllerchange",P),m.onDestroy(()=>{b.removeEventListener("controllerchange",P)})}),"function"==typeof a.registrationStrategy)w=a.registrationStrategy();else{const[b,...P]=(a.registrationStrategy||"registerWhenStable:30000").split(":");switch(b){case"registerImmediately":w=(0,Oi.of)(null);break;case"registerWithDelay":w=Oa(+P[0]||0);break;case"registerWhenStable":const K=(0,Il.H)(u.get(E.o8S).whenStable());w=P[0]?(0,aa.h)(K,Oa(+P[0])):K;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${a.registrationStrategy}`)}}h.runOutsideAngular(()=>w.pipe((0,oi.s)(1)).subscribe(()=>navigator.serviceWorker.register(c,{scope:a.scope}).catch(b=>console.error("Service worker registration failed with:",b))))}}function Oa(u){return(0,Oi.of)(null).pipe((0,oc.c)(u))}function Ou(u){return new Ja(!1!==u.enabled?navigator.serviceWorker:void 0)}class el{enabled;scope;registrationStrategy}function yr(u,c={}){return(0,E.EmA)([Rd,ua,{provide:Au,useValue:u},{provide:el,useValue:c},{provide:Ja,useFactory:Ou,deps:[el]},{provide:E.hnV,useFactory:Jf,deps:[E.zZn,Au,el],multi:!0}])}let St=(()=>{class u{static register(a,h={}){return{ngModule:u,providers:[yr(a,h)]}}static \u0275fac=function(h){return new(h||u)};static \u0275mod=E.$C({type:u});static \u0275inj=E.G2t({providers:[Rd,ua]})}return u})();var sn=C(5312),Vs=C(3887),Ni=C(8244),hs=C(8603);const Ui={todos:[]},rs=(u=Ui,c)=>{switch(c.type){case"ADD":return{todos:[...u.todos,{index:u.todos.length,text:c.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:u.todos.map((a,h)=>h===c.index?{...a,done:!a.done}:a)};case"REMOVE":return{todos:u.todos.splice(u.todos.findIndex(a=>a.index===c.index),1)};case"SAVED":return{todos:u.todos.map((a,h)=>h===c.index?{...a,saved:!0}:a)};default:return u}};var cr=C(4412),Zn=C(1397),Bi=C(3386);let mn=(()=>{class u{constructor(){this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const a=this.getLastActiveFromLocalStorage()??new Date;this.lastActive=new cr.t(a),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,Il.H)(this.events).pipe((0,Zn.Z)(a=>(0,ba.R)(document,a)),(0,Bi.c)(this.recordTimeoutMs)).subscribe(a=>this.recordLastActiveDate()),(0,ba.R)(window,"storage").pipe((0,Ls.p)(a=>a.storageArea===localStorage&&a.key===this.localStorageKey&&!!a.newValue),(0,lr.T)(a=>new Date(a.newValue))).subscribe(a=>this.lastActive.next(a))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var a=new Date;localStorage.setItem(this.localStorageKey,a.toString()),this.lastActive.next(a)}getLastActiveFromLocalStorage(){const a=localStorage.getItem(this.localStorageKey);return a?new Date(a):null}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();const It={provide:E.hnV,multi:!0,deps:[mn],useFactory:u=>()=>u.setUp()};let M=1;class z{constructor(){this.userName="Philip Marlowe"}}let x=(()=>{class u{constructor(a){this.id=M++,this._userName="Sherlock Holmes",a&&(this._userName=a.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(z,8))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})(),k=(()=>{class u{constructor(a){if(a)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(a){return{ngModule:u,providers:[{provide:z,useValue:a}]}}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(u,12))}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({providers:[x],imports:[ye.CommonModule]})}}return u})();var Y=C(9310),We=C(3529),Ae=C(2661);let be=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({providers:[Ae.l],imports:[Y.md.forFeature(We.cp,We.Jv)]})}}return u})();var ot=C(2830),un=C(3557),ur=C(983),In=C(8071);class Tt{constructor(c,a,h){this.kind=c,this.value=a,this.error=h,this.hasValue="N"===c}observe(c){return Ds(this,c)}do(c,a,h){const{kind:m,value:w,error:b}=this;return"N"===m?c?.(w):"E"===m?a?.(b):h?.()}accept(c,a,h){var m;return(0,In.T)(null===(m=c)||void 0===m?void 0:m.next)?this.observe(c):this.do(c,a,h)}toObservable(){const{kind:c,value:a,error:h}=this,m="N"===c?(0,Oi.of)(a):"E"===c?(0,Cl.$)(()=>h):"C"===c?ur.w:0;if(!m)throw new TypeError(`Unexpected notification kind ${c}`);return m}static createNext(c){return new Tt("N",c)}static createError(c){return new Tt("E",void 0,c)}static createComplete(){return Tt.completeNotification}}function Ds(u,c){var a,h,m;const{kind:w,value:b,error:P}=u;if("string"!=typeof w)throw new TypeError('Invalid notification, missing "kind"');"N"===w?null===(a=c.next)||void 0===a||a.call(c,b):"E"===w?null===(h=c.error)||void 0===h||h.call(c,P):null===(m=c.complete)||void 0===m||m.call(c)}Tt.completeNotification=new Tt("C");var Us=C(9974),Cs=C(4360),_i=C(9437),xr=C(8750);function Dr(u,c,a,h){return(0,Us.N)((m,w)=>{let b;c&&"function"!=typeof c?({duration:a,element:b,connector:h}=c):b=c;const P=new Map,K=Ye=>{P.forEach(Ye),Ye(w)},G=Ye=>K(yt=>yt.error(Ye));let ve=0,ge=!1;const Pe=new Cs.H(w,Ye=>{try{const yt=u(Ye);let tn=P.get(yt);if(!tn){P.set(yt,tn=h?h():new uo.B);const Vn=function ct(Ye,yt){const tn=new Bn.c(Vn=>{ve++;const Jn=yt.subscribe(Vn);return()=>{Jn.unsubscribe(),0==--ve&&ge&&Pe.unsubscribe()}});return tn.key=Ye,tn}(yt,tn);if(w.next(Vn),a){const Jn=(0,Cs._)(tn,()=>{tn.complete(),Jn?.unsubscribe()},void 0,void 0,()=>P.delete(yt));Pe.add((0,xr.Tg)(a(Vn)).subscribe(Jn))}}tn.next(b?b(Ye):Ye)}catch(yt){G(yt)}},()=>K(Ye=>Ye.complete()),G,()=>P.clear(),()=>(ge=!0,0===ve));m.subscribe(Pe)})}var Kt=C(786);const Is={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Jr="__@ngrx/effects_create__";function $t(u,c={}){const a=c.functional?u:u(),h={...Is,...c};return Object.defineProperty(a,Jr,{value:h}),a}function $r(u){return Object.getPrototypeOf(u)}function jc(u){return"function"==typeof u}function Tl(u){return u.filter(jc)}function zg(u,c,a){const h=$r(u),w=h&&"Object"!==h.constructor.name?h.constructor.name:null,b=function Bh(u){return function Ko(u){return Object.getOwnPropertyNames(u).filter(h=>!(!u[h]||!u[h].hasOwnProperty(Jr))&&u[h][Jr].hasOwnProperty("dispatch")).map(h=>({propertyName:h,...u[h][Jr]}))}(u)}(u).map(({propertyName:P,dispatch:K,useEffectsErrorHandler:G})=>{const ve="function"==typeof u[P]?u[P]():u[P],ge=G?a(ve,c):ve;return!1===K?ge.pipe((0,un.w)()):ge.pipe(function da(){return(0,Us.N)((u,c)=>{u.subscribe((0,Cs._)(c,a=>{c.next(Tt.createNext(a))},()=>{c.next(Tt.createComplete()),c.complete()},a=>{c.next(Tt.createError(a)),c.complete()}))})}()).pipe((0,lr.T)(ct=>({effect:u[P],notification:ct,propertyName:P,sourceName:w,sourceInstance:u})))});return(0,aa.h)(...b)}function Oy(u,c,a=10){return u.pipe((0,_i.W)(h=>(c&&c.handleError(h),a<=1?u:Oy(u,c,a-1))))}let ac=(()=>{class u extends Bn.c{constructor(a){super(),a&&(this.source=a)}lift(a){const h=new u;return h.source=this,h.operator=a,h}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(Y.sA))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function Sl(...u){return(0,Ls.p)(c=>u.some(a=>"string"==typeof a?a===c.type:a.type===c.type))}const ep=new E.nKC("@ngrx/effects Internal Root Guard"),ji=new E.nKC("@ngrx/effects User Provided Effects"),$h=new E.nKC("@ngrx/effects Internal Root Effects"),Gg=new E.nKC("@ngrx/effects Internal Root Effects Instances"),tp=new E.nKC("@ngrx/effects Internal Feature Effects"),bl=new E.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),xd=new E.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Oy}),qe="@ngrx/effects/init";function Xg(u){return Ji(u,"ngrxOnInitEffects")}function Ji(u,c){return u&&c in u&&"function"==typeof u[c]}(0,Y.VP)(qe);let T=(()=>{class u extends uo.B{constructor(a,h){super(),this.errorHandler=a,this.effectsErrorHandler=h}addEffects(a){this.next(a)}toActions(){return this.pipe(Dr(a=>function Bt(u){return!!u.constructor&&"Object"!==u.constructor.name&&"Function"!==u.constructor.name}(a)?$r(a):a),(0,Zn.Z)(a=>a.pipe(Dr(R))),(0,Zn.Z)(a=>{const h=a.pipe((0,Kt.p)(w=>function S(u,c){return a=>{const h=zg(a,u,c);return function rp(u){return Ji(u,"ngrxOnRunEffects")}(a)?a.ngrxOnRunEffects(h):h}}(this.errorHandler,this.effectsErrorHandler)(w)),(0,lr.T)(w=>(function tl(u,c){if("N"===u.notification.kind){const a=u.notification.value;!function Ny(u){return"function"!=typeof u&&u&&u.type&&"string"==typeof u.type}(a)&&c.handleError(new Error(`Effect ${function Ru({propertyName:u,sourceInstance:c,sourceName:a}){const h="function"==typeof c[u];return a?`"${a}.${String(u)}${h?"()":""}"`:`"${String(u)}()"`}(u)} dispatched an invalid action: ${function Ml(u){try{return JSON.stringify(u)}catch{return u}}(a)}`))}}(w,this.errorHandler),w.notification)),(0,Ls.p)(w=>"N"===w.kind&&null!=w.value),function Ro(){return(0,Us.N)((u,c)=>{u.subscribe((0,Cs._)(c,a=>Ds(a,c)))})}()),m=a.pipe((0,oi.s)(1),(0,Ls.p)(Xg),(0,lr.T)(w=>w.ngrxOnInitEffects()));return(0,aa.h)(h,m)}))}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(E.zcH),E.KVO(xd))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function R(u){return function lc(u){return Ji(u,"ngrxOnIdentifyEffects")}(u)?u.ngrxOnIdentifyEffects():""}let O=(()=>{class u{get isStarted(){return!!this.effectsSubscription}constructor(a,h){this.effectSources=a,this.store=h,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(T),E.KVO(Y.il))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),j=(()=>{class u{constructor(a,h,m,w,b,P,K){this.sources=a,h.start();for(const G of w)a.addEffects(G);m.dispatch({type:qe})}addEffects(a){this.sources.addEffects(a)}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(T),E.KVO(O),E.KVO(Y.il),E.KVO(Gg),E.KVO(Y.wc,8),E.KVO(Y.ae,8),E.KVO(ep,8))}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({})}}return u})(),ne=(()=>{class u{constructor(a,h,m,w){const b=h.flat();for(const P of b)a.addEffects(P)}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(j),E.KVO(bl),E.KVO(Y.wc,8),E.KVO(Y.ae,8))}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({})}}return u})(),ue=(()=>{class u{static forFeature(...a){const h=a.flat(),m=Tl(h);return{ngModule:ne,providers:[m,{provide:tp,multi:!0,useValue:h},{provide:ji,multi:!0,useValue:[]},{provide:bl,multi:!0,useFactory:nt,deps:[tp,ji]}]}}static forRoot(...a){const h=a.flat(),m=Tl(h);return{ngModule:j,providers:[m,{provide:$h,useValue:[h]},{provide:ep,useFactory:Be},{provide:ji,multi:!0,useValue:[]},{provide:Gg,useFactory:nt,deps:[$h,ji]}]}}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({})}}return u})();function nt(u,c){const a=[];for(const h of u)a.push(...h);for(const h of c)a.push(...h);return a.map(h=>function Nu(u){return u instanceof E.nKC||jc(u)}(h)?(0,E.WQX)(h):h)}function Be(){const u=(0,E.WQX)(O,{optional:!0,skipSelf:!0}),c=(0,E.WQX)($h,{self:!0});if((1!==c.length||0!==c[0].length)&&u)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var bn=C(4413);let Vr=(()=>{class u{loadCounter(){return(0,Oi.of)(1999)}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),Bs=(()=>{class u{constructor(a,h){this.actions$=a,this.counterService=h,this.loadData$=$t(()=>this.actions$.pipe(Sl(bn.m5),(0,Zn.Z)(()=>this.counterService.loadCounter().pipe((0,lr.T)(m=>bn.Co({newValue:m}))))))}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ac),E.KVO(Vr))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();var fo=C(9072);let Na=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({providers:[fo.M],imports:[Y.md.forFeature(ot.cp,ot.FW),ue.forFeature([Bs])]})}}return u})();var zo=C(8964),Ri=C(2503);let sp=(()=>{class u{constructor(a,h){this.actions$=a,this.http=h,this.loadData$=$t(()=>this.actions$.pipe(Sl(Ri.Ze),(0,Zi.n)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,lr.T)(m=>Ri.aE({payload:m})),(0,_i.W)(m=>(0,Oi.of)(Ri.Ny({payload:m})))))))}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ac),E.KVO(ii.Qq))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();var $c=C(8320);let xy=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({providers:[$c.T],imports:[Y.md.forFeature(zo.cp,zo.b4),ue.forFeature([sp])]})}}return u})();var Wh=C(459),Kh=C(965);let Pd=(()=>{class u{constructor(a){this.actions$=a,this.getUser$=$t(()=>this.actions$.pipe(Sl(Kh.wz),(0,Zn.Z)(()=>(0,Oi.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,lr.T)(h=>Kh.bI({user:h})),(0,_i.W)(h=>(console.error("An error occurred while getting user information.",h.message),(0,Oi.of)(Kh.VA({error:"Unable to retrieve user information."}))))))))}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ac))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();var ip=C(8066);let op=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({providers:[ip.w],imports:[Y.md.forFeature(Wh.c,Wh.o),ue.forFeature([Pd])]})}}return u})();var Al=C(8721),qg=C(5696),Fd=C(8193),h_=C(8515);let xn=(()=>{class u{set(a,h){try{localStorage.setItem(a,JSON.stringify(h))}catch(m){console.error("Error saving to localStorage",m)}}get(a){try{return JSON.parse(localStorage.getItem(a))}catch(h){return console.error("Error getting data from localStorage",h),null}}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),Ei=(()=>{class u{constructor(a,h,m,w){this.actions$=a,this.registerService=h,this.persistenceService=m,this.router=w,this.register$=$t(()=>this.actions$.pipe(Sl(Fd.Sl),(0,Zi.n)(({request:b})=>this.registerService.register(b).pipe((0,lr.T)(P=>(this.persistenceService.set("accessToken1",P.token),(0,Fd.NW)({currentUser:P}))),(0,_i.W)(P=>(console.log(P),(0,Oi.of)((0,Fd.gt)({errors:P.error.errors})))))))),this.redirectAfterSubmit$=$t(()=>this.actions$.pipe(Sl(Fd.NW),(0,rr.M)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ac),E.KVO(h_.h),E.KVO(xn),E.KVO(ee.Ix))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})(),ap=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({providers:[qg.E],imports:[Y.md.forFeature(Al.cp,Al.Km),ue.forFeature([Ei])]})}}return u})();var Ol=C(1116),cc=C(8527),Ts=C(152),lp=C(3692);let po=(()=>{class u{constructor(a){this.http=a,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(a){return this.http.post(this.url,a)}getArticleById(a){return this.http.get(this.url+"/"+a)}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(lp.k))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),Ss=(()=>{class u{constructor(a,h){this.actions$=a,this.fruitsService=h,this.loadAllArticles$=$t(()=>this.actions$.pipe(Sl(cc.j1),(0,Zi.n)(()=>this.fruitsService.getAllArticles().pipe((0,lr.T)(m=>cc.op({payload:m})))))),this.createArticle$=$t(()=>this.actions$.pipe(Sl(cc.n8),(0,lr.T)(m=>m.payload),(0,Zn.Z)(m=>this.fruitsService.createArticle(m).pipe((0,lr.T)(w=>cc.om({payload:w})),(0,_i.W)(w=>(0,Oi.of)(cc.VZ({payload:w}))))))),this.searchArticleById$=$t(()=>this.actions$.pipe(Sl(cc.vV),(0,Ts.B)(500),(0,lr.T)(m=>m.payload),(0,Zi.n)(m=>this.fruitsService.getArticleById(m).pipe((0,lr.T)(w=>cc.i8({payload:w})))))),this.loadProducts$=$t(()=>this.actions$.pipe(Sl(cc.fM),(0,Zn.Z)(()=>this.fruitsService.getAll().pipe((0,lr.T)(m=>cc.iQ({payload:m}))))))}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ac),E.KVO(po))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();var Hc=C(7242),kd=C(2771),xo=C(7647),Py=C(274),f_=C(3236),$i=C(8211),at=C(1853),yn=C(5225);const ai=(0,at.L)(u=>function(a=null){u(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=a});function Qn(u){throw new ai(u)}var xu=C(6977),nl=C(941),dc=C(3993),Rl=C(2816),zh=C(9079);const rl="PERFORM_ACTION",xl="ROLLBACK",Ra="TOGGLE_ACTION",Hi="JUMP_TO_STATE",xa="JUMP_TO_ACTION",Fu="IMPORT_STATE",cp="LOCK_CHANGES",Yg="PAUSE_RECORDING";class ku{constructor(c,a){if(this.action=c,this.timestamp=a,this.type=rl,typeof c.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Lu{constructor(){this.type="REFRESH"}}class up{constructor(c){this.timestamp=c,this.type="RESET"}}class Zg{constructor(c){this.timestamp=c,this.type=xl}}class dp{constructor(c){this.timestamp=c,this.type="COMMIT"}}class Fy{constructor(){this.type="SWEEP"}}class Jg{constructor(c){this.id=c,this.type=Ra}}class em{constructor(c){this.index=c,this.type=Hi}}class js{constructor(c){this.actionId=c,this.type=xa}}class fc{constructor(c){this.nextLiftedState=c,this.type=Fu}}class tm{constructor(c){this.status=c,this.type=cp}}class hp{constructor(c){this.status=c,this.type=Yg}}const xi=new E.nKC("@ngrx/store-devtools Options"),pc=new E.nKC("@ngrx/store-devtools Initial Config");function Jt(){return null}function Ud(u){const c={maxAge:!1,monitor:Jt,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},a="function"==typeof u?u():u,m=a.features||!!a.logOnly&&{pause:!0,export:!0,test:!0}||c.features;!0===m.import&&(m.import="custom");const w=Object.assign({},c,{features:m},a);if(w.maxAge&&w.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${w.maxAge}`);return w}function Qh(u,c){return u.filter(a=>c.indexOf(a)<0)}function fp(u){const{computedStates:c,currentStateIndex:a}=u;if(a>=c.length){const{state:m}=c[c.length-1];return m}const{state:h}=c[a];return h}function Wc(u){return new ku(u,+Date.now())}function Bd(u,c){return Object.keys(c).reduce((a,h)=>{const m=Number(h);return a[m]=Pa(u,c[m],m),a},{})}function Pa(u,c,a){return{...c,action:u(c.action,a)}}function Ly(u,c){return c.map((a,h)=>({state:pp(u,a.state,h),error:a.error}))}function pp(u,c,a){return u(c,a)}function Xh(u){return u.predicate||u.actionsSafelist||u.actionsBlocklist}function jd(u,c,a,h,m){const w=a&&!a(u,c.action),b=h&&!c.action.type.match(h.map(K=>nm(K)).join("|")),P=m&&c.action.type.match(m.map(K=>nm(K)).join("|"));return w||b||P}function nm(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mp(u){return{ngZone:u?(0,E.WQX)(E.SKi):null,connectInZone:u}}let yp=(()=>{class u extends Y.SS{static{this.\u0275fac=(()=>{let a;return function(m){return(a||(a=E.xGo(u)))(m||u)}})()}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();const Vu=new E.nKC("@ngrx/store-devtools Redux Devtools Extension");let vp=(()=>{class u{constructor(a,h,m){this.config=h,this.dispatcher=m,this.zoneConfig=mp(this.config.connectInZone),this.devtoolsExtension=a,this.createActionStreams()}notify(a,h){if(this.devtoolsExtension)if(a.type===rl){if(h.isLocked||h.isPaused)return;const m=fp(h);if(Xh(this.config)&&jd(m,a,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const w=this.config.stateSanitizer?pp(this.config.stateSanitizer,m,h.currentStateIndex):m,b=this.config.actionSanitizer?Pa(this.config.actionSanitizer,a,h.nextActionId):a;this.sendToReduxDevtools(()=>this.extensionConnection.send(b,w))}else{const m={...h,stagedActionIds:h.stagedActionIds,actionsById:this.config.actionSanitizer?Bd(this.config.actionSanitizer,h.actionsById):h.actionsById,computedStates:this.config.stateSanitizer?Ly(this.config.stateSanitizer,h.computedStates):h.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,m,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Bn.c(a=>{const h=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=h,h.init(),h.subscribe(m=>a.next(m)),h.unsubscribe}):ur.w}createActionStreams(){const a=this.createChangesObservable().pipe((0,xo.u)()),h=a.pipe((0,Ls.p)(G=>"START"===G.type)),m=a.pipe((0,Ls.p)(G=>"STOP"===G.type)),w=a.pipe((0,Ls.p)(G=>"DISPATCH"===G.type),(0,lr.T)(G=>this.unwrapAction(G.payload)),(0,Py.H)(G=>G.type===Fu?this.dispatcher.pipe((0,Ls.p)(ve=>ve.type===Y.q6),function Nl(u,c){const{first:a,each:h,with:m=Qn,scheduler:w=c??f_.E,meta:b=null}=(0,$i.v)(u)?{first:u}:"number"==typeof u?{each:u}:u;if(null==a&&null==h)throw new TypeError("No timeout provided.");return(0,Us.N)((P,K)=>{let G,ve,ge=null,Pe=0;const ct=Ye=>{ve=(0,yn.N)(K,w,()=>{try{G.unsubscribe(),(0,xr.Tg)(m({meta:b,lastValue:ge,seen:Pe})).subscribe(K)}catch(yt){K.error(yt)}},Ye)};G=P.subscribe((0,Cs._)(K,Ye=>{ve?.unsubscribe(),Pe++,K.next(ge=Ye),h>0&&ct(h)},void 0,void 0,()=>{ve?.closed||ve?.unsubscribe(),ge=null})),!Pe&&ct(null!=a?"number"==typeof a?a:+a-w.now():h)})}(1e3),(0,Ts.B)(1e3),(0,lr.T)(()=>G),(0,_i.W)(()=>(0,Oi.of)(G)),(0,oi.s)(1)):(0,Oi.of)(G))),P=a.pipe((0,Ls.p)(G=>"ACTION"===G.type),(0,lr.T)(G=>this.unwrapAction(G.payload))).pipe((0,xu.Q)(m)),K=w.pipe((0,xu.Q)(m));this.start$=h.pipe((0,xu.Q)(m)),this.actions$=this.start$.pipe((0,Zi.n)(()=>P)),this.liftedActions$=this.start$.pipe((0,Zi.n)(()=>K))}unwrapAction(a){return"string"==typeof a?(0,eval)(`(${a})`):a}getExtensionConfig(a){const h={name:a.name,features:a.features,serialize:a.serialize,autoPause:a.autoPause??!1,trace:a.trace??!1,traceLimit:a.traceLimit??75};return!1!==a.maxAge&&(h.maxAge=a.maxAge),h}sendToReduxDevtools(a){try{a()}catch(h){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",h)}}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(Vu),E.KVO(xi),E.KVO(yp))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();const Fa={type:Y.Zz},_p={type:"@ngrx/store-devtools/recompute"};function qh(u,c,a,h,m){if(h)return{state:a,error:"Interrupted by an error up the chain"};let b,w=a;try{w=u(a,c)}catch(P){b=P.toString(),m.handleError(P)}return{state:w,error:b}}function Yh(u,c,a,h,m,w,b,P,K){if(c>=u.length&&u.length===w.length)return u;const G=u.slice(0,c),ve=w.length-(K?1:0);for(let ge=c;ge<ve;ge++){const Pe=w[ge],ct=m[Pe].action,Ye=G[ge-1],yt=Ye?Ye.state:h,tn=Ye?Ye.error:void 0,Jn=b.indexOf(Pe)>-1?Ye:qh(a,ct,yt,tn,P);G.push(Jn)}return K&&G.push(u[u.length-1]),G}let rm=(()=>{class u{constructor(a,h,m,w,b,P,K,G){const ve=function p_(u,c){return{monitorState:c(void 0,{}),nextActionId:1,actionsById:{0:Wc(Fa)},stagedActionIds:[0],skippedActionIds:[],committedState:u,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(K,G.monitor),ge=function Kc(u,c,a,h,m={}){return w=>(b,P)=>{let{monitorState:K,actionsById:G,nextActionId:ve,stagedActionIds:ge,skippedActionIds:Pe,committedState:ct,currentStateIndex:Ye,computedStates:yt,isLocked:tn,isPaused:Vn}=b||c;function Jn(Os){let Ar=Os,ti=ge.slice(1,Ar+1);for(let Ns=0;Ns<ti.length;Ns++){if(yt[Ns+1].error){Ar=Ns,ti=ge.slice(1,Ar+1);break}delete G[ti[Ns]]}Pe=Pe.filter(Ns=>-1===ti.indexOf(Ns)),ge=[0,...ge.slice(Ar+1)],ct=yt[Ar].state,yt=yt.slice(Ar),Ye=Ye>Ar?Ye-Ar:0}function cs(){G={0:Wc(Fa)},ve=1,ge=[0],Pe=[],ct=yt[Ye].state,Ye=0,yt=[]}b||(G=Object.create(G));let Wn=0;switch(P.type){case cp:tn=P.status,Wn=1/0;break;case Yg:Vn=P.status,Vn?(ge=[...ge,ve],G[ve]=new ku({type:"@ngrx/devtools/pause"},+Date.now()),ve++,Wn=ge.length-1,yt=yt.concat(yt[yt.length-1]),Ye===ge.length-2&&Ye++,Wn=1/0):cs();break;case"RESET":G={0:Wc(Fa)},ve=1,ge=[0],Pe=[],ct=u,Ye=0,yt=[];break;case"COMMIT":cs();break;case xl:G={0:Wc(Fa)},ve=1,ge=[0],Pe=[],Ye=0,yt=[];break;case Ra:{const{id:Os}=P;Pe=-1===Pe.indexOf(Os)?[Os,...Pe]:Pe.filter(ti=>ti!==Os),Wn=ge.indexOf(Os);break}case"SET_ACTIONS_ACTIVE":{const{start:Os,end:Ar,active:ti}=P,Ns=[];for(let Wa=Os;Wa<Ar;Wa++)Ns.push(Wa);Pe=ti?Qh(Pe,Ns):[...Pe,...Ns],Wn=ge.indexOf(Os);break}case Hi:Ye=P.index,Wn=1/0;break;case xa:{const Os=ge.indexOf(P.actionId);-1!==Os&&(Ye=Os),Wn=1/0;break}case"SWEEP":ge=Qh(ge,Pe),Pe=[],Ye=Math.min(Ye,ge.length-1);break;case rl:{if(tn)return b||c;if(Vn||b&&jd(b.computedStates[Ye],P,m.predicate,m.actionsSafelist,m.actionsBlocklist)){const Ar=yt[yt.length-1];yt=[...yt.slice(0,-1),qh(w,P.action,Ar.state,Ar.error,a)],Wn=1/0;break}m.maxAge&&ge.length===m.maxAge&&Jn(1),Ye===ge.length-1&&Ye++;const Os=ve++;G[Os]=P,ge=[...ge,Os],Wn=ge.length-1;break}case Fu:({monitorState:K,actionsById:G,nextActionId:ve,stagedActionIds:ge,skippedActionIds:Pe,committedState:ct,currentStateIndex:Ye,computedStates:yt,isLocked:tn,isPaused:Vn}=P.nextLiftedState);break;case Y.Zz:Wn=0,m.maxAge&&ge.length>m.maxAge&&(yt=Yh(yt,Wn,w,ct,G,ge,Pe,a,Vn),Jn(ge.length-m.maxAge),Wn=1/0);break;case Y.q6:if(yt.filter(Ar=>Ar.error).length>0)Wn=0,m.maxAge&&ge.length>m.maxAge&&(yt=Yh(yt,Wn,w,ct,G,ge,Pe,a,Vn),Jn(ge.length-m.maxAge),Wn=1/0);else{if(!Vn&&!tn){Ye===ge.length-1&&Ye++;const Ar=ve++;G[Ar]=new ku(P,+Date.now()),ge=[...ge,Ar],Wn=ge.length-1,yt=Yh(yt,Wn,w,ct,G,ge,Pe,a,Vn)}yt=yt.map(Ar=>({...Ar,state:w(Ar.state,_p)})),Ye=ge.length-1,m.maxAge&&ge.length>m.maxAge&&Jn(ge.length-m.maxAge),Wn=1/0}break;default:Wn=1/0}return yt=Yh(yt,Wn,w,ct,G,ge,Pe,a,Vn),K=h(K,P),{monitorState:K,actionsById:G,nextActionId:ve,stagedActionIds:ge,skippedActionIds:Pe,committedState:ct,currentStateIndex:Ye,computedStates:yt,isLocked:tn,isPaused:Vn}}}(K,ve,P,G.monitor,G),Pe=(0,aa.h)((0,aa.h)(h.asObservable().pipe(function uc(u){return(0,Ls.p)((c,a)=>u<=a)}(1)),w.actions$).pipe((0,lr.T)(Wc)),a,w.liftedActions$).pipe((0,nl.Q)(Hc.T)),ct=m.pipe((0,lr.T)(ge)),Ye=mp(G.connectInZone),yt=new kd.m(1);this.liftedStateSubscription=Pe.pipe((0,dc.E)(ct),zc(Ye),(0,Rl.S)(({state:Jn},[cs,Wn])=>{let Os=Wn(Jn,cs);return cs.type!==rl&&Xh(G)&&(Os=function gp(u,c,a,h){const m=[],w={},b=[];return u.stagedActionIds.forEach((P,K)=>{const G=u.actionsById[P];G&&(K&&jd(u.computedStates[K],G,c,a,h)||(w[P]=G,m.push(P),b.push(u.computedStates[K])))}),{...u,stagedActionIds:m,actionsById:w,computedStates:b}}(Os,G.predicate,G.actionsSafelist,G.actionsBlocklist)),w.notify(cs,Os),{state:Os,action:cs}},{state:ve,action:null})).subscribe(({state:Jn,action:cs})=>{yt.next(Jn),cs.type===rl&&b.next(cs.action)}),this.extensionStartSubscription=w.start$.pipe(zc(Ye)).subscribe(()=>{this.refresh()});const tn=yt.asObservable(),Vn=tn.pipe((0,lr.T)(fp));Object.defineProperty(Vn,"state",{value:(0,zh.ot)(Vn,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=a,this.liftedState=tn,this.state=Vn}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(a){this.dispatcher.next(a)}next(a){this.dispatcher.next(a)}error(a){}complete(){}performAction(a){this.dispatch(new ku(a,+Date.now()))}refresh(){this.dispatch(new Lu)}reset(){this.dispatch(new up(+Date.now()))}rollback(){this.dispatch(new Zg(+Date.now()))}commit(){this.dispatch(new dp(+Date.now()))}sweep(){this.dispatch(new Fy)}toggleAction(a){this.dispatch(new Jg(a))}jumpToAction(a){this.dispatch(new js(a))}jumpToState(a){this.dispatch(new em(a))}importState(a){this.dispatch(new fc(a))}lockChanges(a){this.dispatch(new tm(a))}pauseRecording(a){this.dispatch(new hp(a))}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(yp),E.KVO(Y.SS),E.KVO(Y.QU),E.KVO(vp),E.KVO(Y.sA),E.KVO(E.zcH),E.KVO(Y.N_),E.KVO(xi))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();function zc({ngZone:u,connectInZone:c}){return a=>c?new Bn.c(h=>a.subscribe({next:m=>u.run(()=>h.next(m)),error:m=>u.run(()=>h.error(m)),complete:()=>u.run(()=>h.complete())})):a}const sm=new E.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Gc(u,c){return!!u||c.monitor!==Jt}function Zh(){const u="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[u]<"u"?window[u]:null}function Jh(u){return u.state}function ha(u={}){return(0,E.EmA)([vp,yp,rm,{provide:pc,useValue:u},{provide:sm,deps:[Vu,xi],useFactory:Gc},{provide:Vu,useFactory:Zh},{provide:xi,deps:[pc],useFactory:Ud},{provide:Y.h1,deps:[rm],useFactory:Jh},{provide:Y.Bh,useExisting:yp}])}let go=(()=>{class u{static instrument(a={}){return{ngModule:u,providers:[ha(a)]}}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({})}}return u})(),Uu=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({imports:[Y.md.forRoot(Ol.gz),ue.forRoot([Ss]),be,Na,xy,op,ap,go.instrument({maxAge:25,logOnly:!sn.c.production,connectInZone:!0})]})}}return u})();const ef="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let mc=(()=>{class u{constructor(){}intercept(a,h){const{url:m,method:w,headers:b}=a;return m.endsWith("login")&&"POST"===w?function K(){return(0,Oi.of)(new ii.cS({status:200,body:{id:"1",username:"profanis",token:ef}}))}():m.endsWith("products")&&"GET"===w?function G(){if(!function P(){return b.get("authorization")===ef}())return(0,Cl.$)({status:401,error:{message:"Unauthorized"}});const ve=[...new Array(20).keys()].map(ge=>({id:ge,name:`Product ${ge}`,weight:30,symbol:"ngf"}));return(0,Oi.of)(new ii.cS({status:200,body:ve}))}():h.handle(a)}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();const Vy={provide:ii.a7,useClass:mc,multi:!0};C(6570);let im=(()=>{class u{static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({})}}return u})();class Uy{static get injector(){return this._injector}static set injector(c){this._injector=c}}var Pl=C(2749),fa=C(5364);let Go=(()=>{class u{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),nf=(()=>{class u extends Pl.y{constructor(a,h){super(),this.http=a,this.config=h}getCurrentWeather(a,h){const w=this.getParams(a,h);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:w}).pipe((0,lr.T)(b=>({temperature:b.main.temp,temperatureMin:b.main.temp_min,temperatureMax:b.main.temp_max,city:b.name,conditions:(0,fa.vp)(b.weather[0]),date:new Date(b.dt),zipCode:a,countryCode:h})))}getWeatherByLocation(a){return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:{q:a,units:"metric",appid:this.config.apiKey}}).pipe((0,lr.T)(w=>({temperature:w.main.temp,temperatureMin:w.main.temp_min,temperatureMax:w.main.temp_max,city:w.name,conditions:(0,fa.vp)(w.weather[0]),date:new Date(w.dt),q:a})))}getForcastByLocation(a){return this.http.get("https://api.openweathermap.org/data/2.5/forecast",{params:{q:a,units:"metric",appid:this.config.apiKey}}).pipe((0,lr.T)(w=>({temperature:w.main.temp,temperatureMin:w.main.temp_min,temperatureMax:w.main.temp_max,city:w.name,conditions:(0,fa.vp)(w.weather[0]),date:new Date(w.dt),q:a})))}getOnecall(a,h){return this.http.get("https://api.openweathermap.org/data/2.5/onecall",{params:{lat:a,lon:h,exclude:"current, minutely, alerts",units:"metric",appid:this.config.apiKey}})}getForecastDaily(a,h){const w=this.getParams(a,h);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:w}).pipe((0,lr.T)(b=>b.list.map(P=>({temperature:P.temp.day,temperatureMin:P.temp.min,temperatureMax:P.temp.max,city:b.city.name,conditions:(0,fa.vp)(P.weather[0]),date:new Date(1e3*P.dt),zipCode:a,countryCode:h}))))}getParams(a,h="us"){return new ii.Nl({fromObject:{zip:`${a},${h}`,appid:this.config.apiKey,units:"metric"}})}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ii.Qq),E.KVO(Go))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();var Bu=C(1111),Ep=C(2214),to=C(7852),wp=C(1362),ke=C(1076),om=C(8041);const am="@firebase/database";let Dp="";class rf{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,a){null==a?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,ke.As)(a))}get(c){const a=this.domStorage_.getItem(this.prefixedName_(c));return null==a?null:(0,ke.$L)(a)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class Hd{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,a){null==a?delete this.cache_[c]:this.cache_[c]=a}get(c){return(0,ke.gR)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const cm=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const c=window[u];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new rf(c)}}catch{}return new Hd},sl=cm("localStorage"),Cp=cm("sessionStorage"),pa=new om.Vy("@firebase/database"),yc=function(){let u=1;return function(){return u++}}(),ys=function(u){const c=(0,ke.kj)(u),a=new ke.gz;a.update(c);const h=a.digest();return ke.K3.encodeByteArray(h)},il=function(...u){let c="";for(let a=0;a<u.length;a++){const h=u[a];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?c+=il.apply(null,h):c+="object"==typeof h?(0,ke.As)(h):h,c+=" "}return c};let vc=null,Fl=!0;const Zs=function(...u){if(!0===Fl&&(Fl=!1,null===vc&&!0===Cp.get("logging_enabled")&&function(u,c){(0,ke.vA)(!c||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(pa.logLevel=om.$b.VERBOSE,vc=pa.log.bind(pa),c&&Cp.set("logging_enabled",!0)):"function"==typeof u?vc=u:(vc=null,Cp.remove("logging_enabled"))}(!0)),vc){const c=il.apply(null,u);vc(c)}},_c=function(u){return function(...c){Zs(u,...c)}},Ip=function(...u){const c="FIREBASE INTERNAL ERROR: "+il(...u);pa.error(c)},Po=function(...u){const c=`FIREBASE FATAL ERROR: ${il(...u)}`;throw pa.error(c),new Error(c)},no=function(...u){const c="FIREBASE WARNING: "+il(...u);pa.warn(c)},vs=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},ol="[MIN_NAME]",kl="[MAX_NAME]",Xc=function(u,c){if(u===c)return 0;if(u===ol||c===kl)return-1;if(c===ol||u===kl)return 1;{const a=ka(u),h=ka(c);return null!==a?null!==h?a-h==0?u.length-c.length:a-h:-1:null!==h?1:u<c?-1:1}},sf=function(u,c){return u===c?0:u<c?-1:1},Wd=function(u,c){if(c&&u in c)return c[u];throw new Error("Missing required key ("+u+") in object: "+(0,ke.As)(c))},bp=function(u){if("object"!=typeof u||null===u)return(0,ke.As)(u);const c=[];for(const h in u)c.push(h);c.sort();let a="{";for(let h=0;h<c.length;h++)0!==h&&(a+=","),a+=(0,ke.As)(c[h]),a+=":",a+=bp(u[c[h]]);return a+="}",a},ju=function(u,c){const a=u.length;if(a<=c)return[u];const h=[];for(let m=0;m<a;m+=c)h.push(u.substring(m,m+c>a?a:m+c));return h};function Qs(u,c){for(const a in u)u.hasOwnProperty(a)&&c(a,u[a])}const Mp=function(u){(0,ke.vA)(!vs(u),"Invalid JSON number");const h=1023;let m,w,b,P,K;0===u?(w=0,b=0,m=1/u==-1/0?1:0):(m=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(P=Math.min(Math.floor(Math.log(u)/Math.LN2),h),w=P+h,b=Math.round(u*Math.pow(2,52-P)-Math.pow(2,52))):(w=0,b=Math.round(u/Math.pow(2,-1074))));const G=[];for(K=52;K;K-=1)G.push(b%2?1:0),b=Math.floor(b/2);for(K=11;K;K-=1)G.push(w%2?1:0),w=Math.floor(w/2);G.push(m?1:0),G.reverse();const ve=G.join("");let ge="";for(K=0;K<64;K+=8){let Pe=parseInt(ve.substr(K,8),2).toString(16);1===Pe.length&&(Pe="0"+Pe),ge+=Pe}return ge.toLowerCase()},hm=new RegExp("^-?(0*)\\d{1,10}$"),ka=function(u){if(hm.test(u)){const c=Number(u);if(c>=-2147483648&&c<=2147483647)return c}return null},$u=function(u){try{u()}catch(c){setTimeout(()=>{throw no("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},Hr=function(u,c){const a=setTimeout(u,c);return"number"==typeof a&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):"object"==typeof a&&a.unref&&a.unref(),a};class vr{constructor(c,a){this.appName_=c,this.appCheckProvider=a,this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(h=>this.appCheck=h)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((a,h)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(a,h):a(null)},0)})}addTokenChangeListener(c){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(h=>h.addTokenListener(c))}notifyForInvalidToken(){no(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class m_{constructor(c,a,h){this.appName_=c,this.firebaseOptions_=a,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(m=>this.auth_=m)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(a=>a&&"auth/token-not-initialized"===a.code?(Zs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,h)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(a,h):a(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(a=>a.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(a=>a.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',no(c)}}let Hu=(()=>{class u{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const Wu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yc="websocket",Zc="long_polling";class Op{constructor(c,a,h,m,w=!1,b="",P=!1,K=!1){this.secure=a,this.namespace=h,this.webSocketOnly=m,this.nodeAdmin=w,this.persistenceKey=b,this.includeNamespaceInQueryParams=P,this.isUsingEmulator=K,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sl.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&sl.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pm(u,c,a){let h;if((0,ke.vA)("string"==typeof c,"typeof type must == string"),(0,ke.vA)("object"==typeof a,"typeof params must == object"),c===Yc)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(c!==Zc)throw new Error("Unknown connection type: "+c);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function $s(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(a.ns=u.namespace);const m=[];return Qs(a,(w,b)=>{m.push(w+"="+b)}),h+m.join("&")}class gm{constructor(){this.counters_={}}incrementCounter(c,a=1){(0,ke.gR)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=a}get(){return(0,ke.A4)(this.counters_)}}const Np={},Rp={};function cf(u){const c=u.toString();return Np[c]||(Np[c]=new gm),Np[c]}class Hy{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,a){this.closeAfterResponse=c,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,a){for(this.pendingResponses[c]=a;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let m=0;m<h.length;++m)h[m]&&$u(()=>{this.onMessage_(h[m])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ec{constructor(c,a,h,m,w,b,P){this.connId=c,this.repoInfo=a,this.applicationId=h,this.appCheckToken=m,this.authToken=w,this.transportSessionId=b,this.lastSessionId=P,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_c(c),this.stats_=cf(a),this.urlFn=K=>(this.appCheckToken&&(K.ac=this.appCheckToken),pm(a,Zc,K))}open(c,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new Hy(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,ke.$g)()||"complete"===document.readyState)u();else{let c=!1;const a=function(){document.body?c||(c=!0,u()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xd((...w)=>{const[b,P,K,G,ve]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===b)this.id=P,this.password=K;else{if("close"!==b)throw new Error("Unrecognized command received: "+b);P?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(P,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[b,P]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(b,P)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Wu.test(location.hostname)&&(h.r="f");const m=this.urlFn(h);this.log_("Connecting via long-poll to "+m),this.scriptTagHolder.addTag(m,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ec.forceAllow_=!0}static forceDisallow(){Ec.forceDisallow_=!0}static isAvailable(){return!((0,ke.$g)()||!Ec.forceAllow_&&(Ec.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const a=(0,ke.As)(c);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const h=(0,ke.KA)(a),m=ju(h,1840);for(let w=0;w<m.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,m.length,m[w]),this.curSegmentNum++}addDisconnectPingFrame(c,a){if((0,ke.$g)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=c,h.pw=a,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const a=(0,ke.As)(c).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Xd{constructor(c,a,h,m){if(this.onDisconnect=h,this.urlFn=m,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ke.$g)())this.commandCB=c,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=yc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=Xd.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const b="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(b),this.myIFrame.doc.close()}catch(P){Zs("frame writing exception"),P.stack&&Zs(P.stack),Zs(P)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||Zs("No IE domain setting required")}catch{const h=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,a){for(this.myID=c,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let a=this.urlFn(c),h="",m=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const b=this.pendingSegs.shift();h=h+"&seg"+m+"="+b.seg+"&ts"+m+"="+b.ts+"&d"+m+"="+b.d,m++}return a+=h,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(c,a,h){this.pendingSegs.push({seg:c,ts:a,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(c,a){this.outstandingRequests.add(a);const h=()=>{this.outstandingRequests.delete(a),this.newRequest_()},m=setTimeout(h,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(m),h()})}addTag(c,a){(0,ke.$g)()?this.doNodeLongPoll(c,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=c,h.onload=h.onreadystatechange=function(){const m=h.readyState;(!m||"loaded"===m||"complete"===m)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),a())},h.onerror=()=>{Zs("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch{}},Math.floor(1))}}let Jc=null;typeof MozWebSocket<"u"?Jc=MozWebSocket:typeof WebSocket<"u"&&(Jc=WebSocket);let wc=(()=>{class u{constructor(a,h,m,w,b,P,K){this.connId=a,this.applicationId=m,this.appCheckToken=w,this.authToken=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_c(this.connId),this.stats_=cf(h),this.connURL=u.connectionURL_(h,P,K,w,m),this.nodeAdmin=h.nodeAdmin}static connectionURL_(a,h,m,w,b){const P={v:"5"};return!(0,ke.$g)()&&typeof location<"u"&&location.hostname&&Wu.test(location.hostname)&&(P.r="f"),h&&(P.s=h),m&&(P.ls=m),w&&(P.ac=w),b&&(P.p=b),pm(a,Yc,P)}open(a,h){this.onDisconnect=h,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sl.set("previous_websocket_failure",!0);try{let m;if((0,ke.$g)()){m={headers:{"User-Agent":`Firebase/5/${Dp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(m.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(m.headers["X-Firebase-AppCheck"]=this.appCheckToken);const b=process.env,P=0===this.connURL.indexOf("wss://")?b.HTTPS_PROXY||b.https_proxy:b.HTTP_PROXY||b.http_proxy;P&&(m.proxy={origin:P})}this.mySock=new Jc(this.connURL,[],m)}catch(m){this.log_("Error instantiating WebSocket.");const w=m.message||m.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const w=m.message||m.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let a=!1;if(typeof navigator<"u"&&navigator.userAgent){const m=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);m&&m.length>1&&parseFloat(m[1])<4.4&&(a=!0)}return!a&&null!==Jc&&!u.forceDisallow_}static previouslyFailed(){return sl.isInMemoryStorage||!0===sl.get("previous_websocket_failure")}markConnectionHealthy(){sl.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const m=(0,ke.$L)(h);this.onMessage(m)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,ke.vA)(null===this.frames,"We already have a frame buffer"),a.length<=6){const h=Number(a);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const h=a.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const m=this.extractFrameCount_(h);null!==m&&this.appendFrame_(m)}}send(a){this.resetKeepAlive();const h=(0,ke.As)(a);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const m=ju(h,16384);m.length>1&&this.sendString_(String(m.length));for(let w=0;w<m.length;w++)this.sendString_(m[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Em=(()=>{class u{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[Ec,wc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const h=wc&&wc.isAvailable();let m=h&&!wc.previouslyFailed();if(a.webSocketOnly&&(h||no("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),m=!0),m)this.transports_=[wc];else{const w=this.transports_=[];for(const b of u.ALL_TRANSPORTS)b&&b.isAvailable()&&w.push(b);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Gu{constructor(c,a,h,m,w,b,P,K,G,ve){this.id=c,this.repoInfo_=a,this.applicationId_=h,this.appCheckToken_=m,this.authToken_=w,this.onMessage_=b,this.onReady_=P,this.onDisconnect_=K,this.onKill_=G,this.lastSessionId=ve,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_c("c:"+this.id+":"),this.transportManager_=new Em(a),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,h)},Math.floor(0));const m=c.healthyTimeout||0;m>0&&(this.healthyTimeout_=Hr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(m)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return a=>{c===this.conn_?this.onConnectionLost_(a):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return a=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(a):c===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const a=c.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const a=Wd("t",c),h=Wd("d",c);if("c"===a)this.onSecondaryControl_(h);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const a=Wd("t",c),h=Wd("d",c);"c"===a?this.onControl_(h):"d"===a&&this.onDataMessage_(h)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const a=Wd("t",c);if("d"in c){const h=c.d;if("h"===a){const m=Object.assign({},h);this.repoInfo_.isUsingEmulator&&(m.h=this.repoInfo_.host),this.onHandshake_(m)}else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let m=0;m<this.pendingDataMessages.length;++m)this.onDataMessage_(this.pendingDataMessages[m]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(h):"r"===a?this.onReset_(h):"e"===a?Ip("Server Error: "+h):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ip("Unknown control packet command: "+a)}}onHandshake_(c){const a=c.ts,h=c.v,m=c.h;this.sessionId=c.s,this.repoInfo_.host=m,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==h&&no("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,h),Hr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,a){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eu{put(c,a,h,m){}merge(c,a,h,m){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,a,h){}onDisconnectMerge(c,a,h){}onDisconnectCancel(c,a){}reportStats(c){}}class tu{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,ke.vA)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...a){if(Array.isArray(this.listeners_[c])){const h=[...this.listeners_[c]];for(let m=0;m<h.length;m++)h[m].callback.apply(h[m].context,a)}}on(c,a,h){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:a,context:h});const m=this.getInitialEvent(c);m&&a.apply(h,m)}off(c,a,h){this.validateEventType_(c);const m=this.listeners_[c]||[];for(let w=0;w<m.length;w++)if(m[w].callback===a&&(!h||h===m[w].context))return void m.splice(w,1)}validateEventType_(c){(0,ke.vA)(this.allowedEvents_.find(a=>a===c),"Unknown event: "+c)}}class Js extends tu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ke.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Js}getInitialEvent(c){return(0,ke.vA)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}class Mr{constructor(c,a){if(void 0===a){this.pieces_=c.split("/");let h=0;for(let m=0;m<this.pieces_.length;m++)this.pieces_[m].length>0&&(this.pieces_[h]=this.pieces_[m],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=a}toString(){let c="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(c+="/"+this.pieces_[a]);return c||"/"}}function Ur(){return new Mr("")}function dr(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function pi(u){return u.pieces_.length-u.pieceNum_}function Wr(u){let c=u.pieceNum_;return c<u.pieces_.length&&c++,new Mr(u.pieces_,c)}function Jd(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function ru(u,c=0){return u.pieces_.slice(u.pieceNum_+c)}function Qu(u){if(u.pieceNum_>=u.pieces_.length)return null;const c=[];for(let a=u.pieceNum_;a<u.pieces_.length-1;a++)c.push(u.pieces_[a]);return new Mr(c,0)}function os(u,c){const a=[];for(let h=u.pieceNum_;h<u.pieces_.length;h++)a.push(u.pieces_[h]);if(c instanceof Mr)for(let h=c.pieceNum_;h<c.pieces_.length;h++)a.push(c.pieces_[h]);else{const h=c.split("/");for(let m=0;m<h.length;m++)h[m].length>0&&a.push(h[m])}return new Mr(a,0)}function sr(u){return u.pieceNum_>=u.pieces_.length}function bo(u,c){const a=dr(u),h=dr(c);if(null===a)return c;if(a===h)return bo(Wr(u),Wr(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+u+")")}function qy(u,c){const a=ru(u,0),h=ru(c,0);for(let m=0;m<a.length&&m<h.length;m++){const w=Xc(a[m],h[m]);if(0!==w)return w}return a.length===h.length?0:a.length<h.length?-1:1}function Tm(u,c){if(pi(u)!==pi(c))return!1;for(let a=u.pieceNum_,h=c.pieceNum_;a<=u.pieces_.length;a++,h++)if(u.pieces_[a]!==c.pieces_[h])return!1;return!0}function La(u,c){let a=u.pieceNum_,h=c.pieceNum_;if(pi(u)>pi(c))return!1;for(;a<u.pieces_.length;){if(u.pieces_[a]!==c.pieces_[h])return!1;++a,++h}return!0}class uf{constructor(c,a){this.errorPrefix_=a,this.parts_=ru(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,ke.OE)(this.parts_[h]);jp(this)}}function jp(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+su(u))}function su(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class qu extends tu{constructor(){let c,a;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",c="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",c="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",c="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const h=!document[c];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new qu}getInitialEvent(c){return(0,ke.vA)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const eh=1e3;let iu,Bl=(()=>{class u extends eu{constructor(a,h,m,w,b,P,K,G){if(super(),this.repoInfo_=a,this.applicationId_=h,this.onDataUpdate_=m,this.onConnectStatus_=w,this.onServerInfoUpdate_=b,this.authTokenProvider_=P,this.appCheckTokenProvider_=K,this.authOverride_=G,this.id=u.nextPersistentConnectionId_++,this.log_=_c("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,G&&!(0,ke.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qu.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&Js.getInstance().on("online",this.onOnline_,this)}sendRequest(a,h,m){const w=++this.requestNumber_,b={r:w,a,b:h};this.log_((0,ke.As)(b)),(0,ke.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(b),m&&(this.requestCBHash_[w]=m)}get(a){this.initConnection_();const h=new ke.cY,w={action:"g",request:{p:a._path.toString(),q:a._queryObject},onComplete:P=>{const K=P.d;"ok"===P.s?h.resolve(K):h.reject(K)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),h.promise}listen(a,h,m,w){this.initConnection_();const b=a._queryIdentifier,P=a._path.toString();this.log_("Listen called for "+P+" "+b),this.listens.has(P)||this.listens.set(P,new Map),(0,ke.vA)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ke.vA)(!this.listens.get(P).has(b),"listen() called twice for same path/queryId.");const K={onComplete:w,hashFn:h,query:a,tag:m};this.listens.get(P).set(b,K),this.connected_&&this.sendListen_(K)}sendGet_(a){const h=this.outstandingGets_[a];this.sendRequest("g",h.request,m=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(m)})}sendListen_(a){const h=a.query,m=h._path.toString(),w=h._queryIdentifier;this.log_("Listen on "+m+" for "+w);const b={p:m};a.tag&&(b.q=h._queryObject,b.t=a.tag),b.h=a.hashFn(),this.sendRequest("q",b,K=>{const G=K.d,ve=K.s;u.warnOnListenWarnings_(G,h),(this.listens.get(m)&&this.listens.get(m).get(w))===a&&(this.log_("listen response",K),"ok"!==ve&&this.removeListen_(m,w),a.onComplete&&a.onComplete(ve,G))})}static warnOnListenWarnings_(a,h){if(a&&"object"==typeof a&&(0,ke.gR)(a,"w")){const m=(0,ke.yw)(a,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const w='".indexOn": "'+h._queryParams.getIndex().toString()+'"',b=h._path.toString();no(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${b} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,ke.qc)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,h=(0,ke.Cv)(a)?"auth":"gauth",m={cred:a};null===this.authOverride_?m.noauth=!0:"object"==typeof this.authOverride_&&(m.authvar=this.authOverride_),this.sendRequest(h,m,w=>{const b=w.s,P=w.d||"error";this.authToken_===a&&("ok"===b?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(b,P))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const h=a.s,m=a.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,m)})}unlisten(a,h){const m=a._path.toString(),w=a._queryIdentifier;this.log_("Unlisten called for "+m+" "+w),(0,ke.vA)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,w)&&this.connected_&&this.sendUnlisten_(m,w,a._queryObject,h)}sendUnlisten_(a,h,m,w){this.log_("Unlisten on "+a+" for "+h);const b={p:a};w&&(b.q=m,b.t=w),this.sendRequest("n",b)}onDisconnectPut(a,h,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,h,m):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:h,onComplete:m})}onDisconnectMerge(a,h,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,h,m):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:h,onComplete:m})}onDisconnectCancel(a,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,h):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(a,h,m,w){const b={p:h,d:m};this.log_("onDisconnect "+a,b),this.sendRequest(a,b,P=>{w&&setTimeout(()=>{w(P.s,P.d)},Math.floor(0))})}put(a,h,m,w){this.putInternal("p",a,h,m,w)}merge(a,h,m,w){this.putInternal("m",a,h,m,w)}putInternal(a,h,m,w,b){this.initConnection_();const P={p:h,d:m};void 0!==b&&(P.h=b),this.outstandingPuts_.push({action:a,request:P,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(a){const h=this.outstandingPuts_[a].action,m=this.outstandingPuts_[a].request,w=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(h,m,b=>{this.log_(h+" response",b),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(b.s,b.d)})}reportStats(a){if(this.connected_){const h={c:a};this.log_("reportStats",h),this.sendRequest("s",h,m=>{"ok"!==m.s&&this.log_("reportStats","Error sending stats: "+m.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,ke.As)(a));const h=a.r,m=this.requestCBHash_[h];m&&(delete this.requestCBHash_[h],m(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,h){this.log_("handleServerMessage",a,h),"d"===a?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===a?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===a?this.onListenRevoked_(h.p,h.q):"ac"===a?this.onAuthRevoked_(h.s,h.d):"apc"===a?this.onAppCheckRevoked_(h.s,h.d):"sd"===a?this.onSecurityDebugPacket_(h):Ip("Unrecognized action received from server: "+(0,ke.As)(a)+"\nAre you using the latest client?")}onReady_(a,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,ke.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eh,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=eh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=eh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-a);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,ie.A)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const h=a.onDataMessage_.bind(a),m=a.onReady_.bind(a),w=a.onRealtimeDisconnect_.bind(a),b=a.id+":"+u.nextConnectionId_++,P=a.lastSessionId;let K=!1,G=null;const ve=function(){G?G.close():(K=!0,w())};a.realtime_={close:ve,sendRequest:function(ct){(0,ke.vA)(G,"sendRequest call when we're not connected not allowed."),G.sendRequest(ct)}};const Pe=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[ct,Ye]=yield Promise.all([a.authTokenProvider_.getToken(Pe),a.appCheckTokenProvider_.getToken(Pe)]);K?Zs("getToken() completed but was canceled"):(Zs("getToken() completed. Creating connection."),a.authToken_=ct&&ct.accessToken,a.appCheckToken_=Ye&&Ye.token,G=new Gu(b,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,h,m,w,yt=>{no(yt+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},P))}catch(ct){a.log_("Failed to get token: "+ct),K||(a.repoInfo_.nodeAdmin&&no(ct),ve())}}})()}interrupt(a){Zs("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){Zs("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,ke.Im)(this.interruptReasons_)&&(this.reconnectDelay_=eh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const h=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const h=this.outstandingPuts_[a];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,h){let m;m=h?h.map(b=>bp(b)).join("$"):"default";const w=this.removeListen_(a,m);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(a,h){const m=new Mr(a).toString();let w;if(this.listens.has(m)){const b=this.listens.get(m);w=b.get(h),b.delete(h),0===b.size&&this.listens.delete(m)}else w=void 0;return w}onAuthRevoked_(a,h){Zs("Auth token revoked: "+a+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,h){Zs("App check token revoked: "+a+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const h of a.values())this.sendListen_(h);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let h="js";(0,ke.$g)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+h+"."+Dp.replace(/\./g,"-")]=1,(0,ke.jZ)()?a["framework.cordova"]=1:(0,ke.lV)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=Js.getInstance().currentlyOnline();return(0,ke.Im)(this.interruptReasons_)&&a}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class hr{constructor(c,a){this.name=c,this.node=a}static Wrap(c,a){return new hr(c,a)}}class hf{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,a){const h=new hr(ol,c),m=new hr(ol,a);return 0!==this.compare(h,m)}minPost(){return hr.MIN}}class Yy extends hf{static get __EMPTY_NODE(){return iu}static set __EMPTY_NODE(c){iu=c}compare(c,a){return Xc(c.name,a.name)}isDefinedOn(c){throw(0,ke.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,a){return!1}minPost(){return hr.MIN}maxPost(){return new hr(kl,iu)}makePost(c,a){return(0,ke.vA)("string"==typeof c,"KeyIndex indexValue must always be a string."),new hr(c,iu)}toString(){return".key"}}const ll=new Yy;class Yu{constructor(c,a,h,m,w=null){this.isReverse_=m,this.resultGenerator_=w,this.nodeStack_=[];let b=1;for(;!c.isEmpty();)if(b=a?h(c.key,a):1,m&&(b*=-1),b<0)c=this.isReverse_?c.left:c.right;else{if(0===b){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,c=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let Cc,Qo=(()=>{class u{constructor(a,h,m,w,b){this.key=a,this.value=h,this.color=m??u.RED,this.left=w??mo.EMPTY_NODE,this.right=b??mo.EMPTY_NODE}copy(a,h,m,w,b){return new u(a??this.key,h??this.value,m??this.color,w??this.left,b??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,h,m){let w=this;const b=m(a,w.key);return w=b<0?w.copy(null,null,null,w.left.insert(a,h,m),null):0===b?w.copy(null,h,null,null,null):w.copy(null,null,null,null,w.right.insert(a,h,m)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return mo.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,h){let m,w;if(m=this,h(a,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(a,h),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),0===h(a,m.key)){if(m.right.isEmpty())return mo.EMPTY_NODE;w=m.right.min_(),m=m.copy(w.key,w.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(a,h))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,h)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class mo{constructor(c,a=mo.EMPTY_NODE){this.comparator_=c,this.root_=a}insert(c,a){return new mo(this.comparator_,this.root_.insert(c,a,this.comparator_).copy(null,null,Qo.BLACK,null,null))}remove(c){return new mo(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,Qo.BLACK,null,null))}get(c){let a,h=this.root_;for(;!h.isEmpty();){if(a=this.comparator_(c,h.key),0===a)return h.value;a<0?h=h.left:a>0&&(h=h.right)}return null}getPredecessorKey(c){let a,h=this.root_,m=null;for(;!h.isEmpty();){if(a=this.comparator_(c,h.key),0===a){if(h.left.isEmpty())return m?m.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}a<0?h=h.left:a>0&&(m=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new Yu(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,a){return new Yu(this.root_,c,this.comparator_,!1,a)}getReverseIteratorFrom(c,a){return new Yu(this.root_,c,this.comparator_,!0,a)}getReverseIterator(c){return new Yu(this.root_,null,this.comparator_,!0,c)}}function Zy(u,c){return Xc(u.name,c.name)}function bs(u,c){return Xc(u,c)}mo.EMPTY_NODE=new class th{copy(c,a,h,m,w){return this}insert(c,a,h){return new Qo(c,a,null)}remove(c,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Zu=function(u){return"number"==typeof u?"number:"+Mp(u):"string:"+u},Wp=function(u){if(u.isLeafNode()){const c=u.val();(0,ke.vA)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,ke.gR)(c,".sv"),"Priority must be a string or number.")}else(0,ke.vA)(u===Cc||u.isEmpty(),"priority of unexpected type.");(0,ke.vA)(u===Cc||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ou,Om,Ic,cl=(()=>{class u{constructor(a,h=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=h,this.lazyHash_=null,(0,ke.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Wp(this.priorityNode_)}static set __childrenNodeConstructor(a){ou=a}static get __childrenNodeConstructor(){return ou}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new u(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return sr(a)?this:".priority"===dr(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,h){return null}updateImmediateChild(a,h){return".priority"===a?this.updatePriority(h):h.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,h).updatePriority(this.priorityNode_)}updateChild(a,h){const m=dr(a);return null===m?h:h.isEmpty()&&".priority"!==m?this:((0,ke.vA)(".priority"!==m||1===pi(a),".priority must be the last token in a path"),this.updateImmediateChild(m,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wr(a),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,h){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+Zu(this.priorityNode_.val())+":");const h=typeof this.value_;a+=h+":",a+="number"===h?Mp(this.value_):this.value_,this.lazyHash_=ys(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,ke.vA)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const h=typeof a.value_,m=typeof this.value_,w=u.VALUE_TYPE_ORDER.indexOf(h),b=u.VALUE_TYPE_ORDER.indexOf(m);return(0,ke.vA)(w>=0,"Unknown leaf type: "+h),(0,ke.vA)(b>=0,"Unknown leaf type: "+m),w===b?"object"===m?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:b-w}withIndex(){return this}isIndexed(){return!0}equals(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const fr=new class ev extends hf{compare(c,a){const h=c.node.getPriority(),m=a.node.getPriority(),w=h.compareTo(m);return 0===w?Xc(c.name,a.name):w}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,a){return!c.getPriority().equals(a.getPriority())}minPost(){return hr.MIN}maxPost(){return new hr(kl,new cl("[PRIORITY-POST]",Ic))}makePost(c,a){const h=Om(c);return new hr(a,new cl("[PRIORITY-POST]",h))}toString(){return".priority"}},tv=Math.log(2);class Nm{constructor(c){this.count=parseInt(Math.log(c+1)/tv,10),this.current_=this.count-1;const m=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&m}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const Ju=function(u,c,a,h){u.sort(c);const m=function(K,G){const ve=G-K;let ge,Pe;if(0===ve)return null;if(1===ve)return ge=u[K],Pe=a?a(ge):ge,new Qo(Pe,ge.node,Qo.BLACK,null,null);{const ct=parseInt(ve/2,10)+K,Ye=m(K,ct),yt=m(ct+1,G);return ge=u[ct],Pe=a?a(ge):ge,new Qo(Pe,ge.node,Qo.BLACK,Ye,yt)}},P=function(K){let G=null,ve=null,ge=u.length;const Pe=function(Ye,yt){const tn=ge-Ye,Vn=ge;ge-=Ye;const Jn=m(tn+1,Vn),cs=u[tn],Wn=a?a(cs):cs;ct(new Qo(Wn,cs.node,yt,null,Jn))},ct=function(Ye){G?(G.left=Ye,G=Ye):(ve=Ye,G=Ye)};for(let Ye=0;Ye<K.count;++Ye){const yt=K.nextBitIsOne(),tn=Math.pow(2,K.count-(Ye+1));yt?Pe(tn,Qo.BLACK):(Pe(tn,Qo.BLACK),Pe(tn,Qo.RED))}return ve}(new Nm(u.length));return new mo(h||c,P)};let pf;const au={};class Va{constructor(c,a){this.indexes_=c,this.indexSet_=a}static get Default(){return(0,ke.vA)(au&&fr,"ChildrenNode.ts has not been loaded"),pf=pf||new Va({".priority":au},{".priority":fr}),pf}get(c){const a=(0,ke.yw)(this.indexes_,c);if(!a)throw new Error("No index defined for "+c);return a instanceof mo?a:null}hasIndex(c){return(0,ke.gR)(this.indexSet_,c.toString())}addIndex(c,a){(0,ke.vA)(c!==ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let m=!1;const w=a.getIterator(hr.Wrap);let P,b=w.getNext();for(;b;)m=m||c.isDefinedOn(b.node),h.push(b),b=w.getNext();P=m?Ju(h,c.getCompare()):au;const K=c.toString(),G=Object.assign({},this.indexSet_);G[K]=c;const ve=Object.assign({},this.indexes_);return ve[K]=P,new Va(ve,G)}addToIndexes(c,a){const h=(0,ke.kH)(this.indexes_,(m,w)=>{const b=(0,ke.yw)(this.indexSet_,w);if((0,ke.vA)(b,"Missing index implementation for "+w),m===au){if(b.isDefinedOn(c.node)){const P=[],K=a.getIterator(hr.Wrap);let G=K.getNext();for(;G;)G.name!==c.name&&P.push(G),G=K.getNext();return P.push(c),Ju(P,b.getCompare())}return au}{const P=a.get(c.name);let K=m;return P&&(K=K.remove(new hr(c.name,P))),K.insert(c,c.node)}});return new Va(h,this.indexSet_)}removeFromIndexes(c,a){const h=(0,ke.kH)(this.indexes_,m=>{if(m===au)return m;{const w=a.get(c.name);return w?m.remove(new hr(c.name,w)):m}});return new Va(h,this.indexSet_)}}let jl,kn=(()=>{class u{constructor(a,h,m){this.children_=a,this.priorityNode_=h,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&Wp(this.priorityNode_),this.children_.isEmpty()&&(0,ke.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jl||(jl=new u(new mo(bs),null,Va.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jl}updatePriority(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const h=this.children_.get(a);return null===h?jl:h}}getChild(a){const h=dr(a);return null===h?this:this.getImmediateChild(h).getChild(Wr(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,h){if((0,ke.vA)(h,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(h);{const m=new hr(a,h);let w,b;h.isEmpty()?(w=this.children_.remove(a),b=this.indexMap_.removeFromIndexes(m,this.children_)):(w=this.children_.insert(a,h),b=this.indexMap_.addToIndexes(m,this.children_));const P=w.isEmpty()?jl:this.priorityNode_;return new u(w,P,b)}}updateChild(a,h){const m=dr(a);if(null===m)return h;{(0,ke.vA)(".priority"!==dr(a)||1===pi(a),".priority must be the last token in a path");const w=this.getImmediateChild(m).updateChild(Wr(a),h);return this.updateImmediateChild(m,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const h={};let m=0,w=0,b=!0;if(this.forEachChild(fr,(P,K)=>{h[P]=K.val(a),m++,b&&u.INTEGER_REGEXP_.test(P)?w=Math.max(w,Number(P)):b=!1}),!a&&b&&w<2*m){const P=[];for(const K in h)P[K]=h[K];return P}return a&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+Zu(this.getPriority().val())+":"),this.forEachChild(fr,(h,m)=>{const w=m.hash();""!==w&&(a+=":"+h+":"+w)}),this.lazyHash_=""===a?"":ys(a)}return this.lazyHash_}getPredecessorChildName(a,h,m){const w=this.resolveIndex_(m);if(w){const b=w.getPredecessorKey(new hr(a,h));return b?b.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const h=this.resolveIndex_(a);if(h){const m=h.minKey();return m&&m.name}return this.children_.minKey()}getFirstChild(a){const h=this.getFirstChildName(a);return h?new hr(h,this.children_.get(h)):null}getLastChildName(a){const h=this.resolveIndex_(a);if(h){const m=h.maxKey();return m&&m.name}return this.children_.maxKey()}getLastChild(a){const h=this.getLastChildName(a);return h?new hr(h,this.children_.get(h)):null}forEachChild(a,h){const m=this.resolveIndex_(a);return m?m.inorderTraversal(w=>h(w.name,w.node)):this.children_.inorderTraversal(h)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,h){const m=this.resolveIndex_(h);if(m)return m.getIteratorFrom(a,w=>w);{const w=this.children_.getIteratorFrom(a.name,hr.Wrap);let b=w.peek();for(;null!=b&&h.compare(b,a)<0;)w.getNext(),b=w.peek();return w}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,h){const m=this.resolveIndex_(h);if(m)return m.getReverseIteratorFrom(a,w=>w);{const w=this.children_.getReverseIteratorFrom(a.name,hr.Wrap);let b=w.peek();for(;null!=b&&h.compare(b,a)>0;)w.getNext(),b=w.peek();return w}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===ya?-1:0}withIndex(a){if(a===ll||this.indexMap_.hasIndex(a))return this;{const h=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,h)}}isIndexed(a){return a===ll||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const h=a;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const m=this.getIterator(fr),w=h.getIterator(fr);let b=m.getNext(),P=w.getNext();for(;b&&P;){if(b.name!==P.name||!b.node.equals(P.node))return!1;b=m.getNext(),P=w.getNext()}return null===b&&null===P}return!1}return!1}}resolveIndex_(a){return a===ll?null:this.indexMap_.get(a.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const ya=new class Kp extends kn{constructor(){super(new mo(bs),kn.EMPTY_NODE,Va.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return kn.EMPTY_NODE}isEmpty(){return!1}};function Ms(u,c=null){if(null===u)return kn.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(c=u[".priority"]),(0,ke.vA)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new cl(u,Ms(c));if(u instanceof Array){let a=kn.EMPTY_NODE;return Qs(u,(h,m)=>{if((0,ke.gR)(u,h)&&"."!==h.substring(0,1)){const w=Ms(m);(w.isLeafNode()||!w.isEmpty())&&(a=a.updateImmediateChild(h,w))}}),a.updatePriority(Ms(c))}{const a=[];let h=!1;if(Qs(u,(b,P)=>{if("."!==b.substring(0,1)){const K=Ms(P);K.isEmpty()||(h=h||!K.getPriority().isEmpty(),a.push(new hr(b,K)))}}),0===a.length)return kn.EMPTY_NODE;const w=Ju(a,Zy,b=>b.name,bs);if(h){const b=Ju(a,fr.getCompare());return new kn(w,Ms(c),new Va({".priority":b},{".priority":fr}))}return new kn(w,Ms(c),Va.Default)}}Object.defineProperties(hr,{MIN:{value:new hr(ol,kn.EMPTY_NODE)},MAX:{value:new hr(kl,ya)}}),Yy.__EMPTY_NODE=kn.EMPTY_NODE,cl.__childrenNodeConstructor=kn,function Hp(u){Cc=u}(ya),function ff(u){Ic=u}(ya),function Jy(u){Om=u}(Ms);class va extends hf{constructor(c){super(),this.indexPath_=c,(0,ke.vA)(!sr(c)&&".priority"!==dr(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,a){const h=this.extractChild(c.node),m=this.extractChild(a.node),w=h.compareTo(m);return 0===w?Xc(c.name,a.name):w}makePost(c,a){const h=Ms(c),m=kn.EMPTY_NODE.updateChild(this.indexPath_,h);return new hr(a,m)}maxPost(){const c=kn.EMPTY_NODE.updateChild(this.indexPath_,ya);return new hr(kl,c)}toString(){return ru(this.indexPath_,0).join("/")}}const nh=new class ed extends hf{compare(c,a){const h=c.node.compareTo(a.node);return 0===h?Xc(c.name,a.name):h}isDefinedOn(c){return!0}indexedValueChanged(c,a){return!c.equals(a)}minPost(){return hr.MIN}maxPost(){return hr.MAX}makePost(c,a){const h=Ms(c);return new hr(a,h)}toString(){return".value"}};function rh(u){return{type:"value",snapshotNode:u}}function td(u,c){return{type:"child_added",snapshotNode:c,childName:u}}function lu(u,c){return{type:"child_removed",snapshotNode:c,childName:u}}function zp(u,c,a){return{type:"child_changed",snapshotNode:c,childName:u,oldSnap:a}}class ih{constructor(c){this.index_=c}updateChild(c,a,h,m,w,b){(0,ke.vA)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");const P=c.getImmediateChild(a);return P.getChild(m).equals(h.getChild(m))&&P.isEmpty()===h.isEmpty()||(null!=b&&(h.isEmpty()?c.hasChild(a)?b.trackChildChange(lu(a,P)):(0,ke.vA)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):P.isEmpty()?b.trackChildChange(td(a,h)):b.trackChildChange(zp(a,h,P))),c.isLeafNode()&&h.isEmpty())?c:c.updateImmediateChild(a,h).withIndex(this.index_)}updateFullNode(c,a,h){return null!=h&&(c.isLeafNode()||c.forEachChild(fr,(m,w)=>{a.hasChild(m)||h.trackChildChange(lu(m,w))}),a.isLeafNode()||a.forEachChild(fr,(m,w)=>{if(c.hasChild(m)){const b=c.getImmediateChild(m);b.equals(w)||h.trackChildChange(zp(m,w,b))}else h.trackChildChange(td(m,w))})),a.withIndex(this.index_)}updatePriority(c,a){return c.isEmpty()?kn.EMPTY_NODE:c.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class li{constructor(c){this.indexedFilter_=new ih(c.getIndex()),this.index_=c.getIndex(),this.startPost_=li.getStartPost_(c),this.endPost_=li.getEndPost_(c),this.startIsInclusive_=!c.startAfterSet_,this.endIsInclusive_=!c.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(c){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),c)<=0:this.index_.compare(this.getStartPost(),c)<0,h=this.endIsInclusive_?this.index_.compare(c,this.getEndPost())<=0:this.index_.compare(c,this.getEndPost())<0;return a&&h}updateChild(c,a,h,m,w,b){return this.matches(new hr(a,h))||(h=kn.EMPTY_NODE),this.indexedFilter_.updateChild(c,a,h,m,w,b)}updateFullNode(c,a,h){a.isLeafNode()&&(a=kn.EMPTY_NODE);let m=a.withIndex(this.index_);m=m.updatePriority(kn.EMPTY_NODE);const w=this;return a.forEachChild(fr,(b,P)=>{w.matches(new hr(b,P))||(m=m.updateImmediateChild(b,kn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,m,h)}updatePriority(c,a){return c}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(c){if(c.hasStart()){const a=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),a)}return c.getIndex().minPost()}static getEndPost_(c){if(c.hasEnd()){const a=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),a)}return c.getIndex().maxPost()}}class nv{constructor(c){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const h=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?h<=0:h<0},this.withinEndPost=a=>{const h=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?h<=0:h<0},this.rangedFilter_=new li(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft(),this.startIsInclusive_=!c.startAfterSet_,this.endIsInclusive_=!c.endBeforeSet_}updateChild(c,a,h,m,w,b){return this.rangedFilter_.matches(new hr(a,h))||(h=kn.EMPTY_NODE),c.getImmediateChild(a).equals(h)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,a,h,m,w,b):this.fullLimitUpdateChild_(c,a,h,w,b)}updateFullNode(c,a,h){let m;if(a.isLeafNode()||a.isEmpty())m=kn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let w;m=kn.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let b=0;for(;w.hasNext()&&b<this.limit_;){const P=w.getNext();if(this.withinDirectionalStart(P)){if(!this.withinDirectionalEnd(P))break;m=m.updateImmediateChild(P.name,P.node),b++}}}else{let w;m=a.withIndex(this.index_),m=m.updatePriority(kn.EMPTY_NODE),w=this.reverse_?m.getReverseIterator(this.index_):m.getIterator(this.index_);let b=0;for(;w.hasNext();){const P=w.getNext();b<this.limit_&&this.withinDirectionalStart(P)&&this.withinDirectionalEnd(P)?b++:m=m.updateImmediateChild(P.name,kn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,m,h)}updatePriority(c,a){return c}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(c,a,h,m,w){let b;if(this.reverse_){const ge=this.index_.getCompare();b=(Pe,ct)=>ge(ct,Pe)}else b=this.index_.getCompare();const P=c;(0,ke.vA)(P.numChildren()===this.limit_,"");const K=new hr(a,h),G=this.reverse_?P.getFirstChild(this.index_):P.getLastChild(this.index_),ve=this.rangedFilter_.matches(K);if(P.hasChild(a)){const ge=P.getImmediateChild(a);let Pe=m.getChildAfterChild(this.index_,G,this.reverse_);for(;null!=Pe&&(Pe.name===a||P.hasChild(Pe.name));)Pe=m.getChildAfterChild(this.index_,Pe,this.reverse_);const ct=null==Pe?1:b(Pe,K);if(ve&&!h.isEmpty()&&ct>=0)return w?.trackChildChange(zp(a,h,ge)),P.updateImmediateChild(a,h);{w?.trackChildChange(lu(a,ge));const yt=P.updateImmediateChild(a,kn.EMPTY_NODE);return null!=Pe&&this.rangedFilter_.matches(Pe)?(w?.trackChildChange(td(Pe.name,Pe.node)),yt.updateImmediateChild(Pe.name,Pe.node)):yt}}return h.isEmpty()?c:ve&&b(G,K)>=0?(null!=w&&(w.trackChildChange(lu(G.name,G.node)),w.trackChildChange(td(a,h))),P.updateImmediateChild(a,h).updateImmediateChild(G.name,kn.EMPTY_NODE)):c}}class gf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ke.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ke.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ol}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ke.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ke.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ke.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fr}copy(){const c=new gf;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.startAfterSet_=this.startAfterSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.endBeforeSet_=this.endBeforeSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function rd(u){const c={};if(u.isDefault())return c;let a;if(u.index_===fr?a="$priority":u.index_===nh?a="$value":u.index_===ll?a="$key":((0,ke.vA)(u.index_ instanceof va,"Unrecognized index type!"),a=u.index_.toString()),c.orderBy=(0,ke.As)(a),u.startSet_){const h=u.startAfterSet_?"startAfter":"startAt";c[h]=(0,ke.As)(u.indexStartValue_),u.startNameSet_&&(c[h]+=","+(0,ke.As)(u.indexStartName_))}if(u.endSet_){const h=u.endBeforeSet_?"endBefore":"endAt";c[h]=(0,ke.As)(u.indexEndValue_),u.endNameSet_&&(c[h]+=","+(0,ke.As)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?c.limitToFirst=u.limit_:c.limitToLast=u.limit_),c}function Gp(u){const c={};if(u.startSet_&&(c.sp=u.indexStartValue_,u.startNameSet_&&(c.sn=u.indexStartName_),c.sin=!u.startAfterSet_),u.endSet_&&(c.ep=u.indexEndValue_,u.endNameSet_&&(c.en=u.indexEndName_),c.ein=!u.endBeforeSet_),u.limitSet_){c.l=u.limit_;let a=u.viewFrom_;""===a&&(a=u.isViewFromLeft()?"l":"r"),c.vf=a}return u.index_!==fr&&(c.i=u.index_.toString()),c}class _a extends eu{constructor(c,a,h,m){super(),this.repoInfo_=c,this.onDataUpdate_=a,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.log_=_c("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,a){return void 0!==a?"tag$"+a:((0,ke.vA)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,a,h,m){const w=c._path.toString();this.log_("Listen called for "+w+" "+c._queryIdentifier);const b=_a.getListenId_(c,h),P={};this.listens_[b]=P;const K=rd(c._queryParams);this.restRequest_(w+".json",K,(G,ve)=>{let ge=ve;if(404===G&&(ge=null,G=null),null===G&&this.onDataUpdate_(w,ge,!1,h),(0,ke.yw)(this.listens_,b)===P){let Pe;Pe=G?401===G?"permission_denied":"rest_error:"+G:"ok",m(Pe,null)}})}unlisten(c,a){const h=_a.getListenId_(c,a);delete this.listens_[h]}get(c){const a=rd(c._queryParams),h=c._path.toString(),m=new ke.cY;return this.restRequest_(h+".json",a,(w,b)=>{let P=b;404===w&&(P=null,w=null),null===w?(this.onDataUpdate_(h,P,!1,null),m.resolve(P)):m.reject(new Error(P))}),m.promise}refreshAuthToken(c){}restRequest_(c,a={},h){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([m,w])=>{m&&m.accessToken&&(a.auth=m.accessToken),w&&w.token&&(a.ac=w.token);const b=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,ke.Am)(a);this.log_("Sending REST request for "+b);const P=new XMLHttpRequest;P.onreadystatechange=()=>{if(h&&4===P.readyState){this.log_("REST Response for "+b+" received. status:",P.status,"response:",P.responseText);let K=null;if(P.status>=200&&P.status<300){try{K=(0,ke.$L)(P.responseText)}catch{no("Failed to parse JSON response for "+b+": "+P.responseText)}h(null,K)}else 401!==P.status&&404!==P.status&&no("Got unsuccessful REST response for "+b+" Status: "+P.status),h(P.status);h=null}},P.open("GET",b,!0),P.send()})}}class oh{constructor(){this.rootNode_=kn.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,a){this.rootNode_=this.rootNode_.updateChild(c,a)}}function sd(){return{value:null,children:new Map}}function Sc(u,c,a){if(sr(c))u.value=a,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(c,a);else{const h=dr(c);u.children.has(h)||u.children.set(h,sd()),Sc(u.children.get(h),c=Wr(c),a)}}function _f(u,c){if(sr(c))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const a=u.value;return u.value=null,a.forEachChild(fr,(h,m)=>{Sc(u,new Mr(h),m)}),_f(u,c)}}if(u.children.size>0){const a=dr(c);return c=Wr(c),u.children.has(a)&&_f(u.children.get(a),c)&&u.children.delete(a),0===u.children.size}return!0}function Qp(u,c,a){null!==u.value?a(c,u.value):function Xp(u,c){u.children.forEach((a,h)=>{c(h,a)})}(u,(h,m)=>{Qp(m,new Mr(c.toString()+"/"+h),a)})}class iv{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),a=Object.assign({},c);return this.last_&&Qs(this.last_,(h,m)=>{a[h]=a[h]-m}),this.last_=c,a}}class qp{constructor(c,a){this.server_=a,this.statsToReport_={},this.statsListener_=new iv(c);const h=1e4+2e4*Math.random();Hr(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const c=this.statsListener_.get(),a={};let h=!1;Qs(c,(m,w)=>{w>0&&(0,ke.gR)(this.statsToReport_,m)&&(a[m]=w,h=!0)}),h&&this.server_.reportStats(a),Hr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ua=function(u){return u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",u}(Ua||{});function wa(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class qo{constructor(c,a,h){this.path=c,this.affectedTree=a,this.revert=h,this.type=Ua.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(sr(this.path)){if(null!=this.affectedTree.value)return(0,ke.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Mr(c));return new qo(Ur(),a,this.revert)}}return(0,ke.vA)(dr(this.path)===c,"operationForChild called for unrelated child."),new qo(Wr(this.path),this.affectedTree,this.revert)}}class Ba{constructor(c,a){this.source=c,this.path=a,this.type=Ua.LISTEN_COMPLETE}operationForChild(c){return sr(this.path)?new Ba(this.source,Ur()):new Ba(this.source,Wr(this.path))}}class ul{constructor(c,a,h){this.source=c,this.path=a,this.snap=h,this.type=Ua.OVERWRITE}operationForChild(c){return sr(this.path)?new ul(this.source,Ur(),this.snap.getImmediateChild(c)):new ul(this.source,Wr(this.path),this.snap)}}class id{constructor(c,a,h){this.source=c,this.path=a,this.children=h,this.type=Ua.MERGE}operationForChild(c){if(sr(this.path)){const a=this.children.subtree(new Mr(c));return a.isEmpty()?null:a.value?new ul(this.source,Ur(),a.value):new id(this.source,Ur(),a)}return(0,ke.vA)(dr(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new id(this.source,Wr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bc{constructor(c,a,h){this.node_=c,this.fullyInitialized_=a,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(sr(c))return this.isFullyInitialized()&&!this.filtered_;const a=dr(c);return this.isCompleteForChild(a)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}class ah{constructor(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()}}function $l(u,c,a,h,m,w){const b=h.filter(P=>P.type===a);b.sort((P,K)=>function Fm(u,c,a){if(null==c.childName||null==a.childName)throw(0,ke.Hk)("Should only compare child_ events.");const h=new hr(c.childName,c.snapshotNode),m=new hr(a.childName,a.snapshotNode);return u.index_.compare(h,m)}(u,P,K)),b.forEach(P=>{const K=function Pm(u,c,a){return"value"===c.type||"child_removed"===c.type||(c.prevName=a.getPredecessorChildName(c.childName,c.snapshotNode,u.index_)),c}(u,P,w);m.forEach(G=>{G.respondsTo(P.type)&&c.push(G.createEvent(K,u.query_))})})}function Mc(u,c){return{eventCache:u,serverCache:c}}function Hl(u,c,a,h){return Mc(new bc(c,a,h),u.serverCache)}function lh(u,c,a,h){return Mc(u.eventCache,new bc(c,a,h))}function Ac(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Yo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Wi;class $n{constructor(c,a=(()=>(Wi||(Wi=new mo(sf)),Wi))()){this.value=c,this.children=a}static fromObject(c){let a=new $n(null);return Qs(c,(h,m)=>{a=a.set(new Mr(h),m)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,a){if(null!=this.value&&a(this.value))return{path:Ur(),value:this.value};if(sr(c))return null;{const h=dr(c),m=this.children.get(h);if(null!==m){const w=m.findRootMostMatchingPathAndValue(Wr(c),a);return null!=w?{path:os(new Mr(h),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(sr(c))return this;{const a=dr(c),h=this.children.get(a);return null!==h?h.subtree(Wr(c)):new $n(null)}}set(c,a){if(sr(c))return new $n(a,this.children);{const h=dr(c),w=(this.children.get(h)||new $n(null)).set(Wr(c),a),b=this.children.insert(h,w);return new $n(this.value,b)}}remove(c){if(sr(c))return this.children.isEmpty()?new $n(null):new $n(null,this.children);{const a=dr(c),h=this.children.get(a);if(h){const m=h.remove(Wr(c));let w;return w=m.isEmpty()?this.children.remove(a):this.children.insert(a,m),null===this.value&&w.isEmpty()?new $n(null):new $n(this.value,w)}return this}}get(c){if(sr(c))return this.value;{const a=dr(c),h=this.children.get(a);return h?h.get(Wr(c)):null}}setTree(c,a){if(sr(c))return a;{const h=dr(c),w=(this.children.get(h)||new $n(null)).setTree(Wr(c),a);let b;return b=w.isEmpty()?this.children.remove(h):this.children.insert(h,w),new $n(this.value,b)}}fold(c){return this.fold_(Ur(),c)}fold_(c,a){const h={};return this.children.inorderTraversal((m,w)=>{h[m]=w.fold_(os(c,m),a)}),a(c,this.value,h)}findOnPath(c,a){return this.findOnPath_(c,Ur(),a)}findOnPath_(c,a,h){const m=!!this.value&&h(a,this.value);if(m)return m;if(sr(c))return null;{const w=dr(c),b=this.children.get(w);return b?b.findOnPath_(Wr(c),os(a,w),h):null}}foreachOnPath(c,a){return this.foreachOnPath_(c,Ur(),a)}foreachOnPath_(c,a,h){if(sr(c))return this;{this.value&&h(a,this.value);const m=dr(c),w=this.children.get(m);return w?w.foreachOnPath_(Wr(c),os(a,m),h):new $n(null)}}foreach(c){this.foreach_(Ur(),c)}foreach_(c,a){this.children.inorderTraversal((h,m)=>{m.foreach_(os(c,h),a)}),this.value&&a(c,this.value)}foreachChild(c){this.children.inorderTraversal((a,h)=>{h.value&&c(a,h.value)})}}class ja{constructor(c){this.writeTree_=c}static empty(){return new ja(new $n(null))}}function wf(u,c,a){if(sr(c))return new ja(new $n(a));{const h=u.writeTree_.findRootMostValueAndPath(c);if(null!=h){const m=h.path;let w=h.value;const b=bo(m,c);return w=w.updateChild(b,a),new ja(u.writeTree_.set(m,w))}{const m=new $n(a),w=u.writeTree_.setTree(c,m);return new ja(w)}}}function ch(u,c,a){let h=u;return Qs(a,(m,w)=>{h=wf(h,os(c,m),w)}),h}function uh(u,c){if(sr(c))return ja.empty();{const a=u.writeTree_.setTree(c,new $n(null));return new ja(a)}}function dh(u,c){return null!=od(u,c)}function od(u,c){const a=u.writeTree_.findRootMostValueAndPath(c);return null!=a?u.writeTree_.get(a.path).getChild(bo(a.path,c)):null}function v_(u){const c=[],a=u.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(fr,(h,m)=>{c.push(new hr(h,m))}):u.writeTree_.children.inorderTraversal((h,m)=>{null!=m.value&&c.push(new hr(h,m.value))}),c}function ei(u,c){if(sr(c))return u;{const a=od(u,c);return new ja(null!=a?new $n(a):u.writeTree_.subtree(c))}}function Lm(u){return u.writeTree_.isEmpty()}function hh(u,c){return cu(Ur(),u.writeTree_,c)}function cu(u,c,a){if(null!=c.value)return a.updateChild(u,c.value);{let h=null;return c.children.inorderTraversal((m,w)=>{".priority"===m?((0,ke.vA)(null!==w.value,"Priority writes must always be leaf nodes"),h=w.value):a=cu(os(u,m),w,a)}),!a.getChild(u).isEmpty()&&null!==h&&(a=a.updateChild(os(u,".priority"),h)),a}}function Wl(u,c){return dl(c,u)}function fh(u,c){if(u.snap)return La(u.path,c);for(const a in u.children)if(u.children.hasOwnProperty(a)&&La(os(u.path,a),c))return!0;return!1}function Cf(u){return u.visible}function Um(u,c,a){let h=ja.empty();for(let m=0;m<u.length;++m){const w=u[m];if(c(w)){const b=w.path;let P;if(w.snap)La(a,b)?(P=bo(a,b),h=wf(h,P,w.snap)):La(b,a)&&(P=bo(b,a),h=wf(h,Ur(),w.snap.getChild(P)));else{if(!w.children)throw(0,ke.Hk)("WriteRecord should have .snap or .children");if(La(a,b))P=bo(a,b),h=ch(h,P,w.children);else if(La(b,a))if(P=bo(b,a),sr(P))h=ch(h,Ur(),w.children);else{const K=(0,ke.yw)(w.children,dr(P));if(K){const G=K.getChild(Wr(P));h=wf(h,Ur(),G)}}}}}return h}function Bm(u,c,a,h,m){if(h||m){const w=ei(u.visibleWrites,c);return!m&&Lm(w)?a:m||null!=a||dh(w,Ur())?hh(Um(u.allWrites,function(G){return(G.visible||m)&&(!h||!~h.indexOf(G.writeId))&&(La(G.path,c)||La(c,G.path))},c),a||kn.EMPTY_NODE):null}{const w=od(u.visibleWrites,c);if(null!=w)return w;{const b=ei(u.visibleWrites,c);return Lm(b)?a:null!=a||dh(b,Ur())?hh(b,a||kn.EMPTY_NODE):null}}}function cd(u,c,a,h){return Bm(u.writeTree,u.treePath,c,a,h)}function eg(u,c){return function ld(u,c,a){let h=kn.EMPTY_NODE;const m=od(u.visibleWrites,c);if(m)return m.isLeafNode()||m.forEachChild(fr,(w,b)=>{h=h.updateImmediateChild(w,b)}),h;if(a){const w=ei(u.visibleWrites,c);return a.forEachChild(fr,(b,P)=>{const K=hh(ei(w,new Mr(b)),P);h=h.updateImmediateChild(b,K)}),v_(w).forEach(b=>{h=h.updateImmediateChild(b.name,b.node)}),h}return v_(ei(u.visibleWrites,c)).forEach(b=>{h=h.updateImmediateChild(b.name,b.node)}),h}(u.writeTree,u.treePath,c)}function If(u,c,a,h){return function jm(u,c,a,h,m){(0,ke.vA)(h||m,"Either existingEventSnap or existingServerSnap must exist");const w=os(c,a);if(dh(u.visibleWrites,w))return null;{const b=ei(u.visibleWrites,w);return Lm(b)?m.getChild(a):hh(b,m.getChild(a))}}(u.writeTree,u.treePath,c,a,h)}function Tf(u,c){return function uu(u,c){return od(u.visibleWrites,c)}(u.writeTree,os(u.treePath,c))}function tg(u,c,a){return function ph(u,c,a,h){const m=os(c,a),w=od(u.visibleWrites,m);return null!=w?w:h.isCompleteForChild(a)?hh(ei(u.visibleWrites,m),h.getNode().getImmediateChild(a)):null}(u.writeTree,u.treePath,c,a)}function $m(u,c){return dl(os(u.treePath,c),u.writeTree)}function dl(u,c){return{treePath:u,writeTree:c}}class __{constructor(){this.changeMap=new Map}trackChildChange(c){const a=c.type,h=c.childName;(0,ke.vA)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,ke.vA)(".priority"!==h,"Only non-priority child changes can be tracked.");const m=this.changeMap.get(h);if(m){const w=m.type;if("child_added"===a&&"child_removed"===w)this.changeMap.set(h,zp(h,c.snapshotNode,m.snapshotNode));else if("child_removed"===a&&"child_added"===w)this.changeMap.delete(h);else if("child_removed"===a&&"child_changed"===w)this.changeMap.set(h,lu(h,m.oldSnap));else if("child_changed"===a&&"child_added"===w)this.changeMap.set(h,td(h,c.snapshotNode));else{if("child_changed"!==a||"child_changed"!==w)throw(0,ke.Hk)("Illegal combination of changes: "+c+" occurred after "+m);this.changeMap.set(h,zp(h,c.snapshotNode,m.oldSnap))}}else this.changeMap.set(h,c)}getChanges(){return Array.from(this.changeMap.values())}}const ng=new class ov{getCompleteChild(c){return null}getChildAfterChild(c,a,h){return null}};class rg{constructor(c,a,h=null){this.writes_=c,this.viewCache_=a,this.optCompleteServerCache_=h}getCompleteChild(c){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(c))return a.getNode().getImmediateChild(c);{const h=null!=this.optCompleteServerCache_?new bc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tg(this.writes_,c,h)}}getChildAfterChild(c,a,h){const m=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yo(this.viewCache_),w=function Oc(u,c,a,h,m,w){return function du(u,c,a,h,m,w,b){let P;const K=ei(u.visibleWrites,c),G=od(K,Ur());if(null!=G)P=G;else{if(null==a)return[];P=hh(K,a)}if(P=P.withIndex(b),P.isEmpty()||P.isLeafNode())return[];{const ve=[],ge=b.getCompare(),Pe=w?P.getReverseIteratorFrom(h,b):P.getIteratorFrom(h,b);let ct=Pe.getNext();for(;ct&&ve.length<m;)0!==ge(ct,h)&&ve.push(ct),ct=Pe.getNext();return ve}}(u.writeTree,u.treePath,c,a,h,m,w)}(this.writes_,m,a,1,h,c);return 0===w.length?null:w[0]}}function sg(u,c,a,h,m,w){const b=c.eventCache;if(null!=Tf(h,a))return c;{let P,K;if(sr(a))if((0,ke.vA)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const G=Yo(c),ge=eg(h,G instanceof kn?G:kn.EMPTY_NODE);P=u.filter.updateFullNode(c.eventCache.getNode(),ge,w)}else{const G=cd(h,Yo(c));P=u.filter.updateFullNode(c.eventCache.getNode(),G,w)}else{const G=dr(a);if(".priority"===G){(0,ke.vA)(1===pi(a),"Can't have a priority with additional path components");const ve=b.getNode();K=c.serverCache.getNode();const ge=If(h,a,ve,K);P=null!=ge?u.filter.updatePriority(ve,ge):b.getNode()}else{const ve=Wr(a);let ge;if(b.isCompleteForChild(G)){K=c.serverCache.getNode();const Pe=If(h,a,b.getNode(),K);ge=null!=Pe?b.getNode().getImmediateChild(G).updateChild(ve,Pe):b.getNode().getImmediateChild(G)}else ge=tg(h,G,c.serverCache);P=null!=ge?u.filter.updateChild(b.getNode(),G,ge,ve,m,w):b.getNode()}}return Hl(c,P,b.isFullyInitialized()||sr(a),u.filter.filtersNodes())}}function ig(u,c,a,h,m,w,b,P){const K=c.serverCache;let G;const ve=b?u.filter:u.filter.getIndexedFilter();if(sr(a))G=ve.updateFullNode(K.getNode(),h,null);else if(ve.filtersNodes()&&!K.isFiltered()){const ct=K.getNode().updateChild(a,h);G=ve.updateFullNode(K.getNode(),ct,null)}else{const ct=dr(a);if(!K.isCompleteForPath(a)&&pi(a)>1)return c;const Ye=Wr(a),tn=K.getNode().getImmediateChild(ct).updateChild(Ye,h);G=".priority"===ct?ve.updatePriority(K.getNode(),tn):ve.updateChild(K.getNode(),ct,tn,Ye,ng,null)}const ge=lh(c,G,K.isFullyInitialized()||sr(a),ve.filtersNodes());return sg(u,ge,a,m,new rg(m,ge,w),P)}function og(u,c,a,h,m,w,b){const P=c.eventCache;let K,G;const ve=new rg(m,c,w);if(sr(a))G=u.filter.updateFullNode(c.eventCache.getNode(),h,b),K=Hl(c,G,!0,u.filter.filtersNodes());else{const ge=dr(a);if(".priority"===ge)G=u.filter.updatePriority(c.eventCache.getNode(),h),K=Hl(c,G,P.isFullyInitialized(),P.isFiltered());else{const Pe=Wr(a),ct=P.getNode().getImmediateChild(ge);let Ye;if(sr(Pe))Ye=h;else{const yt=ve.getCompleteChild(ge);Ye=null!=yt?".priority"===Jd(Pe)&&yt.getChild(Qu(Pe)).isEmpty()?yt:yt.updateChild(Pe,h):kn.EMPTY_NODE}K=ct.equals(Ye)?c:Hl(c,u.filter.updateChild(P.getNode(),ge,Ye,Pe,ve,b),P.isFullyInitialized(),u.filter.filtersNodes())}}return K}function ag(u,c){return u.eventCache.isCompleteForChild(c)}function cv(u,c,a){return a.foreach((h,m)=>{c=c.updateChild(h,m)}),c}function Nc(u,c,a,h,m,w,b,P){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let G,K=c;G=sr(a)?h:new $n(null).setTree(a,h);const ve=c.serverCache.getNode();return G.children.inorderTraversal((ge,Pe)=>{if(ve.hasChild(ge)){const Ye=cv(0,c.serverCache.getNode().getImmediateChild(ge),Pe);K=ig(u,K,new Mr(ge),Ye,m,w,b,P)}}),G.children.inorderTraversal((ge,Pe)=>{const ct=!c.serverCache.isCompleteForChild(ge)&&null===Pe.value;if(!ve.hasChild(ge)&&!ct){const yt=cv(0,c.serverCache.getNode().getImmediateChild(ge),Pe);K=ig(u,K,new Mr(ge),yt,m,w,b,P)}}),K}class dv{constructor(c,a){this.query_=c,this.eventRegistrations_=[];const h=this.query_._queryParams,m=new ih(h.getIndex()),w=function rv(u){return u.loadsAllData()?new ih(u.getIndex()):u.hasLimit()?new nv(u):new li(u)}(h);this.processor_=function ud(u){return{filter:u}}(w);const b=a.serverCache,P=a.eventCache,K=m.updateFullNode(kn.EMPTY_NODE,b.getNode(),null),G=w.updateFullNode(kn.EMPTY_NODE,P.getNode(),null),ve=new bc(K,b.isFullyInitialized(),m.filtersNodes()),ge=new bc(G,P.isFullyInitialized(),w.filtersNodes());this.viewCache_=Mc(ge,ve),this.eventGenerator_=new ah(this.query_)}get query(){return this.query_}}function gh(u,c){const a=Yo(u.viewCache_);return a&&(u.query._queryParams.loadsAllData()||!sr(c)&&!a.getImmediateChild(dr(c)).isEmpty())?a.getChild(c):null}function lg(u){return 0===u.eventRegistrations_.length}function yh(u,c,a){const h=[];if(a){(0,ke.vA)(null==c,"A cancel should cancel all event registrations.");const m=u.query._path;u.eventRegistrations_.forEach(w=>{const b=w.createCancelEvent(a,m);b&&h.push(b)})}if(c){let m=[];for(let w=0;w<u.eventRegistrations_.length;++w){const b=u.eventRegistrations_[w];if(b.matches(c)){if(c.hasAnyCallback()){m=m.concat(u.eventRegistrations_.slice(w+1));break}}else m.push(b)}u.eventRegistrations_=m}else u.eventRegistrations_=[];return h}function hl(u,c,a,h){c.type===Ua.MERGE&&null!==c.source.queryId&&((0,ke.vA)(Yo(u.viewCache_),"We should always have a full cache before handling merges"),(0,ke.vA)(Ac(u.viewCache_),"Missing event cache, even though we have a server cache"));const m=u.viewCache_,w=function av(u,c,a,h,m){const w=new __;let b,P;if(a.type===Ua.OVERWRITE){const G=a;G.source.fromUser?b=og(u,c,G.path,G.snap,h,m,w):((0,ke.vA)(G.source.fromServer,"Unknown source."),P=G.source.tagged||c.serverCache.isFiltered()&&!sr(G.path),b=ig(u,c,G.path,G.snap,h,m,P,w))}else if(a.type===Ua.MERGE){const G=a;G.source.fromUser?b=function lv(u,c,a,h,m,w,b){let P=c;return h.foreach((K,G)=>{const ve=os(a,K);ag(c,dr(ve))&&(P=og(u,P,ve,G,m,w,b))}),h.foreach((K,G)=>{const ve=os(a,K);ag(c,dr(ve))||(P=og(u,P,ve,G,m,w,b))}),P}(u,c,G.path,G.children,h,m,w):((0,ke.vA)(G.source.fromServer,"Unknown source."),P=G.source.tagged||c.serverCache.isFiltered(),b=Nc(u,c,G.path,G.children,h,m,P,w))}else if(a.type===Ua.ACK_USER_WRITE){const G=a;b=G.revert?function E_(u,c,a,h,m,w){let b;if(null!=Tf(h,a))return c;{const P=new rg(h,c,m),K=c.eventCache.getNode();let G;if(sr(a)||".priority"===dr(a)){let ve;if(c.serverCache.isFullyInitialized())ve=cd(h,Yo(c));else{const ge=c.serverCache.getNode();(0,ke.vA)(ge instanceof kn,"serverChildren would be complete if leaf node"),ve=eg(h,ge)}G=u.filter.updateFullNode(K,ve,w)}else{const ve=dr(a);let ge=tg(h,ve,c.serverCache);null==ge&&c.serverCache.isCompleteForChild(ve)&&(ge=K.getImmediateChild(ve)),G=null!=ge?u.filter.updateChild(K,ve,ge,Wr(a),P,w):c.eventCache.getNode().hasChild(ve)?u.filter.updateChild(K,ve,kn.EMPTY_NODE,Wr(a),P,w):K,G.isEmpty()&&c.serverCache.isFullyInitialized()&&(b=cd(h,Yo(c)),b.isLeafNode()&&(G=u.filter.updateFullNode(G,b,w)))}return b=c.serverCache.isFullyInitialized()||null!=Tf(h,Ur()),Hl(c,G,b,u.filter.filtersNodes())}}(u,c,G.path,h,m,w):function uv(u,c,a,h,m,w,b){if(null!=Tf(m,a))return c;const P=c.serverCache.isFiltered(),K=c.serverCache;if(null!=h.value){if(sr(a)&&K.isFullyInitialized()||K.isCompleteForPath(a))return ig(u,c,a,K.getNode().getChild(a),m,w,P,b);if(sr(a)){let G=new $n(null);return K.getNode().forEachChild(ll,(ve,ge)=>{G=G.set(new Mr(ve),ge)}),Nc(u,c,a,G,m,w,P,b)}return c}{let G=new $n(null);return h.foreach((ve,ge)=>{const Pe=os(a,ve);K.isCompleteForPath(Pe)&&(G=G.set(ve,K.getNode().getChild(Pe)))}),Nc(u,c,a,G,m,w,P,b)}}(u,c,G.path,G.affectedTree,h,m,w)}else{if(a.type!==Ua.LISTEN_COMPLETE)throw(0,ke.Hk)("Unknown operation type: "+a.type);b=function Sf(u,c,a,h,m){const w=c.serverCache;return sg(u,lh(c,w.getNode(),w.isFullyInitialized()||sr(a),w.isFiltered()),a,h,ng,m)}(u,c,a.path,h,w)}const K=w.getChanges();return function hd(u,c,a){const h=c.eventCache;if(h.isFullyInitialized()){const m=h.getNode().isLeafNode()||h.getNode().isEmpty(),w=Ac(u);(a.length>0||!u.eventCache.isFullyInitialized()||m&&!h.getNode().equals(w)||!h.getNode().getPriority().equals(w.getPriority()))&&a.push(rh(Ac(c)))}}(c,b,K),{viewCache:b,changes:K}}(u.processor_,m,c,a,h);return function dd(u,c){(0,ke.vA)(c.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,ke.vA)(c.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,w.viewCache),(0,ke.vA)(w.viewCache.serverCache.isFullyInitialized()||!m.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=w.viewCache,Hm(u,w.changes,w.viewCache.eventCache.getNode(),null)}function Hm(u,c,a,h){return function xm(u,c,a,h){const m=[],w=[];return c.forEach(b=>{"child_changed"===b.type&&u.index_.indexedValueChanged(b.oldSnap,b.snapshotNode)&&w.push(function sh(u,c){return{type:"child_moved",snapshotNode:c,childName:u}}(b.childName,b.snapshotNode))}),$l(u,m,"child_removed",c,h,a),$l(u,m,"child_added",c,h,a),$l(u,m,"child_moved",w,h,a),$l(u,m,"child_changed",c,h,a),$l(u,m,"value",c,h,a),m}(u.eventGenerator_,c,a,h?[h]:u.eventRegistrations_)}let Kl,Mf;class pd{constructor(){this.views=new Map}}function Rc(u,c,a,h){const m=c.source.queryId;if(null!==m){const w=u.views.get(m);return(0,ke.vA)(null!=w,"SyncTree gave us an op for an invalid query."),hl(w,c,a,h)}{let w=[];for(const b of u.views.values())w=w.concat(hl(b,c,a,h));return w}}function bf(u,c,a,h,m){const b=u.views.get(c._queryIdentifier);if(!b){let P=cd(a,m?h:null),K=!1;P?K=!0:h instanceof kn?(P=eg(a,h),K=!1):(P=kn.EMPTY_NODE,K=!1);const G=Mc(new bc(P,K,!1),new bc(h,m,!1));return new dv(c,G)}return b}function cg(u){const c=[];for(const a of u.views.values())a.query._queryParams.loadsAllData()||c.push(a);return c}function fu(u,c){let a=null;for(const h of u.views.values())a=a||gh(h,c);return a}function Gm(u,c){return c._queryParams.loadsAllData()?dg(u):u.views.get(c._queryIdentifier)}function ug(u,c){return null!=Gm(u,c)}function zl(u){return null!=dg(u)}function dg(u){for(const c of u.views.values())if(c.query._queryParams.loadsAllData())return c;return null}let pv=1;class Qm{constructor(c){this.listenProvider_=c,this.syncPointTree_=new $n(null),this.pendingWriteTree_=function Jp(){return{visibleWrites:ja.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Af(u,c,a,h,m){return function Df(u,c,a,h,m){(0,ke.vA)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===m&&(m=!0),u.allWrites.push({path:c,snap:a,writeId:h,visible:m}),m&&(u.visibleWrites=wf(u.visibleWrites,c,a)),u.lastWriteId=h}(u.pendingWriteTree_,c,a,h,m),m?xc(u,new ul({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,a)):[]}function Gl(u,c,a=!1){const h=function Yp(u,c){for(let a=0;a<u.allWrites.length;a++){const h=u.allWrites[a];if(h.writeId===c)return h}return null}(u.pendingWriteTree_,c);if(function Zp(u,c){const a=u.allWrites.findIndex(P=>P.writeId===c);(0,ke.vA)(a>=0,"removeWrite called with nonexistent writeId.");const h=u.allWrites[a];u.allWrites.splice(a,1);let m=h.visible,w=!1,b=u.allWrites.length-1;for(;m&&b>=0;){const P=u.allWrites[b];P.visible&&(b>=a&&fh(P,h.path)?m=!1:La(h.path,P.path)&&(w=!0)),b--}return!!m&&(w?(function Vm(u){u.visibleWrites=Um(u.allWrites,Cf,Ur()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=uh(u.visibleWrites,h.path):Qs(h.children,K=>{u.visibleWrites=uh(u.visibleWrites,os(h.path,K))}),!0))}(u.pendingWriteTree_,c)){let w=new $n(null);return null!=h.snap?w=w.set(Ur(),!0):Qs(h.children,b=>{w=w.set(new Mr(b),!0)}),xc(u,new qo(h.path,w,a))}return[]}function Da(u,c,a){return xc(u,new ul({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,a))}function vh(u,c,a,h,m=!1){const w=c._path,b=u.syncPointTree_.get(w);let P=[];if(b&&("default"===c._queryIdentifier||ug(b,c))){const K=function zm(u,c,a,h){const m=c._queryIdentifier,w=[];let b=[];const P=zl(u);if("default"===m)for(const[K,G]of u.views.entries())b=b.concat(yh(G,a,h)),lg(G)&&(u.views.delete(K),G.query._queryParams.loadsAllData()||w.push(G.query));else{const K=u.views.get(m);K&&(b=b.concat(yh(K,a,h)),lg(K)&&(u.views.delete(m),K.query._queryParams.loadsAllData()||w.push(K.query)))}return P&&!zl(u)&&w.push(new(function hu(){return(0,ke.vA)(Kl,"Reference.ts has not been loaded"),Kl}())(c._repo,c._path)),{removed:w,events:b}}(b,c,a,h);(function fv(u){return 0===u.views.size})(b)&&(u.syncPointTree_=u.syncPointTree_.remove(w));const G=K.removed;if(P=K.events,!m){const ve=-1!==G.findIndex(Pe=>Pe._queryParams.loadsAllData()),ge=u.syncPointTree_.findOnPath(w,(Pe,ct)=>zl(ct));if(ve&&!ge){const Pe=u.syncPointTree_.subtree(w);if(!Pe.isEmpty()){const ct=function yu(u){return u.fold((c,a,h)=>{if(a&&zl(a))return[dg(a)];{let m=[];return a&&(m=cg(a)),Qs(h,(w,b)=>{m=m.concat(b)}),m}})}(Pe);for(let Ye=0;Ye<ct.length;++Ye){const yt=ct[Ye],tn=yt.query,Vn=gg(u,yt);u.listenProvider_.startListening(gd(tn),Nf(u,tn),Vn.hashFn,Vn.onComplete)}}}!ge&&G.length>0&&!h&&(ve?u.listenProvider_.stopListening(gd(c),null):G.forEach(Pe=>{const ct=u.queryToTagMap.get(Eh(Pe));u.listenProvider_.stopListening(gd(Pe),ct)}))}!function Zm(u,c){for(let a=0;a<c.length;++a){const h=c[a];if(!h._queryParams.loadsAllData()){const m=Eh(h),w=u.queryToTagMap.get(m);u.queryToTagMap.delete(m),u.tagToQueryMap.delete(w)}}}(u,G)}return P}function gv(u,c,a,h){const m=Ym(u,h);if(null!=m){const w=Rf(m),b=w.path,P=w.queryId,K=bo(b,c);return fl(u,b,new ul(wa(P),K,a))}return[]}function _h(u,c,a,h=!1){const m=c._path;let w=null,b=!1;u.syncPointTree_.foreachOnPath(m,(Pe,ct)=>{const Ye=bo(Pe,m);w=w||fu(ct,Ye),b=b||zl(ct)});let K,P=u.syncPointTree_.get(m);P?(b=b||zl(P),w=w||fu(P,Ur())):(P=new pd,u.syncPointTree_=u.syncPointTree_.set(m,P)),null!=w?K=!0:(K=!1,w=kn.EMPTY_NODE,u.syncPointTree_.subtree(m).foreachChild((ct,Ye)=>{const yt=fu(Ye,Ur());yt&&(w=w.updateImmediateChild(ct,yt))}));const G=ug(P,c);if(!G&&!c._queryParams.loadsAllData()){const Pe=Eh(c);(0,ke.vA)(!u.queryToTagMap.has(Pe),"View does not exist, but we have a tag");const ct=function wh(){return pv++}();u.queryToTagMap.set(Pe,ct),u.tagToQueryMap.set(ct,Pe)}let ge=function Km(u,c,a,h,m,w){const b=bf(u,c,h,m,w);return u.views.has(c._queryIdentifier)||u.views.set(c._queryIdentifier,b),function mh(u,c){u.eventRegistrations_.push(c)}(b,a),function fd(u,c){const a=u.viewCache_.eventCache,h=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(fr,(w,b)=>{h.push(td(w,b))}),a.isFullyInitialized()&&h.push(rh(a.getNode())),Hm(u,h,a.getNode(),c)}(b,a)}(P,c,a,Wl(u.pendingWriteTree_,m),w,K);if(!G&&!b&&!h){const Pe=Gm(P,c);ge=ge.concat(function yv(u,c,a){const h=c._path,m=Nf(u,c),w=gg(u,a),b=u.listenProvider_.startListening(gd(c),m,w.hashFn,w.onComplete),P=u.syncPointTree_.subtree(h);if(m)(0,ke.vA)(!zl(P.value),"If we're adding a query, it shouldn't be shadowed");else{const K=P.fold((G,ve,ge)=>{if(!sr(G)&&ve&&zl(ve))return[dg(ve).query];{let Pe=[];return ve&&(Pe=Pe.concat(cg(ve).map(ct=>ct.query))),Qs(ge,(ct,Ye)=>{Pe=Pe.concat(Ye)}),Pe}});for(let G=0;G<K.length;++G){const ve=K[G];u.listenProvider_.stopListening(gd(ve),Nf(u,ve))}}return b}(u,c,Pe))}return ge}function gu(u,c,a){const m=u.pendingWriteTree_,w=u.syncPointTree_.findOnPath(c,(b,P)=>{const G=fu(P,bo(b,c));if(G)return G});return Bm(m,c,w,a,!0)}function xc(u,c){return pg(c,u.syncPointTree_,null,Wl(u.pendingWriteTree_,Ur()))}function pg(u,c,a,h){if(sr(u.path))return mu(u,c,a,h);{const m=c.get(Ur());null==a&&null!=m&&(a=fu(m,Ur()));let w=[];const b=dr(u.path),P=u.operationForChild(b),K=c.children.get(b);if(K&&P){const G=a?a.getImmediateChild(b):null,ve=$m(h,b);w=w.concat(pg(P,K,G,ve))}return m&&(w=w.concat(Rc(m,u,h,a))),w}}function mu(u,c,a,h){const m=c.get(Ur());null==a&&null!=m&&(a=fu(m,Ur()));let w=[];return c.children.inorderTraversal((b,P)=>{const K=a?a.getImmediateChild(b):null,G=$m(h,b),ve=u.operationForChild(b);ve&&(w=w.concat(mu(ve,P,K,G)))}),m&&(w=w.concat(Rc(m,u,h,a))),w}function gg(u,c){const a=c.query,h=Nf(u,a);return{hashFn:()=>(function wE(u){return u.viewCache_.serverCache.getNode()}(c)||kn.EMPTY_NODE).hash(),onComplete:m=>{if("ok"===m)return h?function pu(u,c,a){const h=Ym(u,a);if(h){const m=Rf(h),w=m.path,b=m.queryId,P=bo(w,c);return fl(u,w,new Ba(wa(b),P))}return[]}(u,a._path,h):function Of(u,c){return xc(u,new Ba({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(u,a._path);{const w=function af(u,c){let a="Unknown Error";"too_big"===u?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?a="Client doesn't have permission to access the desired data.":"unavailable"===u&&(a="The service is unavailable");const h=new Error(u+" at "+c._path.toString()+": "+a);return h.code=u.toUpperCase(),h}(m,a);return vh(u,a,null,w)}}}}function Nf(u,c){const a=Eh(c);return u.queryToTagMap.get(a)}function Eh(u){return u._path.toString()+"$"+u._queryIdentifier}function Ym(u,c){return u.tagToQueryMap.get(c)}function Rf(u){const c=u.indexOf("$");return(0,ke.vA)(-1!==c&&c<u.length-1,"Bad queryKey."),{queryId:u.substr(c+1),path:new Mr(u.substr(0,c))}}function fl(u,c,a){const h=u.syncPointTree_.get(c);return(0,ke.vA)(h,"Missing sync point for query tag that we're tracking"),Rc(h,a,Wl(u.pendingWriteTree_,c),null)}function gd(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function hg(){return(0,ke.vA)(Mf,"Reference.ts has not been loaded"),Mf}())(u._repo,u._path):u}class xf{constructor(c){this.node_=c}getImmediateChild(c){const a=this.node_.getImmediateChild(c);return new xf(a)}node(){return this.node_}}class Jm{constructor(c,a){this.syncTree_=c,this.path_=a}getImmediateChild(c){const a=os(this.path_,c);return new Jm(this.syncTree_,a)}node(){return gu(this.syncTree_,this.path_)}}const Ql=function(u,c,a){return u&&"object"==typeof u?((0,ke.vA)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?ey(u[".sv"],c,a):"object"==typeof u[".sv"]?D_(u[".sv"],c):void(0,ke.vA)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},ey=function(u,c,a){if("timestamp"===u)return a.timestamp;(0,ke.vA)(!1,"Unexpected server value: "+u)},D_=function(u,c,a){u.hasOwnProperty("increment")||(0,ke.vA)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const h=u.increment;"number"!=typeof h&&(0,ke.vA)(!1,"Unexpected increment value: "+h);const m=c.node();if((0,ke.vA)(null!==m&&typeof m<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!m.isLeafNode())return h;const b=m.getValue();return"number"!=typeof b?h:b+h},yg=function(u,c,a,h){return pl(c,new Jm(a,u),h)},Dh=function(u,c,a){return pl(u,new xf(c),a)};function pl(u,c,a){const h=u.getPriority().val(),m=Ql(h,c.getImmediateChild(".priority"),a);let w;if(u.isLeafNode()){const b=u,P=Ql(b.getValue(),c,a);return P!==b.getValue()||m!==b.getPriority().val()?new cl(P,Ms(m)):u}{const b=u;return w=b,m!==b.getPriority().val()&&(w=w.updatePriority(new cl(m))),b.forEachChild(fr,(P,K)=>{const G=pl(K,c.getImmediateChild(P),a);G!==K&&(w=w.updateImmediateChild(P,G))}),w}}class Pc{constructor(c="",a=null,h={children:{},childCount:0}){this.name=c,this.parent=a,this.node=h}}function Pf(u,c){let a=c instanceof Mr?c:new Mr(c),h=u,m=dr(a);for(;null!==m;){const w=(0,ke.yw)(h.node.children,m)||{children:{},childCount:0};h=new Pc(m,h,w),a=Wr(a),m=dr(a)}return h}function Xl(u){return u.node.value}function vg(u,c){u.node.value=c,vv(u)}function ty(u){return u.node.childCount>0}function Ff(u,c){Qs(u.node.children,(a,h)=>{c(new Pc(a,u,h))})}function kf(u,c,a,h){a&&!h&&c(u),Ff(u,m=>{kf(m,c,!0,h)}),a&&h&&c(u)}function Vf(u){return new Mr(null===u.parent?u.name:Vf(u.parent)+"/"+u.name)}function vv(u){null!==u.parent&&function _v(u,c,a){const h=function DE(u){return void 0===Xl(u)&&!ty(u)}(a),m=(0,ke.gR)(u.node.children,c);h&&m?(delete u.node.children[c],u.node.childCount--,vv(u)):!h&&!m&&(u.node.children[c]=a.node,u.node.childCount++,vv(u))}(u.parent,u.name,u)}const ny=/[\[\].#$\/\u0000-\u001F\u007F]/,C_=/[\[\].#$\u0000-\u001F\u007F]/,Uf=10485760,Ch=function(u){return"string"==typeof u&&0!==u.length&&!ny.test(u)},_g=function(u){return"string"==typeof u&&0!==u.length&&!C_.test(u)},gl=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!vs(u)||u&&"object"==typeof u&&(0,ke.gR)(u,".sv")},ql=function(u,c,a,h){h&&void 0===c||md((0,ke.dI)(u,"value"),c,a)},md=function(u,c,a){const h=a instanceof Mr?new uf(a,u):a;if(void 0===c)throw new Error(u+"contains undefined "+su(h));if("function"==typeof c)throw new Error(u+"contains a function "+su(h)+" with contents = "+c.toString());if(vs(c))throw new Error(u+"contains "+c.toString()+" "+su(h));if("string"==typeof c&&c.length>Uf/3&&(0,ke.OE)(c)>Uf)throw new Error(u+"contains a string greater than "+Uf+" utf8 bytes "+su(h)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let m=!1,w=!1;if(Qs(c,(b,P)=>{if(".value"===b)m=!0;else if(".priority"!==b&&".sv"!==b&&(w=!0,!Ch(b)))throw new Error(u+" contains an invalid key ("+b+") "+su(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xu(u,c){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(c),u.byteLength_+=(0,ke.OE)(c),jp(u)})(h,b),md(u,P,h),function Dc(u){const c=u.parts_.pop();u.byteLength_-=(0,ke.OE)(c),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),m&&w)throw new Error(u+' contains ".value" child '+su(h)+" in addition to actual children.")}},Yl=function(u,c,a,h){if(h&&void 0===c)return;const m=(0,ke.dI)(u,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(m+" must be an object containing the children to replace.");const w=[];Qs(c,(b,P)=>{const K=new Mr(b);if(md(m,P,os(a,K)),".priority"===Jd(K)&&!gl(P))throw new Error(m+"contains an invalid value for '"+K.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(K)}),function(u,c){let a,h;for(a=0;a<c.length;a++){h=c[a];const w=ru(h);for(let b=0;b<w.length;b++)if((".priority"!==w[b]||b!==w.length-1)&&!Ch(w[b]))throw new Error(u+"contains an invalid key ("+w[b]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}c.sort(qy);let m=null;for(a=0;a<c.length;a++){if(h=c[a],null!==m&&La(m,h))throw new Error(u+"contains a path "+m.toString()+" that is ancestor of another path "+h.toString());m=h}}(m,w)},sy=function(u,c,a,h){if(!(h&&void 0===a||_g(a)))throw new Error((0,ke.dI)(u,c)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ml=function(u,c){if(".info"===dr(c))throw new Error(u+" failed = Can't modify data under /.info/")};class Ih{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vu(u,c){let a=null;for(let h=0;h<c.length;h++){const m=c[h],w=m.getPath();null!==a&&!Tm(w,a.path)&&(u.eventLists_.push(a),a=null),null===a&&(a={events:[],path:w}),a.events.push(m)}a&&u.eventLists_.push(a)}function Eg(u,c,a){vu(u,a),wg(u,h=>Tm(h,c))}function Fo(u,c,a){vu(u,a),wg(u,h=>La(h,c)||La(c,h))}function wg(u,c){u.recursionDepth_++;let a=!0;for(let h=0;h<u.eventLists_.length;h++){const m=u.eventLists_[h];m&&(c(m.path)?(iy(u.eventLists_[h]),u.eventLists_[h]=null):a=!1)}a&&(u.eventLists_=[]),u.recursionDepth_--}function iy(u){for(let c=0;c<u.events.length;c++){const a=u.events[c];if(null!==a){u.events[c]=null;const h=a.getEventRunner();vc&&Zs("event: "+a.toString()),$u(h)}}}class Dv{constructor(c,a,h,m){this.repoInfo_=c,this.forceRestClient_=a,this.authTokenProvider_=h,this.appCheckProvider_=m,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ih,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sd(),this.transactionQueueTree_=new Pc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $f(u){const a=u.infoData_.getNode(new Mr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Sh(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:$f(u)})}function Dg(u,c,a,h,m){u.dataUpdateCount++;const w=new Mr(c);a=u.interceptServerDataCallback_?u.interceptServerDataCallback_(c,a):a;let b=[];if(m)if(h){const K=(0,ke.kH)(a,G=>Ms(G));b=function mv(u,c,a,h){const m=Ym(u,h);if(m){const w=Rf(m),b=w.path,P=w.queryId,K=bo(b,c),G=$n.fromObject(a);return fl(u,b,new id(wa(P),K,G))}return[]}(u.serverSyncTree_,w,K,m)}else{const K=Ms(a);b=gv(u.serverSyncTree_,w,K,m)}else if(h){const K=(0,ke.kH)(a,G=>Ms(G));b=function fg(u,c,a){const h=$n.fromObject(a);return xc(u,new id({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,h))}(u.serverSyncTree_,w,K)}else{const K=Ms(a);b=Da(u.serverSyncTree_,w,K)}let P=w;b.length>0&&(P=_u(u,w)),Fo(u.eventQueue_,P,b)}function Cg(u,c){Hf(u,"connected",c),!1===c&&function ly(u){Mh(u,"onDisconnectEvents");const c=Sh(u),a=sd();Qp(u.onDisconnect_,Ur(),(m,w)=>{const b=yg(m,w,u.serverSyncTree_,c);Sc(a,m,b)});let h=[];Qp(a,Ur(),(m,w)=>{h=h.concat(Da(u.serverSyncTree_,m,w));const b=Sv(u,m);_u(u,b)}),u.onDisconnect_=sd(),Fo(u.eventQueue_,Ur(),h)}(u)}function Hf(u,c,a){const h=new Mr("/.info/"+c),m=Ms(a);u.infoData_.updateSnapshot(h,m);const w=Da(u.infoSyncTree_,h,m);Fo(u.eventQueue_,h,w)}function Ig(u){return u.nextWriteId_++}function T_(u,c,a){u.server_.onDisconnectCancel(c.toString(),(h,m)=>{"ok"===h&&_f(u.onDisconnect_,c),$a(0,a,h,m)})}function S_(u,c,a,h){const m=Ms(a);u.server_.onDisconnectPut(c.toString(),m.val(!0),(w,b)=>{"ok"===w&&Sc(u.onDisconnect_,c,m),$a(0,h,w,b)})}function uy(u,c,a){let h;h=".info"===dr(c._path)?vh(u.infoSyncTree_,c,a):vh(u.serverSyncTree_,c,a),Eg(u.eventQueue_,c._path,h)}function Mh(u,...c){let a="";u.persistentConnection_&&(a=u.persistentConnection_.id+":"),Zs(a,...c)}function $a(u,c,a,h){c&&$u(()=>{if("ok"===a)c(null);else{const m=(a||"error").toUpperCase();let w=m;h&&(w+=": "+h);const b=new Error(w);b.code=m,c(b)}})}function vd(u,c,a){return gu(u.serverSyncTree_,c,a)||kn.EMPTY_NODE}function pr(u,c=u.transactionQueueTree_){if(c||Zo(u,c),Xl(c)){const a=As(u,c);(0,ke.vA)(a.length>0,"Sending zero length transaction queue"),a.every(m=>0===m.status)&&function dy(u,c,a){const h=a.map(G=>G.currentWriteId),m=vd(u,c,h);let w=m;const b=m.hash();for(let G=0;G<a.length;G++){const ve=a[G];(0,ke.vA)(0===ve.status,"tryToSendTransactionQueue_: items in queue should all be run."),ve.status=1,ve.retryCount++;const ge=bo(c,ve.path);w=w.updateChild(ge,ve.currentOutputSnapshotRaw)}const P=w.val(!0),K=c;u.server_.put(K.toString(),P,G=>{Mh(u,"transaction put response",{path:K.toString(),status:G});let ve=[];if("ok"===G){const ge=[];for(let Pe=0;Pe<a.length;Pe++)a[Pe].status=2,ve=ve.concat(Gl(u.serverSyncTree_,a[Pe].currentWriteId)),a[Pe].onComplete&&ge.push(()=>a[Pe].onComplete(null,!0,a[Pe].currentOutputSnapshotResolved)),a[Pe].unwatcher();Zo(u,Pf(u.transactionQueueTree_,c)),pr(u,u.transactionQueueTree_),Fo(u.eventQueue_,c,ve);for(let Pe=0;Pe<ge.length;Pe++)$u(ge[Pe])}else{if("datastale"===G)for(let ge=0;ge<a.length;ge++)a[ge].status=3===a[ge].status?4:0;else{no("transaction at "+K.toString()+" failed: "+G);for(let ge=0;ge<a.length;ge++)a[ge].status=4,a[ge].abortReason=G}_u(u,c)}},b)}(u,Vf(c),a)}else ty(c)&&Ff(c,a=>{pr(u,a)})}function _u(u,c){const a=hy(u,c),h=Vf(a);return function Ah(u,c,a){if(0===c.length)return;const h=[];let m=[];const b=c.filter(P=>0===P.status).map(P=>P.currentWriteId);for(let P=0;P<c.length;P++){const K=c[P],G=bo(a,K.path);let ge,ve=!1;if((0,ke.vA)(null!==G,"rerunTransactionsUnderNode_: relativePath should not be null."),4===K.status)ve=!0,ge=K.abortReason,m=m.concat(Gl(u.serverSyncTree_,K.currentWriteId,!0));else if(0===K.status)if(K.retryCount>=25)ve=!0,ge="maxretry",m=m.concat(Gl(u.serverSyncTree_,K.currentWriteId,!0));else{const Pe=vd(u,K.path,b);K.currentInputSnapshot=Pe;const ct=c[P].update(Pe.val());if(void 0!==ct){md("transaction failed: Data returned ",ct,K.path);let Ye=Ms(ct);"object"==typeof ct&&null!=ct&&(0,ke.gR)(ct,".priority")||(Ye=Ye.updatePriority(Pe.getPriority()));const tn=K.currentWriteId,Vn=Sh(u),Jn=Dh(Ye,Pe,Vn);K.currentOutputSnapshotRaw=Ye,K.currentOutputSnapshotResolved=Jn,K.currentWriteId=Ig(u),b.splice(b.indexOf(tn),1),m=m.concat(Af(u.serverSyncTree_,K.path,Jn,K.currentWriteId,K.applyLocally)),m=m.concat(Gl(u.serverSyncTree_,tn,!0))}else ve=!0,ge="nodata",m=m.concat(Gl(u.serverSyncTree_,K.currentWriteId,!0))}Fo(u.eventQueue_,a,m),m=[],ve&&(c[P].status=2,setTimeout(c[P].unwatcher,Math.floor(0)),c[P].onComplete&&h.push("nodata"===ge?()=>c[P].onComplete(null,!1,c[P].currentInputSnapshot):()=>c[P].onComplete(new Error(ge),!1,null)))}Zo(u,u.transactionQueueTree_);for(let P=0;P<h.length;P++)$u(h[P]);pr(u,u.transactionQueueTree_)}(u,As(u,a),h),h}function hy(u,c){let a,h=u.transactionQueueTree_;for(a=dr(c);null!==a&&void 0===Xl(h);)h=Pf(h,a),a=dr(c=Wr(c));return h}function As(u,c){const a=[];return ls(u,c,a),a.sort((h,m)=>h.order-m.order),a}function ls(u,c,a){const h=Xl(c);if(h)for(let m=0;m<h.length;m++)a.push(h[m]);Ff(c,m=>{ls(u,m,a)})}function Zo(u,c){const a=Xl(c);if(a){let h=0;for(let m=0;m<a.length;m++)2!==a[m].status&&(a[h]=a[m],h++);a.length=h,vg(c,a.length>0?a:void 0)}Ff(c,h=>{Zo(u,h)})}function Sv(u,c){const a=Vf(hy(u,c)),h=Pf(u.transactionQueueTree_,c);return function Lf(u,c,a){let h=a?u:u.parent;for(;null!==h;){if(c(h))return!0;h=h.parent}}(h,m=>{bv(u,m)}),bv(u,h),kf(h,m=>{bv(u,m)}),a}function bv(u,c){const a=Xl(c);if(a){const h=[];let m=[],w=-1;for(let b=0;b<a.length;b++)3===a[b].status||(1===a[b].status?((0,ke.vA)(w===b-1,"All SENT items should be at beginning of queue."),w=b,a[b].status=3,a[b].abortReason="set"):((0,ke.vA)(0===a[b].status,"Unexpected transaction status in abort"),a[b].unwatcher(),m=m.concat(Gl(u.serverSyncTree_,a[b].currentWriteId,!0)),a[b].onComplete&&h.push(a[b].onComplete.bind(null,new Error("set"),!1,null))));-1===w?vg(c,void 0):a.length=w+1,Fo(u.eventQueue_,Vf(c),m);for(let b=0;b<h.length;b++)$u(h[b])}}const Kf=function(u,c){const a=Mv(u),h=a.namespace;return"firebase.com"===a.domain&&Po(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==a.domain&&Po("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&no("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Op(a.host,a.secure,h,"ws"===a.scheme||"wss"===a.scheme,c,"",h!==a.subdomain),path:new Mr(a.pathString)}},Mv=function(u){let c="",a="",h="",m="",w="",b=!0,P="https",K=443;if("string"==typeof u){let G=u.indexOf("//");G>=0&&(P=u.substring(0,G-1),u=u.substring(G+2));let ve=u.indexOf("/");-1===ve&&(ve=u.length);let ge=u.indexOf("?");-1===ge&&(ge=u.length),c=u.substring(0,Math.min(ve,ge)),ve<ge&&(m=function b_(u){let c="";const a=u.split("/");for(let h=0;h<a.length;h++)if(a[h].length>0){let m=a[h];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch{}c+="/"+m}return c}(u.substring(ve,ge)));const Pe=function _0(u){const c={};"?"===u.charAt(0)&&(u=u.substring(1));for(const a of u.split("&")){if(0===a.length)continue;const h=a.split("=");2===h.length?c[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):no(`Invalid query segment '${a}' in query '${u}'`)}return c}(u.substring(Math.min(u.length,ge)));G=c.indexOf(":"),G>=0?(b="https"===P||"wss"===P,K=parseInt(c.substring(G+1),10)):G=c.length;const ct=c.slice(0,G);if("localhost"===ct.toLowerCase())a="localhost";else if(ct.split(".").length<=2)a=ct;else{const Ye=c.indexOf(".");h=c.substring(0,Ye).toLowerCase(),a=c.substring(Ye+1),w=h}"ns"in Pe&&(w=Pe.ns)}return{host:c,port:K,domain:a,subdomain:h,secure:b,scheme:P,pathString:m,namespace:w}},fy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M_=function(){let u=0;const c=[];return function(a){const h=a===u;let m;u=a;const w=new Array(8);for(m=7;m>=0;m--)w[m]=fy.charAt(a%64),a=Math.floor(a/64);(0,ke.vA)(0===a,"Cannot push at time == 0");let b=w.join("");if(h){for(m=11;m>=0&&63===c[m];m--)c[m]=0;c[m]++}else for(m=0;m<12;m++)c[m]=Math.floor(64*Math.random());for(m=0;m<12;m++)b+=fy.charAt(c[m]);return(0,ke.vA)(20===b.length,"nextPushId: Length should be 20."),b}}();class Av{constructor(c,a,h,m){this.eventType=c,this.eventRegistration=a,this.snapshot=h,this.prevName=m}getPath(){const c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ke.As)(this.snapshot.exportVal())}}class Hs{constructor(c,a,h){this.eventRegistration=c,this.error=a,this.path=h}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Tg{constructor(c,a){this.snapshotCallback=c,this.cancelCallback=a}onValue(c,a){this.snapshotCallback.call(null,c,a)}onCancel(c){return(0,ke.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)}get hasCancelCallback(){return!!this.cancelCallback}matches(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context}}class A_{constructor(c,a){this._repo=c,this._path=a}cancel(){const c=new ke.cY;return T_(this._repo,this._path,c.wrapCallback(()=>{})),c.promise}remove(){ml("OnDisconnect.remove",this._path);const c=new ke.cY;return S_(this._repo,this._path,null,c.wrapCallback(()=>{})),c.promise}set(c){ml("OnDisconnect.set",this._path),ql("OnDisconnect.set",c,this._path,!1);const a=new ke.cY;return S_(this._repo,this._path,c,a.wrapCallback(()=>{})),a.promise}setWithPriority(c,a){ml("OnDisconnect.setWithPriority",this._path),ql("OnDisconnect.setWithPriority",c,this._path,!1),function(u,c,a){if(!a||void 0!==c){if(vs(c))throw new Error((0,ke.dI)(u,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gl(c))throw new Error((0,ke.dI)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",a,!1);const h=new ke.cY;return function cy(u,c,a,h,m){const w=Ms(a,h);u.server_.onDisconnectPut(c.toString(),w.val(!0),(b,P)=>{"ok"===b&&Sc(u.onDisconnect_,c,w),$a(0,m,b,P)})}(this._repo,this._path,c,a,h.wrapCallback(()=>{})),h.promise}update(c){ml("OnDisconnect.update",this._path),Yl("OnDisconnect.update",c,this._path,!1);const a=new ke.cY;return function CE(u,c,a,h){if((0,ke.Im)(a))return Zs("onDisconnect().update() called with empty data.  Don't do anything."),void $a(0,h,"ok",void 0);u.server_.onDisconnectMerge(c.toString(),a,(m,w)=>{"ok"===m&&Qs(a,(b,P)=>{const K=Ms(P);Sc(u.onDisconnect_,os(c,b),K)}),$a(0,h,m,w)})}(this._repo,this._path,c,a.wrapCallback(()=>{})),a.promise}}class Kr{constructor(c,a,h,m){this._repo=c,this._path=a,this._queryParams=h,this._orderByCalled=m}get key(){return sr(this._path)?null:Jd(this._path)}get ref(){return new Ha(this._repo,this._path)}get _queryIdentifier(){const c=Gp(this._queryParams),a=bp(c);return"{}"===a?"default":a}get _queryObject(){return Gp(this._queryParams)}isEqual(c){if(!((c=(0,ke.Ku)(c))instanceof Kr))return!1;const a=this._repo===c._repo,h=Tm(this._path,c._path);return a&&h&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Im(u){let c="";for(let a=u.pieceNum_;a<u.pieces_.length;a++)""!==u.pieces_[a]&&(c+="/"+encodeURIComponent(String(u.pieces_[a])));return c||"/"}(this._path)}}class Ha extends Kr{constructor(c,a){super(c,a,new gf,!1)}get parent(){const c=Qu(this._path);return null===c?null:new Ha(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}class Oh{constructor(c,a,h){this._node=c,this.ref=a,this._index=h}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(c){const a=new Mr(c),h=_d(this.ref,c);return new Oh(this._node.getChild(a),h,fr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(c){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(h,m)=>c(new Oh(m,_d(this.ref,h),fr)))}hasChild(c){const a=new Mr(c);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yo(u,c){return(u=(0,ke.Ku)(u))._checkNotDeleted("ref"),void 0!==c?_d(u._root,c):u._root}function _d(u,c){return null===dr((u=(0,ke.Ku)(u))._path)?((a=c)&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),sy("child","path",a,!1)):sy("child","path",c,!1),new Ha(u._repo,os(u._path,c));var a}function Ov(u){return u=(0,ke.Ku)(u),new A_(u._repo,u._path)}function O_(u,c){u=(0,ke.Ku)(u),ml("push",u._path),ql("push",c,u._path,!0);const a=$f(u._repo),h=M_(a),m=_d(u,h),w=_d(u,h);let b;return b=null!=c?Pn(w,c).then(()=>w):Promise.resolve(w),m.then=b.then.bind(b),m.catch=b.then.bind(b,void 0),m}function Pn(u,c){u=(0,ke.Ku)(u),ml("set",u._path),ql("set",c,u._path,!1);const a=new ke.cY;return function ay(u,c,a,h,m){Mh(u,"set",{path:c.toString(),value:a,priority:h});const w=Sh(u),b=Ms(a,h),P=gu(u.serverSyncTree_,c),K=Dh(b,P,w),G=Ig(u),ve=Af(u.serverSyncTree_,c,K,G,!0);vu(u.eventQueue_,ve),u.server_.put(c.toString(),b.val(!0),(Pe,ct)=>{const Ye="ok"===Pe;Ye||no("set at "+c+" failed: "+Pe);const yt=Gl(u.serverSyncTree_,G,!Ye);Fo(u.eventQueue_,c,yt),$a(0,m,Pe,ct)});const ge=Sv(u,c);_u(u,ge),Fo(u.eventQueue_,ge,[])}(u._repo,u._path,c,null,a.wrapCallback(()=>{})),a.promise}function Jl(u,c){Yl("update",c,u._path,!1);const a=new ke.cY;return function Cv(u,c,a,h){Mh(u,"update",{path:c.toString(),value:a});let m=!0;const w=Sh(u),b={};if(Qs(a,(P,K)=>{m=!1,b[P]=yg(os(c,P),Ms(K),u.serverSyncTree_,w)}),m)Zs("update() called with empty data.  Don't do anything."),$a(0,h,"ok",void 0);else{const P=Ig(u),K=function Xm(u,c,a,h){!function ad(u,c,a,h){(0,ke.vA)(h>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:c,children:a,writeId:h,visible:!0}),u.visibleWrites=ch(u.visibleWrites,c,a),u.lastWriteId=h}(u.pendingWriteTree_,c,a,h);const m=$n.fromObject(a);return xc(u,new id({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,m))}(u.serverSyncTree_,c,b,P);vu(u.eventQueue_,K),u.server_.merge(c.toString(),a,(G,ve)=>{const ge="ok"===G;ge||no("update at "+c+" failed: "+G);const Pe=Gl(u.serverSyncTree_,P,!ge),ct=Pe.length>0?_u(u,c):c;Fo(u.eventQueue_,ct,Pe),$a(0,h,G,ve)}),Qs(a,G=>{const ve=Sv(u,os(c,G));_u(u,ve)}),Fo(u.eventQueue_,c,[])}}(u._repo,u._path,c,a.wrapCallback(()=>{})),a.promise}function Ca(u){u=(0,ke.Ku)(u);const c=new Tg(()=>{}),a=new ec(c);return function I_(u,c,a){const h=function qm(u,c){const a=c._path;let h=null;u.syncPointTree_.foreachOnPath(a,(G,ve)=>{const ge=bo(G,a);h=h||fu(ve,ge)});let m=u.syncPointTree_.get(a);m?h=h||fu(m,Ur()):(m=new pd,u.syncPointTree_=u.syncPointTree_.set(a,m));const w=null!=h,b=w?new bc(h,!0,!1):null;return function hv(u){return Ac(u.viewCache_)}(bf(m,c,Wl(u.pendingWriteTree_,c._path),w?b.getNode():kn.EMPTY_NODE,w))}(u.serverSyncTree_,c);return null!=h?Promise.resolve(h):u.server_.get(c).then(m=>{const w=Ms(m).withIndex(c._queryParams.getIndex());let b;if(_h(u.serverSyncTree_,c,a,!0),c._queryParams.loadsAllData())b=Da(u.serverSyncTree_,c._path,w);else{const P=Nf(u.serverSyncTree_,c);b=gv(u.serverSyncTree_,c._path,w,P)}return Fo(u.eventQueue_,c._path,b),vh(u.serverSyncTree_,c,a,null,!0),w},m=>(Mh(u,"get for query "+(0,ke.As)(c)+" failed: "+m),Promise.reject(new Error(m))))}(u._repo,u,a).then(h=>new Oh(h,new Ha(u._repo,u._path),u._queryParams.getIndex()))}class ec{constructor(c){this.callbackContext=c}respondsTo(c){return"value"===c}createEvent(c,a){const h=a._queryParams.getIndex();return new Av("value",this,new Oh(c.snapshotNode,new Ha(a._repo,a._path),h))}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,null)}createCancelEvent(c,a){return this.callbackContext.hasCancelCallback?new Hs(this,c,a):null}matches(c){return c instanceof ec&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yl{constructor(c,a){this.eventType=c,this.callbackContext=a}respondsTo(c){let a="children_added"===c?"child_added":c;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(c,a){return this.callbackContext.hasCancelCallback?new Hs(this,c,a):null}createEvent(c,a){(0,ke.vA)(null!=c.childName,"Child events should have a childName.");const h=_d(new Ha(a._repo,a._path),c.childName),m=a._queryParams.getIndex();return new Av(c.type,this,new Oh(c.snapshotNode,h,m),c.prevName)}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,c.prevName)}matches(c){return c instanceof yl&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function tc(u,c,a,h){return function wu(u,c,a,h,m){let w;if("object"==typeof h&&(w=void 0,m=h),"function"==typeof h&&(w=h),m&&m.onlyOnce){const K=a,G=(ve,ge)=>{uy(u._repo,u,P),K(ve,ge)};G.userCallback=a.userCallback,G.context=a.context,a=G}const b=new Tg(a,w||void 0),P="value"===c?new ec(b):new yl(c,b);return function IE(u,c,a){let h;h=".info"===dr(c._path)?_h(u.infoSyncTree_,c,a):_h(u.serverSyncTree_,c,a),Eg(u.eventQueue_,c._path,h)}(u._repo,u,P),()=>uy(u._repo,u,P)}(u,"value",c,a,h)}(function Wm(u){(0,ke.vA)(!Kl,"__referenceConstructor has already been defined"),Kl=u})(Ha),function w_(u){(0,ke.vA)(!Mf,"__referenceConstructor has already been defined"),Mf=u}(Ha);const wd={};function Fc(u,c,a,h,m){let w=h||u.options.databaseURL;void 0===w&&(u.options.projectId||Po("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zs("Using default host for project ",u.options.projectId),w=`${u.options.projectId}-default-rtdb.firebaseio.com`);let K,G,b=Kf(w,m),P=b.repoInfo;typeof process<"u"&&process.env&&(G=process.env.FIREBASE_DATABASE_EMULATOR_HOST),G?(K=!0,w=`http://${G}?ns=${P.namespace}`,b=Kf(w,m),P=b.repoInfo):K=!b.repoInfo.secure;const ve=m&&K?new Hu(Hu.OWNER):new m_(u.name,u.options,c);(function(u,c){const a=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!Ch(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==a.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),_g(u)}(a))throw new Error((0,ke.dI)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",b),sr(b.path)||Po("Database URL must point to the root of a Firebase Database (not including a child path).");const ge=function bE(u,c,a,h){let m=wd[c.name];m||(m={},wd[c.name]=m);let w=m[u.toURLString()];return w&&Po("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new Dv(u,false,a,h),m[u.toURLString()]=w,w}(P,u,ve,new vr(u.name,a));return new xg(ge,u)}class xg{constructor(c,a){this._repoInternal=c,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Th(u,c,a){if(u.stats_=cf(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new _a(u.repoInfo_,(h,m,w,b)=>{Dg(u,h,m,w,b)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Cg(u,!0),0);else{if(typeof a<"u"&&null!==a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ke.As)(a)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Bl(u.repoInfo_,c,(h,m,w,b)=>{Dg(u,h,m,w,b)},h=>{Cg(u,h)},h=>{!function bh(u,c){Qs(c,(a,h)=>{Hf(u,a,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,a),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(h=>{u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(h=>{u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function $y(u,c){const a=u.toString();return Rp[a]||(Rp[a]=c()),Rp[a]}(u.repoInfo_,()=>new qp(u.stats_,u.server_)),u.infoData_=new oh,u.infoSyncTree_=new Qm({startListening:(h,m,w,b)=>{let P=[];const K=u.infoData_.getNode(h._path);return K.isEmpty()||(P=Da(u.infoSyncTree_,h._path,K),setTimeout(()=>{b("ok")},0)),P},stopListening:()=>{}}),Hf(u,"connected",!1),u.serverSyncTree_=new Qm({startListening:(h,m,w,b)=>(u.server_.listen(h,w,m,(P,K)=>{const G=b(P,K);Fo(u.eventQueue_,h._path,G)}),[]),stopListening:(h,m)=>{u.server_.unlisten(h,m)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ha(this._repo,Ur())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cu(u,c){const a=wd[c];(!a||a[u.key]!==u)&&Po(`Database ${c}(${u.repoInfo_}) has already been deleted.`),function Iv(u){u.persistentConnection_&&u.persistentConnection_.interrupt("repo_interrupt")}(u),delete a[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&Po("Cannot call "+c+" on a deleted database.")}}function V_(u=(0,to.Sx)(),c){const a=(0,to.j6)(u,"database").getImmediate({identifier:c});if(!a._instanceStarted){const h=(0,ke.yU)("database");h&&function Fg(u,c,a,h={}){(u=(0,ke.Ku)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Po("Cannot call useEmulator() after instance has already been initialized.");const m=u._repoInternal;let w;if(m.repoInfo_.nodeAdmin)h.mockUserToken&&Po('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new Hu(Hu.OWNER);else if(h.mockUserToken){const b="string"==typeof h.mockUserToken?h.mockUserToken:(0,ke.Fy)(h.mockUserToken,u.app.options.projectId);w=new Hu(b)}!function Dd(u,c,a,h){u.repoInfo_=new Op(`${c}:${a}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),h&&(u.authTokenProvider_=h)}(m,c,a,w)}(a,...h)}return a}const Vv={".sv":"timestamp"};function Cd(){return Vv}function yy(u){return{".sv":{increment:u}}}Bl.prototype.simpleListen=function(u,c){this.sendRequest("q",{p:u},c)},Bl.prototype.echo=function(u,c){this.sendRequest("echo",{d:u},c)},function Fh(u){(function lm(u){Dp=u})(to.MF),(0,to.om)(new wp.uA("database",(c,{instanceIdentifier:a})=>Fc(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,to.KO)(am,"0.14.4",u),(0,to.KO)(am,"0.14.4","esm2017")}();var Bv=C(9599),qf=C(6651),vy=C(6812),jv=C(7936),Lg=C(1994);class U_{constructor(){this.db=V_(),this.formatSnapshot=c=>{let a=[];return c.exists()&&c.forEach(h=>{a.push({key:h.key,...h.val()})}),a}}create(c,a={}){let h=O_(yo(this.db,c));return Pn(h,{key:h.key,createdAt:Cd(),updatedAt:Cd(),...a}).then(),Promise.resolve({key:h.key})}set(c,a={}){var h=this;return(0,ie.A)(function*(){const m=yo(h.db,c);yield Pn(m,a)})()}update(c,a={}){var h=this;return(0,ie.A)(function*(){const m=yo(h.db,c);yield Jl(m,{updatedAt:Cd(),...a})})()}remove(c){var a=this;return(0,ie.A)(function*(){const h=yo(a.db,c);yield function TE(u){return ml("remove",u._path),Pn(u,null)}(h)})()}readRealtime$(c,a=!1){return new Bn.c(h=>{tc(yo(this.db,c),m=>{let w=[];m.exists()?(m.forEach(b=>{w.push({key:b.key,...b.val()})}),h.next(w)):h.next([])},{onlyOnce:a})})}readRealtimeOriginal$(c,a=!1){return new Bn.c(h=>{tc(yo(this.db,c),m=>{m.exists()?h.next(m.val()):h.next(null)},{onlyOnce:a})})}getKeys$(c){return new Bn.c(a=>{tc(yo(this.db,c),h=>{let m=[];h.exists()?(h.forEach(w=>{m.push(w.key)}),a.next(m)):a.next(null)})})}readOnce(c){return new Promise((a,h)=>{Ca(yo(this.db,c)).then(m=>{let w=[];m.exists()?(m.forEach(b=>{w.push({key:b.key,...b.val()})}),a(w)):a([])}).catch(m=>{h(m)})})}readOnceOriginal(c){return new Promise((a,h)=>{Ca(yo(this.db,c)).then(m=>{m.exists()?a(m.val()):a([])}).catch(m=>{h(m)})})}getKeys(c){return new Promise((a,h)=>{Ca(yo(this.db,c)).then(m=>{let w=[];m.exists()?(m.forEach(b=>{w.push(b.key)}),a(w)):a([])}).catch(m=>{h(m)})})}checkPresence(c){const a=yo(this.db,`${c}/connections`),h=yo(this.db,`${c}/lastOnline`);tc(yo(this.db,".info/connected"),w=>{if(!0===w.val()){const b=O_(a);Ov(b).remove().then(),Pn(b,!0).then(),Ov(h).set(Cd()).then()}})}onDisconnect(c){return Ov(yo(this.db,c))}detectingConnectionState(){return new Bn.c(c=>{tc(yo(this.db,".info/connected"),h=>{c.next(h.val())})})}updateCounter(c,a=!0){return new Promise((h,m)=>{Ca(_d(yo(this.db),"counter")).then(b=>{Jl(yo(this.db,c),{counter:yy(a?1:-1)}).then(P=>{h(P)})})})}#e(){}}const ME=[{provide:Lg.l,useClass:U_},{provide:Lg.h,useClass:U_},{provide:class kg{},useClass:jv.U}];let nc=(()=>{class u{constructor(a,h){this.router=a,this.monitor=h}init(){this.router.events.subscribe(a=>{a instanceof ee.wF&&this.monitor.logRouteChange(a.urlAfterRedirects)})}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(ee.Ix),E.KVO(vy.L))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();const Id={provide:E.hnV,useFactory:u=>()=>u.init(),deps:[nc],multi:!0};let Yf=(()=>{class u{constructor(a){this.monitor=a}intercept(a,h){return this.monitor.logHttpCall(a.url),this.monitor.logHttpCallCounter(),h.handle(a)}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(vy.L))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac})}}return u})();const Td={provide:ii.a7,useClass:Yf,multi:!0},_y=new E.nKC("FirebaseConfig");let Ey=(()=>{class u{constructor(a){this.config=a}static initializeApp(a){return{ngModule:u,providers:[{provide:_y,useFactory:()=>function $v(u){return new Promise((c,a)=>{try{if(!u||"object"!=typeof u||0===Object.keys(u).length)throw new Error("Invalid or missing Firebase configuration.");const h=(0,Ep.Wp)(u);V_(h),(0,Bv.aU)(h),console.log(`Number of Firebase app: ${(0,Ep.Dk)().length}`),c(h)}catch(h){console.error("Firebase initialization error: ",h),a(h)}})}(a)},vy.L,ME]}}static analytics(a){const h=[];return a.activityInHttp&&h.push(Td),a.activityInRouter&&(h.push(nc),h.push(Id)),a.activityOfAnonymousUser&&h.push(qf.bb),{ngModule:u,providers:h}}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(_y))}}static{this.\u0275mod=E.$C({type:u})}static{this.\u0275inj=E.G2t({})}}return u})(),vl=(()=>{class u{constructor(a){this.injector=a,Uy.injector=a}static{this.\u0275fac=function(h){return new(h||u)(E.KVO(E.zZn))}}static{this.\u0275mod=E.$C({type:u,bootstrap:[Mt]})}static{this.\u0275inj=E.G2t({providers:[ds.c,{provide:Pl.y,useClass:nf},ye.DatePipe,ii.q1,{provide:hs.i,useValue:new hs.i(rs)},It,Vy],imports:[_.Bb,Za,ii.q1,ii.uA,Vs.G,rt,St.register("ngsw-worker.js",{enabled:sn.c.production,registrationStrategy:"registerWhenStable:30000"}),Uu,Ni.i,k.forRoot({userName:"Trilok Singh"}),Ey.initializeApp(sn.c.firebaseConfig),Ey.analytics({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0,activityLogging:!0}),im,Bu.MB,Za]})}}return u})();sn.c.production&&(0,E.SmG)(),_.sG().bootstrapModule(vl).catch(u=>console.error(u))},1853:(lt,he,C)=>{function _(E){const ee=E(U=>{Error.call(U),U.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}C.d(he,{L:()=>_})},1985:(lt,he,C)=>{C.d(he,{c:()=>W});var _=C(7707),E=C(8359),ie=C(3494),ee=C(1203),U=C(1026),Q=C(8071),X=C(9786);let W=(()=>{class ye{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Te=new ye;return Te.source=this,Te.operator=Oe,Te}subscribe(Oe,Te,_e){const He=function te(ye){return ye&&ye instanceof _.vU||function q(ye){return ye&&(0,Q.T)(ye.next)&&(0,Q.T)(ye.error)&&(0,Q.T)(ye.complete)}(ye)&&(0,E.Uv)(ye)}(Oe)?Oe:new _.Ms(Oe,Te,_e);return(0,X.Y)(()=>{const{operator:Le,source:mt}=this;He.add(Le?Le.call(He,mt):mt?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Te){Oe.error(Te)}}forEach(Oe,Te){return new(Te=ae(Te))((_e,He)=>{const Le=new _.Ms({next:mt=>{try{Oe(mt)}catch(Et){He(Et),Le.unsubscribe()}},error:He,complete:_e});this.subscribe(Le)})}_subscribe(Oe){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Oe)}[ie.s](){return this}pipe(...Oe){return(0,ee.m)(Oe)(this)}toPromise(Oe){return new(Oe=ae(Oe))((Te,_e)=>{let He;this.subscribe(Le=>He=Le,Le=>_e(Le),()=>Te(He))})}}return ye.create=Fe=>new ye(Fe),ye})();function ae(ye){var Fe;return null!==(Fe=ye??U.$.Promise)&&void 0!==Fe?Fe:Promise}},1994:(lt,he,C)=>{C.d(he,{h:()=>ie,l:()=>E});const E=new(C(4438).nKC)("FirebaseRealtimeDatabase");class ie{}},2197:(lt,he,C)=>{C.d(he,{Z:()=>ee});var _=C(4412),E=C(884),ie=C(4438);let ee=(()=>{class U{constructor(X){this.router=X,this.loadCount=0,this.loadState=new _.t(!1),this.router.events.subscribe(W=>{this.navigationInterceptor(W)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(X){X instanceof E.Z&&this.showLoader(),X instanceof E.wF&&this.hideLoader(),X instanceof E.j5&&this.hideLoader(),X instanceof E.L6&&this.hideLoader()}static{this.\u0275fac=function(W){return new(W||U)(ie.KVO(E.Ix))}}static{this.\u0275prov=ie.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},2214:(lt,he,C)=>{C.d(he,{Dk:()=>_.Dk,Sx:()=>_.Sx,Wp:()=>_.Wp});var _=C(7852);(0,_.KO)("firebase","9.23.0","app")},2376:(lt,he,C)=>{C.d(he,{f:()=>U});var _=C(1413),E=C(4438),ie=C(345);const ee={success:{icon:"fa fa-solid fa-check-circle",text:"Success: This is a success toast.",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504...z"/></svg>'},error:{icon:"fa fa-solid fa-xmark-circle",text:"Error: This is an error toast.",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256...z"/></svg>'},warning:{icon:"fa fa-solid fa-exclamation-triangle",text:"Warning: This is a warning toast.",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M569...z"/></svg>'},info:{icon:"fa fa-solid fa-info-circle",text:"Info: This is an information toast.",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256...z"/></svg>'}};let U=(()=>{class Q{constructor(W){this.sanitizer=W,this._toastEvents=new _.B,this.toastEvents=this._toastEvents.asObservable(),this.toastConfig=ee,this.toastEvents=this._toastEvents.asObservable()}showToast(W,ae="",q="success",te=5e3){const{icon:ye,svg:Oe}=this.toastConfig[q],Te=this.senitize(Oe),_e={id:this.generateId(),title:W,message:ae,type:q,icon:ye,svg:Te,timer:te};this._toastEvents.next(_e),this.scheduleDismiss(_e)}generateId(){return(1e9*Math.random()).toString(36)}senitize(W){return this.sanitizer.bypassSecurityTrustHtml(W)}scheduleDismiss(W){setTimeout(()=>this._toastEvents.next(null),W.timer)}static{this.\u0275fac=function(ae){return new(ae||Q)(E.KVO(ie.up))}}static{this.\u0275prov=E.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},2498:(lt,he,C)=>{C.d(he,{L:()=>Q});var _=C(9974),E=C(4360),ie=C(3669),ee=C(1807),U=C(8750);function Q(X=1/0){let W;W=X&&"object"==typeof X?X:{count:X};const{count:ae=1/0,delay:q,resetOnSuccess:te=!1}=W;return ae<=0?ie.D:(0,_.N)((ye,Fe)=>{let Te,Oe=0;const _e=()=>{let He=!1;Te=ye.subscribe((0,E._)(Fe,Le=>{te&&(Oe=0),Fe.next(Le)},void 0,Le=>{if(Oe++<ae){const mt=()=>{Te?(Te.unsubscribe(),Te=null,_e()):He=!0};if(null!=q){const Et="number"==typeof q?(0,ee.O)(q):(0,U.Tg)(q(Le,Oe)),rt=(0,E._)(Fe,()=>{rt.unsubscribe(),mt()},()=>{Fe.complete()});Et.subscribe(rt)}else mt()}else Fe.error(Le)})),He&&(Te.unsubscribe(),Te=null,_e())};_e()})}},2503:(lt,he,C)=>{C.d(he,{Ny:()=>U,Ze:()=>ie,aE:()=>ee});var _=C(9310),E=function(Q){return Q.loadData="[loadData] load",Q.loadDataSuccess="[loadData] success",Q.loadDataFailure="[loadData] failure",Q}(E||{});const ie=(0,_.VP)(E.loadData),ee=(0,_.VP)(E.loadDataSuccess,(0,_.xk)()),U=(0,_.VP)(E.loadDataFailure,(0,_.xk)())},2661:(lt,he,C)=>{C.d(he,{l:()=>W});var _=C(9310),E=C(334),ie=C(3529);const ee=(0,_.UX)(ie.cp),U=(0,_.Mz)(ee,ae=>ae.articles);class Q{constructor(q,te,ye,Fe){this.id=q,this.title=te,this.link=ye,this.points=Fe||0,this.time=new Date}}var X=C(4438);let W=(()=>{class ae{constructor(te){this.store=te,this.id=0}getArticle(){return this.store.pipe((0,_.Lt)(U))}incArticle(te){this.store.dispatch(E.GV(te))}decArticle(te){this.store.dispatch(E.Kt(te))}addArticle(te){let ye=new Q(++this.id,te.title,te.link,0);this.store.dispatch(E.WQ({payload:ye}))}loadArticle(te){this.store.dispatch(E.Hh())}static{this.\u0275fac=function(ye){return new(ye||ae)(X.KVO(_.il))}}static{this.\u0275prov=X.jDH({token:ae,factory:ae.\u0275fac})}}return ae})()},2749:(lt,he,C)=>{C.d(he,{y:()=>_});class _{}},2771:(lt,he,C)=>{C.d(he,{m:()=>ie});var _=C(1413),E=C(6129);class ie extends _.B{constructor(U=1/0,Q=1/0,X=E.U){super(),this._bufferSize=U,this._windowTime=Q,this._timestampProvider=X,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Q===1/0,this._bufferSize=Math.max(1,U),this._windowTime=Math.max(1,Q)}next(U){const{isStopped:Q,_buffer:X,_infiniteTimeWindow:W,_timestampProvider:ae,_windowTime:q}=this;Q||(X.push(U),!W&&X.push(ae.now()+q)),this._trimBuffer(),super.next(U)}_subscribe(U){this._throwIfClosed(),this._trimBuffer();const Q=this._innerSubscribe(U),{_infiniteTimeWindow:X,_buffer:W}=this,ae=W.slice();for(let q=0;q<ae.length&&!U.closed;q+=X?1:2)U.next(ae[q]);return this._checkFinalizedStatuses(U),Q}_trimBuffer(){const{_bufferSize:U,_timestampProvider:Q,_buffer:X,_infiniteTimeWindow:W}=this,ae=(W?1:2)*U;if(U<1/0&&ae<X.length&&X.splice(0,X.length-ae),!W){const q=Q.now();let te=0;for(let ye=1;ye<X.length&&X[ye]<=q;ye+=2)te=ye;te&&X.splice(0,te+1)}}}},2806:(lt,he,C)=>{C.d(he,{H:()=>Ot});var _=C(8750),E=C(941),ie=C(9974);function ee(Mt,jt=0){return(0,ie.N)((Vt,Wt)=>{Wt.add(Mt.schedule(()=>Vt.subscribe(Wt),jt))})}var X=C(1985),ae=C(4761),q=C(8071),te=C(5225);function Fe(Mt,jt){if(!Mt)throw new Error("Iterable cannot be null");return new X.c(Vt=>{(0,te.N)(Vt,jt,()=>{const Wt=Mt[Symbol.asyncIterator]();(0,te.N)(Vt,jt,()=>{Wt.next().then(wn=>{wn.done?Vt.complete():Vt.next(wn.value)})},0,!0)})})}var Oe=C(5055),Te=C(9858),_e=C(7441),He=C(5397),Le=C(7953),mt=C(591),Et=C(5196);function Ot(Mt,jt){return jt?function tt(Mt,jt){if(null!=Mt){if((0,Oe.l)(Mt))return function U(Mt,jt){return(0,_.Tg)(Mt).pipe(ee(jt),(0,E.Q)(jt))}(Mt,jt);if((0,_e.X)(Mt))return function W(Mt,jt){return new X.c(Vt=>{let Wt=0;return jt.schedule(function(){Wt===Mt.length?Vt.complete():(Vt.next(Mt[Wt++]),Vt.closed||this.schedule())})})}(Mt,jt);if((0,Te.y)(Mt))return function Q(Mt,jt){return(0,_.Tg)(Mt).pipe(ee(jt),(0,E.Q)(jt))}(Mt,jt);if((0,Le.T)(Mt))return Fe(Mt,jt);if((0,He.x)(Mt))return function ye(Mt,jt){return new X.c(Vt=>{let Wt;return(0,te.N)(Vt,jt,()=>{Wt=Mt[ae.l](),(0,te.N)(Vt,jt,()=>{let wn,ut;try{({value:wn,done:ut}=Wt.next())}catch(Ge){return void Vt.error(Ge)}ut?Vt.complete():Vt.next(wn)},0,!0)}),()=>(0,q.T)(Wt?.return)&&Wt.return()})}(Mt,jt);if((0,Et.U)(Mt))return function rt(Mt,jt){return Fe((0,Et.C)(Mt),jt)}(Mt,jt)}throw(0,mt.L)(Mt)}(Mt,jt):(0,_.Tg)(Mt)}},2816:(lt,he,C)=>{C.d(he,{S:()=>ee});var _=C(9974),E=C(4360);function ee(U,Q){return(0,_.N)(function ie(U,Q,X,W,ae){return(q,te)=>{let ye=X,Fe=Q,Oe=0;q.subscribe((0,E._)(te,Te=>{const _e=Oe++;Fe=ye?U(Fe,Te,_e):(ye=!0,Te),W&&te.next(Fe)},ae&&(()=>{ye&&te.next(Fe),te.complete()})))}}(U,Q,arguments.length>=2,!0))}},2830:(lt,he,C)=>{C.d(he,{FW:()=>Q,cp:()=>ie});var _=C(9310),E=C(4413);const ie="counter",U=(0,_.vy)({count:0},(0,_.on)(E.GV,X=>({...X,count:X.count+1})),(0,_.on)(E.Kt,X=>({...X,count:X.count-1})),(0,_.on)(E.cL,X=>({...X,count:0})),(0,_.on)(E.Co,(X,W)=>({...X,count:W.newValue})));function Q(X,W){return U(X,W)}},3073:(lt,he,C)=>{C.d(he,{D:()=>U});const{isArray:_}=Array,{getPrototypeOf:E,prototype:ie,keys:ee}=Object;function U(X){if(1===X.length){const W=X[0];if(_(W))return{args:W,keys:null};if(function Q(X){return X&&"object"==typeof X&&E(X)===ie}(W)){const ae=ee(W);return{args:ae.map(q=>W[q]),keys:ae}}}return{args:X,keys:null}}},3236:(lt,he,C)=>{C.d(he,{E:()=>ie,b:()=>ee});var _=C(6780);const ie=new(C(9687).q)(_.R),ee=ie},3294:(lt,he,C)=>{C.d(he,{F:()=>ee});var _=C(3669),E=C(9974),ie=C(4360);function ee(Q,X=_.D){return Q=Q??U,(0,E.N)((W,ae)=>{let q,te=!0;W.subscribe((0,ie._)(ae,ye=>{const Fe=X(ye);(te||!Q(q,Fe))&&(te=!1,q=Fe,ae.next(ye))}))})}function U(Q,X){return Q===X}},3319:(lt,he,C)=>{C.d(he,{m:()=>te});var _=C(1413),E=C(17),ie=C(8071),ee=C(8750),U=C(9974),Q=C(1985);const W={connector:()=>new _.B};function ae(ye,Fe=W){const{connector:Oe}=Fe;return(0,U.N)((Te,_e)=>{const He=Oe();(0,ee.Tg)(ye(function X(ye){return new Q.c(Fe=>ye.subscribe(Fe))}(He))).subscribe(_e),_e.add(Te.subscribe(He))})}function te(ye){return ye?Fe=>ae(ye)(Fe):Fe=>function q(ye,Fe){const Oe=(0,ie.T)(ye)?ye:()=>ye;return(0,ie.T)(Fe)?ae(Fe,{connector:Oe}):Te=>new E.G(Te,Oe)}(new _.B)(Fe)}},3344:(lt,he,C)=>{C.d(he,{I:()=>_});const _={apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432",auth_Token:"kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc"}},3386:(lt,he,C)=>{C.d(he,{c:()=>X});var _=C(3236),E=C(9974),ie=C(4360),ee=C(8750),Q=C(1807);function X(W,ae=_.E,q){const te=(0,Q.O)(W,ae);return function U(W,ae){return(0,E.N)((q,te)=>{const{leading:ye=!0,trailing:Fe=!1}=ae??{};let Oe=!1,Te=null,_e=null,He=!1;const Le=()=>{_e?.unsubscribe(),_e=null,Fe&&(rt(),He&&te.complete())},mt=()=>{_e=null,He&&te.complete()},Et=tt=>_e=(0,ee.Tg)(W(tt)).subscribe((0,ie._)(te,Le,mt)),rt=()=>{if(Oe){Oe=!1;const tt=Te;Te=null,te.next(tt),!He&&Et(tt)}};q.subscribe((0,ie._)(te,tt=>{Oe=!0,Te=tt,(!_e||_e.closed)&&(ye?rt():Et(tt))},()=>{He=!0,(!(Fe&&Oe&&_e)||_e.closed)&&te.complete()}))})}(()=>te,q)}},3494:(lt,he,C)=>{C.d(he,{s:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},3529:(lt,he,C)=>{C.d(he,{Jv:()=>Q,cp:()=>ie});var _=C(9310),E=C(334);const ie="article",U=(0,_.vy)({articles:[]},(0,_.on)(E.GV,(X,W)=>({...X,articles:X.articles.map(ae=>ae.id==W.id?{...ae,points:ae.points+1}:ae)})),(0,_.on)(E.Kt,(X,W)=>({...X,articles:X.articles.map(ae=>ae.id==W.id?{...ae,points:ae.points-1}:ae)})),(0,_.on)(E.WQ,(X,{payload:W})=>({...X,articles:[...X.articles,W]})));function Q(X,W){return U(X,W)}},3557:(lt,he,C)=>{C.d(he,{w:()=>ee});var _=C(9974),E=C(4360),ie=C(5343);function ee(){return(0,_.N)((U,Q)=>{U.subscribe((0,E._)(Q,ie.l))})}},3669:(lt,he,C)=>{function _(E){return E}C.d(he,{D:()=>_})},3692:(lt,he,C)=>{C.d(he,{k:()=>He});var _=C(1807),E=C(274),ie=C(8071),U=C(7468),Q=C(2771),X=C(5335),W=C(2498),ae=C(9437),q=C(8141),te=C(9030),ye=C(4668),Fe=C(8810),Oe=C(4438),Te=C(1626),_e=function(Le){return Le.LOADING="LOADING",Le.SUCCESS="SUCCESS",Le.ERROR="ERROR",Le}(_e||{});let He=(()=>{class Le{constructor(Et){this.http=Et}getNotifications(){return this.http.get("http://api").pipe(this.poll(1e3))}poll(Et,rt=0){return function(tt){return(0,_.O)(rt,Et).pipe(function ee(Le,mt){return(0,ie.T)(mt)?(0,E.H)(()=>Le,mt):(0,E.H)(()=>Le)}(tt))}}get(Et){return this.http.get(Et)}post(Et,rt){return this.http.post(Et,rt)}getSwapi(){let Et=this.http.get("https://swapi.dev/api/people/1/"),rt=this.http.get("https://swapi.dev/api/planets/1/");(0,U.p)([Et,rt]).subscribe(tt=>{tt[0].homeworld=tt[1],this.loadedCharacter=tt[0]})}load(Et){const rt=new Q.m,tt=this.http.get(`https://swapi.dev/api/people/${Et}/`).pipe((0,X.c)(2e3),(0,W.L)(2),(0,ae.W)(Mt=>{throw rt.next(_e.ERROR),"error loading user"}),(0,q.M)(()=>rt.next(_e.SUCCESS)));return{data:(0,te.v)(()=>(rt.next(_e.LOADING),tt)),status:rt}}share(){this.rawData$=this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe((0,ye.t)())}GetData(){return this.rawData$.toPromise()}getRandomjoke(){return this.http.get("https://icanhazdadjoke.com/slack").pipe((0,ae.W)(this.handleError))}handleError(){return(0,Fe.$)("Network Error Occured")}static{this.\u0275fac=function(rt){return new(rt||Le)(Oe.KVO(Te.Qq))}}static{this.\u0275prov=Oe.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},3703:(lt,he,C)=>{C.d(he,{u:()=>E});var _=C(6354);function E(ie){return(0,_.T)(()=>ie)}},3726:(lt,he,C)=>{C.d(he,{R:()=>q});var _=C(8750),E=C(1985),ie=C(1397),ee=C(7441),U=C(8071),Q=C(6450);const X=["addListener","removeListener"],W=["addEventListener","removeEventListener"],ae=["on","off"];function q(Te,_e,He,Le){if((0,U.T)(He)&&(Le=He,He=void 0),Le)return q(Te,_e,He).pipe((0,Q.I)(Le));const[mt,Et]=function Oe(Te){return(0,U.T)(Te.addEventListener)&&(0,U.T)(Te.removeEventListener)}(Te)?W.map(rt=>tt=>Te[rt](_e,tt,He)):function ye(Te){return(0,U.T)(Te.addListener)&&(0,U.T)(Te.removeListener)}(Te)?X.map(te(Te,_e)):function Fe(Te){return(0,U.T)(Te.on)&&(0,U.T)(Te.off)}(Te)?ae.map(te(Te,_e)):[];if(!mt&&(0,ee.X)(Te))return(0,ie.Z)(rt=>q(rt,_e,He))((0,_.Tg)(Te));if(!mt)throw new TypeError("Invalid event target");return new E.c(rt=>{const tt=(...Ot)=>rt.next(1<Ot.length?Ot:Ot[0]);return mt(tt),()=>Et(tt)})}function te(Te,_e){return He=>Le=>Te[He](_e,Le)}},3774:(lt,he,C)=>{C.d(he,{v:()=>ee});var _=C(9350),E=C(9974),ie=C(4360);function ee(Q=U){return(0,E.N)((X,W)=>{let ae=!1;X.subscribe((0,ie._)(W,q=>{ae=!0,W.next(q)},()=>ae?W.complete():W.error(Q())))})}function U(){return new _.G}},3887:(lt,he,C)=>{C.d(he,{G:()=>U});var _=C(177),E=C(9417),ie=C(884),ee=C(4438);let U=(()=>{class Q{static{this.\u0275fac=function(ae){return new(ae||Q)}}static{this.\u0275mod=ee.$C({type:Q})}static{this.\u0275inj=ee.G2t({imports:[_.CommonModule,ie.iI,E.YN,E.X1,E.YN,E.X1]})}}return Q})()},3993:(lt,he,C)=>{C.d(he,{E:()=>X});var _=C(9974),E=C(4360),ie=C(8750),ee=C(3669),U=C(5343),Q=C(9326);function X(...W){const ae=(0,Q.ms)(W);return(0,_.N)((q,te)=>{const ye=W.length,Fe=new Array(ye);let Oe=W.map(()=>!1),Te=!1;for(let _e=0;_e<ye;_e++)(0,ie.Tg)(W[_e]).subscribe((0,E._)(te,He=>{Fe[_e]=He,!Te&&!Oe[_e]&&(Oe[_e]=!0,(Te=Oe.every(ee.D))&&(Oe=null))},U.l));q.subscribe((0,E._)(te,_e=>{if(Te){const He=[_e,...Fe];te.next(ae?ae(...He):He)}}))})}},4360:(lt,he,C)=>{C.d(he,{H:()=>ie,_:()=>E});var _=C(7707);function E(ee,U,Q,X,W){return new ie(ee,U,Q,X,W)}class ie extends _.vU{constructor(U,Q,X,W,ae,q){super(U),this.onFinalize=ae,this.shouldUnsubscribe=q,this._next=Q?function(te){try{Q(te)}catch(ye){U.error(ye)}}:super._next,this._error=W?function(te){try{W(te)}catch(ye){U.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(te){U.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},4412:(lt,he,C)=>{C.d(he,{t:()=>E});var _=C(1413);class E extends _.B{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const U=super._subscribe(ee);return!U.closed&&ee.next(this._value),U}getValue(){const{hasError:ee,thrownError:U,_value:Q}=this;if(ee)throw U;return this._throwIfClosed(),Q}next(ee){super.next(this._value=ee)}}},4413:(lt,he,C)=>{C.d(he,{Co:()=>Q,GV:()=>ie,Kt:()=>ee,cL:()=>U,m5:()=>X});var _=C(9310),E=function(W){return W.INCREMENT="[Counter Component] Increment",W.DECREMENT="[Counter Component] Decrement",W.RESET="[Counter Component] Reset",W.SETVALUE="[Counter Component] Set Value",W.LOADVALUE="[Counter Component] Load Value",W}(E||{});const ie=(0,_.VP)(E.INCREMENT),ee=(0,_.VP)(E.DECREMENT),U=(0,_.VP)(E.RESET),Q=(0,_.VP)(E.SETVALUE,(0,_.xk)()),X=(0,_.VP)(E.LOADVALUE)},4438:(lt,he,C)=>{C.d(he,{bc$:()=>cl,iLQ:()=>eE,sZ2:()=>Cc,hnV:()=>cw,Hbi:()=>jP,o8S:()=>Vc,BIS:()=>Om,gRc:()=>XS,Ql9:()=>aP,OM3:()=>z_,Ocv:()=>pP,abz:()=>ka,Z63:()=>ws,aKT:()=>Qd,uvJ:()=>ds,zcH:()=>is,bkB:()=>al,y_5:()=>sa,$GK:()=>En,nKC:()=>Zt,zZn:()=>Pi,_q3:()=>aD,MKu:()=>lD,xe9:()=>tD,Co$:()=>_C,Vns:()=>Dy,SKi:()=>$s,Xx1:()=>jo,Agw:()=>Wp,PLl:()=>Zu,rOR:()=>Qy,sFG:()=>MM,_9s:()=>N0,czy:()=>Xf,bk:()=>Ci,WPN:()=>yd,kdw:()=>us,C4Q:()=>s,NYb:()=>jO,giA:()=>qC,xvI:()=>iP,RxE:()=>LS,c1b:()=>FE,gXe:()=>Da,mal:()=>Xp,Af3:()=>Ls,tdH:()=>vf,L39:()=>D1,EWP:()=>vE,sbv:()=>dA,a0P:()=>W1,Ol2:()=>Q0,w6W:()=>DA,oH4:()=>KS,QZP:()=>hD,SmG:()=>SP,Rfq:()=>Re,WQX:()=>Ht,hFB:()=>Gd,naY:()=>TP,QuC:()=>Gn,uuI:()=>fD,EmA:()=>Ho,geq:()=>fA,Udg:()=>C1,CGW:()=>Ll,fpN:()=>BP,HJs:()=>K1,ZcF:()=>xb,N4e:()=>Il,vPA:()=>qd,O8t:()=>Od,H3F:()=>jC,GGh:()=>Jy,PUk:()=>Ic,H8p:()=>Za,KH2:()=>c_,Ua0:()=>ga,waE:()=>Pb,wOt:()=>At,WHO:()=>QC,e01:()=>XC,Lf2:()=>Tc,lNU:()=>Xr,h9k:()=>Bf,$MX:()=>Dh,ZF7:()=>yu,Kcf:()=>Zm,e5t:()=>Jm,UyX:()=>yv,cWb:()=>wh,osQ:()=>xf,H5H:()=>Aw,Zy3:()=>tr,uq$:()=>hR,mq5:()=>QI,JZv:()=>Kn,LfX:()=>an,plB:()=>Ug,jNT:()=>lw,zjR:()=>ZC,ngT:()=>Xo,hVU:()=>BO,XSP:()=>dR,TL$:()=>Zy,Tbb:()=>Yn,rcV:()=>fl,nM4:()=>bC,Vt3:()=>q0,OA$:()=>lc,Jv_:()=>sS,R7$:()=>Pv,BMQ:()=>fw,HbH:()=>bI,ZvI:()=>PI,STu:()=>FI,ZWY:()=>kI,AVh:()=>Ew,vxM:()=>BI,wni:()=>NT,C6U:()=>FT,SS7:()=>Hw,nv$:()=>lI,T$4:()=>UC,g25:()=>cI,qhs:()=>uI,VBU:()=>wC,FsC:()=>DC,jDH:()=>Cn,G2t:()=>yi,$C:()=>X0,EJ8:()=>CC,rXU:()=>Qv,fuf:()=>f_,nrm:()=>Tw,eu8:()=>Sw,bVm:()=>qE,qex:()=>XE,k0s:()=>QE,j41:()=>GE,cSN:()=>xo,RV6:()=>GI,xGo:()=>vc,Mr5:()=>bw,KVO:()=>qs,kS0:()=>_c,QTQ:()=>BD,bIt:()=>Rw,lsd:()=>PT,joV:()=>Qh,qSk:()=>ss,XpG:()=>ET,nI1:()=>yS,bMT:()=>vS,i5U:()=>_S,SdG:()=>DT,NAR:()=>wT,Y8G:()=>yw,FS9:()=>Pw,Mz_:()=>t0,lJ4:()=>aS,eq3:()=>lS,l_i:()=>cS,sMw:()=>uS,ziG:()=>dS,NyB:()=>kT,mGM:()=>xT,r8f:()=>nS,sdS:()=>LT,Dyx:()=>WI,Z7z:()=>HI,fX1:()=>$I,Vm6:()=>jI,Njj:()=>Nl,EBC:()=>Ah,tSv:()=>_u,eBV:()=>ai,npT:()=>ml,f$h:()=>vu,B4B:()=>Ih,n$t:()=>jf,wjB:()=>iS,bH3:()=>tS,Aen:()=>bd,xc7:()=>_w,zvX:()=>Mw,DNE:()=>ew,C5r:()=>ES,EFF:()=>GT,JRh:()=>kw,SpI:()=>n0,Lme:()=>Lw,E5c:()=>Vw,LHq:()=>Uw,ZXR:()=>Bw,wXG:()=>wg,DH7:()=>JT,mxI:()=>$w,R50:()=>jw,GBs:()=>RT});var _=C(467);function E(e,n){return Object.is(e,n)}let ie=null,ee=!1,U=1;const Q=Symbol("SIGNAL");function X(e){const n=ie;return ie=e,n}function W(){return ie}const te={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ye(e){if(ee)throw new Error("");if(null===ie)return;ie.consumerOnSignalRead(e);const n=ie.nextProducerIndex++;Vt(ie),n<ie.producerNode.length&&ie.producerNode[n]!==e&&jt(ie)&&Mt(ie.producerNode[n],ie.producerIndexOfThis[n]),ie.producerNode[n]!==e&&(ie.producerNode[n]=e,ie.producerIndexOfThis[n]=jt(ie)?Ot(e,ie,n):0),ie.producerLastReadVersion[n]=e.version}function Oe(e){if((!jt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==U)){if(!e.producerMustRecompute(e)&&!rt(e))return void Le(e);e.producerRecomputeValue(e),Le(e)}}function Te(e){if(void 0===e.liveConsumerNode)return;const n=ee;ee=!0;try{for(const r of e.liveConsumerNode)r.dirty||He(r)}finally{ee=n}}function _e(){return!1!==ie?.consumerAllowSignalWrites}function He(e){e.dirty=!0,Te(e),e.consumerMarkedDirty?.(e)}function Le(e){e.dirty=!1,e.lastCleanEpoch=U}function mt(e){return e&&(e.nextProducerIndex=0),X(e)}function Et(e,n){if(X(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(jt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Mt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function rt(e){Vt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(Oe(r),o!==r.version))return!0}return!1}function tt(e){if(Vt(e),jt(e))for(let n=0;n<e.producerNode.length;n++)Mt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ot(e,n,r){if(Wt(e),0===e.liveConsumerNode.length&&wn(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ot(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function Mt(e,n){if(Wt(e),1===e.liveConsumerNode.length&&wn(e))for(let o=0;o<e.producerNode.length;o++)Mt(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],d=e.liveConsumerNode[n];Vt(d),d.producerIndexOfThis[o]=n}}function jt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Vt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Wt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wn(e){return void 0!==e.producerNode}function ut(e){const n=Object.create(jn);n.computation=e;const r=()=>{if(Oe(n),ye(n),n.value===nn)throw n.error;return n.value};return r[Q]=n,r}const Ge=Symbol("UNSET"),Ft=Symbol("COMPUTING"),nn=Symbol("ERRORED"),jn={...te,value:Ge,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:e=>e.value===Ge||e.value===Ft,producerRecomputeValue(e){if(e.value===Ft)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Ft;const r=mt(e);let o,d=!1;try{o=e.computation(),X(null),d=n!==Ge&&n!==nn&&o!==nn&&e.equal(n,o)}catch(p){o=nn,e.error=p}finally{Et(e,r)}d?e.value=n:(e.value=o,e.version++)}};let es=function Or(){throw new Error};function Cr(e){es(e)}let Ne=null;function Dt(e,n){_e()||Cr(e),e.equal(e.value,n)||(e.value=n,function er(e){e.version++,function Fe(){U++}(),Te(e),Ne?.()}(e))}function vt(e,n){_e()||Cr(e),Dt(e,n(e.value))}const vn={...te,equal:E,value:void 0,kind:"signal"};function qt(e,n,r){const o=Object.create(_r);o.source=e,o.computation=n,null!=r&&(o.equal=r);const p=()=>{if(Oe(o),ye(o),o.value===nn)throw o.error;return o.value};return p[Q]=o,p}const _r={...te,value:Ge,dirty:!0,error:null,equal:E,producerMustRecompute:e=>e.value===Ge||e.value===Ft,producerRecomputeValue(e){if(e.value===Ft)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Ft;const r=mt(e);let o;try{const d=e.source();o=e.computation(d,n===Ge||n===nn?void 0:{source:e.sourceValue,value:n}),e.sourceValue=d}catch(d){o=nn,e.error=d}finally{Et(e,r)}n!==Ge&&o!==nn&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};const qn=()=>{},Qr={...te,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:qn};var Pr=C(4412),Rs=C(1413),ts=C(8359),Fr=C(6354);const Xr="https://g.co/ng/security#xss";class At extends Error{code;constructor(n,r){super(tr(n,r)),this.code=n}}function tr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}const ns=Symbol("InputSignalNode#UNSET"),Nr={...vn,transformFn:void 0,applyValueToInputSignal(e,n){Dt(e,n)}};function Ii(e,n){const r=Object.create(Nr);function o(){if(ye(r),r.value===ns)throw new At(-950,!1);return r.value}return r.value=e,r.transformFn=n?.transform,o[Q]=r,o}function Yt(e){return{toString:e}.toString()}const dn="__parameters__";function Ln(e,n,r){return Yt(()=>{const o=function Yr(e){return function(...r){if(e){const o=e(...r);for(const d in o)this[d]=o[d]}}}(n);function d(...p){if(this instanceof d)return o.apply(this,p),this;const y=new d(...p);return D.annotation=y,D;function D(I,F,$){const Z=I.hasOwnProperty(dn)?I[dn]:Object.defineProperty(I,dn,{value:[]})[dn];for(;Z.length<=$;)Z.push(null);return(Z[$]=Z[$]||[]).push(y),I}}return r&&(d.prototype=Object.create(r.prototype)),d.prototype.ngMetadataName=e,d.annotationCls=d,d})}const Kn=globalThis;function An(e){for(let n in e)if(e[n]===An)return n;throw Error("Could not find renamed property on target object.")}function io(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Yn(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Yn).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Ps(e,n){return e?n?`${e} ${n}`:e:n||""}const we=An({__forward_ref__:An});function Re(e){return e.__forward_ref__=Re,e.toString=function(){return Yn(this())},e}function je(e){return le(e)?e():e}function le(e){return"function"==typeof e&&e.hasOwnProperty(we)&&e.__forward_ref__===Re}function Cn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Rr(e){return fs(e,wr)||fs(e,oo)}function an(e){return null!==Rr(e)}function fs(e,n){return e.hasOwnProperty(n)?e[n]:null}function ps(e){return e&&(e.hasOwnProperty(_o)||e.hasOwnProperty(ci))?e[_o]:null}const wr=An({\u0275prov:An}),_o=An({\u0275inj:An}),oo=An({ngInjectableDef:An}),ci=An({ngInjectorDef:An});class Zt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,r){this._desc=n,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Cn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ct(e){return e&&!!e.\u0275providers}const bt=An({\u0275cmp:An}),rn=An({\u0275dir:An}),ce=An({\u0275pipe:An}),ze=An({\u0275mod:An}),Me=An({\u0275fac:An}),Ue=An({__NG_ELEMENT_ID__:An}),ht=An({__NG_ENV_ID__:An});function st(e){return"string"==typeof e?e:null==e?"":String(e)}function Fs(e,n){throw new At(-201,!1)}var En=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(En||{});let ks;function zn(){return ks}function Zr(e){const n=ks;return ks=e,n}function Si(e,n,r){const o=Rr(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&En.Optional?null:void 0!==n?n:void Fs()}const wo={},ta="__NG_DI_FLAG__",Xi="ngTempTokenPath",na=/\n/gm,di="__source";let lo;function ki(e){const n=lo;return lo=e,n}function ra(e,n=En.Default){if(void 0===lo)throw new At(-203,!1);return null===lo?Si(e,void 0,n):lo.get(e,n&En.Optional?null:void 0,n)}function qs(e,n=En.Default){return(zn()||ra)(je(e),n)}function Ht(e,n=En.Default){return qs(e,Do(n))}function Do(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bo(e){const n=[];for(let r=0;r<e.length;r++){const o=je(e[r]);if(Array.isArray(o)){if(0===o.length)throw new At(900,!1);let d,p=En.Default;for(let y=0;y<o.length;y++){const D=o[y],I=Oo(D);"number"==typeof I?-1===I?d=D.token:p|=I:d=D}n.push(qs(d,p))}else n.push(qs(o))}return n}function qi(e,n){return e[ta]=n,e.prototype[ta]=n,e}function Oo(e){return e[ta]}const sa=qi(Ln("Inject",e=>({token:e})),-1),jo=qi(Ln("Optional"),8),us=qi(Ln("SkipSelf"),4);function si(e,n){return e.hasOwnProperty(Me)?e[Me]:null}function To(e,n){e.forEach(r=>Array.isArray(r)?To(r,n):n(r))}function Ka(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function No(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ia(e,n,r){const o=e.length-r;for(;n<o;)e[n]=e[n+r],n++;for(;r--;)e.pop()}function So(e,n,r,o){let d=e.length;if(d==n)e.push(r,o);else if(1===d)e.push(o,e[0]),e[0]=r;else{for(d--,e.push(e[d-1],e[d]);d>n;)e[d]=e[d-2],d--;e[n]=r,e[n+1]=o}}function fi(e,n,r){let o=Ys(e,n);return o>=0?e[1|o]=r:(o=~o,So(e,o,n,r)),o}function Mi(e,n){const r=Ys(e,n);if(r>=0)return e[1|r]}function Ys(e,n){return function Qa(e,n,r){let o=0,d=e.length>>r;for(;d!==o;){const p=o+(d-o>>1),y=e[p<<r];if(n===y)return p<<r;y>n?d=p:o=p+1}return~(d<<r)}(e,n,1)}const Ai={},mr=[],ws=new Zt(""),$o=new Zt("",-1),Xa=new Zt("");class qa{get(n,r=wo){if(r===wo){const o=new Error(`NullInjectorError: No provider for ${Yn(n)}!`);throw o.name="NullInjectorError",o}return r}}function gs(e,n){const r=e[ze]||null;if(!r&&!0===n)throw new Error(`Type ${Yn(e)} does not have '\u0275mod' property.`);return r}function pn(e){return e[bt]||null}function ms(e){return e[rn]||null}function Gs(e){return e[ce]||null}function Gn(e){const n=pn(e)||ms(e)||Gs(e);return null!==n&&n.standalone}function Ho(e){return{\u0275providers:e}}function Bc(...e){return{\u0275providers:V(0,e),\u0275fromNgModule:!0}}function V(e,...n){const r=[],o=new Set;let d;const p=y=>{r.push(y)};return To(n,y=>{const D=y;N(D,p,[],o)&&(d||=[],d.push(D))}),void 0!==d&&B(d,p),r}function B(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:d}=e[r];Ie(d,p=>{n(p,o)})}}function N(e,n,r,o){if(!(e=je(e)))return!1;let d=null,p=ps(e);const y=!p&&pn(e);if(p||y){if(y&&!y.standalone)return!1;d=e}else{const I=e.ngModule;if(p=ps(I),!p)return!1;d=I}const D=o.has(d);if(y){if(D)return!1;if(o.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const F of I)N(F,n,r,o)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let F;o.add(d);try{To(p.imports,$=>{N($,n,r,o)&&(F||=[],F.push($))})}finally{}void 0!==F&&B(F,n)}if(!D){const F=si(d)||(()=>new d);n({provide:d,useFactory:F,deps:mr},d),n({provide:Xa,useValue:d,multi:!0},d),n({provide:ws,useValue:()=>qs(d),multi:!0},d)}const I=p.providers;if(null!=I&&!D){const F=e;Ie(I,$=>{n($,F)})}}}return d!==e&&void 0!==e.providers}function Ie(e,n){for(let r of e)Ct(r)&&(r=r.\u0275providers),Array.isArray(r)?Ie(r,n):n(r)}const Qt=An({provide:String,useValue:An});function Nn(e){return null!==e&&"object"==typeof e&&Qt in e}function Yi(e){return"function"==typeof e}const Za=new Zt(""),Sa={},bu={};let Mu;function ii(){return void 0===Mu&&(Mu=new qa),Mu}class ds{}class Wo extends ds{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,r,o,d){super(),this.parent=r,this.source=o,this.scopes=d,aa(n,y=>this.processProvider(y)),this.records.set($o,Bn(void 0,this)),d.has("environment")&&this.records.set(ds,Bn(void 0,this));const p=this.records.get(Za);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Xa,mr,En.Self))}destroy(){uo(this),this._destroyed=!0;const n=X(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(n)}}onDestroy(n){return uo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){uo(this);const r=ki(this),o=Zr(void 0);try{return n()}finally{ki(r),Zr(o)}}get(n,r=wo,o=En.Default){if(uo(this),n.hasOwnProperty(ht))return n[ht](this);o=Do(o);const p=ki(this),y=Zr(void 0);try{if(!(o&En.SkipSelf)){let I=this.records.get(n);if(void 0===I){const F=function Ma(e){return"function"==typeof e||"object"==typeof e&&e instanceof Zt}(n)&&Rr(n);I=F&&this.injectableDefInScope(F)?Bn(Cl(n),Sa):null,this.records.set(n,I)}if(null!=I)return this.hydrate(n,I)}return(o&En.Self?ii():this.parent).get(n,r=o&En.Optional&&r===wo?null:r)}catch(D){if("NullInjectorError"===D.name){if((D[Xi]=D[Xi]||[]).unshift(Yn(n)),p)throw D;return function Co(e,n,r,o){const d=e[Xi];throw n[di]&&d.unshift(n[di]),e.message=function Uc(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let d=Yn(n);if(Array.isArray(n))d=n.map(Yn).join(" -> ");else if("object"==typeof n){let p=[];for(let y in n)if(n.hasOwnProperty(y)){let D=n[y];p.push(y+":"+("string"==typeof D?JSON.stringify(D):Yn(D)))}d=`{${p.join(", ")}}`}return`${r}${o?"("+o+")":""}[${d}]: ${e.replace(na,"\n  ")}`}("\n"+e.message,d,r,o),e.ngTokenPath=d,e[Xi]=null,e}(D,n,"R3InjectorError",this.source)}throw D}finally{Zr(y),ki(p)}}resolveInjectorInitializers(){const n=X(null),r=ki(this),o=Zr(void 0);try{const p=this.get(ws,mr,En.Self);for(const y of p)y()}finally{ki(r),Zr(o),X(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Yn(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){let r=Yi(n=je(n))?n:je(n&&n.provide);const o=function Oi(e){return Nn(e)?Bn(void 0,e.useValue):Bn(co(e),Sa)}(n);if(!Yi(n)&&!0===n.multi){let d=this.records.get(r);d||(d=Bn(void 0,Sa,!0),d.factory=()=>Bo(d.multi),this.records.set(r,d)),r=n,d.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=X(null);try{return r.value===Sa&&(r.value=bu,r.value=r.factory()),"object"==typeof r.value&&r.value&&function ho(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{X(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=je(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Cl(e){const n=Rr(e),r=null!==n?n.factory:si(e);if(null!==r)return r;if(e instanceof Zt)throw new At(204,!1);if(e instanceof Function)return function ba(e){if(e.length>0)throw new At(204,!1);const r=function zi(e){return e&&(e[wr]||e[oo])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new At(204,!1)}function co(e,n,r){let o;if(Yi(e)){const d=je(e);return si(d)||Cl(d)}if(Nn(e))o=()=>je(e.useValue);else if(function Vi(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Bo(e.deps||[]));else if(function vi(e){return!(!e||!e.useExisting)}(e))o=()=>qs(je(e.useExisting));else{const d=je(e&&(e.useClass||e.provide));if(!function Nd(e){return!!e.deps}(e))return si(d)||Cl(d);o=()=>new d(...Bo(e.deps))}return o}function uo(e){if(e.destroyed)throw new At(205,!1)}function Bn(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function aa(e,n){for(const r of e)Array.isArray(r)?aa(r,n):r&&Ct(r)?aa(r.\u0275providers,n):n(r)}function Il(e,n){e instanceof Wo&&uo(e);const o=ki(e),d=Zr(void 0);try{return n()}finally{ki(o),Zr(d)}}function lr(){return void 0!==zn()||null!=function Dl(){return lo}()}function Ls(e){if(!lr())throw new At(-203,!1)}const yr=0,St=1,sn=2,Vs=3,Ni=4,hs=5,Ui=6,rs=7,cr=8,Zn=9,Bi=10,mn=11,It=12,M=13,z=14,x=15,k=16,Y=17,We=18,Ae=19,be=20,ot=21,un=22,ur=23,In=24,Tt=26,Ds=1,Us=6,Cs=7,_i=9,xr=10;function Dr(e){return Array.isArray(e)&&"object"==typeof e[Ds]}function Kt(e){return Array.isArray(e)&&!0===e[Ds]}function Ro(e){return!!(4&e.flags)}function Is(e){return e.componentOffset>-1}function Jr(e){return!(1&~e.flags)}function $t(e){return!!e.template}function Ko(e){return!!(512&e[sn])}function $r(e){return!(256&~e[sn])}class Ml{previousValue;currentValue;firstChange;constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Qg(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}const lc=(()=>{const e=()=>np;return e.ngInherit=!0,e})();function np(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ry),rp}function rp(){const e=Ji(this),n=e?.current;if(n){const r=e.previous;if(r===Ai)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Ry(e,n,r,o,d){const p=this.declaredInputs[o],y=Ji(e)||function T(e,n){return e[Xg]=n}(e,{previous:Ai,current:null}),D=y.current||(y.current={}),I=y.previous,F=I[p];D[p]=new Ml(F&&F.currentValue,r,I===Ai),Qg(e,n,d,r)}const Xg="__ngSimpleChanges__";function Ji(e){return e[Xg]||null}const O=function(e,n=null,r){},j="svg";function ue(e){for(;Array.isArray(e);)e=e[yr];return e}function Be(e,n){return ue(n[e])}function Nt(e,n){return ue(n[e.index])}function bn(e,n){return e.data[n]}function Vr(e,n){return e[n]}function Bs(e,n){const r=n[e];return Dr(r)?r:r[yr]}function Na(e){return!(128&~e[sn])}function Ri(e,n){return null==n?null:e[n]}function sp(e){e[Y]=0}function $c(e){1024&e[sn]||(e[sn]|=1024,Na(e)&&Pd(e))}function xy(e,n){for(;e>0;)n=n[z],e--;return n}function Wh(e){return!!(9216&e[sn]||e[In]?.dirty)}function Kh(e){e[Bi].changeDetectionScheduler?.notify(8),64&e[sn]&&(e[sn]|=1024),Wh(e)&&Pd(e)}function Pd(e){e[Bi].changeDetectionScheduler?.notify(0);let n=Al(e);for(;null!==n&&!(8192&n[sn])&&(n[sn]|=8192,Na(n));)n=Al(n)}function ip(e,n){if($r(e))throw new At(911,!1);null===e[ot]&&(e[ot]=[]),e[ot].push(n)}function op(e,n){if(null===e[ot])return;const r=e[ot].indexOf(n);-1!==r&&e[ot].splice(r,1)}function Al(e){const n=e[Vs];return Kt(n)?n[Vs]:n}function qg(e){return e[rs]??=[]}function Fd(e){return e.cleanup??=[]}const xn={lFrame:js(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ol=!1;function Ss(){return xn.bindingsEnabled}function Hc(){return null!==xn.skipHydrationRootTNode}function xo(){xn.bindingsEnabled=!0}function f_(){xn.bindingsEnabled=!1}function at(){return xn.lFrame.lView}function yn(){return xn.lFrame.tView}function ai(e){return xn.lFrame.contextLView=e,e[cr]}function Nl(e){return xn.lFrame.contextLView=null,e}function Qn(){let e=xu();for(;null!==e&&64===e.type;)e=e.parent;return e}function xu(){return xn.lFrame.currentTNode}function nl(e,n){const r=xn.lFrame;r.currentTNode=e,r.isParent=n}function dc(){return xn.lFrame.isParent}function Rl(){xn.lFrame.isParent=!1}function zh(){return xn.lFrame.contextLView}function xl(){return Ol}function Ld(e){const n=Ol;return Ol=e,n}function wi(){const e=xn.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ra(){return xn.lFrame.bindingIndex}function Hi(){return xn.lFrame.bindingIndex++}function xa(e){const n=xn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function Yg(e,n){const r=xn.lFrame;r.bindingIndex=r.bindingRootIndex=e,Lu(n)}function Lu(e){xn.lFrame.currentDirectiveIndex=e}function up(e){const n=xn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Zg(){return xn.lFrame.currentQueryIndex}function dp(e){xn.lFrame.currentQueryIndex=e}function Fy(e){const n=e[St];return 2===n.type?n.declTNode:1===n.type?e[hs]:null}function Jg(e,n,r){if(r&En.SkipSelf){let d=n,p=e;for(;!(d=d.parent,null!==d||r&En.Host||(d=Fy(p),null===d||(p=p[z],10&d.type))););if(null===d)return!1;n=d,e=p}const o=xn.lFrame=em();return o.currentTNode=n,o.lView=e,!0}function eo(e){const n=em(),r=e[St];xn.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function em(){const e=xn.lFrame,n=null===e?null:e.child;return null===n?js(e):n}function js(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function fc(){const e=xn.lFrame;return xn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const tm=fc;function hp(){const e=fc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xi(){return xn.lFrame.selectedIndex}function pc(e){xn.lFrame.selectedIndex=e}function Jt(){const e=xn.lFrame;return bn(e.tView,e.selectedIndex)}function ss(){xn.lFrame.currentNamespace=j}function Qh(){!function fp(){xn.lFrame.currentNamespace=null}()}let Wc=!0;function Bd(){return Wc}function Pa(e){Wc=e}function pp(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const p=e.data[r].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:F,ngOnDestroy:$}=p;y&&(e.contentHooks??=[]).push(-r,y),D&&((e.contentHooks??=[]).push(r,D),(e.contentCheckHooks??=[]).push(r,D)),I&&(e.viewHooks??=[]).push(-r,I),F&&((e.viewHooks??=[]).push(r,F),(e.viewCheckHooks??=[]).push(r,F)),null!=$&&(e.destroyHooks??=[]).push(r,$)}}function Xh(e,n,r){nm(e,n,3,r)}function gp(e,n,r,o){(3&e[sn])===r&&nm(e,n,r,o)}function jd(e,n){let r=e[sn];(3&r)===n&&(r&=16383,r+=1,e[sn]=r)}function nm(e,n,r,o){const p=o??-1,y=n.length-1;let D=0;for(let I=void 0!==o?65535&e[Y]:0;I<y;I++)if("number"==typeof n[I+1]){if(D=n[I],null!=o&&D>=o)break}else n[I]<0&&(e[Y]+=65536),(D<p||-1==p)&&(yp(e,r,n,I),e[Y]=(4294901760&e[Y])+I+2),I++}function mp(e,n){O(4,e,n);const r=X(null);try{n.call(e)}finally{X(r),O(5,e,n)}}function yp(e,n,r,o){const d=r[o]<0,p=r[o+1],D=e[d?-r[o]:r[o]];d?e[sn]>>14<e[Y]>>16&&(3&e[sn])===n&&(e[sn]+=16384,mp(D,p)):mp(D,p)}const gc=-1;class Vu{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,r,o){this.factory=n,this.canSeeViewProviders=r,this.injectImpl=o}}function zc(e){return 3===e||4===e||6===e}function sm(e){return 64===e.charCodeAt(0)}function Gc(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const d=n[o];"number"==typeof d?r=d:0===r||Zh(e,r,d,null,-1===r||2===r?n[++o]:null)}}return e}function Zh(e,n,r,o,d){let p=0,y=e.length;if(-1===n)y=-1;else for(;p<e.length;){const D=e[p++];if("number"==typeof D){if(D===n){y=-1;break}if(D>n){y=p-1;break}}}for(;p<e.length;){const D=e[p];if("number"==typeof D)break;if(D===r){if(null===o)return void(null!==d&&(e[p+1]=d));if(o===e[p+1])return void(e[p+2]=d)}p++,null!==o&&p++,null!==d&&p++}-1!==y&&(e.splice(y,0,n),p=y+1),e.splice(p++,0,r),null!==o&&e.splice(p++,0,o),null!==d&&e.splice(p++,0,d)}const Jh={};class ha{injector;parentInjector;constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=Do(o);const d=this.injector.get(n,Jh,o);return d!==Jh||r===Jh?d:this.parentInjector.get(n,r,o)}}function go(e){return e!==gc}function Uu(e){return 32767&e}function mc(e,n){let r=function ef(e){return e>>16}(e),o=n;for(;r>0;)o=o[z],r--;return o}let tf=!0;function Qc(e){const n=tf;return tf=e,n}const im=255,Uy=5;let Pl=0;const fa={};function nf(e,n){const r=Ep(e,n);if(-1!==r)return r;const o=n[St];o.firstCreatePass&&(e.injectorIndex=n.length,Bu(o.data,e),Bu(n,null),Bu(o.blueprint,null));const d=to(e,n),p=e.injectorIndex;if(go(d)){const y=Uu(d),D=mc(d,n),I=D[St].data;for(let F=0;F<8;F++)n[p+F]=D[y+F]|I[y+F]}return n[p+8]=d,p}function Bu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ep(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function to(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,d=n;for(;null!==d;){if(o=Zs(d),null===o)return gc;if(r++,d=d[z],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return gc}function wp(e,n,r){!function Go(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Ue)&&(o=r[Ue]),null==o&&(o=r[Ue]=Pl++);const d=o&im;n.data[e+(d>>Uy)]|=1<<d}(e,n,r)}function om(e,n,r){if(r&En.Optional||void 0!==e)return e;Fs()}function am(e,n,r,o){if(r&En.Optional&&void 0===o&&(o=null),!(r&(En.Self|En.Host))){const d=e[Zn],p=Zr(void 0);try{return d?d.get(n,o,r&En.Optional):Si(n,o,r&En.Optional)}finally{Zr(p)}}return om(o,0,r)}function Hn(e,n,r,o=En.Default,d){if(null!==e){if(2048&n[sn]&&!(o&En.Self)){const y=function um(e,n,r,o,d){let p=e,y=n;for(;null!==p&&null!==y&&2048&y[sn]&&!Ko(y);){const D=Dp(p,y,r,o|En.Self,fa);if(D!==fa)return D;let I=p.parent;if(!I){const F=y[be];if(F){const $=F.get(r,fa,o);if($!==fa)return $}I=Zs(y),y=y[z]}p=I}return d}(e,n,r,o,fa);if(y!==fa)return y}const p=Dp(e,n,r,o,fa);if(p!==fa)return p}return am(n,r,o,d)}function Dp(e,n,r,o,d){const p=function cm(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ue)?e[Ue]:void 0;return"number"==typeof n?n>=0?n&im:il:n}(r);if("function"==typeof p){if(!Jg(n,e,o))return o&En.Host?om(d,0,o):am(n,r,o,d);try{let y;if(y=p(o),null!=y||o&En.Optional)return y;Fs()}finally{tm()}}else if("number"==typeof p){let y=null,D=Ep(e,n),I=gc,F=o&En.Host?n[x][hs]:null;for((-1===D||o&En.SkipSelf)&&(I=-1===D?to(e,n):n[D+8],I!==gc&&Cp(o,!1)?(y=n[St],D=Uu(I),n=mc(I,n)):D=-1);-1!==D;){const $=n[St];if(sl(p,D,$.data)){const Z=lm(D,n,r,y,o,F);if(Z!==fa)return Z}I=n[D+8],I!==gc&&Cp(o,n[St].data[D+8]===F)&&sl(p,D,n)?(y=$,D=Uu(I),n=mc(I,n)):D=-1}}return d}function lm(e,n,r,o,d,p){const y=n[St],D=y.data[e+8],$=rf(D,y,r,null==o?Is(D)&&tf:o!=y&&!!(3&D.type),d&En.Host&&p===D);return null!==$?Hd(n,y,$,D):fa}function rf(e,n,r,o,d){const p=e.providerIndexes,y=n.data,D=1048575&p,I=e.directiveStart,$=p>>20,pe=d?D+$:e.directiveEnd;for(let de=o?D:D+$;de<pe;de++){const xe=y[de];if(de<I&&r===xe||de>=I&&xe.type===r)return de}if(d){const de=y[I];if(de&&$t(de)&&de.type===r)return I}return null}function Hd(e,n,r,o){let d=e[r];const p=n.data;if(function vp(e){return e instanceof Vu}(d)){const y=d;y.resolving&&function Tr(e){throw new At(-200,e)}(function xt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}(p[r]));const D=Qc(y.canSeeViewProviders);y.resolving=!0;const F=y.injectImpl?Zr(y.injectImpl):null;Jg(e,o,En.Default);try{d=e[r]=y.factory(void 0,p,e,o),n.firstCreatePass&&r>=o.directiveStart&&function Ly(e,n,r){const{ngOnChanges:o,ngOnInit:d,ngDoCheck:p}=n.type.prototype;if(o){const y=np(n);(r.preOrderHooks??=[]).push(e,y),(r.preOrderCheckHooks??=[]).push(e,y)}d&&(r.preOrderHooks??=[]).push(0-e,d),p&&((r.preOrderHooks??=[]).push(e,p),(r.preOrderCheckHooks??=[]).push(e,p))}(r,p[r],n)}finally{null!==F&&Zr(F),Qc(D),y.resolving=!1,tm()}}return d}function sl(e,n,r){return!!(r[n+(e>>Uy)]&1<<e)}function Cp(e,n){return!(e&En.Self||e&En.Host&&n)}class ys{_tNode;_lView;constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Hn(this._tNode,this._lView,n,Do(o),r)}}function il(){return new ys(Qn(),at())}function vc(e){return Yt(()=>{const n=e.prototype.constructor,r=n[Me]||Fl(n),o=Object.prototype;let d=Object.getPrototypeOf(e.prototype).constructor;for(;d&&d!==o;){const p=d[Me]||Fl(d);if(p&&p!==r)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Fl(e){return le(e)?()=>{const n=Fl(je(e));return n&&n()}:si(e)}function Zs(e){const n=e[St],r=n.type;return 2===r?n.declTNode:1===r?e[hs]:null}function _c(e){return function ke(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let d=0;for(;d<o;){const p=r[d];if(zc(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<o&&"string"==typeof r[d];)d++;else{if(p===n)return r[d+1];d+=2}}}return null}(Qn(),e)}function Mp(e,n=null,r=null,o){const d=dm(e,n,r,o);return d.resolveInjectorInitializers(),d}function dm(e,n=null,r=null,o,d=new Set){const p=[r||mr,Bc(e)];return o=o||("object"==typeof e?void 0:Yn(e)),new Wo(p,n||ii(),o||null,d)}class Pi{static THROW_IF_NOT_FOUND=wo;static NULL=new qa;static create(n,r){if(Array.isArray(n))return Mp({name:""},r,n,"");{const o=n.name??"";return Mp({name:o},n.parent,n.providers,o)}}static \u0275prov=Cn({token:Pi,providedIn:"any",factory:()=>qs($o)});static __NG_ELEMENT_ID__=-1}new Zt("").__NG_ELEMENT_ID__=e=>{const n=Qn();if(null===n)throw new At(204,!1);if(2&n.type)return n.value;if(e&En.Optional)return null;throw new At(204,!1)};const Ap=!1;let ka=(()=>class e{static __NG_ELEMENT_ID__=g_;static __NG_ENV_ID__=r=>r})();class $u extends ka{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return ip(this._lView,n),()=>op(this._lView,n)}}function g_(){return new $u(at())}class Hr{}const vr=new Zt("",{providedIn:"root",factory:()=>!1}),Hu=new Zt(""),qc=new Zt("");let ga=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pr.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})(),fm=(()=>{class e{internalPendingTasks=Ht(ga);scheduler=Ht(Hr);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,_.A)(function*(){const d=o.add();try{return yield r()}finally{d()}})()}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})();const al=class jy extends Rs.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,lr()&&(this.destroyRef=Ht(ka,{optional:!0})??void 0,this.pendingTasks=Ht(ga,{optional:!0})??void 0)}emit(n){const r=X(null);try{super.next(n)}finally{X(r)}}subscribe(n,r,o){let d=n,p=r||(()=>null),y=o;if(n&&"object"==typeof n){const I=n;d=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=this.wrapInTimeout(p),d&&(d=this.wrapInTimeout(d)),y&&(y=this.wrapInTimeout(y)));const D=super.subscribe({next:d,error:p,complete:y});return n instanceof ts.yU&&n.add(D),D}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function Wu(...e){}function lf(e){let n,r;function o(){e=Wu;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Ku(e){return queueMicrotask(()=>e()),()=>{e=Wu}}const Yc="isAngularZone",Zc=Yc+"_ID";let Op=0;class $s{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new al(!1);onMicrotaskEmpty=new al(!1);onStable=new al(!1);onError=new al(!1);constructor(n){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1,scheduleInRootZone:p=Ap}=n;if(typeof Zone>"u")throw new At(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!d&&o,y.shouldCoalesceRunChangeDetection=d,y.callbackScheduled=!1,y.scheduleInRootZone=p,function Rp(e){const n=()=>{!function Np(e){function n(){lf(()=>{e.callbackScheduled=!1,cf(e),e.isCheckStableRunning=!0,gm(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),cf(e))}(e)},r=Op++;e._inner=e._inner.fork({name:"angular",properties:{[Yc]:!0,[Zc]:r,[Zc+r]:!0},onInvokeTask:(o,d,p,y,D,I)=>{if(function mm(e){return ym(e,"__ignore_ng_zone__")}(I))return o.invokeTask(p,y,D,I);try{return $y(e),o.invokeTask(p,y,D,I)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||e.shouldCoalesceRunChangeDetection)&&n(),Hy(e)}},onInvoke:(o,d,p,y,D,I,F)=>{try{return $y(e),o.invoke(p,y,D,I,F)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function zd(e){return ym(e,"__scheduler_tick__")}(I)&&n(),Hy(e)}},onHasTask:(o,d,p,y)=>{o.hasTask(p,y),d===p&&("microTask"==y.change?(e._hasPendingMicrotasks=y.microTask,cf(e),gm(e)):"macroTask"==y.change&&(e.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,d,p,y)=>(o.handleError(p,y),e.runOutsideAngular(()=>e.onError.emit(y)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Yc)}static assertInAngularZone(){if(!$s.isInAngularZone())throw new At(909,!1)}static assertNotInAngularZone(){if($s.isInAngularZone())throw new At(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,n,pm,Wu,Wu);try{return p.runTask(y,r,o)}finally{p.cancelTask(y)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const pm={};function gm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function $y(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Hy(e){e._nesting--,gm(e)}class xp{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new al;onMicrotaskEmpty=new al;onStable=new al;onError=new al;run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,d){return n.apply(r,o)}}function ym(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class is{_console=console;handleError(n){this._console.error("ERROR",n)}}const Pp=new Zt("",{providedIn:"root",factory:()=>{const e=Ht($s),n=Ht(is);return r=>e.runOutsideAngular(()=>n.handleError(r))}});class vm{destroyed=!1;listeners=null;errorHandler=Ht(is,{optional:!0});destroyRef=Ht(ka);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(n){if(this.destroyed)throw new At(953,!1);return(this.listeners??=[]).push(n),{unsubscribe:()=>{const r=this.listeners?.indexOf(n);void 0!==r&&-1!==r&&this.listeners?.splice(r,1)}}}emit(n){if(this.destroyed)throw new At(953,!1);if(null===this.listeners)return;const r=X(null);try{for(const o of this.listeners)try{o(n)}catch(d){this.errorHandler?.handleError(d)}}finally{X(r)}}}function Ll(e){return new vm}function kp(e,n){return Ii(e,n)}const Gd=(kp.required=function Ky(e){return Ii(ns,e)},kp);function _m(){return zu(Qn(),at())}function zu(e,n){return new Qd(Nt(e,n))}let Qd=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=_m})();function zy(e){return e instanceof Qd?e.nativeElement:e}function qd(e,n){const r=function Qe(e){const n=Object.create(vn);n.value=e;const r=()=>(ye(n),n.value);return r[Q]=n,r}(e),o=r[Q];return n?.equal&&(o.equal=n.equal),r.set=d=>Dt(o,d),r.update=d=>vt(o,d),r.asReadonly=Jc.bind(r),r}function Jc(){const e=this[Q];if(void 0===e.readonlyFn){const n=()=>this();n[Q]=e,e.readonlyFn=n}return e.readonlyFn}function wc(e){return function Ec(e){return"function"==typeof e&&void 0!==e[Q]}(e)&&"function"==typeof e.set}function Em(){return this._results[Symbol.iterator]()}class Qy{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Rs.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function hi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Io(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let d=e[o],p=n[o];if(r&&(d=r(d),p=r(p)),p!==d)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Em}function ma(e){return!(128&~e.flags)}var Up=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Up||{});const Zd=new Map;let Ul=0;function Gu(e){Zd.delete(e[Ae])}const Mr="__ngContext__";function pi(e,n){Dr(n)?(e[Mr]=n[Ae],function Xy(e){Zd.set(e[Ae],e)}(n)):e[Mr]=n}function Dc(e){return su(e[It])}function jp(e){return su(e[Ni])}function su(e){for(;null!==e&&!Kt(e);)e=e[Ni];return e}let mo;function Zy(e){mo=e}function bs(){if(void 0!==mo)return mo;if(typeof document<"u")return document;throw new At(210,!1)}const Cc=new Zt("",{providedIn:"root",factory:()=>Hp}),Hp="ng",Zu=new Zt(""),Wp=new Zt("",{providedIn:"platform",factory:()=>"unknown"}),cl=new Zt(""),Om=new Zt("",{providedIn:"root",factory:()=>bs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ic={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Jy=new Zt("",{providedIn:"root",factory:()=>Ic}),nh="di",rh="s",li=new Zt("",{providedIn:"root",factory:()=>!1}),sv=new Zt("");var yf=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(yf||{});const Tc=new Zt(""),nd=new Set;function Xo(e){nd.has(e)||(nd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function vf(e,n){if(null!==W())throw new At(-602,!1)}let rd=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=Gp})();function Gp(){return new rd(at(),Qn())}var _a=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_a||{});let oh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})();const sd=[_a.EarlyRead,_a.Write,_a.MixedReadWrite,_a.Read];let Sc=(()=>{class e{ngZone=Ht($s);scheduler=Ht(Hr);errorHandler=Ht(is,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ht(Tc,{optional:!0})}execute(){const r=this.sequences.size>0;r&&O(16),this.executing=!0;for(const o of sd)for(const d of this.sequences)if(!d.erroredOrDestroyed&&d.hooks[o])try{d.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,d.hooks[o])(d.pipelinedValue),d.snapshot))}catch(p){d.erroredOrDestroyed=!0,this.errorHandler?.handleError(p)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&O(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),Pd(o),o[sn]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(yf.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})();class _f{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,r,o,d,p,y=null){this.impl=n,this.hooks=r,this.view=o,this.once=d,this.snapshot=y,this.unregisterOnDestroy=p?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(r=>r!==this))}}function Xp(e,n){!n?.injector&&Ls();const r=n?.injector??Ht(Pi);return Xo("NgAfterNextRender"),Ef(e,r,n,!0)}function Ef(e,n,r,o){const d=n.get(oh);d.impl??=n.get(Sc);const p=n.get(Tc,null,{optional:!0}),y=r?.phase??_a.MixedReadWrite,D=!0!==r?.manualCleanup?n.get(ka):null,I=n.get(rd,null,{optional:!0}),F=new _f(d.impl,function iv(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,y),I?.view,o,D,p?.snapshot(null));return d.impl.register(F),F}var gi=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(gi||{});const qp=0,Ua=1;var as=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(as||{}),Ea=function(e){return e[e.Initial=-1]="Initial",e}(Ea||{});const wa=0,qo=1,Ba=2,ul=3,id=4,bc=5,ah=6,xm=7,$l=8,Pm=9;var Fm=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(Fm||{});function Mc(e,n,r){const o=Ac(e);null===n[o]&&(n[o]=[]),n[o].push(r)}function Hl(e,n){const r=Ac(e),o=n[r];if(null!==o){for(const d of o)d();n[r]=null}}function lh(e){Hl(1,e),Hl(0,e),Hl(2,e)}function Ac(e){let n=id;return 1===e?n=bc:2===e&&(n=Pm),n}function Yo(e){return e+1}function Wi(e,n){return e[Yo(n.index)]}function $n(e,n){const r=Yo(n.index);return e.data[r]}function ch(e,n){return n===as.Placeholder?e.placeholderBlockConfig?.[qp]??null:n===as.Loading?e.loadingBlockConfig?.[qp]??null:null}function uh(e){return e.loadingBlockConfig?.[Ua]??null}function dh(e,n){if(!e||0===e.length)return n;const r=new Set(e);for(const o of n)r.add(o);return e.length===r.size?e:Array.from(r)}const ad=new WeakMap;let fh=null,Vm=0;class Cf{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}function ld(e,n,r){const o=r.get($s);let d=ad.get(e);return fh=fh||o.runOutsideAngular(()=>new IntersectionObserver(p=>{for(const y of p)y.isIntersecting&&ad.has(y.target)&&o.run(ad.get(y.target).listener)})),d||(d=new Cf,o.runOutsideAngular(()=>fh.observe(e)),ad.set(e,d),Vm++),d.callbacks.add(n),()=>{ad.has(e)&&(d.callbacks.delete(n),0===d.callbacks.size&&(fh?.unobserve(e),ad.delete(e),Vm--),0===Vm&&(fh?.disconnect(),fh=null))}}function uu(e,n,r,o,d,p,y){const D=e[Zn],I=D.get($s);let F;F=function Qp(e,n){!n?.injector&&Ls();const r=n?.injector??Ht(Pi);return Xo("NgAfterRender"),Ef(e,r,n,!1)}({read:function $(){if($r(e))return void F.destroy();const Z=Wi(e,n),pe=Z[qo];if(pe!==Ea.Initial&&pe!==as.Placeholder)return void F.destroy();const de=function jm(e,n,r){return null==r?e:r>=0?xy(r,e):e[n.index][xr]??null}(e,n,o);if(!de||(F.destroy(),$r(de)))return;const xe=function ph(e,n){return Be(Tt+n,e)}(de,r),it=d(xe,()=>{I.run(()=>{e!==de&&op(de,it),p()})},D);e!==de&&ip(de,it),Mc(y,Z,it)}},{injector:D})}const dl=new Zt("");let hd=()=>null;function og(e,n,r=!1){return hd(e,n,r)}function Af(e,n){const r=e.contentQueries;if(null!==r){const o=X(null);try{for(let d=0;d<r.length;d+=2){const y=r[d+1];if(-1!==y){const D=e.data[y];dp(r[d]),D.contentQueries(2,n[y],y)}}}finally{X(o)}}}function Xm(e,n,r){dp(0);const o=X(null);try{n(e,r)}finally{X(o)}}function Gl(e,n,r){if(Ro(n)){const o=X(null);try{const p=n.directiveEnd;for(let y=n.directiveStart;y<p;y++){const D=e.data[y];D.contentQueries&&D.contentQueries(1,r[y],y)}}finally{X(o)}}}var Da=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Da||{});let fg,_h;function Of(){if(void 0===fg&&(fg=null,Kn.trustedTypes))try{fg=Kn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fg}function pu(e){return Of()?.createHTML(e)||e}function gu(){if(void 0===_h&&(_h=null,Kn.trustedTypes))try{_h=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _h}function qm(e){return gu()?.createHTML(e)||e}function pg(e){return gu()?.createScriptURL(e)||e}class mu{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xr})`}}class gg extends mu{getTypeName(){return"HTML"}}class Nf extends mu{getTypeName(){return"Style"}}class Eh extends mu{getTypeName(){return"Script"}}class Ym extends mu{getTypeName(){return"URL"}}class Rf extends mu{getTypeName(){return"ResourceURL"}}function fl(e){return e instanceof mu?e.changingThisBreaksApplicationSecurity:e}function yu(e,n){const r=function gd(e){return e instanceof mu&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Xr})`)}return r===n}function Zm(e){return new gg(e)}function wh(e){return new Nf(e)}function yv(e){return new Eh(e)}function xf(e){return new Ym(e)}function Jm(e){return new Rf(e)}class Ql{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(pu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class ey{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=pu(n),r}}const yg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dh(e){return(e=String(e)).match(yg)?e:"unsafe:"+e}function pl(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function Pc(...e){const n={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Pf=pl("area,br,col,hr,img,wbr"),Xl=pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vg=pl("rp,rt"),kf=Pc(Pf,Pc(Xl,pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pc(vg,pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pc(vg,Xl)),Lf=pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_v=Pc(Lf,pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ny=pl("script,style,template");class C_{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let r=n.firstChild,o=!0,d=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)d.push(r),r=_g(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let p=Ch(r);if(p){r=p;break}r=d.pop()}return this.buf.join("")}startElement(n){const r=Ev(n).toLowerCase();if(!kf.hasOwnProperty(r))return this.sanitizedSomething=!0,!ny.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let d=0;d<o.length;d++){const p=o.item(d),y=p.name,D=y.toLowerCase();if(!_v.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let I=p.value;Lf[D]&&(I=Dh(I)),this.buf.push(" ",y,'="',ry(I),'"')}return this.buf.push(">"),!0}endElement(n){const r=Ev(n).toLowerCase();kf.hasOwnProperty(r)&&!Pf.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(ry(n))}}function Ch(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw gl(n);return n}function _g(e){const n=e.firstChild;if(n&&function Uf(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw gl(n);return n}function Ev(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function gl(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const ql=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,md=/([^\#-~ |!])/g;function ry(e){return e.replace(/&/g,"&amp;").replace(ql,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(md,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yl;function Bf(e,n){let r=null;try{Yl=Yl||function mg(e){const n=new ey(e);return function D_(){try{return!!(new window.DOMParser).parseFromString(pu(""),"text/html")}catch{return!1}}()?new Ql(n):n}(e);let o=n?String(n):"";r=Yl.getInertBodyElement(o);let d=5,p=o;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,o=p,p=r.innerHTML,r=Yl.getInertBodyElement(o)}while(o!==p);return pu((new C_).sanitizeChildren(Zl(r)||r))}finally{if(r){const o=Zl(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function Zl(e){return"content"in e&&function sy(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var yd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(yd||{});function ml(e){const n=Th();return n?qm(n.sanitize(yd.HTML,e)||""):yu(e,"HTML")?qm(fl(e)):Bf(bs(),st(e))}function Ih(e){const n=Th();return n?n.sanitize(yd.URL,e)||"":yu(e,"URL")?fl(e):Dh(st(e))}function vu(e){const n=Th();if(n)return pg(n.sanitize(yd.RESOURCE_URL,e)||"");if(yu(e,"ResourceURL"))return pg(fl(e));throw new At(904,!1)}function wg(e){return function gv(e){return Of()?.createScriptURL(e)||e}(e[0])}function jf(e,n,r){return function iy(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?vu:Ih}(n,r)(e)}function Th(){const e=at();return e&&e[Bi].sanitizer}const $f=/^>|^->|<!--|-->|--!>|<!-$/g,Sh=/(<|>)/g;function _u(e){return e.ownerDocument.defaultView}function Ah(e){return e.ownerDocument}function ls(e){return e instanceof Function?e():e}function M_(e,n,r){let o=e.length;for(;;){const d=e.indexOf(n,r);if(-1===d)return d;if(0===d||e.charCodeAt(d-1)<=32){const p=n.length;if(d+p===o||e.charCodeAt(d+p)<=32)return d}r=d+1}}const Av="ng-template";function Hs(e,n,r,o){let d=0;if(o){for(;d<n.length&&"string"==typeof n[d];d+=2)if("class"===n[d]&&-1!==M_(n[d+1].toLowerCase(),r,0))return!0}else if(Tg(e))return!1;if(d=n.indexOf(1,d),d>-1){let p;for(;++d<n.length&&"string"==typeof(p=n[d]);)if(p.toLowerCase()===r)return!0}return!1}function Tg(e){return 4===e.type&&e.value!==Av}function A_(e,n,r){return n===(4!==e.type||r?e.value:Av)}function Kr(e,n,r){let o=4;const d=e.attrs,p=null!==d?function Oh(e){for(let n=0;n<e.length;n++)if(zc(e[n]))return n;return e.length}(d):0;let y=!1;for(let D=0;D<n.length;D++){const I=n[D];if("number"!=typeof I){if(!y)if(4&o){if(o=2|1&o,""!==I&&!A_(e,I,r)||""===I&&1===n.length){if(ko(o))return!1;y=!0}}else if(8&o){if(null===d||!Hs(e,d,I,r)){if(ko(o))return!1;y=!0}}else{const F=n[++D],$=Eu(I,d,Tg(e),r);if(-1===$){if(ko(o))return!1;y=!0;continue}if(""!==F){let Z;if(Z=$>p?"":d[$+1].toLowerCase(),2&o&&F!==Z){if(ko(o))return!1;y=!0}}}}else{if(!y&&!ko(o)&&!ko(I))return!1;if(y&&ko(I))continue;y=!1,o=I|1&o}}return ko(o)||y}function ko(e){return!(1&e)}function Eu(e,n,r,o){if(null===n)return-1;let d=0;if(o||!r){let p=!1;for(;d<n.length;){const y=n[d];if(y===e)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let D=n[++d];for(;"string"==typeof D;)D=n[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function yo(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function Sg(e,n,r=!1){for(let o=0;o<n.length;o++)if(Kr(e,n[o],r))return!0;return!1}function E0(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let d=0;d<e.length;d++)if(e[d]!==o[d])continue e;return!0}}return!1}function _d(e,n){return e?":not("+n.trim()+")":n}function Ov(e){let n=e[0],r=1,o=2,d="",p=!1;for(;r<e.length;){let y=e[r];if("string"==typeof y)if(2&o){const D=e[++r];d+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&o?d+="."+y:4&o&&(d+=" "+y);else""!==d&&!ko(y)&&(n+=_d(p,d),d=""),o=y,p=p||!ko(o);r++}return""!==d&&(n+=_d(p,d)),n}const Pn={};function Jl(e,n){return e.createComment(function Cg(e){return e.replace($f,n=>n.replace(Sh,"\u200b$1\u200b"))}(n))}function Ca(e,n,r){return e.createElement(n,r)}function ec(e,n,r,o,d){e.insertBefore(n,r,o,d)}function yl(e,n,r){e.appendChild(n,r)}function wu(e,n,r,o,d){null!==o?ec(e,n,r,o,d):yl(e,n,r)}function bg(e,n,r){const{mergedAttrs:o,classes:d,styles:p}=r;null!==o&&function rm(e,n,r){let o=0;for(;o<r.length;){const d=r[o];if("number"==typeof d){if(0!==d)break;o++;const p=r[o++],y=r[o++],D=r[o++];e.setAttribute(n,y,D,p)}else{const p=d,y=r[++o];sm(p)?e.setProperty(n,p,y):e.setAttribute(n,p,y),o++}}}(e,n,o),null!==d&&function P_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}(e,n,d),null!==p&&function x_(e,n,r){e.setAttribute(n,"style",r)}(e,n,p)}function Nv(e,n,r,o,d,p,y,D,I,F,$){const Z=Tt+o,pe=Z+d,de=function Jo(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Pn);return r}(Z,pe),xe="function"==typeof F?F():F;return de[St]={type:e,blueprint:de,template:r,queries:null,viewQuery:D,declTNode:n,data:de.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:xe,incompleteFirstPass:!1,ssrId:$}}function Ed(e,n,r,o,d,p,y,D,I,F,$){const Z=n.blueprint.slice();return Z[yr]=d,Z[sn]=1228|o,(null!==F||e&&2048&e[sn])&&(Z[sn]|=2048),sp(Z),Z[Vs]=Z[z]=e,Z[cr]=r,Z[Bi]=y||e&&e[Bi],Z[mn]=D||e&&e[mn],Z[Zn]=I||e&&e[Zn]||null,Z[hs]=p,Z[Ae]=function Dm(){return Ul++}(),Z[Ui]=$,Z[be]=F,Z[x]=2==n.type?e[x]:Z,Z}function Mg(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function xh(e,n,r,o){if(0===r)return-1;const d=n.length;for(let p=0;p<r;p++)n.push(o),e.blueprint.push(o),e.data.push(null);return d}function xv(e,n){return e[It]?e[M][Ni]=n:e[It]=n,e[M]=n,n}function Pv(e=1){py(yn(),at(),xi()+e,!1)}function py(e,n,r,o){if(!o)if(3&~n[sn]){const p=e.preOrderHooks;null!==p&&gp(n,p,0,r)}else{const p=e.preOrderCheckHooks;null!==p&&Xh(n,p,r)}pc(r)}var Ph=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ph||{});function zf(e,n,r,o){const d=X(null);try{const[p,y,D]=e.inputs[r];let I=null;!!(y&Ph.SignalBased)&&(I=n[p][Q]),null!==I&&void 0!==I.transformFn?o=I.transformFn(o):null!==D&&(o=D.call(n,o)),null!==e.setInput?e.setInput(n,I,o,r,p):Qg(n,I,p,o)}finally{X(d)}}function Du(e,n,r,o,d){const p=xi(),y=2&o;try{pc(-1),y&&n.length>Tt&&py(e,n,Tt,!1),O(y?2:0,d),r(o,d)}finally{pc(p),O(y?3:1,d)}}function Ag(e,n,r){(function my(e,n,r){const o=r.directiveStart,d=r.directiveEnd;Is(r)&&function Rv(e,n,r){const o=Nt(n,e),d=function Rh(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Nv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(r),p=e[Bi].rendererFactory,y=xv(e,Ed(e,d,null,Mg(r),o,n,null,p.createRenderer(o,r),null,null,null));e[n.index]=y}(n,r,e.data[o+r.componentOffset]),e.firstCreatePass||nf(r,n);const p=r.initialInputs;for(let y=o;y<d;y++){const D=e.data[y],I=Hd(n,e,y,r);pi(I,n),null!==p&&bE(0,y-o,I,D,0,p),$t(D)&&(Bs(r.index,n)[cr]=Hd(n,e,y,r))}})(e,n,r),!(64&~r.flags)&&function wd(e,n,r){const o=r.directiveStart,d=r.directiveEnd,p=r.index,y=function ku(){return xn.lFrame.currentDirectiveIndex}();try{pc(p);for(let D=o;D<d;D++){const I=e.data[D],F=n[D];Lu(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&L_(I,F)}}finally{pc(-1),Lu(y)}}(e,n,r)}function Og(e,n,r=Nt){const o=n.localNames;if(null!==o){let d=n.index+1;for(let p=0;p<o.length;p+=2){const y=o[p+1],D=-1===y?r(n,e):e[y];e[d++]=D}}}let Vv,F_=()=>null;function vo(e,n,r,o,d,p,y,D){if(D||!Qf(n,e,r,o,d)){if(3&n.type){const I=Nt(n,r);o=function kv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),d=null!=y?y(d,n.value||"",o):d,p.setProperty(I,o,d)}}else Is(n)&&function k_(e,n){const r=Bs(n,e);16&r[sn]||(r[sn]|=64)}(r,n.index)}function L_(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Dd(e,n){const r=e.directiveRegistry;let o=null;if(r)for(let d=0;d<r.length;d++){const p=r[d];Sg(n,p.selectors,!1)&&(o??=[],$t(p)?o.unshift(p):o.push(p))}return o}function Fc(e,n,r,o,d,p){const y=Nt(e,n);!function Cu(e,n,r,o,d,p,y){if(null==p)e.removeAttribute(n,d,r);else{const D=null==y?st(p):y(p,o||"",d);e.setAttribute(n,d,D,r)}}(n[mn],y,p,e.value,r,o,d)}function bE(e,n,r,o,d,p){const y=p[n];if(null!==y)for(let D=0;D<y.length;D+=2)zf(o,r,y[D],y[D+1])}function xg(e,n,r){return(null===e||$t(e))&&(r=function nt(e){for(;Array.isArray(e);){if("object"==typeof e[Ds])return e;e=e[yr]}return null}(r[n.index])),r[mn]}function Pg(e,n){const r=e[Zn],o=r?r.get(is,null):null;o&&o.handleError(n)}function Qf(e,n,r,o,d){const p=e.inputs?.[o],y=e.hostDirectiveInputs?.[o];let D=!1;if(y)for(let I=0;I<y.length;I+=2){const F=y[I];zf(n.data[F],r[F],y[I+1],d),D=!0}if(p)for(const I of p)zf(n.data[I],r[I],o,d),D=!0;return D}function V_(e,n){const r=Bs(n,e),o=r[St];!function Fg(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const d=r[yr];null!==d&&null===r[Ui]&&(r[Ui]=og(d,r[Zn])),O(18),Lv(o,r,r[cr]),O(19,r[cr])}function Lv(e,n,r){eo(n);try{const o=e.viewQuery;null!==o&&Xm(1,o,r);const d=e.template;null!==d&&Du(e,n,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[We]?.finishViewCreation(e),e.staticContentQueries&&Af(e,n),e.staticViewQueries&&Xm(2,e.viewQuery,r);const p=e.components;null!==p&&function D0(e,n){for(let r=0;r<n.length;r++)V_(e,n[r])}(n,p)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[sn]&=-5,hp()}}function Iu(e,n,r,o){const d=X(null);try{const p=n.tView,I=Ed(e,p,r,4096&e[sn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);I[k]=e[n.index];const $=e[We];return null!==$&&(I[We]=$.createEmbeddedView(p)),Lv(p,I,r),I}finally{X(d)}}function Fh(e,n){return!n||null===n.firstChild||ma(e)}function Cd(e,n){return Vv(e,n)}var Xf=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Xf||{});function Tu(e){return!(32&~e.flags)}function kh(e,n,r,o,d){if(null!=o){let p,y=!1;Kt(o)?p=o:Dr(o)&&(y=!0,o=o[yr]);const D=ue(o);0===e&&null!==r?null==d?yl(n,r,D):ec(n,r,D,d||null,!0):1===e&&null!==r?ec(n,r,D,d||null,!0):2===e?function tc(e,n,r){e.removeChild(null,n,r)}(n,D,y):3===e&&n.destroyNode(D),null!=p&&function P(e,n,r,o,d){const p=r[Cs];p!==ue(r)&&kh(n,e,o,p,d);for(let D=xr;D<r.length;D++){const I=r[D];m(I[St],I,e,n,o,p)}}(n,e,p,r,d)}}function qf(e,n){n[Bi].changeDetectionScheduler?.notify(9),m(e,n,n[mn],2,null,null)}function jv(e,n){const r=e[_i],o=r.indexOf(n);r.splice(o,1)}function kg(e,n){if($r(n))return;const r=n[mn];r.destroyNode&&m(e,n,r,3,null,null),function vy(e){let n=e[It];if(!n)return Lg(e[St],e);for(;n;){let r=null;if(Dr(n))r=n[It];else{const o=n[xr];o&&(r=o)}if(!r){for(;n&&!n[Ni]&&n!==e;)Dr(n)&&Lg(n[St],n),n=n[Vs];null===n&&(n=e),Dr(n)&&Lg(n[St],n),r=n&&n[Ni]}n=r}}(n)}function Lg(e,n){if($r(n))return;const r=X(null);try{n[sn]&=-129,n[sn]|=256,n[In]&&tt(n[In]),function ME(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const d=n[r[o]];if(!(d instanceof Vu)){const p=r[o+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const D=d[p[y]],I=p[y+1];O(4,D,I);try{I.call(D)}finally{O(5,D,I)}}else{O(4,d,p);try{p.call(d)}finally{O(5,d,p)}}}}}(e,n),function U_(e,n){const r=e.cleanup,o=n[rs];if(null!==r)for(let y=0;y<r.length-1;y+=2)if("string"==typeof r[y]){const D=r[y+3];D>=0?o[D]():o[-D].unsubscribe(),y+=2}else r[y].call(o[r[y+1]]);null!==o&&(n[rs]=null);const d=n[ot];if(null!==d){n[ot]=null;for(let y=0;y<d.length;y++)(0,d[y])()}const p=n[ur];if(null!==p){n[ur]=null;for(const y of p)y.destroy()}}(e,n),1===n[St].type&&n[mn].destroy();const o=n[k];if(null!==o&&Kt(n[Vs])){o!==n[Vs]&&jv(o,n);const d=n[We];null!==d&&d.detachView(e)}Gu(n)}finally{X(r)}}function nc(e,n,r){return function Id(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[yr];if(Is(o)){const{encapsulation:d}=e.data[o.directiveStart+o.componentOffset];if(d===Da.None||d===Da.Emulated)return null}return Nt(o,r)}(e,n.parent,r)}function Yf(e,n,r){return _y(e,n,r)}let $v,_y=function Td(e,n,r){return 40&e.type?Nt(e,r):null};function vl(e,n,r,o){const d=nc(e,o,n),p=n[mn],D=Yf(o.parent||n[hs],o,n);if(null!=d)if(Array.isArray(r))for(let I=0;I<r.length;I++)wu(p,d,r[I],D,!1);else wu(p,d,r,D,!1);void 0!==$v&&$v(p,o,n,r,d)}function u(e,n){if(null!==n){const r=n.type;if(3&r)return Nt(n,e);if(4&r)return a(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return u(e,o);{const d=e[n.index];return Kt(d)?a(-1,d):ue(d)}}if(128&r)return u(e,n.next);if(32&r)return Cd(n,e)()||ue(e[n.index]);{const o=c(e,n);return null!==o?Array.isArray(o)?o[0]:u(Al(e[x]),o):u(e,n.next)}}return null}function c(e,n){return null!==n?e[x][hs].projection[n.projection]:null}function a(e,n){const r=xr+e+1;if(r<n.length){const o=n[r],d=o[St].firstChild;if(null!==d)return u(o,d)}return n[Cs]}function h(e,n,r,o,d,p,y){for(;null!=r;){if(128===r.type){r=r.next;continue}const D=o[r.index],I=r.type;if(y&&0===n&&(D&&pi(ue(D),o),r.flags|=2),!Tu(r))if(8&I)h(e,n,r.child,o,d,p,!1),kh(n,e,d,D,p);else if(32&I){const F=Cd(r,o);let $;for(;$=F();)kh(n,e,d,$,p);kh(n,e,d,D,p)}else 16&I?b(e,n,o,r,d,p):kh(n,e,d,D,p);r=y?r.projectionNext:r.next}}function m(e,n,r,o,d,p){h(r,o,e.firstChild,n,d,p,!1)}function b(e,n,r,o,d,p){const y=r[x],I=y[hs].projection[o.projection];if(Array.isArray(I))for(let F=0;F<I.length;F++)kh(n,e,d,I[F],p);else{let F=I;const $=y[Vs];ma(o)&&(F.flags|=128),h(e,n,F,$,d,p,!0)}}function G(e,n,r,o,d=!1){for(;null!==r;){if(128===r.type){r=d?r.projectionNext:r.next;continue}const p=n[r.index];null!==p&&o.push(ue(p)),Kt(p)&&ve(p,o);const y=r.type;if(8&y)G(e,n,r.child,o);else if(32&y){const D=Cd(r,n);let I;for(;I=D();)o.push(I)}else if(16&y){const D=c(n,r);if(Array.isArray(D))o.push(...D);else{const I=Al(n[x]);G(I[St],I,D,o,!0)}}r=d?r.projectionNext:r.next}return o}function ve(e,n){for(let r=xr;r<e.length;r++){const o=e[r],d=o[St].firstChild;null!==d&&G(o[St],o,d,n)}e[Cs]!==e[yr]&&n.push(e[Cs])}function ge(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let Pe=[];const tn={...te,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Pd(e.lView)},consumerOnSignalRead(){this.lView[In]=this}},Jn={...te,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Al(e.lView);for(;n&&!cs(n[St]);)n=Al(n);n&&$c(n)},consumerOnSignalRead(){this.lView[In]=this}};function cs(e){return 2!==e.type}function Wn(e){if(null===e[ur])return;let n=!0;for(;n;){let r=!1;for(const o of e[ur])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=r&&!!(8192&e[sn])}}function Ar(e,n=!0,r=0){const d=e[Bi].rendererFactory;d.begin?.();try{!function ti(e,n){const r=xl();try{Ld(!0),Vg(e,n);let o=0;for(;Wh(e);){if(100===o)throw new At(103,!1);o++,Vg(e,1)}}finally{Ld(r)}}(e,r)}catch(y){throw n&&Pg(e,y),y}finally{d.end?.()}}function Wa(e,n,r,o){if($r(n))return;const d=n[sn];eo(n);let D=!0,I=null,F=null;cs(e)?(F=function ct(e){return e[In]??function Ye(e){const n=Pe.pop()??Object.create(tn);return n.lView=e,n}(e)}(n),I=mt(F)):null===W()?(D=!1,F=function Vn(e){const n=e[In]??Object.create(Jn);return n.lView=e,n}(n),I=mt(F)):n[In]&&(tt(n[In]),n[In]=null);try{sp(n),function Vd(e){return xn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Du(e,n,r,2,o);const $=!(3&~d);if($){const de=e.preOrderCheckHooks;null!==de&&Xh(n,de,null)}else{const de=e.preOrderHooks;null!==de&&gp(n,de,0,null),jd(n,0)}if(function Hv(e){for(let n=Dc(e);null!==n;n=jp(n)){if(!(2&n[sn]))continue;const r=n[_i];for(let o=0;o<r.length;o++)$c(r[o])}}(n),Wn(n),Lh(n,0),null!==e.contentQueries&&Af(e,n),$){const de=e.contentCheckHooks;null!==de&&Xh(n,de)}else{const de=e.contentHooks;null!==de&&gp(n,de,1),jd(n,1)}!function on(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const d=r[o];if(d<0)pc(~d);else{const p=d,y=r[++o],D=r[++o];Yg(y,p);const I=n[p];O(24,I),D(2,I),O(25,I)}}}finally{pc(-1)}}(e,n);const Z=e.components;null!==Z&&Wv(n,Z,0);const pe=e.viewQuery;if(null!==pe&&Xm(2,pe,o),$){const de=e.viewCheckHooks;null!==de&&Xh(n,de)}else{const de=e.viewHooks;null!==de&&gp(n,de,2),jd(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[un]){for(const de of n[un])de();n[un]=null}ge(n),n[sn]&=-73}catch($){throw Pd(n),$}finally{null!==F&&(Et(F,I),D&&function yt(e){e.lView[In]!==e&&(e.lView=null,Pe.push(e))}(F)),hp()}}function Lh(e,n){for(let r=Dc(e);null!==r;r=jp(r))for(let o=xr;o<r.length;o++)_l(r[o],n)}function Sd(e,n,r){O(18);const o=Bs(n,e);_l(o,r),O(19,o[cr])}function _l(e,n){Na(e)&&Vg(e,n)}function Vg(e,n){const o=e[St],d=e[sn],p=e[In];let y=!!(0===n&&16&d);if(y||=!!(64&d&&0===n),y||=!!(1024&d),y||=!(!p?.dirty||!rt(p)),y||=!1,p&&(p.dirty=!1),e[sn]&=-9217,y)Wa(o,e,o.template,e[cr]);else if(8192&d){Wn(e),Lh(e,1);const D=o.components;null!==D&&Wv(e,D,1),ge(e)}}function Wv(e,n,r){for(let o=0;o<n.length;o++)Sd(e,n[o],r)}function gn(e,n){const r=xl()?64:1088;for(e[Bi].changeDetectionScheduler?.notify(n);e;){e[sn]|=r;const o=Al(e);if(Ko(e)&&!o)return e;e=o}return null}function Fn(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function Br(e,n){const r=xr+n;if(r<e.length)return e[r]}function mi(e,n,r,o=!0){const d=n[St];if(function kc(e,n,r,o){const d=xr+o,p=r.length;o>0&&(r[d-1][Ni]=n),o<p-xr?(n[Ni]=r[d],Ka(r,xr+o,n)):(r.push(n),n[Ni]=null),n[Vs]=r;const y=n[k];null!==y&&r!==y&&i(y,n);const D=n[We];null!==D&&D.insertView(e),Kh(n),n[sn]|=128}(d,n,e,r),o){const y=a(r,e),D=n[mn],I=D.parentNode(e[Cs]);null!==I&&function Bv(e,n,r,o,d,p){o[yr]=d,o[hs]=n,m(e,o,r,1,d,p)}(d,e[hs],D,n,I,y)}const p=n[Ui];null!==p&&null!==p.firstChild&&(p.firstChild=null)}function El(e,n){const r=Mo(e,n);return void 0!==r&&kg(r[St],r),r}function Mo(e,n){if(e.length<=xr)return;const r=xr+n,o=e[r];if(o){const d=o[k];null!==d&&d!==e&&jv(d,o),n>0&&(e[r-1][Ni]=o[Ni]);const p=No(e,xr+n);!function Uv(e,n){qf(e,n),n[yr]=null,n[hs]=null}(o[St],o);const y=p[We];null!==y&&y.detachView(p[St]),o[Vs]=null,o[Ni]=null,o[sn]&=-129}return o}function i(e,n){const r=e[_i],o=n[Vs];(Dr(o)||n[x]!==o[Vs][x])&&(e[sn]|=2),null===r?e[_i]=[n]:r.push(n)}class t{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,r=n[St];return G(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[cr]}get dirty(){return!!(9280&this._lView[sn])||!!this._lView[In]?.dirty}set context(n){this._lView[cr]=n}get destroyed(){return $r(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Vs];if(Kt(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Mo(n,o),No(r,o))}this._attachedToViewContainer=!1}kg(this._lView[St],this._lView)}onDestroy(n){ip(this._lView,n)}markForCheck(){gn(this._cdRefInjectingView||this._lView,4)}markForRefresh(){$c(this._cdRefInjectingView||this._lView)}detach(){this._lView[sn]&=-129}reattach(){Kh(this._lView),this._lView[sn]|=128}detectChanges(){this._lView[sn]|=1024,Ar(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new At(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Ko(this._lView),r=this._lView[k];null!==r&&!n&&jv(r,this._lView),qf(this._lView[St],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new At(902,!1);this._appRef=n;const r=Ko(this._lView),o=this._lView[k];null!==o&&!r&&i(o,this._lView),Kh(this._lView)}}let s=(()=>class e{static __NG_ELEMENT_ID__=g})();const l=s,f=class extends l{_declarationLView;_declarationTContainer;elementRef;constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const d=Iu(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new t(d)}};function g(){return v(Qn(),at())}function v(e,n){return 4&e.type?new f(n,e,zu(e,n)):null}function Kv(e,n,r,o,d){let p=e.data[n];if(null===p)p=function C0(e,n,r,o,d){const p=xu(),y=dc(),I=e.data[n]=function Bb(e,n,r,o,d,p){let y=n?n.injectorIndex:-1,D=0;return Hc()&&(D|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,r,n,o,d);return function Ub(e,n,r,o){null===e.firstChild&&(e.firstChild=n),null!==r&&(o?null==r.child&&null!==n.parent&&(r.child=n):null===r.next&&(r.next=n,n.prev=r))}(e,I,p,y),I}(e,n,r,o,d),function Fu(){return xn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=r,p.value=o,p.attrs=d;const y=function uc(){const e=xn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return nl(p,!0),p}let kD=()=>null;function Gv(e,n){return kD(e,n)}class SM{}class LD{}class bM{resolveComponentFactory(n){throw Error(`No component factory found for ${Yn(n)}.`)}}class z_{static NULL=new bM}class N0{}let MM=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function AM(){const e=at(),r=Bs(Qn().index,e);return(Dr(r)?r:e)[mn]}()})(),OM=(()=>{class e{static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>null})}return e})();function Ug(e){return!!gs(e)}function P0(e,n,r){let o=r?e.styles:null,d=r?e.classes:null,p=0;if(null!==n)for(let y=0;y<n.length;y++){const D=n[y];"number"==typeof D?p=D:1==p?d=Ps(d,D):2==p&&(o=Ps(o,D+": "+n[++y]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=d:e.classesWithoutHost=d}function Qv(e,n=En.Default){const r=at();return null===r?qs(e,n):Hn(Qn(),r,je(e),n)}function BD(){throw new Error("invalid")}function F0(e,n,r,o,d){const p=null===o?null:{"":-1},y=d(e,r);if(null!==y){let D,I=null,F=null;const $=function PM(e){let n=null,r=!1;for(let y=0;y<e.length;y++){const D=e[y];if(0===y&&$t(D)&&(n=D),null!==D.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,d=null,p=null;for(const y of e)null!==y.findHostDirectiveDefs&&(o??=[],d??=new Map,p??=new Map,FM(y,o,p,d)),y===n&&(o??=[],o.push(y));return null!==o?(o.push(...null===n?e:e.slice(1)),[o,d,p]):null}(y);null===$?D=y:[D,I,F]=$,function LM(e,n,r,o,d,p,y){const D=o.length;let I=!1;for(let pe=0;pe<D;pe++){const de=o[pe];!I&&$t(de)&&(I=!0,kM(e,r,pe)),wp(nf(r,n),e,de.type)}!function HM(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,D);for(let pe=0;pe<D;pe++){const de=o[pe];de.providersResolver&&de.providersResolver(de)}let F=!1,$=!1,Z=xh(e,n,D,null);D>0&&(r.directiveToIndex=new Map);for(let pe=0;pe<D;pe++){const de=o[pe];if(r.mergedAttrs=Gc(r.mergedAttrs,de.hostAttrs),UM(e,r,n,Z,de),$M(Z,de,d),null!==y&&y.has(de)){const[it,Rt]=y.get(de);r.directiveToIndex.set(de.type,[Z,it+r.directiveStart,Rt+r.directiveStart])}else(null===p||!p.has(de))&&r.directiveToIndex.set(de.type,Z);null!==de.contentQueries&&(r.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(r.flags|=64);const xe=de.type.prototype;!F&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),F=!0),!$&&(xe.ngOnChanges||xe.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),$=!0),Z++}!function VM(e,n,r){for(let o=n.directiveStart;o<n.directiveEnd;o++){const d=e.data[o];if(null!==r&&r.has(d)){const p=r.get(d);$D(0,n,p,o),$D(1,n,p,o),WD(n,o,!0)}else jD(0,n,d,o),jD(1,n,d,o),WD(n,o,!1)}}(e,r,p)}(e,n,r,D,p,I,F)}null!==p&&null!==o&&function xM(e,n,r){const o=e.localNames=[];for(let d=0;d<n.length;d+=2){const p=r[n[d+1]];if(null==p)throw new At(-301,!1);o.push(n[d],p)}}(r,o,p)}function FM(e,n,r,o){const d=n.length;e.findHostDirectiveDefs(e,n,o),r.set(e,[d,n.length-1])}function kM(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function jD(e,n,r,o){const d=0===e?r.inputs:r.outputs;for(const p in d)if(d.hasOwnProperty(p)){let y;y=0===e?n.inputs??={}:n.outputs??={},y[p]??=[],y[p].push(o),HD(n,p)}}function $D(e,n,r,o){const d=0===e?r.inputs:r.outputs;for(const p in d)if(d.hasOwnProperty(p)){const y=d[p];let D;D=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},D[y]??=[],D[y].push(o,p),HD(n,y)}}function HD(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function WD(e,n,r){const{attrs:o,inputs:d,hostDirectiveInputs:p}=e;if(null===o||!r&&null===d||r&&null===p||Tg(e))return e.initialInputs??=[],void e.initialInputs.push(null);let y=null,D=0;for(;D<o.length;){const I=o[D];if(0!==I)if(5!==I){if("number"==typeof I)break;if(!r&&d.hasOwnProperty(I)){const F=d[I];for(const $ of F)if($===n){y??=[],y.push(I,o[D+1]);break}}else if(r&&p.hasOwnProperty(I)){const F=p[I];for(let $=0;$<F.length;$+=2)if(F[$]===n){y??=[],y.push(F[$+1],o[D+1]);break}}D+=2}else D+=2;else D+=4}e.initialInputs??=[],e.initialInputs.push(y)}function UM(e,n,r,o,d){e.data[o]=d;const p=d.factory||(d.factory=si(d.type)),y=new Vu(p,$t(d),Qv);e.blueprint[o]=y,r[o]=y,function BM(e,n,r,o,d){const p=d.hostBindings;if(p){let y=e.hostBindingOpCodes;null===y&&(y=e.hostBindingOpCodes=[]);const D=~n.index;(function jM(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(y)!=D&&y.push(D),y.push(r,o,p)}}(e,n,o,xh(e,r,d.hostVars,Pn),d)}function $M(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;$t(n)&&(r[""]=e)}}function KD(e,n,r,o,d,p,y,D){const I=n.consts,$=Kv(n,e,2,o,Ri(I,y));return p&&F0(n,r,$,Ri(I,D),d),$.mergedAttrs=Gc($.mergedAttrs,$.attrs),null!==$.attrs&&P0($,$.attrs,!1),null!==$.mergedAttrs&&P0($,$.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,$),$}function zD(e,n){pp(e,n),Ro(n)&&e.queries.elementEnd(n)}class GD extends z_{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=pn(n);return new X_(r,this.ngModule)}}class X_ extends LD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return function WM(e){return Object.keys(e).map(n=>{const[r,o,d]=e[n],p={propName:r,templateName:n,isSignal:!!(o&Ph.SignalBased)};return d&&(p.transform=d),p})}(this.componentDef.inputs)}get outputs(){return function KM(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function O_(e){return e.map(Ov).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!r}create(n,r,o,d){O(22);const p=X(null);try{const y=this.componentDef,D=o?["ng-version","19.2.0"]:function TE(e){const n=[],r=[];let o=1,d=2;for(;o<e.length;){let p=e[o];if("string"==typeof p)2===d?""!==p&&n.push(p,e[++o]):8===d&&r.push(p);else{if(!ko(d))break;d=p}o++}return r.length&&n.push(1,...r),n}(this.componentDef.selectors[0]),I=Nv(0,null,null,1,0,null,null,null,null,[D],null),F=function zM(e,n,r){let o=n instanceof ds?n:n?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new ha(r,o):r}(y,d||this.ngModule,n),$=function GM(e){const n=e.get(N0,null);if(null===n)throw new At(407,!1);return{rendererFactory:n,sanitizer:e.get(OM,null),changeDetectionScheduler:e.get(Hr,null)}}(F),Z=$.rendererFactory.createRenderer(null,y),pe=o?function Fv(e,n,r,o){const p=o.get(li,!1)||r===Da.ShadowDom,y=e.selectRootElement(n,p);return function Gf(e){F_(e)}(y),y}(Z,o,y.encapsulation,F):function QM(e,n){const r=(e.selectors[0][0]||"div").toLowerCase();return Ca(n,r,"svg"===r?j:"math"===r?"math":null)}(y,Z),de=Ed(null,I,null,512|Mg(y),null,null,$,Z,F,null,og(pe,F,!0));de[Tt]=pe,eo(de);let xe=null;try{const it=KD(Tt,I,de,"#host",()=>[this.componentDef],!0,0);pe&&(bg(Z,pe,it),pi(pe,de)),Ag(I,de,it),Gl(I,it,de),zD(I,it),void 0!==r&&function qM(e,n,r){const o=e.projection=[];for(let d=0;d<n.length;d++){const p=r[d];o.push(null!=p&&p.length?Array.from(p):null)}}(it,this.ngContentSelectors,r),xe=Bs(it.index,de),de[cr]=xe[cr],Lv(I,de,null)}catch(it){throw null!==xe&&Gu(xe),Gu(de),it}finally{O(23),hp()}return new XM(this.componentType,de)}finally{X(p)}}}class XM extends SM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,r){super(),this._rootLView=r,this._tNode=bn(r[St],Tt),this.location=zu(this._tNode,r),this.instance=Bs(this._tNode.index,r)[cr],this.hostView=this.changeDetectorRef=new t(r,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;Qf(o,d[St],d,n,r),this.previousInputValues.set(n,r),gn(Bs(o.index,d),1)}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let FE=(()=>class e{static __NG_ELEMENT_ID__=YM})();function YM(){return qD(Qn(),at())}const ZM=FE,QD=class extends ZM{_lContainer;_hostTNode;_hostLView;constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return zu(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const n=to(this._hostTNode,this._hostLView);if(go(n)){const r=mc(n,this._hostLView),o=Uu(n);return new ys(r[St].data[o+8],r)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=XD(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(n,r,o){let d,p;"number"==typeof o?d=o:null!=o&&(d=o.index,p=o.injector);const y=Gv(this._lContainer,n.ssrId),D=n.createEmbeddedViewImpl(r||{},p,y);return this.insertImpl(D,d,Fh(this._hostTNode,y)),D}createComponent(n,r,o,d,p){const y=n&&!function Aa(e){return"function"==typeof e}(n);let D;if(y)D=r;else{const xe=r||{};D=xe.index,o=xe.injector,d=xe.projectableNodes,p=xe.environmentInjector||xe.ngModuleRef}const I=y?n:new X_(pn(n)),F=o||this.parentInjector;if(!p&&null==I.ngModule){const it=(y?F:this.parentInjector).get(ds,null);it&&(p=it)}const $=pn(I.componentType??{}),Z=Gv(this._lContainer,$?.id??null),de=I.create(F,d,Z?.firstChild??null,p);return this.insertImpl(de.hostView,D,Fh(this._hostTNode,Z)),de}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const d=n._lView;if(function zo(e){return Kt(e[Vs])}(d)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const I=d[Vs],F=new QD(I,I[hs],I[Vs]);F.detach(F.indexOf(n))}}const p=this._adjustIndex(r),y=this._lContainer;return mi(y,d,p,o),n.attachToViewContainerRef(),Ka(k0(y),p,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=XD(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Mo(this._lContainer,r);o&&(No(k0(this._lContainer),r),kg(o[St],o))}detach(n){const r=this._adjustIndex(n,-1),o=Mo(this._lContainer,r);return o&&null!=No(k0(this._lContainer),r)?new t(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function XD(e){return e[8]}function k0(e){return e[8]||(e[8]=[])}function qD(e,n){let r;const o=n[e.index];return Kt(o)?r=o:(r=Fn(o,n,null,e),n[e.index]=r,xv(n,r)),YD(r,n,e,o),new QD(r,e,n)}let YD=function JD(e,n,r,o){if(e[Cs])return;let d;d=8&r.type?ue(o):function JM(e,n){const r=e[mn],o=r.createComment(""),d=Nt(n,e),p=r.parentNode(d);return ec(r,p,o,r.nextSibling(d),!1),o}(n,r),e[Cs]=d},L0=()=>!1;function ZD(e,n,r){return L0(e,n,r)}class V0{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new V0(this.queryList)}setDirty(){this.queryList.setDirty()}}class U0{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,d=[];for(let p=0;p<o;p++){const y=r.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new U0(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==W0(n,r).matches&&this.queries[r].setDirty()}}class eC{flags;read;predicate;constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function aA(e){return e.split(",").map(n=>n.trim())}(n):n}}class B0{queries;constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const d=null!==r?r.length:0,p=this.getByIndex(o).embeddedTView(n,d);p&&(p.indexInDeclarationView=o,null!==r?r.push(p):r=[p])}return null!==r?new B0(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class j0{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,r=-1){this.metadata=n,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new j0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let d=0;d<o.length;d++){const p=o[d];this.matchTNodeWithReadOption(n,r,rA(r,p)),this.matchTNodeWithReadOption(n,r,rf(r,n,p,!1,!1))}else o===s?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,rf(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const d=this.metadata.read;if(null!==d)if(d===Qd||d===FE||d===s&&4&r.type)this.addMatch(r.index,-2);else{const p=rf(r,n,d,!1,!1);null!==p&&this.addMatch(r.index,p)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function rA(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function iA(e,n,r,o){return-1===r?function sA(e,n){return 11&e.type?zu(e,n):4&e.type?v(e,n):null}(n,e):-2===r?function oA(e,n,r){return r===Qd?zu(n,e):r===s?v(n,e):r===FE?qD(n,e):void 0}(e,n,o):Hd(e,e[St],r,n)}function tC(e,n,r,o){const d=n[We].queries[o];if(null===d.matches){const p=e.data,y=r.matches,D=[];for(let I=0;null!==y&&I<y.length;I+=2){const F=y[I];D.push(F<0?null:iA(n,p[F],y[I+1],r.metadata.read))}d.matches=D}return d.matches}function $0(e,n,r,o){const d=e.queries.getByIndex(r),p=d.matches;if(null!==p){const y=tC(e,n,d,r);for(let D=0;D<p.length;D+=2){const I=p[D];if(I>0)o.push(y[D/2]);else{const F=p[D+1],$=n[-I];for(let Z=xr;Z<$.length;Z++){const pe=$[Z];pe[k]===pe[Vs]&&$0(pe[St],pe,F,o)}if(null!==$[_i]){const Z=$[_i];for(let pe=0;pe<Z.length;pe++){const de=Z[pe];$0(de[St],de,F,o)}}}}}return o}function H0(e,n){return e[We].queries[n].queryList}function nC(e,n,r){const o=new Qy(!(4&~r));return function h_(e,n,r,o){const d=qg(n);d.push(r),e.firstCreatePass&&Fd(e).push(o,d.length-1)}(e,n,o,o.destroy),(n[We]??=new U0).queries.push(new V0(o))-1}function sC(e,n,r,o){const d=yn();if(d.firstCreatePass){const p=Qn();iC(d,new eC(n,r,o),p.index),function lA(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(d,e),!(2&~r)&&(d.staticContentQueries=!0)}return nC(d,at(),r)}function iC(e,n,r){null===e.queries&&(e.queries=new B0),e.queries.track(new j0(n,r))}function W0(e,n){return e.queries.getByIndex(n)}function oC(e,n){const r=e[St],o=W0(r,n);return o.crossesNgTemplate?$0(r,e,n,[]):tC(r,e,o,n)}function K0(e,n,r){let o;const d=ut(()=>{o._dirtyCounter();const p=function cA(e,n){const r=e._lView,o=e._queryIndex;if(void 0===r||void 0===o||4&r[sn])return n?void 0:mr;const d=H0(r,o),p=oC(r,o);return d.reset(p,zy),n?d.first:d._changesDetected||void 0===e._flatValue?e._flatValue=d.toArray():e._flatValue}(o,e);if(n&&void 0===p)throw new At(-951,!1);return p});return o=d[Q],o._dirtyCounter=qd(0),o._flatValue=void 0,d}function dC(e,n){return function aC(e){return K0(!0,!1)}()}const dA=(dC.required=function uA(e,n){return function lC(e){return K0(!0,!0)}()},dC);function hC(e,n){const r=Object.create(Nr),o=new vm;function d(){return ye(r),fC(r.value),r.value}return r.value=e,d[Q]=r,d.asReadonly=Jc.bind(d),d.set=p=>{r.equal(r.value,p)||(Dt(r,p),o.emit(p))},d.update=p=>{fC(r.value),d.set(p(r.value))},d.subscribe=o.subscribe.bind(o),d.destroyRef=o.destroyRef,d}function fC(e){if(e===ns)throw new At(952,!1)}function pC(e,n){return hC(e)}const fA=(pC.required=function hA(e){return hC(ns)},pC);class Dy{}class _C{}function DA(e,n){return new z0(e,n??null,[])}class z0 extends Dy{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new GD(this);constructor(n,r,o,d=!0){super(),this.ngModuleType=n,this._parent=r;const p=gs(n);this._bootstrapComponents=ls(p.bootstrap),this._r3Injector=dm(n,r,[{provide:Dy,useValue:this},{provide:z_,useValue:this.componentFactoryResolver},...o],Yn(n),new Set(["environment"])),d&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class G0 extends _C{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new z0(this.moduleType,n,[])}}class EC extends Dy{injector;componentFactoryResolver=new GD(this);instance=null;constructor(n){super();const r=new Wo([...n.providers,{provide:Dy,useValue:this},{provide:z_,useValue:this.componentFactoryResolver}],n.parent||ii(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Q0(e,n,r=null){return new EC({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let IA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=V(0,r.type),d=o.length>0?Q0([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,d)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Cn({token:e,providedIn:"environment",factory:()=>new e(qs(ds))})}return e})();function wC(e){return Yt(()=>{const n=IC(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Up.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?d=>d.get(IA).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Da.Emulated,styles:e.styles||mr,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&Xo("NgStandalone"),TC(r);const o=e.dependencies;return r.directiveDefs=LE(o,!1),r.pipeDefs=LE(o,!0),r.id=function OA(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const p of o.join("|"))n=Math.imul(31,n)+p.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function TA(e){return pn(e)||ms(e)}function SA(e){return null!==e}function X0(e){return Yt(()=>({type:e.type,bootstrap:e.bootstrap||mr,declarations:e.declarations||mr,imports:e.imports||mr,exports:e.exports||mr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function bA(e,n){if(null==e)return Ai;const r={};for(const o in e)if(e.hasOwnProperty(o)){const d=e[o];let p,y,D,I;Array.isArray(d)?(D=d[0],p=d[1],y=d[2]??p,I=d[3]||null):(p=d,y=d,D=Ph.None,I=null),r[p]=[o,D,I],n[p]=y}return r}function MA(e){if(null==e)return Ai;const n={};for(const r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function DC(e){return Yt(()=>{const n=IC(e);return TC(n),n})}function CC(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function IC(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Ai,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||mr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bA(e.inputs,n),outputs:MA(e.outputs),debugInfo:null}}function TC(e){e.features?.forEach(n=>n(e))}function LE(e,n){if(!e)return null;const r=n?Gs:TA;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(SA)}function q0(e){let n=function SC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let d;if($t(e))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new At(903,!1);d=n.\u0275dir}if(d){if(r){o.push(d);const y=e;y.inputs=Y0(e.inputs),y.declaredInputs=Y0(e.declaredInputs),y.outputs=Y0(e.outputs);const D=d.hostBindings;D&&FA(e,D);const I=d.viewQuery,F=d.contentQueries;if(I&&xA(e,I),F&&PA(e,F),NA(e,d),io(e.outputs,d.outputs),$t(d)&&d.data.animation){const $=e.data;$.animation=($.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const D=p[y];D&&D.ngInherit&&D(e),D===q0&&(r=!1)}}n=Object.getPrototypeOf(n)}!function RA(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const d=e[o];d.hostVars=n+=d.hostVars,d.hostAttrs=Gc(d.hostAttrs,r=Gc(r,d.hostAttrs))}}(o)}function NA(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r])}}function Y0(e){return e===Ai?{}:e===mr?[]:e}function xA(e,n){const r=e.viewQuery;e.viewQuery=r?(o,d)=>{n(o,d),r(o,d)}:n}function PA(e,n){const r=e.contentQueries;e.contentQueries=r?(o,d,p)=>{n(o,d,p),r(o,d,p)}:n}function FA(e,n){const r=e.hostBindings;e.hostBindings=r?(o,d)=>{n(o,d),r(o,d)}:n}function bC(e){const n=r=>{const o=Array.isArray(e);null===r.hostDirectives?(r.findHostDirectiveDefs=MC,r.hostDirectives=o?e.map(Z0):[e]):o?r.hostDirectives.unshift(...e.map(Z0)):r.hostDirectives.unshift(e)};return n.ngInherit=!0,n}function MC(e,n,r){if(null!==e.hostDirectives)for(const o of e.hostDirectives)if("function"==typeof o){const d=o();for(const p of d)AC(Z0(p),n,r)}else AC(o,n,r)}function AC(e,n,r){const o=ms(e.directive);(function UA(e,n){for(const r in n)n.hasOwnProperty(r)&&(e[n[r]]=e[r])})(o.declaredInputs,e.inputs),MC(o,n,r),r.set(o,e),n.push(o)}function Z0(e){return"function"==typeof e?{directive:je(e),inputs:Ai,outputs:Ai}:{directive:je(e.directive),inputs:OC(e.inputs),outputs:OC(e.outputs)}}function OC(e){if(void 0===e||0===e.length)return Ai;const n={};for(let r=0;r<e.length;r+=2)n[e[r]]=e[r+1];return n}function VE(e){return!!J0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function J0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Vh(e,n,r){return e[n]=r}function ro(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Cy(e,n,r,o){const d=ro(e,n,r);return ro(e,n+1,o)||d}function UE(e,n,r,o,d){const p=Cy(e,n,r,o);return ro(e,n+2,d)||p}function Su(e,n,r,o,d,p){const y=Cy(e,n,r,o);return Cy(e,n+2,d,p)||y}function Z_(e,n,r,o,d,p,y,D,I,F){const $=r+Tt,Z=n.firstCreatePass?function HA(e,n,r,o,d,p,y,D,I){const F=n.consts,$=Kv(n,e,4,y||null,D||null);Ss()&&F0(n,r,$,Ri(F,I),Dd),$.mergedAttrs=Gc($.mergedAttrs,$.attrs),pp(n,$);const Z=$.tView=Nv(2,$,o,d,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,F,null);return null!==n.queries&&(n.queries.template(n,$),Z.queries=n.queries.embeddedTView($)),$}($,n,e,o,d,p,y,D,I):n.data[$];nl(Z,!1);const pe=RC(n,e,Z,r);Bd()&&vl(n,e,pe,Z),pi(pe,e);const de=Fn(pe,e,pe,Z);return e[$]=de,xv(e,de),ZD(de,Z,e),Jr(Z)&&Ag(n,e,Z),null!=I&&Og(e,Z,F),Z}function ew(e,n,r,o,d,p,y,D){const I=at(),F=yn();return Z_(I,F,e,n,r,o,d,Ri(F.consts,p),y,D),ew}let RC=function xC(e,n,r,o){return Pa(!0),n[mn].createComment("")};function BE(e,n){const r=n.get(QA);return r.add(e),()=>r.remove(e)}let QA=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=Ht($s);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(r){(this.executingCallbacks?this.deferred:this.current).add(r),null===this.idleId&&this.scheduleIdleCallback()}remove(r){const{current:o,deferred:d}=this;o.delete(r),d.delete(r),0===o.size&&0===d.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const r=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const o of this.current)o();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const o of this.deferred)this.current.add(o);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(r))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})();let XA=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(r,o){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+r,o),this.scheduleTimer()}remove(r){const{current:o,deferred:d}=this;-1===this.removeFromQueue(o,r)&&this.removeFromQueue(d,r),0===o.length&&0===d.length&&this.clearTimeout()}addToQueue(r,o,d){let p=r.length;for(let y=0;y<r.length;y+=2)if(r[y]>o){p=y;break}So(r,p,o,d)}removeFromQueue(r,o){let d=-1;for(let p=0;p<r.length;p+=2)if(r[p+1]===o){d=p;break}return d>-1&&ia(r,d,2),d}scheduleTimer(){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const d=[...this.current],p=Date.now();for(let D=0;D<d.length;D+=2){const F=d[D+1];if(!(d[D]<=p))break;F()}let y=-1;for(let D=0;D<this.current.length&&this.current[D]<=p;D+=2)y=D+1;if(y>=0&&ia(this.current,0,y+1),this.executingCallbacks=!1,this.deferred.length>0){for(let D=0;D<this.deferred.length;D+=2)this.addToQueue(this.current,this.deferred[D],this.deferred[D+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const d=Date.now(),p=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-p>16){this.clearTimeout();const y=Math.max(p-d,16);this.invokeTimerAt=p,this.timeoutId=setTimeout(r,y)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})(),qA=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(r,o,d,p){if(!this.cachedInjectors.has(r)){const y=d.length>0?Q0(d,o,p):null;this.cachedInjectors.set(r,y)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Cn({token:e,providedIn:"environment",factory:()=>new e})}return e})();const YA=new Zt("");function tw(e,n,r){return e.get(qA).getOrCreateInjector(n,e,r,"")}function jg(e,n,r,o=!1){const d=r[Vs],p=d[St];if($r(d))return;const y=Wi(d,n),I=y[xm];if(!(null!==I&&e<I)&&LC(y[qo],e)&&LC(y[wa]??-1,e)){const F=$n(p,n),Z=o||null===uh(F)&&null===ch(F,as.Loading)&&!ch(F,as.Placeholder)?FC:nw;try{Z(e,y,r,n,d)}catch(pe){Pg(d,pe)}}}function FC(e,n,r,o,d){O(20);const p=function wf(e,n,r){const d=$n(n[St],r);switch(e){case as.Complete:return d.primaryTmplIndex;case as.Loading:return d.loadingTmplIndex;case as.Error:return d.errorTmplIndex;case as.Placeholder:return d.placeholderTmplIndex;default:return null}}(e,d,o);if(null!==p){n[qo]=e;const y=d[St],I=bn(y,p+Tt),F=0;let $;if(El(r,F),e===as.Complete){const xe=$n(y,o),it=xe.providers;it&&it.length>0&&($=function ZA(e,n,r){if(e instanceof ha){const d=e.injector,y=tw(e.parentInjector,n,r);return new ha(d,y)}const o=e.get(ds);if(o!==e){const d=tw(o,n,r);return new ha(e,d)}return tw(e,n,r)}(d[Zn],xe,it))}const{dehydratedView:Z,dehydratedViewIx:pe}=function JA(e,n){const r=e[Us]?.findIndex(d=>d.data[rh]===n[qo])??-1;return{dehydratedView:r>-1?e[Us][r]:null,dehydratedViewIx:r}}(r,n),de=Iu(d,I,null,{injector:$,dehydratedView:Z});if(mi(r,de,F,Fh(I,Z)),gn(de,2),pe>-1&&r[Us]?.splice(pe,1),(e===as.Complete||e===as.Error)&&Array.isArray(n[$l])){for(const xe of n[$l])xe();n[$l]=null}}O(21)}function eO(e,n,r,o,d){const p=Date.now(),D=$n(d[St],o);if(null===n[Ba]||n[Ba]<=p){n[Ba]=null;const I=uh(D),F=null!==n[ul];if(e!==as.Loading||null===I||F){e>as.Loading&&F&&(n[ul](),n[ul]=null,n[wa]=null),FC(e,n,r,o,d);const $=ch(D,e);null!==$&&(n[Ba]=p+$,kC($,n,o,r,d))}else{n[wa]=e;const $=kC(I,n,o,r,d);n[ul]=$}}else n[wa]=e}function kC(e,n,r,o,d){return function PC(e,n,r){const o=r.get(XA);return o.add(e,n),()=>o.remove(n)}(e,()=>{const y=n[wa];n[Ba]=null,n[wa]=null,null!==y&&jg(y,r,o)},d[Zn])}function LC(e,n){return e<n}function qv(e,n){jg(as.Placeholder,n,e[n.index])}function VC(e,n,r){e.loadingPromise.then(()=>{e.loadingState===gi.COMPLETE?jg(as.Complete,n,r):e.loadingState===gi.FAILED&&jg(as.Error,n,r)})}let nw=null;function UC(e,n,r,o){const d=e.consts;null!=r&&(n.placeholderBlockConfig=Ri(d,r)),null!=o&&(n.loadingBlockConfig=Ri(d,o)),null===nw&&(nw=eO)}let jC=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const KC="ng";function BO(e,n){!function GC(e,n){if(typeof COMPILED>"u"||!COMPILED){const r=Kn;r[KC]??={},r[KC][e]=n}}(e,n)}const QC=new Zt(""),XC=new Zt("");let ow,jO=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(r,o,d){this._ngZone=r,this.registry=o,ow||(function $O(e){ow=e}(d),d.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$s.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,d){let p=-1;o&&o>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),r()},o)),this._callbacks.push({doneCb:r,timeoutId:p,updateCb:d})}whenStable(r,o,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,d),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,d){return[]}static \u0275fac=function(o){return new(o||e)(qs($s),qs(qC),qs(XC))};static \u0275prov=Cn({token:e,factory:e.\u0275fac})}return e})(),qC=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return ow?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),aw=(()=>{class e{static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new YC})}return e})();class YC{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const o=this.queues.get(n.zone);o.has(n)&&(o.delete(n),this.queuedEffectCount--)}enqueue(n){const r=n.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}function lw(e){return!!e&&"function"==typeof e.then}function ZC(e){return!!e&&"function"==typeof e.subscribe}const cw=new Zt("");let JC=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=Ht(cw,{optional:!0})??[];injector=Ht(Pi);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const d of this.appInits){const p=Il(this.injector,d);if(lw(p))r.push(p);else if(ZC(p)){const y=new Promise((D,I)=>{p.subscribe({complete:D,error:I})});r.push(y)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(d=>{this.reject(d)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const eE=new Zt("");function tI(e,n){return Array.isArray(n)?n.reduce(tI,e):{...e,...n}}let Vc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ht(Pp);afterRenderManager=Ht(oh);zonelessEnabled=Ht(vr);rootEffectScheduler=Ht(aw);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Rs.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ht(ga).hasPendingTasks.pipe((0,Fr.T)(r=>!r));constructor(){Ht(Tc,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:d=>{d&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=Ht(ds);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){O(10);const d=r instanceof LD;if(!this._injector.get(JC).done)throw!d&&Gn(r),new At(405,!1);let y;y=d?r:this._injector.get(z_).resolveComponentFactory(r),this.componentTypes.push(y.componentType);const D=function HO(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Dy),F=y.create(Pi.NULL,[],o||y.selector,D),$=F.location.nativeElement,Z=F.injector.get(QC,null);return Z?.registerApplication($),F.onDestroy(()=>{this.detachView(F.hostView),HE(this.components,F),Z?.unregisterApplication($)}),this._loadComponent(F),O(11,F),F}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){O(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(yf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new At(101,!1);const r=X(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,X(r),this.afterTick.next(),O(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(N0,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)O(14),this.synchronizeOnce(),O(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:d}of this.allViews)KO(o,d,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Wh(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;HE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(eE,[]).forEach(d=>d(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>HE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new At(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HE(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function KO(e,n,r,o){(r||Wh(e))&&Ar(e,n,r&&!o?0:1)}function iI(e,n){return n[Zn].get(YA,null,{optional:!0})?.behavior!==Fm.Manual}function Iy(e,n,r){const o=n[St],d=n[r.index];if(!iI(0,n))return;const p=Wi(n,r),y=$n(o,r);switch(lh(p),y.loadingState){case gi.NOT_STARTED:jg(as.Loading,r,d),function uw(e,n,r){const o=n[Zn],d=n[St];if(e.loadingState!==gi.NOT_STARTED)return e.loadingPromise??Promise.resolve();const p=Wi(n,r),y=function od(e,n){return bn(e,n.primaryTmplIndex+Tt)}(d,e);e.loadingState=gi.IN_PROGRESS,Hl(1,p);let D=e.dependencyResolverFn;const I=o.get(ga),F=I.add();return D?(e.loadingPromise=Promise.allSettled(D()).then($=>{let Z=!1;const pe=[],de=[];for(const xe of $){if("fulfilled"!==xe.status){Z=!0;break}{const it=xe.value,Rt=pn(it)||ms(it);if(Rt)pe.push(Rt);else{const Pt=Gs(it);Pt&&de.push(Pt)}}}if(e.loadingPromise=null,I.remove(F),Z){if(e.loadingState=gi.FAILED,null===e.errorTmplIndex){const it=new At(-750,!1);Pg(n,it)}}else{e.loadingState=gi.COMPLETE;const xe=y.tView;if(pe.length>0){xe.directiveRegistry=dh(xe.directiveRegistry,pe);const Rt=V(!1,...pe.map(Pt=>Pt.type));e.providers=Rt}de.length>0&&(xe.pipeRegistry=dh(xe.pipeRegistry,de))}}),e.loadingPromise):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=gi.COMPLETE,I.remove(F)}),e.loadingPromise)}(y,n,r),y.loadingState===gi.IN_PROGRESS&&VC(y,r,d);break;case gi.IN_PROGRESS:jg(as.Loading,r,d),VC(y,r,d);break;case gi.COMPLETE:jg(as.Complete,r,d);break;case gi.FAILED:jg(as.Error,r,d)}}function so(e,n,r){return 0===e?aI(n,r):2!==e||!aI(n,r)}function aI(e,n){const r=e[Zn],o=$n(e[St],n),d=function hl(e){return e.get(sv,!1,{optional:!0})}(r),p=null!==o.flags&&!(1&~o.flags),D=null!==Wi(e,n)[ah];return!(p&&D&&d)}function lI(e,n,r,o,d,p,y,D,I,F){const $=at(),Z=yn(),pe=e+Tt,de=Z_($,Z,e,null,0,0),xe=$[Zn];if(Z.firstCreatePass){Xo("NgDefer");const _s={primaryTmplIndex:n,loadingTmplIndex:o??null,placeholderTmplIndex:d??null,errorTmplIndex:p??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:r??null,loadingState:gi.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:F??0};I?.(Z,_s,D,y),function ja(e,n,r){const o=Yo(n);e.data[o]=r}(Z,pe,_s)}const it=$[pe];ZD(it,de,$);let Rt=null,Pt=null;if(it[Us]?.length>0){const _s=it[Us][0].data;Pt=_s[nh]??null,Rt=_s[rh]}const _t=[null,Ea.Initial,null,null,null,null,Pt,Rt,null,null];!function km(e,n,r){e[Yo(n)]=r}($,pe,_t);let Xn=null;null!==Pt&&(Xn=xe.get(dl),Xn.add(Pt,{lView:$,tNode:de,lContainer:it}));const Ks=()=>{lh(_t),null!==Pt&&Xn?.cleanup([Pt])};Mc(0,_t,()=>op($,Ks)),ip($,Ks)}function cI(){so(0,at(),Qn())&&function nI(e){const n=at(),r=Qn();if(qv(n,r),!iI(0,n))return;const o=n[Zn];Mc(0,Wi(n,r),e(()=>Iy(0,n,r),o))}(BE)}function uI(e,n){const r=at(),o=Qn();so(0,r,o)&&(qv(r,o),uu(r,o,e,n,ld,()=>Iy(0,r,o),0))}function fw(e,n,r,o){const d=at();return ro(d,Hi(),n)&&(yn(),Fc(Jt(),d,e,n,r,o)),fw}function Jv(e,n,r,o){return ro(e,Hi(),r)?n+st(r)+o:Pn}function e_(e,n,r,o,d,p){const D=Cy(e,Ra(),r,d);return xa(2),D?n+st(r)+o+st(d)+p:Pn}function t_(e,n,r,o,d,p,y,D){const F=UE(e,Ra(),r,d,y);return xa(3),F?n+st(r)+o+st(d)+p+st(y)+D:Pn}function WE(e,n){return e<<17|n<<2}function Wg(e){return e>>17&32767}function pw(e){return 2|e}function Ty(e){return(131068&e)>>2}function gw(e,n){return-131069&e|n<<2}function mw(e){return 1|e}function EI(e,n,r,o){const d=e[r+1],p=null===n;let y=o?Wg(d):Ty(d),D=!1;for(;0!==y&&(!1===D||p);){const F=e[y+1];MN(e[y],n)&&(D=!0,e[y+1]=o?mw(F):pw(F)),y=o?Wg(F):Ty(F)}D&&(e[r+1]=o?pw(d):mw(d))}function MN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ys(e,n)>=0}const Lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wI(e){return e.substring(Lo.key,Lo.keyEnd)}function AN(e){return e.substring(Lo.value,Lo.valueEnd)}function DI(e,n){const r=Lo.textEnd;return r===n?-1:(n=Lo.keyEnd=function RN(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}(e,Lo.key=n,r),a_(e,n,r))}function CI(e,n){const r=Lo.textEnd;let o=Lo.key=a_(e,n,r);return r===o?-1:(o=Lo.keyEnd=function xN(e,n,r){let o;for(;n<r&&(45===(o=e.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(e,o,r),o=TI(e,o,r),o=Lo.value=a_(e,o,r),o=Lo.valueEnd=function PN(e,n,r){let o=-1,d=-1,p=-1,y=n,D=y;for(;y<r;){const I=e.charCodeAt(y++);if(59===I)return D;34===I||39===I?D=y=SI(e,I,y,r):n===y-4&&85===p&&82===d&&76===o&&40===I?D=y=SI(e,41,y,r):I>32&&(D=y),p=d,d=o,o=-33&I}return D}(e,o,r),TI(e,o,r))}function II(e){Lo.key=0,Lo.keyEnd=0,Lo.value=0,Lo.valueEnd=0,Lo.textEnd=e.length}function a_(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function TI(e,n,r,o){return(n=a_(e,n,r))<r&&n++,n}function SI(e,n,r,o){let d=-1,p=r;for(;p<o;){const y=e.charCodeAt(p++);if(y==n&&92!==d)return p;d=92==y&&92===d?0:y}throw new Error}function yw(e,n,r){const o=at();return ro(o,Hi(),n)&&vo(yn(),Jt(),o,e,n,o[mn],r,!1),yw}function vw(e,n,r,o,d){Qf(n,e,r,d?"class":"style",o)}function _w(e,n,r){return Md(e,n,r,!1),_w}function Ew(e,n){return Md(e,n,null,!0),Ew}function bd(e){Ad(OI,FN,e,!1)}function FN(e,n){for(let r=function NN(e){return II(e),CI(e,a_(e,0,Lo.textEnd))}(n);r>=0;r=CI(n,r))OI(e,wI(n),AN(n))}function bI(e){Ad(jN,Uh,e,!0)}function Uh(e,n){for(let r=function ON(e){return II(e),DI(e,a_(e,0,Lo.textEnd))}(n);r>=0;r=DI(n,r))fi(e,wI(n),!0)}function Md(e,n,r,o){const d=at(),p=yn(),y=xa(2);p.firstUpdatePass&&AI(p,e,y,o),n!==Pn&&ro(d,y,n)&&NI(p,p.data[xi()],d,d[mn],e,d[y+1]=function HN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Yn(fl(e)))),e}(n,r),o,y)}function Ad(e,n,r,o){const d=yn(),p=xa(2);d.firstUpdatePass&&AI(d,null,p,o);const y=at();if(r!==Pn&&ro(y,p,r)){const D=d.data[xi()];if(xI(D,o)&&!MI(d,p)){let I=o?D.classesWithoutHost:D.stylesWithoutHost;null!==I&&(r=Ps(I,r||"")),vw(d,D,y,r,o)}else!function $N(e,n,r,o,d,p,y,D){d===Pn&&(d=mr);let I=0,F=0,$=0<d.length?d[0]:null,Z=0<p.length?p[0]:null;for(;null!==$||null!==Z;){const pe=I<d.length?d[I+1]:void 0,de=F<p.length?p[F+1]:void 0;let it,xe=null;$===Z?(I+=2,F+=2,pe!==de&&(xe=Z,it=de)):null===Z||null!==$&&$<Z?(I+=2,xe=$):(F+=2,xe=Z,it=de),null!==xe&&NI(e,n,r,o,xe,it,y,D),$=I<d.length?d[I]:null,Z=F<p.length?p[F]:null}}(d,D,y,y[mn],y[p+1],y[p+1]=function BN(e,n,r){if(null==r||""===r)return mr;const o=[],d=fl(r);if(Array.isArray(d))for(let p=0;p<d.length;p++)e(o,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&e(o,p,d[p]);else"string"==typeof d&&n(o,d);return o}(e,n,r),o,p)}}function MI(e,n){return n>=e.expandoStartIndex}function AI(e,n,r,o){const d=e.data;if(null===d[r+1]){const p=d[xi()],y=MI(e,r);xI(p,o)&&null===n&&!y&&(n=!1),n=function kN(e,n,r,o){const d=up(e);let p=o?n.residualClasses:n.residualStyles;if(null===d)0===(o?n.classBindings:n.styleBindings)&&(r=nE(r=ww(null,e,n,r,o),n.attrs,o),p=null);else{const y=n.directiveStylingLast;if(-1===y||e[y]!==d)if(r=ww(d,e,n,r,o),null===p){let I=function LN(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Ty(o))return e[Wg(o)]}(e,n,o);void 0!==I&&Array.isArray(I)&&(I=ww(null,e,n,I[1],o),I=nE(I,n.attrs,o),function VN(e,n,r,o){e[Wg(r?n.classBindings:n.styleBindings)]=o}(e,n,o,I))}else p=function UN(e,n,r){let o;const d=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<d;p++)o=nE(o,e[p].hostAttrs,r);return nE(o,n.attrs,r)}(e,n,o)}return void 0!==p&&(o?n.residualClasses=p:n.residualStyles=p),r}(d,p,n,o),function SN(e,n,r,o,d,p){let y=p?n.classBindings:n.styleBindings,D=Wg(y),I=Ty(y);e[o]=r;let $,F=!1;if(Array.isArray(r)?($=r[1],(null===$||Ys(r,$)>0)&&(F=!0)):$=r,d)if(0!==I){const pe=Wg(e[D+1]);e[o+1]=WE(pe,D),0!==pe&&(e[pe+1]=gw(e[pe+1],o)),e[D+1]=function IN(e,n){return 131071&e|n<<17}(e[D+1],o)}else e[o+1]=WE(D,0),0!==D&&(e[D+1]=gw(e[D+1],o)),D=o;else e[o+1]=WE(I,0),0===D?D=o:e[I+1]=gw(e[I+1],o),I=o;F&&(e[o+1]=pw(e[o+1])),EI(e,$,o,!0),EI(e,$,o,!1),function bN(e,n,r,o,d){const p=d?e.residualClasses:e.residualStyles;null!=p&&"string"==typeof n&&Ys(p,n)>=0&&(r[o+1]=mw(r[o+1]))}(n,$,e,o,p),y=WE(D,I),p?n.classBindings=y:n.styleBindings=y}(d,p,n,r,y,o)}}function ww(e,n,r,o,d){let p=null;const y=r.directiveEnd;let D=r.directiveStylingLast;for(-1===D?D=r.directiveStart:D++;D<y&&(p=n[D],o=nE(o,p.hostAttrs,d),p!==e);)D++;return null!==e&&(r.directiveStylingLast=D),o}function nE(e,n,r){const o=r?1:2;let d=-1;if(null!==n)for(let p=0;p<n.length;p++){const y=n[p];"number"==typeof y?d=y:d===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),fi(e,y,!!r||n[++p]))}return void 0===e?null:e}function OI(e,n,r){fi(e,n,fl(r))}function jN(e,n,r){const o=String(n);""!==o&&!o.includes(" ")&&fi(e,o,r)}function NI(e,n,r,o,d,p,y,D){if(!(3&n.type))return;const I=e.data,F=I[D+1],$=function TN(e){return!(1&~e)}(F)?RI(I,n,r,d,Ty(F),y):void 0;KE($)||(KE(p)||function CN(e){return!(2&~e)}(F)&&(p=RI(I,null,r,d,D,y)),function K(e,n,r,o,d){if(n)d?e.addClass(r,o):e.removeClass(r,o);else{let p=-1===o.indexOf("-")?void 0:Xf.DashCase;null==d?e.removeStyle(r,o,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Xf.Important),e.setStyle(r,o,d,p))}}(o,y,Be(xi(),r),d,p))}function RI(e,n,r,o,d,p){const y=null===n;let D;for(;d>0;){const I=e[d],F=Array.isArray(I),$=F?I[1]:I,Z=null===$;let pe=r[d+1];pe===Pn&&(pe=Z?mr:void 0);let de=Z?Mi(pe,o):$===o?pe:void 0;if(F&&!KE(de)&&(de=Mi(I,o)),KE(de)&&(D=de,y))return D;const xe=e[d+1];d=y?Wg(xe):Ty(xe)}if(null!==n){let I=p?n.residualClasses:n.residualStyles;null!=I&&(D=Mi(I,o))}return D}function KE(e){return void 0!==e}function xI(e,n){return!!(e.flags&(n?8:16))}function PI(e,n,r){Ad(fi,Uh,Jv(at(),e,n,r),!0)}function FI(e,n,r,o,d){Ad(fi,Uh,e_(at(),e,n,r,o,d),!0)}function kI(e,n,r,o,d,p,y){Ad(fi,Uh,t_(at(),e,n,r,o,d,p,y),!0)}class YN{destroy(n){}updateValue(n,r){}swap(n,r){const o=Math.min(n,r),d=Math.max(n,r),p=this.detach(d);if(d-o>1){const y=this.detach(o);this.attach(o,p),this.attach(d,y)}else this.attach(o,p)}move(n,r){this.attach(r,this.detach(n))}}function Dw(e,n,r,o,d){return e===r&&Object.is(n,o)?1:Object.is(d(e,n),d(r,o))?-1:0}function Cw(e,n,r,o){return!(void 0===n||!n.has(o)||(e.attach(r,n.get(o)),n.delete(o),0))}function LI(e,n,r,o,d){if(Cw(e,n,o,r(o,d)))e.updateValue(o,d);else{const p=e.create(o,d);e.attach(o,p)}}function VI(e,n,r,o){const d=new Set;for(let p=n;p<=r;p++)d.add(o(p,e.at(p)));return d}class UI{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const r=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(n,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,r){if(this.kvMap.has(n)){let o=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const d=this._vMap;for(;d.has(o);)o=d.get(o);d.set(o,r)}else this.kvMap.set(n,r)}forEach(n){for(let[r,o]of this.kvMap)if(n(o,r),void 0!==this._vMap){const d=this._vMap;for(;d.has(o);)o=d.get(o),n(o,r)}}}function BI(e,n){Xo("NgControlFlow");const r=at(),o=Hi(),d=r[o]!==Pn?r[o]:-1,p=-1!==d?zE(r,Tt+d):void 0;if(ro(r,o,e)){const D=X(null);try{if(void 0!==p&&El(p,0),-1!==e){const I=Tt+e,F=zE(r,I),$=Iw(r[St],I),Z=Gv(F,$.tView.ssrId);mi(F,Iu(r,$,n,{dehydratedView:Z}),0,Fh($,Z))}}finally{X(D)}}else if(void 0!==p){const D=Br(p,0);void 0!==D&&(D[cr]=n)}}class JN{lContainer;$implicit;$index;constructor(n,r,o){this.lContainer=n,this.$implicit=r,this.$index=o}get $count(){return this.lContainer.length-xr}}function jI(e){return e}function $I(e,n){return n}class eR{hasEmptyBlock;trackByFn;liveCollection;constructor(n,r,o){this.hasEmptyBlock=n,this.trackByFn=r,this.liveCollection=o}}function HI(e,n,r,o,d,p,y,D,I,F,$,Z,pe){Xo("NgControlFlow");const de=at(),xe=yn(),it=void 0!==I,Rt=at(),Pt=D?y.bind(Rt[x][cr]):y,_t=new eR(it,Pt);Rt[Tt+e]=_t,Z_(de,xe,e+1,n,r,o,d,Ri(xe.consts,p)),it&&Z_(de,xe,e+2,I,F,$,Z,Ri(xe.consts,pe))}class tR extends YN{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,r,o){super(),this.lContainer=n,this.hostLView=r,this.templateTNode=o}get length(){return this.lContainer.length-xr}at(n){return this.getLView(n)[cr].$implicit}attach(n,r){const o=r[Ui];this.needsIndexUpdate||=n!==this.length,mi(this.lContainer,r,n,Fh(this.templateTNode,o))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function nR(e,n){return Mo(e,n)}(this.lContainer,n)}create(n,r){const o=Gv(this.lContainer,this.templateTNode.tView.ssrId),d=Iu(this.hostLView,this.templateTNode,new JN(this.lContainer,r,n),{dehydratedView:o});return this.operationsCounter?.recordCreate(),d}destroy(n){kg(n[St],n),this.operationsCounter?.recordDestroy()}updateValue(n,r){this.getLView(n)[cr].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[cr].$index=n}getLView(n){return function rR(e,n){return Br(e,n)}(this.lContainer,n)}}function WI(e){const n=X(null),r=xi();try{const o=at(),d=o[St],p=o[r],y=r+1,D=zE(o,y);if(void 0===p.liveCollection){const F=Iw(d,y);p.liveCollection=new tR(D,o,F)}else p.liveCollection.reset();const I=p.liveCollection;if(function ZN(e,n,r){let o,d,p=0,y=e.length-1;if(Array.isArray(n)){let I=n.length-1;for(;p<=y&&p<=I;){const F=e.at(p),$=n[p],Z=Dw(p,F,p,$,r);if(0!==Z){Z<0&&e.updateValue(p,$),p++;continue}const pe=e.at(y),de=n[I],xe=Dw(y,pe,I,de,r);if(0!==xe){xe<0&&e.updateValue(y,de),y--,I--;continue}const it=r(p,F),Rt=r(y,pe),Pt=r(p,$);if(Object.is(Pt,Rt)){const _t=r(I,de);Object.is(_t,it)?(e.swap(p,y),e.updateValue(y,de),I--,y--):e.move(y,p),e.updateValue(p,$),p++}else if(o??=new UI,d??=VI(e,p,y,r),Cw(e,o,p,Pt))e.updateValue(p,$),p++,y++;else if(d.has(Pt))o.set(it,e.detach(p)),y--;else{const _t=e.create(p,n[p]);e.attach(p,_t),p++,y++}}for(;p<=I;)LI(e,o,r,p,n[p]),p++}else if(null!=n){const I=n[Symbol.iterator]();let F=I.next();for(;!F.done&&p<=y;){const $=e.at(p),Z=F.value,pe=Dw(p,$,p,Z,r);if(0!==pe)pe<0&&e.updateValue(p,Z),p++,F=I.next();else{o??=new UI,d??=VI(e,p,y,r);const de=r(p,Z);if(Cw(e,o,p,de))e.updateValue(p,Z),p++,y++,F=I.next();else if(d.has(de)){const xe=r(p,$);o.set(xe,e.detach(p)),y--}else e.attach(p,e.create(p,Z)),p++,y++,F=I.next()}}for(;!F.done;)LI(e,o,r,e.length,F.value),F=I.next()}for(;p<=y;)e.destroy(e.detach(y--));o?.forEach(I=>{e.destroy(I)})}(I,e,p.trackByFn),I.updateIndexes(),p.hasEmptyBlock){const F=Hi(),$=0===I.length;if(ro(o,F,$)){const Z=r+2,pe=zE(o,Z);if($){const de=Iw(d,Z),xe=Gv(pe,de.tView.ssrId);mi(pe,Iu(o,de,void 0,{dehydratedView:xe}),0,Fh(de,xe))}else El(pe,0)}}}finally{X(n)}}function zE(e,n){return e[n]}function Iw(e,n){return bn(e,n)}function GE(e,n,r,o){const d=at(),p=yn(),y=Tt+e,D=d[mn],I=p.firstCreatePass?KD(y,p,d,n,Dd,Ss(),r,o):p.data[y],F=KI(p,d,I,D,n,e);d[y]=F;const $=Jr(I);return nl(I,!0),bg(D,F,I),!Tu(I)&&Bd()&&vl(p,d,F,I),(0===function Ts(){return xn.lFrame.elementDepthCount}()||$)&&pi(F,d),function lp(){xn.lFrame.elementDepthCount++}(),$&&(Ag(p,d,I),Gl(p,I,d)),null!==o&&Og(d,I),GE}function QE(){let e=Qn();dc()?Rl():(e=e.parent,nl(e,!1));const n=e;(function kd(e){return xn.skipHydrationRootTNode===e})(n)&&function $i(){xn.skipHydrationRootTNode=null}(),function po(){xn.lFrame.elementDepthCount--}();const r=yn();return r.firstCreatePass&&zD(r,n),null!=n.classesWithoutHost&&function qh(e){return!!(8&e.flags)}(n)&&vw(r,n,at(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Yh(e){return!!(16&e.flags)}(n)&&vw(r,n,at(),n.stylesWithoutHost,!1),QE}function Tw(e,n,r,o){return GE(e,n,r,o),QE(),Tw}let KI=(e,n,r,o,d,p)=>(Pa(!0),Ca(o,d,function ky(){return xn.lFrame.currentNamespace}()));function XE(e,n,r){const o=at(),d=yn(),p=e+Tt,y=d.firstCreatePass?function oR(e,n,r,o,d){const p=n.consts,y=Ri(p,o),D=Kv(n,e,8,"ng-container",y);null!==y&&P0(D,y,!0);const I=Ri(p,d);return Ss()&&F0(n,r,D,I,Dd),D.mergedAttrs=Gc(D.mergedAttrs,D.attrs),null!==n.queries&&n.queries.elementStart(n,D),D}(p,d,o,n,r):d.data[p];nl(y,!0);const D=zI(d,o,y,e);return o[p]=D,Bd()&&vl(d,o,D,y),pi(D,o),Jr(y)&&(Ag(d,o,y),Gl(d,y,o)),null!=r&&Og(o,y),XE}function qE(){let e=Qn();const n=yn();return dc()?Rl():(e=e.parent,nl(e,!1)),n.firstCreatePass&&(pp(n,e),Ro(e)&&n.queries.elementEnd(e)),qE}function Sw(e,n,r){return XE(e,n,r),qE(),Sw}let zI=(e,n,r,o)=>(Pa(!0),Jl(n[mn],""));function GI(){return at()}function bw(e,n,r){const o=at();return ro(o,Hi(),n)&&vo(yn(),Jt(),o,e,n,o[mn],r,!0),bw}function Mw(e,n,r){const o=at();if(ro(o,Hi(),n)){const p=yn(),y=Jt();vo(p,y,o,e,n,xg(up(p.data),y,o),r,!0)}return Mw}const Sy=void 0;var uR=["en",[["a","p"],["AM","PM"],Sy],[["AM","PM"],Sy,Sy],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sy,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sy,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sy,"{1} 'at' {0}",Sy],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cR(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let l_={};function dR(e,n,r){"string"!=typeof n&&(r=n,n=e[c_.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),l_[n]=e,r&&(l_[n][c_.ExtraData]=r)}function Aw(e){const n=function fR(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=XI(n);if(r)return r;const o=n.split("-")[0];if(r=XI(o),r)return r;if("en"===o)return uR;throw new At(701,!1)}function hR(e){return Aw(e)[c_.CurrencyCode]||null}function QI(e){return Aw(e)[c_.PluralCase]}function XI(e){return e in l_||(l_[e]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[e]),l_[e]}var c_=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(c_||{});const YE="en-US";let qI=YE,pT=(e,n,r)=>{};function Rw(e,n,r,o){const d=at(),p=yn(),y=Qn();return xw(p,d,d[mn],y,e,n,o),Rw}function xw(e,n,r,o,d,p,y){const D=Jr(o),F=e.firstCreatePass?Fd(e):null,$=n[cr],Z=qg(n);let pe=!0;if(3&o.type||y){const de=Nt(o,n),xe=y?y(de):de,it=Z.length,Rt=y?_t=>y(ue(_t[o.index])):o.index;let Pt=null;if(!y&&D&&(Pt=function tx(e,n,r,o){const d=e.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===r&&d[p+1]===o){const D=n[rs],I=d[p+2];return D.length>I?D[I]:null}"string"==typeof y&&(p+=2)}return null}(e,n,d,o.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=p,Pt.__ngLastListenerFn__=p,pe=!1;else{p=_T(o,n,$,p),pT(de,d,p);const _t=r.listen(xe,d,p);Z.push(p,_t),F&&F.push(d,Rt,it,it+1)}}else p=_T(o,n,$,p);if(pe){const de=o.outputs?.[d],xe=o.hostDirectiveOutputs?.[d];if(xe&&xe.length)for(let it=0;it<xe.length;it+=2)yT(o,e,n,xe[it],xe[it+1],d,p,Z,F);if(de&&de.length)for(const it of de)yT(o,e,n,it,d,d,p,Z,F)}}function yT(e,n,r,o,d,p,y,D,I){const de=r[o][n.data[o].outputs[d]].subscribe(y),xe=D.length;D.push(y,de),I&&I.push(p,e.index,xe,-(xe+1))}function vT(e,n,r,o){const d=X(null);try{return O(6,n,r),!1!==r(o)}catch(p){return Pg(e,p),!1}finally{O(7,n,r),X(d)}}function _T(e,n,r,o){return function d(p){if(p===Function)return o;gn(Is(e)?Bs(e.index,n):n,5);let D=vT(n,r,o,p),I=d.__ngNextListenerFn__;for(;I;)D=vT(n,r,I,p)&&D,I=I.__ngNextListenerFn__;return D}}function ET(e=1){return function Gh(e){return(xn.lFrame.contextLView=xy(e,xn.lFrame.contextLView))[cr]}(e)}function nx(e,n){let r=null;const o=function Ha(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let d=0;d<n.length;d++){const p=n[d];if("*"!==p){if(null===o?Sg(e,p,!0):E0(o,p))return d}else r=d}return r}function wT(e){const n=at()[x][hs];if(!n.projection){const o=n.projection=function bi(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),d=o.slice();let p=n.child;for(;null!==p;){if(128!==p.type){const y=e?nx(p,e):0;null!==y&&(d[y]?d[y].projectionNext=p:o[y]=p,d[y]=p)}p=p.next}}}function DT(e,n=0,r,o,d,p){const y=at(),D=yn(),I=o?e+1:null;null!==I&&Z_(y,D,I,o,d,p,null,r);const F=Kv(D,Tt+e,16,null,r||null);null===F.projection&&(F.projection=n),Rl();const Z=!y[Ui]||Hc();null===y[x][hs].projection[F.projection]&&null!==I?function rx(e,n,r){const o=Tt+r,d=n.data[o],p=e[o],y=Gv(p,d.tView.ssrId);mi(p,Iu(e,d,void 0,{dehydratedView:y}),0,Fh(d,y))}(y,D,I):Z&&!Tu(F)&&function w(e,n,r){b(n[mn],0,n,r,nc(e,r,n),Yf(r.parent||n[hs],r,n))}(D,y,F)}function Pw(e,n,r){return t0(e,"",n,"",r),Pw}function t0(e,n,r,o,d){const p=at(),y=Jv(p,n,r,o);return y!==Pn&&vo(yn(),Jt(),p,e,y,p[mn],d,!1),t0}function NT(e,n,r,o){sC(e,n,r,o)}function RT(e,n,r){!function rC(e,n,r){const o=yn();return o.firstCreatePass&&(iC(o,new eC(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),nC(o,at(),n)}(e,n,r)}function xT(e){const n=at(),r=yn(),o=Zg();dp(o+1);const d=W0(r,o);if(e.dirty&&function fo(e){return!(4&~e[sn])}(n)===!(2&~d.metadata.flags)){if(null===d.matches)e.reset([]);else{const p=oC(n,o);e.reset(p,zy),e.notifyOnChanges()}return!0}return!1}function PT(){return H0(at(),Zg())}function FT(e,n,r,o,d){!function uC(e,n){const r=e[Q];r._lView=at(),r._queryIndex=n,r._queryList=H0(r._lView,n),r._queryList.onDirty(()=>r._dirtyCounter.update(o=>o+1))}(n,sC(e,r,o,d))}function kT(e=1){dp(Zg()+e)}function Fw(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}function LT(e){return Vr(zh(),Tt+e)}function GT(e,n=""){const r=at(),o=yn(),d=e+Tt,p=o.firstCreatePass?Kv(o,d,1,n,null):o.data[d],y=QT(o,r,p,n,e);r[d]=y,Bd()&&vl(o,r,y,p),nl(p,!1)}let QT=(e,n,r,o,d)=>(Pa(!0),function Nh(e,n){return e.createText(n)}(n[mn],o));function kw(e){return n0("",e,""),kw}function n0(e,n,r){const o=at(),d=Jv(o,e,n,r);return d!==Pn&&Zf(o,xi(),d),n0}function Lw(e,n,r,o,d){const p=at(),y=e_(p,e,n,r,o,d);return y!==Pn&&Zf(p,xi(),y),Lw}function Vw(e,n,r,o,d,p,y){const D=at(),I=t_(D,e,n,r,o,d,p,y);return I!==Pn&&Zf(D,xi(),I),Vw}function Uw(e,n,r,o,d,p,y,D,I){const F=at(),$=function n_(e,n,r,o,d,p,y,D,I,F){const Z=Su(e,Ra(),r,d,y,I);return xa(4),Z?n+st(r)+o+st(d)+p+st(y)+D+st(I)+F:Pn}(F,e,n,r,o,d,p,y,D,I);return $!==Pn&&Zf(F,xi(),$),Uw}function Bw(e,n,r,o,d,p,y,D,I,F,$,Z,pe){const de=at(),xe=function s_(e,n,r,o,d,p,y,D,I,F,$,Z,pe,de){const xe=Ra();let it=Su(e,xe,r,d,y,I);return it=Cy(e,xe+4,$,pe)||it,xa(6),it?n+st(r)+o+st(d)+p+st(y)+D+st(I)+F+st($)+Z+st(pe)+de:Pn}(de,e,n,r,o,d,p,y,D,I,F,$,Z,pe);return xe!==Pn&&Zf(de,xi(),xe),Bw}function Zf(e,n,r){const o=Be(n,e);!function N_(e,n,r){e.setValue(n,r)}(e[mn],o,r)}function jw(e,n,r){wc(n)&&(n=n());const o=at();return ro(o,Hi(),n)&&vo(yn(),Jt(),o,e,n,o[mn],r,!1),jw}function JT(e,n){const r=wc(e);return r&&e.set(n),r}function $w(e,n){const r=at(),o=yn(),d=Qn();return xw(o,r,r[mn],d,e,n),$w}const eS={};function Hw(e){const n=yn(),r=at(),o=e+Tt;return nl(Kv(n,o,128,null,null),!1),Fw(n,r,o,eS),Hw}function tS(e){return Xo("NgLet"),Fw(yn(),at(),xi(),e),e}function nS(e){const r=Vr(zh(),Tt+e);if(r===eS)throw new At(314,!1);return r}function Ww(e,n,r,o,d){if(e=je(e),Array.isArray(e))for(let p=0;p<e.length;p++)Ww(e[p],n,r,o,d);else{const p=yn(),y=at(),D=Qn();let I=Yi(e)?e:je(e.provide);const F=co(e),$=1048575&D.providerIndexes,Z=D.directiveStart,pe=D.providerIndexes>>20;if(Yi(e)||!e.multi){const de=new Vu(F,d,Qv),xe=zw(I,n,d?$:$+pe,Z);-1===xe?(wp(nf(D,y),p,I),Kw(p,e,n.length),n.push(I),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),r.push(de),y.push(de)):(r[xe]=de,y[xe]=de)}else{const de=zw(I,n,$+pe,Z),xe=zw(I,n,$,$+pe),Rt=xe>=0&&r[xe];if(d&&!Rt||!d&&!(de>=0&&r[de])){wp(nf(D,y),p,I);const Pt=function Ex(e,n,r,o,d){const p=new Vu(e,r,Qv);return p.multi=[],p.index=n,p.componentProviders=0,rS(p,d,o&&!r),p}(d?_x:vx,r.length,d,o,F);!d&&Rt&&(r[xe].providerFactory=Pt),Kw(p,e,n.length,0),n.push(I),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),r.push(Pt),y.push(Pt)}else Kw(p,e,de>-1?de:xe,rS(r[d?xe:de],F,!d&&o));!d&&o&&Rt&&r[xe].componentProviders++}}}function Kw(e,n,r,o){const d=Yi(n),p=function oa(e){return!!e.useClass}(n);if(d||p){const I=(p?je(n.useClass):n).prototype.ngOnDestroy;if(I){const F=e.destroyHooks||(e.destroyHooks=[]);if(!d&&n.multi){const $=F.indexOf(r);-1===$?F.push(r,[o,I]):F[$+1].push(o,I)}else F.push(r,I)}}}function rS(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function zw(e,n,r,o){for(let d=r;d<o;d++)if(n[d]===e)return d;return-1}function vx(e,n,r,o){return Gw(this.multi,[])}function _x(e,n,r,o){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=Hd(r,r[St],this.providerFactory.index,o);p=D.slice(0,y),Gw(d,p);for(let I=y;I<D.length;I++)p.push(D[I])}else p=[],Gw(d,p);return p}function Gw(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function sS(e,n=[]){return r=>{r.providersResolver=(o,d)=>function yx(e,n,r){const o=yn();if(o.firstCreatePass){const d=$t(e);Ww(r,o.data,o.blueprint,d,!0),Ww(n,o.data,o.blueprint,d,!1)}}(o,d?d(e):e,n)}}function iS(e,n,r){const o=e.\u0275cmp;o.directiveDefs=LE(n,!1),o.pipeDefs=LE(r,!0)}function aS(e,n,r){const o=wi()+e,d=at();return d[o]===Pn?Vh(d,o,r?n.call(r):n()):function Y_(e,n){return e[n]}(d,o)}function lS(e,n,r,o){return hS(at(),wi(),e,n,r,o)}function cS(e,n,r,o,d){return fS(at(),wi(),e,n,r,o,d)}function uS(e,n,r,o,d,p){return function pS(e,n,r,o,d,p,y,D){const I=n+r;return UE(e,I,d,p,y)?Vh(e,I+3,D?o.call(D,d,p,y):o(d,p,y)):lE(e,I+3)}(at(),wi(),e,n,r,o,d,p)}function dS(e,n,r,o,d,p,y){return function gS(e,n,r,o,d,p,y,D,I){const F=n+r;return Su(e,F,d,p,y,D)?Vh(e,F+4,I?o.call(I,d,p,y,D):o(d,p,y,D)):lE(e,F+4)}(at(),wi(),e,n,r,o,d,p,y)}function lE(e,n){const r=e[n];return r===Pn?void 0:r}function hS(e,n,r,o,d,p){const y=n+r;return ro(e,y,d)?Vh(e,y+1,p?o.call(p,d):o(d)):lE(e,y+1)}function fS(e,n,r,o,d,p,y){const D=n+r;return Cy(e,D,d,p)?Vh(e,D+2,y?o.call(y,d,p):o(d,p)):lE(e,D+2)}function yS(e,n){const r=yn();let o;const d=e+Tt;r.firstCreatePass?(o=function Mx(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[d]=o,o.onDestroy&&(r.destroyHooks??=[]).push(d,o.onDestroy)):o=r.data[d];const p=o.factory||(o.factory=si(o.type)),D=Zr(Qv);try{const I=Qc(!1),F=p();return Qc(I),Fw(r,at(),d,F),F}finally{Zr(D)}}function vS(e,n,r){const o=e+Tt,d=at(),p=Vr(d,o);return cE(d,o)?hS(d,wi(),n,p.transform,r,p):p.transform(r)}function _S(e,n,r,o){const d=e+Tt,p=at(),y=Vr(p,d);return cE(p,d)?fS(p,wi(),n,y.transform,r,o,y):y.transform(r,o)}function cE(e,n){return e[St].data[n].pure}function ES(e,n){return v(e,n)}class LS{full;major;minor;patch;constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const iP=new LS("19.2.0");class oP{ngModuleFactory;componentFactories;constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let aP=(()=>{class e{compileModuleSync(r){return new G0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),p=ls(gs(r).declarations).reduce((y,D)=>{const I=pn(D);return I&&y.push(new X_(I)),y},[]);return new oP(o,p)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uP=(()=>{class e{zone=Ht($s);changeDetectionScheduler=Ht(Hr);applicationRef=Ht(Vc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zw({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new $s({...Jw(),scheduleInRootZone:r}),[{provide:$s,useFactory:e},{provide:ws,multi:!0,useFactory:()=>{const o=Ht(uP,{optional:!0});return()=>o.initialize()}},{provide:ws,multi:!0,useFactory:()=>{const o=Ht(hP);return()=>{o.initialize()}}},!0===n?{provide:Hu,useValue:!0}:[],{provide:qc,useValue:r??Ap}]}function Jw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let hP=(()=>{class e{subscription=new ts.yU;initialized=!1;zone=Ht($s);pendingTasks=Ht(ga);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$s.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$s.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dE=(()=>{class e{appRef=Ht(Vc);taskService=Ht(ga);ngZone=Ht($s);zonelessEnabled=Ht(vr);tracing=Ht(Tc,{optional:!0});disableScheduling=Ht(Hu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ts.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ht(qc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const d=this.useMicrotaskScheduler?Ku:lf;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ku(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tD=new Zt("",{providedIn:"root",factory:()=>Ht(tD,En.Optional|En.SkipSelf)||function fP(){return typeof $localize<"u"&&$localize.locale||YE}()}),pP=new Zt("",{providedIn:"root",factory:()=>"USD"}),a0=new Zt(""),_P=new Zt("");function hE(e){return!e.moduleRef}let HS=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(r){this._injector=r}bootstrapModuleFactory(r,o){const d=o?.scheduleInRootZone,y=o?.ignoreChangesOutsideZone,D=[Zw({ngZoneFactory:()=>function Wy(e="zone.js",n){return"noop"===e?new xp:"zone.js"===e?new $s(n):e}(o?.ngZone,{...Jw({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:y}),{provide:Hr,useExisting:dE}],I=function CA(e,n,r){return new z0(e,n,r,!1)}(r.moduleType,this.injector,D);return function $S(e){const n=hE(e)?e.r3Injector:e.moduleRef.injector,r=n.get($s);return r.run(()=>{hE(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(is,null);let d;if(r.runOutsideAngular(()=>{d=r.onError.subscribe({next:p=>{o.handleError(p)}})}),hE(e)){const p=()=>n.destroy(),y=e.platformInjector.get(a0);y.add(p),n.onDestroy(()=>{d.unsubscribe(),y.delete(p)})}else{const p=()=>e.moduleRef.destroy(),y=e.platformInjector.get(a0);y.add(p),e.moduleRef.onDestroy(()=>{HE(e.allPlatformModules,e.moduleRef),d.unsubscribe(),y.delete(p)})}return function wP(e,n,r){try{const o=r();return lw(o)?o.catch(d=>{throw n.runOutsideAngular(()=>e.handleError(d)),d}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const p=n.get(JC);return p.runInitializers(),p.donePromise.then(()=>{if(function yR(e){"string"==typeof e&&(qI=e.toLowerCase().replace(/_/g,"-"))}(n.get(tD,YE)||YE),!n.get(_P,!0))return hE(e)?n.get(Vc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(hE(e)){const I=n.get(Vc);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function EP(e,n){const r=e.injector.get(Vc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new At(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:I,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,o=[]){const d=tI({},o);return function cP(e,n,r){const o=new G0(r);return Promise.resolve(o)}(0,0,r).then(p=>this.bootstrapModuleFactory(p,d))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new At(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(a0,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(o){return new(o||e)(qs(Pi))};static \u0275prov=Cn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Kg=null;const WS=new Zt("");function KS(e,n,r=[]){const o=`Platform: ${n}`,d=new Zt(o);return(p=[])=>{let y=nD();if(!y||y.injector.get(WS,!1)){const D=[...r,...p,{provide:d,useValue:!0}];e?e(D):function DP(e){if(Kg&&!Kg.get(WS,!1))throw new At(400,!1);(function eI(){!function Gr(e){es=e}(()=>{throw new At(600,!1)})})(),Kg=e;const n=e.get(HS);(function GS(e){const n=e.get(Zu,null);Il(e,()=>{n?.forEach(r=>r())})})(e)}(function zS(e=[],n){return Pi.create({name:n,providers:[{provide:Za,useValue:"platform"},{provide:a0,useValue:new Set([()=>Kg=null])},...e]})}(D,o))}return function CP(){const n=nD();if(!n)throw new At(401,!1);return n}()}}function nD(){return Kg?.get(HS)??null}function TP(){return!1}function SP(){}let XS=(()=>class e{static __NG_ELEMENT_ID__=bP})();function bP(e){return function MP(e,n,r){if(Is(e)&&!r){const o=Bs(e.index,n);return new t(o,o)}return 175&e.type?new t(n[x],n):null}(Qn(),at(),!(16&~e))}class JS{constructor(){}supports(n){return VE(n)}create(n){return new xP(n)}}const RP=(e,n)=>n;class xP{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||RP}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,d=0,p=null;for(;r||o;){const y=!o||r&&r.currentIndex<tb(o,d,p)?r:o,D=tb(y,d,p),I=y.currentIndex;if(y===o)d--,o=o._nextRemoved;else if(r=r._next,null==y.previousIndex)d++;else{p||(p=[]);const F=D-d,$=I-d;if(F!=$){for(let pe=0;pe<F;pe++){const de=pe<p.length?p[pe]:p[pe]=0,xe=de+pe;$<=xe&&xe<F&&(p[pe]=de+1)}p[y.previousIndex]=$-F}}D!==I&&n(y,D,I)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!VE(n))throw new At(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,p,y,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)p=n[D],y=this._trackByFn(D,p),null!==r&&Object.is(r.trackById,y)?(o&&(r=this._verifyReinsertion(r,p,y,D)),Object.is(r.item,p)||this._addIdentityChange(r,p)):(r=this._mismatch(r,p,y,D),o=!0),r=r._next}else d=0,function jA(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,D=>{y=this._trackByFn(d,D),null!==r&&Object.is(r.trackById,y)?(o&&(r=this._verifyReinsertion(r,D,y,d)),Object.is(r.item,D)||this._addIdentityChange(r,D)):(r=this._mismatch(r,D,y,d),o=!0),r=r._next,d++}),this.length=d;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,d){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,p,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,d))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,p,d)):n=this._addAfter(new PP(r,o),p,d),n}_verifyReinsertion(n,r,o,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==p?n=this._reinsertAfter(p,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,p=n._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const d=null===r?this._itHead:r._next;return n._next=d,n._prev=r,null===d?this._itTail=n:d._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class PP{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,r){this.item=n,this.trackById=r}}class FP{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class eb{map=new Map;put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new FP,this.map.set(r,o)),o.add(n)}get(n,r){const d=this.map.get(n);return d?d.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(e,n,r){const o=e.previousIndex;if(null===o)return o;let d=0;return r&&o<r.length&&(d=r[o]),o+n+d}class nb{constructor(){}supports(n){return n instanceof Map||J0(n)}create(){return new kP}}class kP{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||J0(n)))throw new At(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,d)=>{if(r&&r.key===d)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const p=this._getOrCreateRecordForKey(d,o);r=this._insertBeforeOrAppend(r,p)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,r);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const o=new LP(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class LP{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function rb(){return new aD([new JS])}let aD=(()=>{class e{factories;static \u0275prov=Cn({token:e,providedIn:"root",factory:rb});constructor(r){this.factories=r}static create(r,o){if(null!=o){const d=o.factories.slice();r=r.concat(d)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||rb()),deps:[[e,new us,new jo]]}}find(r){const o=this.factories.find(d=>d.supports(r));if(null!=o)return o;throw new At(901,!1)}}return e})();function sb(){return new lD([new nb])}let lD=(()=>{class e{static \u0275prov=Cn({token:e,providedIn:"root",factory:sb});factories;constructor(r){this.factories=r}static create(r,o){if(o){const d=o.factories.slice();r=r.concat(d)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||sb()),deps:[[e,new us,new jo]]}}find(r){const o=this.factories.find(d=>d.supports(r));if(o)return o;throw new At(901,!1)}}return e})();const BP=KS(null,"core",[]);let jP=(()=>{class e{constructor(r){}static \u0275fac=function(o){return new(o||e)(qs(Vc))};static \u0275mod=X0({type:e});static \u0275inj=yi({})}return e})();function D1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function C1(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}function Od(e){const n=X(null);try{return e()}finally{X(n)}}function vE(e,n){const r=ut(e);return n?.equal&&(r[Q].equal=n.equal),r}let S1=(()=>{class e extends YC{pendingTasks=Ht(ga);taskId=null;schedule(r){super.schedule(r),null===this.taskId&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{null!==this.taskId&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=Cn({token:e,providedIn:"root",factory:()=>new e})}return e})();class b1{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(n,r,o,d,p,y){this.scheduler=n,this.effectFn=r,this.zone=o,this.injector=p,this.watcher=function Un(e,n,r){const o=Object.create(Qr);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;const d=I=>{o.cleanupFn=I};return o.ref={notify:()=>He(o),run:()=>{if(null===o.fn)return;if(function ae(){return ee}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!rt(o))return;o.hasRun=!0;const I=mt(o);try{o.cleanupFn(),o.cleanupFn=qn,o.fn(d)}finally{Et(o,I)}},cleanup:()=>o.cleanupFn(),destroy:()=>function y(I){(function p(I){return null===I.fn&&null===I.schedule})(I)||(tt(I),I.cleanupFn(),I.fn=null,I.schedule=null,I.cleanupFn=qn)}(o),[Q]:o},o.ref}(D=>this.runEffect(D),()=>this.schedule(),y),this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(is,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let dD=!1;class O1{[Q];constructor(n){this[Q]=n}destroy(){this[Q].destroy()}}function hD(e,n){if(dD)return function A1(e,n){!n?.injector&&Ls();const r=n?.injector??Ht(Pi),o=!0!==n?.manualCleanup?r.get(ka):null,d=new b1(r.get(S1),e,typeof Zone>"u"?null:Zone.current,o,r,n?.allowSignalWrites??!1),p=r.get(XS,null,{optional:!0});return p&&8&p._lView[sn]?(p._lView[un]??=[]).push(d.watcher.notify):d.watcher.notify(),d}(e,n);!n?.injector&&Ls();const r=n?.injector??Ht(Pi);let d,o=!0!==n?.manualCleanup?r.get(ka):null;const p=r.get(rd,null,{optional:!0}),y=r.get(Hr);return null===p||n?.forceRoot?d=function P1(e,n,r){const o=Object.create(N1);return o.fn=e,o.scheduler=n,o.notifier=r,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(12),o}(e,r.get(aw),y):(d=function x1(e,n,r){const o=Object.create(R1);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=n,o.fn=r,e[ur]??=new Set,e[ur].add(o),o.consumerMarkedDirty(o),o}(p.view,y,e),o instanceof $u&&o._lView===p.view&&(o=null)),d.injector=r,null!==o&&(d.onDestroyFn=o.onDestroy(()=>d.destroy())),new O1(d)}const Nb={...te,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Wu,run(){if(this.dirty=!1,this.hasRun&&!rt(this))return;this.hasRun=!0;const e=o=>(this.cleanupFns??=[]).push(o),n=mt(this),r=Ld(!1);try{this.maybeCleanup(),this.fn(e)}finally{Ld(r),Et(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},N1={...Nb,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){tt(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},R1={...Nb,consumerMarkedDirty(){this.view[sn]|=8192,Pd(this.view),this.notifier.notify(13)},destroy(){tt(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ur]?.delete(this)}};var Ci=function(e){return e[e.Idle=0]="Idle",e[e.Error=1]="Error",e[e.Loading=2]="Loading",e[e.Reloading=3]="Reloading",e[e.Resolved=4]="Resolved",e[e.Local=5]="Local",e}(Ci||{});const F1=e=>e;function fD(e,n){return Rb("function"==typeof e?qt(e,F1,n?.equal):qt(e.source,e.computation,e.equal))}function Rb(e){const n=e[Q],r=e;return r.set=o=>function Mn(e,n){Oe(e),Dt(e,n),Le(e)}(n,o),r.update=o=>function ln(e,n){Oe(e),vt(e,n),Le(e)}(n,o),r.asReadonly=Jc.bind(e),r}function xb(e){return e?.injector||Ls(),new Pb(e.request??(()=>null),function V1(e){return function U1(e){return!!e.stream}(e)?e.stream:function(){var n=(0,_.A)(function*(r){try{return qd({value:yield e.loader(r)})}catch(o){return qd({error:o})}});return function(r){return n.apply(this,arguments)}}()}(e),e.defaultValue,e.equal?function L1(e){return(n,r)=>void 0===n||void 0===r?n===r:e(n,r)}(e.equal):void 0,e.injector??Ht(Pi))}class k1{value;constructor(n){this.value=n,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=Jc}update(n){this.set(n(Od(this.value)))}isLoading=vE(()=>this.status()===Ci.Loading||this.status()===Ci.Reloading);hasValue(){return void 0!==this.value()}asReadonly(){return this}}class Pb extends k1{loaderFn;defaultValue;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;constructor(n,r,o,d,p){super(vE(()=>{const y=this.state().stream?.();return y&&pD(y)?y.value:this.defaultValue},{equal:d})),this.loaderFn=r,this.defaultValue=o,this.equal=d,this.extRequest=fD({source:n,computation:y=>({request:y,reload:0})}),this.state=fD({source:this.extRequest,computation:(y,D)=>{const I=void 0===y.request?Ci.Idle:Ci.Loading;return D?{extRequest:y,status:I,previousStatus:Fb(D.value),stream:D.value.extRequest.request===y.request?D.value.stream:void 0}:{extRequest:y,status:I,previousStatus:Ci.Idle,stream:void 0}}}),this.effectRef=hD(this.loadEffect.bind(this),{injector:p,manualCleanup:!0}),this.pendingTasks=p.get(fm),p.get(ka).onDestroy(()=>this.destroy())}status=vE(()=>Fb(this.state()));error=vE(()=>{const n=this.state().stream?.();return n&&!pD(n)?n.error:void 0});set(n){if(this.destroyed)return;const r=Od(this.value),o=Od(this.state);o.status===Ci.Local&&(this.equal?this.equal(r,n):r===n)||(this.state.set({extRequest:o.extRequest,status:Ci.Local,previousStatus:Ci.Local,stream:qd({value:n})}),this.abortInProgressLoad())}reload(){const{status:n}=Od(this.state);return n!==Ci.Idle&&n!==Ci.Loading&&(this.extRequest.update(({request:r,reload:o})=>({request:r,reload:o+1})),!0)}destroy(){this.destroyed=!0,this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:Ci.Idle,previousStatus:Ci.Idle,stream:void 0})}loadEffect(){var n=this;return(0,_.A)(function*(){const r=n.extRequest(),{status:o,previousStatus:d}=Od(n.state);if(void 0===r.request)return;if(o!==Ci.Loading)return;n.abortInProgressLoad();let p=n.resolvePendingTask=n.pendingTasks.add();const{signal:y}=n.pendingController=new AbortController;try{const D=yield Od(()=>n.loaderFn({request:r.request,abortSignal:y,previous:{status:d}}));if(y.aborted||Od(n.extRequest)!==r)return;n.state.set({extRequest:r,status:Ci.Resolved,previousStatus:Ci.Resolved,stream:D})}catch(D){if(y.aborted||Od(n.extRequest)!==r)return;n.state.set({extRequest:r,status:Ci.Resolved,previousStatus:Ci.Error,stream:qd({error:D})})}finally{p?.(),p=void 0}})()}abortInProgressLoad(){Od(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}}function Fb(e){switch(e.status){case Ci.Loading:return 0===e.extRequest.reload?Ci.Loading:Ci.Reloading;case Ci.Resolved:return pD(Od(e.stream))?Ci.Resolved:Ci.Error;default:return e.status}}function pD(e){return void 0===e.error}function W1(e,n){const r=pn(e),o=n.elementInjector||ii();return new X_(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function K1(e){const n=pn(e);if(!n)return null;const r=new X_(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4572:(lt,he,C)=>{C.d(he,{z:()=>q});var _=C(1985),E=C(3073),ie=C(2806),ee=C(3669),U=C(6450),Q=C(9326),X=C(8496),W=C(4360),ae=C(5225);function q(...Fe){const Oe=(0,Q.lI)(Fe),Te=(0,Q.ms)(Fe),{args:_e,keys:He}=(0,E.D)(Fe);if(0===_e.length)return(0,ie.H)([],Oe);const Le=new _.c(function te(Fe,Oe,Te=ee.D){return _e=>{ye(Oe,()=>{const{length:He}=Fe,Le=new Array(He);let mt=He,Et=He;for(let rt=0;rt<He;rt++)ye(Oe,()=>{const tt=(0,ie.H)(Fe[rt],Oe);let Ot=!1;tt.subscribe((0,W._)(_e,Mt=>{Le[rt]=Mt,Ot||(Ot=!0,Et--),Et||_e.next(Te(Le.slice()))},()=>{--mt||_e.complete()}))},_e)},_e)}}(_e,Oe,He?mt=>(0,X.e)(He,mt):ee.D));return Te?Le.pipe((0,U.I)(Te)):Le}function ye(Fe,Oe,Te){Fe?(0,ae.N)(Te,Fe,Oe):Oe()}},4668:(lt,he,C)=>{C.d(he,{t:()=>ie});var _=C(2771),E=C(7647);function ie(ee,U,Q){let X,W=!1;return ee&&"object"==typeof ee?({bufferSize:X=1/0,windowTime:U=1/0,refCount:W=!1,scheduler:Q}=ee):X=ee??1/0,(0,E.u)({connector:()=>new _.m(X,U,Q),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:W})}},4761:(lt,he,C)=>{C.d(he,{l:()=>E});const E=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(lt,he,C)=>{C.d(he,{l:()=>ie});var _=C(3494),E=C(8071);function ie(ee){return(0,E.T)(ee[_.s])}},5085:(lt,he,C)=>{C.d(he,{O:()=>_});const _={cdnjs_libraries:"https://api.cdnjs.com/libraries",GOOGLE_BOOKS:"https://www.googleapis.com/books/v1/volumes",WIKIPEDIA:"https://en.wikipedia.org/w/api.php",GITHUB_BASE_URL:"https://api.github.com",GITHUB_USERS:"https://api.github.com/users",GITHUB_REPOS:"https://api.github.com/repositories",GITHUB_SEARCH_REPOS:"https://api.github.com/search/repositories?q=",GITHUB_REPOS_QUERY:"https://api.github.com/repositories?q=",GITHUB_REPOS_BY_USER:(E,ie)=>`https://api.github.com/users/${E}/repos?per_page=${ie}`,GITHUB_REPOS_STATS_BY_USER:(E,ie)=>`https://api.github.com/repos/${E}/${ie}/stats/participation`,restcountries:"https://restcountries.com/v3.1/all",jsonplaceholderEndpoints:{todos:"https://jsonplaceholder.typicode.com/todos/",users:"https://jsonplaceholder.typicode.com/users/",posts:"https://jsonplaceholder.typicode.com/posts/",comments:"https://jsonplaceholder.typicode.com/comments/"},swapi_api_endpoints:{people:"https://swapi.py4e.com/api/people/",planets:"https://swapi.py4e.com/api/planets/",films:"https://swapi.py4e.com/api/films/",species:"https://swapi.py4e.com/api/species/",vehicles:"https://swapi.py4e.com/api/vehicles/",starships:"https://swapi.py4e.com/api/starships/"},jokes:"https://icanhazdadjoke.com"}},5109:(lt,he,C)=>{C.d(he,{o:()=>ee});var _=C(983),E=C(9974),ie=C(4360);function ee(U){return U<=0?()=>_.w:(0,E.N)((Q,X)=>{let W=[];Q.subscribe((0,ie._)(X,ae=>{W.push(ae),U<W.length&&W.shift()},()=>{for(const ae of W)X.next(ae);X.complete()},void 0,()=>{W=null}))})}},5196:(lt,he,C)=>{C.d(he,{C:()=>ie,U:()=>ee});var _=C(1635),E=C(8071);function ie(U){return(0,_.AQ)(this,arguments,function*(){const X=U.getReader();try{for(;;){const{value:W,done:ae}=yield(0,_.N3)(X.read());if(ae)return yield(0,_.N3)(void 0);yield yield(0,_.N3)(W)}}finally{X.releaseLock()}})}function ee(U){return(0,E.T)(U?.getReader)}},5225:(lt,he,C)=>{function _(E,ie,ee,U=0,Q=!1){const X=ie.schedule(function(){ee(),Q?E.add(this.schedule(null,U)):this.unsubscribe()},U);if(E.add(X),!Q)return X}C.d(he,{N:()=>_})},5312:(lt,he,C)=>{C.d(he,{c:()=>E});var _=C(3344);const E={production:!0,version:C(8330).rE,firebaseConfig:_.I}},5334:(lt,he,C)=>{C.d(he,{m:()=>ie});var _=C(1026),E=C(9270);function ie(ee){E.f.setTimeout(()=>{const{onUnhandledError:U}=_.$;if(!U)throw ee;U(ee)})}},5335:(lt,he,C)=>{C.d(he,{c:()=>q});var _=C(3236),E=C(8793),ie=C(6697),ee=C(3557),U=C(3703),Q=C(1397),X=C(8750);function W(te,ye){return ye?Fe=>(0,E.x)(ye.pipe((0,ie.s)(1),(0,ee.w)()),Fe.pipe(W(te))):(0,Q.Z)((Fe,Oe)=>(0,X.Tg)(te(Fe,Oe)).pipe((0,ie.s)(1),(0,U.u)(Fe)))}var ae=C(1807);function q(te,ye=_.E){const Fe=(0,ae.O)(te,ye);return W(()=>Fe)}},5343:(lt,he,C)=>{function _(){}C.d(he,{l:()=>_})},5364:(lt,he,C)=>{C.d(he,{h8:()=>_,vp:()=>E});var _=function(ee){return ee.Clear="Clear",ee.Snow="Snow",ee.Rain="Rain",ee.Clouds="Clouds",ee.Thunderstorm="Thunderstorm",ee.Atmosphere="Atmosphere",ee.Drizzle="Drizzle",ee.Unknown="Unknown",ee}(_||{});function E(ee){return(new Map).set("Thunderstorm",_.Thunderstorm).set("Drizzle",_.Drizzle).set("Rain",_.Rain).set("Snow",_.Snow).set("Atmosphere",_.Atmosphere).set("Clouds",_.Clouds).set("Clear",_.Clear).get(ee.main)||_.Unknown}},5397:(lt,he,C)=>{C.d(he,{x:()=>ie});var _=C(4761),E=C(8071);function ie(ee){return(0,E.T)(ee?.[_.l])}},5558:(lt,he,C)=>{C.d(he,{n:()=>ee});var _=C(8750),E=C(9974),ie=C(4360);function ee(U,Q){return(0,E.N)((X,W)=>{let ae=null,q=0,te=!1;const ye=()=>te&&!ae&&W.complete();X.subscribe((0,ie._)(W,Fe=>{ae?.unsubscribe();let Oe=0;const Te=q++;(0,_.Tg)(U(Fe,Te)).subscribe(ae=(0,ie._)(W,_e=>W.next(Q?Q(Fe,_e,Te,Oe++):_e),()=>{ae=null,ye()}))},()=>{te=!0,ye()}))})}},5696:(lt,he,C)=>{C.d(he,{E:()=>W});var _=C(9310),E=C(8193),ie=C(8721);const ee=(0,_.UX)(ie.cp),U=(0,_.Mz)(ee,ae=>ae.isSubmitting),Q=(0,_.Mz)(ee,ae=>ae.validationErrors);var X=C(4438);let W=(()=>{class ae{constructor(te){this.store=te}register(te){this.store.dispatch((0,E.Sl)(te))}isSubmitting(){return this.store.pipe((0,_.Lt)(U))}backendErrors(){return this.store.pipe((0,_.Lt)(Q))}static{this.\u0275fac=function(ye){return new(ye||ae)(X.KVO(_.il))}}static{this.\u0275prov=X.jDH({token:ae,factory:ae.\u0275fac})}}return ae})()},5964:(lt,he,C)=>{C.d(he,{p:()=>ie});var _=C(9974),E=C(4360);function ie(ee,U){return(0,_.N)((Q,X)=>{let W=0;Q.subscribe((0,E._)(X,ae=>ee.call(U,ae,W++)&&X.next(ae)))})}},6129:(lt,he,C)=>{C.d(he,{U:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},6325:(lt,he,C)=>{C.d(he,{c:()=>Q});var _=C(1626),E=C(8141),ie=C(4438),ee=C(2197);const Q={provide:_.a7,useClass:(()=>{class X{constructor(ae){this.loaderService=ae}intercept(ae,q){return this.loaderService.showLoader(),q.handle(ae).pipe((0,E.M)(te=>{te instanceof _.cS&&this.loaderService.hideLoader()},te=>{this.loaderService.hideLoader()}))}static{this.\u0275fac=function(q){return new(q||X)(ie.KVO(ee.Z))}}static{this.\u0275prov=ie.jDH({token:X,factory:X.\u0275fac})}}return X})(),multi:!0}},6354:(lt,he,C)=>{C.d(he,{T:()=>ie});var _=C(9974),E=C(4360);function ie(ee,U){return(0,_.N)((Q,X)=>{let W=0;Q.subscribe((0,E._)(X,ae=>{X.next(ee.call(U,ae,W++))}))})}},6365:(lt,he,C)=>{C.d(he,{U:()=>ie});var _=C(1397),E=C(3669);function ie(ee=1/0){return(0,_.Z)(E.D,ee)}},6450:(lt,he,C)=>{C.d(he,{I:()=>ee});var _=C(6354);const{isArray:E}=Array;function ee(U){return(0,_.T)(Q=>function ie(U,Q){return E(Q)?U(...Q):U(Q)}(U,Q))}},6454:(lt,he,C)=>{C.d(he,{O:()=>ie});var _=C(4438),E=function(ee){return ee[ee.slideToLeft=1]="slideToLeft",ee[ee.slideToRight=2]="slideToRight",ee[ee.slideToTop=3]="slideToTop",ee[ee.slideToBottom=4]="slideToBottom",ee}(E||{});let ie=(()=>{class ee{constructor(){this.routeAnimation=null}setRouteAnimation(Q){this.routeAnimation=E[Q]}get currentRouteAnimation(){return this.routeAnimation}static{this.\u0275fac=function(X){return new(X||ee)}}static{this.\u0275prov=_.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},6570:(lt,he,C)=>{C.d(he,{u:()=>U});var _=C(4412),E=C(8141),ie=C(4438),ee=C(7240);let U=(()=>{class Q{constructor(W){this.apiService=W,this._isLoggedIn$=new _.t(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(W,ae){return this.apiService.login(W,ae).pipe((0,E.M)(q=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,q.token),this.user=this.getUser(q.token)}))}getUser(W){return W?JSON.parse(atob(W.split(".")[1])):null}hasRole(W){return this.user?.Role.includes(W)||!1}static{this.\u0275fac=function(ae){return new(ae||Q)(ie.KVO(ee.G))}}static{this.\u0275prov=ie.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},6651:(lt,he,C)=>{C.d(he,{BF:()=>q,bb:()=>ye});var _=C(467),E=C(4438),ie=C(7673),ee=C(2806),U=C(4668),Q=C(6354),X=C(9437),W=C(274),ae=C(1994);let q=(()=>{class Fe{constructor(){this.api=(0,E.WQX)(ae.h),this.totalUsers$=this.api.readRealtime$("status").pipe((0,U.t)(1))}get getUserOnlineCounts$(){return this.getUserByStatus("online").pipe((0,Q.T)(Te=>Te.length),(0,X.W)(Te=>(console.error("Error fetching user counts:",Te),(0,ie.of)(0))))}getUserByStatus(Te){return this.totalUsers$.pipe((0,Q.T)(_e=>_e.filter(He=>He.status===Te)),(0,X.W)(_e=>(console.error("Error fetching user counts:",_e),(0,ie.of)(0))))}getUsers$(Te="asc"){return this.totalUsers$.pipe((0,Q.T)(_e=>_e.sort((He,Le)=>this.compareUserStatus(He,Le,Te))),(0,X.W)(_e=>(console.error("Error fetching users:",_e),(0,ie.of)([]))))}compareUserStatus(Te,_e,He){const Le=Te.status.localeCompare(_e.status);return"asc"===He?Le:-Le}get timestamp(){return(new Date).getTime()}getPresence(Te){return this.api.readRealtimeOriginal$(`status/${Te}`)}setPresence(Te,_e){this.api.set(`status/${Te}`,{status:_e,timestamp:this.timestamp}).then(He=>{})}setPresence$(Te,_e){return(0,ee.H)(this.api.set(`status/${Te}`,{status:_e,timestamp:this.timestamp}))}changeAllUsersStatus(Te,_e){this.getUserByStatus(Te).pipe((0,W.H)(He=>He.map(Le=>this.setPresence$(Le.key,_e)))).subscribe({next:()=>{},error:He=>{console.error("Error logging out users:",He)},complete:()=>{}})}logOutAllUsers(){this.changeAllUsersStatus("online","offline")}updateOnAway(Te){document.onvisibilitychange=_e=>{"hidden"===document.visibilityState?this.setPresence(Te,"away"):this.setPresence(Te,"online")},window.onbeforeunload=()=>{this.setPresence(Te,"offline")}}updateOnUser(Te){this.api.detectingConnectionState().pipe((0,Q.T)(_e=>_e?"online":"offline")).subscribe(_e=>this.setPresence(Te,_e))}updateOnDisconnect(Te){this.api.onDisconnect(`status/${Te}`).update({status:"offline",timestamp:this.timestamp})}configureUserPresenceByLocal(){let Te=localStorage.getItem("uid");this.checkingUser(Te)}configureUserPresenceByLogin(Te,_e={}){this.checkingUser(Te,_e)}configure(Te){this.updateOnAway(Te),this.updateOnUser(Te),this.updateOnDisconnect(Te)}checkingUser(Te,_e={}){Te?this.configure(Te):this.api.create("status",{uid:Te,..._e}).then(He=>{const Le=He.key;localStorage.setItem("uid",Le),this.configure(Le)})}static{this.\u0275fac=function(_e){return new(_e||Fe)}}static{this.\u0275prov=E.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})();const ye={provide:E.hnV,useFactory:function te(Fe){return()=>new Promise(function(){var Oe=(0,_.A)(function*(Te,_e){yield Fe.configureUserPresenceByLocal(),Te("done")});return function(Te,_e){return Oe.apply(this,arguments)}}())},deps:[q],multi:!0}},6697:(lt,he,C)=>{C.d(he,{s:()=>ee});var _=C(983),E=C(9974),ie=C(4360);function ee(U){return U<=0?()=>_.w:(0,E.N)((Q,X)=>{let W=0;Q.subscribe((0,ie._)(X,ae=>{++W<=U&&(X.next(ae),U<=W&&X.complete())}))})}},6780:(lt,he,C)=>{C.d(he,{R:()=>U});var _=C(8359);class E extends _.yU{constructor(X,W){super()}schedule(X,W=0){return this}}const ie={setInterval(Q,X,...W){const{delegate:ae}=ie;return ae?.setInterval?ae.setInterval(Q,X,...W):setInterval(Q,X,...W)},clearInterval(Q){const{delegate:X}=ie;return(X?.clearInterval||clearInterval)(Q)},delegate:void 0};var ee=C(7908);class U extends E{constructor(X,W){super(X,W),this.scheduler=X,this.work=W,this.pending=!1}schedule(X,W=0){var ae;if(this.closed)return this;this.state=X;const q=this.id,te=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(te,q,W)),this.pending=!0,this.delay=W,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(te,this.id,W),this}requestAsyncId(X,W,ae=0){return ie.setInterval(X.flush.bind(X,this),ae)}recycleAsyncId(X,W,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return W;null!=W&&ie.clearInterval(W)}execute(X,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(X,W);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,W){let q,ae=!1;try{this.work(X)}catch(te){ae=!0,q=te||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:X,scheduler:W}=this,{actions:ae}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.o)(ae,this),null!=X&&(this.id=this.recycleAsyncId(W,X,null)),this.delay=null,super.unsubscribe()}}}},6812:(lt,he,C)=>{C.d(he,{L:()=>ie});var _=C(4438),E=C(1994);let ie=(()=>{class ee{constructor(){this.FirebaseRealtimeDatabaseService=(0,_.WQX)(E.h)}logRouteChange(Q){/[#$\[\]'?]/g.test(Q)||this.FirebaseRealtimeDatabaseService.updateCounter(`router-activities${Q}`,!0)}logHttpCall(Q){this.FirebaseRealtimeDatabaseService.updateCounter("http-logs",!0)}logHttpCallCounter(){this.FirebaseRealtimeDatabaseService.updateCounter("server-activities",!0)}logError(Q,X){this.FirebaseRealtimeDatabaseService.create("error-logs",{message:Q,isHttp:X}).then()}getRouter$(){return this.FirebaseRealtimeDatabaseService.readRealtimeOriginal$("router-activities")}getServer$(){return this.FirebaseRealtimeDatabaseService.readRealtimeOriginal$("server-activities")}getErrorLogs$(){return this.FirebaseRealtimeDatabaseService.readRealtimeOriginal$("error-logs")}getHttpLogs$(){return this.FirebaseRealtimeDatabaseService.readRealtimeOriginal$("http-logs")}static{this.\u0275fac=function(X){return new(X||ee)}}static{this.\u0275prov=_.jDH({token:ee,factory:ee.\u0275fac})}}return ee})()},6977:(lt,he,C)=>{C.d(he,{Q:()=>U});var _=C(9974),E=C(4360),ie=C(8750),ee=C(5343);function U(Q){return(0,_.N)((X,W)=>{(0,ie.Tg)(Q).subscribe((0,E._)(W,()=>W.complete(),ee.l)),!W.closed&&X.subscribe(W)})}},7018:(lt,he,C)=>{C.d(he,{H:()=>X});var _=C(9350),E=C(5964),ie=C(5109),ee=C(3774),U=C(9901),Q=C(3669);function X(W,ae){const q=arguments.length>=2;return te=>te.pipe(W?(0,E.p)((ye,Fe)=>W(ye,Fe,te)):Q.D,(0,ie.o)(1),q?(0,U.U)(ae):(0,ee.v)(()=>new _.G))}},7240:(lt,he,C)=>{C.d(he,{G:()=>ie});var _=C(4438),E=C(1626);let ie=(()=>{class ee{constructor(Q){this.http=Q}login(Q,X){return this.http.post("login",{username:Q,password:X})}getProducts(){return this.http.get("products",{headers:{}})}static{this.\u0275fac=function(X){return new(X||ee)(_.KVO(E.Qq))}}static{this.\u0275prov=_.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},7242:(lt,he,C)=>{C.d(he,{T:()=>U});var _=C(6780),ie=C(9687);const U=new class ee extends ie.q{}(class E extends _.R{constructor(W,ae){super(W,ae),this.scheduler=W,this.work=ae}schedule(W,ae=0){return ae>0?super.schedule(W,ae):(this.delay=ae,this.state=W,this.scheduler.flush(this),this)}execute(W,ae){return ae>0||this.closed?super.execute(W,ae):this._execute(W,ae)}requestAsyncId(W,ae,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(W,ae,q):(W.flush(this),0)}})},7441:(lt,he,C)=>{C.d(he,{X:()=>_});const _=E=>E&&"number"==typeof E.length&&"function"!=typeof E},7468:(lt,he,C)=>{C.d(he,{p:()=>W});var _=C(1985),E=C(3073),ie=C(8750),ee=C(9326),U=C(4360),Q=C(6450),X=C(8496);function W(...ae){const q=(0,ee.ms)(ae),{args:te,keys:ye}=(0,E.D)(ae),Fe=new _.c(Oe=>{const{length:Te}=te;if(!Te)return void Oe.complete();const _e=new Array(Te);let He=Te,Le=Te;for(let mt=0;mt<Te;mt++){let Et=!1;(0,ie.Tg)(te[mt]).subscribe((0,U._)(Oe,rt=>{Et||(Et=!0,Le--),_e[mt]=rt},()=>He--,void 0,()=>{(!He||!Et)&&(Le||Oe.next(ye?(0,X.e)(ye,_e):_e),Oe.complete())}))}});return q?Fe.pipe((0,Q.I)(q)):Fe}},7647:(lt,he,C)=>{C.d(he,{u:()=>U});var _=C(8750),E=C(1413),ie=C(7707),ee=C(9974);function U(X={}){const{connector:W=()=>new E.B,resetOnError:ae=!0,resetOnComplete:q=!0,resetOnRefCountZero:te=!0}=X;return ye=>{let Fe,Oe,Te,_e=0,He=!1,Le=!1;const mt=()=>{Oe?.unsubscribe(),Oe=void 0},Et=()=>{mt(),Fe=Te=void 0,He=Le=!1},rt=()=>{const tt=Fe;Et(),tt?.unsubscribe()};return(0,ee.N)((tt,Ot)=>{_e++,!Le&&!He&&mt();const Mt=Te=Te??W();Ot.add(()=>{_e--,0===_e&&!Le&&!He&&(Oe=Q(rt,te))}),Mt.subscribe(Ot),!Fe&&_e>0&&(Fe=new ie.Ms({next:jt=>Mt.next(jt),error:jt=>{Le=!0,mt(),Oe=Q(Et,ae,jt),Mt.error(jt)},complete:()=>{He=!0,mt(),Oe=Q(Et,q),Mt.complete()}}),(0,_.Tg)(tt).subscribe(Fe))})(ye)}}function Q(X,W,...ae){if(!0===W)return void X();if(!1===W)return;const q=new ie.Ms({next:()=>{q.unsubscribe(),X()}});return(0,_.Tg)(W(...ae)).subscribe(q)}},7673:(lt,he,C)=>{C.d(he,{of:()=>ie});var _=C(9326),E=C(2806);function ie(...ee){const U=(0,_.lI)(ee);return(0,E.H)(ee,U)}},7707:(lt,he,C)=>{C.d(he,{Ms:()=>_e,vU:()=>ye});var _=C(8071),E=C(8359),ie=C(1026),ee=C(5334),U=C(5343);const Q=ae("C",void 0,void 0);function ae(rt,tt,Ot){return{kind:rt,value:tt,error:Ot}}var q=C(9270),te=C(9786);class ye extends E.yU{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,E.Uv)(tt)&&tt.add(this)):this.destination=Et}static create(tt,Ot,Mt){return new _e(tt,Ot,Mt)}next(tt){this.isStopped?mt(function W(rt){return ae("N",rt,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?mt(function X(rt){return ae("E",void 0,rt)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?mt(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Oe(rt,tt){return Fe.call(rt,tt)}class Te{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ot}=this;if(Ot.next)try{Ot.next(tt)}catch(Mt){He(Mt)}}error(tt){const{partialObserver:Ot}=this;if(Ot.error)try{Ot.error(tt)}catch(Mt){He(Mt)}else He(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ot){He(Ot)}}}class _e extends ye{constructor(tt,Ot,Mt){let jt;if(super(),(0,_.T)(tt)||!tt)jt={next:tt??void 0,error:Ot??void 0,complete:Mt??void 0};else{let Vt;this&&ie.$.useDeprecatedNextContext?(Vt=Object.create(tt),Vt.unsubscribe=()=>this.unsubscribe(),jt={next:tt.next&&Oe(tt.next,Vt),error:tt.error&&Oe(tt.error,Vt),complete:tt.complete&&Oe(tt.complete,Vt)}):jt=tt}this.destination=new Te(jt)}}function He(rt){ie.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(rt):(0,ee.m)(rt)}function mt(rt,tt){const{onStoppedNotification:Ot}=ie.$;Ot&&q.f.setTimeout(()=>Ot(rt,tt))}const Et={closed:!0,next:U.l,error:function Le(rt){throw rt},complete:U.l}},7786:(lt,he,C)=>{C.d(he,{h:()=>Q});var _=C(6365),E=C(8750),ie=C(983),ee=C(9326),U=C(2806);function Q(...X){const W=(0,ee.lI)(X),ae=(0,ee.R0)(X,1/0),q=X;return q.length?1===q.length?(0,E.Tg)(q[0]):(0,_.U)(ae)((0,U.H)(q,W)):ie.w}},7852:(lt,he,C)=>{C.d(he,{MF:()=>zs,j6:()=>qr,om:()=>xs,Sx:()=>Ln,Dk:()=>Er,Wp:()=>Yr,KO:()=>jr});var _=C(467),E=C(1362),ie=C(8041),ee=C(1076);let Q,X;const q=new WeakMap,te=new WeakMap,ye=new WeakMap,Fe=new WeakMap,Oe=new WeakMap;let He={get(et,Ve,gt){if(et instanceof IDBTransaction){if("done"===Ve)return te.get(et);if("objectStoreNames"===Ve)return et.objectStoreNames||ye.get(et);if("store"===Ve)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return rt(et[Ve])},set:(et,Ve,gt)=>(et[Ve]=gt,!0),has:(et,Ve)=>et instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in et};function Et(et){return"function"==typeof et?function mt(et){return et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(et)?function(...Ve){return et.apply(tt(this),Ve),rt(q.get(this))}:function(...Ve){return rt(et.apply(tt(this),Ve))}:function(Ve,...gt){const dt=et.call(tt(this),Ve,...gt);return ye.set(dt,Ve.sort?Ve.sort():[Ve]),rt(dt)}}(et):(et instanceof IDBTransaction&&function _e(et){if(te.has(et))return;const Ve=new Promise((gt,dt)=>{const fn=()=>{et.removeEventListener("complete",cn),et.removeEventListener("error",Sn),et.removeEventListener("abort",Sn)},cn=()=>{gt(),fn()},Sn=()=>{dt(et.error||new DOMException("AbortError","AbortError")),fn()};et.addEventListener("complete",cn),et.addEventListener("error",Sn),et.addEventListener("abort",Sn)});te.set(et,Ve)}(et),((et,Ve)=>Ve.some(gt=>et instanceof gt))(et,function W(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(et,He):et)}function rt(et){if(et instanceof IDBRequest)return function Te(et){const Ve=new Promise((gt,dt)=>{const fn=()=>{et.removeEventListener("success",cn),et.removeEventListener("error",Sn)},cn=()=>{gt(rt(et.result)),fn()},Sn=()=>{dt(et.error),fn()};et.addEventListener("success",cn),et.addEventListener("error",Sn)});return Ve.then(gt=>{gt instanceof IDBCursor&&q.set(gt,et)}).catch(()=>{}),Oe.set(Ve,et),Ve}(et);if(Fe.has(et))return Fe.get(et);const Ve=Et(et);return Ve!==et&&(Fe.set(et,Ve),Oe.set(Ve,et)),Ve}const tt=et=>Oe.get(et),jt=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],Wt=new Map;function wn(et,Ve){if(!(et instanceof IDBDatabase)||Ve in et||"string"!=typeof Ve)return;if(Wt.get(Ve))return Wt.get(Ve);const gt=Ve.replace(/FromIndex$/,""),dt=Ve!==gt,fn=Vt.includes(gt);if(!(gt in(dt?IDBIndex:IDBObjectStore).prototype)||!fn&&!jt.includes(gt))return;const cn=function(){var Sn=(0,_.A)(function*(Lr,...Ir){const Cn=this.transaction(Lr,fn?"readwrite":"readonly");let Ki=Cn.store;return dt&&(Ki=Ki.index(Ir.shift())),(yield Promise.all([Ki[gt](...Ir),fn&&Cn.done]))[0]});return function(Ir){return Sn.apply(this,arguments)}}();return Wt.set(Ve,cn),cn}!function Le(et){He=et(He)}(et=>({...et,get:(Ve,gt,dt)=>wn(Ve,gt)||et.get(Ve,gt,dt),has:(Ve,gt)=>!!wn(Ve,gt)||et.has(Ve,gt)}));class ut{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function Ge(et){const Ve=et.getComponent();return"VERSION"===Ve?.type}(gt)){const dt=gt.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(gt=>gt).join(" ")}}const Ft="@firebase/app",jn=new ie.Vy("@firebase/app"),Or="@firebase/app-compat",es="@firebase/analytics-compat",Cr="@firebase/analytics",Gr="@firebase/app-check-compat",Ne="@firebase/app-check",Qe="@firebase/auth",Ze="@firebase/auth-compat",Xe="@firebase/database",Dt="@firebase/database-compat",vt="@firebase/functions",Lt="@firebase/functions-compat",vn="@firebase/installations",er="@firebase/installations-compat",qt="@firebase/messaging",Mn="@firebase/messaging-compat",ln="@firebase/performance",_r="@firebase/performance-compat",Un="@firebase/remote-config",qn="@firebase/remote-config-compat",Qr="@firebase/storage",or="@firebase/storage-compat",Pr="@firebase/firestore",Rs="@firebase/firestore-compat",ts="firebase",Tn="[DEFAULT]",Xr={[Ft]:"fire-core",[Or]:"fire-core-compat",[Cr]:"fire-analytics",[es]:"fire-analytics-compat",[Ne]:"fire-app-check",[Gr]:"fire-app-check-compat",[Qe]:"fire-auth",[Ze]:"fire-auth-compat",[Xe]:"fire-rtdb",[Dt]:"fire-rtdb-compat",[vt]:"fire-fn",[Lt]:"fire-fn-compat",[vn]:"fire-iid",[er]:"fire-iid-compat",[qt]:"fire-fcm",[Mn]:"fire-fcm-compat",[ln]:"fire-perf",[_r]:"fire-perf-compat",[Un]:"fire-rc",[qn]:"fire-rc-compat",[Qr]:"fire-gcs",[or]:"fire-gcs-compat",[Pr]:"fire-fst",[Rs]:"fire-fst-compat","fire-js":"fire-js",[ts]:"fire-js-all"},At=new Map,tr=new Map;function ns(et,Ve){try{et.container.addComponent(Ve)}catch(gt){jn.debug(`Component ${Ve.name} failed to register with FirebaseApp ${et.name}`,gt)}}function xs(et){const Ve=et.name;if(tr.has(Ve))return jn.debug(`There were multiple attempts to register component ${Ve}.`),!1;tr.set(Ve,et);for(const gt of At.values())ns(gt,et);return!0}function qr(et,Ve){const gt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),et.container.getProvider(Ve)}const dn=new ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xs{constructor(Ve,gt,dt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new E.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const zs="9.23.0";function Yr(et,Ve={}){let gt=et;"object"!=typeof Ve&&(Ve={name:Ve});const dt=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},Ve),fn=dt.name;if("string"!=typeof fn||!fn)throw dn.create("bad-app-name",{appName:String(fn)});if(gt||(gt=(0,ee.T9)()),!gt)throw dn.create("no-options");const cn=At.get(fn);if(cn){if((0,ee.bD)(gt,cn.options)&&(0,ee.bD)(dt,cn.config))return cn;throw dn.create("duplicate-app",{appName:fn})}const Sn=new E.h1(fn);for(const Ir of tr.values())Sn.addComponent(Ir);const Lr=new Xs(gt,dt,Sn);return At.set(fn,Lr),Lr}function Ln(et=Tn){const Ve=At.get(et);if(!Ve&&et===Tn&&(0,ee.T9)())return Yr();if(!Ve)throw dn.create("no-app",{appName:et});return Ve}function Er(){return Array.from(At.values())}function jr(et,Ve,gt){var dt;let fn=null!==(dt=Xr[et])&&void 0!==dt?dt:et;gt&&(fn+=`-${gt}`);const cn=fn.match(/\s|\//),Sn=Ve.match(/\s|\//);if(cn||Sn){const Lr=[`Unable to register library "${fn}" with version "${Ve}":`];return cn&&Lr.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),cn&&Sn&&Lr.push("and"),Sn&&Lr.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void jn.warn(Lr.join(" "))}xs(new E.uA(`${fn}-version`,()=>({library:fn,version:Ve}),"VERSION"))}const Se="firebase-heartbeat-store";let we=null;function Re(){return we||(we=function Ot(et,Ve,{blocked:gt,upgrade:dt,blocking:fn,terminated:cn}={}){const Sn=indexedDB.open(et,Ve),Lr=rt(Sn);return dt&&Sn.addEventListener("upgradeneeded",Ir=>{dt(rt(Sn.result),Ir.oldVersion,Ir.newVersion,rt(Sn.transaction),Ir)}),gt&&Sn.addEventListener("blocked",Ir=>gt(Ir.oldVersion,Ir.newVersion,Ir)),Lr.then(Ir=>{cn&&Ir.addEventListener("close",()=>cn()),fn&&Ir.addEventListener("versionchange",Cn=>fn(Cn.oldVersion,Cn.newVersion,Cn))}).catch(()=>{}),Lr}("firebase-heartbeat-database",1,{upgrade:(et,Ve)=>{0===Ve&&et.createObjectStore(Se)}}).catch(et=>{throw dn.create("idb-open",{originalErrorMessage:et.message})})),we}function le(){return(le=(0,_.A)(function*(et){try{return yield(yield Re()).transaction(Se).objectStore(Se).get(me(et))}catch(Ve){if(Ve instanceof ee.g)jn.warn(Ve.message);else{const gt=dn.create("idb-get",{originalErrorMessage:Ve?.message});jn.warn(gt.message)}}})).apply(this,arguments)}function De(et,Ve){return oe.apply(this,arguments)}function oe(){return(oe=(0,_.A)(function*(et,Ve){try{const dt=(yield Re()).transaction(Se,"readwrite");yield dt.objectStore(Se).put(Ve,me(et)),yield dt.done}catch(gt){if(gt instanceof ee.g)jn.warn(gt.message);else{const dt=dn.create("idb-set",{originalErrorMessage:gt?.message});jn.warn(dt.message)}}})).apply(this,arguments)}function me(et){return`${et.name}!${et.options.appId}`}class Gt{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new nr(gt),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var Ve=this;return(0,_.A)(function*(){const dt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=Ut();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==fn&&!Ve._heartbeatsCache.heartbeats.some(cn=>cn.date===fn))return Ve._heartbeatsCache.heartbeats.push({date:fn,agent:dt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(cn=>{const Sn=new Date(cn.date).valueOf();return Date.now()-Sn<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,_.A)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const gt=Ut(),{heartbeatsToSend:dt,unsentEntries:fn}=function Dn(et,Ve=1024){const gt=[];let dt=et.slice();for(const fn of et){const cn=gt.find(Sn=>Sn.agent===fn.agent);if(cn){if(cn.dates.push(fn.date),ar(gt)>Ve){cn.dates.pop();break}}else if(gt.push({agent:fn.agent,dates:[fn.date]}),ar(gt)>Ve){gt.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:gt,unsentEntries:dt}}(Ve._heartbeatsCache.heartbeats),cn=(0,ee.Uj)(JSON.stringify({version:2,heartbeats:dt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=gt,fn.length>0?(Ve._heartbeatsCache.heartbeats=fn,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),cn})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class nr{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.A)(function*(){return!!(0,ee.zW)()&&(0,ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,_.A)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function je(et){return le.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var gt=this;return(0,_.A)(function*(){var dt;if(yield gt._canUseIndexedDBPromise){const cn=yield gt.read();return De(gt.app,{lastSentHeartbeatDate:null!==(dt=Ve.lastSentHeartbeatDate)&&void 0!==dt?dt:cn.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var gt=this;return(0,_.A)(function*(){var dt;if(yield gt._canUseIndexedDBPromise){const cn=yield gt.read();return De(gt.app,{lastSentHeartbeatDate:null!==(dt=Ve.lastSentHeartbeatDate)&&void 0!==dt?dt:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...Ve.heartbeats]})}})()}}function ar(et){return(0,ee.Uj)(JSON.stringify({version:2,heartbeats:et})).length}!function Ti(et){xs(new E.uA("platform-logger",Ve=>new ut(Ve),"PRIVATE")),xs(new E.uA("heartbeat",Ve=>new Gt(Ve),"PRIVATE")),jr(Ft,"0.9.13",et),jr(Ft,"0.9.13","esm2017"),jr("fire-js","")}("")},7908:(lt,he,C)=>{function _(E,ie){if(E){const ee=E.indexOf(ie);0<=ee&&E.splice(ee,1)}}C.d(he,{o:()=>_})},7936:(lt,he,C)=>{C.d(he,{U:()=>ie});var _=C(4438),E=C(1626);class ie{constructor(){this.http=(0,_.WQX)(E.Qq)}post(U,Q){return this.http.post(`${this.databaseURL}/${U}`,Q)}get(U,Q={}){return this.http.get(`${this.databaseURL}/${U}`,{params:Q})}delete(U){return this.http.delete(`${this.databaseURL}/${U}`)}put(U,Q){return this.http.put(`${this.databaseURL}/${U}`,Q)}patch(U,Q){return this.http.patch(`${this.databaseURL}/${U}`,Q)}}},7953:(lt,he,C)=>{C.d(he,{T:()=>E});var _=C(8071);function E(ie){return Symbol.asyncIterator&&(0,_.T)(ie?.[Symbol.asyncIterator])}},8041:(lt,he,C)=>{C.d(he,{$b:()=>E,Vy:()=>X});const _=[];var E=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(E||{});const ie={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},ee=E.INFO,U={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Q=(q,te,...ye)=>{if(te<q.logLevel)return;const Fe=(new Date).toISOString(),Oe=U[te];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Oe](`[${Fe}]  ${q.name}:`,...ye)};class X{constructor(te){this.name=te,this._logLevel=ee,this._logHandler=Q,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in E))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?ie[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...te),this._logHandler(this,E.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...te),this._logHandler(this,E.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,E.INFO,...te),this._logHandler(this,E.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,E.WARN,...te),this._logHandler(this,E.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...te),this._logHandler(this,E.ERROR,...te)}}},8066:(lt,he,C)=>{C.d(he,{w:()=>X});var _=C(9310),E=C(965),ie=C(459);const ee=(0,_.UX)(ie.c),U=(0,_.Mz)(ee,W=>W.user);var Q=C(4438);let X=(()=>{class W{constructor(q){this.store=q}userInfo$(){return this.store.pipe((0,_.Lt)(U))}getUserInfo(){this.store.dispatch(E.wz())}static{this.\u0275fac=function(te){return new(te||W)(Q.KVO(_.il))}}static{this.\u0275prov=Q.jDH({token:W,factory:W.\u0275fac})}}return W})()},8071:(lt,he,C)=>{function _(E){return"function"==typeof E}C.d(he,{T:()=>_})},8141:(lt,he,C)=>{C.d(he,{M:()=>U});var _=C(8071),E=C(9974),ie=C(4360),ee=C(3669);function U(Q,X,W){const ae=(0,_.T)(Q)||X||W?{next:Q,error:X,complete:W}:Q;return ae?(0,E.N)((q,te)=>{var ye;null===(ye=ae.subscribe)||void 0===ye||ye.call(ae);let Fe=!0;q.subscribe((0,ie._)(te,Oe=>{var Te;null===(Te=ae.next)||void 0===Te||Te.call(ae,Oe),te.next(Oe)},()=>{var Oe;Fe=!1,null===(Oe=ae.complete)||void 0===Oe||Oe.call(ae),te.complete()},Oe=>{var Te;Fe=!1,null===(Te=ae.error)||void 0===Te||Te.call(ae,Oe),te.error(Oe)},()=>{var Oe,Te;Fe&&(null===(Oe=ae.unsubscribe)||void 0===Oe||Oe.call(ae)),null===(Te=ae.finalize)||void 0===Te||Te.call(ae)}))}):ee.D}},8193:(lt,he,C)=>{C.d(he,{NW:()=>ee,Sl:()=>ie,gt:()=>U});var _=C(9310),E=function(Q){return Q.REGISTER="[AUTH] REGISTER",Q.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",Q.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",Q}(E||{});const ie=(0,_.VP)(E.REGISTER,(0,_.xk)()),ee=(0,_.VP)(E.REGISTER_SUCCESS,(0,_.xk)()),U=(0,_.VP)(E.REGISTER_FAILURE,(0,_.xk)())},8211:(lt,he,C)=>{function _(E){return E instanceof Date&&!isNaN(E)}C.d(he,{v:()=>_})},8244:(lt,he,C)=>{C.d(he,{i:()=>ee});var _=C(6325),E=C(177),ie=C(4438);let ee=(()=>{class U{static{this.\u0275fac=function(W){return new(W||U)}}static{this.\u0275mod=ie.$C({type:U})}static{this.\u0275inj=ie.G2t({providers:[_.c],imports:[E.CommonModule]})}}return U})()},8320:(lt,he,C)=>{C.d(he,{T:()=>X});var _=C(9310),E=C(8964);const ie=(0,_.UX)(E.cp),ee=(0,_.Mz)(ie,W=>W.data);var U=C(2503),Q=C(4438);let X=(()=>{class W{constructor(q){this.store=q}getData(){return this.store.pipe((0,_.Lt)(ee))}loadData(){this.store.dispatch(U.Ze())}loadDataSuccess(q){this.store.dispatch(U.aE(q))}loadDataFailure(q){this.store.dispatch(U.Ny(q))}static{this.\u0275fac=function(te){return new(te||W)(Q.KVO(_.il))}}static{this.\u0275prov=Q.jDH({token:W,factory:W.\u0275fac})}}return W})()},8330:lt=>{lt.exports={rE:"0.0.250"}},8359:(lt,he,C)=>{C.d(he,{Kn:()=>Q,yU:()=>U,Uv:()=>X});var _=C(8071);const ie=(0,C(1853).L)(ae=>function(te){ae(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ye,Fe)=>`${Fe+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ee=C(7908);class U{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Oe of te)Oe.remove(this);else te.remove(this);const{initialTeardown:ye}=this;if((0,_.T)(ye))try{ye()}catch(Oe){q=Oe instanceof ie?Oe.errors:[Oe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Oe of Fe)try{W(Oe)}catch(Te){q=q??[],Te instanceof ie?q=[...q,...Te.errors]:q.push(Te)}}if(q)throw new ie(q)}}add(q){var te;if(q&&q!==this)if(this.closed)W(q);else{if(q instanceof U){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(q)}}_hasParent(q){const{_parentage:te}=this;return te===q||Array.isArray(te)&&te.includes(q)}_addParent(q){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(q),te):te?[te,q]:q}_removeParent(q){const{_parentage:te}=this;te===q?this._parentage=null:Array.isArray(te)&&(0,ee.o)(te,q)}remove(q){const{_finalizers:te}=this;te&&(0,ee.o)(te,q),q instanceof U&&q._removeParent(this)}}U.EMPTY=(()=>{const ae=new U;return ae.closed=!0,ae})();const Q=U.EMPTY;function X(ae){return ae instanceof U||ae&&"closed"in ae&&(0,_.T)(ae.remove)&&(0,_.T)(ae.add)&&(0,_.T)(ae.unsubscribe)}function W(ae){(0,_.T)(ae)?ae():ae.unsubscribe()}},8496:(lt,he,C)=>{function _(E,ie){return E.reduce((ee,U,Q)=>(ee[U]=ie[Q],ee),{})}C.d(he,{e:()=>_})},8515:(lt,he,C)=>{C.d(he,{h:()=>U});var _=C(6354),E=C(4438),ie=C(1626);let U=(()=>{class Q{constructor(W){this.http=W}register(W){return this.http.post("https://conduit.productionready.io/api/users",W).pipe((0,_.T)(ae=>ae.user))}static{this.\u0275fac=function(ae){return new(ae||Q)(E.KVO(ie.Qq))}}static{this.\u0275prov=E.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},8527:(lt,he,C)=>{C.d(he,{OM:()=>q,VZ:()=>Q,fM:()=>ye,i8:()=>W,iQ:()=>Fe,j1:()=>E,n$:()=>te,n8:()=>ee,om:()=>U,op:()=>ie,sc:()=>ae,vV:()=>X});var _=C(9310);const E=(0,_.VP)("[ARTICLE] Show All"),ie=(0,_.VP)("[ARTICLE] Show All Success",(0,_.xk)()),ee=(0,_.VP)("[ARTICLE] Create",(0,_.xk)()),U=(0,_.VP)("[ARTICLE] Create Success",(0,_.xk)()),Q=(0,_.VP)("[ARTICLE] Create Failure",(0,_.xk)()),X=(0,_.VP)("[ARTICLE] Get by Id",(0,_.xk)()),W=(0,_.VP)("[ARTICLE] Get by Id Success",(0,_.xk)()),ae=(0,_.VP)("[ARTICLE] Reset"),q=(0,_.VP)("[Product] Add to cart",(0,_.xk)()),te=(0,_.VP)("[Product] Remove from cart",(0,_.xk)()),ye=(0,_.VP)("[Products] Load items from server"),Fe=(0,_.VP)("[Products] Load success",(0,_.xk)())},8603:(lt,he,C)=>{C.d(he,{i:()=>ie});var _=C(1413),E=C(4412);class ie{constructor(U){this.reducer=U,this.action=new _.B;const Q={type:"@ngrx/store/init"},X=U(void 0,Q);this.state=new E.t(X),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(Q)}dispatch(U){const Q=this.state.getValue(),X=this.reducer(Q,U);this.state.next(X),this.action.next(U)}}},8721:(lt,he,C)=>{C.d(he,{Km:()=>Q,cp:()=>ee});var _=C(9310),E=C(8193);const ee="Register",U=(0,_.vy)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,_.on)(E.Sl,X=>({...X,isSubmitting:!0,validationErrors:null})),(0,_.on)(E.NW,(X,W)=>({...X,isSubmitting:!1,isLoggedIn:!0,currentUser:W.currentUser})),(0,_.on)(E.gt,(X,W)=>({...X,isSubmitting:!1,validationErrors:W.errors})));function Q(X,W){return U(X,W)}},8750:(lt,he,C)=>{C.d(he,{Tg:()=>Fe});var _=C(1635),E=C(7441),ie=C(9858),ee=C(1985),U=C(5055),Q=C(7953),X=C(591),W=C(5397),ae=C(5196),q=C(8071),te=C(5334),ye=C(3494);function Fe(rt){if(rt instanceof ee.c)return rt;if(null!=rt){if((0,U.l)(rt))return function Oe(rt){return new ee.c(tt=>{const Ot=rt[ye.s]();if((0,q.T)(Ot.subscribe))return Ot.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,E.X)(rt))return function Te(rt){return new ee.c(tt=>{for(let Ot=0;Ot<rt.length&&!tt.closed;Ot++)tt.next(rt[Ot]);tt.complete()})}(rt);if((0,ie.y)(rt))return function _e(rt){return new ee.c(tt=>{rt.then(Ot=>{tt.closed||(tt.next(Ot),tt.complete())},Ot=>tt.error(Ot)).then(null,te.m)})}(rt);if((0,Q.T)(rt))return Le(rt);if((0,W.x)(rt))return function He(rt){return new ee.c(tt=>{for(const Ot of rt)if(tt.next(Ot),tt.closed)return;tt.complete()})}(rt);if((0,ae.U)(rt))return function mt(rt){return Le((0,ae.C)(rt))}(rt)}throw(0,X.L)(rt)}function Le(rt){return new ee.c(tt=>{(function Et(rt,tt){var Ot,Mt,jt,Vt;return(0,_.sH)(this,void 0,void 0,function*(){try{for(Ot=(0,_.xN)(rt);!(Mt=yield Ot.next()).done;)if(tt.next(Mt.value),tt.closed)return}catch(Wt){jt={error:Wt}}finally{try{Mt&&!Mt.done&&(Vt=Ot.return)&&(yield Vt.call(Ot))}finally{if(jt)throw jt.error}}tt.complete()})})(rt,tt).catch(Ot=>tt.error(Ot))})}},8793:(lt,he,C)=>{C.d(he,{x:()=>U});var _=C(6365),ie=C(9326),ee=C(2806);function U(...Q){return function E(){return(0,_.U)(1)}()((0,ee.H)(Q,(0,ie.lI)(Q)))}},8810:(lt,he,C)=>{C.d(he,{$:()=>ie});var _=C(1985),E=C(8071);function ie(ee,U){const Q=(0,E.T)(ee)?ee:()=>ee,X=W=>W.error(Q());return new _.c(U?W=>U.schedule(X,0,W):X)}},8964:(lt,he,C)=>{C.d(he,{b4:()=>Q,cp:()=>ie});var _=C(9310),E=C(2503);const ie="load-data",U=(0,_.vy)({data:null,loading:!1,error:null},(0,_.on)(E.Ze,X=>({...X,loading:!0})),(0,_.on)(E.aE,(X,{payload:W})=>({...X,loading:!1,data:W})),(0,_.on)(E.Ny,(X,{payload:W})=>({...X,loading:!1,error:W})));function Q(X,W){return U(X,W)}},9030:(lt,he,C)=>{C.d(he,{v:()=>ie});var _=C(1985),E=C(8750);function ie(ee){return new _.c(U=>{(0,E.Tg)(ee()).subscribe(U)})}},9072:(lt,he,C)=>{C.d(he,{M:()=>X});var _=C(9310),E=C(4413),ie=C(2830);const ee=(0,_.UX)(ie.cp),U=(0,_.Mz)(ee,W=>W.count);var Q=C(4438);let X=(()=>{class W{constructor(q){this.store=q}getCount(){return this.store.pipe((0,_.Lt)(U))}incrementCount(){this.store.dispatch(E.GV())}decrementCount(){this.store.dispatch(E.Kt())}resetCount(){this.store.dispatch(E.cL())}setValue(q){this.store.dispatch(E.Co({newValue:q}))}loadValue(){this.store.dispatch(E.m5())}static{this.\u0275fac=function(te){return new(te||W)(Q.KVO(_.il))}}static{this.\u0275prov=Q.jDH({token:W,factory:W.\u0275fac})}}return W})()},9079:(lt,he,C)=>{C.d(he,{ZX:()=>Oe,br:()=>ae,ot:()=>te,pQ:()=>U});var _=C(4438),E=C(1985),ie=C(2771),ee=C(6977);function U(Te){Te||((0,_.Af3)(U),Te=(0,_.WQX)(_.abz));const _e=new E.c(He=>Te.onDestroy(He.next.bind(He)));return He=>He.pipe((0,ee.Q)(_e))}function ae(Te,_e){!_e?.injector&&(0,_.Af3)(ae);const He=_e?.injector??(0,_.WQX)(_.zZn),Le=new ie.m(1),mt=(0,_.QZP)(()=>{let Et;try{Et=Te()}catch(rt){return void(0,_.O8t)(()=>Le.error(rt))}(0,_.O8t)(()=>Le.next(Et))},{injector:He,manualCleanup:!0});return He.get(_.abz).onDestroy(()=>{mt.destroy(),Le.complete()}),Le.asObservable()}function te(Te,_e){const He=!_e?.manualCleanup;He&&!_e?.injector&&(0,_.Af3)(te);const Le=He?_e?.injector?.get(_.abz)??(0,_.WQX)(_.abz):null,mt=function ye(Te=Object.is){return(_e,He)=>1===_e.kind&&1===He.kind&&Te(_e.value,He.value)}(_e?.equal);let Et;Et=(0,_.vPA)(_e?.requireSync?{kind:0}:{kind:1,value:_e?.initialValue},{equal:mt});const rt=Te.subscribe({next:tt=>Et.set({kind:1,value:tt}),error:tt=>{if(_e?.rejectErrors)throw tt;Et.set({kind:2,error:tt})}});if(_e?.requireSync&&0===Et().kind)throw new _.wOt(601,!1);return Le?.onDestroy(rt.unsubscribe.bind(rt)),(0,_.EWP)(()=>{const tt=Et();switch(tt.kind){case 1:return tt.value;case 2:throw tt.error;case 0:throw new _.wOt(601,!1)}},{equal:_e?.equal})}function Oe(Te){return Te?.injector||(0,_.Af3)(Oe),(0,_.ZcF)({...Te,loader:void 0,stream:_e=>{let He;const Le=()=>He.unsubscribe();_e.abortSignal.addEventListener("abort",Le);const mt=(0,_.vPA)({value:void 0});let Et;const rt=new Promise(Ot=>Et=Ot);function tt(Ot){mt.set(Ot),Et?.(mt),Et=void 0}return He=Te.loader(_e).subscribe({next:Ot=>tt({value:Ot}),error:Ot=>tt({error:Ot}),complete:()=>{Et&&tt({error:new Error("Resource completed before producing a value")}),_e.abortSignal.removeEventListener("abort",Le)}}),rt}})}},9085:(lt,he,C)=>{C.d(he,{E:()=>E});var _=C(6354);function E(...ie){const ee=ie.length;if(0===ee)throw new Error("list of properties cannot be empty.");return(0,_.T)(U=>{let Q=U;for(let X=0;X<ee;X++){const W=Q?.[ie[X]];if(!(typeof W<"u"))return;Q=W}return Q})}},9172:(lt,he,C)=>{C.d(he,{Z:()=>ee});var _=C(8793),E=C(9326),ie=C(9974);function ee(...U){const Q=(0,E.lI)(U);return(0,ie.N)((X,W)=>{(Q?(0,_.x)(U,X,Q):(0,_.x)(U,X)).subscribe(W)})}},9270:(lt,he,C)=>{C.d(he,{f:()=>_});const _={setTimeout(E,ie,...ee){const{delegate:U}=_;return U?.setTimeout?U.setTimeout(E,ie,...ee):setTimeout(E,ie,...ee)},clearTimeout(E){const{delegate:ie}=_;return(ie?.clearTimeout||clearTimeout)(E)},delegate:void 0}},9310:(lt,he,C)=>{C.d(he,{Bh:()=>Fr,Lt:()=>dn,Mz:()=>pt,N_:()=>Ft,QU:()=>ts,SS:()=>Wt,UX:()=>Dn,VP:()=>Te,Zz:()=>Vt,ae:()=>wt,h1:()=>Nr,il:()=>Yt,md:()=>Ct,on:()=>bt,q6:()=>Tn,sA:()=>tr,vy:()=>rn,wc:()=>$e,xk:()=>_e});var _=C(4438),E=C(4412),ie=C(1985),ee=C(1413),U=C(7242),Q=C(941),X=C(3993),W=C(2816),ae=C(9085),q=C(6354),te=C(3294),ye=C(9079);const Fe={};function Te(ce,ze){if(Fe[ce]=(Fe[ce]||0)+1,"function"==typeof ze)return Le(ce,(...Ue)=>({...ze(...Ue),type:ce}));switch(ze?ze._as:"empty"){case"empty":return Le(ce,()=>({type:ce}));case"props":return Le(ce,Ue=>({...Ue,type:ce}));default:throw new Error("Unexpected config.")}}function _e(){return{_as:"props",_p:void 0}}function Le(ce,ze){return Object.defineProperty(ze,"type",{value:ce,writable:!1})}const Vt="@ngrx/store/init";let Wt=(()=>{class ce extends E.t{constructor(){super({type:Vt})}next(Me){if("function"==typeof Me)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Me>"u")throw new TypeError("Actions must be objects");if(typeof Me.type>"u")throw new TypeError("Actions must have a type property");super.next(Me)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(Ue){return new(Ue||ce)}}static{this.\u0275prov=_.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();const wn=[Wt],ut=new _.nKC("@ngrx/store Internal Root Guard"),Ge=new _.nKC("@ngrx/store Internal Initial State"),Ft=new _.nKC("@ngrx/store Initial State"),nn=new _.nKC("@ngrx/store Reducer Factory"),jn=new _.nKC("@ngrx/store Internal Reducer Factory Provider"),Or=new _.nKC("@ngrx/store Initial Reducers"),es=new _.nKC("@ngrx/store Internal Initial Reducers"),Cr=new _.nKC("@ngrx/store Store Features"),Gr=new _.nKC("@ngrx/store Internal Store Reducers"),Ne=new _.nKC("@ngrx/store Internal Feature Reducers"),Qe=new _.nKC("@ngrx/store Internal Feature Configs"),Ze=new _.nKC("@ngrx/store Internal Store Features"),Xe=new _.nKC("@ngrx/store Internal Feature Reducers Token"),Dt=new _.nKC("@ngrx/store Feature Reducers"),vt=new _.nKC("@ngrx/store User Provided Meta Reducers"),Lt=new _.nKC("@ngrx/store Meta Reducers"),vn=new _.nKC("@ngrx/store Internal Resolved Meta Reducers"),er=new _.nKC("@ngrx/store User Runtime Checks Config"),qt=new _.nKC("@ngrx/store Internal User Runtime Checks Config"),Mn=new _.nKC("@ngrx/store Internal Runtime Checks"),ln=new _.nKC("@ngrx/store Check if Action types are unique");function qn(ce,ze={}){const Me=Object.keys(ce),Ue={};for(let st=0;st<Me.length;st++){const xt=Me[st];"function"==typeof ce[xt]&&(Ue[xt]=ce[xt])}const ht=Object.keys(Ue);return function(xt,en){xt=void 0===xt?ze:xt;let _n=!1;const Tr={};for(let hn=0;hn<ht.length;hn++){const On=ht[hn],En=xt[On],ks=(0,Ue[On])(En,en);Tr[On]=ks,_n=_n||ks!==En}return _n?Tr:xt}}function or(...ce){return function(ze){if(0===ce.length)return ze;const Me=ce[ce.length-1];return ce.slice(0,-1).reduceRight((ht,st)=>st(ht),Me(ze))}}function Pr(ce,ze){return Array.isArray(ze)&&ze.length>0&&(ce=or.apply(null,[...ze,ce])),(Me,Ue)=>{const ht=ce(Me);return(st,xt)=>ht(st=void 0===st?Ue:st,xt)}}new _.nKC("@ngrx/store Root Store Provider"),new _.nKC("@ngrx/store Feature State Provider");class ts extends ie.c{}class Fr extends Wt{}const Tn="@ngrx/store/update-reducers";let Xr=(()=>{class ce extends E.t{get currentReducers(){return this.reducers}constructor(Me,Ue,ht,st){super(st(ht,Ue)),this.dispatcher=Me,this.initialState=Ue,this.reducers=ht,this.reducerFactory=st}addFeature(Me){this.addFeatures([Me])}addFeatures(Me){const Ue=Me.reduce((ht,{reducers:st,reducerFactory:xt,metaReducers:en,initialState:_n,key:Tr})=>{const hn="function"==typeof st?function Rs(ce){const ze=Array.isArray(ce)&&ce.length>0?or(...ce):Me=>Me;return(Me,Ue)=>(Me=ze(Me),(ht,st)=>Me(ht=void 0===ht?Ue:ht,st))}(en)(st,_n):Pr(xt,en)(st,_n);return ht[Tr]=hn,ht},{});this.addReducers(Ue)}removeFeature(Me){this.removeFeatures([Me])}removeFeatures(Me){this.removeReducers(Me.map(Ue=>Ue.key))}addReducer(Me,Ue){this.addReducers({[Me]:Ue})}addReducers(Me){this.reducers={...this.reducers,...Me},this.updateReducers(Object.keys(Me))}removeReducer(Me){this.removeReducers([Me])}removeReducers(Me){Me.forEach(Ue=>{this.reducers=function Qr(ce,ze){return Object.keys(ce).filter(Me=>Me!==ze).reduce((Me,Ue)=>Object.assign(Me,{[Ue]:ce[Ue]}),{})}(this.reducers,Ue)}),this.updateReducers(Me)}updateReducers(Me){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Tn,features:Me})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(Ue){return new(Ue||ce)(_.KVO(Fr),_.KVO(Ft),_.KVO(Or),_.KVO(nn))}}static{this.\u0275prov=_.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();const At=[Xr,{provide:ts,useExisting:Xr},{provide:Fr,useExisting:Wt}];let tr=(()=>{class ce extends ee.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let Me;return function(ht){return(Me||(Me=_.xGo(ce)))(ht||ce)}})()}static{this.\u0275prov=_.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();const ns=[tr];class Nr extends ie.c{}let xs=(()=>{class ce extends E.t{static{this.INIT=Vt}constructor(Me,Ue,ht,st){super(st);const Tr=Me.pipe((0,Q.Q)(U.T)).pipe((0,X.E)(Ue)).pipe((0,W.S)(qr,{state:st}));this.stateSubscription=Tr.subscribe(({state:hn,action:On})=>{this.next(hn),ht.next(On)}),this.state=(0,ye.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(Ue){return new(Ue||ce)(_.KVO(Wt),_.KVO(ts),_.KVO(tr),_.KVO(Ft))}}static{this.\u0275prov=_.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();function qr(ce={state:void 0},[ze,Me]){const{state:Ue}=ce;return{state:Me(Ue,ze),action:ze}}const Ii=[xs,{provide:Nr,useExisting:xs}];let Yt=(()=>{class ce extends ie.c{constructor(Me,Ue,ht,st){super(),this.actionsObserver=Ue,this.reducerManager=ht,this.injector=st,this.source=Me,this.state=Me.state}select(Me,...Ue){return dn.call(null,Me,...Ue)(this)}selectSignal(Me,Ue){return(0,_.EWP)(()=>Me(this.state()),Ue)}lift(Me){const Ue=new ce(this,this.actionsObserver,this.reducerManager);return Ue.operator=Me,Ue}dispatch(Me,Ue){if("function"==typeof Me)return this.processDispatchFn(Me,Ue);this.actionsObserver.next(Me)}next(Me){this.actionsObserver.next(Me)}error(Me){this.actionsObserver.error(Me)}complete(){this.actionsObserver.complete()}addReducer(Me,Ue){this.reducerManager.addReducer(Me,Ue)}removeReducer(Me){this.reducerManager.removeReducer(Me)}processDispatchFn(Me,Ue){!function rt(ce,ze){if(null==ce)throw new Error(`${ze} must be defined.`)}(this.injector,"Store Injector");const ht=Ue?.injector??function Xs(){try{return(0,_.WQX)(_.zZn)}catch{return}}()??this.injector;return(0,_.QZP)(()=>{const st=Me();(0,_.O8t)(()=>this.dispatch(st))},{injector:ht})}static{this.\u0275fac=function(Ue){return new(Ue||ce)(_.KVO(Nr),_.KVO(Wt),_.KVO(Xr),_.KVO(_.zZn))}}static{this.\u0275prov=_.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();const ni=[Yt];function dn(ce,ze,...Me){return function(ht){let st;if("string"==typeof ce){const xt=[ze,...Me].filter(Boolean);st=ht.pipe((0,ae.E)(ce,...xt))}else{if("function"!=typeof ce)throw new TypeError(`Unexpected type '${typeof ce}' in select operator, expected 'string' or 'function'`);st=ht.pipe((0,q.T)(xt=>ce(xt,ze)))}return st.pipe((0,te.F)())}}const zs="https://ngrx.io/guide/store/configuration/runtime-checks";function Yr(ce){return void 0===ce}function Ln(ce){return null===ce}function Er(ce){return Array.isArray(ce)}function An(ce){return"object"==typeof ce&&null!==ce}function Ps(ce){return"function"==typeof ce}let Re=!1;function De(ce,ze){return ce===ze}function Je(ce,ze=De,Me=De){let st,Ue=null,ht=null;return{memoized:function Tr(){if(void 0!==st)return st.result;if(!Ue)return ht=ce.apply(null,arguments),Ue=arguments,ht;if(!function oe(ce,ze,Me){for(let Ue=0;Ue<ce.length;Ue++)if(!Me(ce[Ue],ze[Ue]))return!0;return!1}(arguments,Ue,ze))return ht;const hn=ce.apply(null,arguments);return Ue=arguments,Me(ht,hn)?ht:(ht=hn,hn)},reset:function xt(){Ue=null,ht=null},setResult:function en(hn=void 0){st={result:hn}},clearResult:function _n(){st=void 0}}}function pt(...ce){return function Ut(ce,ze={stateFn:Gt}){return function(...Me){let Ue=Me;if(Array.isArray(Ue[0])){const[hn,...On]=Ue;Ue=[...hn,...On]}else 1===Ue.length&&function nr(ce){return!!ce&&"object"==typeof ce&&Object.values(ce).every(ze=>"function"==typeof ze)}(Ue[0])&&(Ue=function ar(ce){const ze=Object.values(ce),Me=Object.keys(ce);return[...ze,(...ht)=>Me.reduce((st,xt,en)=>({...st,[xt]:ht[en]}),{})]}(Ue[0]));const ht=Ue.slice(0,Ue.length-1),st=Ue[Ue.length-1],xt=ht.filter(hn=>hn.release&&"function"==typeof hn.release),en=ce(function(...hn){return st.apply(null,hn)}),_n=Je(function(hn,On){return ze.stateFn.apply(null,[hn,ht,On,en])});return Object.assign(_n.memoized,{release:function Tr(){_n.reset(),en.reset(),xt.forEach(hn=>hn.release())},projector:en.memoized,setResult:_n.setResult,clearResult:_n.clearResult})}}(Je)(...ce)}function Gt(ce,ze,Me,Ue){if(void 0===Me){const st=ze.map(xt=>xt(ce));return Ue.memoized.apply(null,st)}const ht=ze.map(st=>st(ce,Me));return Ue.memoized.apply(null,[...ht,Me])}function Dn(ce){return pt(ze=>{const Me=ze[ce];return!function le(){return Re}()&&(0,_.naY)()&&!(ce in ze)&&console.warn(`@ngrx/store: The feature name "${ce}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ce}', ...) or StoreModule.forFeature('${ce}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Me},ze=>ze)}function gt(ce){return ce instanceof _.nKC?(0,_.WQX)(ce):ce}function dt(ce,ze){return ze.map((Me,Ue)=>{if(ce[Ue]instanceof _.nKC){const ht=(0,_.WQX)(ce[Ue]);return{key:Me.key,reducerFactory:ht.reducerFactory?ht.reducerFactory:qn,metaReducers:ht.metaReducers?ht.metaReducers:[],initialState:ht.initialState}}return Me})}function fn(ce){return ce.map(ze=>ze instanceof _.nKC?(0,_.WQX)(ze):ze)}function cn(ce){return"function"==typeof ce?ce():ce}function Sn(ce,ze){return ce.concat(ze)}function Lr(){if((0,_.WQX)(Yt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Cn(ce){Object.freeze(ce);const ze=Ps(ce);return Object.getOwnPropertyNames(ce).forEach(Me=>{if(!Me.startsWith("\u0275")&&function we(ce,ze){return Object.prototype.hasOwnProperty.call(ce,ze)}(ce,Me)&&(!ze||"caller"!==Me&&"callee"!==Me&&"arguments"!==Me)){const Ue=ce[Me];(An(Ue)||Ps(Ue))&&!Object.isFrozen(Ue)&&Cn(Ue)}}),ce}function yi(ce,ze=[]){return(Yr(ce)||Ln(ce))&&0===ze.length?{path:["root"],value:ce}:Object.keys(ce).reduce((Ue,ht)=>{if(Ue)return Ue;const st=ce[ht];return function Se(ce){return Ps(ce)&&ce.hasOwnProperty("\u0275cmp")}(st)?Ue:!(Yr(st)||Ln(st)||function jr(ce){return"number"==typeof ce}(st)||function kr(ce){return"boolean"==typeof ce}(st)||function Kn(ce){return"string"==typeof ce}(st)||Er(st))&&(function Yn(ce){if(!function io(ce){return An(ce)&&!Er(ce)}(ce))return!1;const ze=Object.getPrototypeOf(ce);return ze===Object.prototype||null===ze}(st)?yi(st,[...ze,ht]):{path:[...ze,ht],value:st})},!1)}function Rr(ce,ze){if(!1===ce)return;const Me=ce.path.join("."),Ue=new Error(`Detected unserializable ${ze} at "${Me}". ${zs}#strict${ze}serializability`);throw Ue.value=ce.value,Ue.unserializablePath=Me,Ue}function fs(ce){return(0,_.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ce}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function zi({strictActionSerializability:ce,strictStateSerializability:ze}){return Me=>ce||ze?function Ki(ce,ze){return function(Me,Ue){ze.action(Ue)&&Rr(yi(Ue),"action");const ht=ce(Me,Ue);return ze.state()&&Rr(yi(ht),"state"),ht}}(Me,{action:Ue=>ce&&!wr(Ue),state:()=>ze}):Me}function ps({strictActionImmutability:ce,strictStateImmutability:ze}){return Me=>ce||ze?function Ir(ce,ze){return function(Me,Ue){const ht=ze.action(Ue)?Cn(Ue):Ue,st=ce(Me,ht);return ze.state()?Cn(st):st}}(Me,{action:Ue=>ce&&!wr(Ue),state:()=>ze}):Me}function wr(ce){return ce.type.startsWith("@ngrx")}function _o({strictActionWithinNgZone:ce}){return ze=>ce?function an(ce,ze){return function(Me,Ue){if(ze.action(Ue)&&!_.SKi.isInAngularZone())throw new Error(`Action '${Ue.type}' running outside NgZone. ${zs}#strictactionwithinngzone`);return ce(Me,Ue)}}(ze,{action:Me=>ce&&!wr(Me)}):ze}function oo(ce){return[{provide:qt,useValue:ce},{provide:er,useFactory:Zt,deps:[qt]},{provide:Mn,deps:[er],useFactory:fs},{provide:Lt,multi:!0,deps:[Mn],useFactory:ps},{provide:Lt,multi:!0,deps:[Mn],useFactory:zi},{provide:Lt,multi:!0,deps:[Mn],useFactory:_o}]}function ci(){return[{provide:ln,multi:!0,deps:[Mn],useFactory:ao}]}function Zt(ce){return ce}function ao(ce){if(!ce.strictActionTypeUniqueness)return;const ze=Object.entries(Fe).filter(([,Me])=>Me>1).map(([Me])=>Me);if(ze.length)throw new Error(`Action types are registered more than once, ${ze.map(Me=>`"${Me}"`).join(", ")}. ${zs}#strictactiontypeuniqueness`)}function Gi(ce={},ze={}){return[{provide:ut,useFactory:Lr},{provide:Ge,useValue:ze.initialState},{provide:Ft,useFactory:cn,deps:[Ge]},{provide:es,useValue:ce},{provide:Gr,useExisting:ce instanceof _.nKC?ce:es},{provide:Or,deps:[es,[new _.y_5(Gr)]],useFactory:gt},{provide:vt,useValue:ze.metaReducers?ze.metaReducers:[]},{provide:vn,deps:[Lt,vt],useFactory:Sn},{provide:jn,useValue:ze.reducerFactory?ze.reducerFactory:qn},{provide:nn,deps:[jn,vn],useFactory:Pr},wn,At,ns,Ii,ni,oo(ze.runtimeChecks),ci()]}function fe(ce,ze,Me={}){return[{provide:Qe,multi:!0,useValue:ce instanceof Object?{}:Me},{provide:Cr,multi:!0,useValue:{key:ce instanceof Object?ce.name:ce,reducerFactory:Me instanceof _.nKC||!Me.reducerFactory?qn:Me.reducerFactory,metaReducers:Me instanceof _.nKC||!Me.metaReducers?[]:Me.metaReducers,initialState:Me instanceof _.nKC||!Me.initialState?void 0:Me.initialState}},{provide:Ze,deps:[Qe,Cr],useFactory:dt},{provide:Ne,multi:!0,useValue:ce instanceof Object?ce.reducer:ze},{provide:Xe,multi:!0,useExisting:ze instanceof _.nKC?ze:Ne},{provide:Dt,multi:!0,deps:[Ne,[new _.y_5(Xe)]],useFactory:fn},ci()]}let $e=(()=>{class ce{constructor(Me,Ue,ht,st,xt,en){}static{this.\u0275fac=function(Ue){return new(Ue||ce)(_.KVO(Wt),_.KVO(ts),_.KVO(tr),_.KVO(Yt),_.KVO(ut,8),_.KVO(ln,8))}}static{this.\u0275mod=_.$C({type:ce})}static{this.\u0275inj=_.G2t({})}}return ce})(),wt=(()=>{class ce{constructor(Me,Ue,ht,st,xt){this.features=Me,this.featureReducers=Ue,this.reducerManager=ht;const en=Me.map((_n,Tr)=>{const On=Ue.shift()[Tr];return{..._n,reducers:On,initialState:cn(_n.initialState)}});ht.addFeatures(en)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(Ue){return new(Ue||ce)(_.KVO(Ze),_.KVO(Dt),_.KVO(Xr),_.KVO($e),_.KVO(ln,8))}}static{this.\u0275mod=_.$C({type:ce})}static{this.\u0275inj=_.G2t({})}}return ce})(),Ct=(()=>{class ce{static forRoot(Me,Ue){return{ngModule:$e,providers:[...Gi(Me,Ue)]}}static forFeature(Me,Ue,ht={}){return{ngModule:wt,providers:[...fe(Me,Ue,ht)]}}static{this.\u0275fac=function(Ue){return new(Ue||ce)}}static{this.\u0275mod=_.$C({type:ce})}static{this.\u0275inj=_.G2t({})}}return ce})();function bt(...ce){return{reducer:ce.pop(),types:ce.map(Ue=>Ue.type)}}function rn(ce,...ze){const Me=new Map;for(const Ue of ze)for(const ht of Ue.types){const st=Me.get(ht);Me.set(ht,st?(en,_n)=>Ue.reducer(st(en,_n),_n):Ue.reducer)}return function(Ue=ce,ht){const st=Me.get(ht.type);return st?st(Ue,ht):Ue}}},9326:(lt,he,C)=>{C.d(he,{R0:()=>Q,lI:()=>U,ms:()=>ee});var _=C(8071),E=C(9470);function ie(X){return X[X.length-1]}function ee(X){return(0,_.T)(ie(X))?X.pop():void 0}function U(X){return(0,E.m)(ie(X))?X.pop():void 0}function Q(X,W){return"number"==typeof ie(X)?X.pop():W}},9350:(lt,he,C)=>{C.d(he,{G:()=>E});const E=(0,C(1853).L)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},9417:(lt,he,C)=>{C.d(he,{$R:()=>na,BC:()=>or,Fm:()=>zn,JD:()=>ki,MJ:()=>$e,MR:()=>Si,Q0:()=>On,R_:()=>Qa,VZ:()=>To,W0:()=>sa,X1:()=>Bc,Y4:()=>ht,YN:()=>Ya,YS:()=>bi,Yp:()=>Xa,ZU:()=>ln,Zm:()=>te,cV:()=>re,cb:()=>Pr,cz:()=>Le,gE:()=>Gt,j4:()=>Xi,k0:()=>rt,kq:()=>ae,l_:()=>wo,me:()=>Te,ok:()=>ms,qT:()=>Tr,tU:()=>Ys,v8:()=>di,vO:()=>_r,vS:()=>en,wz:()=>Do,xH:()=>Bo,xh:()=>fi,y7:()=>jo,zX:()=>Io});var _=C(4438),E=C(177),ie=C(2806),ee=C(7468),U=C(1413),Q=C(6354);let X=(()=>{class V{_renderer;_elementRef;onChange=N=>{};onTouched=()=>{};constructor(N,J){this._renderer=N,this._elementRef=J}setProperty(N,J){this._renderer.setProperty(this._elementRef.nativeElement,N,J)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static \u0275fac=function(J){return new(J||V)(_.rXU(_.sFG),_.rXU(_.aKT))};static \u0275dir=_.FsC({type:V})}return V})(),W=(()=>{class V extends X{static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,features:[_.Vt3]})}return V})();const ae=new _.nKC(""),q={provide:ae,useExisting:(0,_.Rfq)(()=>te),multi:!0};let te=(()=>{class V extends W{writeValue(N){this.setProperty("checked",N)}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(J,Ie){1&J&&_.bIt("change",function(Nn){return Ie.onChange(Nn.target.checked)})("blur",function(){return Ie.onTouched()})},standalone:!1,features:[_.Jv_([q]),_.Vt3]})}return V})();const ye={provide:ae,useExisting:(0,_.Rfq)(()=>Te),multi:!0},Oe=new _.nKC("");let Te=(()=>{class V extends X{_compositionMode;_composing=!1;constructor(N,J,Ie){super(N,J),this._compositionMode=Ie,null==this._compositionMode&&(this._compositionMode=!function Fe(){const V=(0,E.\u0275getDOM)()?(0,E.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static \u0275fac=function(J){return new(J||V)(_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(Oe,8))};static \u0275dir=_.FsC({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(J,Ie){1&J&&_.bIt("input",function(Nn){return Ie._handleInput(Nn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Nn){return Ie._compositionEnd(Nn.target.value)})},standalone:!1,features:[_.Jv_([ye]),_.Vt3]})}return V})();function _e(V){return null==V||0===He(V)}function He(V){return null==V?null:Array.isArray(V)||"string"==typeof V?V.length:V instanceof Set?V.size:null}const Le=new _.nKC(""),mt=new _.nKC(""),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rt{static min(B){return tt(B)}static max(B){return Ot(B)}static required(B){return Mt(B)}static requiredTrue(B){return function jt(V){return!0===V.value?null:{required:!0}}(B)}static email(B){return function Vt(V){return _e(V.value)||Et.test(V.value)?null:{email:!0}}(B)}static minLength(B){return Wt(B)}static maxLength(B){return wn(B)}static pattern(B){return ut(B)}static nullValidator(B){return null}static compose(B){return Gr(B)}static composeAsync(B){return Qe(B)}}function tt(V){return B=>{if(null==B.value||null==V)return null;const N=parseFloat(B.value);return!isNaN(N)&&N<V?{min:{min:V,actual:B.value}}:null}}function Ot(V){return B=>{if(null==B.value||null==V)return null;const N=parseFloat(B.value);return!isNaN(N)&&N>V?{max:{max:V,actual:B.value}}:null}}function Mt(V){return _e(V.value)?{required:!0}:null}function Wt(V){return B=>{const N=B.value?.length??He(B.value);return null===N||0===N?null:N<V?{minlength:{requiredLength:V,actualLength:N}}:null}}function wn(V){return B=>{const N=B.value?.length??He(B.value);return null!==N&&N>V?{maxlength:{requiredLength:V,actualLength:N}}:null}}function ut(V){if(!V)return Ge;let B,N;return"string"==typeof V?(N="","^"!==V.charAt(0)&&(N+="^"),N+=V,"$"!==V.charAt(V.length-1)&&(N+="$"),B=new RegExp(N)):(N=V.toString(),B=V),J=>{if(_e(J.value))return null;const Ie=J.value;return B.test(Ie)?null:{pattern:{requiredPattern:N,actualValue:Ie}}}}function Ge(V){return null}function Ft(V){return null!=V}function nn(V){return(0,_.jNT)(V)?(0,ie.H)(V):V}function jn(V){let B={};return V.forEach(N=>{B=null!=N?{...B,...N}:B}),0===Object.keys(B).length?null:B}function Or(V,B){return B.map(N=>N(V))}function Cr(V){return V.map(B=>function es(V){return!V.validate}(B)?B:N=>B.validate(N))}function Gr(V){if(!V)return null;const B=V.filter(Ft);return 0==B.length?null:function(N){return jn(Or(N,B))}}function Ne(V){return null!=V?Gr(Cr(V)):null}function Qe(V){if(!V)return null;const B=V.filter(Ft);return 0==B.length?null:function(N){const J=Or(N,B).map(nn);return(0,ee.p)(J).pipe((0,Q.T)(jn))}}function Ze(V){return null!=V?Qe(Cr(V)):null}function Xe(V,B){return null===V?[B]:Array.isArray(V)?[...V,B]:[V,B]}function Dt(V){return V._rawValidators}function vt(V){return V._rawAsyncValidators}function Lt(V){return V?Array.isArray(V)?V:[V]:[]}function vn(V,B){return Array.isArray(V)?V.includes(B):V===B}function er(V,B){const N=Lt(B);return Lt(V).forEach(Ie=>{vn(N,Ie)||N.push(Ie)}),N}function qt(V,B){return Lt(B).filter(N=>!vn(V,N))}class Mn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,N){return!!this.control&&this.control.hasError(B,N)}getError(B,N){return this.control?this.control.getError(B,N):null}}class ln extends Mn{name;get formDirective(){return null}get path(){return null}}class _r extends Mn{_parent=null;name=null;valueAccessor=null}class Un{_cd;constructor(B){this._cd=B}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let or=(()=>{class V extends Un{constructor(N){super(N)}static \u0275fac=function(J){return new(J||V)(_.rXU(_r,2))};static \u0275dir=_.FsC({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(J,Ie){2&J&&_.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},standalone:!1,features:[_.Vt3]})}return V})(),Pr=(()=>{class V extends Un{constructor(N){super(N)}static \u0275fac=function(J){return new(J||V)(_.rXU(ln,10))};static \u0275dir=_.FsC({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(J,Ie){2&J&&_.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},standalone:!1,features:[_.Vt3]})}return V})();const Ln="VALID",Er="INVALID",Kn="PENDING",kr="DISABLED";class jr{}class An extends jr{value;source;constructor(B,N){super(),this.value=B,this.source=N}}class io extends jr{pristine;source;constructor(B,N){super(),this.pristine=B,this.source=N}}class Yn extends jr{touched;source;constructor(B,N){super(),this.touched=B,this.source=N}}class Ps extends jr{status;source;constructor(B,N){super(),this.status=B,this.source=N}}class Se extends jr{source;constructor(B){super(),this.source=B}}class we extends jr{source;constructor(B){super(),this.source=B}}function Re(V){return(oe(V)?V.validators:V)||null}function le(V,B){return(oe(B)?B.asyncValidators:V)||null}function oe(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}function me(V,B,N){const J=V.controls;if(!(B?Object.keys(J):J).length)throw new _.wOt(1e3,"");if(!J[N])throw new _.wOt(1001,"")}function Je(V,B,N){V._forEachChild((J,Ie)=>{if(void 0===N[Ie])throw new _.wOt(1002,"")})}class pt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(B,N){this._assignValidators(B),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get status(){return(0,_.O8t)(this.statusReactive)}set status(B){(0,_.O8t)(()=>this.statusReactive.set(B))}_status=(0,_.EWP)(()=>this.statusReactive());statusReactive=(0,_.vPA)(void 0);get valid(){return this.status===Ln}get invalid(){return this.status===Er}get pending(){return this.status==Kn}get disabled(){return this.status===kr}get enabled(){return this.status!==kr}errors;get pristine(){return(0,_.O8t)(this.pristineReactive)}set pristine(B){(0,_.O8t)(()=>this.pristineReactive.set(B))}_pristine=(0,_.EWP)(()=>this.pristineReactive());pristineReactive=(0,_.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,_.O8t)(this.touchedReactive)}set touched(B){(0,_.O8t)(()=>this.touchedReactive.set(B))}_touched=(0,_.EWP)(()=>this.touchedReactive());touchedReactive=(0,_.vPA)(!1);get untouched(){return!this.touched}_events=new U.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(er(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(er(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(qt(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(qt(B,this._rawAsyncValidators))}hasValidator(B){return vn(this._rawValidators,B)}hasAsyncValidator(B){return vn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){const N=!1===this.touched;this.touched=!0;const J=B.sourceControl??this;this._parent&&!B.onlySelf&&this._parent.markAsTouched({...B,sourceControl:J}),N&&!1!==B.emitEvent&&this._events.next(new Yn(!0,J))}markAllAsTouched(B={}){this.markAsTouched({onlySelf:!0,emitEvent:B.emitEvent,sourceControl:this}),this._forEachChild(N=>N.markAllAsTouched(B))}markAsUntouched(B={}){const N=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const J=B.sourceControl??this;this._forEachChild(Ie=>{Ie.markAsUntouched({onlySelf:!0,emitEvent:B.emitEvent,sourceControl:J})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B,J),N&&!1!==B.emitEvent&&this._events.next(new Yn(!1,J))}markAsDirty(B={}){const N=!0===this.pristine;this.pristine=!1;const J=B.sourceControl??this;this._parent&&!B.onlySelf&&this._parent.markAsDirty({...B,sourceControl:J}),N&&!1!==B.emitEvent&&this._events.next(new io(!1,J))}markAsPristine(B={}){const N=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const J=B.sourceControl??this;this._forEachChild(Ie=>{Ie.markAsPristine({onlySelf:!0,emitEvent:B.emitEvent})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B,J),N&&!1!==B.emitEvent&&this._events.next(new io(!0,J))}markAsPending(B={}){this.status=Kn;const N=B.sourceControl??this;!1!==B.emitEvent&&(this._events.next(new Ps(this.status,N)),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.markAsPending({...B,sourceControl:N})}disable(B={}){const N=this._parentMarkedDirty(B.onlySelf);this.status=kr,this.errors=null,this._forEachChild(Ie=>{Ie.disable({...B,onlySelf:!0})}),this._updateValue();const J=B.sourceControl??this;!1!==B.emitEvent&&(this._events.next(new An(this.value,J)),this._events.next(new Ps(this.status,J)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:N},this),this._onDisabledChange.forEach(Ie=>Ie(!0))}enable(B={}){const N=this._parentMarkedDirty(B.onlySelf);this.status=Ln,this._forEachChild(J=>{J.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:N},this),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(B,N){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine({},N),this._parent._updateTouched({},N))}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const J=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ln||this.status===Kn)&&this._runAsyncValidator(J,B.emitEvent)}const N=B.sourceControl??this;!1!==B.emitEvent&&(this._events.next(new An(this.value,N)),this._events.next(new Ps(this.status,N)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity({...B,sourceControl:N})}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kr:Ln}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B,N){if(this.asyncValidator){this.status=Kn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==N};const J=nn(this.asyncValidator(this));this._asyncValidationSubscription=J.subscribe(Ie=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ie,{emitEvent:N,shouldHaveEmitted:B})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const B=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,B}return!1}setErrors(B,N={}){this.errors=B,this._updateControlsErrors(!1!==N.emitEvent,this,N.shouldHaveEmitted)}get(B){let N=B;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((J,Ie)=>J&&J._find(Ie),this)}getError(B,N){const J=N?this.get(N):this;return J&&J.errors?J.errors[B]:null}hasError(B,N){return!!this.getError(B,N)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B,N,J){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),(B||J)&&this._events.next(new Ps(this.status,N)),this._parent&&this._parent._updateControlsErrors(B,N,J)}_initObservables(){this.valueChanges=new _.bkB,this.statusChanges=new _.bkB}_calculateStatus(){return this._allControlsDisabled()?kr:this.errors?Er:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kn)?Kn:this._anyControlsHaveStatus(Er)?Er:Ln}_anyControlsHaveStatus(B){return this._anyControls(N=>N.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B,N){const J=!this._anyControlsDirty(),Ie=this.pristine!==J;this.pristine=J,this._parent&&!B.onlySelf&&this._parent._updatePristine(B,N),Ie&&this._events.next(new io(this.pristine,N))}_updateTouched(B={},N){this.touched=this._anyControlsTouched(),this._events.next(new Yn(this.touched,N)),this._parent&&!B.onlySelf&&this._parent._updateTouched(B,N)}_onDisabledChange=[];_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){oe(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function je(V){return Array.isArray(V)?Ne(V):V||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function De(V){return Array.isArray(V)?Ze(V):V||null}(this._rawAsyncValidators)}}class Gt extends pt{constructor(B,N,J){super(Re(N),le(J,N)),this.controls=B,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(B,N){return this.controls[B]?this.controls[B]:(this.controls[B]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(B,N,J={}){this.registerControl(B,N),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(B,N={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(B,N,J={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],N&&this.registerControl(B,N),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,N={}){Je(this,0,B),Object.keys(B).forEach(J=>{me(this,!0,J),this.controls[J].setValue(B[J],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(B,N={}){null!=B&&(Object.keys(B).forEach(J=>{const Ie=this.controls[J];Ie&&Ie.patchValue(B[J],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(B={},N={}){this._forEachChild((J,Ie)=>{J.reset(B?B[Ie]:null,{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(B,N,J)=>(B[J]=N.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(N,J)=>!!J._syncPendingControls()||N);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(N=>{const J=this.controls[N];J&&B(J,N)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[N,J]of Object.entries(this.controls))if(this.contains(N)&&B(J))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,J,Ie)=>((J.enabled||this.disabled)&&(N[Ie]=J.value),N))}_reduceChildren(B,N){let J=B;return this._forEachChild((Ie,Qt)=>{J=N(J,Ie,Qt)}),J}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}class ar extends Gt{}const et=new _.nKC("",{providedIn:"root",factory:()=>Ve}),Ve="always";function gt(V,B){return[...B.path,V]}function dt(V,B,N=Ve){Lr(V,B),B.valueAccessor.writeValue(V.value),(V.disabled||"always"===N)&&B.valueAccessor.setDisabledState?.(V.disabled),function Cn(V,B){B.valueAccessor.registerOnChange(N=>{V._pendingValue=N,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&yi(V,B)})}(V,B),function Rr(V,B){const N=(J,Ie)=>{B.valueAccessor.writeValue(J),Ie&&B.viewToModelUpdate(J)};V.registerOnChange(N),B._registerOnDestroy(()=>{V._unregisterOnChange(N)})}(V,B),function Ki(V,B){B.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&yi(V,B),"submit"!==V.updateOn&&V.markAsTouched()})}(V,B),function Sn(V,B){if(B.valueAccessor.setDisabledState){const N=J=>{B.valueAccessor.setDisabledState(J)};V.registerOnDisabledChange(N),B._registerOnDestroy(()=>{V._unregisterOnDisabledChange(N)})}}(V,B)}function fn(V,B,N=!0){const J=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(J),B.valueAccessor.registerOnTouched(J)),Ir(V,B),V&&(B._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function cn(V,B){V.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(B)})}function Lr(V,B){const N=Dt(V);null!==B.validator?V.setValidators(Xe(N,B.validator)):"function"==typeof N&&V.setValidators([N]);const J=vt(V);null!==B.asyncValidator?V.setAsyncValidators(Xe(J,B.asyncValidator)):"function"==typeof J&&V.setAsyncValidators([J]);const Ie=()=>V.updateValueAndValidity();cn(B._rawValidators,Ie),cn(B._rawAsyncValidators,Ie)}function Ir(V,B){let N=!1;if(null!==V){if(null!==B.validator){const Ie=Dt(V);if(Array.isArray(Ie)&&Ie.length>0){const Qt=Ie.filter(Nn=>Nn!==B.validator);Qt.length!==Ie.length&&(N=!0,V.setValidators(Qt))}}if(null!==B.asyncValidator){const Ie=vt(V);if(Array.isArray(Ie)&&Ie.length>0){const Qt=Ie.filter(Nn=>Nn!==B.asyncValidator);Qt.length!==Ie.length&&(N=!0,V.setAsyncValidators(Qt))}}}const J=()=>{};return cn(B._rawValidators,J),cn(B._rawAsyncValidators,J),N}function yi(V,B){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function an(V,B){Lr(V,B)}function ci(V,B){if(!V.hasOwnProperty("model"))return!1;const N=V.model;return!!N.isFirstChange()||!Object.is(B,N.currentValue)}function ao(V,B){V._syncPendingControls(),B.forEach(N=>{const J=N.control;"submit"===J.updateOn&&J._pendingChange&&(N.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}function ui(V,B){if(!B)return null;let N,J,Ie;return Array.isArray(B),B.forEach(Qt=>{Qt.constructor===Te?N=Qt:function Zt(V){return Object.getPrototypeOf(V.constructor)===W}(Qt)?J=Qt:Ie=Qt}),Ie||J||N||null}const Ta={provide:ln,useExisting:(0,_.Rfq)(()=>re)},Qi=Promise.resolve();let re=(()=>{class V extends ln{callSetDisabledState;get submitted(){return(0,_.O8t)(this.submittedReactive)}_submitted=(0,_.EWP)(()=>this.submittedReactive());submittedReactive=(0,_.vPA)(!1);_directives=new Set;form;ngSubmit=new _.bkB;options;constructor(N,J,Ie){super(),this.callSetDisabledState=Ie,this.form=new Gt({},Ne(N),Ze(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Qi.then(()=>{const J=this._findContainer(N.path);N.control=J.registerControl(N.name,N.control),dt(N.control,N,this.callSetDisabledState),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Qi.then(()=>{const J=this._findContainer(N.path);J&&J.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){Qi.then(()=>{const J=this._findContainer(N.path),Ie=new Gt({});an(Ie,N),J.registerControl(N.name,Ie),Ie.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Qi.then(()=>{const J=this._findContainer(N.path);J&&J.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,J){Qi.then(()=>{this.form.get(N.path).setValue(J)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submittedReactive.set(!0),ao(this.form,this._directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}static \u0275fac=function(J){return new(J||V)(_.rXU(Le,10),_.rXU(mt,10),_.rXU(et,8))};static \u0275dir=_.FsC({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(J,Ie){1&J&&_.bIt("submit",function(Nn){return Ie.onSubmit(Nn)})("reset",function(){return Ie.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_.Jv_([Ta]),_.Vt3]})}return V})();function Ee(V,B){const N=V.indexOf(B);N>-1&&V.splice(N,1)}function fe(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const $e=class extends pt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(B=null,N,J){super(Re(N),le(J,N)),this._applyFormState(B),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=fe(B)?B.value:B)}setValue(B,N={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(B,N={}){this.setValue(B,N)}reset(B=this.defaultValue,N={}){this._applyFormState(B),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Ee(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Ee(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){fe(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}};let bt=(()=>{class V extends ln{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return gt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,standalone:!1,features:[_.Vt3]})}return V})();const Ue={provide:ln,useExisting:(0,_.Rfq)(()=>ht)};let ht=(()=>{class V extends bt{name="";constructor(N,J,Ie){super(),this._parent=N,this._setValidators(J),this._setAsyncValidators(Ie)}_checkParentType(){}static \u0275fac=function(J){return new(J||V)(_.rXU(ln,5),_.rXU(Le,10),_.rXU(mt,10))};static \u0275dir=_.FsC({type:V,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],standalone:!1,features:[_.Jv_([Ue]),_.Vt3]})}return V})();const st={provide:_r,useExisting:(0,_.Rfq)(()=>en)},xt=Promise.resolve();let en=(()=>{class V extends _r{_changeDetectorRef;callSetDisabledState;control=new $e;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _.bkB;constructor(N,J,Ie,Qt,Nn,vi){super(),this._changeDetectorRef=Nn,this.callSetDisabledState=vi,this._parent=N,this._setValidators(J),this._setAsyncValidators(Ie),this.valueAccessor=ui(0,Qt)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const J=N.name.previousValue;this.formDirective.removeControl({name:J,path:this._getPath(J)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),ci(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){xt.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const J=N.isDisabled.currentValue,Ie=0!==J&&(0,_.L39)(J);xt.then(()=>{Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?gt(N,this._parent):[N]}static \u0275fac=function(J){return new(J||V)(_.rXU(ln,9),_.rXU(Le,10),_.rXU(mt,10),_.rXU(ae,10),_.rXU(_.gRc,8),_.rXU(et,8))};static \u0275dir=_.FsC({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_.Jv_([st]),_.Vt3,_.OA$]})}return V})(),Tr=(()=>{class V{static \u0275fac=function(J){return new(J||V)};static \u0275dir=_.FsC({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return V})();const hn={provide:ae,useExisting:(0,_.Rfq)(()=>On),multi:!0};let On=(()=>{class V extends W{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=J=>{N(""==J?null:parseFloat(J))}}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(J,Ie){1&J&&_.bIt("input",function(Nn){return Ie.onChange(Nn.target.value)})("blur",function(){return Ie.onTouched()})},standalone:!1,features:[_.Jv_([hn]),_.Vt3]})}return V})();const Fs={provide:ae,useExisting:(0,_.Rfq)(()=>zn),multi:!0};let ks=(()=>{class V{_accessors=[];add(N,J){this._accessors.push([N,J])}remove(N){for(let J=this._accessors.length-1;J>=0;--J)if(this._accessors[J][1]===N)return void this._accessors.splice(J,1)}select(N){this._accessors.forEach(J=>{this._isSameGroup(J,N)&&J[1]!==N&&J[1].fireUncheck(N.value)})}_isSameGroup(N,J){return!!N[0].control&&N[0]._parent===J._control._parent&&N[1].name===J.name}static \u0275fac=function(J){return new(J||V)};static \u0275prov=_.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),zn=(()=>{class V extends W{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,_.WQX)(et,{optional:!0})??Ve;constructor(N,J,Ie,Qt){super(N,J),this._registry=Ie,this._injector=Qt}ngOnInit(){this._control=this._injector.get(_r),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}setDisabledState(N){(this.setDisabledStateFired||N||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",N),this.setDisabledStateFired=!0}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(J){return new(J||V)(_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(ks),_.rXU(_.zZn))};static \u0275dir=_.FsC({type:V,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(J,Ie){1&J&&_.bIt("change",function(){return Ie.onChange()})("blur",function(){return Ie.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[_.Jv_([Fs]),_.Vt3]})}return V})();const Zr={provide:ae,useExisting:(0,_.Rfq)(()=>Si),multi:!0};let Si=(()=>{class V extends W{writeValue(N){this.setProperty("value",parseFloat(N))}registerOnChange(N){this.onChange=J=>{N(""==J?null:parseFloat(J))}}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(J,Ie){1&J&&_.bIt("change",function(Nn){return Ie.onChange(Nn.target.value)})("input",function(Nn){return Ie.onChange(Nn.target.value)})("blur",function(){return Ie.onTouched()})},standalone:!1,features:[_.Jv_([Zr]),_.Vt3]})}return V})();const ri=new _.nKC(""),ea={provide:_r,useExisting:(0,_.Rfq)(()=>wo)};let wo=(()=>{class V extends _r{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(N){}model;update=new _.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(N,J,Ie,Qt,Nn){super(),this._ngModelWarningConfig=Qt,this.callSetDisabledState=Nn,this._setValidators(N),this._setAsyncValidators(J),this.valueAccessor=ui(0,Ie)}ngOnChanges(N){if(this._isControlChanged(N)){const J=N.form.previousValue;J&&fn(J,this,!1),dt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ci(N,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&fn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_isControlChanged(N){return N.hasOwnProperty("form")}static \u0275fac=function(J){return new(J||V)(_.rXU(Le,10),_.rXU(mt,10),_.rXU(ae,10),_.rXU(ri,8),_.rXU(et,8))};static \u0275dir=_.FsC({type:V,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[_.Jv_([ea]),_.Vt3,_.OA$]})}return V})();const ta={provide:ln,useExisting:(0,_.Rfq)(()=>Xi)};let Xi=(()=>{class V extends ln{callSetDisabledState;get submitted(){return(0,_.O8t)(this._submittedReactive)}set submitted(N){this._submittedReactive.set(N)}_submitted=(0,_.EWP)(()=>this._submittedReactive());_submittedReactive=(0,_.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new _.bkB;constructor(N,J,Ie){super(),this.callSetDisabledState=Ie,this._setValidators(N),this._setAsyncValidators(J)}ngOnChanges(N){N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ir(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const J=this.form.get(N.path);return dt(J,N,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),J}getControl(N){return this.form.get(N.path)}removeControl(N){fn(N.control||null,N,!1),function Gi(V,B){const N=V.indexOf(B);N>-1&&V.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,J){this.form.get(N.path).setValue(J)}onSubmit(N){return this._submittedReactive.set(!0),ao(this.form,this.directives),this.ngSubmit.emit(N),this.form._events.next(new Se(this.control)),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this._submittedReactive.set(!1),this.form._events.next(new we(this.form))}_updateDomValue(){this.directives.forEach(N=>{const J=N.control,Ie=this.form.get(N.path);J!==Ie&&(fn(J||null,N),(V=>V instanceof $e)(Ie)&&(dt(Ie,N,this.callSetDisabledState),N.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const J=this.form.get(N.path);an(J,N),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const J=this.form.get(N.path);J&&function fs(V,B){return Ir(V,B)}(J,N)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lr(this.form,this),this._oldForm&&Ir(this._oldForm,this)}static \u0275fac=function(J){return new(J||V)(_.rXU(Le,10),_.rXU(mt,10),_.rXU(et,8))};static \u0275dir=_.FsC({type:V,selectors:[["","formGroup",""]],hostBindings:function(J,Ie){1&J&&_.bIt("submit",function(Nn){return Ie.onSubmit(Nn)})("reset",function(){return Ie.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_.Jv_([ta]),_.Vt3,_.OA$]})}return V})();const Ao={provide:ln,useExisting:(0,_.Rfq)(()=>na)};let na=(()=>{class V extends bt{name=null;constructor(N,J,Ie){super(),this._parent=N,this._setValidators(J),this._setAsyncValidators(Ie)}_checkParentType(){lo(this._parent)}static \u0275fac=function(J){return new(J||V)(_.rXU(ln,13),_.rXU(Le,10),_.rXU(mt,10))};static \u0275dir=_.FsC({type:V,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[_.Jv_([Ao]),_.Vt3]})}return V})();const Uo={provide:ln,useExisting:(0,_.Rfq)(()=>di)};let di=(()=>{class V extends ln{_parent;name=null;constructor(N,J,Ie){super(),this._parent=N,this._setValidators(J),this._setAsyncValidators(Ie)}ngOnInit(){lo(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return gt(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(J){return new(J||V)(_.rXU(ln,13),_.rXU(Le,10),_.rXU(mt,10))};static \u0275dir=_.FsC({type:V,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[_.Jv_([Uo]),_.Vt3]})}return V})();function lo(V){return!(V instanceof na||V instanceof Xi||V instanceof di)}const Dl={provide:_r,useExisting:(0,_.Rfq)(()=>ki)};let ki=(()=>{class V extends _r{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(N){}model;update=new _.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(N,J,Ie,Qt,Nn){super(),this._ngModelWarningConfig=Nn,this._parent=N,this._setValidators(J),this._setAsyncValidators(Ie),this.valueAccessor=ui(0,Qt)}ngOnChanges(N){this._added||this._setUpControl(),ci(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return gt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(J){return new(J||V)(_.rXU(ln,13),_.rXU(Le,10),_.rXU(mt,10),_.rXU(ae,10),_.rXU(ri,8))};static \u0275dir=_.FsC({type:V,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[_.Jv_([Dl]),_.Vt3,_.OA$]})}return V})();const qs={provide:ae,useExisting:(0,_.Rfq)(()=>Do),multi:!0};function sc(V,B){return null==V?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${V}: ${B}`.slice(0,50))}let Do=(()=>{class V extends W{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;writeValue(N){this.value=N;const Ie=sc(this._getOptionId(N),N);this.setProperty("value",Ie)}registerOnChange(N){this.onChange=J=>{this.value=this._getOptionValue(J),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const J of this._optionMap.keys())if(this._compareWith(this._optionMap.get(J),N))return J;return null}_getOptionValue(N){const J=function Ht(V){return V.split(":")[0]}(N);return this._optionMap.has(J)?this._optionMap.get(J):N}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(J,Ie){1&J&&_.bIt("change",function(Nn){return Ie.onChange(Nn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_.Jv_([qs]),_.Vt3]})}return V})(),Bo=(()=>{class V{_element;_renderer;_select;id;constructor(N,J,Ie){this._element=N,this._renderer=J,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(sc(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(J){return new(J||V)(_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(Do,9))};static \u0275dir=_.FsC({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return V})();const qi={provide:ae,useExisting:(0,_.Rfq)(()=>sa),multi:!0};function Oo(V,B){return null==V?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${V}: ${B}`.slice(0,50))}let sa=(()=>{class V extends W{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;writeValue(N){let J;if(this.value=N,Array.isArray(N)){const Ie=N.map(Qt=>this._getOptionId(Qt));J=(Qt,Nn)=>{Qt._setSelected(Ie.indexOf(Nn.toString())>-1)}}else J=(Ie,Qt)=>{Ie._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(N){this.onChange=J=>{const Ie=[],Qt=J.selectedOptions;if(void 0!==Qt){const Nn=Qt;for(let vi=0;vi<Nn.length;vi++){const Yi=this._getOptionValue(Nn[vi].value);Ie.push(Yi)}}else{const Nn=J.options;for(let vi=0;vi<Nn.length;vi++){const Vi=Nn[vi];if(Vi.selected){const Yi=this._getOptionValue(Vi.value);Ie.push(Yi)}}}this.value=Ie,N(Ie)}}_registerOption(N){const J=(this._idCounter++).toString();return this._optionMap.set(J,N),J}_getOptionId(N){for(const J of this._optionMap.keys())if(this._compareWith(this._optionMap.get(J)._value,N))return J;return null}_getOptionValue(N){const J=function Co(V){return V.split(":")[0]}(N);return this._optionMap.has(J)?this._optionMap.get(J)._value:N}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(J,Ie){1&J&&_.bIt("change",function(Nn){return Ie.onChange(Nn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_.Jv_([qi]),_.Vt3]})}return V})(),jo=(()=>{class V{_element;_renderer;_select;id;_value;constructor(N,J,Ie){this._element=N,this._renderer=J,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(Oo(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(Oo(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(J){return new(J||V)(_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(sa,9))};static \u0275dir=_.FsC({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return V})();function ic(V){return"number"==typeof V?V:parseInt(V,10)}function us(V){return"number"==typeof V?V:parseFloat(V)}let Li=(()=>{class V{_validator=Ge;_onChange;_enabled;ngOnChanges(N){if(this.inputName in N){const J=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(J),this._validator=this._enabled?this.createValidator(J):Ge,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}static \u0275fac=function(J){return new(J||V)};static \u0275dir=_.FsC({type:V,features:[_.OA$]})}return V})();const si={provide:Le,useExisting:(0,_.Rfq)(()=>Io),multi:!0};let Io=(()=>{class V extends Li{max;inputName="max";normalizeInput=N=>us(N);createValidator=N=>Ot(N);static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(J,Ie){2&J&&_.BMQ("max",Ie._enabled?Ie.max:null)},inputs:{max:"max"},standalone:!1,features:[_.Jv_([si]),_.Vt3]})}return V})();const hi={provide:Le,useExisting:(0,_.Rfq)(()=>To),multi:!0};let To=(()=>{class V extends Li{min;inputName="min";normalizeInput=N=>us(N);createValidator=N=>tt(N);static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(J,Ie){2&J&&_.BMQ("min",Ie._enabled?Ie.min:null)},inputs:{min:"min"},standalone:!1,features:[_.Jv_([hi]),_.Vt3]})}return V})();const Ka={provide:Le,useExisting:(0,_.Rfq)(()=>bi),multi:!0};let bi=(()=>{class V extends Li{required;inputName="required";normalizeInput=_.L39;createValidator=N=>Mt;enabled(N){return N}static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(J,Ie){2&J&&_.BMQ("required",Ie._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_.Jv_([Ka]),_.Vt3]})}return V})();const za={provide:Le,useExisting:(0,_.Rfq)(()=>fi),multi:!0};let fi=(()=>{class V extends Li{minlength;inputName="minlength";normalizeInput=N=>ic(N);createValidator=N=>Wt(N);static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(J,Ie){2&J&&_.BMQ("minlength",Ie._enabled?Ie.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[_.Jv_([za]),_.Vt3]})}return V})();const Mi={provide:Le,useExisting:(0,_.Rfq)(()=>Ys),multi:!0};let Ys=(()=>{class V extends Li{maxlength;inputName="maxlength";normalizeInput=N=>ic(N);createValidator=N=>wn(N);static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(J,Ie){2&J&&_.BMQ("maxlength",Ie._enabled?Ie.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[_.Jv_([Mi]),_.Vt3]})}return V})();const Ga={provide:Le,useExisting:(0,_.Rfq)(()=>Qa),multi:!0};let Qa=(()=>{class V extends Li{pattern;inputName="pattern";normalizeInput=N=>N;createValidator=N=>ut(N);static \u0275fac=(()=>{let N;return function(Ie){return(N||(N=_.xGo(V)))(Ie||V)}})();static \u0275dir=_.FsC({type:V,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(J,Ie){2&J&&_.BMQ("pattern",Ie._enabled?Ie.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[_.Jv_([Ga]),_.Vt3]})}return V})(),$o=(()=>{class V{static \u0275fac=function(J){return new(J||V)};static \u0275mod=_.$C({type:V});static \u0275inj=_.G2t({})}return V})();class Xa extends pt{constructor(B,N,J){super(Re(N),le(J,N)),this.controls=B,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(B){return this.controls[this._adjustIndex(B)]}push(B,N={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(B,N,J={}){this.controls.splice(B,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(B,N={}){let J=this._adjustIndex(B);J<0&&(J=0),this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),this.controls.splice(J,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(B,N,J={}){let Ie=this._adjustIndex(B);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),N&&(this.controls.splice(Ie,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,N={}){Je(this,0,B),B.forEach((J,Ie)=>{me(this,!1,Ie),this.at(Ie).setValue(J,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(B,N={}){null!=B&&(B.forEach((J,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(J,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(B=[],N={}){this._forEachChild((J,Ie)=>{J.reset(B[Ie],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(B=>B.getRawValue())}clear(B={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_adjustIndex(B){return B<0?B+this.length:B}_syncPendingControls(){let B=this.controls.reduce((N,J)=>!!J._syncPendingControls()||N,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((N,J)=>{B(N,J)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(N=>N.enabled&&B(N))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}_find(B){return this.at(B)??null}}function pn(V){return!!V&&(void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn)}let ms=(()=>{class V{useNonNullable=!1;get nonNullable(){const N=new V;return N.useNonNullable=!0,N}group(N,J=null){const Ie=this._reduceControls(N);let Qt={};return pn(J)?Qt=J:null!==J&&(Qt.validators=J.validator,Qt.asyncValidators=J.asyncValidator),new Gt(Ie,Qt)}record(N,J=null){const Ie=this._reduceControls(N);return new ar(Ie,J)}control(N,J,Ie){let Qt={};return this.useNonNullable?(pn(J)?Qt=J:(Qt.validators=J,Qt.asyncValidators=Ie),new $e(N,{...Qt,nonNullable:!0})):new $e(N,J,Ie)}array(N,J,Ie){const Qt=N.map(Nn=>this._createControl(Nn));return new Xa(Qt,J,Ie)}_reduceControls(N){const J={};return Object.keys(N).forEach(Ie=>{J[Ie]=this._createControl(N[Ie])}),J}_createControl(N){return N instanceof $e||N instanceof pt?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}static \u0275fac=function(J){return new(J||V)};static \u0275prov=_.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),Ya=(()=>{class V{static withConfig(N){return{ngModule:V,providers:[{provide:et,useValue:N.callSetDisabledState??Ve}]}}static \u0275fac=function(J){return new(J||V)};static \u0275mod=_.$C({type:V});static \u0275inj=_.G2t({imports:[$o]})}return V})(),Bc=(()=>{class V{static withConfig(N){return{ngModule:V,providers:[{provide:ri,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:et,useValue:N.callSetDisabledState??Ve}]}}static \u0275fac=function(J){return new(J||V)};static \u0275mod=_.$C({type:V});static \u0275inj=_.G2t({imports:[$o]})}return V})()},9437:(lt,he,C)=>{C.d(he,{W:()=>ee});var _=C(8750),E=C(4360),ie=C(9974);function ee(U){return(0,ie.N)((Q,X)=>{let q,W=null,ae=!1;W=Q.subscribe((0,E._)(X,void 0,void 0,te=>{q=(0,_.Tg)(U(te,ee(U)(Q))),W?(W.unsubscribe(),W=null,q.subscribe(X)):ae=!0})),ae&&(W.unsubscribe(),W=null,q.subscribe(X))})}},9470:(lt,he,C)=>{C.d(he,{m:()=>E});var _=C(8071);function E(ie){return ie&&(0,_.T)(ie.schedule)}},9599:(lt,he,C)=>{C.d(he,{gS:()=>K,rJ:()=>Sv,kd:()=>P,H9:()=>b_,ol:()=>Eu,x7:()=>Ey,GG:()=>a,aU:()=>A_,aQ:()=>G,O5:()=>gn,mZ:()=>b});var W,_=C(467),E=C(7852),ie=C(1362),ee=C(8041),U=C(1076),Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X={},ae=ae||{},q=Q||self;function te(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function ye(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Oe="closure_uid_"+(1e9*Math.random()>>>0),Te=0;function _e(i,t,s){return i.call.apply(i.bind,arguments)}function He(i,t,s){if(!i)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,l),i.apply(t,f)}}return function(){return i.apply(t,arguments)}}function Le(i,t,s){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_e:He).apply(null,arguments)}function mt(i,t){var s=Array.prototype.slice.call(arguments,1);return function(){var l=s.slice();return l.push.apply(l,arguments),i.apply(this,l)}}function Et(i,t){function s(){}s.prototype=t.prototype,i.$=t.prototype,i.prototype=new s,i.prototype.constructor=i,i.ac=function(l,f,g){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return t.prototype[f].apply(l,v)}}function rt(){this.s=this.s,this.o=this.o}rt.prototype.s=!1,rt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Fe(i){Object.prototype.hasOwnProperty.call(i,Oe)&&i[Oe]||(i[Oe]=++Te)}(this)},rt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ot=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let s=0;s<i.length;s++)if(s in i&&i[s]===t)return s;return-1};function Mt(i){const t=i.length;if(0<t){const s=Array(t);for(let l=0;l<t;l++)s[l]=i[l];return s}return[]}function jt(i,t){for(let s=1;s<arguments.length;s++){const l=arguments[s];if(te(l)){const f=i.length||0,g=l.length||0;i.length=f+g;for(let v=0;v<g;v++)i[f+v]=l[v]}else i.push(l)}}function Vt(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var Wt=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{q.addEventListener("test",()=>{},t),q.removeEventListener("test",()=>{},t)}catch{}return i}();function wn(i){return/^[\s\xa0]*$/.test(i)}function ut(){var i=q.navigator;return i&&(i=i.userAgent)?i:""}function Ge(i){return-1!=ut().indexOf(i)}function Ft(i){return Ft[" "](i),i}Ft[" "]=function(){};var Ze,i,jn=Ge("Opera"),Or=Ge("Trident")||Ge("MSIE"),es=Ge("Edge"),Cr=es||Or,Gr=Ge("Gecko")&&!(-1!=ut().toLowerCase().indexOf("webkit")&&!Ge("Edge"))&&!(Ge("Trident")||Ge("MSIE"))&&!Ge("Edge"),Ne=-1!=ut().toLowerCase().indexOf("webkit")&&!Ge("Edge");function Qe(){var i=q.document;return i?i.documentMode:void 0}e:{var Xe="",Dt=(i=ut(),Gr?/rv:([^\);]+)(\)|;)/.exec(i):es?/Edge\/([\d\.]+)/.exec(i):Or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ne?/WebKit\/(\S+)/.exec(i):jn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Dt&&(Xe=Dt?Dt[1]:""),Or){var vt=Qe();if(null!=vt&&vt>parseFloat(Xe)){Ze=String(vt);break e}}Ze=Xe}var er=q.document&&Or&&(Qe()||parseInt(Ze,10))||void 0;function qt(i,t){if(Vt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var s=this.type=i.type,l=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(Gr){e:{try{Ft(t.nodeName);var f=!0;break e}catch{}f=!1}f||(t=null)}}else"mouseover"==s?t=i.fromElement:"mouseout"==s&&(t=i.toElement);this.relatedTarget=t,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qt.$.h.call(this)}}Et(qt,Vt);var Mn={2:"touch",3:"pen",4:"mouse"};qt.prototype.h=function(){qt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),_r=0;function Un(i,t,s,l,f){this.listener=i,this.proxy=null,this.src=t,this.type=s,this.capture=!!l,this.la=f,this.key=++_r,this.fa=this.ia=!1}function qn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Qr(i,t,s){for(const l in i)t.call(s,i[l],l,i)}function Pr(i){const t={};for(const s in i)t[s]=i[s];return t}const Rs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ts(i,t){let s,l;for(let f=1;f<arguments.length;f++){for(s in l=arguments[f],l)i[s]=l[s];for(let g=0;g<Rs.length;g++)s=Rs[g],Object.prototype.hasOwnProperty.call(l,s)&&(i[s]=l[s])}}function Fr(i){this.src=i,this.g={},this.h=0}function Tn(i,t){var s=t.type;if(s in i.g){var g,l=i.g[s],f=Ot(l,t);(g=0<=f)&&Array.prototype.splice.call(l,f,1),g&&(qn(t),0==i.g[s].length&&(delete i.g[s],i.h--))}}function Xr(i,t,s,l){for(var f=0;f<i.length;++f){var g=i[f];if(!g.fa&&g.listener==t&&g.capture==!!s&&g.la==l)return f}return-1}Fr.prototype.add=function(i,t,s,l,f){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var v=Xr(i,t,l,f);return-1<v?(t=i[v],s||(t.ia=!1)):((t=new Un(t,this.src,g,!!l,f)).ia=s,i.push(t)),t};var At="closure_lm_"+(1e6*Math.random()|0),tr={};function ns(i,t,s,l,f){if(l&&l.once)return qr(i,t,s,l,f);if(Array.isArray(t)){for(var g=0;g<t.length;g++)ns(i,t[g],s,l,f);return null}return s=Yr(s),i&&i[ln]?i.O(t,s,ye(l)?!!l.capture:!!l,f):Nr(i,t,s,!1,l,f)}function Nr(i,t,s,l,f,g){if(!t)throw Error("Invalid event type");var v=ye(f)?!!f.capture:!!f,A=Xs(i);if(A||(i[At]=A=new Fr(i)),(s=A.add(t,s,l,v,g)).proxy)return s;if(l=function xs(){const t=dn;return function i(s){return t.call(i.src,i.listener,s)}}(),s.proxy=l,l.src=i,l.listener=s,i.addEventListener)Wt||(f=v),void 0===f&&(f=!1),i.addEventListener(t.toString(),l,f);else if(i.attachEvent)i.attachEvent(ni(t.toString()),l);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(l)}return s}function qr(i,t,s,l,f){if(Array.isArray(t)){for(var g=0;g<t.length;g++)qr(i,t[g],s,l,f);return null}return s=Yr(s),i&&i[ln]?i.P(t,s,ye(l)?!!l.capture:!!l,f):Nr(i,t,s,!0,l,f)}function Ii(i,t,s,l,f){if(Array.isArray(t))for(var g=0;g<t.length;g++)Ii(i,t[g],s,l,f);else l=ye(l)?!!l.capture:!!l,s=Yr(s),i&&i[ln]?(i=i.i,(t=String(t).toString())in i.g&&-1<(s=Xr(g=i.g[t],s,l,f))&&(qn(g[s]),Array.prototype.splice.call(g,s,1),0==g.length&&(delete i.g[t],i.h--))):i&&(i=Xs(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Xr(t,s,l,f)),(s=-1<i?t[i]:null)&&Yt(s))}function Yt(i){if("number"!=typeof i&&i&&!i.fa){var t=i.src;if(t&&t[ln])Tn(t.i,i);else{var s=i.type,l=i.proxy;t.removeEventListener?t.removeEventListener(s,l,i.capture):t.detachEvent?t.detachEvent(ni(s),l):t.addListener&&t.removeListener&&t.removeListener(l),(s=Xs(t))?(Tn(s,i),0==s.h&&(s.src=null,t[At]=null)):qn(i)}}}function ni(i){return i in tr?tr[i]:tr[i]="on"+i}function dn(i,t){if(i.fa)i=!0;else{t=new qt(t,this);var s=i.listener,l=i.la||i.src;i.ia&&Yt(i),i=s.call(l,t)}return i}function Xs(i){return(i=i[At])instanceof Fr?i:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(i){return"function"==typeof i?i:(i[zs]||(i[zs]=function(t){return i.handleEvent(t)}),i[zs])}function Ln(){rt.call(this),this.i=new Fr(this),this.S=this,this.J=null}function Er(i,t){var s,l=i.J;if(l)for(s=[];l;l=l.J)s.push(l);if(i=i.S,l=t.type||t,"string"==typeof t)t=new Vt(t,i);else if(t instanceof Vt)t.target=t.target||i;else{var f=t;ts(t=new Vt(l,i),f)}if(f=!0,s)for(var g=s.length-1;0<=g;g--){var v=t.g=s[g];f=Kn(v,l,!0,t)&&f}if(f=Kn(v=t.g=i,l,!0,t)&&f,f=Kn(v,l,!1,t)&&f,s)for(g=0;g<s.length;g++)f=Kn(v=t.g=s[g],l,!1,t)&&f}function Kn(i,t,s,l){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var f=!0,g=0;g<t.length;++g){var v=t[g];if(v&&!v.fa&&v.capture==s){var A=v.listener,L=v.la||v.src;v.ia&&Tn(i.i,v),f=!1!==A.call(L,l)&&f}}return f&&!l.defaultPrevented}Et(Ln,rt),Ln.prototype[ln]=!0,Ln.prototype.removeEventListener=function(i,t,s,l){Ii(this,i,t,s,l)},Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var t,i=this.i;for(t in i.g){for(var s=i.g[t],l=0;l<s.length;l++)qn(s[l]);delete i.g[t],i.h--}}this.J=null},Ln.prototype.O=function(i,t,s,l){return this.i.add(String(i),t,!1,s,l)},Ln.prototype.P=function(i,t,s,l){return this.i.add(String(i),t,!0,s,l)};var kr=q.JSON.stringify;function An(){var i=le;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var Yn=new class jr{constructor(t,s){this.i=t,this.j=s,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Ps,i=>i.reset());class Ps{constructor(){this.next=this.g=this.h=null}set(t,s){this.h=t,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function Se(i){var t=1;i=i.split(":");const s=[];for(;0<t&&i.length;)s.push(i.shift()),t--;return i.length&&s.push(i.join(":")),s}function we(i){q.setTimeout(()=>{throw i},0)}let Re,je=!1,le=new class io{constructor(){this.h=this.g=null}add(t,s){const l=Yn.get();l.set(t,s),this.h?this.h.next=l:this.g=l,this.h=l}},De=()=>{const i=q.Promise.resolve(void 0);Re=()=>{i.then(oe)}};var oe=()=>{for(var i;i=An();){try{i.h.call(i.g)}catch(s){we(s)}var t=Yn;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}je=!1};function me(i,t){Ln.call(this),this.h=i||1,this.g=t||q,this.j=Le(this.qb,this),this.l=Date.now()}function Je(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function pt(i,t,s){if("function"==typeof i)s&&(i=Le(i,s));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Le(i.handleEvent,i)}return 2147483647<Number(t)?-1:q.setTimeout(i,t||0)}function Gt(i){i.g=pt(()=>{i.g=null,i.i&&(i.i=!1,Gt(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}Et(me,Ln),(W=me.prototype).ga=!1,W.T=null,W.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Er(this,"tick"),this.ga&&(Je(this),this.start()))}},W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.N=function(){me.$.N.call(this),Je(this),delete this.g};class Ut extends rt{constructor(t,s){super(),this.m=t,this.j=s,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(i){rt.call(this),this.h=i,this.g={}}Et(Dn,rt);var nr=[];function ar(i,t,s,l){Array.isArray(s)||(s&&(nr[0]=s.toString()),s=nr);for(var f=0;f<s.length;f++){var g=ns(t,s[f],l||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function Ti(i){Qr(i.g,function(t,s){this.g.hasOwnProperty(s)&&Yt(t)},i),i.g={}}function et(){this.g=!0}function dt(i,t,s,l){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function cn(i,t){if(!i.g)return t;if(!t)return null;try{var s=JSON.parse(t);if(s)for(i=0;i<s.length;i++)if(Array.isArray(s[i])){var l=s[i];if(!(2>l.length)){var f=l[1];if(Array.isArray(f)&&!(1>f.length)){var g=f[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var v=1;v<f.length;v++)f[v]=""}}}return kr(s)}catch{return t}}(i,s)+(l?" "+l:"")})}Dn.prototype.N=function(){Dn.$.N.call(this),Ti(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.Ea=function(){this.g=!1},et.prototype.info=function(){};var Sn={},Lr=null;function Ir(){return Lr=Lr||new Ln}function Cn(i){Vt.call(this,Sn.Ta,i)}function Ki(i){const t=Ir();Er(t,new Cn(t))}function yi(i,t){Vt.call(this,Sn.STAT_EVENT,i),this.stat=t}function Rr(i){const t=Ir();Er(t,new yi(t,i))}function an(i,t){Vt.call(this,Sn.Ua,i),this.size=t}function fs(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){i()},t)}Sn.Ta="serverreachability",Et(Cn,Vt),Sn.STAT_EVENT="statevent",Et(yi,Vt),Sn.Ua="timingevent",Et(an,Vt);var zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ps={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wr(){}function oo(){}wr.prototype.h=null;var ui,ci={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zt(){Vt.call(this,"d")}function ao(){Vt.call(this,"c")}function Gi(){}function Eo(i,t,s,l){this.l=i,this.j=t,this.m=s,this.W=l||1,this.U=new Dn(this),this.P=Qi,this.V=new me(i=Cr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}Et(Zt,Vt),Et(ao,Vt),Et(Gi,wr),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},ui=new Gi;var Qi=45e3,re={},Ee={};function fe(i,t,s){i.L=1,i.v=Zr(On(t)),i.s=s,i.S=!0,$e(i,null)}function $e(i,t){i.G=Date.now(),rn(i),i.A=On(i.v);var s=i.A,l=i.W;Array.isArray(l)||(l=[String(l)]),ki(s.i,"t",l),i.C=0,s=i.l.J,i.h=new Ta,i.g=bu(i.l,s?t:null,!i.s),0<i.O&&(i.M=new Ut(Le(i.Pa,i,i.g),i.O)),ar(i.U,i.g,"readystatechange",i.nb),t=i.I?Pr(i.I):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,t)):(i.u="GET",i.g.ha(i.A,i.u,null,t)),Ki(),function Ve(i,t,s,l,f,g){i.info(function(){if(i.g)if(g)for(var v="",A=g.split("&"),L=0;L<A.length;L++){var H=A[L].split("=");if(1<H.length){var se=H[0];H=H[1];var Ce=se.split("_");v=2<=Ce.length&&"type"==Ce[1]?v+(se+"=")+H+"&":v+(se+"=redacted&")}}else v=null;else v=g;return"XMLHTTP REQ ("+l+") [attempt "+f+"]: "+t+"\n"+s+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function wt(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ct(i,t,s){let f,l=!0;for(;!i.J&&i.C<s.length;){if(f=bt(i,s),f==Ee){4==t&&(i.o=4,Rr(14),l=!1),dt(i.j,i.m,null,"[Incomplete Response]");break}if(f==re){i.o=4,Rr(15),dt(i.j,i.m,s,"[Invalid Chunk]"),l=!1;break}dt(i.j,i.m,f,null),ht(i,f)}wt(i)&&f!=Ee&&f!=re&&(i.h.g="",i.C=0),4!=t||0!=s.length||i.h.h||(i.o=1,Rr(16),l=!1),i.i=i.i&&l,l?0<s.length&&!i.ba&&(i.ba=!0,(t=i.l).g==i&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+s.length),Qt(t),t.M=!0,Rr(11))):(dt(i.j,i.m,s,"[Invalid Chunked Response]"),Ue(i),Me(i))}function bt(i,t){var s=i.C,l=t.indexOf("\n",s);return-1==l?Ee:(s=Number(t.substring(s,l)),isNaN(s)?re:(l+=1)+s>t.length?Ee:(t=t.slice(l,l+s),i.C=l+s,t))}function rn(i){i.Y=Date.now()+i.P,ce(i,i.P)}function ce(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=fs(Le(i.lb,i),t)}function ze(i){i.B&&(q.clearTimeout(i.B),i.B=null)}function Me(i){0==i.l.H||i.J||Vi(i.l,i)}function Ue(i){ze(i);var t=i.M;t&&"function"==typeof t.sa&&t.sa(),i.M=null,Je(i.V),Ti(i.U),i.g&&(t=i.g,i.g=null,t.abort(),t.sa())}function ht(i,t){try{var s=i.l;if(0!=s.H&&(s.g==i||Oo(s.i,i)))if(!i.K&&Oo(s.i,i)&&3==s.H){try{var l=s.Ja.g.parse(t)}catch{l=null}if(Array.isArray(l)&&3==l.length){var f=l;if(0==f[0]){e:if(!s.u){if(s.g){if(!(s.g.G+3e3<i.G))break e;vi(s),Gn(s)}Ie(s),Rr(18)}}else s.Fa=f[1],0<s.Fa-s.V&&37500>f[2]&&s.G&&0==s.A&&!s.v&&(s.v=fs(Le(s.ib,s),6e3));if(1>=qi(s.i)&&s.oa){try{s.oa()}catch{}s.oa=void 0}}else oa(s,11)}else if((i.K||s.g==i)&&vi(s),!wn(t))for(f=s.Ja.g.parse(t),t=0;t<f.length;t++){let H=f[t];if(s.V=H[0],H=H[1],2==s.H)if("c"==H[0]){s.K=H[1],s.pa=H[2];const se=H[3];null!=se&&(s.ra=se,s.l.info("VER="+s.ra));const Ce=H[4];null!=Ce&&(s.Ga=Ce,s.l.info("SVER="+s.Ga));const Ke=H[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(s.L=l=1.5*Ke,s.l.info("backChannelRequestTimeoutMs_="+l)),l=s;const ft=i.g;if(ft){const kt=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var g=l.i;g.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Co(g,g.h),g.h=null))}if(l.F){const zt=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;zt&&(l.Da=zt,zn(l.I,l.F,zt))}}s.H=3,s.h&&s.h.Ba(),s.ca&&(s.S=Date.now()-i.G,s.l.info("Handshake RTT: "+s.S+"ms"));var v=i;if((l=s).wa=Sa(l,l.J?l.pa:null,l.Y),v.K){Uc(l.i,v);var A=v,L=l.L;L&&A.setTimeout(L),A.B&&(ze(A),rn(A)),l.g=v}else J(l);0<s.j.length&&Ya(s)}else"stop"!=H[0]&&"close"!=H[0]||oa(s,7);else 3==s.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?oa(s,7):Gs(s):"noop"!=H[0]&&s.h&&s.h.Aa(H),s.A=0)}Ki()}catch{}}function en(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(te(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var s=function xt(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(te(i)||"string"==typeof i){var t=[];i=i.length;for(var s=0;s<i;s++)t.push(s);return t}t=[],s=0;for(const l in i)t[s++]=l;return t}}}(i),l=function st(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(te(i)){for(var t=[],s=i.length,l=0;l<s;l++)t.push(i[l]);return t}for(l in t=[],s=0,i)t[s++]=i[l];return t}(i),f=l.length,g=0;g<f;g++)t.call(void 0,l[g],s&&s[g],i)}(W=Eo.prototype).setTimeout=function(i){this.P=i},W.nb=function(i){i=i.target;const t=this.M;t&&3==ws(i)?t.l():this.Pa(i)},W.Pa=function(i){try{if(i==this.g)e:{const se=ws(this.g);var t=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||Cr||this.g&&(this.h.h||this.g.ja()||$o(this.g)))){this.J||4!=se||7==t||Ki(),ze(this);var s=this.g.da();this.ca=s;t:if(wt(this)){var l=$o(this.g);i="";var f=l.length,g=4==ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Me(this);var v="";break t}this.h.i=new q.TextDecoder}for(t=0;t<f;t++)this.h.h=!0,i+=this.h.i.decode(l[t],{stream:g&&t==f-1});l.splice(0,f),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==s,function gt(i,t,s,l,f,g,v){i.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+t+"\n"+s+"\n"+g+" "+v})}(this.j,this.u,this.A,this.m,this.W,se,s),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wn(A)){var H=A;break t}}H=null}if(!(s=H)){this.i=!1,this.o=3,Rr(12),Ue(this),Me(this);break e}dt(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ht(this,s)}this.S?(Ct(this,se,v),Cr&&this.i&&3==se&&(ar(this.U,this.V,"tick",this.mb),this.V.start())):(dt(this.j,this.m,v,null),ht(this,v)),4==se&&Ue(this),this.i&&!this.J&&(4==se?Vi(this.l,this):(this.i=!1,rn(this)))}else(function Xa(i){const t={};i=(i.g&&2<=ws(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<i.length;l++){if(wn(i[l]))continue;var s=Se(i[l]);const f=s[0];if("string"!=typeof(s=s[1]))continue;s=s.trim();const g=t[f]||[];t[f]=g,g.push(s)}!function or(i,t){for(const s in i)t.call(void 0,i[s],s,i)}(t,function(l){return l.join(", ")})})(this.g),400==s&&0<v.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),Ue(this),Me(this)}}}catch{}},W.mb=function(){if(this.g){var i=ws(this.g),t=this.g.ja();this.C<t.length&&(ze(this),Ct(this,i,t),this.i&&4!=i&&rn(this))}},W.cancel=function(){this.J=!0,Ue(this)},W.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function fn(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ki(),Rr(17)),Ue(this),this.o=2,Me(this)):ce(this,this.Y-i)};var _n=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hn(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof hn){this.h=i.h,Fs(this,i.j),this.s=i.s,this.g=i.g,En(this,i.m),this.l=i.l;var t=i.i,s=new Uo;s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),ks(this,s),this.o=i.o}else i&&(t=String(i).match(_n))?(this.h=!1,Fs(this,t[1]||"",!0),this.s=Si(t[2]||""),this.g=Si(t[3]||"",!0),En(this,t[4]),this.l=Si(t[5]||"",!0),ks(this,t[6]||"",!0),this.o=Si(t[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}function On(i){return new hn(i)}function Fs(i,t,s){i.j=s?Si(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function En(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function ks(i,t,s){t instanceof Uo?(i.i=t,function qs(i,t){t&&!i.j&&(di(i),i.i=null,i.g.forEach(function(s,l){var f=l.toLowerCase();l!=f&&(lo(this,l),ki(this,f,s))},i)),i.j=t}(i.i,i.h)):(s||(t=ri(t,Ao)),i.i=new Uo(t,i.h))}function zn(i,t,s){i.i.set(t,s)}function Zr(i){return zn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Si(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ri(i,t,s){return"string"==typeof i?(i=encodeURI(i).replace(t,ea),s&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ea(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}hn.prototype.toString=function(){var i=[],t=this.j;t&&i.push(ri(t,wo,!0),":");var s=this.g;return(s||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(ri(t,wo,!0),"@"),i.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.m)&&i.push(":",String(s))),(s=this.l)&&(this.g&&"/"!=s.charAt(0)&&i.push("/"),i.push(ri(s,"/"==s.charAt(0)?Xi:ta,!0))),(s=this.i.toString())&&i.push("?",s),(s=this.o)&&i.push("#",ri(s,na)),i.join("")};var wo=/[#\/\?@]/g,ta=/[#\?:]/g,Xi=/[#\?]/g,Ao=/[#\?@]/g,na=/#/g;function Uo(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function di(i){i.g||(i.g=new Map,i.h=0,i.i&&function Tr(i,t){if(i){i=i.split("&");for(var s=0;s<i.length;s++){var l=i[s].indexOf("="),f=null;if(0<=l){var g=i[s].substring(0,l);f=i[s].substring(l+1)}else g=i[s];t(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(i.i,function(t,s){i.add(decodeURIComponent(t.replace(/\+/g," ")),s)}))}function lo(i,t){di(i),t=ra(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function Dl(i,t){return di(i),t=ra(i,t),i.g.has(t)}function ki(i,t,s){lo(i,t),0<s.length&&(i.i=null,i.g.set(ra(i,t),Mt(s)),i.h+=s.length)}function ra(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(W=Uo.prototype).add=function(i,t){di(this),this.i=null,i=ra(this,i);var s=this.g.get(i);return s||this.g.set(i,s=[]),s.push(t),this.h+=1,this},W.forEach=function(i,t){di(this),this.g.forEach(function(s,l){s.forEach(function(f){i.call(t,f,l,this)},this)},this)},W.ta=function(){di(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),s=[];for(let l=0;l<t.length;l++){const f=i[l];for(let g=0;g<f.length;g++)s.push(t[l])}return s},W.Z=function(i){di(this);let t=[];if("string"==typeof i)Dl(this,i)&&(t=t.concat(this.g.get(ra(this,i))));else{i=Array.from(this.g.values());for(let s=0;s<i.length;s++)t=t.concat(i[s])}return t},W.set=function(i,t){return di(this),this.i=null,Dl(this,i=ra(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},W.get=function(i,t){return i&&0<(i=this.Z(i)).length?String(i[0]):t},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var s=0;s<t.length;s++){var l=t[s];const g=encodeURIComponent(String(l)),v=this.Z(l);for(l=0;l<v.length;l++){var f=g;""!==v[l]&&(f+="="+encodeURIComponent(String(v[l]))),i.push(f)}}return this.i=i.join("&")};var sc=class{constructor(i,t){this.g=i,this.map=t}};function Ht(i){this.l=i||Do,i=q.PerformanceNavigationTiming?0<(i=q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(q.g&&q.g.Ka&&q.g.Ka()&&q.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Do=10;function Bo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function qi(i){return i.h?1:i.g?i.g.size:0}function Oo(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function Co(i,t){i.g?i.g.add(t):i.h=t}function Uc(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function sa(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const s of i.g.values())t=t.concat(s.F);return t}return Mt(i.i)}Ht.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var jo=class{stringify(i){return q.JSON.stringify(i,void 0)}parse(i){return q.JSON.parse(i,void 0)}};function ic(){this.g=new jo}function us(i,t,s){const l=s||"";try{en(i,function(f,g){let v=f;ye(f)&&(v=kr(f)),t.push(l+g+"="+encodeURIComponent(v))})}catch(f){throw t.push(l+"type="+encodeURIComponent("_badmap")),f}}function si(i,t,s,l,f){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,f(l)}catch{}}function Io(i){this.l=i.fc||null,this.j=i.ob||!1}function hi(i,t){Ln.call(this),this.F=i,this.u=t,this.m=void 0,this.readyState=To,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(Io,wr),Io.prototype.g=function(){return new hi(this.l,this.j)},Io.prototype.i=function(i){return function(){return i}}({}),Et(hi,Ln);var To=0;function Ka(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function No(i){i.readyState=4,i.l=null,i.j=null,i.A=null,bi(i)}function bi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(W=hi.prototype).open=function(i,t){if(this.readyState!=To)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,bi(this)},W.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.F||q).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,No(this)),this.readyState=To},W.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ka(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},W.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?No(this):bi(this),3==this.readyState&&Ka(this)}},W.Za=function(i){this.g&&(this.response=this.responseText=i,No(this))},W.Ya=function(i){this.g&&(this.response=i,No(this))},W.ka=function(){this.g&&No(this)},W.setRequestHeader=function(i,t){this.v.append(i,t)},W.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var s=t.next();!s.done;)i.push((s=s.value)[0]+": "+s[1]),s=t.next();return i.join("\r\n")},Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ia=q.JSON.parse;function Es(i){Ln.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=So,this.L=this.M=!1}Et(Es,Ln);var So="",za=/^https?$/i,fi=["POST","PUT"];function Ys(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,Ga(i),Ai(i)}function Ga(i){i.F||(i.F=!0,Er(i,"complete"),Er(i,"error"))}function Qa(i){if(i.h&&typeof ae<"u"&&(!i.C[1]||4!=ws(i)||2!=i.da()))if(i.v&&4==ws(i))pt(i.La,0,i);else if(Er(i,"readystatechange"),4==ws(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var s;if(!(s=t)){var l;if(l=0===v){var f=String(i.I).match(_n)[1]||null;!f&&q.self&&q.self.location&&(f=q.self.location.protocol.slice(0,-1)),l=!za.test(f?f.toLowerCase():"")}s=l}if(s)Er(i,"complete"),Er(i,"success");else{i.m=6;try{var g=2<ws(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.da()+"]",Ga(i)}}finally{Ai(i)}}}function Ai(i,t){if(i.g){mr(i);const s=i.g,l=i.C[0]?()=>{}:null;i.g=null,i.C=null,t||Er(i,"ready");try{s.onreadystatechange=l}catch{}}}function mr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(q.clearTimeout(i.A),i.A=null)}function ws(i){return i.g?i.g.readyState:0}function $o(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case So:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function qa(i){let t="";return Qr(i,function(s,l){t+=l,t+=":",t+=s,t+="\r\n"}),t}function gs(i,t,s){e:{for(l in s){var l=!1;break e}l=!0}l||(s=qa(s),"string"==typeof i?null!=s&&encodeURIComponent(String(s)):zn(i,t,s))}function pn(i,t,s){return s&&s.internalChannelParams&&s.internalChannelParams[i]||t}function ms(i){this.Ga=0,this.j=[],this.l=new et,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pn("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pn("baseRetryDelayMs",5e3,i),this.hb=pn("retryDelaySeedMs",1e4,i),this.eb=pn("forwardChannelMaxRetries",2,i),this.xa=pn("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ht(i&&i.concurrentRequestLimit),this.Ja=new ic,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gs(i){if(Ho(i),3==i.H){var t=i.W++,s=On(i.I);if(zn(s,"SID",i.K),zn(s,"RID",t),zn(s,"TYPE","terminate"),B(i,s),(t=new Eo(i,i.l,t)).L=2,t.v=Zr(On(s)),s=!1,q.navigator&&q.navigator.sendBeacon)try{s=q.navigator.sendBeacon(t.v.toString(),"")}catch{}!s&&q.Image&&((new Image).src=t.v,s=!0),s||(t.g=bu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),rn(t)}Za(i)}function Gn(i){i.g&&(Qt(i),i.g.cancel(),i.g=null)}function Ho(i){Gn(i),i.u&&(q.clearTimeout(i.u),i.u=null),vi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&q.clearTimeout(i.m),i.m=null)}function Ya(i){if(!Bo(i.i)&&!i.m){i.m=!0;var t=i.Na;Re||De(),je||(Re(),je=!0),le.add(t,i),i.C=0}}function V(i,t){var s;s=t?t.m:i.W++;const l=On(i.I);zn(l,"SID",i.K),zn(l,"RID",s),zn(l,"AID",i.V),B(i,l),i.o&&i.s&&gs(l,i.o,i.s),s=new Eo(i,i.l,s,i.C+1),null===i.o&&(s.I=i.s),t&&(i.j=t.F.concat(i.j)),t=N(i,s,1e3),s.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Co(i.i,s),fe(s,l,t)}function B(i,t){i.na&&Qr(i.na,function(s,l){zn(t,l,s)}),i.h&&en({},function(s,l){zn(t,l,s)})}function N(i,t,s){s=Math.min(i.j.length,s);var l=i.h?Le(i.h.Va,i.h,i):null;e:{var f=i.j;let g=-1;for(;;){const v=["count="+s];-1==g?0<s?(g=f[0].g,v.push("ofs="+g)):g=0:v.push("ofs="+g);let A=!0;for(let L=0;L<s;L++){let H=f[L].g;const se=f[L].map;if(H-=g,0>H)g=Math.max(0,f[L].g-100),A=!1;else try{us(se,v,"req"+H+"_")}catch{l&&l(se)}}if(A){l=v.join("&");break e}}}return i=i.j.splice(0,s),t.F=i,l}function J(i){if(!i.g&&!i.u){i.ba=1;var t=i.Ma;Re||De(),je||(Re(),je=!0),le.add(t,i),i.A=0}}function Ie(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=fs(Le(i.Ma,i),Yi(i,i.A)),i.A++,0))}function Qt(i){null!=i.B&&(q.clearTimeout(i.B),i.B=null)}function Nn(i){i.g=new Eo(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var t=On(i.wa);zn(t,"RID","rpc"),zn(t,"SID",i.K),zn(t,"AID",i.V),zn(t,"CI",i.G?"0":"1"),!i.G&&i.qa&&zn(t,"TO",i.qa),zn(t,"TYPE","xmlhttp"),B(i,t),i.o&&i.s&&gs(t,i.o,i.s),i.L&&i.g.setTimeout(i.L);var s=i.g;i=i.pa,s.L=1,s.v=Zr(On(t)),s.s=null,s.S=!0,$e(s,i)}function vi(i){null!=i.v&&(q.clearTimeout(i.v),i.v=null)}function Vi(i,t){var s=null;if(i.g==t){vi(i),Qt(i),i.g=null;var l=2}else{if(!Oo(i.i,t))return;s=t.F,Uc(i.i,t),l=1}if(0!=i.H)if(t.i)if(1==l){s=t.s?t.s.length:0,t=Date.now()-t.G;var f=i.C;Er(l=Ir(),new an(l,s)),Ya(i)}else J(i);else if(3==(f=t.o)||0==f&&0<t.ca||!(1==l&&function Bc(i,t){return!(qi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=t.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=fs(Le(i.Na,i,t),Yi(i,i.C)),i.C++,0)))}(i,t)||2==l&&Ie(i)))switch(s&&0<s.length&&(t=i.i,t.i=t.i.concat(s)),f){case 1:oa(i,5);break;case 4:oa(i,10);break;case 3:oa(i,6);break;default:oa(i,2)}}function Yi(i,t){let s=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(s*=2),s*t}function oa(i,t){if(i.l.info("Error code "+t),2==t){var s=null;i.h&&(s=null);var l=Le(i.pb,i);s||(s=new hn("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Fs(s,"https"),Zr(s)),function Li(i,t){const s=new et;if(q.Image){const l=new Image;l.onload=mt(si,s,l,"TestLoadImage: loaded",!0,t),l.onerror=mt(si,s,l,"TestLoadImage: error",!1,t),l.onabort=mt(si,s,l,"TestLoadImage: abort",!1,t),l.ontimeout=mt(si,s,l,"TestLoadImage: timeout",!1,t),q.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=i}else t(!1)}(s.toString(),l)}else Rr(2);i.H=0,i.h&&i.h.za(t),Za(i),Ho(i)}function Za(i){if(i.H=0,i.ma=[],i.h){const t=sa(i.i);(0!=t.length||0!=i.j.length)&&(jt(i.ma,t),jt(i.ma,i.j),i.i.i.length=0,Mt(i.j),i.j.length=0),i.h.ya()}}function Sa(i,t,s){var l=s instanceof hn?On(s):new hn(s);if(""!=l.g)t&&(l.g=t+"."+l.g),En(l,l.m);else{var f=q.location;l=f.protocol,t=t?t+"."+f.hostname:f.hostname,f=+f.port;var g=new hn(null);l&&Fs(g,l),t&&(g.g=t),f&&En(g,f),s&&(g.l=s),l=g}return t=i.Da,(s=i.F)&&t&&zn(l,s,t),zn(l,"VER",i.ra),B(i,l),l}function bu(i,t,s){if(t&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Es(s&&i.Ha&&!i.va?new Io({ob:!0}):i.va)).Oa(i.J),t}function Mu(){}function ii(){if(Or&&!(10<=Number(er)))throw Error("Environmental error: no available transport.")}function ds(i,t){Ln.call(this),this.g=new ms(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(i?i["X-WebChannel-Client-Profile"]=t.Ca:i={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=i,(i=t&&t.cc)&&!wn(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wn(t)&&(this.g.F=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new ba(this)}function Wo(i){Zt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var t=i.__sm__;if(t){e:{for(const s in t){i=s;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function Cl(){ao.call(this),this.status=1}function ba(i){this.g=i}function co(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uo(i,t,s){s||(s=0);var l=Array(16);if("string"==typeof t)for(var f=0;16>f;++f)l[f]=t.charCodeAt(s++)|t.charCodeAt(s++)<<8|t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<24;else for(f=0;16>f;++f)l[f]=t[s++]|t[s++]<<8|t[s++]<<16|t[s++]<<24;var g=i.g[3],v=(t=i.g[0])+(g^(s=i.g[1])&((f=i.g[2])^g))+l[0]+3614090360&4294967295;v=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=(s=(f=(g=(t=s+(v<<7&4294967295|v>>>25))+((v=g+(f^t&(s^f))+l[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=f+(s^g&(t^s))+l[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=s+(t^f&(g^t))+l[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=t+(g^s&(f^g))+l[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=g+(f^t&(s^f))+l[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=f+(s^g&(t^s))+l[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=s+(t^f&(g^t))+l[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=t+(g^s&(f^g))+l[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=g+(f^t&(s^f))+l[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=f+(s^g&(t^s))+l[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=s+(t^f&(g^t))+l[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=t+(g^s&(f^g))+l[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=g+(f^t&(s^f))+l[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=f+(s^g&(t^s))+l[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=s+(t^f&(g^t))+l[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=t+(f^g&(s^f))+l[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=g+(s^f&(t^s))+l[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=f+(t^s&(g^t))+l[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=s+(g^t&(f^g))+l[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=t+(f^g&(s^f))+l[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=g+(s^f&(t^s))+l[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=f+(t^s&(g^t))+l[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=s+(g^t&(f^g))+l[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=t+(f^g&(s^f))+l[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=g+(s^f&(t^s))+l[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=f+(t^s&(g^t))+l[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=s+(g^t&(f^g))+l[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=t+(f^g&(s^f))+l[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=g+(s^f&(t^s))+l[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=f+(t^s&(g^t))+l[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=s+(g^t&(f^g))+l[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=t+(s^f^g)+l[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=g+(t^s^f)+l[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=f+(g^t^s)+l[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=s+(f^g^t)+l[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=t+(s^f^g)+l[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=g+(t^s^f)+l[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=f+(g^t^s)+l[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=s+(f^g^t)+l[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=t+(s^f^g)+l[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=g+(t^s^f)+l[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=f+(g^t^s)+l[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=s+(f^g^t)+l[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=t+(s^f^g)+l[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=g+(t^s^f)+l[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=f+(g^t^s)+l[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=s+(f^g^t)+l[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=t+(f^(s|~g))+l[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=g+(s^(t|~f))+l[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=f+(t^(g|~s))+l[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=s+(g^(f|~t))+l[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=t+(f^(s|~g))+l[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=g+(s^(t|~f))+l[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=f+(t^(g|~s))+l[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=s+(g^(f|~t))+l[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=t+(f^(s|~g))+l[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=g+(s^(t|~f))+l[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=f+(t^(g|~s))+l[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=s+(g^(f|~t))+l[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((g=(t=s+((v=t+(f^(s|~g))+l[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=g+(s^(t|~f))+l[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((f=g+((v=f+(t^(g|~s))+l[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~t))+l[9]+3951481745&4294967295,i.g[0]=i.g[0]+t&4294967295,i.g[1]=i.g[1]+(f+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+f&4294967295,i.g[3]=i.g[3]+g&4294967295}function Bn(i,t){this.h=t;for(var s=[],l=!0,f=i.length-1;0<=f;f--){var g=0|i[f];l&&g==t||(s[f]=g,l=!1)}this.g=s}(W=Es.prototype).Oa=function(i){this.M=i},W.ha=function(i,t,s,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);t=t?t.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ui.g(),this.C=function _o(i){return i.h||(i.h=i.i())}(this.u?this.u:ui),this.g.onreadystatechange=Le(this.La,this);try{this.G=!0,this.g.open(t,String(i),!0),this.G=!1}catch(g){return void Ys(this,g)}if(i=s||"",s=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var f in l)s.set(f,l[f]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const g of l.keys())s.set(g,l.get(g))}l=Array.from(s.keys()).find(g=>"content-type"==g.toLowerCase()),f=q.FormData&&i instanceof q.FormData,!(0<=Ot(fi,t))||l||f||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,v]of s)this.g.setRequestHeader(g,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mr(this),0<this.B&&((this.L=function Mi(i){return Or&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.ua,this)):this.A=pt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){Ys(this,g)}},W.ua=function(){typeof ae<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Er(this,"timeout"),this.abort(8))},W.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Er(this,"complete"),Er(this,"abort"),Ai(this))},W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ai(this,!0)),Es.$.N.call(this)},W.La=function(){this.s||(this.G||this.v||this.l?Qa(this):this.kb())},W.kb=function(){Qa(this)},W.isActive=function(){return!!this.g},W.da=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},W.Wa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),ia(t)}},W.Ia=function(){return this.m},W.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=ms.prototype).ra=8,W.H=1,W.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const f=new Eo(this,this.l,i);let g=this.s;if(this.U&&(g?(g=Pr(g),ts(g,this.U)):g=this.U),null!==this.o||this.O||(f.I=g,g=null),this.P)e:{for(var t=0,s=0;s<this.j.length;s++){var l=this.j[s];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(t+=l)){t=s;break e}if(4096===t||s===this.j.length-1){t=s+1;break e}}t=1e3}else t=1e3;t=N(this,f,t),zn(s=On(this.I),"RID",i),zn(s,"CVER",22),this.F&&zn(s,"X-HTTP-Session-Id",this.F),B(this,s),g&&(this.O?t="headers="+encodeURIComponent(String(qa(g)))+"&"+t:this.o&&gs(s,this.o,g)),Co(this.i,f),this.bb&&zn(s,"TYPE","init"),this.P?(zn(s,"$req",t),zn(s,"SID","null"),f.aa=!0,fe(f,s,null)):fe(f,s,t),this.H=2}}else 3==this.H&&(i?V(this,i):0==this.j.length||Bo(this.i)||V(this))},W.Ma=function(){if(this.u=null,Nn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=fs(Le(this.jb,this),i)}},W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),Gn(this),Nn(this))},W.ib=function(){null!=this.v&&(this.v=null,Gn(this),Ie(this),Rr(19))},W.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))},W.isActive=function(){return!!this.h&&this.h.isActive(this)},(W=Mu.prototype).Ba=function(){},W.Aa=function(){},W.za=function(){},W.ya=function(){},W.isActive=function(){return!0},W.Va=function(){},ii.prototype.g=function(i,t){return new ds(i,t)},Et(ds,Ln),ds.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,t=this.l,s=this.h||void 0;Rr(0),i.Y=t,i.na=s||{},i.G=i.aa,i.I=Sa(i,null,i.Y),Ya(i)},ds.prototype.close=function(){Gs(this.g)},ds.prototype.u=function(i){var t=this.g;if("string"==typeof i){var s={};s.__data__=i,i=s}else this.v&&((s={}).__data__=kr(i),i=s);t.j.push(new sc(t.fb++,i)),3==t.H&&Ya(t)},ds.prototype.N=function(){this.g.h=null,delete this.j,Gs(this.g),delete this.g,ds.$.N.call(this)},Et(Wo,Zt),Et(Cl,ao),Et(ba,Mu),ba.prototype.Ba=function(){Er(this.g,"a")},ba.prototype.Aa=function(i){Er(this.g,new Wo(i))},ba.prototype.za=function(i){Er(this.g,new Cl)},ba.prototype.ya=function(){Er(this.g,"b")},Et(co,function Oi(){this.blockSize=-1}),co.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},co.prototype.j=function(i,t){void 0===t&&(t=i.length);for(var s=t-this.blockSize,l=this.m,f=this.h,g=0;g<t;){if(0==f)for(;g<=s;)uo(this,i,g),g+=this.blockSize;if("string"==typeof i){for(;g<t;)if(l[f++]=i.charCodeAt(g++),f==this.blockSize){uo(this,l),f=0;break}}else for(;g<t;)if(l[f++]=i[g++],f==this.blockSize){uo(this,l),f=0;break}}this.h=f,this.i+=t},co.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var t=1;t<i.length-8;++t)i[t]=0;var s=8*this.i;for(t=i.length-8;t<i.length;++t)i[t]=255&s,s/=256;for(this.j(i),i=Array(16),t=s=0;4>t;++t)for(var l=0;32>l;l+=8)i[s++]=this.g[t]>>>l&255;return i};var Nd={};function ho(i){return-128<=i&&128>i?function nn(i,t){var s=Nd;return Object.prototype.hasOwnProperty.call(s,i)?s[i]:s[i]=t(i)}(i,function(t){return new Bn([0|t],0>t?-1:0)}):new Bn([0|i],0>i?-1:0)}function Ma(i){if(isNaN(i)||!isFinite(i))return lr;if(0>i)return rr(Ma(-i));for(var t=[],s=1,l=0;i>=s;l++)t[l]=i/s|0,s*=Il;return new Bn(t,0)}var Il=4294967296,lr=ho(0),Ls=ho(1),Zi=ho(16777216);function la(i){if(0!=i.h)return!1;for(var t=0;t<i.g.length;t++)if(0!=i.g[t])return!1;return!0}function oi(i){return-1==i.h}function rr(i){for(var t=i.g.length,s=[],l=0;l<t;l++)s[l]=~i.g[l];return new Bn(s,~i.h).add(Ls)}function oc(i,t){return i.add(rr(t))}function ca(i,t){for(;(65535&i[t])!=i[t];)i[t+1]+=i[t]>>>16,i[t]&=65535,t++}function Aa(i,t){this.g=i,this.h=t}function Ja(i,t){if(la(t))throw Error("division by zero");if(la(i))return new Aa(lr,lr);if(oi(i))return t=Ja(rr(i),t),new Aa(rr(t.g),rr(t.h));if(oi(t))return t=Ja(i,rr(t)),new Aa(rr(t.g),t.h);if(30<i.g.length){if(oi(i)||oi(t))throw Error("slowDivide_ only works with positive integers.");for(var s=Ls,l=t;0>=l.X(i);)s=Rd(s),l=Rd(l);var f=ua(s,1),g=ua(l,1);for(l=ua(l,2),s=ua(s,2);!la(l);){var v=g.add(l);0>=v.X(i)&&(f=f.add(s),g=v),l=ua(l,1),s=ua(s,1)}return t=oc(i,f.R(t)),new Aa(f,t)}for(f=lr;0<=i.X(t);){for(s=Math.max(1,Math.floor(i.ea()/t.ea())),l=48>=(l=Math.ceil(Math.log(s)/Math.LN2))?1:Math.pow(2,l-48),v=(g=Ma(s)).R(t);oi(v)||0<v.X(i);)v=(g=Ma(s-=l)).R(t);la(g)&&(g=Ls),f=f.add(g),i=oc(i,v)}return new Aa(f,i)}function Rd(i){for(var t=i.g.length+1,s=[],l=0;l<t;l++)s[l]=i.D(l)<<1|i.D(l-1)>>>31;return new Bn(s,i.h)}function ua(i,t){var s=t>>5;t%=32;for(var l=i.g.length-s,f=[],g=0;g<l;g++)f[g]=0<t?i.D(g+s)>>>t|i.D(g+s+1)<<32-t:i.D(g+s);return new Bn(f,i.h)}(W=Bn.prototype).ea=function(){if(oi(this))return-rr(this).ea();for(var i=0,t=1,s=0;s<this.g.length;s++){var l=this.D(s);i+=(0<=l?l:Il+l)*t,t*=Il}return i},W.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(la(this))return"0";if(oi(this))return"-"+rr(this).toString(i);for(var t=Ma(Math.pow(i,6)),s=this,l="";;){var f=Ja(s,t).g,g=((0<(s=oc(s,f.R(t))).g.length?s.g[0]:s.h)>>>0).toString(i);if(la(s=f))return g+l;for(;6>g.length;)g="0"+g;l=g+l}},W.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},W.X=function(i){return oi(i=oc(this,i))?-1:la(i)?0:1},W.abs=function(){return oi(this)?rr(this):this},W.add=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],l=0,f=0;f<=t;f++){var g=l+(65535&this.D(f))+(65535&i.D(f)),v=(g>>>16)+(this.D(f)>>>16)+(i.D(f)>>>16);l=v>>>16,s[f]=(v&=65535)<<16|(g&=65535)}return new Bn(s,-2147483648&s[s.length-1]?-1:0)},W.R=function(i){if(la(this)||la(i))return lr;if(oi(this))return oi(i)?rr(this).R(rr(i)):rr(rr(this).R(i));if(oi(i))return rr(this.R(rr(i)));if(0>this.X(Zi)&&0>i.X(Zi))return Ma(this.ea()*i.ea());for(var t=this.g.length+i.g.length,s=[],l=0;l<2*t;l++)s[l]=0;for(l=0;l<this.g.length;l++)for(var f=0;f<i.g.length;f++){var g=this.D(l)>>>16,v=65535&this.D(l),A=i.D(f)>>>16,L=65535&i.D(f);s[2*l+2*f]+=v*L,ca(s,2*l+2*f),s[2*l+2*f+1]+=g*L,ca(s,2*l+2*f+1),s[2*l+2*f+1]+=v*A,ca(s,2*l+2*f+1),s[2*l+2*f+2]+=g*A,ca(s,2*l+2*f+2)}for(l=0;l<t;l++)s[l]=s[2*l+1]<<16|s[2*l];for(l=t;l<2*t;l++)s[l]=0;return new Bn(s,0)},W.gb=function(i){return Ja(this,i).h},W.and=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],l=0;l<t;l++)s[l]=this.D(l)&i.D(l);return new Bn(s,this.h&i.h)},W.or=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],l=0;l<t;l++)s[l]=this.D(l)|i.D(l);return new Bn(s,this.h|i.h)},W.xor=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],l=0;l<t;l++)s[l]=this.D(l)^i.D(l);return new Bn(s,this.h^i.h)},ii.prototype.createWebChannel=ii.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,ps.COMPLETE="complete",oo.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Ln.prototype.listen=Ln.prototype.O,Es.prototype.listenOnce=Es.prototype.P,Es.prototype.getLastError=Es.prototype.Sa,Es.prototype.getLastErrorCode=Es.prototype.Ia,Es.prototype.getStatus=Es.prototype.da,Es.prototype.getResponseJson=Es.prototype.Wa,Es.prototype.getResponseText=Es.prototype.ja,Es.prototype.send=Es.prototype.ha,Es.prototype.setWithCredentials=Es.prototype.Oa,co.prototype.digest=co.prototype.l,co.prototype.reset=co.prototype.reset,co.prototype.update=co.prototype.j,Bn.prototype.add=Bn.prototype.add,Bn.prototype.multiply=Bn.prototype.R,Bn.prototype.modulo=Bn.prototype.gb,Bn.prototype.compare=Bn.prototype.X,Bn.prototype.toNumber=Bn.prototype.ea,Bn.prototype.toString=Bn.prototype.toString,Bn.prototype.getBits=Bn.prototype.D,Bn.fromNumber=Ma,Bn.fromString=function aa(i,t){if(0==i.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==i.charAt(0))return rr(aa(i.substring(1),t));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=Ma(Math.pow(t,8)),l=lr,f=0;f<i.length;f+=8){var g=Math.min(8,i.length-f),v=parseInt(i.substring(f,f+g),t);8>g?(g=Ma(Math.pow(t,g)),l=l.R(g).add(Ma(v))):l=(l=l.R(s)).add(Ma(v))}return l};var Au=X.createWebChannelTransport=function(){return new ii},Jf=X.getStatEventTarget=function(){return Ir()},Oa=X.ErrorCode=zi,Ou=X.EventType=ps,el=X.Event=Sn,yr=X.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},St=X.FetchXmlHttpFactory=Io,sn=X.WebChannel=oo,Vs=X.XhrIo=Es,Ni=X.Md5=co,hs=X.Integer=Bn;const Ui="@firebase/firestore";class rs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");let cr="9.23.0";const Zn=new ee.Vy("@firebase/firestore");function Bi(){return Zn.logLevel}function It(i,...t){if(Zn.logLevel<=ee.$b.DEBUG){const s=t.map(x);Zn.debug(`Firestore (${cr}): ${i}`,...s)}}function M(i,...t){if(Zn.logLevel<=ee.$b.ERROR){const s=t.map(x);Zn.error(`Firestore (${cr}): ${i}`,...s)}}function z(i,...t){if(Zn.logLevel<=ee.$b.WARN){const s=t.map(x);Zn.warn(`Firestore (${cr}): ${i}`,...s)}}function x(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function k(i="Unexpected state"){const t=`FIRESTORE (${cr}) INTERNAL ASSERTION FAILED: `+i;throw M(t),new Error(t)}function Y(i,t){i||k()}function Ae(i,t){return i}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends U.g{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class un{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}class ur{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class In{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(rs.UNAUTHENTICATED))}shutdown(){}}class Sr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Tt{constructor(t){this.t=t,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){var l=this;let f=this.i;const g=H=>this.i!==f?(f=this.i,s(H)):Promise.resolve();let v=new un;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new un,t.enqueueRetryable(()=>g(this.currentUser))};const A=()=>{const H=v;t.enqueueRetryable((0,_.A)(function*(){yield H.promise,yield g(l.currentUser)}))},L=H=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new un)}},0),A()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(l=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Y("string"==typeof l.accessToken),new ur(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Y(null===t||"string"==typeof t),new rs(t)}}class Ds{constructor(t,s,l){this.h=t,this.l=s,this.m=l,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Us{constructor(t,s,l){this.h=t,this.l=s,this.m=l}getToken(){return Promise.resolve(new Ds(this.h,this.l,this.m))}start(t,s){t.enqueueRetryable(()=>s(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cs{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class da{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,s){const l=g=>{null!=g.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const v=g.token!==this.T;return this.T=g.token,It("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?s(g.token):Promise.resolve()};this.o=g=>{t.enqueueRetryable(()=>l(g))};const f=g=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.I.onInit(g=>f(g)),setTimeout(()=>{if(!this.appCheck){const g=this.I.getImmediate({optional:!0});g?f(g):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(Y("string"==typeof s.token),this.T=s.token,new Cs(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xr(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(s);else for(let l=0;l<i;l++)s[l]=Math.floor(256*Math.random());return s}class Dr{static A(){const s=62*Math.floor(256/62);let l="";for(;l.length<20;){const f=xr(40);for(let g=0;g<f.length;++g)l.length<20&&f[g]<s&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[g]%62))}return l}}function Kt(i,t){return i<t?-1:i>t?1:0}function Ro(i,t,s){return i.length===t.length&&i.every((l,f)=>s(l,t[f]))}function Is(i){return i+"\0"}class Jr{constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new ot(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ot(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<-62135596800)throw new ot(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Jr.fromMillis(Date.now())}static fromDate(t){return Jr.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),l=Math.floor(1e6*(t-1e3*s));return new Jr(s,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(t){this.timestamp=t}static fromTimestamp(t){return new $t(t)}static min(){return new $t(new Jr(0,0))}static max(){return new $t(new Jr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ko{constructor(t,s,l){void 0===s?s=0:s>t.length&&k(),void 0===l?l=t.length-s:l>t.length-s&&k(),this.segments=t,this.offset=s,this.len=l}get length(){return this.len}isEqual(t){return 0===Ko.comparator(this,t)}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Ko?t.forEach(l=>{s.push(l)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,l=this.limit();s<l;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const l=Math.min(t.length,s.length);for(let f=0;f<l;f++){const g=t.get(f),v=s.get(f);if(g<v)return-1;if(g>v)return 1}return t.length<s.length?-1:t.length>s.length?1:0}}class br extends Ko{construct(t,s,l){return new br(t,s,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const s=[];for(const l of t){if(l.indexOf("//")>=0)throw new ot(be.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);s.push(...l.split("/").filter(f=>f.length>0))}return new br(s)}static emptyPath(){return new br([])}}const Bh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Ko{construct(t,s,l){return new $r(t,s,l)}static isValidIdentifier(t){return Bh.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(t){const s=[];let l="",f=0;const g=()=>{if(0===l.length)throw new ot(be.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(l),l=""};let v=!1;for(;f<t.length;){const A=t[f];if("\\"===A){if(f+1===t.length)throw new ot(be.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const L=t[f+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new ot(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);l+=L,f+=2}else"`"===A?(v=!v,f++):"."!==A||v?(l+=A,f++):(g(),f++)}if(g(),v)throw new ot(be.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $r(s)}static emptyPath(){return new $r([])}}class Bt{constructor(t){this.path=t}static fromPath(t){return new Bt(br.fromString(t))}static fromName(t){return new Bt(br.fromString(t).popFirst(5))}static empty(){return new Bt(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===br.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,s){return br.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bt(new br(t.slice()))}}class jc{constructor(t,s,l,f){this.indexId=t,this.collectionGroup=s,this.fields=l,this.indexState=f}}function Tl(i){return i.fields.find(t=>2===t.kind)}function Nu(i){return i.fields.filter(t=>2!==t.kind)}jc.UNKNOWN_ID=-1;class jh{constructor(t,s){this.fieldPath=t,this.kind=s}}class ac{constructor(t,s){this.sequenceNumber=t,this.offset=s}static empty(){return new ac(0,ji.min())}}function ep(i){return new ji(i.readTime,i.key,-1)}class ji{constructor(t,s,l){this.readTime=t,this.documentKey=s,this.largestBatchId=l}static min(){return new ji($t.min(),Bt.empty(),-1)}static max(){return new ji($t.max(),Bt.empty(),-1)}}function $h(i,t){let s=i.readTime.compareTo(t.readTime);return 0!==s?s:(s=Bt.comparator(i.documentKey,t.documentKey),0!==s?s:Kt(i.largestBatchId,t.largestBatchId))}const Gg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function bl(i){return xd.apply(this,arguments)}function xd(){return xd=(0,_.A)(function*(i){if(i.code!==be.FAILED_PRECONDITION||i.message!==Gg)throw i;It("LocalStore","Unexpectedly lost primary lease")}),xd.apply(this,arguments)}class qe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new qe((l,f)=>{this.nextCallback=g=>{this.wrapSuccess(t,g).next(l,f)},this.catchCallback=g=>{this.wrapFailure(s,g).next(l,f)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof qe?s:qe.resolve(s)}catch(s){return qe.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):qe.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):qe.reject(s)}static resolve(t){return new qe((s,l)=>{s(t)})}static reject(t){return new qe((s,l)=>{l(t)})}static waitFor(t){return new qe((s,l)=>{let f=0,g=0,v=!1;t.forEach(A=>{++f,A.next(()=>{++g,v&&g===f&&s()},L=>l(L))}),v=!0,g===f&&s()})}static or(t){let s=qe.resolve(!1);for(const l of t)s=s.next(f=>f?qe.resolve(f):l());return s}static forEach(t,s){const l=[];return t.forEach((f,g)=>{l.push(s.call(this,f,g))}),this.waitFor(l)}static mapArray(t,s){return new qe((l,f)=>{const g=t.length,v=new Array(g);let A=0;for(let L=0;L<g;L++){const H=L;s(t[H]).next(se=>{v[H]=se,++A,A===g&&l(v)},se=>f(se))}})}static doWhile(t,s){return new qe((l,f)=>{const g=()=>{!0===t()?s().next(()=>{g()},f):l()};g()})}}class Hh{constructor(t,s){this.action=t,this.transaction=s,this.aborted=!1,this.v=new un,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{s.error?this.v.reject(new Ru(t,s.error)):this.v.resolve()},this.transaction.onerror=l=>{const f=rp(l.target.error);this.v.reject(new Ru(t,f))}}static open(t,s,l,f){try{return new Hh(s,t.transaction(f,l))}catch(g){throw new Ru(s,g)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(It("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const s=this.transaction.objectStore(t);return new Qg(s)}}class tl{constructor(t,s,l){this.name=t,this.version=s,this.V=l,12.2===tl.S((0,U.ZQ)())&&M("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return It("SimpleDb","Removing database:",t),lc(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,U.zW)())return!1;if(tl.C())return!0;const t=(0,U.ZQ)(),s=tl.S(t),l=0<s&&s<10,f=tl.N(t),g=0<f&&f<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||l||g)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,s){return t.store(s)}static S(t){const s=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(t){const s=t.match(/Android ([\d.]+)/i),l=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(t){var s=this;return(0,_.A)(function*(){return s.db||(It("SimpleDb","Opening database:",s.name),s.db=yield new Promise((l,f)=>{const g=indexedDB.open(s.name,s.version);g.onsuccess=v=>{l(v.target.result)},g.onblocked=()=>{f(new Ru(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=v=>{const A=v.target.error;f("VersionError"===A.name?new ot(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new ot(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Ru(t,A))},g.onupgradeneeded=v=>{It("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',v.oldVersion),s.V.O(v.target.result,g.transaction,v.oldVersion,s.version).next(()=>{It("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.F&&(s.db.onversionchange=l=>s.F(l)),s.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=s=>t(s))}runTransaction(t,s,l,f){var g=this;return(0,_.A)(function*(){const v="readonly"===s;let A=0;for(;;){++A;try{g.db=yield g.$(t);const L=Hh.open(g.db,t,v?"readonly":"readwrite",l),H=f(L).next(se=>(L.P(),se)).catch(se=>(L.abort(se),qe.reject(se))).toPromise();return H.catch(()=>{}),yield L.R,H}catch(L){const H=L,se="FirebaseError"!==H.name&&A<3;if(It("SimpleDb","Transaction failed with error:",H.message,"Retrying:",se),g.close(),!se)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ny{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return lc(this.L.delete())}}class Ru extends ot{constructor(t,s){super(be.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Ml(i){return"IndexedDbTransactionError"===i.name}class Qg{constructor(t){this.store=t}put(t,s){let l;return void 0!==s?(It("SimpleDb","PUT",this.store.name,t,s),l=this.store.put(s,t)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",t),l=this.store.put(t)),lc(l)}add(t){return It("SimpleDb","ADD",this.store.name,t,t),lc(this.store.add(t))}get(t){return lc(this.store.get(t)).next(s=>(void 0===s&&(s=null),It("SimpleDb","GET",this.store.name,t,s),s))}delete(t){return It("SimpleDb","DELETE",this.store.name,t),lc(this.store.delete(t))}count(){return It("SimpleDb","COUNT",this.store.name),lc(this.store.count())}j(t,s){const l=this.options(t,s);if(l.index||"function"!=typeof this.store.getAll){const f=this.cursor(l),g=[];return this.W(f,(v,A)=>{g.push(A)}).next(()=>g)}{const f=this.store.getAll(l.range);return new qe((g,v)=>{f.onerror=A=>{v(A.target.error)},f.onsuccess=A=>{g(A.target.result)}})}}H(t,s){const l=this.store.getAll(t,null===s?void 0:s);return new qe((f,g)=>{l.onerror=v=>{g(v.target.error)},l.onsuccess=v=>{f(v.target.result)}})}J(t,s){It("SimpleDb","DELETE ALL",this.store.name);const l=this.options(t,s);l.Y=!1;const f=this.cursor(l);return this.W(f,(g,v,A)=>A.delete())}X(t,s){let l;s?l=t:(l={},s=t);const f=this.cursor(l);return this.W(f,s)}Z(t){const s=this.cursor({});return new qe((l,f)=>{s.onerror=g=>{const v=rp(g.target.error);f(v)},s.onsuccess=g=>{const v=g.target.result;v?t(v.primaryKey,v.value).next(A=>{A?v.continue():l()}):l()}})}W(t,s){const l=[];return new qe((f,g)=>{t.onerror=v=>{g(v.target.error)},t.onsuccess=v=>{const A=v.target.result;if(!A)return void f();const L=new Ny(A),H=s(A.primaryKey,A.value,L);if(H instanceof qe){const se=H.catch(Ce=>(L.done(),qe.reject(Ce)));l.push(se)}L.isDone?f():null===L.K?A.continue():A.continue(L.K)}}).next(()=>qe.waitFor(l))}options(t,s){let l;return void 0!==t&&("string"==typeof t?l=t:s=t),{index:l,range:s}}cursor(t){let s="next";if(t.reverse&&(s="prev"),t.index){const l=this.store.index(t.index);return t.Y?l.openKeyCursor(t.range,s):l.openCursor(t.range,s)}return this.store.openCursor(t.range,s)}}function lc(i){return new qe((t,s)=>{i.onsuccess=l=>{t(l.target.result)},i.onerror=l=>{const f=rp(l.target.error);s(f)}})}let np=!1;function rp(i){const t=tl.S((0,U.ZQ)());if(t>=12.2&&t<13){const s="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(s)>=0){const l=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return np||(np=!0,setTimeout(()=>{throw l},0)),l}}return i}class Ry{constructor(t,s){this.asyncQueue=t,this.tt=s,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var s=this;It("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,_.A)(function*(){s.task=null;try{It("IndexBackiller",`Documents written: ${yield s.tt.nt()}`)}catch(l){Ml(l)?It("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield bl(l)}yield s.et(6e4)}))}}class Xg{constructor(t,s){this.localStore=t,this.persistence=s}nt(t=50){var s=this;return(0,_.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>s.st(l,t))})()}st(t,s){const l=new Set;let f=s,g=!0;return qe.doWhile(()=>!0===g&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(v=>{if(null!==v&&!l.has(v))return It("IndexBackiller",`Processing collection: ${v}`),this.it(t,v,f).next(A=>{f-=A,l.add(v)});g=!1})).next(()=>s-f)}it(t,s,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,s).next(f=>this.localStore.localDocuments.getNextDocuments(t,s,f,l).next(g=>{const v=g.changes;return this.localStore.indexManager.updateIndexEntries(t,v).next(()=>this.rt(f,g)).next(A=>(It("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(t,s,A))).next(()=>v.size)}))}rt(t,s){let l=t;return s.changes.forEach((f,g)=>{const v=ep(g);$h(v,l)>0&&(l=v)}),new ji(l.readTime,l.documentKey,Math.max(s.batchId,t.largestBatchId))}}let Ji=(()=>{class i{constructor(s,l){this.previousValue=s,l&&(l.sequenceNumberHandler=f=>this.ot(f),this.ut=f=>l.writeSequenceNumber(f))}ot(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.ut&&this.ut(s),s}}return i.ct=-1,i})();function T(i){return null==i}function R(i){return 0===i&&1/i==-1/0}function O(i){let t="";for(let s=0;s<i.length;s++)t.length>0&&(t=ne(t)),t=j(i.get(s),t);return ne(t)}function j(i,t){let s=t;const l=i.length;for(let f=0;f<l;f++){const g=i.charAt(f);switch(g){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=g}}return s}function ne(i){return i+"\x01\x01"}function ue(i){const t=i.length;if(Y(t>=2),2===t)return Y("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),br.emptyPath();const s=t-2,l=[];let f="";for(let g=0;g<t;){const v=i.indexOf("\x01",g);switch((v<0||v>s)&&k(),i.charAt(v+1)){case"\x01":const A=i.substring(g,v);let L;0===f.length?L=A:(f+=A,L=f,f=""),l.push(L);break;case"\x10":f+=i.substring(g,v),f+="\0";break;case"\x11":f+=i.substring(g,v+1);break;default:k()}g=v+2}return new br(l)}const nt=["userId","batchId"];function Be(i,t){return[i,O(t)]}function Nt(i,t,s){return[i,O(t),s]}const Rn={},bn=["prefixPath","collectionGroup","readTime","documentId"],Vr=["prefixPath","collectionGroup","documentId"],Bs=["collectionGroup","readTime","prefixPath","documentId"],fo=["canonicalId","targetId"],Na=["targetId","path"],zo=["path","targetId"],Ri=["collectionId","parent"],sp=["indexId","uid"],$c=["uid","sequenceNumber"],xy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wh=["indexId","uid","orderedDocumentKey"],Kh=["userId","collectionPath","documentId"],Pd=["userId","collectionPath","largestBatchId"],ip=["userId","collectionGroup","largestBatchId"],op=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Al=[...op,"documentOverlays"],qg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fd=qg,h_=[...Fd,"indexConfiguration","indexState","indexEntries"];class xn extends tp{constructor(t,s){super(),this.ht=t,this.currentSequenceNumber=s}}function Ei(i,t){const s=Ae(i);return tl.M(s.ht,t)}function ap(i){let t=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t++;return t}function Ol(i,t){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t(s,i[s])}function cc(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Ts{constructor(t,s){this.comparator=t,this.root=s||po.EMPTY}insert(t,s){return new Ts(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,po.BLACK,null,null))}remove(t){return new Ts(this.comparator,this.root.remove(t,this.comparator).copy(null,null,po.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(0===l)return s.value;l<0?s=s.left:l>0&&(s=s.right)}return null}indexOf(t){let s=0,l=this.root;for(;!l.isEmpty();){const f=this.comparator(t,l.key);if(0===f)return s+l.left.size;f<0?l=l.left:(s+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,l)=>(t(s,l),!1))}toString(){const t=[];return this.inorderTraversal((s,l)=>(t.push(`${s}:${l}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lp(this.root,t,this.comparator,!1)}getReverseIterator(){return new lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lp(this.root,t,this.comparator,!0)}}class lp{constructor(t,s,l,f){this.isReverse=f,this.nodeStack=[];let g=1;for(;!t.isEmpty();)if(g=s?l(t.key,s):1,s&&f&&(g*=-1),g<0)t=this.isReverse?t.left:t.right;else{if(0===g){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class po{constructor(t,s,l,f,g){this.key=t,this.value=s,this.color=l??po.RED,this.left=f??po.EMPTY,this.right=g??po.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,l,f,g){return new po(t??this.key,s??this.value,l??this.color,f??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,l){let f=this;const g=l(t,f.key);return f=g<0?f.copy(null,null,null,f.left.insert(t,s,l),null):0===g?f.copy(null,s,null,null,null):f.copy(null,null,null,null,f.right.insert(t,s,l)),f.fixUp()}removeMin(){if(this.left.isEmpty())return po.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let l,f=this;if(s(t,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(t,s),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===s(t,f.key)){if(f.right.isEmpty())return po.EMPTY;l=f.right.min(),f=f.copy(l.key,l.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(t,s))}return f.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,po.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,po.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const t=this.left.check();if(t!==this.right.check())throw k();return t+(this.isRed()?0:1)}}po.EMPTY=null,po.RED=!0,po.BLACK=!1,po.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(i,t,s,l,f){return this}insert(i,t,s){return new po(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ss{constructor(t){this.comparator=t,this.data=new Ts(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,l)=>(t(s),!1))}forEachInRange(t,s){const l=this.data.getIteratorFrom(t[0]);for(;l.hasNext();){const f=l.getNext();if(this.comparator(f.key,t[1])>=0)return;s(f.key)}}forEachWhile(t,s){let l;for(l=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();l.hasNext();)if(!t(l.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new Hc(this.data.getIterator())}getIteratorFrom(t){return new Hc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(l=>{s=s.add(l)}),s}isEqual(t){if(!(t instanceof Ss)||this.size!==t.size)return!1;const s=this.data.getIterator(),l=t.data.getIterator();for(;s.hasNext();){const f=s.getNext().key,g=l.getNext().key;if(0!==this.comparator(f,g))return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new Ss(this.comparator);return s.data=t,s}}class Hc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kd(i){return i.hasNext()?i.getNext():void 0}class xo{constructor(t){this.fields=t,t.sort($r.comparator)}static empty(){return new xo([])}unionWith(t){let s=new Ss($r.comparator);for(const l of this.fields)s=s.add(l);for(const l of t)s=s.add(l);return new xo(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,(s,l)=>s.isEqual(l))}}class Py extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $i{constructor(t){this.binaryString=t}static fromBase64String(t){const s=function(l){try{return atob(l)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Py("Invalid base64 string: "+f):f}}(t);return new $i(s)}static fromUint8Array(t){const s=function(l){let f="";for(let g=0;g<l.length;++g)f+=String.fromCharCode(l[g]);return f}(t);return new $i(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$i.EMPTY_BYTE_STRING=new $i("");const at=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yn(i){if(Y(!!i),"string"==typeof i){let t=0;const s=at.exec(i);if(Y(!!s),s[1]){let f=s[1];f=(f+"000000000").substr(0,9),t=Number(f)}const l=new Date(i);return{seconds:Math.floor(l.getTime()/1e3),nanos:t}}return{seconds:ai(i.seconds),nanos:ai(i.nanos)}}function ai(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Nl(i){return"string"==typeof i?$i.fromBase64String(i):$i.fromUint8Array(i)}function Qn(i){var t,s;return"server_timestamp"===(null===(s=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function xu(i){const t=i.mapValue.fields.__previous_value__;return Qn(t)?xu(t):t}function uc(i){const t=yn(i.mapValue.fields.__local_write_time__.timestampValue);return new Jr(t.seconds,t.nanos)}class nl{constructor(t,s,l,f,g,v,A,L,H){this.databaseId=t,this.appId=s,this.persistenceKey=l,this.host=f,this.ssl=g,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.longPollingOptions=L,this.useFetchStreams=H}}class dc{constructor(t,s){this.projectId=t,this.database=s||"(default)"}static empty(){return new dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof dc&&t.projectId===this.projectId&&t.database===this.database}}const Rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zh={nullValue:"NULL_VALUE"};function rl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qn(i)?4:up(i)?9007199254740991:10:k()}function hc(i,t){if(i===t)return!0;const s=rl(i);if(s!==rl(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return uc(i).isEqual(uc(t));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const g=yn(l.timestampValue),v=yn(f.timestampValue);return g.seconds===v.seconds&&g.nanos===v.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return f=t,Nl(i.bytesValue).isEqual(Nl(f.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,f){return ai(l.geoPointValue.latitude)===ai(f.geoPointValue.latitude)&&ai(l.geoPointValue.longitude)===ai(f.geoPointValue.longitude)}(i,t);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return ai(l.integerValue)===ai(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const g=ai(l.doubleValue),v=ai(f.doubleValue);return g===v?R(g)===R(v):isNaN(g)&&isNaN(v)}return!1}(i,t);case 9:return Ro(i.arrayValue.values||[],t.arrayValue.values||[],hc);case 10:return function(l,f){const g=l.mapValue.fields||{},v=f.mapValue.fields||{};if(ap(g)!==ap(v))return!1;for(const A in g)if(g.hasOwnProperty(A)&&(void 0===v[A]||!hc(g[A],v[A])))return!1;return!0}(i,t);default:return k()}var f}function Pu(i,t){return void 0!==(i.values||[]).find(s=>hc(s,t))}function xl(i,t){if(i===t)return 0;const s=rl(i),l=rl(t);if(s!==l)return Kt(s,l);switch(s){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,t.booleanValue);case 2:return function(f,g){const v=ai(f.integerValue||f.doubleValue),A=ai(g.integerValue||g.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,t);case 3:return Ld(i.timestampValue,t.timestampValue);case 4:return Ld(uc(i),uc(t));case 5:return Kt(i.stringValue,t.stringValue);case 6:return function(f,g){const v=Nl(f),A=Nl(g);return v.compareTo(A)}(i.bytesValue,t.bytesValue);case 7:return function(f,g){const v=f.split("/"),A=g.split("/");for(let L=0;L<v.length&&L<A.length;L++){const H=Kt(v[L],A[L]);if(0!==H)return H}return Kt(v.length,A.length)}(i.referenceValue,t.referenceValue);case 8:return function(f,g){const v=Kt(ai(f.latitude),ai(g.latitude));return 0!==v?v:Kt(ai(f.longitude),ai(g.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(f,g){const v=f.values||[],A=g.values||[];for(let L=0;L<v.length&&L<A.length;++L){const H=xl(v[L],A[L]);if(H)return H}return Kt(v.length,A.length)}(i.arrayValue,t.arrayValue);case 10:return function(f,g){if(f===Rl.mapValue&&g===Rl.mapValue)return 0;if(f===Rl.mapValue)return 1;if(g===Rl.mapValue)return-1;const v=f.fields||{},A=Object.keys(v),L=g.fields||{},H=Object.keys(L);A.sort(),H.sort();for(let se=0;se<A.length&&se<H.length;++se){const Ce=Kt(A[se],H[se]);if(0!==Ce)return Ce;const Ke=xl(v[A[se]],L[H[se]]);if(0!==Ke)return Ke}return Kt(A.length,H.length)}(i.mapValue,t.mapValue);default:throw k()}}function Ld(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Kt(i,t);const s=yn(i),l=yn(t),f=Kt(s.seconds,l.seconds);return 0!==f?f:Kt(s.nanos,l.nanos)}function wi(i){return Ra(i)}function Ra(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(l){const f=yn(l);return`time(${f.seconds},${f.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Nl(i.bytesValue).toBase64():"referenceValue"in i?Bt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(l){let f="[",g=!0;for(const v of l.values||[])g?g=!1:f+=",",f+=Ra(v);return f+"]"}(i.arrayValue):"mapValue"in i?function(l){const f=Object.keys(l.fields||{}).sort();let g="{",v=!0;for(const A of f)v?v=!1:g+=",",g+=`${A}:${Ra(l.fields[A])}`;return g+"}"}(i.mapValue):k();var t}function Hi(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function xa(i){return!!i&&"integerValue"in i}function Fu(i){return!!i&&"arrayValue"in i}function cp(i){return!!i&&"nullValue"in i}function Yg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ku(i){return!!i&&"mapValue"in i}function Lu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ol(i.mapValue.fields,(s,l)=>t.mapValue.fields[s]=Lu(l)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=Lu(i.arrayValue.values[s]);return t}return Object.assign({},i)}function up(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zg(i){return"nullValue"in i?zh:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Hi(dc.empty(),Bt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:k()}function dp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Hi(dc.empty(),Bt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Rl:k()}function Fy(i,t){const s=xl(i.value,t.value);return 0!==s?s:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function Jg(i,t){const s=xl(i.value,t.value);return 0!==s?s:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class eo{constructor(t){this.value=t}static empty(){return new eo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let l=0;l<t.length-1;++l)if(s=(s.mapValue.fields||{})[t.get(l)],!ku(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lu(s)}setAll(t){let s=$r.emptyPath(),l={},f=[];t.forEach((v,A)=>{if(!s.isImmediateParentOf(A)){const L=this.getFieldsMap(s);this.applyChanges(L,l,f),l={},f=[],s=A.popLast()}v?l[A.lastSegment()]=Lu(v):f.push(A.lastSegment())});const g=this.getFieldsMap(s);this.applyChanges(g,l,f)}delete(t){const s=this.field(t.popLast());ku(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return hc(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let l=0;l<t.length;++l){let f=s.mapValue.fields[t.get(l)];ku(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},s.mapValue.fields[t.get(l)]=f),s=f}return s.mapValue.fields}applyChanges(t,s,l){Ol(s,(f,g)=>t[f]=g);for(const f of l)delete t[f]}clone(){return new eo(Lu(this.value))}}function em(i){const t=[];return Ol(i.fields,(s,l)=>{const f=new $r([s]);if(ku(l)){const g=em(l.mapValue).fields;if(0===g.length)t.push(f);else for(const v of g)t.push(f.child(v))}else t.push(f)}),new xo(t)}class js{constructor(t,s,l,f,g,v,A){this.key=t,this.documentType=s,this.version=l,this.readTime=f,this.createTime=g,this.data=v,this.documentState=A}static newInvalidDocument(t){return new js(t,0,$t.min(),$t.min(),$t.min(),eo.empty(),0)}static newFoundDocument(t,s,l,f){return new js(t,1,s,$t.min(),l,f,0)}static newNoDocument(t,s){return new js(t,2,s,$t.min(),$t.min(),eo.empty(),0)}static newUnknownDocument(t,s){return new js(t,3,s,$t.min(),$t.min(),eo.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof js&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new js(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(t,s){this.position=t,this.inclusive=s}}function tm(i,t,s){let l=0;for(let f=0;f<i.position.length;f++){const g=t[f],v=i.position[f];if(l=g.field.isKeyField()?Bt.comparator(Bt.fromName(v.referenceValue),s.key):xl(v,s.data.field(g.field)),"desc"===g.dir&&(l*=-1),0!==l)break}return l}function hp(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!hc(i.position[s],t.position[s]))return!1;return!0}class Gh{constructor(t,s="asc"){this.field=t,this.dir=s}}function xi(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class pc{}class Jt extends pc{constructor(t,s,l){super(),this.field=t,this.op=s,this.value=l}static create(t,s,l){return t.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(t,s,l):new pp(t,s,l):"array-contains"===s?new nm(t,l):"in"===s?new mp(t,l):"not-in"===s?new yp(t,l):"array-contains-any"===s?new gc(t,l):new Jt(t,s,l)}static createKeyFieldInFilter(t,s,l){return"in"===s?new Xh(t,l):new gp(t,l)}matches(t){const s=t.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(xl(s,this.value)):null!==s&&rl(this.value)===rl(s)&&this.matchesComparison(xl(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ss extends pc{constructor(t,s){super(),this.filters=t,this.op=s,this.lt=null}static create(t,s){return new ss(t,s)}matches(t){return Ud(this)?void 0===this.filters.find(s=>!s.matches(t)):void 0!==this.filters.find(s=>s.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(s=>s.isInequality());return null!==t?t.field:null}ft(t){for(const s of this.getFlattenedFilters())if(t(s))return s;return null}}function Ud(i){return"and"===i.op}function Qh(i){return"or"===i.op}function fp(i){return ky(i)&&Ud(i)}function ky(i){for(const t of i.filters)if(t instanceof ss)return!1;return!0}function Wc(i){if(i instanceof Jt)return i.field.canonicalString()+i.op.toString()+wi(i.value);if(fp(i))return i.filters.map(t=>Wc(t)).join(",");{const t=i.filters.map(s=>Wc(s)).join(",");return`${i.op}(${t})`}}function Bd(i,t){return i instanceof Jt?(s=i,(l=t)instanceof Jt&&s.op===l.op&&s.field.isEqual(l.field)&&hc(s.value,l.value)):i instanceof ss?function(s,l){return l instanceof ss&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((f,g,v)=>f&&Bd(g,l.filters[v]),!0)}(i,t):void k();var s,l}function Pa(i,t){const s=i.filters.concat(t);return ss.create(s,i.op)}function Ly(i){return i instanceof Jt?`${(t=i).field.canonicalString()} ${t.op} ${wi(t.value)}`:i instanceof ss?function(t){return t.op.toString()+" {"+t.getFilters().map(Ly).join(" ,")+"}"}(i):"Filter";var t}class pp extends Jt{constructor(t,s,l){super(t,s,l),this.key=Bt.fromName(l.referenceValue)}matches(t){const s=Bt.comparator(t.key,this.key);return this.matchesComparison(s)}}class Xh extends Jt{constructor(t,s){super(t,"in",s),this.keys=jd(0,s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class gp extends Jt{constructor(t,s){super(t,"not-in",s),this.keys=jd(0,s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function jd(i,t){var s;return((null===(s=t.arrayValue)||void 0===s?void 0:s.values)||[]).map(l=>Bt.fromName(l.referenceValue))}class nm extends Jt{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return Fu(s)&&Pu(s.arrayValue,this.value)}}class mp extends Jt{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return null!==s&&Pu(this.value.arrayValue,s)}}class yp extends Jt{constructor(t,s){super(t,"not-in",s)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return null!==s&&!Pu(this.value.arrayValue,s)}}class gc extends Jt{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!Fu(s)||!s.arrayValue.values)&&s.arrayValue.values.some(l=>Pu(this.value.arrayValue,l))}}class Vu{constructor(t,s=null,l=[],f=[],g=null,v=null,A=null){this.path=t,this.collectionGroup=s,this.orderBy=l,this.filters=f,this.limit=g,this.startAt=v,this.endAt=A,this.dt=null}}function vp(i,t=null,s=[],l=[],f=null,g=null,v=null){return new Vu(i,t,s,l,f,g,v)}function Fa(i){const t=Ae(i);if(null===t.dt){let s=t.path.canonicalString();null!==t.collectionGroup&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(l=>Wc(l)).join(","),s+="|ob:",s+=t.orderBy.map(l=>{return(f=l).field.canonicalString()+f.dir;var f}).join(","),T(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(l=>wi(l)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(l=>wi(l)).join(",")),t.dt=s}return t.dt}function $d(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!xi(i.orderBy[s],t.orderBy[s]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!Bd(i.filters[s],t.filters[s]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!hp(i.startAt,t.startAt)&&hp(i.endAt,t.endAt)}function _p(i){return Bt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function qh(i,t){return i.filters.filter(s=>s instanceof Jt&&s.field.isEqual(t))}function Yh(i,t,s){let l=zh,f=!0;for(const g of qh(i,t)){let v=zh,A=!0;switch(g.op){case"<":case"<=":v=Zg(g.value);break;case"==":case"in":case">=":v=g.value;break;case">":v=g.value,A=!1;break;case"!=":case"not-in":v=zh}Fy({value:l,inclusive:f},{value:v,inclusive:A})<0&&(l=v,f=A)}if(null!==s)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(t)){const v=s.position[g];Fy({value:l,inclusive:f},{value:v,inclusive:s.inclusive})<0&&(l=v,f=s.inclusive);break}return{value:l,inclusive:f}}function p_(i,t,s){let l=Rl,f=!0;for(const g of qh(i,t)){let v=Rl,A=!0;switch(g.op){case">=":case">":v=dp(g.value),A=!1;break;case"==":case"in":case"<=":v=g.value;break;case"<":v=g.value,A=!1;break;case"!=":case"not-in":v=Rl}Jg({value:l,inclusive:f},{value:v,inclusive:A})>0&&(l=v,f=A)}if(null!==s)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(t)){const v=s.position[g];Jg({value:l,inclusive:f},{value:v,inclusive:s.inclusive})>0&&(l=v,f=s.inclusive);break}return{value:l,inclusive:f}}class Kc{constructor(t,s=null,l=[],f=[],g=null,v="F",A=null,L=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=f,this.limit=g,this.limitType=v,this.startAt=A,this.endAt=L,this.wt=null,this._t=null}}function zc(i){return new Kc(i)}function sm(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ha(i){const t=Ae(i);if(null===t.wt){t.wt=[];const s=function Zh(i){for(const t of i.filters){const s=t.getFirstInequalityField();if(null!==s)return s}return null}(t),l=function Gc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(t);if(null!==s&&null===l)s.isKeyField()||t.wt.push(new Gh(s)),t.wt.push(new Gh($r.keyField(),"asc"));else{let f=!1;for(const g of t.explicitOrderBy)t.wt.push(g),g.field.isKeyField()&&(f=!0);if(!f){const g=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Gh($r.keyField(),g))}}}return t.wt}function go(i){const t=Ae(i);if(!t._t)if("F"===t.limitType)t._t=vp(t.path,t.collectionGroup,ha(t),t.filters,t.limit,t.startAt,t.endAt);else{const s=[];for(const g of ha(t))s.push(new Gh(g.field,"desc"===g.dir?"asc":"desc"));const l=t.endAt?new fc(t.endAt.position,t.endAt.inclusive):null,f=t.startAt?new fc(t.startAt.position,t.startAt.inclusive):null;t._t=vp(t.path,t.collectionGroup,s,t.filters,t.limit,l,f)}return t._t}function ef(i,t,s){return new Kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,s,i.startAt,i.endAt)}function mc(i,t){return $d(go(i),go(t))&&i.limitType===t.limitType}function Vy(i){return`${Fa(go(i))}|lt:${i.limitType}`}function tf(i){return`Query(target=${function(t){let s=t.path.canonicalString();return null!==t.collectionGroup&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(l=>Ly(l)).join(", ")}]`),T(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(l=>wi(l)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(l=>wi(l)).join(",")),`Target(${s})`}(go(i))}; limitType=${i.limitType})`}function Qc(i,t){return t.isFoundDocument()&&function(s,l){const f=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Bt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(i,t)&&function(s,l){for(const f of ha(s))if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(i,t)&&function(s,l){for(const f of s.filters)if(!f.matches(l))return!1;return!0}(i,t)&&(l=t,!((s=i).startAt&&!function(f,g,v){const A=tm(f,g,v);return f.inclusive?A<=0:A<0}(s.startAt,ha(s),l)||s.endAt&&!function(f,g,v){const A=tm(f,g,v);return f.inclusive?A>=0:A>0}(s.endAt,ha(s),l)));var s,l}function im(i){return(t,s)=>{let l=!1;for(const f of ha(i)){const g=Uy(f,t,s);if(0!==g)return g;l=l||f.field.isKeyField()}return 0}}function Uy(i,t,s){const l=i.field.isKeyField()?Bt.comparator(t.key,s.key):function(f,g,v){const A=g.data.field(f),L=v.data.field(f);return null!==A&&null!==L?xl(A,L):k()}(i.field,t,s);switch(i.dir){case"asc":return l;case"desc":return-1*l;default:return k()}}class Pl{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),l=this.inner[s];if(void 0!==l)for(const[f,g]of l)if(this.equalsFn(f,t))return g}has(t){return void 0!==this.get(t)}set(t,s){const l=this.mapKeyFn(t),f=this.inner[l];if(void 0===f)return this.inner[l]=[[t,s]],void this.innerSize++;for(let g=0;g<f.length;g++)if(this.equalsFn(f[g][0],t))return void(f[g]=[t,s]);f.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),l=this.inner[s];if(void 0===l)return!1;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],t))return 1===l.length?delete this.inner[s]:l.splice(f,1),this.innerSize--,!0;return!1}forEach(t){Ol(this.inner,(s,l)=>{for(const[f,g]of l)t(f,g)})}isEmpty(){return cc(this.inner)}size(){return this.innerSize}}const fa=new Ts(Bt.comparator);function Go(){return fa}const nf=new Ts(Bt.comparator);function Bu(...i){let t=nf;for(const s of i)t=t.insert(s.key,s);return t}function Ep(i){let t=nf;return i.forEach((s,l)=>t=t.insert(s,l.overlayedDocument)),t}function to(){return ke()}function wp(){return ke()}function ke(){return new Pl(i=>i.toString(),(i,t)=>i.isEqual(t))}const om=new Ts(Bt.comparator),am=new Ss(Bt.comparator);function Hn(...i){let t=am;for(const s of i)t=t.add(s);return t}const Dp=new Ss(Kt);function rf(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:R(t)?"-0":t}}function Hd(i){return{integerValue:""+i}}function cm(i,t){return function S(i){return"number"==typeof i&&Number.isInteger(i)&&!R(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(t)?Hd(t):rf(i,t)}class sl{constructor(){this._=void 0}}function Cp(i,t,s){return i instanceof ys?function(l,f){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&Qn(f)&&(f=xu(f)),f&&(g.fields.__previous_value__=f),{mapValue:g}}(s,t):i instanceof il?vc(i,t):i instanceof Fl?um(i,t):function(l,f){const g=yc(l,f),v=_c(g)+_c(l.gt);return xa(g)&&xa(l.gt)?Hd(v):rf(l.serializer,v)}(i,t)}function pa(i,t,s){return i instanceof il?vc(i,t):i instanceof Fl?um(i,t):s}function yc(i,t){return i instanceof Zs?xa(s=t)||(l=s)&&"doubleValue"in l?t:{integerValue:0}:null;var l,s}class ys extends sl{}class il extends sl{constructor(t){super(),this.elements=t}}function vc(i,t){const s=Ip(t);for(const l of i.elements)s.some(f=>hc(f,l))||s.push(l);return{arrayValue:{values:s}}}class Fl extends sl{constructor(t){super(),this.elements=t}}function um(i,t){let s=Ip(t);for(const l of i.elements)s=s.filter(f=>!hc(f,l));return{arrayValue:{values:s}}}class Zs extends sl{constructor(t,s){super(),this.serializer=t,this.gt=s}}function _c(i){return ai(i.integerValue||i.doubleValue)}function Ip(i){return Fu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Po{constructor(t,s){this.field=t,this.transform=s}}class Tp{constructor(t,s){this.version=t,this.transformResults=s}}class vs{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sp(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class ol{}function kl(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new af(i.key,vs.none()):new ju(i.key,i.data,vs.none());{const s=i.data,l=eo.empty();let f=new Ss($r.comparator);for(let g of t.fields)if(!f.has(g)){let v=s.field(g);null===v&&g.length>1&&(g=g.popLast(),v=s.field(g)),null===v?l.delete(g):l.set(g,v),f=f.add(g)}return new Qs(i.key,l,new xo(f.toArray()),vs.none())}}function Xc(i,t,s){i instanceof ju?function(l,f,g){const v=l.value.clone(),A=dm(l.fieldTransforms,f,g.transformResults);v.setAll(A),f.convertToFoundDocument(g.version,v).setHasCommittedMutations()}(i,t,s):i instanceof Qs?function(l,f,g){if(!Sp(l.precondition,f))return void f.convertToUnknownDocument(g.version);const v=dm(l.fieldTransforms,f,g.transformResults),A=f.data;A.setAll(Mp(l)),A.setAll(v),f.convertToFoundDocument(g.version,A).setHasCommittedMutations()}(i,t,s):t.convertToNoDocument(s.version).setHasCommittedMutations()}function sf(i,t,s,l){return i instanceof ju?function(f,g,v,A){if(!Sp(f.precondition,g))return v;const L=f.value.clone(),H=Pi(f.fieldTransforms,A,g);return L.setAll(H),g.convertToFoundDocument(g.version,L).setHasLocalMutations(),null}(i,t,s,l):i instanceof Qs?function(f,g,v,A){if(!Sp(f.precondition,g))return v;const L=Pi(f.fieldTransforms,A,g),H=g.data;return H.setAll(Mp(f)),H.setAll(L),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null===v?null:v.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(se=>se.field))}(i,t,s,l):(v=s,Sp(i.precondition,g=t)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):v);var g,v}function Wd(i,t){let s=null;for(const l of i.fieldTransforms){const f=t.data.field(l.field),g=yc(l.transform,f||null);null!=g&&(null===s&&(s=eo.empty()),s.set(l.field,g))}return s||null}function bp(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(l=t.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&Ro(s,l,(f,g)=>function no(i,t){return i.field.isEqual(t.field)&&(l=t.transform,(s=i.transform)instanceof il&&l instanceof il||s instanceof Fl&&l instanceof Fl?Ro(s.elements,l.elements,hc):s instanceof Zs&&l instanceof Zs?hc(s.gt,l.gt):s instanceof ys&&l instanceof ys);var s,l}(f,g))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var s,l}class ju extends ol{constructor(t,s,l,f=[]){super(),this.key=t,this.value=s,this.precondition=l,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Qs extends ol{constructor(t,s,l,f,g=[]){super(),this.key=t,this.data=s,this.fieldMask=l,this.precondition=f,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Mp(i){const t=new Map;return i.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const l=i.data.field(s);t.set(s,l)}}),t}function dm(i,t,s){const l=new Map;Y(i.length===s.length);for(let f=0;f<s.length;f++){const g=i[f],v=g.transform,A=t.data.field(g.field);l.set(g.field,pa(v,A,s[f]))}return l}function Pi(i,t,s){const l=new Map;for(const f of i){const g=f.transform,v=s.data.field(f.field);l.set(f.field,Cp(g,v,t))}return l}class af extends ol{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hm extends ol{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class By{constructor(t,s,l,f){this.batchId=t,this.localWriteTime=s,this.baseMutations=l,this.mutations=f}applyToRemoteDocument(t,s){const l=s.mutationResults;for(let f=0;f<this.mutations.length;f++){const g=this.mutations[f];g.key.isEqual(t.key)&&Xc(g,t,l[f])}}applyToLocalView(t,s){for(const l of this.baseMutations)l.key.isEqual(t.key)&&(s=sf(l,t,s,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(t.key)&&(s=sf(l,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const l=wp();return this.mutations.forEach(f=>{const g=t.get(f.key),v=g.overlayedDocument;let A=this.applyToLocalView(v,g.mutatedFields);A=s.has(f.key)?null:A;const L=kl(v,A);null!==L&&l.set(f.key,L),v.isValidDocument()||v.convertToNoDocument($t.min())}),l}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),Hn())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,(s,l)=>bp(s,l))&&Ro(this.baseMutations,t.baseMutations,(s,l)=>bp(s,l))}}class Ap{constructor(t,s,l,f){this.batch=t,this.commitVersion=s,this.mutationResults=l,this.docVersions=f}static from(t,s,l){Y(t.mutations.length===l.length);let f=om;const g=t.mutations;for(let v=0;v<g.length;v++)f=f.insert(g[v].key,l[v].version);return new Ap(t,s,l,f)}}class ka{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class g_{constructor(t,s){this.count=t,this.unchangedNames=s}}var Hr,vr;function Hu(i){if(void 0===i)return M("GRPC error has no .code"),be.UNKNOWN;switch(i){case Hr.OK:return be.OK;case Hr.CANCELLED:return be.CANCELLED;case Hr.UNKNOWN:return be.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return be.INTERNAL;case Hr.UNAVAILABLE:return be.UNAVAILABLE;case Hr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Hr.NOT_FOUND:return be.NOT_FOUND;case Hr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Hr.ABORTED:return be.ABORTED;case Hr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Hr.DATA_LOSS:return be.DATA_LOSS;default:return k()}}(vr=Hr||(Hr={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class qc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ga}static getOrCreateInstance(){return null===ga&&(ga=new qc),ga}onExistenceFilterMismatch(t){const s=Symbol();return this.onExistenceFilterMismatchCallbacks.set(s,t),()=>this.onExistenceFilterMismatchCallbacks.delete(s)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(s=>s(t))}}let ga=null;const jy=new hs([4294967295,4294967295],0);function al(i){const t=function fm(){return new TextEncoder}().encode(i),s=new Ni;return s.update(t),new Uint8Array(s.digest())}function Wu(i){const t=new DataView(i.buffer),s=t.getUint32(0,!0),l=t.getUint32(4,!0),f=t.getUint32(8,!0),g=t.getUint32(12,!0);return[new hs([s,l],0),new hs([f,g],0)]}class lf{constructor(t,s,l){if(this.bitmap=t,this.padding=s,this.hashCount=l,s<0||s>=8)throw new Ku(`Invalid padding: ${s}`);if(l<0)throw new Ku(`Invalid hash count: ${l}`);if(t.length>0&&0===this.hashCount)throw new Ku(`Invalid hash count: ${l}`);if(0===t.length&&0!==s)throw new Ku(`Invalid padding when bitmap length is 0: ${s}`);this.It=8*t.length-s,this.Tt=hs.fromNumber(this.It)}Et(t,s,l){let f=t.add(s.multiply(hs.fromNumber(l)));return 1===f.compare(jy)&&(f=new hs([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Tt).toNumber()}At(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const s=al(t),[l,f]=Wu(s);for(let g=0;g<this.hashCount;g++){const v=this.Et(l,f,g);if(!this.At(v))return!1}return!0}static create(t,s,l){const f=t%8==0?0:8-t%8,g=new Uint8Array(Math.ceil(t/8)),v=new lf(g,f,s);return l.forEach(A=>v.insert(A)),v}insert(t){if(0===this.It)return;const s=al(t),[l,f]=Wu(s);for(let g=0;g<this.hashCount;g++){const v=this.Et(l,f,g);this.Rt(v)}}Rt(t){const s=Math.floor(t/8);this.bitmap[s]|=1<<t%8}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kd{constructor(t,s,l,f,g){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=l,this.documentUpdates=f,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(t,s,l){const f=new Map;return f.set(t,Yc.createSynthesizedTargetChangeForCurrentChange(t,s,l)),new Kd($t.min(),f,new Ts(Kt),Go(),Hn())}}class Yc{constructor(t,s,l,f,g){this.resumeToken=t,this.current=s,this.addedDocuments=l,this.modifiedDocuments=f,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(t,s,l){return new Yc(l,s,Hn(),Hn(),Hn())}}class Zc{constructor(t,s,l,f){this.Pt=t,this.removedTargetIds=s,this.key=l,this.bt=f}}class Op{constructor(t,s){this.targetId=t,this.Vt=s}}class $s{constructor(t,s,l=$i.EMPTY_BYTE_STRING,f=null){this.state=t,this.targetIds=s,this.resumeToken=l,this.cause=f}}class pm{constructor(){this.St=0,this.Dt=Rp(),this.Ct=$i.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Hn(),s=Hn(),l=Hn();return this.Dt.forEach((f,g)=>{switch(g){case 0:t=t.add(f);break;case 2:s=s.add(f);break;case 1:l=l.add(f);break;default:k()}}),new Yc(this.Ct,this.xt,t,s,l)}Ft(){this.Nt=!1,this.Dt=Rp()}Bt(t,s){this.Nt=!0,this.Dt=this.Dt.insert(t,s)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gm{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Go(),this.zt=Np(),this.Wt=new Ts(Kt)}Ht(t){for(const s of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(s,t.bt):this.Yt(s,t.key,t.bt);for(const s of t.removedTargetIds)this.Yt(s,t.key,t.bt)}Xt(t){this.forEachTarget(t,s=>{const l=this.Zt(s);switch(t.state){case 0:this.te(s)&&l.$t(t.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(t.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(s);break;case 3:this.te(s)&&(l.Kt(),l.$t(t.resumeToken));break;case 4:this.te(s)&&(this.ee(s),l.$t(t.resumeToken));break;default:k()}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.Qt.forEach((l,f)=>{this.te(f)&&s(f)})}ne(t){var s;const l=t.targetId,f=t.Vt.count,g=this.se(l);if(g){const v=g.target;if(_p(v))if(0===f){const A=new Bt(v.path);this.Yt(l,A,js.newNoDocument(A,$t.min()))}else Y(1===f);else{const A=this.ie(l);if(A!==f){const L=this.re(t,A);0!==L&&(this.ee(l),this.Wt=this.Wt.insert(l,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(s=qc.instance)||void 0===s||s.notifyOnExistenceFilterMismatch(function(H,se,Ce){var Ke,ft,kt,zt,Xt,ir;const zr={localCacheCount:se,existenceFilterCount:Ce.count},gr=Ce.unchangedNames;return gr&&(zr.bloomFilter={applied:0===H,hashCount:null!==(Ke=gr?.hashCount)&&void 0!==Ke?Ke:0,bitmapLength:null!==(zt=null===(kt=null===(ft=gr?.bits)||void 0===ft?void 0:ft.bitmap)||void 0===kt?void 0:kt.length)&&void 0!==zt?zt:0,padding:null!==(ir=null===(Xt=gr?.bits)||void 0===Xt?void 0:Xt.padding)&&void 0!==ir?ir:0}),zr}(L,A,t.Vt))}}}}re(t,s){const{unchangedNames:l,count:f}=t.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:g="",padding:v=0},hashCount:A=0}=l;let L,H;try{L=Nl(g).toUint8Array()}catch(se){if(se instanceof Py)return z("Decoding the base64 bloom filter in existence filter failed ("+se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw se}try{H=new lf(L,v,A)}catch(se){return z(se instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",se),1}return 0===H.It?1:f!==s-this.oe(t.targetId,H)?2:0}oe(t,s){const l=this.Gt.getRemoteKeysForTarget(t);let f=0;return l.forEach(g=>{const v=this.Gt.ue(),A=`projects/${v.projectId}/databases/${v.database}/documents/${g.path.canonicalString()}`;s.vt(A)||(this.Yt(t,g,null),f++)}),f}ce(t){const s=new Map;this.Qt.forEach((g,v)=>{const A=this.se(v);if(A){if(g.current&&_p(A.target)){const L=new Bt(A.target.path);null!==this.jt.get(L)||this.ae(v,L)||this.Yt(v,L,js.newNoDocument(L,t))}g.Mt&&(s.set(v,g.Ot()),g.Ft())}});let l=Hn();this.zt.forEach((g,v)=>{let A=!0;v.forEachWhile(L=>{const H=this.se(L);return!H||"TargetPurposeLimboResolution"===H.purpose||(A=!1,!1)}),A&&(l=l.add(g))}),this.jt.forEach((g,v)=>v.setReadTime(t));const f=new Kd(t,s,this.Wt,this.jt,l);return this.jt=Go(),this.zt=Np(),this.Wt=new Ts(Kt),f}Jt(t,s){if(!this.te(t))return;const l=this.ae(t,s.key)?2:0;this.Zt(t).Bt(s.key,l),this.jt=this.jt.insert(s.key,s),this.zt=this.zt.insert(s.key,this.he(s.key).add(t))}Yt(t,s,l){if(!this.te(t))return;const f=this.Zt(t);this.ae(t,s)?f.Bt(s,1):f.Lt(s),this.zt=this.zt.insert(s,this.he(s).delete(t)),l&&(this.jt=this.jt.insert(s,l))}removeTarget(t){this.Qt.delete(t)}ie(t){const s=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let s=this.Qt.get(t);return s||(s=new pm,this.Qt.set(t,s)),s}he(t){let s=this.zt.get(t);return s||(s=new Ss(Kt),this.zt=this.zt.insert(t,s)),s}te(t){const s=null!==this.se(t);return s||It("WatchChangeAggregator","Detected inactive target",t),s}se(t){const s=this.Qt.get(t);return s&&s.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new pm),this.Gt.getRemoteKeysForTarget(t).forEach(s=>{this.Yt(t,s,null)})}ae(t,s){return this.Gt.getRemoteKeysForTarget(t).has(s)}}function Np(){return new Ts(Bt.comparator)}function Rp(){return new Ts(Bt.comparator)}const cf={asc:"ASCENDING",desc:"DESCENDING"},$y={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hy={and:"AND",or:"OR"};class xp{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function mm(i,t){return i.useProto3Json||T(t)?t:{value:t}}function zd(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ym(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Wy(i,t){return zd(i,t.toTimestamp())}function is(i){return Y(!!i),$t.fromTimestamp(function(t){const s=yn(t);return new Jr(s.seconds,s.nanos)}(i))}function Pp(i,t){return(s=i,new br(["projects",s.projectId,"databases",s.database])).child("documents").child(t).canonicalString();var s}function vm(i){const t=br.fromString(i);return Y(Zd(t)),t}function Fp(i,t){return Pp(i.databaseId,t.path)}function Ll(i,t){const s=vm(t);if(s.get(1)!==i.databaseId.projectId)throw new ot(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ot(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new Bt(_m(s))}function kp(i,t){return Pp(i.databaseId,t)}function Ky(i){const t=vm(i);return 4===t.length?br.emptyPath():_m(t)}function Gd(i){return new br(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _m(i){return Y(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function zu(i,t,s){return{name:Fp(i,t),fields:s.value.mapValue.fields}}function Xd(i,t){let s;if(t instanceof ju)s={update:zu(i,t.key,t.value)};else if(t instanceof af)s={delete:Fp(i,t.key)};else if(t instanceof Qs)s={update:zu(i,t.key,t.data),updateMask:Up(t.fieldMask)};else{if(!(t instanceof hm))return k();s={verify:Fp(i,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(l=>function(f,g){const v=g.transform;if(v instanceof ys)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof il)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Fl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Zs)return{fieldPath:g.field.canonicalString(),increment:v.gt};throw k()}(0,l))),t.precondition.isNone||(s.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:Wy(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:k()),s;var f}function Gy(i,t){const s=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?vs.updateTime(is(f.updateTime)):void 0!==f.exists?vs.exists(f.exists):vs.none():vs.none(),l=t.updateTransforms?t.updateTransforms.map(f=>function(g,v){let A=null;"setToServerValue"in v?(Y("REQUEST_TIME"===v.setToServerValue),A=new ys):"appendMissingElements"in v?A=new il(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new Fl(v.removeAllFromArray.values||[]):"increment"in v?A=new Zs(g,v.increment):k();const L=$r.fromServerFormat(v.fieldPath);return new Po(L,A)}(i,f)):[];var f;if(t.update){const f=Ll(i,t.update.name),g=new eo({mapValue:{fields:t.update.fields}});if(t.updateMask){const v=new xo((t.updateMask.fieldPaths||[]).map(H=>$r.fromServerFormat(H)));return new Qs(f,g,v,s,l)}return new ju(f,g,s,l)}if(t.delete){const f=Ll(i,t.delete);return new af(f,s)}if(t.verify){const f=Ll(i,t.verify);return new hm(f,s)}return k()}function Jc(i,t){return{documents:[kp(i,t.path)]}}function wc(i,t){const s={structuredQuery:{}},l=t.path;null!==t.collectionGroup?(s.parent=kp(i,l),s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s.parent=kp(i,l.popLast()),s.structuredQuery.from=[{collectionId:l.lastSegment()}]);const f=function(L){if(0!==L.length)return Vp(ss.create(L,"and"))}(t.filters);f&&(s.structuredQuery.where=f);const g=function(L){if(0!==L.length)return L.map(H=>{return{field:ma((se=H).field),direction:y_(se.dir)};var se})}(t.orderBy);g&&(s.structuredQuery.orderBy=g);const v=mm(i,t.limit);var A,L;return null!==v&&(s.structuredQuery.limit=v),t.startAt&&(s.structuredQuery.startAt={before:(A=t.startAt).inclusive,values:A.position}),t.endAt&&(s.structuredQuery.endAt={before:!(L=t.endAt).inclusive,values:L.position}),s}function Em(i){let t=Ky(i.parent);const s=i.structuredQuery,l=s.from?s.from.length:0;let f=null;if(l>0){Y(1===l);const se=s.from[0];se.allDescendants?f=se.collectionId:t=t.child(se.collectionId)}let g=[];s.where&&(g=function(se){const Ce=Yd(se);return Ce instanceof ss&&fp(Ce)?Ce.getFilters():[Ce]}(s.where));let v=[];s.orderBy&&(v=s.orderBy.map(se=>{return new Gh(Vl((Ce=se).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let A=null;s.limit&&(A=function(se){let Ce;return Ce="object"==typeof se?se.value:se,T(Ce)?null:Ce}(s.limit));let L=null;var se;s.startAt&&(L=new fc((se=s.startAt).values||[],!!se.before));let H=null;return s.endAt&&(H=function(se){return new fc(se.values||[],!se.before)}(s.endAt)),function rm(i,t,s,l,f,g,v,A){return new Kc(i,t,s,l,f,g,v,A)}(t,f,v,g,A,"F",L,H)}function Yd(i){return void 0!==i.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Vl(t.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Vl(t.unaryFilter.field);return Jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Vl(t.unaryFilter.field);return Jt.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Vl(t.unaryFilter.field);return Jt.create(g,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(i):void 0!==i.fieldFilter?Jt.create(Vl((t=i).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==i.compositeFilter?function(t){return ss.create(t.compositeFilter.filters.map(s=>Yd(s)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return k()}}(t.compositeFilter.op))}(i):k();var t}function y_(i){return cf[i]}function wm(i){return $y[i]}function Lp(i){return Hy[i]}function ma(i){return{fieldPath:i.canonicalString()}}function Vl(i){return $r.fromServerFormat(i.fieldPath)}function Vp(i){return i instanceof Jt?function(t){if("=="===t.op){if(Yg(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NAN"}};if(cp(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Yg(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NOT_NAN"}};if(cp(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(t.field),op:wm(t.op),value:t.value}}}(i):i instanceof ss?function(t){const s=t.getFilters().map(l=>Vp(l));return 1===s.length?s[0]:{compositeFilter:{op:Lp(t.op),filters:s}}}(i):k()}function Up(i){const t=[];return i.fields.forEach(s=>t.push(s.canonicalString())),{fieldPaths:t}}function Zd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ul{constructor(t,s,l,f,g=$t.min(),v=$t.min(),A=$i.EMPTY_BYTE_STRING,L=null){this.target=t,this.targetId=s,this.purpose=l,this.sequenceNumber=f,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A,this.expectedCount=L}withSequenceNumber(t){return new Ul(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Dm{constructor(t){this.fe=t}}function Cm(i,t){const s=t.key,l={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Gu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())l.document={name:Fp(f=i.fe,(g=t).key),fields:g.data.value.mapValue.fields,updateTime:zd(f,g.version.toTimestamp()),createTime:zd(f,g.createTime.toTimestamp())};else if(t.isNoDocument())l.noDocument={path:s.path.toArray(),readTime:eu(t.version)};else{if(!t.isUnknownDocument())return k();l.unknownDocument={path:s.path.toArray(),version:eu(t.version)}}var f,g;return l}function Gu(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function eu(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function tu(i){const t=new Jr(i.seconds,i.nanoseconds);return $t.fromTimestamp(t)}function Js(i,t){const s=(t.baseMutations||[]).map(g=>Gy(i.fe,g));for(let g=0;g<t.mutations.length-1;++g)g+1<t.mutations.length&&void 0!==t.mutations[g+1].transform&&(t.mutations[g].updateTransforms=t.mutations[g+1].transform.fieldTransforms,t.mutations.splice(g+1,1),++g);const l=t.mutations.map(g=>Gy(i.fe,g)),f=Jr.fromMillis(t.localWriteTimeMs);return new By(t.batchId,f,s,l)}function nu(i){const t=tu(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?tu(i.lastLimboFreeSnapshotVersion):$t.min();let l;var f;return void 0!==i.query.documents?(Y(1===(f=i.query).documents.length),l=go(zc(Ky(f.documents[0])))):l=go(Em(i.query)),new Ul(l,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,s,$i.fromBase64String(i.resumeToken))}function Bp(i,t){const s=eu(t.snapshotVersion),l=eu(t.lastLimboFreeSnapshotVersion);let f;f=_p(t.target)?Jc(i.fe,t.target):wc(i.fe,t.target);const g=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fa(t.target),readTime:s,resumeToken:g,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:f}}function Mr(i){const t=Em({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ef(t,t.limit,"L"):t}function Ur(i,t){return new ka(t.largestBatchId,Gy(i.fe,t.overlayMutation))}function dr(i,t){const s=t.path.lastSegment();return[i,O(t.path.popLast()),s]}function pi(i,t,s,l){return{indexId:i,uid:t.uid||"",sequenceNumber:s,readTime:eu(l.readTime),documentKey:O(l.documentKey.path),largestBatchId:l.largestBatchId}}class Wr{getBundleMetadata(t,s){return Jd(t).get(s).next(l=>{if(l)return{id:(f=l).bundleId,createTime:tu(f.createTime),version:f.version};var f})}saveBundleMetadata(t,s){return Jd(t).put({bundleId:(l=s).id,createTime:eu(is(l.createTime)),version:l.version});var l}getNamedQuery(t,s){return Im(t).get(s).next(l=>{if(l)return{name:(f=l).name,query:Mr(f.bundledQuery),readTime:tu(f.readTime)};var f})}saveNamedQuery(t,s){return Im(t).put({name:(l=s).name,readTime:eu(is(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Jd(i){return Ei(i,"bundles")}function Im(i){return Ei(i,"namedQueries")}class ru{constructor(t,s){this.serializer=t,this.userId=s}static de(t,s){return new ru(t,s.uid||"")}getOverlay(t,s){return Qu(t).get(dr(this.userId,s)).next(l=>l?Ur(this.serializer,l):null)}getOverlays(t,s){const l=to();return qe.forEach(s,f=>this.getOverlay(t,f).next(g=>{null!==g&&l.set(f,g)})).next(()=>l)}saveOverlays(t,s,l){const f=[];return l.forEach((g,v)=>{const A=new ka(s,v);f.push(this.we(t,A))}),qe.waitFor(f)}removeOverlaysForBatchId(t,s,l){const f=new Set;s.forEach(v=>f.add(O(v.getCollectionPath())));const g=[];return f.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,l],[this.userId,v,l+1],!1,!0);g.push(Qu(t).J("collectionPathOverlayIndex",A))}),qe.waitFor(g)}getOverlaysForCollection(t,s,l){const f=to(),g=O(s),v=IDBKeyRange.bound([this.userId,g,l],[this.userId,g,Number.POSITIVE_INFINITY],!0);return Qu(t).j("collectionPathOverlayIndex",v).next(A=>{for(const L of A){const H=Ur(this.serializer,L);f.set(H.getKey(),H)}return f})}getOverlaysForCollectionGroup(t,s,l,f){const g=to();let v;const A=IDBKeyRange.bound([this.userId,s,l],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Qu(t).X({index:"collectionGroupOverlayIndex",range:A},(L,H,se)=>{const Ce=Ur(this.serializer,H);g.size()<f||Ce.largestBatchId===v?(g.set(Ce.getKey(),Ce),v=Ce.largestBatchId):se.done()}).next(()=>g)}we(t,s){return Qu(t).put(function(l,f,g){const[v,A,L]=dr(f,g.mutation.key);return{userId:f,collectionPath:A,documentId:L,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Xd(l.fe,g.mutation)}}(this.serializer,this.userId,s))}}function Qu(i){return Ei(i,"documentOverlays")}class os{constructor(){}_e(t,s){this.me(t,s),s.ge()}me(t,s){if("nullValue"in t)this.ye(s,5);else if("booleanValue"in t)this.ye(s,10),s.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(s,15),s.pe(ai(t.integerValue));else if("doubleValue"in t){const l=ai(t.doubleValue);isNaN(l)?this.ye(s,13):(this.ye(s,15),R(l)?s.pe(0):s.pe(l))}else if("timestampValue"in t){const l=t.timestampValue;this.ye(s,20),"string"==typeof l?s.Ie(l):(s.Ie(`${l.seconds||""}`),s.pe(l.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,s),this.Ee(s);else if("bytesValue"in t)this.ye(s,30),s.Ae(Nl(t.bytesValue)),this.Ee(s);else if("referenceValue"in t)this.ve(t.referenceValue,s);else if("geoPointValue"in t){const l=t.geoPointValue;this.ye(s,45),s.pe(l.latitude||0),s.pe(l.longitude||0)}else"mapValue"in t?up(t)?this.ye(s,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,s),this.Ee(s)):"arrayValue"in t?(this.Pe(t.arrayValue,s),this.Ee(s)):k()}Te(t,s){this.ye(s,25),this.be(t,s)}be(t,s){s.Ie(t)}Re(t,s){const l=t.fields||{};this.ye(s,55);for(const f of Object.keys(l))this.Te(f,s),this.me(l[f],s)}Pe(t,s){const l=t.values||[];this.ye(s,50);for(const f of l)this.me(f,s)}ve(t,s){this.ye(s,37),Bt.fromName(t).path.forEach(l=>{this.ye(s,60),this.be(l,s)})}ye(t,s){t.pe(s)}Ee(t){t.pe(2)}}function sr(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function bo(i){const t=64-function(s){let l=0;for(let f=0;f<8;++f){const g=sr(255&s[f]);if(l+=g,8!==g)break}return l}(i);return Math.ceil(t/8)}os.Ve=new os;class qy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const s=t[Symbol.iterator]();let l=s.next();for(;!l.done;)this.De(l.value),l=s.next();this.Ce()}xe(t){const s=t[Symbol.iterator]();let l=s.next();for(;!l.done;)this.Ne(l.value),l=s.next();this.ke()}Me(t){for(const s of t){const l=s.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(s<"\ud800"||"\udbff"<s)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const f=s.codePointAt(0);this.De(240|f>>>18),this.De(128|63&f>>>12),this.De(128|63&f>>>6),this.De(128|63&f)}}this.Ce()}$e(t){for(const s of t){const l=s.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(s<"\ud800"||"\udbff"<s)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const f=s.codePointAt(0);this.Ne(240|f>>>18),this.Ne(128|63&f>>>12),this.Ne(128|63&f>>>6),this.Ne(128|63&f)}}this.ke()}Oe(t){const s=this.Fe(t),l=bo(s);this.Be(1+l),this.buffer[this.position++]=255&l;for(let f=s.length-l;f<s.length;++f)this.buffer[this.position++]=255&s[f]}Le(t){const s=this.Fe(t),l=bo(s);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let f=s.length-l;f<s.length;++f)this.buffer[this.position++]=~(255&s[f])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const s=function(f){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,f,!1),new Uint8Array(g.buffer)}(t),l=!!(128&s[0]);s[0]^=l?255:128;for(let f=1;f<s.length;++f)s[f]^=l?255:0;return s}De(t){const s=255&t;0===s?(this.Ue(0),this.Ue(255)):255===s?(this.Ue(255),this.Ue(0)):this.Ue(s)}Ne(t){const s=255&t;0===s?(this.Ge(0),this.Ge(255)):255===s?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const s=t+this.position;if(s<=this.buffer.length)return;let l=2*this.buffer.length;l<s&&(l=s);const f=new Uint8Array(l);f.set(this.buffer),this.buffer=f}}class Tm{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class La{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class uf{constructor(){this.je=new qy,this.ze=new Tm(this.je),this.We=new La(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Xu{constructor(t,s,l,f){this.indexId=t,this.documentKey=s,this.arrayValue=l,this.directionalValue=f}Je(){const t=this.directionalValue.length,s=0===t||255===this.directionalValue[t-1]?t+1:t,l=new Uint8Array(s);return l.set(this.directionalValue,0),s!==t?l.set([0],this.directionalValue.length):++l[l.length-1],new Xu(this.indexId,this.documentKey,this.arrayValue,l)}}function Dc(i,t){let s=i.indexId-t.indexId;return 0!==s?s:(s=jp(i.arrayValue,t.arrayValue),0!==s?s:(s=jp(i.directionalValue,t.directionalValue),0!==s?s:Bt.comparator(i.documentKey,t.documentKey)))}function jp(i,t){for(let s=0;s<i.length&&s<t.length;++s){const l=i[s]-t[s];if(0!==l)return l}return i.length-t.length}class su{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const s of t.filters){const l=s;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(t){Y(t.collectionGroup===this.collectionId);const s=Tl(t);if(void 0!==s&&!this.en(s))return!1;const l=Nu(t);let f=new Set,g=0,v=0;for(;g<l.length&&this.en(l[g]);++g)f=f.add(l[g].fieldPath.canonicalString());if(g===l.length)return!0;if(void 0!==this.Ze){if(!f.has(this.Ze.field.canonicalString())){const A=l[g];if(!this.nn(this.Ze,A)||!this.sn(this.Ye[v++],A))return!1}++g}for(;g<l.length;++g)if(v>=this.Ye.length||!this.sn(this.Ye[v++],l[g]))return!1;return!0}en(t){for(const s of this.Xe)if(this.nn(s,t))return!0;return!1}nn(t,s){return!(void 0===t||!t.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,s){return!!t.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===t.dir||1===s.kind&&"desc"===t.dir)}}function qu(i){var t,s;if(Y(i instanceof Jt||i instanceof ss),i instanceof Jt){if(i instanceof mp){const f=(null===(s=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===s?void 0:s.map(g=>Jt.create(i.field,"==",g)))||[];return ss.create(f,"or")}return i}const l=i.filters.map(f=>qu(f));return ss.create(l,i.op)}function eh(i){if(0===i.getFilters().length)return[];const t=bm(qu(i));return Y(Sm(t)),$p(t)||df(t)?[t]:t.getFilters()}function $p(i){return i instanceof Jt}function df(i){return i instanceof ss&&fp(i)}function Sm(i){return $p(i)||df(i)||function(t){if(t instanceof ss&&Qh(t)){for(const s of t.getFilters())if(!$p(s)&&!df(s))return!1;return!0}return!1}(i)}function bm(i){if(Y(i instanceof Jt||i instanceof ss),i instanceof Jt)return i;if(1===i.filters.length)return bm(i.filters[0]);const t=i.filters.map(l=>bm(l));let s=ss.create(t,i.op);return s=Bl(s),Sm(s)?s:(Y(s instanceof ss),Y(Ud(s)),Y(s.filters.length>1),s.filters.reduce((l,f)=>Mm(l,f)))}function Mm(i,t){let s;return Y(i instanceof Jt||i instanceof ss),Y(t instanceof Jt||t instanceof ss),s=i instanceof Jt?t instanceof Jt?ss.create([i,t],"and"):Am(i,t):t instanceof Jt?Am(t,i):function(l,f){if(Y(l.filters.length>0&&f.filters.length>0),Ud(l)&&Ud(f))return Pa(l,f.getFilters());const g=Qh(l)?l:f,v=Qh(l)?f:l,A=g.filters.map(L=>Mm(L,v));return ss.create(A,"or")}(i,t),Bl(s)}function Am(i,t){if(Ud(t))return Pa(t,i.getFilters());{const s=t.filters.map(l=>Mm(i,l));return ss.create(s,"or")}}function Bl(i){if(Y(i instanceof Jt||i instanceof ss),i instanceof Jt)return i;const t=i.getFilters();if(1===t.length)return Bl(t[0]);if(ky(i))return i;const s=t.map(f=>Bl(f)),l=[];return s.forEach(f=>{f instanceof Jt?l.push(f):f instanceof ss&&(f.op===i.op?l.push(...f.filters):l.push(f))}),1===l.length?l[0]:ss.create(l,i.op)}class hr{constructor(){this.rn=new hf}addToCollectionParentIndex(t,s){return this.rn.add(s),qe.resolve()}getCollectionParents(t,s){return qe.resolve(this.rn.getEntries(s))}addFieldIndex(t,s){return qe.resolve()}deleteFieldIndex(t,s){return qe.resolve()}getDocumentsMatchingTarget(t,s){return qe.resolve(null)}getIndexType(t,s){return qe.resolve(0)}getFieldIndexes(t,s){return qe.resolve([])}getNextCollectionGroupToUpdate(t){return qe.resolve(null)}getMinOffset(t,s){return qe.resolve(ji.min())}getMinOffsetFromCollectionGroup(t,s){return qe.resolve(ji.min())}updateCollectionGroup(t,s,l){return qe.resolve()}updateIndexEntries(t,s){return qe.resolve()}}class hf{constructor(){this.index={}}add(t){const s=t.lastSegment(),l=t.popLast(),f=this.index[s]||new Ss(br.comparator),g=!f.has(l);return this.index[s]=f.add(l),g}has(t){const s=t.lastSegment(),l=t.popLast(),f=this.index[s];return f&&f.has(l)}getEntries(t){return(this.index[t]||new Ss(br.comparator)).toArray()}}const iu=new Uint8Array(0);class Yy{constructor(t,s){this.user=t,this.databaseId=s,this.on=new hf,this.un=new Pl(l=>Fa(l),(l,f)=>$d(l,f)),this.uid=t.uid||""}addToCollectionParentIndex(t,s){if(!this.on.has(s)){const l=s.lastSegment(),f=s.popLast();t.addOnCommittedListener(()=>{this.on.add(s)});const g={collectionId:l,parent:O(f)};return ll(t).put(g)}return qe.resolve()}getCollectionParents(t,s){const l=[],f=IDBKeyRange.bound([s,""],[Is(s),""],!1,!0);return ll(t).j(f).next(g=>{for(const v of g){if(v.collectionId!==s)break;l.push(ue(v.parent))}return l})}addFieldIndex(t,s){const l=Qo(t),f={indexId:(v=s).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var v;delete f.indexId;const g=l.add(f);if(s.indexState){const v=th(t);return g.next(A=>{v.put(pi(A,this.user,s.indexState.sequenceNumber,s.indexState.offset))})}return g.next()}deleteFieldIndex(t,s){const l=Qo(t),f=th(t),g=Yu(t);return l.delete(s.indexId).next(()=>f.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,s){const l=Yu(t);let f=!0;const g=new Map;return qe.forEach(this.cn(s),v=>this.an(t,v).next(A=>{f&&(f=!!A),g.set(v,A)})).next(()=>{if(f){let v=Hn();const A=[];return qe.forEach(g,(L,H)=>{var se;It("IndexedDbIndexManager",`Using index ${se=L,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(gr=>`${gr.fieldPath}:${gr.kind}`).join(",")}`} to execute ${Fa(s)}`);const Ce=function(gr,Di){const Fi=Tl(Di);if(void 0===Fi)return null;for(const Ws of qh(gr,Fi.fieldPath))switch(Ws.op){case"array-contains-any":return Ws.value.arrayValue.values||[];case"array-contains":return[Ws.value]}return null}(H,L),Ke=function(gr,Di){const Fi=new Map;for(const Ws of Nu(Di))for(const Ia of qh(gr,Ws.fieldPath))switch(Ia.op){case"==":case"in":Fi.set(Ws.fieldPath.canonicalString(),Ia.value);break;case"not-in":case"!=":return Fi.set(Ws.fieldPath.canonicalString(),Ia.value),Array.from(Fi.values())}return null}(H,L),ft=function(gr,Di){const Fi=[];let Ws=!0;for(const Ia of Nu(Di)){const Lc=0===Ia.kind?Yh(gr,Ia.fieldPath,gr.startAt):p_(gr,Ia.fieldPath,gr.startAt);Fi.push(Lc.value),Ws&&(Ws=Lc.inclusive)}return new fc(Fi,Ws)}(H,L),kt=function(gr,Di){const Fi=[];let Ws=!0;for(const Ia of Nu(Di)){const Lc=0===Ia.kind?p_(gr,Ia.fieldPath,gr.endAt):Yh(gr,Ia.fieldPath,gr.endAt);Fi.push(Lc.value),Ws&&(Ws=Lc.inclusive)}return new fc(Fi,Ws)}(H,L),zt=this.hn(L,H,ft),Xt=this.hn(L,H,kt),ir=this.ln(L,H,Ke),zr=this.fn(L.indexId,Ce,zt,ft.inclusive,Xt,kt.inclusive,ir);return qe.forEach(zr,gr=>l.H(gr,s.limit).next(Di=>{Di.forEach(Fi=>{const Ws=Bt.fromSegments(Fi.documentKey);v.has(Ws)||(v=v.add(Ws),A.push(Ws))})}))}).next(()=>A)}return qe.resolve(null)})}cn(t){let s=this.un.get(t);return s||(s=0===t.filters.length?[t]:eh(ss.create(t.filters,"and")).map(l=>vp(t.path,t.collectionGroup,t.orderBy,l.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,s),s)}fn(t,s,l,f,g,v,A){const L=(null!=s?s.length:1)*Math.max(l.length,g.length),H=L/(null!=s?s.length:1),se=[];for(let Ce=0;Ce<L;++Ce){const Ke=s?this.dn(s[Ce/H]):iu,ft=this.wn(t,Ke,l[Ce%H],f),kt=this._n(t,Ke,g[Ce%H],v),zt=A.map(Xt=>this.wn(t,Ke,Xt,!0));se.push(...this.createRange(ft,kt,zt))}return se}wn(t,s,l,f){const g=new Xu(t,Bt.empty(),s,l);return f?g:g.Je()}_n(t,s,l,f){const g=new Xu(t,Bt.empty(),s,l);return f?g.Je():g}an(t,s){const l=new su(s),f=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(t,f).next(g=>{let v=null;for(const A of g)l.tn(A)&&(!v||A.fields.length>v.fields.length)&&(v=A);return v})}getIndexType(t,s){let l=2;const f=this.cn(s);return qe.forEach(f,g=>this.an(t,g).next(v=>{v?0!==l&&v.fields.length<function(A){let L=new Ss($r.comparator),H=!1;for(const se of A.filters)for(const Ce of se.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?H=!0:L=L.add(Ce.field));for(const se of A.orderBy)se.field.isKeyField()||(L=L.add(se.field));return L.size+(H?1:0)}(g)&&(l=1):l=0})).next(()=>null!==s.limit&&f.length>1&&2===l?1:l)}mn(t,s){const l=new uf;for(const f of Nu(t)){const g=s.data.field(f.fieldPath);if(null==g)return null;const v=l.He(f.kind);os.Ve._e(g,v)}return l.Qe()}dn(t){const s=new uf;return os.Ve._e(t,s.He(0)),s.Qe()}gn(t,s){const l=new uf;return os.Ve._e(Hi(this.databaseId,s),l.He(function(f){const g=Nu(f);return 0===g.length?0:g[g.length-1].kind}(t))),l.Qe()}ln(t,s,l){if(null===l)return[];let f=[];f.push(new uf);let g=0;for(const v of Nu(t)){const A=l[g++];for(const L of f)if(this.yn(s,v.fieldPath)&&Fu(A))f=this.pn(f,v,A);else{const H=L.He(v.kind);os.Ve._e(A,H)}}return this.In(f)}hn(t,s,l){return this.ln(t,s,l.position)}In(t){const s=[];for(let l=0;l<t.length;++l)s[l]=t[l].Qe();return s}pn(t,s,l){const f=[...t],g=[];for(const v of l.arrayValue.values||[])for(const A of f){const L=new uf;L.seed(A.Qe()),os.Ve._e(v,L.He(s.kind)),g.push(L)}return g}yn(t,s){return!!t.filters.find(l=>l instanceof Jt&&l.field.isEqual(s)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(t,s){const l=Qo(t),f=th(t);return(s?l.j("collectionGroupIndex",IDBKeyRange.bound(s,s)):l.j()).next(g=>{const v=[];return qe.forEach(g,A=>f.get([A.indexId,this.uid]).next(L=>{v.push(function(H,se){const Ce=se?new ac(se.sequenceNumber,new ji(tu(se.readTime),new Bt(ue(se.documentKey)),se.largestBatchId)):ac.empty(),Ke=H.fields.map(([ft,kt])=>new jh($r.fromServerFormat(ft),kt));return new jc(H.indexId,H.collectionGroup,Ke,Ce)}(A,L))})).next(()=>v)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(s=>0===s.length?null:(s.sort((l,f)=>{const g=l.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==g?g:Kt(l.collectionGroup,f.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(t,s,l){const f=Qo(t),g=th(t);return this.Tn(t).next(v=>f.j("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(A=>qe.forEach(A,L=>g.put(pi(L.indexId,this.user,v,l)))))}updateIndexEntries(t,s){const l=new Map;return qe.forEach(s,(f,g)=>{const v=l.get(f.collectionGroup);return(v?qe.resolve(v):this.getFieldIndexes(t,f.collectionGroup)).next(A=>(l.set(f.collectionGroup,A),qe.forEach(A,L=>this.En(t,f,L).next(H=>{const se=this.An(g,L);return H.isEqual(se)?qe.resolve():this.vn(t,g,L,H,se)}))))})}Rn(t,s,l,f){return Yu(t).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.gn(l,s.key),documentKey:s.key.path.toArray()})}Pn(t,s,l,f){return Yu(t).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.gn(l,s.key),s.key.path.toArray()])}En(t,s,l){const f=Yu(t);let g=new Ss(Dc);return f.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,s)])},(v,A)=>{g=g.add(new Xu(l.indexId,s,A.arrayValue,A.directionalValue))}).next(()=>g)}An(t,s){let l=new Ss(Dc);const f=this.mn(s,t);if(null==f)return l;const g=Tl(s);if(null!=g){const v=t.data.field(g.fieldPath);if(Fu(v))for(const A of v.arrayValue.values||[])l=l.add(new Xu(s.indexId,t.key,this.dn(A),f))}else l=l.add(new Xu(s.indexId,t.key,iu,f));return l}vn(t,s,l,f,g){It("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const v=[];return function(A,L,H,se,Ce){const Ke=A.getIterator(),ft=L.getIterator();let kt=kd(Ke),zt=kd(ft);for(;kt||zt;){let Xt=!1,ir=!1;if(kt&&zt){const zr=H(kt,zt);zr<0?ir=!0:zr>0&&(Xt=!0)}else null!=kt?ir=!0:Xt=!0;Xt?(se(zt),zt=kd(ft)):ir?(Ce(kt),kt=kd(Ke)):(kt=kd(Ke),zt=kd(ft))}}(f,g,Dc,A=>{v.push(this.Rn(t,s,l,A))},A=>{v.push(this.Pn(t,s,l,A))}),qe.waitFor(v)}Tn(t){let s=1;return th(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,f,g)=>{g.done(),s=f.sequenceNumber+1}).next(()=>s)}createRange(t,s,l){l=l.sort((v,A)=>Dc(v,A)).filter((v,A,L)=>!A||0!==Dc(v,L[A-1]));const f=[];f.push(t);for(const v of l){const A=Dc(v,t),L=Dc(v,s);if(0===A)f[0]=t.Je();else if(A>0&&L<0)f.push(v),f.push(v.Je());else if(L>0)break}f.push(s);const g=[];for(let v=0;v<f.length;v+=2){if(this.bn(f[v],f[v+1]))return[];g.push(IDBKeyRange.bound([f[v].indexId,this.uid,f[v].arrayValue,f[v].directionalValue,iu,[]],[f[v+1].indexId,this.uid,f[v+1].arrayValue,f[v+1].directionalValue,iu,[]]))}return g}bn(t,s){return Dc(t,s)>0}getMinOffsetFromCollectionGroup(t,s){return this.getFieldIndexes(t,s).next(mo)}getMinOffset(t,s){return qe.mapArray(this.cn(s),l=>this.an(t,l).next(f=>f||k())).next(mo)}}function ll(i){return Ei(i,"collectionParents")}function Yu(i){return Ei(i,"indexEntries")}function Qo(i){return Ei(i,"indexConfiguration")}function th(i){return Ei(i,"indexState")}function mo(i){Y(0!==i.length);let t=i[0].indexState.offset,s=t.largestBatchId;for(let l=1;l<i.length;l++){const f=i[l].indexState.offset;$h(f,t)<0&&(t=f),s<f.largestBatchId&&(s=f.largestBatchId)}return new ji(t.readTime,t.documentKey,s)}const Zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bs{constructor(t,s,l){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=l}static withCacheSize(t){return new bs(t,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cc(i,t,s){const l=i.store("mutations"),f=i.store("documentMutations"),g=[],v=IDBKeyRange.only(s.batchId);let A=0;const L=l.X({range:v},(se,Ce,Ke)=>(A++,Ke.delete()));g.push(L.next(()=>{Y(1===A)}));const H=[];for(const se of s.mutations){const Ce=Nt(t,se.key.path,s.batchId);g.push(f.delete(Ce)),H.push(se.key)}return qe.waitFor(g).next(()=>H)}function Hp(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw k();t=i.noDocument}return JSON.stringify(t).length}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class Zu{constructor(t,s,l,f){this.userId=t,this.serializer=s,this.indexManager=l,this.referenceDelegate=f,this.Vn={}}static de(t,s,l,f){Y(""!==t.uid);const g=t.isAuthenticated()?t.uid:"";return new Zu(g,s,l,f)}checkEmpty(t){let s=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ou(t).X({index:"userMutationsIndex",range:l},(f,g,v)=>{s=!1,v.done()}).next(()=>s)}addMutationBatch(t,s,l,f){const g=cl(t),v=ou(t);return v.add({}).next(A=>{Y("number"==typeof A);const L=new By(A,s,l,f),H=function(Ke,ft,kt){const zt=kt.baseMutations.map(ir=>Xd(Ke.fe,ir)),Xt=kt.mutations.map(ir=>Xd(Ke.fe,ir));return{userId:ft,batchId:kt.batchId,localWriteTimeMs:kt.localWriteTime.toMillis(),baseMutations:zt,mutations:Xt}}(this.serializer,this.userId,L),se=[];let Ce=new Ss((Ke,ft)=>Kt(Ke.canonicalString(),ft.canonicalString()));for(const Ke of f){const ft=Nt(this.userId,Ke.key.path,A);Ce=Ce.add(Ke.key.path.popLast()),se.push(v.put(H)),se.push(g.put(ft,Rn))}return Ce.forEach(Ke=>{se.push(this.indexManager.addToCollectionParentIndex(t,Ke))}),t.addOnCommittedListener(()=>{this.Vn[A]=L.keys()}),qe.waitFor(se).next(()=>L)})}lookupMutationBatch(t,s){return ou(t).get(s).next(l=>l?(Y(l.userId===this.userId),Js(this.serializer,l)):null)}Sn(t,s){return this.Vn[s]?qe.resolve(this.Vn[s]):this.lookupMutationBatch(t,s).next(l=>{if(l){const f=l.keys();return this.Vn[s]=f,f}return null})}getNextMutationBatchAfterBatchId(t,s){const l=s+1,f=IDBKeyRange.lowerBound([this.userId,l]);let g=null;return ou(t).X({index:"userMutationsIndex",range:f},(v,A,L)=>{A.userId===this.userId&&(Y(A.batchId>=l),g=Js(this.serializer,A)),L.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(t){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return ou(t).X({index:"userMutationsIndex",range:s,reverse:!0},(f,g,v)=>{l=g.batchId,v.done()}).next(()=>l)}getAllMutationBatches(t){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ou(t).j("userMutationsIndex",s).next(l=>l.map(f=>Js(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(t,s){const l=Be(this.userId,s.path),f=IDBKeyRange.lowerBound(l),g=[];return cl(t).X({range:f},(v,A,L)=>{const[H,se,Ce]=v,Ke=ue(se);if(H===this.userId&&s.path.isEqual(Ke))return ou(t).get(Ce).next(ft=>{if(!ft)throw k();Y(ft.userId===this.userId),g.push(Js(this.serializer,ft))});L.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(t,s){let l=new Ss(Kt);const f=[];return s.forEach(g=>{const v=Be(this.userId,g.path),A=IDBKeyRange.lowerBound(v),L=cl(t).X({range:A},(H,se,Ce)=>{const[Ke,ft,kt]=H,zt=ue(ft);Ke===this.userId&&g.path.isEqual(zt)?l=l.add(kt):Ce.done()});f.push(L)}),qe.waitFor(f).next(()=>this.Dn(t,l))}getAllMutationBatchesAffectingQuery(t,s){const l=s.path,f=l.length+1,g=Be(this.userId,l),v=IDBKeyRange.lowerBound(g);let A=new Ss(Kt);return cl(t).X({range:v},(L,H,se)=>{const[Ce,Ke,ft]=L,kt=ue(Ke);Ce===this.userId&&l.isPrefixOf(kt)?kt.length===f&&(A=A.add(ft)):se.done()}).next(()=>this.Dn(t,A))}Dn(t,s){const l=[],f=[];return s.forEach(g=>{f.push(ou(t).get(g).next(v=>{if(null===v)throw k();Y(v.userId===this.userId),l.push(Js(this.serializer,v))}))}),qe.waitFor(f).next(()=>l)}removeMutationBatch(t,s){return Cc(t.ht,this.userId,s).next(l=>(t.addOnCommittedListener(()=>{this.Cn(s.batchId)}),qe.forEach(l,f=>this.referenceDelegate.markPotentiallyOrphaned(t,f))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(s=>{if(!s)return qe.resolve();const l=IDBKeyRange.lowerBound([this.userId]),f=[];return cl(t).X({range:l},(g,v,A)=>{if(g[0]===this.userId){const L=ue(g[1]);f.push(L)}else A.done()}).next(()=>{Y(0===f.length)})})}containsKey(t,s){return Wp(t,this.userId,s)}xn(t){return Om(t).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wp(i,t,s){const l=Be(t,s.path),f=l[1],g=IDBKeyRange.lowerBound(l);let v=!1;return cl(i).X({range:g,Y:!0},(A,L,H)=>{const[se,Ce,Ke]=A;se===t&&Ce===f&&(v=!0),H.done()}).next(()=>v)}function ou(i){return Ei(i,"mutations")}function cl(i){return Ei(i,"documentMutations")}function Om(i){return Ei(i,"mutationQueues")}class Ic{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Ic(0)}static Mn(){return new Ic(-1)}}class Jy{constructor(t,s){this.referenceDelegate=t,this.serializer=s}allocateTargetId(t){return this.$n(t).next(s=>{const l=new Ic(s.highestTargetId);return s.highestTargetId=l.next(),this.On(t,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(s=>$t.fromTimestamp(new Jr(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(t,s,l){return this.$n(t).next(f=>(f.highestListenSequenceNumber=s,l&&(f.lastRemoteSnapshotVersion=l.toTimestamp()),s>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=s),this.On(t,f)))}addTargetData(t,s){return this.Fn(t,s).next(()=>this.$n(t).next(l=>(l.targetCount+=1,this.Bn(s,l),this.On(t,l))))}updateTargetData(t,s){return this.Fn(t,s)}removeTargetData(t,s){return this.removeMatchingKeysForTargetId(t,s.targetId).next(()=>ff(t).delete(s.targetId)).next(()=>this.$n(t)).next(l=>(Y(l.targetCount>0),l.targetCount-=1,this.On(t,l)))}removeTargets(t,s,l){let f=0;const g=[];return ff(t).X((v,A)=>{const L=nu(A);L.sequenceNumber<=s&&null===l.get(L.targetId)&&(f++,g.push(this.removeTargetData(t,L)))}).next(()=>qe.waitFor(g)).next(()=>f)}forEachTarget(t,s){return ff(t).X((l,f)=>{const g=nu(f);s(g)})}$n(t){return ev(t).get("targetGlobalKey").next(s=>(Y(null!==s),s))}On(t,s){return ev(t).put("targetGlobalKey",s)}Fn(t,s){return ff(t).put(Bp(this.serializer,s))}Bn(t,s){let l=!1;return t.targetId>s.highestTargetId&&(s.highestTargetId=t.targetId,l=!0),t.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t.sequenceNumber,l=!0),l}getTargetCount(t){return this.$n(t).next(s=>s.targetCount)}getTargetData(t,s){const l=Fa(s),f=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let g=null;return ff(t).X({range:f,index:"queryTargetsIndex"},(v,A,L)=>{const H=nu(A);$d(s,H.target)&&(g=H,L.done())}).next(()=>g)}addMatchingKeys(t,s,l){const f=[],g=fr(t);return s.forEach(v=>{const A=O(v.path);f.push(g.put({targetId:l,path:A})),f.push(this.referenceDelegate.addReference(t,l,v))}),qe.waitFor(f)}removeMatchingKeys(t,s,l){const f=fr(t);return qe.forEach(s,g=>{const v=O(g.path);return qe.waitFor([f.delete([l,v]),this.referenceDelegate.removeReference(t,l,g)])})}removeMatchingKeysForTargetId(t,s){const l=fr(t),f=IDBKeyRange.bound([s],[s+1],!1,!0);return l.delete(f)}getMatchingKeysForTargetId(t,s){const l=IDBKeyRange.bound([s],[s+1],!1,!0),f=fr(t);let g=Hn();return f.X({range:l,Y:!0},(v,A,L)=>{const H=ue(v[1]),se=new Bt(H);g=g.add(se)}).next(()=>g)}containsKey(t,s){const l=O(s.path),f=IDBKeyRange.bound([l],[Is(l)],!1,!0);let g=0;return fr(t).X({index:"documentTargetsIndex",Y:!0,range:f},([v,A],L,H)=>{0!==v&&(g++,H.done())}).next(()=>g>0)}le(t,s){return ff(t).get(s).next(l=>l?nu(l):null)}}function ff(i){return Ei(i,"targets")}function ev(i){return Ei(i,"targetGlobal")}function fr(i){return Ei(i,"targetDocuments")}function tv([i,t],[s,l]){const f=Kt(i,s);return 0===f?Kt(t,l):f}class Nm{constructor(t){this.Ln=t,this.buffer=new Ss(tv),this.qn=0}Un(){return++this.qn}Kn(t){const s=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(s);else{const l=this.buffer.last();tv(s,l)<0&&(this.buffer=this.buffer.delete(l).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Ju{constructor(t,s,l){this.garbageCollector=t,this.asyncQueue=s,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var s=this;It("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,_.A)(function*(){s.Gn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(l){Ml(l)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield bl(l)}yield s.Qn(3e5)}))}}class pf{constructor(t,s){this.jn=t,this.params=s}calculateTargetCount(t,s){return this.jn.zn(t).next(l=>Math.floor(s/100*l))}nthSequenceNumber(t,s){if(0===s)return qe.resolve(Ji.ct);const l=new Nm(s);return this.jn.forEachTarget(t,f=>l.Kn(f.sequenceNumber)).next(()=>this.jn.Wn(t,f=>l.Kn(f))).next(()=>l.maxValue)}removeTargets(t,s,l){return this.jn.removeTargets(t,s,l)}removeOrphanedDocuments(t,s){return this.jn.removeOrphanedDocuments(t,s)}collect(t,s){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(Zy)):this.getCacheSize(t).next(l=>l<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zy):this.Hn(t,s))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,s){let l,f,g,v,A,L,H;const se=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),f=this.params.maximumSequenceNumbersToCollect):f=Ce,v=Date.now(),this.nthSequenceNumber(t,f))).next(Ce=>(l=Ce,A=Date.now(),this.removeTargets(t,l,s))).next(Ce=>(g=Ce,L=Date.now(),this.removeOrphanedDocuments(t,l))).next(Ce=>(H=Date.now(),Bi()<=ee.$b.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-se}ms\n\tDetermined least recently used ${f} in `+(A-v)+`ms\n\tRemoved ${g} targets in `+(L-A)+`ms\n\tRemoved ${Ce} documents in `+(H-L)+`ms\nTotal Duration: ${H-se}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:g,documentsRemoved:Ce})))}}class Va{constructor(t,s){this.db=t,this.garbageCollector=function au(i,t){return new pf(i,t)}(this,s)}zn(t){const s=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(l=>s.next(f=>l+f))}Jn(t){let s=0;return this.Wn(t,l=>{s++}).next(()=>s)}forEachTarget(t,s){return this.db.getTargetCache().forEachTarget(t,s)}Wn(t,s){return this.Yn(t,(l,f)=>s(f))}addReference(t,s,l){return jl(t,l)}removeReference(t,s,l){return jl(t,l)}removeTargets(t,s,l){return this.db.getTargetCache().removeTargets(t,s,l)}markPotentiallyOrphaned(t,s){return jl(t,s)}Xn(t,s){return function(l,f){let g=!1;return Om(l).Z(v=>Wp(l,v,f).next(A=>(A&&(g=!0),qe.resolve(!A)))).next(()=>g)}(t,s)}removeOrphanedDocuments(t,s){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let g=0;return this.Yn(t,(v,A)=>{if(A<=s){const L=this.Xn(t,v).next(H=>{if(!H)return g++,l.getEntry(t,v).next(()=>(l.removeEntry(v,$t.min()),fr(t).delete([0,O(v.path)])))});f.push(L)}}).next(()=>qe.waitFor(f)).next(()=>l.apply(t)).next(()=>g)}removeTarget(t,s){const l=s.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,l)}updateLimboDocument(t,s){return jl(t,s)}Yn(t,s){const l=fr(t);let f,g=Ji.ct;return l.X({index:"documentTargetsIndex"},([v,A],{path:L,sequenceNumber:H})=>{0===v?(g!==Ji.ct&&s(new Bt(ue(f)),g),g=H,f=L):g=Ji.ct}).next(()=>{g!==Ji.ct&&s(new Bt(ue(f)),g)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function jl(i,t){return fr(i).put((l=i.currentSequenceNumber,{targetId:0,path:O(t.path),sequenceNumber:l}));var l}class kn{constructor(){this.changes=new Pl(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,js.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const l=this.changes.get(s);return void 0!==l?qe.resolve(l):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Kp{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,s,l){return va(t).put(l)}removeEntry(t,s,l){return va(t).delete(function(f,g){const v=f.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Gu(g),v[v.length-1]]}(s,l))}updateMetadata(t,s){return this.getMetadata(t).next(l=>(l.byteSize+=s,this.Zn(t,l)))}getEntry(t,s){let l=js.newInvalidDocument(s);return va(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(ed(s))},(f,g)=>{l=this.ts(s,g)}).next(()=>l)}es(t,s){let l={size:0,document:js.newInvalidDocument(s)};return va(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(ed(s))},(f,g)=>{l={document:this.ts(s,g),size:Hp(g)}}).next(()=>l)}getEntries(t,s){let l=Go();return this.ns(t,s,(f,g)=>{const v=this.ts(f,g);l=l.insert(f,v)}).next(()=>l)}ss(t,s){let l=Go(),f=new Ts(Bt.comparator);return this.ns(t,s,(g,v)=>{const A=this.ts(g,v);l=l.insert(g,A),f=f.insert(g,Hp(v))}).next(()=>({documents:l,rs:f}))}ns(t,s,l){if(s.isEmpty())return qe.resolve();let f=new Ss(rh);s.forEach(L=>f=f.add(L));const g=IDBKeyRange.bound(ed(f.first()),ed(f.last())),v=f.getIterator();let A=v.getNext();return va(t).X({index:"documentKeyIndex",range:g},(L,H,se)=>{const Ce=Bt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;A&&rh(A,Ce)<0;)l(A,null),A=v.getNext();A&&A.isEqual(Ce)&&(l(A,H),A=v.hasNext()?v.getNext():null),A?se.G(ed(A)):se.done()}).next(()=>{for(;A;)l(A,null),A=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(t,s,l,f){const g=s.path,v=[g.popLast().toArray(),g.lastSegment(),Gu(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],A=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return va(t).j(IDBKeyRange.bound(v,A,!0)).next(L=>{let H=Go();for(const se of L){const Ce=this.ts(Bt.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);Ce.isFoundDocument()&&(Qc(s,Ce)||f.has(Ce.key))&&(H=H.insert(Ce.key,Ce))}return H})}getAllFromCollectionGroup(t,s,l,f){let g=Go();const v=nh(s,l),A=nh(s,ji.max());return va(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(L,H,se)=>{const Ce=this.ts(Bt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);g=g.insert(Ce.key,Ce),g.size===f&&se.done()}).next(()=>g)}newChangeBuffer(t){return new Rm(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(s=>s.byteSize)}getMetadata(t){return Ms(t).get("remoteDocumentGlobalKey").next(s=>(Y(!!s),s))}Zn(t,s){return Ms(t).put("remoteDocumentGlobalKey",s)}ts(t,s){if(s){const l=function Xy(i,t){let s;if(t.document)s=function Qd(i,t,s){const l=Ll(i,t.name),f=is(t.updateTime),g=t.createTime?is(t.createTime):$t.min(),v=new eo({mapValue:{fields:t.fields}}),A=js.newFoundDocument(l,f,g,v);return s&&A.setHasCommittedMutations(),s?A.setHasCommittedMutations():A}(i.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const l=Bt.fromSegments(t.noDocument.path),f=tu(t.noDocument.readTime);s=js.newNoDocument(l,f),t.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!t.unknownDocument)return k();{const l=Bt.fromSegments(t.unknownDocument.path),f=tu(t.unknownDocument.version);s=js.newUnknownDocument(l,f)}}return t.readTime&&s.setReadTime(function(l){const f=new Jr(l[0],l[1]);return $t.fromTimestamp(f)}(t.readTime)),s}(this.serializer,s);if(!l.isNoDocument()||!l.version.isEqual($t.min()))return l}return js.newInvalidDocument(t)}}function ya(i){return new Kp(i)}class Rm extends kn{constructor(t,s){super(),this.os=t,this.trackRemovals=s,this.us=new Pl(l=>l.toString(),(l,f)=>l.isEqual(f))}applyChanges(t){const s=[];let l=0,f=new Ss((g,v)=>Kt(g.canonicalString(),v.canonicalString()));return this.changes.forEach((g,v)=>{const A=this.us.get(g);if(s.push(this.os.removeEntry(t,g,A.readTime)),v.isValidDocument()){const L=Cm(this.os.serializer,v);f=f.add(g.path.popLast());const H=Hp(L);l+=H-A.size,s.push(this.os.addEntry(t,g,L))}else if(l-=A.size,this.trackRemovals){const L=Cm(this.os.serializer,v.convertToNoDocument($t.min()));s.push(this.os.addEntry(t,g,L))}}),f.forEach(g=>{s.push(this.os.indexManager.addToCollectionParentIndex(t,g))}),s.push(this.os.updateMetadata(t,l)),qe.waitFor(s)}getFromCache(t,s){return this.os.es(t,s).next(l=>(this.us.set(s,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(t,s){return this.os.ss(t,s).next(({documents:l,rs:f})=>(f.forEach((g,v)=>{this.us.set(g,{size:v,readTime:l.get(g).readTime})}),l))}}function Ms(i){return Ei(i,"remoteDocumentGlobal")}function va(i){return Ei(i,"remoteDocumentsV14")}function ed(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function nh(i,t){const s=t.documentKey.path.toArray();return[i,Gu(t.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function rh(i,t){const s=i.path.toArray(),l=t.path.toArray();let f=0;for(let g=0;g<s.length-2&&g<l.length-2;++g)if(f=Kt(s[g],l[g]),f)return f;return f=Kt(s.length,l.length),f||(f=Kt(s[s.length-2],l[l.length-2]),f||Kt(s[s.length-1],l[l.length-1]))}class td{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}class lu{constructor(t,s,l,f){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=l,this.indexManager=f}getDocument(t,s){let l=null;return this.documentOverlayCache.getOverlay(t,s).next(f=>(l=f,this.remoteDocumentCache.getEntry(t,s))).next(f=>(null!==l&&sf(l.mutation,f,xo.empty(),Jr.now()),f))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(l=>this.getLocalViewOfDocuments(t,l,Hn()).next(()=>l))}getLocalViewOfDocuments(t,s,l=Hn()){const f=to();return this.populateOverlays(t,f,s).next(()=>this.computeViews(t,s,f,l).next(g=>{let v=Bu();return g.forEach((A,L)=>{v=v.insert(A,L.overlayedDocument)}),v}))}getOverlayedDocuments(t,s){const l=to();return this.populateOverlays(t,l,s).next(()=>this.computeViews(t,s,l,Hn()))}populateOverlays(t,s,l){const f=[];return l.forEach(g=>{s.has(g)||f.push(g)}),this.documentOverlayCache.getOverlays(t,f).next(g=>{g.forEach((v,A)=>{s.set(v,A)})})}computeViews(t,s,l,f){let g=Go();const v=ke(),A=ke();return s.forEach((L,H)=>{const se=l.get(H.key);f.has(H.key)&&(void 0===se||se.mutation instanceof Qs)?g=g.insert(H.key,H):void 0!==se?(v.set(H.key,se.mutation.getFieldMask()),sf(se.mutation,H,se.mutation.getFieldMask(),Jr.now())):v.set(H.key,xo.empty())}),this.recalculateAndSaveOverlays(t,g).next(L=>(L.forEach((H,se)=>v.set(H,se)),s.forEach((H,se)=>{var Ce;return A.set(H,new td(se,null!==(Ce=v.get(H))&&void 0!==Ce?Ce:null))}),A))}recalculateAndSaveOverlays(t,s){const l=ke();let f=new Ts((v,A)=>v-A),g=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(v=>{for(const A of v)A.keys().forEach(L=>{const H=s.get(L);if(null===H)return;let se=l.get(L)||xo.empty();se=A.applyToLocalView(H,se),l.set(L,se);const Ce=(f.get(A.batchId)||Hn()).add(L);f=f.insert(A.batchId,Ce)})}).next(()=>{const v=[],A=f.getReverseIterator();for(;A.hasNext();){const L=A.getNext(),H=L.key,se=L.value,Ce=wp();se.forEach(Ke=>{if(!g.has(Ke)){const ft=kl(s.get(Ke),l.get(Ke));null!==ft&&Ce.set(Ke,ft),g=g.add(Ke)}}),v.push(this.documentOverlayCache.saveOverlays(t,H,Ce))}return qe.waitFor(v)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(l=>this.recalculateAndSaveOverlays(t,l))}getDocumentsMatchingQuery(t,s,l){return Bt.isDocumentKey((f=s).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(t,s.path):function Jh(i){return null!==i.collectionGroup}(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,l):this.getDocumentsMatchingCollectionQuery(t,s,l);var f}getNextDocuments(t,s,l,f){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,l,f).next(g=>{const v=f-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,l.largestBatchId,f-g.size):qe.resolve(to());let A=-1,L=g;return v.next(H=>qe.forEach(H,(se,Ce)=>(A<Ce.largestBatchId&&(A=Ce.largestBatchId),g.get(se)?qe.resolve():this.remoteDocumentCache.getEntry(t,se).next(Ke=>{L=L.insert(se,Ke)}))).next(()=>this.populateOverlays(t,H,g)).next(()=>this.computeViews(t,L,H,Hn())).next(se=>({batchId:A,changes:Ep(se)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new Bt(s)).next(l=>{let f=Bu();return l.isFoundDocument()&&(f=f.insert(l.key,l)),f})}getDocumentsMatchingCollectionGroupQuery(t,s,l){const f=s.collectionGroup;let g=Bu();return this.indexManager.getCollectionParents(t,f).next(v=>qe.forEach(v,A=>{const L=(H=s,se=A.child(f),new Kc(se,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,se;return this.getDocumentsMatchingCollectionQuery(t,L,l).next(H=>{H.forEach((se,Ce)=>{g=g.insert(se,Ce)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(t,s,l){let f;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,l.largestBatchId).next(g=>(f=g,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,l,f))).next(g=>{f.forEach((A,L)=>{const H=L.getKey();null===g.get(H)&&(g=g.insert(H,js.newInvalidDocument(H)))});let v=Bu();return g.forEach((A,L)=>{const H=f.get(A);void 0!==H&&sf(H.mutation,L,xo.empty(),Jr.now()),Qc(s,L)&&(v=v.insert(A,L))}),v})}}class zp{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,s){return qe.resolve(this.cs.get(s))}saveBundleMetadata(t,s){var l;return this.cs.set(s.id,{id:(l=s).id,version:l.version,createTime:is(l.createTime)}),qe.resolve()}getNamedQuery(t,s){return qe.resolve(this.hs.get(s))}saveNamedQuery(t,s){return this.hs.set(s.name,{name:(l=s).name,query:Mr(l.bundledQuery),readTime:is(l.readTime)}),qe.resolve();var l}}class sh{constructor(){this.overlays=new Ts(Bt.comparator),this.ls=new Map}getOverlay(t,s){return qe.resolve(this.overlays.get(s))}getOverlays(t,s){const l=to();return qe.forEach(s,f=>this.getOverlay(t,f).next(g=>{null!==g&&l.set(f,g)})).next(()=>l)}saveOverlays(t,s,l){return l.forEach((f,g)=>{this.we(t,s,g)}),qe.resolve()}removeOverlaysForBatchId(t,s,l){const f=this.ls.get(l);return void 0!==f&&(f.forEach(g=>this.overlays=this.overlays.remove(g)),this.ls.delete(l)),qe.resolve()}getOverlaysForCollection(t,s,l){const f=to(),g=s.length+1,v=new Bt(s.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const L=A.getNext().value,H=L.getKey();if(!s.isPrefixOf(H.path))break;H.path.length===g&&L.largestBatchId>l&&f.set(L.getKey(),L)}return qe.resolve(f)}getOverlaysForCollectionGroup(t,s,l,f){let g=new Ts((H,se)=>H-se);const v=this.overlays.getIterator();for(;v.hasNext();){const H=v.getNext().value;if(H.getKey().getCollectionGroup()===s&&H.largestBatchId>l){let se=g.get(H.largestBatchId);null===se&&(se=to(),g=g.insert(H.largestBatchId,se)),se.set(H.getKey(),H)}}const A=to(),L=g.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,se)=>A.set(H,se)),!(A.size()>=f)););return qe.resolve(A)}we(t,s,l){const f=this.overlays.get(l.key);if(null!==f){const v=this.ls.get(f.largestBatchId).delete(l.key);this.ls.set(f.largestBatchId,v)}this.overlays=this.overlays.insert(l.key,new ka(s,l));let g=this.ls.get(s);void 0===g&&(g=Hn(),this.ls.set(s,g)),this.ls.set(s,g.add(l.key))}}class ih{constructor(){this.fs=new Ss(li.ds),this.ws=new Ss(li._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,s){const l=new li(t,s);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(t,s){t.forEach(l=>this.addReference(l,s))}removeReference(t,s){this.ys(new li(t,s))}ps(t,s){t.forEach(l=>this.removeReference(l,s))}Is(t){const s=new Bt(new br([])),l=new li(s,t),f=new li(s,t+1),g=[];return this.ws.forEachInRange([l,f],v=>{this.ys(v),g.push(v.key)}),g}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const s=new Bt(new br([])),l=new li(s,t),f=new li(s,t+1);let g=Hn();return this.ws.forEachInRange([l,f],v=>{g=g.add(v.key)}),g}containsKey(t){const s=new li(t,0),l=this.fs.firstAfterOrEqual(s);return null!==l&&t.isEqual(l.key)}}class li{constructor(t,s){this.key=t,this.As=s}static ds(t,s){return Bt.comparator(t.key,s.key)||Kt(t.As,s.As)}static _s(t,s){return Kt(t.As,s.As)||Bt.comparator(t.key,s.key)}}class nv{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.vs=1,this.Rs=new Ss(li.ds)}checkEmpty(t){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,s,l,f){const g=this.vs;this.vs++;const v=new By(g,s,l,f);this.mutationQueue.push(v);for(const A of f)this.Rs=this.Rs.add(new li(A.key,g)),this.indexManager.addToCollectionParentIndex(t,A.key.path.popLast());return qe.resolve(v)}lookupMutationBatch(t,s){return qe.resolve(this.Ps(s))}getNextMutationBatchAfterBatchId(t,s){const f=this.bs(s+1),g=f<0?0:f;return qe.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const l=new li(s,0),f=new li(s,Number.POSITIVE_INFINITY),g=[];return this.Rs.forEachInRange([l,f],v=>{const A=this.Ps(v.As);g.push(A)}),qe.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(t,s){let l=new Ss(Kt);return s.forEach(f=>{const g=new li(f,0),v=new li(f,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([g,v],A=>{l=l.add(A.As)})}),qe.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(t,s){const l=s.path,f=l.length+1;let g=l;Bt.isDocumentKey(g)||(g=g.child(""));const v=new li(new Bt(g),0);let A=new Ss(Kt);return this.Rs.forEachWhile(L=>{const H=L.key.path;return!!l.isPrefixOf(H)&&(H.length===f&&(A=A.add(L.As)),!0)},v),qe.resolve(this.Vs(A))}Vs(t){const s=[];return t.forEach(l=>{const f=this.Ps(l);null!==f&&s.push(f)}),s}removeMutationBatch(t,s){Y(0===this.Ss(s.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return qe.forEach(s.mutations,f=>{const g=new li(f.key,s.batchId);return l=l.delete(g),this.referenceDelegate.markPotentiallyOrphaned(t,f.key)}).next(()=>{this.Rs=l})}Cn(t){}containsKey(t,s){const l=new li(s,0),f=this.Rs.firstAfterOrEqual(l);return qe.resolve(s.isEqual(f&&f.key))}performConsistencyCheck(t){return qe.resolve()}Ss(t,s){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const s=this.bs(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class gf{constructor(t){this.Ds=t,this.docs=new Ts(Bt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const l=s.key,f=this.docs.get(l),g=f?f.size:0,v=this.Ds(s);return this.docs=this.docs.insert(l,{document:s.mutableCopy(),size:v}),this.size+=v-g,this.indexManager.addToCollectionParentIndex(t,l.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const l=this.docs.get(s);return qe.resolve(l?l.document.mutableCopy():js.newInvalidDocument(s))}getEntries(t,s){let l=Go();return s.forEach(f=>{const g=this.docs.get(f);l=l.insert(f,g?g.document.mutableCopy():js.newInvalidDocument(f))}),qe.resolve(l)}getDocumentsMatchingQuery(t,s,l,f){let g=Go();const v=s.path,A=new Bt(v.child("")),L=this.docs.getIteratorFrom(A);for(;L.hasNext();){const{key:H,value:{document:se}}=L.getNext();if(!v.isPrefixOf(H.path))break;H.path.length>v.length+1||$h(ep(se),l)<=0||(f.has(se.key)||Qc(s,se))&&(g=g.insert(se.key,se.mutableCopy()))}return qe.resolve(g)}getAllFromCollectionGroup(t,s,l,f){k()}Cs(t,s){return qe.forEach(this.docs,l=>s(l))}newChangeBuffer(t){return new rv(this)}getSize(t){return qe.resolve(this.size)}}class rv extends kn{constructor(t){super(),this.os=t}applyChanges(t){const s=[];return this.changes.forEach((l,f)=>{f.isValidDocument()?s.push(this.os.addEntry(t,f)):this.os.removeEntry(l)}),qe.waitFor(s)}getFromCache(t,s){return this.os.getEntry(t,s)}getAllFromCache(t,s){return this.os.getEntries(t,s)}}class sv{constructor(t){this.persistence=t,this.xs=new Pl(s=>Fa(s),$d),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ih,this.targetCount=0,this.Ms=Ic.kn()}forEachTarget(t,s){return this.xs.forEach((l,f)=>s(f)),qe.resolve()}getLastRemoteSnapshotVersion(t){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(t,s,l){return l&&(this.lastRemoteSnapshotVersion=l),s>this.Ns&&(this.Ns=s),qe.resolve()}Fn(t){this.xs.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.Ms=new Ic(s),this.highestTargetId=s),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,s){return this.Fn(s),this.targetCount+=1,qe.resolve()}updateTargetData(t,s){return this.Fn(s),qe.resolve()}removeTargetData(t,s){return this.xs.delete(s.target),this.ks.Is(s.targetId),this.targetCount-=1,qe.resolve()}removeTargets(t,s,l){let f=0;const g=[];return this.xs.forEach((v,A)=>{A.sequenceNumber<=s&&null===l.get(A.targetId)&&(this.xs.delete(v),g.push(this.removeMatchingKeysForTargetId(t,A.targetId)),f++)}),qe.waitFor(g).next(()=>f)}getTargetCount(t){return qe.resolve(this.targetCount)}getTargetData(t,s){const l=this.xs.get(s)||null;return qe.resolve(l)}addMatchingKeys(t,s,l){return this.ks.gs(s,l),qe.resolve()}removeMatchingKeys(t,s,l){this.ks.ps(s,l);const f=this.persistence.referenceDelegate,g=[];return f&&s.forEach(v=>{g.push(f.markPotentiallyOrphaned(t,v))}),qe.waitFor(g)}removeMatchingKeysForTargetId(t,s){return this.ks.Is(s),qe.resolve()}getMatchingKeysForTargetId(t,s){const l=this.ks.Es(s);return qe.resolve(l)}containsKey(t,s){return qe.resolve(this.ks.containsKey(s))}}class mf{constructor(t,s){this.$s={},this.overlays={},this.Os=new Ji(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new sv(this),this.indexManager=new hr,this.remoteDocumentCache=new gf(l=>this.referenceDelegate.Ls(l)),this.serializer=new Dm(s),this.qs=new zp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new sh,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let l=this.$s[t.toKey()];return l||(l=new nv(s,this.referenceDelegate),this.$s[t.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,s,l){It("MemoryPersistence","Starting transaction:",t);const f=new yf(this.Os.next());return this.referenceDelegate.Us(),l(f).next(g=>this.referenceDelegate.Ks(f).next(()=>g)).toPromise().then(g=>(f.raiseOnCommittedEvent(),g))}Gs(t,s){return qe.or(Object.values(this.$s).map(l=>()=>l.containsKey(t,s)))}}class yf extends tp{constructor(t){super(),this.currentSequenceNumber=t}}class Tc{constructor(t){this.persistence=t,this.Qs=new ih,this.js=null}static zs(t){return new Tc(t)}get Ws(){if(this.js)return this.js;throw k()}addReference(t,s,l){return this.Qs.addReference(l,s),this.Ws.delete(l.toString()),qe.resolve()}removeReference(t,s,l){return this.Qs.removeReference(l,s),this.Ws.add(l.toString()),qe.resolve()}markPotentiallyOrphaned(t,s){return this.Ws.add(s.toString()),qe.resolve()}removeTarget(t,s){this.Qs.Is(s.targetId).forEach(f=>this.Ws.add(f.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(t,s.targetId).next(f=>{f.forEach(g=>this.Ws.add(g.toString()))}).next(()=>l.removeTargetData(t,s))}Us(){this.js=new Set}Ks(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,l=>{const f=Bt.fromPath(l);return this.Hs(t,f).next(g=>{g||s.removeEntry(f,$t.min())})}).next(()=>(this.js=null,s.apply(t)))}updateLimboDocument(t,s){return this.Hs(t,s).next(l=>{l?this.Ws.delete(s.toString()):this.Ws.add(s.toString())})}Ls(t){return 0}Hs(t,s){return qe.or([()=>qe.resolve(this.Qs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Gs(t,s)])}}class Xo{constructor(t){this.serializer=t}O(t,s,l,f){const g=new Hh("createOrUpgrade",s);var A;l<1&&f>=1&&(t.createObjectStore("owner"),(A=t).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nt,{unique:!0}),A.createObjectStore("documentMutations"),vf(t),function(A){A.createObjectStore("remoteDocuments")}(t));let v=qe.resolve();return l<3&&f>=3&&(0!==l&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(t),vf(t)),v=v.next(()=>function(A){const L=A.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",H)}(g))),l<4&&f>=4&&(0!==l&&(v=v.next(()=>function(A,L){return L.store("mutations").j().next(H=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nt,{unique:!0});const se=L.store("mutations"),Ce=H.map(Ke=>se.put(Ke));return qe.waitFor(Ce)})}(t,g))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),l<5&&f>=5&&(v=v.next(()=>this.Ys(g))),l<6&&f>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(g)))),l<7&&f>=7&&(v=v.next(()=>this.Zs(g))),l<8&&f>=8&&(v=v.next(()=>this.ti(t,g))),l<9&&f>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(t)})),l<10&&f>=10&&(v=v.next(()=>this.ei(g))),l<11&&f>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),l<12&&f>=12&&(v=v.next(()=>{!function(A){const L=A.createObjectStore("documentOverlays",{keyPath:Kh});L.createIndex("collectionPathOverlayIndex",Pd,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",ip,{unique:!1})}(t)})),l<13&&f>=13&&(v=v.next(()=>function(A){const L=A.createObjectStore("remoteDocumentsV14",{keyPath:bn});L.createIndex("documentKeyIndex",Vr),L.createIndex("collectionGroupIndex",Bs)}(t)).next(()=>this.ni(t,g)).next(()=>t.deleteObjectStore("remoteDocuments"))),l<14&&f>=14&&(v=v.next(()=>this.si(t,g))),l<15&&f>=15&&(v=v.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:sp}).createIndex("sequenceNumberIndex",$c,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:xy}).createIndex("documentKeyIndex",Wh,{unique:!1})}(t))),v}Xs(t){let s=0;return t.store("remoteDocuments").X((l,f)=>{s+=Hp(f)}).next(()=>{const l={byteSize:s};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(t){const s=t.store("mutationQueues"),l=t.store("mutations");return s.j().next(f=>qe.forEach(f,g=>{const v=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",v).next(A=>qe.forEach(A,L=>{Y(L.userId===g.userId);const H=Js(this.serializer,L);return Cc(t,g.userId,H).next(()=>{})}))}))}Zs(t){const s=t.store("targetDocuments"),l=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(f=>{const g=[];return l.X((v,A)=>{const L=new br(v),H=[0,O(L)];g.push(s.get(H).next(se=>se?qe.resolve():s.put({targetId:0,path:O(L),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>qe.waitFor(g))})}ti(t,s){t.createObjectStore("collectionParents",{keyPath:Ri});const l=s.store("collectionParents"),f=new hf,g=v=>{if(f.add(v)){const A=v.lastSegment(),L=v.popLast();return l.put({collectionId:A,parent:O(L)})}};return s.store("remoteDocuments").X({Y:!0},(v,A)=>{const L=new br(v);return g(L.popLast())}).next(()=>s.store("documentMutations").X({Y:!0},([v,A,L],H)=>{const se=ue(A);return g(se.popLast())}))}ei(t){const s=t.store("targets");return s.X((l,f)=>{const g=nu(f),v=Bp(this.serializer,g);return s.put(v)})}ni(t,s){const l=s.store("remoteDocuments"),f=[];return l.X((g,v)=>{const A=s.store("remoteDocumentsV14"),L=(H=v,H.document?new Bt(br.fromString(H.document.name).popFirst(5)):H.noDocument?Bt.fromSegments(H.noDocument.path):H.unknownDocument?Bt.fromSegments(H.unknownDocument.path):k()).path.toArray();var H;const se={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};f.push(A.put(se))}).next(()=>qe.waitFor(f))}si(t,s){const l=s.store("mutations"),f=ya(this.serializer),g=new mf(Tc.zs,this.serializer.fe);return l.j().next(v=>{const A=new Map;return v.forEach(L=>{var H;let se=null!==(H=A.get(L.userId))&&void 0!==H?H:Hn();Js(this.serializer,L).keys().forEach(Ce=>se=se.add(Ce)),A.set(L.userId,se)}),qe.forEach(A,(L,H)=>{const se=new rs(H),Ce=ru.de(this.serializer,se),Ke=g.getIndexManager(se),ft=Zu.de(se,this.serializer,Ke,g.referenceDelegate);return new lu(f,ft,Ce,Ke).recalculateAndSaveOverlaysForDocumentKeys(new xn(s,Ji.ct),L).next()})})}}function vf(i){i.createObjectStore("targetDocuments",{keyPath:Na}).createIndex("documentTargetsIndex",zo,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fo,{unique:!0}),i.createObjectStore("targetGlobal")}const rd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gp{constructor(t,s,l,f,g,v,A,L,H,se,Ce=15){if(this.allowTabSynchronization=t,this.persistenceKey=s,this.clientId=l,this.ii=g,this.window=v,this.document=A,this.ri=H,this.oi=se,this.ui=Ce,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ke=>Promise.resolve(),!Gp.D())throw new ot(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Va(this,f),this.di=s+"main",this.serializer=new Dm(L),this.wi=new tl(this.di,this.ui,new Xo(this.serializer)),this.Bs=new Jy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ya(this.serializer),this.qs=new Wr,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===se&&M("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(be.FAILED_PRECONDITION,rd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Ji(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var s=this;return this.fi=function(){var l=(0,_.A)(function*(f){if(s.started)return t(f)});return function(f){return l.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var s=(0,_.A)(function*(l){null===l.newVersion&&(yield t())});return function(l){return s.apply(this,arguments)}}())}setNetworkEnabled(t){var s=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,_.A)(function*(){s.started&&(yield s.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>oh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(s=>{s||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(s=>this.isPrimary&&!s?this.Ai(t).next(()=>!1):!!s&&this.vi(t).next(()=>!0))).catch(t=>{if(Ml(t))return It("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return _a(t).get("owner").next(s=>qe.resolve(this.Ri(s)))}Pi(t){return oh(t).delete(this.clientId)}bi(){var t=this;return(0,_.A)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const s=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const f=Ei(l,"clientMetadata");return f.j().next(g=>{const v=t.Si(g,18e5),A=g.filter(L=>-1===v.indexOf(L));return qe.forEach(A,L=>f.delete(L.clientId)).next(()=>A)})}).catch(()=>[]);if(t._i)for(const l of s)t._i.removeItem(t.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?qe.resolve(!0):_a(t).get("owner").next(s=>{if(null!==s&&this.Vi(s.leaseTimestampMs,5e3)&&!this.Ci(s.ownerId)){if(this.Ri(s)&&this.networkEnabled)return!0;if(!this.Ri(s)){if(!s.allowTabSynchronization)throw new ot(be.FAILED_PRECONDITION,rd);return!1}}return!(!this.networkEnabled||!this.inForeground)||oh(t).j().next(l=>void 0===this.Si(l,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(s=>(this.isPrimary!==s&&It("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var t=this;return(0,_.A)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const l=new xn(s,Ji.ct);return t.Ai(l).next(()=>t.Pi(l))}),t.wi.close(),t.Mi()})()}Si(t,s){return t.filter(l=>this.Vi(l.updateTimeMs,s)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>oh(t).j().next(s=>this.Si(s,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(t,s){return Zu.de(t,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Yy(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return ru.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,s,l){It("IndexedDbPersistence","Starting transaction:",t);const f="readonly"===s?"readonly":"readwrite",g=15===(v=this.ui)?h_:14===v?Fd:13===v?qg:12===v?Al:11===v?op:void k();var v;let A;return this.wi.runTransaction(t,f,g,L=>(A=new xn(L,this.Os?this.Os.next():Ji.ct),"readwrite-primary"===s?this.Ti(A).next(H=>!!H||this.Ei(A)).next(H=>{if(!H)throw M(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ot(be.FAILED_PRECONDITION,Gg);return l(A)}).next(H=>this.vi(A).next(()=>H)):this.Oi(A).next(()=>l(A)))).then(L=>(A.raiseOnCommittedEvent(),L))}Oi(t){return _a(t).get("owner").next(s=>{if(null!==s&&this.Vi(s.leaseTimestampMs,5e3)&&!this.Ci(s.ownerId)&&!this.Ri(s)&&!(this.oi||this.allowTabSynchronization&&s.allowTabSynchronization))throw new ot(be.FAILED_PRECONDITION,rd)})}vi(t){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _a(t).put("owner",s)}static D(){return tl.D()}Ai(t){const s=_a(t);return s.get("owner").next(l=>this.Ri(l)?(It("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):qe.resolve())}Vi(t,s){const l=Date.now();return!(t<l-s||t>l&&(M(`Detected an update time that is in the future: ${t} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const s=/(?:Version|Mobile)\/1[456]/;(0,U.nr)()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var s;try{const l=null!==(null===(s=this._i)||void 0===s?void 0:s.getItem(this.Di(t)));return It("IndexedDbPersistence",`Client '${t}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return M("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){M("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function _a(i){return Ei(i,"owner")}function oh(i){return Ei(i,"clientMetadata")}class Sc{constructor(t,s,l,f){this.targetId=t,this.fromCache=s,this.Fi=l,this.Bi=f}static Li(t,s){let l=Hn(),f=Hn();for(const g of s.docChanges)switch(g.type){case 0:l=l.add(g.doc.key);break;case 1:f=f.add(g.doc.key)}return new Sc(t,s.fromCache,l,f)}}class _f{constructor(){this.qi=!1}initialize(t,s){this.Ui=t,this.indexManager=s,this.qi=!0}getDocumentsMatchingQuery(t,s,l,f){return this.Ki(t,s).next(g=>g||this.Gi(t,s,f,l)).next(g=>g||this.Qi(t,s))}Ki(t,s){if(sm(s))return qe.resolve(null);let l=go(s);return this.indexManager.getIndexType(t,l).next(f=>0===f?null:(null!==s.limit&&1===f&&(s=ef(s,null,"F"),l=go(s)),this.indexManager.getDocumentsMatchingTarget(t,l).next(g=>{const v=Hn(...g);return this.Ui.getDocuments(t,v).next(A=>this.indexManager.getMinOffset(t,l).next(L=>{const H=this.ji(s,A);return this.zi(s,H,v,L.readTime)?this.Ki(t,ef(s,null,"F")):this.Wi(t,H,s,L)}))})))}Gi(t,s,l,f){return sm(s)||f.isEqual($t.min())?this.Qi(t,s):this.Ui.getDocuments(t,l).next(g=>{const v=this.ji(s,g);return this.zi(s,v,l,f)?this.Qi(t,s):(Bi()<=ee.$b.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),tf(s)),this.Wi(t,v,s,function Sl(i,t){const s=i.toTimestamp().seconds,l=i.toTimestamp().nanoseconds+1,f=$t.fromTimestamp(1e9===l?new Jr(s+1,0):new Jr(s,l));return new ji(f,Bt.empty(),t)}(f,-1)))})}ji(t,s){let l=new Ss(im(t));return s.forEach((f,g)=>{Qc(t,g)&&(l=l.add(g))}),l}zi(t,s,l,f){if(null===t.limit)return!1;if(l.size!==s.size)return!0;const g="F"===t.limitType?s.last():s.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(f)>0)}Qi(t,s){return Bi()<=ee.$b.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",tf(s)),this.Ui.getDocumentsMatchingQuery(t,s,ji.min())}Wi(t,s,l,f){return this.Ui.getDocumentsMatchingQuery(t,l,f).next(g=>(s.forEach(v=>{g=g.insert(v.key,v)}),g))}}class Qp{constructor(t,s,l,f){this.persistence=t,this.Hi=s,this.serializer=f,this.Ji=new Ts(Kt),this.Yi=new Pl(g=>Fa(g),$d),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(l)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.Ji))}}function Xp(i,t,s,l){return new Qp(i,t,s,l)}function iv(i,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,_.A)(function*(i,t){const s=Ae(i);return yield s.persistence.runTransaction("Handle user change","readonly",l=>{let f;return s.mutationQueue.getAllMutationBatches(l).next(g=>(f=g,s.tr(t),s.mutationQueue.getAllMutationBatches(l))).next(g=>{const v=[],A=[];let L=Hn();for(const H of f){v.push(H.batchId);for(const se of H.mutations)L=L.add(se.key)}for(const H of g){A.push(H.batchId);for(const se of H.mutations)L=L.add(se.key)}return s.localDocuments.getDocuments(l,L).next(H=>({er:H,removedBatchIds:v,addedBatchIds:A}))})})}),Ef.apply(this,arguments)}function gi(i){const t=Ae(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.Bs.getLastRemoteSnapshotVersion(s))}function as(i,t){const s=Ae(i);return s.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===t&&(t=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(l,t)))}function wa(i,t,s){return qo.apply(this,arguments)}function qo(){return qo=(0,_.A)(function*(i,t,s){const l=Ae(i),f=l.Ji.get(t),g=s?"readwrite":"readwrite-primary";try{s||(yield l.persistence.runTransaction("Release target",g,v=>l.persistence.referenceDelegate.removeTarget(v,f)))}catch(v){if(!Ml(v))throw v;It("LocalStore",`Failed to update sequence numbers for target ${t}: ${v}`)}l.Ji=l.Ji.remove(t),l.Yi.delete(f.target)}),qo.apply(this,arguments)}function Ba(i,t,s){const l=Ae(i);let f=$t.min(),g=Hn();return l.persistence.runTransaction("Execute query","readonly",v=>function(A,L,H){const se=Ae(A),Ce=se.Yi.get(H);return void 0!==Ce?qe.resolve(se.Ji.get(Ce)):se.Bs.getTargetData(L,H)}(l,v,go(t)).next(A=>{if(A)return f=A.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(v,A.targetId).next(L=>{g=L})}).next(()=>l.Hi.getDocumentsMatchingQuery(v,t,s?f:$t.min(),s?g:Hn())).next(A=>(function bc(i,t,s){let l=i.Xi.get(t)||$t.min();s.forEach((f,g)=>{g.readTime.compareTo(l)>0&&(l=g.readTime)}),i.Xi.set(t,l)}(l,function _E(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(t),A),{documents:A,ir:g})))}class km{constructor(){this.activeTargetIds=function lm(){return Dp}()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ja{constructor(){this.Hr=new km,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,l){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,s,l){this.Jr[t]=s}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new km,Promise.resolve()}handleUserChange(t,s,l){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wf{Yr(t){}shutdown(){}}class ch{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uh=null;function dh(){return null===uh?uh=268435456+Math.round(2147483648*Math.random()):uh++,"0x"+uh.toString(16)}const od={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v_{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const ei="WebChannelConnection";class Lm extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,s,l,f,g){const v=dh(),A=this.To(t,s);It("RestConnection",`Sending RPC '${t}' ${v}:`,A,l);const L={};return this.Eo(L,f,g),this.Ao(t,A,L,l).then(H=>(It("RestConnection",`Received RPC '${t}' ${v}: `,H),H),H=>{throw z("RestConnection",`RPC '${t}' ${v} failed with error: `,H,"url: ",A,"request:",l),H})}vo(t,s,l,f,g,v){return this.Io(t,s,l,f,g)}Eo(t,s,l){t["X-Goog-Api-Client"]="gl-js/ fire/"+cr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,g)=>t[g]=f),l&&l.headers.forEach((f,g)=>t[g]=f)}To(t,s){return`${this.mo}/v1/${s}:${od[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,s,l,f){const g=dh();return new Promise((v,A)=>{const L=new Vs;L.setWithCredentials(!0),L.listenOnce(Ou.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Oa.NO_ERROR:const se=L.getResponseJson();It(ei,`XHR for RPC '${t}' ${g} received:`,JSON.stringify(se)),v(se);break;case Oa.TIMEOUT:It(ei,`RPC '${t}' ${g} timed out`),A(new ot(be.DEADLINE_EXCEEDED,"Request time out"));break;case Oa.HTTP_ERROR:const Ce=L.getStatus();if(It(ei,`RPC '${t}' ${g} failed with status:`,Ce,"response text:",L.getResponseText()),Ce>0){let Ke=L.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const ft=Ke?.error;if(ft&&ft.status&&ft.message){const kt=function(zt){const Xt=zt.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(Xt)>=0?Xt:be.UNKNOWN}(ft.status);A(new ot(kt,ft.message))}else A(new ot(be.UNKNOWN,"Server responded with status "+L.getStatus()))}else A(new ot(be.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{It(ei,`RPC '${t}' ${g} completed.`)}});const H=JSON.stringify(f);It(ei,`RPC '${t}' ${g} sending request:`,f),L.send(s,"POST",H,l,15)})}Ro(t,s,l){const f=dh(),g=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],v=Au(),A=Jf(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(L.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(L.xmlHttpFactory=new St({})),this.Eo(L.initMessageHeaders,s,l),L.encodeInitMessageHeaders=!0;const se=g.join("");It(ei,`Creating RPC '${t}' stream ${f}: ${se}`,L);const Ce=v.createWebChannel(se,L);let Ke=!1,ft=!1;const kt=new v_({ro:Xt=>{ft?It(ei,`Not sending because RPC '${t}' stream ${f} is closed:`,Xt):(Ke||(It(ei,`Opening RPC '${t}' stream ${f} transport.`),Ce.open(),Ke=!0),It(ei,`RPC '${t}' stream ${f} sending:`,Xt),Ce.send(Xt))},oo:()=>Ce.close()}),zt=(Xt,ir,zr)=>{Xt.listen(ir,gr=>{try{zr(gr)}catch(Di){setTimeout(()=>{throw Di},0)}})};return zt(Ce,sn.EventType.OPEN,()=>{ft||It(ei,`RPC '${t}' stream ${f} transport opened.`)}),zt(Ce,sn.EventType.CLOSE,()=>{ft||(ft=!0,It(ei,`RPC '${t}' stream ${f} transport closed`),kt.wo())}),zt(Ce,sn.EventType.ERROR,Xt=>{ft||(ft=!0,z(ei,`RPC '${t}' stream ${f} transport errored:`,Xt),kt.wo(new ot(be.UNAVAILABLE,"The operation could not be completed")))}),zt(Ce,sn.EventType.MESSAGE,Xt=>{var ir;if(!ft){const zr=Xt.data[0];Y(!!zr);const Di=zr.error||(null===(ir=zr[0])||void 0===ir?void 0:ir.error);if(Di){It(ei,`RPC '${t}' stream ${f} received error:`,Di);const Fi=Di.status;let Ws=function(Lc){const B_=Hr[Lc];if(void 0!==B_)return Hu(B_)}(Fi),Ia=Di.message;void 0===Ws&&(Ws=be.INTERNAL,Ia="Unknown error status: "+Fi+" with message "+Di.message),ft=!0,kt.wo(new ot(Ws,Ia)),Ce.close()}else It(ei,`RPC '${t}' stream ${f} received:`,zr),kt._o(zr)}}),zt(A,el.STAT_EVENT,Xt=>{Xt.stat===yr.PROXY?It(ei,`RPC '${t}' stream ${f} detected buffering proxy`):Xt.stat===yr.NOPROXY&&It(ei,`RPC '${t}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{kt.fo()},0),kt}}function cu(){return typeof document<"u"?document:null}function Wl(i){return new xp(i,!0)}class Df{constructor(t,s,l=1e3,f=1.5,g=6e4){this.ii=t,this.timerId=s,this.Po=l,this.bo=f,this.Vo=g,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const s=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),f=Math.max(0,s-l);f>0&&It("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.So} ms, delay with jitter: ${s} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,f,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ad{constructor(t,s,l,f,g,v,A,L){this.ii=t,this.$o=l,this.Oo=f,this.connection=g,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=L,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Df(t,s)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,_.A)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,_.A)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,s){var l=this;return(0,_.A)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==t?l.qo.reset():s&&s.code===be.RESOURCE_EXHAUSTED?(M(s.toString()),M("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):s&&s.code===be.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=t,yield l.listener.ao(s)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),s=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,f])=>{this.Fo===s&&this.Zo(l,f)},l=>{t(()=>{const f=new ot(be.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(f)})})}Zo(t,s){const l=this.Xo(this.Fo);this.stream=this.eu(t,s),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(f=>{l(()=>this.tu(f))}),this.stream.onMessage(f=>{l(()=>this.onMessage(f))})}Go(){var t=this;this.state=5,this.qo.No((0,_.A)(function*(){t.state=0,t.start()}))}tu(t){return It("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return s=>{this.ii.enqueueAndForget(()=>this.Fo===t?s():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yp extends ad{constructor(t,s,l,f,g,v){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,l,f,v),this.serializer=g}eu(t,s){return this.connection.Ro("Listen",t,s)}onMessage(t){this.qo.reset();const s=function Ec(i,t){let s;if("targetChange"in t){const l="NO_CHANGE"===(L=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:k(),f=t.targetChange.targetIds||[],g=function(L,H){return L.useProto3Json?(Y(void 0===H||"string"==typeof H),$i.fromBase64String(H||"")):(Y(void 0===H||H instanceof Uint8Array),$i.fromUint8Array(H||new Uint8Array))}(i,t.targetChange.resumeToken),v=t.targetChange.cause,A=v&&function(L){const H=void 0===L.code?be.UNKNOWN:Hu(L.code);return new ot(H,L.message||"")}(v);s=new $s(l,f,g,A||null)}else if("documentChange"in t){const l=t.documentChange,f=Ll(i,l.document.name),g=is(l.document.updateTime),v=l.document.createTime?is(l.document.createTime):$t.min(),A=new eo({mapValue:{fields:l.document.fields}}),L=js.newFoundDocument(f,g,v,A);s=new Zc(l.targetIds||[],l.removedTargetIds||[],L.key,L)}else if("documentDelete"in t){const l=t.documentDelete,f=Ll(i,l.document),g=l.readTime?is(l.readTime):$t.min(),v=js.newNoDocument(f,g);s=new Zc([],l.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){const l=t.documentRemove,f=Ll(i,l.document);s=new Zc([],l.removedTargetIds||[],f,null)}else{if(!("filter"in t))return k();{const l=t.filter,{count:f=0,unchangedNames:g}=l,v=new g_(f,g);s=new Op(l.targetId,v)}}var L;return s}(this.serializer,t),l=function(f){if(!("targetChange"in f))return $t.min();const g=f.targetChange;return g.targetIds&&g.targetIds.length?$t.min():g.readTime?is(g.readTime):$t.min()}(t);return this.listener.nu(s,l)}su(t){const s={};s.database=Gd(this.serializer),s.addTarget=function(f,g){let v;const A=g.target;if(v=_p(A)?{documents:Jc(f,A)}:{query:wc(f,A)},v.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){v.resumeToken=ym(f,g.resumeToken);const L=mm(f,g.expectedCount);null!==L&&(v.expectedCount=L)}else if(g.snapshotVersion.compareTo($t.min())>0){v.readTime=zd(f,g.snapshotVersion.toTimestamp());const L=mm(f,g.expectedCount);null!==L&&(v.expectedCount=L)}return v}(this.serializer,t);const l=function Qy(i,t){const s=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(t.purpose);return null==s?null:{"goog-listen-tags":s}}(0,t);l&&(s.labels=l),this.Wo(s)}iu(t){const s={};s.database=Gd(this.serializer),s.removeTarget=t,this.Wo(s)}}class Zp extends ad{constructor(t,s,l,f,g,v){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,l,f,v),this.serializer=g,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,s){return this.connection.Ro("Write",t,s)}onMessage(t){if(Y(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const s=function qd(i,t){return i&&i.length>0?(Y(void 0!==t),i.map(s=>function(l,f){let g=is(l.updateTime?l.updateTime:f);return g.isEqual($t.min())&&(g=is(f)),new Tp(g,l.transformResults||[])}(s,t))):[]}(t.writeResults,t.commitTime),l=is(t.commitTime);return this.listener.cu(l,s)}return Y(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Gd(this.serializer),this.Wo(t)}uu(t){const s={streamToken:this.lastStreamToken,writes:t.map(l=>Xd(this.serializer,l))};this.Wo(s)}}class fh extends class{}{constructor(t,s,l,f){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=l,this.serializer=f,this.lu=!1}fu(){if(this.lu)throw new ot(be.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Io(t,s,l,f,g)).catch(f=>{throw"FirebaseError"===f.name?(f.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(be.UNKNOWN,f.toString())})}vo(t,s,l,f){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.connection.vo(t,s,l,g,v,f)).catch(g=>{throw"FirebaseError"===g.name?(g.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new ot(be.UNKNOWN,g.toString())})}terminate(){this.lu=!0}}class Um{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const s=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(M(s),this.mu=!1):It("OnlineStateTracker",s)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Bm{constructor(t,s,l,f,g){var v=this;this.localStore=t,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=g,this.Pu.Yr(A=>{l.enqueueAndForget((0,_.A)(function*(){var L;Oc(v)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,_.A)(function*(H){const se=Ae(H);se.vu.add(4),yield ph(se),se.bu.set("Unknown"),se.vu.delete(4),yield ld(se)}),function(H){return L.apply(this,arguments)})(v))}))}),this.bu=new Um(l,f)}}function ld(i){return jm.apply(this,arguments)}function jm(){return jm=(0,_.A)(function*(i){if(Oc(i))for(const t of i.Ru)yield t(!0)}),jm.apply(this,arguments)}function ph(i){return uu.apply(this,arguments)}function uu(){return uu=(0,_.A)(function*(i){for(const t of i.Ru)yield t(!1)}),uu.apply(this,arguments)}function du(i,t){const s=Ae(i);s.Au.has(t.targetId)||(s.Au.set(t.targetId,t),Tf(s)?If(s):hl(s).Ko()&&cd(s,t))}function Jp(i,t){const s=Ae(i),l=hl(s);s.Au.delete(t),l.Ko()&&eg(s,t),0===s.Au.size&&(l.Ko()?l.jo():Oc(s)&&s.bu.set("Unknown"))}function cd(i,t){if(i.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}hl(i).su(t)}function eg(i,t){i.Vu.qt(t),hl(i).iu(t)}function If(i){i.Vu=new gm({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),le:t=>i.Au.get(t)||null,ue:()=>i.datastore.serializer.databaseId}),hl(i).start(),i.bu.gu()}function Tf(i){return Oc(i)&&!hl(i).Uo()&&i.Au.size>0}function Oc(i){return 0===Ae(i).vu.size}function tg(i){i.Vu=void 0}function $m(i){return dl.apply(this,arguments)}function dl(){return dl=(0,_.A)(function*(i){i.Au.forEach((t,s)=>{cd(i,t)})}),dl.apply(this,arguments)}function __(i,t){return ov.apply(this,arguments)}function ov(){return ov=(0,_.A)(function*(i,t){tg(i),Tf(i)?(i.bu.Iu(t),If(i)):i.bu.set("Unknown")}),ov.apply(this,arguments)}function ng(i,t,s){return rg.apply(this,arguments)}function rg(){return rg=(0,_.A)(function*(i,t,s){if(i.bu.set("Online"),t instanceof $s&&2===t.state&&t.cause)try{yield(l=(0,_.A)(function*(f,g){const v=g.cause;for(const A of g.targetIds)f.Au.has(A)&&(yield f.remoteSyncer.rejectListen(A,v),f.Au.delete(A),f.Vu.removeTarget(A))}),function(f,g){return l.apply(this,arguments)})(i,t)}catch(l){It("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),l),yield ud(i,l)}else if(t instanceof Zc?i.Vu.Ht(t):t instanceof Op?i.Vu.ne(t):i.Vu.Xt(t),!s.isEqual($t.min()))try{const l=yield gi(i.localStore);s.compareTo(l)>=0&&(yield function(f,g){const v=f.Vu.ce(g);return v.targetChanges.forEach((A,L)=>{if(A.resumeToken.approximateByteSize()>0){const H=f.Au.get(L);H&&f.Au.set(L,H.withResumeToken(A.resumeToken,g))}}),v.targetMismatches.forEach((A,L)=>{const H=f.Au.get(A);if(!H)return;f.Au.set(A,H.withResumeToken($i.EMPTY_BYTE_STRING,H.snapshotVersion)),eg(f,A);const se=new Ul(H.target,A,L,H.sequenceNumber);cd(f,se)}),f.remoteSyncer.applyRemoteEvent(v)}(i,s))}catch(l){It("RemoteStore","Failed to raise snapshot:",l),yield ud(i,l)}var l}),rg.apply(this,arguments)}function ud(i,t,s){return dd.apply(this,arguments)}function dd(){return dd=(0,_.A)(function*(i,t,s){if(!Ml(t))throw t;i.vu.add(1),yield ph(i),i.bu.set("Offline"),s||(s=()=>gi(i.localStore)),i.asyncQueue.enqueueRetryable((0,_.A)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield s(),i.vu.delete(1),yield ld(i)}))}),dd.apply(this,arguments)}function av(i,t){return t().catch(s=>ud(i,s,t))}function hd(i){return sg.apply(this,arguments)}function sg(){return sg=(0,_.A)(function*(i){const t=Ae(i),s=fd(t);let l=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;ig(t);)try{const f=yield as(t.localStore,l);if(null===f){0===t.Eu.length&&s.jo();break}l=f.batchId,og(t,f)}catch(f){yield ud(t,f)}ag(t)&&lv(t)}),sg.apply(this,arguments)}function ig(i){return Oc(i)&&i.Eu.length<10}function og(i,t){i.Eu.push(t);const s=fd(i);s.Ko()&&s.ou&&s.uu(t.mutations)}function ag(i){return Oc(i)&&!fd(i).Uo()&&i.Eu.length>0}function lv(i){fd(i).start()}function cv(i){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,_.A)(function*(i){fd(i).hu()}),Nc.apply(this,arguments)}function uv(i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,_.A)(function*(i){const t=fd(i);for(const s of i.Eu)t.uu(s.mutations)}),Sf.apply(this,arguments)}function E_(i,t,s){return dv.apply(this,arguments)}function dv(){return dv=(0,_.A)(function*(i,t,s){const l=i.Eu.shift(),f=Ap.from(l,t,s);yield av(i,()=>i.remoteSyncer.applySuccessfulWrite(f)),yield hd(i)}),dv.apply(this,arguments)}function wE(i,t){return hv.apply(this,arguments)}function hv(){return hv=(0,_.A)(function*(i,t){var s;t&&fd(i).ou&&(yield(s=(0,_.A)(function*(l,f){if(function m_(i){switch(i){default:return k();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}(g=f.code)&&g!==be.ABORTED){const v=l.Eu.shift();fd(l).Qo(),yield av(l,()=>l.remoteSyncer.rejectFailedWrite(v.batchId,f)),yield hd(l)}var g}),function(l,f){return s.apply(this,arguments)})(i,t)),ag(i)&&lv(i)}),hv.apply(this,arguments)}function gh(i,t){return lg.apply(this,arguments)}function lg(){return lg=(0,_.A)(function*(i,t){const s=Ae(i);s.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const l=Oc(s);s.vu.add(3),yield ph(s),l&&s.bu.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(t),s.vu.delete(3),yield ld(s)}),lg.apply(this,arguments)}function yh(){return yh=(0,_.A)(function*(i,t){const s=Ae(i);t?(s.vu.delete(2),yield ld(s)):t||(s.vu.add(2),yield ph(s),s.bu.set("Unknown"))}),yh.apply(this,arguments)}function hl(i){return i.Su||(i.Su=function(t,s,l){const f=Ae(t);return f.fu(),new Yp(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(i.datastore,i.asyncQueue,{uo:$m.bind(null,i),ao:__.bind(null,i),nu:ng.bind(null,i)}),i.Ru.push(function(){var t=(0,_.A)(function*(s){s?(i.Su.Qo(),Tf(i)?If(i):i.bu.set("Unknown")):(yield i.Su.stop(),tg(i))});return function(s){return t.apply(this,arguments)}}())),i.Su}function fd(i){return i.Du||(i.Du=function(t,s,l){const f=Ae(t);return f.fu(),new Zp(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(i.datastore,i.asyncQueue,{uo:cv.bind(null,i),ao:wE.bind(null,i),au:uv.bind(null,i),cu:E_.bind(null,i)}),i.Ru.push(function(){var t=(0,_.A)(function*(s){s?(i.Du.Qo(),yield hd(i)):(yield i.Du.stop(),i.Eu.length>0&&(It("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(s){return t.apply(this,arguments)}}())),i.Du}class Hm{constructor(t,s,l,f,g){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=l,this.op=f,this.removalCallback=g,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(t,s,l,f,g){const v=Date.now()+l,A=new Hm(t,s,v,f,g);return A.start(l),A}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(be.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kl(i,t){if(M("AsyncQueue",`${t}: ${i}`),Ml(i))return new ot(be.UNAVAILABLE,`${t}: ${i}`);throw i}class pd{constructor(t){this.comparator=t?(s,l)=>t(s,l)||Bt.comparator(s.key,l.key):(s,l)=>Bt.comparator(s.key,l.key),this.keyedMap=Bu(),this.sortedSet=new Ts(this.comparator)}static emptySet(t){return new pd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,l)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof pd)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),l=t.sortedSet.getIterator();for(;s.hasNext();){const f=s.getNext().key,g=l.getNext().key;if(!f.isEqual(g))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,s){const l=new pd;return l.comparator=this.comparator,l.keyedMap=t,l.sortedSet=s,l}}class Wm{constructor(){this.Cu=new Ts(Bt.comparator)}track(t){const s=t.doc.key,l=this.Cu.get(s);l?0!==t.type&&3===l.type?this.Cu=this.Cu.insert(s,t):3===t.type&&1!==l.type?this.Cu=this.Cu.insert(s,{type:l.type,doc:t.doc}):2===t.type&&2===l.type?this.Cu=this.Cu.insert(s,{type:2,doc:t.doc}):2===t.type&&0===l.type?this.Cu=this.Cu.insert(s,{type:0,doc:t.doc}):1===t.type&&0===l.type?this.Cu=this.Cu.remove(s):1===t.type&&2===l.type?this.Cu=this.Cu.insert(s,{type:1,doc:l.doc}):0===t.type&&1===l.type?this.Cu=this.Cu.insert(s,{type:2,doc:t.doc}):k():this.Cu=this.Cu.insert(s,t)}xu(){const t=[];return this.Cu.inorderTraversal((s,l)=>{t.push(l)}),t}}class hu{constructor(t,s,l,f,g,v,A,L,H){this.query=t,this.docs=s,this.oldDocs=l,this.docChanges=f,this.mutatedKeys=g,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=L,this.hasCachedResults=H}static fromInitialDocuments(t,s,l,f,g){const v=[];return s.forEach(A=>{v.push({type:0,doc:A})}),new hu(t,s,pd.emptySet(s),v,l,f,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,l=t.docChanges;if(s.length!==l.length)return!1;for(let f=0;f<s.length;f++)if(s[f].type!==l[f].type||!s[f].doc.isEqual(l[f].doc))return!1;return!0}}class fv{constructor(){this.Nu=void 0,this.listeners=[]}}class Rc{constructor(){this.queries=new Pl(t=>Vy(t),mc),this.onlineState="Unknown",this.ku=new Set}}function bf(i,t){return Km.apply(this,arguments)}function Km(){return Km=(0,_.A)(function*(i,t){const s=Ae(i),l=t.query;let f=!1,g=s.queries.get(l);if(g||(f=!0,g=new fv),f)try{g.Nu=yield s.onListen(l)}catch(v){const A=Kl(v,`Initialization of query '${tf(t.query)}' failed`);return void t.onError(A)}s.queries.set(l,g),g.listeners.push(t),t.Mu(s.onlineState),g.Nu&&t.$u(g.Nu)&&ug(s)}),Km.apply(this,arguments)}function zm(i,t){return cg.apply(this,arguments)}function cg(){return cg=(0,_.A)(function*(i,t){const s=Ae(i),l=t.query;let f=!1;const g=s.queries.get(l);if(g){const v=g.listeners.indexOf(t);v>=0&&(g.listeners.splice(v,1),f=0===g.listeners.length)}if(f)return s.queries.delete(l),s.onUnlisten(l)}),cg.apply(this,arguments)}function fu(i,t){const s=Ae(i);let l=!1;for(const f of t){const v=s.queries.get(f.query);if(v){for(const A of v.listeners)A.$u(f)&&(l=!0);v.Nu=f}}l&&ug(s)}function Gm(i,t,s){const l=Ae(i),f=l.queries.get(t);if(f)for(const g of f.listeners)g.onError(s);l.queries.delete(t)}function ug(i){i.ku.forEach(t=>{t.next()})}class zl{constructor(t,s,l){this.query=t,this.Ou=s,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(t){if(!this.options.includeMetadataChanges){const l=[];for(const f of t.docChanges)3!==f.type&&l.push(f);t=new hu(t.query,t.docs,t.oldDocs,l,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),s=!0):this.qu(t,this.onlineState)&&(this.Uu(t),s=!0),this.Bu=t,s}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let s=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),s=!0),s}qu(t,s){return!t.fromCache||(!this.options.Ku||!("Offline"!==s))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===s)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class pv{constructor(t){this.key=t}}class Qm{constructor(t){this.key=t}}class Af{constructor(t,s){this.query=t,this.Yu=s,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Hn(),this.mutatedKeys=Hn(),this.tc=im(t),this.ec=new pd(this.tc)}get nc(){return this.Yu}sc(t,s){const l=s?s.ic:new Wm,f=s?s.ec:this.ec;let g=s?s.mutatedKeys:this.mutatedKeys,v=f,A=!1;const L="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,H="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(t.inorderTraversal((se,Ce)=>{const Ke=f.get(se),ft=Qc(this.query,Ce)?Ce:null,kt=!!Ke&&this.mutatedKeys.has(Ke.key),zt=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let Xt=!1;Ke&&ft?Ke.data.isEqual(ft.data)?kt!==zt&&(l.track({type:3,doc:ft}),Xt=!0):this.rc(Ke,ft)||(l.track({type:2,doc:ft}),Xt=!0,(L&&this.tc(ft,L)>0||H&&this.tc(ft,H)<0)&&(A=!0)):!Ke&&ft?(l.track({type:0,doc:ft}),Xt=!0):Ke&&!ft&&(l.track({type:1,doc:Ke}),Xt=!0,(L||H)&&(A=!0)),Xt&&(ft?(v=v.add(ft),g=zt?g.add(se):g.delete(se)):(v=v.delete(se),g=g.delete(se)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const se="F"===this.query.limitType?v.last():v.first();v=v.delete(se.key),g=g.delete(se.key),l.track({type:1,doc:se})}return{ec:v,ic:l,zi:A,mutatedKeys:g}}rc(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,l){const f=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const g=t.ic.xu();g.sort((H,se)=>function(Ce,Ke){const ft=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return ft(Ce)-ft(Ke)}(H.type,se.type)||this.tc(H.doc,se.doc)),this.oc(l);const v=s?this.uc():[],A=0===this.Zu.size&&this.current?1:0,L=A!==this.Xu;return this.Xu=A,0!==g.length||L?{snapshot:new hu(this.query,t.ec,f,g,t.mutatedKeys,0===A,L,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:v}:{cc:v}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Wm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(s=>this.Yu=this.Yu.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.Yu=this.Yu.delete(s)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Hn(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const s=[];return t.forEach(l=>{this.Zu.has(l)||s.push(new Qm(l))}),this.Zu.forEach(l=>{t.has(l)||s.push(new pv(l))}),s}hc(t){this.Yu=t.ir,this.Zu=Hn();const s=this.sc(t.documents);return this.applyChanges(s,!0)}lc(){return hu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Xm{constructor(t,s,l){this.query=t,this.targetId=s,this.view=l}}class Gl{constructor(t){this.key=t,this.fc=!1}}class Da{constructor(t,s,l,f,g,v){this.localStore=t,this.remoteStore=s,this.eventManager=l,this.sharedClientState=f,this.currentUser=g,this.maxConcurrentLimboResolutions=v,this.dc={},this.wc=new Pl(A=>Vy(A),mc),this._c=new Map,this.mc=new Set,this.gc=new Ts(Bt.comparator),this.yc=new Map,this.Ic=new ih,this.Tc={},this.Ec=new Map,this.Ac=Ic.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function fg(i,t){return Of.apply(this,arguments)}function Of(){return Of=(0,_.A)(function*(i,t){const s=function Ch(i){const t=Ae(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=qm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mu.bind(null,t),t.dc.nu=fu.bind(null,t.eventManager),t.dc.Pc=Gm.bind(null,t.eventManager),t}(i);let l,f;const g=s.wc.get(t);if(g)l=g.targetId,s.sharedClientState.addLocalQueryTarget(l),f=g.view.lc();else{const v=yield function Ea(i,t){const s=Ae(i);return s.persistence.runTransaction("Allocate target","readwrite",l=>{let f;return s.Bs.getTargetData(l,t).next(g=>g?(f=g,qe.resolve(f)):s.Bs.allocateTargetId(l).next(v=>(f=new Ul(t,v,"TargetPurposeListen",l.currentSequenceNumber),s.Bs.addTargetData(l,f).next(()=>f))))}).then(l=>{const f=s.Ji.get(l.targetId);return(null===f||l.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(s.Ji=s.Ji.insert(l.targetId,l),s.Yi.set(t,l.targetId)),l})}(s.localStore,go(t)),A=s.sharedClientState.addLocalQueryTarget(v.targetId);l=v.targetId,f=yield function pu(i,t,s,l,f){return vh.apply(this,arguments)}(s,t,l,"current"===A,v.resumeToken),s.isPrimaryClient&&du(s.remoteStore,v)}return f}),Of.apply(this,arguments)}function vh(){return vh=(0,_.A)(function*(i,t,s,l,f){i.Rc=(Ce,Ke,ft)=>{return(kt=(0,_.A)(function*(zt,Xt,ir,zr){let gr=Xt.view.sc(ir);gr.zi&&(gr=yield Ba(zt.localStore,Xt.query,!1).then(({documents:Ws})=>Xt.view.sc(Ws,gr)));const Di=zr&&zr.targetChanges.get(Xt.targetId),Fi=Xt.view.applyChanges(gr,zt.isPrimaryClient,Di);return xf(zt,Xt.targetId,Fi.cc),Fi.snapshot}),function(zt,Xt,ir,zr){return kt.apply(this,arguments)})(i,Ce,Ke,ft);var kt};const g=yield Ba(i.localStore,t,!0),v=new Af(t,g.ir),A=v.sc(g.documents),L=Yc.createSynthesizedTargetChangeForCurrentChange(s,l&&"Offline"!==i.onlineState,f),H=v.applyChanges(A,i.isPrimaryClient,L);xf(i,s,H.cc);const se=new Xm(t,s,v);return i.wc.set(t,se),i._c.has(s)?i._c.get(s).push(t):i._c.set(s,[t]),H.snapshot}),vh.apply(this,arguments)}function gv(i,t){return mv.apply(this,arguments)}function mv(){return mv=(0,_.A)(function*(i,t){const s=Ae(i),l=s.wc.get(t),f=s._c.get(l.targetId);if(f.length>1)return s._c.set(l.targetId,f.filter(g=>!mc(g,t))),void s.wc.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield wa(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),Jp(s.remoteStore,l.targetId),wh(s,l.targetId)}).catch(bl))):(wh(s,l.targetId),yield wa(s.localStore,l.targetId,!0))}),mv.apply(this,arguments)}function gu(){return gu=(0,_.A)(function*(i,t,s){const l=_g(i);try{const f=yield function(g,v){const A=Ae(g),L=Jr.now(),H=v.reduce((Ke,ft)=>Ke.add(ft.key),Hn());let se,Ce;return A.persistence.runTransaction("Locally write mutations","readwrite",Ke=>{let ft=Go(),kt=Hn();return A.Zi.getEntries(Ke,H).next(zt=>{ft=zt,ft.forEach((Xt,ir)=>{ir.isValidDocument()||(kt=kt.add(Xt))})}).next(()=>A.localDocuments.getOverlayedDocuments(Ke,ft)).next(zt=>{se=zt;const Xt=[];for(const ir of v){const zr=Wd(ir,se.get(ir.key).overlayedDocument);null!=zr&&Xt.push(new Qs(ir.key,zr,em(zr.value.mapValue),vs.exists(!0)))}return A.mutationQueue.addMutationBatch(Ke,L,Xt,v)}).next(zt=>{Ce=zt;const Xt=zt.applyToLocalDocumentSet(se,kt);return A.documentOverlayCache.saveOverlays(Ke,zt.batchId,Xt)})}).then(()=>({batchId:Ce.batchId,changes:Ep(se)}))}(l.localStore,t);l.sharedClientState.addPendingMutation(f.batchId),function(g,v,A){let L=g.Tc[g.currentUser.toKey()];L||(L=new Ts(Kt)),L=L.insert(v,A),g.Tc[g.currentUser.toKey()]=L}(l,f.batchId,s),yield Ql(l,f.changes),yield hd(l.remoteStore)}catch(f){const g=Kl(f,"Failed to persist write");s.reject(g)}}),gu.apply(this,arguments)}function qm(i,t){return xc.apply(this,arguments)}function xc(){return xc=(0,_.A)(function*(i,t){const s=Ae(i);try{const l=yield function qp(i,t){const s=Ae(i),l=t.snapshotVersion;let f=s.Ji;return s.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const v=s.Zi.newChangeBuffer({trackRemovals:!0});f=s.Ji;const A=[];t.targetChanges.forEach((se,Ce)=>{const Ke=f.get(Ce);if(!Ke)return;A.push(s.Bs.removeMatchingKeys(g,se.removedDocuments,Ce).next(()=>s.Bs.addMatchingKeys(g,se.addedDocuments,Ce)));let ft=Ke.withSequenceNumber(g.currentSequenceNumber);var kt,zt,Xt;null!==t.targetMismatches.get(Ce)?ft=ft.withResumeToken($i.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):se.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(se.resumeToken,l)),f=f.insert(Ce,ft),zt=ft,Xt=se,(0===(kt=Ke).resumeToken.approximateByteSize()||zt.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||Xt.addedDocuments.size+Xt.modifiedDocuments.size+Xt.removedDocuments.size>0)&&A.push(s.Bs.updateTargetData(g,ft))});let L=Go(),H=Hn();if(t.documentUpdates.forEach(se=>{t.resolvedLimboDocuments.has(se)&&A.push(s.persistence.referenceDelegate.updateLimboDocument(g,se))}),A.push(function Ua(i,t,s){let l=Hn(),f=Hn();return s.forEach(g=>l=l.add(g)),t.getEntries(i,l).next(g=>{let v=Go();return s.forEach((A,L)=>{const H=g.get(A);L.isFoundDocument()!==H.isFoundDocument()&&(f=f.add(A)),L.isNoDocument()&&L.version.isEqual($t.min())?(t.removeEntry(A,L.readTime),v=v.insert(A,L)):!H.isValidDocument()||L.version.compareTo(H.version)>0||0===L.version.compareTo(H.version)&&H.hasPendingWrites?(t.addEntry(L),v=v.insert(A,L)):It("LocalStore","Ignoring outdated watch update for ",A,". Current version:",H.version," Watch version:",L.version)}),{nr:v,sr:f}})}(g,v,t.documentUpdates).next(se=>{L=se.nr,H=se.sr})),!l.isEqual($t.min())){const se=s.Bs.getLastRemoteSnapshotVersion(g).next(Ce=>s.Bs.setTargetsMetadata(g,g.currentSequenceNumber,l));A.push(se)}return qe.waitFor(A).next(()=>v.apply(g)).next(()=>s.localDocuments.getLocalViewOfDocuments(g,L,H)).next(()=>L)}).then(g=>(s.Ji=f,g))}(s.localStore,t);t.targetChanges.forEach((f,g)=>{const v=s.yc.get(g);v&&(Y(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?v.fc=!0:f.modifiedDocuments.size>0?Y(v.fc):f.removedDocuments.size>0&&(Y(v.fc),v.fc=!1))}),yield Ql(s,l,t)}catch(l){yield bl(l)}}),xc.apply(this,arguments)}function pg(i,t,s){const l=Ae(i);if(l.isPrimaryClient&&0===s||!l.isPrimaryClient&&1===s){const f=[];l.wc.forEach((g,v)=>{const A=v.view.Mu(t);A.snapshot&&f.push(A.snapshot)}),function(g,v){const A=Ae(g);A.onlineState=v;let L=!1;A.queries.forEach((H,se)=>{for(const Ce of se.listeners)Ce.Mu(v)&&(L=!0)}),L&&ug(A)}(l.eventManager,t),f.length&&l.dc.nu(f),l.onlineState=t,l.isPrimaryClient&&l.sharedClientState.setOnlineState(t)}}function mu(i,t,s){return gg.apply(this,arguments)}function gg(){return gg=(0,_.A)(function*(i,t,s){const l=Ae(i);l.sharedClientState.updateQueryState(t,"rejected",s);const f=l.yc.get(t),g=f&&f.key;if(g){let v=new Ts(Bt.comparator);v=v.insert(g,js.newNoDocument(g,$t.min()));const A=Hn().add(g),L=new Kd($t.min(),new Map,new Ts(Kt),v,A);yield qm(l,L),l.gc=l.gc.remove(g),l.yc.delete(t),mg(l)}else yield wa(l.localStore,t,!1).then(()=>wh(l,t,s)).catch(bl)}),gg.apply(this,arguments)}function Nf(i,t){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,_.A)(function*(i,t){const s=Ae(i),l=t.batch.batchId;try{const f=yield function EE(i,t){const s=Ae(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const f=t.batch.keys(),g=s.Zi.newChangeBuffer({trackRemovals:!0});return function(v,A,L,H){const se=L.batch,Ce=se.keys();let Ke=qe.resolve();return Ce.forEach(ft=>{Ke=Ke.next(()=>H.getEntry(A,ft)).next(kt=>{const zt=L.docVersions.get(ft);Y(null!==zt),kt.version.compareTo(zt)<0&&(se.applyToRemoteDocument(kt,L),kt.isValidDocument()&&(kt.setReadTime(L.commitVersion),H.addEntry(kt)))})}),Ke.next(()=>v.mutationQueue.removeMutationBatch(A,se))}(s,l,t,g).next(()=>g.apply(l)).next(()=>s.mutationQueue.performConsistencyCheck(l)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(l,f,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(v){let A=Hn();for(let L=0;L<v.mutationResults.length;++L)v.mutationResults[L].transformResults.length>0&&(A=A.add(v.batch.mutations[L].key));return A}(t))).next(()=>s.localDocuments.getDocuments(l,f))})}(s.localStore,t);Zm(s,l,null),gd(s,l),s.sharedClientState.updateMutationState(l,"acknowledged"),yield Ql(s,f)}catch(f){yield bl(f)}}),Eh.apply(this,arguments)}function Ym(i,t,s){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,_.A)(function*(i,t,s){const l=Ae(i);try{const f=yield function(g,v){const A=Ae(g);return A.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return A.mutationQueue.lookupMutationBatch(L,v).next(se=>(Y(null!==se),H=se.keys(),A.mutationQueue.removeMutationBatch(L,se))).next(()=>A.mutationQueue.performConsistencyCheck(L)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(L,H,v)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,H)).next(()=>A.localDocuments.getDocuments(L,H))})}(l.localStore,t);Zm(l,t,s),gd(l,t),l.sharedClientState.updateMutationState(t,"rejected",s),yield Ql(l,f)}catch(f){yield bl(f)}}),Rf.apply(this,arguments)}function gd(i,t){(i.Ec.get(t)||[]).forEach(s=>{s.resolve()}),i.Ec.delete(t)}function Zm(i,t,s){const l=Ae(i);let f=l.Tc[l.currentUser.toKey()];if(f){const g=f.get(t);g&&(s?g.reject(s):g.resolve(),f=f.remove(t)),l.Tc[l.currentUser.toKey()]=f}}function wh(i,t,s=null){i.sharedClientState.removeLocalQueryTarget(t);for(const l of i._c.get(t))i.wc.delete(l),s&&i.dc.Pc(l,s);i._c.delete(t),i.isPrimaryClient&&i.Ic.Is(t).forEach(l=>{i.Ic.containsKey(l)||yv(i,l)})}function yv(i,t){i.mc.delete(t.path.canonicalString());const s=i.gc.get(t);null!==s&&(Jp(i.remoteStore,s),i.gc=i.gc.remove(t),i.yc.delete(s),mg(i))}function xf(i,t,s){for(const l of s)l instanceof pv?(i.Ic.addReference(l.key,t),Jm(i,l)):l instanceof Qm?(It("SyncEngine","Document no longer in limbo: "+l.key),i.Ic.removeReference(l.key,t),i.Ic.containsKey(l.key)||yv(i,l.key)):k()}function Jm(i,t){const s=t.key,l=s.path.canonicalString();i.gc.get(s)||i.mc.has(l)||(It("SyncEngine","New document in limbo: "+s),i.mc.add(l),mg(i))}function mg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const t=i.mc.values().next().value;i.mc.delete(t);const s=new Bt(br.fromString(t)),l=i.Ac.next();i.yc.set(l,new Gl(s)),i.gc=i.gc.insert(s,l),du(i.remoteStore,new Ul(go(zc(s.path)),l,"TargetPurposeLimboResolution",Ji.ct))}}function Ql(i,t,s){return ey.apply(this,arguments)}function ey(){return ey=(0,_.A)(function*(i,t,s){const l=Ae(i),f=[],g=[],v=[];var A;l.wc.isEmpty()||(l.wc.forEach((A,L)=>{v.push(l.Rc(L,t,s).then(H=>{if((H||s)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(L.targetId,H?.fromCache?"not-current":"current"),H){f.push(H);const se=Sc.Li(L.targetId,H);g.push(se)}}))}),yield Promise.all(v),l.dc.nu(f),yield(A=(0,_.A)(function*(L,H){const se=Ae(L);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>qe.forEach(H,Ke=>qe.forEach(Ke.Fi,ft=>se.persistence.referenceDelegate.addReference(Ce,Ke.targetId,ft)).next(()=>qe.forEach(Ke.Bi,ft=>se.persistence.referenceDelegate.removeReference(Ce,Ke.targetId,ft)))))}catch(Ce){if(!Ml(Ce))throw Ce;It("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of H){const Ke=Ce.targetId;if(!Ce.fromCache){const ft=se.Ji.get(Ke),zt=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);se.Ji=se.Ji.insert(Ke,zt)}}}),function(L,H){return A.apply(this,arguments)})(l.localStore,g))}),ey.apply(this,arguments)}function D_(i,t){return yg.apply(this,arguments)}function yg(){return yg=(0,_.A)(function*(i,t){const s=Ae(i);if(!s.currentUser.isEqual(t)){It("SyncEngine","User change. New user:",t.toKey());const l=yield iv(s.localStore,t);s.currentUser=t,(f=s).Ec.forEach(v=>{v.forEach(A=>{A.reject(new ot(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Ec.clear(),s.sharedClientState.handleUserChange(t,l.removedBatchIds,l.addedBatchIds),yield Ql(s,l.er)}var f}),yg.apply(this,arguments)}function Dh(i,t){const s=Ae(i),l=s.yc.get(t);if(l&&l.fc)return Hn().add(l.key);{let f=Hn();const g=s._c.get(t);if(!g)return f;for(const v of g){const A=s.wc.get(v);f=f.unionWith(A.view.nc)}return f}}function _g(i){const t=Ae(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ym.bind(null,t),t}class gl{constructor(){this.synchronizeTabs=!1}initialize(t){var s=this;return(0,_.A)(function*(){s.serializer=Wl(t.databaseInfo.databaseId),s.sharedClientState=s.createSharedClientState(t),s.persistence=s.createPersistence(t),yield s.persistence.start(),s.localStore=s.createLocalStore(t),s.gcScheduler=s.createGarbageCollectionScheduler(t,s.localStore),s.indexBackfillerScheduler=s.createIndexBackfillerScheduler(t,s.localStore)})()}createGarbageCollectionScheduler(t,s){return null}createIndexBackfillerScheduler(t,s){return null}createLocalStore(t){return Xp(this.persistence,new _f,t.initialUser,this.serializer)}createPersistence(t){return new mf(Tc.zs,this.serializer)}createSharedClientState(t){return new ja}terminate(){var t=this;return(0,_.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class md extends gl{constructor(t,s,l){super(),this.Vc=t,this.cacheSizeBytes=s,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(t){var s=()=>super.initialize,l=this;return(0,_.A)(function*(){yield s().call(l,t),yield l.Vc.initialize(l,t),yield _g(l.Vc.syncEngine),yield hd(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Xp(this.persistence,new _f,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,s){return new Ju(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,s)}createIndexBackfillerScheduler(t,s){const l=new Xg(s,this.persistence);return new Ry(t.asyncQueue,l)}createPersistence(t){const s=function sd(i,t){let s=i.projectId;return i.isDefaultDatabase||(s+="."+i.database),"firestore/"+t+"/"+s+"/"}(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new Gp(this.synchronizeTabs,s,t.clientId,l,t.asyncQueue,function hh(){return typeof window<"u"?window:null}(),cu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new ja}}class Yl{initialize(t,s){var l=this;return(0,_.A)(function*(){l.localStore||(l.localStore=t.localStore,l.sharedClientState=t.sharedClientState,l.datastore=l.createDatastore(s),l.remoteStore=l.createRemoteStore(s),l.eventManager=l.createEventManager(s),l.syncEngine=l.createSyncEngine(s,!t.synchronizeTabs),l.sharedClientState.onlineStateHandler=f=>pg(l.syncEngine,f,1),l.remoteStore.remoteSyncer.handleCredentialChange=D_.bind(null,l.syncEngine),yield function mh(i,t){return yh.apply(this,arguments)}(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Rc}createDatastore(t){const s=Wl(t.databaseInfo.databaseId),l=new Lm(t.databaseInfo);return new fh(t.authCredentials,t.appCheckCredentials,l,s)}createRemoteStore(t){return s=this.localStore,l=this.datastore,f=t.asyncQueue,g=A=>pg(this.syncEngine,A,0),v=ch.D()?new ch:new wf,new Bm(s,l,f,g,v);var s,l,f,g,v}createSyncEngine(t,s){return function(l,f,g,v,A,L,H){const se=new Da(l,f,g,v,A,L);return H&&(se.vc=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}terminate(){return(t=(0,_.A)(function*(s){const l=Ae(s);It("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield ph(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(s){return t.apply(this,arguments)})(this.remoteStore);var t}}class Zl{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):M("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,s){this.muted||setTimeout(()=>{this.muted||t(s)},0)}}class wv{constructor(t,s,l,f){var g=this;this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=l,this.databaseInfo=f,this.user=rs.UNAUTHENTICATED,this.clientId=Dr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var v=(0,_.A)(function*(A){It("FirestoreClient","Received user=",A.uid),yield g.authCredentialListener(A),g.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(l,v=>(It("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var t=this;return(0,_.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const s=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),s.resolve()}catch(l){const f=Kl(l,"Failed to shutdown persistence");s.reject(f)}})),s.promise}}function Ih(i,t){return vu.apply(this,arguments)}function vu(){return vu=(0,_.A)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const s=yield i.getConfiguration();yield t.initialize(s);let l=s.initialUser;i.setCredentialChangeListener(function(){var f=(0,_.A)(function*(g){l.isEqual(g)||(yield iv(t.localStore,g),l=g)});return function(g){return f.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}),vu.apply(this,arguments)}function Eg(i,t){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,_.A)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const s=yield function iy(i){return jf.apply(this,arguments)}(i);It("FirestoreClient","Initializing OnlineComponentProvider");const l=yield i.getConfiguration();yield t.initialize(s,l),i.setCredentialChangeListener(f=>gh(t.remoteStore,f)),i.setAppCheckTokenChangeListener((f,g)=>gh(t.remoteStore,g)),i._onlineComponents=t}),Fo.apply(this,arguments)}function wg(i){return"FirebaseError"===i.name?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function jf(){return jf=(0,_.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){It("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ih(i,i._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!wg(s))throw s;z("Error using user provided cache. Falling back to memory cache: "+s),yield Ih(i,new gl)}}else It("FirestoreClient","Using default OfflineComponentProvider"),yield Ih(i,new gl);return i._offlineComponents}),jf.apply(this,arguments)}function oy(i){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,_.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(It("FirestoreClient","Using user provided OnlineComponentProvider"),yield Eg(i,i._uninitializedComponentsProvider._online)):(It("FirestoreClient","Using default OnlineComponentProvider"),yield Eg(i,new Yl))),i._onlineComponents}),Dv.apply(this,arguments)}function bh(i){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,_.A)(function*(i){const t=yield oy(i),s=t.eventManager;return s.onListen=fg.bind(null,t.syncEngine),s.onUnlisten=gv.bind(null,t.syncEngine),s}),Hf.apply(this,arguments)}function uy(i){const t={};return void 0!==i.timeoutSeconds&&(t.timeoutSeconds=i.timeoutSeconds),t}const Iv=new Map;function Tv(i,t,s){if(!s)throw new ot(be.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function $a(i){if(!Bt.isDocumentKey(i))throw new ot(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wf(i){if(Bt.isDocumentKey(i))throw new ot(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(s=i).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof i?"a function":k()}function pr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ot(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=vd(i);throw new ot(be.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return i}class _u{constructor(t){var s,l;if(void 0===t.host){if(void 0!==t.ssl)throw new ot(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(s=t.ssl)||void 0===s||s;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ot(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function Mh(i,t,s,l){if(!0===t&&!0===l)throw new ot(be.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uy(null!==(l=t.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ot(be.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ot(be.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ot(be.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,s,l,f){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=l,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _u({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ot(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _u(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new In;switch(s.type){case"firstParty":return new Us(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Iv.get(t);s&&(It("ComponentProvider","Removing Datastore"),Iv.delete(t),s.terminate())}(this),Promise.resolve()}}class As{constructor(t,s,l){this.converter=s,this._key=l,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new As(this.firestore,t,this._key)}}class ls{constructor(t,s,l){this.converter=s,this._query=l,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class Zo extends ls{constructor(t,s,l){super(t,s,zc(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new As(this.firestore,null,new Bt(t))}withConverter(t){return new Zo(this.firestore,t,this._path)}}function Sv(i,t,...s){if(i=(0,U.Ku)(i),Tv("collection","path",t),i instanceof Ah){const l=br.fromString(t,...s);return Wf(l),new Zo(i,null,l)}{if(!(i instanceof As||i instanceof Zo))throw new ot(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(br.fromString(t,...s));return Wf(l),new Zo(i.firestore,null,l)}}function b_(i,t,...s){if(i=(0,U.Ku)(i),1===arguments.length&&(t=Dr.A()),Tv("doc","path",t),i instanceof Ah){const l=br.fromString(t,...s);return $a(l),new As(i,null,new Bt(l))}{if(!(i instanceof As||i instanceof Zo))throw new ot(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=i._path.child(br.fromString(t,...s));return $a(l),new As(i.firestore,i instanceof Zo?i.converter:null,new Bt(l))}}class Mv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Df(this,"async_queue_retry"),this.Xc=()=>{const s=cu();s&&It("AsyncQueue","Visibility state changed to "+s.visibilityState),this.qo.Mo()};const t=cu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const s=cu();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const s=new un;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,_.A)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(s){if(!Ml(s))throw s;It("AsyncQueue","Operation failed with retryable error: "+s)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const s=this.Gc.then(()=>(this.Hc=!0,t().catch(l=>{throw this.Wc=l,this.Hc=!1,M("INTERNAL UNHANDLED ERROR: ",function(g){let v=g.message||"";return g.stack&&(v=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),v}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=s,s}enqueueAfterDelay(t,s,l){this.Zc(),this.Yc.indexOf(t)>-1&&(s=0);const f=Hm.createAndSchedule(this,t,s,l,g=>this.na(g));return this.zc.push(f),f}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var t=this;return(0,_.A)(function*(){let s;do{s=t.Gc,yield s}while(s!==t.Gc)})()}ia(t){for(const s of this.zc)if(s.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((s,l)=>s.targetTimeMs-l.targetTimeMs);for(const s of this.zc)if(s.skipDelay(),"all"!==t&&s.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const s=this.zc.indexOf(t);this.zc.splice(s,1)}}function fy(i){return function(t){if("object"!=typeof t||null===t)return!1;const l=t;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(i)}class Hs extends Ah{constructor(t,s,l,f){super(t,s,l,f),this.type="firestore",this._queue=new Mv,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ko(this),this._firestoreClient.terminate()}}function A_(i,t){const s="object"==typeof i?i:(0,E.Sx)(),l="string"==typeof i?i:t||"(default)",f=(0,E.j6)(s,"firestore").getImmediate({identifier:l});if(!f._initialized){const g=(0,U.yU)("firestore");g&&function hy(i,t,s,l={}){var f;const g=(i=pr(i,Ah))._getSettings(),v=`${t}:${s}`;if("firestore.googleapis.com"!==g.host&&g.host!==v&&z("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},g),{host:v,ssl:!1})),l.mockUserToken){let A,L;if("string"==typeof l.mockUserToken)A=l.mockUserToken,L=rs.MOCK_USER;else{A=(0,U.Fy)(l.mockUserToken,null===(f=i._app)||void 0===f?void 0:f.options.projectId);const H=l.mockUserToken.sub||l.mockUserToken.user_id;if(!H)throw new ot(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new rs(H)}i._authCredentials=new Sr(new ur(A,L))}}(f,...g)}return f}function Kr(i){return i._firestoreClient||ko(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ko(i){var t,s,l;const f=i._freezeSettings(),g=(A=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new nl(i._databaseId,A,i._persistenceKey,(H=f).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,uy(H.experimentalLongPollingOptions),H.useFetchStreams));var A,H;i._firestoreClient=new wv(i._authCredentials,i._appCheckCredentials,i._queue,g),null!==(s=f.cache)&&void 0!==s&&s._offlineComponentProvider&&null!==(l=f.cache)&&void 0!==l&&l._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.cache.kind,_offline:f.cache._offlineComponentProvider,_online:f.cache._onlineComponentProvider})}function Eu(i,t){!function Pn(i){if(i._initialized||i._terminated)throw new ot(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=pr(i,Hs));const s=Kr(i);if(s._uninitializedComponentsProvider)throw new ot(be.FAILED_PRECONDITION,"SDK cache is already specified.");z("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=i._freezeSettings(),f=new Yl;return function Ha(i,t,s){const l=new un;return i.asyncQueue.enqueue((0,_.A)(function*(){try{yield Ih(i,s),yield Eg(i,t),l.resolve()}catch(f){const g=f;if(!wg(g))throw g;z("Error enabling indexeddb cache. Falling back to memory cache: "+g),l.reject(g)}})).then(()=>l.promise)}(s,f,new md(f,l.cacheSizeBytes,t?.forceOwnership))}class Jl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jl($i.fromBase64String(t))}catch(s){throw new ot(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new Jl($i.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ca{constructor(...t){for(let s=0;s<t.length;++s)if(0===t[s].length)throw new ot(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yl{constructor(t){this._methodName=t}}class wu{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new ot(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new ot(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const tc=/^__.*__$/;class R_{constructor(t,s,l){this.data=t,this.fieldMask=s,this.fieldTransforms=l}toMutation(t,s){return null!==this.fieldMask?new Qs(t,this.data,this.fieldMask,s,this.fieldTransforms):new ju(t,this.data,s,this.fieldTransforms)}}class x_{constructor(t,s,l){this.data=t,this.fieldMask=s,this.fieldTransforms=l}toMutation(t,s){return new Qs(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function P_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class bg{constructor(t,s,l,f,g,v){this.settings=t,this.databaseId=s,this.serializer=l,this.ignoreUndefinedProperties=f,void 0===g&&this.ua(),this.fieldTransforms=g||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var s;const l=null===(s=this.path)||void 0===s?void 0:s.child(t),f=this.aa({path:l,la:!1});return f.fa(t),f}da(t){var s;const l=null===(s=this.path)||void 0===s?void 0:s.child(t),f=this.aa({path:l,la:!1});return f.ua(),f}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return gy(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(s=>t.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>t.isPrefixOf(s.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(P_(this.ca)&&tc.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Nv{constructor(t,s,l){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=l||Wl(t)}ya(t,s,l,f=!1){return new bg({ca:t,methodName:s,ga:l,path:$r.emptyPath(),la:!1,ma:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jo(i){const t=i._freezeSettings(),s=Wl(i._databaseId);return new Nv(i._databaseId,!!t.ignoreUndefinedProperties,s)}function Rh(i,t,s,l,f,g={}){const v=i.ya(g.merge||g.mergeFields?2:0,t,s,f);Fv("Data must be an object, but it was:",v,l);const A=Ag(l,v);let L,H;if(g.merge)L=new xo(v.fieldMask),H=v.fieldTransforms;else if(g.mergeFields){const se=[];for(const Ce of g.mergeFields){const Ke=Gf(t,Ce,s);if(!v.contains(Ke))throw new ot(be.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);kv(se,Ke)||se.push(Ke)}L=new xo(se),H=v.fieldTransforms.filter(Ce=>L.covers(Ce.field))}else L=null,H=v.fieldTransforms;return new R_(new eo(A),L,H)}class Ed extends yl{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ed}}class Mg extends yl{_toFieldTransform(t){return new Po(t.path,new ys)}isEqual(t){return t instanceof Mg}}function Du(i,t){if(Og(i=(0,U.Ku)(i)))return Fv("Unsupported field value:",t,i),Ag(i,t);if(i instanceof yl)return function(s,l){if(!P_(l.ca))throw l._a(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(s,l){const f=[];let g=0;for(const v of s){let A=Du(v,l.wa(g));null==A&&(A={nullValue:"NULL_VALUE"}),f.push(A),g++}return{arrayValue:{values:f}}}(i,t)}return function(s,l){if(null===(s=(0,U.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return cm(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Jr.fromDate(s);return{timestampValue:zd(l.serializer,f)}}if(s instanceof Jr){const f=new Jr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zd(l.serializer,f)}}if(s instanceof wu)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jl)return{bytesValue:ym(l.serializer,s._byteString)};if(s instanceof As){const f=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(f))throw l._a(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Pp(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l._a(`Unsupported field value: ${vd(s)}`)}(i,t)}function Ag(i,t){const s={};return cc(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ol(i,(l,f)=>{const g=Du(f,t.ha(l));null!=g&&(s[l]=g)}),{mapValue:{fields:s}}}function Og(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Jr||i instanceof wu||i instanceof Jl||i instanceof As||i instanceof yl)}function Fv(i,t,s){if(!Og(s)||"object"!=typeof(l=s)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=vd(s);throw t._a("an object"===l?i+" a custom object":i+" "+l)}var l}function Gf(i,t,s){if((t=(0,U.Ku)(t))instanceof Ca)return t._internalPath;if("string"==typeof t)return Ng(i,t);throw gy("Field path arguments must be of type string or ",i,!1,void 0,s)}const F_=new RegExp("[~\\*/\\[\\]]");function Ng(i,t,s){if(t.search(F_)>=0)throw gy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Ca(...t.split("."))._internalPath}catch{throw gy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function gy(i,t,s,l,f){const g=l&&!l.isEmpty(),v=void 0!==f;let A=`Function ${t}() called with invalid data`;s&&(A+=" (via `toFirestore()`)"),A+=". ";let L="";return(g||v)&&(L+=" (found",g&&(L+=` in field ${l}`),v&&(L+=` in document ${f}`),L+=")"),new ot(be.INVALID_ARGUMENT,A+i+L)}function kv(i,t){return i.some(s=>s.isEqual(t))}class vo{constructor(t,s,l,f,g){this._firestore=t,this._userDataWriter=s,this._key=l,this._document=f,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new As(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new k_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(Rg("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s)}}}class k_ extends vo{data(){return super.data()}}function Rg(i,t){return"string"==typeof t?Ng(i,t):t instanceof Ca?t._internalPath:t._delegate._internalPath}function SE(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ot(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{convertValue(t,s="none"){switch(rl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Nl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 10:return this.convertObject(t.mapValue,s);default:throw k()}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const l={};return Ol(t,(f,g)=>{l[f]=this.convertValue(g,s)}),l}convertGeoPoint(t){return new wu(ai(t.latitude),ai(t.longitude))}convertArray(t,s){return(t.values||[]).map(l=>this.convertValue(l,s))}convertServerTimestamp(t,s){switch(s){case"previous":const l=xu(t);return null==l?null:this.convertValue(l,s);case"estimate":return this.convertTimestamp(uc(t));default:return null}}convertTimestamp(t){const s=yn(t);return new Jr(s.seconds,s.nanos)}convertDocumentKey(t,s){const l=br.fromString(t);Y(Zd(l));const f=new dc(l.get(1),l.get(3)),g=new Bt(l.popFirst(5));return f.isEqual(s)||M(`Document ${g} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),g}}class nc{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Id extends vo{constructor(t,s,l,f,g,v){super(t,s,l,f,v),this._firestore=t,this._firestoreImpl=t,this.metadata=g}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const l=this._document.data.field(Rg("DocumentSnapshot.get",t));if(null!==l)return this._userDataWriter.convertValue(l,s.serverTimestamps)}}}class Yf extends Id{data(t={}){return super.data(t)}}class Td{constructor(t,s,l,f){this._firestore=t,this._userDataWriter=s,this._snapshot=f,this.metadata=new nc(f.hasPendingWrites,f.fromCache),this.query=l}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,s){this._snapshot.docs.forEach(l=>{t.call(s,new Yf(this._firestore,this._userDataWriter,l.key,l,new nc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ot(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(v=>({type:"added",doc:new Yf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new nc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(v=>f||3!==v.type).map(v=>{const A=new Yf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new nc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let L=-1,H=-1;return 0!==v.type&&(L=g.indexOf(v.doc.key),g=g.delete(v.doc.key)),1!==v.type&&(g=g.add(v.doc),H=g.indexOf(v.doc.key)),{type:_y(v.type),doc:A,oldIndex:L,newIndex:H}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function _y(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}function Ey(i){i=pr(i,As);const t=pr(i.firestore,Hs);return function Cv(i,t,s={}){const l=new un;return i.asyncQueue.enqueueAndForget((0,_.A)(function*(){return function(f,g,v,A,L){const H=new Zl({next:Ce=>{g.enqueueAndForget(()=>zm(f,se));const Ke=Ce.docs.has(v);!Ke&&Ce.fromCache?L.reject(new ot(be.UNAVAILABLE,"Failed to get document because the client is offline.")):Ke&&Ce.fromCache&&A&&"server"===A.source?L.reject(new ot(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Ce)},error:Ce=>L.reject(Ce)}),se=new zl(zc(v.path),H,{includeMetadataChanges:!0,Ku:!0});return bf(f,se)}(yield bh(i),i.asyncQueue,t,s,l)})),l.promise}(Kr(t),i._key).then(s=>Pe(t,i,s))}class vl extends Bv{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jl(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new As(this.firestore,null,s)}}function a(i){i=pr(i,ls);const t=pr(i.firestore,Hs),s=Kr(t),l=new vl(t);return SE(i._query),function T_(i,t,s={}){const l=new un;return i.asyncQueue.enqueueAndForget((0,_.A)(function*(){return function(f,g,v,A,L){const H=new Zl({next:Ce=>{g.enqueueAndForget(()=>zm(f,se)),Ce.fromCache&&"server"===A.source?L.reject(new ot(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Ce)},error:Ce=>L.reject(Ce)}),se=new zl(v,H,{includeMetadataChanges:!0,Ku:!0});return bf(f,se)}(yield bh(i),i.asyncQueue,t,s,l)})),l.promise}(s,i._query).then(f=>new Td(t,l,i,f))}function b(i,t,s,...l){i=pr(i,As);const f=pr(i.firestore,Hs),g=Jo(f);let v;return v="string"==typeof(t=(0,U.Ku)(t))||t instanceof Ca?function Ph(i,t,s,l,f,g){const v=i.ya(1,t,s),A=[Gf(t,l,s)],L=[f];if(g.length%2!=0)throw new ot(be.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<g.length;Ke+=2)A.push(Gf(t,g[Ke])),L.push(g[Ke+1]);const H=[],se=eo.empty();for(let Ke=A.length-1;Ke>=0;--Ke)if(!kv(H,A[Ke])){const ft=A[Ke];let kt=L[Ke];kt=(0,U.Ku)(kt);const zt=v.da(ft);if(kt instanceof Ed)H.push(ft);else{const Xt=Du(kt,zt);null!=Xt&&(H.push(ft),se.set(ft,Xt))}}const Ce=new xo(H);return new x_(se,Ce,v.fieldTransforms)}(g,"updateDoc",i._key,t,s,l):function py(i,t,s,l){const f=i.ya(1,t,s);Fv("Data must be an object, but it was:",f,l);const g=[],v=eo.empty();Ol(l,(L,H)=>{const se=Ng(t,L,s);H=(0,U.Ku)(H);const Ce=f.da(se);if(H instanceof Ed)g.push(se);else{const Ke=Du(H,Ce);null!=Ke&&(g.push(se),v.set(se,Ke))}});const A=new xo(g);return new x_(v,A,f.fieldTransforms)}(g,"updateDoc",i._key,t),ge(f,[v.toMutation(i._key,vs.exists(!0))])}function P(i){return ge(pr(i.firestore,Hs),[new af(i._key,vs.none())])}function K(i,t){const s=pr(i.firestore,Hs),l=b_(i),f=function qf(i,t,s){let l;return l=i?s&&(s.merge||s.mergeFields)?i.toFirestore(t,s):i.toFirestore(t):t,l}(i.converter,t);return ge(s,[Rh(Jo(i.firestore),"addDoc",l._key,f,null!==i.converter,{}).toMutation(l._key,vs.exists(!1))]).then(()=>l)}function G(i,...t){var s,l,f;i=(0,U.Ku)(i);let g={includeMetadataChanges:!1},v=0;"object"!=typeof t[v]||fy(t[v])||(g=t[v],v++);const A={includeMetadataChanges:g.includeMetadataChanges};if(fy(t[v])){const Ce=t[v];t[v]=null===(s=Ce.next)||void 0===s?void 0:s.bind(Ce),t[v+1]=null===(l=Ce.error)||void 0===l?void 0:l.bind(Ce),t[v+2]=null===(f=Ce.complete)||void 0===f?void 0:f.bind(Ce)}let L,H,se;if(i instanceof As)H=pr(i.firestore,Hs),se=zc(i._key.path),L={next:Ce=>{t[v]&&t[v](Pe(H,i,Ce))},error:t[v+1],complete:t[v+2]};else{const Ce=pr(i,ls);H=pr(Ce.firestore,Hs),se=Ce._query;const Ke=new vl(H);L={next:ft=>{t[v]&&t[v](new Td(H,Ke,Ce,ft))},error:t[v+1],complete:t[v+2]},SE(i._query)}return function(Ce,Ke,ft,kt){const zt=new Zl(kt),Xt=new zl(Ke,zt,ft);return Ce.asyncQueue.enqueueAndForget((0,_.A)(function*(){return bf(yield bh(Ce),Xt)})),()=>{zt.Dc(),Ce.asyncQueue.enqueueAndForget((0,_.A)(function*(){return zm(yield bh(Ce),Xt)}))}}(Kr(H),se,A,L)}function ge(i,t){return function(s,l){const f=new un;return s.asyncQueue.enqueueAndForget((0,_.A)(function*(){return function _h(i,t,s){return gu.apply(this,arguments)}(yield function Dg(i){return oy(i).then(t=>t.syncEngine)}(s),l,f)})),f.promise}(Kr(i),t)}function Pe(i,t,s){const l=s.docs.get(t._key),f=new vl(i);return new Id(i,f,t._key,l,new nc(s.hasPendingWrites,s.fromCache),t.converter)}function gn(){return new Mg("serverTimestamp")}!function(i,t=!0){cr=E.MF,(0,E.om)(new ie.uA("firestore",(s,{instanceIdentifier:l,options:f})=>{const g=s.getProvider("app").getImmediate(),v=new Hs(new Tt(s.getProvider("auth-internal")),new da(s.getProvider("app-check-internal")),function(A,L){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new ot(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(A.options.projectId,L)}(g,l),g);return f=Object.assign({useFetchStreams:t},f),v._setSettings(f),v},"PUBLIC").setMultipleInstances(!0)),(0,E.KO)(Ui,"3.13.0",i),(0,E.KO)(Ui,"3.13.0","esm2017")}()},9687:(lt,he,C)=>{C.d(he,{q:()=>ie});var _=C(6129);class E{constructor(U,Q=E.now){this.schedulerActionCtor=U,this.now=Q}schedule(U,Q=0,X){return new this.schedulerActionCtor(this,U).schedule(X,Q)}}E.now=_.U.now;class ie extends E{constructor(U,Q=E.now){super(U,Q),this.actions=[],this._active=!1}flush(U){const{actions:Q}=this;if(this._active)return void Q.push(U);let X;this._active=!0;do{if(X=U.execute(U.state,U.delay))break}while(U=Q.shift());if(this._active=!1,X){for(;U=Q.shift();)U.unsubscribe();throw X}}}},9786:(lt,he,C)=>{C.d(he,{Y:()=>ie,l:()=>ee});var _=C(1026);let E=null;function ie(U){if(_.$.useDeprecatedSynchronousErrorHandling){const Q=!E;if(Q&&(E={errorThrown:!1,error:null}),U(),Q){const{errorThrown:X,error:W}=E;if(E=null,X)throw W}}else U()}function ee(U){_.$.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=U)}},9858:(lt,he,C)=>{C.d(he,{y:()=>E});var _=C(8071);function E(ie){return(0,_.T)(ie?.then)}},9898:(lt,he,C)=>{C.d(he,{B:()=>ie});var _=C(9974),E=C(4360);function ie(){return(0,_.N)((ee,U)=>{let Q=null;ee._refCount++;const X=(0,E._)(U,void 0,void 0,void 0,()=>{if(!ee||ee._refCount<=0||0<--ee._refCount)return void(Q=null);const W=ee._connection,ae=Q;Q=null,W&&(!ae||W===ae)&&W.unsubscribe(),U.unsubscribe()});ee.subscribe(X),X.closed||(Q=ee.connect())})}},9901:(lt,he,C)=>{C.d(he,{U:()=>ie});var _=C(9974),E=C(4360);function ie(ee){return(0,_.N)((U,Q)=>{let X=!1;U.subscribe((0,E._)(Q,W=>{X=!0,Q.next(W)},()=>{X||Q.next(ee),Q.complete()}))})}},9969:(lt,he,C)=>{C.d(he,{FX:()=>wn,If:()=>ie,K2:()=>W,MA:()=>Oe,Os:()=>X,P:()=>_e,S6:()=>Le,hZ:()=>U,i0:()=>Q,i7:()=>te,iF:()=>ae,kY:()=>ye,kp:()=>ee,sf:()=>Vt,ui:()=>Wt,wk:()=>q,yc:()=>He});var _=C(177),E=C(4438),ie=function(ut){return ut[ut.State=0]="State",ut[ut.Transition=1]="Transition",ut[ut.Sequence=2]="Sequence",ut[ut.Group=3]="Group",ut[ut.Animate=4]="Animate",ut[ut.Keyframes=5]="Keyframes",ut[ut.Style=6]="Style",ut[ut.Trigger=7]="Trigger",ut[ut.Reference=8]="Reference",ut[ut.AnimateChild=9]="AnimateChild",ut[ut.AnimateRef=10]="AnimateRef",ut[ut.Query=11]="Query",ut[ut.Stagger=12]="Stagger",ut}(ie||{});const ee="*";function U(ut,Ge){return{type:ie.Trigger,name:ut,definitions:Ge,options:{}}}function Q(ut,Ge=null){return{type:ie.Animate,styles:Ge,timings:ut}}function X(ut,Ge=null){return{type:ie.Group,steps:ut,options:Ge}}function W(ut,Ge=null){return{type:ie.Sequence,steps:ut,options:Ge}}function ae(ut){return{type:ie.Style,styles:ut,offset:null}}function q(ut,Ge,Ft){return{type:ie.State,name:ut,styles:Ge,options:Ft}}function te(ut){return{type:ie.Keyframes,steps:ut}}function ye(ut,Ge,Ft=null){return{type:ie.Transition,expr:ut,animation:Ge,options:Ft}}function Oe(ut=null){return{type:ie.AnimateChild,options:ut}}function _e(ut,Ge,Ft=null){return{type:ie.Query,selector:ut,animation:Ge,options:Ft}}function He(ut,Ge){return{type:ie.Stagger,timings:ut,animation:Ge}}let Le=(()=>{class ut{static \u0275fac=function(nn){return new(nn||ut)};static \u0275prov=E.jDH({token:ut,factory:()=>(0,E.WQX)(Et),providedIn:"root"})}return ut})();class mt{}let Et=(()=>{class ut extends Le{animationModuleType=(0,E.WQX)(E.bc$,{optional:!0});_nextAnimationId=0;_renderer;constructor(Ft,nn){if(super(),this._renderer=Ft.createRenderer(nn.body,{id:"0",encapsulation:E.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function jt(ut){const Ge=ut.\u0275type;return 0===Ge||1===Ge}(this._renderer))throw new E.wOt(3600,!1)}build(Ft){const nn=this._nextAnimationId;this._nextAnimationId++;const jn=Array.isArray(Ft)?W(Ft):Ft;return Ot(this._renderer,null,nn,"register",[jn]),new rt(nn,this._renderer)}static \u0275fac=function(nn){return new(nn||ut)(E.KVO(E._9s),E.KVO(_.DOCUMENT))};static \u0275prov=E.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();class rt extends mt{_id;_renderer;constructor(Ge,Ft){super(),this._id=Ge,this._renderer=Ft}create(Ge,Ft){return new tt(this._id,Ge,Ft||{},this._renderer)}}class tt{id;element;_renderer;parentPlayer=null;_started=!1;constructor(Ge,Ft,nn,jn){this.id=Ge,this.element=Ft,this._renderer=jn,this._command("create",nn)}_listen(Ge,Ft){return this._renderer.listen(this.element,`@@${this.id}:${Ge}`,Ft)}_command(Ge,...Ft){Ot(this._renderer,this.element,this.id,Ge,Ft)}onDone(Ge){this._listen("done",Ge)}onStart(Ge){this._listen("start",Ge)}onDestroy(Ge){this._listen("destroy",Ge)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(Ge){this._command("setPosition",Ge)}getPosition(){return function Mt(ut){const Ge=ut.\u0275type;return 0===Ge?ut:1===Ge?ut.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function Ot(ut,Ge,Ft,nn,jn){ut.setProperty(Ge,`@@${Ft}:${nn}`,jn)}class Vt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Ge=0,Ft=0){this.totalTime=Ge+Ft}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}onStart(Ge){this._originalOnStartFns.push(Ge),this._onStartFns.push(Ge)}onDone(Ge){this._originalOnDoneFns.push(Ge),this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ge){this._position=this.totalTime?Ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ge){const Ft="start"==Ge?this._onStartFns:this._onDoneFns;Ft.forEach(nn=>nn()),Ft.length=0}}class Wt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Ge){this.players=Ge;let Ft=0,nn=0,jn=0;const Or=this.players.length;0==Or?queueMicrotask(()=>this._onFinish()):this.players.forEach(es=>{es.onDone(()=>{++Ft==Or&&this._onFinish()}),es.onDestroy(()=>{++nn==Or&&this._onDestroy()}),es.onStart(()=>{++jn==Or&&this._onStart()})}),this.totalTime=this.players.reduce((es,Cr)=>Math.max(es,Cr.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}init(){this.players.forEach(Ge=>Ge.init())}onStart(Ge){this._onStartFns.push(Ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[])}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ge=>Ge.play())}pause(){this.players.forEach(Ge=>Ge.pause())}restart(){this.players.forEach(Ge=>Ge.restart())}finish(){this._onFinish(),this.players.forEach(Ge=>Ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ge=>Ge.destroy()),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this.players.forEach(Ge=>Ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ge){const Ft=Ge*this.totalTime;this.players.forEach(nn=>{const jn=nn.totalTime?Math.min(1,Ft/nn.totalTime):1;nn.setPosition(jn)})}getPosition(){const Ge=this.players.reduce((Ft,nn)=>null===Ft||nn.totalTime>Ft.totalTime?nn:Ft,null);return null!=Ge?Ge.getPosition():0}beforeDestroy(){this.players.forEach(Ge=>{Ge.beforeDestroy&&Ge.beforeDestroy()})}triggerCallback(Ge){const Ft="start"==Ge?this._onStartFns:this._onDoneFns;Ft.forEach(nn=>nn()),Ft.length=0}}const wn="!"},9974:(lt,he,C)=>{C.d(he,{N:()=>ie,S:()=>E});var _=C(8071);function E(ee){return(0,_.T)(ee?.lift)}function ie(ee){return U=>{if(E(U))return U.lift(function(Q){try{return ee(Q,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}}},lt=>{lt(lt.s=1813)}]);