"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[5849],{5666:(f,p,n)=>{n.d(p,{Z:()=>c});var m=n(1417),t=n(4438);let c=(()=>{class l extends m.u{constructor(){super(...arguments),this.basePath="voting",this.endpoint=""}static{this.\u0275fac=(()=>{let h;return function(d){return(h||(h=t.xGo(l)))(d||l)}})()}static{this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},5849:(f,p,n)=>{n.r(p),n.d(p,{default:()=>_});var m=n(5666),t=n(4438),c=n(9417),l=n(306),v=n(6880),h=n(8475);function u(e,r){if(1&e){const o=t.RV6();t.j41(0,"div",4),t.nrm(1,"input",9),t.j41(2,"app-theme-icon",10),t.bIt("click",function(){const s=t.eBV(o).$index,a=t.XpG();return t.Njj(a.remove(s))}),t.k0s()()}if(2&e){const o=r.$index;t.Y8G("formGroupName",o),t.R7$(),t.Mz_("placeholder","choice ",o+1,""),t.R7$(),t.Y8G("cursor",!0)}}let d=(()=>{class e{constructor(o){this.fb=o,this.votingService=(0,t.WQX)(m.Z),this.formInit()}formInit(){this.form=this.fb.group({createdBy:[""],title:["",c.k0.required],choices:this.fb.array([this.createChoice(),this.createChoice()])},{nonNullable:!0})}createChoice(){return this.fb.group({choice:["",c.k0.required]})}addChoice(){this.choices.push(this.createChoice())}get choices(){return this.form.get("choices")}remove(o){this.choices.removeAt(o)}create(){this.votingService.create(this.form.value).then(()=>{this.form.reset()})}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(c.ok))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-create-poll"]],decls:14,vars:5,consts:[[3,"shadow"],[3,"formGroup"],["placeholder","title","formControlName","title"],["formArrayName","choices"],[1,"choices",3,"formGroupName"],[1,"choices"],["name","add_circle","color","success",3,"click","cursor"],["app-theme-button","","color","success",3,"click","disabled"],["name","arrow_forward","color","success",3,"cursor"],["formControlName","choice",3,"placeholder"],["name","delete","color","red",3,"click","cursor"]],template:function(i,s){1&i&&(t.j41(0,"app-theme-semantic-card",0)(1,"h2"),t.EFF(2,"Create New Poll"),t.k0s(),t.j41(3,"form",1),t.nrm(4,"input",2),t.j41(5,"div",3),t.Z7z(6,u,3,4,"div",4,t.Vm6),t.j41(8,"div",5),t.nrm(9,"div"),t.j41(10,"app-theme-icon",6),t.bIt("click",function(){return s.addChoice()}),t.k0s()()(),t.j41(11,"button",7),t.bIt("click",function(){return s.create()}),t.EFF(12,"create "),t.nrm(13,"app-theme-icon",8),t.k0s()()()),2&i&&(t.Y8G("shadow","depth"),t.R7$(3),t.Y8G("formGroup",s.form),t.R7$(3),t.Dyx(s.choices.controls),t.R7$(4),t.Y8G("cursor",!0),t.R7$(),t.Y8G("disabled",s.form.invalid),t.R7$(2),t.Y8G("cursor",!0))},dependencies:[c.X1,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,c.$R,c.v8,h.FY,l.F,v.e],styles:["[_nghost-%COMP%]{display:grid;max-width:600px;margin:1rem auto}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:1rem}"]})}}return e})();var C=n(467),g=n(8120),P=n(4056),y=n(9079),F=n(8141),j=n(4554),$=n(1173),G=n(489);const R=(e,r)=>r.key;function T(e,r){1&e&&t.nrm(0,"app-theme-loader",0)}function x(e,r){if(1&e){const o=t.RV6();t.j41(0,"app-list-item",2),t.bIt("click",function(){const s=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.view(s))}),t.j41(1,"h3"),t.EFF(2),t.k0s()()}if(2&e){const o=r.$implicit;t.R7$(2),t.SpI(" ",o.title,"")}}function k(e,r){if(1&e&&(t.j41(0,"app-list",1),t.Z7z(1,x,3,1,"app-list-item",null,R),t.k0s()),2&e){const o=t.XpG();t.R7$(),t.Dyx(o.polls.value())}}function V(e,r){if(1&e){const o=t.RV6();t.j41(0,"div")(1,"app-theme-alert",3),t.EFF(2),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.polls.reload())}),t.EFF(4," realod "),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(),t.Y8G("dismissible",!1),t.R7$(),t.SpI(" ",o.polls.error()," ")}}let E=(()=>{class e{constructor(){this.votingService=(0,t.WQX)(m.Z),this.modelService=(0,t.WQX)(G.Bg),this.polls=(0,y.ZX)({loader:()=>this.votingService.get$().pipe((0,F.M)(console.log))})}view(o){var i=this;return(0,C.A)(function*(){const{PollViewComponent:s}=yield Promise.all([n.e(2076),n.e(1806)]).then(n.bind(n,1223));i.modelService.openWithComponent(s,{title:o.title,data:{id:o.key}}).subscribe(a=>{})})()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-poll-list"]],decls:5,vars:1,consts:[["spinSize","small"],["layout","autofit"],[3,"click"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","small",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"h2"),t.EFF(1,"Poll List"),t.k0s(),t.DNE(2,T,1,0,"app-theme-loader",0)(3,k,3,0,"app-list",1)(4,V,5,2,"div")),2&i&&(t.R7$(2),t.vxM(s.polls.isLoading()?2:s.polls.hasValue()?3:4))},dependencies:[g.s,P.P,j.C,$.F],styles:["h3[_ngcontent-%COMP%]:hover{color:var(--accent-color);cursor:pointer}"]})}}return e})(),_=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-voting"]],decls:2,vars:0,template:function(i,s){1&i&&t.nrm(0,"app-create-poll")(1,"app-poll-list")},dependencies:[d,E],styles:["[_nghost-%COMP%]{display:grid;gap:1rem}"]})}}return e})()}}]);