"use strict";var PI=Object.defineProperty,RI=Object.defineProperties,xI=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,NI=Object.prototype.hasOwnProperty,LI=Object.prototype.propertyIsEnumerable,V0=(Ce,ae,D)=>ae in Ce?PI(Ce,ae,{enumerable:!0,configurable:!0,writable:!0,value:D}):Ce[ae]=D,B0=(Ce,ae)=>{for(var D in ae||(ae={}))NI.call(ae,D)&&V0(Ce,D,ae[D]);if(U0)for(var D of U0(ae))LI.call(ae,D)&&V0(Ce,D,ae[D]);return Ce},j0=(Ce,ae)=>RI(Ce,xI(ae));(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[179],{2090:(Ce,ae,D)=>{D.d(ae,{BH:()=>ke,DV:()=>lr,G6:()=>ht,GJ:()=>Hr,L:()=>q,LL:()=>wr,P0:()=>mt,Pz:()=>qe,Sg:()=>Dt,UI:()=>ls,US:()=>de,Wl:()=>Ti,Yr:()=>St,ZR:()=>Ur,aH:()=>xt,b$:()=>Ze,cI:()=>dr,dS:()=>zn,eu:()=>Yt,g5:()=>ne,gK:()=>on,gQ:()=>br,h$:()=>re,hl:()=>Fn,hu:()=>S,m9:()=>yi,ne:()=>$e,p$:()=>Z,pd:()=>oi,q4:()=>je,r3:()=>xr,ru:()=>tt,tV:()=>he,uI:()=>Kt,ug:()=>$r,vZ:()=>Qt,w1:()=>et,w9:()=>Xr,xO:()=>Er,xb:()=>yr,z$:()=>Tt,zd:()=>Ki});const S=function(Re,Ae){if(!Re)throw ne(Ae)},ne=function(Re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Re)},H=function(Re){const Ae=[];let Be=0;for(let Et=0;Et<Re.length;Et++){let We=Re.charCodeAt(Et);We<128?Ae[Be++]=We:We<2048?(Ae[Be++]=We>>6|192,Ae[Be++]=63&We|128):55296==(64512&We)&&Et+1<Re.length&&56320==(64512&Re.charCodeAt(Et+1))?(We=65536+((1023&We)<<10)+(1023&Re.charCodeAt(++Et)),Ae[Be++]=We>>18|240,Ae[Be++]=We>>12&63|128,Ae[Be++]=We>>6&63|128,Ae[Be++]=63&We|128):(Ae[Be++]=We>>12|224,Ae[Be++]=We>>6&63|128,Ae[Be++]=63&We|128)}return Ae},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,Ae){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let We=0;We<Re.length;We+=3){const $t=Re[We],en=We+1<Re.length,Un=en?Re[We+1]:0,or=We+2<Re.length,Ar=or?Re[We+2]:0;let me=(15&Un)<<2|Ar>>6,Ue=63&Ar;or||(Ue=64,en||(me=64)),Et.push(Be[$t>>2],Be[(3&$t)<<4|Un>>4],Be[me],Be[Ue])}return Et.join("")},encodeString(Re,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(Re):this.encodeByteArray(H(Re),Ae)},decodeString(Re,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(Re):function(Re){const Ae=[];let Be=0,Et=0;for(;Be<Re.length;){const We=Re[Be++];if(We<128)Ae[Et++]=String.fromCharCode(We);else if(We>191&&We<224){const $t=Re[Be++];Ae[Et++]=String.fromCharCode((31&We)<<6|63&$t)}else if(We>239&&We<365){const or=((7&We)<<18|(63&Re[Be++])<<12|(63&Re[Be++])<<6|63&Re[Be++])-65536;Ae[Et++]=String.fromCharCode(55296+(or>>10)),Ae[Et++]=String.fromCharCode(56320+(1023&or))}else{const $t=Re[Be++],en=Re[Be++];Ae[Et++]=String.fromCharCode((15&We)<<12|(63&$t)<<6|63&en)}}return Ae.join("")}(this.decodeStringToByteArray(Re,Ae))},decodeStringToByteArray(Re,Ae){this.init_();const Be=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let We=0;We<Re.length;){const $t=Be[Re.charAt(We++)],Un=We<Re.length?Be[Re.charAt(We)]:0;++We;const Ar=We<Re.length?Be[Re.charAt(We)]:64;++We;const Se=We<Re.length?Be[Re.charAt(We)]:64;if(++We,null==$t||null==Un||null==Ar||null==Se)throw Error();Et.push($t<<2|Un>>4),64!==Ar&&(Et.push(Un<<4&240|Ar>>2),64!==Se&&Et.push(Ar<<6&192|Se))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}},re=function(Re){const Ae=H(Re);return de.encodeByteArray(Ae,!0)},q=function(Re){return re(Re).replace(/\./g,"")},he=function(Re){try{return de.decodeString(Re,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function Z(Re){return ee(void 0,Re)}function ee(Re,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return Ae}for(const Be in Ae)!Ae.hasOwnProperty(Be)||!le(Be)||(Re[Be]=ee(Re[Be],Ae[Be]));return Re}function le(Re){return"__proto__"!==Re}const Ge=()=>{try{return function Ne(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if("undefined"==typeof document)return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Be){return}const Ae=Re&&he(Re[1]);return Ae&&JSON.parse(Ae)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},je=Re=>{var Ae,Be;return null===(Be=null===(Ae=Ge())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===Be?void 0:Be[Re]},mt=Re=>{const Ae=je(Re);if(!Ae)return;const Be=Ae.lastIndexOf(":");if(Be<=0||Be+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const Et=parseInt(Ae.substring(Be+1),10);return"["===Ae[0]?[Ae.substring(1,Be-1),Et]:[Ae.substring(0,Be),Et]},xt=()=>{var Re;return null===(Re=Ge())||void 0===Re?void 0:Re.config},qe=Re=>{var Ae;return null===(Ae=Ge())||void 0===Ae?void 0:Ae[`_${Re}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,Be)=>{this.resolve=Ae,this.reject=Be})}wrapCallback(Ae){return(Be,Et)=>{Be?this.reject(Be):this.resolve(Et),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(Be):Ae(Be,Et))}}}function Dt(Re,Ae){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=Ae||"demo-project",We=Re.iat||0,$t=Re.sub||Re.user_id;if(!$t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const en=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:We,exp:We+3600,auth_time:We,sub:$t,user_id:$t,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[q(JSON.stringify({alg:"none",type:"JWT"})),q(JSON.stringify(en)),""].join(".")}function Tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Kt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function tt(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const Re=Tt();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function St(){return!1}function ht(){return!function Gt(){var Re;const Ae=null===(Re=Ge())||void 0===Re?void 0:Re.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Be){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fn(){try{return"object"==typeof indexedDB}catch(Re){return!1}}function Yt(){return new Promise((Re,Ae)=>{try{let Be=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",We=self.indexedDB.open(Et);We.onsuccess=()=>{We.result.close(),Be||self.indexedDB.deleteDatabase(Et),Re(!0)},We.onupgradeneeded=()=>{Be=!1},We.onerror=()=>{var $t;Ae((null===($t=We.error)||void 0===$t?void 0:$t.message)||"")}}catch(Be){Ae(Be)}})}class Ur extends Error{constructor(Ae,Be,Et){super(Be),this.code=Ae,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}}class wr{constructor(Ae,Be,Et){this.service=Ae,this.serviceName=Be,this.errors=Et}create(Ae,...Be){const Et=Be[0]||{},We=`${this.service}/${Ae}`,$t=this.errors[Ae],en=$t?function nr(Re,Ae){return Re.replace(Lr,(Be,Et)=>{const We=Ae[Et];return null!=We?String(We):`<${Et}?>`})}($t,Et):"Error";return new Ur(We,`${this.serviceName}: ${en} (${We}).`,Et)}}const Lr=/\{\$([^}]+)}/g;function dr(Re){return JSON.parse(Re)}function Ti(Re){return JSON.stringify(Re)}const gi=function(Re){let Ae={},Be={},Et={},We="";try{const $t=Re.split(".");Ae=dr(he($t[0])||""),Be=dr(he($t[1])||""),We=$t[2],Et=Be.d||{},delete Be.d}catch($t){}return{header:Ae,claims:Be,data:Et,signature:We}},Xr=function(Re){const Be=gi(Re).claims;return!!Be&&"object"==typeof Be&&Be.hasOwnProperty("iat")},Hr=function(Re){const Ae=gi(Re).claims;return"object"==typeof Ae&&!0===Ae.admin};function xr(Re,Ae){return Object.prototype.hasOwnProperty.call(Re,Ae)}function lr(Re,Ae){if(Object.prototype.hasOwnProperty.call(Re,Ae))return Re[Ae]}function yr(Re){for(const Ae in Re)if(Object.prototype.hasOwnProperty.call(Re,Ae))return!1;return!0}function ls(Re,Ae,Be){const Et={};for(const We in Re)Object.prototype.hasOwnProperty.call(Re,We)&&(Et[We]=Ae.call(Be,Re[We],We,Re));return Et}function Qt(Re,Ae){if(Re===Ae)return!0;const Be=Object.keys(Re),Et=Object.keys(Ae);for(const We of Be){if(!Et.includes(We))return!1;const $t=Re[We],en=Ae[We];if(mi($t)&&mi(en)){if(!Qt($t,en))return!1}else if($t!==en)return!1}for(const We of Et)if(!Be.includes(We))return!1;return!0}function mi(Re){return null!==Re&&"object"==typeof Re}function Er(Re){const Ae=[];for(const[Be,Et]of Object.entries(Re))Array.isArray(Et)?Et.forEach(We=>{Ae.push(encodeURIComponent(Be)+"="+encodeURIComponent(We))}):Ae.push(encodeURIComponent(Be)+"="+encodeURIComponent(Et));return Ae.length?"&"+Ae.join("&"):""}function Ki(Re){const Ae={};return Re.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[We,$t]=Et.split("=");Ae[decodeURIComponent(We)]=decodeURIComponent($t)}}),Ae}function oi(Re){const Ae=Re.indexOf("?");if(!Ae)return"";const Be=Re.indexOf("#",Ae);return Re.substring(Ae,Be>0?Be:void 0)}class br{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ae=1;Ae<this.blockSize;++Ae)this.pad_[Ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ae,Be){Be||(Be=0);const Et=this.W_;if("string"==typeof Ae)for(let Se=0;Se<16;Se++)Et[Se]=Ae.charCodeAt(Be)<<24|Ae.charCodeAt(Be+1)<<16|Ae.charCodeAt(Be+2)<<8|Ae.charCodeAt(Be+3),Be+=4;else for(let Se=0;Se<16;Se++)Et[Se]=Ae[Be]<<24|Ae[Be+1]<<16|Ae[Be+2]<<8|Ae[Be+3],Be+=4;for(let Se=16;Se<80;Se++){const me=Et[Se-3]^Et[Se-8]^Et[Se-14]^Et[Se-16];Et[Se]=4294967295&(me<<1|me>>>31)}let Ar,He,We=this.chain_[0],$t=this.chain_[1],en=this.chain_[2],Un=this.chain_[3],or=this.chain_[4];for(let Se=0;Se<80;Se++){Se<40?Se<20?(Ar=Un^$t&(en^Un),He=1518500249):(Ar=$t^en^Un,He=1859775393):Se<60?(Ar=$t&en|Un&($t|en),He=2400959708):(Ar=$t^en^Un,He=3395469782);const me=(We<<5|We>>>27)+Ar+or+He+Et[Se]&4294967295;or=Un,Un=en,en=4294967295&($t<<30|$t>>>2),$t=We,We=me}this.chain_[0]=this.chain_[0]+We&4294967295,this.chain_[1]=this.chain_[1]+$t&4294967295,this.chain_[2]=this.chain_[2]+en&4294967295,this.chain_[3]=this.chain_[3]+Un&4294967295,this.chain_[4]=this.chain_[4]+or&4294967295}update(Ae,Be){if(null==Ae)return;void 0===Be&&(Be=Ae.length);const Et=Be-this.blockSize;let We=0;const $t=this.buf_;let en=this.inbuf_;for(;We<Be;){if(0===en)for(;We<=Et;)this.compress_(Ae,We),We+=this.blockSize;if("string"==typeof Ae){for(;We<Be;)if($t[en]=Ae.charCodeAt(We),++en,++We,en===this.blockSize){this.compress_($t),en=0;break}}else for(;We<Be;)if($t[en]=Ae[We],++en,++We,en===this.blockSize){this.compress_($t),en=0;break}}this.inbuf_=en,this.total_+=Be}digest(){const Ae=[];let Be=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let We=this.blockSize-1;We>=56;We--)this.buf_[We]=255&Be,Be/=256;this.compress_(this.buf_);let Et=0;for(let We=0;We<5;We++)for(let $t=24;$t>=0;$t-=8)Ae[Et]=this.chain_[We]>>$t&255,++Et;return Ae}}function $e(Re,Ae){const Be=new Oe(Re,Ae);return Be.subscribe.bind(Be)}class Oe{constructor(Ae,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{Ae(this)}).catch(Et=>{this.error(Et)})}next(Ae){this.forEachObserver(Be=>{Be.next(Ae)})}error(Ae){this.forEachObserver(Be=>{Be.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,Be,Et){let We;if(void 0===Ae&&void 0===Be&&void 0===Et)throw new Error("Missing Observer.");We=function nt(Re,Ae){if("object"!=typeof Re||null===Re)return!1;for(const Be of Ae)if(Be in Re&&"function"==typeof Re[Be])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:Be,complete:Et},void 0===We.next&&(We.next=pt),void 0===We.error&&(We.error=pt),void 0===We.complete&&(We.complete=pt);const $t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?We.error(this.finalError):We.complete()}catch(en){}}),this.observers.push(We),$t}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,Ae)}sendOne(Ae,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{Be(this.observers[Ae])}catch(Et){"undefined"!=typeof console&&console.error&&console.error(Et)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pt(){}function on(Re,Ae){return`${Re} failed: ${Ae} argument `}const zn=function(Re){const Ae=[];let Be=0;for(let Et=0;Et<Re.length;Et++){let We=Re.charCodeAt(Et);if(We>=55296&&We<=56319){const $t=We-55296;Et++,S(Et<Re.length,"Surrogate pair missing trail surrogate."),We=65536+($t<<10)+(Re.charCodeAt(Et)-56320)}We<128?Ae[Be++]=We:We<2048?(Ae[Be++]=We>>6|192,Ae[Be++]=63&We|128):We<65536?(Ae[Be++]=We>>12|224,Ae[Be++]=We>>6&63|128,Ae[Be++]=63&We|128):(Ae[Be++]=We>>18|240,Ae[Be++]=We>>12&63|128,Ae[Be++]=We>>6&63|128,Ae[Be++]=63&We|128)}return Ae},$r=function(Re){let Ae=0;for(let Be=0;Be<Re.length;Be++){const Et=Re.charCodeAt(Be);Et<128?Ae++:Et<2048?Ae+=2:Et>=55296&&Et<=56319?(Ae+=4,Be++):Ae+=3}return Ae};function yi(Re){return Re&&Re._delegate?Re._delegate:Re}},2348:(Ce,ae,D)=>{D.d(ae,{t:()=>le});var f=D(1135),S=D(2843),ne=D(3900),H=D(9646),Q=D(6805),re=D(262),q=D(8505),he=D(4004),Z=D(5e3),ee=D(520);let le=(()=>{class Ne{constructor(Ie){this.http=Ie,this.alertSubject=new f.X(null),this.alertObservable=this.alertSubject.asObservable()}getUser(Ie){return this.http.get(`https://jsonplaceholder.typicode.com/users/${Ie}`).pipe((0,re.K)(ze=>(0,S._)(ze)))}getToDo(Ie){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${Ie}`).pipe((0,re.K)(ze=>(0,S._)(ze)))}setUser(Ie){console.log(Ie)}setToDos(Ie){console.log(Ie)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,ne.w)(Ie=>(this.setUser(Ie),this.getToDo(Ie.id).pipe((0,q.b)(ze=>this.setToDos(ze))))),(0,re.K)(Ie=>(this.alertSubject.next(Ie),(0,H.of)(Ie))))}initialiseAppUsingPromises(){return function de(Ne,Ke){const Ie="object"==typeof Ke;return new Promise((ze,Ge)=>{let mt,je=!1;Ne.subscribe({next:xt=>{mt=xt,je=!0},error:Ge,complete:()=>{je?ze(mt):Ie?ze(Ke.defaultValue):Ge(new Q.K)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,he.U)(Ie=>Ie))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,he.U)(Ie=>Ie))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,he.U)(Ie=>Ie))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,he.U)(Ie=>Ie))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,he.U)(Ie=>Ie))}}return Ne.\u0275fac=function(Ie){return new(Ie||Ne)(Z.LFG(ee.eN))},Ne.\u0275prov=Z.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},4070:(Ce,ae,D)=>{D.d(ae,{g:()=>Q});var f=D(1135),S=D(8646),ne=D(8343),H=D(5e3);let Q=(()=>{class de{constructor(){this._notification=new f.X(null),this.notification$=this._notification.asObservable().pipe((0,S.n)(),(0,ne.x)())}notify(q){this._notification.next(q),setTimeout(()=>this._notification.next(null),3e3)}}return de.\u0275fac=function(q){return new(q||de)},de.\u0275prov=H.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},8285:(Ce,ae,D)=>{D.d(ae,{Y:()=>ne});var f=D(5e3),S=(()=>{return(H=S||(S={}))[H.slideToLeft=1]="slideToLeft",H[H.slideToRight=2]="slideToRight",H[H.slideToTop=3]="slideToTop",H[H.slideToBottom=4]="slideToBottom",S;var H})();let ne=(()=>{class H{constructor(){this.routeAnimation=null}setRouteAnimation(de){this.routeAnimation=S[de]}get currentRouteAnimation(){return this.routeAnimation}}return H.\u0275fac=function(de){return new(de||H)},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},2088:(Ce,ae,D)=>{D.d(ae,{s:()=>ne});var f=D(5e3),S=D(520);let ne=(()=>{class H{constructor(de){this.http=de}login(de,re){return this.http.post("login",{username:de,password:re})}getProducts(){return this.http.get("products",{headers:{}})}}return H.\u0275fac=function(de){return new(de||H)(f.LFG(S.eN))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},4657:(Ce,ae,D)=>{D.d(ae,{e:()=>Q});var f=D(1135),S=D(8505),ne=D(5e3),H=D(2088);let Q=(()=>{class de{constructor(q){this.apiService=q,this._isLoggedIn$=new f.X(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(q,he){return this.apiService.login(q,he).pipe((0,S.b)(Z=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,Z.token),this.user=this.getUser(Z.token)}))}getUser(q){return q?JSON.parse(atob(q.split(".")[1])):null}hasRole(q){var he;return(null===(he=this.user)||void 0===he?void 0:he.Role.includes(q))||!1}}return de.\u0275fac=function(q){return new(q||de)(ne.LFG(H.s))},de.\u0275prov=ne.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},3922:(Ce,ae,D)=>{D.d(ae,{b:()=>S});const S=new(D(5e3).OlP)("logger",{factory:()=>({log:ne=>console.log(`DEFAULT ${ne}`),info:ne=>console.info(`DEFAULT ${ne}`)})})},7637:(Ce,ae,D)=>{D.d(ae,{u:()=>f});class f{}},9155:(Ce,ae,D)=>{D.d(ae,{Yk:()=>f,wJ:()=>S});var f=(()=>{return(H=f||(f={})).Clear="Clear",H.Snow="Snow",H.Rain="Rain",H.Clouds="Clouds",H.Thunderstorm="Thunderstorm",H.Atmosphere="Atmosphere",H.Drizzle="Drizzle",H.Unknown="Unknown",f;var H})();function S(H){return(new Map).set("Thunderstorm",f.Thunderstorm).set("Drizzle",f.Drizzle).set("Rain",f.Rain).set("Snow",f.Snow).set("Atmosphere",f.Atmosphere).set("Clouds",f.Clouds).set("Clear",f.Clear).get(H.main)||f.Unknown}},3562:(Ce,ae,D)=>{D.d(ae,{F:()=>H});var f=D(197),S=D(5e3),ne=D(520);let H=(()=>{class Q{constructor(re){this.http=re,this.apiUrl=`${f.w.databaseURL}/2023`}post(re,q){return this.http.post(`${this.apiUrl}/${re}`,q)}get(re){return this.http.get(`${this.apiUrl}/${re}`,{params:{orderBy:"$key"}})}delete(re){return this.http.delete(`${this.apiUrl}/${re}`)}put(re,q){return this.http.put(`${this.apiUrl}/${re}`,q)}patch(re,q){return this.http.patch(`${this.apiUrl}/${re}`,q)}}return Q.\u0275fac=function(re){return new(re||Q)(S.LFG(ne.eN))},Q.\u0275prov=S.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},3747:(Ce,ae,D)=>{D.d(ae,{$0:()=>de,$f:()=>H,$s:()=>Q,GO:()=>S,HD:()=>re,JW:()=>ee,Xt:()=>Ne,hS:()=>le,m0:()=>ne,mm:()=>Z,n3:()=>q,rc:()=>he});var f=D(5094);const S=(0,f.PH)("[ARTICLE] Show All"),ne=(0,f.PH)("[ARTICLE] Show All Success",(0,f.Ky)()),H=(0,f.PH)("[ARTICLE] Create",(0,f.Ky)()),Q=(0,f.PH)("[ARTICLE] Create Success",(0,f.Ky)()),de=(0,f.PH)("[ARTICLE] Create Failure",(0,f.Ky)()),re=(0,f.PH)("[ARTICLE] Get by Id",(0,f.Ky)()),q=(0,f.PH)("[ARTICLE] Get by Id Success",(0,f.Ky)()),he=(0,f.PH)("[ARTICLE] Reset"),Z=(0,f.PH)("[Product] Add to cart",(0,f.Ky)()),ee=(0,f.PH)("[Product] Remove from cart",(0,f.Ky)()),le=(0,f.PH)("[Products] Load items from server"),Ne=(0,f.PH)("[Products] Load success",(0,f.Ky)())},6013:(Ce,ae,D)=>{D.d(ae,{FC:()=>he,N5:()=>Ke,Zz:()=>q,kk:()=>Ne,ll:()=>Ie});var f=D(5094),S=D(3747);const Q=(0,f.Lq)({articles:[],message:""},(0,f.on)(S.m0,(ze,{payload:Ge})=>({articles:Ge,message:"Success"})),(0,f.on)(S.$s,(ze,{payload:Ge})=>({articles:[Ge],message:"Article Created."})),(0,f.on)(S.$0,(ze,{payload:Ge})=>({articles:[],message:Ge})),(0,f.on)(S.n3,(ze,{payload:Ge})=>({articles:Ge,message:"Success"})),(0,f.on)(S.rc,ze=>({articles:[],message:""}))),re=(0,f.ZF)("articleState"),q=(0,f.P1)(re,ze=>ze.articles),he=(0,f.P1)(re,ze=>ze.message),Z=(0,f.Lq)({products:[],cart:[]},(0,f.on)(S.Xt,(ze,{payload:Ge})=>Object.assign(Object.assign({},ze),{products:Ge})),(0,f.on)(S.mm,(ze,{payload:Ge})=>Object.assign(Object.assign({},ze),{cart:[...ze.cart,Ge]})),(0,f.on)(S.JW,(ze,{payload:Ge})=>Object.assign(Object.assign({},ze),{cart:[...ze.cart.filter(je=>je.name!==Ge.name)]}))),le=(0,f.ZF)("productState1"),Ne=(0,f.P1)(le,ze=>ze.products),Ke=(0,f.P1)(le,ze=>ze.cart),Ie={articleState:function de(ze,Ge){return Q(ze,Ge)},productState1:function ee(ze,Ge){return Z(ze,Ge)}}},4466:(Ce,ae,D)=>{D.d(ae,{m:()=>Q});var f=D(9808),S=D(3075),ne=D(4202),H=D(5e3);let Q=(()=>{class de{}return de.\u0275fac=function(q){return new(q||de)},de.\u0275mod=H.oAB({type:de}),de.\u0275inj=H.cJS({imports:[f.ez,ne.Bz,S.u5,S.UX,S.u5,S.UX]}),de})()},9884:(Ce,ae,D)=>{D.d(ae,{y:()=>ne});var f=D(7579),S=D(1135);class ne{constructor(Q){this.reducer=Q,this.action=new f.x;const de={type:"@ngrx/store/init"},re=Q(void 0,de);this.state=new S.X(re),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(de)}dispatch(Q){const de=this.state.getValue(),re=this.reducer(de,Q);this.state.next(re),this.action.next(Q)}}},8625:(Ce,ae,D)=>{D.d(ae,{IH:()=>Q,Mj:()=>H,nP:()=>ne,zD:()=>de});var f=D(5094),S=(()=>{return(re=S||(S={})).INCREMENT="Increment Article",re.DECREMENT="Decrememnt Article",re.ADD="Add Article",re.LOAD="Load Articles",S;var re})();const ne=(0,f.PH)(S.INCREMENT,(0,f.Ky)()),H=(0,f.PH)(S.DECREMENT,(0,f.Ky)()),Q=(0,f.PH)(S.ADD,(0,f.Ky)()),de=(0,f.PH)(S.LOAD)},7369:(Ce,ae,D)=>{D.d(ae,{Jl:()=>de,UN:()=>ne});var f=D(5094),S=D(8625);const ne="article",Q=(0,f.Lq)({articles:[]},(0,f.on)(S.nP,(re,q)=>Object.assign(Object.assign({},re),{articles:re.articles.map(he=>he.id==q.id?Object.assign(Object.assign({},he),{points:he.points+1}):he)})),(0,f.on)(S.Mj,(re,q)=>Object.assign(Object.assign({},re),{articles:re.articles.map(he=>he.id==q.id?Object.assign(Object.assign({},he),{points:he.points-1}):he)})),(0,f.on)(S.IH,(re,{payload:q})=>Object.assign(Object.assign({},re),{articles:[...re.articles,q]})));function de(re,q){return Q(re,q)}},3550:(Ce,ae,D)=>{D.d(ae,{T:()=>q});var f=D(5094),S=D(8625),ne=D(7369);const H=(0,f.ZF)(ne.UN),Q=(0,f.P1)(H,he=>he.articles);class de{constructor(Z,ee,le,Ne){this.id=Z,this.title=ee,this.link=le,this.points=Ne||0,this.time=new Date}}var re=D(5e3);let q=(()=>{class he{constructor(ee){this.store=ee,this.id=0}getArticle(){return this.store.pipe((0,f.Ys)(Q))}incArticle(ee){this.store.dispatch(S.nP(ee))}decArticle(ee){this.store.dispatch(S.Mj(ee))}addArticle(ee){let le=new de(++this.id,ee.title,ee.link,0);this.store.dispatch(S.IH({payload:le}))}loadArticle(ee){this.store.dispatch(S.zD())}}return he.\u0275fac=function(ee){return new(ee||he)(re.LFG(f.yh))},he.\u0275prov=re.Yz7({token:he,factory:he.\u0275fac}),he})()},5054:(Ce,ae,D)=>{D.d(ae,{e:()=>re});var f=D(5094),S=D(4579),ne=D(2852);const H=(0,f.ZF)(ne.UN),Q=(0,f.P1)(H,q=>q.count);var de=D(5e3);let re=(()=>{class q{constructor(Z){this.store=Z}getCount(){return this.store.pipe((0,f.Ys)(Q))}incrementCount(){this.store.dispatch(S.nP())}decrementCount(){this.store.dispatch(S.Mj())}resetCount(){this.store.dispatch(S.mc())}setValue(Z){this.store.dispatch(S.Zf({newValue:Z}))}loadValue(){this.store.dispatch(S.zK())}}return q.\u0275fac=function(Z){return new(Z||q)(de.LFG(f.yh))},q.\u0275prov=de.Yz7({token:q,factory:q.\u0275fac}),q})()},4579:(Ce,ae,D)=>{D.d(ae,{Mj:()=>H,Zf:()=>de,mc:()=>Q,nP:()=>ne,zK:()=>re});var f=D(5094),S=(()=>{return(q=S||(S={})).INCREMENT="[Counter Component] Increment",q.DECREMENT="[Counter Component] Decrement",q.RESET="[Counter Component] Reset",q.SETVALUE="[Counter Component] Set Value",q.LOADVALUE="[Counter Component] Load Value",S;var q})();const ne=(0,f.PH)(S.INCREMENT),H=(0,f.PH)(S.DECREMENT),Q=(0,f.PH)(S.RESET),de=(0,f.PH)(S.SETVALUE,(0,f.Ky)()),re=(0,f.PH)(S.LOADVALUE)},2852:(Ce,ae,D)=>{D.d(ae,{UN:()=>ne,jX:()=>de});var f=D(5094),S=D(4579);const ne="counter",Q=(0,f.Lq)({count:0},(0,f.on)(S.nP,re=>Object.assign(Object.assign({},re),{count:re.count+1})),(0,f.on)(S.Mj,re=>Object.assign(Object.assign({},re),{count:re.count-1})),(0,f.on)(S.mc,re=>Object.assign(Object.assign({},re),{count:0})),(0,f.on)(S.Zf,(re,q)=>Object.assign(Object.assign({},re),{count:q.newValue})));function de(re,q){return Q(re,q)}},2542:(Ce,ae,D)=>{D.d(ae,{F3:()=>H,WU:()=>Q,mu:()=>ne});var f=D(5094),S=(()=>{return(de=S||(S={})).loadData="[loadData] load",de.loadDataSuccess="[loadData] success",de.loadDataFailure="[loadData] failure",S;var de})();const ne=(0,f.PH)(S.loadData),H=(0,f.PH)(S.loadDataSuccess,(0,f.Ky)()),Q=(0,f.PH)(S.loadDataFailure,(0,f.Ky)())},3880:(Ce,ae,D)=>{D.d(ae,{B5:()=>de,UN:()=>ne});var f=D(5094),S=D(2542);const ne="load-data",Q=(0,f.Lq)({data:null,loading:!1,error:null},(0,f.on)(S.mu,re=>Object.assign(Object.assign({},re),{loading:!0})),(0,f.on)(S.F3,(re,{payload:q})=>Object.assign(Object.assign({},re),{loading:!1,data:q})),(0,f.on)(S.WU,(re,{payload:q})=>Object.assign(Object.assign({},re),{loading:!1,error:q})));function de(re,q){return Q(re,q)}},9610:(Ce,ae,D)=>{D.d(ae,{L:()=>re});var f=D(5094),S=D(3880);const ne=(0,f.ZF)(S.UN),H=(0,f.P1)(ne,q=>q.data);var Q=D(2542),de=D(5e3);let re=(()=>{class q{constructor(Z){this.store=Z}getData(){return this.store.pipe((0,f.Ys)(H))}loadData(){this.store.dispatch(Q.mu())}loadDataSuccess(Z){this.store.dispatch(Q.F3(Z))}loadDataFailure(Z){this.store.dispatch(Q.WU(Z))}}return q.\u0275fac=function(Z){return new(Z||q)(de.LFG(f.yh))},q.\u0275prov=de.Yz7({token:q,factory:q.\u0275fac}),q})()},7403:(Ce,ae,D)=>{D.d(ae,{a:()=>Q});var f=D(4004),S=D(5e3),ne=D(520);let Q=(()=>{class de{constructor(q){this.http=q}register(q){return this.http.post("https://conduit.productionready.io/api/users",q).pipe((0,f.U)(he=>he.user))}}return de.\u0275fac=function(q){return new(q||de)(S.LFG(ne.eN))},de.\u0275prov=S.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},2766:(Ce,ae,D)=>{D.d(ae,{Pw:()=>H,_0:()=>ne,zH:()=>Q});var f=D(5094),S=(()=>{return(de=S||(S={})).REGISTER="[AUTH] REGISTER",de.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",de.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",S;var de})();const ne=(0,f.PH)(S.REGISTER,(0,f.Ky)()),H=(0,f.PH)(S.REGISTER_SUCCESS,(0,f.Ky)()),Q=(0,f.PH)(S.REGISTER_FAILURE,(0,f.Ky)())},5650:(Ce,ae,D)=>{D.d(ae,{UN:()=>H,xw:()=>de});var f=D(5094),S=D(2766);const H="Register",Q=(0,f.Lq)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,f.on)(S._0,re=>Object.assign(Object.assign({},re),{isSubmitting:!0,validationErrors:null})),(0,f.on)(S.Pw,(re,q)=>Object.assign(Object.assign({},re),{isSubmitting:!1,isLoggedIn:!0,currentUser:q.currentUser})),(0,f.on)(S.zH,(re,q)=>Object.assign(Object.assign({},re),{isSubmitting:!1,validationErrors:q.errors})));function de(re,q){return Q(re,q)}},4964:(Ce,ae,D)=>{D.d(ae,{q:()=>q});var f=D(5094),S=D(2766),ne=D(5650);const H=(0,f.ZF)(ne.UN),Q=(0,f.P1)(H,he=>he.isSubmitting),de=(0,f.P1)(H,he=>he.validationErrors);var re=D(5e3);let q=(()=>{class he{constructor(ee){this.store=ee}register(ee){this.store.dispatch((0,S._0)(ee))}isSubmitting(){return this.store.pipe((0,f.Ys)(Q))}backendErrors(){return this.store.pipe((0,f.Ys)(de))}}return he.\u0275fac=function(ee){return new(ee||he)(re.LFG(f.yh))},he.\u0275prov=re.Yz7({token:he,factory:he.\u0275fac}),he})()},817:(Ce,ae,D)=>{D.d(ae,{N2:()=>Q,Ni:()=>H,PR:()=>ne});var f=D(5094),S=(()=>{return(de=S||(S={})).GET_USER="[User] Get User",de.GET_USER_SUCCESS="[User] Get User Success",de.GET_USER_FAILED="[User] Get User Failed",S;var de})();const ne=(0,f.PH)(S.GET_USER),H=(0,f.PH)(S.GET_USER_SUCCESS,(0,f.Ky)()),Q=(0,f.PH)(S.GET_USER_FAILED,(0,f.Ky)())},173:(Ce,ae,D)=>{D.d(ae,{U:()=>H,M:()=>de});var f=D(5094),ne=D(817);const H="user_info",Q=(0,f.Lq)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,f.on)(ne.Ni,(re,{user:q})=>Object.assign(Object.assign({},re),{user:q,error:null})),(0,f.on)(ne.N2,(re,{error:q})=>Object.assign(Object.assign({},re),{user:{userId:null,name:null,lastName:null,email:null},error:q})));function de(re,q){return Q(re,q)}},2842:(Ce,ae,D)=>{D.d(ae,{p:()=>re});var f=D(5094),S=D(817),ne=D(173);const H=(0,f.ZF)(ne.U),Q=(0,f.P1)(H,q=>q.user);var de=D(5e3);let re=(()=>{class q{constructor(Z){this.store=Z}userInfo$(){return this.store.pipe((0,f.Ys)(Q))}getUserInfo(){this.store.dispatch(S.PR())}}return q.\u0275fac=function(Z){return new(Z||q)(de.LFG(f.yh))},q.\u0275prov=de.Yz7({token:q,factory:q.\u0275fac}),q})()},2340:(Ce,ae,D)=>{D.d(ae,{N:()=>S});var f=D(197);const S={production:!0,version:D(4147).i8,firebaseConfig:f.w}},197:(Ce,ae,D)=>{D.d(ae,{w:()=>f});const f={apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432",auth_Token:"kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc"}},78:(Ce,ae,D)=>{var f=D(2313),S=D(5e3),ne=D(5861),H=D(4202),Q=D(1777);const de=[(0,Q.IO)(":enter, :leave",(0,Q.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Q.IO)(":leave",(0,Q.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,Q.IO)(":enter",(0,Q.oB)({transform:"translateX(100%)"}),{optional:!0}),(0,Q.ru)([(0,Q.IO)(":leave",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateX(-100%)"}))],{optional:!0}),(0,Q.IO)(":enter",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateX(0%)"}))],{optional:!0})])],re=[(0,Q.IO)(":enter, :leave",(0,Q.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Q.IO)(":leave",(0,Q.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,Q.IO)(":enter",(0,Q.oB)({transform:"translateX(-100%)"}),{optional:!0}),(0,Q.ru)([(0,Q.IO)(":leave",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateX(100%)"}))],{optional:!0}),(0,Q.IO)(":enter",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateX(0%)"}))],{optional:!0})])],q=[(0,Q.IO)(":enter, :leave",(0,Q.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Q.IO)(":leave",(0,Q.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,Q.IO)(":enter",(0,Q.oB)({transform:"translateY(100%)"}),{optional:!0}),(0,Q.ru)([(0,Q.IO)(":leave",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateY(-100%)"}))],{optional:!0}),(0,Q.IO)(":enter",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateY(0%)"}))],{optional:!0})])],he=[(0,Q.IO)(":enter, :leave",(0,Q.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Q.IO)(":leave",(0,Q.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,Q.IO)(":enter",(0,Q.oB)({transform:"translateY(-100%)"}),{optional:!0}),(0,Q.ru)([(0,Q.IO)(":leave",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateY(100%)"}))],{optional:!0}),(0,Q.IO)(":enter",[(0,Q.jt)(".3s ease-in-out",(0,Q.oB)({transform:"translateY(0%)"}))],{optional:!0})])],Z=(0,Q.X$)("slideTransition",[(0,Q.eR)("* => slideToLeft",de),(0,Q.eR)("* => slideToRight",re),(0,Q.eR)("* => slideToTop",q),(0,Q.eR)("* => slideToBottom",he)]);var ee=D(8285),le=D(9808);function Ne(I,E){if(1&I&&(S.TgZ(0,"li",11)(1,"a",12),S._uU(2),S.qZA()()),2&I){const y=E.$implicit;S.xp6(1),S.Q6J("routerLink",null==y?null:y.path),S.xp6(1),S.Oqu((null==y?null:y.name)||(null==y?null:y.path))}}function Ke(I,E){if(1&I&&(S.TgZ(0,"a",13),S._uU(1),S.qZA()),2&I){const y=E.$implicit;S.xp6(1),S.Oqu(y)}}const Ie=function(){return["navbar-dark","bg-dark"]},ze=function(){return["navbar-light","bg-light"]},Ge=function(I){return{show:I}};let je=(()=>{class I{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(y,R){1&y&&(S.TgZ(0,"nav",0)(1,"a",1),S._uU(2,"Navbar"),S.qZA(),S.TgZ(3,"button",2),S.NdJ("click",function(){return R.toggleNavbar()}),S._UZ(4,"span",3),S.qZA(),S.TgZ(5,"div",4)(6,"ul",5),S.YNc(7,Ne,3,2,"li",6),S.TgZ(8,"li",7),S.NdJ("click",function(){return R.show=!R.show}),S.TgZ(9,"a",8),S._uU(10,"Language"),S.qZA(),S.TgZ(11,"div",9),S.YNc(12,Ke,2,1,"a",10),S.qZA()()()()()),2&y&&(S.Q6J("ngClass","DARK"===R.template?S.DdM(6,Ie):S.DdM(7,ze)),S.xp6(5),S.Q6J("ngClass",S.VKq(8,Ge,R.isCollapsed)),S.xp6(2),S.Q6J("ngForOf",R.routes),S.xp6(4),S.ekj("show",R.show),S.xp6(1),S.Q6J("ngForOf",R.languages))},dependencies:[le.mk,le.sg,H.yS,H.Od],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0deg,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]}),I})();const xt=[{path:"application",loadChildren:()=>Promise.all([D.e(8592),D.e(612)]).then(D.bind(D,612)).then(I=>I.ApplicationModule)},{path:"personal",loadChildren:()=>Promise.all([D.e(2821),D.e(8592),D.e(3747)]).then(D.bind(D,3311)).then(I=>I.PersonalModule)},{path:"rktect",loadChildren:()=>Promise.all([D.e(8771),D.e(5)]).then(D.bind(D,6946)).then(I=>I.RktectModule)},{path:"audios",loadChildren:()=>Promise.all([D.e(4331),D.e(4859)]).then(D.bind(D,870)).then(I=>I.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([D.e(4331),D.e(1839)]).then(D.bind(D,1839)).then(I=>I.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([D.e(4331),D.e(433),D.e(8521)]).then(D.bind(D,8521)).then(I=>I.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([D.e(4331),D.e(7539)]).then(D.bind(D,7539)).then(I=>I.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([D.e(4331),D.e(3261)]).then(D.bind(D,3261)).then(I=>I.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([D.e(4331),D.e(8592),D.e(2672)]).then(D.bind(D,5682)).then(I=>I.CovidModule)},{path:"github",loadChildren:()=>Promise.all([D.e(4331),D.e(8592),D.e(8580)]).then(D.bind(D,8580)).then(I=>I.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([D.e(7807),D.e(8592),D.e(2737)]).then(D.bind(D,2737)).then(I=>I.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([D.e(4331),D.e(94)]).then(D.bind(D,94)).then(I=>I.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([D.e(4331),D.e(9045)]).then(D.bind(D,9045)).then(I=>I.MoviesModule)},{path:"encapsulating",loadChildren:()=>D.e(2792).then(D.bind(D,2792)).then(I=>I.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([D.e(4331),D.e(7968)]).then(D.bind(D,7968)).then(I=>I.SportsModule)},{path:"shop",loadChildren:()=>Promise.all([D.e(8592),D.e(4570)]).then(D.bind(D,4570)).then(I=>I.ShopModule)},{path:"store",loadChildren:()=>D.e(7668).then(D.bind(D,7668)).then(I=>I.StoreModule)},{path:"ngrx-store",loadChildren:()=>D.e(7257).then(D.bind(D,7257)).then(I=>I.NgrxStoreModule)},{path:"survey",loadChildren:()=>D.e(5200).then(D.bind(D,5200)).then(I=>I.SurveyPollVoterPridictionModule)},{path:"abstract-animation",loadChildren:()=>D.e(9396).then(D.bind(D,9396)).then(I=>I.AbstractAnimationModule)},{path:"animation-game",loadChildren:()=>D.e(6295).then(D.bind(D,6295)).then(I=>I.AnimationGameModule)},{path:"responsive-site",loadChildren:()=>D.e(210).then(D.bind(D,210)).then(I=>I.ResponsiveSiteModule)},{path:"mockApi",loadChildren:()=>D.e(7784).then(D.bind(D,7784)).then(I=>I.MockapiModule)},{path:"routeReuse",loadChildren:()=>D.e(772).then(D.bind(D,772)).then(I=>I.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>D.e(4441).then(D.bind(D,4441)).then(I=>I.SampleModule)},{path:"navigations",component:(()=>{class I{constructor(y){this.animationService=y,this.routes=[{path:"website"},{path:"resume"},{path:"portfolio"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(y){return y.activatedRouteData.animation}}return I.\u0275fac=function(y){return new(y||I)(S.Y36(ee.Y))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-navigations"]],decls:3,vars:2,consts:[[3,"routes","template"]],template:function(y,R){1&y&&(S._UZ(0,"app-navbar",0),S.TgZ(1,"main"),S._UZ(2,"router-outlet"),S.qZA()),2&y&&S.Q6J("routes",R.routes)("template","LIGHT")},dependencies:[H.lC,je],data:{animation:[Z]}}),I})(),children:[{path:"website",loadChildren:()=>Promise.all([D.e(8592),D.e(5545)]).then(D.bind(D,5545)).then(I=>I.LayoutOneModule)},{path:"resume",loadChildren:()=>Promise.all([D.e(8592),D.e(6564)]).then(D.bind(D,6564)).then(I=>I.ResumeModule)},{path:"portfolio",loadChildren:()=>D.e(9682).then(D.bind(D,9682)).then(I=>I.PortfolioModule)},{path:"my-site",loadChildren:()=>D.e(7391).then(D.bind(D,7391)).then(I=>I.MysiteModule)},{path:"form",loadChildren:()=>Promise.all([D.e(433),D.e(7807),D.e(34),D.e(8592),D.e(6026)]).then(D.bind(D,6026)).then(I=>I.FormModule)},{path:"svg",loadChildren:()=>D.e(3971).then(D.bind(D,3971)).then(I=>I.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([D.e(7807),D.e(8771),D.e(2821),D.e(3538),D.e(8592),D.e(9143)]).then(D.bind(D,5656)).then(I=>I.TaskModule)},{path:"unit-testing",loadChildren:()=>D.e(4376).then(D.bind(D,4376)).then(I=>I.UnitTestingModule)}]},{path:"useFullApps",loadChildren:()=>Promise.all([D.e(433),D.e(3919),D.e(8592),D.e(2436)]).then(D.bind(D,2436)).then(I=>I.UsefullAppsModule)},{path:"library-ex",loadChildren:()=>Promise.all([D.e(433),D.e(7807),D.e(3919),D.e(3538),D.e(9534)]).then(D.bind(D,9534)).then(I=>I.LibraryExModule)},{path:"firebase",loadChildren:()=>D.e(3156).then(D.bind(D,3156)).then(I=>I.FirebaseTutsModule)},{path:"tutorials",loadChildren:()=>Promise.all([D.e(433),D.e(34)]).then(D.bind(D,34)).then(I=>I.TutorialsModule)},{path:"css",loadChildren:()=>Promise.all([D.e(8592),D.e(561)]).then(D.bind(D,561)).then(I=>I.CssLearnModule)},{path:"code-task",loadChildren:()=>D.e(2508).then(D.bind(D,2508)).then(I=>I.CodeTaskModule)},{path:"website",loadChildren:(I=(0,ne.Z)(function*(){return(yield D.e(6).then(D.bind(D,6))).WebsiteModule}),function(){return I.apply(this,arguments)})},{path:"",redirectTo:"personal",pathMatch:"full"},{path:"**",redirectTo:"personal"}];var I;let qe=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({imports:[H.Bz.forRoot(xt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),H.Bz]}),I})();var ke=D(520);let Dt=(()=>{class I{constructor(y){this.http=y,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(y=>(this.configuration=y,y)).catch(y=>{console.error(y)})}getConfiguration(){return this.configuration}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(ke.eN))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var Tt=D(2348),Kt=D(4070);function Gt(I,E){if(1&I){const y=S.EpF();S.TgZ(0,"div",1),S.NdJ("click",function(){S.CHM(y);const W=S.oxw();return S.KtG(W.showNotification=!W.showNotification)}),S.TgZ(1,"p"),S._uU(2),S.qZA()()}if(2&I){const y=S.oxw();S.xp6(2),S.Oqu(y.notification)}}let Pt=(()=>{class I{constructor(y){this.notificationService=y,this.notificationService.notification$.subscribe(R=>{this.notification=R,this.showNotification=!0})}ngOnInit(){}}return I.\u0275fac=function(y){return new(y||I)(S.Y36(Kt.g))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"]],template:function(y,R){1&y&&S.YNc(0,Gt,3,1,"div",0),2&y&&S.Q6J("ngIf",R.notification&&R.showNotification)},dependencies:[le.O5],styles:[".notification[_ngcontent-%COMP%]{position:absolute;z-index:1;top:5px;line-height:20px;text-align:center;right:5px;background:linear-gradient(-90deg,#cb5cd2,#cc3fa0);color:#fff;font-style:oblique;text-transform:capitalize;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;min-height:20px;min-width:160px;max-width:300px;padding:15px;cursor:pointer}"]}),I})(),tt=(()=>{class I{constructor(y,R,W){this.configurationService=y,this.jsonPlaceholderService=R,this.route=W,this.title="portfolio-all-in-one",this.version=S.q4F.major}ngOnInit(){window.addEventListener("beforeinstallprompt",y=>{console.log("'beforeinstallprompt' event was fired.")})}}return I.\u0275fac=function(y){return new(y||I)(S.Y36(Dt),S.Y36(Tt.t),S.Y36(H.gz))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-root"]],decls:2,vars:0,template:function(y,R){1&y&&S._UZ(0,"app-notification")(1,"router-outlet")},dependencies:[H.lC,Pt],changeDetection:0}),I})();function ot(I){return new S.vHH(3e3,!1)}function on(){return"undefined"!=typeof window&&void 0!==window.document}function rr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ft(I){switch(I.length){case 0:return new Q.ZN;case 1:return I[0];default:return new Q.ZE(I)}}function Hn(I,E,y,R,W=new Map,ue=new Map){const ve=[],be=[];let Xe=-1,_t=null;if(R.forEach(Bt=>{const Xt=Bt.get("offset"),An=Xt==Xe,Bn=An&&_t||new Map;Bt.forEach((vn,Nn)=>{let sr=Nn,hi=vn;if("offset"!==Nn)switch(sr=E.normalizePropertyName(sr,ve),hi){case Q.k1:hi=W.get(Nn);break;case Q.l3:hi=ue.get(Nn);break;default:hi=E.normalizeStyleValue(Nn,sr,hi,ve)}Bn.set(sr,hi)}),An||be.push(Bn),_t=Bn,Xe=Xt}),ve.length)throw function Qt(I){return new S.vHH(3502,!1)}();return be}function zn(I,E,y,R){switch(E){case"start":I.onStart(()=>R(y&&$r(y,"start",I)));break;case"done":I.onDone(()=>R(y&&$r(y,"done",I)));break;case"destroy":I.onDestroy(()=>R(y&&$r(y,"destroy",I)))}}function $r(I,E,y){const R=y.totalTime,ue=xn(I.element,I.triggerName,I.fromState,I.toState,E||I.phaseName,null==R?I.totalTime:R,!!y.disabled),ve=I._data;return null!=ve&&(ue._data=ve),ue}function xn(I,E,y,R,W="",ue=0,ve){return{element:I,triggerName:E,fromState:y,toState:R,phaseName:W,totalTime:ue,disabled:!!ve}}function rn(I,E,y){let R=I.get(E);return R||I.set(E,R=y),R}function $n(I){const E=I.indexOf(":");return[I.substring(1,E),I.slice(E+1)]}let ti=(I,E)=>!1,Gr=(I,E,y)=>[],kn=null;function Tr(I){const E=I.parentNode||I.host;return E===kn?null:E}(rr()||"undefined"!=typeof Element)&&(on()?(kn=(()=>document.documentElement)(),ti=(I,E)=>{for(;E;){if(E===I)return!0;E=Tr(E)}return!1}):ti=(I,E)=>I.contains(E),Gr=(I,E,y)=>{if(y)return Array.from(I.querySelectorAll(E));const R=I.querySelector(E);return R?[R]:[]});let Re=null,Ae=!1;const $t=ti,en=Gr;let or=(()=>{class I{validateStyleProperty(y){return function Be(I){Re||(Re=function We(){return"undefined"!=typeof document?document.body:null}()||{},Ae=!!Re.style&&"WebkitAppearance"in Re.style);let E=!0;return Re.style&&!function yi(I){return"ebkit"==I.substring(1,6)}(I)&&(E=I in Re.style,!E&&Ae&&(E="Webkit"+I.charAt(0).toUpperCase()+I.slice(1)in Re.style)),E}(y)}matchesElement(y,R){return!1}containsElement(y,R){return $t(y,R)}getParentElement(y){return Tr(y)}query(y,R,W){return en(y,R,W)}computeStyle(y,R,W){return W||""}animate(y,R,W,ue,ve,be=[],Xe){return new Q.ZN(W,ue)}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),Ar=(()=>{class I{}return I.NOOP=new or,I})();const Ue="ng-enter",ut="ng-leave",ln="ng-trigger",un=".ng-trigger",Pe="ng-animating",Le=".ng-animating";function gt(I){if("number"==typeof I)return I;const E=I.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Wt(parseFloat(E[1]),E[2])}function Wt(I,E){return"s"===E?1e3*I:I}function Dn(I,E,y){return I.hasOwnProperty("duration")?I:function Cn(I,E,y){let W,ue=0,ve="";if("string"==typeof I){const be=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===be)return E.push(ot()),{duration:0,delay:0,easing:""};W=Wt(parseFloat(be[1]),be[2]);const Xe=be[3];null!=Xe&&(ue=Wt(parseFloat(Xe),be[4]));const _t=be[5];_t&&(ve=_t)}else W=I;if(!y){let be=!1,Xe=E.length;W<0&&(E.push(function et(){return new S.vHH(3100,!1)}()),be=!0),ue<0&&(E.push(function Nt(){return new S.vHH(3101,!1)}()),be=!0),be&&E.splice(Xe,0,ot())}return{duration:W,delay:ue,easing:ve}}(I,E,y)}function Wn(I,E={}){return Object.keys(I).forEach(y=>{E[y]=I[y]}),E}function ir(I){const E=new Map;return Object.keys(I).forEach(y=>{E.set(y,I[y])}),E}function Sn(I,E=new Map,y){if(y)for(let[R,W]of y)E.set(R,W);for(let[R,W]of I)E.set(R,W);return E}function us(I,E,y){return y?E+":"+y+";":""}function ni(I){let E="";for(let y=0;y<I.style.length;y++){const R=I.style.item(y);E+=us(0,R,I.style.getPropertyValue(R))}for(const y in I.style)I.style.hasOwnProperty(y)&&!y.startsWith("_")&&(E+=us(0,so(y),I.style[y]));I.setAttribute("style",E)}function Mi(I,E,y){I.style&&(E.forEach((R,W)=>{const ue=io(W);y&&!y.has(W)&&y.set(W,I.style[ue]),I.style[ue]=R}),rr()&&ni(I))}function Oi(I,E){I.style&&(E.forEach((y,R)=>{const W=io(R);I.style[W]=""}),rr()&&ni(I))}function qn(I){return Array.isArray(I)?1==I.length?I[0]:(0,Q.vP)(I):I}const Mn=new RegExp("{{\\s*(.+?)\\s*}}","g");function On(I){let E=[];if("string"==typeof I){let y;for(;y=Mn.exec(I);)E.push(y[1]);Mn.lastIndex=0}return E}function In(I,E,y){const R=I.toString(),W=R.replace(Mn,(ue,ve)=>{let be=E[ve];return null==be&&(y.push(function ht(I){return new S.vHH(3003,!1)}()),be=""),be.toString()});return W==R?I:W}function _i(I){const E=[];let y=I.next();for(;!y.done;)E.push(y.value),y=I.next();return E}const bn=/-+([a-z0-9])/g;function io(I){return I.replace(bn,(...E)=>E[1].toUpperCase())}function so(I){return I.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jn(I,E,y){switch(E.type){case 7:return I.visitTrigger(E,y);case 0:return I.visitState(E,y);case 1:return I.visitTransition(E,y);case 2:return I.visitSequence(E,y);case 3:return I.visitGroup(E,y);case 4:return I.visitAnimate(E,y);case 5:return I.visitKeyframes(E,y);case 6:return I.visitStyle(E,y);case 8:return I.visitReference(E,y);case 9:return I.visitAnimateChild(E,y);case 10:return I.visitAnimateRef(E,y);case 11:return I.visitQuery(E,y);case 12:return I.visitStagger(E,y);default:throw function Fn(I){return new S.vHH(3004,!1)}()}}function Vn(I,E){return window.getComputedStyle(I)[E]}function Gn(I,E){const y=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(R=>function Wr(I,E,y){if(":"==I[0]){const Xe=function Nr(I,E){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,R)=>parseFloat(R)>parseFloat(y);case":decrement":return(y,R)=>parseFloat(R)<parseFloat(y);default:return E.push(function xr(I){return new S.vHH(3016,!1)}()),"* => *"}}(I,y);if("function"==typeof Xe)return void E.push(Xe);I=Xe}const R=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return y.push(function Hr(I){return new S.vHH(3015,!1)}()),E;const W=R[1],ue=R[2],ve=R[3];E.push(Qr(W,ve));"<"==ue[0]&&!("*"==W&&"*"==ve)&&E.push(Qr(ve,W))}(R,y,E)):y.push(I),y}const Li=new Set(["true","1"]),Dr=new Set(["false","0"]);function Qr(I,E){const y=Li.has(I)||Dr.has(I),R=Li.has(E)||Dr.has(E);return(W,ue)=>{let ve="*"==I||I==W,be="*"==E||E==ue;return!ve&&y&&"boolean"==typeof W&&(ve=W?Li.has(I):Dr.has(I)),!be&&R&&"boolean"==typeof ue&&(be=ue?Li.has(E):Dr.has(E)),ve&&be}}const ds=new RegExp("s*:selfs*,?","g");function Us(I,E,y,R){return new Xn(I).build(E,y,R)}class Xn{constructor(E){this._driver=E}build(E,y,R){const W=new hs(y);return this._resetContextStyleTimingState(W),Jn(this,qn(E),W)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,y){let R=y.queryCount=0,W=y.depCount=0;const ue=[],ve=[];return"@"==E.name.charAt(0)&&y.errors.push(function Mt(){return new S.vHH(3006,!1)}()),E.definitions.forEach(be=>{if(this._resetContextStyleTimingState(y),0==be.type){const Xe=be,_t=Xe.name;_t.toString().split(/\s*,\s*/).forEach(Bt=>{Xe.name=Bt,ue.push(this.visitState(Xe,y))}),Xe.name=_t}else if(1==be.type){const Xe=this.visitTransition(be,y);R+=Xe.queryCount,W+=Xe.depCount,ve.push(Xe)}else y.errors.push(function hr(){return new S.vHH(3007,!1)}())}),{type:7,name:E.name,states:ue,transitions:ve,queryCount:R,depCount:W,options:null}}visitState(E,y){const R=this.visitStyle(E.styles,y),W=E.options&&E.options.params||null;if(R.containsDynamicStyles){const ue=new Set,ve=W||{};R.styles.forEach(be=>{be instanceof Map&&be.forEach(Xe=>{On(Xe).forEach(_t=>{ve.hasOwnProperty(_t)||ue.add(_t)})})}),ue.size&&(_i(ue.values()),y.errors.push(function Ur(I,E){return new S.vHH(3008,!1)}()))}return{type:0,name:E.name,style:R,options:W?{params:W}:null}}visitTransition(E,y){y.queryCount=0,y.depCount=0;const R=Jn(this,qn(E.animation),y);return{type:1,matchers:Gn(E.expr,y.errors),animation:R,queryCount:y.queryCount,depCount:y.depCount,options:Ei(E.options)}}visitSequence(E,y){return{type:2,steps:E.steps.map(R=>Jn(this,R,y)),options:Ei(E.options)}}visitGroup(E,y){const R=y.currentTime;let W=0;const ue=E.steps.map(ve=>{y.currentTime=R;const be=Jn(this,ve,y);return W=Math.max(W,y.currentTime),be});return y.currentTime=W,{type:3,steps:ue,options:Ei(E.options)}}visitAnimate(E,y){const R=function Os(I,E){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return Qs(Dn(I,E).duration,0,"");const y=I;if(y.split(/\s+/).some(ue=>"{"==ue.charAt(0)&&"{"==ue.charAt(1))){const ue=Qs(0,0,"");return ue.dynamic=!0,ue.strValue=y,ue}const W=Dn(y,E);return Qs(W.duration,W.delay,W.easing)}(E.timings,y.errors);y.currentAnimateTimings=R;let W,ue=E.styles?E.styles:(0,Q.oB)({});if(5==ue.type)W=this.visitKeyframes(ue,y);else{let ve=E.styles,be=!1;if(!ve){be=!0;const _t={};R.easing&&(_t.easing=R.easing),ve=(0,Q.oB)(_t)}y.currentTime+=R.duration+R.delay;const Xe=this.visitStyle(ve,y);Xe.isEmptyStep=be,W=Xe}return y.currentAnimateTimings=null,{type:4,timings:R,style:W,options:null}}visitStyle(E,y){const R=this._makeStyleAst(E,y);return this._validateStyleAst(R,y),R}_makeStyleAst(E,y){const R=[],W=Array.isArray(E.styles)?E.styles:[E.styles];for(let be of W)"string"==typeof be?be===Q.l3?R.push(be):y.errors.push(new S.vHH(3002,!1)):R.push(ir(be));let ue=!1,ve=null;return R.forEach(be=>{if(be instanceof Map&&(be.has("easing")&&(ve=be.get("easing"),be.delete("easing")),!ue))for(let Xe of be.values())if(Xe.toString().indexOf("{{")>=0){ue=!0;break}}),{type:6,styles:R,easing:ve,offset:E.offset,containsDynamicStyles:ue,options:null}}_validateStyleAst(E,y){const R=y.currentAnimateTimings;let W=y.currentTime,ue=y.currentTime;R&&ue>0&&(ue-=R.duration+R.delay),E.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((be,Xe)=>{const _t=y.collectedStyles.get(y.currentQuerySelector),Bt=_t.get(Xe);let Xt=!0;Bt&&(ue!=W&&ue>=Bt.startTime&&W<=Bt.endTime&&(y.errors.push(function Lr(I,E,y,R,W){return new S.vHH(3010,!1)}()),Xt=!1),ue=Bt.startTime),Xt&&_t.set(Xe,{startTime:ue,endTime:W}),y.options&&function rs(I,E,y){const R=E.params||{},W=On(I);W.length&&W.forEach(ue=>{R.hasOwnProperty(ue)||y.push(function St(I){return new S.vHH(3001,!1)}())})}(be,y.options,y.errors)})})}visitKeyframes(E,y){const R={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function dr(){return new S.vHH(3011,!1)}()),R;let ue=0;const ve=[];let be=!1,Xe=!1,_t=0;const Bt=E.steps.map(hi=>{const vr=this._makeStyleAst(hi,y);let Zn=null!=vr.offset?vr.offset:function Fi(I){if("string"==typeof I)return null;let E=null;if(Array.isArray(I))I.forEach(y=>{if(y instanceof Map&&y.has("offset")){const R=y;E=parseFloat(R.get("offset")),R.delete("offset")}});else if(I instanceof Map&&I.has("offset")){const y=I;E=parseFloat(y.get("offset")),y.delete("offset")}return E}(vr.styles),fi=0;return null!=Zn&&(ue++,fi=vr.offset=Zn),Xe=Xe||fi<0||fi>1,be=be||fi<_t,_t=fi,ve.push(fi),vr});Xe&&y.errors.push(function Ti(){return new S.vHH(3012,!1)}()),be&&y.errors.push(function gi(){return new S.vHH(3200,!1)}());const Xt=E.steps.length;let An=0;ue>0&&ue<Xt?y.errors.push(function Jr(){return new S.vHH(3202,!1)}()):0==ue&&(An=1/(Xt-1));const Bn=Xt-1,vn=y.currentTime,Nn=y.currentAnimateTimings,sr=Nn.duration;return Bt.forEach((hi,vr)=>{const Zn=An>0?vr==Bn?1:An*vr:ve[vr],fi=Zn*sr;y.currentTime=vn+Nn.delay+fi,Nn.duration=fi,this._validateStyleAst(hi,y),hi.offset=Zn,R.styles.push(hi)}),R}visitReference(E,y){return{type:8,animation:Jn(this,qn(E.animation),y),options:Ei(E.options)}}visitAnimateChild(E,y){return y.depCount++,{type:9,options:Ei(E.options)}}visitAnimateRef(E,y){return{type:10,animation:this.visitReference(E.animation,y),options:Ei(E.options)}}visitQuery(E,y){const R=y.currentQuerySelector,W=E.options||{};y.queryCount++,y.currentQuery=E;const[ue,ve]=function To(I){const E=!!I.split(/\s*,\s*/).find(y=>":self"==y);return E&&(I=I.replace(ds,"")),I=I.replace(/@\*/g,un).replace(/@\w+/g,y=>un+"-"+y.slice(1)).replace(/:animating/g,Le),[I,E]}(E.selector);y.currentQuerySelector=R.length?R+" "+ue:ue,rn(y.collectedStyles,y.currentQuerySelector,new Map);const be=Jn(this,qn(E.animation),y);return y.currentQuery=null,y.currentQuerySelector=R,{type:11,selector:ue,limit:W.limit||0,optional:!!W.optional,includeSelf:ve,animation:be,originalSelector:E.selector,options:Ei(E.options)}}visitStagger(E,y){y.currentQuery||y.errors.push(function Br(){return new S.vHH(3013,!1)}());const R="full"===E.timings?{duration:0,delay:0,easing:"full"}:Dn(E.timings,y.errors,!0);return{type:12,animation:Jn(this,qn(E.animation),y),timings:R,options:null}}}class hs{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ei(I){return I?(I=Wn(I)).params&&(I.params=function ao(I){return I?Wn(I):null}(I.params)):I={},I}function Qs(I,E,y){return{duration:I,delay:E,easing:y}}function er(I,E,y,R,W,ue,ve=null,be=!1){return{type:1,element:I,keyframes:E,preStyleProps:y,postStyleProps:R,duration:W,delay:ue,totalTime:W+ue,easing:ve,subTimeline:be}}class Ps{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,y){let R=this._map.get(E);R||this._map.set(E,R=[]),R.push(...y)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const Ro=new RegExp(":enter","g"),ca=new RegExp(":leave","g");function mo(I,E,y,R,W,ue=new Map,ve=new Map,be,Xe,_t=[]){return(new Yi).buildKeyframes(I,E,y,R,W,ue,ve,be,Xe,_t)}class Yi{buildKeyframes(E,y,R,W,ue,ve,be,Xe,_t,Bt=[]){_t=_t||new Ps;const Xt=new ri(E,y,_t,W,ue,Bt,[]);Xt.options=Xe;const An=Xe.delay?gt(Xe.delay):0;Xt.currentTimeline.delayNextStep(An),Xt.currentTimeline.setStyles([ve],null,Xt.errors,Xe),Jn(this,R,Xt);const Bn=Xt.timelines.filter(vn=>vn.containsAnimation());if(Bn.length&&be.size){let vn;for(let Nn=Bn.length-1;Nn>=0;Nn--){const sr=Bn[Nn];if(sr.element===y){vn=sr;break}}vn&&!vn.allowOnlyTimelineStyles()&&vn.setStyles([be],null,Xt.errors,Xe)}return Bn.length?Bn.map(vn=>vn.buildKeyframes()):[er(y,[],[],[],0,An,"",!1)]}visitTrigger(E,y){}visitState(E,y){}visitTransition(E,y){}visitAnimateChild(E,y){const R=y.subInstructions.get(y.element);if(R){const W=y.createSubContext(E.options),ue=y.currentTimeline.currentTime,ve=this._visitSubInstructions(R,W,W.options);ue!=ve&&y.transformIntoNewTimeline(ve)}y.previousNode=E}visitAnimateRef(E,y){const R=y.createSubContext(E.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],y,R),this.visitReference(E.animation,R),y.transformIntoNewTimeline(R.currentTimeline.currentTime),y.previousNode=E}_applyAnimationRefDelays(E,y,R){var W;for(const ue of E){const ve=null==ue?void 0:ue.delay;if(ve){const be="number"==typeof ve?ve:gt(In(ve,null!==(W=null==ue?void 0:ue.params)&&void 0!==W?W:{},y.errors));R.delayNextStep(be)}}}_visitSubInstructions(E,y,R){let ue=y.currentTimeline.currentTime;const ve=null!=R.duration?gt(R.duration):null,be=null!=R.delay?gt(R.delay):null;return 0!==ve&&E.forEach(Xe=>{const _t=y.appendInstructionToTimeline(Xe,ve,be);ue=Math.max(ue,_t.duration+_t.delay)}),ue}visitReference(E,y){y.updateOptions(E.options,!0),Jn(this,E.animation,y),y.previousNode=E}visitSequence(E,y){const R=y.subContextCount;let W=y;const ue=E.options;if(ue&&(ue.params||ue.delay)&&(W=y.createSubContext(ue),W.transformIntoNewTimeline(),null!=ue.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Ia);const ve=gt(ue.delay);W.delayNextStep(ve)}E.steps.length&&(E.steps.forEach(ve=>Jn(this,ve,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>R&&W.transformIntoNewTimeline()),y.previousNode=E}visitGroup(E,y){const R=[];let W=y.currentTimeline.currentTime;const ue=E.options&&E.options.delay?gt(E.options.delay):0;E.steps.forEach(ve=>{const be=y.createSubContext(E.options);ue&&be.delayNextStep(ue),Jn(this,ve,be),W=Math.max(W,be.currentTimeline.currentTime),R.push(be.currentTimeline)}),R.forEach(ve=>y.currentTimeline.mergeTimelineCollectedStyles(ve)),y.transformIntoNewTimeline(W),y.previousNode=E}_visitTiming(E,y){if(E.dynamic){const R=E.strValue;return Dn(y.params?In(R,y.params,y.errors):R,y.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,y){const R=y.currentAnimateTimings=this._visitTiming(E.timings,y),W=y.currentTimeline;R.delay&&(y.incrementTime(R.delay),W.snapshotCurrentStyles());const ue=E.style;5==ue.type?this.visitKeyframes(ue,y):(y.incrementTime(R.duration),this.visitStyle(ue,y),W.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=E}visitStyle(E,y){const R=y.currentTimeline,W=y.currentAnimateTimings;!W&&R.hasCurrentStyleProperties()&&R.forwardFrame();const ue=W&&W.easing||E.easing;E.isEmptyStep?R.applyEmptyStep(ue):R.setStyles(E.styles,ue,y.errors,y.options),y.previousNode=E}visitKeyframes(E,y){const R=y.currentAnimateTimings,W=y.currentTimeline.duration,ue=R.duration,be=y.createSubContext().currentTimeline;be.easing=R.easing,E.styles.forEach(Xe=>{be.forwardTime((Xe.offset||0)*ue),be.setStyles(Xe.styles,Xe.easing,y.errors,y.options),be.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(be),y.transformIntoNewTimeline(W+ue),y.previousNode=E}visitQuery(E,y){const R=y.currentTimeline.currentTime,W=E.options||{},ue=W.delay?gt(W.delay):0;ue&&(6===y.previousNode.type||0==R&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Ia);let ve=R;const be=y.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!W.optional,y.errors);y.currentQueryTotal=be.length;let Xe=null;be.forEach((_t,Bt)=>{y.currentQueryIndex=Bt;const Xt=y.createSubContext(E.options,_t);ue&&Xt.delayNextStep(ue),_t===y.element&&(Xe=Xt.currentTimeline),Jn(this,E.animation,Xt),Xt.currentTimeline.applyStylesToKeyframe(),ve=Math.max(ve,Xt.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ve),Xe&&(y.currentTimeline.mergeTimelineCollectedStyles(Xe),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=E}visitStagger(E,y){const R=y.parentContext,W=y.currentTimeline,ue=E.timings,ve=Math.abs(ue.duration),be=ve*(y.currentQueryTotal-1);let Xe=ve*y.currentQueryIndex;switch(ue.duration<0?"reverse":ue.easing){case"reverse":Xe=be-Xe;break;case"full":Xe=R.currentStaggerTime}const Bt=y.currentTimeline;Xe&&Bt.delayNextStep(Xe);const Xt=Bt.currentTime;Jn(this,E.animation,y),y.previousNode=E,R.currentStaggerTime=W.currentTime-Xt+(W.startTime-R.currentTimeline.startTime)}}const Ia={};class ri{constructor(E,y,R,W,ue,ve,be,Xe){this._driver=E,this.element=y,this.subInstructions=R,this._enterClassName=W,this._leaveClassName=ue,this.errors=ve,this.timelines=be,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ia,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new _s(this._driver,y,0),be.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,y){if(!E)return;const R=E;let W=this.options;null!=R.duration&&(W.duration=gt(R.duration)),null!=R.delay&&(W.delay=gt(R.delay));const ue=R.params;if(ue){let ve=W.params;ve||(ve=this.options.params={}),Object.keys(ue).forEach(be=>{(!y||!ve.hasOwnProperty(be))&&(ve[be]=In(ue[be],ve,this.errors))})}}_copyOptions(){const E={};if(this.options){const y=this.options.params;if(y){const R=E.params={};Object.keys(y).forEach(W=>{R[W]=y[W]})}}return E}createSubContext(E=null,y,R){const W=y||this.element,ue=new ri(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,R||0));return ue.previousNode=this.previousNode,ue.currentAnimateTimings=this.currentAnimateTimings,ue.options=this._copyOptions(),ue.updateOptions(E),ue.currentQueryIndex=this.currentQueryIndex,ue.currentQueryTotal=this.currentQueryTotal,ue.parentContext=this,this.subContextCount++,ue}transformIntoNewTimeline(E){return this.previousNode=Ia,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,y,R){const W={duration:null!=y?y:E.duration,delay:this.currentTimeline.currentTime+(null!=R?R:0)+E.delay,easing:""},ue=new Ya(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,W,E.stretchStartingKeyframe);return this.timelines.push(ue),W}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,y,R,W,ue,ve){let be=[];if(W&&be.push(this.element),E.length>0){E=(E=E.replace(Ro,"."+this._enterClassName)).replace(ca,"."+this._leaveClassName);let _t=this._driver.query(this.element,E,1!=R);0!==R&&(_t=R<0?_t.slice(_t.length+R,_t.length):_t.slice(0,R)),be.push(..._t)}return!ue&&0==be.length&&ve.push(function Xr(I){return new S.vHH(3014,!1)}()),be}}class _s{constructor(E,y,R,W){this._driver=E,this.element=y,this.startTime=R,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+E),y&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,y){return this.applyStylesToKeyframe(),new _s(this._driver,E,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,y){this._localTimelineStyles.set(E,y),this._globalTimelineStyles.set(E,y),this._styleSummary.set(E,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[y,R]of this._globalTimelineStyles)this._backFill.set(y,R||Q.l3),this._currentKeyframe.set(y,Q.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,y,R,W){var ue;y&&this._previousKeyframe.set("easing",y);const ve=W&&W.params||{},be=function kr(I,E){const y=new Map;let R;return I.forEach(W=>{if("*"===W){R=R||E.keys();for(let ue of R)y.set(ue,Q.l3)}else Sn(W,y)}),y}(E,this._globalTimelineStyles);for(let[Xe,_t]of be){const Bt=In(_t,ve,R);this._pendingStyles.set(Xe,Bt),this._localTimelineStyles.has(Xe)||this._backFill.set(Xe,null!==(ue=this._globalTimelineStyles.get(Xe))&&void 0!==ue?ue:Q.l3),this._updateStyle(Xe,Bt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,y)=>{this._currentKeyframe.set(y,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,E)}))}snapshotCurrentStyles(){for(let[E,y]of this._localTimelineStyles)this._pendingStyles.set(E,y),this._updateStyle(E,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let y in this._currentKeyframe)E.push(y);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((y,R)=>{const W=this._styleSummary.get(R);(!W||y.time>W.time)&&this._updateStyle(R,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,y=new Set,R=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((be,Xe)=>{const _t=Sn(be,new Map,this._backFill);_t.forEach((Bt,Xt)=>{Bt===Q.k1?E.add(Xt):Bt===Q.l3&&y.add(Xt)}),R||_t.set("offset",Xe/this.duration),W.push(_t)});const ue=E.size?_i(E.values()):[],ve=y.size?_i(y.values()):[];if(R){const be=W[0],Xe=new Map(be);be.set("offset",0),Xe.set("offset",1),W=[be,Xe]}return er(this.element,W,ue,ve,this.duration,this.startTime,this.easing,!1)}}class Ya extends _s{constructor(E,y,R,W,ue,ve,be=!1){super(E,y,ve.delay),this.keyframes=R,this.preStyleProps=W,this.postStyleProps=ue,this._stretchStartingKeyframe=be,this.timings={duration:ve.duration,delay:ve.delay,easing:ve.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:y,duration:R,easing:W}=this.timings;if(this._stretchStartingKeyframe&&y){const ue=[],ve=R+y,be=y/ve,Xe=Sn(E[0]);Xe.set("offset",0),ue.push(Xe);const _t=Sn(E[0]);_t.set("offset",Qa(be)),ue.push(_t);const Bt=E.length-1;for(let Xt=1;Xt<=Bt;Xt++){let An=Sn(E[Xt]);const Bn=An.get("offset");An.set("offset",Qa((y+Bn*R)/ve)),ue.push(An)}R=ve,y=0,W="",E=ue}return er(this.element,E,this.preStyleProps,this.postStyleProps,R,y,W,!0)}}function Qa(I,E=3){const y=Math.pow(10,E-1);return Math.round(I*y)/y}class bi{}const wa=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qs extends bi{normalizePropertyName(E,y){return io(E)}normalizeStyleValue(E,y,R,W){let ue="";const ve=R.toString().trim();if(wa.has(y)&&0!==R&&"0"!==R)if("number"==typeof R)ue="px";else{const be=R.match(/^[+-]?[\d\.]+([a-z]*)$/);be&&0==be[1].length&&W.push(function Yt(I,E){return new S.vHH(3005,!1)}())}return ve+ue}}function li(I,E,y,R,W,ue,ve,be,Xe,_t,Bt,Xt,An){return{type:0,element:I,triggerName:E,isRemovalTransition:W,fromState:y,fromStyles:ue,toState:R,toStyles:ve,timelines:be,queriedElements:Xe,preStyleProps:_t,postStyleProps:Bt,totalTime:Xt,errors:An}}const Di={};class yn{constructor(E,y,R){this._triggerName=E,this.ast=y,this._stateStyles=R}match(E,y,R,W){return function ur(I,E,y,R,W){return I.some(ue=>ue(E,y,R,W))}(this.ast.matchers,E,y,R,W)}buildStyles(E,y,R){let W=this._stateStyles.get("*");return void 0!==E&&(W=this._stateStyles.get(null==E?void 0:E.toString())||W),W?W.buildStyles(y,R):new Map}build(E,y,R,W,ue,ve,be,Xe,_t,Bt){var Xt;const An=[],Bn=this.ast.options&&this.ast.options.params||Di,Nn=this.buildStyles(R,be&&be.params||Di,An),sr=Xe&&Xe.params||Di,hi=this.buildStyles(W,sr,An),vr=new Set,Zn=new Map,fi=new Map,to="void"===W,no={params:Ta(sr,Bn),delay:null===(Xt=this.ast.options)||void 0===Xt?void 0:Xt.delay},Io=Bt?[]:mo(E,y,this.ast.animation,ue,ve,Nn,hi,no,_t,An);let si=0;if(Io.forEach(Fs=>{si=Math.max(Fs.duration+Fs.delay,si)}),An.length)return li(y,this._triggerName,R,W,to,Nn,hi,[],[],Zn,fi,si,An);Io.forEach(Fs=>{const Wl=Fs.element,Ks=rn(Zn,Wl,new Set);Fs.preStyleProps.forEach(ja=>Ks.add(ja));const Rl=rn(fi,Wl,new Set);Fs.postStyleProps.forEach(ja=>Rl.add(ja)),Wl!==y&&vr.add(Wl)});const wi=_i(vr.values());return li(y,this._triggerName,R,W,to,Nn,hi,Io,wi,Zn,fi,si)}}function Ta(I,E){const y=Wn(E);for(const R in I)I.hasOwnProperty(R)&&null!=I[R]&&(y[R]=I[R]);return y}class Pr{constructor(E,y,R){this.styles=E,this.defaultParams=y,this.normalizer=R}buildStyles(E,y){const R=new Map,W=Wn(this.defaultParams);return Object.keys(E).forEach(ue=>{const ve=E[ue];null!==ve&&(W[ue]=ve)}),this.styles.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((ve,be)=>{ve&&(ve=In(ve,W,y));const Xe=this.normalizer.normalizePropertyName(be,y);ve=this.normalizer.normalizeStyleValue(be,Xe,ve,y),R.set(Xe,ve)})}),R}}class Vs{constructor(E,y,R){this.name=E,this.ast=y,this._normalizer=R,this.transitionFactories=[],this.states=new Map,y.states.forEach(W=>{this.states.set(W.name,new Pr(W.style,W.options&&W.options.params||{},R))}),Bs(this.states,"true","1"),Bs(this.states,"false","0"),y.transitions.forEach(W=>{this.transitionFactories.push(new yn(E,W,this.states))}),this.fallbackTransition=function ta(I,E,y){return new yn(I,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ve,be)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,y,R,W){return this.transitionFactories.find(ve=>ve.match(E,y,R,W))||null}matchStyles(E,y,R){return this.fallbackTransition.buildStyles(E,y,R)}}function Bs(I,E,y){I.has(E)?I.has(y)||I.set(y,I.get(E)):I.has(y)&&I.set(E,I.get(y))}const En=new Ps;class bs{constructor(E,y,R){this.bodyNode=E,this._driver=y,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,y){const R=[],ue=Us(this._driver,y,R,[]);if(R.length)throw function mi(I){return new S.vHH(3503,!1)}();this._animations.set(E,ue)}_buildPlayer(E,y,R){const W=E.element,ue=Hn(0,this._normalizer,0,E.keyframes,y,R);return this._driver.animate(W,ue,E.duration,E.delay,E.easing,[],!0)}create(E,y,R={}){const W=[],ue=this._animations.get(E);let ve;const be=new Map;if(ue?(ve=mo(this._driver,y,ue,Ue,ut,new Map,new Map,R,En,W),ve.forEach(Bt=>{const Xt=rn(be,Bt.element,new Map);Bt.postStyleProps.forEach(An=>Xt.set(An,null))})):(W.push(function Si(){return new S.vHH(3300,!1)}()),ve=[]),W.length)throw function Er(I){return new S.vHH(3504,!1)}();be.forEach((Bt,Xt)=>{Bt.forEach((An,Bn)=>{Bt.set(Bn,this._driver.computeStyle(Xt,Bn,Q.l3))})});const _t=Ft(ve.map(Bt=>{const Xt=be.get(Bt.element);return this._buildPlayer(Bt,new Map,Xt)}));return this._playersById.set(E,_t),_t.onDestroy(()=>this.destroy(E)),this.players.push(_t),_t}destroy(E){const y=this._getPlayer(E);y.destroy(),this._playersById.delete(E);const R=this.players.indexOf(y);R>=0&&this.players.splice(R,1)}_getPlayer(E){const y=this._playersById.get(E);if(!y)throw function Ki(I){return new S.vHH(3301,!1)}();return y}listen(E,y,R,W){const ue=xn(y,"","","");return zn(this._getPlayer(E),R,ue,W),()=>{}}command(E,y,R,W){if("register"==R)return void this.register(E,W[0]);if("create"==R)return void this.create(E,y,W[0]||{});const ue=this._getPlayer(E);switch(R){case"play":ue.play();break;case"pause":ue.pause();break;case"reset":ue.reset();break;case"restart":ue.restart();break;case"finish":ue.finish();break;case"init":ue.init();break;case"setPosition":ue.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(E)}}}const No="ng-animate-queued",vs="ng-animate-disabled",Aa=[],At={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rs="__ng_removed";class da{constructor(E,y=""){this.namespaceId=y;const R=E&&E.hasOwnProperty("value");if(this.value=function sn(I){return null!=I?I:null}(R?E.value:E),R){const ue=Wn(E);delete ue.value,this.options=ue}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(E){const y=E.params;if(y){const R=this.options.params;Object.keys(y).forEach(W=>{null==R[W]&&(R[W]=y[W])})}}}const ui="void",G=new da(ui);class B{constructor(E,y,R){this.id=E,this.hostElement=y,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Ds(y,this._hostClassName)}listen(E,y,R,W){if(!this._triggers.has(y))throw function oi(I,E){return new S.vHH(3302,!1)}();if(null==R||0==R.length)throw function br(I){return new S.vHH(3303,!1)}();if(!function is(I){return"start"==I||"done"==I}(R))throw function $e(I,E){return new S.vHH(3400,!1)}();const ue=rn(this._elementListeners,E,[]),ve={name:y,phase:R,callback:W};ue.push(ve);const be=rn(this._engine.statesByElement,E,new Map);return be.has(y)||(Ds(E,ln),Ds(E,ln+"-"+y),be.set(y,G)),()=>{this._engine.afterFlush(()=>{const Xe=ue.indexOf(ve);Xe>=0&&ue.splice(Xe,1),this._triggers.has(y)||be.delete(y)})}}register(E,y){return!this._triggers.has(E)&&(this._triggers.set(E,y),!0)}_getTrigger(E){const y=this._triggers.get(E);if(!y)throw function Oe(I){return new S.vHH(3401,!1)}();return y}trigger(E,y,R,W=!0){const ue=this._getTrigger(y),ve=new se(this.id,y,E);let be=this._engine.statesByElement.get(E);be||(Ds(E,ln),Ds(E,ln+"-"+y),this._engine.statesByElement.set(E,be=new Map));let Xe=be.get(y);const _t=new da(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Xe&&_t.absorbOptions(Xe.options),be.set(y,_t),Xe||(Xe=G),_t.value!==ui&&Xe.value===_t.value){if(!function js(I,E){const y=Object.keys(I),R=Object.keys(E);if(y.length!=R.length)return!1;for(let W=0;W<y.length;W++){const ue=y[W];if(!E.hasOwnProperty(ue)||I[ue]!==E[ue])return!1}return!0}(Xe.params,_t.params)){const Nn=[],sr=ue.matchStyles(Xe.value,Xe.params,Nn),hi=ue.matchStyles(_t.value,_t.params,Nn);Nn.length?this._engine.reportError(Nn):this._engine.afterFlush(()=>{Oi(E,sr),Mi(E,hi)})}return}const An=rn(this._engine.playersByElement,E,[]);An.forEach(Nn=>{Nn.namespaceId==this.id&&Nn.triggerName==y&&Nn.queued&&Nn.destroy()});let Bn=ue.matchTransition(Xe.value,_t.value,E,_t.params),vn=!1;if(!Bn){if(!W)return;Bn=ue.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:y,transition:Bn,fromState:Xe,toState:_t,player:ve,isFallbackTransition:vn}),vn||(Ds(E,No),ve.onStart(()=>{xs(E,No)})),ve.onDone(()=>{let Nn=this.players.indexOf(ve);Nn>=0&&this.players.splice(Nn,1);const sr=this._engine.playersByElement.get(E);if(sr){let hi=sr.indexOf(ve);hi>=0&&sr.splice(hi,1)}}),this.players.push(ve),An.push(ve),ve}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(y=>y.delete(E)),this._elementListeners.forEach((y,R)=>{this._elementListeners.set(R,y.filter(W=>W.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const y=this._engine.playersByElement.get(E);y&&(y.forEach(R=>R.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,y){const R=this._engine.driver.query(E,un,!0);R.forEach(W=>{if(W[Rs])return;const ue=this._engine.fetchNamespacesByElement(W);ue.size?ue.forEach(ve=>ve.triggerLeaveAnimation(W,y,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(E,y,R,W){const ue=this._engine.statesByElement.get(E),ve=new Map;if(ue){const be=[];if(ue.forEach((Xe,_t)=>{if(ve.set(_t,Xe.value),this._triggers.has(_t)){const Bt=this.trigger(E,_t,ui,W);Bt&&be.push(Bt)}}),be.length)return this._engine.markElementAsRemoved(this.id,E,!0,y,ve),R&&Ft(be).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const y=this._elementListeners.get(E),R=this._engine.statesByElement.get(E);if(y&&R){const W=new Set;y.forEach(ue=>{const ve=ue.name;if(W.has(ve))return;W.add(ve);const Xe=this._triggers.get(ve).fallbackTransition,_t=R.get(ve)||G,Bt=new da(ui),Xt=new se(this.id,ve,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:ve,transition:Xe,fromState:_t,toState:Bt,player:Xt,isFallbackTransition:!0})})}}removeNode(E,y){const R=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,y),this.triggerLeaveAnimation(E,y,!0))return;let W=!1;if(R.totalAnimations){const ue=R.players.length?R.playersByQueriedElement.get(E):[];if(ue&&ue.length)W=!0;else{let ve=E;for(;ve=ve.parentNode;)if(R.statesByElement.get(ve)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(E),W)R.markElementAsRemoved(this.id,E,!1,y);else{const ue=E[Rs];(!ue||ue===At)&&(R.afterFlush(()=>this.clearElementCache(E)),R.destroyInnerAnimations(E),R._onRemovalComplete(E,y))}}insertNode(E,y){Ds(E,this._hostClassName)}drainQueuedTransitions(E){const y=[];return this._queue.forEach(R=>{const W=R.player;if(W.destroyed)return;const ue=R.element,ve=this._elementListeners.get(ue);ve&&ve.forEach(be=>{if(be.name==R.triggerName){const Xe=xn(ue,R.triggerName,R.fromState.value,R.toState.value);Xe._data=E,zn(R.player,be.phase,Xe,be.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):y.push(R)}),this._queue=[],y.sort((R,W)=>{const ue=R.transition.ast.depCount,ve=W.transition.ast.depCount;return 0==ue||0==ve?ue-ve:this._engine.driver.containsElement(R.element,W.element)?1:-1})}destroy(E){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}elementContainsData(E){let y=!1;return this._elementListeners.has(E)&&(y=!0),y=!!this._queue.find(R=>R.element===E)||y,y}}class L{constructor(E,y,R){this.bodyNode=E,this.driver=y,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,ue)=>{}}_onRemovalComplete(E,y){this.onRemovalComplete(E,y)}get queuedPlayers(){const E=[];return this._namespaceList.forEach(y=>{y.players.forEach(R=>{R.queued&&E.push(R)})}),E}createNamespace(E,y){const R=new B(E,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(R,y):(this.newHostElements.set(y,R),this.collectEnterElement(y)),this._namespaceLookup[E]=R}_balanceNamespaceList(E,y){const R=this._namespaceList,W=this.namespacesByHostElement;if(R.length-1>=0){let ve=!1,be=this.driver.getParentElement(y);for(;be;){const Xe=W.get(be);if(Xe){const _t=R.indexOf(Xe);R.splice(_t+1,0,E),ve=!0;break}be=this.driver.getParentElement(be)}ve||R.unshift(E)}else R.push(E);return W.set(y,E),E}register(E,y){let R=this._namespaceLookup[E];return R||(R=this.createNamespace(E,y)),R}registerTrigger(E,y,R){let W=this._namespaceLookup[E];W&&W.register(y,R)&&this.totalAnimations++}destroy(E,y){if(!E)return;const R=this._fetchNamespace(E);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[E];const W=this._namespaceList.indexOf(R);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>R.destroy(y))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const y=new Set,R=this.statesByElement.get(E);if(R)for(let W of R.values())if(W.namespaceId){const ue=this._fetchNamespace(W.namespaceId);ue&&y.add(ue)}return y}trigger(E,y,R,W){if(ci(y)){const ue=this._fetchNamespace(E);if(ue)return ue.trigger(y,R,W),!0}return!1}insertNode(E,y,R,W){if(!ci(y))return;const ue=y[Rs];if(ue&&ue.setForRemoval){ue.setForRemoval=!1,ue.setForMove=!0;const ve=this.collectedLeaveElements.indexOf(y);ve>=0&&this.collectedLeaveElements.splice(ve,1)}if(E){const ve=this._fetchNamespace(E);ve&&ve.insertNode(y,R)}W&&this.collectEnterElement(y)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,y){y?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Ds(E,vs)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),xs(E,vs))}removeNode(E,y,R,W){if(ci(y)){const ue=E?this._fetchNamespace(E):null;if(ue?ue.removeNode(y,W):this.markElementAsRemoved(E,y,!1,W),R){const ve=this.namespacesByHostElement.get(y);ve&&ve.id!==E&&ve.removeNode(y,W)}}else this._onRemovalComplete(y,W)}markElementAsRemoved(E,y,R,W,ue){this.collectedLeaveElements.push(y),y[Rs]={namespaceId:E,setForRemoval:W,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:ue}}listen(E,y,R,W,ue){return ci(y)?this._fetchNamespace(E).listen(y,R,W,ue):()=>{}}_buildInstruction(E,y,R,W,ue){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,R,W,E.fromState.options,E.toState.options,y,ue)}destroyInnerAnimations(E){let y=this.driver.query(E,un,!0);y.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(E,Le,!0),y.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(E){const y=this.playersByElement.get(E);y&&y.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(E){const y=this.playersByQueriedElement.get(E);y&&y.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return Ft(this.players).onDone(()=>E());E()})}processLeaveNode(E){var y;const R=E[Rs];if(R&&R.setForRemoval){if(E[Rs]=At,R.namespaceId){this.destroyInnerAnimations(E);const W=this._fetchNamespace(R.namespaceId);W&&W.clearElementCache(E)}this._onRemovalComplete(E,R.setForRemoval)}!(null===(y=E.classList)||void 0===y)&&y.contains(vs)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(W=>{this.markElementAsDisabled(W,!1)})}flush(E=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,W)=>this._balanceNamespaceList(R,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)Ds(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{y=this._flushAnimations(R,E)}finally{for(let W=0;W<R.length;W++)R[W]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],y.length?Ft(y).onDone(()=>{R.forEach(W=>W())}):R.forEach(W=>W())}}reportError(E){throw function Ee(I){return new S.vHH(3402,!1)}()}_flushAnimations(E,y){const R=new Ps,W=[],ue=new Map,ve=[],be=new Map,Xe=new Map,_t=new Map,Bt=new Set;this.disabledNodes.forEach(Tn=>{Bt.add(Tn);const Vt=this.driver.query(Tn,".ng-animate-queued",!0);for(let Kn=0;Kn<Vt.length;Kn++)Bt.add(Vt[Kn])});const Xt=this.bodyNode,An=Array.from(this.statesByElement.keys()),Bn=Zs(An,this.collectedEnterElements),vn=new Map;let Nn=0;Bn.forEach((Tn,Vt)=>{const Kn=Ue+Nn++;vn.set(Vt,Kn),Tn.forEach(gr=>Ds(gr,Kn))});const sr=[],hi=new Set,vr=new Set;for(let Tn=0;Tn<this.collectedLeaveElements.length;Tn++){const Vt=this.collectedLeaveElements[Tn],Kn=Vt[Rs];Kn&&Kn.setForRemoval&&(sr.push(Vt),hi.add(Vt),Kn.hasAnimation?this.driver.query(Vt,".ng-star-inserted",!0).forEach(gr=>hi.add(gr)):vr.add(Vt))}const Zn=new Map,fi=Zs(An,Array.from(hi));fi.forEach((Tn,Vt)=>{const Kn=ut+Nn++;Zn.set(Vt,Kn),Tn.forEach(gr=>Ds(gr,Kn))}),E.push(()=>{Bn.forEach((Tn,Vt)=>{const Kn=vn.get(Vt);Tn.forEach(gr=>xs(gr,Kn))}),fi.forEach((Tn,Vt)=>{const Kn=Zn.get(Vt);Tn.forEach(gr=>xs(gr,Kn))}),sr.forEach(Tn=>{this.processLeaveNode(Tn)})});const to=[],no=[];for(let Tn=this._namespaceList.length-1;Tn>=0;Tn--)this._namespaceList[Tn].drainQueuedTransitions(y).forEach(Kn=>{const gr=Kn.player,Bi=Kn.element;if(to.push(gr),this.collectedEnterElements.length){const p=Bi[Rs];if(p&&p.setForMove){if(p.previousTriggersValues&&p.previousTriggersValues.has(Kn.triggerName)){const _=p.previousTriggersValues.get(Kn.triggerName),A=this.statesByElement.get(Kn.element);if(A&&A.has(Kn.triggerName)){const X=A.get(Kn.triggerName);X.value=_,A.set(Kn.triggerName,X)}}return void gr.destroy()}}const ro=!Xt||!this.driver.containsElement(Xt,Bi),zs=Zn.get(Bi),Ha=vn.get(Bi),es=this._buildInstruction(Kn,R,Ha,zs,ro);if(es.errors&&es.errors.length)return void no.push(es);if(ro)return gr.onStart(()=>Oi(Bi,es.fromStyles)),gr.onDestroy(()=>Mi(Bi,es.toStyles)),void W.push(gr);if(Kn.isFallbackTransition)return gr.onStart(()=>Oi(Bi,es.fromStyles)),gr.onDestroy(()=>Mi(Bi,es.toStyles)),void W.push(gr);const Tu=[];es.timelines.forEach(p=>{p.stretchStartingKeyframe=!0,this.disabledNodes.has(p.element)||Tu.push(p)}),es.timelines=Tu,R.append(Bi,es.timelines),ve.push({instruction:es,player:gr,element:Bi}),es.queriedElements.forEach(p=>rn(be,p,[]).push(gr)),es.preStyleProps.forEach((p,_)=>{if(p.size){let A=Xe.get(_);A||Xe.set(_,A=new Set),p.forEach((X,fe)=>A.add(fe))}}),es.postStyleProps.forEach((p,_)=>{let A=_t.get(_);A||_t.set(_,A=new Set),p.forEach((X,fe)=>A.add(fe))})});if(no.length){const Tn=[];no.forEach(Vt=>{Tn.push(function pt(I,E){return new S.vHH(3505,!1)}())}),to.forEach(Vt=>Vt.destroy()),this.reportError(Tn)}const Io=new Map,si=new Map;ve.forEach(Tn=>{const Vt=Tn.element;R.has(Vt)&&(si.set(Vt,Vt),this._beforeAnimationBuild(Tn.player.namespaceId,Tn.instruction,Io))}),W.forEach(Tn=>{const Vt=Tn.element;this._getPreviousPlayers(Vt,!1,Tn.namespaceId,Tn.triggerName,null).forEach(gr=>{rn(Io,Vt,[]).push(gr),gr.destroy()})});const wi=sr.filter(Tn=>Fo(Tn,Xe,_t)),Fs=new Map;Kr(Fs,this.driver,vr,_t,Q.l3).forEach(Tn=>{Fo(Tn,Xe,_t)&&wi.push(Tn)});const Ks=new Map;Bn.forEach((Tn,Vt)=>{Kr(Ks,this.driver,new Set(Tn),Xe,Q.k1)}),wi.forEach(Tn=>{var Vt,Kn;const gr=Fs.get(Tn),Bi=Ks.get(Tn);Fs.set(Tn,new Map([...Array.from(null!==(Vt=null==gr?void 0:gr.entries())&&void 0!==Vt?Vt:[]),...Array.from(null!==(Kn=null==Bi?void 0:Bi.entries())&&void 0!==Kn?Kn:[])]))});const Rl=[],ja=[],_c={};ve.forEach(Tn=>{const{element:Vt,player:Kn,instruction:gr}=Tn;if(R.has(Vt)){if(Bt.has(Vt))return Kn.onDestroy(()=>Mi(Vt,gr.toStyles)),Kn.disabled=!0,Kn.overrideTotalTime(gr.totalTime),void W.push(Kn);let Bi=_c;if(si.size>1){let zs=Vt;const Ha=[];for(;zs=zs.parentNode;){const es=si.get(zs);if(es){Bi=es;break}Ha.push(zs)}Ha.forEach(es=>si.set(es,Bi))}const ro=this._buildAnimation(Kn.namespaceId,gr,Io,ue,Ks,Fs);if(Kn.setRealPlayer(ro),Bi===_c)Rl.push(Kn);else{const zs=this.playersByElement.get(Bi);zs&&zs.length&&(Kn.parentPlayer=Ft(zs)),W.push(Kn)}}else Oi(Vt,gr.fromStyles),Kn.onDestroy(()=>Mi(Vt,gr.toStyles)),ja.push(Kn),Bt.has(Vt)&&W.push(Kn)}),ja.forEach(Tn=>{const Vt=ue.get(Tn.element);if(Vt&&Vt.length){const Kn=Ft(Vt);Tn.setRealPlayer(Kn)}}),W.forEach(Tn=>{Tn.parentPlayer?Tn.syncPlayerEvents(Tn.parentPlayer):Tn.destroy()});for(let Tn=0;Tn<sr.length;Tn++){const Vt=sr[Tn],Kn=Vt[Rs];if(xs(Vt,ut),Kn&&Kn.hasAnimation)continue;let gr=[];if(be.size){let ro=be.get(Vt);ro&&ro.length&&gr.push(...ro);let zs=this.driver.query(Vt,Le,!0);for(let Ha=0;Ha<zs.length;Ha++){let es=be.get(zs[Ha]);es&&es.length&&gr.push(...es)}}const Bi=gr.filter(ro=>!ro.destroyed);Bi.length?So(this,Vt,Bi):this.processLeaveNode(Vt)}return sr.length=0,Rl.forEach(Tn=>{this.players.push(Tn),Tn.onDone(()=>{Tn.destroy();const Vt=this.players.indexOf(Tn);this.players.splice(Vt,1)}),Tn.play()}),Rl}elementContainsData(E,y){let R=!1;const W=y[Rs];return W&&W.setForRemoval&&(R=!0),this.playersByElement.has(y)&&(R=!0),this.playersByQueriedElement.has(y)&&(R=!0),this.statesByElement.has(y)&&(R=!0),this._fetchNamespace(E).elementContainsData(y)||R}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,y,R,W,ue){let ve=[];if(y){const be=this.playersByQueriedElement.get(E);be&&(ve=be)}else{const be=this.playersByElement.get(E);if(be){const Xe=!ue||ue==ui;be.forEach(_t=>{_t.queued||!Xe&&_t.triggerName!=W||ve.push(_t)})}}return(R||W)&&(ve=ve.filter(be=>!(R&&R!=be.namespaceId||W&&W!=be.triggerName))),ve}_beforeAnimationBuild(E,y,R){const ue=y.element,ve=y.isRemovalTransition?void 0:E,be=y.isRemovalTransition?void 0:y.triggerName;for(const Xe of y.timelines){const _t=Xe.element,Bt=_t!==ue,Xt=rn(R,_t,[]);this._getPreviousPlayers(_t,Bt,ve,be,y.toState).forEach(Bn=>{const vn=Bn.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),Bn.destroy(),Xt.push(Bn)})}Oi(ue,y.fromStyles)}_buildAnimation(E,y,R,W,ue,ve){const be=y.triggerName,Xe=y.element,_t=[],Bt=new Set,Xt=new Set,An=y.timelines.map(vn=>{const Nn=vn.element;Bt.add(Nn);const sr=Nn[Rs];if(sr&&sr.removedBeforeQueried)return new Q.ZN(vn.duration,vn.delay);const hi=Nn!==Xe,vr=function Fl(I){const E=[];return Lo(I,E),E}((R.get(Nn)||Aa).map(Io=>Io.getRealPlayer())).filter(Io=>!!Io.element&&Io.element===Nn),Zn=ue.get(Nn),fi=ve.get(Nn),to=Hn(0,this._normalizer,0,vn.keyframes,Zn,fi),no=this._buildPlayer(vn,to,vr);if(vn.subTimeline&&W&&Xt.add(Nn),hi){const Io=new se(E,be,Nn);Io.setRealPlayer(no),_t.push(Io)}return no});_t.forEach(vn=>{rn(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function dt(I,E,y){let R=I.get(E);if(R){if(R.length){const W=R.indexOf(y);R.splice(W,1)}0==R.length&&I.delete(E)}return R}(this.playersByQueriedElement,vn.element,vn))}),Bt.forEach(vn=>Ds(vn,Pe));const Bn=Ft(An);return Bn.onDestroy(()=>{Bt.forEach(vn=>xs(vn,Pe)),Mi(Xe,y.toStyles)}),Xt.forEach(vn=>{rn(W,vn,[]).push(Bn)}),Bn}_buildPlayer(E,y,R){return y.length>0?this.driver.animate(E.element,y,E.duration,E.delay,E.easing,R):new Q.ZN(E.duration,E.delay)}}class se{constructor(E,y,R){this.namespaceId=E,this.triggerName=y,this.element=R,this._player=new Q.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((y,R)=>{y.forEach(W=>zn(E,R,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const y=this._player;y.triggerCallback&&E.onStart(()=>y.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,y){rn(this._queuedCallbacks,E,[]).push(y)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const y=this._player;y.triggerCallback&&y.triggerCallback(E)}}function ci(I){return I&&1===I.nodeType}function co(I,E){const y=I.style.display;return I.style.display=null!=E?E:"none",y}function Kr(I,E,y,R,W){const ue=[];y.forEach(Xe=>ue.push(co(Xe)));const ve=[];R.forEach((Xe,_t)=>{const Bt=new Map;Xe.forEach(Xt=>{const An=E.computeStyle(_t,Xt,W);Bt.set(Xt,An),(!An||0==An.length)&&(_t[Rs]=Cr,ve.push(_t))}),I.set(_t,Bt)});let be=0;return y.forEach(Xe=>co(Xe,ue[be++])),ve}function Zs(I,E){const y=new Map;if(I.forEach(be=>y.set(be,[])),0==E.length)return y;const W=new Set(E),ue=new Map;function ve(be){if(!be)return 1;let Xe=ue.get(be);if(Xe)return Xe;const _t=be.parentNode;return Xe=y.has(_t)?_t:W.has(_t)?1:ve(_t),ue.set(be,Xe),Xe}return E.forEach(be=>{const Xe=ve(be);1!==Xe&&y.get(Xe).push(be)}),y}function Ds(I,E){var y;null===(y=I.classList)||void 0===y||y.add(E)}function xs(I,E){var y;null===(y=I.classList)||void 0===y||y.remove(E)}function So(I,E,y){Ft(y).onDone(()=>I.processLeaveNode(E))}function Lo(I,E){for(let y=0;y<I.length;y++){const R=I[y];R instanceof Q.ZE?Lo(R.players,E):E.push(R)}}function Fo(I,E,y){const R=y.get(I);if(!R)return!1;let W=E.get(I);return W?R.forEach(ue=>W.add(ue)):E.set(I,R),y.delete(I),!0}class ko{constructor(E,y,R){this.bodyNode=E,this._driver=y,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(W,ue)=>{},this._transitionEngine=new L(E,y,R),this._timelineEngine=new bs(E,y,R),this._transitionEngine.onRemovalComplete=(W,ue)=>this.onRemovalComplete(W,ue)}registerTrigger(E,y,R,W,ue){const ve=E+"-"+W;let be=this._triggerCache[ve];if(!be){const Xe=[],Bt=Us(this._driver,ue,Xe,[]);if(Xe.length)throw function ls(I,E){return new S.vHH(3404,!1)}();be=function Sa(I,E,y){return new Vs(I,E,y)}(W,Bt,this._normalizer),this._triggerCache[ve]=be}this._transitionEngine.registerTrigger(y,W,be)}register(E,y){this._transitionEngine.register(E,y)}destroy(E,y){this._transitionEngine.destroy(E,y)}onInsert(E,y,R,W){this._transitionEngine.insertNode(E,y,R,W)}onRemove(E,y,R,W){this._transitionEngine.removeNode(E,y,W||!1,R)}disableAnimations(E,y){this._transitionEngine.markElementAsDisabled(E,y)}process(E,y,R,W){if("@"==R.charAt(0)){const[ue,ve]=$n(R);this._timelineEngine.command(ue,y,ve,W)}else this._transitionEngine.trigger(E,y,R,W)}listen(E,y,R,W,ue){if("@"==R.charAt(0)){const[ve,be]=$n(R);return this._timelineEngine.listen(ve,y,be,ue)}return this._transitionEngine.listen(E,y,R,W,ue)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ha=(()=>{class I{constructor(y,R,W){this._element=y,this._startStyles=R,this._endStyles=W,this._state=0;let ue=I.initialStylesByElement.get(y);ue||I.initialStylesByElement.set(y,ue=new Map),this._initialStyles=ue}start(){this._state<1&&(this._startStyles&&Mi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mi(this._element,this._initialStyles),this._endStyles&&(Mi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(Oi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oi(this._element,this._endStyles),this._endStyles=null),Mi(this._element,this._initialStyles),this._state=3)}}return I.initialStylesByElement=new WeakMap,I})();function _o(I){let E=null;return I.forEach((y,R)=>{(function bo(I){return"display"===I||"position"===I})(R)&&(E=E||new Map,E.set(R,y))}),E}class vo{constructor(E,y,R,W){this.element=E,this.keyframes=y,this.options=R,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const y=[];return E.forEach(R=>{y.push(Object.fromEntries(R))}),y}_triggerWebAnimation(E,y,R){return E.animate(this._convertKeyframesToObject(y),R)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,W)=>{"offset"!==W&&E.set(W,this._finished?R:Vn(this.element,W))}),this.currentSnapshot=E}triggerCallback(E){const y="start"===E?this._onStartFns:this._onDoneFns;y.forEach(R=>R()),y.length=0}}class As{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,y){return!1}containsElement(E,y){return $t(E,y)}getParentElement(E){return Tr(E)}query(E,y,R){return en(E,y,R)}computeStyle(E,y,R){return window.getComputedStyle(E)[y]}animate(E,y,R,W,ue,ve=[]){const Xe={duration:R,delay:W,fill:0==W?"both":"forwards"};ue&&(Xe.easing=ue);const _t=new Map,Bt=ve.filter(Bn=>Bn instanceof vo);(function vi(I,E){return 0===I||0===E})(R,W)&&Bt.forEach(Bn=>{Bn.currentSnapshot.forEach((vn,Nn)=>_t.set(Nn,vn))});let Xt=function ai(I){return I.length?I[0]instanceof Map?I:I.map(E=>ir(E)):[]}(y).map(Bn=>Sn(Bn));Xt=function Pi(I,E,y){if(y.size&&E.length){let R=E[0],W=[];if(y.forEach((ue,ve)=>{R.has(ve)||W.push(ve),R.set(ve,ue)}),W.length)for(let ue=1;ue<E.length;ue++){let ve=E[ue];W.forEach(be=>ve.set(be,Vn(I,be)))}}return E}(E,Xt,_t);const An=function Ma(I,E){let y=null,R=null;return Array.isArray(E)&&E.length?(y=_o(E[0]),E.length>1&&(R=_o(E[E.length-1]))):E instanceof Map&&(y=_o(E)),y||R?new ha(I,y,R):null}(E,Xt);return new vo(E,Xt,Xe,An)}}let fa=(()=>{class I extends Q._j{constructor(y,R){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(R.body,{id:"0",encapsulation:S.ifc.None,styles:[],data:{animation:[]}})}build(y){const R=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(y)?(0,Q.vP)(y):y;return k(this._renderer,null,R,"register",[W]),new sl(R,this._renderer)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(S.FYo),S.LFG(le.K0))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();class sl extends Q.LC{constructor(E,y){super(),this._id=E,this._renderer=y}create(E,y){return new Uo(this._id,E,y||{},this._renderer)}}class Uo{constructor(E,y,R,W){this.id=E,this.element=y,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(E,y){return this._renderer.listen(this.element,`@@${this.id}:${E}`,y)}_command(E,...y){return k(this._renderer,this.element,this.id,E,y)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){var E,y;return null!==(y=null===(E=this._renderer.engine.players[+this.id])||void 0===E?void 0:E.getPosition())&&void 0!==y?y:0}}function k(I,E,y,R,W){return I.setProperty(E,`@@${y}:${R}`,W)}const J="@",V="@.disabled";let oe=(()=>{class I{constructor(y,R,W){this.delegate=y,this.engine=R,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(ue,ve)=>{const be=null==ve?void 0:ve.parentNode(ue);be&&ve.removeChild(be,ue)}}createRenderer(y,R){const ue=this.delegate.createRenderer(y,R);if(!(y&&R&&R.data&&R.data.animation)){let Bt=this._rendererCache.get(ue);return Bt||(Bt=new De("",ue,this.engine),this._rendererCache.set(ue,Bt)),Bt}const ve=R.id,be=R.id+"-"+this._currentId;this._currentId++,this.engine.register(be,y);const Xe=Bt=>{Array.isArray(Bt)?Bt.forEach(Xe):this.engine.registerTrigger(ve,be,y,Bt.name,Bt)};return R.data.animation.forEach(Xe),new rt(this,be,ue,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,R,W){y>=0&&y<this._microtaskId?this._zone.run(()=>R(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ue=>{const[ve,be]=ue;ve(be)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(S.FYo),S.LFG(ko),S.LFG(S.R0b))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();class De{constructor(E,y,R){this.namespaceId=E,this.delegate=y,this.engine=R,this.destroyNode=this.delegate.destroyNode?W=>y.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(E,y){return this.delegate.createElement(E,y)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,y){this.delegate.appendChild(E,y),this.engine.onInsert(this.namespaceId,y,E,!1)}insertBefore(E,y,R,W=!0){this.delegate.insertBefore(E,y,R),this.engine.onInsert(this.namespaceId,y,E,W)}removeChild(E,y,R){this.engine.onRemove(this.namespaceId,y,this.delegate,R)}selectRootElement(E,y){return this.delegate.selectRootElement(E,y)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,y,R,W){this.delegate.setAttribute(E,y,R,W)}removeAttribute(E,y,R){this.delegate.removeAttribute(E,y,R)}addClass(E,y){this.delegate.addClass(E,y)}removeClass(E,y){this.delegate.removeClass(E,y)}setStyle(E,y,R,W){this.delegate.setStyle(E,y,R,W)}removeStyle(E,y,R){this.delegate.removeStyle(E,y,R)}setProperty(E,y,R){y.charAt(0)==J&&y==V?this.disableAnimations(E,!!R):this.delegate.setProperty(E,y,R)}setValue(E,y){this.delegate.setValue(E,y)}listen(E,y,R){return this.delegate.listen(E,y,R)}disableAnimations(E,y){this.engine.disableAnimations(E,y)}}class rt extends De{constructor(E,y,R,W){super(y,R,W),this.factory=E,this.namespaceId=y}setProperty(E,y,R){y.charAt(0)==J?"."==y.charAt(1)&&y==V?this.disableAnimations(E,R=void 0===R||!!R):this.engine.process(this.namespaceId,E,y.slice(1),R):this.delegate.setProperty(E,y,R)}listen(E,y,R){if(y.charAt(0)==J){const W=function ft(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(E);let ue=y.slice(1),ve="";return ue.charAt(0)!=J&&([ue,ve]=function nn(I){const E=I.indexOf(".");return[I.substring(0,E),I.slice(E+1)]}(ue)),this.engine.listen(this.namespaceId,W,ue,ve,be=>{this.factory.scheduleListenerCallback(be._data||-1,R,be)})}return this.delegate.listen(E,y,R)}}let Vr=(()=>{class I extends ko{constructor(y,R,W,ue){super(y.body,R,W)}ngOnDestroy(){this.flush()}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(le.K0),S.LFG(Ar),S.LFG(bi),S.LFG(S.z2F))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();const ar=[{provide:Q._j,useClass:fa},{provide:bi,useFactory:function Pn(){return new qs}},{provide:ko,useClass:Vr},{provide:S.FYo,useFactory:function fr(I,E,y){return new oe(I,E,y)},deps:[f.se,ko,S.R0b]}],Ri=[{provide:Ar,useFactory:()=>new As},{provide:S.QbO,useValue:"BrowserAnimations"},...ar],Mr=[{provide:Ar,useClass:or},{provide:S.QbO,useValue:"NoopAnimations"},...ar];let ki=(()=>{class I{static withConfig(y){return{ngModule:I,providers:y.disableAnimations?Mr:Ri}}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:Ri,imports:[f.b2]}),I})();var qi=D(8505),ss=D(1135);let pa=(()=>{class I{constructor(y){this.router=y,this.loadCount=0,this.loadState=new ss.X(!1),this.router.events.subscribe(R=>{this.navigationInterceptor(R)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(y){y instanceof H.OD&&this.showLoader(),y instanceof H.m2&&this.hideLoader(),y instanceof H.gk&&this.hideLoader(),y instanceof H.Q3&&this.hideLoader()}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(H.F0))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Lt=(()=>{class I{constructor(y){this.loaderService=y}intercept(y,R){return this.loaderService.showLoader(),R.handle(y).pipe((0,qi.b)(W=>{W instanceof ke.Zn&&this.loaderService.hideLoader()},W=>{this.loaderService.hideLoader()}))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(pa))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();const Zi={provide:ke.TP,useClass:Lt,multi:!0};var Vo=D(9770),qa=D(2843),fn=D(4968),an=D(9646),zc=D(7272),Jt=D(7579),at=D(9751),Rt=D(5032);const Ci=new at.y(Rt.Z);var ol=D(6451),Ui=D(4004),Ns=D(9300),na=D(3900),Bo=D(8646),Hs=D(5698),Oa=D(4086);const Pa="Service workers are disabled or not supported by this browser";class Ra{constructor(E){if(this.serviceWorker=E,E){const R=(0,fn.R)(E,"controllerchange").pipe((0,Ui.U)(()=>E.controller)),W=(0,Vo.P)(()=>(0,an.of)(E.controller)),ue=(0,zc.z)(W,R);this.worker=ue.pipe((0,Ns.h)(Bt=>!!Bt)),this.registration=this.worker.pipe((0,na.w)(()=>E.getRegistration()));const _t=(0,fn.R)(E,"message").pipe((0,Ui.U)(Bt=>Bt.data)).pipe((0,Ns.h)(Bt=>Bt&&Bt.type)).pipe((0,Bo.n)());_t.connect(),this.events=_t}else this.worker=this.events=this.registration=function pu(I){return(0,Vo.P)(()=>(0,qa._)(new Error(I)))}(Pa)}postMessage(E,y){return this.worker.pipe((0,Hs.q)(1),(0,qi.b)(R=>{R.postMessage(Object.assign({action:E},y))})).toPromise().then(()=>{})}postMessageWithOperation(E,y,R){const W=this.waitForOperationCompleted(R),ue=this.postMessage(E,y);return Promise.all([ue,W]).then(([,ve])=>ve)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(E){let y;return y="string"==typeof E?R=>R.type===E:R=>E.includes(R.type),this.events.pipe((0,Ns.h)(y))}nextEventOfType(E){return this.eventsOfType(E).pipe((0,Hs.q)(1))}waitForOperationCompleted(E){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ns.h)(y=>y.nonce===E),(0,Hs.q)(1),(0,Ui.U)(y=>{if(void 0!==y.result)return y.result;throw new Error(y.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let tr=(()=>{class I{constructor(y){if(this.sw=y,this.subscriptionChanges=new Jt.x,!y.isEnabled)return this.messages=Ci,this.notificationClicks=Ci,void(this.subscription=Ci);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ui.U)(W=>W.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ui.U)(W=>W.data)),this.pushManager=this.sw.registration.pipe((0,Ui.U)(W=>W.pushManager));const R=this.pushManager.pipe((0,na.w)(W=>W.getSubscription()));this.subscription=(0,ol.T)(R,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(y){if(!this.sw.isEnabled)return Promise.reject(new Error(Pa));const R={userVisibleOnly:!0};let W=this.decodeBase64(y.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),ue=new Uint8Array(new ArrayBuffer(W.length));for(let ve=0;ve<W.length;ve++)ue[ve]=W.charCodeAt(ve);return R.applicationServerKey=ue,this.pushManager.pipe((0,na.w)(ve=>ve.subscribe(R)),(0,Hs.q)(1)).toPromise().then(ve=>(this.subscriptionChanges.next(ve),ve))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Hs.q)(1),(0,na.w)(R=>{if(null===R)throw new Error("Not subscribed to push notifications.");return R.unsubscribe().then(W=>{if(!W)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Pa))}decodeBase64(y){return atob(y)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(Ra))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),$s=(()=>{class I{constructor(y){if(this.sw=y,!y.isEnabled)return this.versionUpdates=Ci,this.available=Ci,this.activated=Ci,void(this.unrecoverable=Ci);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ns.h)(R=>"VERSION_READY"===R.type),(0,Ui.U)(R=>({type:"UPDATE_AVAILABLE",current:R.currentVersion,available:R.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pa));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:y},y)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pa));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:y},y)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(Ra))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();class Zl{}const ii=new S.OlP("NGSW_REGISTER_SCRIPT");function wn(I,E,y,R){return()=>{if(!(0,le.NF)(R)||!("serviceWorker"in navigator)||!1===y.enabled)return;let W;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof y.registrationStrategy)W=y.registrationStrategy();else{const[ve,...be]=(y.registrationStrategy||"registerWhenStable:30000").split(":");switch(ve){case"registerImmediately":W=(0,an.of)(null);break;case"registerWithDelay":W=ra(+be[0]||0);break;case"registerWhenStable":W=be[0]?(0,ol.T)(_r(I),ra(+be[0])):_r(I);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${y.registrationStrategy}`)}}I.get(S.R0b).runOutsideAngular(()=>W.pipe((0,Hs.q)(1)).subscribe(()=>navigator.serviceWorker.register(E,{scope:y.scope}).catch(ve=>console.error("Service worker registration failed with:",ve))))}}function ra(I){return(0,an.of)(null).pipe((0,Oa.g)(I))}function _r(I){return I.get(S.z2F).isStable.pipe((0,Ns.h)(y=>y))}function os(I,E){return new Ra((0,le.NF)(E)&&!1!==I.enabled?navigator.serviceWorker:void 0)}let Sr=(()=>{class I{static register(y,R={}){return{ngModule:I,providers:[{provide:ii,useValue:y},{provide:Zl,useValue:R},{provide:Ra,useFactory:os,deps:[Zl,S.Lbi]},{provide:S.ip1,useFactory:wn,deps:[S.zs3,ii,Zl,S.Lbi],multi:!0}]}}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[tr,$s]}),I})();var qt=D(2340);let jo=(()=>{class I{constructor(y){this.injector=y}handleError(y){const R=this.injector.get(Kt.g);this.injector.get(H.F0),y instanceof ke.UA?(navigator.onLine||R.notify("No Internet Connection"),R.notify(`${y.status} - ${y.message}`)):R.notify(y),console.error(y)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(S.zs3))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();function ia(I,E){if(1&I&&(S.TgZ(0,"div")(1,"h1"),S._uU(2),S.qZA(),S.TgZ(3,"a",2)(4,"h5"),S._uU(5,"Go to Home"),S.qZA()()()),2&I){const y=S.oxw();S.xp6(2),S.hij("ERROR ",null==y.routeParams?null:y.routeParams.error,""),S.xp6(1),S.Q6J("routerLink","/")}}const gu=[{path:"error",component:(()=>{class I{constructor(y){this.activatedRoute=y}ngOnInit(){this.routeParams=this.activatedRoute.snapshot.queryParams}}return I.\u0275fac=function(y){return new(y||I)(S.Y36(H.gz))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-errors"]],decls:2,vars:1,consts:[[1,"error-container"],[4,"ngIf"],[3,"routerLink"]],template:function(y,R){1&y&&(S.TgZ(0,"div",0),S.YNc(1,ia,6,2,"div",1),S.qZA()),2&y&&(S.xp6(1),S.Q6J("ngIf",null==R.routeParams?null:R.routeParams.error))},dependencies:[le.O5,H.yS],styles:[".error-container[_ngcontent-%COMP%]{width:220px;margin:50% auto 0;transform:translateY(-50%);text-align:center}"]}),I})()}];let xa=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({imports:[H.Bz.forChild(gu),H.Bz]}),I})();var al=D(5625),Ho=D(262);const ul={provide:ke.TP,useClass:class ll{intercept(E,y){return y.handle(E).pipe((0,al.X)(0),(0,Ho.K)(this.handleError))}handleError(E){let y="";return y=E.error instanceof ErrorEvent?`Error: ${E.error.message}`:`Error Code: ${E.status}\\nMessage: ${E.message}`,(0,qa._)(E)}},multi:!0};let $i=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[{provide:S.qLn,useClass:jo},ul],imports:[le.ez,xa]}),I})();var ga=D(4466),Na=D(7637),Js=D(9155);let ma=(()=>{class I{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),ct=(()=>{class I extends Na.u{constructor(y,R){super(),this.http=y,this.config=R}getCurrentWeather(y,R){const ue=this.getParams(y,R);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:ue}).pipe((0,Ui.U)(ve=>({temperature:ve.main.temp,temperatureMin:ve.main.temp_min,temperatureMax:ve.main.temp_max,city:ve.name,conditions:(0,Js.wJ)(ve.weather[0]),date:new Date(ve.dt),zipCode:y,countryCode:R})))}getWeatherForecast(y,R){const ue=this.getParams(y,R);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:ue}).pipe((0,Ui.U)(ve=>ve.list.map(be=>({temperature:be.temp.day,temperatureMin:be.temp.min,temperatureMax:be.temp.max,city:ve.city.name,conditions:(0,Js.wJ)(be.weather[0]),date:new Date(1e3*be.dt),zipCode:y,countryCode:R}))))}getParams(y,R="us"){return new ke.LE({fromObject:{zip:`${y},${R}`,appid:this.config.apiKey}})}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(ke.eN),S.LFG(ma))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),Eo=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Zi],imports:[le.ez]}),I})();var fs=D(9884);const La={todos:[]},Za=(I=La,E)=>{switch(E.type){case"ADD":return{todos:[...I.todos,{index:I.todos.length,text:E.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:I.todos.map((y,R)=>R===E.index?Object.assign(Object.assign({},y),{done:!y.done}):y)};case"REMOVE":return{todos:I.todos.splice(I.todos.findIndex(y=>y.index===E.index),1)};case"SAVED":return{todos:I.todos.map((y,R)=>R===E.index?Object.assign(Object.assign({},y),{saved:!0}):y)};default:return I}};var Mo=D(457),Do=D(5577),Ja=D(9468);let yu=(()=>{class I{constructor(){var y;this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const R=null!==(y=this.getLastActiveFromLocalStorage())&&void 0!==y?y:new Date;this.lastActive=new ss.X(R),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,Mo.D)(this.events).pipe((0,Do.z)(y=>(0,fn.R)(document,y)),(0,Ja.p)(this.recordTimeoutMs)).subscribe(y=>this.recordLastActiveDate()),(0,fn.R)(window,"storage").pipe((0,Ns.h)(y=>y.storageArea===localStorage&&y.key===this.localStorageKey&&!!y.newValue),(0,Ui.U)(y=>new Date(y.newValue))).subscribe(y=>this.lastActive.next(y))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var y=new Date;localStorage.setItem(this.localStorageKey,y.toString()),this.lastActive.next(y)}getLastActiveFromLocalStorage(){const y=localStorage.getItem(this.localStorageKey);return y?new Date(y):null}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const di={provide:S.ip1,multi:!0,deps:[yu],useFactory:I=>()=>I.setUp()};let Xa=1;class Mu{constructor(){this.userName="Philip Marlowe"}}let ho=(()=>{class I{constructor(y){this.id=Xa++,this._userName="Sherlock Holmes",y&&(this._userName=y.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(Mu,8))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),Ou=(()=>{class I{constructor(y){if(y)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(y){return{ngModule:I,providers:[{provide:Mu,useValue:y}]}}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(I,12))},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[ho],imports:[le.ez]}),I})();var Fa=D(2713),Ji=D(5094),$o=D(7369),el=D(3550);let Go=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[el.T],imports:[Ji.Aw.forFeature($o.UN,$o.Jl)]}),I})();var ka=D(2852),xi=D(8502),Jl=D(515),Gi=D(576);class M{constructor(E,y,R){this.kind=E,this.value=y,this.error=R,this.hasValue="N"===E}observe(E){return O(this,E)}do(E,y,R){const{kind:W,value:ue,error:ve}=this;return"N"===W?null==E?void 0:E(ue):"E"===W?null==y?void 0:y(ve):null==R?void 0:R()}accept(E,y,R){var W;return(0,Gi.m)(null===(W=E)||void 0===W?void 0:W.next)?this.observe(E):this.do(E,y,R)}toObservable(){const{kind:E,value:y,error:R}=this,W="N"===E?(0,an.of)(y):"E"===E?(0,qa._)(()=>R):"C"===E?Jl.E:0;if(!W)throw new TypeError(`Unexpected notification kind ${E}`);return W}static createNext(E){return new M("N",E)}static createError(E){return new M("E",void 0,E)}static createComplete(){return M.completeNotification}}function O(I,E){var y,R,W;const{kind:ue,value:ve,error:be}=I;if("string"!=typeof ue)throw new TypeError('Invalid notification, missing "kind"');"N"===ue?null===(y=E.next)||void 0===y||y.call(E,ve):"E"===ue?null===(R=E.error)||void 0===R||R.call(E,be):null===(W=E.complete)||void 0===W||W.call(E)}M.completeNotification=new M("C");var T=D(4482),F=D(5403),ie=D(8421);function _e(I,E,y,R){return(0,T.e)((W,ue)=>{let ve;E&&"function"!=typeof E?({duration:y,element:ve,connector:R}=E):ve=E;const be=new Map,Xe=An=>{be.forEach(An),An(ue)},_t=An=>Xe(Bn=>Bn.error(An)),Bt=new Te(ue,An=>{try{const Bn=I(An);let vn=be.get(Bn);if(!vn){be.set(Bn,vn=R?R():new Jt.x);const Nn=function Xt(An,Bn){const vn=new at.y(Nn=>{Bt.activeGroups++;const sr=Bn.subscribe(Nn);return()=>{sr.unsubscribe(),0==--Bt.activeGroups&&Bt.teardownAttempted&&Bt.unsubscribe()}});return vn.key=An,vn}(Bn,vn);if(ue.next(Nn),y){const sr=new F.Q(vn,()=>{vn.complete(),null==sr||sr.unsubscribe()},void 0,void 0,()=>be.delete(Bn));Bt.add((0,ie.Xf)(y(Nn)).subscribe(sr))}}vn.next(ve?ve(An):An)}catch(Bn){_t(Bn)}},()=>Xe(An=>An.complete()),_t,()=>be.clear());W.subscribe(Bt)})}class Te extends F.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var Je=D(6129);const gn={dispatch:!0,useEffectsErrorHandler:!0},zt="__@ngrx/effects_create__";function hn(I,E){const y=I(),R=Object.assign(Object.assign({},gn),E);return Object.defineProperty(y,zt,{value:R}),y}function pr(I){return Object.getOwnPropertyNames(I).filter(R=>!(!I[R]||!I[R].hasOwnProperty(zt))&&I[R][zt].hasOwnProperty("dispatch")).map(R=>Object.assign({propertyName:R},I[R][zt]))}function jr(I){return Object.getPrototypeOf(I)}const ps="__@ngrx/effects__";function Co(I){return(0,Ji.qC)(Ws,jr)(I)}function Ws(I){return function Is(I){return I.constructor.hasOwnProperty(ps)}(I)?I.constructor[ps]:[]}function eu(I,E,y){const R=jr(I).constructor.name,W=function Xl(I){return[Co,pr].reduce((y,R)=>y.concat(R(I)),[])}(I).map(({propertyName:ue,dispatch:ve,useEffectsErrorHandler:be})=>{const Xe="function"==typeof I[ue]?I[ue]():I[ue],_t=be?y(Xe,E):Xe;return!1===ve?_t.pipe((0,xi.l)()):_t.pipe(function $(){return(0,T.e)((I,E)=>{I.subscribe(new F.Q(E,y=>{E.next(M.createNext(y))},()=>{E.next(M.createComplete()),E.complete()},y=>{E.next(M.createError(y)),E.complete()}))})}()).pipe((0,Ui.U)(Xt=>({effect:I[ue],notification:Xt,propertyName:ue,sourceName:R,sourceInstance:I})))});return(0,ol.T)(...W)}function mc(I,E,y=10){return I.pipe((0,Ho.K)(R=>(E&&E.handleError(R),y<=1?I:mc(I,E,y-1))))}let tl=(()=>{class I extends at.y{constructor(y){super(),y&&(this.source=y)}lift(y){const R=new I;return R.source=this,R.operator=y,R}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(Ji.Y$))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ms(...I){return(0,Ns.h)(E=>I.some(y=>"string"==typeof y?y===E.type:y.type===E.type))}const Il=new S.OlP("@ngrx/effects Internal Root Guard"),nl=new S.OlP("@ngrx/effects User Provided Effects"),Pu=new S.OlP("@ngrx/effects Internal Root Effects"),Or=new S.OlP("@ngrx/effects Root Effects"),Zr=new S.OlP("@ngrx/effects Internal Feature Effects"),ya=new S.OlP("@ngrx/effects Feature Effects"),Wo=new S.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>mc}),kl="@ngrx/effects/init";function Va(I){return pl(I,"ngrxOnInitEffects")}function pl(I,E){return I&&E in I&&"function"==typeof I[E]}(0,Ji.PH)(kl);let Ru=(()=>{class I extends Jt.x{constructor(y,R){super(),this.errorHandler=y,this.effectsErrorHandler=R}addEffects(y){this.next(y)}toActions(){return this.pipe(_e(jr),(0,Do.z)(y=>y.pipe(_e(rl))),(0,Do.z)(y=>{const R=y.pipe((0,Je.z)(ue=>function _u(I,E){return y=>{const R=eu(y,I,E);return function nu(I){return pl(I,"ngrxOnRunEffects")}(y)?y.ngrxOnRunEffects(R):R}}(this.errorHandler,this.effectsErrorHandler)(ue)),(0,Ui.U)(ue=>(function hl(I,E){if("N"===I.notification.kind){const y=I.notification.value;!function fl(I){return"function"!=typeof I&&I&&I.type&&"string"==typeof I.type}(y)&&E.handleError(new Error(`Effect ${function sa({propertyName:I,sourceInstance:E,sourceName:y}){const R="function"==typeof E[I];return`"${y}.${String(I)}${R?"()":""}"`}(I)} dispatched an invalid action: ${function wl(I){try{return JSON.stringify(I)}catch(E){return I}}(y)}`))}}(ue,this.errorHandler),ue.notification)),(0,Ns.h)(ue=>"N"===ue.kind&&null!=ue.value),function Ht(){return(0,T.e)((I,E)=>{I.subscribe(new F.Q(E,y=>O(y,E)))})}()),W=y.pipe((0,Hs.q)(1),(0,Ns.h)(Va),(0,Ui.U)(ue=>ue.ngrxOnInitEffects()));return(0,ol.T)(R,W)}))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(S.qLn),S.LFG(Wo))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function rl(I){return function Yu(I){return pl(I,"ngrxOnIdentifyEffects")}(I)?I.ngrxOnIdentifyEffects():""}let Ii=(()=>{class I{constructor(y,R){this.effectSources=y,this.store=R,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(Ru),S.LFG(Ji.yh))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),_a=(()=>{class I{constructor(y,R,W,ue,ve,be,Xe){this.sources=y,R.start(),ue.forEach(_t=>y.addEffects(_t)),W.dispatch({type:kl})}addEffects(y){this.sources.addEffects(y)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(Ru),S.LFG(Ii),S.LFG(Ji.yh),S.LFG(Or),S.LFG(Ji.cr,8),S.LFG(Ji.CK,8),S.LFG(Il,8))},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})(),Xs=(()=>{class I{constructor(y,R,W,ue){R.forEach(ve=>ve.forEach(be=>y.addEffects(be)))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(_a),S.LFG(ya),S.LFG(Ji.cr,8),S.LFG(Ji.CK,8))},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})(),zr=(()=>{class I{static forFeature(y=[]){return{ngModule:Xs,providers:[y,{provide:Zr,multi:!0,useValue:y},{provide:nl,multi:!0,useValue:[]},{provide:ya,multi:!0,useFactory:Ko,deps:[S.zs3,Zr,nl]}]}}static forRoot(y=[]){return{ngModule:_a,providers:[y,{provide:Pu,useValue:[y]},{provide:Il,useFactory:Ls,deps:[[Ii,new S.FiY,new S.tp0],[Pu,new S.PiD]]},{provide:nl,multi:!0,useValue:[]},{provide:Or,useFactory:Ko,deps:[S.zs3,Pu,nl]}]}}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})();function Ko(I,E,y){const R=[];for(const W of E)R.push(...W);for(const W of y)R.push(...W);return function ws(I,E){return E.map(y=>I.get(y))}(I,R)}function Ls(I,E){if((1!==E.length||0!==E[0].length)&&I)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Ul=D(4579);let Vl=(()=>{class I{loadCounter(){return(0,an.of)(1999)}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Tl=(()=>{class I{constructor(y,R){this.actions$=y,this.counterService=R,this.loadData$=hn(()=>this.actions$.pipe(Ms(Ul.zK),(0,Do.z)(()=>this.counterService.loadCounter().pipe((0,Ui.U)(W=>Ul.Zf({newValue:W}))))))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(tl),S.LFG(Vl))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var Oo=D(5054);let Ba=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Oo.e],imports:[Ji.Aw.forFeature(ka.UN,ka.jX),zr.forFeature([Tl])]}),I})();var Bl=D(3880),Sl=D(2542);let vu=(()=>{class I{constructor(y,R){this.actions$=y,this.http=R,this.loadData$=hn(()=>this.actions$.pipe(Ms(Sl.mu),(0,na.w)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,Ui.U)(W=>Sl.F3({payload:W})),(0,Ho.K)(W=>(0,an.of)(Sl.WU({payload:W})))))))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(tl),S.LFG(ke.eN))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var gs=D(9610);let Eu=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[gs.L],imports:[Ji.Aw.forFeature(Bl.UN,Bl.B5),zr.forFeature([vu])]}),I})();var jl=D(173),gl=D(817);let Nu=(()=>{class I{constructor(y){this.actions$=y,this.getUser$=hn(()=>this.actions$.pipe(Ms(gl.PR),(0,Do.z)(()=>(0,an.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,Ui.U)(R=>gl.Ni({user:R})),(0,Ho.K)(R=>(console.error("An error occurred while getting user information.",R.message),(0,an.of)(gl.N2({error:"Unable to retrieve user information."}))))))))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(tl))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var ml=D(2842);let Hl=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[ml.p],imports:[Ji.Aw.forFeature(jl.U,jl.M),zr.forFeature([Nu])]}),I})();var va=D(5650),Xi=D(4964),bl=D(2766),iu=D(7403);let Du=(()=>{class I{set(y,R){try{localStorage.setItem(y,JSON.stringify(R))}catch(W){console.error("Error saving to localStorage",W)}}get(y){try{return JSON.parse(localStorage.getItem(y))}catch(R){return console.error("Error getting data from localStorage",R),null}}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Al=(()=>{class I{constructor(y,R,W,ue){this.actions$=y,this.registerService=R,this.persistenceService=W,this.router=ue,this.register$=hn(()=>this.actions$.pipe(Ms(bl._0),(0,na.w)(({request:ve})=>this.registerService.register(ve).pipe((0,Ui.U)(be=>(this.persistenceService.set("accessToken1",be.token),(0,bl.Pw)({currentUser:be}))),(0,Ho.K)(be=>(console.log(be),(0,an.of)((0,bl.zH)({errors:be.error.errors})))))))),this.redirectAfterSubmit$=hn(()=>this.actions$.pipe(Ms(bl.Pw),(0,qi.b)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(tl),S.LFG(iu.a),S.LFG(Du),S.LFG(H.F0))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),yl=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Xi.q],imports:[Ji.Aw.forFeature(va.UN,va.xw),zr.forFeature([Al])]}),I})();var _l=D(6013),zo=D(3747),Lu=D(8372);let Ml=(()=>{class I{constructor(y){this.http=y,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(y){return this.http.post(this.url,y)}getArticleById(y){return this.http.get(this.url+"/"+y)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(ke.eN))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Qu=(()=>{class I{constructor(y,R){this.actions$=y,this.fruitsService=R,this.loadAllArticles$=hn(()=>this.actions$.pipe(Ms(zo.GO),(0,na.w)(()=>this.fruitsService.getAllArticles().pipe((0,Ui.U)(W=>zo.m0({payload:W})))))),this.createArticle$=hn(()=>this.actions$.pipe(Ms(zo.$f),(0,Ui.U)(W=>W.payload),(0,Do.z)(W=>this.fruitsService.createArticle(W).pipe((0,Ui.U)(ue=>zo.$s({payload:ue})),(0,Ho.K)(ue=>(0,an.of)(zo.$0({payload:ue}))))))),this.searchArticleById$=hn(()=>this.actions$.pipe(Ms(zo.HD),(0,Lu.b)(500),(0,Ui.U)(W=>W.payload),(0,na.w)(W=>this.fruitsService.getArticleById(W).pipe((0,Ui.U)(ue=>zo.n3({payload:ue})))))),this.loadProducts$=hn(()=>this.actions$.pipe(Ms(zo.hS),(0,Do.z)(()=>this.fruitsService.getAll().pipe((0,Ui.U)(W=>zo.Xt({payload:W}))))))}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(tl),S.LFG(Ml))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var Fu=D(9565);let ku=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({imports:[Ji.Aw.forRoot(_l.ll),zr.forRoot([Qu]),Go,Ba,Eu,Hl,yl,Fu.FT.instrument({maxAge:25,logOnly:!qt.N.production})]}),I})();var Cu=D(3922);let yc=(()=>{class I{info(y){console.info(`Local Logger Service:: ${y}`)}log(y){console.log(`Local Logger Service:: ${y}`)}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const oa="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let vl=(()=>{class I{constructor(){}intercept(y,R){const{url:W,method:ue,headers:ve}=y;return W.endsWith("login")&&"POST"===ue?function Xe(){return(0,an.of)(new ke.Zn({status:200,body:{id:"1",username:"profanis",token:oa}}))}():W.endsWith("products")&&"GET"===ue?function _t(){if(!function be(){return ve.get("authorization")===oa}())return(0,qa._)({status:401,error:{message:"Unauthorized"}});const Bt=[...new Array(20).keys()].map(Xt=>({id:Xt,name:`Product ${Xt}`,weight:30,symbol:"ngf"}));return(0,an.of)(new ke.Zn({status:200,body:Bt}))}():R.handle(y)}}return I.\u0275fac=function(y){return new(y||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();const Ol={provide:ke.TP,useClass:vl,multi:!0};var aa=D(4657);let Ea=(()=>{class I{constructor(y){this.authService=y}intercept(y,R){return y=y.clone({headers:y.headers.set("authorization",this.authService.token)}),R.handle(y)}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(aa.e))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();const Pl={provide:ke.TP,useClass:Ea,multi:!0};let Iu=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})();var El=D(3562);let wu=(()=>{class I{constructor(y){this.realtimeDbService=y}handleError(y){qt.N.production&&this.realtimeDbService.post("logging.json",y).subscribe()}handleError1(y){y instanceof ke.UA?y.error instanceof ErrorEvent?console.error("Error Event"):console.log(`error status : ${y.status} ${y.statusText}`):console.error("some thing else happened")}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(El.F))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();const $l={provide:S.qLn,useClass:wu};let Gl=(()=>{class I{constructor(y){this.injector=y}}return I.\u0275fac=function(y){return new(y||I)(S.LFG(S.zs3))},I.\u0275mod=S.oAB({type:I,bootstrap:[tt]}),I.\u0275inj=S.cJS({providers:[Zi,le.uU,{provide:Na.u,useClass:ct},ke.JF,{provide:fs.y,useValue:new fs.y(Za)},di,{provide:Cu.b,useClass:yc},Pl,Ol,$l],imports:[f.b2,ki,ke.JF,ke.Ed,ga.m,qe,$i,Sr.register("ngsw-worker.js",{enabled:qt.N.production,registrationStrategy:"registerWhenStable:30000"}),ku,Eo,Ou.forRoot({userName:"Trilok Singh"}),Fa.G2.initializeApp(qt.N.firebaseConfig),Fa.G2.initialize({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0}),Iu,ki]}),I})();qt.N.production&&(0,S.G48)(),f.q6().bootstrapModule(Gl).catch(I=>console.error(I))},1135:(Ce,ae,D)=>{D.d(ae,{X:()=>S});var f=D(7579);class S extends f.x{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const Q=super._subscribe(H);return!Q.closed&&H.next(this._value),Q}getValue(){const{hasError:H,thrownError:Q,_value:de}=this;if(H)throw Q;return this._throwIfClosed(),de}next(H){super.next(this._value=H)}}},9751:(Ce,ae,D)=>{D.d(ae,{y:()=>q});var f=D(930),S=D(727),ne=D(8822),H=D(9635),Q=D(2416),de=D(576),re=D(2806);let q=(()=>{class le{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const Ie=new le;return Ie.source=this,Ie.operator=Ke,Ie}subscribe(Ke,Ie,ze){const Ge=function ee(le){return le&&le instanceof f.Lv||function Z(le){return le&&(0,de.m)(le.next)&&(0,de.m)(le.error)&&(0,de.m)(le.complete)}(le)&&(0,S.Nn)(le)}(Ke)?Ke:new f.Hp(Ke,Ie,ze);return(0,re.x)(()=>{const{operator:je,source:mt}=this;Ge.add(je?je.call(Ge,mt):mt?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(Ie){Ke.error(Ie)}}forEach(Ke,Ie){return new(Ie=he(Ie))((ze,Ge)=>{const je=new f.Hp({next:mt=>{try{Ke(mt)}catch(xt){Ge(xt),je.unsubscribe()}},error:Ge,complete:ze});this.subscribe(je)})}_subscribe(Ke){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Ke)}[ne.L](){return this}pipe(...Ke){return(0,H.U)(Ke)(this)}toPromise(Ke){return new(Ke=he(Ke))((Ie,ze)=>{let Ge;this.subscribe(je=>Ge=je,je=>ze(je),()=>Ie(Ge))})}}return le.create=Ne=>new le(Ne),le})();function he(le){var Ne;return null!==(Ne=null!=le?le:Q.v.Promise)&&void 0!==Ne?Ne:Promise}},4707:(Ce,ae,D)=>{D.d(ae,{t:()=>ne});var f=D(7579),S=D(6063);class ne extends f.x{constructor(Q=1/0,de=1/0,re=S.l){super(),this._bufferSize=Q,this._windowTime=de,this._timestampProvider=re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=de===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,de)}next(Q){const{isStopped:de,_buffer:re,_infiniteTimeWindow:q,_timestampProvider:he,_windowTime:Z}=this;de||(re.push(Q),!q&&re.push(he.now()+Z)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const de=this._innerSubscribe(Q),{_infiniteTimeWindow:re,_buffer:q}=this,he=q.slice();for(let Z=0;Z<he.length&&!Q.closed;Z+=re?1:2)Q.next(he[Z]);return this._checkFinalizedStatuses(Q),de}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:de,_buffer:re,_infiniteTimeWindow:q}=this,he=(q?1:2)*Q;if(Q<1/0&&he<re.length&&re.splice(0,re.length-he),!q){const Z=de.now();let ee=0;for(let le=1;le<re.length&&re[le]<=Z;le+=2)ee=le;ee&&re.splice(0,ee+1)}}}},7579:(Ce,ae,D)=>{D.d(ae,{x:()=>re});var f=D(9751),S=D(727);const H=(0,D(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=D(8737),de=D(2806);let re=(()=>{class he extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const le=new q(this,this);return le.operator=ee,le}_throwIfClosed(){if(this.closed)throw new H}next(ee){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const le=this.observers.slice();for(const Ne of le)Ne.next(ee)}})}error(ee){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:le}=this;for(;le.length;)le.shift().error(ee)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:le,isStopped:Ne,observers:Ke}=this;return le||Ne?S.Lc:(Ke.push(ee),new S.w0(()=>(0,Q.P)(Ke,ee)))}_checkFinalizedStatuses(ee){const{hasError:le,thrownError:Ne,isStopped:Ke}=this;le?ee.error(Ne):Ke&&ee.complete()}asObservable(){const ee=new f.y;return ee.source=this,ee}}return he.create=(Z,ee)=>new q(Z,ee),he})();class q extends re{constructor(Z,ee){super(),this.destination=Z,this.source=ee}next(Z){var ee,le;null===(le=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===le||le.call(ee,Z)}error(Z){var ee,le;null===(le=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===le||le.call(ee,Z)}complete(){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===ee||ee.call(Z)}_subscribe(Z){var ee,le;return null!==(le=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(Z))&&void 0!==le?le:S.Lc}}},930:(Ce,ae,D)=>{D.d(ae,{Hp:()=>Ne,Lv:()=>le});var f=D(576),S=D(727),ne=D(2416),H=D(7849),Q=D(5032);const de=he("C",void 0,void 0);function he(je,mt,xt){return{kind:je,value:mt,error:xt}}var Z=D(3410),ee=D(2806);class le extends S.w0{constructor(mt){super(),this.isStopped=!1,mt?(this.destination=mt,(0,S.Nn)(mt)&&mt.add(this)):this.destination=Ge}static create(mt,xt,qe){return new Ne(mt,xt,qe)}next(mt){this.isStopped?ze(function q(je){return he("N",je,void 0)}(mt),this):this._next(mt)}error(mt){this.isStopped?ze(function re(je){return he("E",void 0,je)}(mt),this):(this.isStopped=!0,this._error(mt))}complete(){this.isStopped?ze(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(mt){this.destination.next(mt)}_error(mt){try{this.destination.error(mt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ne extends le{constructor(mt,xt,qe){let ke;if(super(),(0,f.m)(mt))ke=mt;else if(mt){let Dt;({next:ke,error:xt,complete:qe}=mt),this&&ne.v.useDeprecatedNextContext?(Dt=Object.create(mt),Dt.unsubscribe=()=>this.unsubscribe()):Dt=mt,ke=null==ke?void 0:ke.bind(Dt),xt=null==xt?void 0:xt.bind(Dt),qe=null==qe?void 0:qe.bind(Dt)}this.destination={next:ke?Ke(ke):Q.Z,error:Ke(null!=xt?xt:Ie),complete:qe?Ke(qe):Q.Z}}}function Ke(je,mt){return(...xt)=>{try{je(...xt)}catch(qe){ne.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(qe):(0,H.h)(qe)}}}function Ie(je){throw je}function ze(je,mt){const{onStoppedNotification:xt}=ne.v;xt&&Z.z.setTimeout(()=>xt(je,mt))}const Ge={closed:!0,next:Q.Z,error:Ie,complete:Q.Z}},727:(Ce,ae,D)=>{D.d(ae,{Lc:()=>de,w0:()=>Q,Nn:()=>re});var f=D(576);const ne=(0,D(3888).d)(he=>function(ee){he(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((le,Ne)=>`${Ne+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var H=D(8737);class Q{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ke of ee)Ke.remove(this);else ee.remove(this);const{initialTeardown:le}=this;if((0,f.m)(le))try{le()}catch(Ke){Z=Ke instanceof ne?Ke.errors:[Ke]}const{_teardowns:Ne}=this;if(Ne){this._teardowns=null;for(const Ke of Ne)try{q(Ke)}catch(Ie){Z=null!=Z?Z:[],Ie instanceof ne?Z=[...Z,...Ie.errors]:Z.push(Ie)}}if(Z)throw new ne(Z)}}add(Z){var ee;if(Z&&Z!==this)if(this.closed)q(Z);else{if(Z instanceof Q){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._teardowns=null!==(ee=this._teardowns)&&void 0!==ee?ee:[]).push(Z)}}_hasParent(Z){const{_parentage:ee}=this;return ee===Z||Array.isArray(ee)&&ee.includes(Z)}_addParent(Z){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(Z),ee):ee?[ee,Z]:Z}_removeParent(Z){const{_parentage:ee}=this;ee===Z?this._parentage=null:Array.isArray(ee)&&(0,H.P)(ee,Z)}remove(Z){const{_teardowns:ee}=this;ee&&(0,H.P)(ee,Z),Z instanceof Q&&Z._removeParent(this)}}Q.EMPTY=(()=>{const he=new Q;return he.closed=!0,he})();const de=Q.EMPTY;function re(he){return he instanceof Q||he&&"closed"in he&&(0,f.m)(he.remove)&&(0,f.m)(he.add)&&(0,f.m)(he.unsubscribe)}function q(he){(0,f.m)(he)?he():he.unsubscribe()}},2416:(Ce,ae,D)=>{D.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Ce,ae,D)=>{D.d(ae,{c:()=>de});var f=D(9751),S=D(727),ne=D(8343),H=D(5403),Q=D(4482);class de extends f.y{constructor(q,he){super(),this.source=q,this.subjectFactory=he,this._subject=null,this._refCount=0,this._connection=null,(0,Q.A)(q)&&(this.lift=q.lift)}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:q}=this;this._subject=this._connection=null,null==q||q.unsubscribe()}connect(){let q=this._connection;if(!q){q=this._connection=new S.w0;const he=this.getSubject();q.add(this.source.subscribe(new H.Q(he,void 0,()=>{this._teardown(),he.complete()},Z=>{this._teardown(),he.error(Z)},()=>this._teardown()))),q.closed&&(this._connection=null,q=S.w0.EMPTY)}return q}refCount(){return(0,ne.x)()(this)}}},9841:(Ce,ae,D)=>{D.d(ae,{a:()=>Z});var f=D(9751),S=D(4742),ne=D(457),H=D(4671),Q=D(3268),de=D(3269),re=D(1810),q=D(5403),he=D(9672);function Z(...Ne){const Ke=(0,de.yG)(Ne),Ie=(0,de.jO)(Ne),{args:ze,keys:Ge}=(0,S.D)(Ne);if(0===ze.length)return(0,ne.D)([],Ke);const je=new f.y(function ee(Ne,Ke,Ie=H.y){return ze=>{le(Ke,()=>{const{length:Ge}=Ne,je=new Array(Ge);let mt=Ge,xt=Ge;for(let qe=0;qe<Ge;qe++)le(Ke,()=>{const ke=(0,ne.D)(Ne[qe],Ke);let Dt=!1;ke.subscribe(new q.Q(ze,Tt=>{je[qe]=Tt,Dt||(Dt=!0,xt--),xt||ze.next(Ie(je.slice()))},()=>{--mt||ze.complete()}))},ze)},ze)}}(ze,Ke,Ge?mt=>(0,re.n)(Ge,mt):H.y));return Ie?je.pipe((0,Q.Z)(Ie)):je}function le(Ne,Ke,Ie){Ne?(0,he.f)(Ie,Ne,Ke):Ke()}},7272:(Ce,ae,D)=>{D.d(ae,{z:()=>Q});var f=D(8189),ne=D(3269),H=D(457);function Q(...de){return function S(){return(0,f.J)(1)}()((0,H.D)(de,(0,ne.yG)(de)))}},9770:(Ce,ae,D)=>{D.d(ae,{P:()=>ne});var f=D(9751),S=D(8421);function ne(H){return new f.y(Q=>{(0,S.Xf)(H()).subscribe(Q)})}},515:(Ce,ae,D)=>{D.d(ae,{E:()=>S,c:()=>ne});var f=D(9751);const S=new f.y(Q=>Q.complete());function ne(Q){return Q?function H(Q){return new f.y(de=>Q.schedule(()=>de.complete()))}(Q):S}},4128:(Ce,ae,D)=>{D.d(ae,{D:()=>q});var f=D(9751),S=D(4742),ne=D(8421),H=D(3269),Q=D(5403),de=D(3268),re=D(1810);function q(...he){const Z=(0,H.jO)(he),{args:ee,keys:le}=(0,S.D)(he),Ne=new f.y(Ke=>{const{length:Ie}=ee;if(!Ie)return void Ke.complete();const ze=new Array(Ie);let Ge=Ie,je=Ie;for(let mt=0;mt<Ie;mt++){let xt=!1;(0,ne.Xf)(ee[mt]).subscribe(new Q.Q(Ke,qe=>{xt||(xt=!0,je--),ze[mt]=qe},()=>Ge--,void 0,()=>{(!Ge||!xt)&&(je||Ke.next(le?(0,re.n)(le,ze):ze),Ke.complete())}))}});return Z?Ne.pipe((0,de.Z)(Z)):Ne}},457:(Ce,ae,D)=>{D.d(ae,{D:()=>Dt});var f=D(8421),S=D(5363),ne=D(4482);function H(Tt,Kt=0){return(0,ne.e)((Gt,Pt)=>{Pt.add(Tt.schedule(()=>Gt.subscribe(Pt),Kt))})}var re=D(9751),he=D(2202),Z=D(576),ee=D(9672);function Ne(Tt,Kt){if(!Tt)throw new Error("Iterable cannot be null");return new re.y(Gt=>{(0,ee.f)(Gt,Kt,()=>{const Pt=Tt[Symbol.asyncIterator]();(0,ee.f)(Gt,Kt,()=>{Pt.next().then(tt=>{tt.done?Gt.complete():Gt.next(tt.value)})},0,!0)})})}var Ke=D(3670),Ie=D(8239),ze=D(1144),Ge=D(6495),je=D(2206),mt=D(4532),xt=D(3260);function Dt(Tt,Kt){return Kt?function ke(Tt,Kt){if(null!=Tt){if((0,Ke.c)(Tt))return function Q(Tt,Kt){return(0,f.Xf)(Tt).pipe(H(Kt),(0,S.Q)(Kt))}(Tt,Kt);if((0,ze.z)(Tt))return function q(Tt,Kt){return new re.y(Gt=>{let Pt=0;return Kt.schedule(function(){Pt===Tt.length?Gt.complete():(Gt.next(Tt[Pt++]),Gt.closed||this.schedule())})})}(Tt,Kt);if((0,Ie.t)(Tt))return function de(Tt,Kt){return(0,f.Xf)(Tt).pipe(H(Kt),(0,S.Q)(Kt))}(Tt,Kt);if((0,je.D)(Tt))return Ne(Tt,Kt);if((0,Ge.T)(Tt))return function le(Tt,Kt){return new re.y(Gt=>{let Pt;return(0,ee.f)(Gt,Kt,()=>{Pt=Tt[he.h](),(0,ee.f)(Gt,Kt,()=>{let tt,Ze;try{({value:tt,done:Ze}=Pt.next())}catch(ot){return void Gt.error(ot)}Ze?Gt.complete():Gt.next(tt)},0,!0)}),()=>(0,Z.m)(null==Pt?void 0:Pt.return)&&Pt.return()})}(Tt,Kt);if((0,xt.L)(Tt))return function qe(Tt,Kt){return Ne((0,xt.Q)(Tt),Kt)}(Tt,Kt)}throw(0,mt.z)(Tt)}(Tt,Kt):(0,f.Xf)(Tt)}},4968:(Ce,ae,D)=>{D.d(ae,{R:()=>Z});var f=D(8421),S=D(9751),ne=D(5577),H=D(1144),Q=D(576),de=D(3268);const re=["addListener","removeListener"],q=["addEventListener","removeEventListener"],he=["on","off"];function Z(Ie,ze,Ge,je){if((0,Q.m)(Ge)&&(je=Ge,Ge=void 0),je)return Z(Ie,ze,Ge).pipe((0,de.Z)(je));const[mt,xt]=function Ke(Ie){return(0,Q.m)(Ie.addEventListener)&&(0,Q.m)(Ie.removeEventListener)}(Ie)?q.map(qe=>ke=>Ie[qe](ze,ke,Ge)):function le(Ie){return(0,Q.m)(Ie.addListener)&&(0,Q.m)(Ie.removeListener)}(Ie)?re.map(ee(Ie,ze)):function Ne(Ie){return(0,Q.m)(Ie.on)&&(0,Q.m)(Ie.off)}(Ie)?he.map(ee(Ie,ze)):[];if(!mt&&(0,H.z)(Ie))return(0,ne.z)(qe=>Z(qe,ze,Ge))((0,f.Xf)(Ie));if(!mt)throw new TypeError("Invalid event target");return new S.y(qe=>{const ke=(...Dt)=>qe.next(1<Dt.length?Dt:Dt[0]);return mt(ke),()=>xt(ke)})}function ee(Ie,ze){return Ge=>je=>Ie[Ge](ze,je)}},8421:(Ce,ae,D)=>{D.d(ae,{Xf:()=>Ne});var f=D(655),S=D(1144),ne=D(8239),H=D(9751),Q=D(3670),de=D(2206),re=D(4532),q=D(6495),he=D(3260),Z=D(576),ee=D(7849),le=D(8822);function Ne(qe){if(qe instanceof H.y)return qe;if(null!=qe){if((0,Q.c)(qe))return function Ke(qe){return new H.y(ke=>{const Dt=qe[le.L]();if((0,Z.m)(Dt.subscribe))return Dt.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,S.z)(qe))return function Ie(qe){return new H.y(ke=>{for(let Dt=0;Dt<qe.length&&!ke.closed;Dt++)ke.next(qe[Dt]);ke.complete()})}(qe);if((0,ne.t)(qe))return function ze(qe){return new H.y(ke=>{qe.then(Dt=>{ke.closed||(ke.next(Dt),ke.complete())},Dt=>ke.error(Dt)).then(null,ee.h)})}(qe);if((0,de.D)(qe))return je(qe);if((0,q.T)(qe))return function Ge(qe){return new H.y(ke=>{for(const Dt of qe)if(ke.next(Dt),ke.closed)return;ke.complete()})}(qe);if((0,he.L)(qe))return function mt(qe){return je((0,he.Q)(qe))}(qe)}throw(0,re.z)(qe)}function je(qe){return new H.y(ke=>{(function xt(qe,ke){var Dt,Tt,Kt,Gt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Dt=(0,f.KL)(qe);!(Tt=yield Dt.next()).done;)if(ke.next(Tt.value),ke.closed)return}catch(Pt){Kt={error:Pt}}finally{try{Tt&&!Tt.done&&(Gt=Dt.return)&&(yield Gt.call(Dt))}finally{if(Kt)throw Kt.error}}ke.complete()})})(qe,ke).catch(Dt=>ke.error(Dt))})}},6451:(Ce,ae,D)=>{D.d(ae,{T:()=>de});var f=D(8189),S=D(8421),ne=D(515),H=D(3269),Q=D(457);function de(...re){const q=(0,H.yG)(re),he=(0,H._6)(re,1/0),Z=re;return Z.length?1===Z.length?(0,S.Xf)(Z[0]):(0,f.J)(he)((0,Q.D)(Z,q)):ne.E}},9646:(Ce,ae,D)=>{D.d(ae,{of:()=>ne});var f=D(3269),S=D(457);function ne(...H){const Q=(0,f.yG)(H);return(0,S.D)(H,Q)}},2843:(Ce,ae,D)=>{D.d(ae,{_:()=>ne});var f=D(9751),S=D(576);function ne(H,Q){const de=(0,S.m)(H)?H:()=>H,re=q=>q.error(de());return new f.y(Q?q=>Q.schedule(re,0,q):re)}},2805:(Ce,ae,D)=>{D.d(ae,{H:()=>Q});var f=D(9751),S=D(4986),ne=D(3532),H=D(1165);function Q(de=0,re,q=S.P){let he=-1;return null!=re&&((0,ne.K)(re)?q=re:he=re),new f.y(Z=>{let ee=(0,H.q)(de)?+de-q.now():de;ee<0&&(ee=0);let le=0;return q.schedule(function(){Z.closed||(Z.next(le++),0<=he?this.schedule(void 0,he):Z.complete())},ee)})}},5403:(Ce,ae,D)=>{D.d(ae,{Q:()=>S});var f=D(930);class S extends f.Lv{constructor(H,Q,de,re,q){super(H),this.onFinalize=q,this._next=Q?function(he){try{Q(he)}catch(Z){H.error(Z)}}:super._next,this._error=re?function(he){try{re(he)}catch(Z){H.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(he){H.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}},262:(Ce,ae,D)=>{D.d(ae,{K:()=>H});var f=D(8421),S=D(5403),ne=D(4482);function H(Q){return(0,ne.e)((de,re)=>{let Z,q=null,he=!1;q=de.subscribe(new S.Q(re,void 0,void 0,ee=>{Z=(0,f.Xf)(Q(ee,H(Q)(de))),q?(q.unsubscribe(),q=null,Z.subscribe(re)):he=!0})),he&&(q.unsubscribe(),q=null,Z.subscribe(re))})}},4351:(Ce,ae,D)=>{D.d(ae,{b:()=>ne});var f=D(5577),S=D(576);function ne(H,Q){return(0,S.m)(Q)?(0,f.z)(H,Q,1):(0,f.z)(H,1)}},8372:(Ce,ae,D)=>{D.d(ae,{b:()=>H});var f=D(4986),S=D(4482),ne=D(5403);function H(Q,de=f.z){return(0,S.e)((re,q)=>{let he=null,Z=null,ee=null;const le=()=>{if(he){he.unsubscribe(),he=null;const Ke=Z;Z=null,q.next(Ke)}};function Ne(){const Ke=ee+Q,Ie=de.now();if(Ie<Ke)return he=this.schedule(void 0,Ke-Ie),void q.add(he);le()}re.subscribe(new ne.Q(q,Ke=>{Z=Ke,ee=de.now(),he||(he=de.schedule(Ne,Q),q.add(he))},()=>{le(),q.complete()},void 0,()=>{Z=he=null}))})}},6590:(Ce,ae,D)=>{D.d(ae,{d:()=>ne});var f=D(4482),S=D(5403);function ne(H){return(0,f.e)((Q,de)=>{let re=!1;Q.subscribe(new S.Q(de,q=>{re=!0,de.next(q)},()=>{re||de.next(H),de.complete()}))})}},4086:(Ce,ae,D)=>{D.d(ae,{g:()=>he});var f=D(4986),S=D(7272),ne=D(5698),H=D(8502),Q=D(9718),de=D(5577);function re(Z,ee){return ee?le=>(0,S.z)(ee.pipe((0,ne.q)(1),(0,H.l)()),le.pipe(re(Z))):(0,de.z)((le,Ne)=>Z(le,Ne).pipe((0,ne.q)(1),(0,Q.h)(le)))}var q=D(2805);function he(Z,ee=f.z){const le=(0,q.H)(Z,ee);return re(()=>le)}},1884:(Ce,ae,D)=>{D.d(ae,{x:()=>H});var f=D(4671),S=D(4482),ne=D(5403);function H(de,re=f.y){return de=null!=de?de:Q,(0,S.e)((q,he)=>{let Z,ee=!0;q.subscribe(new ne.Q(he,le=>{const Ne=re(le);(ee||!de(Z,Ne))&&(ee=!1,Z=Ne,he.next(le))}))})}function Q(de,re){return de===re}},6129:(Ce,ae,D)=>{D.d(ae,{z:()=>Q});var f=D(4004),S=D(8421),ne=D(4482),H=D(5403);function Q(de,re){return re?q=>q.pipe(Q((he,Z)=>(0,S.Xf)(de(he,Z)).pipe((0,f.U)((ee,le)=>re(he,ee,Z,le))))):(0,ne.e)((q,he)=>{let Z=0,ee=null,le=!1;q.subscribe(new H.Q(he,Ne=>{ee||(ee=new H.Q(he,void 0,()=>{ee=null,le&&he.complete()}),(0,S.Xf)(de(Ne,Z++)).subscribe(ee))},()=>{le=!0,!ee&&he.complete()}))})}},9300:(Ce,ae,D)=>{D.d(ae,{h:()=>ne});var f=D(4482),S=D(5403);function ne(H,Q){return(0,f.e)((de,re)=>{let q=0;de.subscribe(new S.Q(re,he=>H.call(Q,he,q++)&&re.next(he)))})}},8746:(Ce,ae,D)=>{D.d(ae,{x:()=>S});var f=D(4482);function S(ne){return(0,f.e)((H,Q)=>{try{H.subscribe(Q)}finally{Q.add(ne)}})}},590:(Ce,ae,D)=>{D.d(ae,{P:()=>re});var f=D(6805),S=D(9300),ne=D(5698),H=D(6590),Q=D(8068),de=D(4671);function re(q,he){const Z=arguments.length>=2;return ee=>ee.pipe(q?(0,S.h)((le,Ne)=>q(le,Ne,ee)):de.y,(0,ne.q)(1),Z?(0,H.d)(he):(0,Q.T)(()=>new f.K))}},8502:(Ce,ae,D)=>{D.d(ae,{l:()=>H});var f=D(4482),S=D(5403),ne=D(5032);function H(){return(0,f.e)((Q,de)=>{Q.subscribe(new S.Q(de,ne.Z))})}},3103:(Ce,ae,D)=>{D.d(ae,{Z:()=>re});var f=D(6805),S=D(9300),ne=D(2035),H=D(8068),Q=D(6590),de=D(4671);function re(q,he){const Z=arguments.length>=2;return ee=>ee.pipe(q?(0,S.h)((le,Ne)=>q(le,Ne,ee)):de.y,(0,ne.h)(1),Z?(0,Q.d)(he):(0,H.T)(()=>new f.K))}},4004:(Ce,ae,D)=>{D.d(ae,{U:()=>ne});var f=D(4482),S=D(5403);function ne(H,Q){return(0,f.e)((de,re)=>{let q=0;de.subscribe(new S.Q(re,he=>{re.next(H.call(Q,he,q++))}))})}},9718:(Ce,ae,D)=>{D.d(ae,{h:()=>S});var f=D(4004);function S(ne){return(0,f.U)(()=>ne)}},8189:(Ce,ae,D)=>{D.d(ae,{J:()=>ne});var f=D(5577),S=D(4671);function ne(H=1/0){return(0,f.z)(S.y,H)}},5577:(Ce,ae,D)=>{D.d(ae,{z:()=>q});var f=D(4004),S=D(8421),ne=D(4482),H=D(9672),Q=D(5403),re=D(576);function q(he,Z,ee=1/0){return(0,re.m)(Z)?q((le,Ne)=>(0,f.U)((Ke,Ie)=>Z(le,Ke,Ne,Ie))((0,S.Xf)(he(le,Ne))),ee):("number"==typeof Z&&(ee=Z),(0,ne.e)((le,Ne)=>function de(he,Z,ee,le,Ne,Ke,Ie,ze){const Ge=[];let je=0,mt=0,xt=!1;const qe=()=>{xt&&!Ge.length&&!je&&Z.complete()},ke=Tt=>je<le?Dt(Tt):Ge.push(Tt),Dt=Tt=>{Ke&&Z.next(Tt),je++;let Kt=!1;(0,S.Xf)(ee(Tt,mt++)).subscribe(new Q.Q(Z,Gt=>{null==Ne||Ne(Gt),Ke?ke(Gt):Z.next(Gt)},()=>{Kt=!0},void 0,()=>{if(Kt)try{for(je--;Ge.length&&je<le;){const Gt=Ge.shift();Ie?(0,H.f)(Z,Ie,()=>Dt(Gt)):Dt(Gt)}qe()}catch(Gt){Z.error(Gt)}}))};return he.subscribe(new Q.Q(Z,ke,()=>{xt=!0,qe()})),()=>{null==ze||ze()}}(le,Ne,he,ee)))}},5363:(Ce,ae,D)=>{D.d(ae,{Q:()=>H});var f=D(9672),S=D(4482),ne=D(5403);function H(Q,de=0){return(0,S.e)((re,q)=>{re.subscribe(new ne.Q(q,he=>(0,f.f)(q,Q,()=>q.next(he),de),()=>(0,f.f)(q,Q,()=>q.complete(),de),he=>(0,f.f)(q,Q,()=>q.error(he),de)))})}},4813:(Ce,ae,D)=>{D.d(ae,{j:()=>S});var f=D(4004);function S(...ne){const H=ne.length;if(0===H)throw new Error("list of properties cannot be empty.");return(0,f.U)(Q=>{let de=Q;for(let re=0;re<H;re++){const q=null==de?void 0:de[ne[re]];if(void 0===q)return;de=q}return de})}},8646:(Ce,ae,D)=>{D.d(ae,{n:()=>ee});var f=D(7579),S=D(4033),ne=D(576),H=D(457),Q=D(4482),de=D(9751);const q={connector:()=>new f.x};function he(le,Ne=q){const{connector:Ke}=Ne;return(0,Q.e)((Ie,ze)=>{const Ge=Ke();(0,H.D)(le(function re(le){return new de.y(Ne=>le.subscribe(Ne))}(Ge))).subscribe(ze),ze.add(Ie.subscribe(Ge))})}function ee(le){return le?Ne=>he(le)(Ne):Ne=>function Z(le,Ne){const Ke=(0,ne.m)(le)?le:()=>le;return(0,ne.m)(Ne)?he(Ne,{connector:Ke}):Ie=>new S.c(Ie,Ke)}(new f.x)(Ne)}},8343:(Ce,ae,D)=>{D.d(ae,{x:()=>ne});var f=D(4482),S=D(5403);function ne(){return(0,f.e)((H,Q)=>{let de=null;H._refCount++;const re=new S.Q(Q,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(de=null);const q=H._connection,he=de;de=null,q&&(!he||q===he)&&q.unsubscribe(),Q.unsubscribe()});H.subscribe(re),re.closed||(de=H.connect())})}},5625:(Ce,ae,D)=>{D.d(ae,{X:()=>de});var f=D(4482),S=D(5403),ne=D(4671),H=D(2805),Q=D(8421);function de(re=1/0){let q;q=re&&"object"==typeof re?re:{count:re};const{count:he=1/0,delay:Z,resetOnSuccess:ee=!1}=q;return he<=0?ne.y:(0,f.e)((le,Ne)=>{let Ie,Ke=0;const ze=()=>{let Ge=!1;Ie=le.subscribe(new S.Q(Ne,je=>{ee&&(Ke=0),Ne.next(je)},void 0,je=>{if(Ke++<he){const mt=()=>{Ie?(Ie.unsubscribe(),Ie=null,ze()):Ge=!0};if(null!=Z){const xt="number"==typeof Z?(0,H.H)(Z):(0,Q.Xf)(Z(je,Ke)),qe=new S.Q(Ne,()=>{qe.unsubscribe(),mt()},()=>{Ne.complete()});xt.subscribe(qe)}else mt()}else Ne.error(je)})),Ge&&(Ie.unsubscribe(),Ie=null,ze())};ze()})}},5026:(Ce,ae,D)=>{D.d(ae,{R:()=>H});var f=D(4482),S=D(5403);function ne(Q,de,re,q,he){return(Z,ee)=>{let le=re,Ne=de,Ke=0;Z.subscribe(new S.Q(ee,Ie=>{const ze=Ke++;Ne=le?Q(Ne,Ie,ze):(le=!0,Ie),q&&ee.next(Ne)},he&&(()=>{le&&ee.next(Ne),ee.complete()})))}}function H(Q,de){return(0,f.e)(ne(Q,de,arguments.length>=2,!0))}},3099:(Ce,ae,D)=>{D.d(ae,{B:()=>de});var f=D(457),S=D(5698),ne=D(7579),H=D(930),Q=D(4482);function de(q={}){const{connector:he=(()=>new ne.x),resetOnError:Z=!0,resetOnComplete:ee=!0,resetOnRefCountZero:le=!0}=q;return Ne=>{let Ke=null,Ie=null,ze=null,Ge=0,je=!1,mt=!1;const xt=()=>{null==Ie||Ie.unsubscribe(),Ie=null},qe=()=>{xt(),Ke=ze=null,je=mt=!1},ke=()=>{const Dt=Ke;qe(),null==Dt||Dt.unsubscribe()};return(0,Q.e)((Dt,Tt)=>{Ge++,!mt&&!je&&xt();const Kt=ze=null!=ze?ze:he();Tt.add(()=>{Ge--,0===Ge&&!mt&&!je&&(Ie=re(ke,le))}),Kt.subscribe(Tt),Ke||(Ke=new H.Hp({next:Gt=>Kt.next(Gt),error:Gt=>{mt=!0,xt(),Ie=re(qe,Z,Gt),Kt.error(Gt)},complete:()=>{je=!0,xt(),Ie=re(qe,ee),Kt.complete()}}),(0,f.D)(Dt).subscribe(Ke))})(Ne)}}function re(q,he,...Z){return!0===he?(q(),null):!1===he?null:he(...Z).pipe((0,S.q)(1)).subscribe(()=>q())}},5684:(Ce,ae,D)=>{D.d(ae,{T:()=>S});var f=D(9300);function S(ne){return(0,f.h)((H,Q)=>ne<=Q)}},8675:(Ce,ae,D)=>{D.d(ae,{O:()=>H});var f=D(7272),S=D(3269),ne=D(4482);function H(...Q){const de=(0,S.yG)(Q);return(0,ne.e)((re,q)=>{(de?(0,f.z)(Q,re,de):(0,f.z)(Q,re)).subscribe(q)})}},3900:(Ce,ae,D)=>{D.d(ae,{w:()=>H});var f=D(8421),S=D(4482),ne=D(5403);function H(Q,de){return(0,S.e)((re,q)=>{let he=null,Z=0,ee=!1;const le=()=>ee&&!he&&q.complete();re.subscribe(new ne.Q(q,Ne=>{null==he||he.unsubscribe();let Ke=0;const Ie=Z++;(0,f.Xf)(Q(Ne,Ie)).subscribe(he=new ne.Q(q,ze=>q.next(de?de(Ne,ze,Ie,Ke++):ze),()=>{he=null,le()}))},()=>{ee=!0,le()}))})}},5698:(Ce,ae,D)=>{D.d(ae,{q:()=>H});var f=D(515),S=D(4482),ne=D(5403);function H(Q){return Q<=0?()=>f.E:(0,S.e)((de,re)=>{let q=0;de.subscribe(new ne.Q(re,he=>{++q<=Q&&(re.next(he),Q<=q&&re.complete())}))})}},2035:(Ce,ae,D)=>{D.d(ae,{h:()=>H});var f=D(515),S=D(4482),ne=D(5403);function H(Q){return Q<=0?()=>f.E:(0,S.e)((de,re)=>{let q=[];de.subscribe(new ne.Q(re,he=>{q.push(he),Q<q.length&&q.shift()},()=>{for(const he of q)re.next(he);re.complete()},void 0,()=>{q=null}))})}},2722:(Ce,ae,D)=>{D.d(ae,{R:()=>Q});var f=D(4482),S=D(5403),ne=D(8421),H=D(5032);function Q(de){return(0,f.e)((re,q)=>{(0,ne.Xf)(de).subscribe(new S.Q(q,()=>q.complete(),H.Z)),!q.closed&&re.subscribe(q)})}},2529:(Ce,ae,D)=>{D.d(ae,{o:()=>ne});var f=D(4482),S=D(5403);function ne(H,Q=!1){return(0,f.e)((de,re)=>{let q=0;de.subscribe(new S.Q(re,he=>{const Z=H(he,q++);(Z||Q)&&re.next(he),!Z&&re.complete()}))})}},8505:(Ce,ae,D)=>{D.d(ae,{b:()=>Q});var f=D(576),S=D(4482),ne=D(5403),H=D(4671);function Q(de,re,q){const he=(0,f.m)(de)||re||q?{next:de,error:re,complete:q}:de;return he?(0,S.e)((Z,ee)=>{var le;null===(le=he.subscribe)||void 0===le||le.call(he);let Ne=!0;Z.subscribe(new ne.Q(ee,Ke=>{var Ie;null===(Ie=he.next)||void 0===Ie||Ie.call(he,Ke),ee.next(Ke)},()=>{var Ke;Ne=!1,null===(Ke=he.complete)||void 0===Ke||Ke.call(he),ee.complete()},Ke=>{var Ie;Ne=!1,null===(Ie=he.error)||void 0===Ie||Ie.call(he,Ke),ee.error(Ke)},()=>{var Ke,Ie;Ne&&(null===(Ke=he.unsubscribe)||void 0===Ke||Ke.call(he)),null===(Ie=he.finalize)||void 0===Ie||Ie.call(he)}))}):H.y}},9468:(Ce,ae,D)=>{D.d(ae,{p:()=>q});var f=D(4986),S=D(4482),ne=D(5403),H=D(8421);const Q={leading:!0,trailing:!1};var re=D(2805);function q(he,Z=f.z,ee=Q){const le=(0,re.H)(he,Z);return function de(he,Z=Q){return(0,S.e)((ee,le)=>{const{leading:Ne,trailing:Ke}=Z;let Ie=!1,ze=null,Ge=null,je=!1;const mt=()=>{null==Ge||Ge.unsubscribe(),Ge=null,Ke&&(ke(),je&&le.complete())},xt=()=>{Ge=null,je&&le.complete()},qe=Dt=>Ge=(0,H.Xf)(he(Dt)).subscribe(new ne.Q(le,mt,xt)),ke=()=>{if(Ie){Ie=!1;const Dt=ze;ze=null,le.next(Dt),!je&&qe(Dt)}};ee.subscribe(new ne.Q(le,Dt=>{Ie=!0,ze=Dt,(!Ge||Ge.closed)&&(Ne?ke():qe(Dt))},()=>{je=!0,(!(Ke&&Ie&&Ge)||Ge.closed)&&le.complete()}))})}(()=>le,ee)}},8068:(Ce,ae,D)=>{D.d(ae,{T:()=>H});var f=D(6805),S=D(4482),ne=D(5403);function H(de=Q){return(0,S.e)((re,q)=>{let he=!1;re.subscribe(new ne.Q(q,Z=>{he=!0,q.next(Z)},()=>he?q.complete():q.error(de())))})}function Q(){return new f.K}},7414:(Ce,ae,D)=>{D.d(ae,{V:()=>he});var f=D(4986),S=D(1165),ne=D(4482),H=D(8421),Q=D(3888),de=D(5403),re=D(9672);const q=(0,Q.d)(ee=>function(Ne=null){ee(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ne});function he(ee,le){const{first:Ne,each:Ke,with:Ie=Z,scheduler:ze=(null!=le?le:f.z),meta:Ge=null}=(0,S.q)(ee)?{first:ee}:"number"==typeof ee?{each:ee}:ee;if(null==Ne&&null==Ke)throw new TypeError("No timeout provided.");return(0,ne.e)((je,mt)=>{let xt,qe,ke=null,Dt=0;const Tt=Kt=>{qe=(0,re.f)(mt,ze,()=>{try{xt.unsubscribe(),(0,H.Xf)(Ie({meta:Ge,lastValue:ke,seen:Dt})).subscribe(mt)}catch(Gt){mt.error(Gt)}},Kt)};xt=je.subscribe(new de.Q(mt,Kt=>{null==qe||qe.unsubscribe(),Dt++,mt.next(ke=Kt),Ke>0&&Tt(Ke)},void 0,void 0,()=>{null!=qe&&qe.closed||null==qe||qe.unsubscribe(),ke=null})),Tt(null!=Ne?"number"==typeof Ne?Ne:+Ne-ze.now():Ke)})}function Z(ee){throw new q(ee)}},1365:(Ce,ae,D)=>{D.d(ae,{M:()=>re});var f=D(4482),S=D(5403),ne=D(8421),H=D(4671),Q=D(5032),de=D(3269);function re(...q){const he=(0,de.jO)(q);return(0,f.e)((Z,ee)=>{const le=q.length,Ne=new Array(le);let Ke=q.map(()=>!1),Ie=!1;for(let ze=0;ze<le;ze++)(0,ne.Xf)(q[ze]).subscribe(new S.Q(ee,Ge=>{Ne[ze]=Ge,!Ie&&!Ke[ze]&&(Ke[ze]=!0,(Ie=Ke.every(H.y))&&(Ke=null))},Q.Z));Z.subscribe(new S.Q(ee,ze=>{if(Ie){const Ge=[ze,...Ne];ee.next(he?he(...Ge):Ge)}}))})}},4408:(Ce,ae,D)=>{D.d(ae,{o:()=>Q});var f=D(727);class S extends f.w0{constructor(re,q){super()}schedule(re,q=0){return this}}const ne={setInterval(...de){const{delegate:re}=ne;return((null==re?void 0:re.setInterval)||setInterval)(...de)},clearInterval(de){const{delegate:re}=ne;return((null==re?void 0:re.clearInterval)||clearInterval)(de)},delegate:void 0};var H=D(8737);class Q extends S{constructor(re,q){super(re,q),this.scheduler=re,this.work=q,this.pending=!1}schedule(re,q=0){if(this.closed)return this;this.state=re;const he=this.id,Z=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(Z,he,q)),this.pending=!0,this.delay=q,this.id=this.id||this.requestAsyncId(Z,this.id,q),this}requestAsyncId(re,q,he=0){return ne.setInterval(re.flush.bind(re,this),he)}recycleAsyncId(re,q,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return q;ne.clearInterval(q)}execute(re,q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(re,q);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,q){let Z,he=!1;try{this.work(re)}catch(ee){he=!0,Z=ee||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:re,scheduler:q}=this,{actions:he}=q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.P)(he,this),null!=re&&(this.id=this.recycleAsyncId(q,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ce,ae,D)=>{D.d(ae,{v:()=>ne});var f=D(6063);class S{constructor(Q,de=S.now){this.schedulerActionCtor=Q,this.now=de}schedule(Q,de=0,re){return new this.schedulerActionCtor(this,Q).schedule(re,de)}}S.now=f.l.now;class ne extends S{constructor(Q,de=S.now){super(Q,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Q){const{actions:de}=this;if(this._active)return void de.push(Q);let re;this._active=!0;do{if(re=Q.execute(Q.state,Q.delay))break}while(Q=de.shift());if(this._active=!1,re){for(;Q=de.shift();)Q.unsubscribe();throw re}}}},4986:(Ce,ae,D)=>{D.d(ae,{P:()=>H,z:()=>ne});var f=D(4408);const ne=new(D(7565).v)(f.o),H=ne},6063:(Ce,ae,D)=>{D.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Ce,ae,D)=>{D.d(ae,{N:()=>Q});var f=D(4408),ne=D(7565);const Q=new class H extends ne.v{}(class S extends f.o{constructor(q,he){super(q,he),this.scheduler=q,this.work=he}schedule(q,he=0){return he>0?super.schedule(q,he):(this.delay=he,this.state=q,this.scheduler.flush(this),this)}execute(q,he){return he>0||this.closed?super.execute(q,he):this._execute(q,he)}requestAsyncId(q,he,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(q,he,Z):q.flush(this)}})},3410:(Ce,ae,D)=>{D.d(ae,{z:()=>f});const f={setTimeout(...S){const{delegate:ne}=f;return((null==ne?void 0:ne.setTimeout)||setTimeout)(...S)},clearTimeout(S){const{delegate:ne}=f;return((null==ne?void 0:ne.clearTimeout)||clearTimeout)(S)},delegate:void 0}},2202:(Ce,ae,D)=>{D.d(ae,{h:()=>S});const S=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ce,ae,D)=>{D.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ce,ae,D)=>{D.d(ae,{K:()=>S});const S=(0,D(3888).d)(ne=>function(){ne(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ce,ae,D)=>{D.d(ae,{_6:()=>de,jO:()=>H,yG:()=>Q});var f=D(576),S=D(3532);function ne(re){return re[re.length-1]}function H(re){return(0,f.m)(ne(re))?re.pop():void 0}function Q(re){return(0,S.K)(ne(re))?re.pop():void 0}function de(re,q){return"number"==typeof ne(re)?re.pop():q}},4742:(Ce,ae,D)=>{D.d(ae,{D:()=>Q});const{isArray:f}=Array,{getPrototypeOf:S,prototype:ne,keys:H}=Object;function Q(re){if(1===re.length){const q=re[0];if(f(q))return{args:q,keys:null};if(function de(re){return re&&"object"==typeof re&&S(re)===ne}(q)){const he=H(q);return{args:he.map(Z=>q[Z]),keys:he}}}return{args:re,keys:null}}},8737:(Ce,ae,D)=>{function f(S,ne){if(S){const H=S.indexOf(ne);0<=H&&S.splice(H,1)}}D.d(ae,{P:()=>f})},3888:(Ce,ae,D)=>{function f(S){const H=S(Q=>{Error.call(Q),Q.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}D.d(ae,{d:()=>f})},1810:(Ce,ae,D)=>{function f(S,ne){return S.reduce((H,Q,de)=>(H[Q]=ne[de],H),{})}D.d(ae,{n:()=>f})},2806:(Ce,ae,D)=>{D.d(ae,{O:()=>H,x:()=>ne});var f=D(2416);let S=null;function ne(Q){if(f.v.useDeprecatedSynchronousErrorHandling){const de=!S;if(de&&(S={errorThrown:!1,error:null}),Q(),de){const{errorThrown:re,error:q}=S;if(S=null,re)throw q}}else Q()}function H(Q){f.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=Q)}},9672:(Ce,ae,D)=>{function f(S,ne,H,Q=0,de=!1){const re=ne.schedule(function(){H(),de?S.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(S.add(re),!de)return re}D.d(ae,{f:()=>f})},4671:(Ce,ae,D)=>{function f(S){return S}D.d(ae,{y:()=>f})},1144:(Ce,ae,D)=>{D.d(ae,{z:()=>f});const f=S=>S&&"number"==typeof S.length&&"function"!=typeof S},2206:(Ce,ae,D)=>{D.d(ae,{D:()=>S});var f=D(576);function S(ne){return Symbol.asyncIterator&&(0,f.m)(null==ne?void 0:ne[Symbol.asyncIterator])}},1165:(Ce,ae,D)=>{function f(S){return S instanceof Date&&!isNaN(S)}D.d(ae,{q:()=>f})},576:(Ce,ae,D)=>{function f(S){return"function"==typeof S}D.d(ae,{m:()=>f})},3670:(Ce,ae,D)=>{D.d(ae,{c:()=>ne});var f=D(8822),S=D(576);function ne(H){return(0,S.m)(H[f.L])}},6495:(Ce,ae,D)=>{D.d(ae,{T:()=>ne});var f=D(2202),S=D(576);function ne(H){return(0,S.m)(null==H?void 0:H[f.h])}},8239:(Ce,ae,D)=>{D.d(ae,{t:()=>S});var f=D(576);function S(ne){return(0,f.m)(null==ne?void 0:ne.then)}},3260:(Ce,ae,D)=>{D.d(ae,{L:()=>H,Q:()=>ne});var f=D(655),S=D(576);function ne(Q){return(0,f.FC)(this,arguments,function*(){const re=Q.getReader();try{for(;;){const{value:q,done:he}=yield(0,f.qq)(re.read());if(he)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(q)}}finally{re.releaseLock()}})}function H(Q){return(0,S.m)(null==Q?void 0:Q.getReader)}},3532:(Ce,ae,D)=>{D.d(ae,{K:()=>S});var f=D(576);function S(ne){return ne&&(0,f.m)(ne.schedule)}},4482:(Ce,ae,D)=>{D.d(ae,{A:()=>S,e:()=>ne});var f=D(576);function S(H){return(0,f.m)(null==H?void 0:H.lift)}function ne(H){return Q=>{if(S(Q))return Q.lift(function(de){try{return H(de,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ce,ae,D)=>{D.d(ae,{Z:()=>H});var f=D(4004);const{isArray:S}=Array;function H(Q){return(0,f.U)(de=>function ne(Q,de){return S(de)?Q(...de):Q(de)}(Q,de))}},5032:(Ce,ae,D)=>{function f(){}D.d(ae,{Z:()=>f})},9635:(Ce,ae,D)=>{D.d(ae,{U:()=>ne,z:()=>S});var f=D(4671);function S(...H){return ne(H)}function ne(H){return 0===H.length?f.y:1===H.length?H[0]:function(de){return H.reduce((re,q)=>q(re),de)}}},7849:(Ce,ae,D)=>{D.d(ae,{h:()=>ne});var f=D(2416),S=D(3410);function ne(H){S.z.setTimeout(()=>{const{onUnhandledError:Q}=f.v;if(!Q)throw H;Q(H)})}},4532:(Ce,ae,D)=>{function f(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(ae,{z:()=>f})},655:(Ce,ae,D)=>{function H(tt,Ze){var ot={};for(var et in tt)Object.prototype.hasOwnProperty.call(tt,et)&&Ze.indexOf(et)<0&&(ot[et]=tt[et]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var Nt=0;for(et=Object.getOwnPropertySymbols(tt);Nt<et.length;Nt++)Ze.indexOf(et[Nt])<0&&Object.prototype.propertyIsEnumerable.call(tt,et[Nt])&&(ot[et[Nt]]=tt[et[Nt]])}return ot}function Q(tt,Ze,ot,et){var ht,Nt=arguments.length,St=Nt<3?Ze:null===et?et=Object.getOwnPropertyDescriptor(Ze,ot):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(tt,Ze,ot,et);else for(var Fn=tt.length-1;Fn>=0;Fn--)(ht=tt[Fn])&&(St=(Nt<3?ht(St):Nt>3?ht(Ze,ot,St):ht(Ze,ot))||St);return Nt>3&&St&&Object.defineProperty(Ze,ot,St),St}function q(tt,Ze,ot,et){return new(ot||(ot=Promise))(function(St,ht){function Fn(hr){try{Mt(et.next(hr))}catch(Ur){ht(Ur)}}function Yt(hr){try{Mt(et.throw(hr))}catch(Ur){ht(Ur)}}function Mt(hr){hr.done?St(hr.value):function Nt(St){return St instanceof ot?St:new ot(function(ht){ht(St)})}(hr.value).then(Fn,Yt)}Mt((et=et.apply(tt,Ze||[])).next())})}function Ge(tt){return this instanceof Ge?(this.v=tt,this):new Ge(tt)}function je(tt,Ze,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,et=ot.apply(tt,Ze||[]),St=[];return Nt={},ht("next"),ht("throw"),ht("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt;function ht(wr){et[wr]&&(Nt[wr]=function(nr){return new Promise(function(Lr,dr){St.push([wr,nr,Lr,dr])>1||Fn(wr,nr)})})}function Fn(wr,nr){try{!function Yt(wr){wr.value instanceof Ge?Promise.resolve(wr.value.v).then(Mt,hr):Ur(St[0][2],wr)}(et[wr](nr))}catch(Lr){Ur(St[0][3],Lr)}}function Mt(wr){Fn("next",wr)}function hr(wr){Fn("throw",wr)}function Ur(wr,nr){wr(nr),St.shift(),St.length&&Fn(St[0][0],St[0][1])}}function xt(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Ze=tt[Symbol.asyncIterator];return Ze?Ze.call(tt):(tt=function le(tt){var Ze="function"==typeof Symbol&&Symbol.iterator,ot=Ze&&tt[Ze],et=0;if(ot)return ot.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&et>=tt.length&&(tt=void 0),{value:tt&&tt[et++],done:!tt}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),ot={},et("next"),et("throw"),et("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function et(St){ot[St]=tt[St]&&function(ht){return new Promise(function(Fn,Yt){!function Nt(St,ht,Fn,Yt){Promise.resolve(Yt).then(function(Mt){St({value:Mt,done:Fn})},ht)}(Fn,Yt,(ht=tt[St](ht)).done,ht.value)})}}}function Kt(tt,Ze,ot,et){if("a"===ot&&!et)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ze?tt!==Ze||!et:!Ze.has(tt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ot?et:"a"===ot?et.call(tt):et?et.value:Ze.get(tt)}function Gt(tt,Ze,ot,et,Nt){if("m"===et)throw new TypeError("Private method is not writable");if("a"===et&&!Nt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ze?tt!==Ze||!Nt:!Ze.has(tt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===et?Nt.call(tt,ot):Nt?Nt.value=ot:Ze.set(tt,ot),ot}D.d(ae,{FC:()=>je,KL:()=>xt,Q_:()=>Kt,YH:()=>Gt,_T:()=>H,gn:()=>Q,mG:()=>q,qq:()=>Ge})},1777:(Ce,ae,D)=>{D.d(ae,{EY:()=>ze,F4:()=>Z,IO:()=>Ie,LC:()=>S,SB:()=>he,X$:()=>H,ZE:()=>mt,ZN:()=>je,_j:()=>f,eR:()=>ee,jt:()=>Q,k1:()=>xt,l3:()=>ne,oB:()=>q,pV:()=>Ne,ru:()=>de,vP:()=>re});class f{}class S{}const ne="*";function H(qe,ke){return{type:7,name:qe,definitions:ke,options:{}}}function Q(qe,ke=null){return{type:4,styles:ke,timings:qe}}function de(qe,ke=null){return{type:3,steps:qe,options:ke}}function re(qe,ke=null){return{type:2,steps:qe,options:ke}}function q(qe){return{type:6,styles:qe,offset:null}}function he(qe,ke,Dt){return{type:0,name:qe,styles:ke,options:Dt}}function Z(qe){return{type:5,steps:qe}}function ee(qe,ke,Dt=null){return{type:1,expr:qe,animation:ke,options:Dt}}function Ne(qe=null){return{type:9,options:qe}}function Ie(qe,ke,Dt=null){return{type:11,selector:qe,animation:ke,options:Dt}}function ze(qe,ke){return{type:12,timings:qe,animation:ke}}function Ge(qe){Promise.resolve().then(qe)}class je{constructor(ke=0,Dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ke+Dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}onStart(ke){this._originalOnStartFns.push(ke),this._onStartFns.push(ke)}onDone(ke){this._originalOnDoneFns.push(ke),this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ge(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ke=>ke()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ke){this._position=this.totalTime?ke*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ke){const Dt="start"==ke?this._onStartFns:this._onDoneFns;Dt.forEach(Tt=>Tt()),Dt.length=0}}class mt{constructor(ke){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ke;let Dt=0,Tt=0,Kt=0;const Gt=this.players.length;0==Gt?Ge(()=>this._onFinish()):this.players.forEach(Pt=>{Pt.onDone(()=>{++Dt==Gt&&this._onFinish()}),Pt.onDestroy(()=>{++Tt==Gt&&this._onDestroy()}),Pt.onStart(()=>{++Kt==Gt&&this._onStart()})}),this.totalTime=this.players.reduce((Pt,tt)=>Math.max(Pt,tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}init(){this.players.forEach(ke=>ke.init())}onStart(ke){this._onStartFns.push(ke)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ke=>ke()),this._onStartFns=[])}onDone(ke){this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ke=>ke.play())}pause(){this.players.forEach(ke=>ke.pause())}restart(){this.players.forEach(ke=>ke.restart())}finish(){this._onFinish(),this.players.forEach(ke=>ke.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ke=>ke.destroy()),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this.players.forEach(ke=>ke.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ke){const Dt=ke*this.totalTime;this.players.forEach(Tt=>{const Kt=Tt.totalTime?Math.min(1,Dt/Tt.totalTime):1;Tt.setPosition(Kt)})}getPosition(){const ke=this.players.reduce((Dt,Tt)=>null===Dt||Tt.totalTime>Dt.totalTime?Tt:Dt,null);return null!=ke?ke.getPosition():0}beforeDestroy(){this.players.forEach(ke=>{ke.beforeDestroy&&ke.beforeDestroy()})}triggerCallback(ke){const Dt="start"==ke?this._onStartFns:this._onDoneFns;Dt.forEach(Tt=>Tt()),Dt.length=0}}const xt="!"},9808:(Ce,ae,D)=>{D.d(ae,{Do:()=>xt,ED:()=>Fr,EM:()=>xo,Gx:()=>ao,H9:()=>ys,HT:()=>Q,JF:()=>yn,JJ:()=>er,K0:()=>re,Mx:()=>Mi,NF:()=>Ya,Nd:()=>Ei,O5:()=>io,OU:()=>uo,Ov:()=>Dr,PC:()=>Qe,RF:()=>Jn,S$:()=>Ge,Ts:()=>Fi,V_:()=>Z,Ye:()=>qe,Zx:()=>Ps,_K:()=>hs,b0:()=>mt,bD:()=>Yi,ez:()=>mo,gd:()=>Us,i8:()=>Qr,mk:()=>Oi,n9:()=>Vn,q:()=>ne,rS:()=>ds,sg:()=>In,tP:()=>yt,uU:()=>Xn,w_:()=>de});var f=D(5e3);let S=null;function ne(){return S}function Q(k){S||(S=k)}class de{}const re=new f.OlP("DocumentToken");let q=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return function he(){return(0,f.LFG)(ee)}()},providedIn:"platform"}),k})();const Z=new f.OlP("Location Initialized");let ee=(()=>{class k extends q{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(V){const oe=ne().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",V,!1),()=>oe.removeEventListener("popstate",V)}onHashChange(V){const oe=ne().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",V,!1),()=>oe.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,oe,De){le()?this._history.pushState(V,oe,De):this.location.hash=De}replaceState(V,oe,De){le()?this._history.replaceState(V,oe,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return k.\u0275fac=function(V){return new(V||k)(f.LFG(re))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function Ne(){return new ee((0,f.LFG)(re))}()},providedIn:"platform"}),k})();function le(){return!!window.history.pushState}function Ke(k,J){if(0==k.length)return J;if(0==J.length)return k;let V=0;return k.endsWith("/")&&V++,J.startsWith("/")&&V++,2==V?k+J.substring(1):1==V?k+J:k+"/"+J}function Ie(k){const J=k.match(/#|\?|$/),V=J&&J.index||k.length;return k.slice(0,V-("/"===k[V-1]?1:0))+k.slice(V)}function ze(k){return k&&"?"!==k[0]?"?"+k:k}let Ge=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return(0,f.f3M)(mt)},providedIn:"root"}),k})();const je=new f.OlP("appBaseHref");let mt=(()=>{class k extends Ge{constructor(V,oe){var De,rt,ft;super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=null!==(ft=null!==(De=null!=oe?oe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==De?De:null===(rt=(0,f.f3M)(re).location)||void 0===rt?void 0:rt.origin)&&void 0!==ft?ft:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Ke(this._baseHref,V)}path(V=!1){const oe=this._platformLocation.pathname+ze(this._platformLocation.search),De=this._platformLocation.hash;return De&&V?`${oe}${De}`:oe}pushState(V,oe,De,rt){const ft=this.prepareExternalUrl(De+ze(rt));this._platformLocation.pushState(V,oe,ft)}replaceState(V,oe,De,rt){const ft=this.prepareExternalUrl(De+ze(rt));this._platformLocation.replaceState(V,oe,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){var oe,De;null===(De=(oe=this._platformLocation).historyGo)||void 0===De||De.call(oe,V)}}return k.\u0275fac=function(V){return new(V||k)(f.LFG(q),f.LFG(je,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xt=(()=>{class k extends Ge{constructor(V,oe){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(V){const oe=Ke(this._baseHref,V);return oe.length>0?"#"+oe:oe}pushState(V,oe,De,rt){let ft=this.prepareExternalUrl(De+ze(rt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(V,oe,ft)}replaceState(V,oe,De,rt){let ft=this.prepareExternalUrl(De+ze(rt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(V,oe,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){var oe,De;null===(De=(oe=this._platformLocation).historyGo)||void 0===De||De.call(oe,V)}}return k.\u0275fac=function(V){return new(V||k)(f.LFG(q),f.LFG(je,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})(),qe=(()=>{class k{constructor(V){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const oe=this._locationStrategy.getBaseHref();this._baseHref=Ie(Tt(oe)),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){var V;null===(V=this._urlChangeSubscription)||void 0===V||V.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,oe=""){return this.path()==this.normalize(V+ze(oe))}normalize(V){return k.stripTrailingSlash(function Dt(k,J){return k&&J.startsWith(k)?J.substring(k.length):J}(this._baseHref,Tt(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,oe="",De=null){this._locationStrategy.pushState(De,"",V,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ze(oe)),De)}replaceState(V,oe="",De=null){this._locationStrategy.replaceState(De,"",V,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ze(oe)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){var oe,De;null===(De=(oe=this._locationStrategy).historyGo)||void 0===De||De.call(oe,V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)})),()=>{var oe;const De=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(De,1),0===this._urlChangeListeners.length&&(null===(oe=this._urlChangeSubscription)||void 0===oe||oe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",oe){this._urlChangeListeners.forEach(De=>De(V,oe))}subscribe(V,oe,De){return this._subject.subscribe({next:V,error:oe,complete:De})}}return k.normalizeQueryParams=ze,k.joinWithSlash=Ke,k.stripTrailingSlash=Ie,k.\u0275fac=function(V){return new(V||k)(f.LFG(Ge))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function ke(){return new qe((0,f.LFG)(Ge))}()},providedIn:"root"}),k})();function Tt(k){return k.replace(/\/index.html$/,"")}const Kt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Gt=(()=>((Gt=Gt||{})[Gt.Decimal=0]="Decimal",Gt[Gt.Percent=1]="Percent",Gt[Gt.Currency=2]="Currency",Gt[Gt.Scientific=3]="Scientific",Gt))(),Pt=(()=>((Pt=Pt||{})[Pt.Zero=0]="Zero",Pt[Pt.One=1]="One",Pt[Pt.Two=2]="Two",Pt[Pt.Few=3]="Few",Pt[Pt.Many=4]="Many",Pt[Pt.Other=5]="Other",Pt))(),tt=(()=>((tt=tt||{})[tt.Format=0]="Format",tt[tt.Standalone=1]="Standalone",tt))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),ot=(()=>((ot=ot||{})[ot.Short=0]="Short",ot[ot.Medium=1]="Medium",ot[ot.Long=2]="Long",ot[ot.Full=3]="Full",ot))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function wr(k,J){return Qt((0,f.cg1)(k)[f.wAp.DateFormat],J)}function nr(k,J){return Qt((0,f.cg1)(k)[f.wAp.TimeFormat],J)}function Lr(k,J){return Qt((0,f.cg1)(k)[f.wAp.DateTimeFormat],J)}function dr(k,J){const V=(0,f.cg1)(k),oe=V[f.wAp.NumberSymbols][J];if(void 0===oe){if(J===et.CurrencyDecimal)return V[f.wAp.NumberSymbols][et.Decimal];if(J===et.CurrencyGroup)return V[f.wAp.NumberSymbols][et.Group]}return oe}function Ti(k,J){return(0,f.cg1)(k)[f.wAp.NumberFormats][J]}const Hr=f.kL8;function xr(k){if(!k[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qt(k,J){for(let V=J;V>-1;V--)if(void 0!==k[V])return k[V];throw new Error("Locale data API: locale data undefined")}function mi(k){const[J,V]=k.split(":");return{hours:+J,minutes:+V}}const oi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,br={},$e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.ShortGMT=1]="ShortGMT",Oe[Oe.Long=2]="Long",Oe[Oe.Extended=3]="Extended",Oe))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function pt(k,J,V,oe){let De=function $t(k){if(Un(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[De,rt=1,ft=1]=k.split("-").map(nn=>+nn);return dn(De,rt-1,ft)}const V=parseFloat(k);if(!isNaN(k-V))return new Date(V);let oe;if(oe=k.match(oi))return function en(k){const J=new Date(0);let V=0,oe=0;const De=k[8]?J.setUTCFullYear:J.setFullYear,rt=k[8]?J.setUTCHours:J.setHours;k[9]&&(V=Number(k[9]+k[10]),oe=Number(k[9]+k[11])),De.call(J,Number(k[1]),Number(k[2])-1,Number(k[3]));const ft=Number(k[4]||0)-V,nn=Number(k[5]||0)-oe,Vr=Number(k[6]||0),Pn=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return rt.call(J,ft,nn,Vr,Pn),J}(oe)}const J=new Date(k);if(!Un(J))throw new Error(`Unable to convert "${k}" into a date`);return J}(k);J=on(V,J)||J;let nn,ft=[];for(;J;){if(nn=$e.exec(J),!nn){ft.push(J);break}{ft=ft.concat(nn.slice(1));const fr=ft.pop();if(!fr)break;J=fr}}let Vr=De.getTimezoneOffset();oe&&(Vr=Be(oe,Vr),De=function We(k,J,V){const oe=V?-1:1,De=k.getTimezoneOffset();return function Et(k,J){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+J),k}(k,oe*(Be(J,De)-De))}(De,oe,!0));let Pn="";return ft.forEach(fr=>{const ar=function Ae(k){if(Re[k])return Re[k];let J;switch(k){case"G":case"GG":case"GGG":J=xn(nt.Eras,Ze.Abbreviated);break;case"GGGG":J=xn(nt.Eras,Ze.Wide);break;case"GGGGG":J=xn(nt.Eras,Ze.Narrow);break;case"y":J=zn(Ee.FullYear,1,0,!1,!0);break;case"yy":J=zn(Ee.FullYear,2,0,!0,!0);break;case"yyy":J=zn(Ee.FullYear,3,0,!1,!0);break;case"yyyy":J=zn(Ee.FullYear,4,0,!1,!0);break;case"Y":J=yi(1);break;case"YY":J=yi(2,!0);break;case"YYY":J=yi(3);break;case"YYYY":J=yi(4);break;case"M":case"L":J=zn(Ee.Month,1,1);break;case"MM":case"LL":J=zn(Ee.Month,2,1);break;case"MMM":J=xn(nt.Months,Ze.Abbreviated);break;case"MMMM":J=xn(nt.Months,Ze.Wide);break;case"MMMMM":J=xn(nt.Months,Ze.Narrow);break;case"LLL":J=xn(nt.Months,Ze.Abbreviated,tt.Standalone);break;case"LLLL":J=xn(nt.Months,Ze.Wide,tt.Standalone);break;case"LLLLL":J=xn(nt.Months,Ze.Narrow,tt.Standalone);break;case"w":J=zi(1);break;case"ww":J=zi(2);break;case"W":J=zi(1,!0);break;case"d":J=zn(Ee.Date,1);break;case"dd":J=zn(Ee.Date,2);break;case"c":case"cc":J=zn(Ee.Day,1);break;case"ccc":J=xn(nt.Days,Ze.Abbreviated,tt.Standalone);break;case"cccc":J=xn(nt.Days,Ze.Wide,tt.Standalone);break;case"ccccc":J=xn(nt.Days,Ze.Narrow,tt.Standalone);break;case"cccccc":J=xn(nt.Days,Ze.Short,tt.Standalone);break;case"E":case"EE":case"EEE":J=xn(nt.Days,Ze.Abbreviated);break;case"EEEE":J=xn(nt.Days,Ze.Wide);break;case"EEEEE":J=xn(nt.Days,Ze.Narrow);break;case"EEEEEE":J=xn(nt.Days,Ze.Short);break;case"a":case"aa":case"aaa":J=xn(nt.DayPeriods,Ze.Abbreviated);break;case"aaaa":J=xn(nt.DayPeriods,Ze.Wide);break;case"aaaaa":J=xn(nt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":J=xn(nt.DayPeriods,Ze.Abbreviated,tt.Standalone,!0);break;case"bbbb":J=xn(nt.DayPeriods,Ze.Wide,tt.Standalone,!0);break;case"bbbbb":J=xn(nt.DayPeriods,Ze.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":J=xn(nt.DayPeriods,Ze.Abbreviated,tt.Format,!0);break;case"BBBB":J=xn(nt.DayPeriods,Ze.Wide,tt.Format,!0);break;case"BBBBB":J=xn(nt.DayPeriods,Ze.Narrow,tt.Format,!0);break;case"h":J=zn(Ee.Hours,1,-12);break;case"hh":J=zn(Ee.Hours,2,-12);break;case"H":J=zn(Ee.Hours,1);break;case"HH":J=zn(Ee.Hours,2);break;case"m":J=zn(Ee.Minutes,1);break;case"mm":J=zn(Ee.Minutes,2);break;case"s":J=zn(Ee.Seconds,1);break;case"ss":J=zn(Ee.Seconds,2);break;case"S":J=zn(Ee.FractionalSeconds,1);break;case"SS":J=zn(Ee.FractionalSeconds,2);break;case"SSS":J=zn(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=$n(Oe.Short);break;case"ZZZZZ":J=$n(Oe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=$n(Oe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=$n(Oe.Long);break;default:return null}return Re[k]=J,J}(fr);Pn+=ar?ar(De,V,Vr):"''"===fr?"'":fr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pn}function dn(k,J,V){const oe=new Date(0);return oe.setFullYear(k,J,V),oe.setHours(0,0,0),oe}function on(k,J){const V=function St(k){return(0,f.cg1)(k)[f.wAp.LocaleId]}(k);if(br[V]=br[V]||{},br[V][J])return br[V][J];let oe="";switch(J){case"shortDate":oe=wr(k,ot.Short);break;case"mediumDate":oe=wr(k,ot.Medium);break;case"longDate":oe=wr(k,ot.Long);break;case"fullDate":oe=wr(k,ot.Full);break;case"shortTime":oe=nr(k,ot.Short);break;case"mediumTime":oe=nr(k,ot.Medium);break;case"longTime":oe=nr(k,ot.Long);break;case"fullTime":oe=nr(k,ot.Full);break;case"short":const De=on(k,"shortTime"),rt=on(k,"shortDate");oe=rr(Lr(k,ot.Short),[De,rt]);break;case"medium":const ft=on(k,"mediumTime"),nn=on(k,"mediumDate");oe=rr(Lr(k,ot.Medium),[ft,nn]);break;case"long":const Vr=on(k,"longTime"),Pn=on(k,"longDate");oe=rr(Lr(k,ot.Long),[Vr,Pn]);break;case"full":const fr=on(k,"fullTime"),ar=on(k,"fullDate");oe=rr(Lr(k,ot.Full),[fr,ar])}return oe&&(br[V][J]=oe),oe}function rr(k,J){return J&&(k=k.replace(/\{([^}]+)}/g,function(V,oe){return null!=J&&oe in J?J[oe]:V})),k}function Ft(k,J,V="-",oe,De){let rt="";(k<0||De&&k<=0)&&(De?k=1-k:(k=-k,rt=V));let ft=String(k);for(;ft.length<J;)ft="0"+ft;return oe&&(ft=ft.slice(ft.length-J)),rt+ft}function zn(k,J,V=0,oe=!1,De=!1){return function(rt,ft){let nn=function $r(k,J){switch(k){case Ee.FullYear:return J.getFullYear();case Ee.Month:return J.getMonth();case Ee.Date:return J.getDate();case Ee.Hours:return J.getHours();case Ee.Minutes:return J.getMinutes();case Ee.Seconds:return J.getSeconds();case Ee.FractionalSeconds:return J.getMilliseconds();case Ee.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,rt);if((V>0||nn>-V)&&(nn+=V),k===Ee.Hours)0===nn&&-12===V&&(nn=12);else if(k===Ee.FractionalSeconds)return function Hn(k,J){return Ft(k,3).substring(0,J)}(nn,J);const Vr=dr(ft,et.MinusSign);return Ft(nn,J,Vr,oe,De)}}function xn(k,J,V=tt.Format,oe=!1){return function(De,rt){return function rn(k,J,V,oe,De,rt){switch(V){case nt.Months:return function Yt(k,J,V){const oe=(0,f.cg1)(k),rt=Qt([oe[f.wAp.MonthsFormat],oe[f.wAp.MonthsStandalone]],J);return Qt(rt,V)}(J,De,oe)[k.getMonth()];case nt.Days:return function Fn(k,J,V){const oe=(0,f.cg1)(k),rt=Qt([oe[f.wAp.DaysFormat],oe[f.wAp.DaysStandalone]],J);return Qt(rt,V)}(J,De,oe)[k.getDay()];case nt.DayPeriods:const ft=k.getHours(),nn=k.getMinutes();if(rt){const Pn=function lr(k){const J=(0,f.cg1)(k);return xr(J),(J[f.wAp.ExtraData][2]||[]).map(oe=>"string"==typeof oe?mi(oe):[mi(oe[0]),mi(oe[1])])}(J),fr=function yr(k,J,V){const oe=(0,f.cg1)(k);xr(oe);const rt=Qt([oe[f.wAp.ExtraData][0],oe[f.wAp.ExtraData][1]],J)||[];return Qt(rt,V)||[]}(J,De,oe),ar=Pn.findIndex(Ri=>{if(Array.isArray(Ri)){const[Mr,ki]=Ri,Cs=ft>=Mr.hours&&nn>=Mr.minutes,qr=ft<ki.hours||ft===ki.hours&&nn<ki.minutes;if(Mr.hours<ki.hours){if(Cs&&qr)return!0}else if(Cs||qr)return!0}else if(Ri.hours===ft&&Ri.minutes===nn)return!0;return!1});if(-1!==ar)return fr[ar]}return function ht(k,J,V){const oe=(0,f.cg1)(k),rt=Qt([oe[f.wAp.DayPeriodsFormat],oe[f.wAp.DayPeriodsStandalone]],J);return Qt(rt,V)}(J,De,oe)[ft<12?0:1];case nt.Eras:return function Mt(k,J){return Qt((0,f.cg1)(k)[f.wAp.Eras],J)}(J,oe)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(De,rt,k,J,V,oe)}}function $n(k){return function(J,V,oe){const De=-1*oe,rt=dr(V,et.MinusSign),ft=De>0?Math.floor(De/60):Math.ceil(De/60);switch(k){case Oe.Short:return(De>=0?"+":"")+Ft(ft,2,rt)+Ft(Math.abs(De%60),2,rt);case Oe.ShortGMT:return"GMT"+(De>=0?"+":"")+Ft(ft,1,rt);case Oe.Long:return"GMT"+(De>=0?"+":"")+Ft(ft,2,rt)+":"+Ft(Math.abs(De%60),2,rt);case Oe.Extended:return 0===oe?"Z":(De>=0?"+":"")+Ft(ft,2,rt)+":"+Ft(Math.abs(De%60),2,rt);default:throw new Error(`Unknown zone width "${k}"`)}}}function Tr(k){return dn(k.getFullYear(),k.getMonth(),k.getDate()+(4-k.getDay()))}function zi(k,J=!1){return function(V,oe){let De;if(J){const rt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,ft=V.getDate();De=1+Math.floor((ft+rt)/7)}else{const rt=Tr(V),ft=function kn(k){const J=dn(k,0,1).getDay();return dn(k,0,1+(J<=4?4:11)-J)}(rt.getFullYear()),nn=rt.getTime()-ft.getTime();De=1+Math.round(nn/6048e5)}return Ft(De,k,dr(oe,et.MinusSign))}}function yi(k,J=!1){return function(V,oe){return Ft(Tr(V).getFullYear(),k,dr(oe,et.MinusSign),J)}}const Re={};function Be(k,J){k=k.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(V)?J:V}function Un(k){return k instanceof Date&&!isNaN(k.valueOf())}const or=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pe(k,J,V,oe,De,rt,ft=!1){let nn="",Vr=!1;if(isFinite(k)){let Pn=function Wn(k){let oe,De,rt,ft,nn,J=Math.abs(k)+"",V=0;for((De=J.indexOf("."))>-1&&(J=J.replace(".","")),(rt=J.search(/e/i))>0?(De<0&&(De=rt),De+=+J.slice(rt+1),J=J.substring(0,rt)):De<0&&(De=J.length),rt=0;"0"===J.charAt(rt);rt++);if(rt===(nn=J.length))oe=[0],De=1;else{for(nn--;"0"===J.charAt(nn);)nn--;for(De-=rt,oe=[],ft=0;rt<=nn;rt++,ft++)oe[ft]=Number(J.charAt(rt))}return De>22&&(oe=oe.splice(0,21),V=De-1,De=1),{digits:oe,exponent:V,integerLen:De}}(k);ft&&(Pn=function Cn(k){if(0===k.digits[0])return k;const J=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===J?k.digits.push(0,0):1===J&&k.digits.push(0),k.integerLen+=2),k}(Pn));let fr=J.minInt,ar=J.minFrac,Ri=J.maxFrac;if(rt){const qi=rt.match(or);if(null===qi)throw new Error(`${rt} is not a valid digit info`);const ss=qi[1],pa=qi[3],Lt=qi[5];null!=ss&&(fr=ai(ss)),null!=pa&&(ar=ai(pa)),null!=Lt?Ri=ai(Lt):null!=pa&&ar>Ri&&(Ri=ar)}!function ir(k,J,V){if(J>V)throw new Error(`The minimum number of digits after fraction (${J}) is higher than the maximum (${V}).`);let oe=k.digits,De=oe.length-k.integerLen;const rt=Math.min(Math.max(J,De),V);let ft=rt+k.integerLen,nn=oe[ft];if(ft>0){oe.splice(Math.max(k.integerLen,ft));for(let ar=ft;ar<oe.length;ar++)oe[ar]=0}else{De=Math.max(0,De),k.integerLen=1,oe.length=Math.max(1,ft=rt+1),oe[0]=0;for(let ar=1;ar<ft;ar++)oe[ar]=0}if(nn>=5)if(ft-1<0){for(let ar=0;ar>ft;ar--)oe.unshift(0),k.integerLen++;oe.unshift(1),k.integerLen++}else oe[ft-1]++;for(;De<Math.max(0,rt);De++)oe.push(0);let Vr=0!==rt;const Pn=J+k.integerLen,fr=oe.reduceRight(function(ar,Ri,Mr,ki){return ki[Mr]=(Ri+=ar)<10?Ri:Ri-10,Vr&&(0===ki[Mr]&&Mr>=Pn?ki.pop():Vr=!1),Ri>=10?1:0},0);fr&&(oe.unshift(fr),k.integerLen++)}(Pn,ar,Ri);let Mr=Pn.digits,ki=Pn.integerLen;const Cs=Pn.exponent;let qr=[];for(Vr=Mr.every(qi=>!qi);ki<fr;ki++)Mr.unshift(0);for(;ki<0;ki++)Mr.unshift(0);ki>0?qr=Mr.splice(ki,Mr.length):(qr=Mr,Mr=[0]);const Qi=[];for(Mr.length>=J.lgSize&&Qi.unshift(Mr.splice(-J.lgSize,Mr.length).join(""));Mr.length>J.gSize;)Qi.unshift(Mr.splice(-J.gSize,Mr.length).join(""));Mr.length&&Qi.unshift(Mr.join("")),nn=Qi.join(dr(V,oe)),qr.length&&(nn+=dr(V,De)+qr.join("")),Cs&&(nn+=dr(V,et.Exponential)+"+"+Cs)}else nn=dr(V,et.Infinity);return nn=k<0&&!Vr?J.negPre+nn+J.negSuf:J.posPre+nn+J.posSuf,nn}function Dn(k,J="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},oe=k.split(";"),De=oe[0],rt=oe[1],ft=-1!==De.indexOf(".")?De.split("."):[De.substring(0,De.lastIndexOf("0")+1),De.substring(De.lastIndexOf("0")+1)],nn=ft[0],Vr=ft[1]||"";V.posPre=nn.substring(0,nn.indexOf("#"));for(let fr=0;fr<Vr.length;fr++){const ar=Vr.charAt(fr);"0"===ar?V.minFrac=V.maxFrac=fr+1:"#"===ar?V.maxFrac=fr+1:V.posSuf+=ar}const Pn=nn.split(",");if(V.gSize=Pn[1]?Pn[1].length:0,V.lgSize=Pn[2]||Pn[1]?(Pn[2]||Pn[1]).length:0,rt){const fr=De.length-V.posPre.length-V.posSuf.length,ar=rt.indexOf("#");V.negPre=rt.substring(0,ar).replace(/'/g,""),V.negSuf=rt.slice(ar+fr).replace(/'/g,"")}else V.negPre=J+V.posPre,V.negSuf=V.posSuf;return V}function ai(k){const J=parseInt(k);if(isNaN(J))throw new Error("Invalid integer literal when parsing "+k);return J}let Yr=(()=>{class k{}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=f.Yz7({token:k,factory:function(V){let oe=null;return V?oe=new V:(De=f.LFG(f.soG),oe=new us(De)),oe;var De},providedIn:"root"}),k})();let us=(()=>{class k extends Yr{constructor(V){super(),this.locale=V}getPluralCategory(V,oe){switch(Hr(oe||this.locale)(V)){case Pt.Zero:return"zero";case Pt.One:return"one";case Pt.Two:return"two";case Pt.Few:return"few";case Pt.Many:return"many";default:return"other"}}}return k.\u0275fac=function(V){return new(V||k)(f.LFG(f.soG))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})();function Mi(k,J){J=encodeURIComponent(J);for(const V of k.split(";")){const oe=V.indexOf("="),[De,rt]=-1==oe?[V,""]:[V.slice(0,oe),V.slice(oe+1)];if(De.trim()===J)return decodeURIComponent(rt)}return null}let Oi=(()=>{class k{constructor(V,oe,De,rt){this._iterableDiffers=V,this._keyValueDiffers=oe,this._ngEl=De,this._renderer=rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(oe=>this._toggleClass(oe.key,oe.currentValue)),V.forEachChangedItem(oe=>this._toggleClass(oe.key,oe.currentValue)),V.forEachRemovedItem(oe=>{oe.previousValue&&this._toggleClass(oe.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(oe=>{if("string"!=typeof oe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(oe.item)}`);this._toggleClass(oe.item,!0)}),V.forEachRemovedItem(oe=>this._toggleClass(oe.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(oe=>this._toggleClass(oe,!0)):Object.keys(V).forEach(oe=>this._toggleClass(oe,!!V[oe])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(oe=>this._toggleClass(oe,!1)):Object.keys(V).forEach(oe=>this._toggleClass(oe,!1)))}_toggleClass(V,oe){(V=V.trim())&&V.split(/\s+/g).forEach(De=>{oe?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class On{constructor(J,V,oe,De){this.$implicit=J,this.ngForOf=V,this.index=oe,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let In=(()=>{class k{constructor(V,oe,De){this._viewContainer=V,this._template=oe,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const oe=this._viewContainer;V.forEachOperation((De,rt,ft)=>{if(null==De.previousIndex)oe.createEmbeddedView(this._template,new On(De.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)oe.remove(null===rt?void 0:rt);else if(null!==rt){const nn=oe.get(rt);oe.move(nn,ft),_i(nn,De)}});for(let De=0,rt=oe.length;De<rt;De++){const nn=oe.get(De).context;nn.index=De,nn.count=rt,nn.ngForOf=this._ngForOf}V.forEachIdentityChange(De=>{_i(oe.get(De.currentIndex),De)})}static ngTemplateContextGuard(V,oe){return!0}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function _i(k,J){k.context.$implicit=J.item}let io=(()=>{class k{constructor(V,oe){this._viewContainer=V,this._context=new so,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){vi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){vi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,oe){return!0}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.s_b),f.Y36(f.Rgc))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class so{constructor(){this.$implicit=null,this.ngIf=null}}function vi(k,J){if(J&&!J.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,f.AaK)(J)}'.`)}class Pi{constructor(J,V){this._viewContainerRef=J,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let Jn=(()=>{class k{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const oe=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let oe=0;oe<this._defaultViews.length;oe++)this._defaultViews[oe].enforceState(V)}}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),k})(),Vn=(()=>{class k{constructor(V,oe,De){this.ngSwitch=De,De._addCase(),this._view=new Pi(V,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Jn,9))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),k})(),Fr=(()=>{class k{constructor(V,oe,De){De._addDefault(new Pi(V,oe))}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Jn,9))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitchDefault",""]],standalone:!0}),k})(),Qe=(()=>{class k{constructor(V,oe,De){this._ngEl=V,this._differs=oe,this._renderer=De,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,oe){const[De,rt]=V.split("."),ft=-1===De.indexOf("-")?void 0:f.JOm.DashCase;null!=oe?this._renderer.setStyle(this._ngEl.nativeElement,De,rt?`${oe}${rt}`:oe,ft):this._renderer.removeStyle(this._ngEl.nativeElement,De,ft)}_applyChanges(V){V.forEachRemovedItem(oe=>this._setStyle(oe.key,null)),V.forEachAddedItem(oe=>this._setStyle(oe.key,oe.currentValue)),V.forEachChangedItem(oe=>this._setStyle(oe.key,oe.currentValue))}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),k})(),yt=(()=>{class k{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const oe=this._viewContainerRef;if(this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:De,ngTemplateOutletContext:rt,ngTemplateOutletInjector:ft}=this;this._viewRef=oe.createEmbeddedView(De,rt,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.s_b))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),k})();function kt(k,J){return new f.vHH(2100,!1)}class Gn{createSubscription(J,V){return J.subscribe({next:V,error:oe=>{throw oe}})}dispose(J){J.unsubscribe()}}class Wr{createSubscription(J,V){return J.then(V,oe=>{throw oe})}dispose(J){}}const Nr=new Wr,Li=new Gn;let Dr=(()=>{class k{constructor(V){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=V}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,oe=>this._updateLatestValue(V,oe))}_selectStrategy(V){if((0,f.QGY)(V))return Nr;if((0,f.F4k)(V))return Li;throw kt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,oe){V===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.sBO,16))},k.\u0275pipe=f.Yjl({name:"async",type:k,pure:!1,standalone:!0}),k})(),Qr=(()=>{class k{transform(V){if(null==V)return null;if("string"!=typeof V)throw kt();return V.toLowerCase()}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275pipe=f.Yjl({name:"lowercase",type:k,pure:!0,standalone:!0}),k})();const cs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ds=(()=>{class k{transform(V){if(null==V)return null;if("string"!=typeof V)throw kt();return V.replace(cs,oe=>oe[0].toUpperCase()+oe.slice(1).toLowerCase())}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275pipe=f.Yjl({name:"titlecase",type:k,pure:!0,standalone:!0}),k})(),Us=(()=>{class k{transform(V){if(null==V)return null;if("string"!=typeof V)throw kt();return V.toUpperCase()}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275pipe=f.Yjl({name:"uppercase",type:k,pure:!0,standalone:!0}),k})();const oo=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xn=(()=>{class k{constructor(V,oe){this.locale=V,this.defaultTimezone=oe}transform(V,oe="mediumDate",De,rt){var ft;if(null==V||""===V||V!=V)return null;try{return pt(V,oe,rt||this.locale,null!==(ft=null!=De?De:this.defaultTimezone)&&void 0!==ft?ft:void 0)}catch(nn){throw kt()}}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.soG,16),f.Y36(oo,24))},k.\u0275pipe=f.Yjl({name:"date",type:k,pure:!0,standalone:!0}),k})();const To=/#/g;let ao=(()=>{class k{constructor(V){this._localization=V}transform(V,oe,De){if(null==V)return"";if("object"!=typeof oe||null===oe)throw kt();return oe[function Sn(k,J,V,oe){let De=`=${k}`;if(J.indexOf(De)>-1||(De=V.getPluralCategory(k,oe),J.indexOf(De)>-1))return De;if(J.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${k}"`)}(V,Object.keys(oe),this._localization,De)].replace(To,V.toString())}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(Yr,16))},k.\u0275pipe=f.Yjl({name:"i18nPlural",type:k,pure:!0,standalone:!0}),k})(),hs=(()=>{class k{transform(V,oe){if(null==V)return"";if("object"!=typeof oe||"string"!=typeof V)throw kt();return oe.hasOwnProperty(V)?oe[V]:oe.hasOwnProperty("other")?oe.other:""}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275pipe=f.Yjl({name:"i18nSelect",type:k,pure:!0,standalone:!0}),k})(),Fi=(()=>{class k{transform(V){return JSON.stringify(V,null,2)}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275pipe=f.Yjl({name:"json",type:k,pure:!1,standalone:!0}),k})(),Ei=(()=>{class k{constructor(V){this.differs=V,this.keyValues=[],this.compareFn=Qs}transform(V,oe=Qs){if(!V||!(V instanceof Map)&&"object"!=typeof V)return null;this.differ||(this.differ=this.differs.find(V).create());const De=this.differ.diff(V),rt=oe!==this.compareFn;return De&&(this.keyValues=[],De.forEachItem(ft=>{this.keyValues.push(function Os(k,J){return{key:k,value:J}}(ft.key,ft.currentValue))})),(De||rt)&&(this.keyValues.sort(oe),this.compareFn=oe),this.keyValues}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.aQg,16))},k.\u0275pipe=f.Yjl({name:"keyvalue",type:k,pure:!1,standalone:!0}),k})();function Qs(k,J){const V=k.key,oe=J.key;if(V===oe)return 0;if(void 0===V)return 1;if(void 0===oe)return-1;if(null===V)return 1;if(null===oe)return-1;if("string"==typeof V&&"string"==typeof oe)return V<oe?-1:1;if("number"==typeof V&&"number"==typeof oe)return V-oe;if("boolean"==typeof V&&"boolean"==typeof oe)return V<oe?-1:1;const De=String(V),rt=String(oe);return De==rt?0:De<rt?-1:1}let er=(()=>{class k{constructor(V){this._locale=V}transform(V,oe,De){if(!lo(V))return null;De=De||this._locale;try{return function Wt(k,J,V){return Pe(k,Dn(Ti(J,Gt.Decimal),dr(J,et.MinusSign)),J,et.Group,et.Decimal,V)}(Ro(V),De,oe)}catch(rt){throw kt()}}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.soG,16))},k.\u0275pipe=f.Yjl({name:"number",type:k,pure:!0,standalone:!0}),k})(),Ps=(()=>{class k{constructor(V){this._locale=V}transform(V,oe,De){if(!lo(V))return null;De=De||this._locale;try{return function gt(k,J,V){return Pe(k,Dn(Ti(J,Gt.Percent),dr(J,et.MinusSign)),J,et.Group,et.Decimal,V,!0).replace(new RegExp("%","g"),dr(J,et.PercentSign))}(Ro(V),De,oe)}catch(rt){throw kt()}}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.soG,16))},k.\u0275pipe=f.Yjl({name:"percent",type:k,pure:!0,standalone:!0}),k})(),ys=(()=>{class k{constructor(V,oe="USD"){this._locale=V,this._defaultCurrencyCode=oe}transform(V,oe=this._defaultCurrencyCode,De="symbol",rt,ft){if(!lo(V))return null;ft=ft||this._locale,"boolean"==typeof De&&(De=De?"symbol":"code");let nn=oe||this._defaultCurrencyCode;"code"!==De&&(nn="symbol"===De||"symbol-narrow"===De?function Si(k,J,V="en"){const oe=function Xr(k){return(0,f.cg1)(k)[f.wAp.Currencies]}(V)[k]||Kt[k]||[],De=oe[1];return"narrow"===J&&"string"==typeof De?De:oe[0]||k}(nn,"symbol"===De?"wide":"narrow",ft):De);try{return function Le(k,J,V,oe,De){const ft=Dn(Ti(J,Gt.Currency),dr(J,et.MinusSign));return ft.minFrac=function Ki(k){let J;const V=Kt[k];return V&&(J=V[2]),"number"==typeof J?J:2}(oe),ft.maxFrac=ft.minFrac,Pe(k,ft,J,et.CurrencyGroup,et.CurrencyDecimal,De).replace("\xa4",V).replace("\xa4","").trim()}(Ro(V),ft,nn,oe,rt)}catch(Vr){throw kt()}}}return k.\u0275fac=function(V){return new(V||k)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},k.\u0275pipe=f.Yjl({name:"currency",type:k,pure:!0,standalone:!0}),k})();function lo(k){return!(null==k||""===k||k!=k)}function Ro(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}let uo=(()=>{class k{transform(V,oe,De){if(null==V)return null;if(!this.supports(V))throw kt();return V.slice(oe,De)}supports(V){return"string"==typeof V||Array.isArray(V)}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275pipe=f.Yjl({name:"slice",type:k,pure:!1,standalone:!0}),k})(),mo=(()=>{class k{}return k.\u0275fac=function(V){return new(V||k)},k.\u0275mod=f.oAB({type:k}),k.\u0275inj=f.cJS({}),k})();const Yi="browser";function Ya(k){return k===Yi}let xo=(()=>{class k{}return k.\u0275prov=(0,f.Yz7)({token:k,providedIn:"root",factory:()=>new wa((0,f.LFG)(re),window)}),k})();class wa{constructor(J,V){this.document=J,this.window=V,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const V=function li(k,J){const V=k.getElementById(J)||k.getElementsByName(J)[0];if(V)return V;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const oe=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let De=oe.currentNode;for(;De;){const rt=De.shadowRoot;if(rt){const ft=rt.getElementById(J)||rt.querySelector(`[name="${J}"]`);if(ft)return ft}De=oe.nextNode()}}return null}(this.document,J);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=J)}}scrollToElement(J){const V=J.getBoundingClientRect(),oe=V.left+this.window.pageXOffset,De=V.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(oe-rt[0],De-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch(J){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(J){return!1}}}function qs(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class yn{}},520:(Ce,ae,D)=>{D.d(ae,{Ed:()=>oi,JF:()=>Ki,LE:()=>je,TP:()=>Fn,UA:()=>et,WM:()=>Z,Zn:()=>ot,eN:()=>St});var f=D(9808),S=D(5e3),ne=D(9646),H=D(9751),Q=D(4351),de=D(9300),re=D(4004);class q{}class he{}class Z{constructor(Oe){this.normalizedNames=new Map,this.lazyUpdate=null,Oe?this.lazyInit="string"==typeof Oe?()=>{this.headers=new Map,Oe.split("\n").forEach(Ee=>{const nt=Ee.indexOf(":");if(nt>0){const pt=Ee.slice(0,nt),dn=pt.toLowerCase(),on=Ee.slice(nt+1).trim();this.maybeSetNormalizedName(pt,dn),this.headers.has(dn)?this.headers.get(dn).push(on):this.headers.set(dn,[on])}})}:()=>{this.headers=new Map,Object.keys(Oe).forEach(Ee=>{let nt=Oe[Ee];const pt=Ee.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(pt,nt),this.maybeSetNormalizedName(Ee,pt))})}:this.headers=new Map}has(Oe){return this.init(),this.headers.has(Oe.toLowerCase())}get(Oe){this.init();const Ee=this.headers.get(Oe.toLowerCase());return Ee&&Ee.length>0?Ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Oe){return this.init(),this.headers.get(Oe.toLowerCase())||null}append(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"a"})}set(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"s"})}delete(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"d"})}maybeSetNormalizedName(Oe,Ee){this.normalizedNames.has(Ee)||this.normalizedNames.set(Ee,Oe)}init(){this.lazyInit&&(this.lazyInit instanceof Z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Oe=>this.applyUpdate(Oe)),this.lazyUpdate=null))}copyFrom(Oe){Oe.init(),Array.from(Oe.headers.keys()).forEach(Ee=>{this.headers.set(Ee,Oe.headers.get(Ee)),this.normalizedNames.set(Ee,Oe.normalizedNames.get(Ee))})}clone(Oe){const Ee=new Z;return Ee.lazyInit=this.lazyInit&&this.lazyInit instanceof Z?this.lazyInit:this,Ee.lazyUpdate=(this.lazyUpdate||[]).concat([Oe]),Ee}applyUpdate(Oe){const Ee=Oe.name.toLowerCase();switch(Oe.op){case"a":case"s":let nt=Oe.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(Oe.name,Ee);const pt=("a"===Oe.op?this.headers.get(Ee):void 0)||[];pt.push(...nt),this.headers.set(Ee,pt);break;case"d":const dn=Oe.value;if(dn){let on=this.headers.get(Ee);if(!on)return;on=on.filter(rr=>-1===dn.indexOf(rr)),0===on.length?(this.headers.delete(Ee),this.normalizedNames.delete(Ee)):this.headers.set(Ee,on)}else this.headers.delete(Ee),this.normalizedNames.delete(Ee)}}forEach(Oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ee=>Oe(this.normalizedNames.get(Ee),this.headers.get(Ee)))}}class le{encodeKey(Oe){return ze(Oe)}encodeValue(Oe){return ze(Oe)}decodeKey(Oe){return decodeURIComponent(Oe)}decodeValue(Oe){return decodeURIComponent(Oe)}}const Ke=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze($e){return encodeURIComponent($e).replace(Ke,(Oe,Ee)=>{var nt;return null!==(nt=Ie[Ee])&&void 0!==nt?nt:Oe})}function Ge($e){return`${$e}`}class je{constructor(Oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Oe.encoder||new le,Oe.fromString){if(Oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne($e,Oe){const Ee=new Map;return $e.length>0&&$e.replace(/^\?/,"").split("&").forEach(pt=>{const dn=pt.indexOf("="),[on,rr]=-1==dn?[Oe.decodeKey(pt),""]:[Oe.decodeKey(pt.slice(0,dn)),Oe.decodeValue(pt.slice(dn+1))],Ft=Ee.get(on)||[];Ft.push(rr),Ee.set(on,Ft)}),Ee}(Oe.fromString,this.encoder)}else Oe.fromObject?(this.map=new Map,Object.keys(Oe.fromObject).forEach(Ee=>{const nt=Oe.fromObject[Ee],pt=Array.isArray(nt)?nt.map(Ge):[Ge(nt)];this.map.set(Ee,pt)})):this.map=null}has(Oe){return this.init(),this.map.has(Oe)}get(Oe){this.init();const Ee=this.map.get(Oe);return Ee?Ee[0]:null}getAll(Oe){return this.init(),this.map.get(Oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"a"})}appendAll(Oe){const Ee=[];return Object.keys(Oe).forEach(nt=>{const pt=Oe[nt];Array.isArray(pt)?pt.forEach(dn=>{Ee.push({param:nt,value:dn,op:"a"})}):Ee.push({param:nt,value:pt,op:"a"})}),this.clone(Ee)}set(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"s"})}delete(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"d"})}toString(){return this.init(),this.keys().map(Oe=>{const Ee=this.encoder.encodeKey(Oe);return this.map.get(Oe).map(nt=>Ee+"="+this.encoder.encodeValue(nt)).join("&")}).filter(Oe=>""!==Oe).join("&")}clone(Oe){const Ee=new je({encoder:this.encoder});return Ee.cloneFrom=this.cloneFrom||this,Ee.updates=(this.updates||[]).concat(Oe),Ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Oe=>this.map.set(Oe,this.cloneFrom.map.get(Oe))),this.updates.forEach(Oe=>{switch(Oe.op){case"a":case"s":const Ee=("a"===Oe.op?this.map.get(Oe.param):void 0)||[];Ee.push(Ge(Oe.value)),this.map.set(Oe.param,Ee);break;case"d":if(void 0===Oe.value){this.map.delete(Oe.param);break}{let nt=this.map.get(Oe.param)||[];const pt=nt.indexOf(Ge(Oe.value));-1!==pt&&nt.splice(pt,1),nt.length>0?this.map.set(Oe.param,nt):this.map.delete(Oe.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(Oe,Ee){return this.map.set(Oe,Ee),this}get(Oe){return this.map.has(Oe)||this.map.set(Oe,Oe.defaultValue()),this.map.get(Oe)}delete(Oe){return this.map.delete(Oe),this}has(Oe){return this.map.has(Oe)}keys(){return this.map.keys()}}function ke($e){return"undefined"!=typeof ArrayBuffer&&$e instanceof ArrayBuffer}function Dt($e){return"undefined"!=typeof Blob&&$e instanceof Blob}function Tt($e){return"undefined"!=typeof FormData&&$e instanceof FormData}class Gt{constructor(Oe,Ee,nt,pt){let dn;if(this.url=Ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Oe.toUpperCase(),function qe($e){switch($e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pt?(this.body=void 0!==nt?nt:null,dn=pt):dn=nt,dn&&(this.reportProgress=!!dn.reportProgress,this.withCredentials=!!dn.withCredentials,dn.responseType&&(this.responseType=dn.responseType),dn.headers&&(this.headers=dn.headers),dn.context&&(this.context=dn.context),dn.params&&(this.params=dn.params)),this.headers||(this.headers=new Z),this.context||(this.context=new xt),this.params){const on=this.params.toString();if(0===on.length)this.urlWithParams=Ee;else{const rr=Ee.indexOf("?");this.urlWithParams=Ee+(-1===rr?"?":rr<Ee.length-1?"&":"")+on}}else this.params=new je,this.urlWithParams=Ee}serializeBody(){return null===this.body?null:ke(this.body)||Dt(this.body)||Tt(this.body)||function Kt($e){return"undefined"!=typeof URLSearchParams&&$e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tt(this.body)?null:Dt(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Oe={}){var Ee;const nt=Oe.method||this.method,pt=Oe.url||this.url,dn=Oe.responseType||this.responseType,on=void 0!==Oe.body?Oe.body:this.body,rr=void 0!==Oe.withCredentials?Oe.withCredentials:this.withCredentials,Ft=void 0!==Oe.reportProgress?Oe.reportProgress:this.reportProgress;let Hn=Oe.headers||this.headers,zn=Oe.params||this.params;const $r=null!==(Ee=Oe.context)&&void 0!==Ee?Ee:this.context;return void 0!==Oe.setHeaders&&(Hn=Object.keys(Oe.setHeaders).reduce((xn,rn)=>xn.set(rn,Oe.setHeaders[rn]),Hn)),Oe.setParams&&(zn=Object.keys(Oe.setParams).reduce((xn,rn)=>xn.set(rn,Oe.setParams[rn]),zn)),new Gt(nt,pt,on,{params:zn,headers:Hn,context:$r,reportProgress:Ft,responseType:dn,withCredentials:rr})}}var Pt=(()=>((Pt=Pt||{})[Pt.Sent=0]="Sent",Pt[Pt.UploadProgress=1]="UploadProgress",Pt[Pt.ResponseHeader=2]="ResponseHeader",Pt[Pt.DownloadProgress=3]="DownloadProgress",Pt[Pt.Response=4]="Response",Pt[Pt.User=5]="User",Pt))();class tt{constructor(Oe,Ee=200,nt="OK"){this.headers=Oe.headers||new Z,this.status=void 0!==Oe.status?Oe.status:Ee,this.statusText=Oe.statusText||nt,this.url=Oe.url||null,this.ok=this.status>=200&&this.status<300}}class Ze extends tt{constructor(Oe={}){super(Oe),this.type=Pt.ResponseHeader}clone(Oe={}){return new Ze({headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class ot extends tt{constructor(Oe={}){super(Oe),this.type=Pt.Response,this.body=void 0!==Oe.body?Oe.body:null}clone(Oe={}){return new ot({body:void 0!==Oe.body?Oe.body:this.body,headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class et extends tt{constructor(Oe){super(Oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Oe.url||"(unknown url)"}`:`Http failure response for ${Oe.url||"(unknown url)"}: ${Oe.status} ${Oe.statusText}`,this.error=Oe.error||null}}function Nt($e,Oe){return{body:Oe,headers:$e.headers,context:$e.context,observe:$e.observe,params:$e.params,reportProgress:$e.reportProgress,responseType:$e.responseType,withCredentials:$e.withCredentials}}let St=(()=>{class $e{constructor(Ee){this.handler=Ee}request(Ee,nt,pt={}){let dn;if(Ee instanceof Gt)dn=Ee;else{let Ft,Hn;Ft=pt.headers instanceof Z?pt.headers:new Z(pt.headers),pt.params&&(Hn=pt.params instanceof je?pt.params:new je({fromObject:pt.params})),dn=new Gt(Ee,nt,void 0!==pt.body?pt.body:null,{headers:Ft,context:pt.context,params:Hn,reportProgress:pt.reportProgress,responseType:pt.responseType||"json",withCredentials:pt.withCredentials})}const on=(0,ne.of)(dn).pipe((0,Q.b)(Ft=>this.handler.handle(Ft)));if(Ee instanceof Gt||"events"===pt.observe)return on;const rr=on.pipe((0,de.h)(Ft=>Ft instanceof ot));switch(pt.observe||"body"){case"body":switch(dn.responseType){case"arraybuffer":return rr.pipe((0,re.U)(Ft=>{if(null!==Ft.body&&!(Ft.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ft.body}));case"blob":return rr.pipe((0,re.U)(Ft=>{if(null!==Ft.body&&!(Ft.body instanceof Blob))throw new Error("Response is not a Blob.");return Ft.body}));case"text":return rr.pipe((0,re.U)(Ft=>{if(null!==Ft.body&&"string"!=typeof Ft.body)throw new Error("Response is not a string.");return Ft.body}));default:return rr.pipe((0,re.U)(Ft=>Ft.body))}case"response":return rr;default:throw new Error(`Unreachable: unhandled observe type ${pt.observe}}`)}}delete(Ee,nt={}){return this.request("DELETE",Ee,nt)}get(Ee,nt={}){return this.request("GET",Ee,nt)}head(Ee,nt={}){return this.request("HEAD",Ee,nt)}jsonp(Ee,nt){return this.request("JSONP",Ee,{params:(new je).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ee,nt={}){return this.request("OPTIONS",Ee,nt)}patch(Ee,nt,pt={}){return this.request("PATCH",Ee,Nt(pt,nt))}post(Ee,nt,pt={}){return this.request("POST",Ee,Nt(pt,nt))}put(Ee,nt,pt={}){return this.request("PUT",Ee,Nt(pt,nt))}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(q))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ht{constructor(Oe,Ee){this.next=Oe,this.interceptor=Ee}handle(Oe){return this.interceptor.intercept(Oe,this.next)}}const Fn=new S.OlP("HTTP_INTERCEPTORS");let hr,Yt=(()=>{class $e{intercept(Ee,nt){return nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),Mt=0;class dr{}let Ti=(()=>{class $e{constructor(Ee,nt){this.callbackMap=Ee,this.document=nt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Mt++}handle(Ee){if("JSONP"!==Ee.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ee.responseType)throw new Error("JSONP requests must use Json response type.");if(Ee.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new H.y(nt=>{const pt=this.nextCallback(),dn=Ee.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${pt}$1`),on=this.document.createElement("script");on.src=dn;let rr=null,Ft=!1;this.callbackMap[pt]=xn=>{delete this.callbackMap[pt],rr=xn,Ft=!0};const Hn=()=>{on.parentNode&&on.parentNode.removeChild(on),delete this.callbackMap[pt]};return on.addEventListener("load",xn=>{this.resolvedPromise.then(()=>{Hn(),Ft?(nt.next(new ot({body:rr,status:200,statusText:"OK",url:dn})),nt.complete()):nt.error(new et({url:dn,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),on.addEventListener("error",xn=>{Hn(),nt.error(new et({error:xn,status:0,statusText:"JSONP Error",url:dn}))}),this.document.body.appendChild(on),nt.next({type:Pt.Sent}),()=>{Ft||this.removeListeners(on),Hn()}})}removeListeners(Ee){hr||(hr=this.document.implementation.createHTMLDocument()),hr.adoptNode(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(dr),S.LFG(f.K0))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),gi=(()=>{class $e{constructor(Ee){this.jsonp=Ee}intercept(Ee,nt){return"JSONP"===Ee.method?this.jsonp.handle(Ee):nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(Ti))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Jr=/^\)\]\}',?\n/;let Xr=(()=>{class $e{constructor(Ee){this.xhrFactory=Ee}handle(Ee){if("JSONP"===Ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new H.y(nt=>{const pt=this.xhrFactory.build();if(pt.open(Ee.method,Ee.urlWithParams),Ee.withCredentials&&(pt.withCredentials=!0),Ee.headers.forEach((rn,$n)=>pt.setRequestHeader(rn,$n.join(","))),Ee.headers.has("Accept")||pt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ee.headers.has("Content-Type")){const rn=Ee.detectContentTypeHeader();null!==rn&&pt.setRequestHeader("Content-Type",rn)}if(Ee.responseType){const rn=Ee.responseType.toLowerCase();pt.responseType="json"!==rn?rn:"text"}const dn=Ee.serializeBody();let on=null;const rr=()=>{if(null!==on)return on;const rn=pt.statusText||"OK",$n=new Z(pt.getAllResponseHeaders()),ti=function Br($e){return"responseURL"in $e&&$e.responseURL?$e.responseURL:/^X-Request-URL:/m.test($e.getAllResponseHeaders())?$e.getResponseHeader("X-Request-URL"):null}(pt)||Ee.url;return on=new Ze({headers:$n,status:pt.status,statusText:rn,url:ti}),on},Ft=()=>{let{headers:rn,status:$n,statusText:ti,url:Gr}=rr(),kn=null;204!==$n&&(kn=void 0===pt.response?pt.responseText:pt.response),0===$n&&($n=kn?200:0);let Tr=$n>=200&&$n<300;if("json"===Ee.responseType&&"string"==typeof kn){const zi=kn;kn=kn.replace(Jr,"");try{kn=""!==kn?JSON.parse(kn):null}catch(yi){kn=zi,Tr&&(Tr=!1,kn={error:yi,text:kn})}}Tr?(nt.next(new ot({body:kn,headers:rn,status:$n,statusText:ti,url:Gr||void 0})),nt.complete()):nt.error(new et({error:kn,headers:rn,status:$n,statusText:ti,url:Gr||void 0}))},Hn=rn=>{const{url:$n}=rr(),ti=new et({error:rn,status:pt.status||0,statusText:pt.statusText||"Unknown Error",url:$n||void 0});nt.error(ti)};let zn=!1;const $r=rn=>{zn||(nt.next(rr()),zn=!0);let $n={type:Pt.DownloadProgress,loaded:rn.loaded};rn.lengthComputable&&($n.total=rn.total),"text"===Ee.responseType&&!!pt.responseText&&($n.partialText=pt.responseText),nt.next($n)},xn=rn=>{let $n={type:Pt.UploadProgress,loaded:rn.loaded};rn.lengthComputable&&($n.total=rn.total),nt.next($n)};return pt.addEventListener("load",Ft),pt.addEventListener("error",Hn),pt.addEventListener("timeout",Hn),pt.addEventListener("abort",Hn),Ee.reportProgress&&(pt.addEventListener("progress",$r),null!==dn&&pt.upload&&pt.upload.addEventListener("progress",xn)),pt.send(dn),nt.next({type:Pt.Sent}),()=>{pt.removeEventListener("error",Hn),pt.removeEventListener("abort",Hn),pt.removeEventListener("load",Ft),pt.removeEventListener("timeout",Hn),Ee.reportProgress&&(pt.removeEventListener("progress",$r),null!==dn&&pt.upload&&pt.upload.removeEventListener("progress",xn)),pt.readyState!==pt.DONE&&pt.abort()}})}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(f.JF))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Hr=new S.OlP("XSRF_COOKIE_NAME"),xr=new S.OlP("XSRF_HEADER_NAME");class lr{}let yr=(()=>{class $e{constructor(Ee,nt,pt){this.doc=Ee,this.platform=nt,this.cookieName=pt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ee=this.doc.cookie||"";return Ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Ee,this.cookieName),this.lastCookieString=Ee),this.lastToken}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(f.K0),S.LFG(S.Lbi),S.LFG(Hr))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),ls=(()=>{class $e{constructor(Ee,nt){this.tokenService=Ee,this.headerName=nt}intercept(Ee,nt){const pt=Ee.url.toLowerCase();if("GET"===Ee.method||"HEAD"===Ee.method||pt.startsWith("http://")||pt.startsWith("https://"))return nt.handle(Ee);const dn=this.tokenService.getToken();return null!==dn&&!Ee.headers.has(this.headerName)&&(Ee=Ee.clone({headers:Ee.headers.set(this.headerName,dn)})),nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(lr),S.LFG(xr))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),Qt=(()=>{class $e{constructor(Ee,nt){this.backend=Ee,this.injector=nt,this.chain=null}handle(Ee){if(null===this.chain){const nt=this.injector.get(Fn,[]);this.chain=nt.reduceRight((pt,dn)=>new ht(pt,dn),this.backend)}return this.chain.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(he),S.LFG(S.zs3))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function Si(){return"object"==typeof window?window:{}}let Er=(()=>{class $e{static disable(){return{ngModule:$e,providers:[{provide:ls,useClass:Yt}]}}static withOptions(Ee={}){return{ngModule:$e,providers:[Ee.cookieName?{provide:Hr,useValue:Ee.cookieName}:[],Ee.headerName?{provide:xr,useValue:Ee.headerName}:[]]}}}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[ls,{provide:Fn,useExisting:ls,multi:!0},{provide:lr,useClass:yr},{provide:Hr,useValue:"XSRF-TOKEN"},{provide:xr,useValue:"X-XSRF-TOKEN"}]}),$e})(),Ki=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[St,{provide:q,useClass:Qt},Xr,{provide:he,useExisting:Xr}],imports:[Er.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),$e})(),oi=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[Ti,{provide:dr,useFactory:Si},{provide:Fn,useClass:gi,multi:!0}]}),$e})()},5e3:(Ce,ae,D)=>{D.d(ae,{$8M:()=>ct,$Z:()=>Vh,AFp:()=>o0,ALo:()=>CE,AaK:()=>q,Akn:()=>bu,AsE:()=>fg,B6R:()=>kn,BQk:()=>Zd,CHM:()=>Rs,CRH:()=>LE,CZH:()=>cy,CqO:()=>ig,D6c:()=>MI,DdM:()=>hE,Dn7:()=>TE,EJc:()=>GC,EiD:()=>no,EpF:()=>Um,F$t:()=>Xd,F4k:()=>Vm,FYo:()=>Rf,FiY:()=>ru,G48:()=>dI,G7q:()=>SE,Gf:()=>xE,GfV:()=>Tc,GkF:()=>Jd,Gpc:()=>ee,Gre:()=>C_,HOy:()=>pg,HTZ:()=>mE,Hsn:()=>eh,IAx:()=>Aa,Ikx:()=>Jo,IyS:()=>w_,JOm:()=>Su,JVY:()=>aa,Jf7:()=>Uf,Jzz:()=>g,KtG:()=>da,L6k:()=>Ea,LAX:()=>Iu,LFG:()=>as,LSH:()=>Ks,Lbi:()=>BC,Lck:()=>HD,MAs:()=>Fm,MGl:()=>vd,MMx:()=>x_,MT6:()=>I_,NdJ:()=>mf,O4$:()=>nn,OlP:()=>di,Oqu:()=>Jm,PXZ:()=>sI,PiD:()=>Va,Q6J:()=>tg,QGY:()=>rg,QP$:()=>Un,QbO:()=>jC,Qsj:()=>gh,R0b:()=>Au,RDi:()=>Nu,Rgc:()=>Cg,SBq:()=>wc,Sil:()=>KC,Suo:()=>NE,TTD:()=>Ps,TgZ:()=>jc,Tol:()=>Gc,Udp:()=>dg,VKq:()=>fE,W1O:()=>VE,WLB:()=>pE,X6Q:()=>cI,XFs:()=>Qt,Xpm:()=>Gr,Xts:()=>zs,Y36:()=>cd,YKP:()=>rE,YNc:()=>qd,Yjl:()=>Et,Yz7:()=>nr,Z0I:()=>gi,ZZ4:()=>rv,_Bn:()=>nE,_UZ:()=>dc,_Vd:()=>lu,_c5:()=>bI,_uU:()=>__,aQg:()=>iv,c2e:()=>HC,cJS:()=>dr,cg1:()=>T_,d8E:()=>Wc,dDg:()=>tI,dqk:()=>pt,eBb:()=>Pl,eFA:()=>v0,ekj:()=>sh,eoX:()=>m0,evT:()=>Rg,f3M:()=>fl,fQ9:()=>ei,g9A:()=>l0,gL8:()=>Xm,h0i:()=>Af,hGG:()=>AI,hij:()=>Tf,iGM:()=>RE,ifc:()=>nt,ip1:()=>s0,jDz:()=>sE,kEZ:()=>gE,kL8:()=>Av,kcU:()=>Pn,lG2:()=>Be,lcZ:()=>IE,lnq:()=>Cd,lqb:()=>xl,lri:()=>p0,mCW:()=>y,n5z:()=>mu,oAB:()=>yi,oJD:()=>Fs,oxw:()=>_f,pB0:()=>El,q3G:()=>wi,q4F:()=>Id,qLn:()=>Ts,qOj:()=>Hd,qZA:()=>gf,qzn:()=>vl,rWj:()=>g0,s9C:()=>vf,sBO:()=>hI,sIi:()=>Wd,s_b:()=>ay,soG:()=>dy,tBr:()=>nu,tb:()=>u0,tp0:()=>pl,uIk:()=>Jp,uOi:()=>Rl,vHH:()=>Ie,vpe:()=>pc,wAp:()=>mr,xi3:()=>wE,xp6:()=>em,ynx:()=>hc,z2F:()=>hy,z3N:()=>oa,zSh:()=>ji,zs3:()=>ic});var f=D(7579),S=D(727),ne=D(9751),H=D(6451),Q=D(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function re(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function q(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(q).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function he(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Z=de({__forward_ref__:de});function ee(n){return n.__forward_ref__=ee,n.toString=function(){return q(this())},n}function le(n){return Ne(n)?n():n}function Ne(n){return"function"==typeof n&&n.hasOwnProperty(Z)&&n.__forward_ref__===ee}class Ie extends Error{constructor(r,s){super(function ze(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function ke(n,r){throw new Ie(-201,!1)}function Yt(n,r){null==n&&function Mt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function nr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ti(n){return Jr(n,xr)||Jr(n,yr)}function gi(n){return null!==Ti(n)}function Jr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Hr(n){return n&&(n.hasOwnProperty(lr)||n.hasOwnProperty(ls))?n[lr]:null}const xr=de({\u0275prov:de}),lr=de({\u0275inj:de}),yr=de({ngInjectableDef:de}),ls=de({ngInjectorDef:de});var Qt=(()=>((Qt=Qt||{})[Qt.Default=0]="Default",Qt[Qt.Host=1]="Host",Qt[Qt.Self=2]="Self",Qt[Qt.SkipSelf=4]="SkipSelf",Qt[Qt.Optional=8]="Optional",Qt))();let mi;function Er(n){const r=mi;return mi=n,r}function Ki(n,r,s){const a=Ti(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Qt.Optional?null:void 0!==r?r:void ke(q(n))}function br(n){return{toString:n}.toString()}var $e=(()=>(($e=$e||{})[$e.OnPush=0]="OnPush",$e[$e.Default=1]="Default",$e))(),nt=(()=>{return(n=nt||(nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",nt;var n})();const pt=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),rr={},Ft=[],Hn=de({\u0275cmp:de}),zn=de({\u0275dir:de}),$r=de({\u0275pipe:de}),xn=de({\u0275mod:de}),rn=de({\u0275fac:de}),$n=de({__NG_ELEMENT_ID__:de});let ti=0;function Gr(n){return br(()=>{const s=!0===n.standalone,a={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$e.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ft,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||nt.Emulated,id:"c"+ti++,styles:n.styles||Ft,_:null,setInput:null,schemas:n.schemas||null,tView:null},m=n.dependencies,w=n.features;return d.inputs=Ae(n.inputs,a),d.outputs=Ae(n.outputs),w&&w.forEach(x=>x(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(Tr).filter(zi):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(en).filter(zi):null,d})}function kn(n,r,s){const a=n.\u0275cmp;a.directiveDefs=()=>("function"==typeof r?r():r).map(Tr),a.pipeDefs=()=>("function"==typeof s?s():s).map(en)}function Tr(n){return We(n)||$t(n)}function zi(n){return null!==n}function yi(n){return br(()=>({type:n.type,bootstrap:n.bootstrap||Ft,declarations:n.declarations||Ft,imports:n.imports||Ft,exports:n.exports||Ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ae(n,r){if(null==n)return rr;const s={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=a,r&&(r[d]=m)}return s}const Be=Gr;function Et(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function We(n){return n[Hn]||null}function $t(n){return n[zn]||null}function en(n){return n[$r]||null}function Un(n){const r=We(n)||$t(n)||en(n);return null!==r&&r.standalone}function or(n,r){const s=n[xn]||null;if(!s&&!0===r)throw new Error(`Type ${q(n)} does not have '\u0275mod' property.`);return s}function vi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Pi(n){return Array.isArray(n)&&!0===n[1]}function Jn(n){return 0!=(8&n.flags)}function Vn(n){return 2==(2&n.flags)}function Fr(n){return 1==(1&n.flags)}function Ni(n){return null!==n.template}function we(n){return 0!=(256&n[2])}function Qs(n,r){return n.hasOwnProperty(rn)?n[rn]:null}class er{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ps(){return ys}function ys(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ro),lo}function lo(){const n=ca(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===rr)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Ro(n,r,s,a){const d=ca(n)||function mo(n,r){return n[uo]=r}(n,{previous:rr,current:null}),m=d.current||(d.current={}),w=d.previous,x=this.declaredInputs[s],U=w[x];m[x]=new er(U&&U.currentValue,r,w===rr),n[a]=r}Ps.ngInherit=!0;const uo="__ngSimpleChanges__";function ca(n){return n[uo]||null}function bi(n){for(;Array.isArray(n);)n=n[0];return n}function qs(n,r){return bi(r[n])}function li(n,r){return bi(r[n.index])}function yn(n,r){return n.data[r]}function ea(n,r){return n[r]}function ur(n,r){const s=r[n];return vi(s)?s:s[0]}function Pr(n){return 64==(64&n[2])}function Vs(n,r){return null==r?null:n[r]}function ta(n){n[18]=0}function Bs(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const En={lFrame:sl(null),bindingsEnabled:!0};function yo(){return En.bindingsEnabled}function ei(){En.bindingsEnabled=!0}function Aa(){En.bindingsEnabled=!1}function At(){return En.lFrame.lView}function Cr(){return En.lFrame.tView}function Rs(n){return En.lFrame.contextLView=n,n[8]}function da(n){return En.lFrame.contextLView=null,n}function ui(){let n=G();for(;null!==n&&64===n.type;)n=n.parent;return n}function G(){return En.lFrame.currentTNode}function L(n,r){const s=En.lFrame;s.currentTNode=n,s.isParent=r}function se(){return En.lFrame.isParent}function dt(){En.lFrame.isParent=!1}function Kr(){const n=En.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Zs(){return En.lFrame.bindingIndex}function xs(){return En.lFrame.bindingIndex++}function So(n){const r=En.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function js(n,r){const s=En.lFrame;s.bindingIndex=s.bindingRootIndex=n,ko(r)}function ko(n){En.lFrame.currentDirectiveIndex=n}function Ma(n){const r=En.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ha(){return En.lFrame.currentQueryIndex}function _o(n){En.lFrame.currentQueryIndex=n}function bo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function vo(n,r,s){if(s&Qt.SkipSelf){let d=r,m=n;for(;!(d=d.parent,null!==d||s&Qt.Host||(d=bo(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;r=d,n=m}const a=En.lFrame=fa();return a.currentTNode=r,a.lView=n,!0}function As(n){const r=fa(),s=n[1];En.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function fa(){const n=En.lFrame,r=null===n?null:n.child;return null===r?sl(n):r}function sl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Uo(){const n=En.lFrame;return En.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k=Uo;function J(){const n=Uo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function De(){return En.lFrame.selectedIndex}function rt(n){En.lFrame.selectedIndex=n}function ft(){const n=En.lFrame;return yn(n.tView,n.selectedIndex)}function nn(){En.lFrame.currentNamespace="svg"}function Pn(){!function fr(){En.lFrame.currentNamespace=null}()}function Mr(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:U,ngAfterViewChecked:z,ngOnDestroy:ce}=m;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),x&&((n.contentHooks||(n.contentHooks=[])).push(s,x),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,x)),U&&(n.viewHooks||(n.viewHooks=[])).push(-s,U),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=ce&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ce)}}function ki(n,r,s){Qi(n,r,3,s)}function Cs(n,r,s,a){(3&n[2])===s&&Qi(n,r,s,a)}function qr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Qi(n,r,s,a){const m=null!=a?a:-1,w=r.length-1;let x=0;for(let U=void 0!==a?65535&n[18]:0;U<w;U++)if("number"==typeof r[U+1]){if(x=r[U],null!=a&&x>=a)break}else r[U]<0&&(n[18]+=65536),(x<m||-1==m)&&(qi(n,s,r,U),n[18]=(4294901760&n[18])+U+2),U++}function qi(n,r,s,a){const d=s[a]<0,m=s[a+1],x=n[d?-s[a]:s[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{m.call(x)}finally{}}}else try{m.call(x)}finally{}}class pa{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function at(n,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const m=s[a++],w=s[a++],x=s[a++];n.setAttribute(r,w,x,m)}else{const m=d,w=s[++a];Ci(m)?n.setProperty(r,m,w):n.setAttribute(r,m,w),a++}}return a}function Rt(n){return 3===n||4===n||6===n}function Ci(n){return 64===n.charCodeAt(0)}function ql(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||ol(n,s,d,null,-1===s||2===s?r[++a]:null)}}return n}function ol(n,r,s,a,d){let m=0,w=n.length;if(-1===r)w=-1;else for(;m<n.length;){const x=n[m++];if("number"==typeof x){if(x===r){w=-1;break}if(x>r){w=m-1;break}}}for(;m<n.length;){const x=n[m];if("number"==typeof x)break;if(x===s){if(null===a)return void(null!==d&&(n[m+1]=d));if(a===n[m+1])return void(n[m+2]=d)}m++,null!==a&&m++,null!==d&&m++}-1!==w&&(n.splice(w,0,r),m=w+1),n.splice(m++,0,s),null!==a&&n.splice(m++,0,a),null!==d&&n.splice(m++,0,d)}function Ui(n){return-1!==n}function Ns(n){return 32767&n}function Bo(n,r){let s=function na(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Hs=!0;function Oa(n){const r=Hs;return Hs=n,r}let tr=0;const $s={};function ii(n,r){const s=ra(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,wn(a.data,n),wn(r,null),wn(a.blueprint,null));const d=_r(n,r),m=n.injectorIndex;if(Ui(d)){const w=Ns(d),x=Bo(d,r),U=x[1].data;for(let z=0;z<8;z++)r[m+z]=x[w+z]|U[w+z]}return r[m+8]=d,m}function wn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ra(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function _r(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=ma(d),null===a)return-1;if(s++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function os(n,r,s){!function Zl(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty($n)&&(a=s[$n]),null==a&&(a=s[$n]=tr++);const d=255&a;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function qt(n,r,s){if(s&Qt.Optional||void 0!==n)return n;ke()}function jo(n,r,s,a){if(s&Qt.Optional&&void 0===a&&(a=null),0==(s&(Qt.Self|Qt.Host))){const d=n[9],m=Er(void 0);try{return d?d.get(r,a,s&Qt.Optional):Ki(r,a,s&Qt.Optional)}finally{Er(m)}}return qt(a,0,s)}function ia(n,r,s,a=Qt.Default,d){if(null!==n){if(1024&r[2]){const w=function Js(n,r,s,a,d){let m=n,w=r;for(;null!==m&&null!==w&&1024&w[2]&&!(256&w[2]);){const x=Ao(m,w,s,a|Qt.Self,$s);if(x!==$s)return x;let U=m.parent;if(!U){const z=w[21];if(z){const ce=z.get(s,$s,a);if(ce!==$s)return ce}U=ma(w),w=w[15]}m=U}return d}(n,r,s,a,$s);if(w!==$s)return w}const m=Ao(n,r,s,a,$s);if(m!==$s)return m}return jo(r,s,a,d)}function Ao(n,r,s,a,d){const m=function Ho(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty($n)?n[$n]:void 0;return"number"==typeof r?r>=0?255&r:ga:r}(s);if("function"==typeof m){if(!vo(r,n,a))return a&Qt.Host?qt(d,0,a):jo(r,s,a,d);try{const w=m(a);if(null!=w||a&Qt.Optional)return w;ke()}finally{k()}}else if("number"==typeof m){let w=null,x=ra(n,r),U=-1,z=a&Qt.Host?r[16][6]:null;for((-1===x||a&Qt.SkipSelf)&&(U=-1===x?_r(n,r):r[x+8],-1!==U&&ul(a,!1)?(w=r[1],x=Ns(U),r=Bo(U,r)):x=-1);-1!==x;){const ce=r[1];if(ll(m,x,ce.data)){const ye=gu(x,r,s,w,a,z);if(ye!==$s)return ye}U=r[x+8],-1!==U&&ul(a,r[1].data[x+8]===z)&&ll(m,x,r)?(w=ce,x=Ns(U),r=Bo(U,r)):x=-1}}return d}function gu(n,r,s,a,d,m){const w=r[1],x=w.data[n+8],ce=xa(x,w,s,null==a?Vn(x)&&Hs:a!=w&&0!=(3&x.type),d&Qt.Host&&m===x);return null!==ce?al(r,w,ce,x):$s}function xa(n,r,s,a,d){const m=n.providerIndexes,w=r.data,x=1048575&m,U=n.directiveStart,ce=m>>20,Ve=d?x+ce:n.directiveEnd;for(let st=a?x:x+ce;st<Ve;st++){const wt=w[st];if(st<U&&s===wt||st>=U&&wt.type===s)return st}if(d){const st=w[U];if(st&&Ni(st)&&st.type===s)return U}return null}function al(n,r,s,a){let d=n[s];const m=r.data;if(function Lt(n){return n instanceof pa}(d)){const w=d;w.resolving&&function mt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${n}${s}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(m[s]));const x=Oa(w.canSeeViewProviders);w.resolving=!0;const U=w.injectImpl?Er(w.injectImpl):null;vo(n,a,Qt.Default);try{d=n[s]=w.factory(void 0,m,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Ri(n,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:m}=r.type.prototype;if(a){const w=ys(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],r)}finally{null!==U&&Er(U),Oa(x),w.resolving=!1,k()}}return d}function ll(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function ul(n,r){return!(n&Qt.Self||n&Qt.Host&&r)}class $i{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ia(this._tNode,this._lView,r,a,s)}}function ga(){return new $i(ui(),At())}function mu(n){return br(()=>{const r=n.prototype.constructor,s=r[rn]||Na(r),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const m=d[rn]||Na(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Na(n){return Ne(n)?()=>{const r=Na(le(n));return r&&r()}:Qs(n)}function ma(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function ct(n){return function Sr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const m=s[d];if(Rt(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(m===r)return s[d+1];d+=2}}}return null}(ui(),n)}const fs="__parameters__";function Do(n,r,s){return br(()=>{const a=function Mo(n){return function(...s){if(n){const a=n(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...m){if(this instanceof d)return a.apply(this,m),this;const w=new d(...m);return x.annotation=w,x;function x(U,z,ce){const ye=U.hasOwnProperty(fs)?U[fs]:Object.defineProperty(U,fs,{value:[]})[fs];for(;ye.length<=ce;)ye.push(null);return(ye[ce]=ye[ce]||[]).push(w),U}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class di{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=nr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function O(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),O(a,r)):r!==n&&r.push(a)}return r}function T(n,r){n.forEach(s=>Array.isArray(s)?T(s,r):r(s))}function F(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function $(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ie(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function hn(n,r,s){let a=jr(n,r);return a>=0?n[1|a]=s:(a=~a,function Je(n,r,s,a){let d=n.length;if(d==r)n.push(s,a);else if(1===d)n.push(a,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function pr(n,r){const s=jr(n,r);if(s>=0)return n[1|s]}function jr(n,r){return function Gs(n,r,s){let a=0,d=n.length>>s;for(;d!==a;){const m=a+(d-a>>1),w=n[m<<s];if(r===w)return m<<s;w>r?d=m:a=m+1}return~(d<<s)}(n,r,1)}const tl={},Ms="__NG_DI_FLAG__",Il="ngTempTokenPath",Pu=/\n/gm,Zr="__source";let ya;function Wo(n){const r=ya;return ya=n,r}function kl(n,r=Qt.Default){if(void 0===ya)throw new Ie(-203,!1);return null===ya?Ki(n,void 0,r):ya.get(n,r&Qt.Optional?null:void 0,r)}function as(n,r=Qt.Default){return(function Si(){return mi}()||kl)(le(n),r)}function fl(n,r=Qt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),as(n,r)}function sa(n){const r=[];for(let s=0;s<n.length;s++){const a=le(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ie(900,!1);let d,m=Qt.Default;for(let w=0;w<a.length;w++){const x=a[w],U=zu(x);"number"==typeof U?-1===U?d=x.token:m|=U:d=x}r.push(as(d,m))}else r.push(as(a))}return r}function wl(n,r){return n[Ms]=r,n.prototype[Ms]=r,n}function zu(n){return n[Ms]}const nu=wl(Do("Inject",n=>({token:n})),-1),ru=wl(Do("Optional"),8),Va=wl(Do("Self"),2),pl=wl(Do("SkipSelf"),4);let gl,Hl,Al;function Nu(n){gl=n}function Xi(n){var r;return(null===(r=function va(){if(void 0===Hl&&(Hl=null,pt.trustedTypes))try{Hl=pt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Hl}())||void 0===r?void 0:r.createHTML(n))||n}function yl(){if(void 0===Al&&(Al=null,pt.trustedTypes))try{Al=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Al}function _l(n){var r;return(null===(r=yl())||void 0===r?void 0:r.createHTML(n))||n}function Lu(n){var r;return(null===(r=yl())||void 0===r?void 0:r.createScriptURL(n))||n}class Ml{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qu extends Ml{getTypeName(){return"HTML"}}class Fu extends Ml{getTypeName(){return"Style"}}class ku extends Ml{getTypeName(){return"Script"}}class Cu extends Ml{getTypeName(){return"URL"}}class yc extends Ml{getTypeName(){return"ResourceURL"}}function oa(n){return n instanceof Ml?n.changingThisBreaksApplicationSecurity:n}function vl(n,r){const s=function Ol(n){return n instanceof Ml&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function aa(n){return new Qu(n)}function Ea(n){return new Fu(n)}function Pl(n){return new ku(n)}function Iu(n){return new Cu(n)}function El(n){return new yc(n)}class $l{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Xi(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Gl{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Xi(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Xi(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const w=s.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const E=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function y(n){return(n=String(n)).match(E)?n:"unsafe:"+n}function R(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function W(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const ue=R("area,br,col,hr,img,wbr"),ve=R("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),be=R("rp,rt"),Xt=W(ue,W(ve,R("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),W(be,R("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),W(be,ve)),An=R("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nn=W(An,R("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),R("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=R("script,style,template");class hi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Xt.hasOwnProperty(s))return this.sanitizedSomething=!0,!sr.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const m=a.item(d),w=m.name,x=w.toLowerCase();if(!Nn.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let U=m.value;An[x]&&(U=y(U)),this.buf.push(" ",w,'="',fi(U),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Xt.hasOwnProperty(s)&&!ue.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(fi(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zn=/([^\#-~ |!])/g;function fi(n){return n.replace(/&/g,"&amp;").replace(vr,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Zn,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let to;function no(n,r){let s=null;try{to=to||function wu(n){const r=new Gl(n);return function I(){try{return!!(new window.DOMParser).parseFromString(Xi(""),"text/html")}catch(n){return!1}}()?new $l(r):r}(n);let a=r?String(r):"";s=to.getInertBodyElement(a);let d=5,m=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=m,m=s.innerHTML,s=to.getInertBodyElement(a)}while(a!==m);return Xi((new hi).sanitizeChildren(Io(s)||s))}finally{if(s){const a=Io(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Io(n){return"content"in n&&function si(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function Fs(n){const r=ro();return r?_l(r.sanitize(wi.HTML,n)||""):vl(n,"HTML")?_l(oa(n)):no(function ml(){return void 0!==gl?gl:"undefined"!=typeof document?document:void 0}(),Ge(n))}function Ks(n){const r=ro();return r?r.sanitize(wi.URL,n)||"":vl(n,"URL")?oa(n):y(Ge(n))}function Rl(n){const r=ro();if(r)return Lu(r.sanitize(wi.RESOURCE_URL,n)||"");if(vl(n,"ResourceURL"))return Lu(oa(n));throw new Ie(904,!1)}function ro(){const n=At();return n&&n[12]}const zs=new di("ENVIRONMENT_INITIALIZER"),Ha=new di("INJECTOR",-1),es=new di("INJECTOR_DEF_TYPES");class Tu{get(r,s=tl){if(s===tl){const a=new Error(`NullInjectorError: No provider for ${q(r)}!`);throw a.name="NullInjectorError",a}return s}}function b(...n){return{\u0275providers:p(0,n)}}function p(n,...r){const s=[],a=new Set;let d;return T(r,m=>{const w=m;A(w,s,[],a)&&(d||(d=[]),d.push(w))}),void 0!==d&&_(d,s),s}function _(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];T(d,m=>{r.push(m)})}}function A(n,r,s,a){if(!(n=le(n)))return!1;let d=null,m=Hr(n);const w=!m&&We(n);if(m||w){if(w&&!w.standalone)return!1;d=n}else{const U=n.ngModule;if(m=Hr(U),!m)return!1;d=U}const x=a.has(d);if(w){if(x)return!1;if(a.add(d),w.dependencies){const U="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const z of U)A(z,r,s,a)}}else{if(!m)return!1;{if(null!=m.imports&&!x){let z;a.add(d);try{T(m.imports,ce=>{A(ce,r,s,a)&&(z||(z=[]),z.push(ce))})}finally{}void 0!==z&&_(z,r)}if(!x){const z=Qs(d)||(()=>new d);r.push({provide:d,useFactory:z,deps:Ft},{provide:es,useValue:d,multi:!0},{provide:zs,useValue:()=>as(d),multi:!0})}const U=m.providers;null==U||x||T(U,ce=>{r.push(ce)})}}return d!==n&&void 0!==n.providers}const fe=de({provide:String,useValue:de});function Ye(n){return null!==n&&"object"==typeof n&&fe in n}function Rn(n){return"function"==typeof n}const ji=new di("Set Injector scope."),Da={},$a={};let la;function su(){return void 0===la&&(la=new Tu),la}class xl{}class ou extends xl{constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cc(r,w=>this.processProvider(w)),this.records.set(Ha,au(void 0,this)),d.has("environment")&&this.records.set(xl,au(void 0,this));const m=this.records.get(ji);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(es.multi,Ft,Qt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Wo(this),a=Er(void 0);try{return r()}finally{Wo(s),Er(a)}}get(r,s=tl,a=Qt.Default){this.assertNotDestroyed();const d=Wo(this),m=Er(void 0);try{if(!(a&Qt.SkipSelf)){let x=this.records.get(r);if(void 0===x){const U=function Vu(n){return"function"==typeof n||"object"==typeof n&&n instanceof di}(r)&&Ti(r);x=U&&this.injectableDefInScope(U)?au(qu(r),Da):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(a&Qt.Self?su():this.parent).get(r,s=a&Qt.Optional&&s===tl?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Il]=w[Il]||[]).unshift(q(r)),d)throw w;return function Yu(n,r,s,a){const d=n[Il];throw r[Zr]&&d.unshift(r[Zr]),n.message=function tu(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=q(r);if(Array.isArray(r))d=r.map(q).join(" -> ");else if("object"==typeof r){let m=[];for(let w in r)if(r.hasOwnProperty(w)){let x=r[w];m.push(w+":"+("string"==typeof x?JSON.stringify(x):q(x)))}d=`{${m.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${n.replace(Pu,"\n  ")}`}("\n"+n.message,d,s,a),n.ngTokenPath=d,n[Il]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{Er(m),Wo(d)}}resolveInjectorInitializers(){const r=Wo(this),s=Er(void 0);try{const a=this.get(zs.multi,Ft,Qt.Self);for(const d of a)d()}finally{Wo(r),Er(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(q(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(r){let s=Rn(r=le(r))?r:le(r&&r.provide);const a=function Qc(n){return Ye(n)?au(void 0,n.useValue):au(vc(n),Da)}(r);if(Rn(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=au(void 0,Da,!0),d.factory=()=>sa(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Da&&(s.value=$a,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ec(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=le(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function qu(n){const r=Ti(n),s=null!==r?r.factory:Qs(n);if(null!==s)return s;if(n instanceof di)throw new Ie(204,!1);if(n instanceof Function)return function Zu(n){const r=n.length;if(r>0)throw ie(r,"?"),new Ie(204,!1);const s=function Br(n){const r=n&&(n[xr]||n[yr]);if(r){const s=function Xr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ie(204,!1)}function vc(n,r,s){let a;if(Rn(n)){const d=le(n);return Qs(d)||qu(d)}if(Ye(n))a=()=>le(n.useValue);else if(function pn(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...sa(n.deps||[]));else if(function It(n){return!(!n||!n.useExisting)}(n))a=()=>as(le(n.useExisting));else{const d=le(n&&(n.useClass||n.provide));if(!function Uu(n){return!!n.deps}(n))return Qs(d)||qu(d);a=()=>new d(...sa(n.deps))}return a}function au(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Dc(n){return!!n.\u0275providers}function Cc(n,r){for(const s of n)Array.isArray(s)?Cc(s,r):Dc(s)?Cc(s.\u0275providers,r):r(s)}class dh{}class ph{resolveComponentFactory(r){throw function hh(n){const r=Error(`No component factory found for ${q(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let lu=(()=>{class n{}return n.NULL=new ph,n})();function Ic(){return Bu(ui(),At())}function Bu(n,r){return new wc(li(n,r))}let wc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Ic,n})();function Pf(n){return n instanceof wc?n.nativeElement:n}class Rf{}let gh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Kl(){const n=At(),s=ur(ui().index,n);return(vi(s)?s:n)[11]}(),n})(),mh=(()=>{class n{}return n.\u0275prov=nr({token:n,providedIn:"root",factory:()=>null}),n})();class Tc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Id=new Tc("14.2.4"),yh={};function zl(n){return n.ngOriginalError}class Ts{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&zl(r);for(;s&&zl(s);)s=zl(s);return s||null}}const Hu=new Map;let bc=0;const Eh="__ngContext__";function Ca(n,r){vi(r)?(n[Eh]=r[20],function Td(n){Hu.set(n[20],n)}(r)):n[Eh]=r}function Uf(n){return n.ownerDocument.defaultView}function Rg(n){return n.ownerDocument}function uu(n){return n instanceof Function?n():n}var Su=(()=>((Su=Su||{})[Su.Important=1]="Important",Su[Su.DashCase=2]="DashCase",Su))();function Xc(n,r){return undefined(n,r)}function ec(n){const r=n[3];return Pi(r)?r[3]:r}function Dh(n){return $f(n[13])}function Wa(n){return $f(n[4])}function $f(n){for(;null!==n&&!Pi(n);)n=n[4];return n}function $u(n,r,s,a,d){if(null!=a){let m,w=!1;Pi(a)?m=a:vi(a)&&(w=!0,a=a[0]);const x=bi(a);0===n&&null!==s?null==d?Yf(r,s,x):Rc(r,s,x,d||null,!0):1===n&&null!==s?Rc(r,s,x,d||null,!0):2===n?function Zf(n,r,s){const a=Od(n,r);a&&function Md(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,x,w):3===n&&r.destroyNode(x),null!=m&&function ep(n,r,s,a,d){const m=s[7];m!==bi(s)&&$u(r,n,a,m,d);for(let x=10;x<s.length;x++){const U=s[x];rc(U[1],U,n,r,a,m)}}(r,n,m,s,d)}}function Ih(n,r,s){return n.createElement(r,s)}function Bg(n,r){const s=n[9],a=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,Bs(d,-1)),s.splice(a,1)}function Wf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const d=a[17];null!==d&&d!==n&&Bg(d,a),r>0&&(n[s-1][4]=a[4]);const m=$(n,10+r);!function Pc(n,r){rc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=m[19];null!==w&&w.detachView(m[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function jg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&rc(n,r,s,3,null,null),function Ug(n){let r=n[13];if(!r)return Kf(n[1],n);for(;r;){let s=null;if(vi(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)vi(r)&&Kf(r[1],r),r=r[3];null===r&&(r=n),vi(r)&&Kf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Kf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Hg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof pa)){const m=s[a+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const x=d[m[w]],U=m[w+1];try{U.call(x)}finally{}}else try{m.call(d)}finally{}}}}(n,r),function wh(n,r){const s=n.cleanup,a=r[7];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const w=s[m+1],x="function"==typeof w?w(r):bi(r[w]),U=a[d=s[m+2]],z=s[m+3];"boolean"==typeof z?x.removeEventListener(s[m],U,z):z>=0?a[d=z]():a[d=-z].unsubscribe(),m+=2}else{const w=a[d=s[m+1]];s[m].call(w)}if(null!==a){for(let m=d+1;m<a.length;m++)(0,a[m])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Pi(r[3])){s!==r[3]&&Bg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Lf(n){Hu.delete(n[20])}(r)}}function $g(n,r,s){return function zf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===nt.None||d===nt.Emulated)return null}return li(a,s)}(n,r.parent,s)}function Rc(n,r,s,a,d){n.insertBefore(r,s,a,d)}function Yf(n,r,s){n.appendChild(r,s)}function nc(n,r,s,a,d){null!==a?Rc(n,r,s,a,d):Yf(n,r,s)}function Od(n,r){return n.parentNode(r)}function Qf(n,r,s){return Wg(n,r,s)}let Wg=function Gg(n,r,s){return 40&n.type?li(n,s):null};function Th(n,r,s,a){const d=$g(n,a,r),m=r[11],x=Qf(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(s))for(let U=0;U<s.length;U++)nc(m,d,s[U],x,!1);else nc(m,d,s,x,!1)}function Sh(n,r){if(null!==r){const s=r.type;if(3&s)return li(r,n);if(4&s)return qf(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Sh(n,a);{const d=n[r.index];return Pi(d)?qf(-1,d):bi(d)}}if(32&s)return Xc(r,n)()||bi(n[r.index]);{const a=Kg(n,r);return null!==a?Array.isArray(a)?a[0]:Sh(ec(n[16]),a):Sh(n,r.next)}}return null}function Kg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function qf(n,r){const s=10+n+1;if(s<r.length){const a=r[s],d=a[1].firstChild;if(null!==d)return Sh(a,d)}return r[7]}function Jf(n,r,s,a,d,m,w){for(;null!=s;){const x=a[s.index],U=s.type;if(w&&0===r&&(x&&Ca(bi(x),a),s.flags|=4),64!=(64&s.flags))if(8&U)Jf(n,r,s.child,a,d,m,!1),$u(r,n,d,x,m);else if(32&U){const z=Xc(s,a);let ce;for(;ce=z();)$u(r,n,d,ce,m);$u(r,n,d,x,m)}else 16&U?Xf(n,r,a,s,d,m):$u(r,n,d,x,m);s=w?s.projectionNext:s.next}}function rc(n,r,s,a,d,m){Jf(s,a,n.firstChild,r,d,m,!1)}function Xf(n,r,s,a,d,m){const w=s[16],U=w[6].projection[a.projection];if(Array.isArray(U))for(let z=0;z<U.length;z++)$u(r,n,d,U[z],m);else Jf(n,r,U,w[3],d,m,!0)}function nd(n,r,s){n.setAttribute(r,"style",s)}function rd(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function bh(n,r,s){let a=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=r.length;if(d+m===a||n.charCodeAt(d+m)<=32)return d}s=d+1}}const np="ng-template";function Ty(n,r,s){let a=0;for(;a<n.length;){let d=n[a++];if(s&&"class"===d){if(d=n[a],-1!==bh(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function rp(n){return 4===n.type&&n.value!==np}function Yg(n,r,s){return r===(4!==n.type||s?n.value:np)}function ip(n,r,s){let a=4;const d=n.attrs||[],m=function Sy(n){for(let r=0;r<n.length;r++)if(Rt(n[r]))return r;return n.length}(d);let w=!1;for(let x=0;x<r.length;x++){const U=r[x];if("number"!=typeof U){if(!w)if(4&a){if(a=2|1&a,""!==U&&!Yg(n,U,s)||""===U&&1===r.length){if(cu(a))return!1;w=!0}}else{const z=8&a?U:r[++x];if(8&a&&null!==n.attrs){if(!Ty(n.attrs,z,s)){if(cu(a))return!1;w=!0}continue}const ye=Qg(8&a?"class":U,d,rp(n),s);if(-1===ye){if(cu(a))return!1;w=!0;continue}if(""!==z){let Ve;Ve=ye>m?"":d[ye+1].toLowerCase();const st=8&a?Ve:null;if(st&&-1!==bh(st,z,0)||2&a&&z!==Ve){if(cu(a))return!1;w=!0}}}}else{if(!w&&!cu(a)&&!cu(U))return!1;if(w&&cu(U))continue;w=!1,a=U|1&a}}return cu(a)||w}function cu(n){return 0==(1&n)}function Qg(n,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let m=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)m=!0;else{if(1===w||2===w){let x=r[++d];for(;"string"==typeof x;)x=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=m?1:2}return-1}return function id(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function qg(n,r,s=!1){for(let a=0;a<r.length;a++)if(ip(n,r[a],s))return!0;return!1}function sd(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function Ah(n,r){return n?":not("+r.trim()+")":r}function Mh(n){let r=n[0],s=1,a=2,d="",m=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&a){const x=n[++s];d+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&a?d+="."+w:4&a&&(d+=" "+w);else""!==d&&!cu(w)&&(r+=Ah(m,d),d=""),a=w,m=m||!cu(a);s++}return""!==d&&(r+=Ah(m,d)),r}const Rr={};function em(n){Oh(Cr(),At(),De()+n,!1)}function Oh(n,r,s,a){if(!a)if(3==(3&r[2])){const m=n.preOrderCheckHooks;null!==m&&ki(r,m,s)}else{const m=n.preOrderHooks;null!==m&&Cs(r,m,0,s)}rt(s)}function Rh(n,r=null,s=null,a){const d=xh(n,r,s,a);return d.resolveInjectorInitializers(),d}function xh(n,r=null,s=null,a,d=new Set){const m=[s||Ft,b(n)];return a=a||("object"==typeof n?void 0:q(n)),new ou(m,r||su(),a||null,d)}let ic=(()=>{class n{static create(s,a){var d;if(Array.isArray(s))return Rh({name:""},a,s,"");{const m=null!==(d=s.name)&&void 0!==d?d:"";return Rh({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=tl,n.NULL=new Tu,n.\u0275prov=nr({token:n,providedIn:"any",factory:()=>as(Ha)}),n.__NG_ELEMENT_ID__=-1,n})();function cd(n,r=Qt.Default){const s=At();return null===s?as(n,r):ia(ui(),s,le(n),r)}function Vh(){throw new Error("invalid")}function dd(n,r){return n<<17|r<<2}function Dl(n){return n>>17&32767}function oc(n){return 2|n}function du(n){return(131068&n)>>2}function pp(n,r){return-131069&n|r<<2}function jh(n){return 1|n}function Gh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a],m=s[a+1];if(-1!==m){const w=n.data[m];_o(d),w.contentQueries(2,r[m],m)}}}function Wh(n,r,s,a,d,m,w,x,U,z,ce){const ye=r.blueprint.slice();return ye[0]=d,ye[2]=76|a,(null!==ce||n&&1024&n[2])&&(ye[2]|=1024),ta(ye),ye[3]=ye[15]=n,ye[8]=s,ye[10]=w||n&&n[10],ye[11]=x||n&&n[11],ye[12]=U||n&&n[12]||null,ye[9]=z||n&&n[9]||null,ye[6]=m,ye[20]=function Ac(){return bc++}(),ye[21]=ce,ye[16]=2==r.type?n[16]:ye,ye}function lc(n,r,s,a,d){let m=n.data[r];if(null===m)m=function Kh(n,r,s,a,d){const m=G(),w=se(),U=n.data[r]=function wm(n,r,s,a,d,m){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,s,r,a,d);return null===n.firstChild&&(n.firstChild=U),null!==m&&(w?null==m.child&&null!==U.parent&&(m.child=U):null===m.next&&(m.next=U)),U}(n,r,s,a,d),function Fl(){return En.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=a,m.attrs=d;const w=function B(){const n=En.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return L(m,!0),m}function uc(n,r,s,a){if(0===s)return-1;const d=r.length;for(let m=0;m<s;m++)r.push(a),n.blueprint.push(a),n.data.push(null);return d}function zh(n,r,s){As(r);try{const a=n.viewQuery;null!==a&&rf(1,a,s);const d=n.template;null!==d&&Qh(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Gh(n,r),n.staticViewQueries&&rf(2,n.viewQuery,s);const m=n.components;null!==m&&function Mp(n,r){for(let s=0;s<r.length;s++)Hp(n,r[s])}(r,m)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,J()}}function Yh(n,r,s,a){const d=r[2];if(128!=(128&d)){As(r);try{ta(r),function Ds(n){return En.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Qh(n,r,s,2,a);const w=3==(3&d);if(w){const z=n.preOrderCheckHooks;null!==z&&ki(r,z,null)}else{const z=n.preOrderHooks;null!==z&&Cs(r,z,0,null),qr(r,0)}if(function Gy(n){for(let r=Dh(n);null!==r;r=Wa(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const d=s[a],m=d[3];0==(512&d[2])&&Bs(m,1),d[2]|=512}}}(r),function Pm(n){for(let r=Dh(n);null!==r;r=Wa(r))for(let s=10;s<r.length;s++){const a=r[s],d=a[1];Pr(a)&&Yh(d,a,d.template,a[8])}}(r),null!==n.contentQueries&&Gh(n,r),w){const z=n.contentCheckHooks;null!==z&&ki(r,z)}else{const z=n.contentHooks;null!==z&&Cs(r,z,1),qr(r,1)}!function Ap(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)rt(~d);else{const m=d,w=s[++a],x=s[++a];js(w,m),x(2,r[m])}}}finally{rt(-1)}}(n,r);const x=n.components;null!==x&&function ky(n,r){for(let s=0;s<r.length;s++)Wy(n,r[s])}(r,x);const U=n.viewQuery;if(null!==U&&rf(2,U,a),w){const z=n.viewCheckHooks;null!==z&&ki(r,z)}else{const z=n.viewHooks;null!==z&&Cs(r,z,2),qr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Bs(r[3],-1))}finally{J()}}}function Qh(n,r,s,a,d){const m=De(),w=2&a;try{rt(-1),w&&r.length>22&&Oh(n,r,22,!1),s(a,d)}finally{rt(m)}}function Cm(n,r,s){if(Jn(r)){const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const w=n.data[m];w.contentQueries&&w.contentQueries(1,s[m],m)}}}function Vd(n,r,s){!yo()||(function Fp(n,r,s,a){const d=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||ii(s,r),Ca(a,r);const w=s.initialInputs;for(let x=d;x<m;x++){const U=n.data[x],z=Ni(U);z&&$y(r,s,U);const ce=al(r,n,x,s);Ca(ce,r),null!==w&&Bp(0,x-d,ce,U,0,w),z&&(ur(s.index,r)[8]=ce)}}(n,r,s,li(s,r)),128==(128&s.flags)&&function jy(n,r,s){const a=s.directiveStart,d=s.directiveEnd,m=s.index,w=function Fo(){return En.lFrame.currentDirectiveIndex}();try{rt(m);for(let x=a;x<d;x++){const U=n.data[x],z=r[x];ko(x),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&ef(U,z)}}finally{rt(-1),ko(w)}}(n,r,s))}function Op(n,r,s=li){const a=r.localNames;if(null!==a){let d=r.index+1;for(let m=0;m<a.length;m+=2){const w=a[m+1],x=-1===w?s(r,n):n[w];n[d++]=x}}}function qh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Pp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Pp(n,r,s,a,d,m,w,x,U,z){const ce=22+a,ye=ce+d,Ve=function Rp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Rr);return s}(ce,ye),st="function"==typeof z?z():z;return Ve[1]={type:n,blueprint:Ve,template:s,queries:null,viewQuery:x,declTNode:r,data:Ve.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:U,consts:st,incompleteFirstPass:!1}}function Fc(n,r,s,a){const d=$p(r);null===s?d.push(a):(d.push(s),n.firstCreatePass&&pd(n).push(a,d.length-1))}function Zh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,d):s[a]=[r,d]}return s}function Tm(n,r){const a=r.directiveEnd,d=n.data,m=r.attrs,w=[];let x=null,U=null;for(let z=r.directiveStart;z<a;z++){const ce=d[z],ye=ce.inputs,Ve=null===m||rp(r)?null:jp(ye,m);w.push(Ve),x=Zh(ye,z,x),U=Zh(ce.outputs,z,U)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=16),x.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=x,r.outputs=U}function wo(n,r,s,a,d,m,w,x){const U=li(r,s);let ce,z=r.inputs;!x&&null!=z&&(ce=z[a])?(qo(n,s,ce,a,d),Vn(r)&&Jh(s,r.index)):3&r.type&&(a=function Np(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=w?w(d,r.value||"",a):d,m.setProperty(U,a,d))}function Jh(n,r){const s=ur(r,n);16&s[2]||(s[2]|=32)}function Lp(n,r,s,a){let d=!1;if(yo()){const m=function Hy(n,r,s){const a=n.directiveRegistry;let d=null;if(a)for(let m=0;m<a.length;m++){const w=a[m];qg(s,w.selectors,!1)&&(d||(d=[]),os(ii(s,r),n,w.type),Ni(w)?(tf(n,s),d.unshift(w)):d.push(w))}return d}(n,r,s),w=null===a?null:{"":-1};if(null!==m){d=!0,Up(s,n.data.length,m.length);for(let ce=0;ce<m.length;ce++){const ye=m[ce];ye.providersResolver&&ye.providersResolver(ye)}let x=!1,U=!1,z=uc(n,r,m.length,null);for(let ce=0;ce<m.length;ce++){const ye=m[ce];s.mergedAttrs=ql(s.mergedAttrs,ye.hostAttrs),Am(n,s,r,z,ye),kp(z,ye,w),null!==ye.contentQueries&&(s.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(s.flags|=128);const Ve=ye.type.prototype;!x&&(Ve.ngOnChanges||Ve.ngOnInit||Ve.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),x=!0),!U&&(Ve.ngOnChanges||Ve.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),U=!0),z++}Tm(n,s)}w&&function bm(n,r,s){if(r){const a=n.localNames=[];for(let d=0;d<r.length;d+=2){const m=s[r[d+1]];if(null==m)throw new Ie(-301,!1);a.push(r[d],m)}}}(s,a,w)}return s.mergedAttrs=ql(s.mergedAttrs,s.attrs),d}function Xh(n,r,s,a,d,m){const w=m.hostBindings;if(w){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const U=~r.index;(function By(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(x)!=U&&x.push(U),x.push(a,d,w)}}function ef(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function tf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function kp(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Ni(r)&&(s[""]=n)}}function Up(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Am(n,r,s,a,d){n.data[a]=d;const m=d.factory||(d.factory=Qs(d.type)),w=new pa(m,Ni(d),cd);n.blueprint[a]=w,s[a]=w,Xh(n,r,0,a,uc(n,s,d.hostVars,Rr),d)}function $y(n,r,s){const a=li(r,n),d=qh(s),m=n[10],w=jd(n,Wh(n,d,null,s.onPush?32:16,a,r,m,m.createRenderer(a,s),null,null,null));n[r.index]=w}function Yl(n,r,s,a,d,m){const w=li(n,r);!function Vp(n,r,s,a,d,m,w){if(null==m)n.removeAttribute(r,d,s);else{const x=null==w?Ge(m):w(m,a||"",d);n.setAttribute(r,d,x,s)}}(r[11],w,m,n.value,s,a,d)}function Bp(n,r,s,a,d,m){const w=m[r];if(null!==w){const x=a.setInput;for(let U=0;U<w.length;){const z=w[U++],ce=w[U++],ye=w[U++];null!==x?a.setInput(s,ye,z,ce):s[ce]=ye}}}function jp(n,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Om(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Wy(n,r){const s=ur(r,n);if(Pr(s)){const a=s[1];48&s[2]?Yh(a,s,a.template,s[8]):s[5]>0&&Bd(s)}}function Bd(n){for(let a=Dh(n);null!==a;a=Wa(a))for(let d=10;d<a.length;d++){const m=a[d];if(Pr(m))if(512&m[2]){const w=m[1];Yh(w,m,w.template,m[8])}else m[5]>0&&Bd(m)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const d=ur(s[a],n);Pr(d)&&d[5]>0&&Bd(d)}}function Hp(n,r){const s=ur(r,n),a=s[1];(function Ky(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),zh(a,s,s[8])}function jd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function nf(n){for(;n;){n[2]|=32;const r=ec(n);if(we(n)&&!r)return n;n=r}return null}function kc(n,r,s,a=!0){const d=r[10];d.begin&&d.begin();try{Yh(n,r,n.template,s)}catch(w){throw a&&fo(r,w),w}finally{d.end&&d.end()}}function rf(n,r,s){_o(0),r(n,s)}function $p(n){return n[7]||(n[7]=[])}function pd(n){return n.cleanup||(n.cleanup=[])}function fo(n,r){const s=n[9],a=s?s.get(Ts,null):null;a&&a.handleError(r)}function qo(n,r,s,a,d){for(let m=0;m<s.length;){const w=s[m++],x=s[m++],U=r[w],z=n.data[w];null!==z.setInput?z.setInput(U,d,a,x):U[x]=d}}function ua(n,r,s){const a=qs(r,n);!function Gu(n,r,s){n.setValue(r,s)}(n[11],a,s)}function sf(n,r,s){let a=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==r)for(let w=0;w<r.length;w++){const x=r[w];"number"==typeof x?m=x:1==m?d=he(d,x):2==m&&(a=he(a,x+": "+r[++w]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=d:n.classesWithoutHost=d}function Gp(n,r,s,a,d=!1){for(;null!==s;){const m=r[s.index];if(null!==m&&a.push(bi(m)),Pi(m))for(let x=10;x<m.length;x++){const U=m[x],z=U[1].firstChild;null!==z&&Gp(U[1],U,z,a)}const w=s.type;if(8&w)Gp(n,r,s.child,a);else if(32&w){const x=Xc(s,r);let U;for(;U=x();)a.push(U)}else if(16&w){const x=Kg(r,s);if(Array.isArray(x))a.push(...x);else{const U=ec(r[16]);Gp(U[1],U,x,a,!0)}}s=d?s.projectionNext:s.next}return a}class gd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Gp(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Pi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Wf(r,a),$(s,a))}this._attachedToViewContainer=!1}jg(this._lView[1],this._lView)}onDestroy(r){Fc(this._lView[1],this._lView,null,r)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){kc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function td(n,r){rc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=r}}class vv extends gd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;kc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class af extends lu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=We(r);return new uf(s,this.ngModule)}}function Wp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Yy{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const d=this.injector.get(r,yh,a);return d!==yh||s===yh?d:this.parentInjector.get(r,s,a)}}class uf extends dh{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Jg(n){return n.map(Mh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Wp(this.componentDef.inputs)}get outputs(){return Wp(this.componentDef.outputs)}create(r,s,a,d){let m=(d=d||this.ngModule)instanceof xl?d:null==d?void 0:d.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const w=m?new Yy(r,m):r,x=w.get(Rf,null);if(null===x)throw new Ie(407,!1);const U=w.get(mh,null),z=x.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",ye=a?function xp(n,r,s){return n.selectRootElement(r,s===nt.ShadowDom)}(z,a,this.componentDef.encapsulation):Ih(x.createRenderer(null,this.componentDef),ce,function lf(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ce)),Ve=this.componentDef.onPush?288:272,st=Pp(0,null,null,1,0,null,null,null,null,null),wt=Wh(null,st,null,Ve,null,null,x,z,U,w,null);let Zt,cn;As(wt);try{const jn=function Zy(n,r,s,a,d,m){const w=s[1];s[22]=n;const U=lc(w,22,2,"#host",null),z=U.mergedAttrs=r.hostAttrs;null!==z&&(sf(U,z,!0),null!==n&&(at(d,n,z),null!==U.classes&&rd(d,n,U.classes),null!==U.styles&&nd(d,n,U.styles)));const ce=a.createRenderer(n,r),ye=Wh(s,qh(r),null,r.onPush?32:16,s[22],U,a,ce,m||null,null,null);return w.firstCreatePass&&(os(ii(U,s),w,r.type),tf(w,U),Up(U,s.length,1)),jd(s,ye),s[22]=ye}(ye,this.componentDef,wt,x,z);if(ye)if(a)at(z,ye,["ng-version",Id.full]);else{const{attrs:cr,classes:Ut}=function Xg(n){const r=[],s=[];let a=1,d=2;for(;a<n.length;){let m=n[a];if("string"==typeof m)2===d?""!==m&&r.push(m,n[++a]):8===d&&s.push(m);else{if(!cu(d))break;d=m}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);cr&&at(z,ye,cr),Ut&&Ut.length>0&&rd(z,ye,Ut.join(" "))}if(cn=yn(st,22),void 0!==s){const cr=cn.projection=[];for(let Ut=0;Ut<this.ngContentSelectors.length;Ut++){const Ir=s[Ut];cr.push(null!=Ir?Array.from(Ir):null)}}Zt=function xm(n,r,s,a){const d=s[1],m=function Vy(n,r,s){const a=ui();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Am(n,a,r,uc(n,r,1,null),s),Tm(n,a));const d=al(r,n,a.directiveStart,a);Ca(d,r);const m=li(a,r);return m&&Ca(m,r),d}(d,s,r);if(n[8]=s[8]=m,null!==a)for(const x of a)x(m,r);if(r.contentQueries){const x=ui();r.contentQueries(1,m,x.directiveStart)}const w=ui();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(rt(w.index),Xh(s[1],w,0,w.directiveStart,w.directiveEnd,r),ef(r,m)),m}(jn,this.componentDef,wt,[Kp]),zh(st,wt,null)}finally{J()}return new qy(this.componentType,Zt,Bu(cn,wt),wt,cn)}}class qy extends class ch{}{constructor(r,s,a,d,m){super(),this.location=a,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new vv(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const m=this._rootLView;qo(m[1],m,d,r,s),Jh(m,this._tNode.index)}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Kp(){const n=ui();Mr(At()[1],n)}function Hd(n){let r=function zp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let d;if(Ni(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ie(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const w=n;w.inputs=$d(n.inputs),w.declaredInputs=$d(n.declaredInputs),w.outputs=$d(n.outputs);const x=d.hostBindings;x&&Nm(n,x);const U=d.viewQuery,z=d.contentQueries;if(U&&cf(n,U),z&&Qp(n,z),re(n.inputs,d.inputs),re(n.declaredInputs,d.declaredInputs),re(n.outputs,d.outputs),Ni(d)&&d.data.animation){const ce=n.data;ce.animation=(ce.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let w=0;w<m.length;w++){const x=m[w];x&&x.ngInherit&&x(n),x===Hd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Yp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=r+=d.hostVars,d.hostAttrs=ql(d.hostAttrs,s=ql(s,d.hostAttrs))}}(a)}function $d(n){return n===rr?{}:n===Ft?[]:n}function cf(n,r){const s=n.viewQuery;n.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Qp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,d,m)=>{r(a,d,m),s(a,d,m)}:r}function Nm(n,r){const s=n.hostBindings;n.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}let Gd=null;function Ql(){if(!Gd){const n=pt.Symbol;if(n&&n.iterator)Gd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gd=a)}}}return Gd}function Wd(n){return!!hf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ql()in n)}function hf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function hu(n,r,s){return n[r]=s}function Kd(n,r){return n[r]}function Ka(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Uc(n,r,s,a){const d=Ka(n,r,s);return Ka(n,r+1,a)||d}function ff(n,r,s,a,d){const m=Uc(n,r,s,a);return Ka(n,r+2,d)||m}function Cl(n,r,s,a,d,m){const w=Uc(n,r,s,a);return Uc(n,r+2,d,m)||w}function Jp(n,r,s,a){const d=At();return Ka(d,xs(),r)&&(Cr(),Yl(ft(),d,n,r,s,a)),Jp}function ts(n,r,s,a){return Ka(n,xs(),s)?r+Ge(s)+a:Rr}function Yd(n,r,s,a,d,m){const x=Uc(n,Zs(),s,d);return So(2),x?r+Ge(s)+a+Ge(d)+m:Rr}function md(n,r,s,a,d,m,w,x){const z=ff(n,Zs(),s,d,w);return So(3),z?r+Ge(s)+a+Ge(d)+m+Ge(w)+x:Rr}function qd(n,r,s,a,d,m,w,x){const U=At(),z=Cr(),ce=n+22,ye=z.firstCreatePass?function Cv(n,r,s,a,d,m,w,x,U){const z=r.consts,ce=lc(r,n,4,w||null,Vs(z,x));Lp(r,s,ce,Vs(z,U)),Mr(r,ce);const ye=ce.tViews=Pp(2,ce,a,d,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ce),ye.queries=r.queries.embeddedTView(ce)),ce}(ce,z,U,r,s,a,d,m,w):z.data[ce];L(ye,!1);const Ve=U[11].createComment("");Th(z,U,Ve,ye),Ca(Ve,U),jd(U,U[ce]=Om(Ve,U,Ve,ye)),Fr(ye)&&Vd(z,U,ye),null!=w&&Op(U,ye,x)}function Fm(n){return ea(function ci(){return En.lFrame.contextLView}(),22+n)}function tg(n,r,s){const a=At();return Ka(a,xs(),r)&&wo(Cr(),ft(),a,n,r,a[11],s,!1),tg}function pf(n,r,s,a,d){const w=d?"class":"style";qo(n,s,r.inputs[w],w,a)}function jc(n,r,s,a){const d=At(),m=Cr(),w=22+n,x=d[11],U=d[w]=Ih(x,r,function ar(){return En.lFrame.currentNamespace}()),z=m.firstCreatePass?function km(n,r,s,a,d,m,w){const x=r.consts,z=lc(r,n,2,d,Vs(x,m));return Lp(r,s,z,Vs(x,w)),null!==z.attrs&&sf(z,z.attrs,!1),null!==z.mergedAttrs&&sf(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(w,m,d,0,r,s,a):m.data[w];L(z,!0);const ce=z.mergedAttrs;null!==ce&&at(x,U,ce);const ye=z.classes;null!==ye&&rd(x,U,ye);const Ve=z.styles;return null!==Ve&&nd(x,U,Ve),64!=(64&z.flags)&&Th(m,d,U,z),0===function ba(){return En.lFrame.elementDepthCount}()&&Ca(U,d),function vs(){En.lFrame.elementDepthCount++}(),Fr(z)&&(Vd(m,d,z),Cm(m,z,d)),null!==a&&Op(d,z),jc}function gf(){let n=ui();se()?dt():(n=n.parent,L(n,!1));const r=n;!function Es(){En.lFrame.elementDepthCount--}();const s=Cr();return s.firstCreatePass&&(Mr(s,n),Jn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function fn(n){return 0!=(16&n.flags)}(r)&&pf(s,r,At(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function an(n){return 0!=(32&n.flags)}(r)&&pf(s,r,At(),r.stylesWithoutHost,!1),gf}function dc(n,r,s,a){return jc(n,r,s,a),gf(),dc}function hc(n,r,s){const a=At(),d=Cr(),m=n+22,w=d.firstCreatePass?function ng(n,r,s,a,d){const m=r.consts,w=Vs(m,a),x=lc(r,n,8,"ng-container",w);return null!==w&&sf(x,w,!0),Lp(r,s,x,Vs(m,d)),null!==r.queries&&r.queries.elementStart(r,x),x}(m,d,a,r,s):d.data[m];L(w,!0);const x=a[m]=a[11].createComment("");return Th(d,a,x,w),Ca(x,a),Fr(w)&&(Vd(d,a,w),Cm(d,w,a)),null!=s&&Op(a,w),hc}function Zd(){let n=ui();const r=Cr();return se()?dt():(n=n.parent,L(n,!1)),r.firstCreatePass&&(Mr(r,n),Jn(n)&&r.queries.elementEnd(n)),Zd}function Jd(n,r,s){return hc(n,r,s),Zd(),Jd}function Um(){return At()}function rg(n){return!!n&&"function"==typeof n.then}function Vm(n){return!!n&&"function"==typeof n.subscribe}const ig=Vm;function mf(n,r,s,a){const d=At(),m=Cr(),w=ui();return function og(n,r,s,a,d,m,w,x){const U=Fr(a),ce=n.firstCreatePass&&pd(n),ye=r[8],Ve=$p(r);let st=!0;if(3&a.type||x){const cn=li(a,r),jn=x?x(cn):cn,cr=Ve.length,Ut=x?Hi=>x(bi(Hi[a.index])):a.index;let Ir=null;if(!x&&U&&(Ir=function Hc(n,r,s,a){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const w=d[m];if(w===s&&d[m+1]===a){const x=r[7],U=d[m+2];return x.length>U?x[U]:null}"string"==typeof w&&(m+=2)}return null}(n,r,d,a.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=m,Ir.__ngLastListenerFn__=m,st=!1;else{m=yf(a,r,ye,m,!1);const Hi=s.listen(jn,d,m);Ve.push(m,Hi),ce&&ce.push(d,Ut,cr,cr+1)}}else m=yf(a,r,ye,m,!1);const wt=a.outputs;let Zt;if(st&&null!==wt&&(Zt=wt[d])){const cn=Zt.length;if(cn)for(let jn=0;jn<cn;jn+=2){const go=r[Zt[jn]][Zt[jn+1]].subscribe(m),uh=Ve.length;Ve.push(m,go),ce&&ce.push(d,a.index,uh,-(uh+1))}}}(m,d,d[11],w,n,r,0,a),mf}function ag(n,r,s,a){try{return!1!==s(a)}catch(d){return fo(n,d),!1}}function yf(n,r,s,a,d){return function m(w){if(w===Function)return a;nf(2&n.flags?ur(n.index,r):r);let U=ag(r,0,a,w),z=m.__ngNextListenerFn__;for(;z;)U=ag(r,0,z,w)&&U,z=z.__ngNextListenerFn__;return d&&!1===U&&(w.preventDefault(),w.returnValue=!1),U}}function _f(n=1){return function V(n){return(En.lFrame.contextLView=function oe(n,r){for(;n>0;)r=r[15],n--;return r}(n,En.lFrame.contextLView))[8]}(n)}function l_(n,r){let s=null;const a=function Zg(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const m=r[d];if("*"!==m){if(null===a?qg(n,m,!0):sd(a,m))return d}else s=d}return s}function Xd(n){const r=At()[16][6];if(!r.projection){const a=r.projection=ie(n?n.length:1,null),d=a.slice();let m=r.child;for(;null!==m;){const w=n?l_(m,n):0;null!==w&&(d[w]?d[w].projectionNext=m:a[w]=m,d[w]=m),m=m.next}}}function eh(n,r=0,s){const a=At(),d=Cr(),m=lc(d,22+n,16,null,s||null);null===m.projection&&(m.projection=r),dt(),64!=(64&m.flags)&&function wy(n,r,s){Xf(r[11],0,r,s,$g(n,s,r),Qf(s.parent||r[6],s,r))}(d,a,m)}function vf(n,r,s){return vd(n,"",r,"",s),vf}function vd(n,r,s,a,d){const m=At(),w=ts(m,r,s,a);return w!==Rr&&wo(Cr(),ft(),m,n,w,m[11],d,!1),vd}function Df(n,r,s,a,d){const m=n[s+1],w=null===r;let x=a?Dl(m):du(m),U=!1;for(;0!==x&&(!1===U||w);){const ce=n[x+1];c_(n[x],r)&&(U=!0,n[x+1]=a?jh(ce):oc(ce)),x=a?Dl(ce):du(ce)}U&&(n[s+1]=a?oc(m):jh(m))}function c_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&jr(n,r)>=0}const po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hm(n){return n.substring(po.key,po.keyEnd)}function Tv(n){return n.substring(po.value,po.valueEnd)}function d_(n,r){const s=po.textEnd;return s===r?-1:(r=po.keyEnd=function Gm(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,po.key=r,s),ih(n,r,s))}function rh(n,r){const s=po.textEnd;let a=po.key=ih(n,r,s);return s===a?-1:(a=po.keyEnd=function Wm(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=ug(n,a,s),a=po.value=ih(n,a,s),a=po.valueEnd=function Km(n,r,s){let a=-1,d=-1,m=-1,w=r,x=w;for(;w<s;){const U=n.charCodeAt(w++);if(59===U)return x;34===U||39===U?x=w=cg(n,U,w,s):r===w-4&&85===m&&82===d&&76===a&&40===U?x=w=cg(n,41,w,s):U>32&&(x=w),m=d,d=a,a=-33&U}return x}(n,a,s),ug(n,a,s))}function $m(n){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=n.length}function ih(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ug(n,r,s,a){return(r=ih(n,r,s))<s&&r++,r}function cg(n,r,s,a){let d=-1,m=s;for(;m<a;){const w=n.charCodeAt(m++);if(w==r&&92!==d)return m;d=92==w&&92===d?0:w}throw new Error}function dg(n,r,s){return za(n,r,s,!1),dg}function sh(n,r){return za(n,r,null,!0),sh}function bu(n){fu(Qm,$c,n,!1)}function $c(n,r){for(let s=function h_(n){return $m(n),rh(n,ih(n,0,po.textEnd))}(r);s>=0;s=rh(r,s))Qm(n,Hm(r),Tv(r))}function Gc(n){fu(hn,Nl,n,!0)}function Nl(n,r){for(let s=function Cf(n){return $m(n),d_(n,ih(n,0,po.textEnd))}(r);s>=0;s=d_(r,s))hn(n,Hm(r),!0)}function za(n,r,s,a){const d=At(),m=Cr(),w=So(2);m.firstUpdatePass&&zm(m,n,w,a),r!==Rr&&Ka(d,w,r)&&qm(m,m.data[De()],d,d[11],n,d[w+1]=function oh(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=q(oa(n)))),n}(r,s),a,w)}function fu(n,r,s,a){const d=Cr(),m=So(2);d.firstUpdatePass&&zm(d,null,m,a);const w=At();if(s!==Rr&&Ka(w,m,s)){const x=d.data[De()];if(wf(x,a)&&!p_(d,m)){let U=a?x.classesWithoutHost:x.stylesWithoutHost;null!==U&&(s=he(U,s||"")),pf(d,x,w,s,a)}else!function y_(n,r,s,a,d,m,w,x){d===Rr&&(d=Ft);let U=0,z=0,ce=0<d.length?d[0]:null,ye=0<m.length?m[0]:null;for(;null!==ce||null!==ye;){const Ve=U<d.length?d[U+1]:void 0,st=z<m.length?m[z+1]:void 0;let Zt,wt=null;ce===ye?(U+=2,z+=2,Ve!==st&&(wt=ye,Zt=st)):null===ye||null!==ce&&ce<ye?(U+=2,wt=ce):(z+=2,wt=ye,Zt=st),null!==wt&&qm(n,r,s,a,wt,Zt,w,x),ce=U<d.length?d[U]:null,ye=z<m.length?m[z]:null}}(d,x,w,w[11],w[m+1],w[m+1]=function bv(n,r,s){if(null==s||""===s)return Ft;const a=[],d=oa(s);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(a,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(a,m,d[m]);else"string"==typeof d&&r(a,d);return a}(n,r,s),a,m)}}function p_(n,r){return r>=n.expandoStartIndex}function zm(n,r,s,a){const d=n.data;if(null===d[s+1]){const m=d[De()],w=p_(n,s);wf(m,a)&&null===r&&!w&&(r=!1),r=function fc(n,r,s,a){const d=Ma(n);let m=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=If(s=Ym(null,n,r,s,a),r.attrs,a),m=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=Ym(d,n,r,s,a),null===m){let U=function g_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==du(a))return n[Dl(a)]}(n,r,a);void 0!==U&&Array.isArray(U)&&(U=Ym(null,n,r,U[1],a),U=If(U,r.attrs,a),function Sv(n,r,s,a){n[Dl(s?r.classBindings:r.styleBindings)]=a}(n,r,a,U))}else m=function m_(n,r,s){let a;const d=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<d;m++)a=If(a,n[m].hostAttrs,s);return If(a,r.attrs,s)}(n,r,a)}return void 0!==m&&(a?r.residualClasses=m:r.residualStyles=m),s}(d,m,r,a),function Iv(n,r,s,a,d,m){let w=m?r.classBindings:r.styleBindings,x=Dl(w),U=du(w);n[a]=s;let ce,z=!1;if(Array.isArray(s)){const ye=s;ce=ye[1],(null===ce||jr(ye,ce)>0)&&(z=!0)}else ce=s;if(d)if(0!==U){const Ve=Dl(n[x+1]);n[a+1]=dd(Ve,x),0!==Ve&&(n[Ve+1]=pp(n[Ve+1],a)),n[x+1]=function lm(n,r){return 131071&n|r<<17}(n[x+1],a)}else n[a+1]=dd(x,0),0!==x&&(n[x+1]=pp(n[x+1],a)),x=a;else n[a+1]=dd(U,0),0===x?x=a:n[U+1]=pp(n[U+1],a),U=a;z&&(n[a+1]=oc(n[a+1])),Df(n,ce,a,!0),Df(n,ce,a,!1),function wv(n,r,s,a,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof r&&jr(m,r)>=0&&(s[a+1]=jh(s[a+1]))}(r,ce,n,a,m),w=dd(x,U),m?r.classBindings=w:r.styleBindings=w}(d,m,r,s,w,a)}}function Ym(n,r,s,a,d){let m=null;const w=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<w&&(m=r[x],a=If(a,m.hostAttrs,d),m!==n);)x++;return null!==n&&(s.directiveStylingLast=x),a}function If(n,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),hn(n,w,!!s||r[++m]))}return void 0===n?null:n}function Qm(n,r,s){hn(n,r,oa(s))}function qm(n,r,s,a,d,m,w,x){if(!(3&r.type))return;const U=n.data,z=U[x+1];hg(function um(n){return 1==(1&n)}(z)?Zm(U,r,s,d,du(z),w):void 0)||(hg(m)||function Bh(n){return 2==(2&n)}(z)&&(m=Zm(U,null,s,d,x,w)),function tp(n,r,s,a,d){if(r)d?n.addClass(s,a):n.removeClass(s,a);else{let m=-1===a.indexOf("-")?void 0:Su.DashCase;null==d?n.removeStyle(s,a,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=Su.Important),n.setStyle(s,a,d,m))}}(a,w,qs(De(),s),d,m))}function Zm(n,r,s,a,d,m){const w=null===r;let x;for(;d>0;){const U=n[d],z=Array.isArray(U),ce=z?U[1]:U,ye=null===ce;let Ve=s[d+1];Ve===Rr&&(Ve=ye?Ft:void 0);let st=ye?pr(Ve,a):ce===a?Ve:void 0;if(z&&!hg(st)&&(st=pr(U,a)),hg(st)&&(x=st,w))return x;const wt=n[d+1];d=w?Dl(wt):du(wt)}if(null!==r){let U=m?r.residualClasses:r.residualStyles;null!=U&&(x=pr(U,a))}return x}function hg(n){return void 0!==n}function wf(n,r){return 0!=(n.flags&(r?16:32))}function __(n,r=""){const s=At(),a=Cr(),d=n+22,m=a.firstCreatePass?lc(a,d,1,r,null):a.data[d],w=s[d]=function Ch(n,r){return n.createText(r)}(s[11],r);Th(a,s,w,m),L(m,!1)}function Jm(n){return Tf("",n,""),Jm}function Tf(n,r,s){const a=At(),d=ts(a,n,r,s);return d!==Rr&&ua(a,De(),d),Tf}function fg(n,r,s,a,d){const m=At(),w=Yd(m,n,r,s,a,d);return w!==Rr&&ua(m,De(),w),fg}function Cd(n,r,s,a,d,m,w){const x=At(),U=md(x,n,r,s,a,d,m,w);return U!==Rr&&ua(x,De(),U),Cd}function pg(n,r,s,a,d,m,w,x,U){const z=At(),ce=function ks(n,r,s,a,d,m,w,x,U,z){const ye=Cl(n,Zs(),s,d,w,U);return So(4),ye?r+Ge(s)+a+Ge(d)+m+Ge(w)+x+Ge(U)+z:Rr}(z,n,r,s,a,d,m,w,x,U);return ce!==Rr&&ua(z,De(),ce),pg}function Xm(n,r,s,a,d,m,w,x,U,z,ce,ye,Ve){const st=At(),wt=function yd(n,r,s,a,d,m,w,x,U,z,ce,ye,Ve,st){const wt=Zs();let Zt=Cl(n,wt,s,d,w,U);return Zt=Uc(n,wt+4,ce,Ve)||Zt,So(6),Zt?r+Ge(s)+a+Ge(d)+m+Ge(w)+x+Ge(U)+z+Ge(ce)+ye+Ge(Ve)+st:Rr}(st,n,r,s,a,d,m,w,x,U,z,ce,ye,Ve);return wt!==Rr&&ua(st,De(),wt),Xm}function C_(n,r,s){fu(hn,Nl,ts(At(),n,r,s),!0)}function I_(n,r,s,a,d){fu(hn,Nl,Yd(At(),n,r,s,a,d),!0)}function w_(n,r,s,a,d,m,w){fu(hn,Nl,md(At(),n,r,s,a,d,m,w),!0)}function g(n,r,s){bu(ts(At(),n,r,s))}function Jo(n,r,s){const a=At();return Ka(a,xs(),r)&&wo(Cr(),ft(),a,n,r,a[11],s,!0),Jo}function Wc(n,r,s){const a=At();if(Ka(a,xs(),r)){const m=Cr(),w=ft();wo(m,w,a,n,r,function Rm(n,r,s){return(null===n||Ni(n))&&(s=function xo(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Ma(m.data),w,a),s,!0)}return Wc}const ah=void 0;var $0=["en",[["a","p"],["AM","PM"],ah],[["AM","PM"],ah,ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ah,"{1} 'at' {0}",ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H0(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Sf={};function T_(n){const r=function G0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Mv(r);if(s)return s;const a=r.split("-")[0];if(s=Mv(a),s)return s;if("en"===a)return $0;throw new Ie(701,!1)}function Av(n){return T_(n)[mr.PluralCase]}function Mv(n){return n in Sf||(Sf[n]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[n]),Sf[n]}var mr=(()=>((mr=mr||{})[mr.LocaleId=0]="LocaleId",mr[mr.DayPeriodsFormat=1]="DayPeriodsFormat",mr[mr.DayPeriodsStandalone=2]="DayPeriodsStandalone",mr[mr.DaysFormat=3]="DaysFormat",mr[mr.DaysStandalone=4]="DaysStandalone",mr[mr.MonthsFormat=5]="MonthsFormat",mr[mr.MonthsStandalone=6]="MonthsStandalone",mr[mr.Eras=7]="Eras",mr[mr.FirstDayOfWeek=8]="FirstDayOfWeek",mr[mr.WeekendRange=9]="WeekendRange",mr[mr.DateFormat=10]="DateFormat",mr[mr.TimeFormat=11]="TimeFormat",mr[mr.DateTimeFormat=12]="DateTimeFormat",mr[mr.NumberSymbols=13]="NumberSymbols",mr[mr.NumberFormats=14]="NumberFormats",mr[mr.CurrencyCode=15]="CurrencyCode",mr[mr.CurrencySymbol=16]="CurrencySymbol",mr[mr.CurrencyName=17]="CurrencyName",mr[mr.Currencies=18]="Currencies",mr[mr.Directionality=19]="Directionality",mr[mr.PluralCase=20]="PluralCase",mr[mr.ExtraData=21]="ExtraData",mr))();const bf="en-US";let Ov=bf;function A_(n,r,s,a,d){if(n=le(n),Array.isArray(n))for(let m=0;m<n.length;m++)A_(n[m],r,s,a,d);else{const m=Cr(),w=At();let x=Rn(n)?n:le(n.provide),U=vc(n);const z=ui(),ce=1048575&z.providerIndexes,ye=z.directiveStart,Ve=z.providerIndexes>>20;if(Rn(n)||!n.multi){const st=new pa(U,d,cd),wt=O_(x,r,d?ce:ce+Ve,ye);-1===wt?(os(ii(z,w),m,x),M_(m,n,r.length),r.push(x),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(st),w.push(st)):(s[wt]=st,w[wt]=st)}else{const st=O_(x,r,ce+Ve,ye),wt=O_(x,r,ce,ce+Ve),Zt=st>=0&&s[st],cn=wt>=0&&s[wt];if(d&&!cn||!d&&!Zt){os(ii(z,w),m,x);const jn=function jD(n,r,s,a,d){const m=new pa(n,s,cd);return m.multi=[],m.index=r,m.componentProviders=0,tE(m,d,a&&!s),m}(d?BD:VD,s.length,d,a,U);!d&&cn&&(s[wt].providerFactory=jn),M_(m,n,r.length,0),r.push(x),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(jn),w.push(jn)}else M_(m,n,st>-1?st:wt,tE(s[d?wt:st],U,!d&&a));!d&&a&&cn&&s[wt].componentProviders++}}}function M_(n,r,s,a){const d=Rn(r),m=function Ln(n){return!!n.useClass}(r);if(d||m){const U=(m?le(r.useClass):r).prototype.ngOnDestroy;if(U){const z=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const ce=z.indexOf(s);-1===ce?z.push(s,[a,U]):z[ce+1].push(a,U)}else z.push(s,U)}}}function tE(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function O_(n,r,s,a){for(let d=s;d<a;d++)if(r[d]===n)return d;return-1}function VD(n,r,s,a){return P_(this.multi,[])}function BD(n,r,s,a){const d=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=al(s,s[1],this.providerFactory.index,a);m=x.slice(0,w),P_(d,m);for(let U=w;U<x.length;U++)m.push(x[U])}else m=[],P_(d,m);return m}function P_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function nE(n,r=[]){return s=>{s.providersResolver=(a,d)=>function UD(n,r,s){const a=Cr();if(a.firstCreatePass){const d=Ni(n);A_(s,a.data,a.blueprint,d,!0),A_(r,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,r)}}class Af{}class rE{}function HD(n,r){return new iE(n,null!=r?r:null)}class iE extends Af{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);const a=or(r);this._bootstrapComponents=uu(a.bootstrap),this._r3Injector=xh(r,s,[{provide:Af,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],q(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class R_ extends rE{constructor(r){super(),this.moduleType=r}create(r){return new iE(this.moduleType,r)}}class $D extends Af{constructor(r,s,a){super(),this.componentFactoryResolver=new af(this),this.instance=null;const d=new ou([...r,{provide:Af,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],s||su(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function x_(n,r,s=null){return new $D(n,r,s).injector}let GD=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=p(0,s.type),d=a.length>0?x_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=nr({token:n,providedIn:"environment",factory:()=>new n(as(xl))}),n})();function sE(n){n.getStandaloneInjector=r=>r.get(GD).getOrCreateStandaloneInjector(n)}function hE(n,r,s){const a=Kr()+n,d=At();return d[a]===Rr?hu(d,a,s?r.call(s):r()):Kd(d,a)}function fE(n,r,s,a){return yE(At(),Kr(),n,r,s,a)}function pE(n,r,s,a,d){return _E(At(),Kr(),n,r,s,a,d)}function gE(n,r,s,a,d,m){return vE(At(),Kr(),n,r,s,a,d,m)}function mE(n,r,s,a,d,m,w,x,U){const z=Kr()+n,ce=At(),ye=Cl(ce,z,s,a,d,m);return Uc(ce,z+4,w,x)||ye?hu(ce,z+6,U?r.call(U,s,a,d,m,w,x):r(s,a,d,m,w,x)):Kd(ce,z+6)}function Eg(n,r){const s=n[r];return s===Rr?void 0:s}function yE(n,r,s,a,d,m){const w=r+s;return Ka(n,w,d)?hu(n,w+1,m?a.call(m,d):a(d)):Eg(n,w+1)}function _E(n,r,s,a,d,m,w){const x=r+s;return Uc(n,x,d,m)?hu(n,x+2,w?a.call(w,d,m):a(d,m)):Eg(n,x+2)}function vE(n,r,s,a,d,m,w,x){const U=r+s;return ff(n,U,d,m,w)?hu(n,U+3,x?a.call(x,d,m,w):a(d,m,w)):Eg(n,U+3)}function CE(n,r){const s=Cr();let a;const d=n+22;s.firstCreatePass?(a=function iC(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const m=a.factory||(a.factory=Qs(a.type)),w=Er(cd);try{const x=Oa(!1),U=m();return Oa(x),function eg(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,At(),d,U),U}finally{Er(w)}}function IE(n,r,s){const a=n+22,d=At(),m=ea(d,a);return Dg(d,a)?yE(d,Kr(),r,m.transform,s,m):m.transform(s)}function wE(n,r,s,a){const d=n+22,m=At(),w=ea(m,d);return Dg(m,d)?_E(m,Kr(),r,w.transform,s,a,w):w.transform(s,a)}function TE(n,r,s,a,d){const m=n+22,w=At(),x=ea(w,m);return Dg(w,m)?vE(w,Kr(),r,x.transform,s,a,d,x):x.transform(s,a,d)}function SE(n,r,s){const a=n+22,d=At(),m=ea(d,a);return Dg(d,a)?function DE(n,r,s,a,d,m){let w=r+s,x=!1;for(let U=0;U<d.length;U++)Ka(n,w++,d[U])&&(x=!0);return x?hu(n,w,a.apply(m,d)):Eg(n,w)}(d,Kr(),r,m.transform,s,m):m.transform.apply(m,s)}function Dg(n,r){return n[1].data[r].pure}function L_(n){return r=>{setTimeout(n,void 0,r)}}const pc=class oC extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var d,m,w;let x=r,U=s||(()=>null),z=a;if(r&&"object"==typeof r){const ye=r;x=null===(d=ye.next)||void 0===d?void 0:d.bind(ye),U=null===(m=ye.error)||void 0===m?void 0:m.bind(ye),z=null===(w=ye.complete)||void 0===w?void 0:w.bind(ye)}this.__isAsync&&(U=L_(U),x&&(x=L_(x)),z&&(z=L_(z)));const ce=super.subscribe({next:x,error:U,complete:z});return r instanceof S.w0&&r.add(ce),ce}};function aC(){return this._results[Ql()]()}class F_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ql(),a=F_.prototype;a[s]||(a[s]=aC)}get changes(){return this._changes||(this._changes=new pc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=O(r);(this._changesDetected=!function M(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],m=r[a];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cC,n})();const lC=Cg,uC=class extends lC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,d=Wh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(d[19]=w.createEmbeddedView(a)),zh(a,d,r),new gd(d)}};function cC(){return oy(ui(),At())}function oy(n,r){return 4&n.type?new uC(r,n,Bu(n,r)):null}let ay=(()=>{class n{}return n.__NG_ELEMENT_ID__=dC,n})();function dC(){return ME(ui(),At())}const hC=ay,bE=class extends hC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const r=_r(this._hostTNode,this._hostLView);if(Ui(r)){const s=Bo(r,this._hostLView),a=Ns(r);return new $i(s[1].data[a+8],s)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=AE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let d,m;"number"==typeof a?d=a:null!=a&&(d=a.index,m=a.injector);const w=r.createEmbeddedView(s||{},m);return this.insert(w,d),w}createComponent(r,s,a,d,m){const w=r&&!function Gi(n){return"function"==typeof n}(r);let x;if(w)x=s;else{const ye=s||{};x=ye.index,a=ye.injector,d=ye.projectableNodes,m=ye.environmentInjector||ye.ngModuleRef}const U=w?r:new uf(We(r)),z=a||this.parentInjector;if(!m&&null==U.ngModule){const Ve=(w?z:this.parentInjector).get(xl,null);Ve&&(m=Ve)}const ce=U.create(z,d,void 0,m);return this.insert(ce.hostView,x),ce}insert(r,s){const a=r._lView,d=a[1];if(function Sa(n){return Pi(n[3])}(a)){const ce=this.indexOf(r);if(-1!==ce)this.detach(ce);else{const ye=a[3],Ve=new bE(ye,ye[6],ye[3]);Ve.detach(Ve.indexOf(r))}}const m=this._adjustIndex(s),w=this._lContainer;!function tc(n,r,s,a){const d=10+a,m=s.length;a>0&&(s[d-1][4]=r),a<m-10?(r[4]=s[d],F(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function Vg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const x=r[19];null!==x&&x.insertView(n),r[2]|=64}(d,a,w,m);const x=qf(m,w),U=a[11],z=Od(U,w[7]);return null!==z&&function Dy(n,r,s,a,d,m){a[0]=d,a[6]=r,rc(n,a,s,1,d,m)}(d,w[6],U,a,z,x),r.attachToViewContainerRef(),F(k_(w),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=AE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Wf(this._lContainer,s);a&&($(k_(this._lContainer),s),jg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Wf(this._lContainer,s);return a&&null!=$(k_(this._lContainer),s)?new gd(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function AE(n){return n[8]}function k_(n){return n[8]||(n[8]=[])}function ME(n,r){let s;const a=r[n.index];if(Pi(a))s=a;else{let d;if(8&n.type)d=bi(a);else{const m=r[11];d=m.createComment("");const w=li(n,r);Rc(m,Od(m,w),d,function Iy(n,r){return n.nextSibling(r)}(m,w),!1)}r[n.index]=s=Om(a,r,d,n),jd(r,s)}return new bE(s,n,r)}class U_{constructor(r){this.queryList=r,this.matches=null}clone(){return new U_(this.queryList)}setDirty(){this.queryList.setDirty()}}class V_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let m=0;m<a;m++){const w=s.getByIndex(m);d.push(this.queries[w.indexInDeclarationView].clone())}return new V_(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UE(r,s).matches&&this.queries[s].setDirty()}}class OE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class B_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,m=this.getByIndex(a).embeddedTView(r,d);m&&(m.indexInDeclarationView=a,null!==s?s.push(m):s=[m])}return null!==s?new B_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class j_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new j_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const m=a[d];this.matchTNodeWithReadOption(r,s,gC(s,m)),this.matchTNodeWithReadOption(r,s,xa(s,r,m,!1,!1))}else a===Cg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,xa(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===wc||d===ay||d===Cg&&4&s.type)this.addMatch(s.index,-2);else{const m=xa(s,r,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gC(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function yC(n,r,s,a){return-1===s?function mC(n,r){return 11&n.type?Bu(n,r):4&n.type?oy(n,r):null}(r,n):-2===s?function _C(n,r,s){return s===wc?Bu(r,n):s===Cg?oy(r,n):s===ay?ME(r,n):void 0}(n,r,a):al(n,n[1],s,r)}function PE(n,r,s,a){const d=r[19].queries[a];if(null===d.matches){const m=n.data,w=s.matches,x=[];for(let U=0;U<w.length;U+=2){const z=w[U];x.push(z<0?null:yC(r,m[z],w[U+1],s.metadata.read))}d.matches=x}return d.matches}function H_(n,r,s,a){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const w=PE(n,r,d,s);for(let x=0;x<m.length;x+=2){const U=m[x];if(U>0)a.push(w[x/2]);else{const z=m[x+1],ce=r[-U];for(let ye=10;ye<ce.length;ye++){const Ve=ce[ye];Ve[17]===Ve[3]&&H_(Ve[1],Ve,z,a)}if(null!==ce[9]){const ye=ce[9];for(let Ve=0;Ve<ye.length;Ve++){const st=ye[Ve];H_(st[1],st,z,a)}}}}}return a}function RE(n){const r=At(),s=Cr(),a=ha();_o(a+1);const d=UE(s,a);if(n.dirty&&function Ta(n){return 4==(4&n[2])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?H_(s,r,a,[]):PE(s,r,d,a);n.reset(m,Pf),n.notifyOnChanges()}return!0}return!1}function xE(n,r,s){const a=Cr();a.firstCreatePass&&(kE(a,new OE(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),FE(a,At(),r)}function NE(n,r,s,a){const d=Cr();if(d.firstCreatePass){const m=ui();kE(d,new OE(r,s,a),m.index),function EC(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}FE(d,At(),s)}function LE(){return function vC(n,r){return n[19].queries[r].queryList}(At(),ha())}function FE(n,r,s){const a=new F_(4==(4&s));Fc(n,r,a,a.destroy),null===r[19]&&(r[19]=new V_),r[19].queries.push(new U_(a))}function kE(n,r,s){null===n.queries&&(n.queries=new B_),n.queries.track(new j_(r,s))}function UE(n,r){return n.queries.getByIndex(r)}function VE(n,r){return oy(n,r)}function uy(...n){}const s0=new di("Application Initializer");let cy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=uy,this.reject=uy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(rg(m))s.push(m);else if(ig(m)){const w=new Promise((x,U)=>{m.subscribe({complete:x,error:U})});s.push(w)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(as(s0,8))},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o0=new di("AppId",{providedIn:"root",factory:function a0(){return`${z_()}${z_()}${z_()}`}});function z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l0=new di("Platform Initializer"),BC=new di("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new di("appBootstrapListener"),jC=new di("AnimationModuleType");let HC=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const dy=new di("LocaleId",{providedIn:"root",factory:()=>fl(dy,Qt.Optional|Qt.SkipSelf)||function $C(){return"undefined"!=typeof $localize&&$localize.locale||bf}()}),GC=new di("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let KC=(()=>{class n{compileModuleSync(s){return new R_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),m=uu(or(s).declarations).reduce((w,x)=>{const U=We(x);return U&&w.push(new uf(U)),w},[]);return new WC(a,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QC=(()=>Promise.resolve(0))();function Y_(n){"undefined"==typeof Zone?QC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Au{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pc(!1),this.onMicrotaskEmpty=new pc(!1),this.onStable=new pc(!1),this.onError=new pc(!1),"undefined"==typeof Zone)throw new Ie(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function qC(){let n=pt.requestAnimationFrame,r=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XC(n){const r=()=>{!function JC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,q_(n),n.isCheckStableRunning=!0,Q_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),q_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,m,w,x)=>{try{return h0(n),s.invokeTask(d,m,w,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&r(),f0(n)}},onInvoke:(s,a,d,m,w,x,U)=>{try{return h0(n),s.invoke(d,m,w,x,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),f0(n)}},onHasTask:(s,a,d,m)=>{s.hasTask(d,m),a===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,q_(n),Q_(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,a,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Ie(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+d,r,ZC,uy,uy);try{return m.runTask(w,s,a)}finally{m.cancelTask(w)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ZC={};function Q_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function q_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function h0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function f0(n){n._nesting--,Q_(n)}class eI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pc,this.onMicrotaskEmpty=new pc,this.onStable=new pc,this.onError=new pc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const p0=new di(""),g0=new di("");let wg,tI=(()=>{class n{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wg||(function nI(n){wg=n}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(as(Au),as(m0),as(g0))},n.\u0275prov=nr({token:n,factory:n.\u0275fac}),n})(),m0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){var d;return null!==(d=null==wg?void 0:wg.findTestabilityInTree(this,s,a))&&void 0!==d?d:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),gc=null;const y0=new di("AllowMultipleToken"),Z_=new di("PlatformDestroyListeners");class sI{constructor(r,s){this.name=r,this.token=s}}function v0(n,r,s=[]){const a=`Platform: ${r}`,d=new di(a);return(m=[])=>{let w=J_();if(!w||w.injector.get(y0,!1)){const x=[...s,...m,{provide:d,useValue:!0}];n?n(x):function oI(n){if(gc&&!gc.get(y0,!1))throw new Ie(400,!1);gc=n;const r=n.get(D0);(function _0(n){const r=n.get(l0,null);r&&r.forEach(s=>s())})(n)}(function E0(n=[],r){return ic.create({name:r,providers:[{provide:ji,useValue:"platform"},{provide:Z_,useValue:new Set([()=>gc=null])},...n]})}(x,a))}return function lI(n){const r=J_();if(!r)throw new Ie(401,!1);return r}()}}function J_(){var n;return null!==(n=null==gc?void 0:gc.get(D0))&&void 0!==n?n:null}let D0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function I0(n,r){let s;return s="noop"===n?new eI:("zone.js"===n?void 0:n)||new Au(r),s}(null==a?void 0:a.ngZone,function C0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),m=[{provide:Au,useValue:d}];return d.run(()=>{const w=ic.create({providers:m,parent:this.injector,name:s.moduleType.name}),x=s.create(w),U=x.injector.get(Ts,null);if(!U)throw new Ie(402,!1);return d.runOutsideAngular(()=>{const z=d.onError.subscribe({next:ce=>{U.handleError(ce)}});x.onDestroy(()=>{fy(this._modules,x),z.unsubscribe()})}),function w0(n,r,s){try{const a=s();return rg(a)?a.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(U,d,()=>{const z=x.injector.get(cy);return z.runInitializers(),z.donePromise.then(()=>(function Pv(n){Yt(n,"Expected localeId to be defined"),"string"==typeof n&&(Ov=n.toLowerCase().replace(/_/g,"-"))}(x.injector.get(dy,bf)||bf),this._moduleDoBootstrap(x),x))})})}bootstrapModule(s,a=[]){const d=T0({},a);return function rI(n,r,s){const a=new R_(s);return Promise.resolve(a)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const a=s.injector.get(hy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Ie(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Z_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(as(ic))},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function T0(n,r){return Array.isArray(r)?r.reduce(T0,n):Object.assign(Object.assign({},n),r)}let hy=(()=>{class n{constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ne.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),w=new ne.y(x=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),Y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{U.unsubscribe(),z.unsubscribe()}});this.isStable=(0,H.T)(m,w.pipe((0,Q.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof dh;if(!this._injector.get(cy).done)throw!d&&Un(s),new Ie(405,false);let w;w=d?s:this._injector.get(lu).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const x=function iI(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Af),z=w.create(ic.NULL,[],a||w.selector,x),ce=z.location.nativeElement,ye=z.injector.get(p0,null);return null==ye||ye.registerApplication(ce),z.onDestroy(()=>{this.detachView(z.hostView),fy(this.components,z),null==ye||ye.unregisterApplication(ce)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;fy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(u0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>fy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ie(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(as(Au),as(xl),as(Ts))},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let b0=!0,A0=!1;function cI(){return A0=!0,b0}function dI(){if(A0)throw new Error("Cannot enable prod mode after platform setup.");b0=!1}let hI=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();function fI(n){return function pI(n,r,s){if(Vn(n)&&!s){const a=ur(n.index,r);return new gd(a,a)}return 47&n.type?new gd(r[16],r):null}(ui(),At(),16==(16&n))}class R0{constructor(){}supports(r){return Wd(r)}create(r){return new EI(r)}}const vI=(n,r)=>r;class EI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,m=null;for(;s||a;){const w=!a||s&&s.currentIndex<N0(a,d,m)?s:a,x=N0(w,d,m),U=w.currentIndex;if(w===a)d--,a=a._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{m||(m=[]);const z=x-d,ce=U-d;if(z!=ce){for(let Ve=0;Ve<z;Ve++){const st=Ve<m.length?m[Ve]:m[Ve]=0,wt=st+Ve;ce<=wt&&wt<z&&(m[Ve]=st+1)}m[w.previousIndex]=ce-z}}x!==U&&r(w,x,U)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wd(r))throw new Ie(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,m,w,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)m=r[x],w=this._trackByFn(x,m),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,m,w,x)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,w,x),a=!0),s=s._next}else d=0,function Xy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Ql()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,x=>{w=this._trackByFn(d,x),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,x,w,d)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,w,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,d)):r=this._addAfter(new DI(s,a),m,d),r}_verifyReinsertion(r,s,a,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?r=this._reinsertAfter(m,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,m=r._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new x0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class x0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new CI,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N0(n,r,s){const a=n.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class L0{constructor(){}supports(r){return r instanceof Map||hf(r)}create(){return new II}}class II{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||hf(r)))throw new Ie(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const m=d._prev,w=d._next;return m&&(m._next=w),w&&(w._prev=m),d._next=null,d._prev=null,d}const a=new wI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class wI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F0(){return new rv([new R0])}let rv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||F0()),deps:[[n,new pl,new ru]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new Ie(901,!1)}}return n.\u0275prov=nr({token:n,providedIn:"root",factory:F0}),n})();function k0(){return new iv([new L0])}let iv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||k0()),deps:[[n,new pl,new ru]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Ie(901,!1)}}return n.\u0275prov=nr({token:n,providedIn:"root",factory:k0}),n})();const bI=v0(null,"core",[]);let AI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(as(hy))},n.\u0275mod=yi({type:n}),n.\u0275inj=dr({}),n})();function MI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3075:(Ce,ae,D)=>{D.d(ae,{CE:()=>Os,Cf:()=>je,EJ:()=>Ro,F:()=>Mn,Fd:()=>bi,Fj:()=>Ke,JJ:()=>Qt,JL:()=>mi,JU:()=>q,K7:()=>ri,Kr:()=>_s,Mq:()=>Ni,NI:()=>_i,Oe:()=>yo,On:()=>Qe,Q7:()=>Di,UX:()=>Es,Wl:()=>Z,YN:()=>uo,_:()=>Dr,_Y:()=>yt,a5:()=>Hr,c5:()=>Bs,cw:()=>We,eT:()=>cs,kI:()=>qe,nD:()=>Vs,oH:()=>oo,qQ:()=>wa,qu:()=>Cr,sg:()=>To,u:()=>er,u5:()=>vs,wO:()=>Pr,wV:()=>kt,x0:()=>hs});var f=D(5e3),S=D(9808),ne=D(457),H=D(4128),Q=D(4004);let de=(()=>{class G{constructor(L,se){this._renderer=L,this._elementRef=se,this.onChange=dt=>{},this.onTouched=()=>{}}setProperty(L,se){this._renderer.setProperty(this._elementRef.nativeElement,L,se)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.Qsj),f.Y36(f.SBq))},G.\u0275dir=f.lG2({type:G}),G})(),re=(()=>{class G extends de{}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,features:[f.qOj]}),G})();const q=new f.OlP("NgValueAccessor"),he={provide:q,useExisting:(0,f.Gpc)(()=>Z),multi:!0};let Z=(()=>{class G extends re{writeValue(L){this.setProperty("checked",L)}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,se){1&L&&f.NdJ("change",function(sn){return se.onChange(sn.target.checked)})("blur",function(){return se.onTouched()})},features:[f._Bn([he]),f.qOj]}),G})();const ee={provide:q,useExisting:(0,f.Gpc)(()=>Ke),multi:!0},Ne=new f.OlP("CompositionEventMode");let Ke=(()=>{class G extends de{constructor(L,se,dt){super(L,se),this._compositionMode=dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function le(){const G=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ne,8))},G.\u0275dir=f.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,se){1&L&&f.NdJ("input",function(sn){return se._handleInput(sn.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(sn){return se._compositionEnd(sn.target.value)})},features:[f._Bn([ee]),f.qOj]}),G})();function ze(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ge(G){return null!=G&&"number"==typeof G.length}const je=new f.OlP("NgValidators"),mt=new f.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qe{static min(B){return ke(B)}static max(B){return Dt(B)}static required(B){return Tt(B)}static requiredTrue(B){return function Kt(G){return!0===G.value?null:{required:!0}}(B)}static email(B){return function Gt(G){return ze(G.value)||xt.test(G.value)?null:{email:!0}}(B)}static minLength(B){return Pt(B)}static maxLength(B){return tt(B)}static pattern(B){return Ze(B)}static nullValidator(B){return null}static compose(B){return Mt(B)}static composeAsync(B){return Ur(B)}}function ke(G){return B=>{if(ze(B.value)||ze(G))return null;const L=parseFloat(B.value);return!isNaN(L)&&L<G?{min:{min:G,actual:B.value}}:null}}function Dt(G){return B=>{if(ze(B.value)||ze(G))return null;const L=parseFloat(B.value);return!isNaN(L)&&L>G?{max:{max:G,actual:B.value}}:null}}function Tt(G){return ze(G.value)?{required:!0}:null}function Pt(G){return B=>ze(B.value)||!Ge(B.value)?null:B.value.length<G?{minlength:{requiredLength:G,actualLength:B.value.length}}:null}function tt(G){return B=>Ge(B.value)&&B.value.length>G?{maxlength:{requiredLength:G,actualLength:B.value.length}}:null}function Ze(G){if(!G)return ot;let B,L;return"string"==typeof G?(L="","^"!==G.charAt(0)&&(L+="^"),L+=G,"$"!==G.charAt(G.length-1)&&(L+="$"),B=new RegExp(L)):(L=G.toString(),B=G),se=>{if(ze(se.value))return null;const dt=se.value;return B.test(dt)?null:{pattern:{requiredPattern:L,actualValue:dt}}}}function ot(G){return null}function et(G){return null!=G}function Nt(G){return(0,f.QGY)(G)?(0,ne.D)(G):G}function St(G){let B={};return G.forEach(L=>{B=null!=L?Object.assign(Object.assign({},B),L):B}),0===Object.keys(B).length?null:B}function ht(G,B){return B.map(L=>L(G))}function Yt(G){return G.map(B=>function Fn(G){return!G.validate}(B)?B:L=>B.validate(L))}function Mt(G){if(!G)return null;const B=G.filter(et);return 0==B.length?null:function(L){return St(ht(L,B))}}function hr(G){return null!=G?Mt(Yt(G)):null}function Ur(G){if(!G)return null;const B=G.filter(et);return 0==B.length?null:function(L){const se=ht(L,B).map(Nt);return(0,H.D)(se).pipe((0,Q.U)(St))}}function wr(G){return null!=G?Ur(Yt(G)):null}function nr(G,B){return null===G?[B]:Array.isArray(G)?[...G,B]:[G,B]}function Lr(G){return G._rawValidators}function dr(G){return G._rawAsyncValidators}function Ti(G){return G?Array.isArray(G)?G:[G]:[]}function gi(G,B){return Array.isArray(G)?G.includes(B):G===B}function Jr(G,B){const L=Ti(B);return Ti(G).forEach(dt=>{gi(L,dt)||L.push(dt)}),L}function Br(G,B){return Ti(B).filter(L=>!gi(G,L))}class Xr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=hr(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=wr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,L){return!!this.control&&this.control.hasError(B,L)}getError(B,L){return this.control?this.control.getError(B,L):null}}class Hr extends Xr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr extends Xr{get formDirective(){return null}get path(){return null}}class lr{constructor(B){this._cd=B}get isTouched(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.touched)}get isUntouched(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.untouched)}get isPristine(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.pristine)}get isDirty(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.dirty)}get isValid(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.valid)}get isInvalid(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.invalid)}get isPending(){var B,L;return!(null===(L=null===(B=this._cd)||void 0===B?void 0:B.control)||void 0===L||!L.pending)}get isSubmitted(){var B;return!(null===(B=this._cd)||void 0===B||!B.submitted)}}let Qt=(()=>{class G extends lr{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(Hr,2))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,se){2&L&&f.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[f.qOj]}),G})(),mi=(()=>{class G extends lr{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,se){2&L&&f.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[f.qOj]}),G})();const rn="VALID",$n="INVALID",ti="PENDING",Gr="DISABLED";function kn(G){return(Re(G)?G.validators:G)||null}function Tr(G){return Array.isArray(G)?hr(G):G||null}function zi(G,B){return(Re(B)?B.asyncValidators:G)||null}function yi(G){return Array.isArray(G)?wr(G):G||null}function Re(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function Ae(G,B,L){const se=G.controls;if(!(B?Object.keys(se):se).length)throw new f.vHH(1e3,"");if(!se[L])throw new f.vHH(1001,"")}function Be(G,B,L){G._forEachChild((se,dt)=>{if(void 0===L[dt])throw new f.vHH(1002,"")})}class Et{constructor(B,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=L,this._composedValidatorFn=Tr(this._rawValidators),this._composedAsyncValidatorFn=yi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===rn}get invalid(){return this.status===$n}get pending(){return this.status==ti}get disabled(){return this.status===Gr}get enabled(){return this.status!==Gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Tr(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=yi(B)}addValidators(B){this.setValidators(Jr(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(Jr(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Br(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Br(B,this._rawAsyncValidators))}hasValidator(B){return gi(this._rawValidators,B)}hasAsyncValidator(B){return gi(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=ti,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const L=this._parentMarkedDirty(B.onlySelf);this.status=Gr,this.errors=null,this._forEachChild(se=>{se.disable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:L})),this._onDisabledChange.forEach(se=>se(!0))}enable(B={}){const L=this._parentMarkedDirty(B.onlySelf);this.status=rn,this._forEachChild(se=>{se.enable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:L})),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rn||this.status===ti)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gr:rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=ti,this._hasOwnPendingAsyncValidator=!0;const L=Nt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,L={}){this.errors=B,this._updateControlsErrors(!1!==L.emitEvent)}get(B){let L=B;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((se,dt)=>se&&se._find(dt),this)}getError(B,L){const se=L?this.get(L):this;return se&&se.errors?se.errors[B]:null}hasError(B,L){return!!this.getError(B,L)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Gr:this.errors?$n:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ti)?ti:this._anyControlsHaveStatus($n)?$n:rn}_anyControlsHaveStatus(B){return this._anyControls(L=>L.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Re(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}}class We extends Et{constructor(B,L,se){super(kn(L),zi(se,L)),this.controls=B,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,L){return this.controls[B]?this.controls[B]:(this.controls[B]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(B,L,se={}){this.registerControl(B,L),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(B,L={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(B,L,se={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],L&&this.registerControl(B,L),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,L={}){Be(this,0,B),Object.keys(B).forEach(se=>{Ae(this,!0,se),this.controls[se].setValue(B[se],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(B,L={}){null!=B&&(Object.keys(B).forEach(se=>{const dt=this.controls[se];dt&&dt.patchValue(B[se],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(B={},L={}){this._forEachChild((se,dt)=>{se.reset(B[dt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(B,L,se)=>(B[se]=L.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(L,se)=>!!se._syncPendingControls()||L);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(L=>{const se=this.controls[L];se&&B(se,L)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[L,se]of Object.entries(this.controls))if(this.contains(L)&&B(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,se,dt)=>((se.enabled||this.disabled)&&(L[dt]=se.value),L))}_reduceChildren(B,L){let se=B;return this._forEachChild((dt,sn)=>{se=L(se,dt,sn)}),se}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}class Un extends We{}function Ar(G,B){return[...B.path,G]}function He(G,B){var L,se;ut(G,B),B.valueAccessor.writeValue(G.value),G.disabled&&(null===(se=(L=B.valueAccessor).setDisabledState)||void 0===se||se.call(L,!0)),function un(G,B){B.valueAccessor.registerOnChange(L=>{G._pendingValue=L,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Le(G,B)})}(G,B),function gt(G,B){const L=(se,dt)=>{B.valueAccessor.writeValue(se),dt&&B.viewToModelUpdate(se)};G.registerOnChange(L),B._registerOnDestroy(()=>{G._unregisterOnChange(L)})}(G,B),function Pe(G,B){B.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Le(G,B),"submit"!==G.updateOn&&G.markAsTouched()})}(G,B),function Ue(G,B){if(B.valueAccessor.setDisabledState){const L=se=>{B.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(L),B._registerOnDestroy(()=>{G._unregisterOnDisabledChange(L)})}}(G,B)}function Se(G,B,L=!0){const se=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(se),B.valueAccessor.registerOnTouched(se)),ln(G,B),G&&(B._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function me(G,B){G.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(B)})}function ut(G,B){const L=Lr(G);null!==B.validator?G.setValidators(nr(L,B.validator)):"function"==typeof L&&G.setValidators([L]);const se=dr(G);null!==B.asyncValidator?G.setAsyncValidators(nr(se,B.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const dt=()=>G.updateValueAndValidity();me(B._rawValidators,dt),me(B._rawAsyncValidators,dt)}function ln(G,B){let L=!1;if(null!==G){if(null!==B.validator){const dt=Lr(G);if(Array.isArray(dt)&&dt.length>0){const sn=dt.filter(ci=>ci!==B.validator);sn.length!==dt.length&&(L=!0,G.setValidators(sn))}}if(null!==B.asyncValidator){const dt=dr(G);if(Array.isArray(dt)&&dt.length>0){const sn=dt.filter(ci=>ci!==B.asyncValidator);sn.length!==dt.length&&(L=!0,G.setAsyncValidators(sn))}}}const se=()=>{};return me(B._rawValidators,se),me(B._rawAsyncValidators,se),L}function Le(G,B){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Wt(G,B){ut(G,B)}function Yr(G,B){if(!G.hasOwnProperty("model"))return!1;const L=G.model;return!!L.isFirstChange()||!Object.is(B,L.currentValue)}function us(G,B){G._syncPendingControls(),B.forEach(L=>{const se=L.control;"submit"===se.updateOn&&se._pendingChange&&(L.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}function ni(G,B){if(!B)return null;let L,se,dt;return Array.isArray(B),B.forEach(sn=>{sn.constructor===Ke?L=sn:function Sn(G){return Object.getPrototypeOf(G.constructor)===re}(sn)?se=sn:dt=sn}),dt||se||L||null}const qn={provide:xr,useExisting:(0,f.Gpc)(()=>Mn)},rs=(()=>Promise.resolve())();let Mn=(()=>{class G extends xr{constructor(L,se){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new We({},hr(L),wr(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){rs.then(()=>{const se=this._findContainer(L.path);L.control=se.registerControl(L.name,L.control),He(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){rs.then(()=>{const se=this._findContainer(L.path);se&&se.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){rs.then(()=>{const se=this._findContainer(L.path),dt=new We({});Wt(dt,L),se.registerControl(L.name,dt),dt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){rs.then(()=>{const se=this._findContainer(L.path);se&&se.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,se){rs.then(()=>{this.form.get(L.path).setValue(se)})}setValue(L){this.control.setValue(L)}onSubmit(L){var se;return this.submitted=!0,us(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===(null===(se=null==L?void 0:L.target)||void 0===se?void 0:se.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(je,10),f.Y36(mt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,se){1&L&&f.NdJ("submit",function(sn){return se.onSubmit(sn)})("reset",function(){return se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([qn]),f.qOj]}),G})();function On(G,B){const L=G.indexOf(B);L>-1&&G.splice(L,1)}function In(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const _i=class extends Et{constructor(B=null,L,se){super(kn(L),zi(se,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Re(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=In(B)?B.value:B)}setValue(B,L={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(B,L={}){this.setValue(B,L)}reset(B=this.defaultValue,L={}){this._applyFormState(B),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){On(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){On(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){In(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}};let so=(()=>{class G extends xr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ar(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,features:[f.qOj]}),G})();const Fr={provide:xr,useExisting:(0,f.Gpc)(()=>Ni)};let Ni=(()=>{class G extends so{constructor(L,se,dt){super(),this._parent=L,this._setValidators(se),this._setAsyncValidators(dt)}_checkParentType(){}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,5),f.Y36(je,10),f.Y36(mt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[f._Bn([Fr]),f.qOj]}),G})();const we={provide:Hr,useExisting:(0,f.Gpc)(()=>Qe)},it=(()=>Promise.resolve())();let Qe=(()=>{class G extends Hr{constructor(L,se,dt,sn,ci){super(),this._changeDetectorRef=ci,this.control=new _i,this._registered=!1,this.update=new f.vpe,this._parent=L,this._setValidators(se),this._setAsyncValidators(dt),this.valueAccessor=ni(0,sn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const se=L.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Yr(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){He(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){it.then(()=>{var se;this.control.setValue(L,{emitViewToModelChange:!1}),null===(se=this._changeDetectorRef)||void 0===se||se.markForCheck()})}_updateDisabled(L){const se=L.isDisabled.currentValue,dt=0!==se&&(0,f.D6c)(se);it.then(()=>{var sn;dt&&!this.control.disabled?this.control.disable():!dt&&this.control.disabled&&this.control.enable(),null===(sn=this._changeDetectorRef)||void 0===sn||sn.markForCheck()})}_getPath(L){return this._parent?Ar(L,this._parent):[L]}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,9),f.Y36(je,10),f.Y36(mt,10),f.Y36(q,10),f.Y36(f.sBO,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([we]),f.qOj,f.TTD]}),G})(),yt=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=f.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})();const tn={provide:q,useExisting:(0,f.Gpc)(()=>kt),multi:!0};let kt=(()=>{class G extends re{writeValue(L){this.setProperty("value",null==L?"":L)}registerOnChange(L){this.onChange=se=>{L(""==se?null:parseFloat(se))}}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,se){1&L&&f.NdJ("input",function(sn){return se.onChange(sn.target.value)})("blur",function(){return se.onTouched()})},features:[f._Bn([tn]),f.qOj]}),G})();const Gn={provide:q,useExisting:(0,f.Gpc)(()=>Dr),multi:!0};let Nr=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({}),G})(),Li=(()=>{class G{constructor(){this._accessors=[]}add(L,se){this._accessors.push([L,se])}remove(L){for(let se=this._accessors.length-1;se>=0;--se)if(this._accessors[se][1]===L)return void this._accessors.splice(se,1)}select(L){this._accessors.forEach(se=>{this._isSameGroup(se,L)&&se[1]!==L&&se[1].fireUncheck(L.value)})}_isSameGroup(L,se){return!!L[0].control&&L[0]._parent===se._control._parent&&L[1].name===se.name}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:Nr}),G})(),Dr=(()=>{class G extends re{constructor(L,se,dt,sn){super(L,se),this._registry=dt,this._injector=sn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Hr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Li),f.Y36(f.zs3))},G.\u0275dir=f.lG2({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(L,se){1&L&&f.NdJ("change",function(){return se.onChange()})("blur",function(){return se.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f._Bn([Gn]),f.qOj]}),G})();const Qr={provide:q,useExisting:(0,f.Gpc)(()=>cs),multi:!0};let cs=(()=>{class G extends re{writeValue(L){this.setProperty("value",parseFloat(L))}registerOnChange(L){this.onChange=se=>{L(""==se?null:parseFloat(se))}}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(L,se){1&L&&f.NdJ("change",function(sn){return se.onChange(sn.target.value)})("input",function(sn){return se.onChange(sn.target.value)})("blur",function(){return se.onTouched()})},features:[f._Bn([Qr]),f.qOj]}),G})();const ds=new f.OlP("NgModelWithFormControlWarning"),Us={provide:Hr,useExisting:(0,f.Gpc)(()=>oo)};let oo=(()=>{class G extends Hr{constructor(L,se,dt,sn){super(),this._ngModelWarningConfig=sn,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(se),this.valueAccessor=ni(0,dt)}set isDisabled(L){}ngOnChanges(L){if(this._isControlChanged(L)){const se=L.form.previousValue;se&&Se(se,this,!1),He(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Yr(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Se(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(L){return new(L||G)(f.Y36(je,10),f.Y36(mt,10),f.Y36(q,10),f.Y36(ds,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([Us]),f.qOj,f.TTD]}),G})();const Xn={provide:xr,useExisting:(0,f.Gpc)(()=>To)};let To=(()=>{class G extends xr{constructor(L,se){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(L),this._setAsyncValidators(se)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ln(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const se=this.form.get(L.path);return He(se,L),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),se}getControl(L){return this.form.get(L.path)}removeControl(L){Se(L.control||null,L,!1),function Mi(G,B){const L=G.indexOf(B);L>-1&&G.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,se){this.form.get(L.path).setValue(se)}onSubmit(L){var se;return this.submitted=!0,us(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null===(se=null==L?void 0:L.target)||void 0===se?void 0:se.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const se=L.control,dt=this.form.get(L.path);se!==dt&&(Se(se||null,L),(G=>G instanceof _i)(dt)&&(He(dt,L),L.control=dt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const se=this.form.get(L.path);Wt(se,L),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const se=this.form.get(L.path);se&&function Dn(G,B){return ln(G,B)}(se,L)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ut(this.form,this),this._oldForm&&ln(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(je,10),f.Y36(mt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(L,se){1&L&&f.NdJ("submit",function(sn){return se.onSubmit(sn)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Xn]),f.qOj,f.TTD]}),G})();const ao={provide:xr,useExisting:(0,f.Gpc)(()=>hs)};let hs=(()=>{class G extends so{constructor(L,se,dt){super(),this._parent=L,this._setValidators(se),this._setAsyncValidators(dt)}_checkParentType(){Ei(this._parent)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,13),f.Y36(je,10),f.Y36(mt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([ao]),f.qOj]}),G})();const Fi={provide:xr,useExisting:(0,f.Gpc)(()=>Os)};let Os=(()=>{class G extends xr{constructor(L,se,dt){super(),this._parent=L,this._setValidators(se),this._setAsyncValidators(dt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ar(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ei(this._parent)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,13),f.Y36(je,10),f.Y36(mt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Fi]),f.qOj]}),G})();function Ei(G){return!(G instanceof hs||G instanceof To||G instanceof Os)}const Qs={provide:Hr,useExisting:(0,f.Gpc)(()=>er)};let er=(()=>{class G extends Hr{constructor(L,se,dt,sn,ci){super(),this._ngModelWarningConfig=ci,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(se),this._setAsyncValidators(dt),this.valueAccessor=ni(0,sn)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),Yr(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Ar(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,13),f.Y36(je,10),f.Y36(mt,10),f.Y36(q,10),f.Y36(ds,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Qs]),f.qOj,f.TTD]}),G})();const Ps={provide:q,useExisting:(0,f.Gpc)(()=>Ro),multi:!0};function ys(G,B){return null==G?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${G}: ${B}`.slice(0,50))}let Ro=(()=>{class G extends re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const dt=ys(this._getOptionId(L),L);this.setProperty("value",dt)}registerOnChange(L){this.onChange=se=>{this.value=this._getOptionValue(se),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se),L))return se;return null}_getOptionValue(L){const se=function lo(G){return G.split(":")[0]}(L);return this._optionMap.has(se)?this._optionMap.get(se):L}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,se){1&L&&f.NdJ("change",function(sn){return se.onChange(sn.target.value)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Ps]),f.qOj]}),G})(),uo=(()=>{class G{constructor(L,se,dt){this._element=L,this._renderer=se,this._select=dt,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(ys(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Ro,9))},G.\u0275dir=f.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();const ca={provide:q,useExisting:(0,f.Gpc)(()=>ri),multi:!0};function mo(G,B){return null==G?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${G}: ${B}`.slice(0,50))}let ri=(()=>{class G extends re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let se;if(this.value=L,Array.isArray(L)){const dt=L.map(sn=>this._getOptionId(sn));se=(sn,ci)=>{sn._setSelected(dt.indexOf(ci.toString())>-1)}}else se=(dt,sn)=>{dt._setSelected(!1)};this._optionMap.forEach(se)}registerOnChange(L){this.onChange=se=>{const dt=[],sn=se.selectedOptions;if(void 0!==sn){const ci=sn;for(let is=0;is<ci.length;is++){const Kr=this._getOptionValue(ci[is].value);dt.push(Kr)}}else{const ci=se.options;for(let is=0;is<ci.length;is++){const co=ci[is];if(co.selected){const Kr=this._getOptionValue(co.value);dt.push(Kr)}}}this.value=dt,L(dt)}}_registerOption(L){const se=(this._idCounter++).toString();return this._optionMap.set(se,L),se}_getOptionId(L){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se)._value,L))return se;return null}_getOptionValue(L){const se=function Yi(G){return G.split(":")[0]}(L);return this._optionMap.has(se)?this._optionMap.get(se)._value:L}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,se){1&L&&f.NdJ("change",function(sn){return se.onChange(sn.target)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([ca]),f.qOj]}),G})(),_s=(()=>{class G{constructor(L,se,dt){this._element=L,this._renderer=se,this._select=dt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(mo(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(mo(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ri,9))},G.\u0275dir=f.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();function Ya(G){return"number"==typeof G?G:parseInt(G,10)}function Qa(G){return"number"==typeof G?G:parseFloat(G)}let kr=(()=>{class G{constructor(){this._validator=ot}ngOnChanges(L){if(this.inputName in L){const se=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):ot,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=f.lG2({type:G,features:[f.TTD]}),G})();const Xo={provide:je,useExisting:(0,f.Gpc)(()=>bi),multi:!0};let bi=(()=>{class G extends kr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>Qa(L),this.createValidator=L=>Dt(L)}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,se){2&L&&f.uIk("max",se._enabled?se.max:null)},inputs:{max:"max"},features:[f._Bn([Xo]),f.qOj]}),G})();const xo={provide:je,useExisting:(0,f.Gpc)(()=>wa),multi:!0};let wa=(()=>{class G extends kr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>Qa(L),this.createValidator=L=>ke(L)}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,se){2&L&&f.uIk("min",se._enabled?se.min:null)},inputs:{min:"min"},features:[f._Bn([xo]),f.qOj]}),G})();const qs={provide:je,useExisting:(0,f.Gpc)(()=>Di),multi:!0};let Di=(()=>{class G extends kr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=L=>Tt}enabled(L){return L}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,se){2&L&&f.uIk("required",se._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([qs]),f.qOj]}),G})();const Ta={provide:je,useExisting:(0,f.Gpc)(()=>Pr),multi:!0};let Pr=(()=>{class G extends kr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=L=>Ya(L),this.createValidator=L=>Pt(L)}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(L,se){2&L&&f.uIk("minlength",se._enabled?se.minlength:null)},inputs:{minlength:"minlength"},features:[f._Bn([Ta]),f.qOj]}),G})();const Sa={provide:je,useExisting:(0,f.Gpc)(()=>Vs),multi:!0};let Vs=(()=>{class G extends kr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=L=>Ya(L),this.createValidator=L=>tt(L)}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(L,se){2&L&&f.uIk("maxlength",se._enabled?se.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([Sa]),f.qOj]}),G})();const ta={provide:je,useExisting:(0,f.Gpc)(()=>Bs),multi:!0};let Bs=(()=>{class G extends kr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=L=>L,this.createValidator=L=>Ze(L)}}return G.\u0275fac=function(){let B;return function(se){return(B||(B=f.n5z(G)))(se||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(L,se){2&L&&f.uIk("pattern",se._enabled?se.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([ta]),f.qOj]}),G})(),ba=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[Nr]}),G})(),vs=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[ba]}),G})(),Es=(()=>{class G{static withConfig(L){return{ngModule:G,providers:[{provide:ds,useValue:L.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[ba]}),G})();class yo extends Et{constructor(B,L,se){super(kn(L),zi(se,L)),this.controls=B,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[this._adjustIndex(B)]}push(B,L={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(B,L,se={}){this.controls.splice(B,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(B,L={}){let se=this._adjustIndex(B);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(B,L,se={}){let dt=this._adjustIndex(B);dt<0&&(dt=0),this.controls[dt]&&this.controls[dt]._registerOnCollectionChange(()=>{}),this.controls.splice(dt,1),L&&(this.controls.splice(dt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,L={}){Be(this,0,B),B.forEach((se,dt)=>{Ae(this,!1,dt),this.at(dt).setValue(se,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(B,L={}){null!=B&&(B.forEach((se,dt)=>{this.at(dt)&&this.at(dt).patchValue(se,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(B=[],L={}){this._forEachChild((se,dt)=>{se.reset(B[dt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(B=>B.getRawValue())}clear(B={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_adjustIndex(B){return B<0?B+this.length:B}_syncPendingControls(){let B=this.controls.reduce((L,se)=>!!se._syncPendingControls()||L,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((L,se)=>{B(L,se)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(L=>L.enabled&&B(L))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}_find(B){var L;return null!==(L=this.at(B))&&void 0!==L?L:null}}function At(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Cr=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new G;return L.useNonNullable=!0,L}group(L,se=null){const dt=this._reduceControls(L);let sn={};return At(se)?sn=se:null!==se&&(sn.validators=se.validator,sn.asyncValidators=se.asyncValidator),new We(dt,sn)}record(L,se=null){const dt=this._reduceControls(L);return new Un(dt,se)}control(L,se,dt){let sn={};return this.useNonNullable?(At(se)?sn=se:(sn.validators=se,sn.asyncValidators=dt),new _i(L,Object.assign(Object.assign({},sn),{nonNullable:!0}))):new _i(L,se,dt)}array(L,se,dt){const sn=L.map(ci=>this._createControl(ci));return new yo(sn,se,dt)}_reduceControls(L){const se={};return Object.keys(L).forEach(dt=>{se[dt]=this._createControl(L[dt])}),se}_createControl(L){return L instanceof _i||L instanceof Et?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:Es}),G})()},2313:(Ce,ae,D)=>{D.d(ae,{Dx:()=>$e,H7:()=>en,b2:()=>Si,h_:()=>Ki,q6:()=>yr,se:()=>et});var f=D(9808),S=D(5e3);class ne extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends ne{static makeCurrent(){(0,f.HT)(new H)}onAndCancel(Se,me,Ue){return Se.addEventListener(me,Ue,!1),()=>{Se.removeEventListener(me,Ue,!1)}}dispatchEvent(Se,me){Se.dispatchEvent(me)}remove(Se){Se.parentNode&&Se.parentNode.removeChild(Se)}createElement(Se,me){return(me=me||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,me){return"window"===me?window:"document"===me?Se:"body"===me?Se.body:null}getBaseHref(Se){const me=function de(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==me?null:function q(He){re=re||document.createElement("a"),re.setAttribute("href",He);const Se=re.pathname;return"/"===Se.charAt(0)?Se:`/${Se}`}(me)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,f.Mx)(document.cookie,Se)}}let re,Q=null;const he=new S.OlP("TRANSITION_ID"),ee=[{provide:S.ip1,useFactory:function Z(He,Se,me){return()=>{me.get(S.CZH).donePromise.then(()=>{const Ue=(0,f.q)(),ut=Se.querySelectorAll(`style[ng-transition="${He}"]`);for(let ln=0;ln<ut.length;ln++)Ue.remove(ut[ln])})}},deps:[he,f.K0,S.zs3],multi:!0}];let Ne=(()=>{class He{build(){return new XMLHttpRequest}}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const Ke=new S.OlP("EventManagerPlugins");let Ie=(()=>{class He{constructor(me,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,me.forEach(ut=>ut.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,Ue,ut){return this._findPluginFor(Ue).addEventListener(me,Ue,ut)}addGlobalEventListener(me,Ue,ut){return this._findPluginFor(Ue).addGlobalEventListener(me,Ue,ut)}getZone(){return this._zone}_findPluginFor(me){const Ue=this._eventNameToPlugin.get(me);if(Ue)return Ue;const ut=this._plugins;for(let ln=0;ln<ut.length;ln++){const un=ut[ln];if(un.supports(me))return this._eventNameToPlugin.set(me,un),un}throw new Error(`No event manager plugin found for event ${me}`)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(Ke),S.LFG(S.R0b))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();class ze{constructor(Se){this._doc=Se}addGlobalEventListener(Se,me,Ue){const ut=(0,f.q)().getGlobalEventTarget(this._doc,Se);if(!ut)throw new Error(`Unsupported event target ${ut} for event ${me}`);return this.addEventListener(ut,me,Ue)}}let Ge=(()=>{class He{constructor(){this._stylesSet=new Set}addStyles(me){const Ue=new Set;me.forEach(ut=>{this._stylesSet.has(ut)||(this._stylesSet.add(ut),Ue.add(ut))}),this.onStylesAdded(Ue)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})(),je=(()=>{class He extends Ge{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,Ue,ut){me.forEach(ln=>{const un=this._doc.createElement("style");un.textContent=ln,ut.push(Ue.appendChild(un))})}addHost(me){const Ue=[];this._addStylesToHost(this._stylesSet,me,Ue),this._hostNodes.set(me,Ue)}removeHost(me){const Ue=this._hostNodes.get(me);Ue&&Ue.forEach(mt),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((Ue,ut)=>{this._addStylesToHost(me,ut,Ue)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(mt))}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();function mt(He){(0,f.q)().remove(He)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qe=/%COMP%/g;function tt(He,Se,me){for(let Ue=0;Ue<Se.length;Ue++){let ut=Se[Ue];Array.isArray(ut)?tt(He,ut,me):(ut=ut.replace(qe,He),me.push(ut))}return me}function Ze(He){return Se=>{if("__ngUnwrap__"===Se)return He;!1===He(Se)&&(Se.preventDefault(),Se.returnValue=!1)}}let et=(()=>{class He{constructor(me,Ue,ut){this.eventManager=me,this.sharedStylesHost=Ue,this.appId=ut,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(me)}createRenderer(me,Ue){if(!me||!Ue)return this.defaultRenderer;switch(Ue.encapsulation){case S.ifc.Emulated:{let ut=this.rendererByCompId.get(Ue.id);return ut||(ut=new Yt(this.eventManager,this.sharedStylesHost,Ue,this.appId),this.rendererByCompId.set(Ue.id,ut)),ut.applyToHost(me),ut}case 1:case S.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,me,Ue);default:if(!this.rendererByCompId.has(Ue.id)){const ut=tt(Ue.id,Ue.styles,[]);this.sharedStylesHost.addStyles(ut),this.rendererByCompId.set(Ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(Ie),S.LFG(je),S.LFG(S.AFp))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();class Nt{constructor(Se){this.eventManager=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Se,me){return me?document.createElementNS(xt[me]||me,Se):document.createElement(Se)}createComment(Se){return document.createComment(Se)}createText(Se){return document.createTextNode(Se)}appendChild(Se,me){(Fn(Se)?Se.content:Se).appendChild(me)}insertBefore(Se,me,Ue){Se&&(Fn(Se)?Se.content:Se).insertBefore(me,Ue)}removeChild(Se,me){Se&&Se.removeChild(me)}selectRootElement(Se,me){let Ue="string"==typeof Se?document.querySelector(Se):Se;if(!Ue)throw new Error(`The selector "${Se}" did not match any elements`);return me||(Ue.textContent=""),Ue}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,me,Ue,ut){if(ut){me=ut+":"+me;const ln=xt[ut];ln?Se.setAttributeNS(ln,me,Ue):Se.setAttribute(me,Ue)}else Se.setAttribute(me,Ue)}removeAttribute(Se,me,Ue){if(Ue){const ut=xt[Ue];ut?Se.removeAttributeNS(ut,me):Se.removeAttribute(`${Ue}:${me}`)}else Se.removeAttribute(me)}addClass(Se,me){Se.classList.add(me)}removeClass(Se,me){Se.classList.remove(me)}setStyle(Se,me,Ue,ut){ut&(S.JOm.DashCase|S.JOm.Important)?Se.style.setProperty(me,Ue,ut&S.JOm.Important?"important":""):Se.style[me]=Ue}removeStyle(Se,me,Ue){Ue&S.JOm.DashCase?Se.style.removeProperty(me):Se.style[me]=""}setProperty(Se,me,Ue){Se[me]=Ue}setValue(Se,me){Se.nodeValue=me}listen(Se,me,Ue){return"string"==typeof Se?this.eventManager.addGlobalEventListener(Se,me,Ze(Ue)):this.eventManager.addEventListener(Se,me,Ze(Ue))}}function Fn(He){return"TEMPLATE"===He.tagName&&void 0!==He.content}class Yt extends Nt{constructor(Se,me,Ue,ut){super(Se),this.component=Ue;const ln=tt(ut+"-"+Ue.id,Ue.styles,[]);me.addStyles(ln),this.contentAttr=function Gt(He){return"_ngcontent-%COMP%".replace(qe,He)}(ut+"-"+Ue.id),this.hostAttr=function Pt(He){return"_nghost-%COMP%".replace(qe,He)}(ut+"-"+Ue.id)}applyToHost(Se){super.setAttribute(Se,this.hostAttr,"")}createElement(Se,me){const Ue=super.createElement(Se,me);return super.setAttribute(Ue,this.contentAttr,""),Ue}}class Mt extends Nt{constructor(Se,me,Ue,ut){super(Se),this.sharedStylesHost=me,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ln=tt(ut.id,ut.styles,[]);for(let un=0;un<ln.length;un++){const Pe=document.createElement("style");Pe.textContent=ln[un],this.shadowRoot.appendChild(Pe)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Se,me){return super.appendChild(this.nodeOrShadowRoot(Se),me)}insertBefore(Se,me,Ue){return super.insertBefore(this.nodeOrShadowRoot(Se),me,Ue)}removeChild(Se,me){return super.removeChild(this.nodeOrShadowRoot(Se),me)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}}let hr=(()=>{class He extends ze{constructor(me){super(me)}supports(me){return!0}addEventListener(me,Ue,ut){return me.addEventListener(Ue,ut,!1),()=>this.removeEventListener(me,Ue,ut)}removeEventListener(me,Ue,ut){return me.removeEventListener(Ue,ut)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const Ur=["alt","control","meta","shift"],wr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let Lr=(()=>{class He extends ze{constructor(me){super(me)}supports(me){return null!=He.parseEventName(me)}addEventListener(me,Ue,ut){const ln=He.parseEventName(Ue),un=He.eventCallback(ln.fullKey,ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(me,ln.domEventName,un))}static parseEventName(me){const Ue=me.toLowerCase().split("."),ut=Ue.shift();if(0===Ue.length||"keydown"!==ut&&"keyup"!==ut)return null;const ln=He._normalizeKey(Ue.pop());let un="",Pe=Ue.indexOf("code");if(Pe>-1&&(Ue.splice(Pe,1),un="code."),Ur.forEach(gt=>{const Wt=Ue.indexOf(gt);Wt>-1&&(Ue.splice(Wt,1),un+=gt+".")}),un+=ln,0!=Ue.length||0===ln.length)return null;const Le={};return Le.domEventName=ut,Le.fullKey=un,Le}static matchEventFullKeyCode(me,Ue){let ut=wr[me.key]||me.key,ln="";return Ue.indexOf("code.")>-1&&(ut=me.code,ln="code."),!(null==ut||!ut)&&(ut=ut.toLowerCase()," "===ut?ut="space":"."===ut&&(ut="dot"),Ur.forEach(un=>{un!==ut&&(0,nr[un])(me)&&(ln+=un+".")}),ln+=ut,ln===Ue)}static eventCallback(me,Ue,ut){return ln=>{He.matchEventFullKeyCode(ln,me)&&ut.runGuarded(()=>Ue(ln))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const yr=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:f.bD},{provide:S.g9A,useValue:function Xr(){H.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function xr(){return(0,S.RDi)(document),document},deps:[]}]),ls=new S.OlP(""),Qt=[{provide:S.rWj,useClass:class le{addToWindow(Se){S.dqk.getAngularTestability=(Ue,ut=!0)=>{const ln=Se.findTestabilityInTree(Ue,ut);if(null==ln)throw new Error("Could not find testability for element.");return ln},S.dqk.getAllAngularTestabilities=()=>Se.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>Se.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(Ue=>{const ut=S.dqk.getAllAngularTestabilities();let ln=ut.length,un=!1;const Pe=function(Le){un=un||Le,ln--,0==ln&&Ue(un)};ut.forEach(function(Le){Le.whenStable(Pe)})})}findTestabilityInTree(Se,me,Ue){if(null==me)return null;const ut=Se.getTestability(me);return null!=ut?ut:Ue?(0,f.q)().isShadowRoot(me)?this.findTestabilityInTree(Se,me.host,!0):this.findTestabilityInTree(Se,me.parentElement,!0):null}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],mi=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function Hr(){return new S.qLn},deps:[]},{provide:Ke,useClass:hr,multi:!0,deps:[f.K0,S.R0b,S.Lbi]},{provide:Ke,useClass:Lr,multi:!0,deps:[f.K0]},{provide:et,useClass:et,deps:[Ie,je,S.AFp]},{provide:S.FYo,useExisting:et},{provide:Ge,useExisting:je},{provide:je,useClass:je,deps:[f.K0]},{provide:Ie,useClass:Ie,deps:[Ke,S.R0b]},{provide:f.JF,useClass:Ne,deps:[]},[]];let Si=(()=>{class He{constructor(me){}static withServerTransition(me){return{ngModule:He,providers:[{provide:S.AFp,useValue:me.appId},{provide:he,useExisting:S.AFp},ee]}}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(ls,12))},He.\u0275mod=S.oAB({type:He}),He.\u0275inj=S.cJS({providers:[...mi,...Qt],imports:[f.ez,S.hGG]}),He})(),Ki=(()=>{class He{constructor(me){this._doc=me,this._dom=(0,f.q)()}addTag(me,Ue=!1){return me?this._getOrCreateElement(me,Ue):null}addTags(me,Ue=!1){return me?me.reduce((ut,ln)=>(ln&&ut.push(this._getOrCreateElement(ln,Ue)),ut),[]):[]}getTag(me){return me&&this._doc.querySelector(`meta[${me}]`)||null}getTags(me){if(!me)return[];const Ue=this._doc.querySelectorAll(`meta[${me}]`);return Ue?[].slice.call(Ue):[]}updateTag(me,Ue){if(!me)return null;Ue=Ue||this._parseSelector(me);const ut=this.getTag(Ue);return ut?this._setMetaElementAttributes(me,ut):this._getOrCreateElement(me,!0)}removeTag(me){this.removeTagElement(this.getTag(me))}removeTagElement(me){me&&this._dom.remove(me)}_getOrCreateElement(me,Ue=!1){if(!Ue){const un=this._parseSelector(me),Pe=this.getTags(un).filter(Le=>this._containsAttributes(me,Le))[0];if(void 0!==Pe)return Pe}const ut=this._dom.createElement("meta");return this._setMetaElementAttributes(me,ut),this._doc.getElementsByTagName("head")[0].appendChild(ut),ut}_setMetaElementAttributes(me,Ue){return Object.keys(me).forEach(ut=>Ue.setAttribute(this._getMetaKeyMap(ut),me[ut])),Ue}_parseSelector(me){const Ue=me.name?"name":"property";return`${Ue}="${me[Ue]}"`}_containsAttributes(me,Ue){return Object.keys(me).every(ut=>Ue.getAttribute(this._getMetaKeyMap(ut))===me[ut])}_getMetaKeyMap(me){return oi[me]||me}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let Ue=null;return Ue=me?new me:function Er(){return new Ki((0,S.LFG)(f.K0))}(),Ue},providedIn:"root"}),He})();const oi={httpEquiv:"http-equiv"};let $e=(()=>{class He{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let Ue=null;return Ue=me?new me:function br(){return new $e((0,S.LFG)(f.K0))}(),Ue},providedIn:"root"}),He})();"undefined"!=typeof window&&window;let en=(()=>{class He{}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:function(me){let Ue=null;return Ue=me?new(me||He):S.LFG(or),Ue},providedIn:"root"}),He})(),or=(()=>{class He extends en{constructor(me){super(),this._doc=me}sanitize(me,Ue){if(null==Ue)return null;switch(me){case S.q3G.NONE:return Ue;case S.q3G.HTML:return(0,S.qzn)(Ue,"HTML")?(0,S.z3N)(Ue):(0,S.EiD)(this._doc,String(Ue)).toString();case S.q3G.STYLE:return(0,S.qzn)(Ue,"Style")?(0,S.z3N)(Ue):Ue;case S.q3G.SCRIPT:if((0,S.qzn)(Ue,"Script"))return(0,S.z3N)(Ue);throw new Error("unsafe value used in a script context");case S.q3G.URL:return(0,S.qzn)(Ue,"URL")?(0,S.z3N)(Ue):(0,S.mCW)(String(Ue));case S.q3G.RESOURCE_URL:if((0,S.qzn)(Ue,"ResourceURL"))return(0,S.z3N)(Ue);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${me} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(me){return(0,S.JVY)(me)}bypassSecurityTrustStyle(me){return(0,S.L6k)(me)}bypassSecurityTrustScript(me){return(0,S.eBb)(me)}bypassSecurityTrustUrl(me){return(0,S.LAX)(me)}bypassSecurityTrustResourceUrl(me){return(0,S.pB0)(me)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let Ue=null;return Ue=me?new me:function Un(He){return new or(He.get(f.K0))}(S.LFG(S.zs3)),Ue},providedIn:"root"}),He})()},4202:(Ce,ae,D)=>{D.d(ae,{Bz:()=>Ji,F0:()=>os,OD:()=>rs,Od:()=>Ao,Q3:()=>In,gk:()=>On,gz:()=>Qr,lC:()=>Yi,m2:()=>Mn,rH:()=>jo,wN:()=>ol,yS:()=>ia});var f=D(5e3),S=D(457),ne=D(9646),H=D(1135),Q=D(6805),de=D(9841),re=D(7272),q=D(9770),he=D(9635),Z=D(2843),ee=D(9751),le=D(515),Ne=D(4033),Ke=D(7579),Ie=D(9808),ze=D(4004),Ge=D(3900),je=D(5698),mt=D(8675),xt=D(9300),qe=D(5577),ke=D(590),Dt=D(4351),Tt=D(8505),Kt=D(262),Gt=D(5026),Pt=D(3103),tt=D(2529),Ze=D(6590),ot=D(2035),et=D(9718),Nt=D(8746),St=D(8343),ht=D(8189),Fn=D(2313);const Yt="primary",Mt=Symbol("RouteTitle");class hr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Ur(M){return new hr(M)}function wr(M,O,T){const F=T.path.split("/");if(F.length>M.length||"full"===T.pathMatch&&(O.hasChildren()||F.length<M.length))return null;const $={};for(let ie=0;ie<F.length;ie++){const _e=F[ie],Te=M[ie];if(_e.startsWith(":"))$[_e.substring(1)]=Te;else if(_e!==Te.path)return null}return{consumed:M.slice(0,F.length),posParams:$}}function Lr(M,O){const T=M?Object.keys(M):void 0,F=O?Object.keys(O):void 0;if(!T||!F||T.length!=F.length)return!1;let $;for(let ie=0;ie<T.length;ie++)if($=T[ie],!dr(M[$],O[$]))return!1;return!0}function dr(M,O){if(Array.isArray(M)&&Array.isArray(O)){if(M.length!==O.length)return!1;const T=[...M].sort(),F=[...O].sort();return T.every(($,ie)=>F[ie]===$)}return M===O}function Ti(M){return Array.prototype.concat.apply([],M)}function gi(M){return M.length>0?M[M.length-1]:null}function Br(M,O){for(const T in M)M.hasOwnProperty(T)&&O(M[T],T)}function Xr(M){return(0,f.CqO)(M)?M:(0,f.QGY)(M)?(0,S.D)(Promise.resolve(M)):(0,ne.of)(M)}const lr={exact:function mi(M,O,T){if(!nt(M.segments,O.segments)||!oi(M.segments,O.segments,T)||M.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!M.children[F]||!mi(M.children[F],O.children[F],T))return!1;return!0},subset:Er},yr={exact:function Qt(M,O){return Lr(M,O)},subset:function Si(M,O){return Object.keys(O).length<=Object.keys(M).length&&Object.keys(O).every(T=>dr(M[T],O[T]))},ignored:()=>!0};function ls(M,O,T){return lr[T.paths](M.root,O.root,T.matrixParams)&&yr[T.queryParams](M.queryParams,O.queryParams)&&!("exact"===T.fragment&&M.fragment!==O.fragment)}function Er(M,O,T){return Ki(M,O,O.segments,T)}function Ki(M,O,T,F){if(M.segments.length>T.length){const $=M.segments.slice(0,T.length);return!(!nt($,T)||O.hasChildren()||!oi($,T,F))}if(M.segments.length===T.length){if(!nt(M.segments,T)||!oi(M.segments,T,F))return!1;for(const $ in O.children)if(!M.children[$]||!Er(M.children[$],O.children[$],F))return!1;return!0}{const $=T.slice(0,M.segments.length),ie=T.slice(M.segments.length);return!!(nt(M.segments,$)&&oi(M.segments,$,F)&&M.children[Yt])&&Ki(M.children[Yt],O,ie,F)}}function oi(M,O,T){return O.every((F,$)=>yr[T](M[$].parameters,F.parameters))}class br{constructor(O,T,F){this.root=O,this.queryParams=T,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ur(this.queryParams)),this._queryParamMap}toString(){return rr.serialize(this)}}class $e{constructor(O,T){this.segments=O,this.children=T,this.parent=null,Br(T,(F,$)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ft(this)}}class Oe{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Ur(this.parameters)),this._parameterMap}toString(){return Gr(this)}}function nt(M,O){return M.length===O.length&&M.every((T,F)=>T.path===O[F].path)}let dn=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return new on},providedIn:"root"}),M})();class on{parse(O){const T=new We(O);return new br(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${Hn(O.root,!0)}`,F=function Tr(M){const O=Object.keys(M).map(T=>{const F=M[T];return Array.isArray(F)?F.map($=>`${$r(T)}=${$r($)}`).join("&"):`${$r(T)}=${$r(F)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${F}${"string"==typeof O.fragment?`#${function xn(M){return encodeURI(M)}(O.fragment)}`:""}`}}const rr=new on;function Ft(M){return M.segments.map(O=>Gr(O)).join("/")}function Hn(M,O){if(!M.hasChildren())return Ft(M);if(O){const T=M.children[Yt]?Hn(M.children[Yt],!1):"",F=[];return Br(M.children,($,ie)=>{ie!==Yt&&F.push(`${ie}:${Hn($,!1)}`)}),F.length>0?`${T}(${F.join("//")})`:T}{const T=function pt(M,O){let T=[];return Br(M.children,(F,$)=>{$===Yt&&(T=T.concat(O(F,$)))}),Br(M.children,(F,$)=>{$!==Yt&&(T=T.concat(O(F,$)))}),T}(M,(F,$)=>$===Yt?[Hn(M.children[Yt],!1)]:[`${$}:${Hn(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Yt]?`${Ft(M)}/${T[0]}`:`${Ft(M)}/(${T.join("//")})`}}function zn(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $r(M){return zn(M).replace(/%3B/gi,";")}function rn(M){return zn(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $n(M){return decodeURIComponent(M)}function ti(M){return $n(M.replace(/\+/g,"%20"))}function Gr(M){return`${rn(M.path)}${function kn(M){return Object.keys(M).map(O=>`;${rn(O)}=${rn(M[O])}`).join("")}(M.parameters)}`}const zi=/^[^\/()?;=#]+/;function yi(M){const O=M.match(zi);return O?O[0]:""}const Re=/^[^=?&#]+/,Be=/^[^&#]+/;class We{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(F[Yt]=new $e(O,T)),F}parseSegment(){const O=yi(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Oe($n(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=yi(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const $=yi(this.remaining);$&&(F=$,this.capture(F))}O[$n(T)]=$n(F)}parseQueryParam(O){const T=function Ae(M){const O=M.match(Re);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const _e=function Et(M){const O=M.match(Be);return O?O[0]:""}(this.remaining);_e&&(F=_e,this.capture(F))}const $=ti(T),ie=ti(F);if(O.hasOwnProperty($)){let _e=O[$];Array.isArray(_e)||(_e=[_e],O[$]=_e),_e.push(ie)}else O[$]=ie}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=yi(this.remaining),$=this.remaining[F.length];if("/"!==$&&")"!==$&&";"!==$)throw new f.vHH(4010,!1);let ie;F.indexOf(":")>-1?(ie=F.slice(0,F.indexOf(":")),this.capture(ie),this.capture(":")):O&&(ie=Yt);const _e=this.parseChildren();T[ie]=1===Object.keys(_e).length?_e[Yt]:new $e([],_e),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function $t(M){return M.segments.length>0?new $e([],{[Yt]:M}):M}function en(M){const O={};for(const F of Object.keys(M.children)){const ie=en(M.children[F]);(ie.segments.length>0||ie.hasChildren())&&(O[F]=ie)}return function Un(M){if(1===M.numberOfChildren&&M.children[Yt]){const O=M.children[Yt];return new $e(M.segments.concat(O.segments),O.children)}return M}(new $e(M.segments,O))}function or(M){return M instanceof br}function Ue(M,O,T,F,$){var ie;if(0===T.length)return un(O.root,O.root,O.root,F,$);const Te=function gt(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Le(!0,0,M);let O=0,T=!1;const F=M.reduce(($,ie,_e)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Te={};return Br(ie.outlets,(Je,Ht)=>{Te[Ht]="string"==typeof Je?Je.split("/"):Je}),[...$,{outlets:Te}]}if(ie.segmentPath)return[...$,ie.segmentPath]}return"string"!=typeof ie?[...$,ie]:0===_e?(ie.split("/").forEach((Te,Je)=>{0==Je&&"."===Te||(0==Je&&""===Te?T=!0:".."===Te?O++:""!=Te&&$.push(Te))}),$):[...$,ie]},[]);return new Le(T,O,F)}(T);return Te.toRoot()?un(O.root,O.root,new $e([],{}),F,$):function Je(gn){var zt;const hn=function Cn(M,O,T,F){if(M.isAbsolute)return new Wt(O.root,!0,0);if(-1===F)return new Wt(T,T===O.root,0);return function Wn(M,O,T){let F=M,$=O,ie=T;for(;ie>$;){if(ie-=$,F=F.parent,!F)throw new f.vHH(4005,!1);$=F.segments.length}return new Wt(F,!1,$-ie)}(T,F+(ut(M.commands[0])?0:1),M.numberOfDoubleDots)}(Te,O,null===(zt=M.snapshot)||void 0===zt?void 0:zt._urlSegment,gn),pr=hn.processChildren?Yr(hn.segmentGroup,hn.index,Te.commands):ai(hn.segmentGroup,hn.index,Te.commands);return un(O.root,hn.segmentGroup,pr,F,$)}(null===(ie=M.snapshot)||void 0===ie?void 0:ie._lastPathIndex)}function ut(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function ln(M){return"object"==typeof M&&null!=M&&M.outlets}function un(M,O,T,F,$){let _e,ie={};F&&Br(F,(Je,Ht)=>{ie[Ht]=Array.isArray(Je)?Je.map(gn=>`${gn}`):`${Je}`}),_e=M===O?T:Pe(M,O,T);const Te=$t(en(_e));return new br(Te,ie,$)}function Pe(M,O,T){const F={};return Br(M.children,($,ie)=>{F[ie]=$===O?T:Pe($,O,T)}),new $e(M.segments,F)}class Le{constructor(O,T,F){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=F,O&&F.length>0&&ut(F[0]))throw new f.vHH(4003,!1);const $=F.find(ln);if($&&$!==gi(F))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wt{constructor(O,T,F){this.segmentGroup=O,this.processChildren=T,this.index=F}}function ai(M,O,T){if(M||(M=new $e([],{})),0===M.segments.length&&M.hasChildren())return Yr(M,O,T);const F=function Sn(M,O,T){let F=0,$=O;const ie={match:!1,pathIndex:0,commandIndex:0};for(;$<M.segments.length;){if(F>=T.length)return ie;const _e=M.segments[$],Te=T[F];if(ln(Te))break;const Je=`${Te}`,Ht=F<T.length-1?T[F+1]:null;if($>0&&void 0===Je)break;if(Je&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!Oi(Je,Ht,_e))return ie;F+=2}else{if(!Oi(Je,{},_e))return ie;F++}$++}return{match:!0,pathIndex:$,commandIndex:F}}(M,O,T),$=T.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const ie=new $e(M.segments.slice(0,F.pathIndex),{});return ie.children[Yt]=new $e(M.segments.slice(F.pathIndex),M.children),Yr(ie,0,$)}return F.match&&0===$.length?new $e(M.segments,{}):F.match&&!M.hasChildren()?us(M,O,T):F.match?Yr(M,0,$):us(M,O,T)}function Yr(M,O,T){if(0===T.length)return new $e(M.segments,{});{const F=function ir(M){return ln(M[0])?M[0].outlets:{[Yt]:M}}(T),$={};return Br(F,(ie,_e)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&($[_e]=ai(M.children[_e],O,ie))}),Br(M.children,(ie,_e)=>{void 0===F[_e]&&($[_e]=ie)}),new $e(M.segments,$)}}function us(M,O,T){const F=M.segments.slice(0,O);let $=0;for(;$<T.length;){const ie=T[$];if(ln(ie)){const Je=ni(ie.outlets);return new $e(F,Je)}if(0===$&&ut(T[0])){F.push(new Oe(M.segments[O].path,Mi(T[0]))),$++;continue}const _e=ln(ie)?ie.outlets[Yt]:`${ie}`,Te=$<T.length-1?T[$+1]:null;_e&&Te&&ut(Te)?(F.push(new Oe(_e,Mi(Te))),$+=2):(F.push(new Oe(_e,{})),$++)}return new $e(F,{})}function ni(M){const O={};return Br(M,(T,F)=>{"string"==typeof T&&(T=[T]),null!==T&&(O[F]=us(new $e([],{}),0,T))}),O}function Mi(M){const O={};return Br(M,(T,F)=>O[F]=`${T}`),O}function Oi(M,O,T){return M==T.path&&Lr(O,T.parameters)}class qn{constructor(O,T){this.id=O,this.url=T}}class rs extends qn{constructor(O,T,F="imperative",$=null){super(O,T),this.type=0,this.navigationTrigger=F,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mn extends qn{constructor(O,T,F){super(O,T),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class On extends qn{constructor(O,T,F,$){super(O,T),this.reason=F,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class In extends qn{constructor(O,T,F,$){super(O,T),this.error=F,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends qn{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends qn{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends qn{constructor(O,T,F,$,ie){super(O,T),this.urlAfterRedirects=F,this.state=$,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class so extends qn{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends qn{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jn{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vn{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class we{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(O,T,F){this.routerEvent=O,this.position=T,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yt{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=tn(O,this._root);return T?T.children.map(F=>F.value):[]}firstChild(O){const T=tn(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=kt(O,this._root);return T.length<2?[]:T[T.length-2].children.map($=>$.value).filter($=>$!==O)}pathFromRoot(O){return kt(O,this._root).map(T=>T.value)}}function tn(M,O){if(M===O.value)return O;for(const T of O.children){const F=tn(M,T);if(F)return F}return null}function kt(M,O){if(M===O.value)return[O];for(const T of O.children){const F=kt(M,T);if(F.length)return F.unshift(O),F}return[]}class Gn{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function Wr(M){const O={};return M&&M.children.forEach(T=>O[T.value.outlet]=T),O}class Nr extends yt{constructor(O,T){super(O),this.snapshot=T,Xn(this,O)}toString(){return this.snapshot.toString()}}function Li(M,O){const T=function Dr(M,O){const _e=new Us([],{},{},"",{},Yt,O,null,M.root,-1,{});return new oo("",new Gn(_e,[]))}(M,O),F=new H.X([new Oe("",{})]),$=new H.X({}),ie=new H.X({}),_e=new H.X({}),Te=new H.X(""),Je=new Qr(F,$,_e,Te,ie,Yt,O,T.root);return Je.snapshot=T.root,new Nr(new Gn(Je,[]),T)}class Qr{constructor(O,T,F,$,ie,_e,Te,Je){var Ht,gn;this.url=O,this.params=T,this.queryParams=F,this.fragment=$,this.data=ie,this.outlet=_e,this.component=Te,this.title=null!==(gn=null===(Ht=this.data)||void 0===Ht?void 0:Ht.pipe((0,ze.U)(zt=>zt[Mt])))&&void 0!==gn?gn:(0,ne.of)(void 0),this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(O=>Ur(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(O=>Ur(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cs(M,O="emptyOnly"){const T=M.pathFromRoot;let F=0;if("always"!==O)for(F=T.length-1;F>=1;){const $=T[F],ie=T[F-1];if($.routeConfig&&""===$.routeConfig.path)F--;else{if(ie.component)break;F--}}return function ds(M){return M.reduce((O,T)=>{var F;return{params:Object.assign(Object.assign({},O.params),T.params),data:Object.assign(Object.assign({},O.data),T.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},T.data),O.resolve),null===(F=T.routeConfig)||void 0===F?void 0:F.data),T._resolvedData)}},{params:{},data:{},resolve:{}})}(T.slice(F))}class Us{constructor(O,T,F,$,ie,_e,Te,Je,Ht,gn,zt,hn){var pr;this.url=O,this.params=T,this.queryParams=F,this.fragment=$,this.data=ie,this.outlet=_e,this.component=Te,this.title=null===(pr=this.data)||void 0===pr?void 0:pr[Mt],this.routeConfig=Je,this._urlSegment=Ht,this._lastPathIndex=gn,this._correctedLastPathIndex=null!=hn?hn:gn,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oo extends yt{constructor(O,T){super(T),this.url=O,Xn(this,T)}toString(){return To(this._root)}}function Xn(M,O){O.value._routerState=M,O.children.forEach(T=>Xn(M,T))}function To(M){const O=M.children.length>0?` { ${M.children.map(To).join(", ")} } `:"";return`${M.value}${O}`}function ao(M){if(M.snapshot){const O=M.snapshot,T=M._futureSnapshot;M.snapshot=T,Lr(O.queryParams,T.queryParams)||M.queryParams.next(T.queryParams),O.fragment!==T.fragment&&M.fragment.next(T.fragment),Lr(O.params,T.params)||M.params.next(T.params),function nr(M,O){if(M.length!==O.length)return!1;for(let T=0;T<M.length;++T)if(!Lr(M[T],O[T]))return!1;return!0}(O.url,T.url)||M.url.next(T.url),Lr(O.data,T.data)||M.data.next(T.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function hs(M,O){const T=Lr(M.params,O.params)&&function Ee(M,O){return nt(M,O)&&M.every((T,F)=>Lr(T.parameters,O[F].parameters))}(M.url,O.url);return T&&!(!M.parent!=!O.parent)&&(!M.parent||hs(M.parent,O.parent))}function Os(M,O,T){if(T&&M.shouldReuseRoute(O.value,T.value.snapshot)){const F=T.value;F._futureSnapshot=O.value;const $=function Ei(M,O,T){return O.children.map(F=>{for(const $ of T.children)if(M.shouldReuseRoute(F.value,$.value.snapshot))return Os(M,F,$);return Os(M,F)})}(M,O,T);return new Gn(F,$)}{if(M.shouldAttach(O.value)){const ie=M.retrieve(O.value);if(null!==ie){const _e=ie.route;return _e.value._futureSnapshot=O.value,_e.children=O.children.map(Te=>Os(M,Te)),_e}}const F=function Qs(M){return new Qr(new H.X(M.url),new H.X(M.params),new H.X(M.queryParams),new H.X(M.fragment),new H.X(M.data),M.outlet,M.component,M)}(O.value),$=O.children.map(ie=>Os(M,ie));return new Gn(F,$)}}const er="ngNavigationCancelingError";function Ps(M,O){const{redirectTo:T,navigationBehaviorOptions:F}=or(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,$=ys(!1,0,O);return $.url=T,$.navigationBehaviorOptions=F,$}function ys(M,O,T){const F=new Error("NavigationCancelingError: "+(M||""));return F[er]=!0,F.cancellationCode=O,T&&(F.url=T),F}function lo(M){return Ro(M)&&or(M.url)}function Ro(M){return M&&M[er]}class uo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ca,this.attachRef=null}}let ca=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const $=this.getOrCreateContext(T);$.outlet=F,this.contexts.set(T,$)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new uo,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const mo=!1;let Yi=(()=>{class M{constructor(T,F,$,ie,_e){this.parentContexts=T,this.location=F,this.changeDetector=ie,this.environmentInjector=_e,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=$||Yt,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){var T;(null===(T=this.parentContexts.getContext(this.name))||void 0===T?void 0:T.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,mo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,mo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,mo);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){if(this.isActivated)throw new f.vHH(4013,mo);this._activatedRoute=T;const $=this.location,_e=T._futureSnapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,Je=new Ia(T,Te,$.injector);if(F&&function ri(M){return!!M.resolveComponentFactory}(F)){const Ht=F.resolveComponentFactory(_e);this.activated=$.createComponent(Ht,$.length,Je)}else this.activated=$.createComponent(_e,{index:$.length,injector:Je,environmentInjector:null!=F?F:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(ca),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},M.\u0275dir=f.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),M})();class Ia{constructor(O,T,F){this.route=O,this.childContexts=T,this.parent=F}get(O,T){return O===Qr?this.route:O===ca?this.childContexts:this.parent.get(O,T)}}let _s=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(T,F){1&T&&f._UZ(0,"router-outlet")},dependencies:[Yi],encapsulation:2}),M})();function Ya(M,O){var T;return M.providers&&!M._injector&&(M._injector=(0,f.MMx)(M.providers,O,`Route: ${M.path}`)),null!==(T=M._injector)&&void 0!==T?T:O}function Di(M){const O=M.children&&M.children.map(Di),T=O?Object.assign(Object.assign({},M),{children:O}):Object.assign({},M);return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==Yt&&(T.component=_s),T}function yn(M){return M.outlet||Yt}function ea(M,O){const T=M.filter(F=>yn(F)===O);return T.push(...M.filter(F=>yn(F)!==O)),T}function ur(M){var O;if(!M)return null;if(null!==(O=M.routeConfig)&&void 0!==O&&O._injector)return M.routeConfig._injector;for(let T=M.parent;T;T=T.parent){const F=T.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class Pr{constructor(O,T,F,$){this.routeReuseStrategy=O,this.futureState=T,this.currState=F,this.forwardEvent=$}activate(O){const T=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,F,O),ao(this.futureState.root),this.activateChildRoutes(T,F,O)}deactivateChildRoutes(O,T,F){const $=Wr(T);O.children.forEach(ie=>{const _e=ie.value.outlet;this.deactivateRoutes(ie,$[_e],F),delete $[_e]}),Br($,(ie,_e)=>{this.deactivateRouteAndItsChildren(ie,F)})}deactivateRoutes(O,T,F){const $=O.value,ie=T?T.value:null;if($===ie)if($.component){const _e=F.getContext($.outlet);_e&&this.deactivateChildRoutes(O,T,_e.children)}else this.deactivateChildRoutes(O,T,F);else ie&&this.deactivateRouteAndItsChildren(T,F)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const F=T.getContext(O.value.outlet),$=F&&O.value.component?F.children:T,ie=Wr(O);for(const _e of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[_e],$);if(F&&F.outlet){const _e=F.outlet.detach(),Te=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:_e,route:O,contexts:Te})}}deactivateRouteAndOutlet(O,T){const F=T.getContext(O.value.outlet),$=F&&O.value.component?F.children:T,ie=Wr(O);for(const _e of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[_e],$);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,T,F){const $=Wr(T);O.children.forEach(ie=>{this.activateRoutes(ie,$[ie.value.outlet],F),this.forwardEvent(new we(ie.value.snapshot))}),O.children.length&&this.forwardEvent(new Fr(O.value.snapshot))}activateRoutes(O,T,F){var $;const ie=O.value,_e=T?T.value:null;if(ao(ie),ie===_e)if(ie.component){const Te=F.getOrCreateContext(ie.outlet);this.activateChildRoutes(O,T,Te.children)}else this.activateChildRoutes(O,T,F);else if(ie.component){const Te=F.getOrCreateContext(ie.outlet);if(this.routeReuseStrategy.shouldAttach(ie.snapshot)){const Je=this.routeReuseStrategy.retrieve(ie.snapshot);this.routeReuseStrategy.store(ie.snapshot,null),Te.children.onOutletReAttached(Je.contexts),Te.attachRef=Je.componentRef,Te.route=Je.route.value,Te.outlet&&Te.outlet.attach(Je.componentRef,Je.route.value),ao(Je.route.value),this.activateChildRoutes(O,null,Te.children)}else{const Je=ur(ie.snapshot),Ht=null!==($=null==Je?void 0:Je.get(f._Vd))&&void 0!==$?$:null;Te.attachRef=null,Te.route=ie,Te.resolver=Ht,Te.injector=Je,Te.outlet&&Te.outlet.activateWith(ie,Te.injector),this.activateChildRoutes(O,null,Te.children)}}else this.activateChildRoutes(O,null,F)}}class Sa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Vs{constructor(O,T){this.component=O,this.route=T}}function ta(M,O,T){const F=M._root;return bs(F,O?O._root:null,T,[F.value])}function En(M,O){const T=Symbol(),F=O.get(M,T);return F===T?"function"!=typeof M||(0,f.Z0I)(M)?O.get(M):M:F}function bs(M,O,T,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Wr(O);return M.children.forEach(_e=>{(function No(M,O,T,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const ie=M.value,_e=O?O.value:null,Te=T?T.getContext(M.value.outlet):null;if(_e&&ie.routeConfig===_e.routeConfig){const Je=function ba(M,O,T){if("function"==typeof T)return T(M,O);switch(T){case"pathParamsChange":return!nt(M.url,O.url);case"pathParamsOrQueryParamsChange":return!nt(M.url,O.url)||!Lr(M.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hs(M,O)||!Lr(M.queryParams,O.queryParams);default:return!hs(M,O)}}(_e,ie,ie.routeConfig.runGuardsAndResolvers);Je?$.canActivateChecks.push(new Sa(F)):(ie.data=_e.data,ie._resolvedData=_e._resolvedData),bs(M,O,ie.component?Te?Te.children:null:T,F,$),Je&&Te&&Te.outlet&&Te.outlet.isActivated&&$.canDeactivateChecks.push(new Vs(Te.outlet.component,_e))}else _e&&vs(O,Te,$),$.canActivateChecks.push(new Sa(F)),bs(M,null,ie.component?Te?Te.children:null:T,F,$)})(_e,ie[_e.value.outlet],T,F.concat([_e.value]),$),delete ie[_e.value.outlet]}),Br(ie,(_e,Te)=>vs(_e,T.getContext(Te),$)),$}function vs(M,O,T){const F=Wr(M),$=M.value;Br(F,(ie,_e)=>{vs(ie,$.component?O?O.children.getContext(_e):null:O,T)}),T.canDeactivateChecks.push(new Vs($.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,$))}function Es(M){return"function"==typeof M}function G(M){return M instanceof Q.K||"EmptyError"===(null==M?void 0:M.name)}const B=Symbol("INITIAL_VALUE");function L(){return(0,Ge.w)(M=>(0,de.a)(M.map(O=>O.pipe((0,je.q)(1),(0,mt.O)(B)))).pipe((0,ze.U)(O=>{for(const T of O)if(!0!==T){if(T===B)return B;if(!1===T||T instanceof br)return T}return!0}),(0,xt.h)(O=>O!==B),(0,je.q)(1)))}function xs(M){return(0,he.z)((0,Tt.b)(O=>{if(or(O))throw Ps(0,O)}),(0,ze.U)(O=>!0===O))}const Fl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lo(M,O,T,F,$){const ie=js(M,O,T);return ie.matched?function So(M,O,T,F){const $=O.canMatch;if(!$||0===$.length)return(0,ne.of)(!0);const ie=$.map(_e=>{const Te=En(_e,M);return Xr(function Rs(M){return M&&Es(M.canMatch)}(Te)?Te.canMatch(O,T):M.runInContext(()=>Te(O,T)))});return(0,ne.of)(ie).pipe(L(),xs())}(F=Ya(O,F),O,T).pipe((0,ze.U)(_e=>!0===_e?ie:Object.assign({},Fl))):(0,ne.of)(ie)}function js(M,O,T){var F;if(""===O.path)return"full"===O.pathMatch&&(M.hasChildren()||T.length>0)?Object.assign({},Fl):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const ie=(O.matcher||wr)(T,M,O);if(!ie)return Object.assign({},Fl);const _e={};Br(ie.posParams,(Je,Ht)=>{_e[Ht]=Je.path});const Te=ie.consumed.length>0?Object.assign(Object.assign({},_e),ie.consumed[ie.consumed.length-1].parameters):_e;return{matched:!0,consumedSegments:ie.consumed,remainingSegments:T.slice(ie.consumed.length),parameters:Te,positionalParamSegments:null!==(F=ie.posParams)&&void 0!==F?F:{}}}function Fo(M,O,T,F,$="corrected"){if(T.length>0&&function ha(M,O,T){return T.some(F=>bo(M,O,F)&&yn(F)!==Yt)}(M,T,F)){const _e=new $e(O,function Ma(M,O,T,F){const $={};$[Yt]=F,F._sourceSegment=M,F._segmentIndexShift=O.length;for(const ie of T)if(""===ie.path&&yn(ie)!==Yt){const _e=new $e([],{});_e._sourceSegment=M,_e._segmentIndexShift=O.length,$[yn(ie)]=_e}return $}(M,O,F,new $e(T,M.children)));return _e._sourceSegment=M,_e._segmentIndexShift=O.length,{segmentGroup:_e,slicedSegments:[]}}if(0===T.length&&function _o(M,O,T){return T.some(F=>bo(M,O,F))}(M,T,F)){const _e=new $e(M.segments,function ko(M,O,T,F,$,ie){const _e={};for(const Te of F)if(bo(M,T,Te)&&!$[yn(Te)]){const Je=new $e([],{});Je._sourceSegment=M,Je._segmentIndexShift="legacy"===ie?M.segments.length:O.length,_e[yn(Te)]=Je}return Object.assign(Object.assign({},$),_e)}(M,O,T,F,M.children,$));return _e._sourceSegment=M,_e._segmentIndexShift=O.length,{segmentGroup:_e,slicedSegments:T}}const ie=new $e(M.segments,M.children);return ie._sourceSegment=M,ie._segmentIndexShift=O.length,{segmentGroup:ie,slicedSegments:T}}function bo(M,O,T){return(!(M.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}function vo(M,O,T,F){return!!(yn(M)===F||F!==Yt&&bo(O,T,M))&&("**"===M.path||js(O,M,T).matched)}function As(M,O,T){return 0===O.length&&!M.children[T]}const fa=!1;class sl{constructor(O){this.segmentGroup=O||null}}class Uo{constructor(O){this.urlTree=O}}function k(M){return(0,Z._)(new sl(M))}function J(M){return(0,Z._)(new Uo(M))}class rt{constructor(O,T,F,$,ie){this.injector=O,this.configLoader=T,this.urlSerializer=F,this.urlTree=$,this.config=ie,this.allowRedirects=!0}apply(){const O=Fo(this.urlTree.root,[],[],this.config).segmentGroup,T=new $e(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,T,Yt).pipe((0,ze.U)(ie=>this.createUrlTree(en(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Kt.K)(ie=>{if(ie instanceof Uo)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof sl?this.noMatchError(ie):ie}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Yt).pipe((0,ze.U)($=>this.createUrlTree(en($),O.queryParams,O.fragment))).pipe((0,Kt.K)($=>{throw $ instanceof sl?this.noMatchError($):$}))}noMatchError(O){return new f.vHH(4002,fa)}createUrlTree(O,T,F){const $=$t(O);return new br($,T,F)}expandSegmentGroup(O,T,F,$){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,T,F).pipe((0,ze.U)(ie=>new $e([],ie))):this.expandSegment(O,F,T,F.segments,$,!0)}expandChildren(O,T,F){const $=[];for(const ie of Object.keys(F.children))"primary"===ie?$.unshift(ie):$.push(ie);return(0,S.D)($).pipe((0,Dt.b)(ie=>{const _e=F.children[ie],Te=ea(T,ie);return this.expandSegmentGroup(O,Te,_e,ie).pipe((0,ze.U)(Je=>({segment:Je,outlet:ie})))}),(0,Gt.R)((ie,_e)=>(ie[_e.outlet]=_e.segment,ie),{}),(0,Pt.Z)())}expandSegment(O,T,F,$,ie,_e){return(0,S.D)(F).pipe((0,Dt.b)(Te=>this.expandSegmentAgainstRoute(O,T,F,Te,$,ie,_e).pipe((0,Kt.K)(Ht=>{if(Ht instanceof sl)return(0,ne.of)(null);throw Ht}))),(0,ke.P)(Te=>!!Te),(0,Kt.K)((Te,Je)=>{if(G(Te))return As(T,$,ie)?(0,ne.of)(new $e([],{})):k(T);throw Te}))}expandSegmentAgainstRoute(O,T,F,$,ie,_e,Te){return vo($,T,ie,_e)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(O,T,$,ie,_e):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,T,F,$,ie,_e):k(T):k(T)}expandSegmentAgainstRouteUsingRedirect(O,T,F,$,ie,_e){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,$,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,$,ie,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,F,$){const ie=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?J(ie):this.lineralizeSegments(F,ie).pipe((0,qe.z)(_e=>{const Te=new $e(_e,{});return this.expandSegment(O,Te,T,_e,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,$,ie,_e){const{matched:Te,consumedSegments:Je,remainingSegments:Ht,positionalParamSegments:gn}=js(T,$,ie);if(!Te)return k(T);const zt=this.applyRedirectCommands(Je,$.redirectTo,gn);return $.redirectTo.startsWith("/")?J(zt):this.lineralizeSegments($,zt).pipe((0,qe.z)(hn=>this.expandSegment(O,T,F,hn.concat(Ht),_e,!1)))}matchSegmentAgainstRoute(O,T,F,$,ie){return"**"===F.path?(O=Ya(F,O),F.loadChildren?(F._loadedRoutes?(0,ne.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,ze.U)(Te=>(F._loadedRoutes=Te.routes,F._loadedInjector=Te.injector,new $e($,{})))):(0,ne.of)(new $e($,{}))):Lo(T,F,$,O).pipe((0,Ge.w)(({matched:_e,consumedSegments:Te,remainingSegments:Je})=>{var Ht;return _e?(O=null!==(Ht=F._injector)&&void 0!==Ht?Ht:O,this.getChildConfig(O,F,$).pipe((0,qe.z)(zt=>{var hn;const pr=null!==(hn=zt.injector)&&void 0!==hn?hn:O,jr=zt.routes,{segmentGroup:ps,slicedSegments:Gs}=Fo(T,Te,Je,jr),Co=new $e(ps.segments,ps.children);if(0===Gs.length&&Co.hasChildren())return this.expandChildren(pr,jr,Co).pipe((0,ze.U)(cl=>new $e(Te,cl)));if(0===jr.length&&0===Gs.length)return(0,ne.of)(new $e(Te,{}));const Is=yn(F)===ie;return this.expandSegment(pr,Co,jr,Gs,Is?Yt:ie,!0).pipe((0,ze.U)(Ws=>new $e(Te.concat(Ws.segments),Ws.children)))}))):k(T)}))}getChildConfig(O,T,F){return T.children?(0,ne.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,ne.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Ds(M,O,T,F){const $=O.canLoad;if(void 0===$||0===$.length)return(0,ne.of)(!0);const ie=$.map(_e=>{const Te=En(_e,M);return Xr(function ei(M){return M&&Es(M.canLoad)}(Te)?Te.canLoad(O,T):M.runInContext(()=>Te(O,T)))});return(0,ne.of)(ie).pipe(L(),xs())}(O,T,F).pipe((0,qe.z)($=>$?this.configLoader.loadChildren(O,T).pipe((0,Tt.b)(ie=>{T._loadedRoutes=ie.routes,T._loadedInjector=ie.injector})):function oe(M){return(0,Z._)(ys(fa,3))}())):(0,ne.of)({routes:[],injector:O})}lineralizeSegments(O,T){let F=[],$=T.root;for(;;){if(F=F.concat($.segments),0===$.numberOfChildren)return(0,ne.of)(F);if($.numberOfChildren>1||!$.children[Yt])return(0,Z._)(new f.vHH(4e3,fa));$=$.children[Yt]}}applyRedirectCommands(O,T,F){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,F)}applyRedirectCreateUrlTree(O,T,F,$){const ie=this.createSegmentGroup(O,T.root,F,$);return new br(ie,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const F={};return Br(O,($,ie)=>{if("string"==typeof $&&$.startsWith(":")){const Te=$.substring(1);F[ie]=T[Te]}else F[ie]=$}),F}createSegmentGroup(O,T,F,$){const ie=this.createSegments(O,T.segments,F,$);let _e={};return Br(T.children,(Te,Je)=>{_e[Je]=this.createSegmentGroup(O,Te,F,$)}),new $e(ie,_e)}createSegments(O,T,F,$){return T.map(ie=>ie.path.startsWith(":")?this.findPosParam(O,ie,$):this.findOrReturn(ie,F))}findPosParam(O,T,F){const $=F[T.path.substring(1)];if(!$)throw new f.vHH(4001,fa);return $}findOrReturn(O,T){let F=0;for(const $ of T){if($.path===O.path)return T.splice(F),$;F++}return O}}class Vr{}class ar{constructor(O,T,F,$,ie,_e,Te,Je){this.injector=O,this.rootComponentType=T,this.config=F,this.urlTree=$,this.url=ie,this.paramsInheritanceStrategy=_e,this.relativeLinkResolution=Te,this.urlSerializer=Je}recognize(){const O=Fo(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Yt).pipe((0,ze.U)(T=>{if(null===T)return null;const F=new Us([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Gn(F,T),ie=new oo(this.url,$);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(O){const T=O.value,F=cs(T,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),O.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(O,T,F,$){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,T,F):this.processSegment(O,T,F,F.segments,$)}processChildren(O,T,F){return(0,S.D)(Object.keys(F.children)).pipe((0,Dt.b)($=>{const ie=F.children[$],_e=ea(T,$);return this.processSegmentGroup(O,_e,ie,$)}),(0,Gt.R)(($,ie)=>$&&ie?($.push(...ie),$):null),(0,tt.o)($=>null!==$),(0,Ze.d)(null),(0,Pt.Z)(),(0,ze.U)($=>{if(null===$)return null;const ie=Cs($);return function Ri(M){M.sort((O,T)=>O.value.outlet===Yt?-1:T.value.outlet===Yt?1:O.value.outlet.localeCompare(T.value.outlet))}(ie),ie}))}processSegment(O,T,F,$,ie){return(0,S.D)(T).pipe((0,Dt.b)(_e=>{var Te;return this.processSegmentAgainstRoute(null!==(Te=_e._injector)&&void 0!==Te?Te:O,_e,F,$,ie)}),(0,ke.P)(_e=>!!_e),(0,Kt.K)(_e=>{if(G(_e))return As(F,$,ie)?(0,ne.of)([]):(0,ne.of)(null);throw _e}))}processSegmentAgainstRoute(O,T,F,$,ie){var _e,Te;if(T.redirectTo||!vo(T,F,$,ie))return(0,ne.of)(null);let Je;if("**"===T.path){const Ht=$.length>0?gi($).parameters:{},gn=qi(F)+$.length,zt=new Us($,Ht,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pa(T),yn(T),null!==(Te=null!==(_e=T.component)&&void 0!==_e?_e:T._loadedComponent)&&void 0!==Te?Te:null,T,Qi(F),gn,Lt(T),gn);Je=(0,ne.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]})}else Je=Lo(F,T,$,O).pipe((0,ze.U)(({matched:Ht,consumedSegments:gn,remainingSegments:zt,parameters:hn})=>{var pr,jr;if(!Ht)return null;const ps=qi(F)+gn.length;return{snapshot:new Us(gn,hn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pa(T),yn(T),null!==(jr=null!==(pr=T.component)&&void 0!==pr?pr:T._loadedComponent)&&void 0!==jr?jr:null,T,Qi(F),ps,Lt(T),ps),consumedSegments:gn,remainingSegments:zt}}));return Je.pipe((0,Ge.w)(Ht=>{var gn,zt;if(null===Ht)return(0,ne.of)(null);const{snapshot:hn,consumedSegments:pr,remainingSegments:jr}=Ht;O=null!==(gn=T._injector)&&void 0!==gn?gn:O;const ps=null!==(zt=T._loadedInjector)&&void 0!==zt?zt:O,Gs=function Mr(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(T),{segmentGroup:Co,slicedSegments:Is}=Fo(F,pr,jr,Gs.filter(Ws=>void 0===Ws.redirectTo),this.relativeLinkResolution);if(0===Is.length&&Co.hasChildren())return this.processChildren(ps,Gs,Co).pipe((0,ze.U)(Ws=>null===Ws?null:[new Gn(hn,Ws)]));if(0===Gs.length&&0===Is.length)return(0,ne.of)([new Gn(hn,[])]);const Ua=yn(T)===ie;return this.processSegment(ps,Gs,Co,Is,Ua?Yt:ie).pipe((0,ze.U)(Ws=>null===Ws?null:[new Gn(hn,Ws)]))}))}}function ki(M){const O=M.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Cs(M){const O=[],T=new Set;for(const F of M){if(!ki(F)){O.push(F);continue}const $=O.find(ie=>F.value.routeConfig===ie.value.routeConfig);void 0!==$?($.children.push(...F.children),T.add($)):O.push(F)}for(const F of T){const $=Cs(F.children);O.push(new Gn(F.value,$))}return O.filter(F=>!T.has(F))}function Qi(M){let O=M;for(;O._sourceSegment;)O=O._sourceSegment;return O}function qi(M){var O,T;let F=M,$=null!==(O=F._segmentIndexShift)&&void 0!==O?O:0;for(;F._sourceSegment;)F=F._sourceSegment,$+=null!==(T=F._segmentIndexShift)&&void 0!==T?T:0;return $-1}function pa(M){return M.data||{}}function Lt(M){return M.resolve||{}}function Jt(M){return"string"==typeof M.title||null===M.title}function at(M){return(0,Ge.w)(O=>{const T=M(O);return T?(0,S.D)(T).pipe((0,ze.U)(()=>O)):(0,ne.of)(O)})}let Rt=(()=>{class M{buildTitle(T){var F;let $,ie=T.root;for(;void 0!==ie;)$=null!==(F=this.getResolvedTitleForRoute(ie))&&void 0!==F?F:$,ie=ie.children.find(_e=>_e.outlet===Yt);return $}getResolvedTitleForRoute(T){return T.data[Mt]}}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return(0,f.f3M)(Ci)},providedIn:"root"}),M})(),Ci=(()=>{class M extends Rt{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(Fn.Dx))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class ol{}class Ns extends class Ui{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}{}const Bo=new f.OlP("",{providedIn:"root",factory:()=>({})}),Oa=new f.OlP("ROUTES");let Pa=(()=>{class M{constructor(T,F){this.injector=T,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ne.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=Xr(T.loadComponent()).pipe((0,Tt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ie}),(0,Nt.x)(()=>{this.componentLoaders.delete(T)})),$=new Ne.c(F,()=>new Ke.x).pipe((0,St.x)());return this.componentLoaders.set(T,$),$}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ne.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ie=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,ze.U)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Je,Ht,gn=!1;Array.isArray(Te)?Ht=Te:(Je=Te.create(T).injector,Ht=Ti(Je.get(Oa,[],f.XFs.Self|f.XFs.Optional)));return{routes:Ht.map(Di),injector:Je}}),(0,Nt.x)(()=>{this.childrenLoaders.delete(F)})),_e=new Ne.c(ie,()=>new Ke.x).pipe((0,St.x)());return this.childrenLoaders.set(F,_e),_e}loadModuleFactoryOrRoutes(T){return Xr(T()).pipe((0,qe.z)(F=>F instanceof f.YKP||Array.isArray(F)?(0,ne.of)(F):(0,S.D)(this.compiler.compileModuleAsync(F))))}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(f.zs3),f.LFG(f.Sil))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class pu{}class Ra{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,T){return O}}function $s(M){throw M}function Zl(M,O,T){return O.parse("/")}const ii={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function _r(){var M,O;const T=(0,f.f3M)(dn),F=(0,f.f3M)(ca),$=(0,f.f3M)(Ie.Ye),ie=(0,f.f3M)(f.zs3),_e=(0,f.f3M)(f.Sil),Te=null!==(M=(0,f.f3M)(Oa,{optional:!0}))&&void 0!==M?M:[],Je=null!==(O=(0,f.f3M)(Bo,{optional:!0}))&&void 0!==O?O:{},Ht=(0,f.f3M)(Ci),gn=(0,f.f3M)(Rt,{optional:!0}),zt=(0,f.f3M)(pu,{optional:!0}),hn=(0,f.f3M)(ol,{optional:!0}),pr=new os(null,T,F,$,ie,_e,Ti(Te));return zt&&(pr.urlHandlingStrategy=zt),hn&&(pr.routeReuseStrategy=hn),pr.titleStrategy=null!=gn?gn:Ht,function ra(M,O){M.errorHandler&&(O.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(O.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(O.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(O.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(O.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(O.canceledNavigationResolution=M.canceledNavigationResolution)}(Je,pr),pr}let os=(()=>{class M{constructor(T,F,$,ie,_e,Te,Je){this.rootComponentType=T,this.urlSerializer=F,this.rootContexts=$,this.location=ie,this.config=Je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ke.x,this.errorHandler=$s,this.malformedUriErrorHandler=Zl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ne.of)(void 0),this.urlHandlingStrategy=new Ra,this.routeReuseStrategy=new Ns,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=_e.get(Pa),this.configLoader.onLoadEndListener=hn=>this.triggerEvent(new Jn(hn)),this.configLoader.onLoadStartListener=hn=>this.triggerEvent(new Pi(hn)),this.ngModule=_e.get(f.h0i),this.console=_e.get(f.c2e);const zt=_e.get(f.R0b);this.isNgZoneEnabled=zt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Je),this.currentUrlTree=function xr(){return new br(new $e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Li(this.currentUrlTree,this.rootComponentType),this.transitions=new H.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const F=this.events;return T.pipe((0,xt.h)($=>0!==$.id),(0,ze.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Ge.w)($=>{let ie=!1,_e=!1;return(0,ne.of)($).pipe((0,Tt.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.rawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ge.w)(Te=>{const Je=this.browserUrlTree.toString(),Ht=!this.navigated||Te.extractedUrl.toString()!==Je||Je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ht)&&this.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return qt(Te.source)&&(this.browserUrlTree=Te.extractedUrl),(0,ne.of)(Te).pipe((0,Ge.w)(zt=>{const hn=this.transitions.getValue();return F.next(new rs(zt.id,this.serializeUrl(zt.extractedUrl),zt.source,zt.restoredState)),hn!==this.transitions.getValue()?le.E:Promise.resolve(zt)}),function ft(M,O,T,F){return(0,Ge.w)($=>function De(M,O,T,F,$){return new rt(M,O,T,F,$).apply()}(M,O,T,$.extractedUrl,F).pipe((0,ze.U)(ie=>Object.assign(Object.assign({},$),{urlAfterRedirects:ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tt.b)(zt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:zt.urlAfterRedirects}),$.urlAfterRedirects=zt.urlAfterRedirects}),function Zi(M,O,T,F,$,ie){return(0,qe.z)(_e=>function fr(M,O,T,F,$,ie,_e="emptyOnly",Te="legacy"){return new ar(M,O,T,F,$,_e,Te,ie).recognize().pipe((0,Ge.w)(Je=>null===Je?function Pn(M){return new ee.y(O=>O.error(M))}(new Vr):(0,ne.of)(Je)))}(M,O,T,_e.urlAfterRedirects,F.serialize(_e.urlAfterRedirects),F,$,ie).pipe((0,ze.U)(Te=>Object.assign(Object.assign({},_e),{targetSnapshot:Te}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tt.b)(zt=>{if($.targetSnapshot=zt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!zt.extras.skipLocationChange){const pr=this.urlHandlingStrategy.merge(zt.urlAfterRedirects,zt.rawUrl);this.setBrowserUrl(pr,zt)}this.browserUrlTree=zt.urlAfterRedirects}const hn=new _i(zt.id,this.serializeUrl(zt.extractedUrl),this.serializeUrl(zt.urlAfterRedirects),zt.targetSnapshot);F.next(hn)}));if(Ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:hn,extractedUrl:pr,source:jr,restoredState:ps,extras:Gs}=Te,Co=new rs(hn,this.serializeUrl(pr),jr,ps);F.next(Co);const Is=Li(pr,this.rootComponentType).snapshot;return $=Object.assign(Object.assign({},Te),{targetSnapshot:Is,urlAfterRedirects:pr,extras:Object.assign(Object.assign({},Gs),{skipLocationChange:!1,replaceUrl:!1})}),(0,ne.of)($)}return this.rawUrlTree=Te.rawUrl,Te.resolve(null),le.E}),(0,Tt.b)(Te=>{const Je=new bn(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot);this.triggerEvent(Je)}),(0,ze.U)(Te=>$=Object.assign(Object.assign({},Te),{guards:ta(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)})),function se(M,O){return(0,qe.z)(T=>{const{targetSnapshot:F,currentSnapshot:$,guards:{canActivateChecks:ie,canDeactivateChecks:_e}}=T;return 0===_e.length&&0===ie.length?(0,ne.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function dt(M,O,T,F){return(0,S.D)(M).pipe((0,qe.z)($=>function Zs(M,O,T,F,$){const ie=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,ne.of)(!0);const _e=ie.map(Te=>{var Je;const Ht=null!==(Je=ur(O))&&void 0!==Je?Je:$,gn=En(Te,Ht);return Xr(function Cr(M){return M&&Es(M.canDeactivate)}(gn)?gn.canDeactivate(M,O,T,F):Ht.runInContext(()=>gn(M,O,T,F))).pipe((0,ke.P)())});return(0,ne.of)(_e).pipe(L())}($.component,$.route,T,O,F)),(0,ke.P)($=>!0!==$,!0))}(_e,F,$,M).pipe((0,qe.z)(Te=>Te&&function yo(M){return"boolean"==typeof M}(Te)?function sn(M,O,T,F){return(0,S.D)(O).pipe((0,Dt.b)($=>(0,re.z)(function is(M,O){return null!==M&&O&&O(new Vn(M)),(0,ne.of)(!0)}($.route.parent,F),function ci(M,O){return null!==M&&O&&O(new Ni(M)),(0,ne.of)(!0)}($.route,F),function Kr(M,O,T){const F=O[O.length-1],ie=O.slice(0,O.length-1).reverse().map(_e=>function Bs(M){const O=M.routeConfig?M.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:M,guards:O}:null}(_e)).filter(_e=>null!==_e).map(_e=>(0,q.P)(()=>{const Te=_e.guards.map(Je=>{var Ht;const gn=null!==(Ht=ur(_e.node))&&void 0!==Ht?Ht:T,zt=En(Je,gn);return Xr(function At(M){return M&&Es(M.canActivateChild)}(zt)?zt.canActivateChild(F,M):gn.runInContext(()=>zt(F,M))).pipe((0,ke.P)())});return(0,ne.of)(Te).pipe(L())}));return(0,ne.of)(ie).pipe(L())}(M,$.path,T),function co(M,O,T){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ne.of)(!0);const $=F.map(ie=>(0,q.P)(()=>{var _e;const Te=null!==(_e=ur(O))&&void 0!==_e?_e:T,Je=En(ie,Te);return Xr(function Aa(M){return M&&Es(M.canActivate)}(Je)?Je.canActivate(O,M):Te.runInContext(()=>Je(O,M))).pipe((0,ke.P)())}));return(0,ne.of)($).pipe(L())}(M,$.route,T))),(0,ke.P)($=>!0!==$,!0))}(F,ie,M,O):(0,ne.of)(Te)),(0,ze.U)(Te=>Object.assign(Object.assign({},T),{guardsResult:Te})))})}(this.ngModule.injector,Te=>this.triggerEvent(Te)),(0,Tt.b)(Te=>{if($.guardsResult=Te.guardsResult,or(Te.guardsResult))throw Ps(0,Te.guardsResult);const Je=new io(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.triggerEvent(Je)}),(0,xt.h)(Te=>!!Te.guardsResult||(this.restoreHistory(Te),this.cancelNavigationTransition(Te,"",3),!1)),at(Te=>{if(Te.guards.canActivateChecks.length)return(0,ne.of)(Te).pipe((0,Tt.b)(Je=>{const Ht=new so(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Ht)}),(0,Ge.w)(Je=>{let Ht=!1;return(0,ne.of)(Je).pipe(function Vo(M,O){return(0,qe.z)(T=>{const{targetSnapshot:F,guards:{canActivateChecks:$}}=T;if(!$.length)return(0,ne.of)(T);let ie=0;return(0,S.D)($).pipe((0,Dt.b)(_e=>function qa(M,O,T,F){const $=M.routeConfig,ie=M._resolve;return void 0!==(null==$?void 0:$.title)&&!Jt($)&&(ie[Mt]=$.title),function fn(M,O,T,F){const $=function an(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===$.length)return(0,ne.of)({});const ie={};return(0,S.D)($).pipe((0,qe.z)(_e=>function zc(M,O,T,F){var $;const ie=null!==($=ur(O))&&void 0!==$?$:F,_e=En(M,ie);return Xr(_e.resolve?_e.resolve(O,T):ie.runInContext(()=>_e(O,T)))}(M[_e],O,T,F).pipe((0,ke.P)(),(0,Tt.b)(Te=>{ie[_e]=Te}))),(0,ot.h)(1),(0,et.h)(ie),(0,Kt.K)(_e=>G(_e)?le.E:(0,Z._)(_e)))}(ie,M,O,F).pipe((0,ze.U)(_e=>(M._resolvedData=_e,M.data=cs(M,T).resolve,$&&Jt($)&&(M.data[Mt]=$.title),null)))}(_e.route,F,M,O)),(0,Tt.b)(()=>ie++),(0,ot.h)(1),(0,qe.z)(_e=>ie===$.length?(0,ne.of)(T):le.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tt.b)({next:()=>Ht=!0,complete:()=>{Ht||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,"",2))}}))}),(0,Tt.b)(Je=>{const Ht=new vi(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Ht)}))}),at(Te=>{const Je=Ht=>{var gn;const zt=[];(null===(gn=Ht.routeConfig)||void 0===gn?void 0:gn.loadComponent)&&!Ht.routeConfig._loadedComponent&&zt.push(this.configLoader.loadComponent(Ht.routeConfig).pipe((0,Tt.b)(hn=>{Ht.component=hn}),(0,ze.U)(()=>{})));for(const hn of Ht.children)zt.push(...Je(hn));return zt};return(0,de.a)(Je(Te.targetSnapshot.root)).pipe((0,Ze.d)(),(0,je.q)(1))}),at(()=>this.afterPreactivation()),(0,ze.U)(Te=>{const Je=function Fi(M,O,T){const F=Os(M,O._root,T?T._root:void 0);return new Nr(F,O)}(this.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return $=Object.assign(Object.assign({},Te),{targetRouterState:Je})}),(0,Tt.b)(Te=>{this.currentUrlTree=Te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),this.routerState=Te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Te),this.browserUrlTree=Te.urlAfterRedirects)}),((M,O,T)=>(0,ze.U)(F=>(new Pr(O,F.targetRouterState,F.currentRouterState,T).activate(M),F)))(this.rootContexts,this.routeReuseStrategy,Te=>this.triggerEvent(Te)),(0,Tt.b)({next(){ie=!0},complete(){ie=!0}}),(0,Nt.x)(()=>{var Te;ie||_e||this.cancelNavigationTransition($,"",1),(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.id)===$.id&&(this.currentNavigation=null)}),(0,Kt.K)(Te=>{var Je;if(_e=!0,Ro(Te)){lo(Te)||(this.navigated=!0,this.restoreHistory($,!0));const Ht=new On($.id,this.serializeUrl($.extractedUrl),Te.message,Te.cancellationCode);if(F.next(Ht),lo(Te)){const gn=this.urlHandlingStrategy.merge(Te.url,this.rawUrlTree),zt={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qt($.source)};this.scheduleNavigation(gn,"imperative",null,zt,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{this.restoreHistory($,!0);const Ht=new In($.id,this.serializeUrl($.extractedUrl),Te,null!==(Je=$.targetSnapshot)&&void 0!==Je?Je:void 0);F.next(Ht);try{$.resolve(this.errorHandler(Te))}catch(gn){$.reject(gn)}}return le.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var $;const ie={replaceUrl:!0},_e=null!==($=T.state)&&void 0!==$&&$.navigationId?T.state:null;if(_e){const Je=Object.assign({},_e);delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(ie.state=Je)}const Te=this.parseUrl(T.url);this.scheduleNavigation(Te,F,_e,ie)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(Di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,F={}){const{relativeTo:$,queryParams:ie,fragment:_e,queryParamsHandling:Te,preserveFragment:Je}=F,Ht=$||this.routerState.root,gn=Je?this.currentUrlTree.fragment:_e;let zt=null;switch(Te){case"merge":zt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ie);break;case"preserve":zt=this.currentUrlTree.queryParams;break;default:zt=ie||null}return null!==zt&&(zt=this.removeEmptyProps(zt)),Ue(Ht,this.currentUrlTree,T,zt,null!=gn?gn:null)}navigateByUrl(T,F={skipLocationChange:!1}){const $=or(T)?T:this.parseUrl(T),ie=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ie,"imperative",null,F)}navigate(T,F={skipLocationChange:!1}){return function Sr(M){for(let O=0;O<M.length;O++){if(null==M[O])throw new f.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch($){F=this.malformedUriErrorHandler($,this.urlSerializer,T)}return F}isActive(T,F){let $;if($=!0===F?Object.assign({},ii):!1===F?Object.assign({},wn):F,or(T))return ls(this.currentUrlTree,T,$);const ie=this.parseUrl(T);return ls(this.currentUrlTree,ie,$)}removeEmptyProps(T){return Object.keys(T).reduce((F,$)=>{const ie=T[$];return null!=ie&&(F[$]=ie),F},{})}processNavigations(){this.navigations.subscribe(T=>{var F;this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new Mn(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(F=this.titleStrategy)||void 0===F||F.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,F,$,ie,_e){var Te,Je;if(this.disposed)return Promise.resolve(!1);let Ht,gn,zt;_e?(Ht=_e.resolve,gn=_e.reject,zt=_e.promise):zt=new Promise((jr,ps)=>{Ht=jr,gn=ps});const hn=++this.navigationId;let pr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),pr=$&&$.\u0275routerPageId?$.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?null!==(Te=this.browserPageId)&&void 0!==Te?Te:0:(null!==(Je=this.browserPageId)&&void 0!==Je?Je:0)+1):pr=0,this.setTransition({id:hn,targetPageId:pr,source:F,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:ie,resolve:Ht,reject:gn,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(jr=>Promise.reject(jr))}setBrowserUrl(T,F){const $=this.urlSerializer.serialize(T),ie=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo($)||F.extras.replaceUrl?this.location.replaceState($,"",ie):this.location.go($,"",ie)}restoreHistory(T,F=!1){var $,ie;if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===_e?this.currentUrlTree===(null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.finalUrl)&&0===_e&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_e)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,F,$){const ie=new On(T.id,this.serializeUrl(T.extractedUrl),F,$);this.triggerEvent(ie),T.resolve(!1)}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return M.\u0275fac=function(T){f.$Z()},M.\u0275prov=f.Yz7({token:M,factory:function(){return _r()},providedIn:"root"}),M})();function qt(M){return"imperative"!==M}let jo=(()=>{class M{constructor(T,F,$,ie,_e){this.router=T,this.route=F,this.tabIndexAttribute=$,this.renderer=ie,this.el=_e,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ke.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const F=this.renderer,$=this.el.nativeElement;null!==T?F.setAttribute($,"tabindex",T):F.removeAttribute($,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(os),f.Y36(Qr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},M.\u0275dir=f.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,F){1&T&&f.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),M})(),ia=(()=>{class M{constructor(T,F,$){this.router=T,this.route=F,this.locationStrategy=$,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ke.x,this.subscription=T.events.subscribe(ie=>{ie instanceof Mn&&this.updateTargetUrlAndHref()})}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:null}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,F,$,ie,_e){return!!(0!==T||F||$||ie||_e||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(os),f.Y36(Qr),f.Y36(Ie.S$))},M.\u0275dir=f.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,F){1&T&&f.NdJ("click",function(ie){return F.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&T&&f.uIk("target",F.target)("href",F.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),M})(),Ao=(()=>{class M{constructor(T,F,$,ie,_e,Te){this.router=T,this.element=F,this.renderer=$,this.cdr=ie,this.link=_e,this.linkWithHref=Te,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=T.events.subscribe(Je=>{Je instanceof Mn&&this.update()})}ngAfterContentInit(){(0,ne.of)(this.links.changes,this.linksWithHrefs.changes,(0,ne.of)(null)).pipe((0,ht.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var T;null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe();const F=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter($=>!!$).map($=>$.onChanges);this.linkInputChangesSubscription=(0,S.D)(F).pipe((0,ht.J)()).subscribe($=>{this.isActive!==this.isLinkActive(this.router)($)&&this.update()})}set routerLinkActive(T){const F=Array.isArray(T)?T:T.split(" ");this.classes=F.filter($=>!!$)}ngOnChanges(T){this.update()}ngOnDestroy(){var T;this.routerEventsSubscription.unsubscribe(),null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this.isActive!==T&&(this.isActive=T,this.cdr.markForCheck(),this.classes.forEach(F=>{T?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const F=function gu(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $=>!!$.urlTree&&T.isActive($.urlTree,F)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.linkWithHref&&T(this.linkWithHref)||this.links.some(T)||this.linksWithHrefs.some(T)}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(os),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(jo,8),f.Y36(ia,8))},M.\u0275dir=f.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(T,F,$){if(1&T&&(f.Suo($,jo,5),f.Suo($,ia,5)),2&T){let ie;f.iGM(ie=f.CRH())&&(F.links=ie),f.iGM(ie=f.CRH())&&(F.linksWithHrefs=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),M})();class xa{}let ll=(()=>{class M{constructor(T,F,$,ie,_e){this.router=T,this.injector=$,this.preloadingStrategy=ie,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,xt.h)(T=>T instanceof Mn),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){var $,ie,_e;const Te=[];for(const Je of F){Je.providers&&!Je._injector&&(Je._injector=(0,f.MMx)(Je.providers,T,`Route: ${Je.path}`));const Ht=null!==($=Je._injector)&&void 0!==$?$:T,gn=null!==(ie=Je._loadedInjector)&&void 0!==ie?ie:Ht;Je.loadChildren&&!Je._loadedRoutes&&void 0===Je.canLoad||Je.loadComponent&&!Je._loadedComponent?Te.push(this.preloadConfig(Ht,Je)):(Je.children||Je._loadedRoutes)&&Te.push(this.processRoutes(gn,null!==(_e=Je.children)&&void 0!==_e?_e:Je._loadedRoutes))}return(0,S.D)(Te).pipe((0,ht.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let $;$=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,ne.of)(null);const ie=$.pipe((0,qe.z)(_e=>{var Te;return null===_e?(0,ne.of)(void 0):(F._loadedRoutes=_e.routes,F._loadedInjector=_e.injector,this.processRoutes(null!==(Te=_e.injector)&&void 0!==Te?Te:T,_e.routes))}));if(F.loadComponent&&!F._loadedComponent){const _e=this.loader.loadComponent(F);return(0,S.D)([ie,_e]).pipe((0,ht.J)())}return ie})}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(os),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(xa),f.LFG(Pa))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const ul=new f.OlP("");let $i=(()=>{class M{constructor(T,F,$={}){this.router=T,this.viewportScroller=F,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof rs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Mn&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof it&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.router.triggerEvent(new it(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(T){f.$Z()},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();function Js(M,O){return{\u0275kind:M,\u0275providers:O}}function ma(M){return[{provide:Oa,multi:!0,useValue:M}]}function Eo(){const M=(0,f.f3M)(f.zs3);return O=>{var T,F;const $=M.get(f.z2F);if(O!==$.components[0])return;const ie=M.get(os),_e=M.get(fs);1===M.get(La)&&ie.initialNavigation(),null===(T=M.get(Ja,null,f.XFs.Optional))||void 0===T||T.setUpPreloading(),null===(F=M.get(ul,null,f.XFs.Optional))||void 0===F||F.init(),ie.resetRootComponentType($.componentTypes[0]),_e.next(),_e.complete()}}const fs=new f.OlP("",{factory:()=>new Ke.x}),La=new f.OlP("",{providedIn:"root",factory:()=>1});const Ja=new f.OlP("");function yu(M){return Js(0,[{provide:Ja,useExisting:ll},{provide:xa,useExisting:M}])}const ho=new f.OlP("ROUTER_FORROOT_GUARD"),Ou=[Ie.Ye,{provide:dn,useClass:on},{provide:os,useFactory:_r},ca,{provide:Qr,useFactory:function Na(M){return M.routerState.root},deps:[os]},Pa];function Fa(){return new f.PXZ("Router",os)}let Ji=(()=>{class M{constructor(T){}static forRoot(T,F){return{ngModule:M,providers:[Ou,[],ma(T),{provide:ho,useFactory:ka,deps:[[os,new f.FiY,new f.tp0]]},{provide:Bo,useValue:F||{}},null!=F&&F.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:ul,useFactory:()=>{const M=(0,f.f3M)(os),O=(0,f.f3M)(Ie.EM),T=(0,f.f3M)(Bo);return T.scrollOffset&&O.setOffset(T.scrollOffset),new $i(M,O,T)}},null!=F&&F.preloadingStrategy?yu(F.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Fa},null!=F&&F.initialNavigation?xi(F):[],[{provide:Jl,useFactory:Eo},{provide:f.tb,multi:!0,useExisting:Jl}]]}}static forChild(T){return{ngModule:M,providers:[ma(T)]}}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(ho,8))},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({imports:[_s]}),M})();function ka(M){return"guarded"}function xi(M){return["disabled"===M.initialNavigation?Js(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(os);return()=>{O.setUpLocationChangeListener()}}},{provide:La,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?Js(2,[{provide:La,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const T=O.get(Ie.V_,Promise.resolve());let F=!1;return()=>T.then(()=>new Promise(ie=>{const _e=O.get(os),Te=O.get(fs);(function $(ie){O.get(os).events.pipe((0,xt.h)(Te=>Te instanceof Mn||Te instanceof On||Te instanceof In),(0,ze.U)(Te=>Te instanceof Mn||Te instanceof On&&(0===Te.code||1===Te.code)&&null),(0,xt.h)(Te=>null!==Te),(0,je.q)(1)).subscribe(()=>{ie()})})(()=>{ie(!0),F=!0}),_e.afterPreactivation=()=>(ie(!0),F||Te.closed?(0,ne.of)(void 0):Te),_e.initialNavigation()}))}}]).\u0275providers:[]]}const Jl=new f.OlP("")},6881:(Ce,ae,D)=>{D.d(ae,{Jn:()=>$r,qX:()=>dn,Xd:()=>pt,Mq:()=>rn,C6:()=>$n,ZF:()=>xn,KN:()=>kn});var f=D(5861),S=D(4859),ne=D(1877),H=D(2090);let de,re;const Z=new WeakMap,ee=new WeakMap,le=new WeakMap,Ne=new WeakMap,Ke=new WeakMap;let Ge={get(Pe,Le,gt){if(Pe instanceof IDBTransaction){if("done"===Le)return ee.get(Pe);if("objectStoreNames"===Le)return Pe.objectStoreNames||le.get(Pe);if("store"===Le)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return qe(Pe[Le])},set:(Pe,Le,gt)=>(Pe[Le]=gt,!0),has:(Pe,Le)=>Pe instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in Pe};function xt(Pe){return"function"==typeof Pe?function mt(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...Le){return Pe.apply(ke(this),Le),qe(Z.get(this))}:function(...Le){return qe(Pe.apply(ke(this),Le))}:function(Le,...gt){const Wt=Pe.call(ke(this),Le,...gt);return le.set(Wt,Le.sort?Le.sort():[Le]),qe(Wt)}}(Pe):(Pe instanceof IDBTransaction&&function ze(Pe){if(ee.has(Pe))return;const Le=new Promise((gt,Wt)=>{const Dn=()=>{Pe.removeEventListener("complete",Cn),Pe.removeEventListener("error",Wn),Pe.removeEventListener("abort",Wn)},Cn=()=>{gt(),Dn()},Wn=()=>{Wt(Pe.error||new DOMException("AbortError","AbortError")),Dn()};Pe.addEventListener("complete",Cn),Pe.addEventListener("error",Wn),Pe.addEventListener("abort",Wn)});ee.set(Pe,Le)}(Pe),((Pe,Le)=>Le.some(gt=>Pe instanceof gt))(Pe,function q(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,Ge):Pe)}function qe(Pe){if(Pe instanceof IDBRequest)return function Ie(Pe){const Le=new Promise((gt,Wt)=>{const Dn=()=>{Pe.removeEventListener("success",Cn),Pe.removeEventListener("error",Wn)},Cn=()=>{gt(qe(Pe.result)),Dn()},Wn=()=>{Wt(Pe.error),Dn()};Pe.addEventListener("success",Cn),Pe.addEventListener("error",Wn)});return Le.then(gt=>{gt instanceof IDBCursor&&Z.set(gt,Pe)}).catch(()=>{}),Ke.set(Le,Pe),Le}(Pe);if(Ne.has(Pe))return Ne.get(Pe);const Le=xt(Pe);return Le!==Pe&&(Ne.set(Pe,Le),Ke.set(Le,Pe)),Le}const ke=Pe=>Ke.get(Pe),Kt=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Pt=new Map;function tt(Pe,Le){if(!(Pe instanceof IDBDatabase)||Le in Pe||"string"!=typeof Le)return;if(Pt.get(Le))return Pt.get(Le);const gt=Le.replace(/FromIndex$/,""),Wt=Le!==gt,Dn=Gt.includes(gt);if(!(gt in(Wt?IDBIndex:IDBObjectStore).prototype)||!Dn&&!Kt.includes(gt))return;const Cn=function(){var Wn=(0,f.Z)(function*(ir,...ai){const Yr=this.transaction(ir,Dn?"readwrite":"readonly");let Sn=Yr.store;return Wt&&(Sn=Sn.index(ai.shift())),(yield Promise.all([Sn[gt](...ai),Dn&&Yr.done]))[0]});return function(ai){return Wn.apply(this,arguments)}}();return Pt.set(Le,Cn),Cn}!function je(Pe){Ge=Pe(Ge)}(Pe=>j0(B0({},Pe),{get:(Le,gt,Wt)=>tt(Le,gt)||Pe.get(Le,gt,Wt),has:(Le,gt)=>!!tt(Le,gt)||Pe.has(Le,gt)}));class Ze{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function ot(Pe){const Le=Pe.getComponent();return"VERSION"===(null==Le?void 0:Le.type)}(gt)){const Wt=gt.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(gt=>gt).join(" ")}}const et="@firebase/app",St=new ne.Yd("@firebase/app"),oi="[DEFAULT]",br={[et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$e=new Map,Oe=new Map;function Ee(Pe,Le){try{Pe.container.addComponent(Le)}catch(gt){St.debug(`Component ${Le.name} failed to register with FirebaseApp ${Pe.name}`,gt)}}function pt(Pe){const Le=Pe.name;if(Oe.has(Le))return St.debug(`There were multiple attempts to register component ${Le}.`),!1;Oe.set(Le,Pe);for(const gt of $e.values())Ee(gt,Pe);return!0}function dn(Pe,Le){const gt=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),Pe.container.getProvider(Le)}const Hn=new H.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(Le,gt,Wt){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const $r="9.17.1";function xn(Pe,Le={}){let gt=Pe;"object"!=typeof Le&&(Le={name:Le});const Wt=Object.assign({name:oi,automaticDataCollectionEnabled:!1},Le),Dn=Wt.name;if("string"!=typeof Dn||!Dn)throw Hn.create("bad-app-name",{appName:String(Dn)});if(gt||(gt=(0,H.aH)()),!gt)throw Hn.create("no-options");const Cn=$e.get(Dn);if(Cn){if((0,H.vZ)(gt,Cn.options)&&(0,H.vZ)(Wt,Cn.config))return Cn;throw Hn.create("duplicate-app",{appName:Dn})}const Wn=new S.H0(Dn);for(const ai of Oe.values())Wn.addComponent(ai);const ir=new zn(gt,Wt,Wn);return $e.set(Dn,ir),ir}function rn(Pe=oi){const Le=$e.get(Pe);if(!Le&&Pe===oi)return xn();if(!Le)throw Hn.create("no-app",{appName:Pe});return Le}function $n(){return Array.from($e.values())}function kn(Pe,Le,gt){var Wt;let Dn=null!==(Wt=br[Pe])&&void 0!==Wt?Wt:Pe;gt&&(Dn+=`-${gt}`);const Cn=Dn.match(/\s|\//),Wn=Le.match(/\s|\//);if(Cn||Wn){const ir=[`Unable to register library "${Dn}" with version "${Le}":`];return Cn&&ir.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),Cn&&Wn&&ir.push("and"),Wn&&ir.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void St.warn(ir.join(" "))}pt(new S.wA(`${Dn}-version`,()=>({library:Dn,version:Le}),"VERSION"))}const Ae="firebase-heartbeat-store";let Be=null;function Et(){return Be||(Be=function Dt(Pe,Le,{blocked:gt,upgrade:Wt,blocking:Dn,terminated:Cn}={}){const Wn=indexedDB.open(Pe,Le),ir=qe(Wn);return Wt&&Wn.addEventListener("upgradeneeded",ai=>{Wt(qe(Wn.result),ai.oldVersion,ai.newVersion,qe(Wn.transaction))}),gt&&Wn.addEventListener("blocked",()=>gt()),ir.then(ai=>{Cn&&ai.addEventListener("close",()=>Cn()),Dn&&ai.addEventListener("versionchange",()=>Dn())}).catch(()=>{}),ir}("firebase-heartbeat-database",1,{upgrade:(Pe,Le)=>{0===Le&&Pe.createObjectStore(Ae)}}).catch(Pe=>{throw Hn.create("idb-open",{originalErrorMessage:Pe.message})})),Be}function $t(){return($t=(0,f.Z)(function*(Pe){try{return(yield Et()).transaction(Ae).objectStore(Ae).get(or(Pe))}catch(Le){if(Le instanceof H.ZR)St.warn(Le.message);else{const gt=Hn.create("idb-get",{originalErrorMessage:null==Le?void 0:Le.message});St.warn(gt.message)}}})).apply(this,arguments)}function en(Pe,Le){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(Pe,Le){try{const Wt=(yield Et()).transaction(Ae,"readwrite");return yield Wt.objectStore(Ae).put(Le,or(Pe)),Wt.done}catch(gt){if(gt instanceof H.ZR)St.warn(gt.message);else{const Wt=Hn.create("idb-set",{originalErrorMessage:null==gt?void 0:gt.message});St.warn(Wt.message)}}})).apply(this,arguments)}function or(Pe){return`${Pe.name}!${Pe.options.appId}`}class Se{constructor(Le){this.container=Le,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new ut(gt),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var Le=this;return(0,f.Z)(function*(){const Wt=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dn=me();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==Dn&&!Le._heartbeatsCache.heartbeats.some(Cn=>Cn.date===Dn))return Le._heartbeatsCache.heartbeats.push({date:Dn,agent:Wt}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(Cn=>{const Wn=new Date(Cn.date).valueOf();return Date.now()-Wn<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,f.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const gt=me(),{heartbeatsToSend:Wt,unsentEntries:Dn}=function Ue(Pe,Le=1024){const gt=[];let Wt=Pe.slice();for(const Dn of Pe){const Cn=gt.find(Wn=>Wn.agent===Dn.agent);if(Cn){if(Cn.dates.push(Dn.date),ln(gt)>Le){Cn.dates.pop();break}}else if(gt.push({agent:Dn.agent,dates:[Dn.date]}),ln(gt)>Le){gt.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:gt,unsentEntries:Wt}}(Le._heartbeatsCache.heartbeats),Cn=(0,H.L)(JSON.stringify({version:2,heartbeats:Wt}));return Le._heartbeatsCache.lastSentHeartbeatDate=gt,Dn.length>0?(Le._heartbeatsCache.heartbeats=Dn,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),Cn})()}}function me(){return(new Date).toISOString().substring(0,10)}class ut{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,H.hl)()&&(0,H.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,f.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function We(Pe){return $t.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var gt=this;return(0,f.Z)(function*(){var Wt;if(yield gt._canUseIndexedDBPromise){const Cn=yield gt.read();return en(gt.app,{lastSentHeartbeatDate:null!==(Wt=Le.lastSentHeartbeatDate)&&void 0!==Wt?Wt:Cn.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var gt=this;return(0,f.Z)(function*(){var Wt;if(yield gt._canUseIndexedDBPromise){const Cn=yield gt.read();return en(gt.app,{lastSentHeartbeatDate:null!==(Wt=Le.lastSentHeartbeatDate)&&void 0!==Wt?Wt:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...Le.heartbeats]})}})()}}function ln(Pe){return(0,H.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function un(Pe){pt(new S.wA("platform-logger",Le=>new Ze(Le),"PRIVATE")),pt(new S.wA("heartbeat",Le=>new Se(Le),"PRIVATE")),kn(et,"0.9.3",Pe),kn(et,"0.9.3","esm2017"),kn("fire-js","")}("")},4859:(Ce,ae,D)=>{D.d(ae,{H0:()=>q,wA:()=>ne});var f=D(5861),S=D(2090);class ne{constructor(Z,ee,le){this.name=Z,this.instanceFactory=ee,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const H="[DEFAULT]";class Q{constructor(Z,ee){this.name=Z,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const ee=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(ee)){const le=new S.BH;if(this.instancesDeferred.set(ee,le),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:ee});Ne&&le.resolve(Ne)}catch(Ne){}}return this.instancesDeferred.get(ee).promise}getImmediate(Z){var ee;const le=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),Ne=null!==(ee=null==Z?void 0:Z.optional)&&void 0!==ee&&ee;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Ke){if(Ne)return null;throw Ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function re(he){return"EAGER"===he.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:H})}catch(ee){}for(const[ee,le]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(ee);try{const Ke=this.getOrInitializeService({instanceIdentifier:Ne});le.resolve(Ke)}catch(Ke){}}}}clearInstance(Z=H){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,f.Z)(function*(){const ee=Array.from(Z.instances.values());yield Promise.all([...ee.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...ee.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=H){return this.instances.has(Z)}getOptions(Z=H){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:ee={}}=Z,le=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:le,options:ee});for(const[Ke,Ie]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Ke)&&Ie.resolve(Ne);return Ne}onInit(Z,ee){var le;const Ne=this.normalizeInstanceIdentifier(ee),Ke=null!==(le=this.onInitCallbacks.get(Ne))&&void 0!==le?le:new Set;Ke.add(Z),this.onInitCallbacks.set(Ne,Ke);const Ie=this.instances.get(Ne);return Ie&&Z(Ie,Ne),()=>{Ke.delete(Z)}}invokeOnInitCallbacks(Z,ee){const le=this.onInitCallbacks.get(ee);if(le)for(const Ne of le)try{Ne(Z,ee)}catch(Ke){}}getOrInitializeService({instanceIdentifier:Z,options:ee={}}){let le=this.instances.get(Z);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(he=Z,he===H?void 0:he),options:ee}),this.instances.set(Z,le),this.instancesOptions.set(Z,ee),this.invokeOnInitCallbacks(le,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,le)}catch(Ne){}var he;return le||null}normalizeInstanceIdentifier(Z=H){return this.component?this.component.multipleInstances?Z:H:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const ee=this.getProvider(Z.name);if(ee.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);ee.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const ee=new Q(Z,this);return this.providers.set(Z,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Ce,ae,D)=>{D.d(ae,{Yd:()=>re,in:()=>S});const f=[];var S=(()=>{return(Z=S||(S={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",S;var Z})();const ne={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},H=S.INFO,Q={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},de=(Z,ee,...le)=>{if(ee<Z.logLevel)return;const Ne=(new Date).toISOString(),Ke=Q[ee];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ke](`[${Ne}]  ${Z.name}:`,...le)};class re{constructor(ee){this.name=ee,this._logLevel=H,this._logHandler=de,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in S))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?ne[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...ee),this._logHandler(this,S.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...ee),this._logHandler(this,S.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,S.INFO,...ee),this._logHandler(this,S.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,S.WARN,...ee),this._logHandler(this,S.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...ee),this._logHandler(this,S.ERROR,...ee)}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5094),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ae,D){if(this.action=ae,this.timestamp=D,this.type=PERFORM_ACTION,void 0===ae.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ae){this.timestamp=ae,this.type=RESET}}class Rollback{constructor(ae){this.timestamp=ae,this.type=ROLLBACK}}class Commit{constructor(ae){this.timestamp=ae,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ae){this.id=ae,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ae,D,f=!0){this.start=ae,this.end=D,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ae){this.index=ae,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ae){this.actionId=ae,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ae){this.nextLiftedState=ae,this.type=IMPORT_STATE}}class LockChanges{constructor(ae){this.status=ae,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ae){this.status=ae,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ce){const ae={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof Ce?Ce():Ce,ne=Object.assign({},ae,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||ae.features},D);if(ne.maxAge&&ne.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${ne.maxAge}`);return ne}function difference(Ce,ae){return Ce.filter(D=>ae.indexOf(D)<0)}function unliftState(Ce){const{computedStates:ae,currentStateIndex:D}=Ce;if(D>=ae.length){const{state:S}=ae[ae.length-1];return S}const{state:f}=ae[D];return f}function unliftAction(Ce){return Ce.actionsById[Ce.nextActionId-1]}function liftAction(Ce){return new PerformAction(Ce,+Date.now())}function sanitizeActions(Ce,ae){return Object.keys(ae).reduce((D,f)=>{const S=Number(f);return D[S]=sanitizeAction(Ce,ae[S],S),D},{})}function sanitizeAction(Ce,ae,D){return Object.assign(Object.assign({},ae),{action:Ce(ae.action,D)})}function sanitizeStates(Ce,ae){return ae.map((D,f)=>({state:sanitizeState(Ce,D.state,f),error:D.error}))}function sanitizeState(Ce,ae,D){return Ce(ae,D)}function shouldFilterActions(Ce){return Ce.predicate||Ce.actionsSafelist||Ce.actionsBlocklist}function filterLiftedState(Ce,ae,D,f){const S=[],ne={},H=[];return Ce.stagedActionIds.forEach((Q,de)=>{const re=Ce.actionsById[Q];!re||de&&isActionFiltered(Ce.computedStates[de],re,ae,D,f)||(ne[Q]=re,S.push(Q),H.push(Ce.computedStates[de]))}),Object.assign(Object.assign({},Ce),{stagedActionIds:S,actionsById:ne,computedStates:H})}function isActionFiltered(Ce,ae,D,f,S){const ne=D&&!D(Ce,ae.action),H=f&&!ae.action.type.match(f.map(de=>escapeRegExp(de)).join("|")),Q=S&&ae.action.type.match(S.map(de=>escapeRegExp(de)).join("|"));return ne||H||Q}function escapeRegExp(Ce){return Ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Ce extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ce.\u0275fac=function(){let ae;return function(f){return(ae||(ae=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ce)))(f||Ce)}}(),Ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ce,ae,D){this.config=ae,this.dispatcher=D,this.devtoolsExtension=Ce,this.createActionStreams()}notify(Ce,ae){if(this.devtoolsExtension)if(Ce.type===PERFORM_ACTION){if(ae.isLocked||ae.isPaused)return;const D=unliftState(ae);if(shouldFilterActions(this.config)&&isActionFiltered(D,Ce,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,ae.currentStateIndex):D,S=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ce,ae.nextActionId):Ce;this.sendToReduxDevtools(()=>this.extensionConnection.send(S,f))}else{const D=Object.assign(Object.assign({},ae),{stagedActionIds:ae.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ae.actionsById):ae.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ae.computedStates):ae.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ce=>{const ae=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ae,ae.init(),ae.subscribe(D=>Ce.next(D)),ae.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ce=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ae=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.START)),D=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.STOP)),f=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Q=>this.unwrapAction(Q.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Q=>Q.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Q),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Q)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Q))),ne=Ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Q=>this.unwrapAction(Q.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),H=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ne)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>H))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ce){var ae;const D={name:Ce.name,features:Ce.features,serialize:Ce.serialize,autoPause:null!==(ae=Ce.autoPause)&&void 0!==ae&&ae};return!1!==Ce.maxAge&&(D.maxAge=Ce.maxAge),D}sendToReduxDevtools(Ce){try{Ce()}catch(ae){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ae)}}}return DevtoolsExtension.\u0275fac=function Ce(ae){return new(ae||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ce,ae,D,f,S){if(f)return{state:D,error:"Interrupted by an error up the chain"};let H,ne=D;try{ne=Ce(D,ae)}catch(Q){H=Q.toString(),S.handleError(Q)}return{state:ne,error:H}}function recomputeStates(Ce,ae,D,f,S,ne,H,Q,de){if(ae>=Ce.length&&Ce.length===ne.length)return Ce;const re=Ce.slice(0,ae),q=ne.length-(de?1:0);for(let he=ae;he<q;he++){const Z=ne[he],ee=S[Z].action,le=re[he-1],Ne=le?le.state:f,Ke=le?le.error:void 0,ze=H.indexOf(Z)>-1?le:computeNextEntry(D,ee,Ne,Ke,Q);re.push(ze)}return de&&re.push(Ce[Ce.length-1]),re}function liftInitialState(Ce,ae){return{monitorState:ae(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ce,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ce,ae,D,f,S={}){return ne=>(H,Q)=>{let{monitorState:de,actionsById:re,nextActionId:q,stagedActionIds:he,skippedActionIds:Z,committedState:ee,currentStateIndex:le,computedStates:Ne,isLocked:Ke,isPaused:Ie}=H||ae;function ze(mt){let xt=mt,qe=he.slice(1,xt+1);for(let ke=0;ke<qe.length;ke++){if(Ne[ke+1].error){xt=ke,qe=he.slice(1,xt+1);break}delete re[qe[ke]]}Z=Z.filter(ke=>-1===qe.indexOf(ke)),he=[0,...he.slice(xt+1)],ee=Ne[xt].state,Ne=Ne.slice(xt),le=le>xt?le-xt:0}function Ge(){re={0:liftAction(INIT_ACTION)},q=1,he=[0],Z=[],ee=Ne[le].state,le=0,Ne=[]}H||(re=Object.create(re));let je=0;switch(Q.type){case LOCK_CHANGES:Ke=Q.status,je=1/0;break;case PAUSE_RECORDING:Ie=Q.status,Ie?(he=[...he,q],re[q]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),q++,je=he.length-1,Ne=Ne.concat(Ne[Ne.length-1]),le===he.length-2&&le++,je=1/0):Ge();break;case RESET:re={0:liftAction(INIT_ACTION)},q=1,he=[0],Z=[],ee=Ce,le=0,Ne=[];break;case COMMIT:Ge();break;case ROLLBACK:re={0:liftAction(INIT_ACTION)},q=1,he=[0],Z=[],le=0,Ne=[];break;case TOGGLE_ACTION:{const{id:mt}=Q;Z=-1===Z.indexOf(mt)?[mt,...Z]:Z.filter(qe=>qe!==mt),je=he.indexOf(mt);break}case SET_ACTIONS_ACTIVE:{const{start:mt,end:xt,active:qe}=Q,ke=[];for(let Dt=mt;Dt<xt;Dt++)ke.push(Dt);Z=qe?difference(Z,ke):[...Z,...ke],je=he.indexOf(mt);break}case JUMP_TO_STATE:le=Q.index,je=1/0;break;case JUMP_TO_ACTION:{const mt=he.indexOf(Q.actionId);-1!==mt&&(le=mt),je=1/0;break}case SWEEP:he=difference(he,Z),Z=[],le=Math.min(le,he.length-1);break;case PERFORM_ACTION:{if(Ke)return H||ae;if(Ie||H&&isActionFiltered(H.computedStates[le],Q,S.predicate,S.actionsSafelist,S.actionsBlocklist)){const xt=Ne[Ne.length-1];Ne=[...Ne.slice(0,-1),computeNextEntry(ne,Q.action,xt.state,xt.error,D)],je=1/0;break}S.maxAge&&he.length===S.maxAge&&ze(1),le===he.length-1&&le++;const mt=q++;re[mt]=Q,he=[...he,mt],je=he.length-1;break}case IMPORT_STATE:({monitorState:de,actionsById:re,nextActionId:q,stagedActionIds:he,skippedActionIds:Z,committedState:ee,currentStateIndex:le,computedStates:Ne,isLocked:Ke,isPaused:Ie}=Q.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:je=0,S.maxAge&&he.length>S.maxAge&&(Ne=recomputeStates(Ne,je,ne,ee,re,he,Z,D,Ie),ze(he.length-S.maxAge),je=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ne.filter(xt=>xt.error).length>0)je=0,S.maxAge&&he.length>S.maxAge&&(Ne=recomputeStates(Ne,je,ne,ee,re,he,Z,D,Ie),ze(he.length-S.maxAge),je=1/0);else{if(!Ie&&!Ke){le===he.length-1&&le++;const xt=q++;re[xt]=new PerformAction(Q,+Date.now()),he=[...he,xt],je=he.length-1,Ne=recomputeStates(Ne,je,ne,ee,re,he,Z,D,Ie)}Ne=Ne.map(xt=>Object.assign(Object.assign({},xt),{state:ne(xt.state,RECOMPUTE_ACTION)})),le=he.length-1,S.maxAge&&he.length>S.maxAge&&ze(he.length-S.maxAge),je=1/0}break;default:je=1/0}return Ne=recomputeStates(Ne,je,ne,ee,re,he,Z,D,Ie),de=f(de,Q),{monitorState:de,actionsById:re,nextActionId:q,stagedActionIds:he,skippedActionIds:Z,committedState:ee,currentStateIndex:le,computedStates:Ne,isLocked:Ke,isPaused:Ie}}}let StoreDevtools=(()=>{class Ce{constructor(D,f,S,ne,H,Q,de,re){const q=liftInitialState(de,re.monitor),he=liftReducerWith(de,q,Q,re.monitor,re),Z=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),ne.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,ne.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ee=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(he)),le=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ne=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ee),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ge},[je,mt])=>{let xt=mt(Ge,je);return je.type!==PERFORM_ACTION&&shouldFilterActions(re)&&(xt=filterLiftedState(xt,re.predicate,re.actionsSafelist,re.actionsBlocklist)),ne.notify(je,xt),{state:xt,action:je}},{state:q,action:null})).subscribe(({state:Ge,action:je})=>{le.next(Ge),je.type===PERFORM_ACTION&&H.next(je.action)}),Ke=ne.start$.subscribe(()=>{this.refresh()}),Ie=le.asObservable(),ze=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ke,this.stateSubscription=Ne,this.dispatcher=D,this.liftedState=Ie,this.state=ze}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return Ce.\u0275fac=function(D){return new(D||Ce)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ce,ae){return Boolean(Ce)||ae.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ce="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Ce]?window[Ce]:null}function provideStoreDevtools(Ce={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Ce},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(Ce){return Ce.state}let StoreDevtoolsModule=(()=>{class Ce{static instrument(D={}){return{ngModule:Ce,providers:[...provideStoreDevtools(D).\u0275providers]}}}return Ce.\u0275fac=function(D){return new(D||Ce)},Ce.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ce}),Ce.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ce})()},5094:(Ce,ae,D)=>{D.d(ae,{Aw:()=>Vn,CK:()=>Jn,FR:()=>$e,Ky:()=>Ie,Lq:()=>Ni,P1:()=>en,PH:()=>Ke,UO:()=>Tt,Y$:()=>oi,Y6:()=>tt,Ys:()=>on,ZF:()=>Ar,cr:()=>Pi,mK:()=>mi,n$:()=>Qt,on:()=>Fr,qC:()=>lr,qg:()=>Dt,wb:()=>Si,yh:()=>pt});var f=D(5e3),S=D(1135),ne=D(9751),H=D(7579),Q=D(233),de=D(5363),re=D(1365),q=D(5026),he=D(4813),Z=D(4004),ee=D(1884);const le={};function Ke(we,it){if(le[we]=(le[we]||0)+1,"function"==typeof it)return Ge(we,(...yt)=>Object.assign(Object.assign({},it(...yt)),{type:we}));switch(it?it._as:"empty"){case"empty":return Ge(we,()=>({type:we}));case"props":return Ge(we,yt=>Object.assign(Object.assign({},yt),{type:we}));default:throw new Error("Unexpected config.")}}function Ie(){return{_as:"props",_p:void 0}}function Ge(we,it){return Object.defineProperty(it,"type",{value:we,writable:!1})}const Dt="@ngrx/store/init";let Tt=(()=>{class we extends S.X{constructor(){super({type:Dt})}next(Qe){if("function"==typeof Qe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Qe)throw new TypeError("Actions must be objects");if(void 0===Qe.type)throw new TypeError("Actions must have a type property");super.next(Qe)}complete(){}ngOnDestroy(){super.complete()}}return we.\u0275fac=function(Qe){return new(Qe||we)},we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac}),we})();const Kt=[Tt],Gt=new f.OlP("@ngrx/store Internal Root Guard"),Pt=new f.OlP("@ngrx/store Internal Initial State"),tt=new f.OlP("@ngrx/store Initial State"),Ze=new f.OlP("@ngrx/store Reducer Factory"),ot=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),et=new f.OlP("@ngrx/store Initial Reducers"),Nt=new f.OlP("@ngrx/store Internal Initial Reducers"),St=new f.OlP("@ngrx/store Store Features"),ht=new f.OlP("@ngrx/store Internal Store Reducers"),Fn=new f.OlP("@ngrx/store Internal Feature Reducers"),Yt=new f.OlP("@ngrx/store Internal Feature Configs"),Mt=new f.OlP("@ngrx/store Internal Store Features"),hr=new f.OlP("@ngrx/store Internal Feature Reducers Token"),Ur=new f.OlP("@ngrx/store Feature Reducers"),wr=new f.OlP("@ngrx/store User Provided Meta Reducers"),nr=new f.OlP("@ngrx/store Meta Reducers"),Lr=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),dr=new f.OlP("@ngrx/store User Runtime Checks Config"),Ti=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),gi=new f.OlP("@ngrx/store Internal Runtime Checks"),Jr=new f.OlP("@ngrx/store Check if Action types are unique");function Hr(we,it={}){const Qe=Object.keys(we),yt={};for(let kt=0;kt<Qe.length;kt++){const Gn=Qe[kt];"function"==typeof we[Gn]&&(yt[Gn]=we[Gn])}const tn=Object.keys(yt);return function(Gn,Wr){Gn=void 0===Gn?it:Gn;let Nr=!1;const Li={};for(let Dr=0;Dr<tn.length;Dr++){const Qr=tn[Dr],ds=Gn[Qr],Us=(0,yt[Qr])(ds,Wr);Li[Qr]=Us,Nr=Nr||Us!==ds}return Nr?Li:Gn}}function lr(...we){return function(it){if(0===we.length)return it;const Qe=we[we.length-1];return we.slice(0,-1).reduceRight((tn,kt)=>kt(tn),Qe(it))}}function yr(we,it){return Array.isArray(it)&&it.length>0&&(we=lr.apply(null,[...it,we])),(Qe,yt)=>{const tn=we(Qe);return(kt,Gn)=>tn(kt=void 0===kt?yt:kt,Gn)}}new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class Qt extends ne.y{}class mi extends Tt{}const Si="@ngrx/store/update-reducers";let Er=(()=>{class we extends S.X{constructor(Qe,yt,tn,kt){super(kt(tn,yt)),this.dispatcher=Qe,this.initialState=yt,this.reducers=tn,this.reducerFactory=kt}get currentReducers(){return this.reducers}addFeature(Qe){this.addFeatures([Qe])}addFeatures(Qe){const yt=Qe.reduce((tn,{reducers:kt,reducerFactory:Gn,metaReducers:Wr,initialState:Nr,key:Li})=>{const Dr="function"==typeof kt?function ls(we){const it=Array.isArray(we)&&we.length>0?lr(...we):Qe=>Qe;return(Qe,yt)=>(Qe=it(Qe),(tn,kt)=>Qe(tn=void 0===tn?yt:tn,kt))}(Wr)(kt,Nr):yr(Gn,Wr)(kt,Nr);return tn[Li]=Dr,tn},{});this.addReducers(yt)}removeFeature(Qe){this.removeFeatures([Qe])}removeFeatures(Qe){this.removeReducers(Qe.map(yt=>yt.key))}addReducer(Qe,yt){this.addReducers({[Qe]:yt})}addReducers(Qe){this.reducers=Object.assign(Object.assign({},this.reducers),Qe),this.updateReducers(Object.keys(Qe))}removeReducer(Qe){this.removeReducers([Qe])}removeReducers(Qe){Qe.forEach(yt=>{this.reducers=function xr(we,it){return Object.keys(we).filter(Qe=>Qe!==it).reduce((Qe,yt)=>Object.assign(Qe,{[yt]:we[yt]}),{})}(this.reducers,yt)}),this.updateReducers(Qe)}updateReducers(Qe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Si,features:Qe})}ngOnDestroy(){this.complete()}}return we.\u0275fac=function(Qe){return new(Qe||we)(f.LFG(mi),f.LFG(tt),f.LFG(et),f.LFG(Ze))},we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac}),we})();const Ki=[Er,{provide:Qt,useExisting:Er},{provide:mi,useExisting:Tt}];let oi=(()=>{class we extends H.x{ngOnDestroy(){this.complete()}}return we.\u0275fac=function(){let it;return function(yt){return(it||(it=f.n5z(we)))(yt||we)}}(),we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac}),we})();const br=[oi];class $e extends ne.y{}let Oe=(()=>{class we extends S.X{constructor(Qe,yt,tn,kt){super(kt);const Li=Qe.pipe((0,de.Q)(Q.N)).pipe((0,re.M)(yt)).pipe((0,q.R)(Ee,{state:kt}));this.stateSubscription=Li.subscribe(({state:Dr,action:Qr})=>{this.next(Dr),tn.next(Qr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return we.INIT=Dt,we.\u0275fac=function(Qe){return new(Qe||we)(f.LFG(Tt),f.LFG(Qt),f.LFG(oi),f.LFG(tt))},we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac}),we})();function Ee(we={state:void 0},[it,Qe]){const{state:yt}=we;return{state:Qe(yt,it),action:it}}const nt=[Oe,{provide:$e,useExisting:Oe}];let pt=(()=>{class we extends ne.y{constructor(Qe,yt,tn){super(),this.actionsObserver=yt,this.reducerManager=tn,this.source=Qe}select(Qe,...yt){return on.call(null,Qe,...yt)(this)}lift(Qe){const yt=new we(this,this.actionsObserver,this.reducerManager);return yt.operator=Qe,yt}dispatch(Qe){this.actionsObserver.next(Qe)}next(Qe){this.actionsObserver.next(Qe)}error(Qe){this.actionsObserver.error(Qe)}complete(){this.actionsObserver.complete()}addReducer(Qe,yt){this.reducerManager.addReducer(Qe,yt)}removeReducer(Qe){this.reducerManager.removeReducer(Qe)}}return we.\u0275fac=function(Qe){return new(Qe||we)(f.LFG($e),f.LFG(Tt),f.LFG(Er))},we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac}),we})();const dn=[pt];function on(we,it,...Qe){return function(tn){let kt;if("string"==typeof we){const Gn=[it,...Qe].filter(Boolean);kt=tn.pipe((0,he.j)(we,...Gn))}else{if("function"!=typeof we)throw new TypeError(`Unexpected type '${typeof we}' in select operator, expected 'string' or 'function'`);kt=tn.pipe((0,Z.U)(Gn=>we(Gn,it)))}return kt.pipe((0,ee.x)())}}const rr="https://ngrx.io/guide/store/configuration/runtime-checks";function Ft(we){return void 0===we}function Hn(we){return null===we}function zn(we){return Array.isArray(we)}function $n(we){return"object"==typeof we&&null!==we}function kn(we){return"function"==typeof we}function Be(we,it){return we===it}function Et(we,it,Qe){for(let yt=0;yt<we.length;yt++)if(!Qe(we[yt],it[yt]))return!0;return!1}function $t(we,it=Be,Qe=Be){let kt,yt=null,tn=null;return{memoized:function Li(){if(void 0!==kt)return kt.result;if(!yt)return tn=we.apply(null,arguments),yt=arguments,tn;if(!Et(arguments,yt,it))return tn;const Dr=we.apply(null,arguments);return yt=arguments,Qe(tn,Dr)?tn:(tn=Dr,Dr)},reset:function Gn(){yt=null,tn=null},setResult:function Wr(Dr){kt={result:Dr}},clearResult:function Nr(){kt=void 0}}}function en(...we){return function or(we,it={stateFn:Un}){return function(...Qe){let yt=Qe;if(Array.isArray(yt[0])){const[Dr,...Qr]=yt;yt=[...Dr,...Qr]}const tn=yt.slice(0,yt.length-1),kt=yt[yt.length-1],Gn=tn.filter(Dr=>Dr.release&&"function"==typeof Dr.release),Wr=we(function(...Dr){return kt.apply(null,Dr)}),Nr=$t(function(Dr,Qr){return it.stateFn.apply(null,[Dr,tn,Qr,Wr])});return Object.assign(Nr.memoized,{release:function Li(){Nr.reset(),Wr.reset(),Gn.forEach(Dr=>Dr.release())},projector:Wr.memoized,setResult:Nr.setResult,clearResult:Nr.clearResult})}}($t)(...we)}function Un(we,it,Qe,yt){if(void 0===Qe){const kt=it.map(Gn=>Gn(we));return yt.memoized.apply(null,kt)}const tn=it.map(kt=>kt(we,Qe));return yt.memoized.apply(null,[...tn,Qe])}function Ar(we){return en(it=>{const Qe=it[we];return(0,f.X6Q)()&&!(we in it)&&console.warn(`@ngrx/store: The feature name "${we}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${we}', ...) or StoreModule.forFeature('${we}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Qe},it=>it)}function Ue(we,it){return it instanceof f.OlP?we.get(it):it}function ut(we,it,Qe){return Qe.map((yt,tn)=>{if(it[tn]instanceof f.OlP){const kt=we.get(it[tn]);return{key:yt.key,reducerFactory:kt.reducerFactory?kt.reducerFactory:Hr,metaReducers:kt.metaReducers?kt.metaReducers:[],initialState:kt.initialState}}return yt})}function ln(we,it){return it.map(yt=>yt instanceof f.OlP?we.get(yt):yt)}function un(we){return"function"==typeof we?we():we}function Pe(we,it){return we.concat(it)}function Le(we){if(we)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Wt(we){Object.freeze(we);const it=kn(we);return Object.getOwnPropertyNames(we).forEach(Qe=>{if(!Qe.startsWith("\u0275")&&function zi(we,it){return Object.prototype.hasOwnProperty.call(we,it)}(we,Qe)&&(!it||"caller"!==Qe&&"callee"!==Qe&&"arguments"!==Qe)){const yt=we[Qe];($n(yt)||kn(yt))&&!Object.isFrozen(yt)&&Wt(yt)}}),we}function Cn(we,it=[]){return(Ft(we)||Hn(we))&&0===it.length?{path:["root"],value:we}:Object.keys(we).reduce((yt,tn)=>{if(yt)return yt;const kt=we[tn];return function Tr(we){return kn(we)&&we.hasOwnProperty("\u0275cmp")}(kt)?yt:!(Ft(kt)||Hn(kt)||function rn(we){return"number"==typeof we}(kt)||function xn(we){return"boolean"==typeof we}(kt)||function $r(we){return"string"==typeof we}(kt)||zn(kt))&&(function Gr(we){if(!function ti(we){return $n(we)&&!zn(we)}(we))return!1;const it=Object.getPrototypeOf(we);return it===Object.prototype||null===it}(kt)?Cn(kt,[...it,tn]):{path:[...it,tn],value:kt})},!1)}function Wn(we,it){if(!1===we)return;const Qe=we.path.join("."),yt=new Error(`Detected unserializable ${it} at "${Qe}". ${rr}#strict${it}serializability`);throw yt.value=we.value,yt.unserializablePath=Qe,yt}function ai(we){return(0,f.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},we):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Yr({strictActionSerializability:we,strictStateSerializability:it}){return Qe=>we||it?function Dn(we,it){return function(Qe,yt){it.action(yt)&&Wn(Cn(yt),"action");const tn=we(Qe,yt);return it.state()&&Wn(Cn(tn),"state"),tn}}(Qe,{action:yt=>we&&!us(yt),state:()=>it}):Qe}function Sn({strictActionImmutability:we,strictStateImmutability:it}){return Qe=>we||it?function gt(we,it){return function(Qe,yt){const tn=it.action(yt)?Wt(yt):yt,kt=we(Qe,tn);return it.state()?Wt(kt):kt}}(Qe,{action:yt=>we&&!us(yt),state:()=>it}):Qe}function us(we){return we.type.startsWith("@ngrx")}function ni({strictActionWithinNgZone:we}){return it=>we?function ir(we,it){return function(Qe,yt){if(it.action(yt)&&!f.R0b.isInAngularZone())throw new Error(`Action '${yt.type}' running outside NgZone. ${rr}#strictactionwithinngzone`);return we(Qe,yt)}}(it,{action:Qe=>we&&!us(Qe)}):it}function Mi(we){return[{provide:Ti,useValue:we},{provide:dr,useFactory:qn,deps:[Ti]},{provide:gi,deps:[dr],useFactory:ai},{provide:nr,multi:!0,deps:[gi],useFactory:Sn},{provide:nr,multi:!0,deps:[gi],useFactory:Yr},{provide:nr,multi:!0,deps:[gi],useFactory:ni}]}function Oi(){return[{provide:Jr,multi:!0,deps:[gi],useFactory:rs}]}function qn(we){return we}function rs(we){if(!we.strictActionTypeUniqueness)return;const it=Object.entries(le).filter(([,Qe])=>Qe>1).map(([Qe])=>Qe);if(it.length)throw new Error(`Action types are registered more than once, ${it.map(Qe=>`"${Qe}"`).join(", ")}. ${rr}#strictactiontypeuniqueness`)}function On(we,it){return[{provide:Gt,useFactory:Le,deps:[[pt,new f.FiY,new f.tp0]]},{provide:Pt,useValue:it.initialState},{provide:tt,useFactory:un,deps:[Pt]},{provide:Nt,useValue:we},{provide:ht,useExisting:we instanceof f.OlP?we:Nt},{provide:et,deps:[f.zs3,Nt,[new f.tBr(ht)]],useFactory:Ue},{provide:wr,useValue:it.metaReducers?it.metaReducers:[]},{provide:Lr,deps:[nr,wr],useFactory:Pe},{provide:ot,useValue:it.reducerFactory?it.reducerFactory:Hr},{provide:Ze,deps:[ot,Lr],useFactory:yr},Kt,Ki,br,nt,dn,Mi(it.runtimeChecks),Oi()]}function vi(we,it,Qe={}){return[{provide:Yt,multi:!0,useValue:we instanceof Object?{}:Qe},{provide:St,multi:!0,useValue:{key:we instanceof Object?we.name:we,reducerFactory:Qe instanceof f.OlP||!Qe.reducerFactory?Hr:Qe.reducerFactory,metaReducers:Qe instanceof f.OlP||!Qe.metaReducers?[]:Qe.metaReducers,initialState:Qe instanceof f.OlP||!Qe.initialState?void 0:Qe.initialState}},{provide:Mt,deps:[f.zs3,Yt,St],useFactory:ut},{provide:Fn,multi:!0,useValue:we instanceof Object?we.reducer:it},{provide:hr,multi:!0,useExisting:it instanceof f.OlP?it:Fn},{provide:Ur,multi:!0,deps:[f.zs3,Fn,[new f.tBr(hr)]],useFactory:ln},Oi()]}let Pi=(()=>{class we{constructor(Qe,yt,tn,kt,Gn,Wr){}}return we.\u0275fac=function(Qe){return new(Qe||we)(f.LFG(Tt),f.LFG(Qt),f.LFG(oi),f.LFG(pt),f.LFG(Gt,8),f.LFG(Jr,8))},we.\u0275mod=f.oAB({type:we}),we.\u0275inj=f.cJS({}),we})(),Jn=(()=>{class we{constructor(Qe,yt,tn,kt,Gn){this.features=Qe,this.featureReducers=yt,this.reducerManager=tn;const Wr=Qe.map((Nr,Li)=>{const Qr=yt.shift()[Li];return Object.assign(Object.assign({},Nr),{reducers:Qr,initialState:un(Nr.initialState)})});tn.addFeatures(Wr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return we.\u0275fac=function(Qe){return new(Qe||we)(f.LFG(Mt),f.LFG(Ur),f.LFG(Er),f.LFG(Pi),f.LFG(Jr,8))},we.\u0275mod=f.oAB({type:we}),we.\u0275inj=f.cJS({}),we})(),Vn=(()=>{class we{static forRoot(Qe,yt={}){return{ngModule:Pi,providers:[...On(Qe,yt)]}}static forFeature(Qe,yt,tn={}){return{ngModule:Jn,providers:[...vi(Qe,yt,tn)]}}}return we.\u0275fac=function(Qe){return new(Qe||we)},we.\u0275mod=f.oAB({type:we}),we.\u0275inj=f.cJS({}),we})();function Fr(...we){return{reducer:we.pop(),types:we.map(yt=>yt.type)}}function Ni(we,...it){const Qe=new Map;for(const yt of it)for(const tn of yt.types){const kt=Qe.get(tn);Qe.set(tn,kt?(Wr,Nr)=>yt.reducer(kt(Wr,Nr),Nr):yt.reducer)}return function(yt=we,tn){const kt=Qe.get(tn.type);return kt?kt(yt,tn):yt}}},2713:(Ce,ae,D)=>{D.d(ae,{ek:()=>Rl,gm:()=>es,G2:()=>ro,f8:()=>wi,C5:()=>Tu,Qi:()=>Fs});var f=D(5e3),S=D(655),ne=D(6197),H=D(9751),Q=D(4004),de=D(9808),re=D(4202),q=D(520),he=D(259),Z=D(9996),ee=D(5861),le=D(2090),Ne=D(6881),Ke=D(1877),Ie=D(4859);const Tt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pt=new Ke.Yd("@firebase/auth");function tt(b,...p){Pt.logLevel<=Ke.in.ERROR&&Pt.error(`Auth (${Ne.Jn}): ${b}`,...p)}function Ze(b,...p){throw St(b,...p)}function ot(b,...p){return St(b,...p)}function et(b,p,_){const A=Object.assign(Object.assign({},Tt()),{[p]:_});return new le.LL("auth","Firebase",A).create(p,{appName:b.name})}function St(b,...p){if("string"!=typeof b){const _=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return Kt.create(b,...p)}function ht(b,p,..._){if(!b)throw St(p,..._)}function Fn(b){const p="INTERNAL ASSERTION FAILED: "+b;throw tt(p),new Error(p)}function Yt(b,p){b||Fn(p)}const Mt=new Map;function hr(b){Yt(b instanceof Function,"Expected a class definition");let p=Mt.get(b);return p?(Yt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Mt.set(b,p),p)}function nr(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function dr(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Jr{constructor(p,_){this.shortDelay=p,this.longDelay=_,Yt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,le.uI)()||(0,le.b$)()}get(){return function Ti(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Lr(){return"http:"===dr()||"https:"===dr()}()||(0,le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Br(b,p){Yt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Xr{static initialize(p,_,A){this.fetchImpl=p,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xr=new Jr(3e4,6e4);function lr(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function yr(b,p,_,A){return ls.apply(this,arguments)}function ls(){return(ls=(0,ee.Z)(function*(b,p,_,A,X={}){return Qt(b,X,(0,ee.Z)(function*(){let fe={},Ye={};A&&("GET"===p?Ye=A:fe={body:JSON.stringify(A)});const It=(0,le.xO)(Object.assign({key:b.config.apiKey},Ye)).slice(1),pn=yield b._getAdditionalHeaders();return pn["Content-Type"]="application/json",b.languageCode&&(pn["X-Firebase-Locale"]=b.languageCode),Xr.fetch()(Ki(b,b.config.apiHost,_,It),Object.assign({method:p,headers:pn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function Qt(b,p,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,ee.Z)(function*(b,p,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Hr),p);try{const X=new oi(b),fe=yield Promise.race([_(),X.promise]);X.clearNetworkTimeout();const Ye=yield fe.json();if("needConfirmation"in Ye)throw br(b,"account-exists-with-different-credential",Ye);if(fe.ok&&!("errorMessage"in Ye))return Ye;{const It=fe.ok?Ye.errorMessage:Ye.error.message,[pn,Rn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw br(b,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===pn)throw br(b,"email-already-in-use",Ye);if("USER_DISABLED"===pn)throw br(b,"user-disabled",Ye);const Ln=A[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw et(b,Ln,Rn);Ze(b,Ln)}}catch(X){if(X instanceof le.ZR)throw X;Ze(b,"network-request-failed")}})).apply(this,arguments)}function Si(b,p,_,A){return Er.apply(this,arguments)}function Er(){return(Er=(0,ee.Z)(function*(b,p,_,A,X={}){const fe=yield yr(b,p,_,A,X);return"mfaPendingCredential"in fe&&Ze(b,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function Ki(b,p,_,A){const X=`${p}${_}?${A}`;return b.config.emulator?Br(b.config,X):`${b.config.apiScheme}://${X}`}class oi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(ot(this.auth,"network-request-failed")),xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function br(b,p,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const X=ot(b,p,A);return X.customData._tokenResponse=_,X}function Oe(){return(Oe=(0,ee.Z)(function*(b,p){return yr(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function pt(b,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,ee.Z)(function*(b,p){return yr(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function on(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Hn(){return(Hn=(0,ee.Z)(function*(b,p=!1){const _=(0,le.m9)(b),A=yield _.getIdToken(p),X=$r(A);ht(X&&X.exp&&X.auth_time&&X.iat,_.auth,"internal-error");const fe="object"==typeof X.firebase?X.firebase:void 0,Ye=null==fe?void 0:fe.sign_in_provider;return{claims:X,token:A,authTime:on(zn(X.auth_time)),issuedAtTime:on(zn(X.iat)),expirationTime:on(zn(X.exp)),signInProvider:Ye||null,signInSecondFactor:(null==fe?void 0:fe.sign_in_second_factor)||null}})).apply(this,arguments)}function zn(b){return 1e3*Number(b)}function $r(b){const[p,_,A]=b.split(".");if(void 0===p||void 0===_||void 0===A)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,le.tV)(_);return X?JSON.parse(X):(tt("Failed to decode base64 JWT payload"),null)}catch(X){return tt("Caught error parsing JWT payload as JSON",null==X?void 0:X.toString()),null}}function rn(b,p){return $n.apply(this,arguments)}function $n(){return($n=(0,ee.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(A){throw A instanceof le.ZR&&ti(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function ti({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Gr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const X=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,ee.Z)(function*(){yield _.iteration()}),A)}iteration(){var p=this;return(0,ee.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class kn{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(b){return zi.apply(this,arguments)}function zi(){return(zi=(0,ee.Z)(function*(b){var p;const _=b.auth,A=yield b.getIdToken(),X=yield rn(b,pt(_,{idToken:A}));ht(null==X?void 0:X.users.length,_,"internal-error");const fe=X.users[0];b._notifyReloadListener(fe);const Ye=null!==(p=fe.providerUserInfo)&&void 0!==p&&p.length?Be(fe.providerUserInfo):[],It=Ae(b.providerData,Ye),Ln=!!b.isAnonymous&&!(b.email&&fe.passwordHash||null!=It&&It.length),ji={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:It,metadata:new kn(fe.createdAt,fe.lastLoginAt),isAnonymous:Ln};Object.assign(b,ji)})).apply(this,arguments)}function Re(){return(Re=(0,ee.Z)(function*(b){const p=(0,le.m9)(b);yield Tr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ae(b,p){return[...b.filter(A=>!p.some(X=>X.providerId===A.providerId)),...p]}function Be(b){return b.map(p=>{var{providerId:_}=p,A=(0,S._T)(p,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function We(){return(We=(0,ee.Z)(function*(b,p){const _=yield Qt(b,{},(0,ee.Z)(function*(){const A=(0,le.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:X,apiKey:fe}=b.config,Ye=Ki(b,X,"/v1/token",`key=${fe}`),It=yield b._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Xr.fetch()(Ye,{method:"POST",headers:It,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ht(p.idToken,"internal-error"),ht(void 0!==p.idToken,"internal-error"),ht(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function xn(b){const p=$r(b);return ht(p,"internal-error"),ht(void 0!==p.exp,"internal-error"),ht(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var A=this;return(0,ee.Z)(function*(){return ht(!A.accessToken||A.refreshToken,p,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var A=this;return(0,ee.Z)(function*(){const{accessToken:X,refreshToken:fe,expiresIn:Ye}=yield function Et(b,p){return We.apply(this,arguments)}(p,_);A.updateTokensAndExpiration(X,fe,Number(Ye))})()}updateTokensAndExpiration(p,_,A){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,_){const{refreshToken:A,accessToken:X,expirationTime:fe}=_,Ye=new $t;return A&&(ht("string"==typeof A,"internal-error",{appName:p}),Ye.refreshToken=A),X&&(ht("string"==typeof X,"internal-error",{appName:p}),Ye.accessToken=X),fe&&(ht("number"==typeof fe,"internal-error",{appName:p}),Ye.expirationTime=fe),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return Fn("not implemented")}}function en(b,p){ht("string"==typeof b||void 0===b,"internal-error",{appName:p})}class Un{constructor(p){var{uid:_,auth:A,stsTokenManager:X}=p,fe=(0,S._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new kn(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,ee.Z)(function*(){const A=yield rn(_,_.stsTokenManager.getToken(_.auth,p));return ht(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(p){return function Ft(b){return Hn.apply(this,arguments)}(this,p)}reload(){return function yi(b){return Re.apply(this,arguments)}(this)}_assign(p){this!==p&&(ht(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Un(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var A=this;return(0,ee.Z)(function*(){let X=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),X=!0),_&&(yield Tr(A)),yield A.auth._persistUserIfCurrent(A),X&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,ee.Z)(function*(){const _=yield p.getIdToken();return yield rn(p,function $e(b,p){return Oe.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var A,X,fe,Ye,It,pn,Rn,Ln;const ji=null!==(A=_.displayName)&&void 0!==A?A:void 0,Da=null!==(X=_.email)&&void 0!==X?X:void 0,$a=null!==(fe=_.phoneNumber)&&void 0!==fe?fe:void 0,la=null!==(Ye=_.photoURL)&&void 0!==Ye?Ye:void 0,su=null!==(It=_.tenantId)&&void 0!==It?It:void 0,xl=null!==(pn=_._redirectEventId)&&void 0!==pn?pn:void 0,ou=null!==(Rn=_.createdAt)&&void 0!==Rn?Rn:void 0,qu=null!==(Ln=_.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Zu,emailVerified:Qc,isAnonymous:vc,providerData:au,stsTokenManager:Uu}=_;ht(Zu&&Uu,p,"internal-error");const Ec=$t.fromJSON(this.name,Uu);ht("string"==typeof Zu,p,"internal-error"),en(ji,p.name),en(Da,p.name),ht("boolean"==typeof Qc,p,"internal-error"),ht("boolean"==typeof vc,p,"internal-error"),en($a,p.name),en(la,p.name),en(su,p.name),en(xl,p.name),en(ou,p.name),en(qu,p.name);const Vu=new Un({uid:Zu,auth:p,email:Da,emailVerified:Qc,displayName:ji,isAnonymous:vc,photoURL:la,phoneNumber:$a,tenantId:su,stsTokenManager:Ec,createdAt:ou,lastLoginAt:qu});return au&&Array.isArray(au)&&(Vu.providerData=au.map(Dc=>Object.assign({},Dc))),xl&&(Vu._redirectEventId=xl),Vu}static _fromIdTokenResponse(p,_,A=!1){return(0,ee.Z)(function*(){const X=new $t;X.updateFromServerResponse(_);const fe=new Un({uid:_.localId,auth:p,stsTokenManager:X,isAnonymous:A});return yield Tr(fe),fe})()}}const Ar=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ee.Z)(function*(){return!0})()}_set(_,A){var X=this;return(0,ee.Z)(function*(){X.storage[_]=A})()}_get(_){var A=this;return(0,ee.Z)(function*(){const X=A.storage[_];return void 0===X?null:X})()}_remove(_){var A=this;return(0,ee.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function He(b,p,_){return`firebase:${b}:${p}:${_}`}class Se{constructor(p,_,A){this.persistence=p,this.auth=_,this.userKey=A;const{config:X,name:fe}=this.auth;this.fullUserKey=He(this.userKey,X.apiKey,fe),this.fullPersistenceKey=He("persistence",X.apiKey,fe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,ee.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Un._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,ee.Z)(function*(){if(_.persistence===p)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,A="authUser"){return(0,ee.Z)(function*(){if(!_.length)return new Se(hr(Ar),p,A);const X=(yield Promise.all(_.map(function(){var Rn=(0,ee.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let fe=X[0]||hr(Ar);const Ye=He(A,p.config.apiKey,p.name);let It=null;for(const Rn of _)try{const Ln=yield Rn._get(Ye);if(Ln){const ji=Un._fromJSON(p,Ln);Rn!==fe&&(It=ji),fe=Rn;break}}catch(Ln){}const pn=X.filter(Rn=>Rn._shouldAllowMigration);return fe._shouldAllowMigration&&pn.length?(fe=pn[0],It&&(yield fe._set(Ye,It.toJSON())),yield Promise.all(_.map(function(){var Rn=(0,ee.Z)(function*(Ln){if(Ln!==fe)try{yield Ln._remove(Ye)}catch(ji){}});return function(Ln){return Rn.apply(this,arguments)}}())),new Se(fe,p,A)):new Se(fe,p,A)})()}}function me(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(un(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ue(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Le(p))return"Blackberry";if(gt(p))return"Webos";if(ut(p))return"Safari";if((p.includes("chrome/")||ln(p))&&!p.includes("edge/"))return"Chrome";if(Pe(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ue(b=(0,le.z$)()){return/firefox\//i.test(b)}function ut(b=(0,le.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ln(b=(0,le.z$)()){return/crios\//i.test(b)}function un(b=(0,le.z$)()){return/iemobile/i.test(b)}function Pe(b=(0,le.z$)()){return/android/i.test(b)}function Le(b=(0,le.z$)()){return/blackberry/i.test(b)}function gt(b=(0,le.z$)()){return/webos/i.test(b)}function Wt(b=(0,le.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ir(b=(0,le.z$)()){return Wt(b)||Pe(b)||gt(b)||Le(b)||/windows phone/i.test(b)||un(b)}function Yr(b,p=[]){let _;switch(b){case"Browser":_=me((0,le.z$)());break;case"Worker":_=`${me((0,le.z$)())}-${b}`;break;default:_=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ne.Jn}/${A}`}class Sn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const A=fe=>new Promise((Ye,It)=>{try{Ye(p(fe))}catch(pn){It(pn)}});A.onAbort=_,this.queue.push(A);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,ee.Z)(function*(){if(_.auth.currentUser===p)return;const A=[];try{for(const X of _.queue)yield X(p),X.onAbort&&A.push(X.onAbort)}catch(X){A.reverse();for(const fe of A)try{fe()}catch(Ye){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==X?void 0:X.message})}})()}}class us{constructor(p,_,A){this.app=p,this.heartbeatServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,_){var A=this;return _&&(this._popupRedirectResolver=hr(_)),this._initializationPromise=this.queue((0,ee.Z)(function*(){var X,fe;if(!A._deleted&&(A.persistenceManager=yield Se.create(A,p),!A._deleted)){if(null!==(X=A._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Ye){}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(fe=A.currentUser)||void 0===fe?void 0:fe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,ee.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,ee.Z)(function*(){var A;const X=yield _.assertedPersistence.getCurrentUser();let fe=X,Ye=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const It=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,pn=null==fe?void 0:fe._redirectEventId,Rn=yield _.tryRedirectSignIn(p);(!It||It===pn)&&(null==Rn?void 0:Rn.user)&&(fe=Rn.user,Ye=!0)}if(!fe)return _.directlySetCurrentUser(null);if(!fe._redirectEventId){if(Ye)try{yield _.beforeStateQueue.runMiddleware(fe)}catch(It){fe=X,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(It))}return fe?_.reloadAndSetCurrentUserOrClear(fe):_.directlySetCurrentUser(null)}return ht(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===fe._redirectEventId?_.directlySetCurrentUser(fe):_.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(p){var _=this;return(0,ee.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(X){yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,ee.Z)(function*(){try{yield Tr(p)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function gi(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,ee.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,ee.Z)(function*(){const A=p?(0,le.m9)(p):null;return A&&ht(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(p,_=!1){var A=this;return(0,ee.Z)(function*(){if(!A._deleted)return p&&ht(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,ee.Z)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,ee.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,ee.Z)(function*(){yield _.assertedPersistence.setPersistence(hr(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new le.LL("auth","Firebase",p())}onAuthStateChanged(p,_,A){return this.registerStateListener(this.authStateSubscription,p,_,A)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,A){return this.registerStateListener(this.idTokenSubscription,p,_,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var A=this;return(0,ee.Z)(function*(){const X=yield A.getOrInitRedirectPersistenceManager(_);return null===p?X.removeCurrentUser():X.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,ee.Z)(function*(){if(!_.redirectPersistenceManager){const A=p&&hr(p)||_._popupRedirectResolver;ht(A,_,"argument-error"),_.redirectPersistenceManager=yield Se.create(_,[hr(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,ee.Z)(function*(){var A,X;return _._isInitialized&&(yield _.queue((0,ee.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===p?_._currentUser:(null===(X=_.redirectUser)||void 0===X?void 0:X._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,ee.Z)(function*(){if(p===_.currentUser)return _.queue((0,ee.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,A,X){if(this._deleted)return()=>{};const fe="function"==typeof _?_:_.next.bind(_),Ye=this._isInitialized?Promise.resolve():this._initializationPromise;return ht(Ye,this,"internal-error"),Ye.then(()=>fe(this.currentUser)),"function"==typeof _?p.addObserver(_,A,X):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,ee.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,ee.Z)(function*(){var _;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const X=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return X&&(A["X-Firebase-Client"]=X),A})()}}function ni(b){return(0,le.m9)(b)}class Mi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,le.ne)(_=>this.observer=_)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Mn(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class In{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Fn("not implemented")}_getIdTokenResponse(p){return Fn("not implemented")}_linkToIdToken(p,_){return Fn("not implemented")}_getReauthenticationResolver(p){return Fn("not implemented")}}function so(){return(so=(0,ee.Z)(function*(b,p){return yr(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vn(){return(Vn=(0,ee.Z)(function*(b,p){return Si(b,"POST","/v1/accounts:signInWithPassword",lr(b,p))})).apply(this,arguments)}function Li(){return(Li=(0,ee.Z)(function*(b,p){return Si(b,"POST","/v1/accounts:signInWithEmailLink",lr(b,p))})).apply(this,arguments)}function Qr(){return(Qr=(0,ee.Z)(function*(b,p){return Si(b,"POST","/v1/accounts:signInWithEmailLink",lr(b,p))})).apply(this,arguments)}class cs extends In{constructor(p,_,A,X=null){super("password",A),this._email=p,this._password=_,this._tenantId=X}static _fromEmailAndPassword(p,_){return new cs(p,_,"password")}static _fromEmailAndCode(p,_,A=null){return new cs(p,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,ee.Z)(function*(){switch(_.signInMethod){case"password":return function Jn(b,p){return Vn.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Nr(b,p){return Li.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Ze(p,"internal-error")}})()}_linkToIdToken(p,_){var A=this;return(0,ee.Z)(function*(){switch(A.signInMethod){case"password":return function io(b,p){return so.apply(this,arguments)}(p,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Dr(b,p){return Qr.apply(this,arguments)}(p,{idToken:_,email:A._email,oobCode:A._password});default:Ze(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ds(b,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,ee.Z)(function*(b,p){return Si(b,"POST","/v1/accounts:signInWithIdp",lr(b,p))})).apply(this,arguments)}class uo{constructor(p){var _,A,X,fe,Ye,It;const pn=(0,le.zd)((0,le.pd)(p)),Rn=null!==(_=pn.apiKey)&&void 0!==_?_:null,Ln=null!==(A=pn.oobCode)&&void 0!==A?A:null,ji=function lo(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=pn.mode)&&void 0!==X?X:null);ht(Rn&&Ln&&ji,"argument-error"),this.apiKey=Rn,this.operation=ji,this.code=Ln,this.continueUrl=null!==(fe=pn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(Ye=pn.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(It=pn.tenantId)&&void 0!==It?It:null}static parseLink(p){const _=function Ro(b){const p=(0,le.zd)((0,le.pd)(b)).link,_=p?(0,le.zd)((0,le.pd)(p)).deep_link_id:null,A=(0,le.zd)((0,le.pd)(b)).deep_link_id;return(A?(0,le.zd)((0,le.pd)(A)).link:null)||A||_||p||b}(p);try{return new uo(_)}catch(A){return null}}}let mo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return cs._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const X=uo.parseLink(A);return ht(X,"argument-error"),cs._fromEmailAndCode(_,X.code,X.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Yi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ia extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}function qs(b,p){return li.apply(this,arguments)}function li(){return(li=(0,ee.Z)(function*(b,p){return Si(b,"POST","/v1/accounts:signUp",lr(b,p))})).apply(this,arguments)}class Di{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,A,X=!1){return(0,ee.Z)(function*(){const fe=yield Un._fromIdTokenResponse(p,A,X),Ye=yn(A);return new Di({user:fe,providerId:Ye,_tokenResponse:A,operationType:_})})()}static _forOperation(p,_,A){return(0,ee.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const X=yn(A);return new Di({user:p,providerId:X,_tokenResponse:A,operationType:_})})()}}function yn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Ta extends le.ZR{constructor(p,_,A,X){var fe;super(_.code,_.message),this.operationType=A,this.user=X,Object.setPrototypeOf(this,Ta.prototype),this.customData={appName:p.name,tenantId:null!==(fe=p.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,_,A,X){return new Ta(p,_,A,X)}}function Pr(b,p,_,A){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Ta._fromErrorAndOperation(b,fe,p,A):fe})}function Bs(b,p){return En.apply(this,arguments)}function En(){return(En=(0,ee.Z)(function*(b,p,_=!1){const A=yield rn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Di._forOperation(b,"link",A)})).apply(this,arguments)}function vs(){return(vs=(0,ee.Z)(function*(b,p,_=!1){const{auth:A}=b,X="reauthenticate";try{const fe=yield rn(b,Pr(A,X,p,b),_);ht(fe.idToken,A,"internal-error");const Ye=$r(fe.idToken);ht(Ye,A,"internal-error");const{sub:It}=Ye;return ht(b.uid===It,A,"user-mismatch"),Di._forOperation(b,X,fe)}catch(fe){throw"auth/user-not-found"===(null==fe?void 0:fe.code)&&Ze(A,"user-mismatch"),fe}})).apply(this,arguments)}function Es(b,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,ee.Z)(function*(b,p,_=!1){const A="signIn",X=yield Pr(b,A,p),fe=yield Di._fromIdTokenResponse(b,A,X);return _||(yield b._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function Aa(){return(Aa=(0,ee.Z)(function*(b,p){return Es(ni(b),p)})).apply(this,arguments)}function Fo(){return(Fo=(0,ee.Z)(function*(b,p,_){const A=ni(b),X=yield qs(A,{returnSecureToken:!0,email:p,password:_}),fe=yield Di._fromIdTokenResponse(A,"signIn",X);return yield A._updateCurrentUser(fe.user),fe})).apply(this,arguments)}const Hs="__sak";class Oa{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Hs,"1"),this.storage.removeItem(Hs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const $s=(()=>{class b extends Oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pa(){const b=(0,le.z$)();return ut(b)||Wt(b)}()&&function ai(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ir(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const X=this.storage.getItem(A),fe=this.localCache[A];X!==fe&&_(A,fe,X)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((It,pn,Rn)=>{this.notifyListeners(It,Rn)});const X=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const It=this.storage.getItem(X);if(_.newValue!==It)null!==_.newValue?this.storage.setItem(X,_.newValue):this.storage.removeItem(X);else if(this.localCache[X]===_.newValue&&!A)return}const fe=()=>{const It=this.storage.getItem(X);!A&&this.localCache[X]===It||this.notifyListeners(X,It)},Ye=this.storage.getItem(X);!function Wn(){return(0,le.w1)()&&10===document.documentMode}()||Ye===_.newValue||_.newValue===_.oldValue?fe():setTimeout(fe,10)}notifyListeners(_,A){this.localCache[_]=A;const X=this.listeners[_];if(X)for(const fe of Array.from(X))fe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var X=()=>super._set,fe=this;return(0,ee.Z)(function*(){yield X().call(fe,_,A),fe.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,X=this;return(0,ee.Z)(function*(){const fe=yield A().call(X,_);return X.localCache[_]=JSON.stringify(fe),fe})()}_remove(_){var A=()=>super._remove,X=this;return(0,ee.Z)(function*(){yield A().call(X,_),delete X.localCache[_]})()}}return b.type="LOCAL",b})(),ii=(()=>{class b extends Oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let ra=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(fe=>fe.isListeningto(_));if(A)return A;const X=new b(_);return this.receivers.push(X),X}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,ee.Z)(function*(){const X=_,{eventId:fe,eventType:Ye,data:It}=X.data,pn=A.handlersMap[Ye];if(null==pn||!pn.size)return;X.ports[0].postMessage({status:"ack",eventId:fe,eventType:Ye});const Rn=Array.from(pn).map(function(){var ji=(0,ee.Z)(function*(Da){return Da(X.origin,It)});return function(Da){return ji.apply(this,arguments)}}()),Ln=yield function wn(b){return Promise.all(b.map(function(){var p=(0,ee.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return p.apply(this,arguments)}}()))}(Rn);X.ports[0].postMessage({status:"done",eventId:fe,eventType:Ye,response:Ln})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function _r(b="",p=10){let _="";for(let A=0;A<p;A++)_+=Math.floor(10*Math.random());return b+_}class os{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,A=50){var X=this;return(0,ee.Z)(function*(){const fe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let Ye,It;return new Promise((pn,Rn)=>{const Ln=_r("",20);fe.port1.start();const ji=setTimeout(()=>{Rn(new Error("unsupported_event"))},A);It={messageChannel:fe,onMessage(Da){const $a=Da;if($a.data.eventId===Ln)switch($a.data.status){case"ack":clearTimeout(ji),Ye=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),pn($a.data.response);break;default:clearTimeout(ji),clearTimeout(Ye),Rn(new Error("invalid_response"))}}},X.handlers.add(It),fe.port1.addEventListener("message",It.onMessage),X.target.postMessage({eventType:p,eventId:Ln,data:_},[fe.port2])}).finally(()=>{It&&X.removeMessageHandler(It)})})()}}function Sr(){return window}function jo(){return void 0!==Sr().WorkerGlobalScope&&"function"==typeof Sr().importScripts}function Ao(){return(Ao=(0,ee.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const al="firebaseLocalStorageDb",ll="firebaseLocalStorage",ul="fbase_key";class $i{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ga(b,p){return b.transaction([ll],p?"readwrite":"readonly").objectStore(ll)}function Na(){const b=indexedDB.open(al,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(ll,{keyPath:ul})}catch(X){_(X)}}),b.addEventListener("success",(0,ee.Z)(function*(){const A=b.result;A.objectStoreNames.contains(ll)?p(A):(A.close(),yield function mu(){const b=indexedDB.deleteDatabase(al);return new $i(b).toPromise()}(),p(yield Na()))}))})}function Js(b,p,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,ee.Z)(function*(b,p,_){const A=ga(b,!0).put({[ul]:p,value:_});return new $i(A).toPromise()})).apply(this,arguments)}function Eo(){return(Eo=(0,ee.Z)(function*(b,p){const _=ga(b,!1).get(p),A=yield new $i(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function fs(b,p){const _=ga(b,!0).delete(p);return new $i(_).toPromise()}const Do=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,ee.Z)(function*(){return _.db||(_.db=yield Na()),_.db})()}_withRetries(_){var A=this;return(0,ee.Z)(function*(){let X=0;for(;;)try{const fe=yield A._openDb();return yield _(fe)}catch(fe){if(X++>3)throw fe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,ee.Z)(function*(){return jo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,ee.Z)(function*(){_.receiver=ra._getInstance(function xa(){return jo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,ee.Z)(function*(X,fe){return{keyProcessed:(yield _._poll()).includes(fe.key)}});return function(X,fe){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,ee.Z)(function*(X,fe){return["keyChanged"]});return function(X,fe){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,ee.Z)(function*(){var A,X;if(_.activeServiceWorker=yield function ia(){return Ao.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new os(_.activeServiceWorker);const fe=yield _.sender._send("ping",{},800);!fe||(null===(A=fe[0])||void 0===A?void 0:A.fulfilled)&&(null===(X=fe[0])||void 0===X?void 0:X.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,ee.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function gu(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch(X){}})()}_isAvailable(){return(0,ee.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Na();return yield Js(_,Hs,"1"),yield fs(_,Hs),!0}catch(_){}return!1})()}_withPendingWrite(_){var A=this;return(0,ee.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var X=this;return(0,ee.Z)(function*(){return X._withPendingWrite((0,ee.Z)(function*(){return yield X._withRetries(fe=>Js(fe,_,A)),X.localCache[_]=A,X.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,ee.Z)(function*(){const X=yield A._withRetries(fe=>function ct(b,p){return Eo.apply(this,arguments)}(fe,_));return A.localCache[_]=X,X})()}_remove(_){var A=this;return(0,ee.Z)(function*(){return A._withPendingWrite((0,ee.Z)(function*(){return yield A._withRetries(X=>fs(X,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,ee.Z)(function*(){const A=yield _._withRetries(Ye=>{const It=ga(Ye,!1).getAll();return new $i(It).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const X=[],fe=new Set;for(const{fbase_key:Ye,value:It}of A)fe.add(Ye),JSON.stringify(_.localCache[Ye])!==JSON.stringify(It)&&(_.notifyListeners(Ye,It),X.push(Ye));for(const Ye of Object.keys(_.localCache))_.localCache[Ye]&&!fe.has(Ye)&&(_.notifyListeners(Ye,null),X.push(Ye));return X})()}notifyListeners(_,A){this.localCache[_]=A;const X=this.listeners[_];if(X)for(const fe of Array.from(X))fe(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,ee.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ou(b){return`__${b}${Math.floor(1e6*Math.random())}`}function Is(b,p){return p?hr(p):(ht(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}Ou("rcb"),new Jr(3e4,6e4);class Ua extends In{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ds(p,this._buildIdpRequest())}_linkToIdToken(p,_){return ds(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return ds(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Ws(b){return Es(b.auth,new Ua(b),b.bypassAuthState)}function cl(b){const{auth:p,user:_}=b;return ht(_,p,"internal-error"),function ba(b,p){return vs.apply(this,arguments)}(_,new Ua(b),b.bypassAuthState)}function Xl(b){return eu.apply(this,arguments)}function eu(){return(eu=(0,ee.Z)(function*(b){const{auth:p,user:_}=b;return ht(_,p,"internal-error"),Bs(_,new Ua(b),b.bypassAuthState)})).apply(this,arguments)}new Jr(2e3,1e4);const Wo=new Map;class kl extends class dl{constructor(p,_,A,X,fe=!1){this.auth=p,this.resolver=A,this.user=X,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,ee.Z)(function*(A,X){p.pendingPromise={resolve:A,reject:X};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(fe){p.reject(fe)}});return function(A,X){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,ee.Z)(function*(){const{urlResponse:A,sessionId:X,postBody:fe,tenantId:Ye,error:It,type:pn}=p;if(It)return void _.reject(It);const Rn={auth:_.auth,requestUri:A,sessionId:X,tenantId:Ye||void 0,postBody:fe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(pn)(Rn))}catch(Ln){_.reject(Ln)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ws;case"linkViaPopup":case"linkViaRedirect":return Xl;case"reauthViaPopup":case"reauthViaRedirect":return cl;default:Ze(this.auth,"internal-error")}}resolve(p){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(p,_,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,ee.Z)(function*(){let A=Wo.get(_.auth._key());if(!A){try{const fe=(yield function as(b,p){return hl.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;A=()=>Promise.resolve(fe)}catch(X){A=()=>Promise.reject(X)}Wo.set(_.auth._key(),A)}return _.bypassAuthState||Wo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,A=this;return(0,ee.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(A,p);if("unknown"!==p.type){if(p.eventId){const X=yield A.auth._redirectUserForId(p.eventId);if(X)return A.user=X,_().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,ee.Z)(function*(){})()}cleanUp(){}}function hl(){return(hl=(0,ee.Z)(function*(b,p){const _=tu(p),A=Yu(b);if(!(yield A._isAvailable()))return!1;const X="true"===(yield A._get(_));return yield A._remove(_),X})).apply(this,arguments)}function zu(b,p){Wo.set(b._key(),p)}function Yu(b){return hr(b._redirectPersistence)}function tu(b){return He("pendingRedirect",b.config.apiKey,b.name)}function Ko(b,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,ee.Z)(function*(b,p,_=!1){const A=ni(b),X=Is(A,p),Ye=yield new kl(A,X,_).execute();return Ye&&!_&&(delete Ye.user._redirectEventId,yield A._persistUserIfCurrent(Ye.user),yield A._setRedirectUser(null,p)),Ye})).apply(this,arguments)}class Vi{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(_=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Tl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vl(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var A;if(p.error&&!Vl(p)){const X=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(ot(this.auth,X))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const A=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ul(p))}saveEventToCache(p){this.cachedEventUids.add(Ul(p)),this.lastProcessedEventTime=Date.now()}}function Ul(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Vl({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Oo(b){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,ee.Z)(function*(b,p={}){return yr(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Bl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sl=/^https?/;function gs(){return(gs=(0,ee.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Oo(b);for(const _ of p)try{if(Eu(_))return}catch(A){}Ze(b,"unauthorized-domain")})).apply(this,arguments)}function Eu(b){const p=nr(),{protocol:_,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const Ye=new URL(b);return""===Ye.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Ye.hostname===A}if(!Sl.test(_))return!1;if(Bl.test(b))return A===b;const X=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(A)}const jl=new Jr(3e4,6e4);function gl(){const b=Sr().___jsl;if(null!=b&&b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ml=null;function Hl(b){return ml=ml||function Nu(b){return new Promise((p,_)=>{var A,X,fe;function Ye(){gl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{gl(),_(ot(b,"network-request-failed"))},timeout:jl.get()})}if(null!==(X=null===(A=Sr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==X&&X.Iframe)p(gapi.iframes.getContext());else{if(null===(fe=Sr().gapi)||void 0===fe||!fe.load){const It=Ou("iframefcb");return Sr()[It]=()=>{gapi.load?Ye():_(ot(b,"network-request-failed"))},function ho(b){return new Promise((p,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=X=>{const fe=ot("internal-error");fe.customData=X,_(fe)},A.type="text/javascript",A.charset="UTF-8",function Mu(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)})}(`https://apis.google.com/js/api.js?onload=${It}`).catch(pn=>_(pn))}Ye()}}).catch(p=>{throw ml=null,p})}(b),ml}const va=new Jr(5e3,15e3),iu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Du=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Al(b){const p=b.config;ht(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?Br(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:b.name,v:Ne.Jn},X=Du.get(b.config.apiHost);X&&(A.eid=X);const fe=b._getFrameworks();return fe.length&&(A.fw=fe.join(",")),`${_}?${(0,le.xO)(A).slice(1)}`}function _l(){return _l=(0,ee.Z)(function*(b){const p=yield Hl(b),_=Sr().gapi;return ht(_,b,"internal-error"),p.open({where:document.body,url:Al(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iu,dontclear:!0},A=>new Promise(function(){var X=(0,ee.Z)(function*(fe,Ye){yield A.restyle({setHideOnLeave:!1});const It=ot(b,"network-request-failed"),pn=Sr().setTimeout(()=>{Ye(It)},va.get());function Rn(){Sr().clearTimeout(pn),fe(A)}A.ping(Rn).then(Rn,()=>{Ye(It)})});return function(fe,Ye){return X.apply(this,arguments)}}()))}),_l.apply(this,arguments)}const zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ku{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ol(b,p,_,A,X,fe){ht(b.config.authDomain,b,"auth-domain-config-required"),ht(b.config.apiKey,b,"invalid-api-key");const Ye={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:Ne.Jn,eventId:X};if(p instanceof Yi){p.setDefaultLanguage(b.languageCode),Ye.providerId=p.providerId||"",(0,le.xb)(p.getCustomParameters())||(Ye.customParameters=JSON.stringify(p.getCustomParameters()));for(const[pn,Rn]of Object.entries(fe||{}))Ye[pn]=Rn}if(p instanceof Ia){const pn=p.getScopes().filter(Rn=>""!==Rn);pn.length>0&&(Ye.scopes=pn.join(","))}b.tenantId&&(Ye.tid=b.tenantId);const It=Ye;for(const pn of Object.keys(It))void 0===It[pn]&&delete It[pn];return`${function aa({config:b}){return b.emulator?Br(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,le.xO)(It).slice(1)}`}const Ea="webStorageSupport",Iu=class Pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ii,this._completeRedirectFn=Ko,this._overrideRedirectResult=zu}_openPopup(p,_,A,X){var fe=this;return(0,ee.Z)(function*(){var Ye;Yt(null===(Ye=fe.eventManagers[p._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const It=Ol(p,_,A,nr(),X);return function Cu(b,p,_,A=500,X=600){const fe=Math.max((window.screen.availHeight-X)/2,0).toString(),Ye=Math.max((window.screen.availWidth-A)/2,0).toString();let It="";const pn=Object.assign(Object.assign({},zo),{width:A.toString(),height:X.toString(),top:fe,left:Ye}),Rn=(0,le.z$)().toLowerCase();_&&(It=ln(Rn)?"_blank":_),Ue(Rn)&&(p=p||"http://localhost",pn.scrollbars="yes");const Ln=Object.entries(pn).reduce((Da,[$a,la])=>`${Da}${$a}=${la},`,"");if(function Cn(b=(0,le.z$)()){var p;return Wt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Rn)&&"_self"!==It)return function yc(b,p){const _=document.createElement("a");_.href=b,_.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(p||"",It),new ku(null);const ji=window.open(p||"",It,Ln);ht(ji,b,"popup-blocked");try{ji.focus()}catch(Da){}return new ku(ji)}(p,It,_r())})()}_openRedirect(p,_,A,X){var fe=this;return(0,ee.Z)(function*(){return yield fe._originValidation(p),function qt(b){Sr().location.href=b}(Ol(p,_,A,nr(),X)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:X,promise:fe}=this.eventManagers[_];return X?Promise.resolve(X):(Yt(fe,"If manager is not set, promise should be"),fe)}const A=this.initAndGetManager(p);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(p){var _=this;return(0,ee.Z)(function*(){const A=yield function yl(b){return _l.apply(this,arguments)}(p),X=new Vi(p);return A.register("authEvent",fe=>(ht(null==fe?void 0:fe.authEvent,p,"invalid-auth-event"),{status:X.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:X},_.iframes[p._key()]=A,X})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Ea,{type:Ea},X=>{var fe;const Ye=null===(fe=null==X?void 0:X[0])||void 0===fe?void 0:fe[Ea];void 0!==Ye&&_(!!Ye),Ze(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function vu(b){return gs.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return ir()||ut()||Wt()}};var Gl="@firebase/auth",I="0.21.3";class E{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,ee.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(A=>{p((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ue=(0,le.Pz)("authIdTokenMaxAge")||300;let ve=null;const be=b=>function(){var p=(0,ee.Z)(function*(_){const A=_&&(yield _.getIdTokenResult()),X=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(X&&X>ue)return;const fe=null==A?void 0:A.token;ve!==fe&&(ve=fe,yield fetch(b,{method:fe?"POST":"DELETE",headers:fe?{Authorization:`Bearer ${fe}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Xe(b=(0,Ne.Mq)()){const p=(0,Ne.qX)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function Ur(b,p){const _=(0,Ne.qX)(b,"auth");if(_.isInitialized()){const X=_.getImmediate(),fe=_.getOptions();if((0,le.vZ)(fe,null!=p?p:{}))return X;Ze(X,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:Iu,persistence:[Do,$s,ii]}),A=(0,le.Pz)("authTokenSyncURL");if(A){const fe=be(A);(function Zi(b,p,_){(0,le.m9)(b).beforeAuthStateChanged(p,_)})(_,fe,()=>fe(_.currentUser)),function Lt(b,p,_,A){(0,le.m9)(b).onIdTokenChanged(p,_,A)}(_,Ye=>fe(Ye))}const X=(0,le.q4)("auth");return X&&function Oi(b,p,_){const A=ni(b);ht(A._canInitEmulator,A,"emulator-config-failed"),ht(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const X=!(null==_||!_.disableWarnings),fe=qn(p),{host:Ye,port:It}=function rs(b){const p=qn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(A);if(X){const fe=X[1];return{host:fe,port:Mn(A.substr(fe.length+1))}}{const[fe,Ye]=A.split(":");return{host:fe,port:Mn(Ye)}}}(p);A.config.emulator={url:`${fe}//${Ye}${null===It?"":`:${It}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ye,port:It,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function On(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(_,`http://${X}`),_}function _t(b,p){if(1&b&&(f.TgZ(0,"section")(1,"h2")(2,"span"),f._uU(3,"Total"),f.qZA(),f._uU(4,"Users"),f.qZA(),f.TgZ(5,"h2")(6,"h1"),f._uU(7),f.qZA()()()),2&b){const _=p.ngIf;f.xp6(7),f.hij(" ",_.length," ")}}function Bt(b,p){1&b&&(f.TgZ(0,"b",10),f._uU(1,"Last Active At"),f.qZA())}!function R(b){(0,Ne.Xd)(new Ie.wA("auth",(p,{options:_})=>{const A=p.getProvider("app").getImmediate(),X=p.getProvider("heartbeat"),{apiKey:fe,authDomain:Ye}=A.options;return((It,pn)=>{ht(fe&&!fe.includes(":"),"invalid-api-key",{appName:It.name}),ht(!(null!=Ye&&Ye.includes(":")),"argument-error",{appName:It.name});const Rn={apiKey:fe,authDomain:Ye,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yr(b)},Ln=new us(It,pn,Rn);return function wr(b,p){const _=(null==p?void 0:p.persistence)||[],A=(Array.isArray(_)?_:[_]).map(hr);null!=p&&p.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,null==p?void 0:p.popupRedirectResolver)}(Ln,_),Ln})(A,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,A)=>{p.getProvider("auth-internal").initialize()})),(0,Ne.Xd)(new Ie.wA("auth-internal",p=>{const _=ni(p.getProvider("auth").getImmediate());return new E(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.KN)(Gl,I,function y(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Ne.KN)(Gl,I,"esm2017")}("Browser");const Xt=function(b,p,_){return{"text-success":b,"text-danger":p,"text-warning":_}};function An(b,p){if(1&b&&(f.TgZ(0,"tr")(1,"td",6),f._uU(2),f.qZA(),f.TgZ(3,"td",7)(4,"b"),f._uU(5),f.qZA()(),f.TgZ(6,"td",8),f.YNc(7,Bt,2,0,"b",9),f._uU(8),f.ALo(9,"date"),f.qZA()()),2&b){const _=p.$implicit;f.xp6(2),f.Oqu(_.key),f.xp6(1),f.Q6J("ngClass",f.kEZ(7,Xt,"online"===_.status,"offline"===_.status,"away"===_.status)),f.xp6(2),f.Oqu(_.status),f.xp6(2),f.Q6J("ngIf","offline"===_.status),f.xp6(1),f.Oqu(f.lcZ(9,5,_.timestamp))}}function Bn(b,p){if(1&b&&(f.TgZ(0,"table")(1,"caption"),f._uU(2,"Users Summary"),f.qZA(),f.TgZ(3,"thead",2)(4,"tr")(5,"th"),f._uU(6,"User Id"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"Status"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Date"),f.qZA()()(),f.TgZ(11,"tbody"),f.YNc(12,An,10,11,"tr",3),f.qZA()()),2&b){const _=p.ngIf;f.xp6(12),f.Q6J("ngForOf",_)}}function vn(b,p){1&b&&f.GkF(0)}const Nn=function(b){return{$implicit:b}};function sr(b,p){if(1&b&&(f.ynx(0),f.TgZ(1,"tr")(2,"td",11)(3,"strong"),f._uU(4),f.ALo(5,"uppercase"),f.qZA()()(),f.YNc(6,vn,1,0,"ng-container",12),f.BQk()),2&b){const _=p.$implicit;f.oxw();const A=f.MAs(35);f.xp6(4),f.Oqu(f.lcZ(5,3,_.key)),f.xp6(2),f.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",f.VKq(5,Nn,_))}}function hi(b,p){if(1&b&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td",13)(4,"b"),f._uU(5),f.qZA()()()),2&b){const _=f.oxw(2),A=_.parent,X=_.$implicit;f.xp6(2),f.lnq(" ",A," ",A?"/":""," ",X.key," "),f.xp6(3),f.Oqu(X.value.counter)}}function vr(b,p){1&b&&f.GkF(0)}const Zn=function(b,p){return{$implicit:b,parent:p}};function fi(b,p){if(1&b&&(f.ynx(0),f.YNc(1,hi,6,4,"tr",1),f.YNc(2,vr,1,0,"ng-container",12),f.BQk()),2&b){const _=f.oxw(),A=_.$implicit,X=_.parent;f.oxw();const fe=f.MAs(37);f.xp6(1),f.Q6J("ngIf",A.value.counter),f.xp6(1),f.Q6J("ngTemplateOutlet",fe)("ngTemplateOutletContext",f.WLB(3,Zn,A,X?X+" / "+A.key:A.key))}}function to(b,p){1&b&&f.YNc(0,fi,3,6,"ng-container",1),2&b&&f.Q6J("ngIf","counter"!==p.$implicit.key)}function no(b,p){1&b&&f.GkF(0)}function Io(b,p){if(1&b&&(f.ynx(0),f.YNc(1,no,1,0,"ng-container",12),f.BQk()),2&b){const _=p.$implicit,A=f.oxw().parent;f.oxw();const X=f.MAs(35);f.xp6(1),f.Q6J("ngTemplateOutlet",X)("ngTemplateOutletContext",f.WLB(2,Zn,_,A))}}function si(b,p){1&b&&(f.YNc(0,Io,2,5,"ng-container",3),f.ALo(1,"keyvalue")),2&b&&f.Q6J("ngForOf",f.lcZ(1,1,p.$implicit.value))}class wi{constructor(){this.db=(0,ne.N8)()}create(p,_={}){let A=(0,ne.VF)((0,ne.iH)(this.db,p));return(0,ne.t8)(A,Object.assign({key:A.key},_)).then(),Promise.resolve({key:A.key})}set(p,_={}){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,ne.iH)(this.db,p);yield(0,ne.t8)(A,_)})}update(p,_={}){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,ne.iH)(this.db,p);yield(0,ne.Vx)(A,_)})}remove(p){return(0,S.mG)(this,void 0,void 0,function*(){const _=(0,ne.iH)(this.db,p);yield(0,ne.Od)(_)})}readRealTime(p){return new H.y(_=>{(0,ne.jM)((0,ne.iH)(this.db,p),A=>{let X=[];A.exists()?(A.forEach(fe=>{X.push(Object.assign({key:fe.key},fe.val()))}),_.next(X)):_.next([])})})}readOnceWithObserver(p){return(0,ne.jM)((0,ne.iH)(this.db,p),_=>_.val(),{onlyOnce:!0})}readOnce(p){return new Promise((_,A)=>{(0,ne.U2)((0,ne.iH)(this.db,p)).then(X=>{X.exists()?_(Object.assign({key:X.key},X.val())):_([])}).catch(X=>{A(X)})})}readReal(p){return new H.y(_=>{(0,ne.jM)((0,ne.iH)(this.db,p),A=>{A.exists()?_.next(A.val()):_.next(null)})})}updateCounter(p,_=!0){return new Promise((A,X)=>{const fe=(0,ne.iH)(this.db);(0,ne.U2)((0,ne.iU)(fe,"counter")).then(Ye=>{(0,ne.Vx)((0,ne.iH)(this.db,p),{counter:(0,ne.nP)(_?1:-1)}).then(It=>{A(It)})})})}others(){}checkPresence(p){const _=(0,ne.iH)(this.db,`${p}/connections`),A=(0,ne.iH)(this.db,`${p}/lastOnline`),X=(0,ne.iH)(this.db,".info/connected");(0,ne.jM)(X,fe=>{if(!0===fe.val()){const Ye=(0,ne.VF)(_);(0,ne.ae)(Ye).remove().then(),(0,ne.t8)(Ye,!0).then(),(0,ne.ae)(A).set((0,ne.Bt)()).then()}})}onDisconnect(p){const _=(0,ne.iH)(this.db,p);return(0,ne.ae)(_)}detectingConnectionState(){return new H.y(p=>{const _=(0,ne.iH)(this.db,".info/connected");(0,ne.jM)(_,A=>{p.next(A.val())})})}}let Fs=(()=>{class b extends wi{constructor(){super()}get timestamp(){return(new Date).getTime()}getPresence(_){return this.readReal(`status/${_}`)}getUserOnlineCounts(){return this.readRealTime("status").pipe((0,Q.U)(_=>_.reduce((A,X)=>"online"===X.status?++A:A,0)))}getTotalUserCounts(){return this.readRealTime("status").pipe((0,Q.U)(_=>_))}setPresence(_,A){return this.set(`status/${_}`,{status:A,timestamp:this.timestamp})}updateOnAway(_){document.onvisibilitychange=A=>{"hidden"===document.visibilityState?this.setPresence(_,"away"):this.setPresence(_,"online")}}updateOnUser(_){this.detectingConnectionState().pipe((0,Q.U)(X=>X?"online":"offline")).subscribe(X=>this.setPresence(_,X))}updateOnDisconnect(_){this.onDisconnect(`status/${_}`).update({status:"offline",timestamp:this.timestamp})}configure(_){this.updateOnAway(_),this.updateOnUser(_),this.updateOnDisconnect(_)}configureUserPresenceByLocal(){let _=localStorage.getItem("uid");this.checkingUser(_)}configureUserPresenceByLogin(_,A={}){this.checkingUser(_,A)}checkingUser(_,A={}){_?this.configure(_):this.create("status",Object.assign({uid:_},A)).then(X=>{localStorage.setItem("uid",X.key),this.configure(X.key)})}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const Ks={provide:f.ip1,useFactory:function Wl(b){return()=>new Promise((p,_)=>(0,S.mG)(this,void 0,void 0,function*(){yield b.configureUserPresenceByLocal(),p("done")}))},deps:[Fs],multi:!0};let Rl=(()=>{class b extends wi{constructor(_){super(),this.presenceService=_,this.flattenObject1=A=>{const X={};return Object.keys(A).forEach(fe=>{const Ye=A[fe];"object"!=typeof Ye||null===Ye||Array.isArray(Ye)?X[fe]=Ye:Object.assign(X,this.flattenObject1(Ye))}),X},this.flattenObject=A=>{let X={};for(const fe in A)if(A.hasOwnProperty(fe))if("object"!=typeof A[fe]||Array.isArray(A[fe]))X[fe]=A[fe];else{const Ye=this.flattenObject(A[fe]);for(const It in Ye)X[fe+"_"+It]=Ye[It]}return X}}ngOnInit(){this.readReal("server-activities").subscribe(_=>{this.serverActivities=_}),this.readReal("router-activities").subscribe(_=>(0,S.mG)(this,void 0,void 0,function*(){this.routerActivities=_})),this.counts$=this.presenceService.getUserOnlineCounts(),this.totalUsers$=this.presenceService.getTotalUserCounts()}d(_){let A={};for(let X in _)if(_.hasOwnProperty(X)){const fe=typeof _[X];"string"===fe?A[X]=_[X]:"object"===fe&&this.d(_[X])}}}return b.\u0275fac=function(_){return new(_||b)(f.Y36(Fs))},b.\u0275cmp=f.Xpm({type:b,selectors:[["fb-activities"]],features:[f.qOj],decls:38,vars:13,consts:[[1,"grid-even-columns"],[4,"ngIf"],[1,"sticky-top"],[4,"ngFor","ngForOf"],["rows",""],["inner",""],["data-label","id"],["data-label","status",3,"ngClass"],["data-label","date"],["class","mr-2",4,"ngIf"],[1,"mr-2"],["colspan","2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"color","tomato"]],template:function(_,A){1&_&&(f.TgZ(0,"div",0)(1,"section")(2,"h2")(3,"span"),f._uU(4,"Online"),f.qZA(),f._uU(5,"Users"),f.qZA(),f.TgZ(6,"h2")(7,"h1"),f._uU(8),f.ALo(9,"async"),f.qZA()()(),f.YNc(10,_t,8,1,"section",1),f.ALo(11,"async"),f.TgZ(12,"section")(13,"h2")(14,"span"),f._uU(15,"Server"),f.qZA(),f._uU(16,"Requests"),f.qZA(),f.TgZ(17,"h2")(18,"h1"),f._uU(19),f.qZA()()()(),f.YNc(20,Bn,13,1,"table",1),f.ALo(21,"async"),f.TgZ(22,"table")(23,"caption"),f._uU(24,"Modules Summary"),f.qZA(),f.TgZ(25,"thead",2)(26,"tr")(27,"th"),f._uU(28,"Modules"),f.qZA(),f.TgZ(29,"th"),f._uU(30,"Views"),f.qZA()()(),f.TgZ(31,"tbody"),f.YNc(32,sr,7,7,"ng-container",3),f.ALo(33,"keyvalue"),f.qZA()(),f.YNc(34,to,1,1,"ng-template",null,4,f.W1O),f.YNc(36,si,2,3,"ng-template",null,5,f.W1O)),2&_&&(f.xp6(8),f.hij(" ",f.lcZ(9,5,A.counts$)," "),f.xp6(2),f.Q6J("ngIf",f.lcZ(11,7,A.totalUsers$)),f.xp6(9),f.Oqu(null==A.serverActivities?null:A.serverActivities.counter),f.xp6(1),f.Q6J("ngIf",f.lcZ(21,9,A.totalUsers$)),f.xp6(12),f.Q6J("ngForOf",f.lcZ(33,11,A.routerActivities)))},dependencies:[de.mk,de.sg,de.O5,de.tP,de.Ov,de.gd,de.uU,de.Nd],styles:['*,*:before,*:after{box-sizing:border-box;margin-top:0}:host{display:block;background:#f5f5f5;color:#18314f;font-family:Crimson Text,serif;font-size:1.5rem;padding:1rem}section{background:white;box-shadow:0 0 20px #00000040;width:80%;margin:50px auto;padding:50px}h2{font-weight:400;text-transform:uppercase;font-size:1rem;margin-bottom:3em;letter-spacing:8px;text-align:center;color:tomato}h2:after{content:"";display:block;border-bottom:1px solid rgba(24,49,79,.25);width:20%;margin:3em auto 0}h2 span{font-size:2em;font-weight:700;display:block;color:#18314f}[class*=grid-]{display:grid;gap:1rem}.grid-even-columns{grid-template-columns:repeat(auto-fit,minmax(min(300px,100%),1fr))}@media (min-width: 50em){.grid-auto-flows{grid-auto-flow:column;grid-auto-columns:1fr}}.grid-stack{display:grid;place-items:center}.grid-stack>*{grid-column:1/2;grid-row:1/2}.grid-stack>img{aspect-ratio:16/9;object-fit:cover;z-index:-1}.overflow-y{height:300px;overflow-y:auto;overflow-x:hidden}table{border:1px solid #ccc;border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed;box-shadow:1px 2px 1px 2px #e6e5e5;position:relative}table caption{font-size:1.5em;margin:.5em 0 .75em}table tr{background-color:#f8f8f8;border:1px solid #ddd;padding:.35em}table th,table td{padding:.625em;text-align:center}table th{font-size:.85em;letter-spacing:.1em;text-transform:uppercase}.text-success{color:#006400}.text-danger{color:#8b0000}.text-warning{color:#ff0}.sticky-top{position:sticky;top:0}@media screen and (max-width: 600px){table{border:0}table caption{font-size:1.3em}table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute!important;width:1px}table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table td{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table td:last-child{border-bottom:0}table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}}\n'],encapsulation:3}),b})(),ja=(()=>{class b extends wi{constructor(_){super(),this.router=_}config(){this.router.events.subscribe(_=>{_ instanceof re.m2&&(/[#$\[\]'?]/g.test(_.url)||this.updateCounter(`router-activities${_.url}`).then())})}}return b.\u0275fac=function(_){return new(_||b)(f.LFG(re.F0))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const Tn={provide:f.ip1,useFactory:b=>()=>b.config(),multi:!0,deps:[ja]},Kn={provide:q.TP,useClass:(()=>{class b extends wi{constructor(){super()}intercept(_,A){return this.updateCounter("server-activities").then(),A.handle(_)}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})(),multi:!0},gr=new f.OlP(null);function Bi(b){return()=>{const p=(0,he.ZF)(b);(0,ne.N8)(p),(0,Z.ad)(p),console.log(`no of Firebase app:: ${(0,he.C6)().length}`)}}let ro=(()=>{class b{constructor(_){this.config=_}static initializeApp(_){return{ngModule:b,providers:[{provide:gr,useFactory:Bi(_)}]}}static initialize(_){let A=[];return _.activityInHttp&&A.push(Kn),_.activityInRouter&&A.push(Tn),_.activityOfAnonymousUser&&A.push(Ks),{ngModule:b,providers:A}}}return b.\u0275fac=function(_){return new(_||b)(f.LFG(gr))},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({providers:[ja,Fs],imports:[de.ez]}),b})();const zs="https://rktect-rest-default-rtdb.firebaseio.com/users.json",Ha="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let es=(()=>{class b{constructor(_){this.http=_}getUsers(){return this.http.get(zs,{params:{auth:Ha}})}createUser(_){return this.http.post(zs,_,{params:{auth:Ha}})}}return b.\u0275fac=function(_){return new(_||b)(f.LFG(q.eN))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class Tu{constructor(){this.db=(0,Z.ad)(),this.auth=Xe(),(0,Z.ST)(this.db).catch(p=>{"failed-precondition"==p.code?console.log("persistance failed"):"unimplemented"==p.code&&console.log("persistance not available")})}get colRef(){return(0,Z.hJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((p,_)=>{(0,Z.PL)(this.colRef).then(A=>{let X=this.setData2(A);p(X)}).catch(A=>{_(A.message)})})}getSingleDoc(p){const _=(0,Z.JU)(this.db,this.collectionPath,p);return new Promise((A,X)=>(0,Z.QT)(_).then(fe=>{let Ye=this.transformSingleDoc(fe);A(Ye)}).catch(fe=>{X(fe.message)}))}getSingleDocFromCache(p){return(0,S.mG)(this,void 0,void 0,function*(){const _=(0,Z.JU)(this.db,this.collectionPath,p);try{const A=yield(0,Z.kl)(_);console.log("Cached document data:",A.data())}catch(A){console.log("Error getting cached document:",A)}})}getCollectionRealTime(p){return this.unsubscribe=(0,Z.cf)(this.colRef,_=>{p(this.setData2(_))})}getDocRealTime(p,_){const A=(0,Z.JU)(this.db,this.collectionPath,p);return(0,Z.cf)(A,X=>{_(this.transformSingleDoc(X))})}g(){(0,Z.cf)(void 0,_=>{_.docChanges().forEach(A=>{"added"===A.type&&console.log("New city: ",A.doc.data()),"modified"===A.type&&console.log("Modified city: ",A.doc.data()),"removed"===A.type&&console.log("Removed city: ",A.doc.data())})})}addingDoc(p={}){return(0,Z.ET)(this.colRef,Object.assign({createdAt:(0,Z.Bt)(),updatedAt:(0,Z.Bt)()},p))}deletingDoc(p){const _=(0,Z.JU)(this.db,this.collectionPath,p);return(0,Z.oe)(_)}updatingDoc(p,_){const A=(0,Z.JU)(this.db,this.collectionPath,p);return(0,Z.r7)(A,Object.assign({updatedAt:(0,Z.Bt)()},_))}signUpWithEmailPass({email:p,password:_}){return function js(b,p,_){return Fo.apply(this,arguments)}(this.auth,p,_).then(A=>Promise.resolve(A.user)).catch(A=>Promise.reject(A.message))}signInWithEmailPass({email:p,password:_}){return function ko(b,p,_){return function ei(b,p){return Aa.apply(this,arguments)}((0,le.m9)(b),mo.credential(p,_))}(this.auth,p,_).then(A=>Promise.resolve(A.user)).catch(A=>Promise.reject(A.message))}onSignOut(){return function an(b){return(0,le.m9)(b).signOut()}(this.auth).then(p=>Promise.resolve(p)).catch(p=>Promise.reject(p.message))}subscribingAuthChangedRealTime(p){return function Vo(b,p,_,A){return(0,le.m9)(b).onAuthStateChanged(p,_,A)}(this.auth,_=>{p(_)})}getPaginationData1(p={latestDoc:null,empty:!1,data:[]},_=5){return new Promise((A,X)=>{const fe=(0,Z.IO)(this.colRef,(0,Z.Xo)("createdAt"),(0,Z.TQ)(p.latestDoc||0),(0,Z.b9)(_));(0,Z.PL)(fe).then(Ye=>{let It=this.setData2(Ye);p.latestDoc=Ye.docs[Ye.docs.length-1],p.data=[...p.data,...It],p.empty=Ye.empty,A(p)}).catch(Ye=>{X(Ye.message)})})}getPaginationData(p={latestDoc:null,empty:!1,data:[],size:0},_=5){return(0,S.mG)(this,void 0,void 0,function*(){if(!p.empty)try{const A=(0,Z.IO)(this.colRef,(0,Z.Xo)("createdAt"),(0,Z.TQ)(p.latestDoc||0),(0,Z.b9)(_)),X=yield(0,Z.PL)(A);let fe=this.setData2(X);return p.latestDoc=X.docs[X.docs.length-1],p.data=[...p.data,...fe],p.empty=X.empty,p.size=X.size,p}catch(A){return A}})}unsubscribeRealTime(){this.unsubscribe()}nextPage(p={latestDoc:null,empty:!1,data:[],size:0},_=5){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,Z.IO)(this.colRef,(0,Z.Xo)("createdAt"),(0,Z.TQ)(p.latestDoc||0),(0,Z.b9)(_));return yield this.handlePagination(A)})}prePage(p={latestDoc:null,empty:!1,data:[],size:0},_=5){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,Z.IO)(this.colRef,(0,Z.Xo)("createdAt"),(0,Z.Lx)(p.latestDoc||0),(0,Z.b9)(_));return yield this.handlePagination(A,!1)})}setData(p){return p.docs.map(_=>Object.assign({id:_.id},_.data()))}setData2(p){let _=[];return p.docs.forEach(A=>{_.push(Object.assign(Object.assign({},A.data()),{id:A.id}))}),_}transformSingleDoc(p){return Object.assign(Object.assign({},p.data()),{id:p.id})}handlePagination(p,_=!0){return(0,S.mG)(this,void 0,void 0,function*(){try{const A=yield(0,Z.PL)(p);let X=this.setData2(A);return{latestDoc:_?A.docs[A.docs.length-1]:A.docs[0],data:X,empty:A.empty,size:A.size}}catch(A){return A}})}}},259:(Ce,ae,D)=>{D.d(ae,{C6:()=>f.C6,ZF:()=>f.ZF});var f=D(6881);(0,f.KN)("firebase","9.17.1","app")},6197:(Ce,ae,D)=>{D.d(ae,{iU:()=>si,U2:()=>Tn,N8:()=>Bu,nP:()=>Tc,S1:()=>Tu,ae:()=>wi,jM:()=>Bi,VF:()=>Fs,iH:()=>no,Od:()=>Wl,Bt:()=>mh,t8:()=>Ks,Vx:()=>_c});var f=D(5861),S=D(6881),ne=D(4859),H=D(2090),Q=D(1877);const de="@firebase/database";let q="";class Z{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,H.Wl)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,H.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class ee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,H.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const le=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new Z(u)}}catch(u){}return new ee},Ne=le("localStorage"),Ke=le("sessionStorage"),Ie=new Q.Yd("@firebase/database"),ze=function(){let h=1;return function(){return h++}}(),Ge=function(h){const u=(0,H.dS)(h),c=new H.gQ;c.update(u);const v=c.digest();return H.US.encodeByteArray(v)},je=function(...h){let u="";for(let c=0;c<h.length;c++){const v=h[c];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?u+=je.apply(null,v):u+="object"==typeof v?(0,H.Wl)(v):v,u+=" "}return u};let mt=null,xt=!0;const ke=function(...h){if(!0===xt&&(xt=!1,null===mt&&!0===Ke.get("logging_enabled")&&function(h,u){(0,H.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Ie.logLevel=Q.in.VERBOSE,mt=Ie.log.bind(Ie),u&&Ke.set("logging_enabled",!0)):"function"==typeof h?mt=h:(mt=null,Ke.remove("logging_enabled"))}(!0)),mt){const u=je.apply(null,h);mt(u)}},Dt=function(h){return function(...u){ke(h,...u)}},Tt=function(...h){const u="FIREBASE INTERNAL ERROR: "+je(...h);Ie.error(u)},Kt=function(...h){const u=`FIREBASE FATAL ERROR: ${je(...h)}`;throw Ie.error(u),new Error(u)},Gt=function(...h){const u="FIREBASE WARNING: "+je(...h);Ie.warn(u)},tt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},ot="[MIN_NAME]",et="[MAX_NAME]",Nt=function(h,u){if(h===u)return 0;if(h===ot||u===et)return-1;if(u===ot||h===et)return 1;{const c=gi(h),v=gi(u);return null!==c?null!==v?c-v==0?h.length-u.length:c-v:-1:null!==v?1:h<u?-1:1}},St=function(h,u){return h===u?0:h<u?-1:1},ht=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,H.Wl)(u))},Fn=function(h){if("object"!=typeof h||null===h)return(0,H.Wl)(h);const u=[];for(const v in h)u.push(v);u.sort();let c="{";for(let v=0;v<u.length;v++)0!==v&&(c+=","),c+=(0,H.Wl)(u[v]),c+=":",c+=Fn(h[u[v]]);return c+="}",c},Yt=function(h,u){const c=h.length;if(c<=u)return[h];const v=[];for(let P=0;P<c;P+=u)v.push(h.substring(P,P+u>c?c:P+u));return v};function Mt(h,u){for(const c in h)h.hasOwnProperty(c)&&u(c,h[c])}const hr=function(h){(0,H.hu)(!tt(h),"Invalid JSON number");const v=1023;let P,j,Y,pe,Me;0===h?(j=0,Y=0,P=1/h==-1/0?1:0):(P=h<0,(h=Math.abs(h))>=Math.pow(2,1-v)?(pe=Math.min(Math.floor(Math.log(h)/Math.LN2),v),j=pe+v,Y=Math.round(h*Math.pow(2,52-pe)-Math.pow(2,52))):(j=0,Y=Math.round(h/Math.pow(2,-1074))));const Fe=[];for(Me=52;Me;Me-=1)Fe.push(Y%2?1:0),Y=Math.floor(Y/2);for(Me=11;Me;Me-=1)Fe.push(j%2?1:0),j=Math.floor(j/2);Fe.push(P?1:0),Fe.reverse();const vt=Fe.join("");let Ct="";for(Me=0;Me<64;Me+=8){let bt=parseInt(vt.substr(Me,8),2).toString(16);1===bt.length&&(bt="0"+bt),Ct+=bt}return Ct.toLowerCase()},Lr=new RegExp("^-?(0*)\\d{1,10}$"),gi=function(h){if(Lr.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},Jr=function(h){try{h()}catch(u){setTimeout(()=>{throw Gt("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Xr=function(h,u){const c=setTimeout(h,u);return"number"==typeof c&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Hr{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(v=>this.appCheck=v)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,v)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,v):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(v=>v.addTokenListener(u))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xr{constructor(u,c,v){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(P=>this.auth_=P)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,v)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,v):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(u)}}let lr=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const Er=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$e="websocket",Oe="long_polling";class Ee{constructor(u,c,v,P,j=!1,Y="",pe=!1,Me=!1){this.secure=c,this.namespace=v,this.webSocketOnly=P,this.nodeAdmin=j,this.persistenceKey=Y,this.includeNamespaceInQueryParams=pe,this.isUsingEmulator=Me,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ne.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Ne.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pt(h,u,c){let v;if((0,H.hu)("string"==typeof u,"typeof type must == string"),(0,H.hu)("object"==typeof c,"typeof params must == object"),u===$e)v=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==Oe)throw new Error("Unknown connection type: "+u);v=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function nt(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const P=[];return Mt(c,(j,Y)=>{P.push(j+"="+Y)}),v+P.join("&")}class dn{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,H.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,H.p$)(this.counters_)}}const on={},rr={};function Ft(h){const u=h.toString();return on[u]||(on[u]=new dn),on[u]}class zn{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let P=0;P<v.length;++P)v[P]&&Jr(()=>{this.onMessage_(v[P])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Un{constructor(u,c,v,P,j,Y,pe){this.connId=u,this.repoInfo=c,this.applicationId=v,this.appCheckToken=P,this.authToken=j,this.transportSessionId=Y,this.lastSessionId=pe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dt(u),this.stats_=Ft(c),this.urlFn=Me=>(this.appCheckToken&&(Me.ac=this.appCheckToken),pt(c,Oe,Me))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new zn(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,H.Yr)()||"complete"===document.readyState)h();else{let u=!1;const c=function(){document.body?u||(u=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new or((...j)=>{const[Y,pe,Me,Fe,vt]=j;if(this.incrementIncomingBytes_(j),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Y)this.id=pe,this.password=Me;else{if("close"!==Y)throw new Error("Unrecognized command received: "+Y);pe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(pe,()=>{this.onClosed_()})):this.onClosed_()}},(...j)=>{const[Y,pe]=j;this.incrementIncomingBytes_(j),this.myPacketOrderer.handleResponse(Y,pe)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Er.test(location.hostname)&&(v.r="f");const P=this.urlFn(v);this.log_("Connecting via long-poll to "+P),this.scriptTagHolder.addTag(P,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Un.forceAllow_=!0}static forceDisallow(){Un.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!Un.forceAllow_&&(Un.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,H.Wl)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const v=(0,H.h$)(c),P=Yt(v,1840);for(let j=0;j<P.length;j++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,P.length,P[j]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=u,v.pw=c,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,H.Wl)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class or{constructor(u,c,v,P){if(this.onDisconnect=v,this.urlFn=P,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=ze(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=or.createIFrame_();let j="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(j='<script>document.domain="'+document.domain+'";<\/script>');const Y="<html><body>"+j+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Y),this.myIFrame.doc.close()}catch(pe){ke("frame writing exception"),pe.stack&&ke(pe.stack),ke(pe)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||ke("No IE domain setting required")}catch(c){const v=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),v="",P=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const Y=this.pendingSegs.shift();v=v+"&seg"+P+"="+Y.seg+"&ts"+P+"="+Y.ts+"&d"+P+"="+Y.d,P++}return c+=v,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,v){this.pendingSegs.push({seg:u,ts:c,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const v=()=>{this.outstandingRequests.delete(c),this.newRequest_()},P=setTimeout(v,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(P),v()})}addTag(u,c){(0,H.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=u,v.onload=v.onreadystatechange=function(){const P=v.readyState;(!P||"loaded"===P||"complete"===P)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=()=>{ke("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch(v){}},Math.floor(1))}}let Se=null;"undefined"!=typeof MozWebSocket?Se=MozWebSocket:"undefined"!=typeof WebSocket&&(Se=WebSocket);let me=(()=>{class h{constructor(c,v,P,j,Y,pe,Me){this.connId=c,this.applicationId=P,this.appCheckToken=j,this.authToken=Y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dt(this.connId),this.stats_=Ft(v),this.connURL=h.connectionURL_(v,pe,Me,j,P),this.nodeAdmin=v.nodeAdmin}static connectionURL_(c,v,P,j,Y){const pe={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&Er.test(location.hostname)&&(pe.r="f"),v&&(pe.s=v),P&&(pe.ls=P),j&&(pe.ac=j),Y&&(pe.p=Y),pt(c,$e,pe)}open(c,v){this.onDisconnect=v,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ne.set("previous_websocket_failure",!0);try{let P;if((0,H.Yr)()){P={headers:{"User-Agent":`Firebase/5/${q}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(P.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(P.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Y=process.env,pe=0===this.connURL.indexOf("wss://")?Y.HTTPS_PROXY||Y.https_proxy:Y.HTTP_PROXY||Y.http_proxy;pe&&(P.proxy={origin:pe})}this.mySock=new Se(this.connURL,[],P)}catch(P){this.log_("Error instantiating WebSocket.");const j=P.message||P.data;return j&&this.log_(j),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=P=>{this.handleIncomingFrame(P)},this.mySock.onerror=P=>{this.log_("WebSocket error.  Closing connection.");const j=P.message||P.data;j&&this.log_(j),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const P=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);P&&P.length>1&&parseFloat(P[1])<4.4&&(c=!0)}return!c&&null!==Se&&!h.forceDisallow_}static previouslyFailed(){return Ne.isInMemoryStorage||!0===Ne.get("previous_websocket_failure")}markConnectionHealthy(){Ne.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const v=this.frames.join("");this.frames=null;const P=(0,H.cI)(v);this.onMessage(P)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const v=Number(c);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const v=c.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{const P=this.extractFrameCount_(v);null!==P&&this.appendFrame_(P)}}send(c){this.resetKeepAlive();const v=(0,H.Wl)(c);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);const P=Yt(v,16384);P.length>1&&this.sendString_(String(P.length));for(let j=0;j<P.length;j++)this.sendString_(P[j])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),Ue=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Un,me]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const v=me&&me.isAvailable();let P=v&&!me.previouslyFailed();if(c.webSocketOnly&&(v||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),P=!0),P)this.transports_=[me];else{const j=this.transports_=[];for(const Y of h.ALL_TRANSPORTS)Y&&Y.isAvailable()&&j.push(Y);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class us{constructor(u,c,v,P,j,Y,pe,Me,Fe,vt){this.id=u,this.repoInfo_=c,this.applicationId_=v,this.appCheckToken_=P,this.authToken_=j,this.onMessage_=Y,this.onReady_=pe,this.onDisconnect_=Me,this.onKill_=Fe,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dt("c:"+this.id+":"),this.transportManager_=new Ue(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,v)},Math.floor(0));const P=u.healthyTimeout||0;P>0&&(this.healthyTimeout_=Xr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(P)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=ht("t",u),v=ht("d",u);if("c"===c)this.onSecondaryControl_(v);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=ht("t",u),v=ht("d",u);"c"===c?this.onControl_(v):"d"===c&&this.onDataMessage_(v)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=ht("t",u);if("d"in u){const v=u.d;if("h"===c){const P=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(P.h=this.repoInfo_.host),this.onHandshake_(P)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let P=0;P<this.pendingDataMessages.length;++P)this.onDataMessage_(this.pendingDataMessages[P]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(v):"r"===c?this.onReset_(v):"e"===c?Tt("Server Error: "+v):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tt("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,v=u.v,P=u.h;this.sessionId=u.s,this.repoInfo_.host=P,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==v&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,v),Xr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ne.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ni{put(u,c,v,P){}merge(u,c,v,P){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,v){}onDisconnectMerge(u,c,v){}onDisconnectCancel(u,c){}reportStats(u){}}class Mi{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,H.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const v=[...this.listeners_[u]];for(let P=0;P<v.length;P++)v[P].callback.apply(v[P].context,c)}}on(u,c,v){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:v});const P=this.getInitialEvent(u);P&&c.apply(v,P)}off(u,c,v){this.validateEventType_(u);const P=this.listeners_[u]||[];for(let j=0;j<P.length;j++)if(P[j].callback===c&&(!v||v===P[j].context))return void P.splice(j,1)}validateEventType_(u){(0,H.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class Oi extends Mi{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oi}getInitialEvent(u){return(0,H.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class Mn{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let v=0;for(let P=0;P<this.pieces_.length;P++)this.pieces_[P].length>0&&(this.pieces_[v]=this.pieces_[P],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function On(){return new Mn("")}function In(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function _i(h){return h.pieces_.length-h.pieceNum_}function bn(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new Mn(h.pieces_,u)}function io(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function vi(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function Pi(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)u.push(h.pieces_[c]);return new Mn(u,0)}function Jn(h,u){const c=[];for(let v=h.pieceNum_;v<h.pieces_.length;v++)c.push(h.pieces_[v]);if(u instanceof Mn)for(let v=u.pieceNum_;v<u.pieces_.length;v++)c.push(u.pieces_[v]);else{const v=u.split("/");for(let P=0;P<v.length;P++)v[P].length>0&&c.push(v[P])}return new Mn(c,0)}function Vn(h){return h.pieceNum_>=h.pieces_.length}function Fr(h,u){const c=In(h),v=In(u);if(null===c)return u;if(c===v)return Fr(bn(h),bn(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function Ni(h,u){const c=vi(h,0),v=vi(u,0);for(let P=0;P<c.length&&P<v.length;P++){const j=Nt(c[P],v[P]);if(0!==j)return j}return c.length===v.length?0:c.length<v.length?-1:1}function we(h,u){if(_i(h)!==_i(u))return!1;for(let c=h.pieceNum_,v=u.pieceNum_;c<=h.pieces_.length;c++,v++)if(h.pieces_[c]!==u.pieces_[v])return!1;return!0}function it(h,u){let c=h.pieceNum_,v=u.pieceNum_;if(_i(h)>_i(u))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==u.pieces_[v])return!1;++c,++v}return!0}class Qe{constructor(u,c){this.errorPrefix_=c,this.parts_=vi(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,H.ug)(this.parts_[v]);kt(this)}}function kt(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gn(h))}function Gn(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class Wr extends Mi{constructor(){let u,c;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",u="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const v=!document[u];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new Wr}getInitialEvent(u){return(0,H.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Nr=1e3;let ao,oo=(()=>{class h extends ni{constructor(c,v,P,j,Y,pe,Me,Fe){if(super(),this.repoInfo_=c,this.applicationId_=v,this.onDataUpdate_=P,this.onConnectStatus_=j,this.onServerInfoUpdate_=Y,this.authTokenProvider_=pe,this.appCheckTokenProvider_=Me,this.authOverride_=Fe,this.id=h.nextPersistentConnectionId_++,this.log_=Dt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Fe&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wr.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Oi.getInstance().on("online",this.onOnline_,this)}sendRequest(c,v,P){const j=++this.requestNumber_,Y={r:j,a:c,b:v};this.log_((0,H.Wl)(Y)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Y),P&&(this.requestCBHash_[j]=P)}get(c){this.initConnection_();const v=new H.BH,P={p:c._path.toString(),q:c._queryObject};return this.outstandingGets_.push({action:"g",request:P,onComplete:pe=>{const Me=pe.d;"ok"===pe.s?v.resolve(Me):v.reject(Me)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),v.promise}listen(c,v,P,j){this.initConnection_();const Y=c._queryIdentifier,pe=c._path.toString();this.log_("Listen called for "+pe+" "+Y),this.listens.has(pe)||this.listens.set(pe,new Map),(0,H.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(pe).has(Y),"listen() called twice for same path/queryId.");const Me={onComplete:j,hashFn:v,query:c,tag:P};this.listens.get(pe).set(Y,Me),this.connected_&&this.sendListen_(Me)}sendGet_(c){const v=this.outstandingGets_[c];this.sendRequest("g",v.request,P=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),v.onComplete&&v.onComplete(P)})}sendListen_(c){const v=c.query,P=v._path.toString(),j=v._queryIdentifier;this.log_("Listen on "+P+" for "+j);const Y={p:P};c.tag&&(Y.q=v._queryObject,Y.t=c.tag),Y.h=c.hashFn(),this.sendRequest("q",Y,Me=>{const Fe=Me.d,vt=Me.s;h.warnOnListenWarnings_(Fe,v),(this.listens.get(P)&&this.listens.get(P).get(j))===c&&(this.log_("listen response",Me),"ok"!==vt&&this.removeListen_(P,j),c.onComplete&&c.onComplete(vt,Fe))})}static warnOnListenWarnings_(c,v){if(c&&"object"==typeof c&&(0,H.r3)(c,"w")){const P=(0,H.DV)(c,"w");if(Array.isArray(P)&&~P.indexOf("no_index")){const j='".indexOn": "'+v._queryParams.getIndex().toString()+'"',Y=v._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${j} at ${Y} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,H.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,v=(0,H.w9)(c)?"auth":"gauth",P={cred:c};null===this.authOverride_?P.noauth=!0:"object"==typeof this.authOverride_&&(P.authvar=this.authOverride_),this.sendRequest(v,P,j=>{const Y=j.s,pe=j.d||"error";this.authToken_===c&&("ok"===Y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Y,pe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const v=c.s,P=c.d||"error";"ok"===v?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(v,P)})}unlisten(c,v){const P=c._path.toString(),j=c._queryIdentifier;this.log_("Unlisten called for "+P+" "+j),(0,H.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(P,j)&&this.connected_&&this.sendUnlisten_(P,j,c._queryObject,v)}sendUnlisten_(c,v,P,j){this.log_("Unlisten on "+c+" for "+v);const Y={p:c};j&&(Y.q=P,Y.t=j),this.sendRequest("n",Y)}onDisconnectPut(c,v,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,v,P):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:v,onComplete:P})}onDisconnectMerge(c,v,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,v,P):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:v,onComplete:P})}onDisconnectCancel(c,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:v})}sendOnDisconnect_(c,v,P,j){const Y={p:v,d:P};this.log_("onDisconnect "+c,Y),this.sendRequest(c,Y,pe=>{j&&setTimeout(()=>{j(pe.s,pe.d)},Math.floor(0))})}put(c,v,P,j){this.putInternal("p",c,v,P,j)}merge(c,v,P,j){this.putInternal("m",c,v,P,j)}putInternal(c,v,P,j,Y){this.initConnection_();const pe={p:v,d:P};void 0!==Y&&(pe.h=Y),this.outstandingPuts_.push({action:c,request:pe,onComplete:j}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)}sendPut_(c){const v=this.outstandingPuts_[c].action,P=this.outstandingPuts_[c].request,j=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,P,Y=>{this.log_(v+" response",Y),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),j&&j(Y.s,Y.d)})}reportStats(c){if(this.connected_){const v={c};this.log_("reportStats",v),this.sendRequest("s",v,P=>{"ok"!==P.s&&this.log_("reportStats","Error sending stats: "+P.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,H.Wl)(c));const v=c.r,P=this.requestCBHash_[v];P&&(delete this.requestCBHash_[v],P(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,v){this.log_("handleServerMessage",c,v),"d"===c?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===c?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===c?this.onListenRevoked_(v.p,v.q):"ac"===c?this.onAuthRevoked_(v.s,v.d):"apc"===c?this.onAppCheckRevoked_(v.s,v.d):"sd"===c?this.onSecurityDebugPacket_(v):Tt("Unrecognized action received from server: "+(0,H.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nr,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=Nr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let v=Math.max(0,this.reconnectDelay_-c);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,f.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const v=c.onDataMessage_.bind(c),P=c.onReady_.bind(c),j=c.onRealtimeDisconnect_.bind(c),Y=c.id+":"+h.nextConnectionId_++,pe=c.lastSessionId;let Me=!1,Fe=null;const vt=function(){Fe?Fe.close():(Me=!0,j())};c.realtime_={close:vt,sendRequest:function(_n){(0,H.hu)(Fe,"sendRequest call when we're not connected not allowed."),Fe.sendRequest(_n)}};const bt=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[_n,Yn]=yield Promise.all([c.authTokenProvider_.getToken(bt),c.appCheckTokenProvider_.getToken(bt)]);Me?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),c.authToken_=_n&&_n.accessToken,c.appCheckToken_=Yn&&Yn.token,Fe=new us(Y,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,v,P,j,pi=>{Gt(pi+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},pe))}catch(_n){c.log_("Failed to get token: "+_n),Me||(c.repoInfo_.nodeAdmin&&Gt(_n),vt())}}})()}interrupt(c){ke("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){ke("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Nr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const v=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const v=this.outstandingPuts_[c];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,v){let P;P=v?v.map(Y=>Fn(Y)).join("$"):"default";const j=this.removeListen_(c,P);j&&j.onComplete&&j.onComplete("permission_denied")}removeListen_(c,v){const P=new Mn(c).toString();let j;if(this.listens.has(P)){const Y=this.listens.get(P);j=Y.get(v),Y.delete(v),0===Y.size&&this.listens.delete(P)}else j=void 0;return j}onAuthRevoked_(c,v){ke("Auth token revoked: "+c+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,v){ke("App check token revoked: "+c+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const v of c.values())this.sendListen_(v);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let v="js";(0,H.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+v+"."+q.replace(/\./g,"-")]=1,(0,H.uI)()?c["framework.cordova"]=1:(0,H.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Oi.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Xn{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new Xn(u,c)}}class To{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const v=new Xn(ot,u),P=new Xn(ot,c);return 0!==this.compare(v,P)}minPost(){return Xn.MIN}}class hs extends To{static get __EMPTY_NODE(){return ao}static set __EMPTY_NODE(u){ao=u}compare(u,c){return Nt(u.name,c.name)}isDefinedOn(u){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return Xn.MIN}maxPost(){return new Xn(et,ao)}makePost(u,c){return(0,H.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Xn(u,ao)}toString(){return".key"}}const Fi=new hs;class Os{constructor(u,c,v,P,j=null){this.isReverse_=P,this.resultGenerator_=j,this.nodeStack_=[];let Y=1;for(;!u.isEmpty();)if(Y=c?v(u.key,c):1,P&&(Y*=-1),Y<0)u=this.isReverse_?u.left:u.right;else{if(0===Y){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let lo,Ei=(()=>{class h{constructor(c,v,P,j,Y){this.key=c,this.value=v,this.color=null!=P?P:h.RED,this.left=null!=j?j:er.EMPTY_NODE,this.right=null!=Y?Y:er.EMPTY_NODE}copy(c,v,P,j,Y){return new h(null!=c?c:this.key,null!=v?v:this.value,null!=P?P:this.color,null!=j?j:this.left,null!=Y?Y:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,v,P){let j=this;const Y=P(c,j.key);return j=Y<0?j.copy(null,null,null,j.left.insert(c,v,P),null):0===Y?j.copy(null,v,null,null,null):j.copy(null,null,null,null,j.right.insert(c,v,P)),j.fixUp_()}removeMin_(){if(this.left.isEmpty())return er.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,v){let P,j;if(P=this,v(c,P.key)<0)!P.left.isEmpty()&&!P.left.isRed_()&&!P.left.left.isRed_()&&(P=P.moveRedLeft_()),P=P.copy(null,null,null,P.left.remove(c,v),null);else{if(P.left.isRed_()&&(P=P.rotateRight_()),!P.right.isEmpty()&&!P.right.isRed_()&&!P.right.left.isRed_()&&(P=P.moveRedRight_()),0===v(c,P.key)){if(P.right.isEmpty())return er.EMPTY_NODE;j=P.right.min_(),P=P.copy(j.key,j.value,null,null,P.right.removeMin_())}P=P.copy(null,null,null,null,P.right.remove(c,v))}return P.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,v)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class er{constructor(u,c=er.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new er(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,Ei.BLACK,null,null))}remove(u){return new er(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Ei.BLACK,null,null))}get(u){let c,v=this.root_;for(;!v.isEmpty();){if(c=this.comparator_(u,v.key),0===c)return v.value;c<0?v=v.left:c>0&&(v=v.right)}return null}getPredecessorKey(u){let c,v=this.root_,P=null;for(;!v.isEmpty();){if(c=this.comparator_(u,v.key),0===c){if(v.left.isEmpty())return P?P.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}c<0?v=v.left:c>0&&(P=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new Os(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new Os(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new Os(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new Os(this.root_,null,this.comparator_,!0,u)}}function Ps(h,u){return Nt(h.name,u.name)}function ys(h,u){return Nt(h,u)}er.EMPTY_NODE=new class Qs{copy(u,c,v,P,j){return this}insert(u,c,v){return new Ei(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uo=function(h){return"number"==typeof h?"number:"+hr(h):"string:"+h},ca=function(h){if(h.isLeafNode()){const u=h.val();(0,H.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,H.r3)(u,".sv"),"Priority must be a string or number.")}else(0,H.hu)(h===lo||h.isEmpty(),"priority of unexpected type.");(0,H.hu)(h===lo||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mo,Ia,ri,Yi=(()=>{class h{constructor(c,v=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=v,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ca(this.priorityNode_)}static set __childrenNodeConstructor(c){mo=c}static get __childrenNodeConstructor(){return mo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return Vn(c)?this:".priority"===In(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,v){return null}updateImmediateChild(c,v){return".priority"===c?this.updatePriority(v):v.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,v).updatePriority(this.priorityNode_)}updateChild(c,v){const P=In(c);return null===P?v:v.isEmpty()&&".priority"!==P?this:((0,H.hu)(".priority"!==P||1===_i(c),".priority must be the last token in a path"),this.updateImmediateChild(P,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(bn(c),v)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,v){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+uo(this.priorityNode_.val())+":");const v=typeof this.value_;c+=v+":",c+="number"===v?hr(this.value_):this.value_,this.lazyHash_=Ge(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,H.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const v=typeof c.value_,P=typeof this.value_,j=h.VALUE_TYPE_ORDER.indexOf(v),Y=h.VALUE_TYPE_ORDER.indexOf(P);return(0,H.hu)(j>=0,"Unknown leaf type: "+v),(0,H.hu)(Y>=0,"Unknown leaf type: "+P),j===Y?"object"===P?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:Y-j}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const v=c;return this.value_===v.value_&&this.priorityNode_.equals(v.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const kr=new class Qa extends To{compare(u,c){const v=u.node.getPriority(),P=c.node.getPriority(),j=v.compareTo(P);return 0===j?Nt(u.name,c.name):j}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return Xn.MIN}maxPost(){return new Xn(et,new Yi("[PRIORITY-POST]",ri))}makePost(u,c){const v=Ia(u);return new Xn(c,new Yi("[PRIORITY-POST]",v))}toString(){return".priority"}},Xo=Math.log(2);class bi{constructor(u){this.count=parseInt(Math.log(u+1)/Xo,10),this.current_=this.count-1;const P=(j=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&P}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const xo=function(h,u,c,v){h.sort(u);const P=function(Me,Fe){const vt=Fe-Me;let Ct,bt;if(0===vt)return null;if(1===vt)return Ct=h[Me],bt=c?c(Ct):Ct,new Ei(bt,Ct.node,Ei.BLACK,null,null);{const _n=parseInt(vt/2,10)+Me,Yn=P(Me,_n),pi=P(_n+1,Fe);return Ct=h[_n],bt=c?c(Ct):Ct,new Ei(bt,Ct.node,Ei.BLACK,Yn,pi)}},pe=function(Me){let Fe=null,vt=null,Ct=h.length;const bt=function(Yn,pi){const Yo=Ct-Yn,zl=Ct;Ct-=Yn;const Ts=P(Yo+1,zl),Sc=h[Yo],wd=c?c(Sc):Sc;_n(new Ei(wd,Sc.node,pi,null,Ts))},_n=function(Yn){Fe?(Fe.left=Yn,Fe=Yn):(vt=Yn,Fe=Yn)};for(let Yn=0;Yn<Me.count;++Yn){const pi=Me.nextBitIsOne(),Yo=Math.pow(2,Me.count-(Yn+1));pi?bt(Yo,Ei.BLACK):(bt(Yo,Ei.BLACK),bt(Yo,Ei.RED))}return vt}(new bi(h.length));return new er(v||u,pe)};let wa;const qs={};class li{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,H.hu)(qs&&kr,"ChildrenNode.ts has not been loaded"),wa=wa||new li({".priority":qs},{".priority":kr}),wa}get(u){const c=(0,H.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof er?c:null}hasIndex(u){return(0,H.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,H.hu)(u!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let P=!1;const j=c.getIterator(Xn.Wrap);let pe,Y=j.getNext();for(;Y;)P=P||u.isDefinedOn(Y.node),v.push(Y),Y=j.getNext();pe=P?xo(v,u.getCompare()):qs;const Me=u.toString(),Fe=Object.assign({},this.indexSet_);Fe[Me]=u;const vt=Object.assign({},this.indexes_);return vt[Me]=pe,new li(vt,Fe)}addToIndexes(u,c){const v=(0,H.UI)(this.indexes_,(P,j)=>{const Y=(0,H.DV)(this.indexSet_,j);if((0,H.hu)(Y,"Missing index implementation for "+j),P===qs){if(Y.isDefinedOn(u.node)){const pe=[],Me=c.getIterator(Xn.Wrap);let Fe=Me.getNext();for(;Fe;)Fe.name!==u.name&&pe.push(Fe),Fe=Me.getNext();return pe.push(u),xo(pe,Y.getCompare())}return qs}{const pe=c.get(u.name);let Me=P;return pe&&(Me=Me.remove(new Xn(u.name,pe))),Me.insert(u,u.node)}});return new li(v,this.indexSet_)}removeFromIndexes(u,c){const v=(0,H.UI)(this.indexes_,P=>{if(P===qs)return P;{const j=c.get(u.name);return j?P.remove(new Xn(u.name,j)):P}});return new li(v,this.indexSet_)}}let Di,yn=(()=>{class h{constructor(c,v,P){this.children_=c,this.priorityNode_=v,this.indexMap_=P,this.lazyHash_=null,this.priorityNode_&&ca(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Di||(Di=new h(new er(ys),null,li.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Di}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const v=this.children_.get(c);return null===v?Di:v}}getChild(c){const v=In(c);return null===v?this:this.getImmediateChild(v).getChild(bn(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,v){if((0,H.hu)(v,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(v);{const P=new Xn(c,v);let j,Y;v.isEmpty()?(j=this.children_.remove(c),Y=this.indexMap_.removeFromIndexes(P,this.children_)):(j=this.children_.insert(c,v),Y=this.indexMap_.addToIndexes(P,this.children_));const pe=j.isEmpty()?Di:this.priorityNode_;return new h(j,pe,Y)}}updateChild(c,v){const P=In(c);if(null===P)return v;{(0,H.hu)(".priority"!==In(c)||1===_i(c),".priority must be the last token in a path");const j=this.getImmediateChild(P).updateChild(bn(c),v);return this.updateImmediateChild(P,j)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const v={};let P=0,j=0,Y=!0;if(this.forEachChild(kr,(pe,Me)=>{v[pe]=Me.val(c),P++,Y&&h.INTEGER_REGEXP_.test(pe)?j=Math.max(j,Number(pe)):Y=!1}),!c&&Y&&j<2*P){const pe=[];for(const Me in v)pe[Me]=v[Me];return pe}return c&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+uo(this.getPriority().val())+":"),this.forEachChild(kr,(v,P)=>{const j=P.hash();""!==j&&(c+=":"+v+":"+j)}),this.lazyHash_=""===c?"":Ge(c)}return this.lazyHash_}getPredecessorChildName(c,v,P){const j=this.resolveIndex_(P);if(j){const Y=j.getPredecessorKey(new Xn(c,v));return Y?Y.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const v=this.resolveIndex_(c);if(v){const P=v.minKey();return P&&P.name}return this.children_.minKey()}getFirstChild(c){const v=this.getFirstChildName(c);return v?new Xn(v,this.children_.get(v)):null}getLastChildName(c){const v=this.resolveIndex_(c);if(v){const P=v.maxKey();return P&&P.name}return this.children_.maxKey()}getLastChild(c){const v=this.getLastChildName(c);return v?new Xn(v,this.children_.get(v)):null}forEachChild(c,v){const P=this.resolveIndex_(c);return P?P.inorderTraversal(j=>v(j.name,j.node)):this.children_.inorderTraversal(v)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,v){const P=this.resolveIndex_(v);if(P)return P.getIteratorFrom(c,j=>j);{const j=this.children_.getIteratorFrom(c.name,Xn.Wrap);let Y=j.peek();for(;null!=Y&&v.compare(Y,c)<0;)j.getNext(),Y=j.peek();return j}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,v){const P=this.resolveIndex_(v);if(P)return P.getReverseIteratorFrom(c,j=>j);{const j=this.children_.getReverseIteratorFrom(c.name,Xn.Wrap);let Y=j.peek();for(;null!=Y&&v.compare(Y,c)>0;)j.getNext(),Y=j.peek();return j}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===ur?-1:0}withIndex(c){if(c===Fi||this.indexMap_.hasIndex(c))return this;{const v=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,v)}}isIndexed(c){return c===Fi||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const v=c;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){const P=this.getIterator(kr),j=v.getIterator(kr);let Y=P.getNext(),pe=j.getNext();for(;Y&&pe;){if(Y.name!==pe.name||!Y.node.equals(pe.node))return!1;Y=P.getNext(),pe=j.getNext()}return null===Y&&null===pe}return!1}return!1}}resolveIndex_(c){return c===Fi?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const ur=new class ea extends yn{constructor(){super(new er(ys),yn.EMPTY_NODE,li.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return yn.EMPTY_NODE}isEmpty(){return!1}};function Pr(h,u=null){if(null===h)return yn.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,H.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Yi(h,Pr(u));if(h instanceof Array){let c=yn.EMPTY_NODE;return Mt(h,(v,P)=>{if((0,H.r3)(h,v)&&"."!==v.substring(0,1)){const j=Pr(P);(j.isLeafNode()||!j.isEmpty())&&(c=c.updateImmediateChild(v,j))}}),c.updatePriority(Pr(u))}{const c=[];let v=!1;if(Mt(h,(Y,pe)=>{if("."!==Y.substring(0,1)){const Me=Pr(pe);Me.isEmpty()||(v=v||!Me.getPriority().isEmpty(),c.push(new Xn(Y,Me)))}}),0===c.length)return yn.EMPTY_NODE;const j=xo(c,Ps,Y=>Y.name,ys);if(v){const Y=xo(c,kr.getCompare());return new yn(j,Pr(u),new li({".priority":Y},{".priority":kr}))}return new yn(j,Pr(u),li.Default)}}Object.defineProperties(Xn,{MIN:{value:new Xn(ot,yn.EMPTY_NODE)},MAX:{value:new Xn(et,ur)}}),hs.__EMPTY_NODE=yn.EMPTY_NODE,Yi.__childrenNodeConstructor=yn,function Ro(h){lo=h}(ur),function Ya(h){ri=h}(ur),function _s(h){Ia=h}(Pr);class Sa extends To{constructor(u){super(),this.indexPath_=u,(0,H.hu)(!Vn(u)&&".priority"!==In(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const v=this.extractChild(u.node),P=this.extractChild(c.node),j=v.compareTo(P);return 0===j?Nt(u.name,c.name):j}makePost(u,c){const v=Pr(u),P=yn.EMPTY_NODE.updateChild(this.indexPath_,v);return new Xn(c,P)}maxPost(){const u=yn.EMPTY_NODE.updateChild(this.indexPath_,ur);return new Xn(et,u)}toString(){return vi(this.indexPath_,0).join("/")}}const ta=new class Vs extends To{compare(u,c){const v=u.node.compareTo(c.node);return 0===v?Nt(u.name,c.name):v}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return Xn.MIN}maxPost(){return Xn.MAX}makePost(u,c){const v=Pr(u);return new Xn(c,v)}toString(){return".value"}};function Bs(h){return{type:"value",snapshotNode:h}}function En(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function bs(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function No(h,u,c){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:c}}class vs{constructor(u){this.index_=u}updateChild(u,c,v,P,j,Y){(0,H.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const pe=u.getImmediateChild(c);return pe.getChild(P).equals(v.getChild(P))&&pe.isEmpty()===v.isEmpty()||(null!=Y&&(v.isEmpty()?u.hasChild(c)?Y.trackChildChange(bs(c,pe)):(0,H.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):pe.isEmpty()?Y.trackChildChange(En(c,v)):Y.trackChildChange(No(c,v,pe))),u.isLeafNode()&&v.isEmpty())?u:u.updateImmediateChild(c,v).withIndex(this.index_)}updateFullNode(u,c,v){return null!=v&&(u.isLeafNode()||u.forEachChild(kr,(P,j)=>{c.hasChild(P)||v.trackChildChange(bs(P,j))}),c.isLeafNode()||c.forEachChild(kr,(P,j)=>{if(u.hasChild(P)){const Y=u.getImmediateChild(P);Y.equals(j)||v.trackChildChange(No(P,j,Y))}else v.trackChildChange(En(P,j))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?yn.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Es{constructor(u){this.indexedFilter_=new vs(u.getIndex()),this.index_=u.getIndex(),this.startPost_=Es.getStartPost_(u),this.endPost_=Es.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,v=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return c&&v}updateChild(u,c,v,P,j,Y){return this.matches(new Xn(c,v))||(v=yn.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,v,P,j,Y)}updateFullNode(u,c,v){c.isLeafNode()&&(c=yn.EMPTY_NODE);let P=c.withIndex(this.index_);P=P.updatePriority(yn.EMPTY_NODE);const j=this;return c.forEachChild(kr,(Y,pe)=>{j.matches(new Xn(Y,pe))||(P=P.updateImmediateChild(Y,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,P,v)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class yo{constructor(u){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const v=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?v<=0:v<0},this.withinEndPost=c=>{const v=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?v<=0:v<0},this.rangedFilter_=new Es(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,c,v,P,j,Y){return this.rangedFilter_.matches(new Xn(c,v))||(v=yn.EMPTY_NODE),u.getImmediateChild(c).equals(v)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,v,P,j,Y):this.fullLimitUpdateChild_(u,c,v,j,Y)}updateFullNode(u,c,v){let P;if(c.isLeafNode()||c.isEmpty())P=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let j;P=yn.EMPTY_NODE.withIndex(this.index_),j=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Y=0;for(;j.hasNext()&&Y<this.limit_;){const pe=j.getNext();if(this.withinDirectionalStart(pe)){if(!this.withinDirectionalEnd(pe))break;P=P.updateImmediateChild(pe.name,pe.node),Y++}}}else{let j;P=c.withIndex(this.index_),P=P.updatePriority(yn.EMPTY_NODE),j=this.reverse_?P.getReverseIterator(this.index_):P.getIterator(this.index_);let Y=0;for(;j.hasNext();){const pe=j.getNext();Y<this.limit_&&this.withinDirectionalStart(pe)&&this.withinDirectionalEnd(pe)?Y++:P=P.updateImmediateChild(pe.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,P,v)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,v,P,j){let Y;if(this.reverse_){const Ct=this.index_.getCompare();Y=(bt,_n)=>Ct(_n,bt)}else Y=this.index_.getCompare();const pe=u;(0,H.hu)(pe.numChildren()===this.limit_,"");const Me=new Xn(c,v),Fe=this.reverse_?pe.getFirstChild(this.index_):pe.getLastChild(this.index_),vt=this.rangedFilter_.matches(Me);if(pe.hasChild(c)){const Ct=pe.getImmediateChild(c);let bt=P.getChildAfterChild(this.index_,Fe,this.reverse_);for(;null!=bt&&(bt.name===c||pe.hasChild(bt.name));)bt=P.getChildAfterChild(this.index_,bt,this.reverse_);const _n=null==bt?1:Y(bt,Me);if(vt&&!v.isEmpty()&&_n>=0)return null!=j&&j.trackChildChange(No(c,v,Ct)),pe.updateImmediateChild(c,v);{null!=j&&j.trackChildChange(bs(c,Ct));const pi=pe.updateImmediateChild(c,yn.EMPTY_NODE);return null!=bt&&this.rangedFilter_.matches(bt)?(null!=j&&j.trackChildChange(En(bt.name,bt.node)),pi.updateImmediateChild(bt.name,bt.node)):pi}}return v.isEmpty()?u:vt&&Y(Fe,Me)>=0?(null!=j&&(j.trackChildChange(bs(Fe.name,Fe.node)),j.trackChildChange(En(c,v))),pe.updateImmediateChild(c,v).updateImmediateChild(Fe.name,yn.EMPTY_NODE)):u}}class ei{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ot}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:et}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kr}copy(){const u=new ei;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function L(h){const u={};if(h.isDefault())return u;let c;if(h.index_===kr?c="$priority":h.index_===ta?c="$value":h.index_===Fi?c="$key":((0,H.hu)(h.index_ instanceof Sa,"Unrecognized index type!"),c=h.index_.toString()),u.orderBy=(0,H.Wl)(c),h.startSet_){const v=h.startAfterSet_?"startAfter":"startAt";u[v]=(0,H.Wl)(h.indexStartValue_),h.startNameSet_&&(u[v]+=","+(0,H.Wl)(h.indexStartName_))}if(h.endSet_){const v=h.endBeforeSet_?"endBefore":"endAt";u[v]=(0,H.Wl)(h.indexEndValue_),h.endNameSet_&&(u[v]+=","+(0,H.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function se(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),u.vf=c}return h.index_!==kr&&(u.i=h.index_.toString()),u}class dt extends ni{constructor(u,c,v,P){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=v,this.appCheckTokenProvider_=P,this.log_=Dt("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,H.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,v,P){const j=u._path.toString();this.log_("Listen called for "+j+" "+u._queryIdentifier);const Y=dt.getListenId_(u,v),pe={};this.listens_[Y]=pe;const Me=L(u._queryParams);this.restRequest_(j+".json",Me,(Fe,vt)=>{let Ct=vt;if(404===Fe&&(Ct=null,Fe=null),null===Fe&&this.onDataUpdate_(j,Ct,!1,v),(0,H.DV)(this.listens_,Y)===pe){let bt;bt=Fe?401===Fe?"permission_denied":"rest_error:"+Fe:"ok",P(bt,null)}})}unlisten(u,c){const v=dt.getListenId_(u,c);delete this.listens_[v]}get(u){const c=L(u._queryParams),v=u._path.toString(),P=new H.BH;return this.restRequest_(v+".json",c,(j,Y)=>{let pe=Y;404===j&&(pe=null,j=null),null===j?(this.onDataUpdate_(v,pe,!1,null),P.resolve(pe)):P.reject(new Error(pe))}),P.promise}refreshAuthToken(u){}restRequest_(u,c={},v){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([P,j])=>{P&&P.accessToken&&(c.auth=P.accessToken),j&&j.token&&(c.ac=j.token);const Y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,H.xO)(c);this.log_("Sending REST request for "+Y);const pe=new XMLHttpRequest;pe.onreadystatechange=()=>{if(v&&4===pe.readyState){this.log_("REST Response for "+Y+" received. status:",pe.status,"response:",pe.responseText);let Me=null;if(pe.status>=200&&pe.status<300){try{Me=(0,H.cI)(pe.responseText)}catch(Fe){Gt("Failed to parse JSON response for "+Y+": "+pe.responseText)}v(null,Me)}else 401!==pe.status&&404!==pe.status&&Gt("Got unsuccessful REST response for "+Y+" Status: "+pe.status),v(pe.status);v=null}},pe.open("GET",Y,!0),pe.send()})}}class sn{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function ci(){return{value:null,children:new Map}}function is(h,u,c){if(Vn(u))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,c);else{const v=In(u);h.children.has(v)||h.children.set(v,ci()),is(h.children.get(v),u=bn(u),c)}}function co(h,u){if(Vn(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(kr,(v,P)=>{is(h,new Mn(v),P)}),co(h,u)}}if(h.children.size>0){const c=In(u);return u=bn(u),h.children.has(c)&&co(h.children.get(c),u)&&h.children.delete(c),0===h.children.size}return!0}function Kr(h,u,c){null!==h.value?c(u,h.value):function Zs(h,u){h.children.forEach((c,v)=>{u(v,c)})}(h,(v,P)=>{Kr(P,new Mn(u.toString()+"/"+v),c)})}class Ds{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&Mt(this.last_,(v,P)=>{c[v]=c[v]-P}),this.last_=u,c}}class Lo{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new Ds(u);const v=1e4+2e4*Math.random();Xr(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const u=this.statsListener_.get(),c={};let v=!1;Mt(u,(P,j)=>{j>0&&(0,H.r3)(this.statsToReport_,P)&&(c[P]=j,v=!0)}),v&&this.server_.reportStats(c),Xr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var js=(()=>{return(h=js||(js={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",js;var h})();function Ma(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class ha{constructor(u,c,v){this.path=u,this.affectedTree=c,this.revert=v,this.type=js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(Vn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new Mn(u));return new ha(On(),c,this.revert)}}return(0,H.hu)(In(this.path)===u,"operationForChild called for unrelated child."),new ha(bn(this.path),this.affectedTree,this.revert)}}class _o{constructor(u,c){this.source=u,this.path=c,this.type=js.LISTEN_COMPLETE}operationForChild(u){return Vn(this.path)?new _o(this.source,On()):new _o(this.source,bn(this.path))}}class bo{constructor(u,c,v){this.source=u,this.path=c,this.snap=v,this.type=js.OVERWRITE}operationForChild(u){return Vn(this.path)?new bo(this.source,On(),this.snap.getImmediateChild(u)):new bo(this.source,bn(this.path),this.snap)}}class vo{constructor(u,c,v){this.source=u,this.path=c,this.children=v,this.type=js.MERGE}operationForChild(u){if(Vn(this.path)){const c=this.children.subtree(new Mn(u));return c.isEmpty()?null:c.value?new bo(this.source,On(),c.value):new vo(this.source,On(),c)}return(0,H.hu)(In(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new vo(this.source,bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class As{constructor(u,c,v){this.node_=u,this.fullyInitialized_=c,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(Vn(u))return this.isFullyInitialized()&&!this.filtered_;const c=In(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class fa{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function Uo(h,u,c,v,P,j){const Y=v.filter(pe=>pe.type===c);Y.sort((pe,Me)=>function J(h,u,c){if(null==u.childName||null==c.childName)throw(0,H.g5)("Should only compare child_ events.");const v=new Xn(u.childName,u.snapshotNode),P=new Xn(c.childName,c.snapshotNode);return h.index_.compare(v,P)}(h,pe,Me)),Y.forEach(pe=>{const Me=function k(h,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,pe,j);P.forEach(Fe=>{Fe.respondsTo(pe.type)&&u.push(Fe.createEvent(Me,h.query_))})})}function V(h,u){return{eventCache:h,serverCache:u}}function oe(h,u,c,v){return V(new As(u,c,v),h.serverCache)}function De(h,u,c,v){return V(h.eventCache,new As(u,c,v))}function rt(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function ft(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let nn;class Pn{constructor(u,c=(()=>(nn||(nn=new er(St)),nn))()){this.value=u,this.children=c}static fromObject(u){let c=new Pn(null);return Mt(u,(v,P)=>{c=c.set(new Mn(v),P)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:On(),value:this.value};if(Vn(u))return null;{const v=In(u),P=this.children.get(v);if(null!==P){const j=P.findRootMostMatchingPathAndValue(bn(u),c);return null!=j?{path:Jn(new Mn(v),j.path),value:j.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(Vn(u))return this;{const c=In(u),v=this.children.get(c);return null!==v?v.subtree(bn(u)):new Pn(null)}}set(u,c){if(Vn(u))return new Pn(c,this.children);{const v=In(u),j=(this.children.get(v)||new Pn(null)).set(bn(u),c),Y=this.children.insert(v,j);return new Pn(this.value,Y)}}remove(u){if(Vn(u))return this.children.isEmpty()?new Pn(null):new Pn(null,this.children);{const c=In(u),v=this.children.get(c);if(v){const P=v.remove(bn(u));let j;return j=P.isEmpty()?this.children.remove(c):this.children.insert(c,P),null===this.value&&j.isEmpty()?new Pn(null):new Pn(this.value,j)}return this}}get(u){if(Vn(u))return this.value;{const c=In(u),v=this.children.get(c);return v?v.get(bn(u)):null}}setTree(u,c){if(Vn(u))return c;{const v=In(u),j=(this.children.get(v)||new Pn(null)).setTree(bn(u),c);let Y;return Y=j.isEmpty()?this.children.remove(v):this.children.insert(v,j),new Pn(this.value,Y)}}fold(u){return this.fold_(On(),u)}fold_(u,c){const v={};return this.children.inorderTraversal((P,j)=>{v[P]=j.fold_(Jn(u,P),c)}),c(u,this.value,v)}findOnPath(u,c){return this.findOnPath_(u,On(),c)}findOnPath_(u,c,v){const P=!!this.value&&v(c,this.value);if(P)return P;if(Vn(u))return null;{const j=In(u),Y=this.children.get(j);return Y?Y.findOnPath_(bn(u),Jn(c,j),v):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,On(),c)}foreachOnPath_(u,c,v){if(Vn(u))return this;{this.value&&v(c,this.value);const P=In(u),j=this.children.get(P);return j?j.foreachOnPath_(bn(u),Jn(c,P),v):new Pn(null)}}foreach(u){this.foreach_(On(),u)}foreach_(u,c){this.children.inorderTraversal((v,P)=>{P.foreach_(Jn(u,v),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,v)=>{v.value&&u(c,v.value)})}}class fr{constructor(u){this.writeTree_=u}static empty(){return new fr(new Pn(null))}}function ar(h,u,c){if(Vn(u))return new fr(new Pn(c));{const v=h.writeTree_.findRootMostValueAndPath(u);if(null!=v){const P=v.path;let j=v.value;const Y=Fr(P,u);return j=j.updateChild(Y,c),new fr(h.writeTree_.set(P,j))}{const P=new Pn(c),j=h.writeTree_.setTree(u,P);return new fr(j)}}}function Ri(h,u,c){let v=h;return Mt(c,(P,j)=>{v=ar(v,Jn(u,P),j)}),v}function Mr(h,u){if(Vn(u))return fr.empty();{const c=h.writeTree_.setTree(u,new Pn(null));return new fr(c)}}function ki(h,u){return null!=Cs(h,u)}function Cs(h,u){const c=h.writeTree_.findRootMostValueAndPath(u);return null!=c?h.writeTree_.get(c.path).getChild(Fr(c.path,u)):null}function qr(h){const u=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(kr,(v,P)=>{u.push(new Xn(v,P))}):h.writeTree_.children.inorderTraversal((v,P)=>{null!=P.value&&u.push(new Xn(v,P.value))}),u}function Qi(h,u){if(Vn(u))return h;{const c=Cs(h,u);return new fr(null!=c?new Pn(c):h.writeTree_.subtree(u))}}function qi(h){return h.writeTree_.isEmpty()}function ss(h,u){return pa(On(),h.writeTree_,u)}function pa(h,u,c){if(null!=u.value)return c.updateChild(h,u.value);{let v=null;return u.children.inorderTraversal((P,j)=>{".priority"===P?((0,H.hu)(null!==j.value,"Priority writes must always be leaf nodes"),v=j.value):c=pa(Jn(h,P),j,c)}),!c.getChild(h).isEmpty()&&null!==v&&(c=c.updateChild(Jn(h,".priority"),v)),c}}function Lt(h,u){return $s(u,h)}function an(h,u){if(h.snap)return it(h.path,u);for(const c in h.children)if(h.children.hasOwnProperty(c)&&it(Jn(h.path,c),u))return!0;return!1}function Jt(h){return h.visible}function at(h,u,c){let v=fr.empty();for(let P=0;P<h.length;++P){const j=h[P];if(u(j)){const Y=j.path;let pe;if(j.snap)it(c,Y)?(pe=Fr(c,Y),v=ar(v,pe,j.snap)):it(Y,c)&&(pe=Fr(Y,c),v=ar(v,On(),j.snap.getChild(pe)));else{if(!j.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(it(c,Y))pe=Fr(c,Y),v=Ri(v,pe,j.children);else if(it(Y,c))if(pe=Fr(Y,c),Vn(pe))v=Ri(v,On(),j.children);else{const Me=(0,H.DV)(j.children,In(pe));if(Me){const Fe=Me.getChild(bn(pe));v=ar(v,On(),Fe)}}}}}return v}function Rt(h,u,c,v,P){if(v||P){const j=Qi(h.visibleWrites,u);return!P&&qi(j)?c:P||null!=c||ki(j,On())?ss(at(h.allWrites,function(Fe){return(Fe.visible||P)&&(!v||!~v.indexOf(Fe.writeId))&&(it(Fe.path,u)||it(u,Fe.path))},u),c||yn.EMPTY_NODE):null}{const j=Cs(h.visibleWrites,u);if(null!=j)return j;{const Y=Qi(h.visibleWrites,u);return qi(Y)?c:null!=c||ki(Y,On())?ss(Y,c||yn.EMPTY_NODE):null}}}function Bo(h,u,c,v){return Rt(h.writeTree,h.treePath,u,c,v)}function Hs(h,u){return function Ci(h,u,c){let v=yn.EMPTY_NODE;const P=Cs(h.visibleWrites,u);if(P)return P.isLeafNode()||P.forEachChild(kr,(j,Y)=>{v=v.updateImmediateChild(j,Y)}),v;if(c){const j=Qi(h.visibleWrites,u);return c.forEachChild(kr,(Y,pe)=>{const Me=ss(Qi(j,new Mn(Y)),pe);v=v.updateImmediateChild(Y,Me)}),qr(j).forEach(Y=>{v=v.updateImmediateChild(Y.name,Y.node)}),v}return qr(Qi(h.visibleWrites,u)).forEach(Y=>{v=v.updateImmediateChild(Y.name,Y.node)}),v}(h.writeTree,h.treePath,u)}function Oa(h,u,c,v){return function ql(h,u,c,v,P){(0,H.hu)(v||P,"Either existingEventSnap or existingServerSnap must exist");const j=Jn(u,c);if(ki(h.visibleWrites,j))return null;{const Y=Qi(h.visibleWrites,j);return qi(Y)?P.getChild(c):ss(Y,P.getChild(c))}}(h.writeTree,h.treePath,u,c,v)}function Pa(h,u){return function Ui(h,u){return Cs(h.visibleWrites,u)}(h.writeTree,Jn(h.treePath,u))}function Ra(h,u,c){return function ol(h,u,c,v){const P=Jn(u,c),j=Cs(h.visibleWrites,P);return null!=j?j:v.isCompleteForChild(c)?ss(Qi(h.visibleWrites,P),v.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,u,c)}function tr(h,u){return $s(Jn(h.treePath,u),h.writeTree)}function $s(h,u){return{treePath:h,writeTree:u}}class Zl{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,v=u.childName;(0,H.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const P=this.changeMap.get(v);if(P){const j=P.type;if("child_added"===c&&"child_removed"===j)this.changeMap.set(v,No(v,u.snapshotNode,P.snapshotNode));else if("child_removed"===c&&"child_added"===j)this.changeMap.delete(v);else if("child_removed"===c&&"child_changed"===j)this.changeMap.set(v,bs(v,P.oldSnap));else if("child_changed"===c&&"child_added"===j)this.changeMap.set(v,En(v,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==j)throw(0,H.g5)("Illegal combination of changes: "+u+" occurred after "+P);this.changeMap.set(v,No(v,u.snapshotNode,P.oldSnap))}}else this.changeMap.set(v,u)}getChanges(){return Array.from(this.changeMap.values())}}const wn=new class ii{getCompleteChild(u){return null}getChildAfterChild(u,c,v){return null}};class ra{constructor(u,c,v=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=v}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const v=null!=this.optCompleteServerCache_?new As(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ra(this.writes_,u,v)}}getChildAfterChild(u,c,v){const P=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ft(this.viewCache_),j=function pu(h,u,c,v,P,j){return function Ns(h,u,c,v,P,j,Y){let pe;const Me=Qi(h.visibleWrites,u),Fe=Cs(Me,On());if(null!=Fe)pe=Fe;else{if(null==c)return[];pe=ss(Me,c)}if(pe=pe.withIndex(Y),pe.isEmpty()||pe.isLeafNode())return[];{const vt=[],Ct=Y.getCompare(),bt=j?pe.getReverseIteratorFrom(v,Y):pe.getIteratorFrom(v,Y);let _n=bt.getNext();for(;_n&&vt.length<P;)0!==Ct(_n,v)&&vt.push(_n),_n=bt.getNext();return vt}}(h.writeTree,h.treePath,u,c,v,P,j)}(this.writes_,P,c,1,v,u);return 0===j.length?null:j[0]}}function jo(h,u,c,v,P,j){const Y=u.eventCache;if(null!=Pa(v,c))return u;{let pe,Me;if(Vn(c))if((0,H.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Fe=ft(u),Ct=Hs(v,Fe instanceof yn?Fe:yn.EMPTY_NODE);pe=h.filter.updateFullNode(u.eventCache.getNode(),Ct,j)}else{const Fe=Bo(v,ft(u));pe=h.filter.updateFullNode(u.eventCache.getNode(),Fe,j)}else{const Fe=In(c);if(".priority"===Fe){(0,H.hu)(1===_i(c),"Can't have a priority with additional path components");const vt=Y.getNode();Me=u.serverCache.getNode();const Ct=Oa(v,c,vt,Me);pe=null!=Ct?h.filter.updatePriority(vt,Ct):Y.getNode()}else{const vt=bn(c);let Ct;if(Y.isCompleteForChild(Fe)){Me=u.serverCache.getNode();const bt=Oa(v,c,Y.getNode(),Me);Ct=null!=bt?Y.getNode().getImmediateChild(Fe).updateChild(vt,bt):Y.getNode().getImmediateChild(Fe)}else Ct=Ra(v,Fe,u.serverCache);pe=null!=Ct?h.filter.updateChild(Y.getNode(),Fe,Ct,vt,P,j):Y.getNode()}}return oe(u,pe,Y.isFullyInitialized()||Vn(c),h.filter.filtersNodes())}}function ia(h,u,c,v,P,j,Y,pe){const Me=u.serverCache;let Fe;const vt=Y?h.filter:h.filter.getIndexedFilter();if(Vn(c))Fe=vt.updateFullNode(Me.getNode(),v,null);else if(vt.filtersNodes()&&!Me.isFiltered()){const _n=Me.getNode().updateChild(c,v);Fe=vt.updateFullNode(Me.getNode(),_n,null)}else{const _n=In(c);if(!Me.isCompleteForPath(c)&&_i(c)>1)return u;const Yn=bn(c),Yo=Me.getNode().getImmediateChild(_n).updateChild(Yn,v);Fe=".priority"===_n?vt.updatePriority(Me.getNode(),Yo):vt.updateChild(Me.getNode(),_n,Yo,Yn,wn,null)}const Ct=De(u,Fe,Me.isFullyInitialized()||Vn(c),vt.filtersNodes());return jo(h,Ct,c,P,new ra(P,Ct,j),pe)}function Ao(h,u,c,v,P,j,Y){const pe=u.eventCache;let Me,Fe;const vt=new ra(P,u,j);if(Vn(c))Fe=h.filter.updateFullNode(u.eventCache.getNode(),v,Y),Me=oe(u,Fe,!0,h.filter.filtersNodes());else{const Ct=In(c);if(".priority"===Ct)Fe=h.filter.updatePriority(u.eventCache.getNode(),v),Me=oe(u,Fe,pe.isFullyInitialized(),pe.isFiltered());else{const bt=bn(c),_n=pe.getNode().getImmediateChild(Ct);let Yn;if(Vn(bt))Yn=v;else{const pi=vt.getCompleteChild(Ct);Yn=null!=pi?".priority"===io(bt)&&pi.getChild(Pi(bt)).isEmpty()?pi:pi.updateChild(bt,v):yn.EMPTY_NODE}Me=_n.equals(Yn)?u:oe(u,h.filter.updateChild(pe.getNode(),Ct,Yn,bt,vt,Y),pe.isFullyInitialized(),h.filter.filtersNodes())}}return Me}function gu(h,u){return h.eventCache.isCompleteForChild(u)}function al(h,u,c){return c.foreach((v,P)=>{u=u.updateChild(v,P)}),u}function Ho(h,u,c,v,P,j,Y,pe){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Fe,Me=u;Fe=Vn(c)?v:new Pn(null).setTree(c,v);const vt=u.serverCache.getNode();return Fe.children.inorderTraversal((Ct,bt)=>{if(vt.hasChild(Ct)){const Yn=al(0,u.serverCache.getNode().getImmediateChild(Ct),bt);Me=ia(h,Me,new Mn(Ct),Yn,P,j,Y,pe)}}),Fe.children.inorderTraversal((Ct,bt)=>{const _n=!u.serverCache.isCompleteForChild(Ct)&&null===bt.value;if(!vt.hasChild(Ct)&&!_n){const pi=al(0,u.serverCache.getNode().getImmediateChild(Ct),bt);Me=ia(h,Me,new Mn(Ct),pi,P,j,Y,pe)}}),Me}class ga{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const v=this.query_._queryParams,P=new vs(v.getIndex()),j=function Aa(h){return h.loadsAllData()?new vs(h.getIndex()):h.hasLimit()?new yo(h):new Es(h)}(v);this.processor_=function _r(h){return{filter:h}}(j);const Y=c.serverCache,pe=c.eventCache,Me=P.updateFullNode(yn.EMPTY_NODE,Y.getNode(),null),Fe=j.updateFullNode(yn.EMPTY_NODE,pe.getNode(),null),vt=new As(Me,Y.isFullyInitialized(),P.filtersNodes()),Ct=new As(Fe,pe.isFullyInitialized(),j.filtersNodes());this.viewCache_=V(Ct,vt),this.eventGenerator_=new fa(this.query_)}get query(){return this.query_}}function Js(h,u){const c=ft(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!Vn(u)&&!c.getImmediateChild(In(u)).isEmpty())?c.getChild(u):null}function ma(h){return 0===h.eventRegistrations_.length}function Eo(h,u,c){const v=[];if(c){(0,H.hu)(null==u,"A cancel should cancel all event registrations.");const P=h.query._path;h.eventRegistrations_.forEach(j=>{const Y=j.createCancelEvent(c,P);Y&&v.push(Y)})}if(u){let P=[];for(let j=0;j<h.eventRegistrations_.length;++j){const Y=h.eventRegistrations_[j];if(Y.matches(u)){if(u.hasAnyCallback()){P=P.concat(h.eventRegistrations_.slice(j+1));break}}else P.push(Y)}h.eventRegistrations_=P}else h.eventRegistrations_=[];return v}function fs(h,u,c,v){u.type===js.MERGE&&null!==u.source.queryId&&((0,H.hu)(ft(h.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(rt(h.viewCache_),"Missing event cache, even though we have a server cache"));const P=h.viewCache_,j=function Sr(h,u,c,v,P){const j=new Zl;let Y,pe;if(c.type===js.OVERWRITE){const Fe=c;Fe.source.fromUser?Y=Ao(h,u,Fe.path,Fe.snap,v,P,j):((0,H.hu)(Fe.source.fromServer,"Unknown source."),pe=Fe.source.tagged||u.serverCache.isFiltered()&&!Vn(Fe.path),Y=ia(h,u,Fe.path,Fe.snap,v,P,pe,j))}else if(c.type===js.MERGE){const Fe=c;Fe.source.fromUser?Y=function xa(h,u,c,v,P,j,Y){let pe=u;return v.foreach((Me,Fe)=>{const vt=Jn(c,Me);gu(u,In(vt))&&(pe=Ao(h,pe,vt,Fe,P,j,Y))}),v.foreach((Me,Fe)=>{const vt=Jn(c,Me);gu(u,In(vt))||(pe=Ao(h,pe,vt,Fe,P,j,Y))}),pe}(h,u,Fe.path,Fe.children,v,P,j):((0,H.hu)(Fe.source.fromServer,"Unknown source."),pe=Fe.source.tagged||u.serverCache.isFiltered(),Y=Ho(h,u,Fe.path,Fe.children,v,P,pe,j))}else if(c.type===js.ACK_USER_WRITE){const Fe=c;Y=Fe.revert?function $i(h,u,c,v,P,j){let Y;if(null!=Pa(v,c))return u;{const pe=new ra(v,u,P),Me=u.eventCache.getNode();let Fe;if(Vn(c)||".priority"===In(c)){let vt;if(u.serverCache.isFullyInitialized())vt=Bo(v,ft(u));else{const Ct=u.serverCache.getNode();(0,H.hu)(Ct instanceof yn,"serverChildren would be complete if leaf node"),vt=Hs(v,Ct)}Fe=h.filter.updateFullNode(Me,vt,j)}else{const vt=In(c);let Ct=Ra(v,vt,u.serverCache);null==Ct&&u.serverCache.isCompleteForChild(vt)&&(Ct=Me.getImmediateChild(vt)),Fe=null!=Ct?h.filter.updateChild(Me,vt,Ct,bn(c),pe,j):u.eventCache.getNode().hasChild(vt)?h.filter.updateChild(Me,vt,yn.EMPTY_NODE,bn(c),pe,j):Me,Fe.isEmpty()&&u.serverCache.isFullyInitialized()&&(Y=Bo(v,ft(u)),Y.isLeafNode()&&(Fe=h.filter.updateFullNode(Fe,Y,j)))}return Y=u.serverCache.isFullyInitialized()||null!=Pa(v,On()),oe(u,Fe,Y,h.filter.filtersNodes())}}(h,u,Fe.path,v,P,j):function ll(h,u,c,v,P,j,Y){if(null!=Pa(P,c))return u;const pe=u.serverCache.isFiltered(),Me=u.serverCache;if(null!=v.value){if(Vn(c)&&Me.isFullyInitialized()||Me.isCompleteForPath(c))return ia(h,u,c,Me.getNode().getChild(c),P,j,pe,Y);if(Vn(c)){let Fe=new Pn(null);return Me.getNode().forEachChild(Fi,(vt,Ct)=>{Fe=Fe.set(new Mn(vt),Ct)}),Ho(h,u,c,Fe,P,j,pe,Y)}return u}{let Fe=new Pn(null);return v.foreach((vt,Ct)=>{const bt=Jn(c,vt);Me.isCompleteForPath(bt)&&(Fe=Fe.set(vt,Me.getNode().getChild(bt)))}),Ho(h,u,c,Fe,P,j,pe,Y)}}(h,u,Fe.path,Fe.affectedTree,v,P,j)}else{if(c.type!==js.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+c.type);Y=function ul(h,u,c,v,P){const j=u.serverCache;return jo(h,De(u,j.getNode(),j.isFullyInitialized()||Vn(c),j.isFiltered()),c,v,wn,P)}(h,u,c.path,v,j)}const Me=j.getChanges();return function qt(h,u,c){const v=u.eventCache;if(v.isFullyInitialized()){const P=v.getNode().isLeafNode()||v.getNode().isEmpty(),j=rt(h);(c.length>0||!h.eventCache.isFullyInitialized()||P&&!v.getNode().equals(j)||!v.getNode().getPriority().equals(j.getPriority()))&&c.push(Bs(rt(u)))}}(u,Y,Me),{viewCache:Y,changes:Me}}(h.processor_,P,u,c,v);return function os(h,u){(0,H.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,j.viewCache),(0,H.hu)(j.viewCache.serverCache.isFullyInitialized()||!P.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=j.viewCache,Za(h,j.changes,j.viewCache.eventCache.getNode(),null)}function Za(h,u,c,v){return function sl(h,u,c,v){const P=[],j=[];return u.forEach(Y=>{"child_changed"===Y.type&&h.index_.indexedValueChanged(Y.oldSnap,Y.snapshotNode)&&j.push(function ba(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(Y.childName,Y.snapshotNode))}),Uo(h,P,"child_removed",u,v,c),Uo(h,P,"child_added",u,v,c),Uo(h,P,"child_moved",j,v,c),Uo(h,P,"child_changed",u,v,c),Uo(h,P,"value",u,v,c),P}(h.eventGenerator_,u,c,v?[v]:h.eventRegistrations_)}let Mo,xi;class Do{constructor(){this.views=new Map}}function Xa(h,u,c,v){const P=u.source.queryId;if(null!==P){const j=h.views.get(P);return(0,H.hu)(null!=j,"SyncTree gave us an op for an invalid query."),fs(j,u,c,v)}{let j=[];for(const Y of h.views.values())j=j.concat(fs(Y,u,c,v));return j}}function Mu(h,u,c,v,P){const Y=h.views.get(u._queryIdentifier);if(!Y){let pe=Bo(c,P?v:null),Me=!1;pe?Me=!0:v instanceof yn?(pe=Hs(c,v),Me=!1):(pe=yn.EMPTY_NODE,Me=!1);const Fe=V(new As(pe,Me,!1),new As(v,P,!1));return new ga(u,Fe)}return Y}function Fa(h){const u=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function Ji(h,u){let c=null;for(const v of h.views.values())c=c||Js(v,u);return c}function $o(h,u){return u._queryParams.loadsAllData()?ka(h):h.views.get(u._queryIdentifier)}function el(h,u){return null!=$o(h,u)}function Go(h){return null!=ka(h)}function ka(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let Yc=1;class M{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Pn(null),this.pendingWriteTree_=function na(){return{visibleWrites:fr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O(h,u,c,v,P){return function Zi(h,u,c,v,P){(0,H.hu)(v>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===P&&(P=!0),h.allWrites.push({path:u,snap:c,writeId:v,visible:P}),P&&(h.visibleWrites=ar(h.visibleWrites,u,c)),h.lastWriteId=v}(h.pendingWriteTree_,u,c,v,P),P?jr(h,new bo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function F(h,u,c=!1){const v=function qa(h,u){for(let c=0;c<h.allWrites.length;c++){const v=h.allWrites[c];if(v.writeId===u)return v}return null}(h.pendingWriteTree_,u);if(function fn(h,u){const c=h.allWrites.findIndex(pe=>pe.writeId===u);(0,H.hu)(c>=0,"removeWrite called with nonexistent writeId.");const v=h.allWrites[c];h.allWrites.splice(c,1);let P=v.visible,j=!1,Y=h.allWrites.length-1;for(;P&&Y>=0;){const pe=h.allWrites[Y];pe.visible&&(Y>=c&&an(pe,v.path)?P=!1:it(v.path,pe.path)&&(j=!0)),Y--}return!!P&&(j?(function zc(h){h.visibleWrites=at(h.allWrites,Jt,On()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(v.snap?h.visibleWrites=Mr(h.visibleWrites,v.path):Mt(v.children,Me=>{h.visibleWrites=Mr(h.visibleWrites,Jn(v.path,Me))}),!0))}(h.pendingWriteTree_,u)){let j=new Pn(null);return null!=v.snap?j=j.set(On(),!0):Mt(v.children,Y=>{j=j.set(new Mn(Y),!0)}),jr(h,new ha(v.path,j,c))}return[]}function $(h,u,c){return jr(h,new bo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function Je(h,u,c,v,P=!1){const j=u._path,Y=h.syncPointTree_.get(j);let pe=[];if(Y&&("default"===u._queryIdentifier||el(Y,u))){const Me=function Ou(h,u,c,v){const P=u._queryIdentifier,j=[];let Y=[];const pe=Go(h);if("default"===P)for(const[Me,Fe]of h.views.entries())Y=Y.concat(Eo(Fe,c,v)),ma(Fe)&&(h.views.delete(Me),Fe.query._queryParams.loadsAllData()||j.push(Fe.query));else{const Me=h.views.get(P);Me&&(Y=Y.concat(Eo(Me,c,v)),ma(Me)&&(h.views.delete(P),Me.query._queryParams.loadsAllData()||j.push(Me.query)))}return pe&&!Go(h)&&j.push(new(function yu(){return(0,H.hu)(Mo,"Reference.ts has not been loaded"),Mo}())(u._repo,u._path)),{removed:j,events:Y}}(Y,u,c,v);(function di(h){return 0===h.views.size})(Y)&&(h.syncPointTree_=h.syncPointTree_.remove(j));const Fe=Me.removed;if(pe=Me.events,!P){const vt=-1!==Fe.findIndex(bt=>bt._queryParams.loadsAllData()),Ct=h.syncPointTree_.findOnPath(j,(bt,_n)=>Go(_n));if(vt&&!Ct){const bt=h.syncPointTree_.subtree(j);if(!bt.isEmpty()){const _n=function eu(h){return h.fold((u,c,v)=>{if(c&&Go(c))return[ka(c)];{let P=[];return c&&(P=Fa(c)),Mt(v,(j,Y)=>{P=P.concat(Y)}),P}})}(bt);for(let Yn=0;Yn<_n.length;++Yn){const pi=_n[Yn],Yo=pi.query,zl=Co(h,pi);h.listenProvider_.startListening(dl(Yo),Is(h,Yo),zl.hashFn,zl.onComplete)}}}!Ct&&Fe.length>0&&!v&&(vt?h.listenProvider_.stopListening(dl(u),null):Fe.forEach(bt=>{const _n=h.queryToTagMap.get(Ua(bt));h.listenProvider_.stopListening(dl(bt),_n)}))}!function mc(h,u){for(let c=0;c<u.length;++c){const v=u[c];if(!v._queryParams.loadsAllData()){const P=Ua(v),j=h.queryToTagMap.get(P);h.queryToTagMap.delete(P),h.tagToQueryMap.delete(j)}}}(h,Fe)}return pe}function Ht(h,u,c,v){const P=Ws(h,v);if(null!=P){const j=cl(P),Y=j.path,pe=j.queryId,Me=Fr(Y,u);return Xl(h,Y,new bo(Ma(pe),Me,c))}return[]}function zt(h,u,c,v=!1){const P=u._path;let j=null,Y=!1;h.syncPointTree_.foreachOnPath(P,(bt,_n)=>{const Yn=Fr(bt,P);j=j||Ji(_n,Yn),Y=Y||Go(_n)});let Me,pe=h.syncPointTree_.get(P);pe?(Y=Y||Go(pe),j=j||Ji(pe,On())):(pe=new Do,h.syncPointTree_=h.syncPointTree_.set(P,pe)),null!=j?Me=!0:(Me=!1,j=yn.EMPTY_NODE,h.syncPointTree_.subtree(P).foreachChild((_n,Yn)=>{const pi=Ji(Yn,On());pi&&(j=j.updateImmediateChild(_n,pi))}));const Fe=el(pe,u);if(!Fe&&!u._queryParams.loadsAllData()){const bt=Ua(u);(0,H.hu)(!h.queryToTagMap.has(bt),"View does not exist, but we have a tag");const _n=function tl(){return Yc++}();h.queryToTagMap.set(bt,_n),h.tagToQueryMap.set(_n,bt)}let Ct=function ho(h,u,c,v,P,j){const Y=Mu(h,u,v,P,j);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,Y),function ct(h,u){h.eventRegistrations_.push(u)}(Y,c),function La(h,u){const c=h.viewCache_.eventCache,v=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(kr,(j,Y)=>{v.push(En(j,Y))}),c.isFullyInitialized()&&v.push(Bs(c.getNode())),Za(h,v,c.getNode(),u)}(Y,c)}(pe,u,c,Lt(h.pendingWriteTree_,P),j,Me);if(!Fe&&!Y&&!v){const bt=$o(pe,u);Ct=Ct.concat(function Ms(h,u,c){const v=u._path,P=Is(h,u),j=Co(h,c),Y=h.listenProvider_.startListening(dl(u),P,j.hashFn,j.onComplete),pe=h.syncPointTree_.subtree(v);if(P)(0,H.hu)(!Go(pe.value),"If we're adding a query, it shouldn't be shadowed");else{const Me=pe.fold((Fe,vt,Ct)=>{if(!Vn(Fe)&&vt&&Go(vt))return[ka(vt).query];{let bt=[];return vt&&(bt=bt.concat(Fa(vt).map(_n=>_n.query))),Mt(Ct,(_n,Yn)=>{bt=bt.concat(Yn)}),bt}});for(let Fe=0;Fe<Me.length;++Fe){const vt=Me[Fe];h.listenProvider_.stopListening(dl(vt),Is(h,vt))}}return Y}(h,u,bt))}return Ct}function hn(h,u,c){const P=h.pendingWriteTree_,j=h.syncPointTree_.findOnPath(u,(Y,pe)=>{const Fe=Ji(pe,Fr(Y,u));if(Fe)return Fe});return Rt(P,u,j,c,!0)}function jr(h,u){return ps(u,h.syncPointTree_,null,Lt(h.pendingWriteTree_,On()))}function ps(h,u,c,v){if(Vn(h.path))return Gs(h,u,c,v);{const P=u.get(On());null==c&&null!=P&&(c=Ji(P,On()));let j=[];const Y=In(h.path),pe=h.operationForChild(Y),Me=u.children.get(Y);if(Me&&pe){const Fe=c?c.getImmediateChild(Y):null,vt=tr(v,Y);j=j.concat(ps(pe,Me,Fe,vt))}return P&&(j=j.concat(Xa(P,h,v,c))),j}}function Gs(h,u,c,v){const P=u.get(On());null==c&&null!=P&&(c=Ji(P,On()));let j=[];return u.children.inorderTraversal((Y,pe)=>{const Me=c?c.getImmediateChild(Y):null,Fe=tr(v,Y),vt=h.operationForChild(Y);vt&&(j=j.concat(Gs(vt,pe,Me,Fe)))}),P&&(j=j.concat(Xa(P,h,v,c))),j}function Co(h,u){const c=u.query,v=Is(h,c);return{hashFn:()=>(function mu(h){return h.viewCache_.serverCache.getNode()}(u)||yn.EMPTY_NODE).hash(),onComplete:P=>{if("ok"===P)return v?function Te(h,u,c){const v=Ws(h,c);if(v){const P=cl(v),j=P.path,Y=P.queryId,pe=Fr(j,u);return Xl(h,j,new _o(Ma(Y),pe))}return[]}(h,c._path,v):function _e(h,u){return jr(h,new _o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,c._path);{const j=function nr(h,u){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const v=new Error(h+" at "+u._path.toString()+": "+c);return v.code=h.toUpperCase(),v}(P,c);return Je(h,c,null,j)}}}}function Is(h,u){const c=Ua(u);return h.queryToTagMap.get(c)}function Ua(h){return h._path.toString()+"$"+h._queryIdentifier}function Ws(h,u){return h.tagToQueryMap.get(u)}function cl(h){const u=h.indexOf("$");return(0,H.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new Mn(h.substr(0,u))}}function Xl(h,u,c){const v=h.syncPointTree_.get(u);return(0,H.hu)(v,"Missing sync point for query tag that we're tracking"),Xa(v,c,Lt(h.pendingWriteTree_,u),null)}function dl(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Gi(){return(0,H.hu)(xi,"Reference.ts has not been loaded"),xi}())(h._repo,h._path):h}class Il{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new Il(c)}node(){return this.node_}}class nl{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=Jn(this.path_,u);return new nl(this.syncTree_,c)}node(){return hn(this.syncTree_,this.path_)}}const Or=function(h,u,c){return h&&"object"==typeof h?((0,H.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Zr(h[".sv"],u,c):"object"==typeof h[".sv"]?ya(h[".sv"],u):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Zr=function(h,u,c){if("timestamp"===h)return c.timestamp;(0,H.hu)(!1,"Unexpected server value: "+h)},ya=function(h,u,c){h.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const v=h.increment;"number"!=typeof v&&(0,H.hu)(!1,"Unexpected increment value: "+v);const P=u.node();if((0,H.hu)(null!=P,"Expected ChildrenNode.EMPTY_NODE for nulls"),!P.isLeafNode())return v;const Y=P.getValue();return"number"!=typeof Y?v:Y+v},Wo=function(h,u,c,v){return as(u,new nl(c,h),v)},kl=function(h,u,c){return as(h,new Il(u),c)};function as(h,u,c){const v=h.getPriority().val(),P=Or(v,u.getImmediateChild(".priority"),c);let j;if(h.isLeafNode()){const Y=h,pe=Or(Y.getValue(),u,c);return pe!==Y.getValue()||P!==Y.getPriority().val()?new Yi(pe,Pr(P)):h}{const Y=h;return j=Y,P!==Y.getPriority().val()&&(j=j.updatePriority(new Yi(P))),Y.forEachChild(kr,(pe,Me)=>{const Fe=as(Me,u.getImmediateChild(pe),c);Fe!==Me&&(j=j.updateImmediateChild(pe,Fe))}),j}}class hl{constructor(u="",c=null,v={children:{},childCount:0}){this.name=u,this.parent=c,this.node=v}}function fl(h,u){let c=u instanceof Mn?u:new Mn(u),v=h,P=In(c);for(;null!==P;){const j=(0,H.DV)(v.node.children,P)||{children:{},childCount:0};v=new hl(P,v,j),c=bn(c),P=In(c)}return v}function sa(h){return h.node.value}function wl(h,u){h.node.value=u,pl(h)}function zu(h){return h.node.childCount>0}function tu(h,u){Mt(h.node.children,(c,v)=>{u(new hl(c,h,v))})}function nu(h,u,c,v){c&&!v&&u(h),tu(h,P=>{nu(P,u,!0,v)}),c&&v&&u(h)}function Va(h){return new Mn(null===h.parent?h.name:Va(h.parent)+"/"+h.name)}function pl(h){null!==h.parent&&function Ru(h,u,c){const v=function Yu(h){return void 0===sa(h)&&!zu(h)}(c),P=(0,H.r3)(h.node.children,u);v&&P?(delete h.node.children[u],h.node.childCount--,pl(h)):!v&&!P&&(h.node.children[u]=c.node,h.node.childCount++,pl(h))}(h.parent,h.name,h)}const rl=/[\[\].#$\/\u0000-\u001F\u007F]/,_u=/[\[\].#$\u0000-\u001F\u007F]/,Ii=10485760,_a=function(h){return"string"==typeof h&&0!==h.length&&!rl.test(h)},Xs=function(h){return"string"==typeof h&&0!==h.length&&!_u.test(h)},Ko=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!tt(h)||h&&"object"==typeof h&&(0,H.r3)(h,".sv")},ws=function(h,u,c,v){v&&void 0===u||Ls((0,H.gK)(h,"value"),u,c)},Ls=function(h,u,c){const v=c instanceof Mn?new Qe(c,h):c;if(void 0===u)throw new Error(h+"contains undefined "+Gn(v));if("function"==typeof u)throw new Error(h+"contains a function "+Gn(v)+" with contents = "+u.toString());if(tt(u))throw new Error(h+"contains "+u.toString()+" "+Gn(v));if("string"==typeof u&&u.length>Ii/3&&(0,H.ug)(u)>Ii)throw new Error(h+"contains a string greater than "+Ii+" utf8 bytes "+Gn(v)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let P=!1,j=!1;if(Mt(u,(Y,pe)=>{if(".value"===Y)P=!0;else if(".priority"!==Y&&".sv"!==Y&&(j=!0,!_a(Y)))throw new Error(h+" contains an invalid key ("+Y+") "+Gn(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yt(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,H.ug)(u),kt(h)})(v,Y),Ls(h,pe,v),function tn(h){const u=h.parts_.pop();h.byteLength_-=(0,H.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(v)}),P&&j)throw new Error(h+' contains ".value" child '+Gn(v)+" in addition to actual children.")}},xu=function(h,u,c,v){if(v&&void 0===u)return;const P=(0,H.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(P+" must be an object containing the children to replace.");const j=[];Mt(u,(Y,pe)=>{const Me=new Mn(Y);if(Ls(P,pe,Jn(c,Me)),".priority"===io(Me)&&!Ko(pe))throw new Error(P+"contains an invalid value for '"+Me.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");j.push(Me)}),function(h,u){let c,v;for(c=0;c<u.length;c++){v=u[c];const j=vi(v);for(let Y=0;Y<j.length;Y++)if((".priority"!==j[Y]||Y!==j.length-1)&&!_a(j[Y]))throw new Error(h+"contains an invalid key ("+j[Y]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(Ni);let P=null;for(c=0;c<u.length;c++){if(v=u[c],null!==P&&it(P,v))throw new Error(h+"contains a path "+P.toString()+" that is ancestor of another path "+v.toString());P=v}}(P,j)},Vl=function(h,u,c,v){if(!(v&&void 0===c||Xs(c)))throw new Error((0,H.gK)(h,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Oo=function(h,u){if(".info"===In(u))throw new Error(h+" failed = Can't modify data under /.info/")};class Bl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sl(h,u){let c=null;for(let v=0;v<u.length;v++){const P=u[v],j=P.getPath();null!==c&&!we(j,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:j}),c.events.push(P)}c&&h.eventLists_.push(c)}function vu(h,u,c){Sl(h,c),Eu(h,v=>we(v,u))}function gs(h,u,c){Sl(h,c),Eu(h,v=>it(v,u)||it(u,v))}function Eu(h,u){h.recursionDepth_++;let c=!0;for(let v=0;v<h.eventLists_.length;v++){const P=h.eventLists_[v];P&&(u(P.path)?(jl(h.eventLists_[v]),h.eventLists_[v]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function jl(h){for(let u=0;u<h.events.length;u++){const c=h.events[u];if(null!==c){h.events[u]=null;const v=c.getEventRunner();mt&&ke("event: "+c.toString()),Jr(v)}}}class ml{constructor(u,c,v,P){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=v,this.appCheckProvider_=P,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ci(),this.transactionQueueTree_=new hl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function va(h){const c=h.infoData_.getNode(new Mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Xi(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:va(h)})}function bl(h,u,c,v,P){h.dataUpdateCount++;const j=new Mn(u);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,c):c;let Y=[];if(P)if(v){const Me=(0,H.UI)(c,Fe=>Pr(Fe));Y=function gn(h,u,c,v){const P=Ws(h,v);if(P){const j=cl(P),Y=j.path,pe=j.queryId,Me=Fr(Y,u),Fe=Pn.fromObject(c);return Xl(h,Y,new vo(Ma(pe),Me,Fe))}return[]}(h.serverSyncTree_,j,Me,P)}else{const Me=Pr(c);Y=Ht(h.serverSyncTree_,j,Me,P)}else if(v){const Me=(0,H.UI)(c,Fe=>Pr(Fe));Y=function ie(h,u,c){const v=Pn.fromObject(c);return jr(h,new vo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,v))}(h.serverSyncTree_,j,Me)}else{const Me=Pr(c);Y=$(h.serverSyncTree_,j,Me)}let pe=j;Y.length>0&&(pe=$l(h,j)),gs(h.eventQueue_,pe,Y)}function iu(h,u){Al(h,"connected",u),!1===u&&function Ml(h){aa(h,"onDisconnectEvents");const u=Xi(h),c=ci();Kr(h.onDisconnect_,On(),(P,j)=>{const Y=Wo(P,j,h.serverSyncTree_,u);is(c,P,Y)});let v=[];Kr(c,On(),(P,j)=>{v=v.concat($(h.serverSyncTree_,P,j));const Y=W(h,P);$l(h,Y)}),h.onDisconnect_=ci(),gs(h.eventQueue_,On(),v)}(h)}function Al(h,u,c){const v=new Mn("/.info/"+u),P=Pr(c);h.infoData_.updateSnapshot(v,P);const j=$(h.infoSyncTree_,v,P);gs(h.eventQueue_,v,j)}function yl(h){return h.nextWriteId_++}function Qu(h,u,c){h.server_.onDisconnectCancel(u.toString(),(v,P)=>{"ok"===v&&co(h.onDisconnect_,u),Ea(0,c,v,P)})}function Fu(h,u,c,v){const P=Pr(c);h.server_.onDisconnectPut(u.toString(),P.val(!0),(j,Y)=>{"ok"===j&&is(h.onDisconnect_,u,P),Ea(0,v,j,Y)})}function oa(h,u,c){let v;v=".info"===In(u._path)?Je(h.infoSyncTree_,u,c):Je(h.serverSyncTree_,u,c),vu(h.eventQueue_,u._path,v)}function aa(h,...u){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),ke(c,...u)}function Ea(h,u,c,v){u&&Jr(()=>{if("ok"===c)u(null);else{const P=(c||"error").toUpperCase();let j=P;v&&(j+=": "+v);const Y=new Error(j);Y.code=P,u(Y)}})}function Iu(h,u,c){return hn(h.serverSyncTree_,u,c)||yn.EMPTY_NODE}function El(h,u=h.transactionQueueTree_){if(u||R(h,u),sa(u)){const c=E(h,u);(0,H.hu)(c.length>0,"Sending zero length transaction queue"),c.every(P=>0===P.status)&&function wu(h,u,c){const v=c.map(Fe=>Fe.currentWriteId),P=Iu(h,u,v);let j=P;const Y=P.hash();for(let Fe=0;Fe<c.length;Fe++){const vt=c[Fe];(0,H.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const Ct=Fr(u,vt.path);j=j.updateChild(Ct,vt.currentOutputSnapshotRaw)}const pe=j.val(!0),Me=u;h.server_.put(Me.toString(),pe,Fe=>{aa(h,"transaction put response",{path:Me.toString(),status:Fe});let vt=[];if("ok"===Fe){const Ct=[];for(let bt=0;bt<c.length;bt++)c[bt].status=2,vt=vt.concat(F(h.serverSyncTree_,c[bt].currentWriteId)),c[bt].onComplete&&Ct.push(()=>c[bt].onComplete(null,!0,c[bt].currentOutputSnapshotResolved)),c[bt].unwatcher();R(h,fl(h.transactionQueueTree_,u)),El(h,h.transactionQueueTree_),gs(h.eventQueue_,u,vt);for(let bt=0;bt<Ct.length;bt++)Jr(Ct[bt])}else{if("datastale"===Fe)for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=3===c[Ct].status?4:0;else{Gt("transaction at "+Me.toString()+" failed: "+Fe);for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=4,c[Ct].abortReason=Fe}$l(h,u)}},Y)}(h,Va(u),c)}else zu(u)&&tu(u,c=>{El(h,c)})}function $l(h,u){const c=I(h,u),v=Va(c);return function Gl(h,u,c){if(0===u.length)return;const v=[];let P=[];const Y=u.filter(pe=>0===pe.status).map(pe=>pe.currentWriteId);for(let pe=0;pe<u.length;pe++){const Me=u[pe],Fe=Fr(c,Me.path);let Ct,vt=!1;if((0,H.hu)(null!==Fe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Me.status)vt=!0,Ct=Me.abortReason,P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0));else if(0===Me.status)if(Me.retryCount>=25)vt=!0,Ct="maxretry",P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0));else{const bt=Iu(h,Me.path,Y);Me.currentInputSnapshot=bt;const _n=u[pe].update(bt.val());if(void 0!==_n){Ls("transaction failed: Data returned ",_n,Me.path);let Yn=Pr(_n);"object"==typeof _n&&null!=_n&&(0,H.r3)(_n,".priority")||(Yn=Yn.updatePriority(bt.getPriority()));const Yo=Me.currentWriteId,zl=Xi(h),Ts=kl(Yn,bt,zl);Me.currentOutputSnapshotRaw=Yn,Me.currentOutputSnapshotResolved=Ts,Me.currentWriteId=yl(h),Y.splice(Y.indexOf(Yo),1),P=P.concat(O(h.serverSyncTree_,Me.path,Ts,Me.currentWriteId,Me.applyLocally)),P=P.concat(F(h.serverSyncTree_,Yo,!0))}else vt=!0,Ct="nodata",P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0))}gs(h.eventQueue_,c,P),P=[],vt&&(u[pe].status=2,setTimeout(u[pe].unwatcher,Math.floor(0)),u[pe].onComplete&&v.push("nodata"===Ct?()=>u[pe].onComplete(null,!1,u[pe].currentInputSnapshot):()=>u[pe].onComplete(new Error(Ct),!1,null)))}R(h,h.transactionQueueTree_);for(let pe=0;pe<v.length;pe++)Jr(v[pe]);El(h,h.transactionQueueTree_)}(h,E(h,c),v),v}function I(h,u){let c,v=h.transactionQueueTree_;for(c=In(u);null!==c&&void 0===sa(v);)v=fl(v,c),c=In(u=bn(u));return v}function E(h,u){const c=[];return y(h,u,c),c.sort((v,P)=>v.order-P.order),c}function y(h,u,c){const v=sa(u);if(v)for(let P=0;P<v.length;P++)c.push(v[P]);tu(u,P=>{y(h,P,c)})}function R(h,u){const c=sa(u);if(c){let v=0;for(let P=0;P<c.length;P++)2!==c[P].status&&(c[v]=c[P],v++);c.length=v,wl(u,c.length>0?c:void 0)}tu(u,v=>{R(h,v)})}function W(h,u){const c=Va(I(h,u)),v=fl(h.transactionQueueTree_,u);return function ru(h,u,c){let v=c?h:h.parent;for(;null!==v;){if(u(v))return!0;v=v.parent}}(v,P=>{ue(h,P)}),ue(h,v),nu(v,P=>{ue(h,P)}),c}function ue(h,u){const c=sa(u);if(c){const v=[];let P=[],j=-1;for(let Y=0;Y<c.length;Y++)3===c[Y].status||(1===c[Y].status?((0,H.hu)(j===Y-1,"All SENT items should be at beginning of queue."),j=Y,c[Y].status=3,c[Y].abortReason="set"):((0,H.hu)(0===c[Y].status,"Unexpected transaction status in abort"),c[Y].unwatcher(),P=P.concat(F(h.serverSyncTree_,c[Y].currentWriteId,!0)),c[Y].onComplete&&v.push(c[Y].onComplete.bind(null,new Error("set"),!1,null))));-1===j?wl(u,void 0):c.length=j+1,gs(h.eventQueue_,Va(u),P);for(let Y=0;Y<v.length;Y++)Jr(v[Y])}}const Xe=function(h,u){const c=_t(h),v=c.namespace;return"firebase.com"===c.domain&&Kt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==c.domain&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ee(c.host,c.secure,v,"ws"===c.scheme||"wss"===c.scheme,u,"",v!==c.subdomain),path:new Mn(c.pathString)}},_t=function(h){let u="",c="",v="",P="",j="",Y=!0,pe="https",Me=443;if("string"==typeof h){let Fe=h.indexOf("//");Fe>=0&&(pe=h.substring(0,Fe-1),h=h.substring(Fe+2));let vt=h.indexOf("/");-1===vt&&(vt=h.length);let Ct=h.indexOf("?");-1===Ct&&(Ct=h.length),u=h.substring(0,Math.min(vt,Ct)),vt<Ct&&(P=function ve(h){let u="";const c=h.split("/");for(let v=0;v<c.length;v++)if(c[v].length>0){let P=c[v];try{P=decodeURIComponent(P.replace(/\+/g," "))}catch(j){}u+="/"+P}return u}(h.substring(vt,Ct)));const bt=function be(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const v=c.split("=");2===v.length?u[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):Gt(`Invalid query segment '${c}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,Ct)));Fe=u.indexOf(":"),Fe>=0?(Y="https"===pe||"wss"===pe,Me=parseInt(u.substring(Fe+1),10)):Fe=u.length;const _n=u.slice(0,Fe);if("localhost"===_n.toLowerCase())c="localhost";else if(_n.split(".").length<=2)c=_n;else{const Yn=u.indexOf(".");v=u.substring(0,Yn).toLowerCase(),c=u.substring(Yn+1),j=v}"ns"in bt&&(j=bt.ns)}return{host:u,port:Me,domain:c,subdomain:v,secure:Y,scheme:pe,pathString:P,namespace:j}},Bt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xt=function(){let h=0;const u=[];return function(c){const v=c===h;let P;h=c;const j=new Array(8);for(P=7;P>=0;P--)j[P]=Bt.charAt(c%64),c=Math.floor(c/64);(0,H.hu)(0===c,"Cannot push at time == 0");let Y=j.join("");if(v){for(P=11;P>=0&&63===u[P];P--)u[P]=0;u[P]++}else for(P=0;P<12;P++)u[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)Y+=Bt.charAt(u[P]);return(0,H.hu)(20===Y.length,"nextPushId: Length should be 20."),Y}}();class An{constructor(u,c,v,P){this.eventType=u,this.eventRegistration=c,this.snapshot=v,this.prevName=P}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class Bn{constructor(u,c,v){this.eventRegistration=u,this.error=c,this.path=v}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vn{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Nn{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new H.BH;return Qu(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Oo("OnDisconnect.remove",this._path);const u=new H.BH;return Fu(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Oo("OnDisconnect.set",this._path),ws("OnDisconnect.set",u,this._path,!1);const c=new H.BH;return Fu(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Oo("OnDisconnect.setWithPriority",this._path),ws("OnDisconnect.setWithPriority",u,this._path,!1),function(h,u,c){if(!c||void 0!==u){if(tt(u))throw new Error((0,H.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ko(u))throw new Error((0,H.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",c,!1);const v=new H.BH;return function ku(h,u,c,v,P){const j=Pr(c,v);h.server_.onDisconnectPut(u.toString(),j.val(!0),(Y,pe)=>{"ok"===Y&&is(h.onDisconnect_,u,j),Ea(0,P,Y,pe)})}(this._repo,this._path,u,c,v.wrapCallback(()=>{})),v.promise}update(u){Oo("OnDisconnect.update",this._path),xu("OnDisconnect.update",u,this._path,!1);const c=new H.BH;return function Cu(h,u,c,v){if((0,H.xb)(c))return ke("onDisconnect().update() called with empty data.  Don't do anything."),void Ea(0,v,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),c,(P,j)=>{"ok"===P&&Mt(c,(Y,pe)=>{const Me=Pr(pe);is(h.onDisconnect_,Jn(u,Y),Me)}),Ea(0,v,P,j)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class sr{constructor(u,c,v,P){this._repo=u,this._path=c,this._queryParams=v,this._orderByCalled=P}get key(){return Vn(this._path)?null:io(this._path)}get ref(){return new fi(this._repo,this._path)}get _queryIdentifier(){const u=se(this._queryParams),c=Fn(u);return"{}"===c?"default":c}get _queryObject(){return se(this._queryParams)}isEqual(u){if(!((u=(0,H.m9)(u))instanceof sr))return!1;const c=this._repo===u._repo,v=we(this._path,u._path);return c&&v&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function so(h){let u="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(u+="/"+encodeURIComponent(String(h.pieces_[c])));return u||"/"}(this._path)}}class fi extends sr{constructor(u,c){super(u,c,new ei,!1)}get parent(){const u=Pi(this._path);return null===u?null:new fi(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class to{constructor(u,c,v){this._node=u,this.ref=c,this._index=v}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new Mn(u),v=si(this.ref,u);return new to(this._node.getChild(c),v,kr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(v,P)=>u(new to(P,si(this.ref,v),kr)))}hasChild(u){const c=new Mn(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function no(h,u){return(h=(0,H.m9)(h))._checkNotDeleted("ref"),void 0!==u?si(h._root,u):h._root}function si(h,u){return null===In((h=(0,H.m9)(h))._path)?(c=u,c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Vl("child","path",c,!1)):Vl("child","path",u,!1),new fi(h._repo,Jn(h._path,u));var c}function wi(h){return h=(0,H.m9)(h),new Nn(h._repo,h._path)}function Fs(h,u){h=(0,H.m9)(h),Oo("push",h._path),ws("push",u,h._path,!0);const c=va(h._repo),v=Xt(c),P=si(h,v),j=si(h,v);let Y;return Y=null!=u?Ks(j,u).then(()=>j):Promise.resolve(j),P.then=Y.then.bind(Y),P.catch=Y.then.bind(Y,void 0),P}function Wl(h){return Oo("remove",h._path),Ks(h,null)}function Ks(h,u){h=(0,H.m9)(h),Oo("set",h._path),ws("set",u,h._path,!1);const c=new H.BH;return function zo(h,u,c,v,P){aa(h,"set",{path:u.toString(),value:c,priority:v});const j=Xi(h),Y=Pr(c,v),pe=hn(h.serverSyncTree_,u),Me=kl(Y,pe,j),Fe=yl(h),vt=O(h.serverSyncTree_,u,Me,Fe,!0);Sl(h.eventQueue_,vt),h.server_.put(u.toString(),Y.val(!0),(bt,_n)=>{const Yn="ok"===bt;Yn||Gt("set at "+u+" failed: "+bt);const pi=F(h.serverSyncTree_,Fe,!Yn);gs(h.eventQueue_,u,pi),Ea(0,P,bt,_n)});const Ct=W(h,u);$l(h,Ct),gs(h.eventQueue_,Ct,[])}(h._repo,h._path,u,null,c.wrapCallback(()=>{})),c.promise}function _c(h,u){xu("update",u,h._path,!1);const c=new H.BH;return function Lu(h,u,c,v){aa(h,"update",{path:u.toString(),value:c});let P=!0;const j=Xi(h),Y={};if(Mt(c,(pe,Me)=>{P=!1,Y[pe]=Wo(Jn(u,pe),Pr(Me),h.serverSyncTree_,j)}),P)ke("update() called with empty data.  Don't do anything."),Ea(0,v,"ok",void 0);else{const pe=yl(h),Me=function T(h,u,c,v){!function Vo(h,u,c,v){(0,H.hu)(v>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:c,writeId:v,visible:!0}),h.visibleWrites=Ri(h.visibleWrites,u,c),h.lastWriteId=v}(h.pendingWriteTree_,u,c,v);const P=Pn.fromObject(c);return jr(h,new vo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,P))}(h.serverSyncTree_,u,Y,pe);Sl(h.eventQueue_,Me),h.server_.merge(u.toString(),c,(Fe,vt)=>{const Ct="ok"===Fe;Ct||Gt("update at "+u+" failed: "+Fe);const bt=F(h.serverSyncTree_,pe,!Ct),_n=bt.length>0?$l(h,u):u;gs(h.eventQueue_,_n,bt),Ea(0,v,Fe,vt)}),Mt(c,Fe=>{const vt=W(h,Jn(u,Fe));$l(h,vt)}),gs(h.eventQueue_,u,[])}}(h._repo,h._path,u,c.wrapCallback(()=>{})),c.promise}function Tn(h){h=(0,H.m9)(h);const u=new vn(()=>{}),c=new Vt(u);return function _l(h,u,c){const v=function pr(h,u){const c=u._path;let v=null;h.syncPointTree_.foreachOnPath(c,(Fe,vt)=>{const Ct=Fr(Fe,c);v=v||Ji(vt,Ct)});let P=h.syncPointTree_.get(c);P?v=v||Ji(P,On()):(P=new Do,h.syncPointTree_=h.syncPointTree_.set(c,P));const j=null!=v,Y=j?new As(v,!0,!1):null;return function Na(h){return rt(h.viewCache_)}(Mu(P,u,Lt(h.pendingWriteTree_,u._path),j?Y.getNode():yn.EMPTY_NODE,j))}(h.serverSyncTree_,u);return null!=v?Promise.resolve(v):h.server_.get(u).then(P=>{const j=Pr(P).withIndex(u._queryParams.getIndex());let Y;if(zt(h.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())Y=$(h.serverSyncTree_,u._path,j);else{const pe=Is(h.serverSyncTree_,u);Y=Ht(h.serverSyncTree_,u._path,j,pe)}return gs(h.eventQueue_,u._path,Y),Je(h.serverSyncTree_,u,c,null,!0),j},P=>(aa(h,"get for query "+(0,H.Wl)(u)+" failed: "+P),Promise.reject(new Error(P))))}(h._repo,h,c).then(v=>new to(v,new fi(h._repo,h._path),h._queryParams.getIndex()))}class Vt{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const v=c._queryParams.getIndex();return new An("value",this,new to(u.snapshotNode,new fi(c._repo,c._path),v))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Bn(this,u,c):null}matches(u){return u instanceof Vt&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Kn{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Bn(this,u,c):null}createEvent(u,c){(0,H.hu)(null!=u.childName,"Child events should have a childName.");const v=si(new fi(c._repo,c._path),u.childName),P=c._queryParams.getIndex();return new An(u.type,this,new to(u.snapshotNode,v,P),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof Kn&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Bi(h,u,c,v){return function gr(h,u,c,v,P){let j;if("object"==typeof v&&(j=void 0,P=v),"function"==typeof v&&(j=v),P&&P.onlyOnce){const Me=c,Fe=(vt,Ct)=>{oa(h._repo,h,pe),Me(vt,Ct)};Fe.userCallback=c.userCallback,Fe.context=c.context,c=Fe}const Y=new vn(c,j||void 0),pe="value"===u?new Vt(Y):new Kn(u,Y);return function yc(h,u,c){let v;v=".info"===In(u._path)?zt(h.infoSyncTree_,u,c):zt(h.serverSyncTree_,u,c),vu(h.eventQueue_,u._path,v)}(h._repo,h,pe),()=>oa(h._repo,h,pe)}(h,"value",u,c,v)}function Tu(h,u,c){let v=null;const P=c?new vn(c):null;"value"===u?v=new Vt(P):u&&(v=new Kn(u,P)),oa(h._repo,h,v)}(function Ja(h){(0,H.hu)(!Mo,"__referenceConstructor has already been defined"),Mo=h})(fi),function Jl(h){(0,H.hu)(!xi,"__referenceConstructor has already been defined"),xi=h}(fi);const Vu={};function ch(h,u,c,v,P){let j=v||h.options.databaseURL;void 0===j&&(h.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",h.options.projectId),j=`${h.options.projectId}-default-rtdb.firebaseio.com`);let Me,Fe,Y=Xe(j,P),pe=Y.repoInfo;"undefined"!=typeof process&&process.env&&(Fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Fe?(Me=!0,j=`http://${Fe}?ns=${pe.namespace}`,Y=Xe(j,P),pe=Y.repoInfo):Me=!Y.repoInfo.secure;const vt=P&&Me?new lr(lr.OWNER):new xr(h.name,h.options,u);(function(h,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!_a(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Xs(h)}(c))throw new Error((0,H.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",Y),Vn(Y.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");const Ct=function hh(h,u,c,v){let P=Vu[u.name];P||(P={},Vu[u.name]=P);let j=P[h.toURLString()];return j&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),j=new ml(h,false,c,v),P[h.toURLString()]=j,j}(pe,h,vt,new Hr(h.name,c));return new Tg(Ct,h)}class Tg{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Hl(h,u,c){if(h.stats_=Ft(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new dt(h.repoInfo_,(v,P,j,Y)=>{bl(h,v,P,j,Y)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>iu(h,!0),0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(c)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}h.persistentConnection_=new oo(h.repoInfo_,u,(v,P,j,Y)=>{bl(h,v,P,j,Y)},v=>{iu(h,v)},v=>{!function Du(h,u){Mt(u,(c,v)=>{Al(h,c,v)})}(h,v)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(v=>{h.server_.refreshAuthToken(v)}),h.appCheckProvider_.addTokenChangeListener(v=>{h.server_.refreshAppCheckToken(v.token)}),h.statsReporter_=function Hn(h,u){const c=h.toString();return rr[c]||(rr[c]=u()),rr[c]}(h.repoInfo_,()=>new Lo(h.stats_,h.server_)),h.infoData_=new sn,h.infoSyncTree_=new M({startListening:(v,P,j,Y)=>{let pe=[];const Me=h.infoData_.getNode(v._path);return Me.isEmpty()||(pe=$(h.infoSyncTree_,v._path,Me),setTimeout(()=>{Y("ok")},0)),pe},stopListening:()=>{}}),Al(h,"connected",!1),h.serverSyncTree_=new M({startListening:(v,P,j,Y)=>(h.server_.listen(v,j,P,(pe,Me)=>{const Fe=Y(pe,Me);gs(h.eventQueue_,v._path,Fe)}),[]),stopListening:(v,P)=>{h.server_.unlisten(v,P)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fi(this._repo,On())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dh(h,u){const c=Vu[u];(!c||c[h.key]!==h)&&Kt(`Database ${u}(${h.repoInfo_}) has already been deleted.`),function vl(h){h.persistentConnection_&&h.persistentConnection_.interrupt("repo_interrupt")}(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Kt("Cannot call "+u+" on a deleted database.")}}function Bu(h=(0,S.Mq)(),u){const c=(0,S.qX)(h,"database").getImmediate({identifier:u});if(!c._instanceStarted){const v=(0,H.P0)("database");v&&function wc(h,u,c,v={}){(h=(0,H.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");const P=h._repoInternal;let j;if(P.repoInfo_.nodeAdmin)v.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),j=new lr(lr.OWNER);else if(v.mockUserToken){const Y="string"==typeof v.mockUserToken?v.mockUserToken:(0,H.Sg)(v.mockUserToken,h.app.options.projectId);j=new lr(Y)}!function Cc(h,u,c,v){h.repoInfo_=new Ee(`${u}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),v&&(h.authTokenProvider_=v)}(P,u,c,j)}(c,...v)}return c}const Kl={".sv":"timestamp"};function mh(){return Kl}function Tc(h){return{".sv":{increment:h}}}oo.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},oo.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function gh(h){(function he(h){q=h})(S.Jn),(0,S.Xd)(new ne.wA("database",(u,{instanceIdentifier:c})=>ch(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,S.KN)(de,"0.14.3",h),(0,S.KN)(de,"0.14.3","esm2017")}()},9996:(Ce,ae,D)=>{D.d(ae,{ET:()=>qm,hJ:()=>sf,oe:()=>y_,JU:()=>gd,ST:()=>yd,Lx:()=>$m,QT:()=>zm,kl:()=>g_,PL:()=>m_,ad:()=>md,b9:()=>Hm,cf:()=>Zm,Xo:()=>c_,IO:()=>jm,Bt:()=>ey,TQ:()=>h_,r7:()=>Qm});var q,f=D(5861),S=D(6881),ne=D(4859),H=D(1877),Q=D(2090),de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},re={},he=he||{},Z=de||self;function ee(){}function le(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ne(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ie="closure_uid_"+(1e9*Math.random()>>>0),ze=0;function Ge(i,e,t){return i.call.apply(i.bind,arguments)}function je(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function mt(i,e,t){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ge:je).apply(null,arguments)}function xt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function qe(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,l,g){for(var C=Array(arguments.length-2),N=2;N<arguments.length;N++)C[N-2]=arguments[N];return e.prototype[l].apply(o,C)}}function ke(){this.s=this.s,this.o=this.o}ke.prototype.s=!1,ke.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ke(i){Object.prototype.hasOwnProperty.call(i,Ie)&&i[Ie]||(i[Ie]=++ze)}(this)},ke.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Kt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Gt(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(le(o)){const l=i.length||0,g=o.length||0;i.length=l+g;for(let C=0;C<g;C++)i[l+C]=o[C]}else i.push(o)}}function Pt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Z.addEventListener("test",ee,e),Z.removeEventListener("test",ee,e)}catch(t){}return i}();function Ze(i){return/^[\s\xa0]*$/.test(i)}var ot=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function et(i,e){return i<e?-1:i>e?1:0}function Nt(){var i=Z.navigator;return i&&(i=i.userAgent)?i:""}function St(i){return-1!=Nt().indexOf(i)}function ht(i){return ht[" "](i),i}ht[" "]=ee;var dr,i,Yt=St("Opera"),Mt=St("Trident")||St("MSIE"),hr=St("Edge"),Ur=hr||Mt,wr=St("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),nr=-1!=Nt().toLowerCase().indexOf("webkit")&&!St("Edge");function Lr(){var i=Z.document;return i?i.documentMode:void 0}e:{var Ti="",gi=(i=Nt(),wr?/rv:([^\);]+)(\)|;)/.exec(i):hr?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nr?/WebKit\/(\S+)/.exec(i):Yt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(gi&&(Ti=gi?gi[1]:""),Mt){var Jr=Lr();if(null!=Jr&&Jr>parseFloat(Ti)){dr=String(Jr);break e}}dr=Ti}var Br={};var lr=Z.document&&Mt&&(Lr()||parseInt(dr,10))||void 0;function yr(i,e){if(Pt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(wr){e:{try{ht(e.nodeName);var l=!0;break e}catch(g){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ls[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&yr.X.h.call(this)}}qe(yr,Pt);var ls={2:"touch",3:"pen",4:"mouse"};yr.prototype.h=function(){yr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),mi=0;function Si(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++mi,this.ba=this.ea=!1}function Er(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Ki(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function oi(i){const e={};for(const t in i)e[t]=i[t];return e}const br="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let g=0;g<br.length;g++)t=br[g],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Oe(i){this.src=i,this.g={},this.h=0}function Ee(i,e){var t=e.type;if(t in i.g){var g,o=i.g[t],l=Tt(o,e);(g=0<=l)&&Array.prototype.splice.call(o,l,1),g&&(Er(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nt(i,e,t,o){for(var l=0;l<i.length;++l){var g=i[l];if(!g.ba&&g.listener==e&&g.capture==!!t&&g.ha==o)return l}return-1}Oe.prototype.add=function(i,e,t,o,l){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var C=nt(i,e,o,l);return-1<C?(e=i[C],t||(e.ea=!1)):((e=new Si(e,this.src,g,!!o,l)).ea=t,i.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),dn={};function on(i,e,t,o,l){if(o&&o.once)return Hn(i,e,t,o,l);if(Array.isArray(e)){for(var g=0;g<e.length;g++)on(i,e[g],t,o,l);return null}return t=Gr(t),i&&i[Qt]?i.N(e,t,Ne(o)?!!o.capture:!!o,l):rr(i,e,t,!1,o,l)}function rr(i,e,t,o,l,g){if(!e)throw Error("Invalid event type");var C=Ne(l)?!!l.capture:!!l,N=$n(i);if(N||(i[pt]=N=new Oe(i)),(t=N.add(e,t,o,C,g)).proxy)return t;if(o=function Ft(){const e=rn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)tt||(l=C),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(xn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Hn(i,e,t,o,l){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Hn(i,e[g],t,o,l);return null}return t=Gr(t),i&&i[Qt]?i.O(e,t,Ne(o)?!!o.capture:!!o,l):rr(i,e,t,!0,o,l)}function zn(i,e,t,o,l){if(Array.isArray(e))for(var g=0;g<e.length;g++)zn(i,e[g],t,o,l);else o=Ne(o)?!!o.capture:!!o,t=Gr(t),i&&i[Qt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nt(g=i.g[e],t,o,l))&&(Er(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=$n(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nt(e,t,o,l)),(t=-1<i?e[i]:null)&&$r(t))}function $r(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Qt])Ee(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(xn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=$n(e))?(Ee(t,i),0==t.h&&(t.src=null,e[pt]=null)):Er(i)}}}function xn(i){return i in dn?dn[i]:dn[i]="on"+i}function rn(i,e){if(i.ba)i=!0;else{e=new yr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&$r(i),i=t.call(o,e)}return i}function $n(i){return(i=i[pt])instanceof Oe?i:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gr(i){return"function"==typeof i?i:(i[ti]||(i[ti]=function(e){return i.handleEvent(e)}),i[ti])}function kn(){ke.call(this),this.i=new Oe(this),this.P=this,this.I=null}function Tr(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Pt(e,i);else if(e instanceof Pt)e.target=e.target||i;else{var l=e;$e(e=new Pt(o,i),l)}if(l=!0,t)for(var g=t.length-1;0<=g;g--){var C=e.g=t[g];l=zi(C,o,!0,e)&&l}if(l=zi(C=e.g=i,o,!0,e)&&l,l=zi(C,o,!1,e)&&l,t)for(g=0;g<t.length;g++)l=zi(C=e.g=t[g],o,!1,e)&&l}function zi(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,g=0;g<e.length;++g){var C=e[g];if(C&&!C.ba&&C.capture==t){var N=C.listener,K=C.ha||C.src;C.ea&&Ee(i.i,C),l=!1!==N.call(K,o)&&l}}return l&&!o.defaultPrevented}qe(kn,ke),kn.prototype[Qt]=!0,kn.prototype.removeEventListener=function(i,e,t,o){zn(this,i,e,t,o)},kn.prototype.M=function(){if(kn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Er(t[o]);delete i.g[e],i.h--}}this.I=null},kn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},kn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var yi=Z.JSON.stringify;function Re(){var i=Ar;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var en,Be=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Et,i=>i.reset());class Et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function We(i){Z.setTimeout(()=>{throw i},0)}function $t(i,e){en||function Un(){var i=Z.Promise.resolve(void 0);en=function(){i.then(He)}}(),or||(en(),or=!0),Ar.add(i,e)}var or=!1,Ar=new class Ae{constructor(){this.h=this.g=null}add(e,t){const o=Be.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function He(){for(var i;i=Re();){try{i.h.call(i.g)}catch(t){We(t)}var e=Be;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}or=!1}function Se(i,e){kn.call(this),this.h=i||1,this.g=e||Z,this.j=mt(this.lb,this),this.l=Date.now()}function me(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Ue(i,e,t){if("function"==typeof i)t&&(i=mt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=mt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Z.setTimeout(i,e||0)}function ut(i){i.g=Ue(()=>{i.g=null,i.i&&(i.i=!1,ut(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qe(Se,kn),(q=Se.prototype).ca=!1,q.R=null,q.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tr(this,"tick"),this.ca&&(me(this),this.start()))}},q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},q.M=function(){Se.X.M.call(this),me(this),delete this.g};class ln extends ke{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ut(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(i){ke.call(this),this.h=i,this.g={}}qe(un,ke);var Pe=[];function Le(i,e,t,o){Array.isArray(t)||(t&&(Pe[0]=t.toString()),t=Pe);for(var l=0;l<t.length;l++){var g=on(e,t[l],o||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function gt(i){Ki(i.g,function(e,t){this.g.hasOwnProperty(t)&&$r(e)},i),i.g={}}function Wt(){this.g=!0}function Wn(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ai(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var g=l[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var C=1;C<l.length;C++)l[C]=""}}}return yi(t)}catch(N){return e}}(i,t)+(o?" "+o:"")})}un.prototype.M=function(){un.X.M.call(this),gt(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Aa=function(){this.g=!1},Wt.prototype.info=function(){};var Yr={},Sn=null;function us(){return Sn=Sn||new kn}function ni(i){Pt.call(this,Yr.Pa,i)}function Mi(i){const e=us();Tr(e,new ni(e))}function Oi(i,e){Pt.call(this,Yr.STAT_EVENT,i),this.stat=e}function qn(i){const e=us();Tr(e,new Oi(e,i))}function rs(i,e){Pt.call(this,Yr.Qa,i),this.size=e}function Mn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){i()},e)}Yr.Pa="serverreachability",qe(ni,Pt),Yr.STAT_EVENT="statevent",qe(Oi,Pt),Yr.Qa="timingevent",qe(rs,Pt);var On={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},In={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _i(){}function io(){}_i.prototype.h=null;var Jn,so={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vi(){Pt.call(this,"d")}function Pi(){Pt.call(this,"c")}function Vn(){}function Fr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new un(this),this.O=we,this.T=new Se(i=Ur?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}qe(vi,Pt),qe(Pi,Pt),qe(Vn,_i),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},Jn=new Vn;var we=45e3,it={},Qe={};function yt(i,e,t){i.K=1,i.v=Ps(Fi(e)),i.s=t,i.P=!0,tn(i,null)}function tn(i,e){i.F=Date.now(),Nr(i),i.A=Fi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),kr(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Ni,i.g=Uo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new ln(mt(i.La,i,i.g),i.N)),Le(i.S,i.g,"readystatechange",i.ib),e=i.H?oi(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Mi(),function Dn(i,e,t,o,l,g){i.info(function(){if(i.g)if(g)for(var C="",N=g.split("&"),K=0;K<N.length;K++){var te=N[K].split("=");if(1<te.length){var ge=te[0];te=te[1];var xe=ge.split("_");C=2<=xe.length&&"type"==xe[1]?C+(ge+"=")+te+"&":C+(ge+"=redacted&")}}else C=null;else C=g;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+C})}(i.j,i.u,i.A,i.m,i.U,i.s)}function kt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Gn(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Wr(i,t),l==Qe){4==e&&(i.o=4,qn(14),o=!1),Wn(i.j,i.m,null,"[Incomplete Response]");break}if(l==it){i.o=4,qn(15),Wn(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Wn(i.j,i.m,l,null),ds(i,l)}kt(i)&&l!=Qe&&l!=it&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,qn(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ma(e),e.K=!0,qn(11))):(Wn(i.j,i.m,t,"[Invalid Chunked Response]"),cs(i),Qr(i))}function Wr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Qe:(t=Number(e.substring(t,o)),isNaN(t)?it:(o+=1)+t>e.length?Qe:(e=e.substr(o,t),i.C=o+t,e))}function Nr(i){i.V=Date.now()+i.O,Li(i,i.O)}function Li(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Mn(mt(i.gb,i),e)}function Dr(i){i.B&&(Z.clearTimeout(i.B),i.B=null)}function Qr(i){0==i.l.G||i.I||bo(i.l,i)}function cs(i){Dr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,me(i.T),gt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ds(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||yn(t.h,i)))if(!i.J&&yn(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(te){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;_o(t),Zs(t)}ko(t),qn(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mn(mt(t.cb,t),6e3));if(1>=Di(t.h)&&t.ja){try{t.ja()}catch(te){}t.ja=void 0}}else As(t,11)}else if((i.J||t.g==i)&&_o(t),!Ze(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let te=l[e];if(t.T=te[0],te=te[1],2==t.G)if("c"==te[0]){t.I=te[1],t.ka=te[2];const ge=te[3];null!=ge&&(t.ma=ge,t.j.info("VER="+t.ma));const xe=te[4];null!=xe&&(t.Ca=xe,t.j.info("SVER="+t.Ca));const lt=te[5];null!=lt&&"number"==typeof lt&&0<lt&&(t.J=o=1.5*lt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ot=i.g;if(Ot){const jt=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var g=o.h;g.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(ea(g,g.h),g.h=null))}if(o.D){const mn=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;mn&&(o.za=mn,er(o.F,o.D,mn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=i;if((o=t).sa=sl(o,o.H?o.ka:null,o.V),C.J){ur(o.h,C);var N=C,K=o.J;K&&N.setTimeout(K),N.B&&(Dr(N),Nr(N)),o.g=C}else Fo(o);0<t.i.length&&xs(t)}else"stop"!=te[0]&&"close"!=te[0]||As(t,7);else 3==t.G&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?As(t,7):Kr(t):"noop"!=te[0]&&t.l&&t.l.wa(te),t.A=0)}Mi()}catch(te){}}function Xn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(le(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function oo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(le(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Us(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(le(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,g=0;g<l;g++)e.call(void 0,o[g],t&&t[g],i)}(q=Fr.prototype).setTimeout=function(i){this.O=i},q.ib=function(i){i=i.target;const e=this.L;e&&3==se(i)?e.l():this.La(i)},q.La=function(i){try{if(i==this.g)e:{const ge=se(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ge)&&(3!=ge||Ur||this.g&&(this.h.h||this.g.fa()||dt(this.g)))){this.I||4!=ge||7==e||Mi(),Dr(this);var t=this.g.aa();this.Y=t;t:if(kt(this)){var o=dt(this.g);i="";var l=o.length,g=4==se(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cs(this),Qr(this);var C="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:g&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function Cn(i,e,t,o,l,g,C){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+g+" "+C})}(this.j,this.u,this.A,this.m,this.U,ge,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,K=this.g;if((N=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ze(N)){var te=N;break t}}te=null}if(!(t=te)){this.i=!1,this.o=3,qn(12),cs(this),Qr(this);break e}Wn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ds(this,t)}this.P?(Gn(this,ge,C),Ur&&this.i&&3==ge&&(Le(this.S,this.T,"tick",this.hb),this.T.start())):(Wn(this.j,this.m,C,null),ds(this,C)),4==ge&&cs(this),this.i&&!this.I&&(4==ge?bo(this.l,this):(this.i=!1,Nr(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),cs(this),Qr(this)}}}catch(ge){}},q.hb=function(){if(this.g){var i=se(this.g),e=this.g.fa();this.C<e.length&&(Dr(this),Gn(this,i,e),this.i&&4!=i&&Nr(this))}},q.cancel=function(){this.I=!0,cs(this)},q.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function ir(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mi(),qn(17)),cs(this),this.o=2,Qr(this)):Li(this,this.V-i)};var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof hs){this.h=void 0!==e?e:i.h,Os(this,i.j),this.s=i.s,this.g=i.g,Ei(this,i.m),this.l=i.l,e=i.i;var t=new ri;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Qs(this,t),this.o=i.o}else i&&(t=String(i).match(To))?(this.h=!!e,Os(this,t[1]||"",!0),this.s=ys(t[2]||""),this.g=ys(t[3]||"",!0),Ei(this,t[4]),this.l=ys(t[5]||"",!0),Qs(this,t[6]||"",!0),this.o=ys(t[7]||"")):(this.h=!!e,this.i=new ri(null,this.h))}function Fi(i){return new hs(i)}function Os(i,e,t){i.j=t?ys(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ei(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qs(i,e,t){e instanceof ri?(i.i=e,function bi(i,e){e&&!i.j&&(_s(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Ya(this,o),kr(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=lo(e,Yi)),i.i=new ri(e,i.h))}function er(i,e,t){i.i.set(e,t)}function Ps(i){return er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ys(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function lo(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ro),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ro(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}hs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(lo(e,uo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(lo(e,uo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(lo(t,"/"==t.charAt(0)?mo:ca,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",lo(t,Ia)),i.join("")};var uo=/[#\/\?@]/g,ca=/[#\?:]/g,mo=/[#\?]/g,Yi=/[#\?@]/g,Ia=/#/g;function ri(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function _s(i){i.g||(i.g=new Map,i.h=0,i.i&&function ao(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var g=i[t].substring(0,o);l=i[t].substring(o+1)}else g=i[t];e(g,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ya(i,e){_s(i),e=Xo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Qa(i,e){return _s(i),e=Xo(i,e),i.g.has(e)}function kr(i,e,t){Ya(i,e),0<t.length&&(i.i=null,i.g.set(Xo(i,e),Kt(t)),i.h+=t.length)}function Xo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function wa(i){this.l=i||qs,i=Z.PerformanceNavigationTiming?0<(i=Z.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(q=ri.prototype).add=function(i,e){_s(this),this.i=null,i=Xo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},q.forEach=function(i,e){_s(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},q.oa=function(){_s(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let g=0;g<l.length;g++)t.push(e[o])}return t},q.W=function(i){_s(this);let e=[];if("string"==typeof i)Qa(this,i)&&(e=e.concat(this.g.get(Xo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},q.set=function(i,e){return _s(this),this.i=null,Qa(this,i=Xo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},q.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const g=encodeURIComponent(String(o)),C=this.W(o);for(o=0;o<C.length;o++){var l=g;""!==C[o]&&(l+="="+encodeURIComponent(String(C[o]))),i.push(l)}}return this.i=i.join("&")};var qs=10;function li(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Di(i){return i.h?1:i.g?i.g.size:0}function yn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ea(i,e){i.g?i.g.add(e):i.h=e}function ur(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ta(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Kt(i.i)}function Pr(){}function Sa(){this.g=new Pr}function Vs(i,e,t){const o=t||"";try{Xn(i,function(l,g){let C=l;Ne(l)&&(C=yi(l)),e.push(o+g+"="+encodeURIComponent(C))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Bs(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(g){}}function En(i){this.l=i.ac||null,this.j=i.jb||!1}function bs(i,e){kn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=No,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wa.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Pr.prototype.stringify=function(i){return Z.JSON.stringify(i,void 0)},Pr.prototype.parse=function(i){return Z.JSON.parse(i,void 0)},qe(En,_i),En.prototype.g=function(){return new bs(this.l,this.j)},En.prototype.i=function(i){return function(){return i}}({}),qe(bs,kn);var No=0;function ba(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function vs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Es(i)}function Es(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(q=bs.prototype).open=function(i,e){if(this.readyState!=No)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Es(this)},q.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vs(this)),this.readyState=No},q.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Z.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ba(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},q.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vs(this):Es(this),3==this.readyState&&ba(this)}},q.Va=function(i){this.g&&(this.response=this.responseText=i,vs(this))},q.Ua=function(i){this.g&&(this.response=i,vs(this))},q.ga=function(){this.g&&vs(this)},q.setRequestHeader=function(i,e){this.v.append(i,e)},q.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},q.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var yo=Z.JSON.parse;function ei(i){kn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Aa,this.K=this.L=!1}qe(ei,kn);var Aa="",At=/^https?$/i,Cr=["POST","PUT"];function da(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ui(i),B(i)}function ui(i){i.D||(i.D=!0,Tr(i,"complete"),Tr(i,"error"))}function G(i){if(i.h&&void 0!==he&&(!i.C[1]||4!=se(i)||2!=i.aa()))if(i.v&&4==se(i))Ue(i.Ha,0,i);else if(Tr(i,"readystatechange"),4==se(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===N){var l=String(i.H).match(To)[1]||null;if(!l&&Z.self&&Z.self.location){var g=Z.self.location.protocol;l=g.substr(0,g.length-1)}o=!At.test(l?l.toLowerCase():"")}t=o}if(t)Tr(i,"complete"),Tr(i,"success");else{i.m=6;try{var C=2<se(i)?i.g.statusText:""}catch(K){C=""}i.j=C+" ["+i.aa()+"]",ui(i)}}finally{B(i)}}}function B(i,e){if(i.g){L(i);const t=i.g,o=i.C[0]?ee:null;i.g=null,i.C=null,e||Tr(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function L(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Z.clearTimeout(i.A),i.A=null)}function se(i){return i.g?i.g.readyState:0}function dt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Aa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function sn(i){let e="";return Ki(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ci(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=sn(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):er(i,e,t))}function is(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function co(i){this.Ca=0,this.i=[],this.j=new Wt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=is("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=is("baseRetryDelayMs",5e3,i),this.bb=is("retryDelaySeedMs",1e4,i),this.$a=is("forwardChannelMaxRetries",2,i),this.ta=is("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new wa(i&&i.concurrentRequestLimit),this.Fa=new Sa,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Kr(i){if(Ds(i),3==i.G){var e=i.U++,t=Fi(i.F);er(t,"SID",i.I),er(t,"RID",e),er(t,"TYPE","terminate"),Lo(i,t),(e=new Fr(i,i.j,e,void 0)).K=2,e.v=Ps(Fi(t)),t=!1,Z.navigator&&Z.navigator.sendBeacon&&(t=Z.navigator.sendBeacon(e.v.toString(),"")),!t&&Z.Image&&((new Image).src=e.v,t=!0),t||(e.g=Uo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Nr(e)}fa(i)}function Zs(i){i.g&&(Ma(i),i.g.cancel(),i.g=null)}function Ds(i){Zs(i),i.u&&(Z.clearTimeout(i.u),i.u=null),_o(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Z.clearTimeout(i.m),i.m=null)}function xs(i){li(i.h)||i.m||(i.m=!0,$t(i.Ja,i),i.C=0)}function Fl(i,e){var t;t=e?e.m:i.U++;const o=Fi(i.F);er(o,"SID",i.I),er(o,"RID",t),er(o,"AID",i.T),Lo(i,o),i.o&&i.s&&ci(o,i.o,i.s),t=new Fr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=js(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),ea(i.h,t),yt(t,o,e)}function Lo(i,e){i.ia&&Ki(i.ia,function(t,o){er(e,o,t)}),i.l&&Xn({},function(t,o){er(e,o,t)})}function js(i,e,t){t=Math.min(i.i.length,t);var o=i.l?mt(i.l.Ra,i.l,i):null;e:{var l=i.i;let g=-1;for(;;){const C=["count="+t];-1==g?0<t?(g=l[0].h,C.push("ofs="+g)):g=0:C.push("ofs="+g);let N=!0;for(let K=0;K<t;K++){let te=l[K].h;const ge=l[K].g;if(te-=g,0>te)g=Math.max(0,l[K].h-100),N=!1;else try{Vs(ge,C,"req"+te+"_")}catch(xe){o&&o(ge)}}if(N){o=C.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Fo(i){i.g||i.u||(i.Z=1,$t(i.Ia,i),i.A=0)}function ko(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Mn(mt(i.Ia,i),vo(i,i.A)),i.A++,0))}function Ma(i){null!=i.B&&(Z.clearTimeout(i.B),i.B=null)}function ha(i){i.g=new Fr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Fi(i.sa);er(e,"RID","rpc"),er(e,"SID",i.I),er(e,"CI",i.L?"0":"1"),er(e,"AID",i.T),er(e,"TYPE","xmlhttp"),Lo(i,e),i.o&&i.s&&ci(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ps(Fi(e)),t.s=null,t.P=!0,tn(t,i)}function _o(i){null!=i.v&&(Z.clearTimeout(i.v),i.v=null)}function bo(i,e){var t=null;if(i.g==e){_o(i),Ma(i),i.g=null;var o=2}else{if(!yn(i.h,e))return;t=e.D,ur(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Tr(o=us(),new rs(o,t)),xs(i)}else Fo(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function So(i,e){return!(Di(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Mn(mt(i.Ja,i,e),vo(i,i.C)),i.C++,0)))}(i,e)||2==o&&ko(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:As(i,5);break;case 4:As(i,10);break;case 3:As(i,6);break;default:As(i,2)}}function vo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function As(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=mt(i.kb,i);t||(t=new hs("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Os(t,"https"),Ps(t)),function ta(i,e){const t=new Wt;if(Z.Image){const o=new Image;o.onload=xt(Bs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=xt(Bs,t,o,"TestLoadImage: error",!1,e),o.onabort=xt(Bs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=xt(Bs,t,o,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else qn(2);i.G=0,i.l&&i.l.va(e),fa(i),Ds(i)}function fa(i){if(i.G=0,i.la=[],i.l){const e=Ta(i.h);(0!=e.length||0!=i.i.length)&&(Gt(i.la,e),Gt(i.la,i.i),i.h.i.length=0,Kt(i.i),i.i.length=0),i.l.ua()}}function sl(i,e,t){var o=t instanceof hs?Fi(t):new hs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ei(o,o.m);else{var l=Z.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var g=new hs(null,void 0);o&&Os(g,o),e&&(g.g=e),l&&Ei(g,l),t&&(g.l=t),o=g}return e=i.za,(t=i.D)&&e&&er(o,t,e),er(o,"VER",i.ma),Lo(i,o),o}function Uo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ei(t&&i.Da&&!i.ra?new En({jb:!0}):i.ra)).Ka(i.H),e}function k(){}function J(){if(Mt&&!(10<=Number(lr)))throw Error("Environmental error: no available transport.")}function V(i,e){kn.call(this),this.g=new co(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Ze(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ze(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new rt(this)}function oe(i){vi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function De(){Pi.call(this),this.status=1}function rt(i){this.g=i}(q=ei.prototype).Ka=function(i){this.L=i},q.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jn.g(),this.C=function bn(i){return i.h||(i.h=i.i())}(this.u?this.u:Jn),this.g.onreadystatechange=mt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(g){return void da(this,g)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const g of o.keys())t.set(g,o.get(g))}o=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),l=Z.FormData&&i instanceof Z.FormData,!(0<=Tt(Cr,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,C]of t)this.g.setRequestHeader(g,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{L(this),0<this.B&&((this.K=function Rs(i){return Mt&&function Xr(){return function Fn(i){var e=Br;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ot(String(dr)).split("."),t=ot("9").split("."),o=Math.max(e.length,t.length);for(let C=0;0==i&&C<o;C++){var l=e[C]||"",g=t[C]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;i=et(0==l[1].length?0:parseInt(l[1],10),0==g[1].length?0:parseInt(g[1],10))||et(0==l[2].length,0==g[2].length)||et(l[2],g[2]),l=l[3],g=g[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.qa,this)):this.A=Ue(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){da(this,g)}},q.qa=function(){void 0!==he&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},q.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tr(this,"complete"),Tr(this,"abort"),B(this))},q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B(this,!0)),ei.X.M.call(this)},q.Ha=function(){this.s||(this.F||this.v||this.l?G(this):this.fb())},q.fb=function(){G(this)},q.aa=function(){try{return 2<se(this)?this.g.status:-1}catch(i){return-1}},q.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},q.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),yo(e)}},q.Ea=function(){return this.m},q.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(q=co.prototype).ma=8,q.G=1,q.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new Fr(this,this.j,i,void 0);let g=this.s;if(this.S&&(g?(g=oi(g),$e(g,this.S)):g=this.S),null!==this.o||this.N||(l.H=g,g=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=js(this,l,e),er(t=Fi(this.F),"RID",i),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),Lo(this,t),g&&(this.N?e="headers="+encodeURIComponent(String(sn(g)))+"&"+e:this.o&&ci(t,this.o,g)),ea(this.h,l),this.Ya&&er(t,"TYPE","init"),this.O?(er(t,"$req",e),er(t,"SID","null"),l.Z=!0,yt(l,t,null)):yt(l,t,e),this.G=2}}else 3==this.G&&(i?Fl(this,i):0==this.i.length||li(this.h)||Fl(this))},q.Ia=function(){if(this.u=null,ha(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Mn(mt(this.eb,this),i)}},q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qn(10),Zs(this),ha(this))},q.cb=function(){null!=this.v&&(this.v=null,Zs(this),ko(this),qn(19))},q.kb=function(i){i?(this.j.info("Successfully pinged google.com"),qn(2)):(this.j.info("Failed to ping google.com"),qn(1))},(q=k.prototype).xa=function(){},q.wa=function(){},q.va=function(){},q.ua=function(){},q.Ra=function(){},J.prototype.g=function(i,e){return new V(i,e)},qe(V,kn),V.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;qn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=sl(i,null,i.V),xs(i)},V.prototype.close=function(){Kr(this.g)},V.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=yi(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&xs(e)},V.prototype.M=function(){this.g.l=null,delete this.j,Kr(this.g),delete this.g,V.X.M.call(this)},qe(oe,vi),qe(De,Pi),qe(rt,k),rt.prototype.xa=function(){Tr(this.g,"a")},rt.prototype.wa=function(i){Tr(this.g,new oe(i))},rt.prototype.va=function(i){Tr(this.g,new De)},rt.prototype.ua=function(){Tr(this.g,"b")},J.prototype.createWebChannel=J.prototype.g,V.prototype.send=V.prototype.u,V.prototype.open=V.prototype.m,V.prototype.close=V.prototype.close,On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,In.COMPLETE="complete",io.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",kn.prototype.listen=kn.prototype.N,ei.prototype.listenOnce=ei.prototype.O,ei.prototype.getLastError=ei.prototype.Oa,ei.prototype.getLastErrorCode=ei.prototype.Ea,ei.prototype.getStatus=ei.prototype.aa,ei.prototype.getResponseJson=ei.prototype.Sa,ei.prototype.getResponseText=ei.prototype.fa,ei.prototype.send=ei.prototype.da,ei.prototype.setWithCredentials=ei.prototype.Ka;var ft=re.createWebChannelTransport=function(){return new J},nn=re.getStatEventTarget=function(){return us()},Vr=re.ErrorCode=On,Pn=re.EventType=In,fr=re.Event=Yr,ar=re.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ri=re.FetchXmlHttpFactory=En,Mr=re.WebChannel=io,ki=re.XhrIo=ei;const Cs="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let Qi="9.17.1";const qi=new H.Yd("@firebase/firestore");function ss(){return qi.logLevel}function Lt(i,...e){if(qi.logLevel<=H.in.DEBUG){const t=e.map(qa);qi.debug(`Firestore (${Qi}): ${i}`,...t)}}function Zi(i,...e){if(qi.logLevel<=H.in.ERROR){const t=e.map(qa);qi.error(`Firestore (${Qi}): ${i}`,...t)}}function Vo(i,...e){if(qi.logLevel<=H.in.WARN){const t=e.map(qa);qi.warn(`Firestore (${Qi}): ${i}`,...t)}}function qa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function fn(i="Unexpected state"){const e=`FIRESTORE (${Qi}) INTERNAL ASSERTION FAILED: `+i;throw Zi(e),new Error(e)}function an(i,e){i||fn()}function Jt(i,e){return i}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Q.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ql{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ol{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class Ui{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ns{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const g=te=>this.i!==l?(l=this.i,t(te)):Promise.resolve();let C=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Ci,e.enqueueRetryable(()=>g(this.currentUser))};const N=()=>{const te=C;e.enqueueRetryable((0,f.Z)(function*(){yield te.promise,yield g(o.currentUser)}))},K=te=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(te=>K(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?K(te):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Ci)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(an("string"==typeof o.accessToken),new ql(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new qr(e)}}class na{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(an(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Bo{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new na(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=g=>{null!=g.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const C=g.token!==this.A;return this.A=g.token,Lt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>o(g))};const l=g=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>l(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?l(g):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(an("string"==typeof t.token),this.A=t.token,new Hs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pu(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Ra{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=pu(40);for(let g=0;g<l.length;++g)o.length<20&&l[g]<t&&(o+=e.charAt(l[g]%e.length))}return o}}function tr(i,e){return i<e?-1:i>e?1:0}function $s(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function Zl(i){return i+"\0"}class ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ii(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tr(this.nanoseconds,e.nanoseconds):tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new ii(0,0))}static max(){return new wn(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ra{constructor(e,t,o){void 0===t?t=0:t>e.length&&fn(),void 0===o?o=e.length-t:o>e.length-t&&fn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===ra.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const g=e.get(l),C=t.get(l);if(g<C)return-1;if(g>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _r extends ra{construct(e,t,o){return new _r(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Rt(at.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new _r(t)}static emptyPath(){return new _r([])}}const os=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends ra{construct(e,t,o){return new Sr(e,t,o)}static isValidIdentifier(e){return os.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const g=()=>{if(0===o.length)throw new Rt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let C=!1;for(;l<e.length;){const N=e[l];if("\\"===N){if(l+1===e.length)throw new Rt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[l+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new Rt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=K,l+=2}else"`"===N?(C=!C,l++):"."!==N||C?(o+=N,l++):(g(),l++)}if(g(),C)throw new Rt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class qt{constructor(e){this.path=e}static fromPath(e){return new qt(_r.fromString(e))}static fromName(e){return new qt(_r.fromString(e).popFirst(5))}static empty(){return new qt(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_r.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _r.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new _r(e.slice()))}}class jo{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function ia(i){return i.fields.find(e=>2===e.kind)}function Ao(i){return i.fields.filter(e=>2!==e.kind)}jo.UNKNOWN_ID=-1;class xa{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ho{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ho(0,$i.min())}}function ul(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new $i(wn.min(),qt.empty(),-1)}static max(){return new $i(wn.max(),qt.empty(),-1)}}function ga(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=qt.comparator(i.documentKey,e.documentKey),0!==t?t:tr(i.largestBatchId,e.largestBatchId))}const mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Na{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Js(i){return ma.apply(this,arguments)}function ma(){return ma=(0,f.Z)(function*(i){if(i.code!==at.FAILED_PRECONDITION||i.message!==mu)throw i;Lt("LocalStore","Unexpectedly lost primary lease")}),ma.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((o,l)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(o,l)},this.catchCallback=g=>{this.wrapFailure(t,g).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,o)=>{t(e)})}static reject(e){return new ct((t,o)=>{o(e)})}static waitFor(e){return new ct((t,o)=>{let l=0,g=0,C=!1;e.forEach(N=>{++l,N.next(()=>{++g,C&&g===l&&t()},K=>o(K))}),C=!0,g===l&&t()})}static or(e){let t=ct.resolve(!1);for(const o of e)t=t.next(l=>l?ct.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,g)=>{o.push(t.call(this,l,g))}),this.waitFor(o)}static mapArray(e,t){return new ct((o,l)=>{const g=e.length,C=new Array(g);let N=0;for(let K=0;K<g;K++){const te=K;t(e[te]).next(ge=>{C[te]=ge,++N,N===g&&o(C)},ge=>l(ge))}})}static doWhile(e,t){return new ct((o,l)=>{const g=()=>{!0===e()?t().next(()=>{g()},l):o()};g()})}}class Eo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ci,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Za(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const l=di(o.target.error);this.P.reject(new Za(e,l))}}static open(e,t,o,l){try{return new Eo(t,e.transaction(l,o))}catch(g){throw new Za(t,g)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Do(t)}}class fs{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===fs.D((0,Q.z$)())&&Zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lt("SimpleDb","Removing database:",e),Ja(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Q.hl)())return!1;if(fs.N())return!0;const e=(0,Q.z$)(),t=fs.D(e),o=0<t&&t<10,l=fs.k(e),g=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||g)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,f.Z)(function*(){return t.db||(Lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=C=>{o(C.target.result)},g.onblocked=()=>{l(new Za(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=C=>{const N=C.target.error;l("VersionError"===N.name?new Rt(at.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Rt(at.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Za(e,N))},g.onupgradeneeded=C=>{Lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.S.$(C.target.result,g.transaction,C.oldVersion,t.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var g=this;return(0,f.Z)(function*(){const C="readonly"===t;let N=0;for(;;){++N;try{g.db=yield g.F(e);const K=Eo.open(g.db,e,C?"readonly":"readwrite",o),te=l(K).next(ge=>(K.V(),ge)).catch(ge=>(K.abort(ge),ct.reject(ge))).toPromise();return te.catch(()=>{}),yield K.v,te}catch(K){const te=K,ge="FirebaseError"!==te.name&&N<3;if(Lt("SimpleDb","Transaction failed with error:",te.message,"Retrying:",ge),g.close(),!ge)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class La{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ja(this.q.delete())}}class Za extends Rt{constructor(e,t){super(at.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mo(i){return"IndexedDbTransactionError"===i.name}class Do{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Lt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ja(o)}add(e){return Lt("SimpleDb","ADD",this.store.name,e,e),Ja(this.store.add(e))}get(e){return Ja(this.store.get(e)).next(t=>(void 0===t&&(t=null),Lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Lt("SimpleDb","DELETE",this.store.name,e),Ja(this.store.delete(e))}count(){return Lt("SimpleDb","COUNT",this.store.name),Ja(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),g=[];return this.H(l,(C,N)=>{g.push(N)}).next(()=>g)}{const l=this.store.getAll(o.range);return new ct((g,C)=>{l.onerror=N=>{C(N.target.error)},l.onsuccess=N=>{g(N.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ct((l,g)=>{o.onerror=C=>{g(C.target.error)},o.onsuccess=C=>{l(C.target.result)}})}Y(e,t){Lt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const l=this.cursor(o);return this.H(l,(g,C,N)=>N.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.H(l,t)}tt(e){const t=this.cursor({});return new ct((o,l)=>{t.onerror=g=>{const C=di(g.target.error);l(C)},t.onsuccess=g=>{const C=g.target.result;C?e(C.primaryKey,C.value).next(N=>{N?C.continue():o()}):o()}})}H(e,t){const o=[];return new ct((l,g)=>{e.onerror=C=>{g(C.target.error)},e.onsuccess=C=>{const N=C.target.result;if(!N)return void l();const K=new La(N),te=t(N.primaryKey,N.value,K);if(te instanceof ct){const ge=te.catch(xe=>(K.done(),ct.reject(xe)));o.push(ge)}K.isDone?l():null===K.G?N.continue():N.continue(K.G)}}).next(()=>ct.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ja(i){return new ct((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=di(o.target.error);t(l)}})}let yu=!1;function di(i){const e=fs.D((0,Q.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yu||(yu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Xa{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{Lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Mo(o)?Lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Js(o)}yield t.nt(6e4)}))}}class Mu{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let l=t,g=!0;return ct.doWhile(()=>!0===g&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!o.has(C))return Lt("IndexBackiller",`Processing collection: ${C}`),this.rt(e,C,l).next(N=>{l-=N,o.add(C)});g=!1})).next(()=>t-l)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(g=>{const C=g.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.ot(l,g)).next(N=>(Lt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>C.size)}))}ot(e,t){let o=e;return t.changes.forEach((l,g)=>{const C=ul(g);ga(C,o)>0&&(o=C)}),new $i(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ho=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>o.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Ou{constructor(e,t,o,l,g,C,N,K){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=g,this.forceLongPolling=C,this.autoDetectLongPolling=N,this.useFetchStreams=K}}class Fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}function Ji(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function $o(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function el(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Go(i){return null==i}function ka(i){return 0===i&&1/i==-1/0}class Gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let g=0;g<o.length;++g)l+=String.fromCharCode(o[g]);return l}(e);return new Gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const Yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(i){if(an(!!i),"string"==typeof i){let e=0;const t=Yc.exec(i);if(an(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:O(i.seconds),nanos:O(i.nanos)}}function O(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function T(i){return"string"==typeof i?Gi.fromBase64String(i):Gi.fromUint8Array(i)}function F(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $(i){const e=i.mapValue.fields.__previous_value__;return F(e)?$(e):e}function ie(i){const e=M(i.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}const _e={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Te={nullValue:"NULL_VALUE"};function Je(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?F(i)?4:Xl(i)?9007199254740991:10:fn()}function Ht(i,e){if(i===e)return!0;const t=Je(i);if(t!==Je(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ie(i).isEqual(ie(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const g=M(o.timestampValue),C=M(l.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,T(i.bytesValue).isEqual(T(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return O(o.geoPointValue.latitude)===O(l.geoPointValue.latitude)&&O(o.geoPointValue.longitude)===O(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return O(o.integerValue)===O(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const g=O(o.doubleValue),C=O(l.doubleValue);return g===C?ka(g)===ka(C):isNaN(g)&&isNaN(C)}return!1}(i,e);case 9:return $s(i.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:return function(o,l){const g=o.mapValue.fields||{},C=l.mapValue.fields||{};if(Ji(g)!==Ji(C))return!1;for(const N in g)if(g.hasOwnProperty(N)&&(void 0===C[N]||!Ht(g[N],C[N])))return!1;return!0}(i,e);default:return fn()}var l}function gn(i,e){return void 0!==(i.values||[]).find(t=>Ht(t,e))}function zt(i,e){if(i===e)return 0;const t=Je(i),o=Je(e);if(t!==o)return tr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return tr(i.booleanValue,e.booleanValue);case 2:return function(l,g){const C=O(l.integerValue||l.doubleValue),N=O(g.integerValue||g.doubleValue);return C<N?-1:C>N?1:C===N?0:isNaN(C)?isNaN(N)?0:-1:1}(i,e);case 3:return hn(i.timestampValue,e.timestampValue);case 4:return hn(ie(i),ie(e));case 5:return tr(i.stringValue,e.stringValue);case 6:return function(l,g){const C=T(l),N=T(g);return C.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(l,g){const C=l.split("/"),N=g.split("/");for(let K=0;K<C.length&&K<N.length;K++){const te=tr(C[K],N[K]);if(0!==te)return te}return tr(C.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,g){const C=tr(O(l.latitude),O(g.latitude));return 0!==C?C:tr(O(l.longitude),O(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,g){const C=l.values||[],N=g.values||[];for(let K=0;K<C.length&&K<N.length;++K){const te=zt(C[K],N[K]);if(te)return te}return tr(C.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,g){if(l===_e.mapValue&&g===_e.mapValue)return 0;if(l===_e.mapValue)return 1;if(g===_e.mapValue)return-1;const C=l.fields||{},N=Object.keys(C),K=g.fields||{},te=Object.keys(K);N.sort(),te.sort();for(let ge=0;ge<N.length&&ge<te.length;++ge){const xe=tr(N[ge],te[ge]);if(0!==xe)return xe;const lt=zt(C[N[ge]],K[te[ge]]);if(0!==lt)return lt}return tr(N.length,te.length)}(i.mapValue,e.mapValue);default:throw fn()}}function hn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return tr(i,e);const t=M(i),o=M(e),l=tr(t.seconds,o.seconds);return 0!==l?l:tr(t.nanos,o.nanos)}function pr(i){return jr(i)}function jr(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=M(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?T(i.bytesValue).toBase64():"referenceValue"in i?qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",g=!0;for(const C of o.values||[])g?g=!1:l+=",",l+=jr(C);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let g="{",C=!0;for(const N of l)C?C=!1:g+=",",g+=`${N}:${jr(o.fields[N])}`;return g+"}"}(i.mapValue):fn();var e}function ps(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gs(i){return!!i&&"integerValue"in i}function Co(i){return!!i&&"arrayValue"in i}function Is(i){return!!i&&"nullValue"in i}function Ua(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ws(i){return!!i&&"mapValue"in i}function cl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $o(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=cl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Xl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function eu(i){return"nullValue"in i?Te:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ps(Fa.empty(),qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:fn()}function dl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ps(Fa.empty(),qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?_e:fn()}function mc(i,e){const t=zt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function tl(i,e){const t=zt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ms{constructor(e,t){this.position=e,this.inclusive=t}}function Il(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const g=e[l],C=i.position[l];if(o=g.field.isKeyField()?qt.comparator(qt.fromName(C.referenceValue),t.key):zt(C,t.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return o}function nl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ht(i.position[t],e.position[t]))return!1;return!0}class Pu{}class Or extends Pu{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new zu(e,t,o):"array-contains"===t?new ru(e,o):"in"===t?new Va(e,o):"not-in"===t?new pl(e,o):"array-contains-any"===t?new Ru(e,o):new Or(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Yu(e,o):new tu(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zt(t,this.value)):null!==t&&Je(this.value)===Je(t)&&this.matchesComparison(zt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zr extends Pu{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Zr(e,t)}matches(e){return ya(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ya(i){return"and"===i.op}function Wo(i){return"or"===i.op}function kl(i){return as(i)&&ya(i)}function as(i){for(const e of i.filters)if(e instanceof Zr)return!1;return!0}function hl(i){if(i instanceof Or)return i.field.canonicalString()+i.op.toString()+pr(i.value);if(kl(i))return i.filters.map(e=>hl(e)).join(",");{const e=i.filters.map(t=>hl(t)).join(",");return`${i.op}(${e})`}}function fl(i,e){return i instanceof Or?(t=i,(o=e)instanceof Or&&t.op===o.op&&t.field.isEqual(o.field)&&Ht(t.value,o.value)):i instanceof Zr?function(t,o){return o instanceof Zr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,g,C)=>l&&fl(g,o.filters[C]),!0)}(i,e):void fn();var t,o}function sa(i,e){const t=i.filters.concat(e);return Zr.create(t,i.op)}function wl(i){return i instanceof Or?`${(e=i).field.canonicalString()} ${e.op} ${pr(e.value)}`:i instanceof Zr?function(e){return e.op.toString()+" {"+e.getFilters().map(wl).join(" ,")+"}"}(i):"Filter";var e}class zu extends Or{constructor(e,t,o){super(e,t,o),this.key=qt.fromName(o.referenceValue)}matches(e){const t=qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yu extends Or{constructor(e,t){super(e,"in",t),this.keys=nu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tu extends Or{constructor(e,t){super(e,"not-in",t),this.keys=nu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>qt.fromName(o.referenceValue))}class ru extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Co(t)&&gn(t.arrayValue,this.value)}}class Va extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gn(this.value.arrayValue,t)}}class pl extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(gn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gn(this.value.arrayValue,t)}}class Ru extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Co(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>gn(this.value.arrayValue,o))}}class rl{constructor(e,t="asc"){this.field=e,this.dir=t}}function _u(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ii{constructor(e,t){this.comparator=e,this.root=t||Xs.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}}class _a{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?o(e.key,t):1,t&&l&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xs{constructor(e,t,o,l,g){this.key=e,this.value=t,this.color=null!=o?o:Xs.RED,this.left=null!=l?l:Xs.EMPTY,this.right=null!=g?g:Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,g){return new Xs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const g=o(e,l.key);return l=g<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===g?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Xs.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Xs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zr{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ko(this.data.getIterator())}getIteratorFrom(e){return new Ko(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=o.getNext().key;if(0!==this.comparator(l,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zr(this.comparator);return t.data=e,t}}class Ko{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ws(i){return i.hasNext()?i.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new zr(Sr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ws(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(t)}setAll(e){let t=Sr.emptyPath(),o={},l=[];e.forEach((C,N)=>{if(!t.isImmediateParentOf(N)){const K=this.getFieldsMap(t);this.applyChanges(K,o,l),o={},l=[],t=N.popLast()}C?o[N.lastSegment()]=cl(C):l.push(N.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,o,l)}delete(e){const t=this.field(e.popLast());Ws(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Ws(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){$o(t,(l,g)=>e[l]=g);for(const l of o)delete e[l]}clone(){return new eo(cl(this.value))}}function xu(i){const e=[];return $o(i.fields,(t,o)=>{const l=new Sr([t]);if(Ws(o)){const g=xu(o.mapValue).fields;if(0===g.length)e.push(l);else for(const C of g)e.push(l.child(C))}else e.push(l)}),new Ls(e)}class Vi{constructor(e,t,o,l,g,C,N){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=g,this.data=C,this.documentState=N}static newInvalidDocument(e){return new Vi(e,0,wn.min(),wn.min(),wn.min(),eo.empty(),0)}static newFoundDocument(e,t,o,l){return new Vi(e,1,t,wn.min(),o,l,0)}static newNoDocument(e,t){return new Vi(e,2,t,wn.min(),wn.min(),eo.empty(),0)}static newUnknownDocument(e,t){return new Vi(e,3,t,wn.min(),wn.min(),eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ul{constructor(e,t=null,o=[],l=[],g=null,C=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=g,this.startAt=C,this.endAt=N,this.ft=null}}function Vl(i,e=null,t=[],o=[],l=null,g=null,C=null){return new Ul(i,e,t,o,l,g,C)}function Tl(i){const e=Jt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>hl(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Go(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>pr(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>pr(o)).join(",")),e.ft=t}return e.ft}function Oo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!_u(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!fl(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!nl(i.startAt,e.startAt)&&nl(i.endAt,e.endAt)}function Ba(i){return qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Bl(i,e){return i.filters.filter(t=>t instanceof Or&&t.field.isEqual(e))}function Sl(i,e,t){let o=Te,l=!0;for(const g of Bl(i,e)){let C=Te,N=!0;switch(g.op){case"<":case"<=":C=eu(g.value);break;case"==":case"in":case">=":C=g.value;break;case">":C=g.value,N=!1;break;case"!=":case"not-in":C=Te}mc({value:o,inclusive:l},{value:C,inclusive:N})<0&&(o=C,l=N)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const C=t.position[g];mc({value:o,inclusive:l},{value:C,inclusive:t.inclusive})<0&&(o=C,l=t.inclusive);break}return{value:o,inclusive:l}}function vu(i,e,t){let o=_e,l=!0;for(const g of Bl(i,e)){let C=_e,N=!0;switch(g.op){case">=":case">":C=dl(g.value),N=!1;break;case"==":case"in":case"<=":C=g.value;break;case"<":C=g.value,N=!1;break;case"!=":case"not-in":C=_e}tl({value:o,inclusive:l},{value:C,inclusive:N})>0&&(o=C,l=N)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const C=t.position[g];tl({value:o,inclusive:l},{value:C,inclusive:t.inclusive})>0&&(o=C,l=t.inclusive);break}return{value:o,inclusive:l}}class gs{constructor(e,t=null,o=[],l=[],g=null,C="F",N=null,K=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=g,this.limitType=C,this.startAt=N,this.endAt=K,this.dt=null,this._t=null}}function jl(i){return new gs(i)}function gl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Nu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ml(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Hl(i){return null!==i.collectionGroup}function va(i){const e=Jt(i);if(null===e.dt){e.dt=[];const t=ml(e),o=Nu(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new rl(t)),e.dt.push(new rl(Sr.keyField(),"asc"));else{let l=!1;for(const g of e.explicitOrderBy)e.dt.push(g),g.field.isKeyField()&&(l=!0);if(!l){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new rl(Sr.keyField(),g))}}}return e.dt}function Xi(i){const e=Jt(i);if(!e._t)if("F"===e.limitType)e._t=Vl(e.path,e.collectionGroup,va(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of va(e))t.push(new rl(g.field,"desc"===g.dir?"asc":"desc"));const o=e.endAt?new Ms(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ms(e.startAt.position,e.startAt.inclusive):null;e._t=Vl(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function bl(i,e){e.getFirstInequalityField(),ml(i);const t=i.filters.concat([e]);return new gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function iu(i,e,t){return new gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Du(i,e){return Oo(Xi(i),Xi(e))&&i.limitType===e.limitType}function Al(i){return`${Tl(Xi(i))}|lt:${i.limitType}`}function yl(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>wl(o)).join(", ")}]`),Go(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>pr(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>pr(o)).join(",")),`Target(${t})`}(Xi(i))}; limitType=${i.limitType})`}function _l(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):qt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of va(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,g,C){const N=Il(l,g,C);return l.inclusive?N<=0:N<0}(t.startAt,va(t),o)||t.endAt&&!function(l,g,C){const N=Il(l,g,C);return l.inclusive?N>=0:N>0}(t.endAt,va(t),o)));var t,o}function Lu(i){return(e,t)=>{let o=!1;for(const l of va(i)){const g=Ml(l,e,t);if(0!==g)return g;o=o||l.field.isKeyField()}return 0}}function Ml(i,e,t){const o=i.field.isKeyField()?qt.comparator(e.key,t.key):function(l,g,C){const N=g.data.field(l),K=C.data.field(l);return null!==N&&null!==K?zt(N,K):fn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return fn()}}function Qu(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ka(e)?"-0":e}}function Fu(i){return{integerValue:""+i}}function ku(i,e){return function xi(i){return"number"==typeof i&&Number.isInteger(i)&&!ka(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Fu(e):Qu(i,e)}class Cu{constructor(){this._=void 0}}function yc(i,e,t){return i instanceof Ol?function(o,l){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(g.fields.__previous_value__=l),{mapValue:g}}(t,e):i instanceof aa?Ea(i,e):i instanceof Pl?Iu(i,e):function(o,l){const g=vl(o,l),C=wu(g)+wu(o.gt);return Gs(g)&&Gs(o.gt)?Fu(C):Qu(o.yt,C)}(i,e)}function oa(i,e,t){return i instanceof aa?Ea(i,e):i instanceof Pl?Iu(i,e):t}function vl(i,e){return i instanceof El?Gs(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Ol extends Cu{}class aa extends Cu{constructor(e){super(),this.elements=e}}function Ea(i,e){const t=$l(e);for(const o of i.elements)t.some(l=>Ht(l,o))||t.push(o);return{arrayValue:{values:t}}}class Pl extends Cu{constructor(e){super(),this.elements=e}}function Iu(i,e){let t=$l(e);for(const o of i.elements)t=t.filter(l=>!Ht(l,o));return{arrayValue:{values:t}}}class El extends Cu{constructor(e,t){super(),this.yt=e,this.gt=t}}function wu(i){return O(i.integerValue||i.doubleValue)}function $l(i){return Co(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Gl{constructor(e,t){this.field=e,this.transform=t}}class E{constructor(e,t){this.version=e,this.transformResults=t}}class y{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new y}static exists(e){return new y(void 0,e)}static updateTime(e){return new y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function R(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class W{}function ue(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Nn(i.key,y.none()):new Bt(i.key,i.data,y.none());{const t=i.data,o=eo.empty();let l=new zr(Sr.comparator);for(let g of e.fields)if(!l.has(g)){let C=t.field(g);null===C&&g.length>1&&(g=g.popLast(),C=t.field(g)),null===C?o.delete(g):o.set(g,C),l=l.add(g)}return new Xt(i.key,o,new Ls(l.toArray()),y.none())}}function ve(i,e,t){i instanceof Bt?function(o,l,g){const C=o.value.clone(),N=Bn(o.fieldTransforms,l,g.transformResults);C.setAll(N),l.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(i,e,t):i instanceof Xt?function(o,l,g){if(!R(o.precondition,l))return void l.convertToUnknownDocument(g.version);const C=Bn(o.fieldTransforms,l,g.transformResults),N=l.data;N.setAll(An(o)),N.setAll(C),l.convertToFoundDocument(g.version,N).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function be(i,e,t,o){return i instanceof Bt?function(l,g,C,N){if(!R(l.precondition,g))return C;const K=l.value.clone(),te=vn(l.fieldTransforms,N,g);return K.setAll(te),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null}(i,e,t,o):i instanceof Xt?function(l,g,C,N){if(!R(l.precondition,g))return C;const K=vn(l.fieldTransforms,N,g),te=g.data;return te.setAll(An(l)),te.setAll(K),g.convertToFoundDocument(g.version,te).setHasLocalMutations(),null===C?null:C.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ge=>ge.field))}(i,e,t,o):(C=t,R(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):C);var g,C}function Xe(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),g=vl(o.transform,l||null);null!=g&&(null===t&&(t=eo.empty()),t.set(o.field,g))}return t||null}function _t(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&$s(t,o,(l,g)=>function I(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof aa&&o instanceof aa||t instanceof Pl&&o instanceof Pl?$s(t.elements,o.elements,Ht):t instanceof El&&o instanceof El?Ht(t.gt,o.gt):t instanceof Ol&&o instanceof Ol);var t,o}(l,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Bt extends W{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xt extends W{constructor(e,t,o,l,g=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function An(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Bn(i,e,t){const o=new Map;an(i.length===t.length);for(let l=0;l<t.length;l++){const g=i[l],C=g.transform,N=e.data.field(g.field);o.set(g.field,oa(C,N,t[l]))}return o}function vn(i,e,t){const o=new Map;for(const l of i){const g=l.transform,C=t.data.field(l.field);o.set(l.field,yc(g,C,e))}return o}class Nn extends W{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sr extends W{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hi{constructor(e){this.count=e}}var vr,Zn;function fi(i){switch(i){default:return fn();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}function to(i){if(void 0===i)return Zi("GRPC error has no .code"),at.UNKNOWN;switch(i){case vr.OK:return at.OK;case vr.CANCELLED:return at.CANCELLED;case vr.UNKNOWN:return at.UNKNOWN;case vr.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case vr.INTERNAL:return at.INTERNAL;case vr.UNAVAILABLE:return at.UNAVAILABLE;case vr.UNAUTHENTICATED:return at.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case vr.NOT_FOUND:return at.NOT_FOUND;case vr.ALREADY_EXISTS:return at.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return at.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case vr.ABORTED:return at.ABORTED;case vr.OUT_OF_RANGE:return at.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return at.UNIMPLEMENTED;case vr.DATA_LOSS:return at.DATA_LOSS;default:return fn()}}(Zn=vr||(vr={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,g]of o)if(this.equalsFn(l,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let g=0;g<l.length;g++)if(this.equalsFn(l[g][0],e))return void(l[g]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(t,o)=>{for(const[l,g]of o)e(l,g)})}isEmpty(){return el(this.inner)}size(){return this.innerSize}}const Io=new Ii(qt.comparator);function si(){return Io}const wi=new Ii(qt.comparator);function Fs(...i){let e=wi;for(const t of i)e=e.insert(t.key,t);return e}function Wl(i){let e=wi;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ks(){return ja()}function Rl(){return ja()}function ja(){return new no(i=>i.toString(),(i,e)=>i.isEqual(e))}const _c=new Ii(qt.comparator),Tn=new zr(qt.comparator);function Vt(...i){let e=Tn;for(const t of i)e=e.add(t);return e}const Kn=new zr(tr);function gr(){return Kn}class Bi{constructor(e,t,o,l,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Bi(wn.min(),l,gr(),si(),Vt())}}class ro{constructor(e,t,o,l,g){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new ro(o,t,Vt(),Vt(),Vt())}}class zs{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class Ha{constructor(e,t){this.targetId=e,this.Et=t}}class es{constructor(e,t,o=Gi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Tu{constructor(){this.At=0,this.Rt=_(),this.bt=Gi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Vt(),t=Vt(),o=Vt();return this.Rt.forEach((l,g)=>{switch(g){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:fn()}}),new ro(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=_()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class b{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=si(),this.qt=p(),this.Ut=new zr(tr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:fn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,o=e.Et.count,l=this.Yt(t);if(l){const g=l.target;if(Ba(g))if(0===o){const C=new qt(g.path);this.Qt(t,C,Vi.newNoDocument(C,wn.min()))}else an(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((g,C)=>{const N=this.Yt(C);if(N){if(g.current&&Ba(N.target)){const K=new qt(N.target.path);null!==this.Lt.get(K)||this.te(C,K)||this.Qt(C,K,Vi.newNoDocument(K,e))}g.St&&(t.set(C,g.Ct()),g.xt())}});let o=Vt();this.qt.forEach((g,C)=>{let N=!0;C.forEachWhile(K=>{const te=this.Yt(K);return!te||2===te.purpose||(N=!1,!1)}),N&&(o=o.add(g))}),this.Lt.forEach((g,C)=>C.setReadTime(e));const l=new Bi(e,t,this.Ut,this.Lt,o);return this.Lt=si(),this.qt=p(),this.Ut=new zr(tr),l}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Tu,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new zr(tr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Lt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Tu),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function p(){return new Ii(qt.comparator)}function _(){return new Ii(qt.comparator)}const A={asc:"ASCENDING",desc:"DESCENDING"},X={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fe={and:"AND",or:"OR"};class Ye{constructor(e,t){this.databaseId=e,this.wt=t}}function It(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pn(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Rn(i,e){return It(i,e.toTimestamp())}function Ln(i){return an(!!i),wn.fromTimestamp(function(e){const t=M(e);return new ii(t.seconds,t.nanos)}(i))}function ji(i,e){return(t=i,new _r(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Da(i){const e=_r.fromString(i);return an(Pf(e)),e}function $a(i,e){return ji(i.databaseId,e.path)}function la(i,e){const t=Da(e);if(t.get(1)!==i.databaseId.projectId)throw new Rt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Rt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new qt(qu(t))}function su(i,e){return ji(i.databaseId,e)}function xl(i){const e=Da(i);return 4===e.length?_r.emptyPath():qu(e)}function ou(i){return new _r(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qu(i){return an(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Zu(i,e,t){return{name:$a(i,e),fields:t.value.mapValue.fields}}function Uu(i,e){let t;if(e instanceof Bt)t={update:Zu(i,e.key,e.value)};else if(e instanceof Nn)t={delete:$a(i,e.key)};else if(e instanceof Xt)t={update:Zu(i,e.key,e.data),updateMask:wc(e.fieldMask)};else{if(!(e instanceof sr))return fn();t={verify:$a(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,g){const C=g.transform;if(C instanceof Ol)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof aa)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Pl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof El)return{fieldPath:g.field.canonicalString(),increment:C.gt};throw fn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Rn(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:fn()),t;var l}function Ec(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?y.updateTime(Ln(l.updateTime)):void 0!==l.exists?y.exists(l.exists):y.none():y.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(g,C){let N=null;"setToServerValue"in C?(an("REQUEST_TIME"===C.setToServerValue),N=new Ol):"appendMissingElements"in C?N=new aa(C.appendMissingElements.values||[]):"removeAllFromArray"in C?N=new Pl(C.removeAllFromArray.values||[]):"increment"in C?N=new El(g,C.increment):fn();const K=Sr.fromServerFormat(C.fieldPath);return new Gl(K,N)}(i,l)):[];var l;if(e.update){const l=la(i,e.update.name),g=new eo({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Ls((e.updateMask.fieldPaths||[]).map(te=>Sr.fromServerFormat(te)));return new Xt(l,g,C,t,o)}return new Bt(l,g,t,o)}if(e.delete){const l=la(i,e.delete);return new Nn(l,t)}if(e.verify){const l=la(i,e.verify);return new sr(l,t)}return fn()}function Dc(i,e){return{documents:[su(i,e.path)]}}function Cc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=su(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=su(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(K){if(0!==K.length)return Bu(Zr.create(K,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const g=function(K){if(0!==K.length)return K.map(te=>{return{field:lu((ge=te).field),direction:fh(ge.dir)};var ge})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const C=(te=e.limit,i.wt||Go(te)?te:{value:te});var te,N,K;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),t}function ch(i){let e=xl(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){an(1===o);const ge=t.from[0];ge.allDescendants?l=ge.collectionId:e=e.child(ge.collectionId)}let g=[];t.where&&(g=function(ge){const xe=hh(ge);return xe instanceof Zr&&kl(xe)?xe.getFilters():[xe]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(ge=>{return new rl(Ic((xe=ge).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xe.direction));var xe}));let N=null;t.limit&&(N=function(ge){let xe;return xe="object"==typeof ge?ge.value:ge,Go(xe)?null:xe}(t.limit));let K=null;var ge;t.startAt&&(K=new Ms((ge=t.startAt).values||[],!!ge.before));let te=null;return t.endAt&&(te=function(ge){return new Ms(ge.values||[],!ge.before)}(t.endAt)),function Eu(i,e,t,o,l,g,C,N){return new gs(i,e,t,o,l,g,C,N)}(e,l,C,g,N,"F",K,te)}function hh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ic(e.unaryFilter.field);return Or.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Ic(e.unaryFilter.field);return Or.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ic(e.unaryFilter.field);return Or.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Ic(e.unaryFilter.field);return Or.create(g,"!=",{nullValue:"NULL_VALUE"});default:return fn()}}(i):void 0!==i.fieldFilter?Or.create(Ic((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Zr.create(e.compositeFilter.filters.map(t=>hh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return fn()}}(e.compositeFilter.op))}(i):fn();var e}function fh(i){return A[i]}function Tg(i){return X[i]}function ph(i){return fe[i]}function lu(i){return{fieldPath:i.canonicalString()}}function Ic(i){return Sr.fromServerFormat(i.fieldPath)}function Bu(i){return i instanceof Or?function(e){if("=="===e.op){if(Ua(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NAN"}};if(Is(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ua(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NOT_NAN"}};if(Is(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(e.field),op:Tg(e.op),value:e.value}}}(i):i instanceof Zr?function(e){const t=e.getFilters().map(o=>Bu(o));return 1===t.length?t[0]:{compositeFilter:{op:ph(e.op),filters:t}}}(i):fn()}function wc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function il(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gh(e)),e=Rf(i.get(t),e);return gh(e)}function Rf(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const g=i.charAt(l);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function gh(i){return i+"\x01\x01"}function Kl(i){const e=i.length;if(an(e>=2),2===e)return an("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),_r.emptyPath();const t=e-2,o=[];let l="";for(let g=0;g<e;){const C=i.indexOf("\x01",g);switch((C<0||C>t)&&fn(),i.charAt(C+1)){case"\x01":const N=i.substring(g,C);let K;0===l.length?K=N:(l+=N,K=l,l=""),o.push(K);break;case"\x10":l+=i.substring(g,C),l+="\0";break;case"\x11":l+=i.substring(g,C+1);break;default:fn()}g=C+2}return new _r(o)}const mh=["userId","batchId"];function Tc(i,e){return[i,il(e)]}function Id(i,e,t){return[i,il(e),t]}const yh={},Sg=["prefixPath","collectionGroup","readTime","documentId"],bg=["prefixPath","collectionGroup","documentId"],h=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],c=["targetId","path"],v=["path","targetId"],P=["collectionId","parent"],j=["indexId","uid"],Y=["uid","sequenceNumber"],pe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Me=["indexId","uid","orderedDocumentKey"],Fe=["userId","collectionPath","documentId"],vt=["userId","collectionPath","largestBatchId"],Ct=["userId","collectionGroup","largestBatchId"],bt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...bt,"documentOverlays"],Yn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pi=Yn,Yo=[...pi,"indexConfiguration","indexState","indexEntries"];class zl extends Na{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Ts(i,e){const t=Jt(i);return fs.M(t.se,e)}class Sc{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const g=this.mutations[l];g.key.isEqual(e.key)&&ve(g,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=be(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=be(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Rl();return this.mutations.forEach(l=>{const g=e.get(l.key),C=g.overlayedDocument;let N=this.applyToLocalView(C,g.mutatedFields);N=t.has(l.key)?null:N;const K=ue(C,N);null!==K&&o.set(l.key,K),C.isValidDocument()||C.convertToNoDocument(wn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(t,o)=>_t(t,o))&&$s(this.baseMutations,e.baseMutations,(t,o)=>_t(t,o))}}class wd{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){an(e.mutations.length===o.length);let l=_c;const g=e.mutations;for(let C=0;C<g.length;C++)l=l.insert(g[C].key,o[C].version);return new wd(e,t,o,l)}}class xf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ju{constructor(e,t,o,l,g=wn.min(),C=wn.min(),N=Gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=N}withSequenceNumber(e){return new ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ag{constructor(e){this.ie=e}}function Mg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_h(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:$a(l=i.ie,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:It(l,g.version.toTimestamp()),createTime:It(l,g.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Hu(e.version)};else{if(!e.isUnknownDocument())return fn();o.unknownDocument={path:t.path.toArray(),version:Hu(e.version)}}var l,g;return o}function _h(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Hu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bc(i){const e=new ii(i.seconds,i.nanoseconds);return wn.fromTimestamp(e)}function Ac(i,e){const t=(e.baseMutations||[]).map(g=>Ec(i.ie,g));for(let g=0;g<e.mutations.length-1;++g){const C=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(C.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const o=e.mutations.map(g=>Ec(i.ie,g)),l=ii.fromMillis(e.localWriteTimeMs);return new Sc(e.batchId,l,t,o)}function Td(i){const e=bc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?bc(i.lastLimboFreeSnapshotVersion):wn.min();let o;var l;return void 0!==i.query.documents?(an(1===(l=i.query).documents.length),o=Xi(jl(xl(l.documents[0])))):o=Xi(ch(i.query)),new ju(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Gi.fromBase64String(i.resumeToken))}function Nf(i,e){const t=Hu(e.snapshotVersion),o=Hu(e.lastLimboFreeSnapshotVersion);let l;l=Ba(e.target)?Dc(i.ie,e.target):Cc(i.ie,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tl(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Lf(i){const e=ch({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?iu(e,e.limit,"L"):e}function Ff(i,e){return new xf(e.largestBatchId,Ec(i.ie,e.overlayMutation))}function Ga(i,e){const t=e.path.lastSegment();return[i,il(e.path.popLast()),t]}function vh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Hu(o.readTime),documentKey:il(o.documentKey.path),largestBatchId:o.largestBatchId}}class Og{getBundleMetadata(e,t){return Eh(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:bc(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Eh(e).put({bundleId:(o=t).id,createTime:Hu(Ln(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Ca(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Lf(l.bundledQuery),readTime:bc(l.readTime)};var l})}saveNamedQuery(e,t){return Ca(e).put({name:(o=t).name,readTime:Hu(Ln(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Eh(i){return Ts(i,"bundles")}function Ca(i){return Ts(i,"namedQueries")}class Ju{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Ju(e,t.uid||"")}getOverlay(e,t){return qc(e).get(Ga(this.userId,t)).next(o=>o?Ff(this.yt,o):null)}getOverlays(e,t){const o=Ks();return ct.forEach(t,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((g,C)=>{const N=new xf(t,C);l.push(this.oe(e,N))}),ct.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(C=>l.add(il(C.getCollectionPath())));const g=[];return l.forEach(C=>{const N=IDBKeyRange.bound([this.userId,C,o],[this.userId,C,o+1],!1,!0);g.push(qc(e).Y("collectionPathOverlayIndex",N))}),ct.waitFor(g)}getOverlaysForCollection(e,t,o){const l=Ks(),g=il(t),C=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,Number.POSITIVE_INFINITY],!0);return qc(e).W("collectionPathOverlayIndex",C).next(N=>{for(const K of N){const te=Ff(this.yt,K);l.set(te.getKey(),te)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const g=Ks();let C;const N=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qc(e).Z({index:"collectionGroupOverlayIndex",range:N},(K,te,ge)=>{const xe=Ff(this.yt,te);g.size()<l||xe.largestBatchId===C?(g.set(xe.getKey(),xe),C=xe.largestBatchId):ge.done()}).next(()=>g)}oe(e,t){return qc(e).put(function(o,l,g){const[C,N,K]=Ga(l,g.mutation.key);return{userId:l,collectionPath:N,documentId:K,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Uu(o.ie,g.mutation)}}(this.yt,this.userId,t))}}function qc(i){return Ts(i,"documentOverlays")}class Mc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(O(e.integerValue));else if("doubleValue"in e){const o=O(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),ka(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(T(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?Xl(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):fn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const l of Object.keys(o))this.de(l,t),this.ce(o[l],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const l of o)this.ce(l,t)}me(e,t){this.he(t,37),qt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function yy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function kf(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const g=yy(255&t[l]);if(o+=g,8!==g)break}return o}(i);return Math.ceil(e/8)}Mc.Ie=new Mc;class _y{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ee(o.value),o=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.be(o.value),o=t.next();this.Pe()}ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,l,!1),new Uint8Array(g.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Pg{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class vy{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Zc{constructor(){this.$e=new _y,this.Be=new Pg(this.$e),this.Le=new vy(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Oc{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Oc(this.indexId,this.documentKey,this.arrayValue,o)}}function Xu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Uf(i.arrayValue,e.arrayValue),0!==t?t:(t=Uf(i.directionalValue,e.directionalValue),0!==t?t:qt.comparator(i.documentKey,e.documentKey)))}function Uf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Rg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const o=t;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){an(e.collectionGroup===this.collectionId);const t=ia(e);if(void 0!==t&&!this.We(t))return!1;const o=Ao(e);let l=0,g=0;for(;l<o.length&&this.We(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Qe){const C=o[l];if(!this.ze(this.Qe,C)||!this.He(this.Ke[g++],C))return!1;++l}for(;l<o.length;++l){const C=o[l];if(g>=this.Ke.length||!this.He(this.Ke[g++],C))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xg(i){var e,t;if(an(i instanceof Or||i instanceof Zr),i instanceof Or){if(i instanceof Va){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>Or.create(i.field,"==",g)))||[];return Zr.create(l,"or")}return i}const o=i.filters.map(l=>xg(l));return Zr.create(o,i.op)}function Jc(i){if(0===i.getFilters().length)return[];const e=Lg(xg(i));return an(Ng(e)),uu(e)||Vf(e)?[e]:e.getFilters()}function uu(i){return i instanceof Or}function Vf(i){return i instanceof Zr&&kl(i)}function Ng(i){return uu(i)||Vf(i)||function(e){if(e instanceof Zr&&Wo(e)){for(const t of e.getFilters())if(!uu(t)&&!Vf(t))return!1;return!0}return!1}(i)}function Lg(i){if(an(i instanceof Or||i instanceof Zr),i instanceof Or)return i;if(1===i.filters.length)return Lg(i.filters[0]);const e=i.filters.map(o=>Lg(o));let t=Zr.create(e,i.op);return t=jf(t),Ng(t)?t:(an(t instanceof Zr),an(ya(t)),an(t.filters.length>1),t.filters.reduce((o,l)=>Fg(o,l)))}function Fg(i,e){let t;return an(i instanceof Or||i instanceof Zr),an(e instanceof Or||e instanceof Zr),t=i instanceof Or?e instanceof Or?Zr.create([i,e],"and"):Bf(i,e):e instanceof Or?Bf(e,i):function(o,l){if(an(o.filters.length>0&&l.filters.length>0),ya(o)&&ya(l))return sa(o,l.getFilters());const g=Wo(o)?o:l,C=Wo(o)?l:o,N=g.filters.map(K=>Fg(K,C));return Zr.create(N,"or")}(i,e),jf(t)}function Bf(i,e){if(ya(e))return sa(e,i.getFilters());{const t=e.filters.map(o=>Fg(i,o));return Zr.create(t,"or")}}function jf(i){if(an(i instanceof Or||i instanceof Zr),i instanceof Or)return i;const e=i.getFilters();if(1===e.length)return jf(e[0]);if(as(i))return i;const t=e.map(l=>jf(l)),o=[];return t.forEach(l=>{l instanceof Or?o.push(l):l instanceof Zr&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:Zr.create(o,i.op)}class Su{constructor(){this.Je=new Sd}addToCollectionParentIndex(e,t){return this.Je.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve($i.min())}updateCollectionGroup(e,t,o){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class Sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new zr(_r.comparator),g=!l.has(o);return this.index[t]=l.add(o),g}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new zr(_r.comparator)).toArray()}}const Xc=new Uint8Array(0);class Ey{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Sd,this.Xe=new no(o=>Tl(o),(o,l)=>Oo(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const g={collectionId:o,parent:il(l)};return Hf(e).put(g)}return ct.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Zl(t),""],!1,!0);return Hf(e).W(l).next(g=>{for(const C of g){if(C.collectionId!==t)break;o.push(Kl(C.parent))}return o})}addFieldIndex(e,t){const o=ec(e),l={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var C;delete l.indexId;const g=o.add(l);if(t.indexState){const C=Ad(e);return g.next(N=>{C.put(vh(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const o=ec(e),l=Ad(e),g=bd(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=bd(e);let l=!0;const g=new Map;return ct.forEach(this.Ze(t),C=>this.tn(e,C).next(N=>{l&&(l=!!N),g.set(C,N)})).next(()=>{if(l){let C=Vt();const N=[];return ct.forEach(g,(K,te)=>{var ge;Lt("IndexedDbIndexManager",`Using index ${ge=K,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(ns=>`${ns.fieldPath}:${ns.kind}`).join(",")}`} to execute ${Tl(t)}`);const xe=function(ns,Zo){const ms=ia(Zo);if(void 0===ms)return null;for(const Wi of Bl(ns,ms.fieldPath))switch(Wi.op){case"array-contains-any":return Wi.value.arrayValue.values||[];case"array-contains":return[Wi.value]}return null}(te,K),lt=function(ns,Zo){const ms=new Map;for(const Wi of Ao(Zo))for(const Jo of Bl(ns,Wi.fieldPath))switch(Jo.op){case"==":case"in":ms.set(Wi.fieldPath.canonicalString(),Jo.value);break;case"not-in":case"!=":return ms.set(Wi.fieldPath.canonicalString(),Jo.value),Array.from(ms.values())}return null}(te,K),Ot=function(ns,Zo){const ms=[];let Wi=!0;for(const Jo of Ao(Zo)){const Wc=0===Jo.kind?Sl(ns,Jo.fieldPath,ns.startAt):vu(ns,Jo.fieldPath,ns.startAt);ms.push(Wc.value),Wi&&(Wi=Wc.inclusive)}return new Ms(ms,Wi)}(te,K),jt=function(ns,Zo){const ms=[];let Wi=!0;for(const Jo of Ao(Zo)){const Wc=0===Jo.kind?vu(ns,Jo.fieldPath,ns.endAt):Sl(ns,Jo.fieldPath,ns.endAt);ms.push(Wc.value),Wi&&(Wi=Wc.inclusive)}return new Ms(ms,Wi)}(te,K),mn=this.en(K,te,Ot),Qn=this.en(K,te,jt),Ss=this.nn(K,te,lt),Ys=this.sn(K.indexId,xe,mn,Ot.inclusive,Qn,jt.inclusive,Ss);return ct.forEach(Ys,ns=>o.J(ns,t.limit).next(Zo=>{Zo.forEach(ms=>{const Wi=qt.fromSegments(ms.documentKey);C.has(Wi)||(C=C.add(Wi),N.push(Wi))})}))}).next(()=>N)}return ct.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Jc(Zr.create(e.filters,"and")).map(o=>Vl(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,o,l,g,C,N){const K=(null!=t?t.length:1)*Math.max(o.length,g.length),te=K/(null!=t?t.length:1),ge=[];for(let xe=0;xe<K;++xe){const lt=t?this.rn(t[xe/te]):Xc,Ot=this.on(e,lt,o[xe%te],l),jt=this.un(e,lt,g[xe%te],C),mn=N.map(Qn=>this.on(e,lt,Qn,!0));ge.push(...this.createRange(Ot,jt,mn))}return ge}on(e,t,o,l){const g=new Oc(e,qt.empty(),t,o);return l?g:g.Ue()}un(e,t,o,l){const g=new Oc(e,qt.empty(),t,o);return l?g.Ue():g}tn(e,t){const o=new Rg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(g=>{let C=null;for(const N of g)o.je(N)&&(!C||N.fields.length>C.fields.length)&&(C=N);return C})}getIndexType(e,t){let o=2;const l=this.Ze(t);return ct.forEach(l,g=>this.tn(e,g).next(C=>{C?0!==o&&C.fields.length<function(N){let K=new zr(Sr.comparator),te=!1;for(const ge of N.filters)for(const xe of ge.getFlattenedFilters())xe.field.isKeyField()||("array-contains"===xe.op||"array-contains-any"===xe.op?te=!0:K=K.add(xe.field));for(const ge of N.orderBy)ge.field.isKeyField()||(K=K.add(ge.field));return K.size+(te?1:0)}(g)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}cn(e,t){const o=new Zc;for(const l of Ao(e)){const g=t.data.field(l.fieldPath);if(null==g)return null;const C=o.qe(l.kind);Mc.Ie.ue(g,C)}return o.Fe()}rn(e){const t=new Zc;return Mc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const o=new Zc;return Mc.Ie.ue(ps(this.databaseId,t),o.qe(function(l){const g=Ao(l);return 0===g.length?0:g[g.length-1].kind}(e))),o.Fe()}nn(e,t,o){if(null===o)return[];let l=[];l.push(new Zc);let g=0;for(const C of Ao(e)){const N=o[g++];for(const K of l)if(this.hn(t,C.fieldPath)&&Co(N))l=this.ln(l,C,N);else{const te=K.qe(C.kind);Mc.Ie.ue(N,te)}}return this.fn(l)}en(e,t,o){return this.nn(e,t,o.position)}fn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Fe();return t}ln(e,t,o){const l=[...e],g=[];for(const C of o.arrayValue.values||[])for(const N of l){const K=new Zc;K.seed(N.Fe()),Mc.Ie.ue(C,K.qe(t.kind)),g.push(K)}return g}hn(e,t){return!!e.filters.find(o=>o instanceof Or&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ec(e),l=Ad(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(g=>{const C=[];return ct.forEach(g,N=>l.get([N.indexId,this.uid]).next(K=>{C.push(function(te,ge){const xe=ge?new Ho(ge.sequenceNumber,new $i(bc(ge.readTime),new qt(Kl(ge.documentKey)),ge.largestBatchId)):Ho.empty(),lt=te.fields.map(([Ot,jt])=>new xa(Sr.fromServerFormat(Ot),jt));return new jo(te.indexId,te.collectionGroup,lt,xe)}(N,K))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const g=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==g?g:tr(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=ec(e),g=Ad(e);return this.dn(e).next(C=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>ct.forEach(N,K=>g.put(vh(K.indexId,this.user,C,o)))))}updateIndexEntries(e,t){const o=new Map;return ct.forEach(t,(l,g)=>{const C=o.get(l.collectionGroup);return(C?ct.resolve(C):this.getFieldIndexes(e,l.collectionGroup)).next(N=>(o.set(l.collectionGroup,N),ct.forEach(N,K=>this._n(e,l,K).next(te=>{const ge=this.wn(g,K);return te.isEqual(ge)?ct.resolve():this.mn(e,g,K,te,ge)}))))})}gn(e,t,o,l){return bd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(o,t.key),documentKey:t.key.path.toArray()})}yn(e,t,o,l){return bd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(o,t.key),t.key.path.toArray()])}_n(e,t,o){const l=bd(e);let g=new zr(Xu);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,t)])},(C,N)=>{g=g.add(new Oc(o.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>g)}wn(e,t){let o=new zr(Xu);const l=this.cn(t,e);if(null==l)return o;const g=ia(t);if(null!=g){const C=e.data.field(g.fieldPath);if(Co(C))for(const N of C.arrayValue.values||[])o=o.add(new Oc(t.indexId,e.key,this.rn(N),l))}else o=o.add(new Oc(t.indexId,e.key,Xc,l));return o}mn(e,t,o,l,g){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(N,K,te,ge,xe){const lt=N.getIterator(),Ot=K.getIterator();let jt=ws(lt),mn=ws(Ot);for(;jt||mn;){let Qn=!1,Ss=!1;if(jt&&mn){const Ys=te(jt,mn);Ys<0?Ss=!0:Ys>0&&(Qn=!0)}else null!=jt?Ss=!0:Qn=!0;Qn?(ge(mn),mn=ws(Ot)):Ss?(xe(jt),jt=ws(lt)):(jt=ws(lt),mn=ws(Ot))}}(l,g,Xu,N=>{C.push(this.gn(e,t,o,N))},N=>{C.push(this.yn(e,t,o,N))}),ct.waitFor(C)}dn(e){let t=1;return Ad(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,g)=>{g.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((C,N)=>Xu(C,N)).filter((C,N,K)=>!N||0!==Xu(C,K[N-1]));const l=[];l.push(e);for(const C of o){const N=Xu(C,e),K=Xu(C,t);if(0===N)l[0]=e.Ue();else if(N>0&&K<0)l.push(C),l.push(C.Ue());else if(K>0)break}l.push(t);const g=[];for(let C=0;C<l.length;C+=2){if(this.pn(l[C],l[C+1]))return[];g.push(IDBKeyRange.bound([l[C].indexId,this.uid,l[C].arrayValue,l[C].directionalValue,Xc,[]],[l[C+1].indexId,this.uid,l[C+1].arrayValue,l[C+1].directionalValue,Xc,[]]))}return g}pn(e,t){return Xu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kg)}getMinOffset(e,t){return ct.mapArray(this.Ze(t),o=>this.tn(e,o).next(l=>l||fn())).next(kg)}}function Hf(i){return Ts(i,"collectionParents")}function bd(i){return Ts(i,"indexEntries")}function ec(i){return Ts(i,"indexConfiguration")}function Ad(i){return Ts(i,"indexState")}function kg(i){an(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;ga(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new $i(e.readTime,e.documentKey,t)}const Dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Wa(e,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $f(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),g=[],C=IDBKeyRange.only(t.batchId);let N=0;const K=o.Z({range:C},(ge,xe,lt)=>(N++,lt.delete()));g.push(K.next(()=>{an(1===N)}));const te=[];for(const ge of t.mutations){const xe=Id(e,ge.key.path,t.batchId);g.push(l.delete(xe)),te.push(ge.key)}return ct.waitFor(g).next(()=>te)}function Gf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw fn();e=i.noDocument}return JSON.stringify(e).length}Wa.DEFAULT_COLLECTION_PERCENTILE=10,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wa.DEFAULT=new Wa(41943040,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wa.DISABLED=new Wa(-1,0,0);class $u{constructor(e,t,o,l){this.userId=e,this.yt=t,this.indexManager=o,this.referenceDelegate=l,this.In={}}static re(e,t,o,l){an(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new $u(g,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).Z({index:"userMutationsIndex",range:o},(l,g,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const g=ed(e),C=Gu(e);return C.add({}).next(N=>{an("number"==typeof N);const K=new Sc(N,t,o,l),te=function(lt,Ot,jt){const mn=jt.baseMutations.map(Ss=>Uu(lt.ie,Ss)),Qn=jt.mutations.map(Ss=>Uu(lt.ie,Ss));return{userId:Ot,batchId:jt.batchId,localWriteTimeMs:jt.localWriteTime.toMillis(),baseMutations:mn,mutations:Qn}}(this.yt,this.userId,K),ge=[];let xe=new zr((lt,Ot)=>tr(lt.canonicalString(),Ot.canonicalString()));for(const lt of l){const Ot=Id(this.userId,lt.key.path,N);xe=xe.add(lt.key.path.popLast()),ge.push(C.put(te)),ge.push(g.put(Ot,yh))}return xe.forEach(lt=>{ge.push(this.indexManager.addToCollectionParentIndex(e,lt))}),e.addOnCommittedListener(()=>{this.In[N]=K.keys()}),ct.waitFor(ge).next(()=>K)})}lookupMutationBatch(e,t){return Gu(e).get(t).next(o=>o?(an(o.userId===this.userId),Ac(this.yt,o)):null)}Tn(e,t){return this.In[t]?ct.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let g=null;return Gu(e).Z({index:"userMutationsIndex",range:l},(C,N,K)=>{N.userId===this.userId&&(an(N.batchId>=o),g=Ac(this.yt,N)),K.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Gu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,g,C)=>{o=g.batchId,C.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).W("userMutationsIndex",t).next(o=>o.map(l=>Ac(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Tc(this.userId,t.path),l=IDBKeyRange.lowerBound(o),g=[];return ed(e).Z({range:l},(C,N,K)=>{const[te,ge,xe]=C,lt=Kl(ge);if(te===this.userId&&t.path.isEqual(lt))return Gu(e).get(xe).next(Ot=>{if(!Ot)throw fn();an(Ot.userId===this.userId),g.push(Ac(this.yt,Ot))});K.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new zr(tr);const l=[];return t.forEach(g=>{const C=Tc(this.userId,g.path),N=IDBKeyRange.lowerBound(C),K=ed(e).Z({range:N},(te,ge,xe)=>{const[lt,Ot,jt]=te,mn=Kl(Ot);lt===this.userId&&g.path.isEqual(mn)?o=o.add(jt):xe.done()});l.push(K)}),ct.waitFor(l).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,g=Tc(this.userId,o),C=IDBKeyRange.lowerBound(g);let N=new zr(tr);return ed(e).Z({range:C},(K,te,ge)=>{const[xe,lt,Ot]=K,jt=Kl(lt);xe===this.userId&&o.isPrefixOf(jt)?jt.length===l&&(N=N.add(Ot)):ge.done()}).next(()=>this.En(e,N))}En(e,t){const o=[],l=[];return t.forEach(g=>{l.push(Gu(e).get(g).next(C=>{if(null===C)throw fn();an(C.userId===this.userId),o.push(Ac(this.yt,C))}))}),ct.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return $f(e.se,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ct.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return ed(e).Z({range:o},(g,C,N)=>{if(g[0]===this.userId){const K=Kl(g[1]);l.push(K)}else N.done()}).next(()=>{an(0===l.length)})})}containsKey(e,t){return Ch(e,this.userId,t)}Rn(e){return Ih(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ch(i,e,t){const o=Tc(e,t.path),l=o[1],g=IDBKeyRange.lowerBound(o);let C=!1;return ed(i).Z({range:g,X:!0},(N,K,te)=>{const[ge,xe,lt]=N;ge===e&&xe===l&&(C=!0),te.done()}).next(()=>C)}function Gu(i){return Ts(i,"mutations")}function ed(i){return Ts(i,"documentMutations")}function Ih(i){return Ts(i,"mutationQueues")}class Pc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Pc(0)}static vn(){return new Pc(-1)}}class Dy{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Pc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>wn.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>td(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(an(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let l=0;const g=[];return td(e).Z((C,N)=>{const K=Td(N);K.sequenceNumber<=t&&null===o.get(K.targetId)&&(l++,g.push(this.removeTargetData(e,K)))}).next(()=>ct.waitFor(g)).next(()=>l)}forEachTarget(e,t){return td(e).Z((o,l)=>{const g=Td(l);t(g)})}Vn(e){return Ug(e).get("targetGlobalKey").next(t=>(an(null!==t),t))}Sn(e,t){return Ug(e).put("targetGlobalKey",t)}Dn(e,t){return td(e).put(Nf(this.yt,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Tl(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let g=null;return td(e).Z({range:l,index:"queryTargetsIndex"},(C,N,K)=>{const te=Td(N);Oo(t,te.target)&&(g=te,K.done())}).next(()=>g)}addMatchingKeys(e,t,o){const l=[],g=tc(e);return t.forEach(C=>{const N=il(C.path);l.push(g.put({targetId:o,path:N})),l.push(this.referenceDelegate.addReference(e,o,C))}),ct.waitFor(l)}removeMatchingKeys(e,t,o){const l=tc(e);return ct.forEach(t,g=>{const C=il(g.path);return ct.waitFor([l.delete([o,C]),this.referenceDelegate.removeReference(e,o,g)])})}removeMatchingKeysForTargetId(e,t){const o=tc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=tc(e);let g=Vt();return l.Z({range:o,X:!0},(C,N,K)=>{const te=Kl(C[1]),ge=new qt(te);g=g.add(ge)}).next(()=>g)}containsKey(e,t){const o=il(t.path),l=IDBKeyRange.bound([o],[Zl(o)],!1,!0);let g=0;return tc(e).Z({index:"documentTargetsIndex",X:!0,range:l},([C,N],K,te)=>{0!==C&&(g++,te.done())}).next(()=>g>0)}ne(e,t){return td(e).get(t).next(o=>o?Td(o):null)}}function td(i){return Ts(i,"targets")}function Ug(i){return Ts(i,"targetGlobal")}function tc(i){return Ts(i,"targetDocuments")}function Vg([i,e],[t,o]){const l=tr(i,t);return 0===l?tr(e,o):l}class Bg{constructor(e){this.xn=e,this.buffer=new zr(Vg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wf{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Mo(o)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Js(o)}yield t.Fn(3e5)}))}}class jg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(ho.at);const o=new Bg(t);return this.$n.forEachTarget(e,l=>o.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>o.On(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Dh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dh):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let o,l,g,C,N,K,te;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(xe=>(xe>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xe}`),l=this.params.maximumSequenceNumbersToCollect):l=xe,C=Date.now(),this.nthSequenceNumber(e,l))).next(xe=>(o=xe,N=Date.now(),this.removeTargets(e,o,t))).next(xe=>(g=xe,K=Date.now(),this.removeOrphanedDocuments(e,o))).next(xe=>(te=Date.now(),ss()<=H.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ge}ms\n\tDetermined least recently used ${l} in `+(N-C)+`ms\n\tRemoved ${g} targets in `+(K-N)+`ms\n\tRemoved ${xe} documents in `+(te-K)+`ms\nTotal Duration: ${te-ge}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:g,documentsRemoved:xe})))}}class Kf{constructor(e,t){this.db=e,this.garbageCollector=new jg(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Un(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,l)=>t(l))}addReference(e,t,o){return wh(e,o)}removeReference(e,t,o){return wh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return wh(e,t)}Gn(e,t){return function(o,l){let g=!1;return Ih(o).tt(C=>Ch(o,C,l).next(N=>(N&&(g=!0),ct.resolve(!N)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let g=0;return this.Kn(e,(C,N)=>{if(N<=t){const K=this.Gn(e,C).next(te=>{if(!te)return g++,o.getEntry(e,C).next(()=>(o.removeEntry(C,wn.min()),tc(e).delete([0,il(C.path)])))});l.push(K)}}).next(()=>ct.waitFor(l)).next(()=>o.apply(e)).next(()=>g)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return wh(e,t)}Kn(e,t){const o=tc(e);let l,g=ho.at;return o.Z({index:"documentTargetsIndex"},([C,N],{path:K,sequenceNumber:te})=>{0===C?(g!==ho.at&&t(new qt(Kl(l)),g),g=te,l=K):g=ho.at}).next(()=>{g!==ho.at&&t(new qt(Kl(l)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wh(i,e){return tc(i).put((o=i.currentSequenceNumber,{targetId:0,path:il(e.path),sequenceNumber:o}));var o}class Hg{constructor(){this.changes=new no(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ct.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $g{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return nc(e).put(o)}removeEntry(e,t,o){return nc(e).delete(function(l,g){const C=l.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],_h(g),C[C.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Vi.newInvalidDocument(t);return nc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Md(t))},(l,g)=>{o=this.jn(t,g)}).next(()=>o)}Wn(e,t){let o={size:0,document:Vi.newInvalidDocument(t)};return nc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Md(t))},(l,g)=>{o={document:this.jn(t,g),size:Gf(g)}}).next(()=>o)}getEntries(e,t){let o=si();return this.zn(e,t,(l,g)=>{const C=this.jn(l,g);o=o.insert(l,C)}).next(()=>o)}Hn(e,t){let o=si(),l=new Ii(qt.comparator);return this.zn(e,t,(g,C)=>{const N=this.jn(g,C);o=o.insert(g,N),l=l.insert(g,Gf(C))}).next(()=>({documents:o,Jn:l}))}zn(e,t,o){if(t.isEmpty())return ct.resolve();let l=new zr(Od);t.forEach(K=>l=l.add(K));const g=IDBKeyRange.bound(Md(l.first()),Md(l.last())),C=l.getIterator();let N=C.getNext();return nc(e).Z({index:"documentKeyIndex",range:g},(K,te,ge)=>{const xe=qt.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;N&&Od(N,xe)<0;)o(N,null),N=C.getNext();N&&N.isEqual(xe)&&(o(N,te),N=C.hasNext()?C.getNext():null),N?ge.j(Md(N)):ge.done()}).next(()=>{for(;N;)o(N,null),N=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const g=t.path,C=[g.popLast().toArray(),g.lastSegment(),_h(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nc(e).W(IDBKeyRange.bound(C,N,!0)).next(K=>{let te=si();for(const ge of K){const xe=this.jn(qt.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);xe.isFoundDocument()&&(_l(t,xe)||l.has(xe.key))&&(te=te.insert(xe.key,xe))}return te})}getAllFromCollectionGroup(e,t,o,l){let g=si();const C=Cy(t,o),N=Cy(t,$i.max());return nc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,N,!0)},(K,te,ge)=>{const xe=this.jn(qt.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);g=g.insert(xe.key,xe),g.size===l&&ge.done()}).next(()=>g)}newChangeBuffer(e){return new Rc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yf(e).get("remoteDocumentGlobalKey").next(t=>(an(!!t),t))}Qn(e,t){return Yf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function my(i,e){let t;if(e.document)t=function Qc(i,e,t){const o=la(i,e.name),l=Ln(e.updateTime),g=e.createTime?Ln(e.createTime):wn.min(),C=new eo({mapValue:{fields:e.fields}}),N=Vi.newFoundDocument(o,l,g,C);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=qt.fromSegments(e.noDocument.path),l=bc(e.noDocument.readTime);t=Vi.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fn();{const o=qt.fromSegments(e.unknownDocument.path),l=bc(e.unknownDocument.version);t=Vi.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new ii(o[0],o[1]);return wn.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!o.isNoDocument()||!o.version.isEqual(wn.min()))return o}return Vi.newInvalidDocument(e)}}function zf(i){return new $g(i)}class Rc extends Hg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new no(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new zr((g,C)=>tr(g.canonicalString(),C.canonicalString()));return this.changes.forEach((g,C)=>{const N=this.Xn.get(g);if(t.push(this.Yn.removeEntry(e,g,N.readTime)),C.isValidDocument()){const K=Mg(this.Yn.yt,C);l=l.add(g.path.popLast()),o+=Gf(K)-N.size,t.push(this.Yn.addEntry(e,g,K))}else if(o-=N.size,this.trackRemovals){const K=Mg(this.Yn.yt,C.convertToNoDocument(wn.min()));t.push(this.Yn.addEntry(e,g,K))}}),l.forEach(g=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.Yn.updateMetadata(e,o)),ct.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:l})=>(l.forEach((g,C)=>{this.Xn.set(g,{size:C,readTime:o.get(g).readTime})}),o))}}function Yf(i){return Ts(i,"remoteDocumentGlobal")}function nc(i){return Ts(i,"remoteDocumentsV14")}function Md(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cy(i,e){const t=e.documentKey.path.toArray();return[i,_h(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Od(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let g=0;g<t.length-2&&g<o.length-2;++g)if(l=tr(t[g],o[g]),l)return l;return l=tr(t.length,o.length),l||(l=tr(t[t.length-2],o[o.length-2]),l||tr(t[t.length-1],o[o.length-1]))}class Iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Qf{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&be(o.mutation,l,Ls.empty(),ii.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Vt()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Vt()){const l=Ks();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(g=>{let C=Fs();return g.forEach((N,K)=>{C=C.insert(N,K.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Vt()))}populateOverlays(e,t,o){const l=[];return o.forEach(g=>{t.has(g)||l.push(g)}),this.documentOverlayCache.getOverlays(e,l).next(g=>{g.forEach((C,N)=>{t.set(C,N)})})}computeViews(e,t,o,l){let g=si();const C=ja(),N=ja();return t.forEach((K,te)=>{const ge=o.get(te.key);l.has(te.key)&&(void 0===ge||ge.mutation instanceof Xt)?g=g.insert(te.key,te):void 0!==ge?(C.set(te.key,ge.mutation.getFieldMask()),be(ge.mutation,te,ge.mutation.getFieldMask(),ii.now())):C.set(te.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,g).next(K=>(K.forEach((te,ge)=>C.set(te,ge)),t.forEach((te,ge)=>{var xe;return N.set(te,new Iy(ge,null!==(xe=C.get(te))&&void 0!==xe?xe:null))}),N))}recalculateAndSaveOverlays(e,t){const o=ja();let l=new Ii((C,N)=>C-N),g=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const N of C)N.keys().forEach(K=>{const te=t.get(K);if(null===te)return;let ge=o.get(K)||Ls.empty();ge=N.applyToLocalView(te,ge),o.set(K,ge);const xe=(l.get(N.batchId)||Vt()).add(K);l=l.insert(N.batchId,xe)})}).next(()=>{const C=[],N=l.getReverseIterator();for(;N.hasNext();){const K=N.getNext(),te=K.key,ge=K.value,xe=Rl();ge.forEach(lt=>{if(!g.has(lt)){const Ot=ue(t.get(lt),o.get(lt));null!==Ot&&xe.set(lt,Ot),g=g.add(lt)}}),C.push(this.documentOverlayCache.saveOverlays(e,te,xe))}return ct.waitFor(C)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return qt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Hl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(g=>{const C=l-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-g.size):ct.resolve(Ks());let N=-1,K=g;return C.next(te=>ct.forEach(te,(ge,xe)=>(N<xe.largestBatchId&&(N=xe.largestBatchId),g.get(ge)?ct.resolve():this.remoteDocumentCache.getEntry(e,ge).next(lt=>{K=K.insert(ge,lt)}))).next(()=>this.populateOverlays(e,te,g)).next(()=>this.computeViews(e,K,te,Vt())).next(ge=>({batchId:N,changes:Wl(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qt(t)).next(o=>{let l=Fs();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let g=Fs();return this.indexManager.getCollectionParents(e,l).next(C=>ct.forEach(C,N=>{const K=(te=t,ge=N.child(l),new gs(ge,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,ge;return this.getDocumentsMatchingCollectionQuery(e,K,o).next(te=>{te.forEach((ge,xe)=>{g=g.insert(ge,xe)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(g=>(l=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(g=>{l.forEach((N,K)=>{const te=K.getKey();null===g.get(te)&&(g=g.insert(te,Vi.newInvalidDocument(te)))});let C=Fs();return g.forEach((N,K)=>{const te=l.get(N);void 0!==te&&be(te.mutation,K,Ls.empty(),ii.now()),_l(t,K)&&(C=C.insert(N,K))}),C})}}class Gg{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ct.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Ln(o.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Lf(o.bundledQuery),readTime:Ln(o.readTime)}),ct.resolve();var o}}class Wg{constructor(){this.overlays=new Ii(qt.comparator),this.es=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ks();return ct.forEach(t,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,g)=>{this.oe(e,t,g)}),ct.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(o)),ct.resolve()}getOverlaysForCollection(e,t,o){const l=Ks(),g=t.length+1,C=new qt(t.child("")),N=this.overlays.getIteratorFrom(C);for(;N.hasNext();){const K=N.getNext().value,te=K.getKey();if(!t.isPrefixOf(te.path))break;te.path.length===g&&K.largestBatchId>o&&l.set(K.getKey(),K)}return ct.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let g=new Ii((te,ge)=>te-ge);const C=this.overlays.getIterator();for(;C.hasNext();){const te=C.getNext().value;if(te.getKey().getCollectionGroup()===t&&te.largestBatchId>o){let ge=g.get(te.largestBatchId);null===ge&&(ge=Ks(),g=g.insert(te.largestBatchId,ge)),ge.set(te.getKey(),te)}}const N=Ks(),K=g.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((te,ge)=>N.set(te,ge)),!(N.size()>=l)););return ct.resolve(N)}oe(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const C=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,C)}this.overlays=this.overlays.insert(o.key,new xf(t,o));let g=this.es.get(t);void 0===g&&(g=Vt(),this.es.set(t,g)),this.es.set(t,g.add(o.key))}}class Pd{constructor(){this.ns=new zr(Qo.ss),this.rs=new zr(Qo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Qo(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Qo(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new qt(new _r([])),o=new Qo(t,e),l=new Qo(t,e+1),g=[];return this.rs.forEachInRange([o,l],C=>{this.cs(C),g.push(C.key)}),g}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qt(new _r([])),o=new Qo(t,e),l=new Qo(t,e+1);let g=Vt();return this.rs.forEachInRange([o,l],C=>{g=g.add(C.key)}),g}containsKey(e){const t=new Qo(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Qo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qt.comparator(e.key,t.key)||tr(e._s,t._s)}static os(e,t){return tr(e._s,t._s)||qt.comparator(e.key,t.key)}}class Th{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new zr(Qo.ss)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const g=this.ws;this.ws++;const C=new Sc(g,t,o,l);this.mutationQueue.push(C);for(const N of l)this.gs=this.gs.add(new Qo(N.key,g)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return ct.resolve(C)}lookupMutationBatch(e,t){return ct.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),g=l<0?0:l;return ct.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Qo(t,0),l=new Qo(t,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([o,l],C=>{const N=this.ys(C._s);g.push(N)}),ct.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new zr(tr);return t.forEach(l=>{const g=new Qo(l,0),C=new Qo(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,C],N=>{o=o.add(N._s)})}),ct.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let g=o;qt.isDocumentKey(g)||(g=g.child(""));const C=new Qo(new qt(g),0);let N=new zr(tr);return this.gs.forEachWhile(K=>{const te=K.key.path;return!!o.isPrefixOf(te)&&(te.length===l&&(N=N.add(K._s)),!0)},C),ct.resolve(this.Is(N))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){an(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ct.forEach(t.mutations,l=>{const g=new Qo(l.key,t.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Qo(t,0),l=this.gs.firstAfterOrEqual(o);return ct.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return ct.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sh{constructor(e){this.Es=e,this.docs=new Ii(qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),g=l?l.size:0,C=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:C}),this.size+=C-g,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ct.resolve(o?o.document.mutableCopy():Vi.newInvalidDocument(t))}getEntries(e,t){let o=si();return t.forEach(l=>{const g=this.docs.get(l);o=o.insert(l,g?g.document.mutableCopy():Vi.newInvalidDocument(l))}),ct.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let g=si();const C=t.path,N=new qt(C.child("")),K=this.docs.getIteratorFrom(N);for(;K.hasNext();){const{key:te,value:{document:ge}}=K.getNext();if(!C.isPrefixOf(te.path))break;te.path.length>C.length+1||ga(ul(ge),o)<=0||(l.has(ge.key)||_l(t,ge))&&(g=g.insert(ge.key,ge.mutableCopy()))}return ct.resolve(g)}getAllFromCollectionGroup(e,t,o,l){fn()}As(e,t){return ct.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Kg(this)}getSize(e){return ct.resolve(this.size)}}class Kg extends Hg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),ct.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qf{constructor(e){this.persistence=e,this.Rs=new no(t=>Tl(t),Oo),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pd,this.targetCount=0,this.vs=Pc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ct.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Pc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Dn(t),ct.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,o){let l=0;const g=[];return this.Rs.forEach((C,N)=>{N.sequenceNumber<=t&&null===o.get(N.targetId)&&(this.Rs.delete(C),g.push(this.removeMatchingKeysForTargetId(e,N.targetId)),l++)}),ct.waitFor(g).next(()=>l)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ct.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ct.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,g=[];return l&&t.forEach(C=>{g.push(l.markPotentiallyOrphaned(e,C))}),ct.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ct.resolve(o)}containsKey(e,t){return ct.resolve(this.Ps.containsKey(t))}}class Zf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ho(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qf(this),this.indexManager=new Su,this.remoteDocumentCache=new Sh(o=>this.referenceDelegate.xs(o)),this.yt=new Ag(t),this.Ns=new Gg(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Th(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("MemoryPersistence","Starting transaction:",e);const l=new Jf(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(g=>this.referenceDelegate.Os(l).next(()=>g)).toPromise().then(g=>(l.raiseOnCommittedEvent(),g))}Ms(e,t){return ct.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Jf extends Na{constructor(e){super(),this.currentSequenceNumber=e}}class rc{constructor(e){this.persistence=e,this.Fs=new Pd,this.$s=null}static Bs(e){return new rc(e)}get Ls(){if(this.$s)return this.$s;throw fn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ct.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(g=>this.Ls.add(g.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ls,o=>{const l=qt.fromPath(o);return this.qs(e,l).next(g=>{g||t.removeEntry(l,wn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ct.or([()=>ct.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class wy{constructor(e){this.yt=e}$(e,t,o,l){const g=new Eo("createOrUpgrade",t);var N;o<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mh,{unique:!0}),N.createObjectStore("documentMutations"),Xf(e),function(N){N.createObjectStore("remoteDocuments")}(e));let C=ct.resolve();return o<3&&l>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Xf(e)),C=C.next(()=>function(N){const K=N.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",te)}(g))),o<4&&l>=4&&(0!==o&&(C=C.next(()=>function(N,K){return K.store("mutations").W().next(te=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mh,{unique:!0});const ge=K.store("mutations"),xe=te.map(lt=>ge.put(lt));return ct.waitFor(xe)})}(e,g))),C=C.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(C=C.next(()=>this.Us(g))),o<6&&l>=6&&(C=C.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(g)))),o<7&&l>=7&&(C=C.next(()=>this.Gs(g))),o<8&&l>=8&&(C=C.next(()=>this.Qs(e,g))),o<9&&l>=9&&(C=C.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(C=C.next(()=>this.js(g))),o<11&&l>=11&&(C=C.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(C=C.next(()=>{!function(N){const K=N.createObjectStore("documentOverlays",{keyPath:Fe});K.createIndex("collectionPathOverlayIndex",vt,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ct,{unique:!1})}(e)})),o<13&&l>=13&&(C=C.next(()=>function(N){const K=N.createObjectStore("remoteDocumentsV14",{keyPath:Sg});K.createIndex("documentKeyIndex",bg),K.createIndex("collectionGroupIndex",h)}(e)).next(()=>this.Ws(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(C=C.next(()=>this.zs(e,g))),o<15&&l>=15&&(C=C.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:j}).createIndex("sequenceNumberIndex",Y,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:pe}).createIndex("documentKeyIndex",Me,{unique:!1})}(e))),C}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,l)=>{t+=Gf(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(l=>ct.forEach(l,g=>{const C=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",C).next(N=>ct.forEach(N,K=>{an(K.userId===g.userId);const te=Ac(this.yt,K);return $f(e,g.userId,te).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const g=[];return o.Z((C,N)=>{const K=new _r(C),te=[0,il(K)];g.push(t.get(te).next(ge=>ge?ct.resolve():t.put({targetId:0,path:il(K),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ct.waitFor(g))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:P});const o=t.store("collectionParents"),l=new Sd,g=C=>{if(l.add(C)){const N=C.lastSegment(),K=C.popLast();return o.put({collectionId:N,parent:il(K)})}};return t.store("remoteDocuments").Z({X:!0},(C,N)=>{const K=new _r(C);return g(K.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([C,N,K],te)=>{const ge=Kl(N);return g(ge.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,l)=>{const g=Td(l),C=Nf(this.yt,g);return t.put(C)})}Ws(e,t){const o=t.store("remoteDocuments"),l=[];return o.Z((g,C)=>{const N=t.store("remoteDocumentsV14"),K=(te=C,te.document?new qt(_r.fromString(te.document.name).popFirst(5)):te.noDocument?qt.fromSegments(te.noDocument.path):te.unknownDocument?qt.fromSegments(te.unknownDocument.path):fn()).path.toArray();var te;const ge={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};l.push(N.put(ge))}).next(()=>ct.waitFor(l))}zs(e,t){const o=t.store("mutations"),l=zf(this.yt),g=new Zf(rc.Bs,this.yt.ie);return o.W().next(C=>{const N=new Map;return C.forEach(K=>{var te;let ge=null!==(te=N.get(K.userId))&&void 0!==te?te:Vt();Ac(this.yt,K).keys().forEach(xe=>ge=ge.add(xe)),N.set(K.userId,ge)}),ct.forEach(N,(K,te)=>{const ge=new qr(te),xe=Ju.re(this.yt,ge),lt=g.getIndexManager(ge),Ot=$u.re(ge,this.yt,lt,g.referenceDelegate);return new Qf(l,Ot,xe,lt).recalculateAndSaveOverlaysForDocumentKeys(new zl(t,ho.at),K).next()})})}}function Xf(i){i.createObjectStore("targetDocuments",{keyPath:c}).createIndex("documentTargetsIndex",v,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),i.createObjectStore("targetGlobal")}const ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tp{constructor(e,t,o,l,g,C,N,K,te,ge,xe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=g,this.window=C,this.document=N,this.Js=te,this.Ys=ge,this.Xs=xe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=lt=>Promise.resolve(),!tp.C())throw new Rt(at.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kf(this,l),this.ii=t+"main",this.yt=new Ag(K),this.ri=new fs(this.ii,this.Xs,new wy(this.yt)),this.Cs=new Dy(this.referenceDelegate,this.yt),this.remoteDocumentCache=zf(this.yt),this.Ns=new Og,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ge&&Zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(at.FAILED_PRECONDITION,ep);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ho(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,f.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Mo(e))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return nd(e).get("owner").next(t=>ct.resolve(this.mi(t)))}gi(e){return rd(e).delete(this.clientId)}yi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ts(o,"clientMetadata");return l.W().next(g=>{const C=e.Ii(g,18e5),N=g.filter(K=>-1===C.indexOf(K));return ct.forEach(N,K=>l.delete(K.clientId)).next(()=>N)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ct.resolve(!0):nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Rt(at.FAILED_PRECONDITION,ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||rd(e).W().next(o=>void 0===this.Ii(o,5e3).find(l=>{if(this.clientId!==l.clientId){const C=!this.inForeground&&l.inForeground,N=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||C&&N)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new zl(t,ho.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rd(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return $u.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ey(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Ju.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",g=15===(C=this.Xs)?Yo:14===C?pi:13===C?Yn:12===C?_n:11===C?bt:void fn();var C;let N;return this.ri.runTransaction(e,l,g,K=>(N=new zl(K,this.Ss?this.Ss.next():ho.at),"readwrite-primary"===t?this.fi(N).next(te=>!!te||this.di(N)).next(te=>{if(!te)throw Zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Rt(at.FAILED_PRECONDITION,mu);return o(N)}).next(te=>this.wi(N).next(()=>te)):this.Vi(N).next(()=>o(N)))).then(K=>(N.raiseOnCommittedEvent(),K))}Vi(e){return nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Rt(at.FAILED_PRECONDITION,ep)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nd(e).put("owner",t)}static C(){return fs.C()}_i(e){const t=nd(e);return t.get("owner").next(o=>this.mi(o)?(Lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ct.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Zi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Q.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Lt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Zi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nd(i){return Ts(i,"owner")}function rd(i){return Ts(i,"clientMetadata")}class zg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=Vt(),l=Vt();for(const g of t.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:l=l.add(g.doc.key)}return new zg(e,t.fromCache,o,l)}}class np{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(g=>g||this.Oi(e,t,l,o)).next(g=>g||this.Mi(e,t))}ki(e,t){if(gl(t))return ct.resolve(null);let o=Xi(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=iu(t,null,"F"),o=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(g=>{const C=Vt(...g);return this.Ni.getDocuments(e,C).next(N=>this.indexManager.getMinOffset(e,o).next(K=>{const te=this.Fi(t,N);return this.$i(t,te,C,K.readTime)?this.ki(e,iu(t,null,"F")):this.Bi(e,te,t,K)}))})))}Oi(e,t,o,l){return gl(t)||l.isEqual(wn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(g=>{const C=this.Fi(t,g);return this.$i(t,C,o,l)?this.Mi(e,t):(ss()<=H.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yl(t)),this.Bi(e,C,t,function ll(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=wn.fromTimestamp(1e9===o?new ii(t+1,0):new ii(t,o));return new $i(l,qt.empty(),e)}(l,-1)))})}Fi(e,t){let o=new zr(Lu(e));return t.forEach((l,g)=>{_l(e,g)&&(o=o.add(g))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(l)>0)}Mi(e,t){return ss()<=H.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",yl(t)),this.Ni.getDocumentsMatchingQuery(e,t,$i.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(g=>(t.forEach(C=>{g=g.insert(C.key,C)}),g))}}class Ty{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new Ii(tr),this.Ui=new no(g=>Tl(g),Oo),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function rp(i,e,t,o){return new Ty(i,e,t,o)}function Yg(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,f.Z)(function*(i,e){const t=Jt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(g=>(l=g,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(g=>{const C=[],N=[];let K=Vt();for(const te of l){C.push(te.batchId);for(const ge of te.mutations)K=K.add(ge.key)}for(const te of g){N.push(te.batchId);for(const ge of te.mutations)K=K.add(ge.key)}return t.localDocuments.getDocuments(o,K).next(te=>({ji:te,removedBatchIds:C,addedBatchIds:N}))})})}),ip.apply(this,arguments)}function cu(i,e){const t=Jt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),g=t.Gi.newChangeBuffer({trackRemovals:!0});return function(C,N,K,te){const ge=K.batch,xe=ge.keys();let lt=ct.resolve();return xe.forEach(Ot=>{lt=lt.next(()=>te.getEntry(N,Ot)).next(jt=>{const mn=K.docVersions.get(Ot);an(null!==mn),jt.version.compareTo(mn)<0&&(ge.applyToRemoteDocument(jt,K),jt.isValidDocument()&&(jt.setReadTime(K.commitVersion),te.addEntry(jt)))})}),lt.next(()=>C.mutationQueue.removeMutationBatch(N,ge))}(t,o,e,g).next(()=>g.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let N=Vt();for(let K=0;K<C.mutationResults.length;++K)C.mutationResults[K].transformResults.length>0&&(N=N.add(C.batch.mutations[K].key));return N}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}function Qg(i){const e=Jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function qg(i,e){const t=Jt(i),o=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const C=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const N=[];e.targetChanges.forEach((ge,xe)=>{const lt=l.get(xe);if(!lt)return;N.push(t.Cs.removeMatchingKeys(g,ge.removedDocuments,xe).next(()=>t.Cs.addMatchingKeys(g,ge.addedDocuments,xe)));let Ot=lt.withSequenceNumber(g.currentSequenceNumber);var jt,mn,Qn;e.targetMismatches.has(xe)?Ot=Ot.withResumeToken(Gi.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):ge.resumeToken.approximateByteSize()>0&&(Ot=Ot.withResumeToken(ge.resumeToken,o)),l=l.insert(xe,Ot),mn=Ot,Qn=ge,(0===(jt=lt).resumeToken.approximateByteSize()||mn.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&N.push(t.Cs.updateTargetData(g,Ot))});let K=si(),te=Vt();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(g,ge))}),N.push(function Zg(i,e,t){let o=Vt(),l=Vt();return t.forEach(g=>o=o.add(g)),e.getEntries(i,o).next(g=>{let C=si();return t.forEach((N,K)=>{const te=g.get(N);K.isFoundDocument()!==te.isFoundDocument()&&(l=l.add(N)),K.isNoDocument()&&K.version.isEqual(wn.min())?(e.removeEntry(N,K.readTime),C=C.insert(N,K)):!te.isValidDocument()||K.version.compareTo(te.version)>0||0===K.version.compareTo(te.version)&&te.hasPendingWrites?(e.addEntry(K),C=C.insert(N,K)):Lt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",te.version," Watch version:",K.version)}),{Wi:C,zi:l}})}(g,C,e.documentUpdates).next(ge=>{K=ge.Wi,te=ge.zi})),!o.isEqual(wn.min())){const ge=t.Cs.getLastRemoteSnapshotVersion(g).next(xe=>t.Cs.setTargetsMetadata(g,g.currentSequenceNumber,o));N.push(ge)}return ct.waitFor(N).next(()=>C.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,K,te)).next(()=>K)}).then(g=>(t.qi=l,g))}function Sy(i,e){const t=Jt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function id(i,e){const t=Jt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(g=>g?(l=g,ct.resolve(l)):t.Cs.allocateTargetId(o).next(C=>(l=new ju(e,C,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.qi.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function sd(i,e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,f.Z)(function*(i,e,t){const o=Jt(i),l=o.qi.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",g,C=>o.persistence.referenceDelegate.removeTarget(C,l)))}catch(C){if(!Mo(C))throw C;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}o.qi=o.qi.remove(e),o.Ui.delete(l.target)}),Ah.apply(this,arguments)}function Mh(i,e,t){const o=Jt(i);let l=wn.min(),g=Vt();return o.persistence.runTransaction("Execute query","readonly",C=>function(N,K,te){const ge=Jt(N),xe=ge.Ui.get(te);return void 0!==xe?ct.resolve(ge.qi.get(xe)):ge.Cs.getTargetData(K,te)}(o,C,Xi(e)).next(N=>{if(N)return l=N.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(C,N.targetId).next(K=>{g=K})}).next(()=>o.Li.getDocumentsMatchingQuery(C,e,t?l:wn.min(),t?g:Vt())).next(N=>(function Rr(i,e,t){let o=i.Ki.get(e)||wn.min();t.forEach((l,g)=>{g.readTime.compareTo(o)>0&&(o=g.readTime)}),i.Ki.set(e,o)}(o,function zo(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),N),{documents:N,Hi:g})))}class Rh{constructor(){this.activeTargetIds=gr()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ic{constructor(){this.Lr=new Rh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Rh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class by{Ur(e){}shutdown(){}}class Nh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ay{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class pv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,l,g){const C=this.ho(e,t);Lt("RestConnection","Sending: ",C,o);const N={};return this.lo(N,l,g),this.fo(e,C,N,o).then(K=>(Lt("RestConnection","Received: ",K),K),K=>{throw Vo("RestConnection",`${e} failed with error: `,K,"url: ",C,"request:",o),K})}_o(e,t,o,l,g,C){return this.ao(e,t,o,l,g)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,g)=>e[g]=l),o&&o.headers.forEach((l,g)=>e[g]=l)}ho(e,t){return`${this.oo}/v1/${t}:${lp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((g,C)=>{const N=new ki;N.setWithCredentials(!0),N.listenOnce(Pn.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Vr.NO_ERROR:const te=N.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(te)),g(te);break;case Vr.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),C(new Rt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Vr.HTTP_ERROR:const ge=N.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',ge,"response text:",N.getResponseText()),ge>0){let xe=N.getResponseJson();Array.isArray(xe)&&(xe=xe[0]);const lt=null==xe?void 0:xe.error;if(lt&&lt.status&&lt.message){const Ot=function(jt){const mn=jt.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(mn)>=0?mn:at.UNKNOWN}(lt.status);C(new Rt(Ot,lt.message))}else C(new Rt(at.UNKNOWN,"Server responded with status "+N.getStatus()))}else C(new Rt(at.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const K=JSON.stringify(l);N.send(t,"POST",K,o,15)})}wo(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ft(),C=nn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new Ri({})),this.lo(N.initMessageHeaders,t,o),N.encodeInitMessageHeaders=!0;const K=l.join("");Lt("Connection","Creating WebChannel: "+K,N);const te=g.createWebChannel(K,N);let ge=!1,xe=!1;const lt=new Ay({Hr:jt=>{xe?Lt("Connection","Not sending because WebChannel is closed:",jt):(ge||(Lt("Connection","Opening WebChannel transport."),te.open(),ge=!0),Lt("Connection","WebChannel sending:",jt),te.send(jt))},Jr:()=>te.close()}),Ot=(jt,mn,Qn)=>{jt.listen(mn,Ss=>{try{Qn(Ss)}catch(Ys){setTimeout(()=>{throw Ys},0)}})};return Ot(te,Mr.EventType.OPEN,()=>{xe||Lt("Connection","WebChannel transport opened.")}),Ot(te,Mr.EventType.CLOSE,()=>{xe||(xe=!0,Lt("Connection","WebChannel transport closed"),lt.io())}),Ot(te,Mr.EventType.ERROR,jt=>{xe||(xe=!0,Vo("Connection","WebChannel transport errored:",jt),lt.io(new Rt(at.UNAVAILABLE,"The operation could not be completed")))}),Ot(te,Mr.EventType.MESSAGE,jt=>{var mn;if(!xe){const Qn=jt.data[0];an(!!Qn);const Ss=Qn,Ys=Ss.error||(null===(mn=Ss[0])||void 0===mn?void 0:mn.error);if(Ys){Lt("Connection","WebChannel received error:",Ys);const ns=Ys.status;let Zo=function(Wi){const Jo=vr[Wi];if(void 0!==Jo)return to(Jo)}(ns),ms=Ys.message;void 0===Zo&&(Zo=at.INTERNAL,ms="Unknown error status: "+ns+" with message "+Ys.message),xe=!0,lt.io(new Rt(Zo,ms)),te.close()}else Lt("Connection","WebChannel received:",Qn),lt.ro(Qn)}}),Ot(C,fr.STAT_EVENT,jt=>{jt.stat===ar.PROXY?Lt("Connection","Detected buffering proxy"):jt.stat===ar.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{lt.so()},0),lt}}function up(){return"undefined"!=typeof document?document:null}function Nd(i){return new Ye(i,!0)}class Lh{constructor(e,t,o=1e3,l=1.5,g=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=l,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&Lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Oy{constructor(e,t,o,l,g,C,N,K){this.Hs=e,this.vo=o,this.Vo=l,this.connection=g,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=N,this.listener=K,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,f.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===at.RESOURCE_EXHAUSTED?(Zi(t.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===at.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new Rt(at.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Py extends Oy{constructor(e,t,o,l,g,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,C),this.yt=g}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function au(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:fn(),l=e.targetChange.targetIds||[],g=function(K,te){return K.wt?(an(void 0===te||"string"==typeof te),Gi.fromBase64String(te||"")):(an(void 0===te||te instanceof Uint8Array),Gi.fromUint8Array(te||new Uint8Array))}(i,e.targetChange.resumeToken),C=e.targetChange.cause,N=C&&function(K){const te=void 0===K.code?at.UNKNOWN:to(K.code);return new Rt(te,K.message||"")}(C);t=new es(o,l,g,N||null)}else if("documentChange"in e){const o=e.documentChange,l=la(i,o.document.name),g=Ln(o.document.updateTime),C=o.document.createTime?Ln(o.document.createTime):wn.min(),N=new eo({mapValue:{fields:o.document.fields}}),K=Vi.newFoundDocument(l,g,C,N);t=new zs(o.targetIds||[],o.removedTargetIds||[],K.key,K)}else if("documentDelete"in e){const o=e.documentDelete,l=la(i,o.document),g=o.readTime?Ln(o.readTime):wn.min(),C=Vi.newNoDocument(l,g);t=new zs([],o.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const o=e.documentRemove,l=la(i,o.document);t=new zs([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return fn();{const o=e.filter,g=new hi(o.count||0);t=new Ha(o.targetId,g)}}var K;return t}(this.yt,e),o=function(l){if(!("targetChange"in l))return wn.min();const g=l.targetChange;return g.targetIds&&g.targetIds.length?wn.min():g.readTime?Ln(g.readTime):wn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=ou(this.yt),t.addTarget=function(l,g){let C;const N=g.target;return C=Ba(N)?{documents:Dc(l,N)}:{query:Cc(l,N)},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?C.resumeToken=pn(l,g.resumeToken):g.snapshotVersion.compareTo(wn.min())>0&&(C.readTime=It(l,g.snapshotVersion.toTimestamp())),C}(this.yt,e);const o=function dh(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=ou(this.yt),t.removeTarget=e,this.Bo(t)}}class od extends Oy{constructor(e,t,o,l,g,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,C),this.yt=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Vu(i,e){return i&&i.length>0?(an(void 0!==e),i.map(t=>function(o,l){let g=Ln(o.updateTime?o.updateTime:l);return g.isEqual(wn.min())&&(g=Ln(l)),new E(g,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ln(e.commitTime);return this.listener.Zo(o,t)}return an(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ou(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Uu(this.yt,o))};this.Bo(t)}}class Ry extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=l,this.nu=!1}su(){if(this.nu)throw new Rt(at.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,g])=>this.connection.ao(e,t,o,l,g)).catch(l=>{throw"FirebaseError"===l.name?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Rt(at.UNKNOWN,l.toString())})}_o(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,C])=>this.connection._o(e,t,o,g,C,l)).catch(g=>{throw"FirebaseError"===g.name?(g.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Rt(at.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class xy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Zi(t),this.ou=!1):Lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class sm{constructor(e,t,o,l,g){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.Ur(N=>{o.enqueueAndForget((0,f.Z)(function*(){var K;sc(C)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,f.Z)(function*(te){const ge=Jt(te);ge._u.add(4),yield ld(ge),ge.gu.set("Unknown"),ge._u.delete(4),yield Ld(ge)}),function(te){return K.apply(this,arguments)})(C))}))}),this.gu=new xy(o,l)}}function Ld(i){return cp.apply(this,arguments)}function cp(){return cp=(0,f.Z)(function*(i){if(sc(i))for(const e of i.wu)yield e(!0)}),cp.apply(this,arguments)}function ld(i){return dp.apply(this,arguments)}function dp(){return dp=(0,f.Z)(function*(i){for(const e of i.wu)yield e(!1)}),dp.apply(this,arguments)}function Fh(i,e){const t=Jt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Fd(t)?kh(t):xc(t).ko()&&hp(t,e))}function ud(i,e){const t=Jt(i),o=xc(t);t.du.delete(e),o.ko()&&fp(t,e),0===t.du.size&&(o.ko()?o.Fo():sc(t)&&t.gu.set("Unknown"))}function hp(i,e){i.yu.Ot(e.targetId),xc(i).zo(e)}function fp(i,e){i.yu.Ot(e),xc(i).Ho(e)}function kh(i){i.yu=new b({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),xc(i).start(),i.gu.uu()}function Fd(i){return sc(i)&&!xc(i).No()&&i.du.size>0}function sc(i){return 0===Jt(i)._u.size}function Uh(i){i.yu=void 0}function Ny(i){return om.apply(this,arguments)}function om(){return om=(0,f.Z)(function*(i){i.du.forEach((e,t)=>{hp(i,e)})}),om.apply(this,arguments)}function cd(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,f.Z)(function*(i,e){Uh(i),Fd(i)?(i.gu.hu(e),kh(i)):i.gu.set("Unknown")}),Vh.apply(this,arguments)}function am(i,e,t){return dd.apply(this,arguments)}function dd(){return dd=(0,f.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof es&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(l,g){const C=g.cause;for(const N of g.targetIds)l.du.has(N)&&(yield l.remoteSyncer.rejectListen(N,C),l.du.delete(N),l.yu.removeTarget(N))}),function(l,g){return o.apply(this,arguments)})(i,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Dl(i,o)}else if(e instanceof zs?i.yu.Kt(e):e instanceof Ha?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(wn.min()))try{const o=yield Qg(i.localStore);t.compareTo(o)>=0&&(yield function(l,g){const C=l.yu.Zt(g);return C.targetChanges.forEach((N,K)=>{if(N.resumeToken.approximateByteSize()>0){const te=l.du.get(K);te&&l.du.set(K,te.withResumeToken(N.resumeToken,g))}}),C.targetMismatches.forEach(N=>{const K=l.du.get(N);if(!K)return;l.du.set(N,K.withResumeToken(Gi.EMPTY_BYTE_STRING,K.snapshotVersion)),fp(l,N);const te=new ju(K.target,N,1,K.sequenceNumber);hp(l,te)}),l.remoteSyncer.applyRemoteEvent(C)}(i,t))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield Dl(i,o)}var o}),dd.apply(this,arguments)}function Dl(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,f.Z)(function*(i,e,t){if(!Mo(e))throw e;i._u.add(1),yield ld(i),i.gu.set("Offline"),t||(t=()=>Qg(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Ld(i)}))}),Bh.apply(this,arguments)}function lm(i,e){return e().catch(t=>Dl(i,t,e))}function oc(i){return du.apply(this,arguments)}function du(){return du=(0,f.Z)(function*(i){const e=Jt(i),t=Nc(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;pp(e);)try{const l=yield Sy(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,um(e,l)}catch(l){yield Dl(e,l)}jh(e)&&Ly(e)}),du.apply(this,arguments)}function pp(i){return sc(i)&&i.fu.length<10}function um(i,e){i.fu.push(e);const t=Nc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function jh(i){return sc(i)&&!Nc(i).No()&&i.fu.length>0}function Ly(i){Nc(i).start()}function cm(i){return dm.apply(this,arguments)}function dm(){return dm=(0,f.Z)(function*(i){Nc(i).eu()}),dm.apply(this,arguments)}function Hh(i){return hd.apply(this,arguments)}function hd(){return hd=(0,f.Z)(function*(i){const e=Nc(i);for(const t of i.fu)e.Xo(t.mutations)}),hd.apply(this,arguments)}function gp(i,e,t){return kd.apply(this,arguments)}function kd(){return kd=(0,f.Z)(function*(i,e,t){const o=i.fu.shift(),l=wd.from(o,e,t);yield lm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield oc(i)}),kd.apply(this,arguments)}function mp(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,f.Z)(function*(i,e){var t;e&&Nc(i).Yo&&(yield(t=(0,f.Z)(function*(o,l){if(fi(g=l.code)&&g!==at.ABORTED){const C=o.fu.shift();Nc(o).Mo(),yield lm(o,()=>o.remoteSyncer.rejectFailedWrite(C.batchId,l)),yield oc(o)}var g}),function(o,l){return t.apply(this,arguments)})(i,e)),jh(i)&&Ly(i)}),hm.apply(this,arguments)}function fm(i,e){return yp.apply(this,arguments)}function yp(){return yp=(0,f.Z)(function*(i,e){const t=Jt(i);t.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=sc(t);t._u.add(3),yield ld(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ld(t)}),yp.apply(this,arguments)}function vp(){return vp=(0,f.Z)(function*(i,e){const t=Jt(i);e?(t._u.delete(2),yield Ld(t)):e||(t._u.add(2),yield ld(t),t.gu.set("Unknown"))}),vp.apply(this,arguments)}function xc(i){return i.pu||(i.pu=function(e,t,o){const l=Jt(e);return l.su(),new Py(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:Ny.bind(null,i),Zr:cd.bind(null,i),Wo:am.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.pu.Mo(),Fd(i)?kh(i):i.gu.set("Unknown")):(yield i.pu.stop(),Uh(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Nc(i){return i.Iu||(i.Iu=function(e,t,o){const l=Jt(e);return l.su(),new od(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:cm.bind(null,i),Zr:mp.bind(null,i),tu:Hh.bind(null,i),Zo:gp.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.Iu.Mo(),yield oc(i)):(yield i.Iu.stop(),i.fu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Ep{constructor(e,t,o,l,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=g,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,o,l,g){const C=Date.now()+o,N=new Ep(e,t,C,l,g);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(i,e){if(Zi("AsyncQueue",`${e}: ${i}`),Mo(i))return new Rt(at.UNAVAILABLE,`${e}: ${i}`);throw i}class Lc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||qt.comparator(t.key,o.key):(t,o)=>qt.comparator(t.key,o.key),this.keyedMap=Fs(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new Lc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=o.getNext().key;if(!l.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Lc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Dp{constructor(){this.Tu=new Ii(qt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):fn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class fd{constructor(e,t,o,l,g,C,N,K,te){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=g,this.fromCache=C,this.syncStateChanged=N,this.excludesMetadataChanges=K,this.hasCachedResults=te}static fromInitialDocuments(e,t,o,l,g){const C=[];return t.forEach(N=>{C.push({type:0,doc:N})}),new fd(e,t,Lc.emptySet(t),C,o,l,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Cp{constructor(){this.Au=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new no(e=>Al(e),Du),this.onlineState="Unknown",this.Ru=new Set}}function pm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,f.Z)(function*(i,e){const t=Jt(i),o=e.query;let l=!1,g=t.queries.get(o);if(g||(l=!0,g=new Cp),l)try{g.Au=yield t.onListen(o)}catch(C){const N=Ud(C,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(N)}t.queries.set(o,g),g.listeners.push(e),e.bu(t.onlineState),g.Au&&e.Pu(g.Au)&&_m(t)}),gm.apply(this,arguments)}function mm(i,e){return ym.apply(this,arguments)}function ym(){return ym=(0,f.Z)(function*(i,e){const t=Jt(i),o=e.query;let l=!1;const g=t.queries.get(o);if(g){const C=g.listeners.indexOf(e);C>=0&&(g.listeners.splice(C,1),l=0===g.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),ym.apply(this,arguments)}function mv(i,e){const t=Jt(i);let o=!1;for(const l of e){const C=t.queries.get(l.query);if(C){for(const N of C.listeners)N.Pu(l)&&(o=!0);C.Au=l}}o&&_m(t)}function yv(i,e,t){const o=Jt(i),l=o.queries.get(e);if(l)for(const g of l.listeners)g.onError(t);o.queries.delete(e)}function _m(i){i.Ru.forEach(e=>{e.next()})}class vm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new fd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class wp{constructor(e){this.key=e}}class $h{constructor(e){this.key=e}}class Tp{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Vt(),this.mutatedKeys=Vt(),this.Gu=Lu(e),this.Qu=new Lc(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new Dp,l=t?t.Qu:this.Qu;let g=t?t.mutatedKeys:this.mutatedKeys,C=l,N=!1;const K="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,te="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ge,xe)=>{const lt=l.get(ge),Ot=_l(this.query,xe)?xe:null,jt=!!lt&&this.mutatedKeys.has(lt.key),mn=!!Ot&&(Ot.hasLocalMutations||this.mutatedKeys.has(Ot.key)&&Ot.hasCommittedMutations);let Qn=!1;lt&&Ot?lt.data.isEqual(Ot.data)?jt!==mn&&(o.track({type:3,doc:Ot}),Qn=!0):this.Hu(lt,Ot)||(o.track({type:2,doc:Ot}),Qn=!0,(K&&this.Gu(Ot,K)>0||te&&this.Gu(Ot,te)<0)&&(N=!0)):!lt&&Ot?(o.track({type:0,doc:Ot}),Qn=!0):lt&&!Ot&&(o.track({type:1,doc:lt}),Qn=!0,(K||te)&&(N=!0)),Qn&&(Ot?(C=C.add(Ot),g=mn?g.add(ge):g.delete(ge)):(C=C.delete(ge),g=g.delete(ge)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const ge="F"===this.query.limitType?C.last():C.first();C=C.delete(ge.key),g=g.delete(ge.key),o.track({type:1,doc:ge})}return{Qu:C,zu:o,$i:N,mutatedKeys:g}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const g=e.zu.Eu();g.sort((te,ge)=>function(xe,lt){const Ot=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return Ot(xe)-Ot(lt)}(te.type,ge.type)||this.Gu(te.doc,ge.doc)),this.Ju(o);const C=t?this.Yu():[],N=0===this.Ku.size&&this.current?1:0,K=N!==this.Uu;return this.Uu=N,0!==g.length||K?{snapshot:new fd(this.query,e.Qu,l,g,e.mutatedKeys,0===N,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:C}:{Xu:C}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Dp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Vt(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new $h(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new wp(o))}),t}tc(e){this.qu=e.Hi,this.Ku=Vt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return fd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Sp{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Fy{constructor(e){this.key=e,this.nc=!1}}class ac{constructor(e,t,o,l,g,C){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=g,this.maxConcurrentLimboResolutions=C,this.sc={},this.ic=new no(N=>Al(N),Du),this.rc=new Map,this.oc=new Set,this.uc=new Ii(qt.comparator),this.cc=new Map,this.ac=new Pd,this.hc={},this.lc=new Map,this.fc=Pc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Dm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,f.Z)(function*(i,e){const t=jp(i);let o,l;const g=t.ic.get(e);if(g)o=g.targetId,t.sharedClientState.addLocalQueryTarget(o),l=g.view.ec();else{const C=yield id(t.localStore,Xi(e));t.isPrimaryClient&&Fh(t.remoteStore,C);const N=t.sharedClientState.addLocalQueryTarget(C.targetId);o=C.targetId,l=yield Ap(t,e,o,"current"===N,C.resumeToken)}return l}),bp.apply(this,arguments)}function Ap(i,e,t,o,l){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,f.Z)(function*(i,e,t,o,l){i._c=(xe,lt,Ot)=>{return(jt=(0,f.Z)(function*(mn,Qn,Ss,Ys){let ns=Qn.view.Wu(Ss);ns.$i&&(ns=yield Mh(mn.localStore,Qn.query,!1).then(({documents:Wi})=>Qn.view.Wu(Wi,ns)));const Zo=Ys&&Ys.targetChanges.get(Qn.targetId),ms=Qn.view.applyChanges(ns,mn.isPrimaryClient,Zo);return Zh(mn,Qn.targetId,ms.Xu),ms.snapshot}),function(mn,Qn,Ss,Ys){return jt.apply(this,arguments)})(i,xe,lt,Ot);var jt};const g=yield Mh(i.localStore,e,!0),C=new Tp(e,g.Hi),N=C.Wu(g.documents),K=ro.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),te=C.applyChanges(N,i.isPrimaryClient,K);Zh(i,t,te.Xu);const ge=new Sp(e,t,C);return i.ic.set(e,ge),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),te.snapshot}),Gh.apply(this,arguments)}function ky(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,f.Z)(function*(i,e){const t=Jt(i),o=t.ic.get(e),l=t.rc.get(o.targetId);if(l.length>1)return t.rc.set(o.targetId,l.filter(g=>!Du(g,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),ud(t.remoteStore,o.targetId),Fc(t,o.targetId)}).catch(Js))):(Fc(t,o.targetId),yield sd(t.localStore,o.targetId,!0))}),Mp.apply(this,arguments)}function lc(){return lc=(0,f.Z)(function*(i,e,t){const o=Mm(i);try{const l=yield function(g,C){const N=Jt(g),K=ii.now(),te=C.reduce((lt,Ot)=>lt.add(Ot.key),Vt());let ge,xe;return N.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let Ot=si(),jt=Vt();return N.Gi.getEntries(lt,te).next(mn=>{Ot=mn,Ot.forEach((Qn,Ss)=>{Ss.isValidDocument()||(jt=jt.add(Qn))})}).next(()=>N.localDocuments.getOverlayedDocuments(lt,Ot)).next(mn=>{ge=mn;const Qn=[];for(const Ss of C){const Ys=Xe(Ss,ge.get(Ss.key).overlayedDocument);null!=Ys&&Qn.push(new Xt(Ss.key,Ys,xu(Ys.value.mapValue),y.exists(!0)))}return N.mutationQueue.addMutationBatch(lt,K,Qn,C)}).next(mn=>{xe=mn;const Qn=mn.applyToLocalDocumentSet(ge,jt);return N.documentOverlayCache.saveOverlays(lt,mn.batchId,Qn)})}).then(()=>({batchId:xe.batchId,changes:Wl(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(g,C,N){let K=g.hc[g.currentUser.toKey()];K||(K=new Ii(tr)),K=K.insert(C,N),g.hc[g.currentUser.toKey()]=K}(o,l.batchId,t),yield wo(o,l.changes),yield oc(o.remoteStore)}catch(l){const g=Ud(l,"Failed to persist write");t.reject(g)}}),lc.apply(this,arguments)}function Kh(i,e){return uc.apply(this,arguments)}function uc(){return uc=(0,f.Z)(function*(i,e){const t=Jt(i);try{const o=yield qg(t.localStore,e);e.targetChanges.forEach((l,g)=>{const C=t.cc.get(g);C&&(an(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?C.nc=!0:l.modifiedDocuments.size>0?an(C.nc):l.removedDocuments.size>0&&(an(C.nc),C.nc=!1))}),yield wo(t,o,e)}catch(o){yield Js(o)}}),uc.apply(this,arguments)}function zh(i,e,t){const o=Jt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ic.forEach((g,C)=>{const N=C.view.bu(e);N.snapshot&&l.push(N.snapshot)}),function(g,C){const N=Jt(g);N.onlineState=C;let K=!1;N.queries.forEach((te,ge)=>{for(const xe of ge.listeners)xe.bu(C)&&(K=!0)}),K&&_m(N)}(o.eventManager,e),l.length&&o.sc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Yh(i,e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,f.Z)(function*(i,e,t){const o=Jt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.cc.get(e),g=l&&l.key;if(g){let C=new Ii(qt.comparator);C=C.insert(g,Vi.newNoDocument(g,wn.min()));const N=Vt().add(g),K=new Bi(wn.min(),new Map,new zr(tr),C,N);yield Kh(o,K),o.uc=o.uc.remove(g),o.cc.delete(e),Np(o)}else yield sd(o.localStore,e,!1).then(()=>Fc(o,e,t)).catch(Js)}),Qh.apply(this,arguments)}function Cm(i,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,f.Z)(function*(i,e){const t=Jt(i),o=e.batch.batchId;try{const l=yield cu(t.localStore,e);xp(t,o,null),Im(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield wo(t,l)}catch(l){yield Js(l)}}),Vd.apply(this,arguments)}function Op(i,e,t){return qh.apply(this,arguments)}function qh(){return qh=(0,f.Z)(function*(i,e,t){const o=Jt(i);try{const l=yield function(g,C){const N=Jt(g);return N.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let te;return N.mutationQueue.lookupMutationBatch(K,C).next(ge=>(an(null!==ge),te=ge.keys(),N.mutationQueue.removeMutationBatch(K,ge))).next(()=>N.mutationQueue.performConsistencyCheck(K)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(K,te,C)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,te)).next(()=>N.localDocuments.getDocuments(K,te))})}(o.localStore,e);xp(o,e,t),Im(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield wo(o,l)}catch(l){yield Js(l)}}),qh.apply(this,arguments)}function Im(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function xp(i,e,t){const o=Jt(i);let l=o.hc[o.currentUser.toKey()];if(l){const g=l.get(e);g&&(t?g.reject(t):g.resolve(),l=l.remove(e)),o.hc[o.currentUser.toKey()]=l}}function Fc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||wm(i,o)})}function wm(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(ud(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Np(i))}function Zh(i,e,t){for(const o of t)o instanceof wp?(i.ac.addReference(o.key,e),Tm(i,o)):o instanceof $h?(Lt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||wm(i,o.key)):fn()}function Tm(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Lt("SyncEngine","New document in limbo: "+t),i.oc.add(o),Np(i))}function Np(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new qt(_r.fromString(e)),o=i.fc.next();i.cc.set(o,new Fy(t)),i.uc=i.uc.insert(t,o),Fh(i.remoteStore,new ju(Xi(jl(t.path)),o,2,ho.at))}}function wo(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,f.Z)(function*(i,e,t){const o=Jt(i),l=[],g=[],C=[];var N;o.ic.isEmpty()||(o.ic.forEach((N,K)=>{C.push(o._c(K,e,t).then(te=>{if((te||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(K.targetId,null!=te&&te.fromCache?"not-current":"current"),te){l.push(te);const ge=zg.Ci(K.targetId,te);g.push(ge)}}))}),yield Promise.all(C),o.sc.Wo(l),yield(N=(0,f.Z)(function*(K,te){const ge=Jt(K);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>ct.forEach(te,lt=>ct.forEach(lt.Si,Ot=>ge.persistence.referenceDelegate.addReference(xe,lt.targetId,Ot)).next(()=>ct.forEach(lt.Di,Ot=>ge.persistence.referenceDelegate.removeReference(xe,lt.targetId,Ot)))))}catch(xe){if(!Mo(xe))throw xe;Lt("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of te){const lt=xe.targetId;if(!xe.fromCache){const Ot=ge.qi.get(lt),mn=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);ge.qi=ge.qi.insert(lt,mn)}}}),function(K,te){return N.apply(this,arguments)})(o.localStore,g))}),Jh.apply(this,arguments)}function Uy(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,f.Z)(function*(i,e){const t=Jt(i);if(!t.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield Yg(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(C=>{C.forEach(N=>{N.reject(new Rt(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield wo(t,o.ji)}var l}),Sm.apply(this,arguments)}function Vy(i,e){const t=Jt(i),o=t.cc.get(e);if(o&&o.nc)return Vt().add(o.key);{let l=Vt();const g=t.rc.get(e);if(!g)return l;for(const C of g){const N=t.ic.get(C);l=l.unionWith(N.view.ju)}return l}}function jp(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yh.bind(null,e),e.sc.Wo=mv.bind(null,e.eventManager),e.sc.wc=yv.bind(null,e.eventManager),e}function Mm(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Op.bind(null,e),e}class Pm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.yt=Nd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return rp(this.persistence,new np,e.initialUser,this.yt)}yc(e){return new Zf(rc.Bs,this.yt)}gc(e){return new ic}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gy extends Pm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Mm(o.Ac.syncEngine),yield oc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return rp(this.persistence,new np,e.initialUser,this.yt)}Tc(e,t){return new Wf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Mu(t,this.persistence);return new Xa(e.asyncQueue,o)}yc(e){const t=function bh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Wa.withCacheSize(this.cacheSizeBytes):Wa.DEFAULT;return new tp(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,function My(){return"undefined"!=typeof window?window:null}(),up(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ic}}class Bd{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>zh(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=Uy.bind(null,o.syncEngine),yield function _p(i,e){return vp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),o=new pv(e.databaseInfo);return new Ry(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,g=N=>zh(this.syncEngine,N,0),C=Nh.C()?new Nh:new by,new sm(t,o,l,g,C);var t,o,l,g,C}createSyncEngine(e,t){return function(o,l,g,C,N,K,te){const ge=new ac(o,l,g,C,N,K);return te&&(ge.dc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=Jt(t);Lt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield ld(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hp(i,e,t){if(!t)throw new Rt(at.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jd(i){if(!qt.isDocumentKey(i))throw new Rt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nf(i){if(qt.isDocumentKey(i))throw new Rt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function kc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":fn()}function Ai(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Rt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kc(i);throw new Rt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const zy=new Map;class $p{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ky(i,e,t,o){if(!0===e&&!0===o)throw new Rt(at.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $p(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ol;switch(t.type){case"gapi":return new Bo(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Rt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zy.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),zy.delete(e),t.terminate())}(this),Promise.resolve()}}class fo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}}class qo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class ua extends qo{constructor(e,t,o){super(e,t,jl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new qt(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function sf(i,e,...t){if(i=(0,Q.m9)(i),Hp("collection","path",e),i instanceof pd){const o=_r.fromString(e,...t);return nf(o),new ua(i,null,o)}{if(!(i instanceof fo||i instanceof ua))throw new Rt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(_r.fromString(e,...t));return nf(o),new ua(i.firestore,null,o)}}function gd(i,e,...t){if(i=(0,Q.m9)(i),1===arguments.length&&(e=Ra.R()),Hp("doc","path",e),i instanceof pd){const o=_r.fromString(e,...t);return jd(o),new fo(i,null,new qt(o))}{if(!(i instanceof fo||i instanceof ua))throw new Rt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(_r.fromString(e,...t));return jd(o),new fo(i.firestore,i instanceof ua?i.converter:null,new qt(o))}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zy{constructor(e,t,o,l){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=qr.UNAUTHENTICATED,this.clientId=Ra.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var C=(0,f.Z)(function*(N){Lt("FirestoreClient","Received user=",N.uid),yield g.authCredentialListener(N),g.user=N});return function(N){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(Lt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Ud(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function xm(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(g){o.isEqual(g)||(yield Yg(e.localStore,g),o=g)});return function(g){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Kp.apply(this,arguments)}function zp(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Yp(i);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>fm(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,g)=>fm(e.remoteStore,g)),i.onlineComponents=e}),Hd.apply(this,arguments)}function Yp(i){return $d.apply(this,arguments)}function $d(){return $d=(0,f.Z)(function*(i){return i.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Pm)),i.offlineComponents}),$d.apply(this,arguments)}function cf(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,f.Z)(function*(i){return i.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield zp(i,new Bd)),i.onlineComponents}),Qp.apply(this,arguments)}function Ql(i){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,f.Z)(function*(i){const e=yield cf(i),t=e.eventManager;return t.onListen=Dm.bind(null,e.syncEngine),t.onUnlisten=ky.bind(null,e.syncEngine),t}),Lm.apply(this,arguments)}class ff{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lh(this,"async_queue_retry"),this.Wc=()=>{const t=up();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ci;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Mo(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Zi("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=Ep.createAndSchedule(this,e,t,o,g=>this.Yc(g));return this.Uc.push(l),l}zc(){this.Kc&&fn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Cl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class ts extends pd{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new ff,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vc(this),this._firestoreClient.terminate()}}function md(i,e){const t="object"==typeof i?i:(0,S.Mq)(),o="string"==typeof i?i:e||"(default)",l=(0,S.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const g=(0,Q.P0)("firestore");g&&function Rm(i,e,t,o={}){var l;const g=(i=Ai(i,pd))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&Vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let C,N;if("string"==typeof o.mockUserToken)C=o.mockUserToken,N=qr.MOCK_USER;else{C=(0,Q.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new Rt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new qr(K)}i._authCredentials=new Ui(new ql(C,N))}}(l,...g)}return l}function ks(i){return i._firestoreClient||Vc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Vc(i){var e;const t=i._freezeSettings(),o=(g=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ou(i._databaseId,g,i._persistenceKey,(N=t).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var g,N;i._firestoreClient=new Zy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function yd(i,e){!function Xp(i){if(i._initialized||i._terminated)throw new Rt(at.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=Ai(i,ts));const t=ks(i),o=i._freezeSettings(),l=new Bd;return function Bc(i,e,t){const o=new Ci;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield xm(i,t),yield zp(i,e),o.resolve()}catch(l){const g=l;if(!("FirebaseError"===(C=g).name?C.code===at.FAILED_PRECONDITION||C.code===at.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw g;Vo("Error enabling offline persistence. Falling back to persistence disabled: "+g),o.reject(g)}var C})).then(()=>o.promise)}(t,l,new Gy(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Gi.fromBase64String(e))}catch(t){throw new Rt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cc(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _d{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Rt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._methodName=e}}class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tr(this._lat,e._lat)||tr(this._long,e._long)}}const Fm=/^__.*__$/;class tg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Xt(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bt(e,this.data,t,this.fieldTransforms)}}class pf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Xt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function km(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class jc{constructor(e,t,o,l,g,C){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=l,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=C||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new jc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.ua(e),l}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(km(this.sa)&&Fm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class gf{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Nd(e)}da(e,t,o,l=!1){return new jc({sa:e,methodName:t,fa:o,path:Sr.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function dc(i){const e=i._freezeSettings(),t=Nd(i._databaseId);return new gf(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ng(i,e,t,o,l,g={}){const C=i.da(g.merge||g.mergeFields?2:0,e,t,l);yf("Data must be an object, but it was:",C,o);const N=og(o,C);let K,te;if(g.merge)K=new Ls(C.fieldMask),te=C.fieldTransforms;else if(g.mergeFields){const ge=[];for(const xe of g.mergeFields){const lt=_f(e,xe,t);if(!C.contains(lt))throw new Rt(at.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);vf(ge,lt)||ge.push(lt)}K=new Ls(ge),te=C.fieldTransforms.filter(xe=>K.covers(xe.field))}else K=null,te=C.fieldTransforms;return new tg(new eo(N),K,te)}class hc extends qd{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hc}}class Jd extends qd{_toFieldTransform(e){return new Gl(e.path,new Ol)}isEqual(e){return e instanceof Jd}}function sg(i,e,t,o=!1){return Hc(t,i.da(o?4:3,e))}function Hc(i,e){if(ag(i=(0,Q.m9)(i)))return yf("Unsupported field value:",e,i),og(i,e);if(i instanceof qd)return function(t,o){if(!km(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const l=[];let g=0;for(const C of t){let N=Hc(C,o.aa(g));null==N&&(N={nullValue:"NULL_VALUE"}),l.push(N),g++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Q.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ku(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ii.fromDate(t);return{timestampValue:It(o.yt,l)}}if(t instanceof ii){const l=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:It(o.yt,l)}}if(t instanceof eg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cc)return{bytesValue:pn(o.yt,t._byteString)};if(t instanceof fo){const l=o.databaseId,g=t.firestore._databaseId;if(!g.isEqual(l))throw o.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ji(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${kc(t)}`)}(i,e)}function og(i,e){const t={};return el(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(i,(o,l)=>{const g=Hc(l,e.ra(o));null!=g&&(t[o]=g)}),{mapValue:{fields:t}}}function ag(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ii||i instanceof eg||i instanceof cc||i instanceof fo||i instanceof qd)}function yf(i,e,t){if(!ag(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=kc(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function _f(i,e,t){if((e=(0,Q.m9)(e))instanceof _d)return e._internalPath;if("string"==typeof e)return Xd(i,e);throw eh("Field path arguments must be of type string or ",i,!1,void 0,t)}const l_=new RegExp("[~\\*/\\[\\]]");function Xd(i,e,t){if(e.search(l_)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new _d(...e.split("."))._internalPath}catch(o){throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function eh(i,e,t,o,l){const g=o&&!o.isEmpty(),C=void 0!==l;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let K="";return(g||C)&&(K+=" (found",g&&(K+=` in field ${o}`),C&&(K+=` in document ${l}`),K+=")"),new Rt(at.INVALID_ARGUMENT,N+i+K)}function vf(i,e){return i.some(t=>t.isEqual(e))}class vd{constructor(e,t,o,l,g){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bm extends vd{data(){return super.data()}}function th(i,e){return"string"==typeof e?Xd(i,e):e instanceof _d?e._internalPath:e._delegate._internalPath}function lg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Rt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ef{}class Ed extends Ef{}function jm(i,e,...t){let o=[];e instanceof Ef&&o.push(e),o=o.concat(t),function(l){const g=l.filter(N=>N instanceof nh).length,C=l.filter(N=>N instanceof Dd).length;if(g>1||g>0&&C>0)throw new Rt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class Dd extends Ed{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Dd(e,t,o)}_apply(e){const t=this._parse(e);return Km(e._query,t),new qo(e.firestore,e.converter,bl(e._query,t))}_parse(e){const t=dc(e.firestore);return function(l,g,C,N,K,te,ge){let xe;if(K.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new Rt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){ug(ge,te);const lt=[];for(const Ot of ge)lt.push(Wm(N,l,Ot));xe={arrayValue:{values:lt}}}else xe=Wm(N,l,ge)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||ug(ge,te),xe=sg(C,"where",ge,"in"===te||"not-in"===te);return Or.create(K,te,xe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class nh extends Ef{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nh(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Zr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let g=o;const C=l.getFlattenedFilters();for(const N of C)Km(g,N),g=bl(g,N)}(e._query,t),new qo(e.firestore,e.converter,bl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Df extends Ed{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Df(e,t)}_apply(e){const t=function(o,l,g){if(null!==o.startAt)throw new Rt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Rt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new rl(l,g);return function(N,K){if(null===Nu(N)){const te=ml(N);null!==te&&cg(0,te,K.field)}}(o,C),C}(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,function(o,l){const g=o.explicitOrderBy.concat([l]);return new gs(o.path,o.collectionGroup,g,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function c_(i,e="asc"){const t=e,o=th("orderBy",i);return Df._create(o,t)}class po extends Ed{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new po(e,t,o)}_apply(e){return new qo(e.firestore,e.converter,iu(e._query,this._limit,this._limitType))}}function Hm(i){return function rf(i,e){if(e<=0)throw new Rt(at.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),po._create("limit",i,"F")}class Cf extends Ed{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Cf(e,t,o)}_apply(e){const t=Gm(e,this.type,this._docOrFields,this._inclusive);return new qo(e.firestore,e.converter,(l=t,new gs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function h_(...i){return Cf._create("startAfter",i,!1)}class rh extends Ed{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new rh(e,t,o)}_apply(e){const t=Gm(e,this.type,this._docOrFields,this._inclusive);return new qo(e.firestore,e.converter,(l=t,new gs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function $m(...i){return rh._create("endBefore",i,!1)}function Gm(i,e,t,o){if(t[0]=(0,Q.m9)(t[0]),t[0]instanceof vd)return function(l,g,C,N,K){if(!N)throw new Rt(at.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const te=[];for(const ge of va(l))if(ge.field.isKeyField())te.push(ps(g,N.key));else{const xe=N.data.field(ge.field);if(F(xe))throw new Rt(at.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const lt=ge.field.canonicalString();throw new Rt(at.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}te.push(xe)}return new Ms(te,K)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=dc(i.firestore);return function(g,C,N,K,te,ge){const xe=g.explicitOrderBy;if(te.length>xe.length)throw new Rt(at.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Ot=0;Ot<te.length;Ot++){const jt=te[Ot];if(xe[Ot].field.isKeyField()){if("string"!=typeof jt)throw new Rt(at.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof jt}`);if(!Hl(g)&&-1!==jt.indexOf("/"))throw new Rt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${jt}' contains a slash.`);const mn=g.path.child(_r.fromString(jt));if(!qt.isDocumentKey(mn))throw new Rt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${mn}' is not because it contains an odd number of segments.`);const Qn=new qt(mn);lt.push(ps(C,Qn))}else{const mn=sg(N,K,jt);lt.push(mn)}}return new Ms(lt,ge)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Wm(i,e,t){if("string"==typeof(t=(0,Q.m9)(t))){if(""===t)throw new Rt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hl(e)&&-1!==t.indexOf("/"))throw new Rt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(_r.fromString(t));if(!qt.isDocumentKey(o))throw new Rt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ps(i,new qt(o))}if(t instanceof fo)return ps(i,t._key);throw new Rt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kc(t)}.`)}function ug(i,e){if(!Array.isArray(i)||0===i.length)throw new Rt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Rt(at.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Km(i,e){if(e.isInequality()){const o=ml(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new Rt(at.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const g=Nu(i);null!==g&&cg(0,l,g)}const t=function(o,l){for(const g of o)for(const C of g.getFlattenedFilters())if(l.indexOf(C.op)>=0)return C.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Rt(at.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function cg(i,e,t){if(!t.isEqual(e))throw new Rt(at.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class $c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gc extends vd{constructor(e,t,o,l,g,C){super(e,t,o,l,C),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Nl extends Gc{data(e={}){return super.data(e)}}class za{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new $c(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Nl(this._firestore,this._userDataWriter,o.key,o,new $c(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let g=0;return o._snapshot.docChanges.map(C=>({type:"added",doc:new Nl(o._firestore,o._userDataWriter,C.doc.key,C.doc,new $c(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:g++}))}{let g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(C=>l||3!==C.type).map(C=>{const N=new Nl(o._firestore,o._userDataWriter,C.doc.key,C.doc,new $c(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter);let K=-1,te=-1;return 0!==C.type&&(K=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),te=g.indexOf(C.doc.key)),{type:fu(C.type),doc:N,oldIndex:K,newIndex:te}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}function zm(i){i=Ai(i,fo);const e=Ai(i.firestore,ts);return function hf(i,e,t={}){const o=new Ci;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,g,C,N,K){const te=new lf({next:xe=>{g.enqueueAndForget(()=>mm(l,ge));const lt=xe.docs.has(C);!lt&&xe.fromCache?K.reject(new Rt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&xe.fromCache&&N&&"server"===N.source?K.reject(new Rt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(xe)},error:xe=>K.reject(xe)}),ge=new vm(jl(C.path),te,{includeMetadataChanges:!0,Nu:!0});return pm(l,ge)}(yield Ql(i),i.asyncQueue,e,t,o)})),o.promise}(ks(e),i._key).then(t=>wf(e,i,t))}class fc extends class dg{convertValue(e,t="none"){switch(Je(e)){case 0:return null;case 1:return e.booleanValue;case 2:return O(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(T(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fn()}}convertObject(e,t){const o={};return $o(e.fields,(l,g)=>{o[l]=this.convertValue(g,t)}),o}convertGeoPoint(e){return new eg(O(e.latitude),O(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=$(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ie(e));default:return null}}convertTimestamp(e){const t=M(e);return new ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=_r.fromString(e);an(Pf(o));const l=new Fa(o.get(1),o.get(3)),g=new qt(o.popFirst(5));return l.isEqual(t)||Zi(`Document ${g} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,t)}}function g_(i){i=Ai(i,fo);const e=Ai(i.firestore,ts),t=ks(e),o=new fc(e);return function Xy(i,e){const t=new Ci;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(l,g,C){try{const N=yield function(K,te){const ge=Jt(K);return ge.persistence.runTransaction("read document","readonly",xe=>ge.localDocuments.getDocument(xe,te))}(l,g);N.isFoundDocument()?C.resolve(N):N.isNoDocument()?C.resolve(null):C.reject(new Rt(at.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const K=Ud(N,`Failed to get document '${g} from cache`);C.reject(K)}}),function(l,g,C){return o.apply(this,arguments)})(yield function df(i){return Yp(i).then(e=>e.localStore)}(i),e,t);var o})),t.promise}(t,i._key).then(l=>new Gc(e,o,i._key,l,new $c(null!==l&&l.hasLocalMutations,!0),i.converter))}function m_(i){i=Ai(i,qo);const e=Ai(i.firestore,ts),t=ks(e),o=new fc(e);return lg(i._query),function hu(i,e,t={}){const o=new Ci;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,g,C,N,K){const te=new lf({next:xe=>{g.enqueueAndForget(()=>mm(l,ge)),xe.fromCache&&"server"===N.source?K.reject(new Rt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(xe)},error:xe=>K.reject(xe)}),ge=new vm(C,te,{includeMetadataChanges:!0,Nu:!0});return pm(l,ge)}(yield Ql(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(l=>new za(e,o,i,l))}function Qm(i,e,t,...o){i=Ai(i,fo);const l=Ai(i.firestore,ts),g=dc(l);let C;return C="string"==typeof(e=(0,Q.m9)(e))||e instanceof _d?function mf(i,e,t,o,l,g){const C=i.da(1,e,t),N=[_f(e,o,t)],K=[l];if(g.length%2!=0)throw new Rt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<g.length;lt+=2)N.push(_f(e,g[lt])),K.push(g[lt+1]);const te=[],ge=eo.empty();for(let lt=N.length-1;lt>=0;--lt)if(!vf(te,N[lt])){const Ot=N[lt];let jt=K[lt];jt=(0,Q.m9)(jt);const mn=C.ca(Ot);if(jt instanceof hc)te.push(Ot);else{const Qn=Hc(jt,mn);null!=Qn&&(te.push(Ot),ge.set(Ot,Qn))}}const xe=new Ls(te);return new pf(ge,xe,C.fieldTransforms)}(g,"updateDoc",i._key,e,t,o):function ig(i,e,t,o){const l=i.da(1,e,t);yf("Data must be an object, but it was:",l,o);const g=[],C=eo.empty();$o(o,(K,te)=>{const ge=Xd(e,K,t);te=(0,Q.m9)(te);const xe=l.ca(ge);if(te instanceof hc)g.push(ge);else{const lt=Hc(te,xe);null!=lt&&(g.push(ge),C.set(ge,lt))}});const N=new Ls(g);return new pf(C,N,l.fieldTransforms)}(g,"updateDoc",i._key,e),oh(l,[C.toMutation(i._key,y.exists(!0))])}function y_(i){return oh(Ai(i.firestore,ts),[new Nn(i._key,y.none())])}function qm(i,e){const t=Ai(i.firestore,ts),o=gd(i),l=function sh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return oh(t,[ng(dc(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,y.exists(!1))]).then(()=>o)}function Zm(i,...e){var t,o,l;i=(0,Q.m9)(i);let g={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Cl(e[C])||(g=e[C],C++);const N={includeMetadataChanges:g.includeMetadataChanges};if(Cl(e[C])){const xe=e[C];e[C]=null===(t=xe.next)||void 0===t?void 0:t.bind(xe),e[C+1]=null===(o=xe.error)||void 0===o?void 0:o.bind(xe),e[C+2]=null===(l=xe.complete)||void 0===l?void 0:l.bind(xe)}let K,te,ge;if(i instanceof fo)te=Ai(i.firestore,ts),ge=jl(i._key.path),K={next:xe=>{e[C]&&e[C](wf(te,i,xe))},error:e[C+1],complete:e[C+2]};else{const xe=Ai(i,qo);te=Ai(xe.firestore,ts),ge=xe._query;const lt=new fc(te);K={next:Ot=>{e[C]&&e[C](new za(te,lt,xe,Ot))},error:e[C+1],complete:e[C+2]},lg(i._query)}return function(xe,lt,Ot,jt){const mn=new lf(jt),Qn=new vm(lt,mn,Ot);return xe.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return pm(yield Ql(xe),Qn)})),()=>{mn.bc(),xe.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return mm(yield Ql(xe),Qn)}))}}(ks(te),ge,N,K)}function oh(i,e){return function(t,o){const l=new Ci;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Wh(i,e,t){return lc.apply(this,arguments)}(yield function Zp(i){return cf(i).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(ks(i),e)}function wf(i,e,t){const o=t.docs.get(e._key),l=new fc(i);return new Gc(i,l,e._key,o,new $c(t.hasPendingWrites,t.fromCache),e.converter)}function ey(){return new Jd("serverTimestamp")}!function(i,e=!0){Qi=S.Jn,(0,S.Xd)(new ne.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const g=t.getProvider("app").getImmediate(),C=new ts(new Ns(t.getProvider("auth-internal")),new Oa(t.getProvider("app-check-internal")),function(N,K){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new Rt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(N.options.projectId,K)}(g,o),g);return l=Object.assign({useFetchStreams:e},l),C._setSettings(l),C},"PUBLIC").setMultipleInstances(!0)),(0,S.KN)(Cs,"3.8.3",i),(0,S.KN)(Cs,"3.8.3","esm2017")}()},5861:(Ce,ae,D)=>{function f(ne,H,Q,de,re,q,he){try{var Z=ne[q](he),ee=Z.value}catch(le){return void Q(le)}Z.done?H(ee):Promise.resolve(ee).then(de,re)}function S(ne){return function(){var H=this,Q=arguments;return new Promise(function(de,re){var q=ne.apply(H,Q);function he(ee){f(q,de,re,he,Z,"next",ee)}function Z(ee){f(q,de,re,he,Z,"throw",ee)}he(void 0)})}}D.d(ae,{Z:()=>S})},4147:Ce=>{Ce.exports={i8:"0.0.18"}}},Ce=>{Ce(Ce.s=78)}]);