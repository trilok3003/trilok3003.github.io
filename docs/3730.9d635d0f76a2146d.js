"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[3730],{3158:(E,u,o)=>{o.r(u),o.d(u,{default:()=>i});var d=o(467),t=o(4438),e=o(1626);let C=(()=>{class r{constructor(){this.http=(0,t.WQX)(e.Qq)}getProducts(){return this.http.get("https://api.escuelajs.co/api/v1/products")}getProductsByCategoryID(s){return this.http.get(`https://api.escuelajs.co/api/v1/categories/${s}/products`)}static{this.\u0275fac=function(v){return new(v||r)}}static{this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var p=o(9079),c=o(9482),f=o(6693),n=o(177),m=o(3521),g=o(6026),_=o(9637),P=o(8475),x=o(1917),I=o(1751);const w=(r,y)=>y.id;function j(r,y){1&r&&t.EFF(0),2&r&&t.SpI(" ",y.$implicit.name," ")}function h(r,y){1&r&&t.nrm(0,"app-theme-loader",5)}function M(r,y){if(1&r){const s=t.RV6();t.j41(0,"app-list-item"),t.nrm(1,"img",6),t.j41(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"p",7),t.EFF(5),t.nI1(6,"currency"),t.k0s(),t.j41(7,"p",8),t.EFF(8),t.k0s(),t.j41(9,"button",9),t.bIt("click",function(){const b=t.eBV(s).$implicit,O=t.XpG(2);return t.Njj(O.buyNow(b))}),t.EFF(10,"Buy Now"),t.k0s()()}if(2&r){const s=y.$implicit;t.R7$(),t.FS9("src",s.images[0],t.B4B),t.FS9("alt",s.title),t.R7$(2),t.JRh(s.title),t.R7$(2),t.JRh(t.bMT(6,5,s.price)),t.R7$(3),t.JRh(s.description)}}function a(r,y){if(1&r&&(t.j41(0,"app-list"),t.Z7z(1,M,11,7,"app-list-item",null,w),t.k0s()),2&r){const s=t.XpG();t.R7$(),t.Dyx(s.products.value())}}function l(r,y){if(1&r){const s=t.RV6();t.j41(0,"div")(1,"app-theme-alert",10),t.EFF(2),t.k0s(),t.j41(3,"button",11),t.bIt("click",function(){t.eBV(s);const b=t.XpG();return t.Njj(b.products.reload())}),t.EFF(4," realod "),t.k0s()()}if(2&r){const s=t.XpG();t.R7$(),t.Y8G("dismissible",!1),t.R7$(),t.SpI(" ",s.products.error()," ")}}let i=(()=>{class r{constructor(){this.ecommerceService=(0,t.WQX)(C),this.jsonDataService=(0,t.WQX)(c.y),this.cartService=(0,t.WQX)(m.m),this.modelService=(0,t.WQX)(g.Bg),this.counts=this.cartService.cartCount,this.productsKey="esc-products",this.categoriesKey="esc-categories",this.categories=(0,p.ZX)({loader:()=>this.jsonDataService.getById(this.categoriesKey)}),this.products=(0,p.ZX)({loader:()=>this.jsonDataService.getById(this.productsKey)}),this.selectedCategory=(0,t.uuI)({source:this.categories.value,computation:s=>s&&s[0]})}onSelectCategory(s){this.selectedCategory.set(s.id)}buyNow(s){this.cartService.addItem({productId:s.id,productName:s.title,price:s.price,image:s.images[0],quantity:1}),this.viewCart()}viewCart(){var s=this;return(0,d.A)(function*(){const{CartComponent:v}=yield o.e(9036).then(o.bind(o,9036));s.modelService.openWithComponent(v,{title:"Cart",styles:{width:"max-content",position:"right"}}).subscribe(b=>{})})()}static{this.\u0275fac=function(v){return new(v||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-ecommerce"]],decls:13,vars:3,consts:[[1,"top"],["displayKey","name",3,"select","options"],["aria-hidden","true","viewBox","0 0 24 24"],["d","M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"],[1,"main"],["spinSize","small"],[3,"src","alt"],[1,"price"],[1,"description"],[1,"buy-now",3,"click"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","large",3,"click"]],template:function(v,b){1&v&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"E-COMMERCE"),t.k0s(),t.j41(3,"app-theme-select-menu",1),t.bIt("select",function(k){return b.onSelectCategory(k)}),t.DNE(4,j,1,1,"ng-template"),t.k0s(),t.j41(5,"div"),t.qSk(),t.j41(6,"svg",2),t.nrm(7,"path",3),t.k0s(),t.EFF(8),t.k0s()(),t.joV(),t.j41(9,"div",4),t.DNE(10,h,1,0,"app-theme-loader",5)(11,a,3,0,"app-list")(12,l,5,2,"div"),t.k0s()),2&v&&(t.R7$(3),t.Y8G("options",b.categories.value()),t.R7$(5),t.SpI(" ",b.counts()," "),t.R7$(2),t.vxM(b.products.isLoading()?10:b.products.hasValue()?11:12))},dependencies:[x.P,I.s,P.Fv,_.C,f.y,n.CurrencyPipe],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:100px 1fr;min-height:100dvh;height:100%;gap:1rem}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   .top[_ngcontent-%COMP%]{box-shadow:var(--shadow-1);background-color:var(--secondary-color);color:var(--white);display:flex;justify-content:space-between}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{box-shadow:var(--shadow-3)}img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}h3[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.5rem);margin-top:15px;color:#333}.price[_ngcontent-%COMP%]{font-size:clamp(1.1rem,3vw,1.25rem);color:#2c3e50;font-weight:700;margin-top:5px}.description[_ngcontent-%COMP%]{font-size:1rem;color:#7f8c8d;margin-top:10px}.buy-now[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:10px 20px;margin-top:15px;font-size:1rem;cursor:pointer;border-radius:5px;transition:background-color .3s ease}.buy-now[_ngcontent-%COMP%]:hover{background-color:#2980b9}svg[_ngcontent-%COMP%]{fill:gray}"]})}}return r})()},3521:(E,u,o)=>{o.d(u,{m:()=>t});var d=o(4438);let t=(()=>{class e{constructor(){this.cartItems=(0,d.vPA)([]),this.cartCount=(0,d.EWP)(()=>this.cartItems().length),this.subTotal=(0,d.EWP)(()=>this.cartItems().reduce((p,c)=>p+c.quantity*c.price,0)),this.deliveryFee=(0,d.EWP)(()=>this.subTotal()<1e3?50:0),this.tax=(0,d.EWP)(()=>Math.round(10.75*this.subTotal())/100),this.total=(0,d.EWP)(()=>this.subTotal()+this.deliveryFee()+this.tax()),this.discount=(0,d.EWP)(()=>.1*this.total()),this.finalTotal=(0,d.EWP)(()=>this.total()-this.discount())}addItem(p){const c=this.cartItems().find(f=>f.productId===p.productId);c?this.updateInCart(c,c.quantity+1):this.cartItems.update(f=>[...f,{...p,quantity:1}])}removeItem(p){this.cartItems.update(c=>c.filter(f=>f.productId!==p))}updateInCart(p,c){this.cartItems.update(f=>f.map(n=>n.productId===p.productId?{...p,quantity:c}:n))}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},4715:(E,u,o)=>{o.d(u,{jr:()=>d.j});var d=o(4277);o(308),o(4080),o(5322),o(6274)},5676:(E,u,o)=>{o.d(u,{dG:()=>e.d,Gj:()=>t.G}),o(1681);var t=o(7987),e=o(1240)},6026:(E,u,o)=>{o.d(u,{OT:()=>g.OT,Bg:()=>m,Gj:()=>_.Gj,jr:()=>d.jr,fw:()=>j.fw});var d=o(4715),t=o(177),e=o(4438),C=o(1413);const p=["*"];function c(h,M){if(1&h&&(e.j41(0,"small"),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&h){const a=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,a.subTitle))}}function f(h,M){if(1&h){const a=e.RV6();e.j41(0,"span",6),e.bIt("click",function(){e.eBV(a);const i=e.XpG();return e.Njj(i.close())}),e.EFF(1,"\u2715"),e.k0s()}}let n=(()=>{class h{constructor(a){this.elementRef=a,this.closeControls={closeIcon:!0,escKey:!0,outsideClick:!0},this.closeEvent=new e.bkB,this.submitEvent=new e.bkB}onEscape(){this.closeControls?.escKey&&this.close()}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(){this.elementRef.nativeElement.remove(),this.submitEvent.emit()}outsideClick(){this.closeControls.outsideClick&&this.close()}static{this.\u0275fac=function(l){return new(l||h)(e.rXU(e.aKT))}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["ng-modal"]],hostBindings:function(l,i){1&l&&e.bIt("keydown.escape",function(){return i.onEscape()},!1,e.EBC)},inputs:{title:"title",subTitle:"subTitle",closeControls:"closeControls",styles:"styles"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!1,ngContentSelectors:p,decls:10,vars:10,consts:[[1,"popup-modal",3,"ngClass"],[1,"popup-modal-header"],[4,"ngIf"],["class","popup-modal-close",3,"click",4,"ngIf"],[1,"popup-modal-content"],[1,"popup-modal-backdrop",3,"click"],[1,"popup-modal-close",3,"click"]],template:function(l,i){1&l&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"span"),e.EFF(4),e.k0s(),e.DNE(5,c,3,3,"small",2),e.k0s(),e.DNE(6,f,2,0,"span",3),e.k0s(),e.j41(7,"div",4),e.SdG(8),e.k0s()(),e.j41(9,"div",5),e.bIt("click",function(){return i.outsideClick()}),e.k0s()),2&l&&(e.xc7("background",null==i.styles?null:i.styles.background)("height",null==i.styles?null:i.styles.height)("width",null==i.styles?null:i.styles.width),e.Y8G("ngClass",null==i.styles?null:i.styles.position),e.R7$(4),e.JRh(i.title),e.R7$(),e.Y8G("ngIf",i.subTitle),e.R7$(),e.Y8G("ngIf",null==i.closeControls?null:i.closeControls.closeIcon))},dependencies:[t.NgClass,t.NgIf,t.TitleCasePipe],styles:[".popup-modal-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000000b3;position:fixed;inset:0;z-index:200}.popup-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:201;width:500px;height:fit-content;max-width:100%;max-height:100%;margin:auto;padding:20px;background-color:#fff;border-radius:5px;overflow-y:auto;transition:all 5s ease-in-out}.popup-modal.right[_ngcontent-%COMP%]{left:unset;right:0;border-radius:0;height:100%;width:min-content}.popup-modal.left[_ngcontent-%COMP%]{left:0;right:unset;border-radius:0;height:100%;width:min-content}.popup-modal.top[_ngcontent-%COMP%]{bottom:unset;top:0;border-radius:0;width:100%}.popup-modal.bottom[_ngcontent-%COMP%]{bottom:0;top:unset;border-radius:0;width:100%}.popup-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;margin-bottom:20px;font-weight:700}.popup-modal-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;display:block}.popup-modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.popup-modal-close[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s}.popup-modal-close[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media screen and (max-width: 768px){.popup-modal[_ngcontent-%COMP%]{bottom:0;top:unset;left:unset;transform:unset;border-radius:10px 10px 0 0;width:100%!important}}"]})}}return h})(),m=(()=>{class h{constructor(a,l,i){this.document=a,this.envInjector=l,this.appRef=i}openWithComponent(a,l){const i=(0,e.a0P)(a,{environmentInjector:this.envInjector});return this.configInnerComponent(i,l),this.modelComponent=(0,e.a0P)(n,{environmentInjector:this.envInjector,projectableNodes:[[i.location.nativeElement]]}),this.configModalComponent(l),document.body.appendChild(this.modelComponent.location.nativeElement),document.body.style.overflow="hidden",this.appRef.attachView(i.hostView),this.appRef.attachView(this.modelComponent.hostView),this.modalNotifier=new C.B,this.modalNotifier?.asObservable()}openWithTemplate(a,l){const i=a.createEmbeddedView(null);return this.modelComponent=(0,e.a0P)(n,{environmentInjector:this.envInjector,projectableNodes:[i.rootNodes]}),this.configModalComponent(l),document.body.appendChild(this.modelComponent.location.nativeElement),document.body.style.overflow="hidden",this.modalNotifier=new C.B,this.modalNotifier?.asObservable()}closeModal(){document.body.style.overflow="revert",this.modelComponent.destroy(),this.modalNotifier?.complete()}submitModal(a="confirm"){this.modalNotifier?.next(a),this.closeModal()}configModalComponent(a){this.modelComponent.instance.title=a?.title,this.modelComponent.instance.subTitle=a?.subTitle,this.modelComponent.instance.styles=a?.styles,this.modelComponent.instance.closeControls=a.closeControls??{closeIcon:!0,escKey:!0,outsideClick:!0},this.modelComponent.instance.closeEvent.subscribe(()=>this.closeModal()),this.modelComponent.instance.submitEvent.subscribe(()=>this.submitModal()),this.modelComponent.hostView.detectChanges()}configInnerComponent(a,l){a.instance.data=l.data??null,l.inputs&&Object.entries(l.inputs).forEach(([i,r])=>{a.setInput(i,r)}),a.instance.close=()=>this.closeModal(),a.instance.submit=i=>this.submitModal(i)}static{this.\u0275fac=function(l){return new(l||h)(e.KVO(t.DOCUMENT),e.KVO(e.uvJ),e.KVO(e.o8S))}}static{this.\u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();var g=o(8410),_=o(5676);o(7428);var j=o(1111)},7765:(E,u,o)=>{o.d(u,{u:()=>p});var d=o(467),t=o(4438),e=o(1994),C=o(8591);let p=(()=>{class c{constructor(){this.db=(0,t.WQX)(e.h),this.storageService=(0,t.WQX)(C._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(n=""){return n?`${this.fullPath}/${n}`:this.fullPath}create(n,m){return this.db.create(this.generatePath(m),n)}get$(){return this.db.readRealtime$(this.fullPath)}getById(n){return this.db.readRealtimeOriginal$(`${this.fullPath}/${n}`)}update(n,m){return this.db.update(`${this.fullPath}/${n}`,m)}remove(n){return this.db.remove(`${this.fullPath}/${n}`)}set(n,m){return this.db.set(this.generatePath(n),m)}getKeys$(n=""){return this.db.getKeys$(this.generatePath(n))}getKeys(n=""){return this.db.getKeys(this.generatePath(n))}readOnce(n=""){return this.db.readOnce(this.generatePath(n))}read$(n=""){return this.db.readRealtime$(this.generatePath(n))}clearDb(){return this.set("",null)}updateCounter(n,m=!0){return this.db.updateCounterV2(this.generatePath(n),m)}createWithFile(n,m,g){var _=this;return(0,d.A)(function*(){if(!m)throw new Error("Please select an image.");const P=yield _.storageService.uploadFile(_.basePath,m,g),x={...n,imageUrl:P};yield _.create(x)})()}uploadFile(n,m){var g=this;return(0,d.A)(function*(){if(!n)throw new Error("Please select an image.");return yield g.storageService.uploadFile(g.basePath,n,m)})()}extractAndUploadFiles(n,m){var g=this;return(0,d.A)(function*(){return g.storageService.extractAndUploadFiles(n,g.basePath,m)})()}static{this.\u0275fac=function(m){return new(m||c)}}static{this.\u0275prov=t.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()}}]);