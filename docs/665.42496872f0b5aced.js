"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[665],{665:(g,c,o)=>{o.r(c),o.d(c,{default:()=>p});var e=o(4438),d=o(9417),u=o(177),h=o(7765);let _=(()=>{class t extends h.u{constructor(){super(...arguments),this.basePath="presentationEditor-db",this.endpoint=""}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=e.xGo(t)))(r||t)}})()}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function l(t,s){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"input",5),e.mxI("ngModelChange",function(r){e.eBV(n);const a=e.XpG();return e.DH7(a.currentSlide.title,r)||(a.currentSlide.title=r),e.Njj(r)}),e.bIt("ngModelChange",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.onEdit())}),e.k0s(),e.j41(2,"textarea",6),e.mxI("ngModelChange",function(r){e.eBV(n);const a=e.XpG();return e.DH7(a.currentSlide.content,r)||(a.currentSlide.content=r),e.Njj(r)}),e.bIt("ngModelChange",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.onEdit())}),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(),e.R50("ngModel",n.currentSlide.title),e.R7$(),e.R50("ngModel",n.currentSlide.content)}}let p=(()=>{class t{constructor(){this.api=(0,e.WQX)(_),this.presentationId="demo-room",this.slides=[],this.currentSlideId=null,this.currentSlide=null}ngOnInit(){this.api.read$(this.presentationId).subscribe(n=>{this.slides=n.sort((i,r)=>i.order-r.order),!this.currentSlideId&&n.length&&this.setCurrentSlide(n[0].id)})}setCurrentSlide(n){this.currentSlideId=n,this.api.getById(`${this.presentationId}/${n}`).subscribe(i=>{this.currentSlide=i})}onEdit(){this.currentSlide&&this.api.update(`${this.presentationId}/${this.currentSlide.key}`,{title:this.currentSlide.title,content:this.currentSlide.content})}addSlide(){this.api.create({title:"New Slide",content:"",order:this.slides.length},this.presentationId).then(i=>{this.setCurrentSlide(i.key)})}nextSlide(){const n=this.slides.findIndex(i=>i.key===this.currentSlideId);n>=0&&n<this.slides.length-1&&this.setCurrentSlide(this.slides[n+1].key)}prevSlide(){const n=this.slides.findIndex(i=>i.key===this.currentSlideId);n>0&&this.setCurrentSlide(this.slides[n-1].key)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-presentation-editor"]],decls:11,vars:2,consts:[[1,"presentation-editor"],[1,"slide-nav"],[3,"click"],["class","slide-view",4,"ngIf"],[1,"slide-view"],["type","text","placeholder","Slide Title",3,"ngModelChange","ngModel"],["placeholder","Write your content here...",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return r.prevSlide()}),e.EFF(3,"\u2b05\ufe0f Prev"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"button",2),e.bIt("click",function(){return r.nextSlide()}),e.EFF(7,"Next \u27a1\ufe0f"),e.k0s(),e.j41(8,"button",2),e.bIt("click",function(){return r.addSlide()}),e.EFF(9,"\u2795 New Slide"),e.k0s()(),e.DNE(10,l,3,2,"div",3),e.k0s()),2&i&&(e.R7$(5),e.JRh((null==r.currentSlide?null:r.currentSlide.title)||"No slide"),e.R7$(5),e.Y8G("ngIf",r.currentSlide))},dependencies:[u.CommonModule,u.NgIf,d.YN,d.me,d.BC,d.vS],styles:[".presentation-editor[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;font-family:sans-serif}.presentation-editor[_ngcontent-%COMP%]   .slide-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#f5f5f5;padding:8px 12px;border-radius:6px;margin-bottom:1rem}.presentation-editor[_ngcontent-%COMP%]   .slide-view[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1rem;background:#fff}.presentation-editor[_ngcontent-%COMP%]   .slide-view[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.2rem;width:100%;margin-bottom:1rem}.presentation-editor[_ngcontent-%COMP%]   .slide-view[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:300px;font-size:1rem}"]})}}return t})()},7765:(g,c,o)=>{o.d(c,{u:()=>_});var e=o(467),d=o(4438),u=o(1994),h=o(8591);let _=(()=>{class l{constructor(){this.db=(0,d.WQX)(u.h),this.storageService=(0,d.WQX)(h._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(t=""){return t?`${this.fullPath}/${t}`:this.fullPath}create(t,s){return this.db.create(this.generatePath(s),t)}get$(){return this.db.readRealtime$(this.fullPath)}getById(t){return this.db.readRealtimeOriginal$(`${this.fullPath}/${t}`)}update(t,s){return this.db.update(`${this.fullPath}/${t}`,s)}remove(t){return this.db.remove(`${this.fullPath}/${t}`)}set(t,s){return this.db.set(this.generatePath(t),s)}getKeys$(t=""){return this.db.getKeys$(this.generatePath(t))}getKeys(t=""){return this.db.getKeys(this.generatePath(t))}readOnce(t=""){return this.db.readOnce(this.generatePath(t))}read$(t=""){return this.db.readRealtime$(this.generatePath(t))}clearDb(){return this.set("",null)}updateCounter(t,s=!0){return this.db.updateCounterV2(this.generatePath(t),s)}createWithFile(t,s,n){var i=this;return(0,e.A)(function*(){if(!s)throw new Error("Please select an image.");const r=yield i.storageService.uploadFile(i.basePath,s,n),a={...t,imageUrl:r};yield i.create(a)})()}uploadFile(t,s){var n=this;return(0,e.A)(function*(){if(!t)throw new Error("Please select an image.");return yield n.storageService.uploadFile(n.basePath,t,s)})()}extractAndUploadFiles(t,s){var n=this;return(0,e.A)(function*(){return n.storageService.extractAndUploadFiles(t,n.basePath,s)})()}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()}}]);