"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[2380],{3288:(D,h,_)=>{_.r(h),_.d(h,{default:()=>I});var c=_(177),g=_(9417),b=_(5558),f=_(6354),t=_(4438),u=_(1468),C=_(7901);const r=()=>["for","against"],i=(s,l)=>({post:s,side:l});function d(s,l){if(1&s&&(t.j41(0,"p",6),t.EFF(1),t.k0s()),2&s){const e=t.XpG().ngIf;t.R7$(),t.JRh(e.description)}}function m(s,l){1&s&&t.eu8(0)}function x(s,l){if(1&s&&(t.qex(0),t.DNE(1,m,1,0,"ng-container",13),t.bVm()),2&s){const e=l.$implicit,o=t.XpG(2).$implicit;t.XpG(2);const n=t.sdS(3);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.l_i(2,i,e,o))}}function P(s,l){if(1&s&&(t.qex(0),t.DNE(1,x,2,5,"ng-container",5),t.bVm()),2&s){const e=l.ngIf;t.R7$(),t.Y8G("ngForOf",e)}}function v(s,l){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"div",7)(2,"h2"),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.j41(5,"input",8),t.mxI("ngModelChange",function(n){const a=t.eBV(e).$implicit,p=t.XpG(2);return t.DH7(p.usernames[a],n)||(p.usernames[a]=n),t.Njj(n)}),t.k0s(),t.j41(6,"textarea",9),t.mxI("ngModelChange",function(n){const a=t.eBV(e).$implicit,p=t.XpG(2);return t.DH7(p.newPost[a],n)||(p.newPost[a]=n),t.Njj(n)}),t.k0s(),t.j41(7,"button",10),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.postArgument(n))}),t.EFF(8,"Post"),t.k0s(),t.j41(9,"div",11),t.DNE(10,P,2,1,"ng-container",12),t.nI1(11,"async"),t.k0s()(),t.bVm()}if(2&s){const e=l.$implicit,o=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,4,e)),t.R7$(2),t.R50("ngModel",o.usernames[e]),t.R7$(),t.R50("ngModel",o.newPost[e]),t.R7$(4),t.Y8G("ngIf",t.bMT(11,6,o.getPosts(e)))}}function y(s,l){if(1&s&&(t.j41(0,"div",2)(1,"h1"),t.EFF(2),t.k0s(),t.DNE(3,d,2,1,"p",3),t.j41(4,"div",4),t.DNE(5,v,12,8,"ng-container",5),t.k0s()()),2&s){const e=l.ngIf;t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("ngIf",e.description),t.R7$(2),t.Y8G("ngForOf",t.lJ4(3,r))}}function M(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",21)(1,"input",8),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG().post,p=t.XpG();return t.DH7(p.replyInputs[a.key].name,n)||(p.replyInputs[a.key].name=n),t.Njj(n)}),t.k0s(),t.j41(2,"textarea",22),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG().post,p=t.XpG();return t.DH7(p.replyInputs[a.key].text,n)||(p.replyInputs[a.key].text=n),t.Njj(n)}),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(e);const n=t.XpG().post,a=t.XpG();return t.Njj(a.postReply(n))}),t.EFF(4,"Post Reply"),t.k0s()()}if(2&s){const e=t.XpG().post,o=t.XpG();t.R7$(),t.R50("ngModel",o.replyInputs[e.key].name),t.R7$(),t.R50("ngModel",o.replyInputs[e.key].text)}}function O(s,l){if(1&s&&(t.j41(0,"div",23)(1,"strong"),t.EFF(2),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.EFF(6),t.k0s()),2&s){const e=l.$implicit;t.R7$(2),t.JRh(e.username),t.R7$(2),t.JRh(t.i5U(5,3,e.timestamp,"short")),t.R7$(2),t.SpI(": ",e.content," ")}}function R(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",14)(1,"strong"),t.EFF(2),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s(),t.j41(8,"div",16)(9,"button",10),t.bIt("click",function(){const n=t.eBV(e).post,a=t.XpG();return t.Njj(a.vote(n,1))}),t.EFF(10),t.k0s(),t.j41(11,"button",10),t.bIt("click",function(){const n=t.eBV(e).post,a=t.XpG();return t.Njj(a.vote(n,-1))}),t.EFF(12),t.k0s()(),t.j41(13,"button",17),t.bIt("click",function(){const n=t.eBV(e).post,a=t.XpG();return t.Njj(a.toggleReplyBox(n))}),t.EFF(14,"Reply"),t.k0s(),t.DNE(15,M,5,2,"div",18),t.j41(16,"div",19),t.DNE(17,O,7,6,"div",20),t.k0s()()}if(2&s){const e=l.post;t.R7$(2),t.JRh(e.username),t.R7$(2),t.JRh(t.i5U(5,7,e.timestamp,"short")),t.R7$(3),t.JRh(e.content),t.R7$(3),t.SpI("\u{1f44d} ",e.upvotes,""),t.R7$(2),t.SpI("\u{1f44e} ",e.downvotes,""),t.R7$(3),t.Y8G("ngIf",e.showReplyBox),t.R7$(2),t.Y8G("ngForOf",e.replies)}}let I=(()=>{class s{constructor(e,o){this.debateService=e,this.route=o,this.usernames={for:"",against:""},this.newPost={for:"",against:""},this.replyInputs={},this.posts$={for:this.getFilteredPosts("for"),against:this.getFilteredPosts("against")}}ngOnInit(){this.debate$=this.route.paramMap.pipe((0,b.n)(e=>(this.debateId=e.get("id"),this.debateService.getDebateById$(this.debateId))))}getFilteredPosts(e){return this.debateService.getPosts$().pipe((0,f.T)(o=>o.filter(n=>n.debateId===this.debateId&&n.side===e)))}postArgument(e){const o=this.newPost[e].trim(),n=this.usernames[e].trim()||"Anonymous";o&&(this.debateService.addPost({debateId:this.debateId,side:e,username:n,content:o}),this.newPost[e]="")}vote(e,o){this.debateService.updatePost(e.key,{upvotes:(e.upvotes??0)+(o>0?1:0),downvotes:(e.downvotes??0)+(o<0?1:0)})}toggleReplyBox(e){e.showReplyBox=!e.showReplyBox,this.replyInputs[e.key]||={name:"",text:""}}postReply(e){const o=this.replyInputs[e.key],n=o?.name?.trim()||"Anonymous",a=o?.text?.trim();if(!a)return;const p={username:n,content:a,timestamp:(new Date).toISOString()};this.debateService.updatePost(e.key,{replies:[...e.replies??[],p]}),e.showReplyBox=!1,this.replyInputs[e.key]={name:"",text:""}}getPosts(e){return this.posts$[e]}static{this.\u0275fac=function(o){return new(o||s)(t.rXU(u.h),t.rXU(C.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-debate-details"]],decls:4,vars:3,consts:[["postTemplate",""],["class","debate-container",4,"ngIf"],[1,"debate-container"],["class","description",4,"ngIf"],[1,"debate-section"],[4,"ngFor","ngForOf"],[1,"description"],[1,"side"],["type","text","placeholder","Your name",3,"ngModelChange","ngModel"],["placeholder","Write your argument...",3,"ngModelChange","ngModel"],[3,"click"],[1,"posts"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"post"],[1,"timestamp"],[1,"votes"],[1,"reply-btn",3,"click"],["class","reply-box",4,"ngIf"],[1,"replies"],["class","reply",4,"ngFor","ngForOf"],[1,"reply-box"],["placeholder","Write a reply...",3,"ngModelChange","ngModel"],[1,"reply"]],template:function(o,n){1&o&&(t.DNE(0,y,6,4,"div",1),t.nI1(1,"async"),t.DNE(2,R,18,10,"ng-template",null,0,t.C5r)),2&o&&t.Y8G("ngIf",t.bMT(1,1,n.debate$))},dependencies:[g.YN,g.me,g.BC,g.vS,c.CommonModule,c.NgForOf,c.NgIf,c.NgTemplateOutlet,c.AsyncPipe,c.TitleCasePipe,c.DatePipe],styles:["[_nghost-%COMP%]{--primary-color: #007bff;--primary-hover: #0056b3;--success-color: #28a745;--success-hover: #1e7e34;--light-bg: #f9f9f9;--light-border: #ddd;--font-color: #333;--muted-color: #666}[_nghost-%COMP%]{display:grid;min-height:100vh;background-color:#f5f5f5;font-family:Arial,sans-serif}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.debate-container[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto;padding:20px;background-color:#fff;border-radius:8px}h1[_ngcontent-%COMP%]{text-align:center;color:var(--font-color)}.debate-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.side[_ngcontent-%COMP%]{flex:1;min-width:300px;background-color:var(--light-bg);border:1px solid #ccc;padding:15px;border-radius:6px}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;margin-top:10px;padding:8px;box-sizing:border-box;border:1px solid var(--light-border);border-radius:4px;font-size:14px}textarea[_ngcontent-%COMP%]{height:60px;resize:vertical}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;background-color:var(--primary-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}.reply-btn[_ngcontent-%COMP%]{background-color:var(--success-color)}.reply-btn[_ngcontent-%COMP%]:hover{background-color:var(--success-hover)}.posts[_ngcontent-%COMP%]{margin-top:15px}.post[_ngcontent-%COMP%]{background-color:#fff;padding:12px;margin-bottom:12px;border:1px solid var(--light-border);border-radius:6px}.timestamp[_ngcontent-%COMP%]{font-size:12px;color:var(--muted-color);margin-left:10px}.votes[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:8px}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#eee;color:var(--font-color);border:1px solid #ccc;padding:4px 10px;border-radius:4px;font-size:13px}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.reply-box[_ngcontent-%COMP%]{margin-top:10px}.reply-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .reply-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:5px}.replies[_ngcontent-%COMP%]{margin-top:12px;margin-left:20px}.reply[_ngcontent-%COMP%]{background-color:#eef;padding:6px 10px;border-left:3px solid #88c;border-radius:4px;font-size:14px;margin-bottom:6px}"]})}}return s})()},7765:(D,h,_)=>{_.d(h,{u:()=>t});var c=_(467),g=_(4438),b=_(9972),f=_(1469);let t=(()=>{class u{constructor(){this.db=(0,g.WQX)(b.h),this.storageService=(0,g.WQX)(f._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(r=""){return r?`${this.fullPath}/${r}`:this.fullPath}create(r,i){return this.db.create(this.generatePath(i),r)}get$(){return this.db.readRealtime$(this.fullPath)}getById(r){return this.db.readRealtimeOriginal$(`${this.fullPath}/${r}`)}update(r,i){return this.db.update(`${this.fullPath}/${r}`,i)}remove(r){return this.db.remove(`${this.fullPath}/${r}`)}set(r,i){return this.db.set(this.generatePath(r),i)}getKeys$(r=""){return this.db.getKeys$(this.generatePath(r))}getKeys(r=""){return this.db.getKeys(this.generatePath(r))}readOnce(r=""){return this.db.readOnce(this.generatePath(r))}read$(r=""){return this.db.readRealtime$(this.generatePath(r))}clearDb(){return this.set("",null)}updateCounter(r,i=!0){return this.db.updateCounterV2(this.generatePath(r),i)}createWithFile(r,i,d){var m=this;return(0,c.A)(function*(){if(!i)throw new Error("Please select an image.");const x=yield m.storageService.uploadFile(m.basePath,i,d),P={...r,imageUrl:x};yield m.create(P)})()}uploadFile(r,i){var d=this;return(0,c.A)(function*(){if(!r)throw new Error("Please select an image.");return yield d.storageService.uploadFile(d.basePath,r,i)})()}extractAndUploadFiles(r,i){var d=this;return(0,c.A)(function*(){return d.storageService.extractAndUploadFiles(r,d.basePath,i)})()}static{this.\u0275fac=function(i){return new(i||u)}}static{this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()}}]);