"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[3813],{7881:(k,b,s)=>{s.d(b,{F:()=>T});var t=s(54438),a=s(89417),p=s(60177),_=s(54620);function v(e,n){if(1&e&&t.nrm(0,"input",17),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function f(e,n){if(1&e&&t.nrm(0,"input",18),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function y(e,n){if(1&e&&t.nrm(0,"input",19),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function r(e,n){if(1&e&&t.nrm(0,"textarea",20),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function l(e,n){if(1&e&&t.nrm(0,"input",21),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function h(e,n){if(1&e&&t.nrm(0,"input",22),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function u(e,n){if(1&e&&t.nrm(0,"input",23),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function g(e,n){if(1&e&&t.nrm(0,"input",24),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function x(e,n){if(1&e&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&e){const o=n.$implicit;t.Y8G("value",o),t.R7$(),t.SpI(" ",o," ")}}function C(e,n){if(1&e&&(t.j41(0,"select",20),t.DNE(1,x,2,2,"option",25),t.k0s()),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key),t.R7$(),t.Y8G("ngForOf",o.options)}}function F(e,n){if(1&e&&t.nrm(0,"input",27),2&e){const o=t.XpG().$implicit;t.Y8G("formControlName",o.key)}}function w(e,n){if(1&e){const o=t.RV6();t.j41(0,"div",31),t.nrm(1,"input",17),t.j41(2,"button",32),t.bIt("click",function(){const m=t.eBV(o).index,c=t.XpG(2).$implicit,d=t.XpG();return t.Njj(d.removeListItem(c.key,m))}),t.EFF(3," Remove "),t.k0s()()}if(2&e){const o=n.index;t.R7$(),t.Y8G("formControlName",o)}}function E(e,n){if(1&e){const o=t.RV6();t.j41(0,"div",28),t.DNE(1,w,4,1,"div",29),t.j41(2,"button",30),t.bIt("click",function(){t.eBV(o);const m=t.XpG().$implicit,c=t.XpG();return t.Njj(c.addListItem(m.key))}),t.EFF(3," Add Item "),t.k0s()()}if(2&e){const o=t.XpG().$implicit,i=t.XpG();t.FS9("formArrayName",o.key),t.R7$(),t.Y8G("ngForOf",i.getListControl(o.key).controls)}}function $(e,n){if(1&e&&(t.j41(0,"label"),t.nrm(1,"input",34),t.EFF(2),t.k0s()),2&e){const o=n.$implicit,i=t.XpG(2).$implicit;t.R7$(),t.Y8G("formControlName",i.key)("value",o),t.R7$(),t.SpI(" ",o," ")}}function G(e,n){if(1&e&&(t.j41(0,"div"),t.DNE(1,$,3,3,"label",33),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",o.options)}}function R(e,n){if(1&e&&(t.j41(0,"div",36)(1,"p"),t.EFF(2,"Preview:"),t.k0s(),t.nrm(3,"img",37),t.k0s()),2&e){const o=t.XpG(3);t.R7$(3),t.Y8G("src",o.imagePreview,t.B4B)}}function N(e,n){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"input",35),t.bIt("change",function(m){t.eBV(o);const c=t.XpG().$implicit,d=t.XpG();return t.Njj(d.onFileChange(m,c.key))}),t.k0s(),t.DNE(2,R,4,1,"div",36),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.vxM(o.imagePreview?2:-1)}}function P(e,n){1&e&&(t.j41(0,"small",38),t.EFF(1," This field is required. "),t.k0s())}function S(e,n){if(1&e&&(t.j41(0,"div",3)(1,"label"),t.EFF(2),t.k0s(),t.qex(3,4),t.DNE(4,v,1,1,"input",5)(5,f,1,1,"input",6)(6,y,1,1,"input",7)(7,r,1,1,"textarea",8)(8,l,1,1,"input",9)(9,h,1,1,"input",10)(10,u,1,1,"input",11)(11,g,1,1,"input",12)(12,C,2,2,"select",8)(13,F,1,1,"input",13)(14,E,4,2,"div",14)(15,G,2,1,"div",15)(16,N,3,1,"ng-container",15),t.bVm(),t.DNE(17,P,2,0,"small",16),t.k0s()),2&e){let o;const i=n.$implicit,m=t.XpG();t.R7$(2),t.JRh(i.label),t.R7$(),t.Y8G("ngSwitch",i.type),t.R7$(),t.Y8G("ngSwitchCase","text"),t.R7$(),t.Y8G("ngSwitchCase","password"),t.R7$(),t.Y8G("ngSwitchCase","number"),t.R7$(),t.Y8G("ngSwitchCase","textarea"),t.R7$(),t.Y8G("ngSwitchCase","date"),t.R7$(),t.Y8G("ngSwitchCase","datetime"),t.R7$(),t.Y8G("ngSwitchCase","tags"),t.R7$(),t.Y8G("ngSwitchCase","media"),t.R7$(),t.Y8G("ngSwitchCase","select"),t.R7$(),t.Y8G("ngSwitchCase","checkbox"),t.R7$(),t.Y8G("ngSwitchCase","list"),t.R7$(),t.Y8G("ngSwitchCase","radio"),t.R7$(),t.Y8G("ngSwitchCase","file"),t.R7$(),t.Y8G("ngIf",(null==(o=m.form.get(i.key))?null:o.invalid)&&(null==(o=m.form.get(i.key))?null:o.touched))}}let T=(()=>{class e{constructor(o){this.fb=o,this.fields=[],this.initialData={},this.submitLabel="Submit",this.resetTrigger=!1,this.submitted=new t.bkB,this.fileData={},this.imagePreview=null}ngOnInit(){this.buildForm()}ngOnChanges(o){(o.fields||o.initialData)&&this.buildForm(),o.resetTrigger&&o.resetTrigger.currentValue&&this.resetForm()}buildForm(){const o={};this.fields.forEach(i=>{const m=this.initialData[i.key]??"";if("list"===i.type){const c=Array.isArray(m)&&m.length?m:[""];o[i.key]=this.fb.array(c.map(d=>this.fb.control(d)))}else o[i.key]=this.fb.control(m??"",i.required?a.k0.required:[])}),this.form=this.fb.group(o)}getListControl(o){return this.form.get(o)}addListItem(o){this.getListControl(o).push(this.fb.control(""))}removeListItem(o,i){this.getListControl(o).removeAt(i)}onFileChange(o,i){const c=o.target.files?.[0];if(c){this.fileData[i]=c;const d=new FileReader;d.onload=()=>this.imagePreview=d.result,d.readAsDataURL(c)}else this.fileData[i]=null,this.imagePreview=null}onSubmit(){if(this.form.invalid)return void this.form.markAllAsTouched();const o={...this.form.value};for(const i in this.fileData)o[i]=this.fileData[i];this.submitted.emit(o)}resetForm(){this.form.reset(),this.fileData={},this.imagePreview=null,this.buildForm()}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(a.ok))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-entity-form"]],inputs:{fields:"fields",initialData:"initialData",submitLabel:"submitLabel",resetTrigger:"resetTrigger"},outputs:{submitted:"submitted"},features:[t.OA$],decls:5,vars:4,consts:[[1,"form-flex",3,"ngSubmit","formGroup"],["class","form-field",4,"ngFor","ngForOf"],["type","submit",1,"submit-button",3,"disabled"],[1,"form-field"],[3,"ngSwitch"],["type","text",3,"formControlName",4,"ngSwitchCase"],["type","password",3,"formControlName",4,"ngSwitchCase"],["type","number",3,"formControlName",4,"ngSwitchCase"],[3,"formControlName",4,"ngSwitchCase"],["type","date",3,"formControlName",4,"ngSwitchCase"],["type","datetime-local",3,"formControlName",4,"ngSwitchCase"],["type","text","placeholder","tag1, tag2",3,"formControlName",4,"ngSwitchCase"],["type","text","placeholder","url1, url2",3,"formControlName",4,"ngSwitchCase"],["type","checkbox",3,"formControlName",4,"ngSwitchCase"],["class","arr-list",3,"formArrayName",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","error-text",4,"ngIf"],["type","text",3,"formControlName"],["type","password",3,"formControlName"],["type","number",3,"formControlName"],[3,"formControlName"],["type","date",3,"formControlName"],["type","datetime-local",3,"formControlName"],["type","text","placeholder","tag1, tag2",3,"formControlName"],["type","text","placeholder","url1, url2",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","checkbox",3,"formControlName"],[1,"arr-list",3,"formArrayName"],["class","list-item",4,"ngFor","ngForOf"],["type","button",1,"add-button",3,"click"],[1,"list-item"],["type","button",1,"remove-button",3,"click"],[4,"ngFor","ngForOf"],["type","radio",3,"formControlName","value"],["type","file",3,"change"],[1,"image-preview"],["alt","Image preview",3,"src"],[1,"error-text"]],template:function(i,m){1&i&&(t.j41(0,"app-form-layout")(1,"form",0),t.bIt("ngSubmit",function(){return m.onSubmit()}),t.DNE(2,S,18,16,"div",1),t.j41(3,"button",2),t.EFF(4),t.k0s()()()),2&i&&(t.R7$(),t.Y8G("formGroup",m.form),t.R7$(),t.Y8G("ngForOf",m.fields),t.R7$(),t.Y8G("disabled",m.form.invalid),t.R7$(),t.SpI(" ",m.submitLabel," "))},dependencies:[p.CommonModule,p.NgForOf,p.NgIf,p.NgSwitch,p.NgSwitchCase,a.X1,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.Fm,a.BC,a.cb,a.j4,a.JD,a.v8,_.O],encapsulation:2})}}return e})()},54620:(k,b,s)=>{s.d(b,{O:()=>p});var t=s(54438);const a=["*"];let p=(()=>{class _{static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["app-form-layout"]],ngContentSelectors:a,decls:1,vars:0,template:function(y,r){1&y&&(t.NAR(),t.SdG(0))},styles:["app-form-layout,[data-theme=light] app-form-layout,:host-context([data-theme=light]) app-form-layout{color-scheme:light;--base-color: #e2e8f0;--header-color: #fff;--content-color: #fff;--border-color: #ccc;--text-color: #1e1e1e;--input-bg: #fff;--input-border: #ccc;--primary-color: #007bff;--primary-hover-color: #0056b3;--success-color: #28a745;--success-hover-color: #218838;--danger-color: #dc3545;--danger-hover-color: #bd2130;--error-color: #e53935;--list-bg: #f1f5f9}[data-theme=dark] app-form-layout,:host-context([data-theme=dark]) app-form-layout,app-form-layout[data-theme=dark]{color-scheme:dark;--base-color: #2c3e50;--header-color: #1c1c1c;--content-color: #1e1e1e;--border-color: #34495e;--text-color: #ecf0f1;--input-bg: #2c2c2c;--input-border: #555;--primary-color: #3399ff;--primary-hover-color: #1e70bf;--success-color: #28a745;--success-hover-color: #1e7e34;--danger-color: #dc3545;--danger-hover-color: #bd2130;--error-color: #ef5350;--list-bg: #2a2f36}@media (prefers-color-scheme: dark){app-form-layout{color-scheme:dark;--base-color: #2c3e50;--header-color: #1c1c1c;--content-color: #1e1e1e;--border-color: #34495e;--text-color: #ecf0f1;--input-bg: #2c2c2c;--input-border: #555;--primary-color: #3399ff;--primary-hover-color: #1e70bf;--success-color: #28a745;--success-hover-color: #1e7e34;--danger-color: #dc3545;--danger-hover-color: #bd2130;--error-color: #ef5350;--list-bg: #2a2f36}}app-form-layout{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:var(--text-color)}app-form-layout .form,app-form-layout .form-grid,app-form-layout .form-flex{min-width:400px;max-width:800px;margin:1.5rem auto;background:var(--content-color);border-radius:8px;padding:1.5rem;box-shadow:0 4px 16px #00000014;transition:box-shadow .3s ease,transform .2s ease}app-form-layout .form:hover,app-form-layout .form-grid:hover,app-form-layout .form-flex:hover{box-shadow:0 6px 20px #0000001f;transform:translateY(-2px)}app-form-layout .form{display:grid;gap:1.5rem;grid-template-columns:1fr 1fr}app-form-layout .form--fullwidth{grid-template-columns:1fr}app-form-layout .form__fullwidth{grid-column:span 2}app-form-layout .form--boxshadow{box-shadow:0 0 0 1px var(--border-color)}@media (max-width: 600px){app-form-layout .form{grid-template-columns:1fr}app-form-layout .form__fullwidth{grid-column:span 1}}app-form-layout .form-flex{display:flex;flex-direction:column;gap:1.25rem}app-form-layout .form-flex-row{display:flex;flex-wrap:wrap;gap:.75rem;justify-content:center;margin:1.5rem 0}app-form-layout .form-grid{display:grid;gap:1rem}app-form-layout input:not([type=checkbox]):not([type=radio]),app-form-layout textarea,app-form-layout select{all:unset;box-sizing:border-box;font-size:14px;padding:.5rem .75rem;width:100%;border:1px solid var(--input-border);border-radius:4px;background-color:var(--input-bg);color:var(--text-color);transition:border-color .2s}app-form-layout input:not([type=checkbox]):not([type=radio]):focus,app-form-layout textarea:focus,app-form-layout select:focus{border-color:var(--primary-color);box-shadow:0 0 0 .15rem #007bff40}app-form-layout textarea{resize:vertical;min-height:100px}app-form-layout label{font-weight:500;margin-bottom:.5rem;color:var(--text-color)}app-form-layout small{color:var(--error-color);font-size:.875rem;margin-top:.25rem}app-form-layout .form-group,app-form-layout .form-field{display:flex;flex-direction:column;margin-bottom:1rem}app-form-layout .field-label{font-weight:600;margin-bottom:.5rem}app-form-layout .fieldset{border:1px solid var(--border-color);border-radius:6px;padding:1rem 1.25rem;margin:1.5rem 0;background:var(--list-bg)}app-form-layout .fieldset legend{font-weight:600;font-size:1.1rem;padding:0 .5rem}app-form-layout .form-check-group{display:flex;flex-wrap:wrap;gap:1rem}app-form-layout .form-check-label{margin-left:.5rem;color:#495057;cursor:pointer;transition:color .2s}app-form-layout .form-check-label:hover{color:var(--primary-color)}app-form-layout .form-check-inline{margin-right:1rem}app-form-layout .form-check-input{margin-top:.25rem;margin-right:.5rem}app-form-layout button{padding:.5rem 1rem;font-size:.95rem;font-weight:500;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s;color:#fff}app-form-layout button.add-button{background-color:var(--primary-color)}app-form-layout button.add-button:hover{background-color:var(--primary-hover-color)}app-form-layout button.remove-button{background-color:var(--danger-color)}app-form-layout button.remove-button:hover{background-color:var(--danger-hover-color)}app-form-layout button.submit-button{background-color:var(--success-color);margin-top:1rem;padding:10px 20px}app-form-layout button.submit-button:hover{background-color:var(--success-hover-color)}app-form-layout button.custom-button{background-color:var(--base-color)}app-form-layout button.custom-button:hover{opacity:.8}app-form-layout .arr-list{background-color:var(--list-bg);padding:1rem;border-radius:6px;border:1px solid var(--border-color);margin-top:.5rem}app-form-layout .arr-list input[type=text]{margin-bottom:.5rem;width:calc(100% - 80px);display:inline-block}app-form-layout .arr-list .remove-button{margin-left:.5rem}app-form-layout .list-item{display:flex;align-items:center;margin-bottom:.5rem;height:50px}app-form-layout .image-preview img{max-width:100%;max-height:200px;display:block;margin-top:.5rem;border-radius:4px;object-fit:cover}app-form-layout .form-array-group{background:#f1f3f5;border:1px dashed #adb5bd;border-radius:6px;padding:1rem}app-form-layout .form-array-group hr{border:none;border-top:1px solid #dee2e6;margin:1rem 0}\n"],encapsulation:2})}}return _})()},67765:(k,b,s)=>{s.d(b,{u:()=>v});var t=s(10467),a=s(54438),p=s(9972),_=s(21469);let v=(()=>{class f{constructor(){this.db=(0,a.WQX)(p.h),this.storageService=(0,a.WQX)(_._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(r=""){return r?`${this.fullPath}/${r}`:this.fullPath}create(r="",l){return this.db.create(this.generatePath(r),l)}get$(){return this.db.readRealtime$(this.fullPath)}getById(r){return this.db.readRealtimeOriginal$(`${this.fullPath}/${r}`)}update(r,l){return this.db.update(`${this.fullPath}/${r}`,l)}remove(r){return this.db.remove(`${this.fullPath}/${r}`)}set(r,l){return this.db.set(this.generatePath(r),l)}getKeys$(r=""){return this.db.getKeys$(this.generatePath(r))}getKeys(r=""){return this.db.getKeys(this.generatePath(r))}readOnce(r=""){return this.db.readOnce(this.generatePath(r))}read$(r=""){return this.db.readRealtime$(this.generatePath(r))}readRealtimeWhere$(r,l){return this.db.readRealtimeWhere$(this.generatePath(r),l)}clearDb(){return this.set("",null)}updateCounter(r,l=!0){return this.db.updateCounterV2(this.generatePath(r),l)}createWithFile(r="",l,h,u){var g=this;return(0,t.A)(function*(){if(!h)throw new Error("Please select an image.");const x=yield g.storageService.uploadFile(g.generatePath(r),h,u),C={...l,imageUrl:x};yield g.create(r,C)})()}uploadFile(r="",l,h){var u=this;return(0,t.A)(function*(){if(!l)throw new Error("Please select an image.");return yield u.storageService.uploadFile(u.generatePath(r),l,h)})()}extractAndUploadFiles(r="",l,h){var u=this;return(0,t.A)(function*(){return u.storageService.extractAndUploadFiles(l,u.generatePath(r),h)})()}static{this.\u0275fac=function(l){return new(l||f)}}static{this.\u0275prov=a.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()}}]);