"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8498],{3935:(b,p,r)=>{r.d(p,{T:()=>f});var l=r(2218),t=r(7765),u=r(4438);const y={journey:Array.from({length:50},(s,g)=>({id:g+1,title:`Bali Adventure ${g+1}`,description:`Exploring beaches and volcanoes in Bali. ${g+1}`,startDate:new Date("2023-01-10"),endDate:new Date("2023-01-20"),mediaUrls:["https://example.com/bali.jpg"],tags:[`beach ${g+1}`,`adventure ${g+1}`,"Asia"]}))};let f=(()=>{class s extends t.u{constructor(){super(...arguments),this.basePath="ENTITY_DB_2025",this.endpoint="",this.db1=y||{}}getFieldConfig(e){return l.cV[e]||[]}getAllOld(e){return this.db1[e]||[]}getByIdOld(e,a){return(this.db1[e]||[]).find(o=>o.id==a)}createOld(e,a){this.db1[e]=this.db1[e]||[],this.db1[e].push(a)}deleteOld(e,a){this.db1[e]=(this.db1[e]||[]).filter(o=>o.id!==a)}getEntityByType(e){return this.read$(`${e}`)}geEntitytById(e,a){return this.getById(`${e}/${a}`)}createEntity(e,a){return this.create(a,e)}deleteEntity(e,a){return this.remove(`${e}/${a}`)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=u.xGo(s)))(o||s)}})()}static{this.\u0275prov=u.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},7765:(b,p,r)=>{r.d(p,{u:()=>f});var l=r(467),t=r(4438),u=r(1994),y=r(8591);let f=(()=>{class s{constructor(){this.db=(0,t.WQX)(u.h),this.storageService=(0,t.WQX)(y._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(e=""){return e?`${this.fullPath}/${e}`:this.fullPath}create(e,a){return this.db.create(this.generatePath(a),e)}get$(){return this.db.readRealtime$(this.fullPath)}getById(e){return this.db.readRealtimeOriginal$(`${this.fullPath}/${e}`)}update(e,a){return this.db.update(`${this.fullPath}/${e}`,a)}remove(e){return this.db.remove(`${this.fullPath}/${e}`)}set(e,a){return this.db.set(this.generatePath(e),a)}getKeys$(e=""){return this.db.getKeys$(this.generatePath(e))}getKeys(e=""){return this.db.getKeys(this.generatePath(e))}readOnce(e=""){return this.db.readOnce(this.generatePath(e))}read$(e=""){return this.db.readRealtime$(this.generatePath(e))}clearDb(){return this.set("",null)}updateCounter(e,a=!0){return this.db.updateCounterV2(this.generatePath(e),a)}createWithFile(e,a,o){var h=this;return(0,l.A)(function*(){if(!a)throw new Error("Please select an image.");const m=yield h.storageService.uploadFile(h.basePath,a,o),P={...e,imageUrl:m};yield h.create(P)})()}uploadFile(e,a){var o=this;return(0,l.A)(function*(){if(!e)throw new Error("Please select an image.");return yield o.storageService.uploadFile(o.basePath,e,a)})()}extractAndUploadFiles(e,a){var o=this;return(0,l.A)(function*(){return o.storageService.extractAndUploadFiles(e,o.basePath,a)})()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},8498:(b,p,r)=>{r.r(p),r.d(p,{default:()=>C});var l=r(177),t=r(4438);function u(n,c){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.JRh(i.entity.description)}}function y(n,c){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.SpI("Start: ",t.bMT(2,1,i.entity.startDate),"")}}function f(n,c){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const i=t.XpG(2);t.R7$(),t.SpI(" | End: ",t.bMT(2,1,i.entity.endDate),"")}}function s(n,c){if(1&n&&(t.j41(0,"span",12),t.EFF(1),t.k0s()),2&n){const i=c.$implicit;t.R7$(),t.JRh(i)}}function g(n,c){if(1&n&&(t.j41(0,"div",10)(1,"strong"),t.EFF(2,"Tags:"),t.k0s(),t.DNE(3,s,2,1,"span",11),t.k0s()),2&n){const i=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",i.entity.tags)}}function e(n,c){1&n&&t.nrm(0,"img",16),2&n&&t.Y8G("src",c.$implicit,t.B4B)}function a(n,c){if(1&n&&(t.j41(0,"div",13)(1,"strong"),t.EFF(2,"Media:"),t.k0s(),t.j41(3,"div",14),t.DNE(4,e,1,1,"img",15),t.k0s()()),2&n){const i=t.XpG(2);t.R7$(4),t.Y8G("ngForOf",i.entity.mediaUrls)}}function o(n,c){if(1&n){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h2"),t.EFF(3),t.k0s(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.onEdit())}),t.EFF(6,"\u270f\ufe0f Edit"),t.k0s(),t.j41(7,"button",6),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.onDelete())}),t.EFF(8,"\u{1f5d1}\ufe0f Delete"),t.k0s()()(),t.DNE(9,u,2,1,"p",1),t.j41(10,"div",7),t.DNE(11,y,3,3,"span",1)(12,f,3,3,"span",1),t.k0s(),t.DNE(13,g,4,1,"div",8)(14,a,5,1,"div",9),t.k0s()}if(2&n){const i=t.XpG();t.R7$(3),t.JRh(i.entity.title),t.R7$(6),t.Y8G("ngIf",i.entity.description),t.R7$(2),t.Y8G("ngIf",i.entity.startDate),t.R7$(),t.Y8G("ngIf",i.entity.endDate),t.R7$(),t.Y8G("ngIf",null==i.entity.tags?null:i.entity.tags.length),t.R7$(),t.Y8G("ngIf",null==i.entity.mediaUrls?null:i.entity.mediaUrls.length)}}function h(n,c){if(1&n&&(t.j41(0,"div")(1,"p"),t.EFF(2),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.SpI("No ",i.type.toLowerCase()," selected.")}}let m=(()=>{class n{constructor(){this.type="Entity",this.edit=new t.bkB,this.delete=new t.bkB}onEdit(){this.edit.emit(this.entity.id)}onDelete(){confirm(`Are you sure you want to delete this ${this.type.toLowerCase()}?`)&&this.delete.emit(this.entity.id)}static{this.\u0275fac=function(d){return new(d||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-entity-detail"]],inputs:{entity:"entity",type:"type"},outputs:{edit:"edit",delete:"delete"},decls:2,vars:2,consts:[["class","entity-detail",4,"ngIf"],[4,"ngIf"],[1,"entity-detail"],[1,"header"],[1,"actions"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"meta"],["class","tags",4,"ngIf"],["class","media",4,"ngIf"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"media"],[1,"media-gallery"],["alt","Media","width","100","height","100",3,"src",4,"ngFor","ngForOf"],["alt","Media","width","100","height","100",3,"src"]],template:function(d,_){1&d&&t.DNE(0,o,15,6,"div",0)(1,h,3,1,"div",1),2&d&&(t.Y8G("ngIf",_.entity),t.R7$(),t.Y8G("ngIf",!_.entity))},dependencies:[l.CommonModule,l.NgForOf,l.NgIf,l.DatePipe],styles:[".entity-detail[_ngcontent-%COMP%]{padding:1rem;border:1px solid #ccc;border-radius:6px;background:#fdfdfd}.entity-detail[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.entity-detail[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.entity-detail[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%], .entity-detail[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:4px 10px;border:none;border-radius:4px;cursor:pointer;font-size:.9rem}.entity-detail[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background-color:#e0f7fa;color:#00796b}.entity-detail[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.entity-detail[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin:.5rem 0;font-size:.9rem;color:#666}.entity-detail[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-top:1rem}.entity-detail[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#e0e0e0;margin-right:6px;padding:4px 8px;border-radius:4px;font-size:.85rem}.entity-detail[_ngcontent-%COMP%]   .media-gallery[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:.5rem}.entity-detail[_ngcontent-%COMP%]   .media-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;border-radius:4px;border:1px solid #ddd}"]})}}return n})();var P=r(7901),E=r(3935);let C=(()=>{class n{constructor(i,d){this.route=i,this.entityService=d,this.entityType="",this.id=""}ngOnInit(){this.entityType=this.route.snapshot.parent?.paramMap.get("type"),this.id=this.route.snapshot.paramMap.get("id"),this.entity=this.entityService.getByIdOld(this.entityType,this.id)}static{this.\u0275fac=function(d){return new(d||n)(t.rXU(P.nX),t.rXU(E.T))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-entity-detail-page"]],decls:4,vars:4,consts:[["type","Journey",3,"entity"]],template:function(d,_){1&d&&(t.j41(0,"h2"),t.EFF(1),t.nI1(2,"titlecase"),t.k0s(),t.nrm(3,"app-entity-detail",0)),2&d&&(t.R7$(),t.SpI("",t.bMT(2,2,_.entityType)," Details"),t.R7$(2),t.Y8G("entity",_.entity))},dependencies:[l.CommonModule,l.TitleCasePipe,m],encapsulation:2})}}return n})()}}]);