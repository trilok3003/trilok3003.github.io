"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8792],{1076:(ut,ye,D)=>{D.d(ye,{$L:()=>Et,$g:()=>kn,A4:()=>ee,Am:()=>xt,As:()=>Zt,Cv:()=>Kn,FA:()=>st,Fy:()=>Ht,Hk:()=>ce,I9:()=>zr,Im:()=>qn,K3:()=>q,KA:()=>Q,Ku:()=>ks,OE:()=>Er,T9:()=>Rt,Tj:()=>Ge,Uj:()=>z,XA:()=>Je,ZQ:()=>Ot,bD:()=>Jn,cY:()=>je,dI:()=>Ur,eX:()=>ws,g:()=>Ue,gR:()=>Gr,gz:()=>Nn,hp:()=>Qr,jZ:()=>Kt,kH:()=>ns,kj:()=>Rr,lT:()=>Nt,lV:()=>pt,nr:()=>yr,qc:()=>yn,sr:()=>Pn,tD:()=>As,u:()=>ie,vA:()=>v,yU:()=>ht,yw:()=>Gn,zW:()=>_r});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},v=function(ve,Se){if(!ve)throw ce(Se)},ce=function(ve){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ve)},U=function(ve){const Se=[];let oe=0;for(let Ce=0;Ce<ve.length;Ce++){let J=ve.charCodeAt(Ce);J<128?Se[oe++]=J:J<2048?(Se[oe++]=J>>6|192,Se[oe++]=63&J|128):55296==(64512&J)&&Ce+1<ve.length&&56320==(64512&ve.charCodeAt(Ce+1))?(J=65536+((1023&J)<<10)+(1023&ve.charCodeAt(++Ce)),Se[oe++]=J>>18|240,Se[oe++]=J>>12&63|128,Se[oe++]=J>>6&63|128,Se[oe++]=63&J|128):(Se[oe++]=J>>12|224,Se[oe++]=J>>6&63|128,Se[oe++]=63&J|128)}return Se},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,Se){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let J=0;J<ve.length;J+=3){const we=ve[J],$e=J+1<ve.length,Tt=$e?ve[J+1]:0,pn=J+2<ve.length,ln=pn?ve[J+2]:0;let Tr=(15&Tt)<<2|ln>>6,Yr=63&ln;pn||(Yr=64,$e||(Tr=64)),Ce.push(oe[we>>2],oe[(3&we)<<4|Tt>>4],oe[Tr],oe[Yr])}return Ce.join("")},encodeString(ve,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(ve):this.encodeByteArray(U(ve),Se)},decodeString(ve,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(ve):function(ve){const Se=[];let oe=0,Ce=0;for(;oe<ve.length;){const J=ve[oe++];if(J<128)Se[Ce++]=String.fromCharCode(J);else if(J>191&&J<224){const we=ve[oe++];Se[Ce++]=String.fromCharCode((31&J)<<6|63&we)}else if(J>239&&J<365){const pn=((7&J)<<18|(63&ve[oe++])<<12|(63&ve[oe++])<<6|63&ve[oe++])-65536;Se[Ce++]=String.fromCharCode(55296+(pn>>10)),Se[Ce++]=String.fromCharCode(56320+(1023&pn))}else{const we=ve[oe++],$e=ve[oe++];Se[Ce++]=String.fromCharCode((15&J)<<12|(63&we)<<6|63&$e)}}return Se.join("")}(this.decodeStringToByteArray(ve,Se))},decodeStringToByteArray(ve,Se){this.init_();const oe=Se?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let J=0;J<ve.length;){const we=oe[ve.charAt(J++)],Tt=J<ve.length?oe[ve.charAt(J)]:0;++J;const ln=J<ve.length?oe[ve.charAt(J)]:64;++J;const sn=J<ve.length?oe[ve.charAt(J)]:64;if(++J,null==we||null==Tt||null==ln||null==sn)throw Error();Ce.push(we<<2|Tt>>4),64!==ln&&(Ce.push(Tt<<4&240|ln>>2),64!==sn&&Ce.push(ln<<6&192|sn))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},Q=function(ve){const Se=U(ve);return q.encodeByteArray(Se,!0)},z=function(ve){return Q(ve).replace(/\./g,"")},ie=function(ve){try{return q.decodeString(ve,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function ee(ve){return ne(void 0,ve)}function ne(ve,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return Se}for(const oe in Se)!Se.hasOwnProperty(oe)||!Te(oe)||(ve[oe]=ne(ve[oe],Se[oe]));return ve}function Te(ve){return"__proto__"!==ve}const Ze=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Se=ve&&ie(ve[1]);return Se&&JSON.parse(Se)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},Ge=ve=>{var Se,oe;return null===(oe=null===(Se=Ze())||void 0===Se?void 0:Se.emulatorHosts)||void 0===oe?void 0:oe[ve]},ht=ve=>{const Se=Ge(ve);if(!Se)return;const oe=Se.lastIndexOf(":");if(oe<=0||oe+1===Se.length)throw new Error(`Invalid host ${Se} with no separate hostname and port!`);const Ce=parseInt(Se.substring(oe+1),10);return"["===Se[0]?[Se.substring(1,oe-1),Ce]:[Se.substring(0,oe),Ce]},Rt=()=>{var ve;return null===(ve=Ze())||void 0===ve?void 0:ve.config},Je=ve=>{var Se;return null===(Se=Ze())||void 0===Se?void 0:Se[`_${ve}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,oe)=>{this.resolve=Se,this.reject=oe})}wrapCallback(Se){return(oe,Ce)=>{oe?this.reject(oe):this.resolve(Ce),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(oe):Se(oe,Ce))}}}function Ht(ve,Se){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Se||"demo-project",J=ve.iat||0,we=ve.sub||ve.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:J,exp:J+3600,auth_time:J,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify($e)),""].join(".")}function Ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Pn(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){const ve=Ot();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function kn(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function yr(){return!function Gt(){var ve;const Se=null===(ve=Ze())||void 0===ve?void 0:ve.forceEnvironment;if("node"===Se)return!0;if("browser"===Se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _r(){try{return"object"==typeof indexedDB}catch{return!1}}function ws(){return new Promise((ve,Se)=>{try{let oe=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(Ce);J.onsuccess=()=>{J.result.close(),oe||self.indexedDB.deleteDatabase(Ce),ve(!0)},J.onupgradeneeded=()=>{oe=!1},J.onerror=()=>{var we;Se((null===(we=J.error)||void 0===we?void 0:we.message)||"")}}catch(oe){Se(oe)}})}class Ue extends Error{constructor(Se,oe,Ce){super(oe),this.code=Se,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(Se,oe,Ce){this.service=Se,this.serviceName=oe,this.errors=Ce}create(Se,...oe){const Ce=oe[0]||{},J=`${this.service}/${Se}`,we=this.errors[Se],$e=we?function at(ve,Se){return ve.replace(Ct,(oe,Ce)=>{const J=Se[Ce];return null!=J?String(J):`<${Ce}?>`})}(we,Ce):"Error";return new Ue(J,`${this.serviceName}: ${$e} (${J}).`,Ce)}}const Ct=/\{\$([^}]+)}/g;function Et(ve){return JSON.parse(ve)}function Zt(ve){return JSON.stringify(ve)}const mn=function(ve){let Se={},oe={},Ce={},J="";try{const we=ve.split(".");Se=Et(ie(we[0])||""),oe=Et(ie(we[1])||""),J=we[2],Ce=oe.d||{},delete oe.d}catch{}return{header:Se,claims:oe,data:Ce,signature:J}},Kn=function(ve){const oe=mn(ve).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},yn=function(ve){const Se=mn(ve).claims;return"object"==typeof Se&&!0===Se.admin};function Gr(ve,Se){return Object.prototype.hasOwnProperty.call(ve,Se)}function Gn(ve,Se){if(Object.prototype.hasOwnProperty.call(ve,Se))return ve[Se]}function qn(ve){for(const Se in ve)if(Object.prototype.hasOwnProperty.call(ve,Se))return!1;return!0}function ns(ve,Se,oe){const Ce={};for(const J in ve)Object.prototype.hasOwnProperty.call(ve,J)&&(Ce[J]=Se.call(oe,ve[J],J,ve));return Ce}function Jn(ve,Se){if(ve===Se)return!0;const oe=Object.keys(ve),Ce=Object.keys(Se);for(const J of oe){if(!Ce.includes(J))return!1;const we=ve[J],$e=Se[J];if(Es(we)&&Es($e)){if(!Jn(we,$e))return!1}else if(we!==$e)return!1}for(const J of Ce)if(!oe.includes(J))return!1;return!0}function Es(ve){return null!==ve&&"object"==typeof ve}function xt(ve){const Se=[];for(const[oe,Ce]of Object.entries(ve))Array.isArray(Ce)?Ce.forEach(J=>{Se.push(encodeURIComponent(oe)+"="+encodeURIComponent(J))}):Se.push(encodeURIComponent(oe)+"="+encodeURIComponent(Ce));return Se.length?"&"+Se.join("&"):""}function zr(ve){const Se={};return ve.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[J,we]=Ce.split("=");Se[decodeURIComponent(J)]=decodeURIComponent(we)}}),Se}function Qr(ve){const Se=ve.indexOf("?");if(!Se)return"";const oe=ve.indexOf("#",Se);return ve.substring(Se,oe>0?oe:void 0)}class Nn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Se=1;Se<this.blockSize;++Se)this.pad_[Se]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Se,oe){oe||(oe=0);const Ce=this.W_;if("string"==typeof Se)for(let sn=0;sn<16;sn++)Ce[sn]=Se.charCodeAt(oe)<<24|Se.charCodeAt(oe+1)<<16|Se.charCodeAt(oe+2)<<8|Se.charCodeAt(oe+3),oe+=4;else for(let sn=0;sn<16;sn++)Ce[sn]=Se[oe]<<24|Se[oe+1]<<16|Se[oe+2]<<8|Se[oe+3],oe+=4;for(let sn=16;sn<80;sn++){const Tr=Ce[sn-3]^Ce[sn-8]^Ce[sn-14]^Ce[sn-16];Ce[sn]=4294967295&(Tr<<1|Tr>>>31)}let ln,Un,J=this.chain_[0],we=this.chain_[1],$e=this.chain_[2],Tt=this.chain_[3],pn=this.chain_[4];for(let sn=0;sn<80;sn++){sn<40?sn<20?(ln=Tt^we&($e^Tt),Un=1518500249):(ln=we^$e^Tt,Un=1859775393):sn<60?(ln=we&$e|Tt&(we|$e),Un=2400959708):(ln=we^$e^Tt,Un=3395469782);const Tr=(J<<5|J>>>27)+ln+pn+Un+Ce[sn]&4294967295;pn=Tt,Tt=$e,$e=4294967295&(we<<30|we>>>2),we=J,J=Tr}this.chain_[0]=this.chain_[0]+J&4294967295,this.chain_[1]=this.chain_[1]+we&4294967295,this.chain_[2]=this.chain_[2]+$e&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+pn&4294967295}update(Se,oe){if(null==Se)return;void 0===oe&&(oe=Se.length);const Ce=oe-this.blockSize;let J=0;const we=this.buf_;let $e=this.inbuf_;for(;J<oe;){if(0===$e)for(;J<=Ce;)this.compress_(Se,J),J+=this.blockSize;if("string"==typeof Se){for(;J<oe;)if(we[$e]=Se.charCodeAt(J),++$e,++J,$e===this.blockSize){this.compress_(we),$e=0;break}}else for(;J<oe;)if(we[$e]=Se[J],++$e,++J,$e===this.blockSize){this.compress_(we),$e=0;break}}this.inbuf_=$e,this.total_+=oe}digest(){const Se=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let J=this.blockSize-1;J>=56;J--)this.buf_[J]=255&oe,oe/=256;this.compress_(this.buf_);let Ce=0;for(let J=0;J<5;J++)for(let we=24;we>=0;we-=8)Se[Ce]=this.chain_[J]>>we&255,++Ce;return Se}}function As(ve,Se){const oe=new rs(ve,Se);return oe.subscribe.bind(oe)}class rs{constructor(Se,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{Se(this)}).catch(Ce=>{this.error(Ce)})}next(Se){this.forEachObserver(oe=>{oe.next(Se)})}error(Se){this.forEachObserver(oe=>{oe.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,oe,Ce){let J;if(void 0===Se&&void 0===oe&&void 0===Ce)throw new Error("Missing Observer.");J=function Rn(ve,Se){if("object"!=typeof ve||null===ve)return!1;for(const oe of Se)if(oe in ve&&"function"==typeof ve[oe])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:oe,complete:Ce},void 0===J.next&&(J.next=pr),void 0===J.error&&(J.error=pr),void 0===J.complete&&(J.complete=pr);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),we}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,Se)}sendOne(Se,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{oe(this.observers[Se])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}function Ur(ve,Se){return`${ve} failed: ${Se} argument `}const Rr=function(ve){const Se=[];let oe=0;for(let Ce=0;Ce<ve.length;Ce++){let J=ve.charCodeAt(Ce);if(J>=55296&&J<=56319){const we=J-55296;Ce++,v(Ce<ve.length,"Surrogate pair missing trail surrogate."),J=65536+(we<<10)+(ve.charCodeAt(Ce)-56320)}J<128?Se[oe++]=J:J<2048?(Se[oe++]=J>>6|192,Se[oe++]=63&J|128):J<65536?(Se[oe++]=J>>12|224,Se[oe++]=J>>6&63|128,Se[oe++]=63&J|128):(Se[oe++]=J>>18|240,Se[oe++]=J>>12&63|128,Se[oe++]=J>>6&63|128,Se[oe++]=63&J|128)}return Se},Er=function(ve){let Se=0;for(let oe=0;oe<ve.length;oe++){const Ce=ve.charCodeAt(oe);Ce<128?Se++:Ce<2048?Se+=2:Ce>=55296&&Ce<=56319?(Se+=4,oe++):Se+=3}return Se};function ks(ve){return ve&&ve._delegate?ve._delegate:ve}},1111:(ut,ye,D)=>{D.d(ye,{MB:()=>U,fw:()=>v.f});var _=D(177),v=D(2376),ce=D(4438);let U=(()=>{class q{constructor(z){if(z)throw new Error("ToastModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:q,providers:[v.f]}}static{this.\u0275fac=function(ie){return new(ie||q)(ce.KVO(q,12))}}static{this.\u0275mod=ce.$C({type:q})}static{this.\u0275inj=ce.G2t({imports:[_.CommonModule]})}}return q})();D(1152)},1152:(ut,ye,D)=>{D.d(ye,{d3:()=>z});var _=D(9969),v=D(4438),ce=D(2376),U=D(177);function W(ie,ee){if(1&ie){const ne=v.RV6();v.j41(0,"div",2),v.bIt("click",function(){const Fe=v.eBV(ne).$implicit,Le=v.XpG();return v.Njj(Le.dispose(Fe))}),v.nrm(1,"i"),v.j41(2,"div",3)(3,"div",4),v.EFF(4),v.k0s(),v.j41(5,"div",5),v.EFF(6),v.k0s()(),v.j41(7,"i",6),v.bIt("click",function(){const Fe=v.eBV(ne).$implicit,Le=v.XpG();return v.Njj(Le.dispose(Fe))}),v.k0s()()}if(2&ie){const ne=ee.$implicit;v.ZvI("toaster toast-",ne.type,""),v.Y8G("@slideInOut",void 0),v.R7$(),v.ZvI("fa-solid ",ne.icon,""),v.R7$(3),v.SpI(" ",ne.title," "),v.R7$(2),v.JRh(ne.message)}}const q=(0,_.hZ)("slideUp",[(0,_.kY)(":enter",[(0,_.iF)({transform:"translate(0,500px)"}),(0,_.i0)("350ms cubic-bezier(0.17, 0.89, 0.24, 1.11)",(0,_.iF)({transform:"translate(0,0)"}))]),(0,_.kY)(":leave",[(0,_.i0)("300ms ease-in-out",(0,_.iF)({transform:"translate(0,500px)"}))])]),Q=(0,_.hZ)("slideInOut",[(0,_.kY)(":enter",[(0,_.iF)({transform:"translateX(calc(100% + 30px))"}),(0,_.i0)("350ms cubic-bezier(0.68, -0.55, 0.25, 1.35)",(0,_.iF)({transform:"translateX(0)"}))]),(0,_.kY)(":leave",[(0,_.i0)("300ms ease-in-out",(0,_.iF)({transform:"translateX(calc(100% + 30px))"}))])]);let z=(()=>{class ie{constructor(ne,Te){this.toastService=ne,this.cdr=Te,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(ne=>{const Te=this.currentToasts.length;this.currentToasts.push(ne),this.cdr.detectChanges(),this.automaticDismiss(Te)})}dispose(ne){let Te=this.currentToasts.indexOf(ne);this.currentToasts.splice(Te,1),this.cdr.detectChanges()}automaticDismiss(ne){setTimeout(()=>{this.dispose(ne)},this.toastService.toastConfig.timer)}static{this.\u0275fac=function(Te){return new(Te||ie)(v.rXU(ce.f),v.rXU(v.gRc))}}static{this.\u0275cmp=v.VBU({type:ie,selectors:[["ng-toast"]],standalone:!1,decls:2,vars:1,consts:[[1,"toast-container","top-right"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[2,"flex","1"],[1,"toaster__title"],[1,"toaster__message"],[1,"fa-xmark","fa-solid",3,"click"]],template:function(Te,Fe){1&Te&&(v.j41(0,"div",0),v.DNE(1,W,8,9,"div",1),v.k0s()),2&Te&&(v.R7$(),v.Y8G("ngForOf",Fe.currentToasts))},dependencies:[U.NgForOf],styles:['.toast-container[_ngcontent-%COMP%]{--dark: #34495E;--light: #ffffff;--success: #0ABF30;--error: #E24D4C;--warning: #E9BD0C;--info: #3498DB}.toast-container[_ngcontent-%COMP%]{width:max-content;max-width:100%;pointer-events:none;position:fixed;z-index:999999}.toast-container.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-container.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{--toast-width: 400px;position:relative;overflow:hidden;margin:0 0 6px;width:var(--toast-width);padding:16px 17px;border-radius:4px;pointer-events:auto;display:flex;align-items:center;gap:.5rem;--toast-light-color: color-mix(in srgb, var(--toast-color) 20%, white);background-color:var(--toast-light-color);color:var(--toast-color)}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.toast-container[_ngcontent-%COMP%]   .toaster__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.toast-container[_ngcontent-%COMP%]   .toaster__message[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(:last-child){font-size:1.5rem}.toast-container[_ngcontent-%COMP%]   .toaster.toast-success[_ngcontent-%COMP%]{--toast-color: var(--success)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-warning[_ngcontent-%COMP%]{--toast-color: var(--warning)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-error[_ngcontent-%COMP%]{--toast-color: var(--danger)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-info[_ngcontent-%COMP%]{--toast-color: var(--info)}.toaster[_ngcontent-%COMP%]:before{position:absolute;content:"";height:3px;width:100%;bottom:0;left:0;animation:_ngcontent-%COMP%_progress 5s linear forwards;background-color:var(--toast-color)}@keyframes _ngcontent-%COMP%_progress{to{width:0%}}.toaster-animation[_ngcontent-%COMP%]{transform:translate(calc(100% + 30px));transition:all .5s cubic-bezier(.68,-.55,.25,1.35)}.toaster-animation.active[_ngcontent-%COMP%]{transform:translate(0)}.show-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_show_toast .3s ease forwards}.hide-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hide_toast .3s ease forwards}@keyframes _ngcontent-%COMP%_hide_toast{0%{transform:translate(-10px)}40%{transform:translate(0)}80%{transform:translate(-5%)}to{transform:translate(calc(100% + 20px))}}@keyframes _ngcontent-%COMP%_show_toast{0%{transform:translate(100%)}40%{transform:translate(-5%)}80%{transform:translate(0)}to{transform:translate(-10px)}}@media (max-width: 530px){.toast-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[q,Q]},changeDetection:0})}}return ie})()},2376:(ut,ye,D)=>{D.d(ye,{f:()=>U});var _=D(1413),v=D(4438);const ce={timer:5e3,success:{icon:"fa-circle-check",text:"Success: This is a success toast."},error:{icon:"fa-circle-xmark",text:"Error: This is an error toast."},warning:{icon:"fa-triangle-exclamation",text:"Warning: This is a warning toast."},info:{icon:"fa-circle-info",text:"Info: This is an information toast."}};let U=(()=>{class W{constructor(){this.toastConfig=ce,this._toastEvents=new _.B,this.toastEvents=this._toastEvents.asObservable()}showToast(Q,z="",ie="success"){const{icon:ee}=ce[ie];this._toastEvents.next({title:Q,message:z,type:ie,icon:ee})}static{this.\u0275fac=function(z){return new(z||W)}}static{this.\u0275prov=v.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},6875:(ut,ye,D)=>{D.d(ye,{k:()=>Ze});var _=D(1807),v=D(274),ce=D(8071),W=D(7468),q=D(2771),Q=D(5335),z=D(2498),ie=D(9437),ee=D(8141),ne=D(9030),Te=D(4668),Fe=D(8810),Le=D(4438),Ie=D(1626),xe=function(Ge){return Ge.LOADING="LOADING",Ge.SUCCESS="SUCCESS",Ge.ERROR="ERROR",Ge}(xe||{});let Ze=(()=>{class Ge{constructor(Rt){this.http=Rt}getNotifications(){return this.http.get("http://api").pipe(this.poll(1e3))}poll(Rt,Je=0){return function(je){return(0,_.O)(Je,Rt).pipe(function U(Ge,ht){return(0,ce.T)(ht)?(0,v.H)(()=>Ge,ht):(0,v.H)(()=>Ge)}(je))}}get(Rt){return this.http.get(Rt)}post(Rt,Je){return this.http.post(Rt,Je)}getSwapi(){let Rt=this.http.get("https://swapi.dev/api/people/1/"),Je=this.http.get("https://swapi.dev/api/planets/1/");(0,W.p)([Rt,Je]).subscribe(je=>{je[0].homeworld=je[1],this.loadedCharacter=je[0]})}load(Rt){const Je=new q.m,je=this.http.get(`https://swapi.dev/api/people/${Rt}/`).pipe((0,Q.c)(2e3),(0,z.L)(2),(0,ie.W)(Ot=>{throw Je.next(xe.ERROR),"error loading user"}),(0,ee.M)(()=>Je.next(xe.SUCCESS)));return{data:(0,ne.v)(()=>(Je.next(xe.LOADING),je)),status:Je}}share(){this.rawData$=this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe((0,Te.t)())}GetData(){return this.rawData$.toPromise()}getRandomjoke(){return this.http.get("https://icanhazdadjoke.com/slack").pipe((0,ie.W)(this.handleError))}handleError(){return(0,Fe.$)("Network Error Occured")}static{this.\u0275fac=function(Je){return new(Je||Ge)(Le.KVO(Ie.Qq))}}static{this.\u0275prov=Le.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})()},6102:(ut,ye,D)=>{D.d(ye,{h:()=>Te});var _=D(4412),v=D(8810),ce=D(5558),U=D(7673),W=D(9350),Q=D(9437),z=D(8141),ie=D(6354),ee=D(4438),ne=D(1626);let Te=(()=>{class Fe{constructor(Ie){this.http=Ie,this.alertSubject=new _.t(null),this.alertObservable=this.alertSubject.asObservable()}getUser(Ie){return this.http.get(`https://jsonplaceholder.typicode.com/users/${Ie}`).pipe((0,Q.W)(xe=>(0,v.$)(()=>xe)))}getToDo(Ie){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${Ie}`).pipe((0,Q.W)(xe=>(0,v.$)(()=>xe)))}setUser(Ie){console.log(Ie)}setToDos(Ie){console.log(Ie)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,ce.n)(Ie=>(this.setUser(Ie),this.getToDo(Ie.id).pipe((0,z.M)(xe=>this.setToDos(xe))))),(0,Q.W)(Ie=>(this.alertSubject.next(Ie),(0,U.of)(Ie))))}initialiseAppUsingPromises(){return function q(Fe,Le){const Ie="object"==typeof Le;return new Promise((xe,Ze)=>{let ht,Ge=!1;Fe.subscribe({next:Rt=>{ht=Rt,Ge=!0},error:Ze,complete:()=>{Ge?xe(ht):Ie?xe(Le.defaultValue):Ze(new W.G)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,ie.T)(Ie=>Ie))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,ie.T)(Ie=>Ie))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,ie.T)(Ie=>Ie))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,ie.T)(Ie=>Ie))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,ie.T)(Ie=>Ie))}getUsers(){return this.http.get("https://jsonplaceholder.typicode.com/users")}static{this.\u0275fac=function(xe){return new(xe||Fe)(ee.KVO(ne.Qq))}}static{this.\u0275prov=ee.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},8527:(ut,ye,D)=>{D.d(ye,{OM:()=>ee,VZ:()=>q,fM:()=>Te,i8:()=>z,iQ:()=>Fe,j1:()=>v,n$:()=>ne,n8:()=>U,om:()=>W,op:()=>ce,sc:()=>ie,vV:()=>Q});var _=D(9310);const v=(0,_.VP)("[ARTICLE] Show All"),ce=(0,_.VP)("[ARTICLE] Show All Success",(0,_.xk)()),U=(0,_.VP)("[ARTICLE] Create",(0,_.xk)()),W=(0,_.VP)("[ARTICLE] Create Success",(0,_.xk)()),q=(0,_.VP)("[ARTICLE] Create Failure",(0,_.xk)()),Q=(0,_.VP)("[ARTICLE] Get by Id",(0,_.xk)()),z=(0,_.VP)("[ARTICLE] Get by Id Success",(0,_.xk)()),ie=(0,_.VP)("[ARTICLE] Reset"),ee=(0,_.VP)("[Product] Add to cart",(0,_.xk)()),ne=(0,_.VP)("[Product] Remove from cart",(0,_.xk)()),Te=(0,_.VP)("[Products] Load items from server"),Fe=(0,_.VP)("[Products] Load success",(0,_.xk)())},1116:(ut,ye,D)=>{D.d(ye,{GE:()=>z,I4:()=>ie,JS:()=>Fe,gz:()=>Ie,iF:()=>Le});var _=D(9310),v=D(8527);const W=(0,_.vy)({articles:[],message:""},(0,_.on)(v.op,(xe,{payload:Ze})=>({articles:Ze,message:"Success"})),(0,_.on)(v.om,(xe,{payload:Ze})=>({articles:[Ze],message:"Article Created."})),(0,_.on)(v.VZ,(xe,{payload:Ze})=>({articles:[],message:Ze})),(0,_.on)(v.i8,(xe,{payload:Ze})=>({articles:Ze,message:"Success"})),(0,_.on)(v.sc,xe=>({articles:[],message:""}))),Q=(0,_.UX)("articleState"),z=(0,_.Mz)(Q,xe=>xe.articles),ie=(0,_.Mz)(Q,xe=>xe.message),ee=(0,_.vy)({products:[],cart:[]},(0,_.on)(v.iQ,(xe,{payload:Ze})=>({...xe,products:Ze})),(0,_.on)(v.OM,(xe,{payload:Ze})=>({...xe,cart:[...xe.cart,Ze]})),(0,_.on)(v.n$,(xe,{payload:Ze})=>({...xe,cart:[...xe.cart.filter(Ge=>Ge.name!==Ze.name)]}))),Te=(0,_.UX)("productState1"),Fe=(0,_.Mz)(Te,xe=>xe.products),Le=(0,_.Mz)(Te,xe=>xe.cart),Ie={articleState:function q(xe,Ze){return W(xe,Ze)},productState1:function ne(xe,Ze){return ee(xe,Ze)}}},6454:(ut,ye,D)=>{D.d(ye,{O:()=>ce});var _=D(4438),v=function(U){return U[U.slideToLeft=1]="slideToLeft",U[U.slideToRight=2]="slideToRight",U[U.slideToTop=3]="slideToTop",U[U.slideToBottom=4]="slideToBottom",U}(v||{});let ce=(()=>{class U{constructor(){this.routeAnimation=null}setRouteAnimation(q){this.routeAnimation=v[q]}get currentRouteAnimation(){return this.routeAnimation}static{this.\u0275fac=function(Q){return new(Q||U)}}static{this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},6325:(ut,ye,D)=>{D.d(ye,{c:()=>q});var _=D(1626),v=D(8141),ce=D(4438),U=D(2197);const q={provide:_.a7,useClass:(()=>{class Q{constructor(ie){this.loaderService=ie}intercept(ie,ee){return this.loaderService.showLoader(),ee.handle(ie).pipe((0,v.M)(ne=>{ne instanceof _.cS&&this.loaderService.hideLoader()},ne=>{this.loaderService.hideLoader()}))}static{this.\u0275fac=function(ee){return new(ee||Q)(ce.KVO(U.Z))}}static{this.\u0275prov=ce.jDH({token:Q,factory:Q.\u0275fac})}}return Q})(),multi:!0}},8244:(ut,ye,D)=>{D.d(ye,{i:()=>U});var _=D(6325),v=D(177),ce=D(4438);let U=(()=>{class W{static{this.\u0275fac=function(z){return new(z||W)}}static{this.\u0275mod=ce.$C({type:W})}static{this.\u0275inj=ce.G2t({providers:[_.c],imports:[v.CommonModule]})}}return W})()},2197:(ut,ye,D)=>{D.d(ye,{Z:()=>U});var _=D(4412),v=D(884),ce=D(4438);let U=(()=>{class W{constructor(Q){this.router=Q,this.loadCount=0,this.loadState=new _.t(!1),this.router.events.subscribe(z=>{this.navigationInterceptor(z)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(Q){Q instanceof v.Z&&this.showLoader(),Q instanceof v.wF&&this.hideLoader(),Q instanceof v.j5&&this.hideLoader(),Q instanceof v.L6&&this.hideLoader()}static{this.\u0275fac=function(z){return new(z||W)(ce.KVO(v.Ix))}}static{this.\u0275prov=ce.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},4473:(ut,ye,D)=>{D.d(ye,{B:()=>ce});var _=D(4438),v=D(8910);let ce=(()=>{class U{constructor(){this.abstractFirebaseDb=(0,_.WQX)(v.W)}setRouter(q){this.abstractFirebaseDb.updateCounter(`router-activities${q}`,!0)}setServer(){this.abstractFirebaseDb.updateCounter("server-activities",!0).then()}setError(q,Q=!1){this.abstractFirebaseDb.create("logging-activities",{message:q,server:Q}).then()}getRouter$(){return this.abstractFirebaseDb.readRealtimeOriginal$("router-activities")}getServer$(){return this.abstractFirebaseDb.readRealtimeOriginal$("server-activities")}getError$(){return this.abstractFirebaseDb.readRealtimeOriginal$("logging-activities")}static{this.\u0275fac=function(Q){return new(Q||U)}}static{this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac})}}return U})()},8990:(ut,ye,D)=>{D.d(ye,{A:()=>W,d:()=>q});var _=D(4438),v=D(1626);class ce{constructor(){this.http=(0,_.WQX)(v.Qq)}post(z,ie){return this.http.post(`${this.databaseURL}/${z}`,ie)}get(z,ie){return this.http.get(`${this.databaseURL}/${z}`,{params:ie})}delete(z){return this.http.delete(`${this.databaseURL}/${z}`)}put(z,ie){return this.http.put(`${this.databaseURL}/${z}`,ie)}patch(z,ie){return this.http.patch(`${this.databaseURL}/${z}`,ie)}}var U=D(3344);class W{}let q=(()=>{class Q extends ce{constructor(){super(...arguments),this.databaseURL=U.I.databaseURL}static{this.\u0275fac=(()=>{let ie;return function(ne){return(ie||(ie=_.xGo(Q)))(ne||Q)}})()}static{this.\u0275prov=_.jDH({token:Q,factory:Q.\u0275fac})}}return Q})()},8910:(ut,ye,D)=>{D.d(ye,{B:()=>v,W:()=>ce});const v=new(D(4438).nKC)("GenericFirebaseDbInterface");class ce{}},7539:(ut,ye,D)=>{D.d(ye,{J:()=>U});var _=D(467),v=D(5891),ce=D(1985);class U{constructor(){this.db=(0,v.C3)(),this.formatSnapshot=q=>{let Q=[];return q.exists()&&q.forEach(z=>{Q.push({key:z.key,...z.val()})}),Q}}create(q,Q={}){let z=(0,v.VC)((0,v.KR)(this.db,q));return(0,v.hZ)(z,{key:z.key,createdAt:(0,v.O5)(),updatedAt:(0,v.O5)(),...Q}).then(),Promise.resolve({key:z.key})}set(q,Q={}){var z=this;return(0,_.A)(function*(){const ie=(0,v.KR)(z.db,q);yield(0,v.hZ)(ie,Q)})()}update(q,Q={}){var z=this;return(0,_.A)(function*(){const ie=(0,v.KR)(z.db,q);yield(0,v.yo)(ie,{updatedAt:(0,v.O5)(),...Q})})()}remove(q){var Q=this;return(0,_.A)(function*(){const z=(0,v.KR)(Q.db,q);yield(0,v.TF)(z)})()}readRealtime$(q,Q=!1){return new ce.c(z=>{(0,v.Zy)((0,v.KR)(this.db,q),ie=>{let ee=[];ie.exists()?(ie.forEach(ne=>{ee.push({key:ne.key,...ne.val()})}),z.next(ee)):z.next([])},{onlyOnce:Q})})}readRealtimeOriginal$(q,Q=!1){return new ce.c(z=>{(0,v.Zy)((0,v.KR)(this.db,q),ie=>{ie.exists()?z.next(ie.val()):z.next(null)},{onlyOnce:Q})})}getKeys$(q){return new ce.c(Q=>{(0,v.Zy)((0,v.KR)(this.db,q),z=>{let ie=[];z.exists()?(z.forEach(ee=>{ie.push(ee.key)}),Q.next(ie)):Q.next(null)})})}readOnce(q){return new Promise((Q,z)=>{(0,v.Jt)((0,v.KR)(this.db,q)).then(ie=>{let ee=[];ie.exists()?(ie.forEach(ne=>{ee.push({key:ne.key,...ne.val()})}),Q(ee)):Q([])}).catch(ie=>{z(ie)})})}readOnceOriginal(q){return new Promise((Q,z)=>{(0,v.Jt)((0,v.KR)(this.db,q)).then(ie=>{ie.exists()?Q(ie.val()):Q([])}).catch(ie=>{z(ie)})})}getKeys(q){return new Promise((Q,z)=>{(0,v.Jt)((0,v.KR)(this.db,q)).then(ie=>{let ee=[];ie.exists()?(ie.forEach(ne=>{ee.push(ne.key)}),Q(ee)):Q([])}).catch(ie=>{z(ie)})})}checkPresence(q){const Q=(0,v.KR)(this.db,`${q}/connections`),z=(0,v.KR)(this.db,`${q}/lastOnline`),ie=(0,v.KR)(this.db,".info/connected");(0,v.Zy)(ie,ee=>{if(!0===ee.val()){const ne=(0,v.VC)(Q);(0,v.yX)(ne).remove().then(),(0,v.hZ)(ne,!0).then(),(0,v.yX)(z).set((0,v.O5)()).then()}})}onDisconnect(q){const Q=(0,v.KR)(this.db,q);return(0,v.yX)(Q)}detectingConnectionState(){return new ce.c(q=>{const Q=(0,v.KR)(this.db,".info/connected");(0,v.Zy)(Q,z=>{q.next(z.val())})})}updateCounter(q,Q=!0){return new Promise((z,ie)=>{const ee=(0,v.KR)(this.db);(0,v.Jt)((0,v.jf)(ee,"counter")).then(ne=>{(0,v.yo)((0,v.KR)(this.db,q),{counter:(0,v.GV)(Q?1:-1)}).then(Te=>{z(Te)})})})}#e(){}}},4373:(ut,ye,D)=>{D.d(ye,{BF:()=>ee,bb:()=>Te});var _=D(467),v=D(4438),ce=D(7673),U=D(2806),W=D(4668),q=D(6354),Q=D(9437),z=D(274),ie=D(7539);let ee=(()=>{class Fe extends ie.J{constructor(){super(),this.totalUsers$=this.readRealtime$("status").pipe((0,W.t)(1))}get getUserOnlineCounts$(){return this.getUserByStatus("online").pipe((0,q.T)(Ie=>Ie.length),(0,Q.W)(Ie=>(console.error("Error fetching user counts:",Ie),(0,ce.of)(0))))}getUserByStatus(Ie){return this.totalUsers$.pipe((0,q.T)(xe=>xe.filter(Ze=>Ze.status===Ie)),(0,Q.W)(xe=>(console.error("Error fetching user counts:",xe),(0,ce.of)(0))))}getUsers$(Ie="asc"){return this.totalUsers$.pipe((0,q.T)(xe=>xe.sort((Ze,Ge)=>this.compareUserStatus(Ze,Ge,Ie))),(0,Q.W)(xe=>(console.error("Error fetching users:",xe),(0,ce.of)([]))))}compareUserStatus(Ie,xe,Ze){const Ge=Ie.status.localeCompare(xe.status);return"asc"===Ze?Ge:-Ge}get timestamp(){return(new Date).getTime()}getPresence(Ie){return this.readRealtimeOriginal$(`status/${Ie}`)}setPresence(Ie,xe){this.set(`status/${Ie}`,{status:xe,timestamp:this.timestamp}).then(Ze=>{})}setPresence$(Ie,xe){return(0,U.H)(this.set(`status/${Ie}`,{status:xe,timestamp:this.timestamp}))}changeAllUsersStatus(Ie,xe){this.getUserByStatus(Ie).pipe((0,z.H)(Ze=>Ze.map(Ge=>this.setPresence$(Ge.key,xe)))).subscribe({next:()=>{},error:Ze=>{console.error("Error logging out users:",Ze)},complete:()=>{}})}logOutAllUsers(){this.changeAllUsersStatus("online","offline")}updateOnAway(Ie){document.onvisibilitychange=xe=>{"hidden"===document.visibilityState?this.setPresence(Ie,"away"):this.setPresence(Ie,"online")},window.onbeforeunload=()=>{this.setPresence(Ie,"offline")}}updateOnUser(Ie){this.detectingConnectionState().pipe((0,q.T)(xe=>xe?"online":"offline")).subscribe(xe=>this.setPresence(Ie,xe))}updateOnDisconnect(Ie){this.onDisconnect(`status/${Ie}`).update({status:"offline",timestamp:this.timestamp})}configureUserPresenceByLocal(){let Ie=localStorage.getItem("uid");this.checkingUser(Ie)}configureUserPresenceByLogin(Ie,xe={}){this.checkingUser(Ie,xe)}configure(Ie){this.updateOnAway(Ie),this.updateOnUser(Ie),this.updateOnDisconnect(Ie)}checkingUser(Ie,xe={}){Ie?this.configure(Ie):this.create("status",{uid:Ie,...xe}).then(Ze=>{const Ge=Ze.key;localStorage.setItem("uid",Ge),this.configure(Ge)})}static{this.\u0275fac=function(xe){return new(xe||Fe)}}static{this.\u0275prov=v.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})();const Te={provide:v.hnV,useFactory:function ne(Fe){return()=>new Promise(function(){var Le=(0,_.A)(function*(Ie,xe){yield Fe.configureUserPresenceByLocal(),Ie("done")});return function(Ie,xe){return Le.apply(this,arguments)}}())},deps:[ee],multi:!0}},3887:(ut,ye,D)=>{D.d(ye,{G:()=>W});var _=D(177),v=D(9417),ce=D(884),U=D(4438);let W=(()=>{class q{static{this.\u0275fac=function(ie){return new(ie||q)}}static{this.\u0275mod=U.$C({type:q})}static{this.\u0275inj=U.G2t({imports:[_.CommonModule,ce.iI,v.YN,v.X1,v.YN,v.X1]})}}return q})()},2749:(ut,ye,D)=>{D.d(ye,{y:()=>_});class _{}},5364:(ut,ye,D)=>{D.d(ye,{h8:()=>_,vp:()=>v});var _=function(U){return U.Clear="Clear",U.Snow="Snow",U.Rain="Rain",U.Clouds="Clouds",U.Thunderstorm="Thunderstorm",U.Atmosphere="Atmosphere",U.Drizzle="Drizzle",U.Unknown="Unknown",U}(_||{});function v(U){return(new Map).set("Thunderstorm",_.Thunderstorm).set("Drizzle",_.Drizzle).set("Rain",_.Rain).set("Snow",_.Snow).set("Atmosphere",_.Atmosphere).set("Clouds",_.Clouds).set("Clear",_.Clear).get(U.main)||_.Unknown}},8603:(ut,ye,D)=>{D.d(ye,{i:()=>ce});var _=D(1413),v=D(4412);class ce{constructor(W){this.reducer=W,this.action=new _.B;const q={type:"@ngrx/store/init"},Q=W(void 0,q);this.state=new v.t(Q),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(q)}dispatch(W){const q=this.state.getValue(),Q=this.reducer(q,W);this.state.next(Q),this.action.next(W)}}},334:(ut,ye,D)=>{D.d(ye,{GV:()=>ce,Hh:()=>q,Kt:()=>U,WQ:()=>W});var _=D(9310),v=function(Q){return Q.INCREMENT="Increment Article",Q.DECREMENT="Decrememnt Article",Q.ADD="Add Article",Q.LOAD="Load Articles",Q}(v||{});const ce=(0,_.VP)(v.INCREMENT,(0,_.xk)()),U=(0,_.VP)(v.DECREMENT,(0,_.xk)()),W=(0,_.VP)(v.ADD,(0,_.xk)()),q=(0,_.VP)(v.LOAD)},3529:(ut,ye,D)=>{D.d(ye,{Jv:()=>q,cp:()=>ce});var _=D(9310),v=D(334);const ce="article",W=(0,_.vy)({articles:[]},(0,_.on)(v.GV,(Q,z)=>({...Q,articles:Q.articles.map(ie=>ie.id==z.id?{...ie,points:ie.points+1}:ie)})),(0,_.on)(v.Kt,(Q,z)=>({...Q,articles:Q.articles.map(ie=>ie.id==z.id?{...ie,points:ie.points-1}:ie)})),(0,_.on)(v.WQ,(Q,{payload:z})=>({...Q,articles:[...Q.articles,z]})));function q(Q,z){return W(Q,z)}},2661:(ut,ye,D)=>{D.d(ye,{l:()=>z});var _=D(9310),v=D(334),ce=D(3529);const U=(0,_.UX)(ce.cp),W=(0,_.Mz)(U,ie=>ie.articles);class q{constructor(ee,ne,Te,Fe){this.id=ee,this.title=ne,this.link=Te,this.points=Fe||0,this.time=new Date}}var Q=D(4438);let z=(()=>{class ie{constructor(ne){this.store=ne,this.id=0}getArticle(){return this.store.pipe((0,_.Lt)(W))}incArticle(ne){this.store.dispatch(v.GV(ne))}decArticle(ne){this.store.dispatch(v.Kt(ne))}addArticle(ne){let Te=new q(++this.id,ne.title,ne.link,0);this.store.dispatch(v.WQ({payload:Te}))}loadArticle(ne){this.store.dispatch(v.Hh())}static{this.\u0275fac=function(Te){return new(Te||ie)(Q.KVO(_.il))}}static{this.\u0275prov=Q.jDH({token:ie,factory:ie.\u0275fac})}}return ie})()},9072:(ut,ye,D)=>{D.d(ye,{M:()=>Q});var _=D(9310),v=D(4413),ce=D(2830);const U=(0,_.UX)(ce.cp),W=(0,_.Mz)(U,z=>z.count);var q=D(4438);let Q=(()=>{class z{constructor(ee){this.store=ee}getCount(){return this.store.pipe((0,_.Lt)(W))}incrementCount(){this.store.dispatch(v.GV())}decrementCount(){this.store.dispatch(v.Kt())}resetCount(){this.store.dispatch(v.cL())}setValue(ee){this.store.dispatch(v.Co({newValue:ee}))}loadValue(){this.store.dispatch(v.m5())}static{this.\u0275fac=function(ne){return new(ne||z)(q.KVO(_.il))}}static{this.\u0275prov=q.jDH({token:z,factory:z.\u0275fac})}}return z})()},4413:(ut,ye,D)=>{D.d(ye,{Co:()=>q,GV:()=>ce,Kt:()=>U,cL:()=>W,m5:()=>Q});var _=D(9310),v=function(z){return z.INCREMENT="[Counter Component] Increment",z.DECREMENT="[Counter Component] Decrement",z.RESET="[Counter Component] Reset",z.SETVALUE="[Counter Component] Set Value",z.LOADVALUE="[Counter Component] Load Value",z}(v||{});const ce=(0,_.VP)(v.INCREMENT),U=(0,_.VP)(v.DECREMENT),W=(0,_.VP)(v.RESET),q=(0,_.VP)(v.SETVALUE,(0,_.xk)()),Q=(0,_.VP)(v.LOADVALUE)},2830:(ut,ye,D)=>{D.d(ye,{FW:()=>q,cp:()=>ce});var _=D(9310),v=D(4413);const ce="counter",W=(0,_.vy)({count:0},(0,_.on)(v.GV,Q=>({...Q,count:Q.count+1})),(0,_.on)(v.Kt,Q=>({...Q,count:Q.count-1})),(0,_.on)(v.cL,Q=>({...Q,count:0})),(0,_.on)(v.Co,(Q,z)=>({...Q,count:z.newValue})));function q(Q,z){return W(Q,z)}},2503:(ut,ye,D)=>{D.d(ye,{Ny:()=>W,Ze:()=>ce,aE:()=>U});var _=D(9310),v=function(q){return q.loadData="[loadData] load",q.loadDataSuccess="[loadData] success",q.loadDataFailure="[loadData] failure",q}(v||{});const ce=(0,_.VP)(v.loadData),U=(0,_.VP)(v.loadDataSuccess,(0,_.xk)()),W=(0,_.VP)(v.loadDataFailure,(0,_.xk)())},8964:(ut,ye,D)=>{D.d(ye,{b4:()=>q,cp:()=>ce});var _=D(9310),v=D(2503);const ce="load-data",W=(0,_.vy)({data:null,loading:!1,error:null},(0,_.on)(v.Ze,Q=>({...Q,loading:!0})),(0,_.on)(v.aE,(Q,{payload:z})=>({...Q,loading:!1,data:z})),(0,_.on)(v.Ny,(Q,{payload:z})=>({...Q,loading:!1,error:z})));function q(Q,z){return W(Q,z)}},8320:(ut,ye,D)=>{D.d(ye,{T:()=>Q});var _=D(9310),v=D(8964);const ce=(0,_.UX)(v.cp),U=(0,_.Mz)(ce,z=>z.data);var W=D(2503),q=D(4438);let Q=(()=>{class z{constructor(ee){this.store=ee}getData(){return this.store.pipe((0,_.Lt)(U))}loadData(){this.store.dispatch(W.Ze())}loadDataSuccess(ee){this.store.dispatch(W.aE(ee))}loadDataFailure(ee){this.store.dispatch(W.Ny(ee))}static{this.\u0275fac=function(ne){return new(ne||z)(q.KVO(_.il))}}static{this.\u0275prov=q.jDH({token:z,factory:z.\u0275fac})}}return z})()},8515:(ut,ye,D)=>{D.d(ye,{h:()=>W});var _=D(6354),v=D(4438),ce=D(1626);let W=(()=>{class q{constructor(z){this.http=z}register(z){return this.http.post("https://conduit.productionready.io/api/users",z).pipe((0,_.T)(ie=>ie.user))}static{this.\u0275fac=function(ie){return new(ie||q)(v.KVO(ce.Qq))}}static{this.\u0275prov=v.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},8193:(ut,ye,D)=>{D.d(ye,{NW:()=>U,Sl:()=>ce,gt:()=>W});var _=D(9310),v=function(q){return q.REGISTER="[AUTH] REGISTER",q.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",q.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",q}(v||{});const ce=(0,_.VP)(v.REGISTER,(0,_.xk)()),U=(0,_.VP)(v.REGISTER_SUCCESS,(0,_.xk)()),W=(0,_.VP)(v.REGISTER_FAILURE,(0,_.xk)())},8721:(ut,ye,D)=>{D.d(ye,{Km:()=>q,cp:()=>U});var _=D(9310),v=D(8193);const U="Register",W=(0,_.vy)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,_.on)(v.Sl,Q=>({...Q,isSubmitting:!0,validationErrors:null})),(0,_.on)(v.NW,(Q,z)=>({...Q,isSubmitting:!1,isLoggedIn:!0,currentUser:z.currentUser})),(0,_.on)(v.gt,(Q,z)=>({...Q,isSubmitting:!1,validationErrors:z.errors})));function q(Q,z){return W(Q,z)}},5696:(ut,ye,D)=>{D.d(ye,{E:()=>z});var _=D(9310),v=D(8193),ce=D(8721);const U=(0,_.UX)(ce.cp),W=(0,_.Mz)(U,ie=>ie.isSubmitting),q=(0,_.Mz)(U,ie=>ie.validationErrors);var Q=D(4438);let z=(()=>{class ie{constructor(ne){this.store=ne}register(ne){this.store.dispatch((0,v.Sl)(ne))}isSubmitting(){return this.store.pipe((0,_.Lt)(W))}backendErrors(){return this.store.pipe((0,_.Lt)(q))}static{this.\u0275fac=function(Te){return new(Te||ie)(Q.KVO(_.il))}}static{this.\u0275prov=Q.jDH({token:ie,factory:ie.\u0275fac})}}return ie})()},965:(ut,ye,D)=>{D.d(ye,{VA:()=>W,bI:()=>U,wz:()=>ce});var _=D(9310),v=function(q){return q.GET_USER="[User] Get User",q.GET_USER_SUCCESS="[User] Get User Success",q.GET_USER_FAILED="[User] Get User Failed",q}(v||{});const ce=(0,_.VP)(v.GET_USER),U=(0,_.VP)(v.GET_USER_SUCCESS,(0,_.xk)()),W=(0,_.VP)(v.GET_USER_FAILED,(0,_.xk)())},459:(ut,ye,D)=>{D.d(ye,{c:()=>U,o:()=>q});var _=D(9310),ce=D(965);const U="user_info",W=(0,_.vy)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,_.on)(ce.bI,(Q,{user:z})=>({...Q,user:z,error:null})),(0,_.on)(ce.VA,(Q,{error:z})=>({...Q,user:{userId:null,name:null,lastName:null,email:null},error:z})));function q(Q,z){return W(Q,z)}},8066:(ut,ye,D)=>{D.d(ye,{w:()=>Q});var _=D(9310),v=D(965),ce=D(459);const U=(0,_.UX)(ce.c),W=(0,_.Mz)(U,z=>z.user);var q=D(4438);let Q=(()=>{class z{constructor(ee){this.store=ee}userInfo$(){return this.store.pipe((0,_.Lt)(W))}getUserInfo(){this.store.dispatch(v.wz())}static{this.\u0275fac=function(ne){return new(ne||z)(q.KVO(_.il))}}static{this.\u0275prov=q.jDH({token:z,factory:z.\u0275fac})}}return z})()},7240:(ut,ye,D)=>{D.d(ye,{G:()=>ce});var _=D(4438),v=D(1626);let ce=(()=>{class U{constructor(q){this.http=q}login(q,Q){return this.http.post("login",{username:q,password:Q})}getProducts(){return this.http.get("products",{headers:{}})}static{this.\u0275fac=function(Q){return new(Q||U)(_.KVO(v.Qq))}}static{this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},6570:(ut,ye,D)=>{D.d(ye,{u:()=>W});var _=D(4412),v=D(8141),ce=D(4438),U=D(7240);let W=(()=>{class q{constructor(z){this.apiService=z,this._isLoggedIn$=new _.t(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(z,ie){return this.apiService.login(z,ie).pipe((0,v.M)(ee=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,ee.token),this.user=this.getUser(ee.token)}))}getUser(z){return z?JSON.parse(atob(z.split(".")[1])):null}hasRole(z){return this.user?.Role.includes(z)||!1}static{this.\u0275fac=function(ie){return new(ie||q)(ce.KVO(U.G))}}static{this.\u0275prov=ce.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},5312:(ut,ye,D)=>{D.d(ye,{c:()=>v});var _=D(3344);const v={production:!0,version:D(8330).rE,firebaseConfig:_.I}},3344:(ut,ye,D)=>{D.d(ye,{I:()=>_});const _={apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432",auth_Token:"kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc"}},7572:(ut,ye,D)=>{var _=D(345),v=D(4438),ce=D(467),U=D(884),W=D(9969);const q=[(0,W.P)(":enter, :leave",(0,W.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,W.P)(":leave",(0,W.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,W.P)(":enter",(0,W.iF)({transform:"translateX(100%)"}),{optional:!0}),(0,W.Os)([(0,W.P)(":leave",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateX(-100%)"}))],{optional:!0}),(0,W.P)(":enter",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateX(0%)"}))],{optional:!0})])],Q=[(0,W.P)(":enter, :leave",(0,W.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,W.P)(":leave",(0,W.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,W.P)(":enter",(0,W.iF)({transform:"translateX(-100%)"}),{optional:!0}),(0,W.Os)([(0,W.P)(":leave",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateX(100%)"}))],{optional:!0}),(0,W.P)(":enter",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateX(0%)"}))],{optional:!0})])],z=[(0,W.P)(":enter, :leave",(0,W.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,W.P)(":leave",(0,W.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,W.P)(":enter",(0,W.iF)({transform:"translateY(100%)"}),{optional:!0}),(0,W.Os)([(0,W.P)(":leave",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateY(-100%)"}))],{optional:!0}),(0,W.P)(":enter",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateY(0%)"}))],{optional:!0})])],ie=[(0,W.P)(":enter, :leave",(0,W.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,W.P)(":leave",(0,W.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,W.P)(":enter",(0,W.iF)({transform:"translateY(-100%)"}),{optional:!0}),(0,W.Os)([(0,W.P)(":leave",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateY(100%)"}))],{optional:!0}),(0,W.P)(":enter",[(0,W.i0)(".3s ease-in-out",(0,W.iF)({transform:"translateY(0%)"}))],{optional:!0})])],ee=(0,W.hZ)("slideTransition",[(0,W.kY)("* => slideToLeft",q),(0,W.kY)("* => slideToRight",Q),(0,W.kY)("* => slideToTop",z),(0,W.kY)("* => slideToBottom",ie)]);var ne=D(6454),Te=D(177);const Fe=()=>["navbar-dark","bg-dark"],Le=()=>["navbar-light","bg-light"],Ie=I=>({show:I});function xe(I,E){if(1&I&&(v.j41(0,"li",11)(1,"a",12),v.EFF(2),v.k0s()()),2&I){const m=E.$implicit;v.R7$(),v.Y8G("routerLink",null==m?null:m.path),v.R7$(),v.JRh((null==m?null:m.name)||(null==m?null:m.path))}}function Ze(I,E){if(1&I&&(v.j41(0,"a",13),v.EFF(1),v.k0s()),2&I){const m=E.$implicit;v.R7$(),v.JRh(m)}}let Ge=(()=>{class I{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},standalone:!1,decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(A,B){1&A&&(v.j41(0,"nav",0)(1,"a",1),v.EFF(2,"Navbar"),v.k0s(),v.j41(3,"button",2),v.bIt("click",function(){return B.toggleNavbar()}),v.nrm(4,"span",3),v.k0s(),v.j41(5,"div",4)(6,"ul",5),v.DNE(7,xe,3,2,"li",6),v.j41(8,"li",7),v.bIt("click",function(){return B.show=!B.show}),v.j41(9,"a",8),v.EFF(10,"Language"),v.k0s(),v.j41(11,"div",9),v.DNE(12,Ze,2,1,"a",10),v.k0s()()()()()),2&A&&(v.Y8G("ngClass","DARK"===B.template?v.lJ4(6,Fe):v.lJ4(7,Le)),v.R7$(5),v.Y8G("ngClass",v.eq3(8,Ie,B.isCollapsed)),v.R7$(2),v.Y8G("ngForOf",B.routes),v.R7$(4),v.AVh("show",B.show),v.R7$(),v.Y8G("ngForOf",B.languages))},dependencies:[Te.NgClass,Te.NgForOf,U.Wk,U.wQ],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]})}}return I})();const Rt=[{path:"application",loadChildren:()=>Promise.all([D.e(2076),D.e(8508)]).then(D.bind(D,8508)).then(I=>I.ApplicationModule)},{path:"v2",loadChildren:()=>Promise.all([D.e(4877),D.e(2076),D.e(10)]).then(D.bind(D,10)).then(I=>I.PersonalModule)},{path:"audios",loadChildren:()=>Promise.all([D.e(3760),D.e(7215)]).then(D.bind(D,7215)).then(I=>I.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([D.e(3760),D.e(2076),D.e(8398)]).then(D.bind(D,8398)).then(I=>I.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([D.e(3760),D.e(8232),D.e(1299)]).then(D.bind(D,1299)).then(I=>I.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([D.e(3760),D.e(6709)]).then(D.bind(D,6709)).then(I=>I.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([D.e(3760),D.e(9125)]).then(D.bind(D,9125)).then(I=>I.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([D.e(3810),D.e(3760),D.e(1658)]).then(D.bind(D,1658)).then(I=>I.CovidModule)},{path:"github",loadChildren:()=>Promise.all([D.e(3810),D.e(3760),D.e(2076),D.e(350)]).then(D.bind(D,350)).then(I=>I.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([D.e(3810),D.e(2076),D.e(6246)]).then(D.bind(D,6246)).then(I=>I.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([D.e(3760),D.e(5802)]).then(D.bind(D,5802)).then(I=>I.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([D.e(3760),D.e(2076),D.e(3936)]).then(D.bind(D,3936)).then(I=>I.MoviesModule)},{path:"encapsulating",loadChildren:()=>D.e(9992).then(D.bind(D,9992)).then(I=>I.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([D.e(3760),D.e(4624)]).then(D.bind(D,4624)).then(I=>I.SportsModule)},{path:"shop",loadChildren:()=>Promise.all([D.e(2076),D.e(7460)]).then(D.bind(D,7460)).then(I=>I.ShopModule)},{path:"store",loadChildren:()=>D.e(8528).then(D.bind(D,8528)).then(I=>I.StoreModule)},{path:"ngrx-store",loadChildren:()=>D.e(990).then(D.bind(D,990)).then(I=>I.NgrxStoreModule)},{path:"survey",loadChildren:()=>D.e(9860).then(D.bind(D,9860)).then(I=>I.SurveyPollVoterPridictionModule)},{path:"responsive-site",loadChildren:()=>D.e(5447).then(D.bind(D,5447)).then(I=>I.ResponsiveSiteModule)},{path:"mockapi",loadChildren:()=>D.e(3053).then(D.bind(D,3053)).then(I=>I.MockapiModule)},{path:"routeReuse",loadChildren:()=>D.e(7132).then(D.bind(D,7132)).then(I=>I.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>D.e(2959).then(D.bind(D,2959)).then(I=>I.SampleModule)},{path:"navigations",component:(()=>{class I{constructor(m){this.animationService=m,this.routes=[{path:"resume"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(m){return m.activatedRouteData.animation}static{this.\u0275fac=function(A){return new(A||I)(v.rXU(ne.O))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-navigations"]],standalone:!1,decls:3,vars:2,consts:[[3,"routes","template"]],template:function(A,B){1&A&&(v.nrm(0,"app-navbar",0),v.j41(1,"main"),v.nrm(2,"router-outlet"),v.k0s()),2&A&&v.Y8G("routes",B.routes)("template","LIGHT")},dependencies:[U.n3,Ge],encapsulation:2,data:{animation:[ee]}})}}return I})(),children:[{path:"my-site",loadChildren:()=>D.e(4035).then(D.bind(D,4035)).then(I=>I.MysiteModule)},{path:"svg",loadChildren:()=>D.e(862).then(D.bind(D,862)).then(I=>I.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([D.e(3810),D.e(4277),D.e(2076),D.e(9147)]).then(D.bind(D,9147)).then(I=>I.TaskModule)},{path:"unit-testing",loadChildren:()=>D.e(9580).then(D.bind(D,9580)).then(I=>I.UnitTestingModule)}]},{path:"library-ex",loadChildren:()=>Promise.all([D.e(3810),D.e(8232),D.e(5704),D.e(2076),D.e(8948)]).then(D.bind(D,8948)).then(I=>I.LibraryExModule)},{path:"firebase",loadChildren:()=>Promise.all([D.e(3810),D.e(8232),D.e(6744),D.e(2080),D.e(5704),D.e(6703)]).then(D.bind(D,6703)).then(I=>I.FirebaseModule)},{path:"tutorials",loadChildren:()=>Promise.all([D.e(8232),D.e(9752)]).then(D.bind(D,9752)).then(I=>I.TutorialsModule)},{path:"css",loadChildren:()=>Promise.all([D.e(3810),D.e(2076),D.e(8651)]).then(D.bind(D,8651)).then(I=>I.CssLearnModule)},{path:"code-task",loadChildren:()=>D.e(3489).then(D.bind(D,3489)).then(I=>I.CodeTaskModule)},{path:"custom",loadComponent:(I=(0,ce.A)(function*(){return(yield Promise.all([D.e(3810),D.e(2076),D.e(3993)]).then(D.bind(D,6374))).CustomComponent}),function(){return I.apply(this,arguments)})},{path:"declarative",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield D.e(562).then(D.bind(D,562))).DeclarativeModule});return function(){return I.apply(this,arguments)}}()},{path:"sidenav",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield D.e(2477).then(D.bind(D,2477))).SidenavModule});return function(){return I.apply(this,arguments)}}()},{path:"certificate",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield D.e(529).then(D.bind(D,529))).CertificateModule});return function(){return I.apply(this,arguments)}}()},{path:"systems",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield Promise.all([D.e(7122),D.e(3866)]).then(D.bind(D,3866))).SystemsModule});return function(){return I.apply(this,arguments)}}()},{path:"assignment",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield Promise.all([D.e(3810),D.e(9013)]).then(D.bind(D,9013))).AssignmentModule});return function(){return I.apply(this,arguments)}}()},{path:"",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield Promise.all([D.e(3810),D.e(4277),D.e(4877),D.e(2076),D.e(1133)]).then(D.bind(D,1133))).WebsiteModule});return function(){return I.apply(this,arguments)}}()},{path:"",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield D.e(2302).then(D.bind(D,2302))).DemosModule});return function(){return I.apply(this,arguments)}}()},{path:"",loadChildren:()=>D.e(322).then(D.bind(D,7941))},{path:"",loadChildren:()=>D.e(3439).then(D.bind(D,3439))},{path:"ui",loadChildren:function(){var I=(0,ce.A)(function*(){return(yield Promise.all([D.e(3810),D.e(4277),D.e(538),D.e(2076),D.e(8915)]).then(D.bind(D,8915))).UiComponentsModule});return function(){return I.apply(this,arguments)}}()},{path:"features",loadChildren:()=>Promise.all([D.e(2076),D.e(7941)]).then(D.bind(D,322))},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:""}];var I;let Je=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({imports:[U.iI.forRoot(Rt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),U.iI]})}}return I})();var je=D(1626);let Ht=(()=>{class I{constructor(m){this.http=m,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(m=>(this.configuration=m,m)).catch(m=>{console.error(m)})}getConfiguration(){return this.configuration}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(je.Qq))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();var Ot=D(6102),Kt=D(1152);let Gt=(()=>{class I{constructor(m,A,B){this.configurationService=m,this.jsonPlaceholderService=A,this.route=B,this.title="portfolio-all-in-one",this.version=v.xvI.major}ngOnInit(){window.addEventListener("beforeinstallprompt",m=>{console.log("'beforeinstallprompt' event was fired.")})}static{this.\u0275fac=function(A){return new(A||I)(v.rXU(Ht),v.rXU(Ot.h),v.rXU(U.nX))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,template:function(A,B){1&A&&v.nrm(0,"app-notification")(1,"router-outlet")(2,"ng-toast")},dependencies:[U.n3,Kt.d3],encapsulation:2})}}return I})();function Pn(I){return new v.wOt(3e3,!1)}function pr(I){switch(I.length){case 0:return new W.sf;case 1:return I[0];default:return new W.ui(I)}}function Is(I,E,m=new Map,A=new Map){const B=[],te=[];let ge=-1,Ee=null;if(E.forEach(Pe=>{const ke=Pe.get("offset"),wt=ke==ge,gt=wt&&Ee||new Map;Pe.forEach((Jt,en)=>{let bt=en,$t=Jt;if("offset"!==en)switch(bt=I.normalizePropertyName(bt,B),$t){case W.FX:$t=m.get(en);break;case W.kp:$t=A.get(en);break;default:$t=I.normalizeStyleValue(en,bt,$t,B)}gt.set(bt,$t)}),wt||te.push(gt),Ee=gt,ge=ke}),B.length)throw function qn(){return new v.wOt(3502,!1)}();return te}function Ur(I,E,m,A){switch(E){case"start":I.onStart(()=>A(m&&Ts(m,"start",I)));break;case"done":I.onDone(()=>A(m&&Ts(m,"done",I)));break;case"destroy":I.onDestroy(()=>A(m&&Ts(m,"destroy",I)))}}function Ts(I,E,m){const te=Xr(I.element,I.triggerName,I.fromState,I.toState,E||I.phaseName,m.totalTime??I.totalTime,!!m.disabled),ge=I._data;return null!=ge&&(te._data=ge),te}function Xr(I,E,m,A,B="",te=0,ge){return{element:I,triggerName:E,fromState:m,toState:A,phaseName:B,totalTime:te,disabled:!!ge}}function gr(I,E,m){let A=I.get(E);return A||I.set(E,A=m),A}function Rr(I){const E=I.indexOf(":");return[I.substring(1,E),I.slice(E+1)]}const Er=typeof document>"u"?null:document.documentElement;function er(I){const E=I.parentNode||I.host||null;return E===Er?null:E}let fn=null,Qs=!1;function Xs(I,E){for(;E;){if(E===I)return!0;E=er(E)}return!1}function ks(I,E,m){if(m)return Array.from(I.querySelectorAll(E));const A=I.querySelector(E);return A?[A]:[]}let Se=(()=>{class I{validateStyleProperty(m){return function sr(I){fn||(fn=function fs(){return typeof document<"u"?document.body:null}()||{},Qs=!!fn.style&&"WebkitAppearance"in fn.style);let E=!0;return fn.style&&!function ys(I){return"ebkit"==I.substring(1,6)}(I)&&(E=I in fn.style,!E&&Qs&&(E="Webkit"+I.charAt(0).toUpperCase()+I.slice(1)in fn.style)),E}(m)}containsElement(m,A){return Xs(m,A)}getParentElement(m){return er(m)}query(m,A,B){return ks(m,A,B)}computeStyle(m,A,B){return B||""}animate(m,A,B,te,ge,Ee=[],Pe){return new W.sf(B,te)}static \u0275fac=function(A){return new(A||I)};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})();class oe{static NOOP=new Se}class Ce{}const pn="ng-enter",ln="ng-leave",Un="ng-trigger",sn=".ng-trigger",Tr="ng-animating",Yr=".ng-animating";function Hr(I){if("number"==typeof I)return I;const E=I.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Zr(parseFloat(E[1]),E[2])}function Zr(I,E){return"s"===E?1e3*I:I}function cn(I,E,m){return I.hasOwnProperty("duration")?I:function it(I,E,m){let B,te=0,ge="";if("string"==typeof I){const Ee=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ee)return E.push(Pn()),{duration:0,delay:0,easing:""};B=Zr(parseFloat(Ee[1]),Ee[2]);const Pe=Ee[3];null!=Pe&&(te=Zr(parseFloat(Pe),Ee[4]));const ke=Ee[5];ke&&(ge=ke)}else B=I;if(!m){let Ee=!1,Pe=E.length;B<0&&(E.push(function pt(){return new v.wOt(3100,!1)}()),Ee=!0),te<0&&(E.push(function tt(){return new v.wOt(3101,!1)}()),Ee=!0),Ee&&E.splice(Pe,0,Pn())}return{duration:B,delay:te,easing:ge}}(I,E,m)}function qt(I,E,m){E.forEach((A,B)=>{const te=pi(B);m&&!m.has(B)&&m.set(B,I.style[te]),I.style[te]=A})}function dn(I,E){E.forEach((m,A)=>{const B=pi(A);I.style[B]=""})}function Yt(I){return Array.isArray(I)?1==I.length?I[0]:(0,W.K2)(I):I}const xr=new RegExp("{{\\s*(.+?)\\s*}}","g");function qr(I){let E=[];if("string"==typeof I){let m;for(;m=xr.exec(I);)E.push(m[1]);xr.lastIndex=0}return E}function ss(I,E,m){const A=`${I}`,B=A.replace(xr,(te,ge)=>{let Ee=E[ge];return null==Ee&&(m.push(function Dn(){return new v.wOt(3003,!1)}()),Ee=""),Ee.toString()});return B==A?I:B}const zi=/-+([a-z0-9])/g;function pi(I){return I.replace(zi,(...E)=>E[1].toUpperCase())}function ir(I,E,m){switch(E.type){case W.If.Trigger:return I.visitTrigger(E,m);case W.If.State:return I.visitState(E,m);case W.If.Transition:return I.visitTransition(E,m);case W.If.Sequence:return I.visitSequence(E,m);case W.If.Group:return I.visitGroup(E,m);case W.If.Animate:return I.visitAnimate(E,m);case W.If.Keyframes:return I.visitKeyframes(E,m);case W.If.Style:return I.visitStyle(E,m);case W.If.Reference:return I.visitReference(E,m);case W.If.AnimateChild:return I.visitAnimateChild(E,m);case W.If.AnimateRef:return I.visitAnimateRef(E,m);case W.If.Query:return I.visitQuery(E,m);case W.If.Stagger:return I.visitStagger(E,m);default:throw function kn(){return new v.wOt(3004,!1)}()}}function ue(I,E){return window.getComputedStyle(I)[E]}const de=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class me extends Ce{normalizePropertyName(E,m){return pi(E)}normalizeStyleValue(E,m,A,B){let te="";const ge=A.toString().trim();if(de.has(m)&&0!==A&&"0"!==A)if("number"==typeof A)te="px";else{const Ee=A.match(/^[+-]?[\d\.]+([a-z]*)$/);Ee&&0==Ee[1].length&&B.push(function yr(){return new v.wOt(3005,!1)}())}return ge+te}}const Or=new Set(["true","1"]),is=new Set(["false","0"]);function bn(I,E){const m=Or.has(I)||is.has(I),A=Or.has(E)||is.has(E);return(B,te)=>{let ge="*"==I||I==B,Ee="*"==E||E==te;return!ge&&m&&"boolean"==typeof B&&(ge=B?Or.has(I):is.has(I)),!Ee&&A&&"boolean"==typeof te&&(Ee=te?Or.has(E):is.has(E)),ge&&Ee}}const os=new RegExp("s*:selfs*,?","g");function Us(I,E,m,A){return new pe(I).build(E,m,A)}class pe{_driver;constructor(E){this._driver=E}build(E,m,A){const B=new nt(m);return this._resetContextStyleTimingState(B),ir(this,Yt(E),B)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,m){let A=m.queryCount=0,B=m.depCount=0;const te=[],ge=[];return"@"==E.name.charAt(0)&&m.errors.push(function _r(){return new v.wOt(3006,!1)}()),E.definitions.forEach(Ee=>{if(this._resetContextStyleTimingState(m),Ee.type==W.If.State){const Pe=Ee,ke=Pe.name;ke.toString().split(/\s*,\s*/).forEach(wt=>{Pe.name=wt,te.push(this.visitState(Pe,m))}),Pe.name=ke}else if(Ee.type==W.If.Transition){const Pe=this.visitTransition(Ee,m);A+=Pe.queryCount,B+=Pe.depCount,ge.push(Pe)}else m.errors.push(function ws(){return new v.wOt(3007,!1)}())}),{type:W.If.Trigger,name:E.name,states:te,transitions:ge,queryCount:A,depCount:B,options:null}}visitState(E,m){const A=this.visitStyle(E.styles,m),B=E.options&&E.options.params||null;if(A.containsDynamicStyles){const te=new Set,ge=B||{};A.styles.forEach(Ee=>{Ee instanceof Map&&Ee.forEach(Pe=>{qr(Pe).forEach(ke=>{ge.hasOwnProperty(ke)||te.add(ke)})})}),te.size&&m.errors.push(function dr(){return new v.wOt(3008,!1)}(0,te.values()))}return{type:W.If.State,name:E.name,style:A,options:B?{params:B}:null}}visitTransition(E,m){m.queryCount=0,m.depCount=0;const A=ir(this,Yt(E.animation),m),B=function Ln(I,E){const m=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(A=>function tn(I,E,m){if(":"==I[0]){const Pe=function jn(I,E){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,A)=>parseFloat(A)>parseFloat(m);case":decrement":return(m,A)=>parseFloat(A)<parseFloat(m);default:return E.push(function Kn(){return new v.wOt(3016,!1)}()),"* => *"}}(I,m);if("function"==typeof Pe)return void E.push(Pe);I=Pe}const A=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return m.push(function Cn(){return new v.wOt(3015,!1)}()),E;const B=A[1],te=A[2],ge=A[3];E.push(bn(B,ge)),"<"==te[0]&&("*"!=B||"*"!=ge)&&E.push(bn(ge,B))}(A,m,E)):m.push(I),m}(E.expr,m.errors);return{type:W.If.Transition,matchers:B,animation:A,queryCount:m.queryCount,depCount:m.depCount,options:Mn(E.options)}}visitSequence(E,m){return{type:W.If.Sequence,steps:E.steps.map(A=>ir(this,A,m)),options:Mn(E.options)}}visitGroup(E,m){const A=m.currentTime;let B=0;const te=E.steps.map(ge=>{m.currentTime=A;const Ee=ir(this,ge,m);return B=Math.max(B,m.currentTime),Ee});return m.currentTime=B,{type:W.If.Group,steps:te,options:Mn(E.options)}}visitAnimate(E,m){const A=function Qt(I,E){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return br(cn(I,E).duration,0,"");const m=I;if(m.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=br(0,0,"");return te.dynamic=!0,te.strValue=m,te}const B=cn(m,E);return br(B.duration,B.delay,B.easing)}(E.timings,m.errors);m.currentAnimateTimings=A;let B,te=E.styles?E.styles:(0,W.iF)({});if(te.type==W.If.Keyframes)B=this.visitKeyframes(te,m);else{let ge=E.styles,Ee=!1;if(!ge){Ee=!0;const ke={};A.easing&&(ke.easing=A.easing),ge=(0,W.iF)(ke)}m.currentTime+=A.duration+A.delay;const Pe=this.visitStyle(ge,m);Pe.isEmptyStep=Ee,B=Pe}return m.currentAnimateTimings=null,{type:W.If.Animate,timings:A,style:B,options:null}}visitStyle(E,m){const A=this._makeStyleAst(E,m);return this._validateStyleAst(A,m),A}_makeStyleAst(E,m){const A=[],B=Array.isArray(E.styles)?E.styles:[E.styles];for(let Ee of B)"string"==typeof Ee?Ee===W.kp?A.push(Ee):m.errors.push(new v.wOt(3002,!1)):A.push(new Map(Object.entries(Ee)));let te=!1,ge=null;return A.forEach(Ee=>{if(Ee instanceof Map&&(Ee.has("easing")&&(ge=Ee.get("easing"),Ee.delete("easing")),!te))for(let Pe of Ee.values())if(Pe.toString().indexOf("{{")>=0){te=!0;break}}),{type:W.If.Style,styles:A,easing:ge,offset:E.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(E,m){const A=m.currentAnimateTimings;let B=m.currentTime,te=m.currentTime;A&&te>0&&(te-=A.duration+A.delay),E.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((Ee,Pe)=>{const ke=m.collectedStyles.get(m.currentQuerySelector),wt=ke.get(Pe);let gt=!0;wt&&(te!=B&&te>=wt.startTime&&B<=wt.endTime&&(m.errors.push(function st(){return new v.wOt(3010,!1)}()),gt=!1),te=wt.startTime),gt&&ke.set(Pe,{startTime:te,endTime:B}),m.options&&function mr(I,E,m){const A=E.params||{},B=qr(I);B.length&&B.forEach(te=>{A.hasOwnProperty(te)||m.push(function Nt(){return new v.wOt(3001,!1)}())})}(Ee,m.options,m.errors)})})}visitKeyframes(E,m){const A={type:W.If.Keyframes,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function at(){return new v.wOt(3011,!1)}()),A;let te=0;const ge=[];let Ee=!1,Pe=!1,ke=0;const wt=E.steps.map(An=>{const ts=this._makeStyleAst(An,m);let Ps=null!=ts.offset?ts.offset:function Pt(I){if("string"==typeof I)return null;let E=null;if(Array.isArray(I))I.forEach(m=>{if(m instanceof Map&&m.has("offset")){const A=m;E=parseFloat(A.get("offset")),A.delete("offset")}});else if(I instanceof Map&&I.has("offset")){const m=I;E=parseFloat(m.get("offset")),m.delete("offset")}return E}(ts.styles),Wn=0;return null!=Ps&&(te++,Wn=ts.offset=Ps),Pe=Pe||Wn<0||Wn>1,Ee=Ee||Wn<ke,ke=Wn,ge.push(Wn),ts});Pe&&m.errors.push(function Ct(){return new v.wOt(3012,!1)}()),Ee&&m.errors.push(function Et(){return new v.wOt(3200,!1)}());const gt=E.steps.length;let Jt=0;te>0&&te<gt?m.errors.push(function Zt(){return new v.wOt(3202,!1)}()):0==te&&(Jt=1/(gt-1));const en=gt-1,bt=m.currentTime,$t=m.currentAnimateTimings,Hn=$t.duration;return wt.forEach((An,ts)=>{const Ps=Jt>0?ts==en?1:Jt*ts:ge[ts],Wn=Ps*Hn;m.currentTime=bt+$t.delay+Wn,$t.duration=Wn,this._validateStyleAst(An,m),An.offset=Ps,A.styles.push(An)}),A}visitReference(E,m){return{type:W.If.Reference,animation:ir(this,Yt(E.animation),m),options:Mn(E.options)}}visitAnimateChild(E,m){return m.depCount++,{type:W.If.AnimateChild,options:Mn(E.options)}}visitAnimateRef(E,m){return{type:W.If.AnimateRef,animation:this.visitReference(E.animation,m),options:Mn(E.options)}}visitQuery(E,m){const A=m.currentQuerySelector,B=E.options||{};m.queryCount++,m.currentQuery=E;const[te,ge]=function Ke(I){const E=!!I.split(/\s*,\s*/).find(m=>":self"==m);return E&&(I=I.replace(os,"")),I=I.replace(/@\*/g,sn).replace(/@\w+/g,m=>sn+"-"+m.slice(1)).replace(/:animating/g,Yr),[I,E]}(E.selector);m.currentQuerySelector=A.length?A+" "+te:te,gr(m.collectedStyles,m.currentQuerySelector,new Map);const Ee=ir(this,Yt(E.animation),m);return m.currentQuery=null,m.currentQuerySelector=A,{type:W.If.Query,selector:te,limit:B.limit||0,optional:!!B.optional,includeSelf:ge,animation:Ee,originalSelector:E.selector,options:Mn(E.options)}}visitStagger(E,m){m.currentQuery||m.errors.push(function mn(){return new v.wOt(3013,!1)}());const A="full"===E.timings?{duration:0,delay:0,easing:"full"}:cn(E.timings,m.errors,!0);return{type:W.If.Stagger,animation:ir(this,Yt(E.animation),m),timings:A,options:null}}}class nt{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(E){this.errors=E}}function Mn(I){return I?(I={...I}).params&&(I.params=function Be(I){return I?{...I}:null}(I.params)):I={},I}function br(I,E,m){return{duration:I,delay:E,easing:m}}function hn(I,E,m,A,B,te,ge=null,Ee=!1){return{type:1,element:I,keyframes:E,preStyleProps:m,postStyleProps:A,duration:B,delay:te,totalTime:B+te,easing:ge,subTimeline:Ee}}class ps{_map=new Map;get(E){return this._map.get(E)||[]}append(E,m){let A=this._map.get(E);A||this._map.set(E,A=[]),A.push(...m)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const Jo=new RegExp(":enter","g"),Ss=new RegExp(":leave","g");function li(I,E,m,A,B,te=new Map,ge=new Map,Ee,Pe,ke=[]){return(new Bs).buildKeyframes(I,E,m,A,B,te,ge,Ee,Pe,ke)}class Bs{buildKeyframes(E,m,A,B,te,ge,Ee,Pe,ke,wt=[]){ke=ke||new ps;const gt=new tr(E,m,ke,B,te,wt,[]);gt.options=Pe;const Jt=Pe.delay?Hr(Pe.delay):0;gt.currentTimeline.delayNextStep(Jt),gt.currentTimeline.setStyles([ge],null,gt.errors,Pe),ir(this,A,gt);const en=gt.timelines.filter(bt=>bt.containsAnimation());if(en.length&&Ee.size){let bt;for(let $t=en.length-1;$t>=0;$t--){const Hn=en[$t];if(Hn.element===m){bt=Hn;break}}bt&&!bt.allowOnlyTimelineStyles()&&bt.setStyles([Ee],null,gt.errors,Pe)}return en.length?en.map(bt=>bt.buildKeyframes()):[hn(m,[],[],[],0,Jt,"",!1)]}visitTrigger(E,m){}visitState(E,m){}visitTransition(E,m){}visitAnimateChild(E,m){const A=m.subInstructions.get(m.element);if(A){const B=m.createSubContext(E.options),te=m.currentTimeline.currentTime,ge=this._visitSubInstructions(A,B,B.options);te!=ge&&m.transformIntoNewTimeline(ge)}m.previousNode=E}visitAnimateRef(E,m){const A=m.createSubContext(E.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],m,A),this.visitReference(E.animation,A),m.transformIntoNewTimeline(A.currentTimeline.currentTime),m.previousNode=E}_applyAnimationRefDelays(E,m,A){for(const B of E){const te=B?.delay;if(te){const ge="number"==typeof te?te:Hr(ss(te,B?.params??{},m.errors));A.delayNextStep(ge)}}}_visitSubInstructions(E,m,A){let te=m.currentTimeline.currentTime;const ge=null!=A.duration?Hr(A.duration):null,Ee=null!=A.delay?Hr(A.delay):null;return 0!==ge&&E.forEach(Pe=>{const ke=m.appendInstructionToTimeline(Pe,ge,Ee);te=Math.max(te,ke.duration+ke.delay)}),te}visitReference(E,m){m.updateOptions(E.options,!0),ir(this,E.animation,m),m.previousNode=E}visitSequence(E,m){const A=m.subContextCount;let B=m;const te=E.options;if(te&&(te.params||te.delay)&&(B=m.createSubContext(te),B.transformIntoNewTimeline(),null!=te.delay)){B.previousNode.type==W.If.Style&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=Fi);const ge=Hr(te.delay);B.delayNextStep(ge)}E.steps.length&&(E.steps.forEach(ge=>ir(this,ge,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>A&&B.transformIntoNewTimeline()),m.previousNode=E}visitGroup(E,m){const A=[];let B=m.currentTimeline.currentTime;const te=E.options&&E.options.delay?Hr(E.options.delay):0;E.steps.forEach(ge=>{const Ee=m.createSubContext(E.options);te&&Ee.delayNextStep(te),ir(this,ge,Ee),B=Math.max(B,Ee.currentTimeline.currentTime),A.push(Ee.currentTimeline)}),A.forEach(ge=>m.currentTimeline.mergeTimelineCollectedStyles(ge)),m.transformIntoNewTimeline(B),m.previousNode=E}_visitTiming(E,m){if(E.dynamic){const A=E.strValue;return cn(m.params?ss(A,m.params,m.errors):A,m.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,m){const A=m.currentAnimateTimings=this._visitTiming(E.timings,m),B=m.currentTimeline;A.delay&&(m.incrementTime(A.delay),B.snapshotCurrentStyles());const te=E.style;te.type==W.If.Keyframes?this.visitKeyframes(te,m):(m.incrementTime(A.duration),this.visitStyle(te,m),B.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=E}visitStyle(E,m){const A=m.currentTimeline,B=m.currentAnimateTimings;!B&&A.hasCurrentStyleProperties()&&A.forwardFrame();const te=B&&B.easing||E.easing;E.isEmptyStep?A.applyEmptyStep(te):A.setStyles(E.styles,te,m.errors,m.options),m.previousNode=E}visitKeyframes(E,m){const A=m.currentAnimateTimings,B=m.currentTimeline.duration,te=A.duration,Ee=m.createSubContext().currentTimeline;Ee.easing=A.easing,E.styles.forEach(Pe=>{Ee.forwardTime((Pe.offset||0)*te),Ee.setStyles(Pe.styles,Pe.easing,m.errors,m.options),Ee.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(Ee),m.transformIntoNewTimeline(B+te),m.previousNode=E}visitQuery(E,m){const A=m.currentTimeline.currentTime,B=E.options||{},te=B.delay?Hr(B.delay):0;te&&(m.previousNode.type===W.If.Style||0==A&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Fi);let ge=A;const Ee=m.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!B.optional,m.errors);m.currentQueryTotal=Ee.length;let Pe=null;Ee.forEach((ke,wt)=>{m.currentQueryIndex=wt;const gt=m.createSubContext(E.options,ke);te&&gt.delayNextStep(te),ke===m.element&&(Pe=gt.currentTimeline),ir(this,E.animation,gt),gt.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,gt.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(ge),Pe&&(m.currentTimeline.mergeTimelineCollectedStyles(Pe),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=E}visitStagger(E,m){const A=m.parentContext,B=m.currentTimeline,te=E.timings,ge=Math.abs(te.duration),Ee=ge*(m.currentQueryTotal-1);let Pe=ge*m.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Pe=Ee-Pe;break;case"full":Pe=A.currentStaggerTime}const wt=m.currentTimeline;Pe&&wt.delayNextStep(Pe);const gt=wt.currentTime;ir(this,E.animation,m),m.previousNode=E,A.currentStaggerTime=B.currentTime-gt+(B.startTime-A.currentTimeline.startTime)}}const Fi={};class tr{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Fi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(E,m,A,B,te,ge,Ee,Pe){this._driver=E,this.element=m,this.subInstructions=A,this._enterClassName=B,this._leaveClassName=te,this.errors=ge,this.timelines=Ee,this.currentTimeline=Pe||new Ys(this._driver,m,0),Ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,m){if(!E)return;const A=E;let B=this.options;null!=A.duration&&(B.duration=Hr(A.duration)),null!=A.delay&&(B.delay=Hr(A.delay));const te=A.params;if(te){let ge=B.params;ge||(ge=this.options.params={}),Object.keys(te).forEach(Ee=>{(!m||!ge.hasOwnProperty(Ee))&&(ge[Ee]=ss(te[Ee],ge,this.errors))})}}_copyOptions(){const E={};if(this.options){const m=this.options.params;if(m){const A=E.params={};Object.keys(m).forEach(B=>{A[B]=m[B]})}}return E}createSubContext(E=null,m,A){const B=m||this.element,te=new tr(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,A||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(E),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(E){return this.previousNode=Fi,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,m,A){const B={duration:m??E.duration,delay:this.currentTimeline.currentTime+(A??0)+E.delay,easing:""},te=new ki(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,B,E.stretchStartingKeyframe);return this.timelines.push(te),B}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,m,A,B,te,ge){let Ee=[];if(B&&Ee.push(this.element),E.length>0){E=(E=E.replace(Jo,"."+this._enterClassName)).replace(Ss,"."+this._leaveClassName);let ke=this._driver.query(this.element,E,1!=A);0!==A&&(ke=A<0?ke.slice(ke.length+A,ke.length):ke.slice(0,A)),Ee.push(...ke)}return!te&&0==Ee.length&&ge.push(function hr(){return new v.wOt(3014,!1)}()),Ee}}class Ys{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(E,m,A,B){this._driver=E,this.element=m,this.startTime=A,this._elementTimelineStylesLookup=B,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+E),m&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,m){return this.applyStylesToKeyframe(),new Ys(this._driver,E,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,m){this._localTimelineStyles.set(E,m),this._globalTimelineStyles.set(E,m),this._styleSummary.set(E,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[m,A]of this._globalTimelineStyles)this._backFill.set(m,A||W.kp),this._currentKeyframe.set(m,W.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,m,A,B){m&&this._previousKeyframe.set("easing",m);const te=B&&B.params||{},ge=function xo(I,E){const m=new Map;let A;return I.forEach(B=>{if("*"===B){A??=E.keys();for(let te of A)m.set(te,W.kp)}else for(let[te,ge]of B)m.set(te,ge)}),m}(E,this._globalTimelineStyles);for(let[Ee,Pe]of ge){const ke=ss(Pe,te,A);this._pendingStyles.set(Ee,ke),this._localTimelineStyles.has(Ee)||this._backFill.set(Ee,this._globalTimelineStyles.get(Ee)??W.kp),this._updateStyle(Ee,ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,m)=>{this._currentKeyframe.set(m,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,E)}))}snapshotCurrentStyles(){for(let[E,m]of this._localTimelineStyles)this._pendingStyles.set(E,m),this._updateStyle(E,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let m in this._currentKeyframe)E.push(m);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((m,A)=>{const B=this._styleSummary.get(A);(!B||m.time>B.time)&&this._updateStyle(A,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,m=new Set,A=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((Ee,Pe)=>{const ke=new Map([...this._backFill,...Ee]);ke.forEach((wt,gt)=>{wt===W.FX?E.add(gt):wt===W.kp&&m.add(gt)}),A||ke.set("offset",Pe/this.duration),B.push(ke)});const te=[...E.values()],ge=[...m.values()];if(A){const Ee=B[0],Pe=new Map(Ee);Ee.set("offset",0),Pe.set("offset",1),B=[Ee,Pe]}return hn(this.element,B,te,ge,this.duration,this.startTime,this.easing,!1)}}class ki extends Ys{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(E,m,A,B,te,ge,Ee=!1){super(E,m,ge.delay),this.keyframes=A,this.preStyleProps=B,this.postStyleProps=te,this._stretchStartingKeyframe=Ee,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:m,duration:A,easing:B}=this.timings;if(this._stretchStartingKeyframe&&m){const te=[],ge=A+m,Ee=m/ge,Pe=new Map(E[0]);Pe.set("offset",0),te.push(Pe);const ke=new Map(E[0]);ke.set("offset",Ni(Ee)),te.push(ke);const wt=E.length-1;for(let gt=1;gt<=wt;gt++){let Jt=new Map(E[gt]);const en=Jt.get("offset");Jt.set("offset",Ni((m+en*A)/ge)),te.push(Jt)}A=ge,m=0,B="",E=te}return hn(this.element,E,this.preStyleProps,this.postStyleProps,A,m,B,!0)}}function Ni(I,E=3){const m=Math.pow(10,E-1);return Math.round(I*m)/m}function Po(I,E,m,A,B,te,ge,Ee,Pe,ke,wt,gt,Jt){return{type:0,element:I,triggerName:E,isRemovalTransition:B,fromState:m,fromStyles:te,toState:A,toStyles:ge,timelines:Ee,queriedElements:Pe,preStyleProps:ke,postStyleProps:wt,totalTime:gt,errors:Jt}}const ni={};class to{_triggerName;ast;_stateStyles;constructor(E,m,A){this._triggerName=E,this.ast=m,this._stateStyles=A}match(E,m,A,B){return function Ra(I,E,m,A,B){return I.some(te=>te(E,m,A,B))}(this.ast.matchers,E,m,A,B)}buildStyles(E,m,A){let B=this._stateStyles.get("*");return void 0!==E&&(B=this._stateStyles.get(E?.toString())||B),B?B.buildStyles(m,A):new Map}build(E,m,A,B,te,ge,Ee,Pe,ke,wt){const gt=[],Jt=this.ast.options&&this.ast.options.params||ni,bt=this.buildStyles(A,Ee&&Ee.params||ni,gt),$t=Pe&&Pe.params||ni,Hn=this.buildStyles(B,$t,gt),An=new Set,ts=new Map,Ps=new Map,Wn="void"===B,Vr={params:Xt($t,Jt),delay:this.ast.options?.delay},jr=wt?[]:li(E,m,this.ast.animation,te,ge,bt,Hn,Vr,ke,gt);let ti=0;return jr.forEach(us=>{ti=Math.max(us.duration+us.delay,ti)}),gt.length?Po(m,this._triggerName,A,B,Wn,bt,Hn,[],[],ts,Ps,ti,gt):(jr.forEach(us=>{const Xo=us.element,_c=gr(ts,Xo,new Set);us.preStyleProps.forEach(u=>_c.add(u));const f=gr(Ps,Xo,new Set);us.postStyleProps.forEach(u=>f.add(u)),Xo!==m&&An.add(Xo)}),Po(m,this._triggerName,A,B,Wn,bt,Hn,jr,[...An.values()],ts,Ps,ti))}}function Xt(I,E){const m={...E};return Object.entries(I).forEach(([A,B])=>{null!=B&&(m[A]=B)}),m}class Qi{styles;defaultParams;normalizer;constructor(E,m,A){this.styles=E,this.defaultParams=m,this.normalizer=A}buildStyles(E,m){const A=new Map,B=Xt(E,this.defaultParams);return this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ge,Ee)=>{ge&&(ge=ss(ge,B,m));const Pe=this.normalizer.normalizePropertyName(Ee,m);ge=this.normalizer.normalizeStyleValue(Ee,Pe,ge,m),A.set(Ee,ge)})}),A}}class wo{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(E,m,A){this.name=E,this.ast=m,this._normalizer=A,m.states.forEach(B=>{this.states.set(B.name,new Qi(B.style,B.options&&B.options.params||{},A))}),go(this.states,"true","1"),go(this.states,"false","0"),m.transitions.forEach(B=>{this.transitionFactories.push(new to(E,B,this.states))}),this.fallbackTransition=function Nr(I,E){return new to(I,{type:W.If.Transition,animation:{type:W.If.Sequence,steps:[],options:null},matchers:[(ge,Ee)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,m,A,B){return this.transitionFactories.find(ge=>ge.match(E,m,A,B))||null}matchStyles(E,m,A){return this.fallbackTransition.buildStyles(E,m,A)}}function go(I,E,m){I.has(E)?I.has(m)||I.set(m,I.get(E)):I.has(m)&&I.set(E,I.get(m))}const nl=new ps;class ko{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(E,m,A){this.bodyNode=E,this._driver=m,this._normalizer=A}register(E,m){const A=[],te=Us(this._driver,m,A,[]);if(A.length)throw function ns(){return new v.wOt(3503,!1)}();this._animations.set(E,te)}_buildPlayer(E,m,A){const B=E.element,te=Is(this._normalizer,E.keyframes,m,A);return this._driver.animate(B,te,E.duration,E.delay,E.easing,[],!0)}create(E,m,A={}){const B=[],te=this._animations.get(E);let ge;const Ee=new Map;if(te?(ge=li(this._driver,m,te,pn,ln,new Map,new Map,A,nl,B),ge.forEach(wt=>{const gt=gr(Ee,wt.element,new Map);wt.postStyleProps.forEach(Jt=>gt.set(Jt,null))})):(B.push(function Jn(){return new v.wOt(3300,!1)}()),ge=[]),B.length)throw function Es(){return new v.wOt(3504,!1)}();Ee.forEach((wt,gt)=>{wt.forEach((Jt,en)=>{wt.set(en,this._driver.computeStyle(gt,en,W.kp))})});const ke=pr(ge.map(wt=>{const gt=Ee.get(wt.element);return this._buildPlayer(wt,new Map,gt)}));return this._playersById.set(E,ke),ke.onDestroy(()=>this.destroy(E)),this.players.push(ke),ke}destroy(E){const m=this._getPlayer(E);m.destroy(),this._playersById.delete(E);const A=this.players.indexOf(m);A>=0&&this.players.splice(A,1)}_getPlayer(E){const m=this._playersById.get(E);if(!m)throw function oi(){return new v.wOt(3301,!1)}();return m}listen(E,m,A,B){const te=Xr(m,"","","");return Ur(this._getPlayer(E),A,te,B),()=>{}}command(E,m,A,B){if("register"==A)return void this.register(E,B[0]);if("create"==A)return void this.create(E,m,B[0]||{});const te=this._getPlayer(E);switch(A){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(E)}}}const no="ng-animate-queued",Zs="ng-animate-disabled",Br=[],mo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ci="__ng_removed";class Lo{namespaceId;value;options;get params(){return this.options.params}constructor(E,m=""){this.namespaceId=m;const A=E&&E.hasOwnProperty("value");if(this.value=function Xi(I){return I??null}(A?E.value:E),A){const{value:te,...ge}=E;this.options=ge}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const m=E.params;if(m){const A=this.options.params;Object.keys(m).forEach(B=>{null==A[B]&&(A[B]=m[B])})}}}const Ii="void",Vo=new Lo(Ii);class ui{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(E,m,A){this.id=E,this.hostElement=m,this._engine=A,this._hostClassName="ng-tns-"+E,gi(m,this._hostClassName)}listen(E,m,A,B){if(!this._triggers.has(m))throw function xt(){return new v.wOt(3302,!1)}();if(null==A||0==A.length)throw function zr(){return new v.wOt(3303,!1)}();if(!function ea(I){return"start"==I||"done"==I}(A))throw function Qr(){return new v.wOt(3400,!1)}();const te=gr(this._elementListeners,E,[]),ge={name:m,phase:A,callback:B};te.push(ge);const Ee=gr(this._engine.statesByElement,E,new Map);return Ee.has(m)||(gi(E,Un),gi(E,Un+"-"+m),Ee.set(m,Vo)),()=>{this._engine.afterFlush(()=>{const Pe=te.indexOf(ge);Pe>=0&&te.splice(Pe,1),this._triggers.has(m)||Ee.delete(m)})}}register(E,m){return!this._triggers.has(E)&&(this._triggers.set(E,m),!0)}_getTrigger(E){const m=this._triggers.get(E);if(!m)throw function Nn(){return new v.wOt(3401,!1)}();return m}trigger(E,m,A,B=!0){const te=this._getTrigger(m),ge=new Os(this.id,m,E);let Ee=this._engine.statesByElement.get(E);Ee||(gi(E,Un),gi(E,Un+"-"+m),this._engine.statesByElement.set(E,Ee=new Map));let Pe=Ee.get(m);const ke=new Lo(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&Pe&&ke.absorbOptions(Pe.options),Ee.set(m,ke),Pe||(Pe=Vo),ke.value!==Ii&&Pe.value===ke.value){if(!function Ds(I,E){const m=Object.keys(I),A=Object.keys(E);if(m.length!=A.length)return!1;for(let B=0;B<m.length;B++){const te=m[B];if(!E.hasOwnProperty(te)||I[te]!==E[te])return!1}return!0}(Pe.params,ke.params)){const $t=[],Hn=te.matchStyles(Pe.value,Pe.params,$t),An=te.matchStyles(ke.value,ke.params,$t);$t.length?this._engine.reportError($t):this._engine.afterFlush(()=>{dn(E,Hn),qt(E,An)})}return}const Jt=gr(this._engine.playersByElement,E,[]);Jt.forEach($t=>{$t.namespaceId==this.id&&$t.triggerName==m&&$t.queued&&$t.destroy()});let en=te.matchTransition(Pe.value,ke.value,E,ke.params),bt=!1;if(!en){if(!B)return;en=te.fallbackTransition,bt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:m,transition:en,fromState:Pe,toState:ke,player:ge,isFallbackTransition:bt}),bt||(gi(E,no),ge.onStart(()=>{Vi(E,no)})),ge.onDone(()=>{let $t=this.players.indexOf(ge);$t>=0&&this.players.splice($t,1);const Hn=this._engine.playersByElement.get(E);if(Hn){let An=Hn.indexOf(ge);An>=0&&Hn.splice(An,1)}}),this.players.push(ge),Jt.push(ge),ge}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(m=>m.delete(E)),this._elementListeners.forEach((m,A)=>{this._elementListeners.set(A,m.filter(B=>B.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const m=this._engine.playersByElement.get(E);m&&(m.forEach(A=>A.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,m){const A=this._engine.driver.query(E,sn,!0);A.forEach(B=>{if(B[ci])return;const te=this._engine.fetchNamespacesByElement(B);te.size?te.forEach(ge=>ge.triggerLeaveAnimation(B,m,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(E,m,A,B){const te=this._engine.statesByElement.get(E),ge=new Map;if(te){const Ee=[];if(te.forEach((Pe,ke)=>{if(ge.set(ke,Pe.value),this._triggers.has(ke)){const wt=this.trigger(E,ke,Ii,B);wt&&Ee.push(wt)}}),Ee.length)return this._engine.markElementAsRemoved(this.id,E,!0,m,ge),A&&pr(Ee).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const m=this._elementListeners.get(E),A=this._engine.statesByElement.get(E);if(m&&A){const B=new Set;m.forEach(te=>{const ge=te.name;if(B.has(ge))return;B.add(ge);const Pe=this._triggers.get(ge).fallbackTransition,ke=A.get(ge)||Vo,wt=new Lo(Ii),gt=new Os(this.id,ge,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:ge,transition:Pe,fromState:ke,toState:wt,player:gt,isFallbackTransition:!0})})}}removeNode(E,m){const A=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,m),this.triggerLeaveAnimation(E,m,!0))return;let B=!1;if(A.totalAnimations){const te=A.players.length?A.playersByQueriedElement.get(E):[];if(te&&te.length)B=!0;else{let ge=E;for(;ge=ge.parentNode;)if(A.statesByElement.get(ge)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(E),B)A.markElementAsRemoved(this.id,E,!1,m);else{const te=E[ci];(!te||te===mo)&&(A.afterFlush(()=>this.clearElementCache(E)),A.destroyInnerAnimations(E),A._onRemovalComplete(E,m))}}insertNode(E,m){gi(E,this._hostClassName)}drainQueuedTransitions(E){const m=[];return this._queue.forEach(A=>{const B=A.player;if(B.destroyed)return;const te=A.element,ge=this._elementListeners.get(te);ge&&ge.forEach(Ee=>{if(Ee.name==A.triggerName){const Pe=Xr(te,A.triggerName,A.fromState.value,A.toState.value);Pe._data=E,Ur(A.player,Ee.phase,Pe,Ee.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):m.push(A)}),this._queue=[],m.sort((A,B)=>{const te=A.transition.ast.depCount,ge=B.transition.ast.depCount;return 0==te||0==ge?te-ge:this._engine.driver.containsElement(A.element,B.element)?1:-1})}destroy(E){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class Uo{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(E,m)=>{};_onRemovalComplete(E,m){this.onRemovalComplete(E,m)}constructor(E,m,A){this.bodyNode=E,this.driver=m,this._normalizer=A}get queuedPlayers(){const E=[];return this._namespaceList.forEach(m=>{m.players.forEach(A=>{A.queued&&E.push(A)})}),E}createNamespace(E,m){const A=new ui(E,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(A,m):(this.newHostElements.set(m,A),this.collectEnterElement(m)),this._namespaceLookup[E]=A}_balanceNamespaceList(E,m){const A=this._namespaceList,B=this.namespacesByHostElement;if(A.length-1>=0){let ge=!1,Ee=this.driver.getParentElement(m);for(;Ee;){const Pe=B.get(Ee);if(Pe){const ke=A.indexOf(Pe);A.splice(ke+1,0,E),ge=!0;break}Ee=this.driver.getParentElement(Ee)}ge||A.unshift(E)}else A.push(E);return B.set(m,E),E}register(E,m){let A=this._namespaceLookup[E];return A||(A=this.createNamespace(E,m)),A}registerTrigger(E,m,A){let B=this._namespaceLookup[E];B&&B.register(m,A)&&this.totalAnimations++}destroy(E,m){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const A=this._fetchNamespace(E);this.namespacesByHostElement.delete(A.hostElement);const B=this._namespaceList.indexOf(A);B>=0&&this._namespaceList.splice(B,1),A.destroy(m),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const m=new Set,A=this.statesByElement.get(E);if(A)for(let B of A.values())if(B.namespaceId){const te=this._fetchNamespace(B.namespaceId);te&&m.add(te)}return m}trigger(E,m,A,B){if(Li(m)){const te=this._fetchNamespace(E);if(te)return te.trigger(m,A,B),!0}return!1}insertNode(E,m,A,B){if(!Li(m))return;const te=m[ci];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(m);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(E){const ge=this._fetchNamespace(E);ge&&ge.insertNode(m,A)}B&&this.collectEnterElement(m)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,m){m?this.disabledNodes.has(E)||(this.disabledNodes.add(E),gi(E,Zs)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),Vi(E,Zs))}removeNode(E,m,A){if(Li(m)){const B=E?this._fetchNamespace(E):null;B?B.removeNode(m,A):this.markElementAsRemoved(E,m,!1,A);const te=this.namespacesByHostElement.get(m);te&&te.id!==E&&te.removeNode(m,A)}else this._onRemovalComplete(m,A)}markElementAsRemoved(E,m,A,B,te){this.collectedLeaveElements.push(m),m[ci]={namespaceId:E,setForRemoval:B,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:te}}listen(E,m,A,B,te){return Li(m)?this._fetchNamespace(E).listen(m,A,B,te):()=>{}}_buildInstruction(E,m,A,B,te){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,A,B,E.fromState.options,E.toState.options,m,te)}destroyInnerAnimations(E){let m=this.driver.query(E,sn,!0);m.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(E,Yr,!0),m.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(E){const m=this.playersByElement.get(E);m&&m.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(E){const m=this.playersByQueriedElement.get(E);m&&m.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return pr(this.players).onDone(()=>E());E()})}processLeaveNode(E){const m=E[ci];if(m&&m.setForRemoval){if(E[ci]=mo,m.namespaceId){this.destroyInnerAnimations(E);const A=this._fetchNamespace(m.namespaceId);A&&A.clearElementCache(E)}this._onRemovalComplete(E,m.setForRemoval)}E.classList?.contains(Zs)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(E=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,B)=>this._balanceNamespaceList(A,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)gi(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{m=this._flushAnimations(A,E)}finally{for(let B=0;B<A.length;B++)A[B]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],m.length?pr(m).onDone(()=>{A.forEach(B=>B())}):A.forEach(B=>B())}}reportError(E){throw function As(){return new v.wOt(3402,!1)}()}_flushAnimations(E,m){const A=new ps,B=[],te=new Map,ge=[],Ee=new Map,Pe=new Map,ke=new Map,wt=new Set;this.disabledNodes.forEach(P=>{wt.add(P);const j=this.driver.query(P,".ng-animate-queued",!0);for(let se=0;se<j.length;se++)wt.add(j[se])});const gt=this.bodyNode,Jt=Array.from(this.statesByElement.keys()),en=Ti(Jt,this.collectedEnterElements),bt=new Map;let $t=0;en.forEach((P,j)=>{const se=pn+$t++;bt.set(j,se),P.forEach(_e=>gi(_e,se))});const Hn=[],An=new Set,ts=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const j=this.collectedLeaveElements[P],se=j[ci];se&&se.setForRemoval&&(Hn.push(j),An.add(j),se.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(_e=>An.add(_e)):ts.add(j))}const Ps=new Map,Wn=Ti(Jt,Array.from(An));Wn.forEach((P,j)=>{const se=ln+$t++;Ps.set(j,se),P.forEach(_e=>gi(_e,se))}),E.push(()=>{en.forEach((P,j)=>{const se=bt.get(j);P.forEach(_e=>Vi(_e,se))}),Wn.forEach((P,j)=>{const se=Ps.get(j);P.forEach(_e=>Vi(_e,se))}),Hn.forEach(P=>{this.processLeaveNode(P)})});const Vr=[],jr=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(m).forEach(se=>{const _e=se.player,Oe=se.element;if(Vr.push(_e),this.collectedEnterElements.length){const ds=Oe[ci];if(ds&&ds.setForMove){if(ds.previousTriggersValues&&ds.previousTriggersValues.has(se.triggerName)){const Yo=ds.previousTriggersValues.get(se.triggerName),Ar=this.statesByElement.get(se.element);if(Ar&&Ar.has(se.triggerName)){const Sl=Ar.get(se.triggerName);Sl.value=Yo,Ar.set(se.triggerName,Sl)}}return void _e.destroy()}}const ct=!gt||!this.driver.containsElement(gt,Oe),dt=Ps.get(Oe),Dt=bt.get(Oe),jt=this._buildInstruction(se,A,Dt,dt,ct);if(jt.errors&&jt.errors.length)return void jr.push(jt);if(ct)return _e.onStart(()=>dn(Oe,jt.fromStyles)),_e.onDestroy(()=>qt(Oe,jt.toStyles)),void B.push(_e);if(se.isFallbackTransition)return _e.onStart(()=>dn(Oe,jt.fromStyles)),_e.onDestroy(()=>qt(Oe,jt.toStyles)),void B.push(_e);const On=[];jt.timelines.forEach(ds=>{ds.stretchStartingKeyframe=!0,this.disabledNodes.has(ds.element)||On.push(ds)}),jt.timelines=On,A.append(Oe,jt.timelines),ge.push({instruction:jt,player:_e,element:Oe}),jt.queriedElements.forEach(ds=>gr(Ee,ds,[]).push(_e)),jt.preStyleProps.forEach((ds,Yo)=>{if(ds.size){let Ar=Pe.get(Yo);Ar||Pe.set(Yo,Ar=new Set),ds.forEach((Sl,Ec)=>Ar.add(Ec))}}),jt.postStyleProps.forEach((ds,Yo)=>{let Ar=ke.get(Yo);Ar||ke.set(Yo,Ar=new Set),ds.forEach((Sl,Ec)=>Ar.add(Ec))})});if(jr.length){const P=[];jr.forEach(j=>{P.push(function Fn(){return new v.wOt(3505,!1)}())}),Vr.forEach(j=>j.destroy()),this.reportError(P)}const ti=new Map,us=new Map;ge.forEach(P=>{const j=P.element;A.has(j)&&(us.set(j,j),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,ti))}),B.forEach(P=>{const j=P.element;this._getPreviousPlayers(j,!1,P.namespaceId,P.triggerName,null).forEach(_e=>{gr(ti,j,[]).push(_e),_e.destroy()})});const Xo=Hn.filter(P=>qs(P,Pe,ke)),_c=new Map;Mr(_c,this.driver,ts,ke,W.kp).forEach(P=>{qs(P,Pe,ke)&&Xo.push(P)});const u=new Map;en.forEach((P,j)=>{Mr(u,this.driver,new Set(P),Pe,W.FX)}),Xo.forEach(P=>{const j=_c.get(P),se=u.get(P);_c.set(P,new Map([...j?.entries()??[],...se?.entries()??[]]))});const h=[],y=[],O={};ge.forEach(P=>{const{element:j,player:se,instruction:_e}=P;if(A.has(j)){if(wt.has(j))return se.onDestroy(()=>qt(j,_e.toStyles)),se.disabled=!0,se.overrideTotalTime(_e.totalTime),void B.push(se);let Oe=O;if(us.size>1){let dt=j;const Dt=[];for(;dt=dt.parentNode;){const jt=us.get(dt);if(jt){Oe=jt;break}Dt.push(dt)}Dt.forEach(jt=>us.set(jt,Oe))}const ct=this._buildAnimation(se.namespaceId,_e,ti,te,u,_c);if(se.setRealPlayer(ct),Oe===O)h.push(se);else{const dt=this.playersByElement.get(Oe);dt&&dt.length&&(se.parentPlayer=pr(dt)),B.push(se)}}else dn(j,_e.fromStyles),se.onDestroy(()=>qt(j,_e.toStyles)),y.push(se),wt.has(j)&&B.push(se)}),y.forEach(P=>{const j=te.get(P.element);if(j&&j.length){const se=pr(j);P.setRealPlayer(se)}}),B.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<Hn.length;P++){const j=Hn[P],se=j[ci];if(Vi(j,ln),se&&se.hasAnimation)continue;let _e=[];if(Ee.size){let ct=Ee.get(j);ct&&ct.length&&_e.push(...ct);let dt=this.driver.query(j,Yr,!0);for(let Dt=0;Dt<dt.length;Dt++){let jt=Ee.get(dt[Dt]);jt&&jt.length&&_e.push(...jt)}}const Oe=_e.filter(ct=>!ct.destroyed);Oe.length?za(this,j,Oe):this.processLeaveNode(j)}return Hn.length=0,h.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const j=this.players.indexOf(P);this.players.splice(j,1)}),P.play()}),h}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,m,A,B,te){let ge=[];if(m){const Ee=this.playersByQueriedElement.get(E);Ee&&(ge=Ee)}else{const Ee=this.playersByElement.get(E);if(Ee){const Pe=!te||te==Ii;Ee.forEach(ke=>{ke.queued||!Pe&&ke.triggerName!=B||ge.push(ke)})}}return(A||B)&&(ge=ge.filter(Ee=>!(A&&A!=Ee.namespaceId||B&&B!=Ee.triggerName))),ge}_beforeAnimationBuild(E,m,A){const te=m.element,ge=m.isRemovalTransition?void 0:E,Ee=m.isRemovalTransition?void 0:m.triggerName;for(const Pe of m.timelines){const ke=Pe.element,wt=ke!==te,gt=gr(A,ke,[]);this._getPreviousPlayers(ke,wt,ge,Ee,m.toState).forEach(en=>{const bt=en.getRealPlayer();bt.beforeDestroy&&bt.beforeDestroy(),en.destroy(),gt.push(en)})}dn(te,m.fromStyles)}_buildAnimation(E,m,A,B,te,ge){const Ee=m.triggerName,Pe=m.element,ke=[],wt=new Set,gt=new Set,Jt=m.timelines.map(bt=>{const $t=bt.element;wt.add($t);const Hn=$t[ci];if(Hn&&Hn.removedBeforeQueried)return new W.sf(bt.duration,bt.delay);const An=$t!==Pe,ts=function js(I){const E=[];return zn(I,E),E}((A.get($t)||Br).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===$t),Ps=te.get($t),Wn=ge.get($t),Vr=Is(this._normalizer,bt.keyframes,Ps,Wn),jr=this._buildPlayer(bt,Vr,ts);if(bt.subTimeline&&B&&gt.add($t),An){const ti=new Os(E,Ee,$t);ti.setRealPlayer(jr),ke.push(ti)}return jr});ke.forEach(bt=>{gr(this.playersByQueriedElement,bt.element,[]).push(bt),bt.onDone(()=>function Bo(I,E,m){let A=I.get(E);if(A){if(A.length){const B=A.indexOf(m);A.splice(B,1)}0==A.length&&I.delete(E)}return A}(this.playersByQueriedElement,bt.element,bt))}),wt.forEach(bt=>gi(bt,Tr));const en=pr(Jt);return en.onDestroy(()=>{wt.forEach(bt=>Vi(bt,Tr)),qt(Pe,m.toStyles)}),gt.forEach(bt=>{gr(B,bt,[]).push(en)}),en}_buildPlayer(E,m,A){return m.length>0?this.driver.animate(E.element,m,E.duration,E.delay,E.easing,A):new W.sf(E.duration,E.delay)}}class Os{namespaceId;triggerName;element;_player=new W.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(E,m,A){this.namespaceId=E,this.triggerName=m,this.element=A}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((m,A)=>{m.forEach(B=>Ur(E,A,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const m=this._player;m.triggerCallback&&E.onStart(()=>m.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,m){gr(this._queuedCallbacks,E,[]).push(m)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const m=this._player;m.triggerCallback&&m.triggerCallback(E)}}function Li(I){return I&&1===I.nodeType}function cr(I,E){const m=I.style.display;return I.style.display=E??"none",m}function Mr(I,E,m,A,B){const te=[];m.forEach(Pe=>te.push(cr(Pe)));const ge=[];A.forEach((Pe,ke)=>{const wt=new Map;Pe.forEach(gt=>{const Jt=E.computeStyle(ke,gt,B);wt.set(gt,Jt),(!Jt||0==Jt.length)&&(ke[ci]=Fr,ge.push(ke))}),I.set(ke,wt)});let Ee=0;return m.forEach(Pe=>cr(Pe,te[Ee++])),ge}function Ti(I,E){const m=new Map;if(I.forEach(Ee=>m.set(Ee,[])),0==E.length)return m;const B=new Set(E),te=new Map;function ge(Ee){if(!Ee)return 1;let Pe=te.get(Ee);if(Pe)return Pe;const ke=Ee.parentNode;return Pe=m.has(ke)?ke:B.has(ke)?1:ge(ke),te.set(Ee,Pe),Pe}return E.forEach(Ee=>{const Pe=ge(Ee);1!==Pe&&m.get(Pe).push(Ee)}),m}function gi(I,E){I.classList?.add(E)}function Vi(I,E){I.classList?.remove(E)}function za(I,E,m){pr(m).onDone(()=>I.processLeaveNode(E))}function zn(I,E){for(let m=0;m<I.length;m++){const A=I[m];A instanceof W.ui?zn(A.players,E):E.push(A)}}function qs(I,E,m){const A=m.get(I);if(!A)return!1;let B=E.get(I);return B?A.forEach(te=>B.add(te)):E.set(I,A),m.delete(I),!0}class Ns{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(E,m)=>{};constructor(E,m,A){this._driver=m,this._normalizer=A,this._transitionEngine=new Uo(E.body,m,A),this._timelineEngine=new ko(E.body,m,A),this._transitionEngine.onRemovalComplete=(B,te)=>this.onRemovalComplete(B,te)}registerTrigger(E,m,A,B,te){const ge=E+"-"+B;let Ee=this._triggerCache[ge];if(!Ee){const Pe=[],wt=Us(this._driver,te,Pe,[]);if(Pe.length)throw function Gn(){return new v.wOt(3404,!1)}();Ee=function Fo(I,E,m){return new wo(I,E,m)}(B,wt,this._normalizer),this._triggerCache[ge]=Ee}this._transitionEngine.registerTrigger(m,B,Ee)}register(E,m){this._transitionEngine.register(E,m)}destroy(E,m){this._transitionEngine.destroy(E,m)}onInsert(E,m,A,B){this._transitionEngine.insertNode(E,m,A,B)}onRemove(E,m,A){this._transitionEngine.removeNode(E,m,A)}disableAnimations(E,m){this._transitionEngine.markElementAsDisabled(E,m)}process(E,m,A,B){if("@"==A.charAt(0)){const[te,ge]=Rr(A);this._timelineEngine.command(te,m,ge,B)}else this._transitionEngine.trigger(E,m,A,B)}listen(E,m,A,B,te){if("@"==A.charAt(0)){const[ge,Ee]=Rr(A);return this._timelineEngine.listen(ge,m,Ee,te)}return this._transitionEngine.listen(E,m,A,B,te)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}let rl=(()=>{class I{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(m,A,B){this._element=m,this._startStyles=A,this._endStyles=B;let te=I.initialStylesByElement.get(m);te||I.initialStylesByElement.set(m,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&qt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qt(this._element,this._initialStyles),this._endStyles&&(qt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(dn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dn(this._element,this._endStyles),this._endStyles=null),qt(this._element,this._initialStyles),this._state=3)}}return I})();function Yi(I){let E=null;return I.forEach((m,A)=>{(function so(I){return"display"===I||"position"===I})(A)&&(E=E||new Map,E.set(A,m))}),E}class Ca{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(E,m,A,B){this.element=E,this.keyframes=m,this.options=A,this._specialStyles=B,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const m=()=>this._onFinish();this.domPlayer.addEventListener("finish",m),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",m)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const m=[];return E.forEach(A=>{m.push(Object.fromEntries(A))}),m}_triggerWebAnimation(E,m,A){return E.animate(this._convertKeyframesToObject(m),A)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,B)=>{"offset"!==B&&E.set(B,this._finished?A:ue(this.element,B))}),this.currentSnapshot=E}triggerCallback(E){const m="start"===E?this._onStartFns:this._onDoneFns;m.forEach(A=>A()),m.length=0}}class To{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}containsElement(E,m){return Xs(E,m)}getParentElement(E){return er(E)}query(E,m,A){return ks(E,m,A)}computeStyle(E,m,A){return ue(E,m)}animate(E,m,A,B,te,ge=[]){const Pe={duration:A,delay:B,fill:0==B?"both":"forwards"};te&&(Pe.easing=te);const ke=new Map,wt=ge.filter(en=>en instanceof Ca);(function ai(I,E){return 0===I||0===E})(A,B)&&wt.forEach(en=>{en.currentSnapshot.forEach((bt,$t)=>ke.set($t,bt))});let gt=function ze(I){return I.length?I[0]instanceof Map?I:I.map(E=>new Map(Object.entries(E))):[]}(m).map(en=>new Map(en));gt=function Bn(I,E,m){if(m.size&&E.length){let A=E[0],B=[];if(m.forEach((te,ge)=>{A.has(ge)||B.push(ge),A.set(ge,te)}),B.length)for(let te=1;te<E.length;te++){let ge=E[te];B.forEach(Ee=>ge.set(Ee,ue(I,Ee)))}}return E}(E,gt,ke);const Jt=function Ui(I,E){let m=null,A=null;return Array.isArray(E)&&E.length?(m=Yi(E[0]),E.length>1&&(A=Yi(E[E.length-1]))):E instanceof Map&&(m=Yi(E)),m||A?new rl(I,m,A):null}(E,gt);return new Ca(E,gt,Pe,Jt)}}const x="@",re="@.disabled";class Ne{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(E,m,A,B){this.namespaceId=E,this.delegate=m,this.engine=A,this._onDestroy=B}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,m){return this.delegate.createElement(E,m)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,m){this.delegate.appendChild(E,m),this.engine.onInsert(this.namespaceId,m,E,!1)}insertBefore(E,m,A,B=!0){this.delegate.insertBefore(E,m,A),this.engine.onInsert(this.namespaceId,m,E,B)}removeChild(E,m,A){this.parentNode(m)&&this.engine.onRemove(this.namespaceId,m,this.delegate)}selectRootElement(E,m){return this.delegate.selectRootElement(E,m)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,m,A,B){this.delegate.setAttribute(E,m,A,B)}removeAttribute(E,m,A){this.delegate.removeAttribute(E,m,A)}addClass(E,m){this.delegate.addClass(E,m)}removeClass(E,m){this.delegate.removeClass(E,m)}setStyle(E,m,A,B){this.delegate.setStyle(E,m,A,B)}removeStyle(E,m,A){this.delegate.removeStyle(E,m,A)}setProperty(E,m,A){m.charAt(0)==x&&m==re?this.disableAnimations(E,!!A):this.delegate.setProperty(E,m,A)}setValue(E,m){this.delegate.setValue(E,m)}listen(E,m,A){return this.delegate.listen(E,m,A)}disableAnimations(E,m){this.engine.disableAnimations(E,m)}}class an extends Ne{factory;constructor(E,m,A,B,te){super(m,A,B,te),this.factory=E,this.namespaceId=m}setProperty(E,m,A){m.charAt(0)==x?"."==m.charAt(1)&&m==re?this.disableAnimations(E,A=void 0===A||!!A):this.engine.process(this.namespaceId,E,m.slice(1),A):this.delegate.setProperty(E,m,A)}listen(E,m,A){if(m.charAt(0)==x){const B=function In(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(E);let te=m.slice(1),ge="";return te.charAt(0)!=x&&([te,ge]=function Bi(I){const E=I.indexOf(".");return[I.substring(0,E),I.slice(E+1)]}(te)),this.engine.listen(this.namespaceId,B,te,ge,Ee=>{this.factory.scheduleListenerCallback(Ee._data||-1,A,Ee)})}return this.delegate.listen(E,m,A)}}class io{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(E,m,A){this.delegate=E,this.engine=m,this._zone=A,m.onRemovalComplete=(B,te)=>{te?.removeChild(null,B)}}createRenderer(E,m){const B=this.delegate.createRenderer(E,m);if(!E||!m?.data?.animation){const ke=this._rendererCache;let wt=ke.get(B);return wt||(wt=new Ne("",B,this.engine,()=>ke.delete(B)),ke.set(B,wt)),wt}const te=m.id,ge=m.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,E);const Ee=ke=>{Array.isArray(ke)?ke.forEach(Ee):this.engine.registerTrigger(te,ge,E,ke.name,ke)};return m.data.animation.forEach(Ee),new an(this,ge,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,m,A){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>m(A));const B=this._animationCallbacksBuffer;0==B.length&&queueMicrotask(()=>{this._zone.run(()=>{B.forEach(te=>{const[ge,Ee]=te;ge(Ee)}),this._animationCallbacksBuffer=[]})}),B.push([m,A])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let oo=(()=>{class I extends Ns{constructor(m,A,B){super(m,A,B)}ngOnDestroy(){this.flush()}static \u0275fac=function(A){return new(A||I)(v.KVO(Te.DOCUMENT),v.KVO(oe),v.KVO(Ce))};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})();const So=[{provide:Ce,useFactory:function ta(){return new me}},{provide:Ns,useClass:oo},{provide:v._9s,useFactory:function Zi(I,E,m){return new io(I,E,m)},deps:[_.B7,Ns,v.SKi]}],ri=[{provide:oe,useFactory:()=>new To},{provide:v.bc$,useValue:"BrowserAnimations"},...So],Js=[{provide:oe,useClass:Se},{provide:v.bc$,useValue:"NoopAnimations"},...So];let xa=(()=>{class I{static withConfig(m){return{ngModule:I,providers:m.disableAnimations?Js:ri}}static \u0275fac=function(A){return new(A||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({providers:ri,imports:[_.Bb]})}return I})();var wa=D(6325),Ls=D(9030),na=D(8810),ka=D(3726),$s=D(7673),ra=D(8793),sa=D(1413),jo=D(1985),Lr=D(5343);const Hs=new jo.c(Lr.l);var ia=D(7786),as=D(2806),Jr=D(6354),Ws=D(5964),Wr=D(5558),ao=D(3319),Si=D(6697),Ia=D(8141),qc=D(5335);const Mt="Service workers are disabled or not supported by this browser";class bo{serviceWorker;worker;registration;events;constructor(E){if(this.serviceWorker=E,E){const A=(0,ka.R)(E,"controllerchange").pipe((0,Jr.T)(()=>E.controller)),B=(0,Ls.v)(()=>(0,$s.of)(E.controller)),te=(0,ra.x)(B,A);this.worker=te.pipe((0,Ws.p)(wt=>!!wt)),this.registration=this.worker.pipe((0,Wr.n)(()=>E.getRegistration()));const ke=(0,ka.R)(E,"message").pipe((0,Jr.T)(wt=>wt.data)).pipe((0,Ws.p)(wt=>wt&&wt.type)).pipe((0,ao.m)());ke.connect(),this.events=ke}else this.worker=this.events=this.registration=function ei(I){return(0,Ls.v)(()=>(0,na.$)(new Error(I)))}(Mt)}postMessage(E,m){return this.worker.pipe((0,Si.s)(1),(0,Ia.M)(A=>{A.postMessage({action:E,...m})})).toPromise().then(()=>{})}postMessageWithOperation(E,m,A){const B=this.waitForOperationCompleted(A),te=this.postMessage(E,m);return Promise.all([te,B]).then(([,ge])=>ge)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(E){let m;return m="string"==typeof E?A=>A.type===E:A=>E.includes(A.type),this.events.pipe((0,Ws.p)(m))}nextEventOfType(E){return this.eventsOfType(E).pipe((0,Si.s)(1))}waitForOperationCompleted(E){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ws.p)(m=>m.nonce===E),(0,Si.s)(1),(0,Jr.T)(m=>{if(void 0!==m.result)return m.result;throw new Error(m.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let La=(()=>{class I{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new sa.B;constructor(m){if(this.sw=m,!m.isEnabled)return this.messages=Hs,this.notificationClicks=Hs,void(this.subscription=Hs);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Jr.T)(B=>B.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Jr.T)(B=>B.data)),this.pushManager=this.sw.registration.pipe((0,Jr.T)(B=>B.pushManager));const A=this.pushManager.pipe((0,Wr.n)(B=>B.getSubscription()));this.subscription=(0,ia.h)(A,this.subscriptionChanges)}requestSubscription(m){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Mt));const A={userVisibleOnly:!0};let B=this.decodeBase64(m.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),te=new Uint8Array(new ArrayBuffer(B.length));for(let ge=0;ge<B.length;ge++)te[ge]=B.charCodeAt(ge);return A.applicationServerKey=te,this.pushManager.pipe((0,Wr.n)(ge=>ge.subscribe(A)),(0,Si.s)(1)).toPromise().then(ge=>(this.subscriptionChanges.next(ge),ge))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Si.s)(1),(0,Wr.n)(A=>{if(null===A)throw new Error("Not subscribed to push notifications.");return A.unsubscribe().then(B=>{if(!B)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Mt))}decodeBase64(m){return atob(m)}static \u0275fac=function(A){return new(A||I)(v.KVO(bo))};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})(),Ft=(()=>{class I{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(m){if(this.sw=m,!m.isEnabled)return this.versionUpdates=Hs,void(this.unrecoverable=Hs);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mt));const m=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:m},m)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mt));const m=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:m},m)}static \u0275fac=function(A){return new(A||I)(v.KVO(bo))};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})();const Ye=new v.nKC("");function Tn(I,E,m,A){return()=>{if(!(0,Te.isPlatformBrowser)(A)||!("serviceWorker"in navigator)||!1===m.enabled)return;const B=I.get(v.SKi),te=I.get(v.o8S);let ge;if(B.runOutsideAngular(()=>{const Ee=navigator.serviceWorker,Pe=()=>Ee.controller?.postMessage({action:"INITIALIZE"});Ee.addEventListener("controllerchange",Pe),te.onDestroy(()=>{Ee.removeEventListener("controllerchange",Pe)})}),"function"==typeof m.registrationStrategy)ge=m.registrationStrategy();else{const[Ee,...Pe]=(m.registrationStrategy||"registerWhenStable:30000").split(":");switch(Ee){case"registerImmediately":ge=(0,$s.of)(null);break;case"registerWithDelay":ge=At(+Pe[0]||0);break;case"registerWhenStable":const ke=(0,as.H)(I.get(v.o8S).whenStable());ge=Pe[0]?(0,ia.h)(ke,At(+Pe[0])):ke;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${m.registrationStrategy}`)}}B.runOutsideAngular(()=>ge.pipe((0,Si.s)(1)).subscribe(()=>navigator.serviceWorker.register(E,{scope:m.scope}).catch(Ee=>console.error("Service worker registration failed with:",Ee))))}}function At(I){return(0,$s.of)(null).pipe((0,qc.c)(I))}function qe(I,E){return new bo((0,Te.isPlatformBrowser)(E)&&!1!==I.enabled?navigator.serviceWorker:void 0)}class _t{enabled;scope;registrationStrategy}function Cr(I,E={}){return(0,v.EmA)([La,Ft,{provide:Ye,useValue:I},{provide:_t,useValue:E},{provide:bo,useFactory:qe,deps:[_t,v.Agw]},{provide:v.hnV,useFactory:Tn,deps:[v.zZn,Ye,_t,v.Agw],multi:!0}])}let Ta=(()=>{class I{static register(m,A={}){return{ngModule:I,providers:[Cr(m,A)]}}static \u0275fac=function(A){return new(A||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({providers:[La,Ft]})}return I})();var ls=D(5312),si=D(3887),$o=D(8244),Vn=D(8603);const oa={todos:[]},Va=(I=oa,E)=>{switch(E.type){case"ADD":return{todos:[...I.todos,{index:I.todos.length,text:E.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:I.todos.map((m,A)=>A===E.index?{...m,done:!m.done}:m)};case"REMOVE":return{todos:I.todos.splice(I.todos.findIndex(m=>m.index===E.index),1)};case"SAVED":return{todos:I.todos.map((m,A)=>A===E.index?{...m,saved:!0}:m)};default:return I}};var Ua=D(4412),Kr=D(1397),aa=D(3386);let Ho=(()=>{class I{constructor(){this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const m=this.getLastActiveFromLocalStorage()??new Date;this.lastActive=new Ua.t(m),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,as.H)(this.events).pipe((0,Kr.Z)(m=>(0,ka.R)(document,m)),(0,aa.c)(this.recordTimeoutMs)).subscribe(m=>this.recordLastActiveDate()),(0,ka.R)(window,"storage").pipe((0,Ws.p)(m=>m.storageArea===localStorage&&m.key===this.localStorageKey&&!!m.newValue),(0,Jr.T)(m=>new Date(m.newValue))).subscribe(m=>this.lastActive.next(m))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var m=new Date;localStorage.setItem(this.localStorageKey,m.toString()),this.lastActive.next(m)}getLastActiveFromLocalStorage(){const m=localStorage.getItem(this.localStorageKey);return m?new Date(m):null}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const _n={provide:v.hnV,multi:!0,deps:[Ho],useFactory:I=>()=>I.setUp()};let ji=1;class il{constructor(){this.userName="Philip Marlowe"}}let es=(()=>{class I{constructor(m){this.id=ji++,this._userName="Sherlock Holmes",m&&(this._userName=m.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(il,8))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})(),S=(()=>{class I{constructor(m){if(m)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(m){return{ngModule:I,providers:[{provide:il,useValue:m}]}}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(I,12))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[es],imports:[Te.CommonModule]})}}return I})();var X=D(9310),R=D(3529),V=D(2661);let he=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[V.l],imports:[X.md.forFeature(R.cp,R.Jv)]})}}return I})();var Me=D(2830),ot=D(3557),Ut=D(983),nr=D(8071);class Yn{constructor(E,m,A){this.kind=E,this.value=m,this.error=A,this.hasValue="N"===E}observe(E){return En(this,E)}do(E,m,A){const{kind:B,value:te,error:ge}=this;return"N"===B?E?.(te):"E"===B?m?.(ge):A?.()}accept(E,m,A){var B;return(0,nr.T)(null===(B=E)||void 0===B?void 0:B.next)?this.observe(E):this.do(E,m,A)}toObservable(){const{kind:E,value:m,error:A}=this,B="N"===E?(0,$s.of)(m):"E"===E?(0,na.$)(()=>A):"C"===E?Ut.w:0;if(!B)throw new TypeError(`Unexpected notification kind ${E}`);return B}static createNext(E){return new Yn("N",E)}static createError(E){return new Yn("E",void 0,E)}static createComplete(){return Yn.completeNotification}}function En(I,E){var m,A,B;const{kind:te,value:ge,error:Ee}=I;if("string"!=typeof te)throw new TypeError('Invalid notification, missing "kind"');"N"===te?null===(m=E.next)||void 0===m||m.call(E,ge):"E"===te?null===(A=E.error)||void 0===A||A.call(E,Ee):null===(B=E.complete)||void 0===B||B.call(E)}Yn.completeNotification=new Yn("C");var $n=D(9974),wr=D(4360),_s=D(9437),Vs=D(8750);function $i(I,E,m,A){return(0,$n.N)((B,te)=>{let ge;E&&"function"!=typeof E?({duration:m,element:ge,connector:A}=E):ge=E;const Ee=new Map,Pe=bt=>{Ee.forEach(bt),bt(te)},ke=bt=>Pe($t=>$t.error(bt));let wt=0,gt=!1;const Jt=new wr.H(te,bt=>{try{const $t=I(bt);let Hn=Ee.get($t);if(!Hn){Ee.set($t,Hn=A?A():new sa.B);const An=function en(bt,$t){const Hn=new jo.c(An=>{wt++;const ts=$t.subscribe(An);return()=>{ts.unsubscribe(),0==--wt&&gt&&Jt.unsubscribe()}});return Hn.key=bt,Hn}($t,Hn);if(te.next(An),m){const ts=(0,wr._)(Hn,()=>{Hn.complete(),ts?.unsubscribe()},void 0,void 0,()=>Ee.delete($t));Jt.add((0,Vs.Tg)(m(An)).subscribe(ts))}}Hn.next(ge?ge(bt):bt)}catch($t){ke($t)}},()=>Pe(bt=>bt.complete()),ke,()=>Ee.clear(),()=>(gt=!0,0===wt));B.subscribe(Jt)})}var Mo=D(786);const qi={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Qe="__@ngrx/effects_create__";function Hi(I,E={}){const m=E.functional?I:I(),A={...qi,...E};return Object.defineProperty(m,Qe,{value:A}),m}function Ko(I){return Object.getPrototypeOf(I)}function Sa(I){return"function"==typeof I}function Mc(I){return I.filter(Sa)}function Au(I,E,m){const A=Ko(I),te=A&&"Object"!==A.constructor.name?A.constructor.name:null,ge=function Rl(I){return function Wi(I){return Object.getOwnPropertyNames(I).filter(A=>!(!I[A]||!I[A].hasOwnProperty(Qe))&&I[A][Qe].hasOwnProperty("dispatch")).map(A=>({propertyName:A,...I[A][Qe]}))}(I)}(I).map(({propertyName:Ee,dispatch:Pe,useEffectsErrorHandler:ke})=>{const wt="function"==typeof I[Ee]?I[Ee]():I[Ee],gt=ke?m(wt,E):wt;return!1===Pe?gt.pipe((0,ot.w)()):gt.pipe(function vs(){return(0,$n.N)((I,E)=>{I.subscribe((0,wr._)(E,m=>{E.next(Yn.createNext(m))},()=>{E.next(Yn.createComplete()),E.complete()},m=>{E.next(Yn.createError(m)),E.complete()}))})}()).pipe((0,Jr.T)(en=>({effect:I[Ee],notification:en,propertyName:Ee,sourceName:te,sourceInstance:I})))});return(0,ia.h)(...ge)}function Ao(I,E,m=10){return I.pipe((0,_s.W)(A=>(E&&E.handleError(A),m<=1?I:Ao(I,E,m-1))))}let Ac=(()=>{class I extends jo.c{constructor(m){super(),m&&(this.source=m)}lift(m){const A=new I;return A.source=this,A.operator=m,A}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(X.sA))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function yo(...I){return(0,Ws.p)(E=>I.some(m=>"string"==typeof m?m===E.type:m.type===E.type))}const ba=new v.nKC("@ngrx/effects Internal Root Guard"),Go=new v.nKC("@ngrx/effects User Provided Effects"),sc=new v.nKC("@ngrx/effects Internal Root Effects"),la=new v.nKC("@ngrx/effects Internal Root Effects Instances"),Ba=new v.nKC("@ngrx/effects Internal Feature Effects"),xl=new v.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),dd=new v.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ao}),di="@ngrx/effects/init";function ca(I){return ll(I,"ngrxOnInitEffects")}function ll(I,E){return I&&E in I&&"function"==typeof I[E]}(0,X.VP)(di);let or=(()=>{class I extends sa.B{constructor(m,A){super(),this.errorHandler=m,this.effectsErrorHandler=A}addEffects(m){this.next(m)}toActions(){return this.pipe($i(m=>function Jc(I){return!!I.constructor&&"Object"!==I.constructor.name&&"Function"!==I.constructor.name}(m)?Ko(m):m),(0,Kr.Z)(m=>m.pipe($i(T))),(0,Kr.Z)(m=>{const A=m.pipe((0,Mo.p)(te=>function F(I,E){return m=>{const A=Au(m,I,E);return function Oc(I){return ll(I,"ngrxOnRunEffects")}(m)?m.ngrxOnRunEffects(A):A}}(this.errorHandler,this.effectsErrorHandler)(te)),(0,Jr.T)(te=>(function Ma(I,E){if("N"===I.notification.kind){const m=I.notification.value;!function Ks(I){return"function"!=typeof I&&I&&I.type&&"string"==typeof I.type}(m)&&E.handleError(new Error(`Effect ${function ol({propertyName:I,sourceInstance:E,sourceName:m}){const A="function"==typeof E[I];return m?`"${m}.${String(I)}${A?"()":""}"`:`"${String(I)}()"`}(I)} dispatched an invalid action: ${function zo(I){try{return JSON.stringify(I)}catch{return I}}(m)}`))}}(te,this.errorHandler),te.notification)),(0,Ws.p)(te=>"N"===te.kind&&null!=te.value),function Wo(){return(0,$n.N)((I,E)=>{I.subscribe((0,wr._)(E,m=>En(m,E)))})}()),B=m.pipe((0,Si.s)(1),(0,Ws.p)(ca),(0,Jr.T)(te=>te.ngrxOnInitEffects()));return(0,ia.h)(A,B)}))}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(v.zcH),v.KVO(dd))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function T(I){return function ic(I){return ll(I,"ngrxOnIdentifyEffects")}(I)?I.ngrxOnIdentifyEffects():""}let M=(()=>{class I{get isStarted(){return!!this.effectsSubscription}constructor(m,A){this.effectSources=m,this.store=A,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(or),v.KVO(X.il))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),k=(()=>{class I{constructor(m,A,B,te,ge,Ee,Pe){this.sources=m,A.start();for(const ke of te)m.addEffects(ke);B.dispatch({type:di})}addEffects(m){this.sources.addEffects(m)}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(or),v.KVO(M),v.KVO(X.il),v.KVO(la),v.KVO(X.wc,8),v.KVO(X.ae,8),v.KVO(ba,8))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),G=(()=>{class I{constructor(m,A,B,te){const ge=A.flat();for(const Ee of ge)m.addEffects(Ee)}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(k),v.KVO(xl),v.KVO(X.wc,8),v.KVO(X.ae,8))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),ae=(()=>{class I{static forFeature(...m){const A=m.flat(),B=Mc(A);return{ngModule:G,providers:[B,{provide:Ba,multi:!0,useValue:A},{provide:Go,multi:!0,useValue:[]},{provide:xl,multi:!0,useFactory:De,deps:[Ba,Go]}]}}static forRoot(...m){const A=m.flat(),B=Mc(A);return{ngModule:k,providers:[B,{provide:sc,useValue:[A]},{provide:ba,useFactory:rt},{provide:Go,multi:!0,useValue:[]},{provide:la,useFactory:De,deps:[sc,Go]}]}}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})();function De(I,E){const m=[];for(const A of I)m.push(...A);for(const A of E)m.push(...A);return m.map(A=>function eu(I){return I instanceof v.nKC||Sa(I)}(A)?(0,v.WQX)(A):A)}function rt(){const I=(0,v.WQX)(M,{optional:!0,skipSelf:!0}),E=(0,v.WQX)(sc,{self:!0});if((1!==E.length||0!==E[0].length)&&I)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var gn=D(4413);let fr=(()=>{class I{loadCounter(){return(0,$s.of)(1999)}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),cs=(()=>{class I{constructor(m,A){this.actions$=m,this.counterService=A,this.loadData$=Hi(()=>this.actions$.pipe(yo(gn.m5),(0,Kr.Z)(()=>this.counterService.loadCounter().pipe((0,Jr.T)(B=>gn.Co({newValue:B}))))))}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Ac),v.KVO(fr))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var Qo=D(9072);let bi=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Qo.M],imports:[X.md.forFeature(Me.cp,Me.FW),ae.forFeature([cs])]})}}return I})();var xi=D(8964),mi=D(2503);let ua=(()=>{class I{constructor(m,A){this.actions$=m,this.http=A,this.loadData$=Hi(()=>this.actions$.pipe(yo(mi.Ze),(0,Wr.n)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,Jr.T)(B=>mi.aE({payload:B})),(0,_s.W)(B=>(0,$s.of)(mi.Ny({payload:B})))))))}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Ac),v.KVO(je.Qq))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var oc=D(8320);let Xn=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[oc.T],imports:[X.md.forFeature(xi.cp,xi.b4),ae.forFeature([ua])]})}}return I})();var rn=D(459),$a=D(965);let ac=(()=>{class I{constructor(m){this.actions$=m,this.getUser$=Hi(()=>this.actions$.pipe(yo($a.wz),(0,Kr.Z)(()=>(0,$s.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,Jr.T)(A=>$a.bI({user:A})),(0,_s.W)(A=>(console.error("An error occurred while getting user information.",A.message),(0,$s.of)($a.VA({error:"Unable to retrieve user information."}))))))))}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Ac))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var Pl=D(8066);let Ou=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Pl.w],imports:[X.md.forFeature(rn.c,rn.o),ae.forFeature([ac])]})}}return I})();var lc=D(8721),Nc=D(5696),Ha=D(8193),Rc=D(8515);let yl=(()=>{class I{set(m,A){try{localStorage.setItem(m,JSON.stringify(A))}catch(B){console.error("Error saving to localStorage",B)}}get(m){try{return JSON.parse(localStorage.getItem(m))}catch(A){return console.error("Error getting data from localStorage",A),null}}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),oh=(()=>{class I{constructor(m,A,B,te){this.actions$=m,this.registerService=A,this.persistenceService=B,this.router=te,this.register$=Hi(()=>this.actions$.pipe(yo(Ha.Sl),(0,Wr.n)(({request:ge})=>this.registerService.register(ge).pipe((0,Jr.T)(Ee=>(this.persistenceService.set("accessToken1",Ee.token),(0,Ha.NW)({currentUser:Ee}))),(0,_s.W)(Ee=>(console.log(Ee),(0,$s.of)((0,Ha.gt)({errors:Ee.error.errors})))))))),this.redirectAfterSubmit$=Hi(()=>this.actions$.pipe(yo(Ha.NW),(0,Ia.M)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Ac),v.KVO(Rc.h),v.KVO(yl),v.KVO(U.Ix))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})(),xc=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Nc.E],imports:[X.md.forFeature(lc.cp,lc.Km),ae.forFeature([oh])]})}}return I})();var Nu=D(1116),Qa=D(8527),Fl=D(152),lt=D(6875);let rr=(()=>{class I{constructor(m){this.http=m,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(m){return this.http.post(this.url,m)}getArticleById(m){return this.http.get(this.url+"/"+m)}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(lt.k))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),kl=(()=>{class I{constructor(m,A){this.actions$=m,this.fruitsService=A,this.loadAllArticles$=Hi(()=>this.actions$.pipe(yo(Qa.j1),(0,Wr.n)(()=>this.fruitsService.getAllArticles().pipe((0,Jr.T)(B=>Qa.op({payload:B})))))),this.createArticle$=Hi(()=>this.actions$.pipe(yo(Qa.n8),(0,Jr.T)(B=>B.payload),(0,Kr.Z)(B=>this.fruitsService.createArticle(B).pipe((0,Jr.T)(te=>Qa.om({payload:te})),(0,_s.W)(te=>(0,$s.of)(Qa.VZ({payload:te}))))))),this.searchArticleById$=Hi(()=>this.actions$.pipe(yo(Qa.vV),(0,Fl.B)(500),(0,Jr.T)(B=>B.payload),(0,Wr.n)(B=>this.fruitsService.getArticleById(B).pipe((0,Jr.T)(te=>Qa.i8({payload:te})))))),this.loadProducts$=Hi(()=>this.actions$.pipe(yo(Qa.fM),(0,Kr.Z)(()=>this.fruitsService.getAll().pipe((0,Jr.T)(B=>Qa.iQ({payload:B}))))))}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Ac),v.KVO(rr))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var hd=D(7242),vn=D(2771),vl=D(7647),yi=D(274),kr=D(3236),_l=D(8211),lo=D(1853),Ki=D(5225);const vo=(0,lo.L)(I=>function(m=null){I(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=m});function Rs(I){throw new vo(I)}var El=D(6977),Mi=D(941),vi=D(3993),cc=D(2816),Oo=D(9079);const co="PERFORM_ACTION",ru="ROLLBACK",dc="TOGGLE_ACTION",Ul="JUMP_TO_STATE",cl="JUMP_TO_ACTION",_i="IMPORT_STATE",Bl="LOCK_CHANGES",jl="PAUSE_RECORDING";class ul{constructor(E,m){if(this.action=E,this.timestamp=m,this.type=co,typeof E.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Pc{constructor(){this.type="REFRESH"}}class $l{constructor(E){this.timestamp=E,this.type="RESET"}}class Hl{constructor(E){this.timestamp=E,this.type=ru}}class su{constructor(E){this.timestamp=E,this.type="COMMIT"}}class Ji{constructor(){this.type="SWEEP"}}class Wl{constructor(E){this.id=E,this.type=dc}}class iu{constructor(E){this.index=E,this.type=Ul}}class pd{constructor(E){this.actionId=E,this.type=cl}}class Fc{constructor(E){this.nextLiftedState=E,this.type=_i}}class ah{constructor(E){this.status=E,this.type=Bl}}class ou{constructor(E){this.status=E,this.type=jl}}const da=new v.nKC("@ngrx/store-devtools Options"),Ei=new v.nKC("@ngrx/store-devtools Initial Config");function Xa(){return null}function Kl(I){const E={maxAge:!1,monitor:Xa,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},m="function"==typeof I?I():I,B=m.features||!!m.logOnly&&{pause:!0,export:!0,test:!0}||E.features;!0===B.import&&(B.import="custom");const te=Object.assign({},E,{features:B},m);if(te.maxAge&&te.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${te.maxAge}`);return te}function ha(I,E){return I.filter(m=>E.indexOf(m)<0)}function kc(I){const{computedStates:E,currentStateIndex:m}=I;if(m>=E.length){const{state:B}=E[E.length-1];return B}const{state:A}=E[m];return A}function Za(I){return new ul(I,+Date.now())}function gd(I,E){return Object.keys(E).reduce((m,A)=>{const B=Number(A);return m[B]=Cl(I,E[B],B),m},{})}function Cl(I,E,m){return{...E,action:I(E.action,m)}}function bs(I,E){return E.map((m,A)=>({state:wl(I,m.state,A),error:m.error}))}function wl(I,E,m){return I(E,m)}function dl(I){return I.predicate||I.actionsSafelist||I.actionsBlocklist}function Pu(I,E,m,A,B){const te=m&&!m(I,E.action),ge=A&&!E.action.type.match(A.map(Pe=>fc(Pe)).join("|")),Ee=B&&E.action.type.match(B.map(Pe=>fc(Pe)).join("|"));return te||ge||Ee}function fc(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function au(I){return{ngZone:I?(0,v.WQX)(v.SKi):null,connectInZone:I}}let lu=(()=>{class I extends X.SS{static{this.\u0275fac=(()=>{let m;return function(B){return(m||(m=v.xGo(I)))(B||I)}})()}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const fa=new v.nKC("@ngrx/store-devtools Redux Devtools Extension");let Lc=(()=>{class I{constructor(m,A,B){this.config=A,this.dispatcher=B,this.zoneConfig=au(this.config.connectInZone),this.devtoolsExtension=m,this.createActionStreams()}notify(m,A){if(this.devtoolsExtension)if(m.type===co){if(A.isLocked||A.isPaused)return;const B=kc(A);if(dl(this.config)&&Pu(B,m,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const te=this.config.stateSanitizer?wl(this.config.stateSanitizer,B,A.currentStateIndex):B,ge=this.config.actionSanitizer?Cl(this.config.actionSanitizer,m,A.nextActionId):m;this.sendToReduxDevtools(()=>this.extensionConnection.send(ge,te))}else{const B={...A,stagedActionIds:A.stagedActionIds,actionsById:this.config.actionSanitizer?gd(this.config.actionSanitizer,A.actionsById):A.actionsById,computedStates:this.config.stateSanitizer?bs(this.config.stateSanitizer,A.computedStates):A.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,B,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new jo.c(m=>{const A=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=A,A.init(),A.subscribe(B=>m.next(B)),A.unsubscribe}):Ut.w}createActionStreams(){const m=this.createChangesObservable().pipe((0,vl.u)()),A=m.pipe((0,Ws.p)(ke=>"START"===ke.type)),B=m.pipe((0,Ws.p)(ke=>"STOP"===ke.type)),te=m.pipe((0,Ws.p)(ke=>"DISPATCH"===ke.type),(0,Jr.T)(ke=>this.unwrapAction(ke.payload)),(0,yi.H)(ke=>ke.type===_i?this.dispatcher.pipe((0,Ws.p)(wt=>wt.type===X.q6),function fd(I,E){const{first:m,each:A,with:B=Rs,scheduler:te=E??kr.E,meta:ge=null}=(0,_l.v)(I)?{first:I}:"number"==typeof I?{each:I}:I;if(null==m&&null==A)throw new TypeError("No timeout provided.");return(0,$n.N)((Ee,Pe)=>{let ke,wt,gt=null,Jt=0;const en=bt=>{wt=(0,Ki.N)(Pe,te,()=>{try{ke.unsubscribe(),(0,Vs.Tg)(B({meta:ge,lastValue:gt,seen:Jt})).subscribe(Pe)}catch($t){Pe.error($t)}},bt)};ke=Ee.subscribe((0,wr._)(Pe,bt=>{wt?.unsubscribe(),Jt++,Pe.next(gt=bt),A>0&&en(A)},void 0,void 0,()=>{wt?.closed||wt?.unsubscribe(),gt=null})),!Jt&&en(null!=m?"number"==typeof m?m:+m-te.now():A)})}(1e3),(0,Fl.B)(1e3),(0,Jr.T)(()=>ke),(0,_s.W)(()=>(0,$s.of)(ke)),(0,Si.s)(1)):(0,$s.of)(ke))),Ee=m.pipe((0,Ws.p)(ke=>"ACTION"===ke.type),(0,Jr.T)(ke=>this.unwrapAction(ke.payload))).pipe((0,El.Q)(B)),Pe=te.pipe((0,El.Q)(B));this.start$=A.pipe((0,El.Q)(B)),this.actions$=this.start$.pipe((0,Wr.n)(()=>Ee)),this.liftedActions$=this.start$.pipe((0,Wr.n)(()=>Pe))}unwrapAction(m){return"string"==typeof m?(0,eval)(`(${m})`):m}getExtensionConfig(m){const A={name:m.name,features:m.features,serialize:m.serialize,autoPause:m.autoPause??!1,trace:m.trace??!1,traceLimit:m.traceLimit??75};return!1!==m.maxAge&&(A.maxAge=m.maxAge),A}sendToReduxDevtools(m){try{m()}catch(A){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",A)}}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(fa),v.KVO(da),v.KVO(lu))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const zl={type:X.Zz},Xl={type:"@ngrx/store-devtools/recompute"};function eo(I,E,m,A,B){if(A)return{state:m,error:"Interrupted by an error up the chain"};let ge,te=m;try{te=I(m,E)}catch(Ee){ge=Ee.toString(),B.handleError(Ee)}return{state:te,error:ge}}function pa(I,E,m,A,B,te,ge,Ee,Pe){if(E>=I.length&&I.length===te.length)return I;const ke=I.slice(0,E),wt=te.length-(Pe?1:0);for(let gt=E;gt<wt;gt++){const Jt=te[gt],en=B[Jt].action,bt=ke[gt-1],$t=bt?bt.state:A,Hn=bt?bt.error:void 0,ts=ge.indexOf(Jt)>-1?bt:eo(m,en,$t,Hn,Ee);ke.push(ts)}return Pe&&ke.push(I[I.length-1]),ke}let ga=(()=>{class I{constructor(m,A,B,te,ge,Ee,Pe,ke){const wt=function Ms(I,E){return{monitorState:E(void 0,{}),nextActionId:1,actionsById:{0:Za(zl)},stagedActionIds:[0],skippedActionIds:[],committedState:I,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(Pe,ke.monitor),gt=function Ir(I,E,m,A,B={}){return te=>(ge,Ee)=>{let{monitorState:Pe,actionsById:ke,nextActionId:wt,stagedActionIds:gt,skippedActionIds:Jt,committedState:en,currentStateIndex:bt,computedStates:$t,isLocked:Hn,isPaused:An}=ge||E;function ts(Vr){let jr=Vr,ti=gt.slice(1,jr+1);for(let us=0;us<ti.length;us++){if($t[us+1].error){jr=us,ti=gt.slice(1,jr+1);break}delete ke[ti[us]]}Jt=Jt.filter(us=>-1===ti.indexOf(us)),gt=[0,...gt.slice(jr+1)],en=$t[jr].state,$t=$t.slice(jr),bt=bt>jr?bt-jr:0}function Ps(){ke={0:Za(zl)},wt=1,gt=[0],Jt=[],en=$t[bt].state,bt=0,$t=[]}ge||(ke=Object.create(ke));let Wn=0;switch(Ee.type){case Bl:Hn=Ee.status,Wn=1/0;break;case jl:An=Ee.status,An?(gt=[...gt,wt],ke[wt]=new ul({type:"@ngrx/devtools/pause"},+Date.now()),wt++,Wn=gt.length-1,$t=$t.concat($t[$t.length-1]),bt===gt.length-2&&bt++,Wn=1/0):Ps();break;case"RESET":ke={0:Za(zl)},wt=1,gt=[0],Jt=[],en=I,bt=0,$t=[];break;case"COMMIT":Ps();break;case ru:ke={0:Za(zl)},wt=1,gt=[0],Jt=[],bt=0,$t=[];break;case dc:{const{id:Vr}=Ee;Jt=-1===Jt.indexOf(Vr)?[Vr,...Jt]:Jt.filter(ti=>ti!==Vr),Wn=gt.indexOf(Vr);break}case"SET_ACTIONS_ACTIVE":{const{start:Vr,end:jr,active:ti}=Ee,us=[];for(let Xo=Vr;Xo<jr;Xo++)us.push(Xo);Jt=ti?ha(Jt,us):[...Jt,...us],Wn=gt.indexOf(Vr);break}case Ul:bt=Ee.index,Wn=1/0;break;case cl:{const Vr=gt.indexOf(Ee.actionId);-1!==Vr&&(bt=Vr),Wn=1/0;break}case"SWEEP":gt=ha(gt,Jt),Jt=[],bt=Math.min(bt,gt.length-1);break;case co:{if(Hn)return ge||E;if(An||ge&&Pu(ge.computedStates[bt],Ee,B.predicate,B.actionsSafelist,B.actionsBlocklist)){const jr=$t[$t.length-1];$t=[...$t.slice(0,-1),eo(te,Ee.action,jr.state,jr.error,m)],Wn=1/0;break}B.maxAge&&gt.length===B.maxAge&&ts(1),bt===gt.length-1&&bt++;const Vr=wt++;ke[Vr]=Ee,gt=[...gt,Vr],Wn=gt.length-1;break}case _i:({monitorState:Pe,actionsById:ke,nextActionId:wt,stagedActionIds:gt,skippedActionIds:Jt,committedState:en,currentStateIndex:bt,computedStates:$t,isLocked:Hn,isPaused:An}=Ee.nextLiftedState);break;case X.Zz:Wn=0,B.maxAge&&gt.length>B.maxAge&&($t=pa($t,Wn,te,en,ke,gt,Jt,m,An),ts(gt.length-B.maxAge),Wn=1/0);break;case X.q6:if($t.filter(jr=>jr.error).length>0)Wn=0,B.maxAge&&gt.length>B.maxAge&&($t=pa($t,Wn,te,en,ke,gt,Jt,m,An),ts(gt.length-B.maxAge),Wn=1/0);else{if(!An&&!Hn){bt===gt.length-1&&bt++;const jr=wt++;ke[jr]=new ul(Ee,+Date.now()),gt=[...gt,jr],Wn=gt.length-1,$t=pa($t,Wn,te,en,ke,gt,Jt,m,An)}$t=$t.map(jr=>({...jr,state:te(jr.state,Xl)})),bt=gt.length-1,B.maxAge&&gt.length>B.maxAge&&ts(gt.length-B.maxAge),Wn=1/0}break;default:Wn=1/0}return $t=pa($t,Wn,te,en,ke,gt,Jt,m,An),Pe=A(Pe,Ee),{monitorState:Pe,actionsById:ke,nextActionId:wt,stagedActionIds:gt,skippedActionIds:Jt,committedState:en,currentStateIndex:bt,computedStates:$t,isLocked:Hn,isPaused:An}}}(Pe,wt,Ee,ke.monitor,ke),Jt=(0,ia.h)((0,ia.h)(A.asObservable().pipe(function Dl(I){return(0,Ws.p)((E,m)=>I<=m)}(1)),te.actions$).pipe((0,Jr.T)(Za)),m,te.liftedActions$).pipe((0,Mi.Q)(hd.T)),en=B.pipe((0,Jr.T)(gt)),bt=au(ke.connectInZone),$t=new vn.m(1);this.liftedStateSubscription=Jt.pipe((0,vi.E)(en),ma(bt),(0,cc.S)(({state:ts},[Ps,Wn])=>{let Vr=Wn(ts,Ps);return Ps.type!==co&&dl(ke)&&(Vr=function hc(I,E,m,A){const B=[],te={},ge=[];return I.stagedActionIds.forEach((Ee,Pe)=>{const ke=I.actionsById[Ee];ke&&(Pe&&Pu(I.computedStates[Pe],ke,E,m,A)||(te[Ee]=ke,B.push(Ee),ge.push(I.computedStates[Pe])))}),{...I,stagedActionIds:B,actionsById:te,computedStates:ge}}(Vr,ke.predicate,ke.actionsSafelist,ke.actionsBlocklist)),te.notify(Ps,Vr),{state:Vr,action:Ps}},{state:wt,action:null})).subscribe(({state:ts,action:Ps})=>{$t.next(ts),Ps.type===co&&ge.next(Ps.action)}),this.extensionStartSubscription=te.start$.pipe(ma(bt)).subscribe(()=>{this.refresh()});const Hn=$t.asObservable(),An=Hn.pipe((0,Jr.T)(kc));Object.defineProperty(An,"state",{value:(0,Oo.ot)(An,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=m,this.liftedState=Hn,this.state=An}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(m){this.dispatcher.next(m)}next(m){this.dispatcher.next(m)}error(m){}complete(){}performAction(m){this.dispatch(new ul(m,+Date.now()))}refresh(){this.dispatch(new Pc)}reset(){this.dispatch(new $l(+Date.now()))}rollback(){this.dispatch(new Hl(+Date.now()))}commit(){this.dispatch(new su(+Date.now()))}sweep(){this.dispatch(new Ji)}toggleAction(m){this.dispatch(new Wl(m))}jumpToAction(m){this.dispatch(new pd(m))}jumpToState(m){this.dispatch(new iu(m))}importState(m){this.dispatch(new Fc(m))}lockChanges(m){this.dispatch(new ah(m))}pauseRecording(m){this.dispatch(new ou(m))}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(lu),v.KVO(X.SS),v.KVO(X.QU),v.KVO(Lc),v.KVO(X.sA),v.KVO(v.zcH),v.KVO(X.N_),v.KVO(da))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();function ma({ngZone:I,connectInZone:E}){return m=>E?new jo.c(A=>m.subscribe({next:B=>I.run(()=>A.next(B)),error:B=>I.run(()=>A.error(B)),complete:()=>I.run(()=>A.complete())})):m}const fl=new v.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function md(I,E){return!!I||E.monitor!==Xa}function fi(){const I="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[I]<"u"?window[I]:null}function lh(I={}){return(0,v.EmA)([Lc,lu,ga,{provide:Ei,useValue:I},{provide:fl,deps:[fa,da],useFactory:md},{provide:fa,useFactory:fi},{provide:da,deps:[Ei],useFactory:Kl},{provide:X.h1,deps:[ga],useFactory:pc},{provide:X.Bh,useExisting:lu}])}function pc(I){return I.state}let Fu=(()=>{class I{static instrument(m={}){return{ngModule:I,providers:[lh(m)]}}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),Aa=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({imports:[X.md.forRoot(Nu.gz),ae.forRoot([kl]),he,bi,Xn,Ou,xc,Fu.instrument({maxAge:25,logOnly:!ls.c.production,connectInZone:!0})]})}}return I})();const Wa="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let cu=(()=>{class I{constructor(){}intercept(m,A){const{url:B,method:te,headers:ge}=m;return B.endsWith("login")&&"POST"===te?function Pe(){return(0,$s.of)(new je.cS({status:200,body:{id:"1",username:"profanis",token:Wa}}))}():B.endsWith("products")&&"GET"===te?function ke(){if(!function Ee(){return ge.get("authorization")===Wa}())return(0,na.$)({status:401,error:{message:"Unauthorized"}});const wt=[...new Array(20).keys()].map(gt=>({id:gt,name:`Product ${gt}`,weight:30,symbol:"ngf"}));return(0,$s.of)(new je.cS({status:200,body:wt}))}():A.handle(m)}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const uu={provide:je.a7,useClass:cu,multi:!0};D(6570);let qa=(()=>{class I{static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})();class mc{static get injector(){return this._injector}static set injector(E){this._injector=E}}var yc=D(2749),Vc=D(5364);let yd=(()=>{class I{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),vd=(()=>{class I extends yc.y{constructor(m,A){super(),this.http=m,this.config=A}getCurrentWeather(m,A){const te=this.getParams(m,A);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:te}).pipe((0,Jr.T)(ge=>({temperature:ge.main.temp,temperatureMin:ge.main.temp_min,temperatureMax:ge.main.temp_max,city:ge.name,conditions:(0,Vc.vp)(ge.weather[0]),date:new Date(ge.dt),zipCode:m,countryCode:A})))}getWeatherForecast(m,A){const te=this.getParams(m,A);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:te}).pipe((0,Jr.T)(ge=>ge.list.map(Ee=>({temperature:Ee.temp.day,temperatureMin:Ee.temp.min,temperatureMax:Ee.temp.max,city:ge.city.name,conditions:(0,Vc.vp)(Ee.weather[0]),date:new Date(1e3*Ee.dt),zipCode:m,countryCode:A}))))}getParams(m,A="us"){return new je.Nl({fromObject:{zip:`${m},${A}`,appid:this.config.apiKey}})}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(je.Qq),v.KVO(yd))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var _d=D(1111),Oa=D(2214),pl=D(5891),ch=D(2431),Uc=D(4473);let Ed=(()=>{class I{constructor(m,A){this.router=m,this.activitiesService=A}config(){this.router.events.subscribe(m=>{m instanceof U.wF&&(/[#$\[\]'?]/g.test(m.url)||this.activitiesService.setRouter(m.url))})}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(U.Ix),v.KVO(Uc.B))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const Bc={provide:v.hnV,useFactory:I=>()=>I.config(),multi:!0,deps:[Ed]};let ii=(()=>{class I{constructor(m){this.activitiesService=m}intercept(m,A){return this.activitiesService.setServer(),A.handle(m)}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Uc.B))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const uh={provide:je.a7,useClass:ii,multi:!0};let Lu=(()=>{class I{constructor(){this.activitiesService=(0,v.WQX)(Uc.B)}handleError(m){if(m instanceof je.yz){const A=this.shouldLogError(m.error);A&&this.activitiesService.setError(A,!0)}else{const A=this.shouldLogError(m.stack);A&&this.activitiesService.setError(A,!1)}throw m}shouldLogError(m){if(Uu(this.cacheError)!==Uu(m))return this.cacheError=function Vu(I){return JSON.parse(JSON.stringify(I))}(m),JSON.stringify(m)}static{this.\u0275fac=function(A){return new(A||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();function Uu(I){return JSON.stringify(I)}var Il=D(4373),Ja=D(8910),jc=D(8990),du=D(7539);const Tl=[{provide:Ja.B,useClass:du.J},{provide:Ja.W,useClass:du.J},{provide:jc.A,useClass:jc.d}],Bu=new v.nKC("FirebaseConfig");let Cd=(()=>{class I{constructor(m){this.config=m}static initializeApp(m){return{ngModule:I,providers:[{provide:Bu,useFactory:()=>function Dd(I){return new Promise((E,m)=>{try{if(!I||"object"!=typeof I||0===Object.keys(I).length)throw new Error("Invalid or missing Firebase configuration.");const A=(0,Oa.Wp)(I);(0,pl.C3)(A),(0,ch.aU)(A),console.log(`Number of Firebase app: ${(0,Oa.Dk)().length}`),E(A)}catch(A){console.error("Firebase initialization error: ",A),m(A)}})}(m)},Uc.B,Ed,Lu,Tl]}}static analytics(m){const A=[];return m.activityInHttp&&A.push(uh),m.activityInRouter&&A.push(Bc),m.activityOfAnonymousUser&&A.push(Il.bb),{ngModule:I,providers:A}}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(Bu))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),dh=(()=>{class I{constructor(m){this.injector=m,mc.injector=m}static{this.\u0275fac=function(A){return new(A||I)(v.KVO(v.zZn))}}static{this.\u0275mod=v.$C({type:I,bootstrap:[Gt]})}static{this.\u0275inj=v.G2t({providers:[wa.c,{provide:yc.y,useClass:vd},Te.DatePipe,je.q1,{provide:Vn.i,useValue:new Vn.i(Va)},_n,uu],imports:[_.Bb,xa,je.q1,je.uA,si.G,Je,Ta.register("ngsw-worker.js",{enabled:ls.c.production,registrationStrategy:"registerWhenStable:30000"}),Aa,$o.i,S.forRoot({userName:"Trilok Singh"}),Cd.initializeApp(ls.c.firebaseConfig),Cd.analytics({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0,activityLogging:!0}),qa,_d.MB,xa]})}}return I})();ls.c.production&&(0,v.SmG)(),_.sG().bootstrapModule(dh).catch(I=>console.error(I))},4412:(ut,ye,D)=>{D.d(ye,{t:()=>v});var _=D(1413);class v extends _.B{constructor(U){super(),this._value=U}get value(){return this.getValue()}_subscribe(U){const W=super._subscribe(U);return!W.closed&&U.next(this._value),W}getValue(){const{hasError:U,thrownError:W,_value:q}=this;if(U)throw W;return this._throwIfClosed(),q}next(U){super.next(this._value=U)}}},1985:(ut,ye,D)=>{D.d(ye,{c:()=>z});var _=D(7707),v=D(8359),ce=D(3494),U=D(1203),W=D(1026),q=D(8071),Q=D(9786);let z=(()=>{class Te{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Ie=new Te;return Ie.source=this,Ie.operator=Le,Ie}subscribe(Le,Ie,xe){const Ze=function ne(Te){return Te&&Te instanceof _.vU||function ee(Te){return Te&&(0,q.T)(Te.next)&&(0,q.T)(Te.error)&&(0,q.T)(Te.complete)}(Te)&&(0,v.Uv)(Te)}(Le)?Le:new _.Ms(Le,Ie,xe);return(0,Q.Y)(()=>{const{operator:Ge,source:ht}=this;Ze.add(Ge?Ge.call(Ze,ht):ht?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ie){Le.error(Ie)}}forEach(Le,Ie){return new(Ie=ie(Ie))((xe,Ze)=>{const Ge=new _.Ms({next:ht=>{try{Le(ht)}catch(Rt){Ze(Rt),Ge.unsubscribe()}},error:Ze,complete:xe});this.subscribe(Ge)})}_subscribe(Le){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Le)}[ce.s](){return this}pipe(...Le){return(0,U.m)(Le)(this)}toPromise(Le){return new(Le=ie(Le))((Ie,xe)=>{let Ze;this.subscribe(Ge=>Ze=Ge,Ge=>xe(Ge),()=>Ie(Ze))})}}return Te.create=Fe=>new Te(Fe),Te})();function ie(Te){var Fe;return null!==(Fe=Te??W.$.Promise)&&void 0!==Fe?Fe:Promise}},2771:(ut,ye,D)=>{D.d(ye,{m:()=>ce});var _=D(1413),v=D(6129);class ce extends _.B{constructor(W=1/0,q=1/0,Q=v.U){super(),this._bufferSize=W,this._windowTime=q,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=q===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,q)}next(W){const{isStopped:q,_buffer:Q,_infiniteTimeWindow:z,_timestampProvider:ie,_windowTime:ee}=this;q||(Q.push(W),!z&&Q.push(ie.now()+ee)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const q=this._innerSubscribe(W),{_infiniteTimeWindow:Q,_buffer:z}=this,ie=z.slice();for(let ee=0;ee<ie.length&&!W.closed;ee+=Q?1:2)W.next(ie[ee]);return this._checkFinalizedStatuses(W),q}_trimBuffer(){const{_bufferSize:W,_timestampProvider:q,_buffer:Q,_infiniteTimeWindow:z}=this,ie=(z?1:2)*W;if(W<1/0&&ie<Q.length&&Q.splice(0,Q.length-ie),!z){const ee=q.now();let ne=0;for(let Te=1;Te<Q.length&&Q[Te]<=ee;Te+=2)ne=Te;ne&&Q.splice(0,ne+1)}}}},1413:(ut,ye,D)=>{D.d(ye,{B:()=>Q});var _=D(1985),v=D(8359);const U=(0,D(1853).L)(ie=>function(){ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=D(7908),q=D(9786);let Q=(()=>{class ie extends _.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const Te=new z(this,this);return Te.operator=ne,Te}_throwIfClosed(){if(this.closed)throw new U}next(ne){(0,q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(ne)}})}error(ne){(0,q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:Te}=this;for(;Te.length;)Te.shift().error(ne)}})}complete(){(0,q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:Te,isStopped:Fe,observers:Le}=this;return Te||Fe?v.Kn:(this.currentObservers=null,Le.push(ne),new v.yU(()=>{this.currentObservers=null,(0,W.o)(Le,ne)}))}_checkFinalizedStatuses(ne){const{hasError:Te,thrownError:Fe,isStopped:Le}=this;Te?ne.error(Fe):Le&&ne.complete()}asObservable(){const ne=new _.c;return ne.source=this,ne}}return ie.create=(ee,ne)=>new z(ee,ne),ie})();class z extends Q{constructor(ee,ne){super(),this.destination=ee,this.source=ne}next(ee){var ne,Te;null===(Te=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===Te||Te.call(ne,ee)}error(ee){var ne,Te;null===(Te=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===Te||Te.call(ne,ee)}complete(){var ee,ne;null===(ne=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ne||ne.call(ee)}_subscribe(ee){var ne,Te;return null!==(Te=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(ee))&&void 0!==Te?Te:v.Kn}}},7707:(ut,ye,D)=>{D.d(ye,{Ms:()=>xe,vU:()=>Te});var _=D(8071),v=D(8359),ce=D(1026),U=D(5334),W=D(5343);const q=ie("C",void 0,void 0);function ie(Je,je,Ht){return{kind:Je,value:je,error:Ht}}var ee=D(9270),ne=D(9786);class Te extends v.yU{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,v.Uv)(je)&&je.add(this)):this.destination=Rt}static create(je,Ht,Ot){return new xe(je,Ht,Ot)}next(je){this.isStopped?ht(function z(Je){return ie("N",Je,void 0)}(je),this):this._next(je)}error(je){this.isStopped?ht(function Q(Je){return ie("E",void 0,Je)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?ht(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Le(Je,je){return Fe.call(Je,je)}class Ie{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Ht}=this;if(Ht.next)try{Ht.next(je)}catch(Ot){Ze(Ot)}}error(je){const{partialObserver:Ht}=this;if(Ht.error)try{Ht.error(je)}catch(Ot){Ze(Ot)}else Ze(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Ht){Ze(Ht)}}}class xe extends Te{constructor(je,Ht,Ot){let Kt;if(super(),(0,_.T)(je)||!je)Kt={next:je??void 0,error:Ht??void 0,complete:Ot??void 0};else{let Gt;this&&ce.$.useDeprecatedNextContext?(Gt=Object.create(je),Gt.unsubscribe=()=>this.unsubscribe(),Kt={next:je.next&&Le(je.next,Gt),error:je.error&&Le(je.error,Gt),complete:je.complete&&Le(je.complete,Gt)}):Kt=je}this.destination=new Ie(Kt)}}function Ze(Je){ce.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(Je):(0,U.m)(Je)}function ht(Je,je){const{onStoppedNotification:Ht}=ce.$;Ht&&ee.f.setTimeout(()=>Ht(Je,je))}const Rt={closed:!0,next:W.l,error:function Ge(Je){throw Je},complete:W.l}},8359:(ut,ye,D)=>{D.d(ye,{Kn:()=>q,yU:()=>W,Uv:()=>Q});var _=D(8071);const ce=(0,D(1853).L)(ie=>function(ne){ie(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((Te,Fe)=>`${Fe+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var U=D(7908);class W{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Le of ne)Le.remove(this);else ne.remove(this);const{initialTeardown:Te}=this;if((0,_.T)(Te))try{Te()}catch(Le){ee=Le instanceof ce?Le.errors:[Le]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Le of Fe)try{z(Le)}catch(Ie){ee=ee??[],Ie instanceof ce?ee=[...ee,...Ie.errors]:ee.push(Ie)}}if(ee)throw new ce(ee)}}add(ee){var ne;if(ee&&ee!==this)if(this.closed)z(ee);else{if(ee instanceof W){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(ee)}}_hasParent(ee){const{_parentage:ne}=this;return ne===ee||Array.isArray(ne)&&ne.includes(ee)}_addParent(ee){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(ee),ne):ne?[ne,ee]:ee}_removeParent(ee){const{_parentage:ne}=this;ne===ee?this._parentage=null:Array.isArray(ne)&&(0,U.o)(ne,ee)}remove(ee){const{_finalizers:ne}=this;ne&&(0,U.o)(ne,ee),ee instanceof W&&ee._removeParent(this)}}W.EMPTY=(()=>{const ie=new W;return ie.closed=!0,ie})();const q=W.EMPTY;function Q(ie){return ie instanceof W||ie&&"closed"in ie&&(0,_.T)(ie.remove)&&(0,_.T)(ie.add)&&(0,_.T)(ie.unsubscribe)}function z(ie){(0,_.T)(ie)?ie():ie.unsubscribe()}},1026:(ut,ye,D)=>{D.d(ye,{$:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(ut,ye,D)=>{D.d(ye,{G:()=>q});var _=D(1985),v=D(8359),ce=D(9898),U=D(4360),W=D(9974);class q extends _.c{constructor(z,ie){super(),this.source=z,this.subjectFactory=ie,this._subject=null,this._refCount=0,this._connection=null,(0,W.S)(z)&&(this.lift=z.lift)}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:z}=this;this._subject=this._connection=null,z?.unsubscribe()}connect(){let z=this._connection;if(!z){z=this._connection=new v.yU;const ie=this.getSubject();z.add(this.source.subscribe((0,U._)(ie,void 0,()=>{this._teardown(),ie.complete()},ee=>{this._teardown(),ie.error(ee)},()=>this._teardown()))),z.closed&&(this._connection=null,z=v.yU.EMPTY)}return z}refCount(){return(0,ce.B)()(this)}}},4572:(ut,ye,D)=>{D.d(ye,{z:()=>ee});var _=D(1985),v=D(3073),ce=D(2806),U=D(3669),W=D(6450),q=D(9326),Q=D(8496),z=D(4360),ie=D(5225);function ee(...Fe){const Le=(0,q.lI)(Fe),Ie=(0,q.ms)(Fe),{args:xe,keys:Ze}=(0,v.D)(Fe);if(0===xe.length)return(0,ce.H)([],Le);const Ge=new _.c(function ne(Fe,Le,Ie=U.D){return xe=>{Te(Le,()=>{const{length:Ze}=Fe,Ge=new Array(Ze);let ht=Ze,Rt=Ze;for(let Je=0;Je<Ze;Je++)Te(Le,()=>{const je=(0,ce.H)(Fe[Je],Le);let Ht=!1;je.subscribe((0,z._)(xe,Ot=>{Ge[Je]=Ot,Ht||(Ht=!0,Rt--),Rt||xe.next(Ie(Ge.slice()))},()=>{--ht||xe.complete()}))},xe)},xe)}}(xe,Le,Ze?ht=>(0,Q.e)(Ze,ht):U.D));return Ie?Ge.pipe((0,W.I)(Ie)):Ge}function Te(Fe,Le,Ie){Fe?(0,ie.N)(Ie,Fe,Le):Le()}},8793:(ut,ye,D)=>{D.d(ye,{x:()=>W});var _=D(6365),ce=D(9326),U=D(2806);function W(...q){return function v(){return(0,_.U)(1)}()((0,U.H)(q,(0,ce.lI)(q)))}},9030:(ut,ye,D)=>{D.d(ye,{v:()=>ce});var _=D(1985),v=D(8750);function ce(U){return new _.c(W=>{(0,v.Tg)(U()).subscribe(W)})}},983:(ut,ye,D)=>{D.d(ye,{I:()=>ce,w:()=>v});var _=D(1985);const v=new _.c(W=>W.complete());function ce(W){return W?function U(W){return new _.c(q=>W.schedule(()=>q.complete()))}(W):v}},7468:(ut,ye,D)=>{D.d(ye,{p:()=>z});var _=D(1985),v=D(3073),ce=D(8750),U=D(9326),W=D(4360),q=D(6450),Q=D(8496);function z(...ie){const ee=(0,U.ms)(ie),{args:ne,keys:Te}=(0,v.D)(ie),Fe=new _.c(Le=>{const{length:Ie}=ne;if(!Ie)return void Le.complete();const xe=new Array(Ie);let Ze=Ie,Ge=Ie;for(let ht=0;ht<Ie;ht++){let Rt=!1;(0,ce.Tg)(ne[ht]).subscribe((0,W._)(Le,Je=>{Rt||(Rt=!0,Ge--),xe[ht]=Je},()=>Ze--,void 0,()=>{(!Ze||!Rt)&&(Ge||Le.next(Te?(0,Q.e)(Te,xe):xe),Le.complete())}))}});return ee?Fe.pipe((0,q.I)(ee)):Fe}},2806:(ut,ye,D)=>{D.d(ye,{H:()=>Ht});var _=D(8750),v=D(941),ce=D(9974);function U(Ot,Kt=0){return(0,ce.N)((Gt,zt)=>{zt.add(Ot.schedule(()=>Gt.subscribe(zt),Kt))})}var Q=D(1985),ie=D(4761),ee=D(8071),ne=D(5225);function Fe(Ot,Kt){if(!Ot)throw new Error("Iterable cannot be null");return new Q.c(Gt=>{(0,ne.N)(Gt,Kt,()=>{const zt=Ot[Symbol.asyncIterator]();(0,ne.N)(Gt,Kt,()=>{zt.next().then(Pn=>{Pn.done?Gt.complete():Gt.next(Pn.value)})},0,!0)})})}var Le=D(5055),Ie=D(9858),xe=D(7441),Ze=D(5397),Ge=D(7953),ht=D(591),Rt=D(5196);function Ht(Ot,Kt){return Kt?function je(Ot,Kt){if(null!=Ot){if((0,Le.l)(Ot))return function W(Ot,Kt){return(0,_.Tg)(Ot).pipe(U(Kt),(0,v.Q)(Kt))}(Ot,Kt);if((0,xe.X)(Ot))return function z(Ot,Kt){return new Q.c(Gt=>{let zt=0;return Kt.schedule(function(){zt===Ot.length?Gt.complete():(Gt.next(Ot[zt++]),Gt.closed||this.schedule())})})}(Ot,Kt);if((0,Ie.y)(Ot))return function q(Ot,Kt){return(0,_.Tg)(Ot).pipe(U(Kt),(0,v.Q)(Kt))}(Ot,Kt);if((0,Ge.T)(Ot))return Fe(Ot,Kt);if((0,Ze.x)(Ot))return function Te(Ot,Kt){return new Q.c(Gt=>{let zt;return(0,ne.N)(Gt,Kt,()=>{zt=Ot[ie.l](),(0,ne.N)(Gt,Kt,()=>{let Pn,pt;try{({value:Pn,done:pt}=zt.next())}catch(tt){return void Gt.error(tt)}pt?Gt.complete():Gt.next(Pn)},0,!0)}),()=>(0,ee.T)(zt?.return)&&zt.return()})}(Ot,Kt);if((0,Rt.U)(Ot))return function Je(Ot,Kt){return Fe((0,Rt.C)(Ot),Kt)}(Ot,Kt)}throw(0,ht.L)(Ot)}(Ot,Kt):(0,_.Tg)(Ot)}},3726:(ut,ye,D)=>{D.d(ye,{R:()=>ee});var _=D(8750),v=D(1985),ce=D(1397),U=D(7441),W=D(8071),q=D(6450);const Q=["addListener","removeListener"],z=["addEventListener","removeEventListener"],ie=["on","off"];function ee(Ie,xe,Ze,Ge){if((0,W.T)(Ze)&&(Ge=Ze,Ze=void 0),Ge)return ee(Ie,xe,Ze).pipe((0,q.I)(Ge));const[ht,Rt]=function Le(Ie){return(0,W.T)(Ie.addEventListener)&&(0,W.T)(Ie.removeEventListener)}(Ie)?z.map(Je=>je=>Ie[Je](xe,je,Ze)):function Te(Ie){return(0,W.T)(Ie.addListener)&&(0,W.T)(Ie.removeListener)}(Ie)?Q.map(ne(Ie,xe)):function Fe(Ie){return(0,W.T)(Ie.on)&&(0,W.T)(Ie.off)}(Ie)?ie.map(ne(Ie,xe)):[];if(!ht&&(0,U.X)(Ie))return(0,ce.Z)(Je=>ee(Je,xe,Ze))((0,_.Tg)(Ie));if(!ht)throw new TypeError("Invalid event target");return new v.c(Je=>{const je=(...Ht)=>Je.next(1<Ht.length?Ht:Ht[0]);return ht(je),()=>Rt(je)})}function ne(Ie,xe){return Ze=>Ge=>Ie[Ze](xe,Ge)}},8750:(ut,ye,D)=>{D.d(ye,{Tg:()=>Fe});var _=D(1635),v=D(7441),ce=D(9858),U=D(1985),W=D(5055),q=D(7953),Q=D(591),z=D(5397),ie=D(5196),ee=D(8071),ne=D(5334),Te=D(3494);function Fe(Je){if(Je instanceof U.c)return Je;if(null!=Je){if((0,W.l)(Je))return function Le(Je){return new U.c(je=>{const Ht=Je[Te.s]();if((0,ee.T)(Ht.subscribe))return Ht.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Je);if((0,v.X)(Je))return function Ie(Je){return new U.c(je=>{for(let Ht=0;Ht<Je.length&&!je.closed;Ht++)je.next(Je[Ht]);je.complete()})}(Je);if((0,ce.y)(Je))return function xe(Je){return new U.c(je=>{Je.then(Ht=>{je.closed||(je.next(Ht),je.complete())},Ht=>je.error(Ht)).then(null,ne.m)})}(Je);if((0,q.T)(Je))return Ge(Je);if((0,z.x)(Je))return function Ze(Je){return new U.c(je=>{for(const Ht of Je)if(je.next(Ht),je.closed)return;je.complete()})}(Je);if((0,ie.U)(Je))return function ht(Je){return Ge((0,ie.C)(Je))}(Je)}throw(0,Q.L)(Je)}function Ge(Je){return new U.c(je=>{(function Rt(Je,je){var Ht,Ot,Kt,Gt;return(0,_.sH)(this,void 0,void 0,function*(){try{for(Ht=(0,_.xN)(Je);!(Ot=yield Ht.next()).done;)if(je.next(Ot.value),je.closed)return}catch(zt){Kt={error:zt}}finally{try{Ot&&!Ot.done&&(Gt=Ht.return)&&(yield Gt.call(Ht))}finally{if(Kt)throw Kt.error}}je.complete()})})(Je,je).catch(Ht=>je.error(Ht))})}},7786:(ut,ye,D)=>{D.d(ye,{h:()=>q});var _=D(6365),v=D(8750),ce=D(983),U=D(9326),W=D(2806);function q(...Q){const z=(0,U.lI)(Q),ie=(0,U.R0)(Q,1/0),ee=Q;return ee.length?1===ee.length?(0,v.Tg)(ee[0]):(0,_.U)(ie)((0,W.H)(ee,z)):ce.w}},7673:(ut,ye,D)=>{D.d(ye,{of:()=>ce});var _=D(9326),v=D(2806);function ce(...U){const W=(0,_.lI)(U);return(0,v.H)(U,W)}},8810:(ut,ye,D)=>{D.d(ye,{$:()=>ce});var _=D(1985),v=D(8071);function ce(U,W){const q=(0,v.T)(U)?U:()=>U,Q=z=>z.error(q());return new _.c(W?z=>W.schedule(Q,0,z):Q)}},1807:(ut,ye,D)=>{D.d(ye,{O:()=>W});var _=D(1985),v=D(3236),ce=D(9470),U=D(8211);function W(q=0,Q,z=v.b){let ie=-1;return null!=Q&&((0,ce.m)(Q)?z=Q:ie=Q),new _.c(ee=>{let ne=(0,U.v)(q)?+q-z.now():q;ne<0&&(ne=0);let Te=0;return z.schedule(function(){ee.closed||(ee.next(Te++),0<=ie?this.schedule(void 0,ie):ee.complete())},ne)})}},4360:(ut,ye,D)=>{D.d(ye,{H:()=>ce,_:()=>v});var _=D(7707);function v(U,W,q,Q,z){return new ce(U,W,q,Q,z)}class ce extends _.vU{constructor(W,q,Q,z,ie,ee){super(W),this.onFinalize=ie,this.shouldUnsubscribe=ee,this._next=q?function(ne){try{q(ne)}catch(Te){W.error(Te)}}:super._next,this._error=z?function(ne){try{z(ne)}catch(Te){W.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(ne){W.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:q}=this;super.unsubscribe(),!q&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},9437:(ut,ye,D)=>{D.d(ye,{W:()=>U});var _=D(8750),v=D(4360),ce=D(9974);function U(W){return(0,ce.N)((q,Q)=>{let ee,z=null,ie=!1;z=q.subscribe((0,v._)(Q,void 0,void 0,ne=>{ee=(0,_.Tg)(W(ne,U(W)(q))),z?(z.unsubscribe(),z=null,ee.subscribe(Q)):ie=!0})),ie&&(z.unsubscribe(),z=null,ee.subscribe(Q))})}},274:(ut,ye,D)=>{D.d(ye,{H:()=>ce});var _=D(1397),v=D(8071);function ce(U,W){return(0,v.T)(W)?(0,_.Z)(U,W,1):(0,_.Z)(U,1)}},152:(ut,ye,D)=>{D.d(ye,{B:()=>U});var _=D(3236),v=D(9974),ce=D(4360);function U(W,q=_.E){return(0,v.N)((Q,z)=>{let ie=null,ee=null,ne=null;const Te=()=>{if(ie){ie.unsubscribe(),ie=null;const Le=ee;ee=null,z.next(Le)}};function Fe(){const Le=ne+W,Ie=q.now();if(Ie<Le)return ie=this.schedule(void 0,Le-Ie),void z.add(ie);Te()}Q.subscribe((0,ce._)(z,Le=>{ee=Le,ne=q.now(),ie||(ie=q.schedule(Fe,W),z.add(ie))},()=>{Te(),z.complete()},void 0,()=>{ee=ie=null}))})}},9901:(ut,ye,D)=>{D.d(ye,{U:()=>ce});var _=D(9974),v=D(4360);function ce(U){return(0,_.N)((W,q)=>{let Q=!1;W.subscribe((0,v._)(q,z=>{Q=!0,q.next(z)},()=>{Q||q.next(U),q.complete()}))})}},5335:(ut,ye,D)=>{D.d(ye,{c:()=>ee});var _=D(3236),v=D(8793),ce=D(6697),U=D(3557),W=D(3703),q=D(1397),Q=D(8750);function z(ne,Te){return Te?Fe=>(0,v.x)(Te.pipe((0,ce.s)(1),(0,U.w)()),Fe.pipe(z(ne))):(0,q.Z)((Fe,Le)=>(0,Q.Tg)(ne(Fe,Le)).pipe((0,ce.s)(1),(0,W.u)(Fe)))}var ie=D(1807);function ee(ne,Te=_.E){const Fe=(0,ie.O)(ne,Te);return z(()=>Fe)}},3294:(ut,ye,D)=>{D.d(ye,{F:()=>U});var _=D(3669),v=D(9974),ce=D(4360);function U(q,Q=_.D){return q=q??W,(0,v.N)((z,ie)=>{let ee,ne=!0;z.subscribe((0,ce._)(ie,Te=>{const Fe=Q(Te);(ne||!q(ee,Fe))&&(ne=!1,ee=Fe,ie.next(Te))}))})}function W(q,Q){return q===Q}},786:(ut,ye,D)=>{D.d(ye,{p:()=>W});var _=D(6354),v=D(8750),ce=D(9974),U=D(4360);function W(q,Q){return Q?z=>z.pipe(W((ie,ee)=>(0,v.Tg)(q(ie,ee)).pipe((0,_.T)((ne,Te)=>Q(ie,ne,ee,Te))))):(0,ce.N)((z,ie)=>{let ee=0,ne=null,Te=!1;z.subscribe((0,U._)(ie,Fe=>{ne||(ne=(0,U._)(ie,void 0,()=>{ne=null,Te&&ie.complete()}),(0,v.Tg)(q(Fe,ee++)).subscribe(ne))},()=>{Te=!0,!ne&&ie.complete()}))})}},5964:(ut,ye,D)=>{D.d(ye,{p:()=>ce});var _=D(9974),v=D(4360);function ce(U,W){return(0,_.N)((q,Q)=>{let z=0;q.subscribe((0,v._)(Q,ie=>U.call(W,ie,z++)&&Q.next(ie)))})}},980:(ut,ye,D)=>{D.d(ye,{j:()=>v});var _=D(9974);function v(ce){return(0,_.N)((U,W)=>{try{U.subscribe(W)}finally{W.add(ce)}})}},1594:(ut,ye,D)=>{D.d(ye,{$:()=>Q});var _=D(9350),v=D(5964),ce=D(6697),U=D(9901),W=D(3774),q=D(3669);function Q(z,ie){const ee=arguments.length>=2;return ne=>ne.pipe(z?(0,v.p)((Te,Fe)=>z(Te,Fe,ne)):q.D,(0,ce.s)(1),ee?(0,U.U)(ie):(0,W.v)(()=>new _.G))}},3557:(ut,ye,D)=>{D.d(ye,{w:()=>U});var _=D(9974),v=D(4360),ce=D(5343);function U(){return(0,_.N)((W,q)=>{W.subscribe((0,v._)(q,ce.l))})}},7018:(ut,ye,D)=>{D.d(ye,{H:()=>Q});var _=D(9350),v=D(5964),ce=D(5109),U=D(3774),W=D(9901),q=D(3669);function Q(z,ie){const ee=arguments.length>=2;return ne=>ne.pipe(z?(0,v.p)((Te,Fe)=>z(Te,Fe,ne)):q.D,(0,ce.o)(1),ee?(0,W.U)(ie):(0,U.v)(()=>new _.G))}},6354:(ut,ye,D)=>{D.d(ye,{T:()=>ce});var _=D(9974),v=D(4360);function ce(U,W){return(0,_.N)((q,Q)=>{let z=0;q.subscribe((0,v._)(Q,ie=>{Q.next(U.call(W,ie,z++))}))})}},3703:(ut,ye,D)=>{D.d(ye,{u:()=>v});var _=D(6354);function v(ce){return(0,_.T)(()=>ce)}},6365:(ut,ye,D)=>{D.d(ye,{U:()=>ce});var _=D(1397),v=D(3669);function ce(U=1/0){return(0,_.Z)(v.D,U)}},1397:(ut,ye,D)=>{D.d(ye,{Z:()=>z});var _=D(6354),v=D(8750),ce=D(9974),U=D(5225),W=D(4360),Q=D(8071);function z(ie,ee,ne=1/0){return(0,Q.T)(ee)?z((Te,Fe)=>(0,_.T)((Le,Ie)=>ee(Te,Le,Fe,Ie))((0,v.Tg)(ie(Te,Fe))),ne):("number"==typeof ee&&(ne=ee),(0,ce.N)((Te,Fe)=>function q(ie,ee,ne,Te,Fe,Le,Ie,xe){const Ze=[];let Ge=0,ht=0,Rt=!1;const Je=()=>{Rt&&!Ze.length&&!Ge&&ee.complete()},je=Ot=>Ge<Te?Ht(Ot):Ze.push(Ot),Ht=Ot=>{Le&&ee.next(Ot),Ge++;let Kt=!1;(0,v.Tg)(ne(Ot,ht++)).subscribe((0,W._)(ee,Gt=>{Fe?.(Gt),Le?je(Gt):ee.next(Gt)},()=>{Kt=!0},void 0,()=>{if(Kt)try{for(Ge--;Ze.length&&Ge<Te;){const Gt=Ze.shift();Ie?(0,U.N)(ee,Ie,()=>Ht(Gt)):Ht(Gt)}Je()}catch(Gt){ee.error(Gt)}}))};return ie.subscribe((0,W._)(ee,je,()=>{Rt=!0,Je()})),()=>{xe?.()}}(Te,Fe,ie,ne)))}},941:(ut,ye,D)=>{D.d(ye,{Q:()=>U});var _=D(5225),v=D(9974),ce=D(4360);function U(W,q=0){return(0,v.N)((Q,z)=>{Q.subscribe((0,ce._)(z,ie=>(0,_.N)(z,W,()=>z.next(ie),q),()=>(0,_.N)(z,W,()=>z.complete(),q),ie=>(0,_.N)(z,W,()=>z.error(ie),q)))})}},9085:(ut,ye,D)=>{D.d(ye,{E:()=>v});var _=D(6354);function v(...ce){const U=ce.length;if(0===U)throw new Error("list of properties cannot be empty.");return(0,_.T)(W=>{let q=W;for(let Q=0;Q<U;Q++){const z=q?.[ce[Q]];if(!(typeof z<"u"))return;q=z}return q})}},3319:(ut,ye,D)=>{D.d(ye,{m:()=>ne});var _=D(1413),v=D(17),ce=D(8071),U=D(8750),W=D(9974),q=D(1985);const z={connector:()=>new _.B};function ie(Te,Fe=z){const{connector:Le}=Fe;return(0,W.N)((Ie,xe)=>{const Ze=Le();(0,U.Tg)(Te(function Q(Te){return new q.c(Fe=>Te.subscribe(Fe))}(Ze))).subscribe(xe),xe.add(Ie.subscribe(Ze))})}function ne(Te){return Te?Fe=>ie(Te)(Fe):Fe=>function ee(Te,Fe){const Le=(0,ce.T)(Te)?Te:()=>Te;return(0,ce.T)(Fe)?ie(Fe,{connector:Le}):Ie=>new v.G(Ie,Le)}(new _.B)(Fe)}},9898:(ut,ye,D)=>{D.d(ye,{B:()=>ce});var _=D(9974),v=D(4360);function ce(){return(0,_.N)((U,W)=>{let q=null;U._refCount++;const Q=(0,v._)(W,void 0,void 0,void 0,()=>{if(!U||U._refCount<=0||0<--U._refCount)return void(q=null);const z=U._connection,ie=q;q=null,z&&(!ie||z===ie)&&z.unsubscribe(),W.unsubscribe()});U.subscribe(Q),Q.closed||(q=U.connect())})}},2498:(ut,ye,D)=>{D.d(ye,{L:()=>q});var _=D(9974),v=D(4360),ce=D(3669),U=D(1807),W=D(8750);function q(Q=1/0){let z;z=Q&&"object"==typeof Q?Q:{count:Q};const{count:ie=1/0,delay:ee,resetOnSuccess:ne=!1}=z;return ie<=0?ce.D:(0,_.N)((Te,Fe)=>{let Ie,Le=0;const xe=()=>{let Ze=!1;Ie=Te.subscribe((0,v._)(Fe,Ge=>{ne&&(Le=0),Fe.next(Ge)},void 0,Ge=>{if(Le++<ie){const ht=()=>{Ie?(Ie.unsubscribe(),Ie=null,xe()):Ze=!0};if(null!=ee){const Rt="number"==typeof ee?(0,U.O)(ee):(0,W.Tg)(ee(Ge,Le)),Je=(0,v._)(Fe,()=>{Je.unsubscribe(),ht()},()=>{Fe.complete()});Rt.subscribe(Je)}else ht()}else Fe.error(Ge)})),Ze&&(Ie.unsubscribe(),Ie=null,xe())};xe()})}},2816:(ut,ye,D)=>{D.d(ye,{S:()=>U});var _=D(9974),v=D(4360);function U(W,q){return(0,_.N)(function ce(W,q,Q,z,ie){return(ee,ne)=>{let Te=Q,Fe=q,Le=0;ee.subscribe((0,v._)(ne,Ie=>{const xe=Le++;Fe=Te?W(Fe,Ie,xe):(Te=!0,Ie),z&&ne.next(Fe)},ie&&(()=>{Te&&ne.next(Fe),ne.complete()})))}}(W,q,arguments.length>=2,!0))}},7647:(ut,ye,D)=>{D.d(ye,{u:()=>W});var _=D(8750),v=D(1413),ce=D(7707),U=D(9974);function W(Q={}){const{connector:z=()=>new v.B,resetOnError:ie=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ne=!0}=Q;return Te=>{let Fe,Le,Ie,xe=0,Ze=!1,Ge=!1;const ht=()=>{Le?.unsubscribe(),Le=void 0},Rt=()=>{ht(),Fe=Ie=void 0,Ze=Ge=!1},Je=()=>{const je=Fe;Rt(),je?.unsubscribe()};return(0,U.N)((je,Ht)=>{xe++,!Ge&&!Ze&&ht();const Ot=Ie=Ie??z();Ht.add(()=>{xe--,0===xe&&!Ge&&!Ze&&(Le=q(Je,ne))}),Ot.subscribe(Ht),!Fe&&xe>0&&(Fe=new ce.Ms({next:Kt=>Ot.next(Kt),error:Kt=>{Ge=!0,ht(),Le=q(Rt,ie,Kt),Ot.error(Kt)},complete:()=>{Ze=!0,ht(),Le=q(Rt,ee),Ot.complete()}}),(0,_.Tg)(je).subscribe(Fe))})(Te)}}function q(Q,z,...ie){if(!0===z)return void Q();if(!1===z)return;const ee=new ce.Ms({next:()=>{ee.unsubscribe(),Q()}});return(0,_.Tg)(z(...ie)).subscribe(ee)}},4668:(ut,ye,D)=>{D.d(ye,{t:()=>ce});var _=D(2771),v=D(7647);function ce(U,W,q){let Q,z=!1;return U&&"object"==typeof U?({bufferSize:Q=1/0,windowTime:W=1/0,refCount:z=!1,scheduler:q}=U):Q=U??1/0,(0,v.u)({connector:()=>new _.m(Q,W,q),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:z})}},9172:(ut,ye,D)=>{D.d(ye,{Z:()=>U});var _=D(8793),v=D(9326),ce=D(9974);function U(...W){const q=(0,v.lI)(W);return(0,ce.N)((Q,z)=>{(q?(0,_.x)(W,Q,q):(0,_.x)(W,Q)).subscribe(z)})}},5558:(ut,ye,D)=>{D.d(ye,{n:()=>U});var _=D(8750),v=D(9974),ce=D(4360);function U(W,q){return(0,v.N)((Q,z)=>{let ie=null,ee=0,ne=!1;const Te=()=>ne&&!ie&&z.complete();Q.subscribe((0,ce._)(z,Fe=>{ie?.unsubscribe();let Le=0;const Ie=ee++;(0,_.Tg)(W(Fe,Ie)).subscribe(ie=(0,ce._)(z,xe=>z.next(q?q(Fe,xe,Ie,Le++):xe),()=>{ie=null,Te()}))},()=>{ne=!0,Te()}))})}},6697:(ut,ye,D)=>{D.d(ye,{s:()=>U});var _=D(983),v=D(9974),ce=D(4360);function U(W){return W<=0?()=>_.w:(0,v.N)((q,Q)=>{let z=0;q.subscribe((0,ce._)(Q,ie=>{++z<=W&&(Q.next(ie),W<=z&&Q.complete())}))})}},5109:(ut,ye,D)=>{D.d(ye,{o:()=>U});var _=D(983),v=D(9974),ce=D(4360);function U(W){return W<=0?()=>_.w:(0,v.N)((q,Q)=>{let z=[];q.subscribe((0,ce._)(Q,ie=>{z.push(ie),W<z.length&&z.shift()},()=>{for(const ie of z)Q.next(ie);Q.complete()},void 0,()=>{z=null}))})}},6977:(ut,ye,D)=>{D.d(ye,{Q:()=>W});var _=D(9974),v=D(4360),ce=D(8750),U=D(5343);function W(q){return(0,_.N)((Q,z)=>{(0,ce.Tg)(q).subscribe((0,v._)(z,()=>z.complete(),U.l)),!z.closed&&Q.subscribe(z)})}},8141:(ut,ye,D)=>{D.d(ye,{M:()=>W});var _=D(8071),v=D(9974),ce=D(4360),U=D(3669);function W(q,Q,z){const ie=(0,_.T)(q)||Q||z?{next:q,error:Q,complete:z}:q;return ie?(0,v.N)((ee,ne)=>{var Te;null===(Te=ie.subscribe)||void 0===Te||Te.call(ie);let Fe=!0;ee.subscribe((0,ce._)(ne,Le=>{var Ie;null===(Ie=ie.next)||void 0===Ie||Ie.call(ie,Le),ne.next(Le)},()=>{var Le;Fe=!1,null===(Le=ie.complete)||void 0===Le||Le.call(ie),ne.complete()},Le=>{var Ie;Fe=!1,null===(Ie=ie.error)||void 0===Ie||Ie.call(ie,Le),ne.error(Le)},()=>{var Le,Ie;Fe&&(null===(Le=ie.unsubscribe)||void 0===Le||Le.call(ie)),null===(Ie=ie.finalize)||void 0===Ie||Ie.call(ie)}))}):U.D}},3386:(ut,ye,D)=>{D.d(ye,{c:()=>Q});var _=D(3236),v=D(9974),ce=D(4360),U=D(8750),q=D(1807);function Q(z,ie=_.E,ee){const ne=(0,q.O)(z,ie);return function W(z,ie){return(0,v.N)((ee,ne)=>{const{leading:Te=!0,trailing:Fe=!1}=ie??{};let Le=!1,Ie=null,xe=null,Ze=!1;const Ge=()=>{xe?.unsubscribe(),xe=null,Fe&&(Je(),Ze&&ne.complete())},ht=()=>{xe=null,Ze&&ne.complete()},Rt=je=>xe=(0,U.Tg)(z(je)).subscribe((0,ce._)(ne,Ge,ht)),Je=()=>{if(Le){Le=!1;const je=Ie;Ie=null,ne.next(je),!Ze&&Rt(je)}};ee.subscribe((0,ce._)(ne,je=>{Le=!0,Ie=je,(!xe||xe.closed)&&(Te?Je():Rt(je))},()=>{Ze=!0,(!(Fe&&Le&&xe)||xe.closed)&&ne.complete()}))})}(()=>ne,ee)}},3774:(ut,ye,D)=>{D.d(ye,{v:()=>U});var _=D(9350),v=D(9974),ce=D(4360);function U(q=W){return(0,v.N)((Q,z)=>{let ie=!1;Q.subscribe((0,ce._)(z,ee=>{ie=!0,z.next(ee)},()=>ie?z.complete():z.error(q())))})}function W(){return new _.G}},3993:(ut,ye,D)=>{D.d(ye,{E:()=>Q});var _=D(9974),v=D(4360),ce=D(8750),U=D(3669),W=D(5343),q=D(9326);function Q(...z){const ie=(0,q.ms)(z);return(0,_.N)((ee,ne)=>{const Te=z.length,Fe=new Array(Te);let Le=z.map(()=>!1),Ie=!1;for(let xe=0;xe<Te;xe++)(0,ce.Tg)(z[xe]).subscribe((0,v._)(ne,Ze=>{Fe[xe]=Ze,!Ie&&!Le[xe]&&(Le[xe]=!0,(Ie=Le.every(U.D))&&(Le=null))},W.l));ee.subscribe((0,v._)(ne,xe=>{if(Ie){const Ze=[xe,...Fe];ne.next(ie?ie(...Ze):Ze)}}))})}},6780:(ut,ye,D)=>{D.d(ye,{R:()=>W});var _=D(8359);class v extends _.yU{constructor(Q,z){super()}schedule(Q,z=0){return this}}const ce={setInterval(q,Q,...z){const{delegate:ie}=ce;return ie?.setInterval?ie.setInterval(q,Q,...z):setInterval(q,Q,...z)},clearInterval(q){const{delegate:Q}=ce;return(Q?.clearInterval||clearInterval)(q)},delegate:void 0};var U=D(7908);class W extends v{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z,this.pending=!1}schedule(Q,z=0){var ie;if(this.closed)return this;this.state=Q;const ee=this.id,ne=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ne,ee,z)),this.pending=!0,this.delay=z,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(ne,this.id,z),this}requestAsyncId(Q,z,ie=0){return ce.setInterval(Q.flush.bind(Q,this),ie)}recycleAsyncId(Q,z,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return z;null!=z&&ce.clearInterval(z)}execute(Q,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(Q,z);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,z){let ee,ie=!1;try{this.work(Q)}catch(ne){ie=!0,ee=ne||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Q,scheduler:z}=this,{actions:ie}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,U.o)(ie,this),null!=Q&&(this.id=this.recycleAsyncId(z,Q,null)),this.delay=null,super.unsubscribe()}}}},9687:(ut,ye,D)=>{D.d(ye,{q:()=>ce});var _=D(6129);class v{constructor(W,q=v.now){this.schedulerActionCtor=W,this.now=q}schedule(W,q=0,Q){return new this.schedulerActionCtor(this,W).schedule(Q,q)}}v.now=_.U.now;class ce extends v{constructor(W,q=v.now){super(W,q),this.actions=[],this._active=!1}flush(W){const{actions:q}=this;if(this._active)return void q.push(W);let Q;this._active=!0;do{if(Q=W.execute(W.state,W.delay))break}while(W=q.shift());if(this._active=!1,Q){for(;W=q.shift();)W.unsubscribe();throw Q}}}},3236:(ut,ye,D)=>{D.d(ye,{E:()=>ce,b:()=>U});var _=D(6780);const ce=new(D(9687).q)(_.R),U=ce},6129:(ut,ye,D)=>{D.d(ye,{U:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},7242:(ut,ye,D)=>{D.d(ye,{T:()=>W});var _=D(6780),ce=D(9687);const W=new class U extends ce.q{}(class v extends _.R{constructor(z,ie){super(z,ie),this.scheduler=z,this.work=ie}schedule(z,ie=0){return ie>0?super.schedule(z,ie):(this.delay=ie,this.state=z,this.scheduler.flush(this),this)}execute(z,ie){return ie>0||this.closed?super.execute(z,ie):this._execute(z,ie)}requestAsyncId(z,ie,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(z,ie,ee):(z.flush(this),0)}})},9270:(ut,ye,D)=>{D.d(ye,{f:()=>_});const _={setTimeout(v,ce,...U){const{delegate:W}=_;return W?.setTimeout?W.setTimeout(v,ce,...U):setTimeout(v,ce,...U)},clearTimeout(v){const{delegate:ce}=_;return(ce?.clearTimeout||clearTimeout)(v)},delegate:void 0}},4761:(ut,ye,D)=>{D.d(ye,{l:()=>v});const v=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(ut,ye,D)=>{D.d(ye,{s:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(ut,ye,D)=>{D.d(ye,{G:()=>v});const v=(0,D(1853).L)(ce=>function(){ce(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(ut,ye,D)=>{D.d(ye,{R0:()=>q,lI:()=>W,ms:()=>U});var _=D(8071),v=D(9470);function ce(Q){return Q[Q.length-1]}function U(Q){return(0,_.T)(ce(Q))?Q.pop():void 0}function W(Q){return(0,v.m)(ce(Q))?Q.pop():void 0}function q(Q,z){return"number"==typeof ce(Q)?Q.pop():z}},3073:(ut,ye,D)=>{D.d(ye,{D:()=>W});const{isArray:_}=Array,{getPrototypeOf:v,prototype:ce,keys:U}=Object;function W(Q){if(1===Q.length){const z=Q[0];if(_(z))return{args:z,keys:null};if(function q(Q){return Q&&"object"==typeof Q&&v(Q)===ce}(z)){const ie=U(z);return{args:ie.map(ee=>z[ee]),keys:ie}}}return{args:Q,keys:null}}},7908:(ut,ye,D)=>{function _(v,ce){if(v){const U=v.indexOf(ce);0<=U&&v.splice(U,1)}}D.d(ye,{o:()=>_})},1853:(ut,ye,D)=>{function _(v){const U=v(W=>{Error.call(W),W.stack=(new Error).stack});return U.prototype=Object.create(Error.prototype),U.prototype.constructor=U,U}D.d(ye,{L:()=>_})},8496:(ut,ye,D)=>{function _(v,ce){return v.reduce((U,W,q)=>(U[W]=ce[q],U),{})}D.d(ye,{e:()=>_})},9786:(ut,ye,D)=>{D.d(ye,{Y:()=>ce,l:()=>U});var _=D(1026);let v=null;function ce(W){if(_.$.useDeprecatedSynchronousErrorHandling){const q=!v;if(q&&(v={errorThrown:!1,error:null}),W(),q){const{errorThrown:Q,error:z}=v;if(v=null,Q)throw z}}else W()}function U(W){_.$.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=W)}},5225:(ut,ye,D)=>{function _(v,ce,U,W=0,q=!1){const Q=ce.schedule(function(){U(),q?v.add(this.schedule(null,W)):this.unsubscribe()},W);if(v.add(Q),!q)return Q}D.d(ye,{N:()=>_})},3669:(ut,ye,D)=>{function _(v){return v}D.d(ye,{D:()=>_})},7441:(ut,ye,D)=>{D.d(ye,{X:()=>_});const _=v=>v&&"number"==typeof v.length&&"function"!=typeof v},7953:(ut,ye,D)=>{D.d(ye,{T:()=>v});var _=D(8071);function v(ce){return Symbol.asyncIterator&&(0,_.T)(ce?.[Symbol.asyncIterator])}},8211:(ut,ye,D)=>{function _(v){return v instanceof Date&&!isNaN(v)}D.d(ye,{v:()=>_})},8071:(ut,ye,D)=>{function _(v){return"function"==typeof v}D.d(ye,{T:()=>_})},5055:(ut,ye,D)=>{D.d(ye,{l:()=>ce});var _=D(3494),v=D(8071);function ce(U){return(0,v.T)(U[_.s])}},5397:(ut,ye,D)=>{D.d(ye,{x:()=>ce});var _=D(4761),v=D(8071);function ce(U){return(0,v.T)(U?.[_.l])}},9858:(ut,ye,D)=>{D.d(ye,{y:()=>v});var _=D(8071);function v(ce){return(0,_.T)(ce?.then)}},5196:(ut,ye,D)=>{D.d(ye,{C:()=>ce,U:()=>U});var _=D(1635),v=D(8071);function ce(W){return(0,_.AQ)(this,arguments,function*(){const Q=W.getReader();try{for(;;){const{value:z,done:ie}=yield(0,_.N3)(Q.read());if(ie)return yield(0,_.N3)(void 0);yield yield(0,_.N3)(z)}}finally{Q.releaseLock()}})}function U(W){return(0,v.T)(W?.getReader)}},9470:(ut,ye,D)=>{D.d(ye,{m:()=>v});var _=D(8071);function v(ce){return ce&&(0,_.T)(ce.schedule)}},9974:(ut,ye,D)=>{D.d(ye,{N:()=>ce,S:()=>v});var _=D(8071);function v(U){return(0,_.T)(U?.lift)}function ce(U){return W=>{if(v(W))return W.lift(function(q){try{return U(q,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(ut,ye,D)=>{D.d(ye,{I:()=>U});var _=D(6354);const{isArray:v}=Array;function U(W){return(0,_.T)(q=>function ce(W,q){return v(q)?W(...q):W(q)}(W,q))}},5343:(ut,ye,D)=>{function _(){}D.d(ye,{l:()=>_})},1203:(ut,ye,D)=>{D.d(ye,{F:()=>v,m:()=>ce});var _=D(3669);function v(...U){return ce(U)}function ce(U){return 0===U.length?_.D:1===U.length?U[0]:function(q){return U.reduce((Q,z)=>z(Q),q)}}},5334:(ut,ye,D)=>{D.d(ye,{m:()=>ce});var _=D(1026),v=D(9270);function ce(U){v.f.setTimeout(()=>{const{onUnhandledError:W}=_.$;if(!W)throw U;W(U)})}},591:(ut,ye,D)=>{function _(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(ye,{L:()=>_})},9969:(ut,ye,D)=>{D.d(ye,{FX:()=>Pn,If:()=>ce,K2:()=>z,MA:()=>Le,Os:()=>Q,P:()=>xe,S6:()=>Ge,hZ:()=>W,i0:()=>q,i7:()=>ne,iF:()=>ie,kY:()=>Te,kp:()=>U,sf:()=>Gt,ui:()=>zt,wk:()=>ee,yc:()=>Ze});var _=D(177),v=D(4438),ce=function(pt){return pt[pt.State=0]="State",pt[pt.Transition=1]="Transition",pt[pt.Sequence=2]="Sequence",pt[pt.Group=3]="Group",pt[pt.Animate=4]="Animate",pt[pt.Keyframes=5]="Keyframes",pt[pt.Style=6]="Style",pt[pt.Trigger=7]="Trigger",pt[pt.Reference=8]="Reference",pt[pt.AnimateChild=9]="AnimateChild",pt[pt.AnimateRef=10]="AnimateRef",pt[pt.Query=11]="Query",pt[pt.Stagger=12]="Stagger",pt}(ce||{});const U="*";function W(pt,tt){return{type:ce.Trigger,name:pt,definitions:tt,options:{}}}function q(pt,tt=null){return{type:ce.Animate,styles:tt,timings:pt}}function Q(pt,tt=null){return{type:ce.Group,steps:pt,options:tt}}function z(pt,tt=null){return{type:ce.Sequence,steps:pt,options:tt}}function ie(pt){return{type:ce.Style,styles:pt,offset:null}}function ee(pt,tt,Nt){return{type:ce.State,name:pt,styles:tt,options:Nt}}function ne(pt){return{type:ce.Keyframes,steps:pt}}function Te(pt,tt,Nt=null){return{type:ce.Transition,expr:pt,animation:tt,options:Nt}}function Le(pt=null){return{type:ce.AnimateChild,options:pt}}function xe(pt,tt,Nt=null){return{type:ce.Query,selector:pt,animation:tt,options:Nt}}function Ze(pt,tt){return{type:ce.Stagger,timings:pt,animation:tt}}let Ge=(()=>{class pt{static \u0275fac=function(Dn){return new(Dn||pt)};static \u0275prov=v.jDH({token:pt,factory:()=>(0,v.WQX)(Rt),providedIn:"root"})}return pt})();class ht{}let Rt=(()=>{class pt extends Ge{animationModuleType=(0,v.WQX)(v.bc$,{optional:!0});_nextAnimationId=0;_renderer;constructor(Nt,Dn){if(super(),this._renderer=Nt.createRenderer(Dn.body,{id:"0",encapsulation:v.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function Kt(pt){const tt=pt.\u0275type;return 0===tt||1===tt}(this._renderer))throw new v.wOt(3600,!1)}build(Nt){const Dn=this._nextAnimationId;this._nextAnimationId++;const kn=Array.isArray(Nt)?z(Nt):Nt;return Ht(this._renderer,null,Dn,"register",[kn]),new Je(Dn,this._renderer)}static \u0275fac=function(Dn){return new(Dn||pt)(v.KVO(v._9s),v.KVO(_.DOCUMENT))};static \u0275prov=v.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();class Je extends ht{_id;_renderer;constructor(tt,Nt){super(),this._id=tt,this._renderer=Nt}create(tt,Nt){return new je(this._id,tt,Nt||{},this._renderer)}}class je{id;element;_renderer;parentPlayer=null;_started=!1;constructor(tt,Nt,Dn,kn){this.id=tt,this.element=Nt,this._renderer=kn,this._command("create",Dn)}_listen(tt,Nt){return this._renderer.listen(this.element,`@@${this.id}:${tt}`,Nt)}_command(tt,...Nt){Ht(this._renderer,this.element,this.id,tt,Nt)}onDone(tt){this._listen("done",tt)}onStart(tt){this._listen("start",tt)}onDestroy(tt){this._listen("destroy",tt)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(tt){this._command("setPosition",tt)}getPosition(){return function Ot(pt){const tt=pt.\u0275type;return 0===tt?pt:1===tt?pt.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function Ht(pt,tt,Nt,Dn,kn){pt.setProperty(tt,`@@${Nt}:${Dn}`,kn)}class Gt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(tt=0,Nt=0){this.totalTime=tt+Nt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(tt=>tt()),this._onDoneFns=[])}onStart(tt){this._originalOnStartFns.push(tt),this._onStartFns.push(tt)}onDone(tt){this._originalOnDoneFns.push(tt),this._onDoneFns.push(tt)}onDestroy(tt){this._onDestroyFns.push(tt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(tt=>tt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(tt=>tt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(tt){this._position=this.totalTime?tt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(tt){const Nt="start"==tt?this._onStartFns:this._onDoneFns;Nt.forEach(Dn=>Dn()),Nt.length=0}}class zt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(tt){this.players=tt;let Nt=0,Dn=0,kn=0;const yr=this.players.length;0==yr?queueMicrotask(()=>this._onFinish()):this.players.forEach(_r=>{_r.onDone(()=>{++Nt==yr&&this._onFinish()}),_r.onDestroy(()=>{++Dn==yr&&this._onDestroy()}),_r.onStart(()=>{++kn==yr&&this._onStart()})}),this.totalTime=this.players.reduce((_r,ws)=>Math.max(_r,ws.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(tt=>tt()),this._onDoneFns=[])}init(){this.players.forEach(tt=>tt.init())}onStart(tt){this._onStartFns.push(tt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(tt=>tt()),this._onStartFns=[])}onDone(tt){this._onDoneFns.push(tt)}onDestroy(tt){this._onDestroyFns.push(tt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(tt=>tt.play())}pause(){this.players.forEach(tt=>tt.pause())}restart(){this.players.forEach(tt=>tt.restart())}finish(){this._onFinish(),this.players.forEach(tt=>tt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(tt=>tt.destroy()),this._onDestroyFns.forEach(tt=>tt()),this._onDestroyFns=[])}reset(){this.players.forEach(tt=>tt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(tt){const Nt=tt*this.totalTime;this.players.forEach(Dn=>{const kn=Dn.totalTime?Math.min(1,Nt/Dn.totalTime):1;Dn.setPosition(kn)})}getPosition(){const tt=this.players.reduce((Nt,Dn)=>null===Nt||Dn.totalTime>Nt.totalTime?Dn:Nt,null);return null!=tt?tt.getPosition():0}beforeDestroy(){this.players.forEach(tt=>{tt.beforeDestroy&&tt.beforeDestroy()})}triggerCallback(tt){const Nt="start"==tt?this._onStartFns:this._onDoneFns;Nt.forEach(Dn=>Dn()),Nt.length=0}}const Pn="!"},177:(ut,ye,D)=>{D.r(ye),D.d(ye,{APP_BASE_HREF:()=>Ze,AsyncPipe:()=>Mn,BrowserPlatformLocation:()=>Te,CommonModule:()=>Qi,CurrencyPipe:()=>ni,DATE_PIPE_DEFAULT_OPTIONS:()=>wi,DATE_PIPE_DEFAULT_TIMEZONE:()=>Jo,DOCUMENT:()=>ie,DatePipe:()=>Ss,DecimalPipe:()=>xo,FormStyle:()=>Pn,FormatWidth:()=>tt,HashLocationStrategy:()=>ht,I18nPluralPipe:()=>Bs,I18nSelectPipe:()=>Fi,IMAGE_CONFIG:()=>v.GGh,IMAGE_LOADER:()=>Vo,JsonPipe:()=>tr,KeyValuePipe:()=>ki,LOCATION_INITIALIZED:()=>ne,Location:()=>Rt,LocationStrategy:()=>xe,LowerCasePipe:()=>br,NgClass:()=>ue,NgComponentOutlet:()=>de,NgFor:()=>ft,NgForOf:()=>ft,NgForOfContext:()=>Ve,NgIf:()=>Sn,NgIfContext:()=>un,NgLocaleLocalization:()=>pi,NgLocalization:()=>ss,NgOptimizedImage:()=>Ws,NgPlural:()=>Dr,NgPluralCase:()=>os,NgStyle:()=>Us,NgSwitch:()=>tn,NgSwitchCase:()=>jn,NgSwitchDefault:()=>Or,NgTemplateOutlet:()=>Pr,NumberFormatStyle:()=>Gt,NumberSymbol:()=>Nt,PRECONNECT_CHECK_BLOCKLIST:()=>io,PathLocationStrategy:()=>Ge,PercentPipe:()=>Po,PlatformLocation:()=>ee,Plural:()=>zt,SlicePipe:()=>Ra,TitleCasePipe:()=>ps,TranslationWidth:()=>pt,UpperCasePipe:()=>on,VERSION:()=>nl,ViewportScroller:()=>ko,WeekDay:()=>Dn,XhrFactory:()=>ro,formatCurrency:()=>ze,formatDate:()=>pr,formatNumber:()=>qt,formatPercent:()=>St,getCurrencySymbol:()=>oi,getLocaleCurrencyCode:()=>Cn,getLocaleCurrencyName:()=>hr,getLocaleCurrencySymbol:()=>mn,getLocaleDateFormat:()=>st,getLocaleDateTimeFormat:()=>Ct,getLocaleDayNames:()=>_r,getLocaleDayPeriods:()=>yr,getLocaleDirection:()=>ns,getLocaleEraNames:()=>dr,getLocaleExtraDayPeriodRules:()=>Gn,getLocaleExtraDayPeriods:()=>qn,getLocaleFirstDayOfWeek:()=>Xe,getLocaleId:()=>kn,getLocaleMonthNames:()=>ws,getLocaleNumberFormat:()=>Zt,getLocaleNumberSymbol:()=>Et,getLocalePluralCase:()=>yn,getLocaleTimeFormat:()=>at,getLocaleWeekEndRange:()=>Ue,getNumberOfCurrencyDigits:()=>zr,isPlatformBrowser:()=>Nr,isPlatformServer:()=>go,provideCloudflareLoader:()=>Bo,provideCloudinaryLoader:()=>Mr,provideImageKitLoader:()=>js,provideImgixLoader:()=>Ui,provideNetlifyLoader:()=>To,registerLocaleData:()=>po,\u0275DomAdapter:()=>Q,\u0275NullViewportScroller:()=>Zs,\u0275PLATFORM_BROWSER_ID:()=>Fo,\u0275PLATFORM_SERVER_ID:()=>wo,\u0275PlatformNavigation:()=>z,\u0275getDOM:()=>W,\u0275normalizeQueryParams:()=>Ie,\u0275parseCookieValue:()=>ai,\u0275setRootDomAdapter:()=>q}),D(467);var v=D(4438),ce=D(1413);let U=null;function W(){return U}function q(S){U??=S}class Q{}let z=(()=>{class S{static \u0275fac=function(V){return new(V||S)};static \u0275prov=v.jDH({token:S,factory:()=>window.navigation,providedIn:"platform"})}return S})();const ie=new v.nKC("");let ee=(()=>{class S{historyGo(R){throw new Error("")}static \u0275fac=function(V){return new(V||S)};static \u0275prov=v.jDH({token:S,factory:()=>(0,v.WQX)(Te),providedIn:"platform"})}return S})();const ne=new v.nKC("");let Te=(()=>{class S extends ee{_location;_history;_doc=(0,v.WQX)(ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(R){const V=W().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",R,!1),()=>V.removeEventListener("popstate",R)}onHashChange(R){const V=W().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",R,!1),()=>V.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,V,he){this._history.pushState(R,V,he)}replaceState(R,V,he){this._history.replaceState(R,V,he)}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}static \u0275fac=function(V){return new(V||S)};static \u0275prov=v.jDH({token:S,factory:()=>new S,providedIn:"platform"})}return S})();function Fe(S,X){if(0==S.length)return X;if(0==X.length)return S;let R=0;return S.endsWith("/")&&R++,X.startsWith("/")&&R++,2==R?S+X.substring(1):1==R?S+X:S+"/"+X}function Le(S){const X=S.match(/#|\?|$/),R=X&&X.index||S.length;return S.slice(0,R-("/"===S[R-1]?1:0))+S.slice(R)}function Ie(S){return S&&"?"!==S[0]?"?"+S:S}let xe=(()=>{class S{historyGo(R){throw new Error("")}static \u0275fac=function(V){return new(V||S)};static \u0275prov=v.jDH({token:S,factory:()=>(0,v.WQX)(Ge),providedIn:"root"})}return S})();const Ze=new v.nKC("");let Ge=(()=>{class S extends xe{_platformLocation;_baseHref;_removeListenerFns=[];constructor(R,V){super(),this._platformLocation=R,this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,v.WQX)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Fe(this._baseHref,R)}path(R=!1){const V=this._platformLocation.pathname+Ie(this._platformLocation.search),he=this._platformLocation.hash;return he&&R?`${V}${he}`:V}pushState(R,V,he,Me){const ot=this.prepareExternalUrl(he+Ie(Me));this._platformLocation.pushState(R,V,ot)}replaceState(R,V,he,Me){const ot=this.prepareExternalUrl(he+Ie(Me));this._platformLocation.replaceState(R,V,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static \u0275fac=function(V){return new(V||S)(v.KVO(ee),v.KVO(Ze,8))};static \u0275prov=v.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),ht=(()=>{class S extends xe{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(R,V){super(),this._platformLocation=R,null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){const V=this._platformLocation.hash??"#";return V.length>0?V.substring(1):V}prepareExternalUrl(R){const V=Fe(this._baseHref,R);return V.length>0?"#"+V:V}pushState(R,V,he,Me){let ot=this.prepareExternalUrl(he+Ie(Me));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.pushState(R,V,ot)}replaceState(R,V,he,Me){let ot=this.prepareExternalUrl(he+Ie(Me));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.replaceState(R,V,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static \u0275fac=function(V){return new(V||S)(v.KVO(ee),v.KVO(Ze,8))};static \u0275prov=v.jDH({token:S,factory:S.\u0275fac})}return S})(),Rt=(()=>{class S{_subject=new ce.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(R){this._locationStrategy=R;const V=this._locationStrategy.getBaseHref();this._basePath=function Ot(S){if(new RegExp("^(https?:)?//").test(S)){const[,R]=S.split(/\/\/[^\/]+/);return R}return S}(Le(Ht(V))),this._locationStrategy.onPopState(he=>{this._subject.next({url:this.path(!0),pop:!0,state:he.state,type:he.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,V=""){return this.path()==this.normalize(R+Ie(V))}normalize(R){return S.stripTrailingSlash(function je(S,X){if(!S||!X.startsWith(S))return X;const R=X.substring(S.length);return""===R||["/",";","?","#"].includes(R[0])?R:X}(this._basePath,Ht(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,V="",he=null){this._locationStrategy.pushState(he,"",R,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ie(V)),he)}replaceState(R,V="",he=null){this._locationStrategy.replaceState(he,"",R,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ie(V)),he)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription??=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)}),()=>{const V=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",V){this._urlChangeListeners.forEach(he=>he(R,V))}subscribe(R,V,he){return this._subject.subscribe({next:R,error:V??void 0,complete:he??void 0})}static normalizeQueryParams=Ie;static joinWithSlash=Fe;static stripTrailingSlash=Le;static \u0275fac=function(V){return new(V||S)(v.KVO(xe))};static \u0275prov=v.jDH({token:S,factory:()=>function Je(){return new Rt((0,v.KVO)(xe))}(),providedIn:"root"})}return S})();function Ht(S){return S.replace(/\/index.html$/,"")}const Kt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Gt=function(S){return S[S.Decimal=0]="Decimal",S[S.Percent=1]="Percent",S[S.Currency=2]="Currency",S[S.Scientific=3]="Scientific",S}(Gt||{}),zt=function(S){return S[S.Zero=0]="Zero",S[S.One=1]="One",S[S.Two=2]="Two",S[S.Few=3]="Few",S[S.Many=4]="Many",S[S.Other=5]="Other",S}(zt||{}),Pn=function(S){return S[S.Format=0]="Format",S[S.Standalone=1]="Standalone",S}(Pn||{}),pt=function(S){return S[S.Narrow=0]="Narrow",S[S.Abbreviated=1]="Abbreviated",S[S.Wide=2]="Wide",S[S.Short=3]="Short",S}(pt||{}),tt=function(S){return S[S.Short=0]="Short",S[S.Medium=1]="Medium",S[S.Long=2]="Long",S[S.Full=3]="Full",S}(tt||{});const Nt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};var Dn=function(S){return S[S.Sunday=0]="Sunday",S[S.Monday=1]="Monday",S[S.Tuesday=2]="Tuesday",S[S.Wednesday=3]="Wednesday",S[S.Thursday=4]="Thursday",S[S.Friday=5]="Friday",S[S.Saturday=6]="Saturday",S}(Dn||{});function kn(S){return(0,v.H5H)(S)[v.KH2.LocaleId]}function yr(S,X,R){const V=(0,v.H5H)(S),Me=Jn([V[v.KH2.DayPeriodsFormat],V[v.KH2.DayPeriodsStandalone]],X);return Jn(Me,R)}function _r(S,X,R){const V=(0,v.H5H)(S),Me=Jn([V[v.KH2.DaysFormat],V[v.KH2.DaysStandalone]],X);return Jn(Me,R)}function ws(S,X,R){const V=(0,v.H5H)(S),Me=Jn([V[v.KH2.MonthsFormat],V[v.KH2.MonthsStandalone]],X);return Jn(Me,R)}function dr(S,X){return Jn((0,v.H5H)(S)[v.KH2.Eras],X)}function Xe(S){return(0,v.H5H)(S)[v.KH2.FirstDayOfWeek]}function Ue(S){return(0,v.H5H)(S)[v.KH2.WeekendRange]}function st(S,X){return Jn((0,v.H5H)(S)[v.KH2.DateFormat],X)}function at(S,X){return Jn((0,v.H5H)(S)[v.KH2.TimeFormat],X)}function Ct(S,X){return Jn((0,v.H5H)(S)[v.KH2.DateTimeFormat],X)}function Et(S,X){const R=(0,v.H5H)(S),V=R[v.KH2.NumberSymbols][X];if(typeof V>"u"){if(X===Nt.CurrencyDecimal)return R[v.KH2.NumberSymbols][Nt.Decimal];if(X===Nt.CurrencyGroup)return R[v.KH2.NumberSymbols][Nt.Group]}return V}function Zt(S,X){return(0,v.H5H)(S)[v.KH2.NumberFormats][X]}function mn(S){return(0,v.H5H)(S)[v.KH2.CurrencySymbol]||null}function hr(S){return(0,v.H5H)(S)[v.KH2.CurrencyName]||null}function Cn(S){return(0,v.uq$)(S)}const yn=v.mq5;function Gr(S){if(!S[v.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${S[v.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gn(S){const X=(0,v.H5H)(S);return Gr(X),(X[v.KH2.ExtraData][2]||[]).map(V=>"string"==typeof V?Es(V):[Es(V[0]),Es(V[1])])}function qn(S,X,R){const V=(0,v.H5H)(S);Gr(V);const Me=Jn([V[v.KH2.ExtraData][0],V[v.KH2.ExtraData][1]],X)||[];return Jn(Me,R)||[]}function ns(S){return(0,v.H5H)(S)[v.KH2.Directionality]}function Jn(S,X){for(let R=X;R>-1;R--)if(typeof S[R]<"u")return S[R];throw new Error("Locale data API: locale data undefined")}function Es(S){const[X,R]=S.split(":");return{hours:+X,minutes:+R}}function oi(S,X,R="en"){const V=function Kn(S){return(0,v.H5H)(S)[v.KH2.Currencies]}(R)[S]||Kt[S]||[],he=V[1];return"narrow"===X&&"string"==typeof he?he:V[0]||S}const xt=2;function zr(S){let X;const R=Kt[S];return R&&(X=R[2]),"number"==typeof X?X:xt}const Qr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nn={},As=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rs=function(S){return S[S.Short=0]="Short",S[S.ShortGMT=1]="ShortGMT",S[S.Long=2]="Long",S[S.Extended=3]="Extended",S}(rs||{}),Fn=function(S){return S[S.FullYear=0]="FullYear",S[S.Month=1]="Month",S[S.Date=2]="Date",S[S.Hours=3]="Hours",S[S.Minutes=4]="Minutes",S[S.Seconds=5]="Seconds",S[S.FractionalSeconds=6]="FractionalSeconds",S[S.Day=7]="Day",S}(Fn||{}),Rn=function(S){return S[S.DayPeriods=0]="DayPeriods",S[S.Days=1]="Days",S[S.Months=2]="Months",S[S.Eras=3]="Eras",S}(Rn||{});function pr(S,X,R,V){let he=function we(S){if(Tt(S))return S;if("number"==typeof S&&!isNaN(S))return new Date(S);if("string"==typeof S){if(S=S.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(S)){const[he,Me=1,ot=1]=S.split("-").map(Ut=>+Ut);return Is(he,Me-1,ot)}const R=parseFloat(S);if(!isNaN(S-R))return new Date(R);let V;if(V=S.match(Qr))return function $e(S){const X=new Date(0);let R=0,V=0;const he=S[8]?X.setUTCFullYear:X.setFullYear,Me=S[8]?X.setUTCHours:X.setHours;S[9]&&(R=Number(S[9]+S[10]),V=Number(S[9]+S[11])),he.call(X,Number(S[1]),Number(S[2])-1,Number(S[3]));const ot=Number(S[4]||0)-R,Ut=Number(S[5]||0)-V,nr=Number(S[6]||0),Qn=Math.floor(1e3*parseFloat("0."+(S[7]||0)));return Me.call(X,ot,Ut,nr,Qn),X}(V)}const X=new Date(S);if(!Tt(X))throw new Error(`Unable to convert "${S}" into a date`);return X}(S);X=Ur(R,X)||X;let Ut,ot=[];for(;X;){if(Ut=As.exec(X),!Ut){ot.push(X);break}{ot=ot.concat(Ut.slice(1));const Yn=ot.pop();if(!Yn)break;X=Yn}}let nr=he.getTimezoneOffset();V&&(nr=oe(V,nr),he=function J(S,X,R){const V=R?-1:1,he=S.getTimezoneOffset();return function Ce(S,X){return(S=new Date(S.getTime())).setMinutes(S.getMinutes()+X),S}(S,V*(oe(X,he)-he))}(he,V,!0));let Qn="";return ot.forEach(Yn=>{const En=function Se(S){if(ve[S])return ve[S];let X;switch(S){case"G":case"GG":case"GGG":X=er(Rn.Eras,pt.Abbreviated);break;case"GGGG":X=er(Rn.Eras,pt.Wide);break;case"GGGGG":X=er(Rn.Eras,pt.Narrow);break;case"y":X=Rr(Fn.FullYear,1,0,!1,!0);break;case"yy":X=Rr(Fn.FullYear,2,0,!0,!0);break;case"yyy":X=Rr(Fn.FullYear,3,0,!1,!0);break;case"yyyy":X=Rr(Fn.FullYear,4,0,!1,!0);break;case"Y":X=ks(1);break;case"YY":X=ks(2,!0);break;case"YYY":X=ks(3);break;case"YYYY":X=ks(4);break;case"M":case"L":X=Rr(Fn.Month,1,1);break;case"MM":case"LL":X=Rr(Fn.Month,2,1);break;case"MMM":X=er(Rn.Months,pt.Abbreviated);break;case"MMMM":X=er(Rn.Months,pt.Wide);break;case"MMMMM":X=er(Rn.Months,pt.Narrow);break;case"LLL":X=er(Rn.Months,pt.Abbreviated,Pn.Standalone);break;case"LLLL":X=er(Rn.Months,pt.Wide,Pn.Standalone);break;case"LLLLL":X=er(Rn.Months,pt.Narrow,Pn.Standalone);break;case"w":X=Xs(1);break;case"ww":X=Xs(2);break;case"W":X=Xs(1,!0);break;case"d":X=Rr(Fn.Date,1);break;case"dd":X=Rr(Fn.Date,2);break;case"c":case"cc":X=Rr(Fn.Day,1);break;case"ccc":X=er(Rn.Days,pt.Abbreviated,Pn.Standalone);break;case"cccc":X=er(Rn.Days,pt.Wide,Pn.Standalone);break;case"ccccc":X=er(Rn.Days,pt.Narrow,Pn.Standalone);break;case"cccccc":X=er(Rn.Days,pt.Short,Pn.Standalone);break;case"E":case"EE":case"EEE":X=er(Rn.Days,pt.Abbreviated);break;case"EEEE":X=er(Rn.Days,pt.Wide);break;case"EEEEE":X=er(Rn.Days,pt.Narrow);break;case"EEEEEE":X=er(Rn.Days,pt.Short);break;case"a":case"aa":case"aaa":X=er(Rn.DayPeriods,pt.Abbreviated);break;case"aaaa":X=er(Rn.DayPeriods,pt.Wide);break;case"aaaaa":X=er(Rn.DayPeriods,pt.Narrow);break;case"b":case"bb":case"bbb":X=er(Rn.DayPeriods,pt.Abbreviated,Pn.Standalone,!0);break;case"bbbb":X=er(Rn.DayPeriods,pt.Wide,Pn.Standalone,!0);break;case"bbbbb":X=er(Rn.DayPeriods,pt.Narrow,Pn.Standalone,!0);break;case"B":case"BB":case"BBB":X=er(Rn.DayPeriods,pt.Abbreviated,Pn.Format,!0);break;case"BBBB":X=er(Rn.DayPeriods,pt.Wide,Pn.Format,!0);break;case"BBBBB":X=er(Rn.DayPeriods,pt.Narrow,Pn.Format,!0);break;case"h":X=Rr(Fn.Hours,1,-12);break;case"hh":X=Rr(Fn.Hours,2,-12);break;case"H":X=Rr(Fn.Hours,1);break;case"HH":X=Rr(Fn.Hours,2);break;case"m":X=Rr(Fn.Minutes,1);break;case"mm":X=Rr(Fn.Minutes,2);break;case"s":X=Rr(Fn.Seconds,1);break;case"ss":X=Rr(Fn.Seconds,2);break;case"S":X=Rr(Fn.FractionalSeconds,1);break;case"SS":X=Rr(Fn.FractionalSeconds,2);break;case"SSS":X=Rr(Fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=fn(rs.Short);break;case"ZZZZZ":X=fn(rs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=fn(rs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=fn(rs.Long);break;default:return null}return ve[S]=X,X}(Yn);Qn+=En?En(he,R,nr):"''"===Yn?"'":Yn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qn}function Is(S,X,R){const V=new Date(0);return V.setFullYear(S,X,R),V.setHours(0,0,0),V}function Ur(S,X){const R=kn(S);if(Nn[R]??={},Nn[R][X])return Nn[R][X];let V="";switch(X){case"shortDate":V=st(S,tt.Short);break;case"mediumDate":V=st(S,tt.Medium);break;case"longDate":V=st(S,tt.Long);break;case"fullDate":V=st(S,tt.Full);break;case"shortTime":V=at(S,tt.Short);break;case"mediumTime":V=at(S,tt.Medium);break;case"longTime":V=at(S,tt.Long);break;case"fullTime":V=at(S,tt.Full);break;case"short":const he=Ur(S,"shortTime"),Me=Ur(S,"shortDate");V=Ts(Ct(S,tt.Short),[he,Me]);break;case"medium":const ot=Ur(S,"mediumTime"),Ut=Ur(S,"mediumDate");V=Ts(Ct(S,tt.Medium),[ot,Ut]);break;case"long":const nr=Ur(S,"longTime"),Qn=Ur(S,"longDate");V=Ts(Ct(S,tt.Long),[nr,Qn]);break;case"full":const Yn=Ur(S,"fullTime"),En=Ur(S,"fullDate");V=Ts(Ct(S,tt.Full),[Yn,En])}return V&&(Nn[R][X]=V),V}function Ts(S,X){return X&&(S=S.replace(/\{([^}]+)}/g,function(R,V){return null!=X&&V in X?X[V]:R})),S}function Xr(S,X,R="-",V,he){let Me="";(S<0||he&&S<=0)&&(he?S=1-S:(S=-S,Me=R));let ot=String(S);for(;ot.length<X;)ot="0"+ot;return V&&(ot=ot.slice(ot.length-X)),Me+ot}function Rr(S,X,R=0,V=!1,he=!1){return function(Me,ot){let Ut=function Er(S,X){switch(S){case Fn.FullYear:return X.getFullYear();case Fn.Month:return X.getMonth();case Fn.Date:return X.getDate();case Fn.Hours:return X.getHours();case Fn.Minutes:return X.getMinutes();case Fn.Seconds:return X.getSeconds();case Fn.FractionalSeconds:return X.getMilliseconds();case Fn.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${S}".`)}}(S,Me);if((R>0||Ut>-R)&&(Ut+=R),S===Fn.Hours)0===Ut&&-12===R&&(Ut=12);else if(S===Fn.FractionalSeconds)return function gr(S,X){return Xr(S,3).substring(0,X)}(Ut,X);const nr=Et(ot,Nt.MinusSign);return Xr(Ut,X,nr,V,he)}}function er(S,X,R=Pn.Format,V=!1){return function(he,Me){return function ys(S,X,R,V,he,Me){switch(R){case Rn.Months:return ws(X,he,V)[S.getMonth()];case Rn.Days:return _r(X,he,V)[S.getDay()];case Rn.DayPeriods:const ot=S.getHours(),Ut=S.getMinutes();if(Me){const Qn=Gn(X),Yn=qn(X,he,V),En=Qn.findIndex($n=>{if(Array.isArray($n)){const[wr,vs]=$n,_s=ot>=wr.hours&&Ut>=wr.minutes,Vs=ot<vs.hours||ot===vs.hours&&Ut<vs.minutes;if(wr.hours<vs.hours){if(_s&&Vs)return!0}else if(_s||Vs)return!0}else if($n.hours===ot&&$n.minutes===Ut)return!0;return!1});if(-1!==En)return Yn[En]}return yr(X,he,V)[ot<12?0:1];case Rn.Eras:return dr(X,V)[S.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(he,Me,S,X,R,V)}}function fn(S){return function(X,R,V){const he=-1*V,Me=Et(R,Nt.MinusSign),ot=he>0?Math.floor(he/60):Math.ceil(he/60);switch(S){case rs.Short:return(he>=0?"+":"")+Xr(ot,2,Me)+Xr(Math.abs(he%60),2,Me);case rs.ShortGMT:return"GMT"+(he>=0?"+":"")+Xr(ot,1,Me);case rs.Long:return"GMT"+(he>=0?"+":"")+Xr(ot,2,Me)+":"+Xr(Math.abs(he%60),2,Me);case rs.Extended:return 0===V?"Z":(he>=0?"+":"")+Xr(ot,2,Me)+":"+Xr(Math.abs(he%60),2,Me);default:throw new Error(`Unknown zone width "${S}"`)}}}const Qs=0,sr=4;function fs(S){const X=S.getDay(),R=0===X?-3:sr-X;return Is(S.getFullYear(),S.getMonth(),S.getDate()+R)}function Xs(S,X=!1){return function(R,V){let he;if(X){const Me=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,ot=R.getDate();he=1+Math.floor((ot+Me)/7)}else{const Me=fs(R),ot=function vr(S){const X=Is(S,Qs,1).getDay();return Is(S,0,1+(X<=sr?sr:sr+7)-X)}(Me.getFullYear()),Ut=Me.getTime()-ot.getTime();he=1+Math.round(Ut/6048e5)}return Xr(he,S,Et(V,Nt.MinusSign))}}function ks(S,X=!1){return function(R,V){return Xr(fs(R).getFullYear(),S,Et(V,Nt.MinusSign),X)}}const ve={};function oe(S,X){S=S.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+S)/6e4;return isNaN(R)?X:R}function Tt(S){return S instanceof Date&&!isNaN(S.valueOf())}const pn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ln=22,Un=".",sn="0",Tr=";",Yr=",",Hr="#",Zr="\xa4",cn="%";function it(S,X,R,V,he,Me,ot=!1){let Ut="",nr=!1;if(isFinite(S)){let Qn=function mr(S){let V,he,Me,ot,Ut,X=Math.abs(S)+"",R=0;for((he=X.indexOf(Un))>-1&&(X=X.replace(Un,"")),(Me=X.search(/e/i))>0?(he<0&&(he=Me),he+=+X.slice(Me+1),X=X.substring(0,Me)):he<0&&(he=X.length),Me=0;X.charAt(Me)===sn;Me++);if(Me===(Ut=X.length))V=[0],he=1;else{for(Ut--;X.charAt(Ut)===sn;)Ut--;for(he-=Me,V=[],ot=0;Me<=Ut;Me++,ot++)V[ot]=Number(X.charAt(Me))}return he>ln&&(V=V.splice(0,ln-1),R=he-1,he=1),{digits:V,exponent:R,integerLen:he}}(S);ot&&(Qn=function Yt(S){if(0===S.digits[0])return S;const X=S.digits.length-S.integerLen;return S.exponent?S.exponent+=2:(0===X?S.digits.push(0,0):1===X&&S.digits.push(0),S.integerLen+=2),S}(Qn));let Yn=X.minInt,En=X.minFrac,$n=X.maxFrac;if(Me){const Mo=Me.match(pn);if(null===Mo)throw new Error(`${Me} is not a valid digit info`);const Wo=Mo[1],qi=Mo[3],Qe=Mo[5];null!=Wo&&(Yn=qr(Wo)),null!=qi&&(En=qr(qi)),null!=Qe?$n=qr(Qe):null!=qi&&En>$n&&($n=En)}!function xr(S,X,R){if(X>R)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${R}).`);let V=S.digits,he=V.length-S.integerLen;const Me=Math.min(Math.max(X,he),R);let ot=Me+S.integerLen,Ut=V[ot];if(ot>0){V.splice(Math.max(S.integerLen,ot));for(let En=ot;En<V.length;En++)V[En]=0}else{he=Math.max(0,he),S.integerLen=1,V.length=Math.max(1,ot=Me+1),V[0]=0;for(let En=1;En<ot;En++)V[En]=0}if(Ut>=5)if(ot-1<0){for(let En=0;En>ot;En--)V.unshift(0),S.integerLen++;V.unshift(1),S.integerLen++}else V[ot-1]++;for(;he<Math.max(0,Me);he++)V.push(0);let nr=0!==Me;const Qn=X+S.integerLen,Yn=V.reduceRight(function(En,$n,wr,vs){return vs[wr]=($n+=En)<10?$n:$n-10,nr&&(0===vs[wr]&&wr>=Qn?vs.pop():nr=!1),$n>=10?1:0},0);Yn&&(V.unshift(Yn),S.integerLen++)}(Qn,En,$n);let wr=Qn.digits,vs=Qn.integerLen;const _s=Qn.exponent;let Vs=[];for(nr=wr.every(Mo=>!Mo);vs<Yn;vs++)wr.unshift(0);for(;vs<0;vs++)wr.unshift(0);vs>0?Vs=wr.splice(vs,wr.length):(Vs=wr,wr=[0]);const $i=[];for(wr.length>=X.lgSize&&$i.unshift(wr.splice(-X.lgSize,wr.length).join(""));wr.length>X.gSize;)$i.unshift(wr.splice(-X.gSize,wr.length).join(""));wr.length&&$i.unshift(wr.join("")),Ut=$i.join(Et(R,V)),Vs.length&&(Ut+=Et(R,he)+Vs.join("")),_s&&(Ut+=Et(R,Nt.Exponential)+"+"+_s)}else Ut=Et(R,Nt.Infinity);return Ut=S<0&&!nr?X.negPre+Ut+X.negSuf:X.posPre+Ut+X.posSuf,Ut}function ze(S,X,R,V,he){const ot=dn(Zt(X,Gt.Currency),Et(X,Nt.MinusSign));return ot.minFrac=zr(V),ot.maxFrac=ot.minFrac,it(S,ot,X,Nt.CurrencyGroup,Nt.CurrencyDecimal,he).replace(Zr,R).replace(Zr,"").trim()}function St(S,X,R){return it(S,dn(Zt(X,Gt.Percent),Et(X,Nt.MinusSign)),X,Nt.Group,Nt.Decimal,R,!0).replace(new RegExp(cn,"g"),Et(X,Nt.PercentSign))}function qt(S,X,R){return it(S,dn(Zt(X,Gt.Decimal),Et(X,Nt.MinusSign)),X,Nt.Group,Nt.Decimal,R)}function dn(S,X="-"){const R={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},V=S.split(Tr),he=V[0],Me=V[1],ot=-1!==he.indexOf(Un)?he.split(Un):[he.substring(0,he.lastIndexOf(sn)+1),he.substring(he.lastIndexOf(sn)+1)],Ut=ot[0],nr=ot[1]||"";R.posPre=Ut.substring(0,Ut.indexOf(Hr));for(let Yn=0;Yn<nr.length;Yn++){const En=nr.charAt(Yn);En===sn?R.minFrac=R.maxFrac=Yn+1:En===Hr?R.maxFrac=Yn+1:R.posSuf+=En}const Qn=Ut.split(Yr);if(R.gSize=Qn[1]?Qn[1].length:0,R.lgSize=Qn[2]||Qn[1]?(Qn[2]||Qn[1]).length:0,Me){const Yn=he.length-R.posPre.length-R.posSuf.length,En=Me.indexOf(Hr);R.negPre=Me.substring(0,En).replace(/'/g,""),R.negSuf=Me.slice(En+Yn).replace(/'/g,"")}else R.negPre=X+R.posPre,R.negSuf=R.posSuf;return R}function qr(S){const X=parseInt(S);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+S);return X}let ss=(()=>{class S{static \u0275fac=function(V){return new(V||S)};static \u0275prov=v.jDH({token:S,factory:function(V){let he=null;return V?he=new V:(Me=v.KVO(v.xe9),he=new pi(Me)),he;var Me},providedIn:"root"})}return S})();function zi(S,X,R,V){let he=`=${S}`;if(X.indexOf(he)>-1||(he=R.getPluralCategory(S,V),X.indexOf(he)>-1))return he;if(X.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${S}"`)}let pi=(()=>{class S extends ss{locale;constructor(R){super(),this.locale=R}getPluralCategory(R,V){switch(yn(V||this.locale)(R)){case zt.Zero:return"zero";case zt.One:return"one";case zt.Two:return"two";case zt.Few:return"few";case zt.Many:return"many";default:return"other"}}static \u0275fac=function(V){return new(V||S)(v.KVO(v.xe9))};static \u0275prov=v.jDH({token:S,factory:S.\u0275fac})}return S})();function po(S,X,R){return(0,v.XSP)(S,X,R)}function ai(S,X){X=encodeURIComponent(X);for(const R of S.split(";")){const V=R.indexOf("="),[he,Me]=-1==V?[R,""]:[R.slice(0,V),R.slice(V+1)];if(he.trim()===X)return decodeURIComponent(Me)}return null}const Bn=/\s+/,ir=[];let ue=(()=>{class S{_ngEl;_renderer;initialClasses=ir;rawClass;stateMap=new Map;constructor(R,V){this._ngEl=R,this._renderer=V}set klass(R){this.initialClasses=null!=R?R.trim().split(Bn):ir}set ngClass(R){this.rawClass="string"==typeof R?R.trim().split(Bn):R}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const R=this.rawClass;if(Array.isArray(R)||R instanceof Set)for(const V of R)this._updateState(V,!0);else if(null!=R)for(const V of Object.keys(R))this._updateState(V,!!R[V]);this._applyStateDiff()}_updateState(R,V){const he=this.stateMap.get(R);void 0!==he?(he.enabled!==V&&(he.changed=!0,he.enabled=V),he.touched=!0):this.stateMap.set(R,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const R of this.stateMap){const V=R[0],he=R[1];he.changed?(this._toggleClass(V,he.enabled),he.changed=!1):he.touched||(he.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),he.touched=!1}}_toggleClass(R,V){(R=R.trim()).length>0&&R.split(Bn).forEach(he=>{V?this._renderer.addClass(this._ngEl.nativeElement,he):this._renderer.removeClass(this._ngEl.nativeElement,he)})}static \u0275fac=function(V){return new(V||S)(v.rXU(v.aKT),v.rXU(v.sFG))};static \u0275dir=v.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return S})(),de=(()=>{class S{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;constructor(R){this._viewContainerRef=R}_needToReCreateNgModuleInstance(R){return void 0!==R.ngComponentOutletNgModule||void 0!==R.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(R){return void 0!==R.ngComponentOutlet||void 0!==R.ngComponentOutletContent||void 0!==R.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(R)}ngOnChanges(R){if(this._needToReCreateComponentInstance(R)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const V=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(R)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,v.w6W)(this.ngComponentOutletNgModule,me(V)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(me(V)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:V,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const R of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(R,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(R){for(const[V,he]of this._inputsUsed)he?(R.setInput(V,this.ngComponentOutletInputs[V]),this._inputsUsed.set(V,!1)):(R.setInput(V,void 0),this._inputsUsed.delete(V))}static \u0275fac=function(V){return new(V||S)(v.rXU(v.c1b))};static \u0275dir=v.FsC({type:S,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[v.OA$]})}return S})();function me(S){return S.get(v.Vns).injector}class Ve{$implicit;ngForOf;index;count;constructor(X,R,V,he){this.$implicit=X,this.ngForOf=R,this.index=V,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class S{_viewContainer;_template;_differs;set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(R,V,he){this._viewContainer=R,this._template=V,this._differs=he}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const V=this._viewContainer;R.forEachOperation((he,Me,ot)=>{if(null==he.previousIndex)V.createEmbeddedView(this._template,new Ve(he.item,this._ngForOf,-1,-1),null===ot?void 0:ot);else if(null==ot)V.remove(null===Me?void 0:Me);else if(null!==Me){const Ut=V.get(Me);V.move(Ut,ot),yt(Ut,he)}});for(let he=0,Me=V.length;he<Me;he++){const Ut=V.get(he).context;Ut.index=he,Ut.count=Me,Ut.ngForOf=this._ngForOf}R.forEachIdentityChange(he=>{yt(V.get(he.currentIndex),he)})}static ngTemplateContextGuard(R,V){return!0}static \u0275fac=function(V){return new(V||S)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(v._q3))};static \u0275dir=v.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return S})();function yt(S,X){S.context.$implicit=X.item}let Sn=(()=>{class S{_viewContainer;_context=new un;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(R,V){this._viewContainer=R,this._thenTemplateRef=V}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Sr("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Sr("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(R,V){return!0}static \u0275fac=function(V){return new(V||S)(v.rXU(v.c1b),v.rXU(v.C4Q))};static \u0275dir=v.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return S})();class un{$implicit=null;ngIf=null}function Sr(S,X){if(X&&!X.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,v.Tbb)(X)}'.`)}class Ln{_viewContainerRef;_templateRef;_created=!1;constructor(X,R){this._viewContainerRef=X,this._templateRef=R}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let tn=(()=>{class S{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews.push(R)}_matchCase(R){const V=R===this._ngSwitch;return this._lastCasesMatched||=V,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),V}_updateDefaultCases(R){if(this._defaultViews.length>0&&R!==this._defaultUsed){this._defaultUsed=R;for(const V of this._defaultViews)V.enforceState(R)}}static \u0275fac=function(V){return new(V||S)};static \u0275dir=v.FsC({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return S})(),jn=(()=>{class S{ngSwitch;_view;ngSwitchCase;constructor(R,V,he){this.ngSwitch=he,he._addCase(),this._view=new Ln(R,V)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(V){return new(V||S)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(tn,9))};static \u0275dir=v.FsC({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return S})(),Or=(()=>{class S{constructor(R,V,he){he._addDefault(new Ln(R,V))}static \u0275fac=function(V){return new(V||S)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(tn,9))};static \u0275dir=v.FsC({type:S,selectors:[["","ngSwitchDefault",""]]})}return S})(),Dr=(()=>{class S{_localization;_activeView;_caseViews={};constructor(R){this._localization=R}set ngPlural(R){this._updateView(R)}addCase(R,V){this._caseViews[R]=V}_updateView(R){this._clearViews();const he=zi(R,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[he])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(R){R&&(this._activeView=R,this._activeView.create())}static \u0275fac=function(V){return new(V||S)(v.rXU(ss))};static \u0275dir=v.FsC({type:S,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}})}return S})(),os=(()=>{class S{value;constructor(R,V,he,Me){this.value=R;const ot=!isNaN(Number(R));Me.addCase(ot?`=${R}`:R,new Ln(he,V))}static \u0275fac=function(V){return new(V||S)(v.kS0("ngPluralCase"),v.rXU(v.C4Q),v.rXU(v.c1b),v.rXU(Dr,1))};static \u0275dir=v.FsC({type:S,selectors:[["","ngPluralCase",""]]})}return S})(),Us=(()=>{class S{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(R,V,he){this._ngEl=R,this._differs=V,this._renderer=he}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,V){const[he,Me]=R.split("."),ot=-1===he.indexOf("-")?void 0:v.czy.DashCase;null!=V?this._renderer.setStyle(this._ngEl.nativeElement,he,Me?`${V}${Me}`:V,ot):this._renderer.removeStyle(this._ngEl.nativeElement,he,ot)}_applyChanges(R){R.forEachRemovedItem(V=>this._setStyle(V.key,null)),R.forEachAddedItem(V=>this._setStyle(V.key,V.currentValue)),R.forEachChangedItem(V=>this._setStyle(V.key,V.currentValue))}static \u0275fac=function(V){return new(V||S)(v.rXU(v.aKT),v.rXU(v.MKu),v.rXU(v.sFG))};static \u0275dir=v.FsC({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return S})(),Pr=(()=>{class S{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(R){this._viewContainerRef=R}ngOnChanges(R){if(this._shouldRecreateView(R)){const V=this._viewContainerRef;if(this._viewRef&&V.remove(V.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const he=this._createContextForwardProxy();this._viewRef=V.createEmbeddedView(this.ngTemplateOutlet,he,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(R){return!!R.ngTemplateOutlet||!!R.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(R,V,he)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,V,he),get:(R,V,he)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,V,he)}})}static \u0275fac=function(V){return new(V||S)(v.rXU(v.c1b))};static \u0275dir=v.FsC({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[v.OA$]})}return S})();function Ke(S,X){return new v.wOt(2100,!1)}class Be{createSubscription(X,R){return(0,v.O8t)(()=>X.subscribe({next:R,error:V=>{throw V}}))}dispose(X){(0,v.O8t)(()=>X.unsubscribe())}}class nt{createSubscription(X,R){return X.then(R,V=>{throw V})}dispose(X){}}const Pt=new nt,Qt=new Be;let Mn=(()=>{class S{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(R){this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){if(!this._obj){if(R)try{this.markForCheckOnValueUpdate=!1,this._subscribe(R)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,V=>this._updateLatestValue(R,V))}_selectStrategy(R){if((0,v.jNT)(R))return Pt;if((0,v.zjR)(R))return Qt;throw Ke()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,V){R===this._obj&&(this._latestValue=V,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(V){return new(V||S)(v.rXU(v.gRc,16))};static \u0275pipe=v.EJ8({name:"async",type:S,pure:!1})}return S})(),br=(()=>{class S{transform(R){if(null==R)return null;if("string"!=typeof R)throw Ke();return R.toLowerCase()}static \u0275fac=function(V){return new(V||S)};static \u0275pipe=v.EJ8({name:"lowercase",type:S,pure:!0})}return S})();const hn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ps=(()=>{class S{transform(R){if(null==R)return null;if("string"!=typeof R)throw Ke();return R.replace(hn,V=>V[0].toUpperCase()+V.slice(1).toLowerCase())}static \u0275fac=function(V){return new(V||S)};static \u0275pipe=v.EJ8({name:"titlecase",type:S,pure:!0})}return S})(),on=(()=>{class S{transform(R){if(null==R)return null;if("string"!=typeof R)throw Ke();return R.toUpperCase()}static \u0275fac=function(V){return new(V||S)};static \u0275pipe=v.EJ8({name:"uppercase",type:S,pure:!0})}return S})();const Jo=new v.nKC(""),wi=new v.nKC("");let Ss=(()=>{class S{locale;defaultTimezone;defaultOptions;constructor(R,V,he){this.locale=R,this.defaultTimezone=V,this.defaultOptions=he}transform(R,V,he,Me){if(null==R||""===R||R!=R)return null;try{return pr(R,V??this.defaultOptions?.dateFormat??"mediumDate",Me||this.locale,he??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ot){throw Ke()}}static \u0275fac=function(V){return new(V||S)(v.rXU(v.xe9,16),v.rXU(Jo,24),v.rXU(wi,24))};static \u0275pipe=v.EJ8({name:"date",type:S,pure:!0})}return S})();const li=/#/g;let Bs=(()=>{class S{_localization;constructor(R){this._localization=R}transform(R,V,he){if(null==R)return"";if("object"!=typeof V||null===V)throw Ke();return V[zi(R,Object.keys(V),this._localization,he)].replace(li,R.toString())}static \u0275fac=function(V){return new(V||S)(v.rXU(ss,16))};static \u0275pipe=v.EJ8({name:"i18nPlural",type:S,pure:!0})}return S})(),Fi=(()=>{class S{transform(R,V){if(null==R)return"";if("object"!=typeof V||"string"!=typeof R)throw Ke();return V.hasOwnProperty(R)?V[R]:V.hasOwnProperty("other")?V.other:""}static \u0275fac=function(V){return new(V||S)};static \u0275pipe=v.EJ8({name:"i18nSelect",type:S,pure:!0})}return S})(),tr=(()=>{class S{transform(R){return JSON.stringify(R,null,2)}static \u0275fac=function(V){return new(V||S)};static \u0275pipe=v.EJ8({name:"json",type:S,pure:!1})}return S})(),ki=(()=>{class S{differs;constructor(R){this.differs=R}differ;keyValues=[];compareFn=Ni;transform(R,V=Ni){if(!R||!(R instanceof Map)&&"object"!=typeof R)return null;this.differ??=this.differs.find(R).create();const he=this.differ.diff(R),Me=V!==this.compareFn;return he&&(this.keyValues=[],he.forEachItem(ot=>{this.keyValues.push(function Ys(S,X){return{key:S,value:X}}(ot.key,ot.currentValue))})),(he||Me)&&(V&&this.keyValues.sort(V),this.compareFn=V),this.keyValues}static \u0275fac=function(V){return new(V||S)(v.rXU(v.MKu,16))};static \u0275pipe=v.EJ8({name:"keyvalue",type:S,pure:!1})}return S})();function Ni(S,X){const R=S.key,V=X.key;if(R===V)return 0;if(void 0===R)return 1;if(void 0===V)return-1;if(null===R)return 1;if(null===V)return-1;if("string"==typeof R&&"string"==typeof V)return R<V?-1:1;if("number"==typeof R&&"number"==typeof V)return R-V;if("boolean"==typeof R&&"boolean"==typeof V)return R<V?-1:1;const he=String(R),Me=String(V);return he==Me?0:he<Me?-1:1}let xo=(()=>{class S{_locale;constructor(R){this._locale=R}transform(R,V,he){if(!to(R))return null;he||=this._locale;try{return qt(gs(R),he,V)}catch(Me){throw Ke()}}static \u0275fac=function(V){return new(V||S)(v.rXU(v.xe9,16))};static \u0275pipe=v.EJ8({name:"number",type:S,pure:!0})}return S})(),Po=(()=>{class S{_locale;constructor(R){this._locale=R}transform(R,V,he){if(!to(R))return null;he||=this._locale;try{return St(gs(R),he,V)}catch(Me){throw Ke()}}static \u0275fac=function(V){return new(V||S)(v.rXU(v.xe9,16))};static \u0275pipe=v.EJ8({name:"percent",type:S,pure:!0})}return S})(),ni=(()=>{class S{_locale;_defaultCurrencyCode;constructor(R,V="USD"){this._locale=R,this._defaultCurrencyCode=V}transform(R,V=this._defaultCurrencyCode,he="symbol",Me,ot){if(!to(R))return null;ot||=this._locale,"boolean"==typeof he&&(he=he?"symbol":"code");let Ut=V||this._defaultCurrencyCode;"code"!==he&&(Ut="symbol"===he||"symbol-narrow"===he?oi(Ut,"symbol"===he?"wide":"narrow",ot):he);try{return ze(gs(R),ot,Ut,V,Me)}catch(nr){throw Ke()}}static \u0275fac=function(V){return new(V||S)(v.rXU(v.xe9,16),v.rXU(v.Ocv,16))};static \u0275pipe=v.EJ8({name:"currency",type:S,pure:!0})}return S})();function to(S){return!(null==S||""===S||S!=S)}function gs(S){if("string"==typeof S&&!isNaN(Number(S)-parseFloat(S)))return Number(S);if("number"!=typeof S)throw new Error(`${S} is not a number`);return S}let Ra=(()=>{class S{transform(R,V,he){if(null==R)return null;if(!this.supports(R))throw Ke();return R.slice(V,he)}supports(R){return"string"==typeof R||Array.isArray(R)}static \u0275fac=function(V){return new(V||S)};static \u0275pipe=v.EJ8({name:"slice",type:S,pure:!1})}return S})(),Qi=(()=>{class S{static \u0275fac=function(V){return new(V||S)};static \u0275mod=v.$C({type:S});static \u0275inj=v.G2t({})}return S})();const Fo="browser",wo="server";function Nr(S){return S===Fo}function go(S){return S===wo}const nl=new v.RxE("19.0.5");let ko=(()=>{class S{static \u0275prov=(0,v.jDH)({token:S,providedIn:"root",factory:()=>Nr((0,v.WQX)(v.Agw))?new no((0,v.WQX)(ie),window):new Zs})}return S})();class no{document;window;offset=()=>[0,0];constructor(X,R){this.document=X,this.window=R}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(X){this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){const R=function Da(S,X){const R=S.getElementById(X)||S.getElementsByName(X)[0];if(R)return R;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const V=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let he=V.currentNode;for(;he;){const Me=he.shadowRoot;if(Me){const ot=Me.getElementById(X)||Me.querySelector(`[name="${X}"]`);if(ot)return ot}he=V.nextNode()}}return null}(this.document,X);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(X){this.window.history.scrollRestoration=X}scrollToElement(X){const R=X.getBoundingClientRect(),V=R.left+this.window.pageXOffset,he=R.top+this.window.pageYOffset,Me=this.offset();this.window.scrollTo(V-Me[0],he-Me[1])}}class Zs{setOffset(X){}getScrollPosition(){return[0,0]}scrollToPosition(X){}scrollToAnchor(X){}setHistoryScrollRestoration(X){}}class ro{}const wn="20";function Br(S){return/^https?:\/\//.test(S)}function Fr(S){if("string"!=typeof S||""===S.trim())return!1;try{return new URL(S),!0}catch{return!1}}function Lo(S){return S.startsWith("/")?S.slice(1):S}const Ii=S=>S.src,Vo=new v.nKC("",{providedIn:"root",factory:()=>Ii});function ui(S,X){return function(V){return Fr(V)||function Uo(){throw new v.wOt(2959,!1)}(),V=function ci(S){return S.endsWith("/")?S.slice(0,-1):S}(V),[{provide:Vo,useValue:ot=>(Br(ot.src)&&function Os(){throw new v.wOt(2959,!1)}(),S(V,{...ot,src:Lo(ot.src)}))}]}}const Bo=ui(Xi);function Xi(S,X){let R="format=auto";return X.width&&(R+=`,width=${X.width}`),X.isPlaceholder&&(R+=`,quality=${wn}`),`${S}/cdn-cgi/image/${R}/${X.src}`}const Mr=ui(Ti);function Ti(S,X){let V="f_auto,"+(X.isPlaceholder?"q_auto:low":"q_auto");return X.width&&(V+=`,w_${X.width}`),X.loaderParams?.rounded&&(V+=",r_max"),`${S}/image/upload/${V}/${X.src}`}const js=ui(zn);function zn(S,X){const{src:R,width:V}=X,he=[];V&&he.push(`w-${V}`),X.isPlaceholder&&he.push(`q-${wn}`);const Me=he.length?[S,`tr:${he.join(",")}`,R]:[S,R];return new URL(Me.join("/")).href}const Ui=ui(rl);function rl(S,X){const R=new URL(`${S}/${X.src}`);return R.searchParams.set("auto","format"),X.width&&R.searchParams.set("w",X.width.toString()),X.isPlaceholder&&R.searchParams.set("q",wn),R.href}function To(S){if(S&&!Fr(S))throw new v.wOt(2959,!1);return S&&(S=new URL(S).origin),[{provide:Vo,useValue:V=>function K(S,X){const R=new URL(X??"https://a/");R.pathname="/.netlify/images",!Br(S.src)&&!S.src.startsWith("/")&&(S.src="/"+S.src),R.searchParams.set("url",S.src),S.width&&R.searchParams.set("w",S.width.toString());S.isPlaceholder&&!(S.loaderParams?.quality??S.loaderParams?.q)&&R.searchParams.set("q",wn);for(const[he,Me]of Object.entries(S.loaderParams??{}))H.has(he)&&R.searchParams.set(H.get(he),Me.toString());return"a"===R.hostname?R.href.replace(R.origin,""):R.href}(V,S)}]}const H=new Map([["height","h"],["fit","fit"],["quality","q"],["q","q"],["position","position"]]),io=new v.nKC(""),So=new v.nKC("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let ri=(()=>{class S{preloadedImages=(0,v.WQX)(So);document=(0,v.WQX)(ie);createPreloadLinkTag(R,V,he,Me){if(this.preloadedImages.has(V))return;this.preloadedImages.add(V);const ot=R.createElement("link");R.setAttribute(ot,"as","image"),R.setAttribute(ot,"href",V),R.setAttribute(ot,"rel","preload"),R.setAttribute(ot,"fetchpriority","high"),Me&&R.setAttribute(ot,"imageSizes",Me),he&&R.setAttribute(ot,"imageSrcset",he),R.appendChild(this.document.head,ot)}static \u0275fac=function(V){return new(V||S)};static \u0275prov=v.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const xa=/^((\s*\d+w\s*(,|$)){1,})$/,wa=[1,2];let Ws=(()=>{class S{imageLoader=(0,v.WQX)(Vo);config=function Wr(S){let X={};return S.breakpoints&&(X.breakpoints=S.breakpoints.sort((R,V)=>R-V)),Object.assign({},v.PUk,S,X)}((0,v.WQX)(v.GGh));renderer=(0,v.WQX)(v.sFG);imgElement=(0,v.WQX)(v.aKT).nativeElement;injector=(0,v.WQX)(v.zZn);isServer=go((0,v.WQX)(v.Agw));preloadLinkCreator=(0,v.WQX)(ri);lcpObserver=null;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;ngOnInit(){(0,v.ngT)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const R=this.updateSrcAndSrcset();this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&xa.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw"),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),R,this.sizes)}ngOnChanges(R){if(R.ngSrc&&!R.ngSrc.isFirstChange()){const V=this._renderedSrc;this.updateSrcAndSrcset(!0);const he=this._renderedSrc;null!==this.lcpObserver&&V&&he&&V!==he&&this.injector.get(v.SKi).runOutsideAngular(()=>{this.lcpObserver?.updateImage(V,he)})}}callImageLoader(R){let V=R;return this.loaderParams&&(V.loaderParams=this.loaderParams),this.imageLoader(V)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const R=xa.test(this.ngSrcset);return this.ngSrcset.split(",").filter(he=>""!==he).map(he=>{he=he.trim();const Me=R?parseFloat(he):parseFloat(he)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Me})} ${he}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:R}=this.config;let V=R;return"100vw"===this.sizes?.trim()&&(V=R.filter(Me=>Me>=640)),V.map(Me=>`${this.callImageLoader({src:this.ngSrc,width:Me})} ${Me}w`).join(", ")}updateSrcAndSrcset(R=!1){R&&(this._renderedSrc=null);const V=this.getRewrittenSrc();let he;return this.setHostAttribute("src",V),this.ngSrcset?he=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(he=this.getAutomaticSrcset()),he&&this.setHostAttribute("srcset",he),he}getFixedSrcset(){return wa.map(V=>`${this.callImageLoader({src:this.ngSrc,width:this.width*V})} ${V}x`).join(", ")}shouldGenerateAutomaticSrcset(){let R=!1;return this.sizes||(R=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Ii&&!R}generatePlaceholder(R){const{placeholderResolution:V}=this.config;return!0===R?`url(${this.callImageLoader({src:this.ngSrc,width:V,isPlaceholder:!0})})`:"string"==typeof R?`url(${R})`:null}shouldBlurPlaceholder(R){return!R||!R.hasOwnProperty("blur")||!!R.blur}removePlaceholderOnLoad(R){const V=()=>{const ot=this.injector.get(v.gRc);he(),Me(),this.placeholder=!1,ot.markForCheck()},he=this.renderer.listen(R,"load",V),Me=this.renderer.listen(R,"error",V);!function _n(S,X){S.complete&&S.naturalWidth&&X()}(R,V)}ngOnDestroy(){}setHostAttribute(R,V){this.renderer.setAttribute(this.imgElement,R,V)}static \u0275fac=function(V){return new(V||S)};static \u0275dir=v.FsC({type:S,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(V,he){2&V&&v.xc7("position",he.fill?"absolute":null)("width",he.fill?"100%":null)("height",he.fill?"100%":null)("inset",he.fill?"0":null)("background-size",he.placeholder?"cover":null)("background-position",he.placeholder?"50% 50%":null)("background-repeat",he.placeholder?"no-repeat":null)("background-image",he.placeholder?he.generatePlaceholder(he.placeholder):null)("filter",he.placeholder&&he.shouldBlurPlaceholder(he.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",il],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",v.Udg],height:[2,"height","height",v.Udg],loading:"loading",priority:[2,"priority","priority",v.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",v.L39],fill:[2,"fill","fill",v.L39],placeholder:[2,"placeholder","placeholder",es],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[v.GFd,v.OA$]})}return S})();function il(S){return"string"==typeof S?S:(0,v.rcV)(S)}function es(S){return"string"==typeof S&&"true"!==S&&"false"!==S&&""!==S?S:(0,v.L39)(S)}},1626:(ut,ye,D)=>{D.d(ye,{Lr:()=>Le,Nl:()=>je,Qq:()=>st,a7:()=>Gn,cS:()=>yr,q1:()=>Tr,uA:()=>Yr,yz:()=>_r});var _=D(467),v=D(4438),ce=D(7673),U=D(1985),W=D(2806),q=D(274),Q=D(5964),z=D(6354),ie=D(980),ee=D(5558),ne=D(177);class Te{}class Fe{}class Le{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(de){de?"string"==typeof de?this.lazyInit=()=>{this.headers=new Map,de.split("\n").forEach(me=>{const Ve=me.indexOf(":");if(Ve>0){const ft=me.slice(0,Ve),yt=me.slice(Ve+1).trim();this.addHeaderEntry(ft,yt)}})}:typeof Headers<"u"&&de instanceof Headers?(this.headers=new Map,de.forEach((me,Ve)=>{this.addHeaderEntry(Ve,me)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(de).forEach(([me,Ve])=>{this.setHeaderEntries(me,Ve)})}:this.headers=new Map}has(de){return this.init(),this.headers.has(de.toLowerCase())}get(de){this.init();const me=this.headers.get(de.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(de){return this.init(),this.headers.get(de.toLowerCase())||null}append(de,me){return this.clone({name:de,value:me,op:"a"})}set(de,me){return this.clone({name:de,value:me,op:"s"})}delete(de,me){return this.clone({name:de,value:me,op:"d"})}maybeSetNormalizedName(de,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,de)}init(){this.lazyInit&&(this.lazyInit instanceof Le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(de=>this.applyUpdate(de)),this.lazyUpdate=null))}copyFrom(de){de.init(),Array.from(de.headers.keys()).forEach(me=>{this.headers.set(me,de.headers.get(me)),this.normalizedNames.set(me,de.normalizedNames.get(me))})}clone(de){const me=new Le;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof Le?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([de]),me}applyUpdate(de){const me=de.name.toLowerCase();switch(de.op){case"a":case"s":let Ve=de.value;if("string"==typeof Ve&&(Ve=[Ve]),0===Ve.length)return;this.maybeSetNormalizedName(de.name,me);const ft=("a"===de.op?this.headers.get(me):void 0)||[];ft.push(...Ve),this.headers.set(me,ft);break;case"d":const yt=de.value;if(yt){let Vt=this.headers.get(me);if(!Vt)return;Vt=Vt.filter(Sn=>-1===yt.indexOf(Sn)),0===Vt.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,Vt)}else this.headers.delete(me),this.normalizedNames.delete(me)}}addHeaderEntry(de,me){const Ve=de.toLowerCase();this.maybeSetNormalizedName(de,Ve),this.headers.has(Ve)?this.headers.get(Ve).push(me):this.headers.set(Ve,[me])}setHeaderEntries(de,me){const Ve=(Array.isArray(me)?me:[me]).map(yt=>yt.toString()),ft=de.toLowerCase();this.headers.set(ft,Ve),this.maybeSetNormalizedName(de,ft)}forEach(de){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>de(this.normalizedNames.get(me),this.headers.get(me)))}}class xe{encodeKey(de){return Rt(de)}encodeValue(de){return Rt(de)}decodeKey(de){return decodeURIComponent(de)}decodeValue(de){return decodeURIComponent(de)}}const Ge=/%(\d[a-f0-9])/gi,ht={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rt(ue){return encodeURIComponent(ue).replace(Ge,(de,me)=>ht[me]??de)}function Je(ue){return`${ue}`}class je{map;encoder;updates=null;cloneFrom=null;constructor(de={}){if(this.encoder=de.encoder||new xe,de.fromString){if(de.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ze(ue,de){const me=new Map;return ue.length>0&&ue.replace(/^\?/,"").split("&").forEach(ft=>{const yt=ft.indexOf("="),[Vt,Sn]=-1==yt?[de.decodeKey(ft),""]:[de.decodeKey(ft.slice(0,yt)),de.decodeValue(ft.slice(yt+1))],un=me.get(Vt)||[];un.push(Sn),me.set(Vt,un)}),me}(de.fromString,this.encoder)}else de.fromObject?(this.map=new Map,Object.keys(de.fromObject).forEach(me=>{const Ve=de.fromObject[me],ft=Array.isArray(Ve)?Ve.map(Je):[Je(Ve)];this.map.set(me,ft)})):this.map=null}has(de){return this.init(),this.map.has(de)}get(de){this.init();const me=this.map.get(de);return me?me[0]:null}getAll(de){return this.init(),this.map.get(de)||null}keys(){return this.init(),Array.from(this.map.keys())}append(de,me){return this.clone({param:de,value:me,op:"a"})}appendAll(de){const me=[];return Object.keys(de).forEach(Ve=>{const ft=de[Ve];Array.isArray(ft)?ft.forEach(yt=>{me.push({param:Ve,value:yt,op:"a"})}):me.push({param:Ve,value:ft,op:"a"})}),this.clone(me)}set(de,me){return this.clone({param:de,value:me,op:"s"})}delete(de,me){return this.clone({param:de,value:me,op:"d"})}toString(){return this.init(),this.keys().map(de=>{const me=this.encoder.encodeKey(de);return this.map.get(de).map(Ve=>me+"="+this.encoder.encodeValue(Ve)).join("&")}).filter(de=>""!==de).join("&")}clone(de){const me=new je({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(de),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(de=>this.map.set(de,this.cloneFrom.map.get(de))),this.updates.forEach(de=>{switch(de.op){case"a":case"s":const me=("a"===de.op?this.map.get(de.param):void 0)||[];me.push(Je(de.value)),this.map.set(de.param,me);break;case"d":if(void 0===de.value){this.map.delete(de.param);break}{let Ve=this.map.get(de.param)||[];const ft=Ve.indexOf(Je(de.value));-1!==ft&&Ve.splice(ft,1),Ve.length>0?this.map.set(de.param,Ve):this.map.delete(de.param)}}}),this.cloneFrom=this.updates=null)}}class Ot{map=new Map;set(de,me){return this.map.set(de,me),this}get(de){return this.map.has(de)||this.map.set(de,de.defaultValue()),this.map.get(de)}delete(de){return this.map.delete(de),this}has(de){return this.map.has(de)}keys(){return this.map.keys()}}function Gt(ue){return typeof ArrayBuffer<"u"&&ue instanceof ArrayBuffer}function zt(ue){return typeof Blob<"u"&&ue instanceof Blob}function Pn(ue){return typeof FormData<"u"&&ue instanceof FormData}class tt{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(de,me,Ve,ft){let yt;if(this.url=me,this.method=de.toUpperCase(),function Kt(ue){switch(ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==Ve?Ve:null,yt=ft):yt=Ve,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params),this.transferCache=yt.transferCache),this.headers??=new Le,this.context??=new Ot,this.params){const Vt=this.params.toString();if(0===Vt.length)this.urlWithParams=me;else{const Sn=me.indexOf("?");this.urlWithParams=me+(-1===Sn?"?":Sn<me.length-1?"&":"")+Vt}}else this.params=new je,this.urlWithParams=me}serializeBody(){return null===this.body?null:"string"==typeof this.body||Gt(this.body)||zt(this.body)||Pn(this.body)||function pt(ue){return typeof URLSearchParams<"u"&&ue instanceof URLSearchParams}(this.body)?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pn(this.body)?null:zt(this.body)?this.body.type||null:Gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(de={}){const me=de.method||this.method,Ve=de.url||this.url,ft=de.responseType||this.responseType,yt=de.transferCache??this.transferCache,Vt=void 0!==de.body?de.body:this.body,Sn=de.withCredentials??this.withCredentials,un=de.reportProgress??this.reportProgress;let Sr=de.headers||this.headers,Ln=de.params||this.params;const tn=de.context??this.context;return void 0!==de.setHeaders&&(Sr=Object.keys(de.setHeaders).reduce((jn,Or)=>jn.set(Or,de.setHeaders[Or]),Sr)),de.setParams&&(Ln=Object.keys(de.setParams).reduce((jn,Or)=>jn.set(Or,de.setParams[Or]),Ln)),new tt(me,Ve,Vt,{params:Ln,headers:Sr,context:tn,reportProgress:un,responseType:ft,withCredentials:Sn,transferCache:yt})}}var Nt=function(ue){return ue[ue.Sent=0]="Sent",ue[ue.UploadProgress=1]="UploadProgress",ue[ue.ResponseHeader=2]="ResponseHeader",ue[ue.DownloadProgress=3]="DownloadProgress",ue[ue.Response=4]="Response",ue[ue.User=5]="User",ue}(Nt||{});class Dn{headers;status;statusText;url;ok;type;constructor(de,me=200,Ve="OK"){this.headers=de.headers||new Le,this.status=void 0!==de.status?de.status:me,this.statusText=de.statusText||Ve,this.url=de.url||null,this.ok=this.status>=200&&this.status<300}}class kn extends Dn{constructor(de={}){super(de)}type=Nt.ResponseHeader;clone(de={}){return new kn({headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class yr extends Dn{body;constructor(de={}){super(de),this.body=void 0!==de.body?de.body:null}type=Nt.Response;clone(de={}){return new yr({body:void 0!==de.body?de.body:this.body,headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class _r extends Dn{name="HttpErrorResponse";message;error;ok=!1;constructor(de){super(de,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${de.url||"(unknown url)"}`:`Http failure response for ${de.url||"(unknown url)"}: ${de.status} ${de.statusText}`,this.error=de.error||null}}function Ue(ue,de){return{body:de,headers:ue.headers,context:ue.context,observe:ue.observe,params:ue.params,reportProgress:ue.reportProgress,responseType:ue.responseType,withCredentials:ue.withCredentials,transferCache:ue.transferCache}}let st=(()=>{class ue{handler;constructor(me){this.handler=me}request(me,Ve,ft={}){let yt;if(me instanceof tt)yt=me;else{let un,Sr;un=ft.headers instanceof Le?ft.headers:new Le(ft.headers),ft.params&&(Sr=ft.params instanceof je?ft.params:new je({fromObject:ft.params})),yt=new tt(me,Ve,void 0!==ft.body?ft.body:null,{headers:un,context:ft.context,params:Sr,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials,transferCache:ft.transferCache})}const Vt=(0,ce.of)(yt).pipe((0,q.H)(un=>this.handler.handle(un)));if(me instanceof tt||"events"===ft.observe)return Vt;const Sn=Vt.pipe((0,Q.p)(un=>un instanceof yr));switch(ft.observe||"body"){case"body":switch(yt.responseType){case"arraybuffer":return Sn.pipe((0,z.T)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return Sn.pipe((0,z.T)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return Sn.pipe((0,z.T)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return Sn.pipe((0,z.T)(un=>un.body))}case"response":return Sn;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(me,Ve={}){return this.request("DELETE",me,Ve)}get(me,Ve={}){return this.request("GET",me,Ve)}head(me,Ve={}){return this.request("HEAD",me,Ve)}jsonp(me,Ve){return this.request("JSONP",me,{params:(new je).append(Ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,Ve={}){return this.request("OPTIONS",me,Ve)}patch(me,Ve,ft={}){return this.request("PATCH",me,Ue(ft,Ve))}post(me,Ve,ft={}){return this.request("POST",me,Ue(ft,Ve))}put(me,Ve,ft={}){return this.request("PUT",me,Ue(ft,Ve))}static \u0275fac=function(Ve){return new(Ve||ue)(v.KVO(Te))};static \u0275prov=v.jDH({token:ue,factory:ue.\u0275fac})}return ue})();const at=/^\)\]\}',?\n/;function Et(ue){if(ue.url)return ue.url;const de="X-Request-URL".toLocaleLowerCase();return ue.headers.get(de)}let Zt=(()=>{class ue{fetchImpl=(0,v.WQX)(mn,{optional:!0})?.fetch??((...me)=>globalThis.fetch(...me));ngZone=(0,v.WQX)(v.SKi);handle(me){return new U.c(Ve=>{const ft=new AbortController;return this.doRequest(me,ft.signal,Ve).then(hr,yt=>Ve.error(new _r({error:yt}))),()=>ft.abort()})}doRequest(me,Ve,ft){var yt=this;return(0,_.A)(function*(){const Vt=yt.createRequestInit(me);let Sn;try{const is=yt.ngZone.runOutsideAngular(()=>yt.fetchImpl(me.urlWithParams,{signal:Ve,...Vt}));(function Cn(ue){ue.then(hr,hr)})(is),ft.next({type:Nt.Sent}),Sn=yield is}catch(is){return void ft.error(new _r({error:is,status:is.status??0,statusText:is.statusText,url:me.urlWithParams,headers:is.headers}))}const un=new Le(Sn.headers),Sr=Sn.statusText,Ln=Et(Sn)??me.urlWithParams;let tn=Sn.status,jn=null;if(me.reportProgress&&ft.next(new kn({headers:un,status:tn,statusText:Sr,url:Ln})),Sn.body){const is=Sn.headers.get("content-length"),bn=[],Dr=Sn.body.getReader();let Us,Pr,os=0;const pe=typeof Zone<"u"&&Zone.current;yield yt.ngZone.runOutsideAngular((0,_.A)(function*(){for(;;){const{done:Be,value:nt}=yield Dr.read();if(Be)break;if(bn.push(nt),os+=nt.length,me.reportProgress){Pr="text"===me.responseType?(Pr??"")+(Us??=new TextDecoder).decode(nt,{stream:!0}):void 0;const Pt=()=>ft.next({type:Nt.DownloadProgress,total:is?+is:void 0,loaded:os,partialText:Pr});pe?pe.run(Pt):Pt()}}}));const Ke=yt.concatChunks(bn,os);try{const Be=Sn.headers.get("Content-Type")??"";jn=yt.parseBody(me,Ke,Be)}catch(Be){return void ft.error(new _r({error:Be,headers:new Le(Sn.headers),status:Sn.status,statusText:Sn.statusText,url:Et(Sn)??me.urlWithParams}))}}0===tn&&(tn=jn?200:0),tn>=200&&tn<300?(ft.next(new yr({body:jn,headers:un,status:tn,statusText:Sr,url:Ln})),ft.complete()):ft.error(new _r({error:jn,headers:un,status:tn,statusText:Sr,url:Ln}))})()}parseBody(me,Ve,ft){switch(me.responseType){case"json":const yt=(new TextDecoder).decode(Ve).replace(at,"");return""===yt?null:JSON.parse(yt);case"text":return(new TextDecoder).decode(Ve);case"blob":return new Blob([Ve],{type:ft});case"arraybuffer":return Ve.buffer}}createRequestInit(me){const Ve={},ft=me.withCredentials?"include":void 0;if(me.headers.forEach((yt,Vt)=>Ve[yt]=Vt.join(",")),me.headers.has("Accept")||(Ve.Accept="application/json, text/plain, */*"),!me.headers.has("Content-Type")){const yt=me.detectContentTypeHeader();null!==yt&&(Ve["Content-Type"]=yt)}return{body:me.serializeBody(),method:me.method,headers:Ve,credentials:ft}}concatChunks(me,Ve){const ft=new Uint8Array(Ve);let yt=0;for(const Vt of me)ft.set(Vt,yt),yt+=Vt.length;return ft}static \u0275fac=function(Ve){return new(Ve||ue)};static \u0275prov=v.jDH({token:ue,factory:ue.\u0275fac})}return ue})();class mn{}function hr(){}function Kn(ue,de){return de(ue)}function yn(ue,de){return(me,Ve)=>de.intercept(me,{handle:ft=>ue(ft,Ve)})}const Gn=new v.nKC(""),qn=new v.nKC(""),ns=new v.nKC(""),Jn=new v.nKC("",{providedIn:"root",factory:()=>!0});function Es(){let ue=null;return(de,me)=>{null===ue&&(ue=((0,v.WQX)(Gn,{optional:!0})??[]).reduceRight(yn,Kn));const Ve=(0,v.WQX)(v.Ua0);if((0,v.WQX)(Jn)){const yt=Ve.add();return ue(de,me).pipe((0,ie.j)(()=>Ve.remove(yt)))}return ue(de,me)}}let Nn,zr=(()=>{class ue extends Te{backend;injector;chain=null;pendingTasks=(0,v.WQX)(v.Ua0);contributeToStability=(0,v.WQX)(Jn);constructor(me,Ve){super(),this.backend=me,this.injector=Ve}handle(me){if(null===this.chain){const Ve=Array.from(new Set([...this.injector.get(qn),...this.injector.get(ns,[])]));this.chain=Ve.reduceRight((ft,yt)=>function Gr(ue,de,me){return(Ve,ft)=>(0,v.N4e)(me,()=>de(Ve,yt=>ue(yt,ft)))}(ft,yt,this.injector),Kn)}if(this.contributeToStability){const Ve=this.pendingTasks.add();return this.chain(me,ft=>this.backend.handle(ft)).pipe((0,ie.j)(()=>this.pendingTasks.remove(Ve)))}return this.chain(me,Ve=>this.backend.handle(Ve))}static \u0275fac=function(Ve){return new(Ve||ue)(v.KVO(Fe),v.KVO(v.uvJ))};static \u0275prov=v.jDH({token:ue,factory:ue.\u0275fac})}return ue})(),Qr=0;class pr{}function Is(){return"object"==typeof window?window:{}}let Ur=(()=>{class ue{callbackMap;document;resolvedPromise=Promise.resolve();constructor(me,Ve){this.callbackMap=me,this.document=Ve}nextCallback(){return"ng_jsonp_callback_"+Qr++}handle(me){if("JSONP"!==me.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==me.responseType)throw new Error("JSONP requests must use Json response type.");if(me.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new U.c(Ve=>{const ft=this.nextCallback(),yt=me.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${ft}$1`),Vt=this.document.createElement("script");Vt.src=yt;let Sn=null,un=!1;this.callbackMap[ft]=jn=>{delete this.callbackMap[ft],Sn=jn,un=!0};const Sr=()=>{Vt.removeEventListener("load",Ln),Vt.removeEventListener("error",tn),Vt.remove(),delete this.callbackMap[ft]},Ln=jn=>{this.resolvedPromise.then(()=>{Sr(),un?(Ve.next(new yr({body:Sn,status:200,statusText:"OK",url:yt})),Ve.complete()):Ve.error(new _r({url:yt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},tn=jn=>{Sr(),Ve.error(new _r({error:jn,status:0,statusText:"JSONP Error",url:yt}))};return Vt.addEventListener("load",Ln),Vt.addEventListener("error",tn),this.document.body.appendChild(Vt),Ve.next({type:Nt.Sent}),()=>{un||this.removeListeners(Vt),Sr()}})}removeListeners(me){Nn??=this.document.implementation.createHTMLDocument(),Nn.adoptNode(me)}static \u0275fac=function(Ve){return new(Ve||ue)(v.KVO(pr),v.KVO(ne.DOCUMENT))};static \u0275prov=v.jDH({token:ue,factory:ue.\u0275fac})}return ue})();function Ts(ue,de){return"JSONP"===ue.method?(0,v.WQX)(Ur).handle(ue):de(ue)}const gr=/^\)\]\}',?\n/;let Er=(()=>{class ue{xhrFactory;constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new v.wOt(-2800,!1);const Ve=this.xhrFactory;return(Ve.\u0275loadImpl?(0,W.H)(Ve.\u0275loadImpl()):(0,ce.of)(null)).pipe((0,ee.n)(()=>new U.c(yt=>{const Vt=Ve.build();if(Vt.open(me.method,me.urlWithParams),me.withCredentials&&(Vt.withCredentials=!0),me.headers.forEach((bn,Dr)=>Vt.setRequestHeader(bn,Dr.join(","))),me.headers.has("Accept")||Vt.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const bn=me.detectContentTypeHeader();null!==bn&&Vt.setRequestHeader("Content-Type",bn)}if(me.responseType){const bn=me.responseType.toLowerCase();Vt.responseType="json"!==bn?bn:"text"}const Sn=me.serializeBody();let un=null;const Sr=()=>{if(null!==un)return un;const bn=Vt.statusText||"OK",Dr=new Le(Vt.getAllResponseHeaders()),os=function Rr(ue){return"responseURL"in ue&&ue.responseURL?ue.responseURL:/^X-Request-URL:/m.test(ue.getAllResponseHeaders())?ue.getResponseHeader("X-Request-URL"):null}(Vt)||me.url;return un=new kn({headers:Dr,status:Vt.status,statusText:bn,url:os}),un},Ln=()=>{let{headers:bn,status:Dr,statusText:os,url:Us}=Sr(),Pr=null;204!==Dr&&(Pr=typeof Vt.response>"u"?Vt.responseText:Vt.response),0===Dr&&(Dr=Pr?200:0);let pe=Dr>=200&&Dr<300;if("json"===me.responseType&&"string"==typeof Pr){const Ke=Pr;Pr=Pr.replace(gr,"");try{Pr=""!==Pr?JSON.parse(Pr):null}catch(Be){Pr=Ke,pe&&(pe=!1,Pr={error:Be,text:Pr})}}pe?(yt.next(new yr({body:Pr,headers:bn,status:Dr,statusText:os,url:Us||void 0})),yt.complete()):yt.error(new _r({error:Pr,headers:bn,status:Dr,statusText:os,url:Us||void 0}))},tn=bn=>{const{url:Dr}=Sr(),os=new _r({error:bn,status:Vt.status||0,statusText:Vt.statusText||"Unknown Error",url:Dr||void 0});yt.error(os)};let jn=!1;const Or=bn=>{jn||(yt.next(Sr()),jn=!0);let Dr={type:Nt.DownloadProgress,loaded:bn.loaded};bn.lengthComputable&&(Dr.total=bn.total),"text"===me.responseType&&Vt.responseText&&(Dr.partialText=Vt.responseText),yt.next(Dr)},is=bn=>{let Dr={type:Nt.UploadProgress,loaded:bn.loaded};bn.lengthComputable&&(Dr.total=bn.total),yt.next(Dr)};return Vt.addEventListener("load",Ln),Vt.addEventListener("error",tn),Vt.addEventListener("timeout",tn),Vt.addEventListener("abort",tn),me.reportProgress&&(Vt.addEventListener("progress",Or),null!==Sn&&Vt.upload&&Vt.upload.addEventListener("progress",is)),Vt.send(Sn),yt.next({type:Nt.Sent}),()=>{Vt.removeEventListener("error",tn),Vt.removeEventListener("abort",tn),Vt.removeEventListener("load",Ln),Vt.removeEventListener("timeout",tn),me.reportProgress&&(Vt.removeEventListener("progress",Or),null!==Sn&&Vt.upload&&Vt.upload.removeEventListener("progress",is)),Vt.readyState!==Vt.DONE&&Vt.abort()}})))}static \u0275fac=function(Ve){return new(Ve||ue)(v.KVO(ne.XhrFactory))};static \u0275prov=v.jDH({token:ue,factory:ue.\u0275fac})}return ue})();const er=new v.nKC(""),fn=new v.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sr=new v.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vr{}let fs=(()=>{class ue{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(me,Ve,ft){this.doc=me,this.platform=Ve,this.cookieName=ft}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne.\u0275parseCookieValue)(me,this.cookieName),this.lastCookieString=me),this.lastToken}static \u0275fac=function(Ve){return new(Ve||ue)(v.KVO(ne.DOCUMENT),v.KVO(v.Agw),v.KVO(fn))};static \u0275prov=v.jDH({token:ue,factory:ue.\u0275fac})}return ue})();function Xs(ue,de){const me=ue.url.toLowerCase();if(!(0,v.WQX)(er)||"GET"===ue.method||"HEAD"===ue.method||me.startsWith("http://")||me.startsWith("https://"))return de(ue);const Ve=(0,v.WQX)(vr).getToken(),ft=(0,v.WQX)(sr);return null!=Ve&&!ue.headers.has(ft)&&(ue=ue.clone({headers:ue.headers.set(ft,Ve)})),de(ue)}var ve=function(ue){return ue[ue.Interceptors=0]="Interceptors",ue[ue.LegacyInterceptors=1]="LegacyInterceptors",ue[ue.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ue[ue.NoXsrfProtection=3]="NoXsrfProtection",ue[ue.JsonpSupport=4]="JsonpSupport",ue[ue.RequestsMadeViaParent=5]="RequestsMadeViaParent",ue[ue.Fetch=6]="Fetch",ue}(ve||{});function Se(ue,de){return{\u0275kind:ue,\u0275providers:de}}function oe(...ue){const de=[st,Er,zr,{provide:Te,useExisting:zr},{provide:Fe,useFactory:()=>(0,v.WQX)(Zt,{optional:!0})??(0,v.WQX)(Er)},{provide:qn,useValue:Xs,multi:!0},{provide:er,useValue:!0},{provide:vr,useClass:fs}];for(const me of ue)de.push(...me.\u0275providers);return(0,v.EmA)(de)}const J=new v.nKC("");function we(){return Se(ve.LegacyInterceptors,[{provide:J,useFactory:Es},{provide:qn,useExisting:J,multi:!0}])}function pn(){return Se(ve.JsonpSupport,[Ur,{provide:pr,useFactory:Is},{provide:qn,useValue:Ts,multi:!0}])}let Tr=(()=>{class ue{static \u0275fac=function(Ve){return new(Ve||ue)};static \u0275mod=v.$C({type:ue});static \u0275inj=v.G2t({providers:[oe(we())]})}return ue})(),Yr=(()=>{class ue{static \u0275fac=function(Ve){return new(Ve||ue)};static \u0275mod=v.$C({type:ue});static \u0275inj=v.G2t({providers:[pn().\u0275providers]})}return ue})()},4438:(ut,ye,D)=>{D.d(ye,{bc$:()=>Dh,iLQ:()=>Vm,sZ2:()=>Eh,hnV:()=>GE,Hbi:()=>Yx,o8S:()=>rc,BIS:()=>dy,gRc:()=>cS,Ql9:()=>yx,OM3:()=>Om,Ocv:()=>Ix,abz:()=>en,Z63:()=>Ti,aKT:()=>Yl,uvJ:()=>ri,zcH:()=>Ar,bkB:()=>us,y_5:()=>ko,$GK:()=>hn,nKC:()=>de,zZn:()=>Pe,_q3:()=>G0,MKu:()=>z0,xe9:()=>B0,Co$:()=>FC,Vns:()=>tf,SKi:()=>P,Xx1:()=>no,Agw:()=>vf,PLl:()=>Yp,rOR:()=>Fp,sFG:()=>dM,_9s:()=>_E,czy:()=>Sc,WPN:()=>sd,kdw:()=>Zs,C4Q:()=>Cm,NYb:()=>JA,giA:()=>hw,xvI:()=>gx,RxE:()=>ZT,c1b:()=>mv,gXe:()=>Ic,mal:()=>Zu,Af3:()=>Lr,tdH:()=>If,L39:()=>OP,EWP:()=>Z0,sbv:()=>UM,a0P:()=>t1,Ol2:()=>FE,w6W:()=>QM,oH4:()=>iS,QZP:()=>eD,SmG:()=>Fx,Rfq:()=>ks,WQX:()=>Xt,hFB:()=>ty,naY:()=>Px,QuC:()=>Ns,uuI:()=>kP,EmA:()=>Ui,Udg:()=>NP,CGW:()=>hu,fpN:()=>Xx,HJs:()=>n1,ZcF:()=>XS,N4e:()=>sa,vPA:()=>pp,O8t:()=>Rp,H3F:()=>sw,GGh:()=>hy,PUk:()=>Zp,H8p:()=>io,KH2:()=>Ap,Ua0:()=>Vr,wOt:()=>xt,WHO:()=>uw,e01:()=>dw,lNU:()=>oi,h9k:()=>jg,$MX:()=>Wd,ZF7:()=>Hd,Kcf:()=>R_,e5t:()=>My,UyX:()=>by,cWb:()=>Ng,osQ:()=>Rg,H5H:()=>p0,Zy3:()=>zr,uq$:()=>IN,mq5:()=>cI,JZv:()=>Er,LfX:()=>ss,plB:()=>Jd,jNT:()=>KE,zjR:()=>fw,ngT:()=>uo,hVU:()=>qA,XSP:()=>wN,TL$:()=>yf,Tbb:()=>sr,rcV:()=>ec,Vt3:()=>LE,GFd:()=>QC,OA$:()=>nu,Jv_:()=>yT,R7$:()=>qy,BMQ:()=>ZE,HbH:()=>$w,ZvI:()=>Xw,STu:()=>Yw,ZWY:()=>Zw,AVh:()=>s0,vxM:()=>tI,wni:()=>WI,C6U:()=>QI,nv$:()=>ww,T$4:()=>nw,g25:()=>Iw,qhs:()=>Tw,VBU:()=>LC,FsC:()=>UC,jDH:()=>Yt,G2t:()=>xr,$C:()=>kE,EJ8:()=>BC,rXU:()=>Yd,fuf:()=>Qa,nrm:()=>u0,eu8:()=>d0,bVm:()=>xv,qex:()=>Rv,k0s:()=>Nv,j41:()=>Ov,cSN:()=>xc,RV6:()=>lI,xGo:()=>Lu,Mr5:()=>h0,KVO:()=>gs,kS0:()=>Il,QTQ:()=>Qc,bIt:()=>y0,lsd:()=>zI,joV:()=>Fc,qSk:()=>iu,XpG:()=>xI,nI1:()=>OT,bMT:()=>NT,i5U:()=>RT,brH:()=>xT,iJd:()=>PT,SdG:()=>FI,NAR:()=>PI,Y8G:()=>t0,FS9:()=>_0,Mz_:()=>Vv,lJ4:()=>ET,eq3:()=>DT,l_i:()=>CT,sMw:()=>wT,ziG:()=>IT,NyB:()=>XI,mGM:()=>GI,sdS:()=>YI,Dyx:()=>iI,Z7z:()=>sI,fX1:()=>rI,Vm6:()=>nI,Njj:()=>hd,EBC:()=>tm,tSv:()=>fo,eBV:()=>kl,npT:()=>L_,f$h:()=>Hg,B4B:()=>$g,n$t:()=>Gg,wjB:()=>vT,Aen:()=>Xc,muq:()=>ZI,xc7:()=>r0,zvX:()=>f0,DNE:()=>BE,C5r:()=>FT,EFF:()=>aT,JRh:()=>D0,SpI:()=>Uv,Lme:()=>C0,E5c:()=>w0,LHq:()=>I0,ZXR:()=>T0,wXG:()=>Wg,DH7:()=>fT,mxI:()=>b0,R50:()=>S0,GBs:()=>KI});var _=D(467);function v(e,n){return Object.is(e,n)}let ce=null,U=!1,W=1;const q=Symbol("SIGNAL");function Q(e){const n=ce;return ce=e,n}function z(){return ce}const ne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Te(e){if(U)throw new Error("");if(null===ce)return;ce.consumerOnSignalRead(e);const n=ce.nextProducerIndex++;Gt(ce),n<ce.producerNode.length&&ce.producerNode[n]!==e&&Kt(ce)&&Ot(ce.producerNode[n],ce.producerIndexOfThis[n]),ce.producerNode[n]!==e&&(ce.producerNode[n]=e,ce.producerIndexOfThis[n]=Kt(ce)?Ht(e,ce,n):0),ce.producerLastReadVersion[n]=e.version}function Le(e){if((!Kt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==W)){if(!e.producerMustRecompute(e)&&!Je(e))return void Ge(e);e.producerRecomputeValue(e),Ge(e)}}function Ie(e){if(void 0===e.liveConsumerNode)return;const n=U;U=!0;try{for(const r of e.liveConsumerNode)r.dirty||Ze(r)}finally{U=n}}function xe(){return!1!==ce?.consumerAllowSignalWrites}function Ze(e){e.dirty=!0,Ie(e),e.consumerMarkedDirty?.(e)}function Ge(e){e.dirty=!1,e.lastCleanEpoch=W}function ht(e){return e&&(e.nextProducerIndex=0),Q(e)}function Rt(e,n){if(Q(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Kt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ot(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Je(e){Gt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(Le(r),o!==r.version))return!0}return!1}function je(e){if(Gt(e),Kt(e))for(let n=0;n<e.producerNode.length;n++)Ot(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ht(e,n,r){if(zt(e),0===e.liveConsumerNode.length&&Pn(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ht(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function Ot(e,n){if(zt(e),1===e.liveConsumerNode.length&&Pn(e))for(let o=0;o<e.producerNode.length;o++)Ot(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];Gt(l),l.producerIndexOfThis[o]=n}}function Kt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function zt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Pn(e){return void 0!==e.producerNode}function pt(e){const n=Object.create(kn);n.computation=e;const r=()=>{if(Le(n),Te(n),n.value===Dn)throw n.error;return n.value};return r[q]=n,r}const tt=Symbol("UNSET"),Nt=Symbol("COMPUTING"),Dn=Symbol("ERRORED"),kn={...ne,value:tt,dirty:!0,error:null,equal:v,producerMustRecompute:e=>e.value===tt||e.value===Nt,producerRecomputeValue(e){if(e.value===Nt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Nt;const r=ht(e);let o;try{o=e.computation()}catch(l){o=Dn,e.error=l}finally{Rt(e,r)}n!==tt&&n!==Dn&&o!==Dn&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let _r=function yr(){throw new Error};function ws(){_r()}let Xe=null;function Ct(e,n){xe()||ws(),e.equal(e.value,n)||(e.value=n,function hr(e){e.version++,function Fe(){W++}(),Ie(e),Xe?.()}(e))}function Et(e,n){xe()||ws(),Ct(e,n(e.value))}const mn={...ne,equal:v,value:void 0};const Kn=()=>{},yn={...ne,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Kn};var Gn=D(4412),qn=D(1413),ns=D(8359),Jn=D(6354);const oi="https://g.co/ng/security#xss";class xt extends Error{code;constructor(n,r){super(zr(n,r)),this.code=n}}function zr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}const Qr=Symbol("InputSignalNode#UNSET"),Nn={...mn,transformFn:void 0,applyValueToInputSignal(e,n){Ct(e,n)}};function Fn(e,n){const r=Object.create(Nn);function o(){if(Te(r),r.value===Qr)throw new xt(-950,!1);return r.value}return r.value=e,r.transformFn=n?.transform,o[q]=r,o}function Rn(e){return{toString:e}.toString()}const Is="__parameters__";function gr(e,n,r){return Rn(()=>{const o=function Xr(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(n);function l(...d){if(this instanceof l)return o.apply(this,d),this;const g=new l(...d);return w.annotation=g,w;function w(b,L,Y){const le=b.hasOwnProperty(Is)?b[Is]:Object.defineProperty(b,Is,{value:[]})[Is];for(;le.length<=Y;)le.push(null);return(le[Y]=le[Y]||[]).push(g),b}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Er=globalThis;function fn(e){for(let n in e)if(e[n]===fn)return n;throw Error("Could not find renamed property on target object.")}function Qs(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function sr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(sr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function vr(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Xs=fn({__forward_ref__:fn});function ks(e){return e.__forward_ref__=ks,e.toString=function(){return sr(this())},e}function ve(e){return Se(e)?e():e}function Se(e){return"function"==typeof e&&e.hasOwnProperty(Xs)&&e.__forward_ref__===ks}function Yt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function xr(e){return{providers:e.providers||[],imports:e.imports||[]}}function qr(e){return zi(e,ai)||zi(e,ir)}function ss(e){return null!==qr(e)}function zi(e,n){return e.hasOwnProperty(n)?e[n]:null}function po(e){return e&&(e.hasOwnProperty(Bn)||e.hasOwnProperty(ue))?e[Bn]:null}const ai=fn({\u0275prov:fn}),Bn=fn({\u0275inj:fn}),ir=fn({ngInjectableDef:fn}),ue=fn({ngInjectorDef:fn});class de{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,r){this._desc=n,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Yt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jn(e){return e&&!!e.\u0275providers}const Or=fn({\u0275cmp:fn}),is=fn({\u0275dir:fn}),bn=fn({\u0275pipe:fn}),Dr=fn({\u0275mod:fn}),os=fn({\u0275fac:fn}),Us=fn({__NG_ELEMENT_ID__:fn}),Pr=fn({__NG_ENV_ID__:fn});function pe(e){return"string"==typeof e?e:null==e?"":String(e)}function br(e,n){throw new xt(-201,!1)}var hn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(hn||{});let ps;function on(){return ps}function lr(e){const n=ps;return ps=e,n}function Jo(e,n,r){const o=qr(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&hn.Optional?null:void 0!==n?n:void br()}const li={},Bs="__NG_DI_FLAG__",Fi="ngTempTokenPath",Ys=/\n/gm,Ni="__source";let xo;function ni(e){const n=xo;return xo=e,n}function to(e,n=hn.Default){if(void 0===xo)throw new xt(-203,!1);return null===xo?Jo(e,void 0,n):xo.get(e,n&hn.Optional?null:void 0,n)}function gs(e,n=hn.Default){return(on()||to)(ve(e),n)}function Xt(e,n=hn.Default){return gs(e,Qi(n))}function Qi(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Fo(e){const n=[];for(let r=0;r<e.length;r++){const o=ve(e[r]);if(Array.isArray(o)){if(0===o.length)throw new xt(900,!1);let l,d=hn.Default;for(let g=0;g<o.length;g++){const w=o[g],b=Nr(w);"number"==typeof b?-1===b?l=w.token:d|=b:l=w}n.push(gs(l,d))}else n.push(gs(o))}return n}function wo(e,n){return e[Bs]=n,e.prototype[Bs]=n,e}function Nr(e){return e[Bs]}const ko=wo(gr("Inject",e=>({token:e})),-1),no=wo(gr("Optional"),8),Zs=wo(gr("SkipSelf"),4);function wn(e,n){return e.hasOwnProperty(os)?e[os]:null}function mo(e,n){e.forEach(r=>Array.isArray(r)?mo(r,n):n(r))}function Fr(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function ci(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ii(e,n,r){const o=e.length-r;for(;n<o;)e[n]=e[n+r],n++;for(;r--;)e.pop()}function ui(e,n,r,o){let l=e.length;if(l==n)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=r,e[n+1]=o}}function Os(e,n,r){let o=Xi(e,n);return o>=0?e[1|o]=r:(o=~o,ui(e,o,n,r)),o}function Bo(e,n){const r=Xi(e,n);if(r>=0)return e[1|r]}function Xi(e,n){return function ea(e,n,r){let o=0,l=e.length>>r;for(;l!==o;){const d=o+(l-o>>1),g=e[d<<r];if(n===g)return d<<r;g>n?l=d:o=d+1}return~(l<<r)}(e,n,1)}const cr={},Mr=[],Ti=new de(""),gi=new de("",-1),Vi=new de("");class za{get(n,r=li){if(r===li){const o=new Error(`NullInjectorError: No provider for ${sr(n)}!`);throw o.name="NullInjectorError",o}return r}}function js(e,n){const r=e[Dr]||null;if(!r&&!0===n)throw new Error(`Type ${sr(e)} does not have '\u0275mod' property.`);return r}function zn(e){return e[Or]||null}function Ds(e){return e[is]||null}function qs(e){return e[bn]||null}function Ns(e){const n=zn(e)||Ds(e)||qs(e);return null!==n&&n.standalone}function Ui(e){return{\u0275providers:e}}function Yi(...e){return{\u0275providers:so(0,e),\u0275fromNgModule:!0}}function so(e,...n){const r=[],o=new Set;let l;const d=g=>{r.push(g)};return mo(n,g=>{const w=g;To(w,d,[],o)&&(l||=[],l.push(w))}),void 0!==l&&Ca(l,d),r}function Ca(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];K(l,d=>{n(d,o)})}}function To(e,n,r,o){if(!(e=ve(e)))return!1;let l=null,d=po(e);const g=!d&&zn(e);if(d||g){if(g&&!g.standalone)return!1;l=e}else{const b=e.ngModule;if(d=po(b),!d)return!1;l=b}const w=o.has(l);if(g){if(w)return!1;if(o.add(l),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const L of b)To(L,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let L;o.add(l);try{mo(d.imports,Y=>{To(Y,n,r,o)&&(L||=[],L.push(Y))})}finally{}void 0!==L&&Ca(L,n)}if(!w){const L=wn(l)||(()=>new l);n({provide:l,useFactory:L,deps:Mr},l),n({provide:Vi,useValue:l,multi:!0},l),n({provide:Ti,useValue:()=>gs(l),multi:!0},l)}const b=d.providers;if(null!=b&&!w){const L=e;K(b,Y=>{n(Y,L)})}}}return l!==e&&void 0!==e.providers}function K(e,n){for(let r of e)jn(r)&&(r=r.\u0275providers),Array.isArray(r)?K(r,n):n(r)}const x=fn({provide:String,useValue:fn});function re(e){return null!==e&&"object"==typeof e&&x in e}function In(e){return"function"==typeof e}const io=new de(""),oo={},ta={};let Zi;function So(){return void 0===Zi&&(Zi=new za),Zi}class ri{}class Js extends ri{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,r,o,l){super(),this.parent=r,this.source=o,this.scopes=l,ra(n,g=>this.processProvider(g)),this.records.set(gi,Ls(void 0,this)),l.has("environment")&&this.records.set(ri,Ls(void 0,this));const d=this.records.get(io);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Vi,Mr,hn.Self))}destroy(){wa(this),this._destroyed=!0;const n=Q(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(n)}}onDestroy(n){return wa(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){wa(this);const r=ni(this),o=lr(void 0);try{return n()}finally{ni(r),lr(o)}}get(n,r=li,o=hn.Default){if(wa(this),n.hasOwnProperty(Pr))return n[Pr](this);o=Qi(o);const d=ni(this),g=lr(void 0);try{if(!(o&hn.SkipSelf)){let b=this.records.get(n);if(void 0===b){const L=function $s(e){return"function"==typeof e||"object"==typeof e&&e instanceof de}(n)&&qr(n);b=L&&this.injectableDefInScope(L)?Ls(xa(n),oo):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(o&hn.Self?So():this.parent).get(n,r=o&hn.Optional&&r===li?null:r)}catch(w){if("NullInjectorError"===w.name){if((w[Fi]=w[Fi]||[]).unshift(sr(n)),d)throw w;return function go(e,n,r,o){const l=e[Fi];throw n[Ni]&&l.unshift(n[Ni]),e.message=function nl(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=sr(n);if(Array.isArray(n))l=n.map(sr).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let w=n[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):sr(w)))}l=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace(Ys,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[Fi]=null,e}(w,n,"R3InjectorError",this.source)}throw w}finally{lr(g),ni(d)}}resolveInjectorInitializers(){const n=Q(null),r=ni(this),o=lr(void 0);try{const d=this.get(Ti,Mr,hn.Self);for(const g of d)g()}finally{ni(r),lr(o),Q(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(sr(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){let r=In(n=ve(n))?n:ve(n&&n.provide);const o=function Pa(e){return re(e)?Ls(void 0,e.useValue):Ls(Fa(e),oo)}(n);if(!In(n)&&!0===n.multi){let l=this.records.get(r);l||(l=Ls(void 0,oo,!0),l.factory=()=>Fo(l.multi),this.records.set(r,l)),r=n,l.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=Q(null);try{return r.value===oo&&(r.value=ta,r.value=r.factory()),"object"==typeof r.value&&r.value&&function ka(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Q(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=ve(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function xa(e){const n=qr(e),r=null!==n?n.factory:wn(e);if(null!==r)return r;if(e instanceof de)throw new xt(204,!1);if(e instanceof Function)return function Nl(e){if(e.length>0)throw new xt(204,!1);const r=function pi(e){return e&&(e[ai]||e[ir])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new xt(204,!1)}function Fa(e,n,r){let o;if(In(e)){const l=ve(e);return wn(l)||xa(l)}if(re(e))o=()=>ve(e.useValue);else if(function an(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Fo(e.deps||[]));else if(function Ne(e){return!(!e||!e.useExisting)}(e))o=()=>gs(ve(e.useExisting));else{const l=ve(e&&(e.useClass||e.provide));if(!function na(e){return!!e.deps}(e))return wn(l)||xa(l);o=()=>new l(...Fo(e.deps))}return o}function wa(e){if(e.destroyed)throw new xt(205,!1)}function Ls(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function ra(e,n){for(const r of e)Array.isArray(r)?ra(r,n):r&&jn(r)?ra(r.\u0275providers,n):n(r)}function sa(e,n){e instanceof Js&&wa(e);const o=ni(e),l=lr(void 0);try{return n()}finally{ni(o),lr(l)}}function jo(){return void 0!==on()||null!=function Po(){return xo}()}function Lr(e){if(!jo())throw new xt(-203,!1)}const Ft=0,Ye=1,Tn=2,At=3,qe=4,_t=5,Cr=6,Ta=7,ls=8,si=9,$o=10,Vn=11,oa=12,Va=13,Ua=14,Kr=15,aa=16,Ho=17,_n=18,ji=19,il=20,es=21,S=22,X=23,R=24,V=25,he=1,Me=6,ot=7,nr=9,Qn=10;var Yn=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Yn||{});function En(e){return Array.isArray(e)&&"object"==typeof e[he]}function $n(e){return Array.isArray(e)&&!0===e[he]}function wr(e){return!!(4&e.flags)}function vs(e){return e.componentOffset>-1}function _s(e){return!(1&~e.flags)}function Vs(e){return!!e.template}function $i(e){return!!(512&e[Tn])}function qi(e){return!(256&~e[Tn])}class dd{previousValue;currentValue;firstChange;constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function di(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}const nu=(()=>{const e=()=>Ma;return e.ngInherit=!0,e})();function Ma(e){return e.type.prototype.ngOnChanges&&(e.setInput=ol),Ks}function Ks(){const e=al(this),n=e?.current;if(n){const r=e.previous;if(r===cr)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function ol(e,n,r,o,l){const d=this.declaredInputs[o],g=al(e)||function ic(e,n){return e[zo]=n}(e,{previous:cr,current:null}),w=g.current||(g.current={}),b=g.previous,L=b[d];w[d]=new dd(L&&L.currentValue,r,b===cr),di(e,n,l,r)}const zo="__ngSimpleChanges__";function al(e){return e[zo]||null}const Ri=function(e,n,r){},ca="svg";function or(e){for(;Array.isArray(e);)e=e[Ft];return e}function F(e,n){return or(n[e])}function M(e,n){return or(n[e.index])}function G(e,n){return e.data[n]}function ae(e,n){return e[n]}function De(e,n){const r=n[e];return En(r)?r:r[Ft]}function We(e){return!(128&~e[Tn])}function gn(e,n){return null==n?null:e[n]}function fr(e){e[Ho]=0}function cs(e){1024&e[Tn]||(e[Tn]|=1024,We(e)&&mi(e))}function Qo(e,n){for(;e>0;)n=n[Ua],e--;return n}function bi(e){return!!(9216&e[Tn]||e[R]?.dirty)}function xi(e){e[$o].changeDetectionScheduler?.notify(9),64&e[Tn]&&(e[Tn]|=1024),bi(e)&&mi(e)}function mi(e){e[$o].changeDetectionScheduler?.notify(0);let n=Xn(e);for(;null!==n&&!(8192&n[Tn])&&(n[Tn]|=8192,We(n));)n=Xn(n)}function ua(e,n){if(!(256&~e[Tn]))throw new xt(911,!1);null===e[es]&&(e[es]=[]),e[es].push(n)}function oc(e,n){if(null===e[es])return;const r=e[es].indexOf(n);-1!==r&&e[es].splice(r,1)}function Xn(e){const n=e[At];return $n(n)?n[At]:n}const rn={lFrame:ul(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Pl=!1;function Rc(){return rn.bindingsEnabled}function yl(){return null!==rn.skipHydrationRootTNode}function xc(){rn.bindingsEnabled=!0}function Qa(){rn.bindingsEnabled=!1}function lt(){return rn.lFrame.lView}function rr(){return rn.lFrame.tView}function kl(e){return rn.lFrame.contextLView=e,e[ls]}function hd(e){return rn.lFrame.contextLView=null,e}function vn(){let e=vl();for(;null!==e&&64===e.type;)e=e.parent;return e}function vl(){return rn.lFrame.currentTNode}function kr(e,n){const r=rn.lFrame;r.currentTNode=e,r.isParent=n}function _l(){return rn.lFrame.isParent}function lo(){rn.lFrame.isParent=!1}function El(){return Pl}function Dl(e){const n=Pl;return Pl=e,n}function Mi(){const e=rn.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function vi(){return rn.lFrame.bindingIndex}function Oo(){return rn.lFrame.bindingIndex++}function co(e){const n=rn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function ru(e,n){const r=rn.lFrame;r.bindingIndex=r.bindingRootIndex=e,uc(n)}function uc(e){rn.lFrame.currentDirectiveIndex=e}function dc(e){const n=rn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Vl(){return rn.lFrame.currentQueryIndex}function Ul(e){rn.lFrame.currentQueryIndex=e}function cl(e){const n=e[Ye];return 2===n.type?n.declTNode:1===n.type?e[_t]:null}function _i(e,n,r){if(r&hn.SkipSelf){let l=n,d=e;for(;!(l=l.parent,null!==l||r&hn.Host||(l=cl(d),null===l||(d=d[Ua],10&l.type))););if(null===l)return!1;n=l,e=d}const o=rn.lFrame=jl();return o.currentTNode=n,o.lView=e,!0}function Bl(e){const n=jl(),r=e[Ye];rn.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function jl(){const e=rn.lFrame,n=null===e?null:e.child;return null===n?ul(e):n}function ul(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Pc(){const e=rn.lFrame;return rn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $l=Pc;function Hl(){const e=Pc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ji(){return rn.lFrame.selectedIndex}function Wl(e){rn.lFrame.selectedIndex=e}function xs(){const e=rn.lFrame;return G(e.tView,e.selectedIndex)}function iu(){rn.lFrame.currentNamespace=ca}function Fc(){!function ah(){rn.lFrame.currentNamespace=null}()}let xu=!0;function da(){return xu}function Ei(e){xu=e}function Ya(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:L,ngOnDestroy:Y}=d;g&&(e.contentHooks??=[]).push(-r,g),w&&((e.contentHooks??=[]).push(r,w),(e.contentCheckHooks??=[]).push(r,w)),b&&(e.viewHooks??=[]).push(-r,b),L&&((e.viewHooks??=[]).push(r,L),(e.viewCheckHooks??=[]).push(r,L)),null!=Y&&(e.destroyHooks??=[]).push(r,Y)}}function Kl(e,n,r){Gl(e,n,3,r)}function ha(e,n,r,o){(3&e[Tn])===r&&Gl(e,n,r,o)}function kc(e,n){let r=e[Tn];(3&r)===n&&(r&=16383,r+=1,e[Tn]=r)}function Gl(e,n,r,o){const d=o??-1,g=n.length-1;let w=0;for(let b=void 0!==o?65535&e[Ho]:0;b<g;b++)if("number"==typeof n[b+1]){if(w=n[b],null!=o&&w>=o)break}else n[b]<0&&(e[Ho]+=65536),(w<d||-1==d)&&(gd(e,r,n,b),e[Ho]=(4294901760&e[Ho])+b+2),b++}function Za(e,n){Ri(4,e,n);const r=Q(null);try{n.call(e)}finally{Q(r),Ri(5,e,n)}}function gd(e,n,r,o){const l=r[o]<0,d=r[o+1],w=e[l?-r[o]:r[o]];l?e[Tn]>>14<e[Ho]>>16&&(3&e[Tn])===n&&(e[Tn]+=16384,Za(w,d)):Za(w,d)}const Cl=-1;class bs{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,r,o){this.factory=n,this.canSeeViewProviders=r,this.injectImpl=o}}function fa(e,n,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const d=r[o++],g=r[o++],w=r[o++];e.setAttribute(n,g,w,d)}else{const d=l,g=r[++o];zl(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function Lc(e){return 3===e||4===e||6===e}function zl(e){return 64===e.charCodeAt(0)}function Ql(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:0===r||Xl(e,r,l,null,-1===r||2===r?n[++o]:null)}}return e}function Xl(e,n,r,o,l){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const w=e[d++];if("number"==typeof w){if(w===n){g=-1;break}if(w>n){g=d-1;break}}}for(;d<e.length;){const w=e[d];if("number"==typeof w)break;if(w===r){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}const eo={};class pa{injector;parentInjector;constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=Qi(o);const l=this.injector.get(n,eo,o);return l!==eo||r===eo?l:this.parentInjector.get(n,r,o)}}function Ms(e){return e!==Cl}function Ir(e){return 32767&e}function ma(e,n){let r=function ga(e){return e>>16}(e),o=n;for(;r>0;)o=o[Ua],r--;return o}let md=!0;function fi(e){const n=md;return md=e,n}const pc=255,Fu=5;let Aa=0;const Wa={};function uu(e,n){const r=ar(e,n);if(-1!==r)return r;const o=n[Ye];o.firstCreatePass&&(e.injectorIndex=n.length,ku(o.data,e),ku(n,null),ku(o.blueprint,null));const l=gc(e,n),d=e.injectorIndex;if(Ms(l)){const g=Ir(l),w=ma(l,n),b=w[Ye].data;for(let L=0;L<8;L++)n[d+L]=w[g+L]|b[g+L]}return n[d+8]=l,d}function ku(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ar(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function gc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=n;for(;null!==l;){if(o=Uu(l),null===o)return Cl;if(r++,l=l[Ua],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Cl}function qa(e,n,r){!function cu(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Us)&&(o=r[Us]),null==o&&(o=r[Us]=Aa++);const l=o&pc;n.data[e+(l>>Fu)]|=1<<l}(e,n,r)}function yc(e,n,r){if(r&hn.Optional||void 0!==e)return e;br()}function Vc(e,n,r,o){if(r&hn.Optional&&void 0===o&&(o=null),!(r&(hn.Self|hn.Host))){const l=e[si],d=lr(void 0);try{return l?l.get(n,o,r&hn.Optional):Jo(n,o,r&hn.Optional)}finally{lr(d)}}return yc(o,0,r)}function yd(e,n,r,o=hn.Default,l){if(null!==e){if(2048&n[Tn]&&!(o&hn.Self)){const g=function Vu(e,n,r,o,l){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[Tn]&&!(512&g[Tn]);){const w=vd(d,g,r,o|hn.Self,Wa);if(w!==Wa)return w;let b=d.parent;if(!b){const L=g[il];if(L){const Y=L.get(r,Wa,o);if(Y!==Wa)return Y}b=Uu(g),g=g[Ua]}d=b}return l}(e,n,r,o,Wa);if(g!==Wa)return g}const d=vd(e,n,r,o,Wa);if(d!==Wa)return d}return Vc(n,r,o,l)}function vd(e,n,r,o,l){const d=function ch(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Us)?e[Us]:void 0;return"number"==typeof n?n>=0?n&pc:uh:n}(r);if("function"==typeof d){if(!_i(n,e,o))return o&hn.Host?yc(l,0,o):Vc(n,r,o,l);try{let g;if(g=d(o),null!=g||o&hn.Optional)return g;br()}finally{$l()}}else if("number"==typeof d){let g=null,w=ar(e,n),b=Cl,L=o&hn.Host?n[Kr][_t]:null;for((-1===w||o&hn.SkipSelf)&&(b=-1===w?gc(e,n):n[w+8],b!==Cl&&Ed(o,!1)?(g=n[Ye],w=Ir(b),n=ma(b,n)):w=-1);-1!==w;){const Y=n[Ye];if(Uc(d,w,Y.data)){const le=_d(w,n,r,g,o,L);if(le!==Wa)return le}b=n[w+8],b!==Cl&&Ed(o,n[Ye].data[w+8]===L)&&Uc(d,w,n)?(g=Y,w=Ir(b),n=ma(b,n)):w=-1}}return l}function _d(e,n,r,o,l,d){const g=n[Ye],w=g.data[e+8],Y=Oa(w,g,r,null==o?vs(w)&&md:o!=g&&!!(3&w.type),l&hn.Host&&d===w);return null!==Y?pl(n,g,Y,w):Wa}function Oa(e,n,r,o,l){const d=e.providerIndexes,g=n.data,w=1048575&d,b=e.directiveStart,Y=d>>20,be=l?w+Y:e.directiveEnd;for(let Ae=o?w:w+Y;Ae<be;Ae++){const He=g[Ae];if(Ae<b&&r===He||Ae>=b&&He.type===r)return Ae}if(l){const Ae=g[b];if(Ae&&Vs(Ae)&&Ae.type===r)return b}return null}function pl(e,n,r,o){let l=e[r];const d=n.data;if(function wl(e){return e instanceof bs}(l)){const g=l;g.resolving&&function Pt(e,n){throw n&&n.join(" > "),new xt(-200,e)}(function Ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pe(e)}(d[r]));const w=fi(g.canSeeViewProviders);g.resolving=!0;const L=g.injectImpl?lr(g.injectImpl):null;_i(e,o,hn.Default);try{l=e[r]=g.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function Xa(e,n,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(o){const g=Ma(n);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}l&&(r.preOrderHooks??=[]).push(0-e,l),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==L&&lr(L),fi(w),g.resolving=!1,$l()}}return l}function Uc(e,n,r){return!!(r[n+(e>>Fu)]&1<<e)}function Ed(e,n){return!(e&hn.Self||e&hn.Host&&n)}class ii{_tNode;_lView;constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return yd(this._tNode,this._lView,n,Qi(o),r)}}function uh(){return new ii(vn(),lt())}function Lu(e){return Rn(()=>{const n=e.prototype.constructor,r=n[os]||Ai(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[os]||Ai(l);if(d&&d!==r)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Ai(e){return Se(e)?()=>{const n=Ai(ve(e));return n&&n()}:wn(e)}function Uu(e){const n=e[Ye],r=n.type;return 2===r?n.declTNode:1===r?e[_t]:null}function Il(e){return function mc(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const d=r[l];if(Lc(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(d===n)return r[l+1];l+=2}}}return null}(vn(),e)}function ge(e,n=null,r=null,o){const l=Ee(e,n,r,o);return l.resolveInjectorInitializers(),l}function Ee(e,n=null,r=null,o,l=new Set){const d=[r||Mr,Yi(e)];return o=o||("object"==typeof e?void 0:sr(e)),new Js(d,n||So(),o||null,l)}class Pe{static THROW_IF_NOT_FOUND=li;static NULL=new za;static create(n,r){if(Array.isArray(n))return ge({name:""},r,n,"");{const o=n.name??"";return ge({name:o},n.parent,n.providers,o)}}static \u0275prov=Yt({token:Pe,providedIn:"any",factory:()=>gs(gi)});static __NG_ELEMENT_ID__=-1}new de("").__NG_ELEMENT_ID__=e=>{const n=vn();if(null===n)throw new xt(204,!1);if(2&n.type)return n.value;if(e&hn.Optional)return null;throw new xt(204,!1)};const Jt=!1;let en=(()=>class e{static __NG_ELEMENT_ID__=$t;static __NG_ENV_ID__=r=>r})();class bt extends en{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return ua(this._lView,n),()=>oc(this._lView,n)}}function $t(){return new bt(lt())}class Hn{}const An=new de("",{providedIn:"root",factory:()=>!1}),Ps=new de(""),Wn=new de("");let Vr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Gn.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})(),jr=(()=>{class e{internalPendingTasks=Xt(Vr);scheduler=Xt(Hn);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,_.A)(function*(){const l=o.add();try{return yield r()}finally{l()}})()}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})();const us=class ti extends qn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,jo()&&(this.destroyRef=Xt(en,{optional:!0})??void 0,this.pendingTasks=Xt(Vr,{optional:!0})??void 0)}emit(n){const r=Q(null);try{super.next(n)}finally{Q(r)}}subscribe(n,r,o){let l=n,d=r||(()=>null),g=o;if(n&&"object"==typeof n){const b=n;l=b.next?.bind(b),d=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(d=this.wrapInTimeout(d),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const w=super.subscribe({next:l,error:d,complete:g});return n instanceof ns.yU&&n.add(w),w}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function Xo(...e){}function _c(e){let n,r;function o(){e=Xo;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function f(e){return queueMicrotask(()=>e()),()=>{e=Xo}}const h="isAngularZone",y=h+"_ID";let O=0;class P{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new us(!1);onMicrotaskEmpty=new us(!1);onStable=new us(!1);onError=new us(!1);constructor(n){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:d=Jt}=n;if(typeof Zone>"u")throw new xt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=d,function Oe(e){const n=()=>{!function _e(e){function n(){_c(()=>{e.callbackScheduled=!1,ct(e),e.isCheckStableRunning=!0,se(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),ct(e))}(e)},r=O++;e._inner=e._inner.fork({name:"angular",properties:{[h]:!0,[y]:r,[y+r]:!0},onInvokeTask:(o,l,d,g,w,b)=>{if(function On(e){return ds(e,"__ignore_ng_zone__")}(b))return o.invokeTask(d,g,w,b);try{return dt(e),o.invokeTask(d,g,w,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),Dt(e)}},onInvoke:(o,l,d,g,w,b,L)=>{try{return dt(e),o.invoke(d,g,w,b,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function ms(e){return ds(e,"__scheduler_tick__")}(b)&&n(),Dt(e)}},onHasTask:(o,l,d,g)=>{o.hasTask(d,g),l===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,ct(e),se(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(h)}static assertInAngularZone(){if(!P.isInAngularZone())throw new xt(909,!1)}static assertNotInAngularZone(){if(P.isInAngularZone())throw new xt(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,l){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+l,n,j,Xo,Xo);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const j={};function se(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ct(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function dt(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dt(e){e._nesting--,se(e)}class jt{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new us;onMicrotaskEmpty=new us;onStable=new us;onError=new us;run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,l){return n.apply(r,o)}}function ds(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Ar{_console=console;handleError(n){this._console.error("ERROR",n)}}const Sl=new de("",{providedIn:"root",factory:()=>{const e=Xt(P),n=Xt(Ar);return r=>e.runOutsideAngular(()=>n.handleError(r))}});class Ec{destroyed=!1;listeners=null;errorHandler=Xt(Ar,{optional:!0});destroyRef=Xt(en);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(n){if(this.destroyed)throw new xt(953,!1);return(this.listeners??=[]).push(n),{unsubscribe:()=>{const r=this.listeners?.indexOf(n);void 0!==r&&-1!==r&&this.listeners?.splice(r,1)}}}emit(n){if(this.destroyed)throw new xt(953,!1);if(null===this.listeners)return;const r=Q(null);try{for(const o of this.listeners)try{o(n)}catch(l){this.errorHandler?.handleError(l)}}finally{Q(r)}}}function hu(e){return new Ec}function Pp(e,n){return Fn(e,n)}const ty=(Pp.required=function t_(e){return Fn(Qr,e)},Pp);function uf(){return bl(vn(),lt())}function bl(e,n){return new Yl(M(e,n))}let Yl=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=uf})();function fu(e){return e instanceof Yl?e.nativeElement:e}function hh(){return this._results[Symbol.iterator]()}class Fp{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new qn.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function Br(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Io(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=n[o];if(r&&(l=r(l),d=r(d)),d!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hh}function fh(e){return!(128&~e.flags)}var $u=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}($u||{});const pu=new Map;let Hu=0;function Up(e){pu.delete(e[ji])}const hf="__ngContext__";function Zo(e,n){En(n)?(e[hf]=n[ji],function ny(e){pu.set(e[ji],e)}(n)):e[hf]=n}function Id(e){return Kp(e[oa])}function Wp(e){return Kp(e[qe])}function Kp(e){for(;null!==e&&!$n(e);)e=e[qe];return e}let Xp;function yf(e){Xp=e}function Zl(){if(void 0!==Xp)return Xp;if(typeof document<"u")return document;throw new xt(210,!1)}const Eh=new de("",{providedIn:"root",factory:()=>uy}),uy="ng",Yp=new de(""),vf=new de("",{providedIn:"platform",factory:()=>"unknown"}),Dh=new de(""),dy=new de("",{providedIn:"root",factory:()=>Zl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Zp={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},hy=new de("",{providedIn:"root",factory:()=>Zp}),zu="di",Qu="s",rg=new de("",{providedIn:"root",factory:()=>!1}),fy=new de("");var og=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(og||{});const Cc=new de(""),Xu=new Set;function uo(e){Xu.has(e)||(Xu.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function If(e,n){if(null!==z())throw new xt(-602,!1)}var Yu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Yu||{});let Tf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})();const ag=[Yu.EarlyRead,Yu.Write,Yu.MixedReadWrite,Yu.Read];let py=(()=>{class e{ngZone=Xt(P);scheduler=Xt(Hn);errorHandler=Xt(Ar,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Xt(Cc,{optional:!0})}execute(){this.executing=!0;for(const r of ag)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>o.hooks[r](o.pipelinedValue),o.snapshot))}catch(l){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(7))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(og.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})();class Sf{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,r,o,l,d=null){this.impl=n,this.hooks=r,this.once=o,this.snapshot=d,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Zu(e,n){!n?.injector&&Lr();const r=n?.injector??Xt(Pe);return uo("NgAfterNextRender"),function lg(e,n,r,o){const l=n.get(Tf);l.impl??=n.get(py);const d=n.get(Cc,null,{optional:!0}),g=r?.phase??Yu.MixedReadWrite,w=!0!==r?.manualCleanup?n.get(en):null,b=new Sf(l.impl,function gy(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),o,w,d?.snapshot(null));return l.impl.register(b),b}(e,r,n,!0)}var Pi=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Pi||{});const Od=0,bf=1;var Oi=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Oi||{}),qu=function(e){return e[e.Initial=-1]="Initial",e}(qu||{});const vu=0,_u=1,Th=2,Sh=3,d_=4,h_=5,Mf=6,yy=7,$c=8,bh=9;var Af=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(Af||{});function Nd(e,n,r){const o=_y(e);null===n[o]&&(n[o]=[]),n[o].push(r)}function Of(e,n){const r=_y(e),o=n[r];if(null!==o){for(const l of o)l();n[r]=null}}function vy(e){Of(1,e),Of(0,e),Of(2,e)}function _y(e){let n=d_;return 1===e?n=h_:2===e&&(n=bh),n}function Mh(e){return e+1}function Ka(e,n){return e[Mh(n.index)]}function va(e,n){const r=Mh(n.index);return e.data[r]}function Eu(e,n){return n===Oi.Placeholder?e.placeholderBlockConfig?.[Od]??null:n===Oi.Loading?e.loadingBlockConfig?.[Od]??null:null}function Nf(e){return e.loadingBlockConfig?.[bf]??null}function Oh(e,n){if(!e||0===e.length)return n;const r=new Set(e);for(const o of n)r.add(o);return e.length===r.size?e:Array.from(r)}const xd=new WeakMap;let Du=null,hg=0;class Rh{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}function Ff(e,n,r){const o=r.get(P);let l=xd.get(e);return Du=Du||o.runOutsideAngular(()=>new IntersectionObserver(d=>{for(const g of d)g.isIntersecting&&xd.has(g.target)&&o.run(xd.get(g.target).listener)})),l||(l=new Rh,o.runOutsideAngular(()=>Du.observe(e)),xd.set(e,l),hg++),l.callbacks.add(n),()=>{xd.has(e)&&(l.callbacks.delete(n),0===l.callbacks.size&&(Du?.unobserve(e),xd.delete(e),hg--),0===hg&&(Du?.disconnect(),Du=null))}}const Ju=new de("");let Uf=()=>null;function Bf(e,n,r=!1){return Uf(e,n,r)}var Ic=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ic||{});let Wf,$d;function Vh(){if(void 0===Wf&&(Wf=null,Er.trustedTypes))try{Wf=Er.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wf}function wu(e){return Vh()?.createHTML(e)||e}function bg(){if(void 0===$d&&($d=null,Er.trustedTypes))try{$d=Er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $d}function Kf(e){return bg()?.createHTML(e)||e}function Gf(e){return bg()?.createScriptURL(e)||e}class rd{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oi})`}}class Mg extends rd{getTypeName(){return"HTML"}}class A_ extends rd{getTypeName(){return"Style"}}class O_ extends rd{getTypeName(){return"Script"}}class Ag extends rd{getTypeName(){return"URL"}}class N_ extends rd{getTypeName(){return"ResourceURL"}}function ec(e){return e instanceof rd?e.changingThisBreaksApplicationSecurity:e}function Hd(e,n){const r=function Og(e){return e instanceof rd&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${oi})`)}return r===n}function R_(e){return new Mg(e)}function Ng(e){return new A_(e)}function by(e){return new O_(e)}function Rg(e){return new Ag(e)}function My(e){return new N_(e)}class x_{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(wu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class xg{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=wu(n),r}}const Pg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wd(e){return(e=String(e)).match(Pg)?e:"unsafe:"+e}function tc(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function Uh(...e){const n={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Fg=tc("area,br,col,hr,img,wbr"),kg=tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oy=tc("rp,rt"),zf=Uh(Fg,Uh(kg,tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uh(Oy,tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uh(Oy,kg)),Qf=tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vg=Uh(Qf,tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xy=tc("script,style,template");class Py{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let r=n.firstChild,o=!0,l=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)l.push(r),r=ho(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=F_(r);if(d){r=d;break}r=l.pop()}return this.buf.join("")}startElement(n){const r=qo(n).toLowerCase();if(!zf.hasOwnProperty(r))return this.sanitizedSomething=!0,!xy.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let l=0;l<o.length;l++){const d=o.item(l),g=d.name,w=g.toLowerCase();if(!Vg.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=d.value;Qf[w]&&(b=Wd(b)),this.buf.push(" ",g,'="',Ug(b),'"')}return this.buf.push(">"),!0}endElement(n){const r=qo(n).toLowerCase();zf.hasOwnProperty(r)&&!Fg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Ug(n))}}function F_(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw nc(n);return n}function ho(e){const n=e.firstChild;if(n&&function Bh(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw nc(n);return n}function qo(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function nc(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const k_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lD=/([^\#-~ |!])/g;function Ug(e){return e.replace(/&/g,"&amp;").replace(k_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(lD,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bg;function jg(e,n){let r=null;try{Bg=Bg||function Ay(e){const n=new xg(e);return function P_(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new x_(n):n}(e);let o=n?String(n):"";r=Bg.getInertBodyElement(o);let l=5,d=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=d,d=r.innerHTML,r=Bg.getInertBodyElement(o)}while(o!==d);return wu((new Py).sanitizeChildren(Xf(r)||r))}finally{if(r){const o=Xf(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function Xf(e){return"content"in e&&function Yf(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var sd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(sd||{});function L_(e){const n=id();return n?Kf(n.sanitize(sd.HTML,e)||""):Hd(e,"HTML")?Kf(ec(e)):jg(Zl(),pe(e))}function $g(e){const n=id();return n?n.sanitize(sd.URL,e)||"":Hd(e,"URL")?ec(e):Wd(pe(e))}function Hg(e){const n=id();if(n)return Gf(n.sanitize(sd.RESOURCE_URL,e)||"");if(Hd(e,"ResourceURL"))return Gf(ec(e));throw new xt(904,!1)}function Wg(e){return function jd(e){return Vh()?.createScriptURL(e)||e}(e[0])}function Gg(e,n,r){return function Kg(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Hg:$g}(n,r)(e)}function id(){const e=lt();return e&&e[$o].sanitizer}const Zf=/^>|^->|<!--|-->|--!>|<!-$/g,zg=/(<|>)/g;function fo(e){return e.ownerDocument.defaultView}function tm(e){return e.ownerDocument}function el(e){return e instanceof Function?e():e}var tl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(tl||{}),Sc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sc||{});let jy;function Wc(e,n){return jy(e,n)}function Gd(e,n,r,o,l){if(null!=o){let d,g=!1;$n(o)?d=o:En(o)&&(g=!0,o=o[Ft]);const w=or(o);0===e&&null!==r?null==l?tp(n,r,w):Iu(n,r,w,l||null,!0):1===e&&null!==r?Iu(n,r,w,l||null,!0):2===e?function zc(e,n,r){e.removeChild(null,n,r)}(n,w,g):3===e&&n.destroyNode(w),null!=d&&function Y_(e,n,r,o,l){const d=r[ot];d!==or(r)&&Gd(n,e,o,d,l);for(let w=Qn;w<r.length;w++){const b=r[w];hm(b[Ye],b,e,n,o,d)}}(n,e,d,r,l)}}function Jf(e,n){return e.createComment(function jh(e){return e.replace(Zf,n=>n.replace(zg,"\u200b$1\u200b"))}(n))}function od(e,n,r){return e.createElement(n,r)}function Hh(e,n){n[$o].changeDetectionScheduler?.notify(10),hm(e,n,n[Vn],2,null,null)}function ep(e,n){const r=e[nr],o=n[At];(En(o)||n[Kr]!==o[At][Kr])&&(e[Tn]|=Yn.HasTransplantedViews),null===r?e[nr]=[n]:r.push(n)}function im(e,n){const r=e[nr],o=r.indexOf(n);r.splice(o,1)}function Kh(e,n){if(e.length<=Qn)return;const r=Qn+n,o=e[r];if(o){const l=o[aa];null!==l&&l!==e&&im(l,o),n>0&&(e[r-1][qe]=o[qe]);const d=ci(e,Qn+n);!function $y(e,n){Hh(e,n),n[Ft]=null,n[_t]=null}(o[Ye],o);const g=d[_n];null!==g&&g.detachView(d[Ye]),o[At]=null,o[qe]=null,o[Tn]&=-129}return o}function Gh(e,n){if(!(256&n[Tn])){const r=n[Vn];r.destroyNode&&hm(e,n,r,3,null,null),function Wh(e){let n=e[oa];if(!n)return zh(e[Ye],e);for(;n;){let r=null;if(En(n))r=n[oa];else{const o=n[Qn];o&&(r=o)}if(!r){for(;n&&!n[qe]&&n!==e;)En(n)&&zh(n[Ye],n),n=n[At];null===n&&(n=e),En(n)&&zh(n[Ye],n),r=n&&n[qe]}n=r}}(n)}}function zh(e,n){if(256&n[Tn])return;const r=Q(null);try{n[Tn]&=-129,n[Tn]|=256,n[R]&&je(n[R]),function Wy(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=n[r[o]];if(!(l instanceof bs)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=l[d[g]],b=d[g+1];Ri(4,w,b);try{b.call(w)}finally{Ri(5,w,b)}}else{Ri(4,l,d);try{d.call(l)}finally{Ri(5,l,d)}}}}}(e,n),function om(e,n){const r=e.cleanup,o=n[Ta];if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const w=r[g+3];w>=0?o[w]():o[-w].unsubscribe(),g+=2}else r[g].call(o[r[g+1]]);null!==o&&(n[Ta]=null);const l=n[es];if(null!==l){n[es]=null;for(let g=0;g<l.length;g++)(0,l[g])()}const d=n[X];if(null!==d){n[X]=null;for(const g of d)g.destroy()}}(e,n),1===n[Ye].type&&n[Vn].destroy();const o=n[aa];if(null!==o&&$n(n[At])){o!==n[At]&&im(o,n);const l=n[_n];null!==l&&l.detachView(e)}Up(n)}finally{Q(r)}}function Kc(e,n,r){return function am(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[Ft];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=e.data[o.directiveStart+l];if(d===Ic.None||d===Ic.Emulated)return null}return M(o,r)}}(e,n.parent,r)}function Iu(e,n,r,o,l){e.insertBefore(n,r,o,l)}function tp(e,n,r){e.appendChild(n,r)}function np(e,n,r,o,l){null!==o?Iu(e,n,r,o,l):tp(e,n,r)}function lm(e,n){return e.parentNode(n)}function Qh(e,n,r){return zd(e,n,r)}let um,zd=function cm(e,n,r){return 40&e.type?M(e,r):null};function Yh(e,n,r,o){const l=Kc(e,o,n),d=n[Vn],w=Qh(o.parent||n[_t],o,n);if(null!=l)if(Array.isArray(r))for(let b=0;b<r.length;b++)np(d,l,r[b],w,!1);else np(d,l,r,w,!1);void 0!==um&&um(d,o,n,r,l)}function Gc(e,n){if(null!==n){const r=n.type;if(3&r)return M(n,e);if(4&r)return dm(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return Gc(e,o);{const l=e[n.index];return $n(l)?dm(-1,l):or(l)}}if(128&r)return Gc(e,n.next);if(32&r)return Wc(n,e)()||or(e[n.index]);{const o=Qd(e,n);return null!==o?Array.isArray(o)?o[0]:Gc(Xn(e[Kr]),o):Gc(e,n.next)}}return null}function Qd(e,n){return null!==n?e[Kr][_t].projection[n.projection]:null}function dm(e,n){const r=Qn+e+1;if(r<n.length){const o=n[r],l=o[Ye].firstChild;if(null!==l)return Gc(o,l)}return n[ot]}function Tu(e,n,r,o,l,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const w=o[r.index],b=r.type;if(g&&0===n&&(w&&Zo(or(w),o),r.flags|=2),32&~r.flags)if(8&b)Tu(e,n,r.child,o,l,d,!1),Gd(n,e,l,w,d);else if(32&b){const L=Wc(r,o);let Y;for(;Y=L();)Gd(n,e,l,Y,d);Gd(n,e,l,w,d)}else 16&b?sp(e,n,o,r,l,d):Gd(n,e,l,w,d);r=g?r.projectionNext:r.next}}function hm(e,n,r,o,l,d){Tu(r,o,e.firstChild,n,l,d,!1)}function sp(e,n,r,o,l,d){const g=r[Kr],b=g[_t].projection[o.projection];if(Array.isArray(b))for(let L=0;L<b.length;L++)Gd(n,e,l,b[L],d);else{let L=b;const Y=g[At];fh(o)&&(L.flags|=128),Tu(e,n,L,Y,l,d,!0)}}function q_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function Zh(e,n,r){const{mergedAttrs:o,classes:l,styles:d}=r;null!==o&&fa(e,n,o),null!==l&&q_(e,n,l),null!==d&&function Z_(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}function mD(e,n,r){let o=e.length;for(;;){const l=e.indexOf(n,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=n.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}r=l+1}}const Ky="ng-template";function op(e,n,r,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==mD(n[l+1].toLowerCase(),r,0))return!0}else if(fm(e))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===r)return!0}return!1}function fm(e){return 4===e.type&&e.value!==Ky}function yD(e,n,r){return n===(4!==e.type||r?e.value:Ky)}function Gy(e,n,r){let o=4;const l=e.attrs,d=null!==l?function Xy(e){for(let n=0;n<e.length;n++)if(Lc(e[n]))return n;return e.length}(l):0;let g=!1;for(let w=0;w<n.length;w++){const b=n[w];if("number"!=typeof b){if(!g)if(4&o){if(o=2|1&o,""!==b&&!yD(e,b,r)||""===b&&1===n.length){if(Ml(o))return!1;g=!0}}else if(8&o){if(null===l||!op(e,l,b,r)){if(Ml(o))return!1;g=!0}}else{const L=n[++w],Y=zy(b,l,fm(e),r);if(-1===Y){if(Ml(o))return!1;g=!0;continue}if(""!==L){let le;if(le=Y>d?"":l[Y+1].toLowerCase(),2&o&&L!==le){if(Ml(o))return!1;g=!0}}}}else{if(!g&&!Ml(o)&&!Ml(b))return!1;if(g&&Ml(b))continue;g=!1,o=b|1&o}}return Ml(o)||g}function Ml(e){return!(1&e)}function zy(e,n,r,o){if(null===n)return-1;let l=0;if(o||!r){let d=!1;for(;l<n.length;){const g=n[l];if(g===e)return l;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=n[++l];for(;"string"==typeof w;)w=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=d?1:2}return-1}return function Yy(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function pm(e,n,r=!1){for(let o=0;o<n.length;o++)if(Gy(e,n[o],r))return!0;return!1}function ap(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function Zy(e,n){return e?":not("+n.trim()+")":n}function ld(e){let n=e[0],r=1,o=2,l="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const w=e[++r];l+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!Ml(g)&&(n+=Zy(d,l),l=""),o=g,d=d||!Ml(o);r++}return""!==l&&(n+=Zy(d,l)),n}const ur={};function qy(e=1){J_(rr(),lt(),Ji()+e,!1)}function J_(e,n,r,o){if(!o)if(3&~n[Tn]){const d=e.preOrderHooks;null!==d&&ha(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Kl(n,d,r)}Wl(r)}function Yd(e,n=hn.Default){const r=lt();return null===r?gs(e,n):yd(vn(),r,ve(e),n)}function Qc(){throw new Error("invalid")}function Jy(e,n,r,o,l,d){const g=Q(null);try{let w=null;l&tl.SignalBased&&(w=n[o][q]),null!==w&&void 0!==w.transformFn&&(d=w.transformFn(d)),l&tl.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,w,d,r,o):di(n,w,o,d)}finally{Q(g)}}function qh(e,n,r,o,l,d,g,w,b,L,Y){const le=n.blueprint.slice();return le[Ft]=l,le[Tn]=1228|o,(null!==L||e&&2048&e[Tn])&&(le[Tn]|=2048),fr(le),le[At]=le[Ua]=e,le[ls]=r,le[$o]=g||e&&e[$o],le[Vn]=w||e&&e[Vn],le[si]=b||e&&e[si]||null,le[_t]=d,le[ji]=function n_(){return Hu++}(),le[Cr]=Y,le[il]=L,le[Kr]=2==n.type?e[Kr]:le,le}function Zd(e,n,r,o,l){let d=e.data[n];if(null===d)d=function ev(e,n,r,o,l){const d=vl(),g=_l(),b=e.data[n]=function DD(e,n,r,o,l,d){let g=n?n.injectorIndex:-1,w=0;return yl()&&(w|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,n,o,l);return null===e.firstChild&&(e.firstChild=b),null!==d&&(g?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b,b.prev=d)),b}(e,n,r,o,l),function Ru(){return rn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=l;const g=function yi(){const e=rn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return kr(d,!0),d}function cp(e,n,r,o){if(0===r)return-1;const l=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function tv(e,n,r,o,l){const d=Ji(),g=2&o;try{Wl(-1),g&&n.length>V&&J_(e,n,V,!1),Ri(g?2:0,l),r(o,l)}finally{Wl(d),Ri(g?3:1,l)}}function gm(e,n,r){if(wr(n)){const o=Q(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,r[g],g)}}finally{Q(o)}}}function mm(e,n,r){Rc()&&(function c(e,n,r,o){const l=r.directiveStart,d=r.directiveEnd;vs(r)&&function kt(e,n,r){const o=M(n,e),l=nv(r),d=e[$o].rendererFactory,g=zs(e,qh(e,l,null,It(r),o,n,null,d.createRenderer(o,r),null,null,null));e[n.index]=g}(n,r,e.data[l+r.componentOffset]),e.firstCreatePass||uu(r,n),Zo(o,n);const g=r.initialInputs;for(let w=l;w<d;w++){const b=e.data[w],L=pl(n,e,w,r);Zo(L,n),null!==g&&Ci(0,w-l,L,b,0,g),Vs(b)&&(De(r.index,n)[ls]=pl(n,e,w,r))}}(e,n,r,M(r,n)),!(64&~r.flags)&&p(e,n,r))}function ym(e,n,r=M){const o=n.localNames;if(null!==o){let l=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],w=-1===g?r(n,e):e[g];e[l++]=w}}}function nv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=cd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function cd(e,n,r,o,l,d,g,w,b,L,Y){const le=V+o,be=le+l,Ae=function vm(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:ur);return r}(le,be),He="function"==typeof L?L():L;return Ae[Ye]={type:e,blueprint:Ae,template:r,queries:null,viewQuery:w,declTNode:n,data:Ae.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:He,incompleteFirstPass:!1,ssrId:Y}}let rv=()=>null;function nE(e,n,r,o,l){for(let d in n){if(!n.hasOwnProperty(d))continue;const g=n[d];if(void 0===g)continue;o??={};let w,b=tl.None;Array.isArray(g)?(w=g[0],b=g[1]):w=g;let L=d;if(null!==l){if(!l.hasOwnProperty(d))continue;L=l[d]}0===e?sv(o,r,L,w,b):sv(o,r,L,w)}return o}function sv(e,n,r,o,l){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==l&&d.push(l)}function gl(e,n,r,o,l,d,g,w){const b=M(n,r);let Y,L=n.inputs;!w&&null!=L&&(Y=L[o])?(sE(e,r,Y,o,l),vs(n)&&function ID(e,n){const r=De(n,e);16&r[Tn]||(r[Tn]|=64)}(r,n.index)):3&n.type&&(o=function wD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,n.value||"",o):l,d.setProperty(b,o,l))}function i(e,n,r,o){if(Rc()){const l=null===o?null:{"":-1},d=function N(e,n){const r=e.directiveRegistry;let o=null,l=null;if(r)for(let d=0;d<r.length;d++){const g=r[d];if(pm(n,g.selectors,!1))if(o||(o=[]),Vs(g))if(null!==g.findHostDirectiveDefs){const w=[];l=l||new Map,g.findHostDirectiveDefs(g,w,l),o.unshift(...w,g),$(e,n,w.length)}else o.unshift(g),$(e,n,0);else l=l||new Map,g.findHostDirectiveDefs?.(g,o,l),o.push(g)}return null===o?null:[o,l]}(e,r);let g,w;null===d?g=w=null:[g,w]=d,null!==g&&t(e,n,r,g,l,w),l&&function Z(e,n,r){if(n){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const d=r[n[l+1]];if(null==d)throw new xt(-301,!1);o.push(n[l],d)}}}(r,o,l)}r.mergedAttrs=Ql(r.mergedAttrs,r.attrs)}function t(e,n,r,o,l,d){for(let L=0;L<o.length;L++)qa(uu(r,n),e,o[L].type);!function Re(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let L=0;L<o.length;L++){const Y=o[L];Y.providersResolver&&Y.providersResolver(Y)}let g=!1,w=!1,b=cp(e,n,o.length,null);for(let L=0;L<o.length;L++){const Y=o[L];r.mergedAttrs=Ql(r.mergedAttrs,Y.hostAttrs),et(e,r,n,b,Y),fe(b,Y,l),null!==Y.contentQueries&&(r.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(r.flags|=64);const le=Y.type.prototype;!g&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),g=!0),!w&&(le.ngOnChanges||le.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),w=!0),b++}!function CD(e,n,r){const l=n.directiveEnd,d=e.data,g=n.attrs,w=[];let b=null,L=null;for(let Y=n.directiveStart;Y<l;Y++){const le=d[Y],be=r?r.get(le):null,He=be?be.outputs:null;b=nE(0,le.inputs,Y,b,be?be.inputs:null),L=nE(1,le.outputs,Y,L,He);const mt=null===b||null===g||fm(n)?null:Gi(b,Y,g);w.push(mt)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=8),b.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=w,n.inputs=b,n.outputs=L}(e,r,d)}function p(e,n,r){const o=r.directiveStart,l=r.directiveEnd,d=r.index,g=function Ll(){return rn.lFrame.currentDirectiveIndex}();try{Wl(d);for(let w=o;w<l;w++){const b=e.data[w],L=n[w];uc(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&C(b,L)}}finally{Wl(-1),uc(g)}}function C(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function $(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function fe(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;Vs(n)&&(r[""]=e)}}function et(e,n,r,o,l){e.data[o]=l;const d=l.factory||(l.factory=wn(l.type)),g=new bs(d,Vs(l),Yd);e.blueprint[o]=g,r[o]=g,function s(e,n,r,o,l){const d=l.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~n.index;(function a(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=w&&g.push(w),g.push(r,o,d)}}(e,n,o,cp(e,r,l.hostVars,ur),l)}function It(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function nn(e,n,r,o,l,d){const g=M(e,n);!function xn(e,n,r,o,l,d,g){if(null==d)e.removeAttribute(n,l,r);else{const w=null==g?pe(d):g(d,o||"",l);e.setAttribute(n,l,w,r)}}(n[Vn],g,d,e.value,r,o,l)}function Ci(e,n,r,o,l,d){const g=d[n];if(null!==g)for(let w=0;w<g.length;)Jy(o,r,g[w++],g[w++],g[w++],g[w++])}function Gi(e,n,r){let o=null,l=0;for(;l<r.length;){const d=r[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let w=0;w<g.length;w+=3)if(g[w]===n){o.push(d,g[w+1],g[w+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function Gs(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function No(e,n){const r=e.contentQueries;if(null!==r){const o=Q(null);try{for(let l=0;l<r.length;l+=2){const g=r[l+1];if(-1!==g){const w=e.data[g];Ul(r[l]),w.contentQueries(2,n[g],g)}}}finally{Q(o)}}}function zs(e,n){return e[oa]?e[Va][qe]=n:e[oa]=n,e[Va]=n,n}function Fs(e,n,r){Ul(0);const o=Q(null);try{n(e,r)}finally{Q(o)}}function qd(e){return e[Ta]??=[]}function SD(e){return e.cleanup??=[]}function bD(e,n,r){return(null===e||Vs(e))&&(r=function T(e){for(;Array.isArray(e);){if("object"==typeof e[he])return e;e=e[Ft]}return null}(r[n.index])),r[Vn]}function iv(e,n){const r=e[si],o=r?r.get(Ar,null):null;o&&o.handleError(n)}function sE(e,n,r,o,l){for(let d=0;d<r.length;){const g=r[d++],w=r[d++],b=r[d++];Jy(e.data[g],n[g],o,w,b,l)}}function ud(e,n,r){const o=F(n,e);!function sm(e,n,r){e.setValue(n,r)}(e[Vn],o,r)}function eb(e,n){const r=De(n,e),o=r[Ye];!function tb(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const l=r[Ft];null!==l&&null===r[Cr]&&(r[Cr]=Bf(l,r[si])),ov(o,r,r[ls])}function ov(e,n,r){Bl(n);try{const o=e.viewQuery;null!==o&&Fs(1,o,r);const l=e.template;null!==l&&tv(e,n,l,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[_n]?.finishViewCreation(e),e.staticContentQueries&&No(e,n),e.staticViewQueries&&Fs(2,e.viewQuery,r);const d=e.components;null!==d&&function nb(e,n){for(let r=0;r<n.length;r++)eb(e,n[r])}(n,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Tn]&=-5,Hl()}}function up(e,n,r,o){const l=Q(null);try{const d=n.tView,b=qh(e,d,r,4096&e[Tn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);b[aa]=e[n.index];const Y=e[_n];return null!==Y&&(b[_n]=Y.createEmbeddedView(d)),ov(d,b,r),b}finally{Q(l)}}function MD(e,n){const r=Qn+n;if(r<e.length)return e[r]}function Jh(e,n){return!n||null===n.firstChild||fh(e)}function dp(e,n,r,o=!0){const l=n[Ye];if(function Hy(e,n,r,o){const l=Qn+o,d=r.length;o>0&&(r[l-1][qe]=n),o<d-Qn?(n[qe]=r[l],Fr(r,Qn+o,n)):(r.push(n),n[qe]=null),n[At]=r;const g=n[aa];null!==g&&r!==g&&ep(g,n);const w=n[_n];null!==w&&w.insertView(e),xi(n),n[Tn]|=128}(l,n,e,r),o){const g=dm(r,e),w=n[Vn],b=lm(w,e[ot]);null!==b&&function ad(e,n,r,o,l,d){o[Ft]=l,o[_t]=n,hm(e,o,r,1,l,d)}(l,e[_t],w,n,b,g)}const d=n[Cr];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function iE(e,n){const r=Kh(e,n);return void 0!==r&&Gh(r[Ye],r),r}function _m(e,n,r,o,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(or(d)),$n(d)&&oE(d,o);const g=r.type;if(8&g)_m(e,n,r.child,o);else if(32&g){const w=Wc(r,n);let b;for(;b=w();)o.push(b)}else if(16&g){const w=Qd(n,r);if(Array.isArray(w))o.push(...w);else{const b=Xn(n[Kr]);_m(b[Ye],b,w,o,!0)}}r=l?r.projectionNext:r.next}return o}function oE(e,n){for(let r=Qn;r<e.length;r++){const o=e[r],l=o[Ye].firstChild;null!==l&&_m(o[Ye],o,l,n)}e[ot]!==e[Ft]&&n.push(e[ot])}let AD=[];const ob={...ne,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{mi(e.lView)},consumerOnSignalRead(){this.lView[R]=this}},lb={...ne,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Xn(e.lView);for(;n&&!OD(n[Ye]);)n=Xn(n);n&&cs(n)},consumerOnSignalRead(){this.lView[R]=this}};function OD(e){return 2!==e.type}function ND(e){if(null===e[X])return;let n=!0;for(;n;){let r=!1;for(const o of e[X])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=r&&!!(8192&e[Tn])}}function av(e,n=!0,r=0){const l=e[$o].rendererFactory;l.begin?.();try{!function ub(e,n){const r=El();try{Dl(!0),aE(e,n);let o=0;for(;bi(e);){if(100===o)throw new xt(103,!1);o++,aE(e,1)}}finally{Dl(r)}}(e,r)}catch(g){throw n&&iv(e,g),g}finally{l.end?.()}}function xD(e,n,r,o){const l=n[Tn];if(!(256&~l))return;Bl(n);let w=!0,b=null,L=null;OD(e)?(L=function rb(e){return e[R]??function sb(e){const n=AD.pop()??Object.create(ob);return n.lView=e,n}(e)}(n),b=ht(L)):null===z()?(w=!1,L=function ab(e){const n=e[R]??Object.create(lb);return n.lView=e,n}(n),b=ht(L)):n[R]&&(je(n[R]),n[R]=null);try{fr(n),function cc(e){return rn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&tv(e,n,r,2,o);const Y=!(3&~l);if(Y){const Ae=e.preOrderCheckHooks;null!==Ae&&Kl(n,Ae,null)}else{const Ae=e.preOrderHooks;null!==Ae&&ha(n,Ae,0,null),kc(n,0)}if(function db(e){for(let n=Id(e);null!==n;n=Wp(n)){if(!(n[Tn]&Yn.HasTransplantedViews))continue;const r=n[nr];for(let o=0;o<r.length;o++)cs(r[o])}}(n),ND(n),PD(n,0),null!==e.contentQueries&&No(e,n),Y){const Ae=e.contentCheckHooks;null!==Ae&&Kl(n,Ae)}else{const Ae=e.contentHooks;null!==Ae&&ha(n,Ae,1),kc(n,1)}!function vD(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)Wl(~l);else{const d=l,g=r[++o],w=r[++o];ru(g,d),w(2,n[d])}}}finally{Wl(-1)}}(e,n);const le=e.components;null!==le&&kD(n,le,0);const be=e.viewQuery;if(null!==be&&Fs(2,be,o),Y){const Ae=e.viewCheckHooks;null!==Ae&&Kl(n,Ae)}else{const Ae=e.viewHooks;null!==Ae&&ha(n,Ae,2),kc(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[S]){for(const Ae of n[S])Ae();n[S]=null}n[Tn]&=-73}catch(Y){throw mi(n),Y}finally{null!==L&&(Rt(L,b),w&&function ib(e){e.lView[R]!==e&&(e.lView=null,AD.push(e))}(L)),Hl()}}function PD(e,n){for(let r=Id(e);null!==r;r=Wp(r))for(let o=Qn;o<r.length;o++)FD(r[o],n)}function hb(e,n,r){FD(De(n,e),r)}function FD(e,n){We(e)&&aE(e,n)}function aE(e,n){const o=e[Ye],l=e[Tn],d=e[R];let g=!!(0===n&&16&l);if(g||=!!(64&l&&0===n),g||=!!(1024&l),g||=!(!d?.dirty||!Je(d)),g||=!1,d&&(d.dirty=!1),e[Tn]&=-9217,g)xD(o,e,o.template,e[ls]);else if(8192&l){ND(e),PD(e,1);const w=o.components;null!==w&&kD(e,w,1)}}function kD(e,n,r){for(let o=0;o<n.length;o++)hb(e,n[o],r)}function Em(e,n){const r=El()?64:1088;for(e[$o].changeDetectionScheduler?.notify(n);e;){e[Tn]|=r;const o=Xn(e);if($i(e)&&!o)return e;e=o}return null}class Dm{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,r=n[Ye];return _m(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[ls]}get dirty(){return!!(9280&this._lView[Tn])||!!this._lView[R]?.dirty}set context(n){this._lView[ls]=n}get destroyed(){return!(256&~this._lView[Tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[At];if($n(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Kh(n,o),ci(r,o))}this._attachedToViewContainer=!1}Gh(this._lView[Ye],this._lView)}onDestroy(n){ua(this._lView,n)}markForCheck(){Em(this._cdRefInjectingView||this._lView,4)}markForRefresh(){cs(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tn]&=-129}reattach(){xi(this._lView),this._lView[Tn]|=128}detectChanges(){this._lView[Tn]|=1024,av(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=$i(this._lView),r=this._lView[aa];null!==r&&!n&&im(r,this._lView),Hh(this._lView[Ye],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new xt(902,!1);this._appRef=n;const r=$i(this._lView),o=this._lView[aa];null!==o&&!r&&ep(o,this._lView),xi(this._lView)}}let Cm=(()=>class e{static __NG_ELEMENT_ID__=gb})();const fb=Cm,pb=class extends fb{_declarationLView;_declarationTContainer;elementRef;constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const l=up(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Dm(l)}};function gb(){return lv(vn(),lt())}function lv(e,n){return 4&e.type?new pb(n,e,bl(e,n)):null}let rC=()=>null;function fp(e,n){return rC(e,n)}class cM{}class sC{}class uM{resolveComponentFactory(n){throw Error(`No component factory found for ${sr(n)}.`)}}class Om{static NULL=new uM}class _E{}let dM=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function hM(){const e=lt(),r=De(vn().index,e);return(En(r)?r:e)[Vn]}()})(),fM=(()=>{class e{static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>null})}return e})();function Jd(e){return!!js(e)}function gv(e,n,r){let o=r?e.styles:null,l=r?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const w=n[g];"number"==typeof w?d=w:1==d?l=vr(l,w):2==d&&(o=vr(o,w+": "+n[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}class aC extends Om{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=zn(n);return new xm(r,this.ngModule)}}function lC(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const d=Array.isArray(l),g=d?l[0]:l;r.push(n?{propName:g,templateName:o,isSignal:!!((d?l[1]:tl.None)&tl.SignalBased)}:{propName:g,templateName:o})}return r}class xm extends sC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){const n=this.componentDef,r=n.inputTransforms,o=lC(n.inputs,!0);if(null!==r)for(const l of o)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return o}get outputs(){return lC(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Xd(e){return e.map(ld).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,l){const d=Q(null);try{let g=(l=l||this.ngModule)instanceof ri?l:l?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new pa(n,g):n,b=w.get(_E,null);if(null===b)throw new xt(407,!1);const le={rendererFactory:b,sanitizer:w.get(fM,null),changeDetectionScheduler:w.get(Hn,null)},be=b.createRenderer(null,this.componentDef),Ae=this.componentDef.selectors[0][0]||"div",He=o?function _D(e,n,r,o){const d=o.get(rg,!1)||r===Ic.ShadowDom,g=e.selectRootElement(n,d);return function ED(e){rv(e)}(g),g}(be,o,this.componentDef.encapsulation,w):od(be,Ae,function mM(e){const n=e.toLowerCase();return"svg"===n?ca:"math"===n?"math":null}(Ae));let mt=512;this.componentDef.signals?mt|=4096:this.componentDef.onPush||(mt|=16);let Lt=null;null!==He&&(Lt=Bf(He,w,!0));const Bt=cd(0,null,null,1,0,null,null,null,null,null,null),vt=qh(null,Bt,null,mt,null,null,le,be,w,null,Lt);Bl(vt);let Zn,$r,hs=null;try{const Ro=this.componentDef;let Ol,xp=null;Ro.findHostDirectiveDefs?(Ol=[],xp=new Map,Ro.findHostDirectiveDefs(Ro,Ol,xp),Ol.push(Ro)):Ol=[Ro];const YS=function vM(e,n){const r=e[Ye],o=V;return e[o]=n,Zd(r,o,2,"#host",null)}(vt,He);hs=function _M(e,n,r,o,l,d,g){const w=l[Ye];!function EM(e,n,r,o){for(const l of e)n.mergedAttrs=Ql(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(gv(n,n.mergedAttrs,!0),null!==r&&Zh(o,r,n))}(o,e,n,g);let b=null;null!==n&&(b=Bf(n,l[si]));const L=d.rendererFactory.createRenderer(n,r),Y=qh(l,nv(r),null,It(r),l[e.index],e,d,L,null,null,b);return w.firstCreatePass&&$(w,e,o.length-1),zs(l,Y),l[e.index]=Y}(YS,He,Ro,Ol,vt,le,be),$r=G(Bt,V),He&&function CM(e,n,r,o){if(o)fa(e,r,["ng-version","19.0.5"]);else{const{attrs:l,classes:d}=function lp(e){const n=[],r=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&n.push(d,e[++o]):8===l&&r.push(d);else{if(!Ml(l))break;l=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);l&&fa(e,r,l),d&&d.length>0&&q_(e,r,d.join(" "))}}(be,Ro,He,o),void 0!==r&&function wM(e,n,r){const o=e.projection=[];for(let l=0;l<n.length;l++){const d=r[l];o.push(null!=d&&d.length?Array.from(d):null)}}($r,this.ngContentSelectors,r),Zn=function DM(e,n,r,o,l,d){const g=vn(),w=l[Ye],b=M(g,l);t(w,l,g,r,null,o);for(let Y=0;Y<r.length;Y++)Zo(pl(l,w,g.directiveStart+Y,g),l);p(w,l,g),b&&Zo(b,l);const L=pl(l,w,g.directiveStart+g.componentOffset,g);if(e[ls]=l[ls]=L,null!==d)for(const Y of d)Y(L,n);return gm(w,g,l),L}(hs,Ro,Ol,xp,vt,[IM]),ov(Bt,vt,null)}catch(Ro){throw null!==hs&&Up(hs),Up(vt),Ro}finally{Hl()}return new yM(this.componentType,Zn,bl($r,vt),vt,$r)}finally{Q(d)}}}class yM extends cM{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,r,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.instance=r,this.hostView=this.changeDetectorRef=new Dm(l,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;sE(d[Ye],d,l,n,r),this.previousInputValues.set(n,r),Em(De(this._tNode.index,d),1)}}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function IM(){const e=vn();Ya(lt()[Ye],e)}let mv=(()=>class e{static __NG_ELEMENT_ID__=TM})();function TM(){return dC(vn(),lt())}const SM=mv,cC=class extends SM{_lContainer;_hostTNode;_hostLView;constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return bl(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){const n=gc(this._hostTNode,this._hostLView);if(Ms(n)){const r=ma(n,this._hostLView),o=Ir(n);return new ii(r[Ye].data[o+8],r)}return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=uC(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-Qn}createEmbeddedView(n,r,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const g=fp(this._lContainer,n.ssrId),w=n.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(w,l,Jh(this._hostTNode,g)),w}createComponent(n,r,o,l,d){const g=n&&!function Wr(e){return"function"==typeof e}(n);let w;if(g)w=r;else{const He=r||{};w=He.index,o=He.injector,l=He.projectableNodes,d=He.environmentInjector||He.ngModuleRef}const b=g?n:new xm(zn(n)),L=o||this.parentInjector;if(!d&&null==b.ngModule){const mt=(g?L:this.parentInjector).get(ri,null);mt&&(d=mt)}const Y=zn(b.componentType??{}),le=fp(this._lContainer,Y?.id??null),Ae=b.create(L,l,le?.firstChild??null,d);return this.insertImpl(Ae.hostView,w,Jh(this._hostTNode,le)),Ae}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const l=n._lView;if(function Wt(e){return $n(e[At])}(l)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const b=l[At],L=new cC(b,b[_t],b[At]);L.detach(L.indexOf(n))}}const d=this._adjustIndex(r),g=this._lContainer;return dp(g,l,d,o),n.attachToViewContainerRef(),Fr(CE(g),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=uC(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Kh(this._lContainer,r);o&&(ci(CE(this._lContainer),r),Gh(o[Ye],o))}detach(n){const r=this._adjustIndex(n,-1),o=Kh(this._lContainer,r);return o&&null!=ci(CE(this._lContainer),r)?new Dm(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function uC(e){return e[8]}function CE(e){return e[8]||(e[8]=[])}function dC(e,n){let r;const o=n[e.index];return $n(o)?r=o:(r=Gs(o,n,null,e),n[e.index]=r,zs(n,r)),hC(r,n,e,o),new cC(r,e,n)}let hC=function pC(e,n,r,o){if(e[ot])return;let l;l=8&r.type?or(o):function bM(e,n){const r=e[Vn],o=r.createComment(""),l=M(n,e);return Iu(r,lm(r,l),o,function rp(e,n){return e.nextSibling(n)}(r,l),!1),o}(n,r),e[ot]=l},wE=()=>!1;function fC(e,n,r){return wE(e,n,r)}class IE{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new IE(this.queryList)}setDirty(){this.queryList.setDirty()}}class TE{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,l=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);l.push(this.queries[g.indexInDeclarationView].clone())}return new TE(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==OE(n,r).matches&&this.queries[r].setDirty()}}class gC{flags;read;predicate;constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function FM(e){return e.split(",").map(n=>n.trim())}(n):n}}class SE{queries;constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,l);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new SE(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class bE{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,r=-1){this.metadata=n,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new bE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(n,r,NM(r,d)),this.matchTNodeWithReadOption(n,r,Oa(r,n,d,!1,!1))}else o===Cm?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Oa(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Yl||l===mv||l===Cm&&4&r.type)this.addMatch(r.index,-2);else{const d=Oa(r,n,l,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function NM(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function xM(e,n,r,o){return-1===r?function RM(e,n){return 11&e.type?bl(e,n):4&e.type?lv(e,n):null}(n,e):-2===r?function PM(e,n,r){return r===Yl?bl(n,e):r===Cm?lv(n,e):r===mv?dC(n,e):void 0}(e,n,o):pl(e,e[Ye],r,n)}function mC(e,n,r,o){const l=n[_n].queries[o];if(null===l.matches){const d=e.data,g=r.matches,w=[];for(let b=0;null!==g&&b<g.length;b+=2){const L=g[b];w.push(L<0?null:xM(n,d[L],g[b+1],r.metadata.read))}l.matches=w}return l.matches}function ME(e,n,r,o){const l=e.queries.getByIndex(r),d=l.matches;if(null!==d){const g=mC(e,n,l,r);for(let w=0;w<d.length;w+=2){const b=d[w];if(b>0)o.push(g[w/2]);else{const L=d[w+1],Y=n[-b];for(let le=Qn;le<Y.length;le++){const be=Y[le];be[aa]===be[At]&&ME(be[Ye],be,L,o)}if(null!==Y[nr]){const le=Y[nr];for(let be=0;be<le.length;be++){const Ae=le[be];ME(Ae[Ye],Ae,L,o)}}}}}return o}function AE(e,n){return e[_n].queries[n].queryList}function yC(e,n,r){const o=new Fp(!(4&~r));return function tE(e,n,r,o){const l=qd(n);l.push(r),e.firstCreatePass&&SD(e).push(o,l.length-1)}(e,n,o,o.destroy),(n[_n]??=new TE).queries.push(new IE(o))-1}function _C(e,n,r,o){const l=rr();if(l.firstCreatePass){const d=vn();EC(l,new gC(n,r,o),d.index),function kM(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return yC(l,lt(),r)}function EC(e,n,r){null===e.queries&&(e.queries=new SE),e.queries.track(new bE(n,r))}function OE(e,n){return e.queries.getByIndex(n)}function DC(e,n){const r=e[Ye],o=OE(r,n);return o.crossesNgTemplate?ME(r,e,n,[]):mC(r,e,o,n)}function pp(e,n){uo("NgSignals");const r=function Ue(e){const n=Object.create(mn);n.value=e;const r=()=>(Te(n),n.value);return r[q]=n,r}(e),o=r[q];return n?.equal&&(o.equal=n.equal),r.set=l=>Ct(o,l),r.update=l=>Et(o,l),r.asReadonly=NE.bind(r),r}function NE(){const e=this[q];if(void 0===e.readonlyFn){const n=()=>this();n[q]=e,e.readonlyFn=n}return e.readonlyFn}function wC(e){return function CC(e){return"function"==typeof e&&void 0!==e[q]}(e)&&"function"==typeof e.set}function RE(e,n,r){let o;const l=pt(()=>{o._dirtyCounter();const d=function LM(e,n){const r=e._lView,o=e._queryIndex;if(void 0===r||void 0===o||4&r[Tn])return n?void 0:Mr;const l=AE(r,o),d=DC(r,o);return l.reset(d,fu),n?l.first:l._changesDetected||void 0===e._flatValue?e._flatValue=l.toArray():e._flatValue}(o,e);if(n&&void 0===d)throw new xt(-951,!1);return d});return o=l[q],o._dirtyCounter=pp(0),o._flatValue=void 0,l}function MC(e,n){return function IC(e){return RE(!0,!1)}()}const UM=(MC.required=function VM(e,n){return function TC(e){return RE(!0,!0)}()},MC);class tf{}class FC{}function QM(e,n){return new xE(e,n??null,[])}class xE extends tf{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new aC(this);constructor(n,r,o,l=!0){super(),this.ngModuleType=n,this._parent=r;const d=js(n);this._bootstrapComponents=el(d.bootstrap),this._r3Injector=Ee(n,r,[{provide:tf,useValue:this},{provide:Om,useValue:this.componentFactoryResolver},...o],sr(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class PE extends FC{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new xE(this.moduleType,n,[])}}class kC extends tf{injector;componentFactoryResolver=new aC(this);instance=null;constructor(n){super();const r=new Js([...n.providers,{provide:tf,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],n.parent||So(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function FE(e,n,r=null){return new kC({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let YM=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=so(0,r.type),l=o.length>0?FE([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,l)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Yt({token:e,providedIn:"environment",factory:()=>new e(gs(ri))})}return e})();function LC(e){return Rn(()=>{const n=jC(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$u.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?l=>l.get(YM).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ic.Emulated,styles:e.styles||Mr,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&uo("NgStandalone"),$C(r);const o=e.dependencies;return r.directiveDefs=vv(o,!1),r.pipeDefs=vv(o,!0),r.id=function eA(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const d of o.join("|"))n=Math.imul(31,n)+d.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function ZM(e){return zn(e)||Ds(e)}function qM(e){return null!==e}function kE(e){return Rn(()=>({type:e.type,bootstrap:e.bootstrap||Mr,declarations:e.declarations||Mr,imports:e.imports||Mr,exports:e.exports||Mr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function VC(e,n){if(null==e)return cr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const l=e[o];let d,g,w=tl.None;Array.isArray(l)?(w=l[0],d=l[1],g=l[2]??d):(d=l,g=l),n?(r[d]=w!==tl.None?[o,w]:o,n[d]=g):r[d]=o}return r}function UC(e){return Rn(()=>{const n=jC(e);return $C(n),n})}function BC(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function jC(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||cr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Mr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VC(e.inputs,n),outputs:VC(e.outputs),debugInfo:null}}function $C(e){e.features?.forEach(n=>n(e))}function vv(e,n){if(!e)return null;const r=n?qs:ZM;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(qM)}function LE(e){let n=function HC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let l;if(Vs(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new xt(903,!1);l=n.\u0275dir}if(l){if(r){o.push(l);const g=e;g.inputs=_v(e.inputs),g.inputTransforms=_v(e.inputTransforms),g.declaredInputs=_v(e.declaredInputs),g.outputs=_v(e.outputs);const w=l.hostBindings;w&&iA(e,w);const b=l.viewQuery,L=l.contentQueries;if(b&&rA(e,b),L&&sA(e,L),tA(e,l),Qs(e.outputs,l.outputs),Vs(l)&&l.data.animation){const Y=e.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(e),w===LE&&(r=!1)}}n=Object.getPrototypeOf(n)}!function nA(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=Ql(l.hostAttrs,r=Ql(r,l.hostAttrs))}}(o)}function tA(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const l=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(l))continue;e.inputTransforms??={},e.inputTransforms[l]=n.inputTransforms[l]}}}function _v(e){return e===cr?{}:e===Mr?[]:e}function rA(e,n){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{n(o,l),r(o,l)}:n}function sA(e,n){const r=e.contentQueries;e.contentQueries=r?(o,l,d)=>{n(o,l,d),r(o,l,d)}:n}function iA(e,n){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{n(o,l),r(o,l)}:n}function QC(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(r[o]=l[3])}e.inputTransforms=r}function Ev(e){return!!UE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function UE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function bu(e,n,r){return e[n]=r}function Do(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function nf(e,n,r,o){const l=Do(e,n,r);return Do(e,n+1,o)||l}function Dv(e,n,r,o,l){const d=nf(e,n,r,o);return Do(e,n+2,l)||d}function bc(e,n,r,o,l,d){const g=nf(e,n,r,o);return nf(e,n+2,l,d)||g}function km(e,n,r,o,l,d,g,w,b,L){const Y=r+V,le=n.firstCreatePass?function pA(e,n,r,o,l,d,g,w,b){const L=n.consts,Y=Zd(n,e,4,g||null,w||null);i(n,r,Y,gn(L,b)),Ya(n,Y);const le=Y.tView=cd(2,Y,o,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,Y),le.queries=n.queries.embeddedTView(Y)),Y}(Y,n,e,o,l,d,g,w,b):n.data[Y];kr(le,!1);const be=XC(n,e,le,r);da()&&Yh(n,e,be,le),Zo(be,e);const Ae=Gs(be,e,be,le);return e[Y]=Ae,zs(e,Ae),fC(Ae,le,e),_s(le)&&mm(n,e,le),null!=b&&ym(e,le,L),le}function BE(e,n,r,o,l,d,g,w){const b=lt(),L=rr();return km(b,L,e,n,r,o,l,gn(L.consts,d),g,w),BE}let XC=function YC(e,n,r,o){return Ei(!0),n[Vn].createComment("")};function Cv(e,n){const r=n.get(_A);return r.add(e),()=>r.remove(e)}let _A=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=Xt(P);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(r){(this.executingCallbacks?this.deferred:this.current).add(r),null===this.idleId&&this.scheduleIdleCallback()}remove(r){const{current:o,deferred:l}=this;o.delete(r),l.delete(r),0===o.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const r=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const o of this.current)o();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const o of this.deferred)this.current.add(o);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(r))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})();let EA=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(r,o){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+r,o),this.scheduleTimer()}remove(r){const{current:o,deferred:l}=this;-1===this.removeFromQueue(o,r)&&this.removeFromQueue(l,r),0===o.length&&0===l.length&&this.clearTimeout()}addToQueue(r,o,l){let d=r.length;for(let g=0;g<r.length;g+=2)if(r[g]>o){d=g;break}ui(r,d,o,l)}removeFromQueue(r,o){let l=-1;for(let d=0;d<r.length;d+=2)if(r[d+1]===o){l=d;break}return l>-1&&Ii(r,l,2),l}scheduleTimer(){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const l=[...this.current],d=Date.now();for(let w=0;w<l.length;w+=2){const L=l[w+1];if(!(l[w]<=d))break;L()}let g=-1;for(let w=0;w<this.current.length&&this.current[w]<=d;w+=2)g=w+1;if(g>=0&&Ii(this.current,0,g+1),this.executingCallbacks=!1,this.deferred.length>0){for(let w=0;w<this.deferred.length;w+=2)this.addToQueue(this.current,this.deferred[w],this.deferred[w+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const l=Date.now(),d=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-d>16){this.clearTimeout();const g=Math.max(d-l,16);this.invokeTimerAt=d,this.timeoutId=setTimeout(r,g)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})(),DA=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(r,o,l,d){if(!this.cachedInjectors.has(r)){const g=l.length>0?FE(l,o,d):null;this.cachedInjectors.set(r,g)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Yt({token:e,providedIn:"environment",factory:()=>new e})}return e})();const CA=new de("");function jE(e,n,r){return e.get(DA).getOrCreateInjector(n,e,r,"")}function th(e,n,r,o=!1){const l=r[At],d=l[Ye];if(qi(l))return;const g=Ka(l,n),b=g[yy];if(!(null!==b&&e<b)&&ew(g[_u],e)&&ew(g[vu]??-1,e)){const L=va(d,n),le=o||null===Nf(L)&&null===Eu(L,Oi.Loading)&&!Eu(L,Oi.Placeholder)?qC:$E;try{le(e,g,r,n,l)}catch(be){iv(l,be)}}}function qC(e,n,r,o,l){const d=function cg(e,n,r){const l=va(n[Ye],r);switch(e){case Oi.Complete:return l.primaryTmplIndex;case Oi.Loading:return l.loadingTmplIndex;case Oi.Error:return l.errorTmplIndex;case Oi.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,o);if(null!==d){n[_u]=e;const g=l[Ye],b=G(g,d+V),L=0;let Y;if(iE(r,L),e===Oi.Complete){const Ae=va(g,o),He=Ae.providers;He&&He.length>0&&(Y=function wA(e,n,r){if(e instanceof pa){const l=e.injector,g=jE(e.parentInjector,n,r);return new pa(l,g)}const o=e.get(ri);if(o!==e){const l=jE(o,n,r);return new pa(e,l)}return jE(e,n,r)}(l[si],Ae,He))}const le=function IA(e,n){return e[Me]?.find(r=>r.data[Qu]===n[_u])??null}(r,n);r[Me]=null;const be=up(l,b,null,{injector:Y,dehydratedView:le});if(dp(r,be,L,Jh(b,le)),Em(be,2),(e===Oi.Complete||e===Oi.Error)&&Array.isArray(n[$c])){for(const Ae of n[$c])Ae();n[$c]=null}}}function TA(e,n,r,o,l){const d=Date.now(),w=va(l[Ye],o);if(null===n[Th]||n[Th]<=d){n[Th]=null;const b=Nf(w),L=null!==n[Sh];if(e!==Oi.Loading||null===b||L){e>Oi.Loading&&L&&(n[Sh](),n[Sh]=null,n[vu]=null),qC(e,n,r,o,l);const Y=Eu(w,e);null!==Y&&(n[Th]=d+Y,JC(Y,n,o,r,l))}else{n[vu]=e;const Y=JC(b,n,o,r,l);n[Sh]=Y}}else n[vu]=e}function JC(e,n,r,o,l){return function ZC(e,n,r){const o=r.get(EA);return o.add(e,n),()=>o.remove(n)}(e,()=>{const g=n[vu];n[Th]=null,n[vu]=null,null!==g&&th(g,r,o)},l[si])}function ew(e,n){return e<n}function yp(e,n){th(Oi.Placeholder,n,e[n.index])}function tw(e,n,r){e.loadingPromise.then(()=>{e.loadingState===Pi.COMPLETE?th(Oi.Complete,n,r):e.loadingState===Pi.FAILED&&th(Oi.Error,n,r)})}let $E=null;function nw(e,n,r,o){const l=e.consts;null!=r&&(n.placeholderBlockConfig=gn(l,r)),null!=o&&(n.loadingBlockConfig=gn(l,o)),null===$E&&($E=TA)}let sw=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const aw="ng";function qA(e,n){!function cw(e,n){if(typeof COMPILED>"u"||!COMPILED){const r=Er;r[aw]??={},r[aw][e]=n}}(e,n)}const uw=new de(""),dw=new de("");let WE,JA=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(r,o,l){this._ngZone=r,this.registry=o,WE||(function eO(e){WE=e}(l),l.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,l){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:l})}whenStable(r,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,l),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,l){return[]}static \u0275fac=function(o){return new(o||e)(gs(P),gs(hw),gs(dw))};static \u0275prov=Yt({token:e,factory:e.\u0275fac})}return e})(),hw=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return WE?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function KE(e){return!!e&&"function"==typeof e.then}function fw(e){return!!e&&"function"==typeof e.subscribe}const GE=new de("");let pw=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=Xt(GE,{optional:!0})??[];injector=Xt(Pe);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const l of this.appInits){const d=sa(this.injector,l);if(KE(d))r.push(d);else if(fw(d)){const g=new Promise((w,b)=>{d.subscribe({complete:w,error:b})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(l=>{this.reject(l)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zE=(()=>{class e{static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new gw})}return e})();class gw{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}enqueue(n){const r=n.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}const Vm=new de("");function yw(e,n){return Array.isArray(n)?n.reduce(yw,e):{...e,...n}}let rc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Xt(Sl);afterRenderManager=Xt(Tf);zonelessEnabled=Xt(An);rootEffectScheduler=Xt(zE);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new qn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Xt(Vr).hasPendingTasks.pipe((0,Jn.T)(r=>!r));constructor(){Xt(Cc,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:l=>{l&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=Xt(ri);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){const l=r instanceof sC;if(!this._injector.get(pw).done)throw!l&&Ns(r),new xt(405,!1);let g;g=l?r:this._injector.get(Om).resolveComponentFactory(r),this.componentTypes.push(g.componentType);const w=function tO(e){return e.isBoundToModule}(g)?void 0:this._injector.get(tf),L=g.create(Pe.NULL,[],o||g.selector,w),Y=L.location.nativeElement,le=L.injector.get(uw,null);return le?.registerApplication(Y),L.onDestroy(()=>{this.detachView(L.hostView),Sv(this.components,L),le?.unregisterApplication(Y)}),this._loadComponent(L),L}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(null!==this.tracingSnapshot){const o=this.tracingSnapshot;return this.tracingSnapshot=null,o.run(og.CHANGE_DETECTION,this._tick),void o.dispose()}if(this._runningTick)throw new xt(101,!1);const r=Q(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Q(r),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_E,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:l}of this.allViews)sO(o,l,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>bi(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Sv(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Vm,[]).forEach(l=>l(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Sv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new xt(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sv(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function sO(e,n,r,o){(r||bi(e))&&av(e,n,r&&!o?0:1)}function Dw(e,n){return n[si].get(CA,null,{optional:!0})?.behavior!==Af.Manual}function rf(e,n,r){const o=n[Ye],l=n[r.index];if(!Dw(0,n))return;const d=Ka(n,r),g=va(o,r);switch(vy(d),g.loadingState){case Pi.NOT_STARTED:th(Oi.Loading,r,l),function QE(e,n,r){const o=n[si],l=n[Ye];if(e.loadingState!==Pi.NOT_STARTED)return e.loadingPromise??Promise.resolve();const d=Ka(n,r),g=function Nh(e,n){return G(e,n.primaryTmplIndex+V)}(l,e);e.loadingState=Pi.IN_PROGRESS,Of(1,d);let w=e.dependencyResolverFn;const b=o.get(Vr),L=b.add();return w?(e.loadingPromise=Promise.allSettled(w()).then(Y=>{let le=!1;const be=[],Ae=[];for(const He of Y){if("fulfilled"!==He.status){le=!0;break}{const mt=He.value,Lt=zn(mt)||Ds(mt);if(Lt)be.push(Lt);else{const Bt=qs(mt);Bt&&Ae.push(Bt)}}}if(e.loadingPromise=null,b.remove(L),le){if(e.loadingState=Pi.FAILED,null===e.errorTmplIndex){const mt=new xt(750,!1);iv(n,mt)}}else{e.loadingState=Pi.COMPLETE;const He=g.tView;if(be.length>0){He.directiveRegistry=Oh(He.directiveRegistry,be);const Lt=so(!1,...be.map(Bt=>Bt.type));e.providers=Lt}Ae.length>0&&(He.pipeRegistry=Oh(He.pipeRegistry,Ae))}}),e.loadingPromise):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Pi.COMPLETE,b.remove(L)}),e.loadingPromise)}(g,n,r),g.loadingState===Pi.IN_PROGRESS&&tw(g,r,l);break;case Pi.IN_PROGRESS:th(Oi.Loading,r,l),tw(g,r,l);break;case Pi.COMPLETE:th(Oi.Complete,r,l);break;case Pi.FAILED:th(Oi.Error,r,l)}}function Co(e,n,r){return 0===e?Cw(n,r):2!==e||!Cw(n,r)}function Cw(e,n){const r=e[si],o=va(e[Ye],n),l=function Bd(e){return e.get(fy,!1,{optional:!0})}(r),d=null!==o.flags&&!(1&~o.flags),w=null!==Ka(e,n)[Mf];return!(d&&w&&l)}function ww(e,n,r,o,l,d,g,w,b,L){const Y=lt(),le=rr(),be=e+V,Ae=km(Y,le,e,null,0,0),He=Y[si];if(le.firstCreatePass){uo("NgDefer");const hs={primaryTmplIndex:n,loadingTmplIndex:o??null,placeholderTmplIndex:l??null,errorTmplIndex:d??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:r??null,loadingState:Pi.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,prefetchTriggers:null,flags:L??0};b?.(le,hs,w,g),function Ah(e,n,r){const o=Mh(n);e.data[o]=r}(le,be,hs)}const mt=Y[be];fC(mt,Ae,Y);let Lt=null,Bt=null;if(mt[Me]?.length>0){const hs=mt[Me][0].data;Bt=hs[zu]??null,Lt=hs[Qu]}const vt=[null,qu.Initial,null,null,null,null,Bt,Lt,null,null];!function f_(e,n,r){e[Mh(n)]=r}(Y,be,vt);let Zn=null;null!==Bt&&(Zn=He.get(Ju),Zn.add(Bt,{lView:Y,tNode:Ae,lContainer:mt}));const $r=()=>{vy(vt),null!==Bt&&Zn?.cleanup([Bt])};Nd(0,vt,()=>oc(Y,$r)),ua(Y,$r)}function Iw(){Co(0,lt(),vn())&&function vw(e){const n=lt(),r=vn();if(yp(n,r),!Dw(0,n))return;const o=n[si];Nd(0,Ka(n,r),e(()=>rf(0,n,r),o))}(Cv)}function Tw(e,n){const r=lt(),o=vn();Co(0,r,o)&&(yp(r,o),function kd(e,n,r,o,l,d,g){const w=e[si],b=w.get(P);Zu({read:function L(){if(qi(e))return;const Y=Ka(e,n),le=Y[_u];if(le!==qu.Initial&&le!==Oi.Placeholder)return;const be=function Fd(e,n,r){return null==r?e:r>=0?Qo(r,e):e[n.index][Qn]??null}(e,n,o);if(!be)return void Zu({read:L},{injector:w});if(qi(be))return;const Ae=function fg(e,n){return F(V+n,e)}(be,r),He=l(Ae,()=>{b.run(()=>{e!==be&&oc(be,He),d()})},w);e!==be&&ua(be,He),Nd(g,Y,He)}},{injector:w})}(r,o,e,n,Ff,()=>rf(0,r,o),0))}function ZE(e,n,r,o){const l=lt();return Do(l,Oo(),n)&&(rr(),nn(xs(),l,e,n,r,o)),ZE}function _p(e,n,r,o){return Do(e,Oo(),r)?n+pe(r)+o:ur}function Ep(e,n,r,o,l,d){const w=nf(e,vi(),r,l);return co(2),w?n+pe(r)+o+pe(l)+d:ur}function Dp(e,n,r,o,l,d,g,w){const L=Dv(e,vi(),r,l,g);return co(3),L?n+pe(r)+o+pe(l)+d+pe(g)+w:ur}function bv(e,n){return e<<17|n<<2}function sh(e){return e>>17&32767}function qE(e){return 2|e}function sf(e){return(131068&e)>>2}function JE(e,n){return-131069&e|n<<2}function e0(e){return 1|e}function Fw(e,n,r,o){const l=e[r+1],d=null===n;let g=o?sh(l):sf(l),w=!1;for(;0!==g&&(!1===w||d);){const L=e[g+1];UO(e[g],n)&&(w=!0,e[g+1]=o?e0(L):qE(L)),g=o?sh(L):sf(L)}w&&(e[r+1]=o?qE(l):e0(l))}function UO(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Xi(e,n)>=0}const _a={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kw(e){return e.substring(_a.key,_a.keyEnd)}function BO(e){return e.substring(_a.value,_a.valueEnd)}function Lw(e,n){const r=_a.textEnd;return r===n?-1:(n=_a.keyEnd=function HO(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}(e,_a.key=n,r),bp(e,n,r))}function Vw(e,n){const r=_a.textEnd;let o=_a.key=bp(e,n,r);return r===o?-1:(o=_a.keyEnd=function WO(e,n,r){let o;for(;n<r&&(45===(o=e.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(e,o,r),o=Bw(e,o,r),o=_a.value=bp(e,o,r),o=_a.valueEnd=function KO(e,n,r){let o=-1,l=-1,d=-1,g=n,w=g;for(;g<r;){const b=e.charCodeAt(g++);if(59===b)return w;34===b||39===b?w=g=jw(e,b,g,r):n===g-4&&85===d&&82===l&&76===o&&40===b?w=g=jw(e,41,g,r):b>32&&(w=g),d=l,l=o,o=-33&b}return w}(e,o,r),Bw(e,o,r))}function Uw(e){_a.key=0,_a.keyEnd=0,_a.value=0,_a.valueEnd=0,_a.textEnd=e.length}function bp(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function Bw(e,n,r,o){return(n=bp(e,n,r))<r&&n++,n}function jw(e,n,r,o){let l=-1,d=r;for(;d<o;){const g=e.charCodeAt(d++);if(g==n&&92!==l)return d;l=92==g&&92===l?0:g}throw new Error}function t0(e,n,r){const o=lt();return Do(o,Oo(),n)&&gl(rr(),xs(),o,e,n,o[Vn],r,!1),t0}function n0(e,n,r,o,l){const g=l?"class":"style";sE(e,r,n.inputs[g],g,o)}function r0(e,n,r){return Yc(e,n,r,!1),r0}function s0(e,n){return Yc(e,n,null,!0),s0}function Xc(e){Zc(Kw,GO,e,!1)}function GO(e,n){for(let r=function $O(e){return Uw(e),Vw(e,bp(e,0,_a.textEnd))}(n);r>=0;r=Vw(n,r))Kw(e,kw(n),BO(n))}function $w(e){Zc(qO,Mu,e,!0)}function Mu(e,n){for(let r=function jO(e){return Uw(e),Lw(e,bp(e,0,_a.textEnd))}(n);r>=0;r=Lw(n,r))Os(e,kw(n),!0)}function Yc(e,n,r,o){const l=lt(),d=rr(),g=co(2);d.firstUpdatePass&&Ww(d,e,g,o),n!==ur&&Do(l,g,n)&&Gw(d,d.data[Ji()],l,l[Vn],e,l[g+1]=function eN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=sr(ec(e)))),e}(n,r),o,g)}function Zc(e,n,r,o){const l=rr(),d=co(2);l.firstUpdatePass&&Ww(l,null,d,o);const g=lt();if(r!==ur&&Do(g,d,r)){const w=l.data[Ji()];if(Qw(w,o)&&!Hw(l,d)){let b=o?w.classesWithoutHost:w.stylesWithoutHost;null!==b&&(r=vr(b,r||"")),n0(l,w,g,r,o)}else!function JO(e,n,r,o,l,d,g,w){l===ur&&(l=Mr);let b=0,L=0,Y=0<l.length?l[0]:null,le=0<d.length?d[0]:null;for(;null!==Y||null!==le;){const be=b<l.length?l[b+1]:void 0,Ae=L<d.length?d[L+1]:void 0;let mt,He=null;Y===le?(b+=2,L+=2,be!==Ae&&(He=le,mt=Ae)):null===le||null!==Y&&Y<le?(b+=2,He=Y):(L+=2,He=le,mt=Ae),null!==He&&Gw(e,n,r,o,He,mt,g,w),Y=b<l.length?l[b]:null,le=L<d.length?d[L]:null}}(l,w,g,g[Vn],g[d+1],g[d+1]=function ZO(e,n,r){if(null==r||""===r)return Mr;const o=[],l=ec(r);if(Array.isArray(l))for(let d=0;d<l.length;d++)e(o,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&e(o,d,l[d]);else"string"==typeof l&&n(o,l);return o}(e,n,r),o,d)}}function Hw(e,n){return n>=e.expandoStartIndex}function Ww(e,n,r,o){const l=e.data;if(null===l[r+1]){const d=l[Ji()],g=Hw(e,r);Qw(d,o)&&null===n&&!g&&(n=!1),n=function zO(e,n,r,o){const l=dc(e);let d=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(r=Bm(r=o0(null,e,n,r,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==l)if(r=o0(l,e,n,r,o),null===d){let b=function QO(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==sf(o))return e[sh(o)]}(e,n,o);void 0!==b&&Array.isArray(b)&&(b=o0(null,e,n,b[1],o),b=Bm(b,n.attrs,o),function XO(e,n,r,o){e[sh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,b))}else d=function YO(e,n,r){let o;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)o=Bm(o,e[d].hostAttrs,r);return Bm(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(l,d,n,o),function LO(e,n,r,o,l,d){let g=d?n.classBindings:n.styleBindings,w=sh(g),b=sf(g);e[o]=r;let Y,L=!1;if(Array.isArray(r)?(Y=r[1],(null===Y||Xi(r,Y)>0)&&(L=!0)):Y=r,l)if(0!==b){const be=sh(e[w+1]);e[o+1]=bv(be,w),0!==be&&(e[be+1]=JE(e[be+1],o)),e[w+1]=function FO(e,n){return 131071&e|n<<17}(e[w+1],o)}else e[o+1]=bv(w,0),0!==w&&(e[w+1]=JE(e[w+1],o)),w=o;else e[o+1]=bv(b,0),0===w?w=o:e[b+1]=JE(e[b+1],o),b=o;L&&(e[o+1]=qE(e[o+1])),Fw(e,Y,o,!0),Fw(e,Y,o,!1),function VO(e,n,r,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Xi(d,n)>=0&&(r[o+1]=e0(r[o+1]))}(n,Y,e,o,d),g=bv(w,b),d?n.classBindings=g:n.styleBindings=g}(l,d,n,r,g,o)}}function o0(e,n,r,o,l){let d=null;const g=r.directiveEnd;let w=r.directiveStylingLast;for(-1===w?w=r.directiveStart:w++;w<g&&(d=n[w],o=Bm(o,d.hostAttrs,l),d!==e);)w++;return null!==e&&(r.directiveStylingLast=w),o}function Bm(e,n,r){const o=r?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Os(e,g,!!r||n[++d]))}return void 0===e?null:e}function Kw(e,n,r){Os(e,n,ec(r))}function qO(e,n,r){const o=String(n);""!==o&&!o.includes(" ")&&Os(e,o,r)}function Gw(e,n,r,o,l,d,g,w){if(!(3&n.type))return;const b=e.data,L=b[w+1],Y=function kO(e){return!(1&~e)}(L)?zw(b,n,r,l,sf(L),g):void 0;Mv(Y)||(Mv(d)||function PO(e){return!(2&~e)}(L)&&(d=zw(b,null,r,l,w,g)),function ip(e,n,r,o,l){if(n)l?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Sc.DashCase;null==l?e.removeStyle(r,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Sc.Important),e.setStyle(r,o,l,d))}}(o,g,F(Ji(),r),l,d))}function zw(e,n,r,o,l,d){const g=null===n;let w;for(;l>0;){const b=e[l],L=Array.isArray(b),Y=L?b[1]:b,le=null===Y;let be=r[l+1];be===ur&&(be=le?Mr:void 0);let Ae=le?Bo(be,o):Y===o?be:void 0;if(L&&!Mv(Ae)&&(Ae=Bo(b,o)),Mv(Ae)&&(w=Ae,g))return w;const He=e[l+1];l=g?sh(He):sf(He)}if(null!==n){let b=d?n.residualClasses:n.residualStyles;null!=b&&(w=Bo(b,o))}return w}function Mv(e){return void 0!==e}function Qw(e,n){return!!(e.flags&(n?8:16))}function Xw(e,n,r){Zc(Os,Mu,_p(lt(),e,n,r),!0)}function Yw(e,n,r,o,l){Zc(Os,Mu,Ep(lt(),e,n,r,o,l),!0)}function Zw(e,n,r,o,l,d,g){Zc(Os,Mu,Dp(lt(),e,n,r,o,l,d,g),!0)}class lN{destroy(n){}updateValue(n,r){}swap(n,r){const o=Math.min(n,r),l=Math.max(n,r),d=this.detach(l);if(l-o>1){const g=this.detach(o);this.attach(o,d),this.attach(l,g)}else this.attach(o,d)}move(n,r){this.attach(r,this.detach(n))}}function a0(e,n,r,o,l){return e===r&&Object.is(n,o)?1:Object.is(l(e,n),l(r,o))?-1:0}function l0(e,n,r,o){return!(void 0===n||!n.has(o)||(e.attach(r,n.get(o)),n.delete(o),0))}function qw(e,n,r,o,l){if(l0(e,n,o,r(o,l)))e.updateValue(o,l);else{const d=e.create(o,l);e.attach(o,d)}}function Jw(e,n,r,o){const l=new Set;for(let d=n;d<=r;d++)l.add(o(d,e.at(d)));return l}class eI{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const r=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(n,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,r){if(this.kvMap.has(n)){let o=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(o);)o=l.get(o);l.set(o,r)}else this.kvMap.set(n,r)}forEach(n){for(let[r,o]of this.kvMap)if(n(o,r),void 0!==this._vMap){const l=this._vMap;for(;l.has(o);)o=l.get(o),n(o,r)}}}function tI(e,n){uo("NgControlFlow");const r=lt(),o=Oo(),l=r[o]!==ur?r[o]:-1,d=-1!==l?Av(r,V+l):void 0;if(Do(r,o,e)){const w=Q(null);try{if(void 0!==d&&iE(d,0),-1!==e){const b=V+e,L=Av(r,b),Y=c0(r[Ye],b),le=fp(L,Y.tView.ssrId);dp(L,up(r,Y,n,{dehydratedView:le}),0,Jh(Y,le))}}finally{Q(w)}}else if(void 0!==d){const w=MD(d,0);void 0!==w&&(w[ls]=n)}}class uN{lContainer;$implicit;$index;constructor(n,r,o){this.lContainer=n,this.$implicit=r,this.$index=o}get $count(){return this.lContainer.length-Qn}}function nI(e){return e}function rI(e,n){return n}class dN{hasEmptyBlock;trackByFn;liveCollection;constructor(n,r,o){this.hasEmptyBlock=n,this.trackByFn=r,this.liveCollection=o}}function sI(e,n,r,o,l,d,g,w,b,L,Y,le,be){uo("NgControlFlow");const Ae=lt(),He=rr(),mt=void 0!==b,Lt=lt(),Bt=w?g.bind(Lt[Kr][ls]):g,vt=new dN(mt,Bt);Lt[V+e]=vt,km(Ae,He,e+1,n,r,o,l,gn(He.consts,d)),mt&&km(Ae,He,e+2,b,L,Y,le,gn(He.consts,be))}class hN extends lN{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,r,o){super(),this.lContainer=n,this.hostLView=r,this.templateTNode=o}get length(){return this.lContainer.length-Qn}at(n){return this.getLView(n)[ls].$implicit}attach(n,r){const o=r[Cr];this.needsIndexUpdate||=n!==this.length,dp(this.lContainer,r,n,Jh(this.templateTNode,o))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function fN(e,n){return Kh(e,n)}(this.lContainer,n)}create(n,r){const o=fp(this.lContainer,this.templateTNode.tView.ssrId),l=up(this.hostLView,this.templateTNode,new uN(this.lContainer,r,n),{dehydratedView:o});return this.operationsCounter?.recordCreate(),l}destroy(n){Gh(n[Ye],n),this.operationsCounter?.recordDestroy()}updateValue(n,r){this.getLView(n)[ls].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ls].$index=n}getLView(n){return function pN(e,n){return MD(e,n)}(this.lContainer,n)}}function iI(e){const n=Q(null),r=Ji();try{const o=lt(),l=o[Ye],d=o[r],g=r+1,w=Av(o,g);if(void 0===d.liveCollection){const L=c0(l,g);d.liveCollection=new hN(w,o,L)}else d.liveCollection.reset();const b=d.liveCollection;if(function cN(e,n,r){let o,l,d=0,g=e.length-1;if(Array.isArray(n)){let b=n.length-1;for(;d<=g&&d<=b;){const L=e.at(d),Y=n[d],le=a0(d,L,d,Y,r);if(0!==le){le<0&&e.updateValue(d,Y),d++;continue}const be=e.at(g),Ae=n[b],He=a0(g,be,b,Ae,r);if(0!==He){He<0&&e.updateValue(g,Ae),g--,b--;continue}const mt=r(d,L),Lt=r(g,be),Bt=r(d,Y);if(Object.is(Bt,Lt)){const vt=r(b,Ae);Object.is(vt,mt)?(e.swap(d,g),e.updateValue(g,Ae),b--,g--):e.move(g,d),e.updateValue(d,Y),d++}else if(o??=new eI,l??=Jw(e,d,g,r),l0(e,o,d,Bt))e.updateValue(d,Y),d++,g++;else if(l.has(Bt))o.set(mt,e.detach(d)),g--;else{const vt=e.create(d,n[d]);e.attach(d,vt),d++,g++}}for(;d<=b;)qw(e,o,r,d,n[d]),d++}else if(null!=n){const b=n[Symbol.iterator]();let L=b.next();for(;!L.done&&d<=g;){const Y=e.at(d),le=L.value,be=a0(d,Y,d,le,r);if(0!==be)be<0&&e.updateValue(d,le),d++,L=b.next();else{o??=new eI,l??=Jw(e,d,g,r);const Ae=r(d,le);if(l0(e,o,d,Ae))e.updateValue(d,le),d++,g++,L=b.next();else if(l.has(Ae)){const He=r(d,Y);o.set(He,e.detach(d)),g--}else e.attach(d,e.create(d,le)),d++,g++,L=b.next()}}for(;!L.done;)qw(e,o,r,e.length,L.value),L=b.next()}for(;d<=g;)e.destroy(e.detach(g--));o?.forEach(b=>{e.destroy(b)})}(b,e,d.trackByFn),b.updateIndexes(),d.hasEmptyBlock){const L=Oo(),Y=0===b.length;if(Do(o,L,Y)){const le=r+2,be=Av(o,le);if(Y){const Ae=c0(l,le),He=fp(be,Ae.tView.ssrId);dp(be,up(o,Ae,void 0,{dehydratedView:He}),0,Jh(Ae,He))}else iE(be,0)}}}finally{Q(n)}}function Av(e,n){return e[n]}function c0(e,n){return G(e,n)}function Ov(e,n,r,o){const l=lt(),d=rr(),g=V+e,w=l[Vn],b=d.firstCreatePass?function gN(e,n,r,o,l,d){const g=n.consts,b=Zd(n,e,2,o,gn(g,l));return i(n,r,b,gn(g,d)),null!==b.attrs&&gv(b,b.attrs,!1),null!==b.mergedAttrs&&gv(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(g,d,l,n,r,o):d.data[g],L=oI(d,l,b,w,n,e);l[g]=L;const Y=_s(b);return kr(b,!0),Zh(w,L,b),!function mp(e){return!(32&~e.flags)}(b)&&da()&&Yh(d,l,L,b),0===function lc(){return rn.lFrame.elementDepthCount}()&&Zo(L,l),function Nc(){rn.lFrame.elementDepthCount++}(),Y&&(mm(d,l,b),gm(d,b,l)),null!==o&&ym(l,b),Ov}function Nv(){let e=vn();_l()?lo():(e=e.parent,kr(e,!1));const n=e;(function oh(e){return rn.skipHydrationRootTNode===e})(n)&&function Fl(){rn.skipHydrationRootTNode=null}(),function Ha(){rn.lFrame.elementDepthCount--}();const r=rr();return r.firstCreatePass&&(Ya(r,e),wr(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function fc(e){return!!(8&e.flags)}(n)&&n0(r,n,lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function au(e){return!!(16&e.flags)}(n)&&n0(r,n,lt(),n.stylesWithoutHost,!1),Nv}function u0(e,n,r,o){return Ov(e,n,r,o),Nv(),u0}let oI=(e,n,r,o,l,d)=>(Ei(!0),od(o,l,function ou(){return rn.lFrame.currentNamespace}()));function Rv(e,n,r){const o=lt(),l=rr(),d=e+V,g=l.firstCreatePass?function vN(e,n,r,o,l){const d=n.consts,g=gn(d,o),w=Zd(n,e,8,"ng-container",g);return null!==g&&gv(w,g,!0),i(n,r,w,gn(d,l)),null!==n.queries&&n.queries.elementStart(n,w),w}(d,l,o,n,r):l.data[d];kr(g,!0);const w=aI(l,o,g,e);return o[d]=w,da()&&Yh(l,o,w,g),Zo(w,o),_s(g)&&(mm(l,o,g),gm(l,g,o)),null!=r&&ym(o,g),Rv}function xv(){let e=vn();const n=rr();return _l()?lo():(e=e.parent,kr(e,!1)),n.firstCreatePass&&(Ya(n,e),wr(e)&&n.queries.elementEnd(e)),xv}function d0(e,n,r){return Rv(e,n,r),xv(),d0}let aI=(e,n,r,o)=>(Ei(!0),Jf(n[Vn],""));function lI(){return lt()}function h0(e,n,r){const o=lt();return Do(o,Oo(),n)&&gl(rr(),xs(),o,e,n,o[Vn],r,!0),h0}function f0(e,n,r){const o=lt();if(Do(o,Oo(),n)){const d=rr(),g=xs();gl(d,g,o,e,n,bD(dc(d.data),g,o),r,!0)}return f0}const af=void 0;var CN=["en",[["a","p"],["AM","PM"],af],[["AM","PM"],af,af],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],af,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],af,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",af,"{1} 'at' {0}",af],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DN(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Mp={};function wN(e,n,r){"string"!=typeof n&&(r=n,n=e[Ap.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Mp[n]=e,r&&(Mp[n][Ap.ExtraData]=r)}function p0(e){const n=function TN(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=uI(n);if(r)return r;const o=n.split("-")[0];if(r=uI(o),r)return r;if("en"===o)return CN;throw new xt(701,!1)}function IN(e){return p0(e)[Ap.CurrencyCode]||null}function cI(e){return p0(e)[Ap.PluralCase]}function uI(e){return e in Mp||(Mp[e]=Er.ng&&Er.ng.common&&Er.ng.common.locales&&Er.ng.common.locales[e]),Mp[e]}var Ap=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ap||{});const Pv="en-US";let dI=Pv,AI=(e,n,r)=>{};function y0(e,n,r,o){const l=lt(),d=rr(),g=vn();return v0(d,l,l[Vn],g,e,n,o),y0}function v0(e,n,r,o,l,d,g){const w=_s(o),L=e.firstCreatePass&&SD(e),Y=n[ls],le=qd(n);let be=!0;if(3&o.type||g){const mt=M(o,n),Lt=g?g(mt):mt,Bt=le.length,vt=g?$r=>g(or($r[o.index])):o.index;let Zn=null;if(!g&&w&&(Zn=function pR(e,n,r,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const g=l[d];if(g===r&&l[d+1]===o){const w=n[Ta],b=l[d+2];return w.length>b?w[b]:null}"string"==typeof g&&(d+=2)}return null}(e,n,l,o.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=d,Zn.__ngLastListenerFn__=d,be=!1;else{d=RI(o,n,Y,d),AI(mt,l,d);const $r=r.listen(Lt,l,d);le.push(d,$r),L&&L.push(l,vt,Bt,Bt+1)}}else d=RI(o,n,Y,d);const Ae=o.outputs;let He;if(be&&null!==Ae&&(He=Ae[l])){const mt=He.length;if(mt)for(let Lt=0;Lt<mt;Lt+=2){const hs=n[He[Lt]][He[Lt+1]].subscribe(d),Ro=le.length;le.push(d,hs),L&&L.push(l,o.index,Ro,-(Ro+1))}}}function NI(e,n,r,o){const l=Q(null);try{return Ri(6,n,r),!1!==r(o)}catch(d){return iv(e,d),!1}finally{Ri(7,n,r),Q(l)}}function RI(e,n,r,o){return function l(d){if(d===Function)return o;Em(e.componentOffset>-1?De(e.index,n):n,5);let w=NI(n,r,o,d),b=l.__ngNextListenerFn__;for(;b;)w=NI(n,r,b,d)&&w,b=b.__ngNextListenerFn__;return w}}function xI(e=1){return function su(e){return(rn.lFrame.contextLView=Qo(e,rn.lFrame.contextLView))[ls]}(e)}function gR(e,n){let r=null;const o=function Qy(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===o?pm(e,d,!0):ap(o,d))return l}else r=l}return r}function PI(e){const n=lt()[Kr][_t];if(!n.projection){const o=n.projection=function Lo(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),l=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?gR(d,e):0;null!==g&&(l[g]?l[g].projectionNext=d:o[g]=d,l[g]=d)}d=d.next}}}function FI(e,n=0,r,o,l,d){const g=lt(),w=rr(),b=o?e+1:null;null!==b&&km(g,w,b,o,l,d,null,r);const L=Zd(w,V+e,16,null,r||null);null===L.projection&&(L.projection=n),lo();const le=!g[Cr]||yl();null===g[Kr][_t].projection[L.projection]&&null!==b?function mR(e,n,r){const o=V+r,l=n.data[o],d=e[o],g=fp(d,l.tView.ssrId);dp(d,up(e,l,void 0,{dehydratedView:g}),0,Jh(l,g))}(g,w,b):le&&32&~L.flags&&function gD(e,n,r){sp(n[Vn],0,n,r,Kc(e,r,n),Qh(r.parent||n[_t],r,n))}(w,g,L)}function _0(e,n,r){return Vv(e,"",n,"",r),_0}function Vv(e,n,r,o,l){const d=lt(),g=_p(d,n,r,o);return g!==ur&&gl(rr(),xs(),d,e,g,d[Vn],l,!1),Vv}function WI(e,n,r,o){_C(e,n,r,o)}function KI(e,n,r){!function vC(e,n,r){const o=rr();return o.firstCreatePass&&(EC(o,new gC(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),yC(o,lt(),n)}(e,n,r)}function GI(e){const n=lt(),r=rr(),o=Vl();Ul(o+1);const l=OE(r,o);if(e.dirty&&function rt(e){return!(4&~e[Tn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const d=DC(n,o);e.reset(d,fu),e.notifyOnChanges()}return!0}return!1}function zI(){return AE(lt(),Vl())}function QI(e,n,r,o,l){!function bC(e,n){const r=e[q];r._lView=lt(),r._queryIndex=n,r._queryList=AE(r._lView,n),r._queryList.onDirty(()=>r._dirtyCounter.update(o=>o+1))}(n,_C(e,r,o,l))}function XI(e=1){Ul(Vl()+e)}function YI(e){return ae(function Ki(){return rn.lFrame.contextLView}(),V+e)}function ZI(e,n,r){Xc(_p(lt(),e,n,r))}function aT(e,n=""){const r=lt(),o=rr(),l=e+V,d=o.firstCreatePass?Zd(o,l,1,n,null):o.data[l],g=lT(o,r,d,n,e);r[l]=g,da()&&Yh(o,r,g,d),kr(d,!1)}let lT=(e,n,r,o,l)=>(Ei(!0),function rm(e,n){return e.createText(n)}(n[Vn],o));function D0(e){return Uv("",e,""),D0}function Uv(e,n,r){const o=lt(),l=_p(o,e,n,r);return l!==ur&&ud(o,Ji(),l),Uv}function C0(e,n,r,o,l){const d=lt(),g=Ep(d,e,n,r,o,l);return g!==ur&&ud(d,Ji(),g),C0}function w0(e,n,r,o,l,d,g){const w=lt(),b=Dp(w,e,n,r,o,l,d,g);return b!==ur&&ud(w,Ji(),b),w0}function I0(e,n,r,o,l,d,g,w,b){const L=lt(),Y=function Cp(e,n,r,o,l,d,g,w,b,L){const le=bc(e,vi(),r,l,g,b);return co(4),le?n+pe(r)+o+pe(l)+d+pe(g)+w+pe(b)+L:ur}(L,e,n,r,o,l,d,g,w,b);return Y!==ur&&ud(L,Ji(),Y),I0}function T0(e,n,r,o,l,d,g,w,b,L,Y,le,be){const Ae=lt(),He=function Ip(e,n,r,o,l,d,g,w,b,L,Y,le,be,Ae){const He=vi();let mt=bc(e,He,r,l,g,b);return mt=nf(e,He+4,Y,be)||mt,co(6),mt?n+pe(r)+o+pe(l)+d+pe(g)+w+pe(b)+L+pe(Y)+le+pe(be)+Ae:ur}(Ae,e,n,r,o,l,d,g,w,b,L,Y,le,be);return He!==ur&&ud(Ae,Ji(),He),T0}function S0(e,n,r){wC(n)&&(n=n());const o=lt();return Do(o,Oo(),n)&&gl(rr(),xs(),o,e,n,o[Vn],r,!1),S0}function fT(e,n){const r=wC(e);return r&&e.set(n),r}function b0(e,n){const r=lt(),o=rr(),l=vn();return v0(o,r,r[Vn],l,e,n),b0}function M0(e,n,r,o,l){if(e=ve(e),Array.isArray(e))for(let d=0;d<e.length;d++)M0(e[d],n,r,o,l);else{const d=rr(),g=lt(),w=vn();let b=In(e)?e:ve(e.provide);const L=Fa(e),Y=1048575&w.providerIndexes,le=w.directiveStart,be=w.providerIndexes>>20;if(In(e)||!e.multi){const Ae=new bs(L,l,Yd),He=O0(b,n,l?Y:Y+be,le);-1===He?(qa(uu(w,g),d,b),A0(d,e,n.length),n.push(b),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),r.push(Ae),g.push(Ae)):(r[He]=Ae,g[He]=Ae)}else{const Ae=O0(b,n,Y+be,le),He=O0(b,n,Y,Y+be),Lt=He>=0&&r[He];if(l&&!Lt||!l&&!(Ae>=0&&r[Ae])){qa(uu(w,g),d,b);const Bt=function xR(e,n,r,o,l){const d=new bs(e,r,Yd);return d.multi=[],d.index=n,d.componentProviders=0,mT(d,l,o&&!r),d}(l?RR:NR,r.length,l,o,L);!l&&Lt&&(r[He].providerFactory=Bt),A0(d,e,n.length,0),n.push(b),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),r.push(Bt),g.push(Bt)}else A0(d,e,Ae>-1?Ae:He,mT(r[l?He:Ae],L,!l&&o));!l&&o&&Lt&&r[He].componentProviders++}}}function A0(e,n,r,o){const l=In(n),d=function Bi(e){return!!e.useClass}(n);if(l||d){const b=(d?ve(n.useClass):n).prototype.ngOnDestroy;if(b){const L=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const Y=L.indexOf(r);-1===Y?L.push(r,[o,b]):L[Y+1].push(o,b)}else L.push(r,b)}}}function mT(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function O0(e,n,r,o){for(let l=r;l<o;l++)if(n[l]===e)return l;return-1}function NR(e,n,r,o){return N0(this.multi,[])}function RR(e,n,r,o){const l=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=pl(r,r[Ye],this.providerFactory.index,o);d=w.slice(0,g),N0(l,d);for(let b=g;b<w.length;b++)d.push(w[b])}else d=[],N0(l,d);return d}function N0(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function yT(e,n=[]){return r=>{r.providersResolver=(o,l)=>function OR(e,n,r){const o=rr();if(o.firstCreatePass){const l=Vs(e);M0(r,o.data,o.blueprint,l,!0),M0(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}function vT(e,n,r){const o=e.\u0275cmp;o.directiveDefs=vv(n,!1),o.pipeDefs=vv(r,!0)}function ET(e,n,r){const o=Mi()+e,l=lt();return l[o]===ur?bu(l,o,r?n.call(r):n()):function Fm(e,n){return e[n]}(l,o)}function DT(e,n,r,o){return TT(lt(),Mi(),e,n,r,o)}function CT(e,n,r,o,l){return ST(lt(),Mi(),e,n,r,o,l)}function wT(e,n,r,o,l,d){return bT(lt(),Mi(),e,n,r,o,l,d)}function IT(e,n,r,o,l,d,g){return function MT(e,n,r,o,l,d,g,w,b){const L=n+r;return bc(e,L,l,d,g,w)?bu(e,L+4,b?o.call(b,l,d,g,w):o(l,d,g,w)):Gm(e,L+4)}(lt(),Mi(),e,n,r,o,l,d,g)}function Gm(e,n){const r=e[n];return r===ur?void 0:r}function TT(e,n,r,o,l,d){const g=n+r;return Do(e,g,l)?bu(e,g+1,d?o.call(d,l):o(l)):Gm(e,g+1)}function ST(e,n,r,o,l,d,g){const w=n+r;return nf(e,w,l,d)?bu(e,w+2,g?o.call(g,l,d):o(l,d)):Gm(e,w+2)}function bT(e,n,r,o,l,d,g,w){const b=n+r;return Dv(e,b,l,d,g)?bu(e,b+3,w?o.call(w,l,d,g):o(l,d,g)):Gm(e,b+3)}function OT(e,n){const r=rr();let o;const l=e+V;r.firstCreatePass?(o=function jR(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[l]=o,o.onDestroy&&(r.destroyHooks??=[]).push(l,o.onDestroy)):o=r.data[l];const d=o.factory||(o.factory=wn(o.type)),w=lr(Yd);try{const b=fi(!1),L=d();return fi(b),function E0(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}(r,lt(),l,L),L}finally{lr(w)}}function NT(e,n,r){const o=e+V,l=lt(),d=ae(l,o);return zm(l,o)?TT(l,Mi(),n,d.transform,r,d):d.transform(r)}function RT(e,n,r,o){const l=e+V,d=lt(),g=ae(d,l);return zm(d,l)?ST(d,Mi(),n,g.transform,r,o,g):g.transform(r,o)}function xT(e,n,r,o,l){const d=e+V,g=lt(),w=ae(g,d);return zm(g,d)?bT(g,Mi(),n,w.transform,r,o,l,w):w.transform(r,o,l)}function PT(e,n,r){const o=e+V,l=lt(),d=ae(l,o);return zm(l,o)?function AT(e,n,r,o,l,d){let g=n+r,w=!1;for(let b=0;b<l.length;b++)Do(e,g++,l[b])&&(w=!0);return w?bu(e,g,o.apply(d,l)):Gm(e,g)}(l,Mi(),n,d.transform,r,d):d.transform.apply(d,r)}function zm(e,n){return e[Ye].data[n].pure}function FT(e,n){return lv(e,n)}class ZT{full;major;minor;patch;constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const gx=new ZT("19.0.5");class mx{ngModuleFactory;componentFactories;constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let yx=(()=>{class e{compileModuleSync(r){return new PE(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=el(js(r).declarations).reduce((g,w)=>{const b=zn(w);return b&&g.push(new xm(b)),g},[]);return new mx(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ex=(()=>{class e{zone=Xt(P);changeDetectionScheduler=Xt(Hn);applicationRef=Xt(rc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function L0({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new P({...V0(),scheduleInRootZone:r}),[{provide:P,useFactory:e},{provide:Ti,multi:!0,useFactory:()=>{const o=Xt(Ex,{optional:!0});return()=>o.initialize()}},{provide:Ti,multi:!0,useFactory:()=>{const o=Xt(Cx);return()=>{o.initialize()}}},!0===n?{provide:Ps,useValue:!0}:[],{provide:Wn,useValue:r??Jt}]}function V0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Cx=(()=>{class e{subscription=new ns.yU;initialized=!1;zone=Xt(P);pendingTasks=Xt(Vr);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xm=(()=>{class e{appRef=Xt(rc);taskService=Xt(Vr);ngZone=Xt(P);zonelessEnabled=Xt(An);tracing=Xt(Cc,{optional:!0});disableScheduling=Xt(Ps,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ns.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(y):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Xt(Wn,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jt||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 8:this.appRef.deferredDirtyFlags|=8;break;case 6:case 14:this.appRef.dirtyFlags|=2,o=!0;break;case 13:this.appRef.dirtyFlags|=16,o=!0;break;case 12:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const l=this.useMicrotaskScheduler?f:_c;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(y+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const B0=new de("",{providedIn:"root",factory:()=>Xt(B0,hn.Optional|hn.SkipSelf)||function wx(){return typeof $localize<"u"&&$localize.locale||Pv}()}),Ix=new de("",{providedIn:"root",factory:()=>"USD"}),$v=new de(""),Ax=new de("");function Ym(e){return!e.moduleRef}let rS=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(r){this._injector=r}bootstrapModuleFactory(r,o){const l=o?.scheduleInRootZone,g=o?.ignoreChangesOutsideZone,w=[L0({ngZoneFactory:()=>function Yo(e="zone.js",n){return"noop"===e?new jt:"zone.js"===e?new P(n):e}(o?.ngZone,{...V0({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:l}),ignoreChangesOutsideZone:g}),{provide:Hn,useExisting:Xm}],b=function XM(e,n,r){return new xE(e,n,r,!1)}(r.moduleType,this.injector,w);return function nS(e){const n=Ym(e)?e.r3Injector:e.moduleRef.injector,r=n.get(P);return r.run(()=>{Ym(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Ar,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:d=>{o.handleError(d)}})}),Ym(e)){const d=()=>n.destroy(),g=e.platformInjector.get($v);g.add(d),n.onDestroy(()=>{l.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get($v);g.add(d),e.moduleRef.onDestroy(()=>{Sv(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(d)})}return function rO(e,n,r){try{const o=r();return KE(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get(pw);return d.runInitializers(),d.donePromise.then(()=>{if(function AN(e){"string"==typeof e&&(dI=e.toLowerCase().replace(/_/g,"-"))}(n.get(B0,Pv)||Pv),!n.get(Ax,!0))return Ym(e)?n.get(rc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ym(e)){const b=n.get(rc);return void 0!==e.rootComponent&&b.bootstrap(e.rootComponent),b}return function Ox(e,n){const r=e.injector.get(rc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new xt(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:b,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,o=[]){const l=yw({},o);return function _x(e,n,r){const o=new PE(r);return Promise.resolve(o)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,l))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xt(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get($v,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(o){return new(o||e)(gs(Pe))};static \u0275prov=Yt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ih=null;const sS=new de("");function iS(e,n,r=[]){const o=`Platform: ${n}`,l=new de(o);return(d=[])=>{let g=j0();if(!g||g.injector.get(sS,!1)){const w=[...r,...d,{provide:l,useValue:!0}];e?e(w):function Nx(e){if(ih&&!ih.get(sS,!1))throw new xt(400,!1);(function mw(){!function dr(e){_r=e}(()=>{throw new xt(600,!1)})})(),ih=e;const n=e.get(rS);(function aS(e){const n=e.get(Yp,null);sa(e,()=>{n?.forEach(r=>r())})})(e)}(function oS(e=[],n){return Pe.create({name:n,providers:[{provide:io,useValue:"platform"},{provide:$v,useValue:new Set([()=>ih=null])},...e]})}(w,o))}return function Rx(){const n=j0();if(!n)throw new xt(401,!1);return n}()}}function j0(){return ih?.get(rS)??null}function Px(){return!1}function Fx(){}let cS=(()=>class e{static __NG_ELEMENT_ID__=kx})();function kx(e){return function Lx(e,n,r){if(vs(e)&&!r){const o=De(e.index,n);return new Dm(o,o)}return 175&e.type?new Dm(n[Kr],n):null}(vn(),lt(),!(16&~e))}class fS{constructor(){}supports(n){return Ev(n)}create(n){return new $x(n)}}const jx=(e,n)=>n;class $x{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||jx}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,l=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<gS(o,l,d)?r:o,w=gS(g,l,d),b=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)l++;else{d||(d=[]);const L=w-l,Y=b-l;if(L!=Y){for(let be=0;be<L;be++){const Ae=be<d.length?d[be]:d[be]=0,He=Ae+be;Y<=He&&He<L&&(d[be]=Ae+1)}d[g.previousIndex]=Y-L}}w!==b&&n(g,w,b)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Ev(n))throw new xt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)d=n[w],g=this._trackByFn(w,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,w)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,w),o=!0),r=r._next}else l=0,function hA(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,w=>{g=this._trackByFn(l,w),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,w,g,l)),Object.is(r.item,w)||this._addIdentityChange(r,w)):(r=this._mismatch(r,w,g,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,l)):n=this._addAfter(new Hx(r,o),d,l),n}_verifyReinsertion(n,r,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const l=null===r?this._itHead:r._next;return n._next=l,n._prev=r,null===l?this._itTail=n:l._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new pS),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Hx{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,r){this.item=n,this.trackById=r}}class Wx{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class pS{map=new Map;put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new Wx,this.map.set(r,o)),o.add(n)}get(n,r){const l=this.map.get(n);return l?l.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gS(e,n,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+n+l}class mS{constructor(){}supports(n){return n instanceof Map||UE(n)}create(){return new Kx}}class Kx{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||UE(n)))throw new xt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,r);const d=l._prev,g=l._next;return d&&(d._next=g),g&&(g._prev=d),l._next=null,l._prev=null,l}const o=new Gx(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class Gx{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function yS(){return new G0([new fS])}let G0=(()=>{class e{factories;static \u0275prov=Yt({token:e,providedIn:"root",factory:yS});constructor(r){this.factories=r}static create(r,o){if(null!=o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||yS()),deps:[[e,new Zs,new no]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(null!=o)return o;throw new xt(901,!1)}}return e})();function vS(){return new z0([new mS])}let z0=(()=>{class e{static \u0275prov=Yt({token:e,providedIn:"root",factory:vS});factories;constructor(r){this.factories=r}static create(r,o){if(o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||vS()),deps:[[e,new Zs,new no]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(o)return o;throw new xt(901,!1)}}return e})();const Xx=iS(null,"core",[]);let Yx=(()=>{class e{constructor(r){}static \u0275fac=function(o){return new(o||e)(gs(rc))};static \u0275mod=kE({type:e});static \u0275inj=xr({})}return e})();function OP(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function NP(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}function Z0(e,n){uo("NgSignals");const r=pt(e);return n?.equal&&(r[q].equal=n.equal),r}function kP(e,n){uo("NgSignals");const r="function"==typeof e,o=Object.create(LP);o.source=r?e:e.source,r||(o.computation=e.computation);const l=r?n?.equal:e.equal;return l&&(o.equal=l),function FP(e){const r=()=>{if(Le(e),Te(e),e.value===e_)throw e.error;return e.value};return r[q]=e,r.set=o=>{Le(e),Ct(e,o),Ge(e)},r.update=o=>{Le(e),Et(e,o),Ge(e)},r.asReadonly=NE.bind(r),r}(o)}const Jv=Symbol("UNSET"),q0=Symbol("COMPUTING"),e_=Symbol("ERRORED"),LP={...ne,value:Jv,dirty:!0,error:null,equal:v,computation:e=>e,producerMustRecompute:e=>e.value===Jv||e.value===q0,producerRecomputeValue(e){if(e.value===q0)throw new Error("Detected cycle in computations.");const n=e.value;e.value=q0;const r=ht(e);let o;try{const l=e.source();o=e.computation(l,n===Jv||n===e_?void 0:{source:e.sourceValue,value:n}),e.sourceValue=l}catch(l){o=e_,e.error=l}finally{Rt(e,r)}n!==Jv&&o!==e_&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};function Rp(e){const n=Q(null);try{return e()}finally{Q(n)}}let GS=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=VP})();function VP(){return new GS(lt(),vn())}let BP=(()=>{class e extends gw{pendingTasks=Xt(Vr);taskId=null;schedule(r){super.schedule(r),null===this.taskId&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{null!==this.taskId&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=Yt({token:e,providedIn:"root",factory:()=>new e})}return e})();class jP{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(n,r,o,l,d,g){this.scheduler=n,this.effectFn=r,this.zone=o,this.injector=d,this.watcher=function Cn(e,n,r){const o=Object.create(yn);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;const l=b=>{o.cleanupFn=b};return o.ref={notify:()=>Ze(o),run:()=>{if(null===o.fn)return;if(function ie(){return U}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Je(o))return;o.hasRun=!0;const b=ht(o);try{o.cleanupFn(),o.cleanupFn=Kn,o.fn(l)}finally{Rt(o,b)}},cleanup:()=>o.cleanupFn(),destroy:()=>function g(b){(function d(b){return null===b.fn&&null===b.schedule})(b)||(je(b),b.cleanupFn(),b.fn=null,b.schedule=null,b.cleanupFn=Kn)}(o),[q]:o},o.ref}(w=>this.runEffect(w),()=>this.schedule(),g),this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(Ar,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let J0=!1;class WP{[q];constructor(n){this[q]=n}destroy(){this[q].destroy()}}function eD(e,n){if(J0)return function HP(e,n){uo("NgSignals"),!n?.injector&&Lr();const r=n?.injector??Xt(Pe),o=!0!==n?.manualCleanup?r.get(en):null,l=new jP(r.get(BP),e,typeof Zone>"u"?null:Zone.current,o,r,n?.allowSignalWrites??!1),d=r.get(cS,null,{optional:!0});return d&&8&d._lView[Tn]?(d._lView[S]??=[]).push(l.watcher.notify):l.watcher.notify(),l}(e,n);uo("NgSignals"),!n?.injector&&Lr();const r=n?.injector??Xt(Pe);let l,o=!0!==n?.manualCleanup?r.get(en):null;const d=r.get(GS,null,{optional:!0}),g=r.get(Hn);return null===d||n?.forceRoot?l=function QP(e,n,r){const o=Object.create(KP);return o.fn=e,o.scheduler=n,o.notifier=r,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(13),o}(e,r.get(zE),g):(l=function zP(e,n,r){const o=Object.create(GP);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=n,o.fn=r,e[X]??=new Set,e[X].add(o),o.consumerMarkedDirty(o),o}(d.view,g,e),o instanceof bt&&o._lView===d.view&&(o=null)),l.injector=r,null!==o&&(l.onDestroyFn=o.onDestroy(()=>l.destroy())),new WP(l)}const zS={...ne,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,onDestroyFn:Xo,run(){if(this.dirty=!1,this.hasRun&&!Je(this))return;this.hasRun=!0;const e=o=>(this.cleanupFns??=[]).push(o),n=ht(this),r=Dl(!1);try{this.maybeCleanup(),this.fn(e)}finally{Dl(r),Rt(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},KP={...zS,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){je(this),this.onDestroyFn(),this.maybeCleanup()}},GP={...zS,consumerMarkedDirty(){this.view[Tn]|=8192,mi(this.view),this.notifier.notify(14)},destroy(){je(this),this.onDestroyFn(),this.maybeCleanup(),this.view[X]?.delete(this)}};var Ga=function(e){return e[e.Idle=0]="Idle",e[e.Error=1]="Error",e[e.Loading=2]="Loading",e[e.Reloading=3]="Reloading",e[e.Resolved=4]="Resolved",e[e.Local=5]="Local",e}(Ga||{});function XS(e){return e?.injector||Lr(),new JP(e.request??(()=>null),e.loader,e.equal,e.injector)}class qP{value;status=pp(Ga.Idle);error=pp(void 0);rawSetValue;constructor(n){var e;this.value=pp(void 0,{equal:n?(e=n,(n,r)=>void 0===n||void 0===r?n===r:e(n,r)):void 0}),this.rawSetValue=this.value.set,this.value.set=r=>this.set(r),this.value.update=r=>this.set(r(Rp(this.value)))}set(n){const r=this.value[q].version;this.rawSetValue(n),this.value[q].version!==r&&(this.onLocalValue(),this.status.set(Ga.Local),this.error.set(void 0))}update(n){this.value.update(n)}isLoading=Z0(()=>this.status()===Ga.Loading||this.status()===Ga.Reloading);hasValue(){return this.status()===Ga.Resolved||this.status()===Ga.Local||this.status()===Ga.Reloading}asReadonly(){return this}setValueState(n,r=void 0){this.status.set(n),this.rawSetValue(r),this.error.set(void 0)}setErrorState(n){this.value.set(void 0),this.status.set(Ga.Error),this.error.set(n)}}class JP extends qP{loaderFn;request;pendingTasks;effectRef;pendingController;resolvePendingTask=void 0;constructor(n,r,o,l){super(o),this.loaderFn=r,l=l??Xt(Pe),this.pendingTasks=l.get(jr),this.request=Z0(()=>({request:n(),reload:pp(0)})),this.effectRef=eD(this.loadEffect.bind(this),{injector:l,manualCleanup:!0}),l.get(en).onDestroy(()=>this.destroy())}reload(){const n=Rp(this.status);return n!==Ga.Idle&&n!==Ga.Loading&&n!==Ga.Reloading&&(Rp(this.request).reload.update(r=>r+1),!0)}destroy(){this.effectRef.destroy(),this.abortInProgressLoad(),this.setValueState(Ga.Idle)}loadEffect(){var n=this;return(0,_.A)(function*(){const r=Rp(n.status);n.abortInProgressLoad();const o=n.request();if(void 0===o.request)return void n.setValueState(Ga.Idle);0===o.reload()?n.setValueState(Ga.Loading):n.status.set(Ga.Reloading);const l=n.resolvePendingTask=n.pendingTasks.add(),{signal:d}=n.pendingController=new AbortController;try{const g=yield Rp(()=>n.loaderFn({abortSignal:d,request:o.request,previous:{status:r}}));if(d.aborted)return;n.setValueState(Ga.Resolved,g)}catch(g){if(d.aborted)return;n.setErrorState(g)}finally{l()}})()}abortInProgressLoad(){this.pendingController?.abort(),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}onLocalValue(){this.abortInProgressLoad()}}function t1(e,n){const r=zn(e),o=n.elementInjector||So();return new xm(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function n1(e){const n=zn(e);if(!n)return null;const r=new xm(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9079:(ut,ye,D)=>{D.d(ye,{ZX:()=>Le,ot:()=>ne});var _=D(4438),v=D(1413),ce=D(6697),U=D(6977);function ne(Ie,xe){const Ze=!xe?.manualCleanup;Ze&&!xe?.injector&&(0,_.Af3)(ne);const Ge=Ze?xe?.injector?.get(_.abz)??(0,_.WQX)(_.abz):null,ht=function Te(Ie=Object.is){return(xe,Ze)=>1===xe.kind&&1===Ze.kind&&Ie(xe.value,Ze.value)}(xe?.equal);let Rt;Rt=(0,_.vPA)(xe?.requireSync?{kind:0}:{kind:1,value:xe?.initialValue},{equal:ht});const Je=Ie.subscribe({next:je=>Rt.set({kind:1,value:je}),error:je=>{if(xe?.rejectErrors)throw je;Rt.set({kind:2,error:je})}});if(xe?.requireSync&&0===Rt().kind)throw new _.wOt(601,!1);return Ge?.onDestroy(Je.unsubscribe.bind(Je)),(0,_.EWP)(()=>{const je=Rt();switch(je.kind){case 1:return je.value;case 2:throw je.error;case 0:throw new _.wOt(601,!1)}},{equal:xe?.equal})}function Le(Ie){return Ie?.injector||(0,_.Af3)(Le),(0,_.ZcF)({...Ie,loader:xe=>{const Ze=new v.B;return xe.abortSignal.addEventListener("abort",()=>Ze.next()),new Promise((Ge,ht)=>{Ie.loader(xe).pipe((0,ce.s)(1),(0,U.Q)(Ze)).subscribe({next:Ge,error:ht,complete:()=>ht(new Error("Resource completed before producing a value"))})})}})}},9417:(ut,ye,D)=>{D.d(ye,{$R:()=>Po,BC:()=>Jn,Fm:()=>Ss,JD:()=>Xt,MJ:()=>bn,MR:()=>Bs,Q0:()=>on,R_:()=>Ti,VZ:()=>Lo,W0:()=>Zs,X1:()=>To,Y4:()=>Pt,YN:()=>Ca,YS:()=>ui,Yp:()=>zn,ZU:()=>yn,Zm:()=>ne,cV:()=>jn,cb:()=>Es,cz:()=>Ge,gE:()=>sn,j4:()=>Ni,k0:()=>Je,kq:()=>ie,l_:()=>Ys,me:()=>Ie,ok:()=>Ui,qT:()=>hn,tU:()=>cr,v8:()=>to,vO:()=>Gr,vS:()=>br,wz:()=>Nr,xH:()=>go,xh:()=>Li,y7:()=>ro,zX:()=>Fr});var _=D(4438),v=D(177),ce=D(2806),U=D(7468),W=D(1413),q=D(6354);let Q=(()=>{class H{_renderer;_elementRef;onChange=x=>{};onTouched=()=>{};constructor(x,re){this._renderer=x,this._elementRef=re}setProperty(x,re){this._renderer.setProperty(this._elementRef.nativeElement,x,re)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static \u0275fac=function(re){return new(re||H)(_.rXU(_.sFG),_.rXU(_.aKT))};static \u0275dir=_.FsC({type:H})}return H})(),z=(()=>{class H extends Q{static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,features:[_.Vt3]})}return H})();const ie=new _.nKC(""),ee={provide:ie,useExisting:(0,_.Rfq)(()=>ne),multi:!0};let ne=(()=>{class H extends z{writeValue(x){this.setProperty("checked",x)}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(re,Ne){1&re&&_.bIt("change",function(In){return Ne.onChange(In.target.checked)})("blur",function(){return Ne.onTouched()})},standalone:!1,features:[_.Jv_([ee]),_.Vt3]})}return H})();const Te={provide:ie,useExisting:(0,_.Rfq)(()=>Ie),multi:!0},Le=new _.nKC("");let Ie=(()=>{class H extends Q{_compositionMode;_composing=!1;constructor(x,re,Ne){super(x,re),this._compositionMode=Ne,null==this._compositionMode&&(this._compositionMode=!function Fe(){const H=(0,v.\u0275getDOM)()?(0,v.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static \u0275fac=function(re){return new(re||H)(_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(Le,8))};static \u0275dir=_.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(re,Ne){1&re&&_.bIt("input",function(In){return Ne._handleInput(In.target.value)})("blur",function(){return Ne.onTouched()})("compositionstart",function(){return Ne._compositionStart()})("compositionend",function(In){return Ne._compositionEnd(In.target.value)})},standalone:!1,features:[_.Jv_([Te]),_.Vt3]})}return H})();function xe(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function Ze(H){return null!=H&&"number"==typeof H.length}const Ge=new _.nKC(""),ht=new _.nKC(""),Rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Je{static min(K){return je(K)}static max(K){return Ht(K)}static required(K){return Ot(K)}static requiredTrue(K){return function Kt(H){return!0===H.value?null:{required:!0}}(K)}static email(K){return function Gt(H){return xe(H.value)||Rt.test(H.value)?null:{email:!0}}(K)}static minLength(K){return zt(K)}static maxLength(K){return Pn(K)}static pattern(K){return pt(K)}static nullValidator(K){return null}static compose(K){return dr(K)}static composeAsync(K){return Ue(K)}}function je(H){return K=>{if(xe(K.value)||xe(H))return null;const x=parseFloat(K.value);return!isNaN(x)&&x<H?{min:{min:H,actual:K.value}}:null}}function Ht(H){return K=>{if(xe(K.value)||xe(H))return null;const x=parseFloat(K.value);return!isNaN(x)&&x>H?{max:{max:H,actual:K.value}}:null}}function Ot(H){return xe(H.value)?{required:!0}:null}function zt(H){return K=>xe(K.value)||!Ze(K.value)?null:K.value.length<H?{minlength:{requiredLength:H,actualLength:K.value.length}}:null}function Pn(H){return K=>Ze(K.value)&&K.value.length>H?{maxlength:{requiredLength:H,actualLength:K.value.length}}:null}function pt(H){if(!H)return tt;let K,x;return"string"==typeof H?(x="","^"!==H.charAt(0)&&(x+="^"),x+=H,"$"!==H.charAt(H.length-1)&&(x+="$"),K=new RegExp(x)):(x=H.toString(),K=H),re=>{if(xe(re.value))return null;const Ne=re.value;return K.test(Ne)?null:{pattern:{requiredPattern:x,actualValue:Ne}}}}function tt(H){return null}function Nt(H){return null!=H}function Dn(H){return(0,_.jNT)(H)?(0,ce.H)(H):H}function kn(H){let K={};return H.forEach(x=>{K=null!=x?{...K,...x}:K}),0===Object.keys(K).length?null:K}function yr(H,K){return K.map(x=>x(H))}function ws(H){return H.map(K=>function _r(H){return!H.validate}(K)?K:x=>K.validate(x))}function dr(H){if(!H)return null;const K=H.filter(Nt);return 0==K.length?null:function(x){return kn(yr(x,K))}}function Xe(H){return null!=H?dr(ws(H)):null}function Ue(H){if(!H)return null;const K=H.filter(Nt);return 0==K.length?null:function(x){const re=yr(x,K).map(Dn);return(0,U.p)(re).pipe((0,q.T)(kn))}}function st(H){return null!=H?Ue(ws(H)):null}function at(H,K){return null===H?[K]:Array.isArray(H)?[...H,K]:[H,K]}function Ct(H){return H._rawValidators}function Et(H){return H._rawAsyncValidators}function Zt(H){return H?Array.isArray(H)?H:[H]:[]}function mn(H,K){return Array.isArray(H)?H.includes(K):H===K}function hr(H,K){const x=Zt(K);return Zt(H).forEach(Ne=>{mn(x,Ne)||x.push(Ne)}),x}function Cn(H,K){return Zt(K).filter(x=>!mn(H,x))}class Kn{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Xe(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,x){return!!this.control&&this.control.hasError(K,x)}getError(K,x){return this.control?this.control.getError(K,x):null}}class yn extends Kn{name;get formDirective(){return null}get path(){return null}}class Gr extends Kn{_parent=null;name=null;valueAccessor=null}class Gn{_cd;constructor(K){this._cd=K}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jn=(()=>{class H extends Gn{constructor(x){super(x)}static \u0275fac=function(re){return new(re||H)(_.rXU(Gr,2))};static \u0275dir=_.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(re,Ne){2&re&&_.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)},standalone:!1,features:[_.Vt3]})}return H})(),Es=(()=>{class H extends Gn{constructor(x){super(x)}static \u0275fac=function(re){return new(re||H)(_.rXU(yn,10))};static \u0275dir=_.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(re,Ne){2&re&&_.AVh("ng-untouched",Ne.isUntouched)("ng-touched",Ne.isTouched)("ng-pristine",Ne.isPristine)("ng-dirty",Ne.isDirty)("ng-valid",Ne.isValid)("ng-invalid",Ne.isInvalid)("ng-pending",Ne.isPending)("ng-submitted",Ne.isSubmitted)},standalone:!1,features:[_.Vt3]})}return H})();const ys="VALID",fn="INVALID",Qs="PENDING",sr="DISABLED";class vr{}class fs extends vr{value;source;constructor(K,x){super(),this.value=K,this.source=x}}class Xs extends vr{pristine;source;constructor(K,x){super(),this.pristine=K,this.source=x}}class ks extends vr{touched;source;constructor(K,x){super(),this.touched=K,this.source=x}}class ve extends vr{status;source;constructor(K,x){super(),this.status=K,this.source=x}}class Se extends vr{source;constructor(K){super(),this.source=K}}class oe extends vr{source;constructor(K){super(),this.source=K}}function Ce(H){return(Tt(H)?H.validators:H)||null}function we(H,K){return(Tt(K)?K.asyncValidators:H)||null}function Tt(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function pn(H,K,x){const re=H.controls;if(!(K?Object.keys(re):re).length)throw new _.wOt(1e3,"");if(!re[x])throw new _.wOt(1001,"")}function ln(H,K,x){H._forEachChild((re,Ne)=>{if(void 0===x[Ne])throw new _.wOt(1002,"")})}class Un{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(K,x){this._assignValidators(K),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get status(){return(0,_.O8t)(this.statusReactive)}set status(K){(0,_.O8t)(()=>this.statusReactive.set(K))}_status=(0,_.EWP)(()=>this.statusReactive());statusReactive=(0,_.vPA)(void 0);get valid(){return this.status===ys}get invalid(){return this.status===fn}get pending(){return this.status==Qs}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}errors;get pristine(){return(0,_.O8t)(this.pristineReactive)}set pristine(K){(0,_.O8t)(()=>this.pristineReactive.set(K))}_pristine=(0,_.EWP)(()=>this.pristineReactive());pristineReactive=(0,_.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,_.O8t)(this.touchedReactive)}set touched(K){(0,_.O8t)(()=>this.touchedReactive.set(K))}_touched=(0,_.EWP)(()=>this.touchedReactive());touchedReactive=(0,_.vPA)(!1);get untouched(){return!this.touched}_events=new W.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(hr(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(hr(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(Cn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(Cn(K,this._rawAsyncValidators))}hasValidator(K){return mn(this._rawValidators,K)}hasAsyncValidator(K){return mn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){const x=!1===this.touched;this.touched=!0;const re=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsTouched({...K,sourceControl:re}),x&&!1!==K.emitEvent&&this._events.next(new ks(!0,re))}markAllAsTouched(K={}){this.markAsTouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(x=>x.markAllAsTouched(K))}markAsUntouched(K={}){const x=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const re=K.sourceControl??this;this._forEachChild(Ne=>{Ne.markAsUntouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:re})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,re),x&&!1!==K.emitEvent&&this._events.next(new ks(!1,re))}markAsDirty(K={}){const x=!0===this.pristine;this.pristine=!1;const re=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsDirty({...K,sourceControl:re}),x&&!1!==K.emitEvent&&this._events.next(new Xs(!1,re))}markAsPristine(K={}){const x=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const re=K.sourceControl??this;this._forEachChild(Ne=>{Ne.markAsPristine({onlySelf:!0,emitEvent:K.emitEvent})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K,re),x&&!1!==K.emitEvent&&this._events.next(new Xs(!0,re))}markAsPending(K={}){this.status=Qs;const x=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new ve(this.status,x)),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.markAsPending({...K,sourceControl:x})}disable(K={}){const x=this._parentMarkedDirty(K.onlySelf);this.status=sr,this.errors=null,this._forEachChild(Ne=>{Ne.disable({...K,onlySelf:!0})}),this._updateValue();const re=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new fs(this.value,re)),this._events.next(new ve(this.status,re)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:x},this),this._onDisabledChange.forEach(Ne=>Ne(!0))}enable(K={}){const x=this._parentMarkedDirty(K.onlySelf);this.status=ys,this._forEachChild(re=>{re.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:x},this),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(K,x){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine({},x),this._parent._updateTouched({},x))}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const re=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ys||this.status===Qs)&&this._runAsyncValidator(re,K.emitEvent)}const x=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new fs(this.value,x)),this._events.next(new ve(this.status,x)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity({...K,sourceControl:x})}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:ys}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K,x){if(this.asyncValidator){this.status=Qs,this._hasOwnPendingAsyncValidator={emitEvent:!1!==x};const re=Dn(this.asyncValidator(this));this._asyncValidationSubscription=re.subscribe(Ne=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ne,{emitEvent:x,shouldHaveEmitted:K})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const K=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(K,x={}){this.errors=K,this._updateControlsErrors(!1!==x.emitEvent,this,x.shouldHaveEmitted)}get(K){let x=K;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((re,Ne)=>re&&re._find(Ne),this)}getError(K,x){const re=x?this.get(x):this;return re&&re.errors?re.errors[K]:null}hasError(K,x){return!!this.getError(K,x)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K,x,re){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),(K||re)&&this._events.next(new ve(this.status,x)),this._parent&&this._parent._updateControlsErrors(K,x,re)}_initObservables(){this.valueChanges=new _.bkB,this.statusChanges=new _.bkB}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?fn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qs)?Qs:this._anyControlsHaveStatus(fn)?fn:ys}_anyControlsHaveStatus(K){return this._anyControls(x=>x.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K,x){const re=!this._anyControlsDirty(),Ne=this.pristine!==re;this.pristine=re,this._parent&&!K.onlySelf&&this._parent._updatePristine(K,x),Ne&&this._events.next(new Xs(this.pristine,x))}_updateTouched(K={},x){this.touched=this._anyControlsTouched(),this._events.next(new ks(this.touched,x)),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,x)}_onDisabledChange=[];_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Tt(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function J(H){return Array.isArray(H)?Xe(H):H||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function $e(H){return Array.isArray(H)?st(H):H||null}(this._rawAsyncValidators)}}class sn extends Un{constructor(K,x,re){super(Ce(x),we(re,x)),this.controls=K,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(K,x){return this.controls[K]?this.controls[K]:(this.controls[K]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(K,x,re={}){this.registerControl(K,x),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(K,x={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(K,x,re={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],x&&this.registerControl(K,x),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,x={}){ln(this,0,K),Object.keys(K).forEach(re=>{pn(this,!0,re),this.controls[re].setValue(K[re],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(K,x={}){null!=K&&(Object.keys(K).forEach(re=>{const Ne=this.controls[re];Ne&&Ne.patchValue(K[re],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(K={},x={}){this._forEachChild((re,Ne)=>{re.reset(K?K[Ne]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x,this),this._updateTouched(x,this),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(K,x,re)=>(K[re]=x.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(x,re)=>!!re._syncPendingControls()||x);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(x=>{const re=this.controls[x];re&&K(re,x)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[x,re]of Object.entries(this.controls))if(this.contains(x)&&K(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,re,Ne)=>((re.enabled||this.disabled)&&(x[Ne]=re.value),x))}_reduceChildren(K,x){let re=K;return this._forEachChild((Ne,an)=>{re=x(re,Ne,an)}),re}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}class Zr extends sn{}const it=new _.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ze}),ze="always";function St(H,K){return[...K.path,H]}function qt(H,K,x=ze){xr(H,K),K.valueAccessor.writeValue(H.value),(H.disabled||"always"===x)&&K.valueAccessor.setDisabledState?.(H.disabled),function ss(H,K){K.valueAccessor.registerOnChange(x=>{H._pendingValue=x,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&pi(H,K)})}(H,K),function po(H,K){const x=(re,Ne)=>{K.valueAccessor.writeValue(re),Ne&&K.viewToModelUpdate(re)};H.registerOnChange(x),K._registerOnDestroy(()=>{H._unregisterOnChange(x)})}(H,K),function zi(H,K){K.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&pi(H,K),"submit"!==H.updateOn&&H.markAsTouched()})}(H,K),function mr(H,K){if(K.valueAccessor.setDisabledState){const x=re=>{K.valueAccessor.setDisabledState(re)};H.registerOnDisabledChange(x),K._registerOnDestroy(()=>{H._unregisterOnDisabledChange(x)})}}(H,K)}function dn(H,K,x=!0){const re=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(re),K.valueAccessor.registerOnTouched(re)),qr(H,K),H&&(K._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function Yt(H,K){H.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(K)})}function xr(H,K){const x=Ct(H);null!==K.validator?H.setValidators(at(x,K.validator)):"function"==typeof x&&H.setValidators([x]);const re=Et(H);null!==K.asyncValidator?H.setAsyncValidators(at(re,K.asyncValidator)):"function"==typeof re&&H.setAsyncValidators([re]);const Ne=()=>H.updateValueAndValidity();Yt(K._rawValidators,Ne),Yt(K._rawAsyncValidators,Ne)}function qr(H,K){let x=!1;if(null!==H){if(null!==K.validator){const Ne=Ct(H);if(Array.isArray(Ne)&&Ne.length>0){const an=Ne.filter(In=>In!==K.validator);an.length!==Ne.length&&(x=!0,H.setValidators(an))}}if(null!==K.asyncValidator){const Ne=Et(H);if(Array.isArray(Ne)&&Ne.length>0){const an=Ne.filter(In=>In!==K.asyncValidator);an.length!==Ne.length&&(x=!0,H.setAsyncValidators(an))}}}const re=()=>{};return Yt(K._rawValidators,re),Yt(K._rawAsyncValidators,re),x}function pi(H,K){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function ai(H,K){xr(H,K)}function ft(H,K){if(!H.hasOwnProperty("model"))return!1;const x=H.model;return!!x.isFirstChange()||!Object.is(K,x.currentValue)}function Vt(H,K){H._syncPendingControls(),K.forEach(x=>{const re=x.control;"submit"===re.updateOn&&re._pendingChange&&(x.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}function Sn(H,K){if(!K)return null;let x,re,Ne;return Array.isArray(K),K.forEach(an=>{an.constructor===Ie?x=an:function yt(H){return Object.getPrototypeOf(H.constructor)===z}(an)?re=an:Ne=an}),Ne||re||x||null}const Ln={provide:yn,useExisting:(0,_.Rfq)(()=>jn)},tn=Promise.resolve();let jn=(()=>{class H extends yn{callSetDisabledState;get submitted(){return(0,_.O8t)(this.submittedReactive)}_submitted=(0,_.EWP)(()=>this.submittedReactive());submittedReactive=(0,_.vPA)(!1);_directives=new Set;form;ngSubmit=new _.bkB;options;constructor(x,re,Ne){super(),this.callSetDisabledState=Ne,this.form=new sn({},Xe(x),st(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){tn.then(()=>{const re=this._findContainer(x.path);x.control=re.registerControl(x.name,x.control),qt(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){tn.then(()=>{const re=this._findContainer(x.path);re&&re.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){tn.then(()=>{const re=this._findContainer(x.path),Ne=new sn({});ai(Ne,x),re.registerControl(x.name,Ne),Ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){tn.then(()=>{const re=this._findContainer(x.path);re&&re.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,re){tn.then(()=>{this.form.get(x.path).setValue(re)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submittedReactive.set(!0),Vt(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static \u0275fac=function(re){return new(re||H)(_.rXU(Ge,10),_.rXU(ht,10),_.rXU(it,8))};static \u0275dir=_.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(re,Ne){1&re&&_.bIt("submit",function(In){return Ne.onSubmit(In)})("reset",function(){return Ne.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_.Jv_([Ln]),_.Vt3]})}return H})();function Or(H,K){const x=H.indexOf(K);x>-1&&H.splice(x,1)}function is(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const bn=class extends Un{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(K=null,x,re){super(Ce(x),we(re,x)),this._applyFormState(K),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tt(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=is(K)?K.value:K)}setValue(K,x={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(K,x={}){this.setValue(K,x)}reset(K=this.defaultValue,x={}){this._applyFormState(K),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){Or(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){Or(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){is(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}};let Us=(()=>{class H extends yn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,standalone:!1,features:[_.Vt3]})}return H})();const nt={provide:yn,useExisting:(0,_.Rfq)(()=>Pt)};let Pt=(()=>{class H extends Us{name="";constructor(x,re,Ne){super(),this._parent=x,this._setValidators(re),this._setAsyncValidators(Ne)}_checkParentType(){}static \u0275fac=function(re){return new(re||H)(_.rXU(yn,5),_.rXU(Ge,10),_.rXU(ht,10))};static \u0275dir=_.FsC({type:H,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],standalone:!1,features:[_.Jv_([nt]),_.Vt3]})}return H})();const Qt={provide:Gr,useExisting:(0,_.Rfq)(()=>br)},Mn=Promise.resolve();let br=(()=>{class H extends Gr{_changeDetectorRef;callSetDisabledState;control=new bn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _.bkB;constructor(x,re,Ne,an,In,Bi){super(),this._changeDetectorRef=In,this.callSetDisabledState=Bi,this._parent=x,this._setValidators(re),this._setAsyncValidators(Ne),this.valueAccessor=Sn(0,an)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const re=x.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),ft(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Mn.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const re=x.isDisabled.currentValue,Ne=0!==re&&(0,_.L39)(re);Mn.then(()=>{Ne&&!this.control.disabled?this.control.disable():!Ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?St(x,this._parent):[x]}static \u0275fac=function(re){return new(re||H)(_.rXU(yn,9),_.rXU(Ge,10),_.rXU(ht,10),_.rXU(ie,10),_.rXU(_.gRc,8),_.rXU(it,8))};static \u0275dir=_.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_.Jv_([Qt]),_.Vt3,_.OA$]})}return H})(),hn=(()=>{class H{static \u0275fac=function(re){return new(re||H)};static \u0275dir=_.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return H})();const ps={provide:ie,useExisting:(0,_.Rfq)(()=>on),multi:!0};let on=(()=>{class H extends z{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=re=>{x(""==re?null:parseFloat(re))}}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(re,Ne){1&re&&_.bIt("input",function(In){return Ne.onChange(In.target.value)})("blur",function(){return Ne.onTouched()})},standalone:!1,features:[_.Jv_([ps]),_.Vt3]})}return H})();const lr={provide:ie,useExisting:(0,_.Rfq)(()=>Ss),multi:!0};let wi=(()=>{class H{_accessors=[];add(x,re){this._accessors.push([x,re])}remove(x){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===x)return void this._accessors.splice(re,1)}select(x){this._accessors.forEach(re=>{this._isSameGroup(re,x)&&re[1]!==x&&re[1].fireUncheck(x.value)})}_isSameGroup(x,re){return!!x[0].control&&x[0]._parent===re._control._parent&&x[1].name===re.name}static \u0275fac=function(re){return new(re||H)};static \u0275prov=_.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),Ss=(()=>{class H extends z{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,_.WQX)(it,{optional:!0})??ze;constructor(x,re,Ne,an){super(x,re),this._registry=Ne,this._injector=an}ngOnInit(){this._control=this._injector.get(Gr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(x){this._state=x===this.value,this.setProperty("checked",this._state)}registerOnChange(x){this._fn=x,this.onChange=()=>{x(this.value),this._registry.select(this)}}setDisabledState(x){(this.setDisabledStateFired||x||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",x),this.setDisabledStateFired=!0}fireUncheck(x){this.writeValue(x)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(re){return new(re||H)(_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(wi),_.rXU(_.zZn))};static \u0275dir=_.FsC({type:H,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(re,Ne){1&re&&_.bIt("change",function(){return Ne.onChange()})("blur",function(){return Ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[_.Jv_([lr]),_.Vt3]})}return H})();const li={provide:ie,useExisting:(0,_.Rfq)(()=>Bs),multi:!0};let Bs=(()=>{class H extends z{writeValue(x){this.setProperty("value",parseFloat(x))}registerOnChange(x){this.onChange=re=>{x(""==re?null:parseFloat(re))}}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(re,Ne){1&re&&_.bIt("change",function(In){return Ne.onChange(In.target.value)})("input",function(In){return Ne.onChange(In.target.value)})("blur",function(){return Ne.onTouched()})},standalone:!1,features:[_.Jv_([li]),_.Vt3]})}return H})();const Fi=new _.nKC(""),tr={provide:Gr,useExisting:(0,_.Rfq)(()=>Ys)};let Ys=(()=>{class H extends Gr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(x){}model;update=new _.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(x,re,Ne,an,In){super(),this._ngModelWarningConfig=an,this.callSetDisabledState=In,this._setValidators(x),this._setAsyncValidators(re),this.valueAccessor=Sn(0,Ne)}ngOnChanges(x){if(this._isControlChanged(x)){const re=x.form.previousValue;re&&dn(re,this,!1),qt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ft(x,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&dn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_isControlChanged(x){return x.hasOwnProperty("form")}static \u0275fac=function(re){return new(re||H)(_.rXU(Ge,10),_.rXU(ht,10),_.rXU(ie,10),_.rXU(Fi,8),_.rXU(it,8))};static \u0275dir=_.FsC({type:H,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[_.Jv_([tr]),_.Vt3,_.OA$]})}return H})();const ki={provide:yn,useExisting:(0,_.Rfq)(()=>Ni)};let Ni=(()=>{class H extends yn{callSetDisabledState;get submitted(){return(0,_.O8t)(this._submittedReactive)}set submitted(x){this._submittedReactive.set(x)}_submitted=(0,_.EWP)(()=>this._submittedReactive());_submittedReactive=(0,_.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new _.bkB;constructor(x,re,Ne){super(),this.callSetDisabledState=Ne,this._setValidators(x),this._setAsyncValidators(re)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const re=this.form.get(x.path);return qt(re,x,this.callSetDisabledState),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),re}getControl(x){return this.form.get(x.path)}removeControl(x){dn(x.control||null,x,!1),function un(H,K){const x=H.indexOf(K);x>-1&&H.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,re){this.form.get(x.path).setValue(re)}onSubmit(x){return this._submittedReactive.set(!0),Vt(this.form,this.directives),this.ngSubmit.emit(x),this.form._events.next(new Se(this.control)),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this._submittedReactive.set(!1),this.form._events.next(new oe(this.form))}_updateDomValue(){this.directives.forEach(x=>{const re=x.control,Ne=this.form.get(x.path);re!==Ne&&(dn(re||null,x),(H=>H instanceof bn)(Ne)&&(qt(Ne,x,this.callSetDisabledState),x.control=Ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const re=this.form.get(x.path);ai(re,x),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const re=this.form.get(x.path);re&&function Bn(H,K){return qr(H,K)}(re,x)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xr(this.form,this),this._oldForm&&qr(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(re){return new(re||H)(_.rXU(Ge,10),_.rXU(ht,10),_.rXU(it,8))};static \u0275dir=_.FsC({type:H,selectors:[["","formGroup",""]],hostBindings:function(re,Ne){1&re&&_.bIt("submit",function(In){return Ne.onSubmit(In)})("reset",function(){return Ne.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_.Jv_([ki]),_.Vt3,_.OA$]})}return H})();const xo={provide:yn,useExisting:(0,_.Rfq)(()=>Po)};let Po=(()=>{class H extends Us{name=null;constructor(x,re,Ne){super(),this._parent=x,this._setValidators(re),this._setAsyncValidators(Ne)}_checkParentType(){gs(this._parent)}static \u0275fac=function(re){return new(re||H)(_.rXU(yn,13),_.rXU(Ge,10),_.rXU(ht,10))};static \u0275dir=_.FsC({type:H,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[_.Jv_([xo]),_.Vt3]})}return H})();const ni={provide:yn,useExisting:(0,_.Rfq)(()=>to)};let to=(()=>{class H extends yn{_parent;name=null;constructor(x,re,Ne){super(),this._parent=x,this._setValidators(re),this._setAsyncValidators(Ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){gs(this._parent)}static \u0275fac=function(re){return new(re||H)(_.rXU(yn,13),_.rXU(Ge,10),_.rXU(ht,10))};static \u0275dir=_.FsC({type:H,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[_.Jv_([ni]),_.Vt3]})}return H})();function gs(H){return!(H instanceof Po||H instanceof Ni||H instanceof to)}const Ra={provide:Gr,useExisting:(0,_.Rfq)(()=>Xt)};let Xt=(()=>{class H extends Gr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(x){}model;update=new _.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(x,re,Ne,an,In){super(),this._ngModelWarningConfig=In,this._parent=x,this._setValidators(re),this._setAsyncValidators(Ne),this.valueAccessor=Sn(0,an)}ngOnChanges(x){this._added||this._setUpControl(),ft(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(re){return new(re||H)(_.rXU(yn,13),_.rXU(Ge,10),_.rXU(ht,10),_.rXU(ie,10),_.rXU(Fi,8))};static \u0275dir=_.FsC({type:H,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[_.Jv_([Ra]),_.Vt3,_.OA$]})}return H})();const Qi={provide:ie,useExisting:(0,_.Rfq)(()=>Nr),multi:!0};function Fo(H,K){return null==H?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${H}: ${K}`.slice(0,50))}let Nr=(()=>{class H extends z{value;_optionMap=new Map;_idCounter=0;set compareWith(x){this._compareWith=x}_compareWith=Object.is;writeValue(x){this.value=x;const Ne=Fo(this._getOptionId(x),x);this.setProperty("value",Ne)}registerOnChange(x){this.onChange=re=>{this.value=this._getOptionValue(re),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(re),x))return re;return null}_getOptionValue(x){const re=function wo(H){return H.split(":")[0]}(x);return this._optionMap.has(re)?this._optionMap.get(re):x}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(re,Ne){1&re&&_.bIt("change",function(In){return Ne.onChange(In.target.value)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_.Jv_([Qi]),_.Vt3]})}return H})(),go=(()=>{class H{_element;_renderer;_select;id;constructor(x,re,Ne){this._element=x,this._renderer=re,this._select=Ne,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Fo(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(re){return new(re||H)(_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(Nr,9))};static \u0275dir=_.FsC({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return H})();const nl={provide:ie,useExisting:(0,_.Rfq)(()=>Zs),multi:!0};function ko(H,K){return null==H?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${H}: ${K}`.slice(0,50))}let Zs=(()=>{class H extends z{value;_optionMap=new Map;_idCounter=0;set compareWith(x){this._compareWith=x}_compareWith=Object.is;writeValue(x){let re;if(this.value=x,Array.isArray(x)){const Ne=x.map(an=>this._getOptionId(an));re=(an,In)=>{an._setSelected(Ne.indexOf(In.toString())>-1)}}else re=(Ne,an)=>{Ne._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(x){this.onChange=re=>{const Ne=[],an=re.selectedOptions;if(void 0!==an){const In=an;for(let Bi=0;Bi<In.length;Bi++){const oo=this._getOptionValue(In[Bi].value);Ne.push(oo)}}else{const In=re.options;for(let Bi=0;Bi<In.length;Bi++){const io=In[Bi];if(io.selected){const oo=this._getOptionValue(io.value);Ne.push(oo)}}}this.value=Ne,x(Ne)}}_registerOption(x){const re=(this._idCounter++).toString();return this._optionMap.set(re,x),re}_getOptionId(x){for(const re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(re)._value,x))return re;return null}_getOptionValue(x){const re=function no(H){return H.split(":")[0]}(x);return this._optionMap.has(re)?this._optionMap.get(re)._value:x}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(re,Ne){1&re&&_.bIt("change",function(In){return Ne.onChange(In.target)})("blur",function(){return Ne.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_.Jv_([nl]),_.Vt3]})}return H})(),ro=(()=>{class H{_element;_renderer;_select;id;_value;constructor(x,re,Ne){this._element=x,this._renderer=re,this._select=Ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(ko(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(ko(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(re){return new(re||H)(_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(Zs,9))};static \u0275dir=_.FsC({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return H})();function wn(H){return"number"==typeof H?H:parseInt(H,10)}function Io(H){return"number"==typeof H?H:parseFloat(H)}let Br=(()=>{class H{_validator=tt;_onChange;_enabled;ngOnChanges(x){if(this.inputName in x){const re=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(re),this._validator=this._enabled?this.createValidator(re):tt,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static \u0275fac=function(re){return new(re||H)};static \u0275dir=_.FsC({type:H,features:[_.OA$]})}return H})();const mo={provide:Ge,useExisting:(0,_.Rfq)(()=>Fr),multi:!0};let Fr=(()=>{class H extends Br{max;inputName="max";normalizeInput=x=>Io(x);createValidator=x=>Ht(x);static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(re,Ne){2&re&&_.BMQ("max",Ne._enabled?Ne.max:null)},inputs:{max:"max"},standalone:!1,features:[_.Jv_([mo]),_.Vt3]})}return H})();const ci={provide:Ge,useExisting:(0,_.Rfq)(()=>Lo),multi:!0};let Lo=(()=>{class H extends Br{min;inputName="min";normalizeInput=x=>Io(x);createValidator=x=>je(x);static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(re,Ne){2&re&&_.BMQ("min",Ne._enabled?Ne.min:null)},inputs:{min:"min"},standalone:!1,features:[_.Jv_([ci]),_.Vt3]})}return H})();const Ii={provide:Ge,useExisting:(0,_.Rfq)(()=>ui),multi:!0};let ui=(()=>{class H extends Br{required;inputName="required";normalizeInput=_.L39;createValidator=x=>Ot;enabled(x){return x}static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(re,Ne){2&re&&_.BMQ("required",Ne._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_.Jv_([Ii]),_.Vt3]})}return H})();const Xi={provide:Ge,useExisting:(0,_.Rfq)(()=>Li),multi:!0};let Li=(()=>{class H extends Br{minlength;inputName="minlength";normalizeInput=x=>wn(x);createValidator=x=>zt(x);static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(re,Ne){2&re&&_.BMQ("minlength",Ne._enabled?Ne.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[_.Jv_([Xi]),_.Vt3]})}return H})();const ea={provide:Ge,useExisting:(0,_.Rfq)(()=>cr),multi:!0};let cr=(()=>{class H extends Br{maxlength;inputName="maxlength";normalizeInput=x=>wn(x);createValidator=x=>Pn(x);static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(re,Ne){2&re&&_.BMQ("maxlength",Ne._enabled?Ne.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[_.Jv_([ea]),_.Vt3]})}return H})();const Mr={provide:Ge,useExisting:(0,_.Rfq)(()=>Ti),multi:!0};let Ti=(()=>{class H extends Br{pattern;inputName="pattern";normalizeInput=x=>x;createValidator=x=>pt(x);static \u0275fac=(()=>{let x;return function(Ne){return(x||(x=_.xGo(H)))(Ne||H)}})();static \u0275dir=_.FsC({type:H,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(re,Ne){2&re&&_.BMQ("pattern",Ne._enabled?Ne.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[_.Jv_([Mr]),_.Vt3]})}return H})(),js=(()=>{class H{static \u0275fac=function(re){return new(re||H)};static \u0275mod=_.$C({type:H});static \u0275inj=_.G2t({})}return H})();class zn extends Un{constructor(K,x,re){super(Ce(x),we(re,x)),this.controls=K,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(K){return this.controls[this._adjustIndex(K)]}push(K,x={}){this.controls.push(K),this._registerControl(K),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(K,x,re={}){this.controls.splice(K,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(K,x={}){let re=this._adjustIndex(K);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(K,x,re={}){let Ne=this._adjustIndex(K);Ne<0&&(Ne=0),this.controls[Ne]&&this.controls[Ne]._registerOnCollectionChange(()=>{}),this.controls.splice(Ne,1),x&&(this.controls.splice(Ne,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,x={}){ln(this,0,K),K.forEach((re,Ne)=>{pn(this,!1,Ne),this.at(Ne).setValue(re,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(K,x={}){null!=K&&(K.forEach((re,Ne)=>{this.at(Ne)&&this.at(Ne).patchValue(re,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(K=[],x={}){this._forEachChild((re,Ne)=>{re.reset(K[Ne],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x,this),this._updateTouched(x,this),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((x,re)=>!!re._syncPendingControls()||x,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((x,re)=>{K(x,re)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(x=>x.enabled&&K(x))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}function Ns(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let Ui=(()=>{class H{useNonNullable=!1;get nonNullable(){const x=new H;return x.useNonNullable=!0,x}group(x,re=null){const Ne=this._reduceControls(x);let an={};return Ns(re)?an=re:null!==re&&(an.validators=re.validator,an.asyncValidators=re.asyncValidator),new sn(Ne,an)}record(x,re=null){const Ne=this._reduceControls(x);return new Zr(Ne,re)}control(x,re,Ne){let an={};return this.useNonNullable?(Ns(re)?an=re:(an.validators=re,an.asyncValidators=Ne),new bn(x,{...an,nonNullable:!0})):new bn(x,re,Ne)}array(x,re,Ne){const an=x.map(In=>this._createControl(In));return new zn(an,re,Ne)}_reduceControls(x){const re={};return Object.keys(x).forEach(Ne=>{re[Ne]=this._createControl(x[Ne])}),re}_createControl(x){return x instanceof bn||x instanceof Un?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static \u0275fac=function(re){return new(re||H)};static \u0275prov=_.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),Ca=(()=>{class H{static withConfig(x){return{ngModule:H,providers:[{provide:it,useValue:x.callSetDisabledState??ze}]}}static \u0275fac=function(re){return new(re||H)};static \u0275mod=_.$C({type:H});static \u0275inj=_.G2t({imports:[js]})}return H})(),To=(()=>{class H{static withConfig(x){return{ngModule:H,providers:[{provide:Fi,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:it,useValue:x.callSetDisabledState??ze}]}}static \u0275fac=function(re){return new(re||H)};static \u0275mod=_.$C({type:H});static \u0275inj=_.G2t({imports:[js]})}return H})()},345:(ut,ye,D)=>{D.d(ye,{B7:()=>pt,Bb:()=>Jn,W8:()=>Es,hE:()=>xt,sG:()=>Gr,up:()=>Er});var _=D(177),v=D(4438);class ce extends _.\u0275DomAdapter{supportsDOMEvents=!0}class U extends ce{static makeCurrent(){(0,_.\u0275setRootDomAdapter)(new U)}onAndCancel(Ce,J,we){return Ce.addEventListener(J,we),()=>{Ce.removeEventListener(J,we)}}dispatchEvent(Ce,J){Ce.dispatchEvent(J)}remove(Ce){Ce.remove()}createElement(Ce,J){return(J=J||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,J){return"window"===J?window:"document"===J?Ce:"body"===J?Ce.body:null}getBaseHref(Ce){const J=function q(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==J?null:function Q(oe){return new URL(oe,document.baseURI).pathname}(J)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,_.\u0275parseCookieValue)(document.cookie,Ce)}}let W=null,ie=(()=>{class oe{build(){return new XMLHttpRequest}static \u0275fac=function(we){return new(we||oe)};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const ee=new v.nKC("");let ne=(()=>{class oe{_zone;_plugins;_eventNameToPlugin=new Map;constructor(J,we){this._zone=we,J.forEach($e=>{$e.manager=this}),this._plugins=J.slice().reverse()}addEventListener(J,we,$e){return this._findPluginFor(we).addEventListener(J,we,$e)}getZone(){return this._zone}_findPluginFor(J){let we=this._eventNameToPlugin.get(J);if(we)return we;if(we=this._plugins.find(Tt=>Tt.supports(J)),!we)throw new v.wOt(5101,!1);return this._eventNameToPlugin.set(J,we),we}static \u0275fac=function(we){return new(we||oe)(v.KVO(ee),v.KVO(v.SKi))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();class Te{_doc;constructor(Ce){this._doc=Ce}manager}const Fe="ng-app-id";function Le(oe){for(const Ce of oe)Ce.remove()}function Ie(oe,Ce){const J=Ce.createElement("style");return J.textContent=oe,J}function Ze(oe,Ce){const J=Ce.createElement("link");return J.setAttribute("rel","stylesheet"),J.setAttribute("href",oe),J}let Ge=(()=>{class oe{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(J,we,$e,Tt={}){this.doc=J,this.appId=we,this.nonce=$e,this.isServer=(0,_.isPlatformServer)(Tt),function xe(oe,Ce,J,we){const $e=oe.head?.querySelectorAll(`style[${Fe}="${Ce}"],link[${Fe}="${Ce}"]`);if($e)for(const Tt of $e)Tt.removeAttribute(Fe),Tt instanceof HTMLLinkElement?we.set(Tt.href.slice(Tt.href.lastIndexOf("/")+1),{usage:0,elements:[Tt]}):Tt.textContent&&J.set(Tt.textContent,{usage:0,elements:[Tt]})}(J,we,this.inline,this.external),this.hosts.add(J.head)}addStyles(J,we){for(const $e of J)this.addUsage($e,this.inline,Ie);we?.forEach($e=>this.addUsage($e,this.external,Ze))}removeStyles(J,we){for(const $e of J)this.removeUsage($e,this.inline);we?.forEach($e=>this.removeUsage($e,this.external))}addUsage(J,we,$e){const Tt=we.get(J);Tt?Tt.usage++:we.set(J,{usage:1,elements:[...this.hosts].map(pn=>this.addElement(pn,$e(J,this.doc)))})}removeUsage(J,we){const $e=we.get(J);$e&&($e.usage--,$e.usage<=0&&(Le($e.elements),we.delete(J)))}ngOnDestroy(){for(const[,{elements:J}]of[...this.inline,...this.external])Le(J);this.hosts.clear()}addHost(J){this.hosts.add(J);for(const[we,{elements:$e}]of this.inline)$e.push(this.addElement(J,Ie(we,this.doc)));for(const[we,{elements:$e}]of this.external)$e.push(this.addElement(J,Ze(we,this.doc)))}removeHost(J){this.hosts.delete(J)}addElement(J,we){return this.nonce&&we.setAttribute("nonce",this.nonce),this.isServer&&we.setAttribute(Fe,this.appId),J.appendChild(we)}static \u0275fac=function(we){return new(we||oe)(v.KVO(_.DOCUMENT),v.KVO(v.sZ2),v.KVO(v.BIS,8),v.KVO(v.Agw))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rt=/%COMP%/g,Kt=new v.nKC("",{providedIn:"root",factory:()=>!0});function Pn(oe,Ce){return Ce.map(J=>J.replace(Rt,oe))}let pt=(()=>{class oe{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(J,we,$e,Tt,pn,ln,Un,sn=null){this.eventManager=J,this.sharedStylesHost=we,this.appId=$e,this.removeStylesOnCompDestroy=Tt,this.doc=pn,this.platformId=ln,this.ngZone=Un,this.nonce=sn,this.platformIsServer=(0,_.isPlatformServer)(ln),this.defaultRenderer=new tt(J,pn,Un,this.platformIsServer)}createRenderer(J,we){if(!J||!we)return this.defaultRenderer;this.platformIsServer&&we.encapsulation===v.gXe.ShadowDom&&(we={...we,encapsulation:v.gXe.Emulated});const $e=this.getOrCreateRenderer(J,we);return $e instanceof ws?$e.applyToHost(J):$e instanceof _r&&$e.applyStyles(),$e}getOrCreateRenderer(J,we){const $e=this.rendererByCompId;let Tt=$e.get(we.id);if(!Tt){const pn=this.doc,ln=this.ngZone,Un=this.eventManager,sn=this.sharedStylesHost,Tr=this.removeStylesOnCompDestroy,Yr=this.platformIsServer;switch(we.encapsulation){case v.gXe.Emulated:Tt=new ws(Un,sn,we,this.appId,Tr,pn,ln,Yr);break;case v.gXe.ShadowDom:return new yr(Un,sn,J,we,pn,ln,this.nonce,Yr);default:Tt=new _r(Un,sn,we,Tr,pn,ln,Yr)}$e.set(we.id,Tt)}return Tt}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(we){return new(we||oe)(v.KVO(ne),v.KVO(Ge),v.KVO(v.sZ2),v.KVO(Kt),v.KVO(_.DOCUMENT),v.KVO(v.Agw),v.KVO(v.SKi),v.KVO(v.BIS))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();class tt{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(Ce,J,we,$e){this.eventManager=Ce,this.doc=J,this.ngZone=we,this.platformIsServer=$e}destroy(){}destroyNode=null;createElement(Ce,J){return J?this.doc.createElementNS(ht[J]||J,Ce):this.doc.createElement(Ce)}createComment(Ce){return this.doc.createComment(Ce)}createText(Ce){return this.doc.createTextNode(Ce)}appendChild(Ce,J){(kn(Ce)?Ce.content:Ce).appendChild(J)}insertBefore(Ce,J,we){Ce&&(kn(Ce)?Ce.content:Ce).insertBefore(J,we)}removeChild(Ce,J){J.remove()}selectRootElement(Ce,J){let we="string"==typeof Ce?this.doc.querySelector(Ce):Ce;if(!we)throw new v.wOt(-5104,!1);return J||(we.textContent=""),we}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,J,we,$e){if($e){J=$e+":"+J;const Tt=ht[$e];Tt?Ce.setAttributeNS(Tt,J,we):Ce.setAttribute(J,we)}else Ce.setAttribute(J,we)}removeAttribute(Ce,J,we){if(we){const $e=ht[we];$e?Ce.removeAttributeNS($e,J):Ce.removeAttribute(`${we}:${J}`)}else Ce.removeAttribute(J)}addClass(Ce,J){Ce.classList.add(J)}removeClass(Ce,J){Ce.classList.remove(J)}setStyle(Ce,J,we,$e){$e&(v.czy.DashCase|v.czy.Important)?Ce.style.setProperty(J,we,$e&v.czy.Important?"important":""):Ce.style[J]=we}removeStyle(Ce,J,we){we&v.czy.DashCase?Ce.style.removeProperty(J):Ce.style[J]=""}setProperty(Ce,J,we){null!=Ce&&(Ce[J]=we)}setValue(Ce,J){Ce.nodeValue=J}listen(Ce,J,we){if("string"==typeof Ce&&!(Ce=(0,_.\u0275getDOM)().getGlobalEventTarget(this.doc,Ce)))throw new Error(`Unsupported event target ${Ce} for event ${J}`);return this.eventManager.addEventListener(Ce,J,this.decoratePreventDefault(we))}decoratePreventDefault(Ce){return J=>{if("__ngUnwrap__"===J)return Ce;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ce(J)):Ce(J))&&J.preventDefault()}}}function kn(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class yr extends tt{sharedStylesHost;hostEl;shadowRoot;constructor(Ce,J,we,$e,Tt,pn,ln,Un){super(Ce,Tt,pn,Un),this.sharedStylesHost=J,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=Pn($e.id,$e.styles);for(const Yr of sn){const Hr=document.createElement("style");ln&&Hr.setAttribute("nonce",ln),Hr.textContent=Yr,this.shadowRoot.appendChild(Hr)}const Tr=$e.getExternalStyles?.();if(Tr)for(const Yr of Tr){const Hr=Ze(Yr,Tt);ln&&Hr.setAttribute("nonce",ln),this.shadowRoot.appendChild(Hr)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}appendChild(Ce,J){return super.appendChild(this.nodeOrShadowRoot(Ce),J)}insertBefore(Ce,J,we){return super.insertBefore(this.nodeOrShadowRoot(Ce),J,we)}removeChild(Ce,J){return super.removeChild(null,J)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _r extends tt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(Ce,J,we,$e,Tt,pn,ln,Un){super(Ce,Tt,pn,ln),this.sharedStylesHost=J,this.removeStylesOnCompDestroy=$e,this.styles=Un?Pn(Un,we.styles):we.styles,this.styleUrls=we.getExternalStyles?.(Un)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class ws extends _r{contentAttr;hostAttr;constructor(Ce,J,we,$e,Tt,pn,ln,Un){const sn=$e+"-"+we.id;super(Ce,J,we,Tt,pn,ln,Un,sn),this.contentAttr=function Gt(oe){return"_ngcontent-%COMP%".replace(Rt,oe)}(sn),this.hostAttr=function zt(oe){return"_nghost-%COMP%".replace(Rt,oe)}(sn)}applyToHost(Ce){this.applyStyles(),this.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,J){const we=super.createElement(Ce,J);return super.setAttribute(we,this.contentAttr,""),we}}let dr=(()=>{class oe extends Te{constructor(J){super(J)}supports(J){return!0}addEventListener(J,we,$e){return J.addEventListener(we,$e,!1),()=>this.removeEventListener(J,we,$e)}removeEventListener(J,we,$e){return J.removeEventListener(we,$e)}static \u0275fac=function(we){return new(we||oe)(v.KVO(_.DOCUMENT))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const Xe=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let at=(()=>{class oe extends Te{constructor(J){super(J)}supports(J){return null!=oe.parseEventName(J)}addEventListener(J,we,$e){const Tt=oe.parseEventName(we),pn=oe.eventCallback(Tt.fullKey,$e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.\u0275getDOM)().onAndCancel(J,Tt.domEventName,pn))}static parseEventName(J){const we=J.toLowerCase().split("."),$e=we.shift();if(0===we.length||"keydown"!==$e&&"keyup"!==$e)return null;const Tt=oe._normalizeKey(we.pop());let pn="",ln=we.indexOf("code");if(ln>-1&&(we.splice(ln,1),pn="code."),Xe.forEach(sn=>{const Tr=we.indexOf(sn);Tr>-1&&(we.splice(Tr,1),pn+=sn+".")}),pn+=Tt,0!=we.length||0===Tt.length)return null;const Un={};return Un.domEventName=$e,Un.fullKey=pn,Un}static matchEventFullKeyCode(J,we){let $e=Ue[J.key]||J.key,Tt="";return we.indexOf("code.")>-1&&($e=J.code,Tt="code."),!(null==$e||!$e)&&($e=$e.toLowerCase()," "===$e?$e="space":"."===$e&&($e="dot"),Xe.forEach(pn=>{pn!==$e&&(0,st[pn])(J)&&(Tt+=pn+".")}),Tt+=$e,Tt===we)}static eventCallback(J,we,$e){return Tt=>{oe.matchEventFullKeyCode(Tt,J)&&$e.runGuarded(()=>we(Tt))}}static _normalizeKey(J){return"esc"===J?"escape":J}static \u0275fac=function(we){return new(we||oe)(v.KVO(_.DOCUMENT))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const Gr=(0,v.oH4)(v.fpN,"browser",[{provide:v.Agw,useValue:_.\u0275PLATFORM_BROWSER_ID},{provide:v.PLl,useValue:function hr(){U.makeCurrent()},multi:!0},{provide:_.DOCUMENT,useFactory:function Kn(){return(0,v.TL$)(document),document},deps:[]}]),Gn=new v.nKC(""),qn=[{provide:v.e01,useClass:class z{addToWindow(Ce){v.JZv.getAngularTestability=(we,$e=!0)=>{const Tt=Ce.findTestabilityInTree(we,$e);if(null==Tt)throw new v.wOt(5103,!1);return Tt},v.JZv.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),v.JZv.getAllAngularRootElements=()=>Ce.getAllRootElements(),v.JZv.frameworkStabilizers||(v.JZv.frameworkStabilizers=[]),v.JZv.frameworkStabilizers.push(we=>{const $e=v.JZv.getAllAngularTestabilities();let Tt=$e.length;const pn=function(){Tt--,0==Tt&&we()};$e.forEach(ln=>{ln.whenStable(pn)})})}findTestabilityInTree(Ce,J,we){return null==J?null:Ce.getTestability(J)??(we?(0,_.\u0275getDOM)().isShadowRoot(J)?this.findTestabilityInTree(Ce,J.host,!0):this.findTestabilityInTree(Ce,J.parentElement,!0):null)}},deps:[]},{provide:v.WHO,useClass:v.NYb,deps:[v.SKi,v.giA,v.e01]},{provide:v.NYb,useClass:v.NYb,deps:[v.SKi,v.giA,v.e01]}],ns=[{provide:v.H8p,useValue:"root"},{provide:v.zcH,useFactory:function Cn(){return new v.zcH},deps:[]},{provide:ee,useClass:dr,multi:!0,deps:[_.DOCUMENT,v.SKi,v.Agw]},{provide:ee,useClass:at,multi:!0,deps:[_.DOCUMENT]},pt,Ge,ne,{provide:v._9s,useExisting:pt},{provide:_.XhrFactory,useClass:ie,deps:[]},[]];let Jn=(()=>{class oe{constructor(J){}static \u0275fac=function(we){return new(we||oe)(v.KVO(Gn,12))};static \u0275mod=v.$C({type:oe});static \u0275inj=v.G2t({providers:[...ns,...qn],imports:[_.CommonModule,v.Hbi]})}return oe})(),Es=(()=>{class oe{_doc;_dom;constructor(J){this._doc=J,this._dom=(0,_.\u0275getDOM)()}addTag(J,we=!1){return J?this._getOrCreateElement(J,we):null}addTags(J,we=!1){return J?J.reduce(($e,Tt)=>(Tt&&$e.push(this._getOrCreateElement(Tt,we)),$e),[]):[]}getTag(J){return J&&this._doc.querySelector(`meta[${J}]`)||null}getTags(J){if(!J)return[];const we=this._doc.querySelectorAll(`meta[${J}]`);return we?[].slice.call(we):[]}updateTag(J,we){if(!J)return null;we=we||this._parseSelector(J);const $e=this.getTag(we);return $e?this._setMetaElementAttributes(J,$e):this._getOrCreateElement(J,!0)}removeTag(J){this.removeTagElement(this.getTag(J))}removeTagElement(J){J&&this._dom.remove(J)}_getOrCreateElement(J,we=!1){if(!we){const pn=this._parseSelector(J),ln=this.getTags(pn).filter(Un=>this._containsAttributes(J,Un))[0];if(void 0!==ln)return ln}const $e=this._dom.createElement("meta");return this._setMetaElementAttributes(J,$e),this._doc.getElementsByTagName("head")[0].appendChild($e),$e}_setMetaElementAttributes(J,we){return Object.keys(J).forEach($e=>we.setAttribute(this._getMetaKeyMap($e),J[$e])),we}_parseSelector(J){const we=J.name?"name":"property";return`${we}="${J[we]}"`}_containsAttributes(J,we){return Object.keys(J).every($e=>we.getAttribute(this._getMetaKeyMap($e))===J[$e])}_getMetaKeyMap(J){return oi[J]||J}static \u0275fac=function(we){return new(we||oe)(v.KVO(_.DOCUMENT))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();const oi={httpEquiv:"http-equiv"};let xt=(()=>{class oe{_doc;constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}static \u0275fac=function(we){return new(we||oe)(v.KVO(_.DOCUMENT))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})(),Er=(()=>{class oe{static \u0275fac=function(we){return new(we||oe)};static \u0275prov=v.jDH({token:oe,factory:function(we){let $e=null;return $e=we?new(we||oe):v.KVO(er),$e},providedIn:"root"})}return oe})(),er=(()=>{class oe extends Er{_doc;constructor(J){super(),this._doc=J}sanitize(J,we){if(null==we)return null;switch(J){case v.WPN.NONE:return we;case v.WPN.HTML:return(0,v.ZF7)(we,"HTML")?(0,v.rcV)(we):(0,v.h9k)(this._doc,String(we)).toString();case v.WPN.STYLE:return(0,v.ZF7)(we,"Style")?(0,v.rcV)(we):we;case v.WPN.SCRIPT:if((0,v.ZF7)(we,"Script"))return(0,v.rcV)(we);throw new v.wOt(5200,!1);case v.WPN.URL:return(0,v.ZF7)(we,"URL")?(0,v.rcV)(we):(0,v.$MX)(String(we));case v.WPN.RESOURCE_URL:if((0,v.ZF7)(we,"ResourceURL"))return(0,v.rcV)(we);throw new v.wOt(5201,!1);default:throw new v.wOt(5202,!1)}}bypassSecurityTrustHtml(J){return(0,v.Kcf)(J)}bypassSecurityTrustStyle(J){return(0,v.cWb)(J)}bypassSecurityTrustScript(J){return(0,v.UyX)(J)}bypassSecurityTrustUrl(J){return(0,v.osQ)(J)}bypassSecurityTrustResourceUrl(J){return(0,v.e5t)(J)}static \u0275fac=function(we){return new(we||oe)(v.KVO(_.DOCUMENT))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})()},884:(ut,ye,D)=>{D.d(ye,{nX:()=>ni,j5:()=>ft,wF:()=>de,L6:()=>Vt,Z:()=>ue,b:()=>il,Ix:()=>Ut,Wk:()=>Yn,wQ:()=>En,$T:()=>Yn,iI:()=>dd,n3:()=>nl});var _=D(4438),v=D(1985),ce=D(8071),W=D(2806),q=D(7673),Q=D(4412),z=D(4572),ie=D(9350),ee=D(8793),ne=D(9030),Te=D(1203),Fe=D(8810),Le=D(983),Ie=D(17),xe=D(1413),Ze=D(8359),Ge=D(177),ht=D(6354),Rt=D(5558),Je=D(6697),je=D(9172),Ht=D(5964),Ot=D(1397),Kt=D(1594),Gt=D(274),zt=D(8141),Pn=D(9437),pt=D(2816),tt=D(9901),Nt=D(7018),Dn=D(5109),kn=D(3703),yr=D(980),_r=D(9898),ws=D(6977),dr=D(6365),Xe=D(345);const Ue="primary",st=Symbol("RouteTitle");class at{params;constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const M=this.params[F];return Array.isArray(M)?M[0]:M}return null}getAll(F){if(this.has(F)){const M=this.params[F];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Ct(T){return new at(T)}function Et(T,F,M){const k=M.path.split("/");if(k.length>T.length||"full"===M.pathMatch&&(F.hasChildren()||k.length<T.length))return null;const G={};for(let ae=0;ae<k.length;ae++){const De=k[ae],rt=T[ae];if(":"===De[0])G[De.substring(1)]=rt;else if(De!==rt.path)return null}return{consumed:T.slice(0,k.length),posParams:G}}function mn(T,F){const M=T?hr(T):void 0,k=F?hr(F):void 0;if(!M||!k||M.length!=k.length)return!1;let G;for(let ae=0;ae<M.length;ae++)if(G=M[ae],!Cn(T[G],F[G]))return!1;return!0}function hr(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function Cn(T,F){if(Array.isArray(T)&&Array.isArray(F)){if(T.length!==F.length)return!1;const M=[...T].sort(),k=[...F].sort();return M.every((G,ae)=>k[ae]===G)}return T===F}function Kn(T){return T.length>0?T[T.length-1]:null}function yn(T){return function U(T){return!!T&&(T instanceof v.c||(0,ce.T)(T.lift)&&(0,ce.T)(T.subscribe))}(T)?T:(0,_.jNT)(T)?(0,W.H)(Promise.resolve(T)):(0,q.of)(T)}const Gr={exact:function Jn(T,F,M){if(!Fn(T.segments,F.segments)||!zr(T.segments,F.segments,M)||T.numberOfChildren!==F.numberOfChildren)return!1;for(const k in F.children)if(!T.children[k]||!Jn(T.children[k],F.children[k],M))return!1;return!0},subset:oi},Gn={exact:function ns(T,F){return mn(T,F)},subset:function Es(T,F){return Object.keys(F).length<=Object.keys(T).length&&Object.keys(F).every(M=>Cn(T[M],F[M]))},ignored:()=>!0};function qn(T,F,M){return Gr[M.paths](T.root,F.root,M.matrixParams)&&Gn[M.queryParams](T.queryParams,F.queryParams)&&!("exact"===M.fragment&&T.fragment!==F.fragment)}function oi(T,F,M){return xt(T,F,F.segments,M)}function xt(T,F,M,k){if(T.segments.length>M.length){const G=T.segments.slice(0,M.length);return!(!Fn(G,M)||F.hasChildren()||!zr(G,M,k))}if(T.segments.length===M.length){if(!Fn(T.segments,M)||!zr(T.segments,M,k))return!1;for(const G in F.children)if(!T.children[G]||!oi(T.children[G],F.children[G],k))return!1;return!0}{const G=M.slice(0,T.segments.length),ae=M.slice(T.segments.length);return!!(Fn(T.segments,G)&&zr(T.segments,G,k)&&T.children[Ue])&&xt(T.children[Ue],F,ae,k)}}function zr(T,F,M){return F.every((k,G)=>Gn[M](T[G].parameters,k.parameters))}class Qr{root;queryParams;fragment;_queryParamMap;constructor(F=new Nn([],{}),M={},k=null){this.root=F,this.queryParams=M,this.fragment=k}get queryParamMap(){return this._queryParamMap??=Ct(this.queryParams),this._queryParamMap}toString(){return Ur.serialize(this)}}class Nn{segments;children;parent=null;constructor(F,M){this.segments=F,this.children=M,Object.values(M).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ts(this)}}class As{path;parameters;_parameterMap;constructor(F,M){this.path=F,this.parameters=M}get parameterMap(){return this._parameterMap??=Ct(this.parameters),this._parameterMap}toString(){return Qs(this)}}function Fn(T,F){return T.length===F.length&&T.every((M,k)=>M.path===F[k].path)}let pr=(()=>{class T{static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:()=>new Is,providedIn:"root"})}return T})();class Is{parse(F){const M=new we(F);return new Qr(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(F){const M=`/${Xr(F.root,!0)}`,k=function vr(T){const F=Object.entries(T).map(([M,k])=>Array.isArray(k)?k.map(G=>`${Rr(M)}=${Rr(G)}`).join("&"):`${Rr(M)}=${Rr(k)}`).filter(M=>M);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${M}${k}${"string"==typeof F.fragment?`#${function Er(T){return encodeURI(T)}(F.fragment)}`:""}`}}const Ur=new Is;function Ts(T){return T.segments.map(F=>Qs(F)).join("/")}function Xr(T,F){if(!T.hasChildren())return Ts(T);if(F){const M=T.children[Ue]?Xr(T.children[Ue],!1):"",k=[];return Object.entries(T.children).forEach(([G,ae])=>{G!==Ue&&k.push(`${G}:${Xr(ae,!1)}`)}),k.length>0?`${M}(${k.join("//")})`:M}{const M=function Rn(T,F){let M=[];return Object.entries(T.children).forEach(([k,G])=>{k===Ue&&(M=M.concat(F(G,k)))}),Object.entries(T.children).forEach(([k,G])=>{k!==Ue&&(M=M.concat(F(G,k)))}),M}(T,(k,G)=>G===Ue?[Xr(T.children[Ue],!1)]:[`${G}:${Xr(k,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ue]?`${Ts(T)}/${M[0]}`:`${Ts(T)}/(${M.join("//")})`}}function gr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rr(T){return gr(T).replace(/%3B/gi,";")}function er(T){return gr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ys(T){return decodeURIComponent(T)}function fn(T){return ys(T.replace(/\+/g,"%20"))}function Qs(T){return`${er(T.path)}${function sr(T){return Object.entries(T).map(([F,M])=>`;${er(F)}=${er(M)}`).join("")}(T.parameters)}`}const fs=/^[^\/()?;#]+/;function Xs(T){const F=T.match(fs);return F?F[0]:""}const ks=/^[^\/()?;=#]+/,Se=/^[^=?&#]+/,Ce=/^[^&#]+/;class we{url;remaining;constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(F.length>0||Object.keys(M).length>0)&&(k[Ue]=new Nn(F,M)),k}parseSegment(){const F=Xs(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new _.wOt(4009,!1);return this.capture(F),new As(ys(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const M=function ve(T){const F=T.match(ks);return F?F[0]:""}(this.remaining);if(!M)return;this.capture(M);let k="";if(this.consumeOptional("=")){const G=Xs(this.remaining);G&&(k=G,this.capture(k))}F[ys(M)]=ys(k)}parseQueryParam(F){const M=function oe(T){const F=T.match(Se);return F?F[0]:""}(this.remaining);if(!M)return;this.capture(M);let k="";if(this.consumeOptional("=")){const De=function J(T){const F=T.match(Ce);return F?F[0]:""}(this.remaining);De&&(k=De,this.capture(k))}const G=fn(M),ae=fn(k);if(F.hasOwnProperty(G)){let De=F[G];Array.isArray(De)||(De=[De],F[G]=De),De.push(ae)}else F[G]=ae}parseParens(F){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Xs(this.remaining),G=this.remaining[k.length];if("/"!==G&&")"!==G&&";"!==G)throw new _.wOt(4010,!1);let ae;k.indexOf(":")>-1?(ae=k.slice(0,k.indexOf(":")),this.capture(ae),this.capture(":")):F&&(ae=Ue);const De=this.parseChildren();M[ae]=1===Object.keys(De).length?De[Ue]:new Nn([],De),this.consumeOptional("//")}return M}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new _.wOt(4011,!1)}}function $e(T){return T.segments.length>0?new Nn([],{[Ue]:T}):T}function Tt(T){const F={};for(const[k,G]of Object.entries(T.children)){const ae=Tt(G);if(k===Ue&&0===ae.segments.length&&ae.hasChildren())for(const[De,rt]of Object.entries(ae.children))F[De]=rt;else(ae.segments.length>0||ae.hasChildren())&&(F[k]=ae)}return function pn(T){if(1===T.numberOfChildren&&T.children[Ue]){const F=T.children[Ue];return new Nn(T.segments.concat(F.segments),F.children)}return T}(new Nn(T.segments,F))}function ln(T){return T instanceof Qr}function sn(T){let F;const G=$e(function M(ae){const De={};for(const We of ae.children){const Wt=M(We);De[We.outlet]=Wt}const rt=new Nn(ae.url,De);return ae===T&&(F=rt),rt}(T.root));return F??G}function Tr(T,F,M,k){let G=T;for(;G.parent;)G=G.parent;if(0===F.length)return Zr(G,G,G,M,k);const ae=function ze(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new it(!0,0,T);let F=0,M=!1;const k=T.reduce((G,ae,De)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const rt={};return Object.entries(ae.outlets).forEach(([We,Wt])=>{rt[We]="string"==typeof Wt?Wt.split("/"):Wt}),[...G,{outlets:rt}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===De?(ae.split("/").forEach((rt,We)=>{0==We&&"."===rt||(0==We&&""===rt?M=!0:".."===rt?F++:""!=rt&&G.push(rt))}),G):[...G,ae]},[]);return new it(M,F,k)}(F);if(ae.toRoot())return Zr(G,G,new Nn([],{}),M,k);const De=function qt(T,F,M){if(T.isAbsolute)return new St(F,!0,0);if(!M)return new St(F,!1,NaN);if(null===M.parent)return new St(M,!0,0);const k=Yr(T.commands[0])?0:1;return function dn(T,F,M){let k=T,G=F,ae=M;for(;ae>G;){if(ae-=G,k=k.parent,!k)throw new _.wOt(4005,!1);G=k.segments.length}return new St(k,!1,G-ae)}(M,M.segments.length-1+k,T.numberOfDoubleDots)}(ae,G,T),rt=De.processChildren?xr(De.segmentGroup,De.index,ae.commands):mr(De.segmentGroup,De.index,ae.commands);return Zr(G,De.segmentGroup,rt,M,k)}function Yr(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Hr(T){return"object"==typeof T&&null!=T&&T.outlets}function Zr(T,F,M,k,G){let De,ae={};k&&Object.entries(k).forEach(([We,Wt])=>{ae[We]=Array.isArray(Wt)?Wt.map(gn=>`${gn}`):`${Wt}`}),De=T===F?M:cn(T,F,M);const rt=$e(Tt(De));return new Qr(rt,ae,G)}function cn(T,F,M){const k={};return Object.entries(T.children).forEach(([G,ae])=>{k[G]=ae===F?M:cn(ae,F,M)}),new Nn(T.segments,k)}class it{isAbsolute;numberOfDoubleDots;commands;constructor(F,M,k){if(this.isAbsolute=F,this.numberOfDoubleDots=M,this.commands=k,F&&k.length>0&&Yr(k[0]))throw new _.wOt(4003,!1);const G=k.find(Hr);if(G&&G!==Kn(k))throw new _.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class St{segmentGroup;processChildren;index;constructor(F,M,k){this.segmentGroup=F,this.processChildren=M,this.index=k}}function mr(T,F,M){if(T??=new Nn([],{}),0===T.segments.length&&T.hasChildren())return xr(T,F,M);const k=function qr(T,F,M){let k=0,G=F;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<T.segments.length;){if(k>=M.length)return ae;const De=T.segments[G],rt=M[k];if(Hr(rt))break;const We=`${rt}`,Wt=k<M.length-1?M[k+1]:null;if(G>0&&void 0===We)break;if(We&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!po(We,Wt,De))return ae;k+=2}else{if(!po(We,{},De))return ae;k++}G++}return{match:!0,pathIndex:G,commandIndex:k}}(T,F,M),G=M.slice(k.commandIndex);if(k.match&&k.pathIndex<T.segments.length){const ae=new Nn(T.segments.slice(0,k.pathIndex),{});return ae.children[Ue]=new Nn(T.segments.slice(k.pathIndex),T.children),xr(ae,0,G)}return k.match&&0===G.length?new Nn(T.segments,{}):k.match&&!T.hasChildren()?ss(T,F,M):k.match?xr(T,0,G):ss(T,F,M)}function xr(T,F,M){if(0===M.length)return new Nn(T.segments,{});{const k=function Yt(T){return Hr(T[0])?T[0].outlets:{[Ue]:T}}(M),G={};if(Object.keys(k).some(ae=>ae!==Ue)&&T.children[Ue]&&1===T.numberOfChildren&&0===T.children[Ue].segments.length){const ae=xr(T.children[Ue],F,M);return new Nn(T.segments,ae.children)}return Object.entries(k).forEach(([ae,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(G[ae]=mr(T.children[ae],F,De))}),Object.entries(T.children).forEach(([ae,De])=>{void 0===k[ae]&&(G[ae]=De)}),new Nn(T.segments,G)}}function ss(T,F,M){const k=T.segments.slice(0,F);let G=0;for(;G<M.length;){const ae=M[G];if(Hr(ae)){const We=zi(ae.outlets);return new Nn(k,We)}if(0===G&&Yr(M[0])){k.push(new As(T.segments[F].path,pi(M[0]))),G++;continue}const De=Hr(ae)?ae.outlets[Ue]:`${ae}`,rt=G<M.length-1?M[G+1]:null;De&&rt&&Yr(rt)?(k.push(new As(De,pi(rt))),G+=2):(k.push(new As(De,{})),G++)}return new Nn(k,{})}function zi(T){const F={};return Object.entries(T).forEach(([M,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(F[M]=ss(new Nn([],{}),0,k))}),F}function pi(T){const F={};return Object.entries(T).forEach(([M,k])=>F[M]=`${k}`),F}function po(T,F,M){return T==M.path&&mn(F,M.parameters)}const ai="imperative";var Bn=function(T){return T[T.NavigationStart=0]="NavigationStart",T[T.NavigationEnd=1]="NavigationEnd",T[T.NavigationCancel=2]="NavigationCancel",T[T.NavigationError=3]="NavigationError",T[T.RoutesRecognized=4]="RoutesRecognized",T[T.ResolveStart=5]="ResolveStart",T[T.ResolveEnd=6]="ResolveEnd",T[T.GuardsCheckStart=7]="GuardsCheckStart",T[T.GuardsCheckEnd=8]="GuardsCheckEnd",T[T.RouteConfigLoadStart=9]="RouteConfigLoadStart",T[T.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",T[T.ChildActivationStart=11]="ChildActivationStart",T[T.ChildActivationEnd=12]="ChildActivationEnd",T[T.ActivationStart=13]="ActivationStart",T[T.ActivationEnd=14]="ActivationEnd",T[T.Scroll=15]="Scroll",T[T.NavigationSkipped=16]="NavigationSkipped",T}(Bn||{});class ir{id;url;constructor(F,M){this.id=F,this.url=M}}class ue extends ir{type=Bn.NavigationStart;navigationTrigger;restoredState;constructor(F,M,k="imperative",G=null){super(F,M),this.navigationTrigger=k,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class de extends ir{urlAfterRedirects;type=Bn.NavigationEnd;constructor(F,M,k){super(F,M),this.urlAfterRedirects=k}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var me=function(T){return T[T.Redirect=0]="Redirect",T[T.SupersededByNewNavigation=1]="SupersededByNewNavigation",T[T.NoDataFromResolver=2]="NoDataFromResolver",T[T.GuardRejected=3]="GuardRejected",T}(me||{}),Ve=function(T){return T[T.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",T[T.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",T}(Ve||{});class ft extends ir{reason;code;type=Bn.NavigationCancel;constructor(F,M,k,G){super(F,M),this.reason=k,this.code=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yt extends ir{reason;code;type=Bn.NavigationSkipped;constructor(F,M,k,G){super(F,M),this.reason=k,this.code=G}}class Vt extends ir{error;target;type=Bn.NavigationError;constructor(F,M,k,G){super(F,M),this.error=k,this.target=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sn extends ir{urlAfterRedirects;state;type=Bn.RoutesRecognized;constructor(F,M,k,G){super(F,M),this.urlAfterRedirects=k,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends ir{urlAfterRedirects;state;type=Bn.GuardsCheckStart;constructor(F,M,k,G){super(F,M),this.urlAfterRedirects=k,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends ir{urlAfterRedirects;state;shouldActivate;type=Bn.GuardsCheckEnd;constructor(F,M,k,G,ae){super(F,M),this.urlAfterRedirects=k,this.state=G,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ln extends ir{urlAfterRedirects;state;type=Bn.ResolveStart;constructor(F,M,k,G){super(F,M),this.urlAfterRedirects=k,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends ir{urlAfterRedirects;state;type=Bn.ResolveEnd;constructor(F,M,k,G){super(F,M),this.urlAfterRedirects=k,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn{route;type=Bn.RouteConfigLoadStart;constructor(F){this.route=F}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Or{route;type=Bn.RouteConfigLoadEnd;constructor(F){this.route=F}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{snapshot;type=Bn.ChildActivationStart;constructor(F){this.snapshot=F}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{snapshot;type=Bn.ChildActivationEnd;constructor(F){this.snapshot=F}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{snapshot;type=Bn.ActivationStart;constructor(F){this.snapshot=F}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{snapshot;type=Bn.ActivationEnd;constructor(F){this.snapshot=F}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{routerEvent;position;anchor;type=Bn.Scroll;constructor(F,M,k){this.routerEvent=F,this.position=M,this.anchor=k}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pr{}class pe{url;navigationBehaviorOptions;constructor(F,M){this.url=F,this.navigationBehaviorOptions=M}}function lr(T){return T.outlet||Ue}function wi(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let F=T.parent;F;F=F.parent){const M=F.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class Ss{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return wi(this.route?.snapshot)??this.rootInjector}constructor(F){this.rootInjector=F,this.children=new li(this.rootInjector)}}let li=(()=>{class T{rootInjector;contexts=new Map;constructor(M){this.rootInjector=M}onChildOutletCreated(M,k){const G=this.getOrCreateContext(M);G.outlet=k,this.contexts.set(M,G)}onChildOutletDestroyed(M){const k=this.getContext(M);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let k=this.getContext(M);return k||(k=new Ss(this.rootInjector),this.contexts.set(M,k)),k}getContext(M){return this.contexts.get(M)||null}static \u0275fac=function(k){return new(k||T)(_.KVO(_.uvJ))};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class Bs{_root;constructor(F){this._root=F}get root(){return this._root.value}parent(F){const M=this.pathFromRoot(F);return M.length>1?M[M.length-2]:null}children(F){const M=Fi(F,this._root);return M?M.children.map(k=>k.value):[]}firstChild(F){const M=Fi(F,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(F){const M=tr(F,this._root);return M.length<2?[]:M[M.length-2].children.map(G=>G.value).filter(G=>G!==F)}pathFromRoot(F){return tr(F,this._root).map(M=>M.value)}}function Fi(T,F){if(T===F.value)return F;for(const M of F.children){const k=Fi(T,M);if(k)return k}return null}function tr(T,F){if(T===F.value)return[F];for(const M of F.children){const k=tr(T,M);if(k.length)return k.unshift(F),k}return[]}class Ys{value;children;constructor(F,M){this.value=F,this.children=M}toString(){return`TreeNode(${this.value})`}}function ki(T){const F={};return T&&T.children.forEach(M=>F[M.value.outlet]=M),F}class Ni extends Bs{snapshot;constructor(F,M){super(F),this.snapshot=M,Xt(this,F)}toString(){return this.snapshot.toString()}}function xo(T){const F=function Po(T){const ae=new gs([],{},{},"",{},Ue,T,null,{});return new Ra("",new Ys(ae,[]))}(T),M=new Q.t([new As("",{})]),k=new Q.t({}),G=new Q.t({}),ae=new Q.t({}),De=new Q.t(""),rt=new ni(M,k,ae,De,G,Ue,T,F.root);return rt.snapshot=F.root,new Ni(new Ys(rt,[]),F)}class ni{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(F,M,k,G,ae,De,rt,We){this.urlSubject=F,this.paramsSubject=M,this.queryParamsSubject=k,this.fragmentSubject=G,this.dataSubject=ae,this.outlet=De,this.component=rt,this._futureSnapshot=We,this.title=this.dataSubject?.pipe((0,ht.T)(Wt=>Wt[st]))??(0,q.of)(void 0),this.url=F,this.params=M,this.queryParams=k,this.fragment=G,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ht.T)(F=>Ct(F))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ht.T)(F=>Ct(F))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function to(T,F,M="emptyOnly"){let k;const{routeConfig:G}=T;return k=null===F||"always"!==M&&""!==G?.path&&(F.component||F.routeConfig?.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...T._resolvedData??{}}}:{params:{...F.params,...T.params},data:{...F.data,...T.data},resolve:{...T.data,...F.data,...G?.data,...T._resolvedData}},G&&Nr(G)&&(k.resolve[st]=G.title),k}class gs{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[st]}constructor(F,M,k,G,ae,De,rt,We,Wt){this.url=F,this.params=M,this.queryParams=k,this.fragment=G,this.data=ae,this.outlet=De,this.component=rt,this.routeConfig=We,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ct(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ct(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ra extends Bs{url;constructor(F,M){super(M),this.url=F,Xt(this,M)}toString(){return Qi(this._root)}}function Xt(T,F){F.value._routerState=T,F.children.forEach(M=>Xt(T,M))}function Qi(T){const F=T.children.length>0?` { ${T.children.map(Qi).join(", ")} } `:"";return`${T.value}${F}`}function Fo(T){if(T.snapshot){const F=T.snapshot,M=T._futureSnapshot;T.snapshot=M,mn(F.queryParams,M.queryParams)||T.queryParamsSubject.next(M.queryParams),F.fragment!==M.fragment&&T.fragmentSubject.next(M.fragment),mn(F.params,M.params)||T.paramsSubject.next(M.params),function Zt(T,F){if(T.length!==F.length)return!1;for(let M=0;M<T.length;++M)if(!mn(T[M],F[M]))return!1;return!0}(F.url,M.url)||T.urlSubject.next(M.url),mn(F.data,M.data)||T.dataSubject.next(M.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function wo(T,F){const M=mn(T.params,F.params)&&function rs(T,F){return Fn(T,F)&&T.every((M,k)=>mn(M.parameters,F[k].parameters))}(T.url,F.url);return M&&!(!T.parent!=!F.parent)&&(!T.parent||wo(T.parent,F.parent))}function Nr(T){return"string"==typeof T.title||null===T.title}const go=new _.nKC("");let nl=(()=>{class T{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ue;activateEvents=new _.bkB;deactivateEvents=new _.bkB;attachEvents=new _.bkB;detachEvents=new _.bkB;routerOutletData=(0,_.hFB)(void 0);parentContexts=(0,_.WQX)(li);location=(0,_.WQX)(_.c1b);changeDetector=(0,_.WQX)(_.gRc);inputBinder=(0,_.WQX)(no,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(M){if(M.name){const{firstChange:k,previousValue:G}=M.name;if(k)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.wOt(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,k){this.activated=M,this._activatedRoute=k,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,k){if(this.isActivated)throw new _.wOt(4013,!1);this._activatedRoute=M;const G=this.location,De=M.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,We=new ko(M,rt,G.injector,this.routerOutletData);this.activated=G.createComponent(De,{index:G.length,injector:We,environmentInjector:k}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(k){return new(k||T)};static \u0275dir=_.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_.OA$]})}return T})();class ko{route;childContexts;parent;outletData;__ngOutletInjector(F){return new ko(this.route,this.childContexts,F,this.outletData)}constructor(F,M,k,G){this.route=F,this.childContexts=M,this.parent=k,this.outletData=G}get(F,M){return F===ni?this.route:F===li?this.childContexts:F===go?this.outletData:this.parent.get(F,M)}}const no=new _.nKC("");let Da=(()=>{class T{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:k}=M,G=(0,z.z)([k.queryParams,k.params,k.data]).pipe((0,Rt.n)(([ae,De,rt],We)=>(rt={...ae,...De,...rt},0===We?(0,q.of)(rt):Promise.resolve(rt)))).subscribe(ae=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(M);const De=(0,_.HJs)(k.component);if(De)for(const{templateName:rt}of De.inputs)M.activatedComponentRef.setInput(rt,ae[rt]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,G)}static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac})}return T})();function ro(T,F,M){if(M&&T.shouldReuseRoute(F.value,M.value.snapshot)){const k=M.value;k._futureSnapshot=F.value;const G=function wn(T,F,M){return F.children.map(k=>{for(const G of M.children)if(T.shouldReuseRoute(k.value,G.value.snapshot))return ro(T,k,G);return ro(T,k)})}(T,F,M);return new Ys(k,G)}{if(T.shouldAttach(F.value)){const ae=T.retrieve(F.value);if(null!==ae){const De=ae.route;return De.value._futureSnapshot=F.value,De.children=F.children.map(rt=>ro(T,rt)),De}}const k=function Io(T){return new ni(new Q.t(T.url),new Q.t(T.params),new Q.t(T.queryParams),new Q.t(T.fragment),new Q.t(T.data),T.outlet,T.component,T)}(F.value),G=F.children.map(ae=>ro(T,ae));return new Ys(k,G)}}class Br{redirectTo;navigationBehaviorOptions;constructor(F,M){this.redirectTo=F,this.navigationBehaviorOptions=M}}const mo="ngNavigationCancelingError";function Fr(T,F){const{redirectTo:M,navigationBehaviorOptions:k}=ln(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,G=ci(!1,me.Redirect);return G.url=M,G.navigationBehaviorOptions=k,G}function ci(T,F){const M=new Error(`NavigationCancelingError: ${T||""}`);return M[mo]=!0,M.cancellationCode=F,M}function Ii(T){return!!T&&T[mo]}class Uo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(F,M,k,G,ae){this.routeReuseStrategy=F,this.futureState=M,this.currState=k,this.forwardEvent=G,this.inputBindingEnabled=ae}activate(F){const M=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,k,F),Fo(this.futureState.root),this.activateChildRoutes(M,k,F)}deactivateChildRoutes(F,M,k){const G=ki(M);F.children.forEach(ae=>{const De=ae.value.outlet;this.deactivateRoutes(ae,G[De],k),delete G[De]}),Object.values(G).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,k)})}deactivateRoutes(F,M,k){const G=F.value,ae=M?M.value:null;if(G===ae)if(G.component){const De=k.getContext(G.outlet);De&&this.deactivateChildRoutes(F,M,De.children)}else this.deactivateChildRoutes(F,M,k);else ae&&this.deactivateRouteAndItsChildren(M,k)}deactivateRouteAndItsChildren(F,M){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,M):this.deactivateRouteAndOutlet(F,M)}detachAndStoreRouteSubtree(F,M){const k=M.getContext(F.value.outlet),G=k&&F.value.component?k.children:M,ae=ki(F);for(const De of Object.values(ae))this.deactivateRouteAndItsChildren(De,G);if(k&&k.outlet){const De=k.outlet.detach(),rt=k.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:De,route:F,contexts:rt})}}deactivateRouteAndOutlet(F,M){const k=M.getContext(F.value.outlet),G=k&&F.value.component?k.children:M,ae=ki(F);for(const De of Object.values(ae))this.deactivateRouteAndItsChildren(De,G);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(F,M,k){const G=ki(M);F.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],k),this.forwardEvent(new os(ae.value.snapshot))}),F.children.length&&this.forwardEvent(new bn(F.value.snapshot))}activateRoutes(F,M,k){const G=F.value,ae=M?M.value:null;if(Fo(G),G===ae)if(G.component){const De=k.getOrCreateContext(G.outlet);this.activateChildRoutes(F,M,De.children)}else this.activateChildRoutes(F,M,k);else if(G.component){const De=k.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const rt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),De.children.onOutletReAttached(rt.contexts),De.attachRef=rt.componentRef,De.route=rt.route.value,De.outlet&&De.outlet.attach(rt.componentRef,rt.route.value),Fo(rt.route.value),this.activateChildRoutes(F,null,De.children)}else De.attachRef=null,De.route=G,De.outlet&&De.outlet.activateWith(G,De.injector),this.activateChildRoutes(F,null,De.children)}else this.activateChildRoutes(F,null,k)}}class Os{path;route;constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class Bo{component;route;constructor(F,M){this.component=F,this.route=M}}function Xi(T,F,M){const k=T._root;return cr(k,F?F._root:null,M,[k.value])}function ea(T,F){const M=Symbol(),k=F.get(T,M);return k===M?"function"!=typeof T||(0,_.LfX)(T)?F.get(T):T:k}function cr(T,F,M,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=ki(F);return T.children.forEach(De=>{(function Mr(T,F,M,k,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=T.value,De=F?F.value:null,rt=M?M.getContext(T.value.outlet):null;if(De&&ae.routeConfig===De.routeConfig){const We=function Ti(T,F,M){if("function"==typeof M)return M(T,F);switch(M){case"pathParamsChange":return!Fn(T.url,F.url);case"pathParamsOrQueryParamsChange":return!Fn(T.url,F.url)||!mn(T.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(T,F)||!mn(T.queryParams,F.queryParams);default:return!wo(T,F)}}(De,ae,ae.routeConfig.runGuardsAndResolvers);We?G.canActivateChecks.push(new Os(k)):(ae.data=De.data,ae._resolvedData=De._resolvedData),cr(T,F,ae.component?rt?rt.children:null:M,k,G),We&&rt&&rt.outlet&&rt.outlet.isActivated&&G.canDeactivateChecks.push(new Bo(rt.outlet.component,De))}else De&&gi(F,rt,G),G.canActivateChecks.push(new Os(k)),cr(T,null,ae.component?rt?rt.children:null:M,k,G)})(De,ae[De.value.outlet],M,k.concat([De.value]),G),delete ae[De.value.outlet]}),Object.entries(ae).forEach(([De,rt])=>gi(rt,M.getContext(De),G)),G}function gi(T,F,M){const k=ki(T),G=T.value;Object.entries(k).forEach(([ae,De])=>{gi(De,G.component?F?F.children.getContext(ae):null:F,M)}),M.canDeactivateChecks.push(new Bo(G.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,G))}function Vi(T){return"function"==typeof T}function Ui(T){return T instanceof ie.G||"EmptyError"===T?.name}const rl=Symbol("INITIAL_VALUE");function Yi(){return(0,Rt.n)(T=>(0,z.z)(T.map(F=>F.pipe((0,Je.s)(1),(0,je.Z)(rl)))).pipe((0,ht.T)(F=>{for(const M of F)if(!0!==M){if(M===rl)return rl;if(!1===M||so(M))return M}return!0}),(0,Ht.p)(F=>F!==rl),(0,Je.s)(1)))}function so(T){return ln(T)||T instanceof Br}function Bi(T){return(0,Te.F)((0,zt.M)(F=>{if("boolean"!=typeof F)throw Fr(0,F)}),(0,ht.T)(F=>!0===F))}class oo{segmentGroup;constructor(F){this.segmentGroup=F||null}}class ta extends Error{urlTree;constructor(F){super(),this.urlTree=F}}function Zi(T){return(0,Fe.$)(new oo(T))}class xa{urlSerializer;urlTree;constructor(F,M){this.urlSerializer=F,this.urlTree=M}lineralizeSegments(F,M){let k=[],G=M.root;for(;;){if(k=k.concat(G.segments),0===G.numberOfChildren)return(0,q.of)(k);if(G.numberOfChildren>1||!G.children[Ue])return(0,Fe.$)(new _.wOt(4e3,!1));G=G.children[Ue]}}applyRedirectCommands(F,M,k,G,ae){if("string"!=typeof M){const rt=M,{queryParams:We,fragment:Wt,routeConfig:gn,url:fr,outlet:cs,params:Qo,data:bi,title:xi}=G,mi=(0,_.N4e)(ae,()=>rt({params:Qo,data:bi,queryParams:We,fragment:Wt,routeConfig:gn,url:fr,outlet:cs,title:xi}));if(mi instanceof Qr)throw new ta(mi);M=mi}const De=this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),F,k);if("/"===M[0])throw new ta(De);return De}applyRedirectCreateUrlTree(F,M,k,G){const ae=this.createSegmentGroup(F,M.root,k,G);return new Qr(ae,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(F,M){const k={};return Object.entries(F).forEach(([G,ae])=>{if("string"==typeof ae&&":"===ae[0]){const rt=ae.substring(1);k[G]=M[rt]}else k[G]=ae}),k}createSegmentGroup(F,M,k,G){const ae=this.createSegments(F,M.segments,k,G);let De={};return Object.entries(M.children).forEach(([rt,We])=>{De[rt]=this.createSegmentGroup(F,We,k,G)}),new Nn(ae,De)}createSegments(F,M,k,G){return M.map(ae=>":"===ae.path[0]?this.findPosParam(F,ae,G):this.findOrReturn(ae,k))}findPosParam(F,M,k){const G=k[M.path.substring(1)];if(!G)throw new _.wOt(4001,!1);return G}findOrReturn(F,M){let k=0;for(const G of M){if(G.path===F.path)return M.splice(k),G;k++}return F}}const Nl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pa(T,F,M,k,G){const ae=Fa(T,F,M);return ae.matched?(k=function Be(T,F){return T.providers&&!T._injector&&(T._injector=(0,_.Ol2)(T.providers,F,`Route: ${T.path}`)),T._injector??F}(F,k),function io(T,F,M,k){const G=F.canMatch;if(!G||0===G.length)return(0,q.of)(!0);const ae=G.map(De=>{const rt=ea(De,T);return yn(function Ns(T){return T&&Vi(T.canMatch)}(rt)?rt.canMatch(F,M):(0,_.N4e)(T,()=>rt(F,M)))});return(0,q.of)(ae).pipe(Yi(),Bi())}(k,F,M).pipe((0,ht.T)(De=>!0===De?ae:{...Nl}))):(0,q.of)(ae)}function Fa(T,F,M){if("**"===F.path)return function wa(T){return{matched:!0,parameters:T.length>0?Kn(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}(M);if(""===F.path)return"full"===F.pathMatch&&(T.hasChildren()||M.length>0)?{...Nl}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const G=(F.matcher||Et)(M,T,F);if(!G)return{...Nl};const ae={};Object.entries(G.posParams??{}).forEach(([rt,We])=>{ae[rt]=We.path});const De=G.consumed.length>0?{...ae,...G.consumed[G.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:G.consumed,remainingSegments:M.slice(G.consumed.length),parameters:De,positionalParamSegments:G.posParams??{}}}function Ls(T,F,M,k){return M.length>0&&function $s(T,F,M){return M.some(k=>sa(T,F,k)&&lr(k)!==Ue)}(T,M,k)?{segmentGroup:new Nn(F,ka(k,new Nn(M,T.children))),slicedSegments:[]}:0===M.length&&function ra(T,F,M){return M.some(k=>sa(T,F,k))}(T,M,k)?{segmentGroup:new Nn(T.segments,na(T,M,k,T.children)),slicedSegments:M}:{segmentGroup:new Nn(T.segments,T.children),slicedSegments:M}}function na(T,F,M,k){const G={};for(const ae of M)if(sa(T,F,ae)&&!k[lr(ae)]){const De=new Nn([],{});G[lr(ae)]=De}return{...k,...G}}function ka(T,F){const M={};M[Ue]=F;for(const k of T)if(""===k.path&&lr(k)!==Ue){const G=new Nn([],{});M[lr(k)]=G}return M}function sa(T,F,M){return(!(T.hasChildren()||F.length>0)||"full"!==M.pathMatch)&&""===M.path}class Lr{}class ia{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(F,M,k,G,ae,De,rt){this.injector=F,this.configLoader=M,this.rootComponentType=k,this.config=G,this.urlTree=ae,this.paramsInheritanceStrategy=De,this.urlSerializer=rt,this.applyRedirects=new xa(this.urlSerializer,this.urlTree)}noMatchError(F){return new _.wOt(4002,`'${F.segmentGroup}'`)}recognize(){const F=Ls(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(F).pipe((0,ht.T)(({children:M,rootSnapshot:k})=>{const G=new Ys(k,M),ae=new Ra("",G),De=function Un(T,F,M=null,k=null){return Tr(sn(T),F,M,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(De),{state:ae,tree:De}}))}match(F){const M=new gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,F,Ue,M).pipe((0,ht.T)(k=>({children:k,rootSnapshot:M})),(0,Pn.W)(k=>{if(k instanceof ta)return this.urlTree=k.urlTree,this.match(k.urlTree.root);throw k instanceof oo?this.noMatchError(k):k}))}processSegmentGroup(F,M,k,G,ae){return 0===k.segments.length&&k.hasChildren()?this.processChildren(F,M,k,ae):this.processSegment(F,M,k,k.segments,G,!0,ae).pipe((0,ht.T)(De=>De instanceof Ys?[De]:[]))}processChildren(F,M,k,G){const ae=[];for(const De of Object.keys(k.children))"primary"===De?ae.unshift(De):ae.push(De);return(0,W.H)(ae).pipe((0,Gt.H)(De=>{const rt=k.children[De],We=function Jo(T,F){const M=T.filter(k=>lr(k)===F);return M.push(...T.filter(k=>lr(k)!==F)),M}(M,De);return this.processSegmentGroup(F,We,rt,De,G)}),(0,pt.S)((De,rt)=>(De.push(...rt),De)),(0,tt.U)(null),(0,Nt.H)(),(0,Ot.Z)(De=>{if(null===De)return Zi(k);const rt=Ws(De);return function as(T){T.sort((F,M)=>F.value.outlet===Ue?-1:M.value.outlet===Ue?1:F.value.outlet.localeCompare(M.value.outlet))}(rt),(0,q.of)(rt)}))}processSegment(F,M,k,G,ae,De,rt){return(0,W.H)(M).pipe((0,Gt.H)(We=>this.processSegmentAgainstRoute(We._injector??F,M,We,k,G,ae,De,rt).pipe((0,Pn.W)(Wt=>{if(Wt instanceof oo)return(0,q.of)(null);throw Wt}))),(0,Kt.$)(We=>!!We),(0,Pn.W)(We=>{if(Ui(We))return function jo(T,F,M){return 0===F.length&&!T.children[M]}(k,G,ae)?(0,q.of)(new Lr):Zi(k);throw We}))}processSegmentAgainstRoute(F,M,k,G,ae,De,rt,We){return lr(k)===De||De!==Ue&&sa(G,ae,k)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(F,G,k,ae,De,We):this.allowRedirects&&rt?this.expandSegmentAgainstRouteUsingRedirect(F,G,M,k,ae,De,We):Zi(G):Zi(G)}expandSegmentAgainstRouteUsingRedirect(F,M,k,G,ae,De,rt){const{matched:We,parameters:Wt,consumedSegments:gn,positionalParamSegments:fr,remainingSegments:cs}=Fa(M,G,ae);if(!We)return Zi(M);"string"==typeof G.redirectTo&&"/"===G.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Qo=new gs(ae,Wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ao(G),lr(G),G.component??G._loadedComponent??null,G,Si(G)),bi=to(Qo,rt,this.paramsInheritanceStrategy);Qo.params=Object.freeze(bi.params),Qo.data=Object.freeze(bi.data);const xi=this.applyRedirects.applyRedirectCommands(gn,G.redirectTo,fr,Qo,F);return this.applyRedirects.lineralizeSegments(G,xi).pipe((0,Ot.Z)(mi=>this.processSegment(F,k,M,mi.concat(cs),De,!1,rt)))}matchSegmentAgainstRoute(F,M,k,G,ae,De){const rt=Pa(M,k,G,F);return"**"===k.path&&(M.children={}),rt.pipe((0,Rt.n)(We=>We.matched?this.getChildConfig(F=k._injector??F,k,G).pipe((0,Rt.n)(({routes:Wt})=>{const gn=k._loadedInjector??F,{parameters:fr,consumedSegments:cs,remainingSegments:Qo}=We,bi=new gs(cs,fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ao(k),lr(k),k.component??k._loadedComponent??null,k,Si(k)),xi=to(bi,De,this.paramsInheritanceStrategy);bi.params=Object.freeze(xi.params),bi.data=Object.freeze(xi.data);const{segmentGroup:mi,slicedSegments:ua}=Ls(M,cs,Qo,Wt);if(0===ua.length&&mi.hasChildren())return this.processChildren(gn,Wt,mi,bi).pipe((0,ht.T)(Xn=>new Ys(bi,Xn)));if(0===Wt.length&&0===ua.length)return(0,q.of)(new Ys(bi,[]));const oc=lr(k)===ae;return this.processSegment(gn,Wt,mi,ua,oc?Ue:ae,!0,bi).pipe((0,ht.T)(Xn=>new Ys(bi,Xn instanceof Ys?[Xn]:[])))})):Zi(M)))}getChildConfig(F,M,k){return M.children?(0,q.of)({routes:M.children,injector:F}):M.loadChildren?void 0!==M._loadedRoutes?(0,q.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function In(T,F,M,k){const G=F.canLoad;if(void 0===G||0===G.length)return(0,q.of)(!0);const ae=G.map(De=>{const rt=ea(De,T);return yn(function js(T){return T&&Vi(T.canLoad)}(rt)?rt.canLoad(F,M):(0,_.N4e)(T,()=>rt(F,M)))});return(0,q.of)(ae).pipe(Yi(),Bi())}(F,M,k).pipe((0,Ot.Z)(G=>G?this.configLoader.loadChildren(F,M).pipe((0,zt.M)(ae=>{M._loadedRoutes=ae.routes,M._loadedInjector=ae.injector})):function Js(){return(0,Fe.$)(ci(!1,me.GuardRejected))}())):(0,q.of)({routes:[],injector:F})}}function Jr(T){const F=T.value.routeConfig;return F&&""===F.path}function Ws(T){const F=[],M=new Set;for(const k of T){if(!Jr(k)){F.push(k);continue}const G=F.find(ae=>k.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...k.children),M.add(G)):F.push(k)}for(const k of M){const G=Ws(k.children);F.push(new Ys(k.value,G))}return F.filter(k=>!M.has(k))}function ao(T){return T.data||{}}function Si(T){return T.resolve||{}}function Mt(T){const F=T.children.map(M=>Mt(M)).flat();return[T,...F]}function Ft(T){return(0,Rt.n)(F=>{const M=T(F);return M?(0,W.H)(M).pipe((0,ht.T)(()=>F)):(0,q.of)(F)})}let Ye=(()=>{class T{buildTitle(M){let k,G=M.root;for(;void 0!==G;)k=this.getResolvedTitleForRoute(G)??k,G=G.children.find(ae=>ae.outlet===Ue);return k}getResolvedTitleForRoute(M){return M.data[st]}static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(Tn),providedIn:"root"})}return T})(),Tn=(()=>{class T extends Ye{title;constructor(M){super(),this.title=M}updateTitle(M){const k=this.buildTitle(M);void 0!==k&&this.title.setTitle(k)}static \u0275fac=function(k){return new(k||T)(_.KVO(Xe.hE))};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const At=new _.nKC("",{providedIn:"root",factory:()=>({})});let qe=(()=>{class T{static \u0275fac=function(k){return new(k||T)};static \u0275cmp=_.VBU({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(k,G){1&k&&_.nrm(0,"router-outlet")},dependencies:[nl],encapsulation:2})}return T})();function _t(T){const F=T.children&&T.children.map(_t),M=F?{...T,children:F}:{...T};return!M.component&&!M.loadComponent&&(F||M.loadChildren)&&M.outlet&&M.outlet!==Ue&&(M.component=qe),M}const Cr=new _.nKC("");let Ta=(()=>{class T{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,_.WQX)(_.Ql9);loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,q.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const k=yn(M.loadComponent()).pipe((0,ht.T)($o),(0,zt.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=ae}),(0,yr.j)(()=>{this.componentLoaders.delete(M)})),G=new Ie.G(k,()=>new xe.B).pipe((0,_r.B)());return this.componentLoaders.set(M,G),G}loadChildren(M,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,q.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ae=function ls(T,F,M,k){return yn(T.loadChildren()).pipe((0,ht.T)($o),(0,Ot.Z)(G=>G instanceof _.Co$||Array.isArray(G)?(0,q.of)(G):(0,W.H)(F.compileModuleAsync(G))),(0,ht.T)(G=>{k&&k(T);let ae,De,rt=!1;return Array.isArray(G)?(De=G,!0):(ae=G.create(M).injector,De=ae.get(Cr,[],{optional:!0,self:!0}).flat()),{routes:De.map(_t),injector:ae}}))}(k,this.compiler,M,this.onLoadEndListener).pipe((0,yr.j)(()=>{this.childrenLoaders.delete(k)})),De=new Ie.G(ae,()=>new xe.B).pipe((0,_r.B)());return this.childrenLoaders.set(k,De),De}static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function $o(T){return function si(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Vn=(()=>{class T{static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(oa),providedIn:"root"})}return T})(),oa=(()=>{class T{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,k){return M}static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Va=new _.nKC(""),Ua=new _.nKC("");function Kr(T,F,M){const k=T.get(Ua),G=T.get(Ge.DOCUMENT);return T.get(_.SKi).runOutsideAngular(()=>{if(!G.startViewTransition||k.skipNextTransition)return k.skipNextTransition=!1,new Promise(Wt=>setTimeout(Wt));let ae;const De=new Promise(Wt=>{ae=Wt}),rt=G.startViewTransition(()=>(ae(),function aa(T){return new Promise(F=>{(0,_.mal)({read:()=>setTimeout(F)},{injector:T})})}(T))),{onViewTransitionCreated:We}=k;return We&&(0,_.N4e)(T,()=>We({transition:rt,from:F,to:M})),De})}const Ho=new _.nKC("");let _n=(()=>{class T{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe.B;transitionAbortSubject=new xe.B;configLoader=(0,_.WQX)(Ta);environmentInjector=(0,_.WQX)(_.uvJ);urlSerializer=(0,_.WQX)(pr);rootContexts=(0,_.WQX)(li);location=(0,_.WQX)(Ge.Location);inputBindingEnabled=null!==(0,_.WQX)(no,{optional:!0});titleStrategy=(0,_.WQX)(Ye);options=(0,_.WQX)(At,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,_.WQX)(Vn);createViewTransition=(0,_.WQX)(Va,{optional:!0});navigationErrorHandler=(0,_.WQX)(Ho,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,q.of)(void 0);rootComponentType=null;constructor(){this.configLoader.onLoadEndListener=G=>this.events.next(new Or(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new jn(G))}complete(){this.transitions?.complete()}handleNavigationRequest(M){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...M,id:k})}setupNavigations(M,k,G){return this.transitions=new Q.t({id:0,currentUrlTree:k,currentRawUrl:k,extractedUrl:this.urlHandlingStrategy.extract(k),urlAfterRedirects:this.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ai,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ht.p)(ae=>0!==ae.id),(0,ht.T)(ae=>({...ae,extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Rt.n)(ae=>{let De=!1,rt=!1;return(0,q.of)(ae).pipe((0,Rt.n)(We=>{if(this.navigationId>ae.id)return this.cancelNavigationTransition(ae,"",me.SupersededByNewNavigation),Le.w;this.currentTransition=ae,this.currentNavigation={id:We.id,initialUrl:We.rawUrl,extractedUrl:We.extractedUrl,targetBrowserUrl:"string"==typeof We.extras.browserUrl?this.urlSerializer.parse(We.extras.browserUrl):We.extras.browserUrl,trigger:We.source,extras:We.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Wt=!M.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Wt&&"reload"!==(We.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const fr="";return this.events.next(new yt(We.id,this.urlSerializer.serialize(We.rawUrl),fr,Ve.IgnoredSameUrlNavigation)),We.resolve(!1),Le.w}if(this.urlHandlingStrategy.shouldProcessUrl(We.rawUrl))return(0,q.of)(We).pipe((0,Rt.n)(fr=>{const cs=this.transitions?.getValue();return this.events.next(new ue(fr.id,this.urlSerializer.serialize(fr.extractedUrl),fr.source,fr.restoredState)),cs!==this.transitions?.getValue()?Le.w:Promise.resolve(fr)}),function Ia(T,F,M,k,G,ae){return(0,Ot.Z)(De=>function Hs(T,F,M,k,G,ae,De="emptyOnly"){return new ia(T,F,M,k,G,De,ae).recognize()}(T,F,M,k,De.extractedUrl,G,ae).pipe((0,ht.T)(({state:rt,tree:We})=>({...De,targetSnapshot:rt,urlAfterRedirects:We}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,zt.M)(fr=>{ae.targetSnapshot=fr.targetSnapshot,ae.urlAfterRedirects=fr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:fr.urlAfterRedirects};const cs=new Sn(fr.id,this.urlSerializer.serialize(fr.extractedUrl),this.urlSerializer.serialize(fr.urlAfterRedirects),fr.targetSnapshot);this.events.next(cs)}));if(Wt&&this.urlHandlingStrategy.shouldProcessUrl(We.currentRawUrl)){const{id:fr,extractedUrl:cs,source:Qo,restoredState:bi,extras:xi}=We,mi=new ue(fr,this.urlSerializer.serialize(cs),Qo,bi);this.events.next(mi);const ua=xo(this.rootComponentType).snapshot;return this.currentTransition=ae={...We,targetSnapshot:ua,urlAfterRedirects:cs,extras:{...xi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=cs,(0,q.of)(ae)}{const fr="";return this.events.next(new yt(We.id,this.urlSerializer.serialize(We.extractedUrl),fr,Ve.IgnoredByUrlHandlingStrategy)),We.resolve(!1),Le.w}}),(0,zt.M)(We=>{const Wt=new un(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(Wt)}),(0,ht.T)(We=>(this.currentTransition=ae={...We,guards:Xi(We.targetSnapshot,We.currentSnapshot,this.rootContexts)},ae)),function Ca(T,F){return(0,Ot.Z)(M=>{const{targetSnapshot:k,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:De}}=M;return 0===De.length&&0===ae.length?(0,q.of)({...M,guardsResult:!0}):function To(T,F,M,k){return(0,W.H)(T).pipe((0,Ot.Z)(G=>function an(T,F,M,k,G){const ae=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,q.of)(!0);const De=ae.map(rt=>{const We=wi(F)??G,Wt=ea(rt,We);return yn(function qs(T){return T&&Vi(T.canDeactivate)}(Wt)?Wt.canDeactivate(T,F,M,k):(0,_.N4e)(We,()=>Wt(T,F,M,k))).pipe((0,Kt.$)())});return(0,q.of)(De).pipe(Yi())}(G.component,G.route,M,F,k)),(0,Kt.$)(G=>!0!==G,!0))}(De,k,G,T).pipe((0,Ot.Z)(rt=>rt&&function za(T){return"boolean"==typeof T}(rt)?function H(T,F,M,k){return(0,W.H)(F).pipe((0,Gt.H)(G=>(0,ee.x)(function x(T,F){return null!==T&&F&&F(new is(T)),(0,q.of)(!0)}(G.route.parent,k),function K(T,F){return null!==T&&F&&F(new Dr(T)),(0,q.of)(!0)}(G.route,k),function Ne(T,F,M){const k=F[F.length-1],ae=F.slice(0,F.length-1).reverse().map(De=>function Li(T){const F=T.routeConfig?T.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:T,guards:F}:null}(De)).filter(De=>null!==De).map(De=>(0,ne.v)(()=>{const rt=De.guards.map(We=>{const Wt=wi(De.node)??M,gn=ea(We,Wt);return yn(function Ds(T){return T&&Vi(T.canActivateChild)}(gn)?gn.canActivateChild(k,T):(0,_.N4e)(Wt,()=>gn(k,T))).pipe((0,Kt.$)())});return(0,q.of)(rt).pipe(Yi())}));return(0,q.of)(ae).pipe(Yi())}(T,G.path,M),function re(T,F,M){const k=F.routeConfig?F.routeConfig.canActivate:null;if(!k||0===k.length)return(0,q.of)(!0);const G=k.map(ae=>(0,ne.v)(()=>{const De=wi(F)??M,rt=ea(ae,De);return yn(function zn(T){return T&&Vi(T.canActivate)}(rt)?rt.canActivate(F,T):(0,_.N4e)(De,()=>rt(F,T))).pipe((0,Kt.$)())}));return(0,q.of)(G).pipe(Yi())}(T,G.route,M))),(0,Kt.$)(G=>!0!==G,!0))}(k,ae,T,F):(0,q.of)(rt)),(0,ht.T)(rt=>({...M,guardsResult:rt})))})}(this.environmentInjector,We=>this.events.next(We)),(0,zt.M)(We=>{if(ae.guardsResult=We.guardsResult,We.guardsResult&&"boolean"!=typeof We.guardsResult)throw Fr(0,We.guardsResult);const Wt=new Sr(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot,!!We.guardsResult);this.events.next(Wt)}),(0,Ht.p)(We=>!!We.guardsResult||(this.cancelNavigationTransition(We,"",me.GuardRejected),!1)),Ft(We=>{if(We.guards.canActivateChecks.length)return(0,q.of)(We).pipe((0,zt.M)(Wt=>{const gn=new Ln(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(gn)}),(0,Rt.n)(Wt=>{let gn=!1;return(0,q.of)(Wt).pipe(function qc(T,F){return(0,Ot.Z)(M=>{const{targetSnapshot:k,guards:{canActivateChecks:G}}=M;if(!G.length)return(0,q.of)(M);const ae=new Set(G.map(We=>We.route)),De=new Set;for(const We of ae)if(!De.has(We))for(const Wt of Mt(We))De.add(Wt);let rt=0;return(0,W.H)(De).pipe((0,Gt.H)(We=>ae.has(We)?function ei(T,F,M,k){const G=T.routeConfig,ae=T._resolve;return void 0!==G?.title&&!Nr(G)&&(ae[st]=G.title),function bo(T,F,M,k){const G=hr(T);if(0===G.length)return(0,q.of)({});const ae={};return(0,W.H)(G).pipe((0,Ot.Z)(De=>function La(T,F,M,k){const G=wi(F)??k,ae=ea(T,G);return yn(ae.resolve?ae.resolve(F,M):(0,_.N4e)(G,()=>ae(F,M)))}(T[De],F,M,k).pipe((0,Kt.$)(),(0,zt.M)(rt=>{if(rt instanceof Br)throw Fr(new Is,rt);ae[De]=rt}))),(0,Dn.o)(1),(0,kn.u)(ae),(0,Pn.W)(De=>Ui(De)?Le.w:(0,Fe.$)(De)))}(ae,T,F,k).pipe((0,ht.T)(De=>(T._resolvedData=De,T.data=to(T,T.parent,M).resolve,null)))}(We,k,T,F):(We.data=to(We,We.parent,T).resolve,(0,q.of)(void 0))),(0,zt.M)(()=>rt++),(0,Dn.o)(1),(0,Ot.Z)(We=>rt===De.size?(0,q.of)(M):Le.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,zt.M)({next:()=>gn=!0,complete:()=>{gn||this.cancelNavigationTransition(Wt,"",me.NoDataFromResolver)}}))}),(0,zt.M)(Wt=>{const gn=new tn(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(gn)}))}),Ft(We=>{const Wt=gn=>{const fr=[];gn.routeConfig?.loadComponent&&!gn.routeConfig._loadedComponent&&fr.push(this.configLoader.loadComponent(gn.routeConfig).pipe((0,zt.M)(cs=>{gn.component=cs}),(0,ht.T)(()=>{})));for(const cs of gn.children)fr.push(...Wt(cs));return fr};return(0,z.z)(Wt(We.targetSnapshot.root)).pipe((0,tt.U)(null),(0,Je.s)(1))}),Ft(()=>this.afterPreactivation()),(0,Rt.n)(()=>{const{currentSnapshot:We,targetSnapshot:Wt}=ae,gn=this.createViewTransition?.(this.environmentInjector,We.root,Wt.root);return gn?(0,W.H)(gn).pipe((0,ht.T)(()=>ae)):(0,q.of)(ae)}),(0,ht.T)(We=>{const Wt=function Zs(T,F,M){const k=ro(T,F._root,M?M._root:void 0);return new Ni(k,F)}(M.routeReuseStrategy,We.targetSnapshot,We.currentRouterState);return this.currentTransition=ae={...We,targetRouterState:Wt},this.currentNavigation.targetRouterState=Wt,ae}),(0,zt.M)(()=>{this.events.next(new Pr)}),((T,F,M,k)=>(0,ht.T)(G=>(new Uo(F,G.targetRouterState,G.currentRouterState,M,k).activate(T),G)))(this.rootContexts,M.routeReuseStrategy,We=>this.events.next(We),this.inputBindingEnabled),(0,Je.s)(1),(0,zt.M)({next:We=>{De=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new de(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects))),this.titleStrategy?.updateTitle(We.targetRouterState.snapshot),We.resolve(!0)},complete:()=>{De=!0}}),(0,ws.Q)(this.transitionAbortSubject.pipe((0,zt.M)(We=>{throw We}))),(0,yr.j)(()=>{!De&&!rt&&this.cancelNavigationTransition(ae,"",me.SupersededByNewNavigation),this.currentTransition?.id===ae.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Pn.W)(We=>{if(rt=!0,Ii(We))this.events.next(new ft(ae.id,this.urlSerializer.serialize(ae.extractedUrl),We.message,We.cancellationCode)),function Lo(T){return Ii(T)&&ln(T.url)}(We)?this.events.next(new pe(We.url,We.navigationBehaviorOptions)):ae.resolve(!1);else{const Wt=new Vt(ae.id,this.urlSerializer.serialize(ae.extractedUrl),We,ae.targetSnapshot??void 0);try{const gn=(0,_.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Wt));if(!(gn instanceof Br))throw this.events.next(Wt),We;{const{message:fr,cancellationCode:cs}=Fr(0,gn);this.events.next(new ft(ae.id,this.urlSerializer.serialize(ae.extractedUrl),fr,cs)),this.events.next(new pe(gn.redirectTo,gn.navigationBehaviorOptions))}}catch(gn){this.options.resolveNavigationPromiseOnError?ae.resolve(!1):ae.reject(gn)}}return Le.w}))}))}cancelNavigationTransition(M,k,G){const ae=new ft(M.id,this.urlSerializer.serialize(M.extractedUrl),k,G);this.events.next(ae),M.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const M=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),k=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return M.toString()!==k?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function ji(T){return T!==ai}let il=(()=>{class T{static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(S),providedIn:"root"})}return T})();class es{shouldDetach(F){return!1}store(F,M){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,M){return F.routeConfig===M.routeConfig}}let S=(()=>{class T extends es{static \u0275fac=(()=>{let M;return function(G){return(M||(M=_.xGo(T)))(G||T)}})();static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),X=(()=>{class T{static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:()=>(0,_.WQX)(R),providedIn:"root"})}return T})(),R=(()=>{class T extends X{location=(0,_.WQX)(Ge.Location);urlSerializer=(0,_.WQX)(pr);options=(0,_.WQX)(At,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=(0,_.WQX)(Vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=xo(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(M){return this.location.subscribe(k=>{"popstate"===k.type&&M(k.url,k.state)})}handleRouterEvent(M,k){if(M instanceof ue)this.stateMemento=this.createStateMemento();else if(M instanceof yt)this.rawUrlTree=k.initialUrl;else if(M instanceof Sn){if("eager"===this.urlUpdateStrategy&&!k.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(k.finalUrl,k.initialUrl);this.setBrowserUrl(k.targetBrowserUrl??G,k)}}else M instanceof Pr?(this.currentUrlTree=k.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(k.finalUrl,k.initialUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&!k.extras.skipLocationChange&&this.setBrowserUrl(k.targetBrowserUrl??this.rawUrlTree,k)):M instanceof ft&&(M.code===me.GuardRejected||M.code===me.NoDataFromResolver)?this.restoreHistory(k):M instanceof Vt?this.restoreHistory(k,!0):M instanceof de&&(this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId)}setBrowserUrl(M,k){const G=M instanceof Qr?this.urlSerializer.serialize(M):M;if(this.location.isCurrentPathEqualTo(G)||k.extras.replaceUrl){const De={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(G,"",De)}else{const ae={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(G,"",ae)}}restoreHistory(M,k=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===M.finalUrl&&0===ae&&(this.resetState(M),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,k){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:k}:{navigationId:M}}static \u0275fac=(()=>{let M;return function(G){return(M||(M=_.xGo(T)))(G||T)}})();static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var V=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(V||{});function he(T,F){T.events.pipe((0,Ht.p)(M=>M instanceof de||M instanceof ft||M instanceof Vt||M instanceof yt),(0,ht.T)(M=>M instanceof de||M instanceof yt?V.COMPLETE:M instanceof ft&&(M.code===me.Redirect||M.code===me.SupersededByNewNavigation)?V.REDIRECTING:V.FAILED),(0,Ht.p)(M=>M!==V.REDIRECTING),(0,Je.s)(1)).subscribe(()=>{F()})}const Me={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ot={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ut=(()=>{class T{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,_.WQX)(_.H3F);stateManager=(0,_.WQX)(X);options=(0,_.WQX)(At,{optional:!0})||{};pendingTasks=(0,_.WQX)(_.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,_.WQX)(_n);urlSerializer=(0,_.WQX)(pr);location=(0,_.WQX)(Ge.Location);urlHandlingStrategy=(0,_.WQX)(Vn);_events=new xe.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,_.WQX)(il);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,_.WQX)(Cr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,_.WQX)(no,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:M=>{this.console.warn(M)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ze.yU;subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(k=>{try{const G=this.navigationTransitions.currentTransition,ae=this.navigationTransitions.currentNavigation;if(null!==G&&null!==ae)if(this.stateManager.handleRouterEvent(k,ae),k instanceof ft&&k.code!==me.Redirect&&k.code!==me.SupersededByNewNavigation)this.navigated=!0;else if(k instanceof de)this.navigated=!0;else if(k instanceof pe){const De=k.navigationBehaviorOptions,rt=this.urlHandlingStrategy.merge(k.url,G.currentRawUrl),We={browserUrl:G.extras.browserUrl,info:G.extras.info,skipLocationChange:G.extras.skipLocationChange,replaceUrl:G.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ji(G.source),...De};this.scheduleNavigation(rt,ai,null,We,{resolve:G.resolve,reject:G.reject,promise:G.promise})}(function Qn(T){return!(T instanceof Pr||T instanceof pe)})(k)&&this._events.next(k)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ai,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((M,k)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(M,"popstate",k)},0)})}navigateToSyncWithBrowser(M,k,G){const ae={replaceUrl:!0},De=G?.navigationId?G:null;if(G){const We={...G};delete We.navigationId,delete We.\u0275routerPageId,0!==Object.keys(We).length&&(ae.state=We)}const rt=this.parseUrl(M);this.scheduleNavigation(rt,k,De,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(_t),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,k={}){const{relativeTo:G,queryParams:ae,fragment:De,queryParamsHandling:rt,preserveFragment:We}=k,Wt=We?this.currentUrlTree.fragment:De;let fr,gn=null;switch(rt??this.options.defaultQueryParamsHandling){case"merge":gn={...this.currentUrlTree.queryParams,...ae};break;case"preserve":gn=this.currentUrlTree.queryParams;break;default:gn=ae||null}null!==gn&&(gn=this.removeEmptyProps(gn));try{fr=sn(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||"/"!==M[0][0])&&(M=[]),fr=this.currentUrlTree.root}return Tr(fr,M,gn,Wt??null)}navigateByUrl(M,k={skipLocationChange:!1}){const G=ln(M)?M:this.parseUrl(M),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,ai,null,k)}navigate(M,k={skipLocationChange:!1}){return function nr(T){for(let F=0;F<T.length;F++)if(null==T[F])throw new _.wOt(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,k),k)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){try{return this.urlSerializer.parse(M)}catch{return this.urlSerializer.parse("/")}}isActive(M,k){let G;if(G=!0===k?{...Me}:!1===k?{...ot}:k,ln(M))return qn(this.currentUrlTree,M,G);const ae=this.parseUrl(M);return qn(this.currentUrlTree,ae,G)}removeEmptyProps(M){return Object.entries(M).reduce((k,[G,ae])=>(null!=ae&&(k[G]=ae),k),{})}scheduleNavigation(M,k,G,ae,De){if(this.disposed)return Promise.resolve(!1);let rt,We,Wt;De?(rt=De.resolve,We=De.reject,Wt=De.promise):Wt=new Promise((fr,cs)=>{rt=fr,We=cs});const gn=this.pendingTasks.add();return he(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gn))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:M,extras:ae,resolve:rt,reject:We,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(fr=>Promise.reject(fr))}static \u0275fac=function(k){return new(k||T)};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Yn=(()=>{class T{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe.B;constructor(M,k,G,ae,De,rt){this.router=M,this.route=k,this.tabIndexAttribute=G,this.renderer=ae,this.el=De,this.locationStrategy=rt;const We=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===We||"area"===We,this.isAnchorElement?this.subscription=M.events.subscribe(Wt=>{Wt instanceof de&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(M){null==M?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ln(M)||Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0"))}onClick(M,k,G,ae,De){const rt=this.urlTree;return!!(null===rt||this.isAnchorElement&&(0!==M||k||G||ae||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(rt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const M=this.urlTree;this.href=null!==M&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(M)):null;const k=null===this.href?null:(0,_.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",k)}applyAttributeValue(M,k){const G=this.renderer,ae=this.el.nativeElement;null!==k?G.setAttribute(ae,M,k):G.removeAttribute(ae,M)}get urlTree(){return null===this.routerLinkInput?null:ln(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(k){return new(k||T)(_.rXU(Ut),_.rXU(ni),_.kS0("tabindex"),_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(Ge.LocationStrategy))};static \u0275dir=_.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,G){1&k&&_.bIt("click",function(De){return G.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&k&&_.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_.L39],replaceUrl:[2,"replaceUrl","replaceUrl",_.L39],routerLink:"routerLink"},features:[_.GFd,_.OA$]})}return T})(),En=(()=>{class T{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new _.bkB;constructor(M,k,G,ae,De){this.router=M,this.element=k,this.renderer=G,this.cdr=ae,this.link=De,this.routerEventsSubscription=M.events.subscribe(rt=>{rt instanceof de&&this.update()})}ngAfterContentInit(){(0,q.of)(this.links.changes,(0,q.of)(null)).pipe((0,dr.U)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const M=[...this.links.toArray(),this.link].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,W.H)(M).pipe((0,dr.U)()).subscribe(k=>{this._isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(M){const k=Array.isArray(M)?M:M.split(" ");this.classes=k.filter(G=>!!G)}ngOnChanges(M){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const M=this.hasActiveLinks();this.classes.forEach(k=>{M?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),M&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==M&&(this._isActive=M,this.cdr.markForCheck(),this.isActiveChange.emit(M))})}isLinkActive(M){const k=function $n(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>{const ae=G.urlTree;return!!ae&&M.isActive(ae,k)}}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.links.some(M)}static \u0275fac=function(k){return new(k||T)(_.rXU(Ut),_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(_.gRc),_.rXU(Yn,8))};static \u0275dir=_.FsC({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(k,G,ae){if(1&k&&_.wni(ae,Yn,5),2&k){let De;_.mGM(De=_.lsd())&&(G.links=De)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[_.OA$]})}return T})();class wr{}let Vs=(()=>{class T{router;injector;preloadingStrategy;loader;subscription;constructor(M,k,G,ae,De){this.router=M,this.injector=G,this.preloadingStrategy=ae,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ht.p)(M=>M instanceof de),(0,Gt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,k){const G=[];for(const ae of k){ae.providers&&!ae._injector&&(ae._injector=(0,_.Ol2)(ae.providers,M,`Route: ${ae.path}`));const De=ae._injector??M,rt=ae._loadedInjector??De;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&G.push(this.preloadConfig(De,ae)),(ae.children||ae._loadedRoutes)&&G.push(this.processRoutes(rt,ae.children??ae._loadedRoutes))}return(0,W.H)(G).pipe((0,dr.U)())}preloadConfig(M,k){return this.preloadingStrategy.preload(k,()=>{let G;G=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(M,k):(0,q.of)(null);const ae=G.pipe((0,Ot.Z)(De=>null===De?(0,q.of)(void 0):(k._loadedRoutes=De.routes,k._loadedInjector=De.injector,this.processRoutes(De.injector??M,De.routes))));if(k.loadComponent&&!k._loadedComponent){const De=this.loader.loadComponent(k);return(0,W.H)([ae,De]).pipe((0,dr.U)())}return ae})}static \u0275fac=function(k){return new(k||T)(_.KVO(Ut),_.KVO(_.Ql9),_.KVO(_.uvJ),_.KVO(wr),_.KVO(Ta))};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const $i=new _.nKC("");let Mo=(()=>{class T{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(M,k,G,ae,De={}){this.urlSerializer=M,this.transitions=k,this.viewportScroller=G,this.zone=ae,this.options=De,De.scrollPositionRestoration||="disabled",De.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof ue?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof de?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof yt&&M.code===Ve.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Us&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Us(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(k){_.QTQ()};static \u0275prov=_.jDH({token:T,factory:T.\u0275fac})}return T})();function Qe(T,F){return{\u0275kind:T,\u0275providers:F}}function Ko(){const T=(0,_.WQX)(_.zZn);return F=>{const M=T.get(_.o8S);if(F!==M.components[0])return;const k=T.get(Ut),G=T.get(Jc);1===T.get(Sa)&&k.initialNavigation(),T.get(tu,null,_.$GK.Optional)?.setUpPreloading(),T.get($i,null,_.$GK.Optional)?.init(),k.resetRootComponentType(M.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Jc=new _.nKC("",{factory:()=>new xe.B}),Sa=new _.nKC("",{providedIn:"root",factory:()=>1}),tu=new _.nKC("");function Ao(T){return Qe(0,[{provide:tu,useExisting:Vs},{provide:wr,useExisting:T}])}function sc(T){return Qe(9,[{provide:Va,useValue:Kr},{provide:Ua,useValue:{skipNextTransition:!!T?.skipInitialTransition,...T}}])}const Ba=new _.nKC("ROUTER_FORROOT_GUARD"),xl=[Ge.Location,{provide:pr,useClass:Is},Ut,li,{provide:ni,useFactory:function qi(T){return T.routerState.root},deps:[Ut]},Ta,[]];let dd=(()=>{class T{constructor(M){}static forRoot(M,k){return{ngModule:T,providers:[xl,[],{provide:Cr,multi:!0,useValue:M},{provide:Ba,useFactory:Ks,deps:[[Ut,new _.Xx1,new _.kdw]]},k?.errorHandler?{provide:Ho,useValue:k.errorHandler}:[],{provide:At,useValue:k||{}},k?.useHash?{provide:Ge.LocationStrategy,useClass:Ge.HashLocationStrategy}:{provide:Ge.LocationStrategy,useClass:Ge.PathLocationStrategy},{provide:$i,useFactory:()=>{const T=(0,_.WQX)(Ge.ViewportScroller),F=(0,_.WQX)(_.SKi),M=(0,_.WQX)(At),k=(0,_.WQX)(_n),G=(0,_.WQX)(pr);return M.scrollOffset&&T.setOffset(M.scrollOffset),new Mo(G,k,T,F,M)}},k?.preloadingStrategy?Ao(k.preloadingStrategy).\u0275providers:[],k?.initialNavigation?ol(k):[],k?.bindToComponentInputs?Qe(8,[Da,{provide:no,useExisting:Da}]).\u0275providers:[],k?.enableViewTransitions?sc().\u0275providers:[],[{provide:zo,useFactory:Ko},{provide:_.iLQ,multi:!0,useExisting:zo}]]}}static forChild(M){return{ngModule:T,providers:[{provide:Cr,multi:!0,useValue:M}]}}static \u0275fac=function(k){return new(k||T)(_.KVO(Ba,8))};static \u0275mod=_.$C({type:T});static \u0275inj=_.G2t({})}return T})();function Ks(T){return"guarded"}function ol(T){return["disabled"===T.initialNavigation?Qe(3,[{provide:_.hnV,multi:!0,useFactory:()=>{const F=(0,_.WQX)(Ut);return()=>{F.setUpLocationChangeListener()}}},{provide:Sa,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Qe(2,[{provide:Sa,useValue:0},{provide:_.hnV,multi:!0,deps:[_.zZn],useFactory:F=>{const M=F.get(Ge.LOCATION_INITIALIZED,Promise.resolve());return()=>M.then(()=>new Promise(k=>{const G=F.get(Ut),ae=F.get(Jc);he(G,()=>{k(!0)}),F.get(_n).afterPreactivation=()=>(k(!0),ae.closed?(0,q.of)(void 0):ae),G.initialNavigation()}))}}]).\u0275providers:[]]}const zo=new _.nKC("")},7852:(ut,ye,D)=>{D.d(ye,{MF:()=>Er,j6:()=>Is,om:()=>pr,Sx:()=>ys,Dk:()=>fn,Wp:()=>er,KO:()=>vr});var _=D(467),v=D(1362),ce=D(8041),U=D(1076);let q,Q;const ee=new WeakMap,ne=new WeakMap,Te=new WeakMap,Fe=new WeakMap,Le=new WeakMap;let Ze={get(it,ze,St){if(it instanceof IDBTransaction){if("done"===ze)return ne.get(it);if("objectStoreNames"===ze)return it.objectStoreNames||Te.get(it);if("store"===ze)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return Je(it[ze])},set:(it,ze,St)=>(it[ze]=St,!0),has:(it,ze)=>it instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in it};function Rt(it){return"function"==typeof it?function ht(it){return it!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(it)?function(...ze){return it.apply(je(this),ze),Je(ee.get(this))}:function(...ze){return Je(it.apply(je(this),ze))}:function(ze,...St){const qt=it.call(je(this),ze,...St);return Te.set(qt,ze.sort?ze.sort():[ze]),Je(qt)}}(it):(it instanceof IDBTransaction&&function xe(it){if(ne.has(it))return;const ze=new Promise((St,qt)=>{const dn=()=>{it.removeEventListener("complete",Yt),it.removeEventListener("error",mr),it.removeEventListener("abort",mr)},Yt=()=>{St(),dn()},mr=()=>{qt(it.error||new DOMException("AbortError","AbortError")),dn()};it.addEventListener("complete",Yt),it.addEventListener("error",mr),it.addEventListener("abort",mr)});ne.set(it,ze)}(it),((it,ze)=>ze.some(St=>it instanceof St))(it,function z(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(it,Ze):it)}function Je(it){if(it instanceof IDBRequest)return function Ie(it){const ze=new Promise((St,qt)=>{const dn=()=>{it.removeEventListener("success",Yt),it.removeEventListener("error",mr)},Yt=()=>{St(Je(it.result)),dn()},mr=()=>{qt(it.error),dn()};it.addEventListener("success",Yt),it.addEventListener("error",mr)});return ze.then(St=>{St instanceof IDBCursor&&ee.set(St,it)}).catch(()=>{}),Le.set(ze,it),ze}(it);if(Fe.has(it))return Fe.get(it);const ze=Rt(it);return ze!==it&&(Fe.set(it,ze),Le.set(ze,it)),ze}const je=it=>Le.get(it),Kt=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],zt=new Map;function Pn(it,ze){if(!(it instanceof IDBDatabase)||ze in it||"string"!=typeof ze)return;if(zt.get(ze))return zt.get(ze);const St=ze.replace(/FromIndex$/,""),qt=ze!==St,dn=Gt.includes(St);if(!(St in(qt?IDBIndex:IDBObjectStore).prototype)||!dn&&!Kt.includes(St))return;const Yt=function(){var mr=(0,_.A)(function*(xr,...qr){const ss=this.transaction(xr,dn?"readwrite":"readonly");let zi=ss.store;return qt&&(zi=zi.index(qr.shift())),(yield Promise.all([zi[St](...qr),dn&&ss.done]))[0]});return function(qr){return mr.apply(this,arguments)}}();return zt.set(ze,Yt),Yt}!function Ge(it){Ze=it(Ze)}(it=>({...it,get:(ze,St,qt)=>Pn(ze,St)||it.get(ze,St,qt),has:(ze,St)=>!!Pn(ze,St)||it.has(ze,St)}));class pt{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function tt(it){const ze=it.getComponent();return"VERSION"===ze?.type}(St)){const qt=St.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(St=>St).join(" ")}}const Nt="@firebase/app",kn=new ce.Vy("@firebase/app"),yr="@firebase/app-compat",_r="@firebase/analytics-compat",ws="@firebase/analytics",dr="@firebase/app-check-compat",Xe="@firebase/app-check",Ue="@firebase/auth",st="@firebase/auth-compat",at="@firebase/database",Ct="@firebase/database-compat",Et="@firebase/functions",Zt="@firebase/functions-compat",mn="@firebase/installations",hr="@firebase/installations-compat",Cn="@firebase/messaging",Kn="@firebase/messaging-compat",yn="@firebase/performance",Gr="@firebase/performance-compat",Gn="@firebase/remote-config",qn="@firebase/remote-config-compat",ns="@firebase/storage",Jn="@firebase/storage-compat",Es="@firebase/firestore",oi="@firebase/firestore-compat",xt="firebase",Qr="[DEFAULT]",Nn={[Nt]:"fire-core",[yr]:"fire-core-compat",[ws]:"fire-analytics",[_r]:"fire-analytics-compat",[Xe]:"fire-app-check",[dr]:"fire-app-check-compat",[Ue]:"fire-auth",[st]:"fire-auth-compat",[at]:"fire-rtdb",[Ct]:"fire-rtdb-compat",[Et]:"fire-fn",[Zt]:"fire-fn-compat",[mn]:"fire-iid",[hr]:"fire-iid-compat",[Cn]:"fire-fcm",[Kn]:"fire-fcm-compat",[yn]:"fire-perf",[Gr]:"fire-perf-compat",[Gn]:"fire-rc",[qn]:"fire-rc-compat",[ns]:"fire-gcs",[Jn]:"fire-gcs-compat",[Es]:"fire-fst",[oi]:"fire-fst-compat","fire-js":"fire-js",[xt]:"fire-js-all"},As=new Map,rs=new Map;function Fn(it,ze){try{it.container.addComponent(ze)}catch(St){kn.debug(`Component ${ze.name} failed to register with FirebaseApp ${it.name}`,St)}}function pr(it){const ze=it.name;if(rs.has(ze))return kn.debug(`There were multiple attempts to register component ${ze}.`),!1;rs.set(ze,it);for(const St of As.values())Fn(St,it);return!0}function Is(it,ze){const St=it.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),it.container.getProvider(ze)}const gr=new U.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rr{constructor(ze,St,qt){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new v.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Er="9.17.1";function er(it,ze={}){let St=it;"object"!=typeof ze&&(ze={name:ze});const qt=Object.assign({name:Qr,automaticDataCollectionEnabled:!1},ze),dn=qt.name;if("string"!=typeof dn||!dn)throw gr.create("bad-app-name",{appName:String(dn)});if(St||(St=(0,U.T9)()),!St)throw gr.create("no-options");const Yt=As.get(dn);if(Yt){if((0,U.bD)(St,Yt.options)&&(0,U.bD)(qt,Yt.config))return Yt;throw gr.create("duplicate-app",{appName:dn})}const mr=new v.h1(dn);for(const qr of rs.values())mr.addComponent(qr);const xr=new Rr(St,qt,mr);return As.set(dn,xr),xr}function ys(it=Qr){const ze=As.get(it);if(!ze&&it===Qr)return er();if(!ze)throw gr.create("no-app",{appName:it});return ze}function fn(){return Array.from(As.values())}function vr(it,ze,St){var qt;let dn=null!==(qt=Nn[it])&&void 0!==qt?qt:it;St&&(dn+=`-${St}`);const Yt=dn.match(/\s|\//),mr=ze.match(/\s|\//);if(Yt||mr){const xr=[`Unable to register library "${dn}" with version "${ze}":`];return Yt&&xr.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),Yt&&mr&&xr.push("and"),mr&&xr.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void kn.warn(xr.join(" "))}pr(new v.uA(`${dn}-version`,()=>({library:dn,version:ze}),"VERSION"))}const Se="firebase-heartbeat-store";let oe=null;function Ce(){return oe||(oe=function Ht(it,ze,{blocked:St,upgrade:qt,blocking:dn,terminated:Yt}={}){const mr=indexedDB.open(it,ze),xr=Je(mr);return qt&&mr.addEventListener("upgradeneeded",qr=>{qt(Je(mr.result),qr.oldVersion,qr.newVersion,Je(mr.transaction))}),St&&mr.addEventListener("blocked",()=>St()),xr.then(qr=>{Yt&&qr.addEventListener("close",()=>Yt()),dn&&qr.addEventListener("versionchange",()=>dn())}).catch(()=>{}),xr}("firebase-heartbeat-database",1,{upgrade:(it,ze)=>{0===ze&&it.createObjectStore(Se)}}).catch(it=>{throw gr.create("idb-open",{originalErrorMessage:it.message})})),oe}function we(){return(we=(0,_.A)(function*(it){try{return(yield Ce()).transaction(Se).objectStore(Se).get(pn(it))}catch(ze){if(ze instanceof U.g)kn.warn(ze.message);else{const St=gr.create("idb-get",{originalErrorMessage:ze?.message});kn.warn(St.message)}}})).apply(this,arguments)}function $e(it,ze){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,_.A)(function*(it,ze){try{const qt=(yield Ce()).transaction(Se,"readwrite");return yield qt.objectStore(Se).put(ze,pn(it)),qt.done}catch(St){if(St instanceof U.g)kn.warn(St.message);else{const qt=gr.create("idb-set",{originalErrorMessage:St?.message});kn.warn(qt.message)}}})).apply(this,arguments)}function pn(it){return`${it.name}!${it.options.appId}`}class sn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Hr(St),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var ze=this;return(0,_.A)(function*(){const qt=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=Tr();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==dn&&!ze._heartbeatsCache.heartbeats.some(Yt=>Yt.date===dn))return ze._heartbeatsCache.heartbeats.push({date:dn,agent:qt}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(Yt=>{const mr=new Date(Yt.date).valueOf();return Date.now()-mr<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,_.A)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const St=Tr(),{heartbeatsToSend:qt,unsentEntries:dn}=function Yr(it,ze=1024){const St=[];let qt=it.slice();for(const dn of it){const Yt=St.find(mr=>mr.agent===dn.agent);if(Yt){if(Yt.dates.push(dn.date),Zr(St)>ze){Yt.dates.pop();break}}else if(St.push({agent:dn.agent,dates:[dn.date]}),Zr(St)>ze){St.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:St,unsentEntries:qt}}(ze._heartbeatsCache.heartbeats),Yt=(0,U.Uj)(JSON.stringify({version:2,heartbeats:qt}));return ze._heartbeatsCache.lastSentHeartbeatDate=St,dn.length>0?(ze._heartbeatsCache.heartbeats=dn,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),Yt})()}}function Tr(){return(new Date).toISOString().substring(0,10)}class Hr{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.A)(function*(){return!!(0,U.zW)()&&(0,U.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,_.A)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function J(it){return we.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var St=this;return(0,_.A)(function*(){var qt;if(yield St._canUseIndexedDBPromise){const Yt=yield St.read();return $e(St.app,{lastSentHeartbeatDate:null!==(qt=ze.lastSentHeartbeatDate)&&void 0!==qt?qt:Yt.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var St=this;return(0,_.A)(function*(){var qt;if(yield St._canUseIndexedDBPromise){const Yt=yield St.read();return $e(St.app,{lastSentHeartbeatDate:null!==(qt=ze.lastSentHeartbeatDate)&&void 0!==qt?qt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...ze.heartbeats]})}})()}}function Zr(it){return(0,U.Uj)(JSON.stringify({version:2,heartbeats:it})).length}!function cn(it){pr(new v.uA("platform-logger",ze=>new pt(ze),"PRIVATE")),pr(new v.uA("heartbeat",ze=>new sn(ze),"PRIVATE")),vr(Nt,"0.9.3",it),vr(Nt,"0.9.3","esm2017"),vr("fire-js","")}("")},1362:(ut,ye,D)=>{D.d(ye,{h1:()=>z,uA:()=>ce});var _=D(467),v=D(1076);class ce{constructor(ee,ne,Te){this.name=ee,this.instanceFactory=ne,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const U="[DEFAULT]";class W{constructor(ee,ne){this.name=ee,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ne=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ne)){const Te=new v.cY;if(this.instancesDeferred.set(ne,Te),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:ne});Fe&&Te.resolve(Fe)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(ee){var ne;const Te=this.normalizeInstanceIdentifier(ee?.identifier),Fe=null!==(ne=ee?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Le){if(Fe)return null;throw Le}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Q(ie){return"EAGER"===ie.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:U})}catch{}for(const[ne,Te]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(ne);try{const Le=this.getOrInitializeService({instanceIdentifier:Fe});Te.resolve(Le)}catch{}}}}clearInstance(ee=U){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,_.A)(function*(){const ne=Array.from(ee.instances.values());yield Promise.all([...ne.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ne.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=U){return this.instances.has(ee)}getOptions(ee=U){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ne={}}=ee,Te=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Te,options:ne});for(const[Le,Ie]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Le)&&Ie.resolve(Fe);return Fe}onInit(ee,ne){var Te;const Fe=this.normalizeInstanceIdentifier(ne),Le=null!==(Te=this.onInitCallbacks.get(Fe))&&void 0!==Te?Te:new Set;Le.add(ee),this.onInitCallbacks.set(Fe,Le);const Ie=this.instances.get(Fe);return Ie&&ee(Ie,Fe),()=>{Le.delete(ee)}}invokeOnInitCallbacks(ee,ne){const Te=this.onInitCallbacks.get(ne);if(Te)for(const Fe of Te)try{Fe(ee,ne)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ne={}}){let Te=this.instances.get(ee);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=ee,ie===U?void 0:ie),options:ne}),this.instances.set(ee,Te),this.instancesOptions.set(ee,ne),this.invokeOnInitCallbacks(Te,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Te)}catch{}var ie;return Te||null}normalizeInstanceIdentifier(ee=U){return this.component?this.component.multipleInstances?ee:U:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ne=this.getProvider(ee.name);if(ne.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ne.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ne=new W(ee,this);return this.providers.set(ee,ne),ne}getProviders(){return Array.from(this.providers.values())}}},8041:(ut,ye,D)=>{D.d(ye,{$b:()=>v,Vy:()=>Q});const _=[];var v=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(v||{});const ce={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},U=v.INFO,W={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},q=(ee,ne,...Te)=>{if(ne<ee.logLevel)return;const Fe=(new Date).toISOString(),Le=W[ne];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Le](`[${Fe}]  ${ee.name}:`,...Te)};class Q{constructor(ne){this.name=ne,this._logLevel=U,this._logHandler=q,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in v))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?ce[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...ne),this._logHandler(this,v.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...ne),this._logHandler(this,v.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,v.INFO,...ne),this._logHandler(this,v.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,v.WARN,...ne),this._logHandler(this,v.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...ne),this._logHandler(this,v.ERROR,...ne)}}},9310:(ut,ye,D)=>{D.d(ye,{Bh:()=>zr,Lt:()=>gr,Mz:()=>Un,N_:()=>Nt,QU:()=>xt,SS:()=>zt,UX:()=>Yr,VP:()=>Ie,Zz:()=>Gt,ae:()=>Dr,h1:()=>Rn,il:()=>Ts,md:()=>os,on:()=>Us,q6:()=>Qr,sA:()=>rs,vy:()=>Pr,wc:()=>bn,xk:()=>xe});var _=D(4438),v=D(4412),ce=D(1985),U=D(1413),W=D(7242),q=D(941),Q=D(3993),z=D(2816),ie=D(9085),ee=D(6354),ne=D(3294),Te=D(9079);const Fe={};function Ie(pe,Ke){if(Fe[pe]=(Fe[pe]||0)+1,"function"==typeof Ke)return Ge(pe,(...nt)=>({...Ke(...nt),type:pe}));switch(Ke?Ke._as:"empty"){case"empty":return Ge(pe,()=>({type:pe}));case"props":return Ge(pe,nt=>({...nt,type:pe}));default:throw new Error("Unexpected config.")}}function xe(){return{_as:"props",_p:void 0}}function Ge(pe,Ke){return Object.defineProperty(Ke,"type",{value:pe,writable:!1})}const Gt="@ngrx/store/init";let zt=(()=>{class pe extends v.t{constructor(){super({type:Gt})}next(Be){if("function"==typeof Be)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Be>"u")throw new TypeError("Actions must be objects");if(typeof Be.type>"u")throw new TypeError("Actions must have a type property");super.next(Be)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(nt){return new(nt||pe)}}static{this.\u0275prov=_.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Pn=[zt],pt=new _.nKC("@ngrx/store Internal Root Guard"),tt=new _.nKC("@ngrx/store Internal Initial State"),Nt=new _.nKC("@ngrx/store Initial State"),Dn=new _.nKC("@ngrx/store Reducer Factory"),kn=new _.nKC("@ngrx/store Internal Reducer Factory Provider"),yr=new _.nKC("@ngrx/store Initial Reducers"),_r=new _.nKC("@ngrx/store Internal Initial Reducers"),ws=new _.nKC("@ngrx/store Store Features"),dr=new _.nKC("@ngrx/store Internal Store Reducers"),Xe=new _.nKC("@ngrx/store Internal Feature Reducers"),Ue=new _.nKC("@ngrx/store Internal Feature Configs"),st=new _.nKC("@ngrx/store Internal Store Features"),at=new _.nKC("@ngrx/store Internal Feature Reducers Token"),Ct=new _.nKC("@ngrx/store Feature Reducers"),Et=new _.nKC("@ngrx/store User Provided Meta Reducers"),Zt=new _.nKC("@ngrx/store Meta Reducers"),mn=new _.nKC("@ngrx/store Internal Resolved Meta Reducers"),hr=new _.nKC("@ngrx/store User Runtime Checks Config"),Cn=new _.nKC("@ngrx/store Internal User Runtime Checks Config"),Kn=new _.nKC("@ngrx/store Internal Runtime Checks"),yn=new _.nKC("@ngrx/store Check if Action types are unique");function qn(pe,Ke={}){const Be=Object.keys(pe),nt={};for(let Qt=0;Qt<Be.length;Qt++){const Mn=Be[Qt];"function"==typeof pe[Mn]&&(nt[Mn]=pe[Mn])}const Pt=Object.keys(nt);return function(Mn,br){Mn=void 0===Mn?Ke:Mn;let hn=!1;const ps={};for(let on=0;on<Pt.length;on++){const lr=Pt[on],wi=Mn[lr],Ss=(0,nt[lr])(wi,br);ps[lr]=Ss,hn=hn||Ss!==wi}return hn?ps:Mn}}function Jn(...pe){return function(Ke){if(0===pe.length)return Ke;const Be=pe[pe.length-1];return pe.slice(0,-1).reduceRight((Pt,Qt)=>Qt(Pt),Be(Ke))}}function Es(pe,Ke){return Array.isArray(Ke)&&Ke.length>0&&(pe=Jn.apply(null,[...Ke,pe])),(Be,nt)=>{const Pt=pe(Be);return(Qt,Mn)=>Pt(Qt=void 0===Qt?nt:Qt,Mn)}}new _.nKC("@ngrx/store Root Store Provider"),new _.nKC("@ngrx/store Feature State Provider");class xt extends ce.c{}class zr extends zt{}const Qr="@ngrx/store/update-reducers";let Nn=(()=>{class pe extends v.t{get currentReducers(){return this.reducers}constructor(Be,nt,Pt,Qt){super(Qt(Pt,nt)),this.dispatcher=Be,this.initialState=nt,this.reducers=Pt,this.reducerFactory=Qt}addFeature(Be){this.addFeatures([Be])}addFeatures(Be){const nt=Be.reduce((Pt,{reducers:Qt,reducerFactory:Mn,metaReducers:br,initialState:hn,key:ps})=>{const on="function"==typeof Qt?function oi(pe){const Ke=Array.isArray(pe)&&pe.length>0?Jn(...pe):Be=>Be;return(Be,nt)=>(Be=Ke(Be),(Pt,Qt)=>Be(Pt=void 0===Pt?nt:Pt,Qt))}(br)(Qt,hn):Es(Mn,br)(Qt,hn);return Pt[ps]=on,Pt},{});this.addReducers(nt)}removeFeature(Be){this.removeFeatures([Be])}removeFeatures(Be){this.removeReducers(Be.map(nt=>nt.key))}addReducer(Be,nt){this.addReducers({[Be]:nt})}addReducers(Be){this.reducers={...this.reducers,...Be},this.updateReducers(Object.keys(Be))}removeReducer(Be){this.removeReducers([Be])}removeReducers(Be){Be.forEach(nt=>{this.reducers=function ns(pe,Ke){return Object.keys(pe).filter(Be=>Be!==Ke).reduce((Be,nt)=>Object.assign(Be,{[nt]:pe[nt]}),{})}(this.reducers,nt)}),this.updateReducers(Be)}updateReducers(Be){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Qr,features:Be})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(nt){return new(nt||pe)(_.KVO(zr),_.KVO(Nt),_.KVO(yr),_.KVO(Dn))}}static{this.\u0275prov=_.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const As=[Nn,{provide:xt,useExisting:Nn},{provide:zr,useExisting:zt}];let rs=(()=>{class pe extends U.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let Be;return function(Pt){return(Be||(Be=_.xGo(pe)))(Pt||pe)}})()}static{this.\u0275prov=_.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Fn=[rs];class Rn extends ce.c{}let pr=(()=>{class pe extends v.t{static{this.INIT=Gt}constructor(Be,nt,Pt,Qt){super(Qt);const ps=Be.pipe((0,q.Q)(W.T)).pipe((0,Q.E)(nt)).pipe((0,z.S)(Is,{state:Qt}));this.stateSubscription=ps.subscribe(({state:on,action:lr})=>{this.next(on),Pt.next(lr)}),this.state=(0,Te.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(nt){return new(nt||pe)(_.KVO(zt),_.KVO(xt),_.KVO(rs),_.KVO(Nt))}}static{this.\u0275prov=_.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();function Is(pe={state:void 0},[Ke,Be]){const{state:nt}=pe;return{state:Be(nt,Ke),action:Ke}}const Ur=[pr,{provide:Rn,useExisting:pr}];let Ts=(()=>{class pe extends ce.c{constructor(Be,nt,Pt,Qt){super(),this.actionsObserver=nt,this.reducerManager=Pt,this.injector=Qt,this.source=Be,this.state=Be.state}select(Be,...nt){return gr.call(null,Be,...nt)(this)}selectSignal(Be,nt){return(0,_.EWP)(()=>Be(this.state()),nt)}lift(Be){const nt=new pe(this,this.actionsObserver,this.reducerManager);return nt.operator=Be,nt}dispatch(Be,nt){if("function"==typeof Be)return this.processDispatchFn(Be,nt);this.actionsObserver.next(Be)}next(Be){this.actionsObserver.next(Be)}error(Be){this.actionsObserver.error(Be)}complete(){this.actionsObserver.complete()}addReducer(Be,nt){this.reducerManager.addReducer(Be,nt)}removeReducer(Be){this.reducerManager.removeReducer(Be)}processDispatchFn(Be,nt){!function Je(pe,Ke){if(null==pe)throw new Error(`${Ke} must be defined.`)}(this.injector,"Store Injector");const Pt=nt?.injector??function Rr(){try{return(0,_.WQX)(_.zZn)}catch{return}}()??this.injector;return(0,_.QZP)(()=>{const Qt=Be();(0,_.O8t)(()=>this.dispatch(Qt))},{injector:Pt})}static{this.\u0275fac=function(nt){return new(nt||pe)(_.KVO(Rn),_.KVO(zt),_.KVO(Nn),_.KVO(_.zZn))}}static{this.\u0275prov=_.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const Xr=[Ts];function gr(pe,Ke,...Be){return function(Pt){let Qt;if("string"==typeof pe){const Mn=[Ke,...Be].filter(Boolean);Qt=Pt.pipe((0,ie.E)(pe,...Mn))}else{if("function"!=typeof pe)throw new TypeError(`Unexpected type '${typeof pe}' in select operator, expected 'string' or 'function'`);Qt=Pt.pipe((0,ee.T)(Mn=>pe(Mn,Ke)))}return Qt.pipe((0,ne.F)())}}const Er="https://ngrx.io/guide/store/configuration/runtime-checks";function er(pe){return void 0===pe}function ys(pe){return null===pe}function fn(pe){return Array.isArray(pe)}function fs(pe){return"object"==typeof pe&&null!==pe}function ve(pe){return"function"==typeof pe}let Ce=!1;function $e(pe,Ke){return pe===Ke}function ln(pe,Ke=$e,Be=$e){let Qt,nt=null,Pt=null;return{memoized:function ps(){if(void 0!==Qt)return Qt.result;if(!nt)return Pt=pe.apply(null,arguments),nt=arguments,Pt;if(!function Tt(pe,Ke,Be){for(let nt=0;nt<pe.length;nt++)if(!Be(pe[nt],Ke[nt]))return!0;return!1}(arguments,nt,Ke))return Pt;const on=pe.apply(null,arguments);return nt=arguments,Be(Pt,on)?Pt:(Pt=on,on)},reset:function Mn(){nt=null,Pt=null},setResult:function br(on=void 0){Qt={result:on}},clearResult:function hn(){Qt=void 0}}}function Un(...pe){return function Tr(pe,Ke={stateFn:sn}){return function(...Be){let nt=Be;if(Array.isArray(nt[0])){const[on,...lr]=nt;nt=[...on,...lr]}else 1===nt.length&&function Hr(pe){return!!pe&&"object"==typeof pe&&Object.values(pe).every(Ke=>"function"==typeof Ke)}(nt[0])&&(nt=function Zr(pe){const Ke=Object.values(pe),Be=Object.keys(pe);return[...Ke,(...Pt)=>Be.reduce((Qt,Mn,br)=>({...Qt,[Mn]:Pt[br]}),{})]}(nt[0]));const Pt=nt.slice(0,nt.length-1),Qt=nt[nt.length-1],Mn=Pt.filter(on=>on.release&&"function"==typeof on.release),br=pe(function(...on){return Qt.apply(null,on)}),hn=ln(function(on,lr){return Ke.stateFn.apply(null,[on,Pt,lr,br])});return Object.assign(hn.memoized,{release:function ps(){hn.reset(),br.reset(),Mn.forEach(on=>on.release())},projector:br.memoized,setResult:hn.setResult,clearResult:hn.clearResult})}}(ln)(...pe)}function sn(pe,Ke,Be,nt){if(void 0===Be){const Qt=Ke.map(Mn=>Mn(pe));return nt.memoized.apply(null,Qt)}const Pt=Ke.map(Qt=>Qt(pe,Be));return nt.memoized.apply(null,[...Pt,Be])}function Yr(pe){return Un(Ke=>{const Be=Ke[pe];return!function we(){return Ce}()&&(0,_.naY)()&&!(pe in Ke)&&console.warn(`@ngrx/store: The feature name "${pe}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${pe}', ...) or StoreModule.forFeature('${pe}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Be},Ke=>Ke)}function St(pe){return pe instanceof _.nKC?(0,_.WQX)(pe):pe}function qt(pe,Ke){return Ke.map((Be,nt)=>{if(pe[nt]instanceof _.nKC){const Pt=(0,_.WQX)(pe[nt]);return{key:Be.key,reducerFactory:Pt.reducerFactory?Pt.reducerFactory:qn,metaReducers:Pt.metaReducers?Pt.metaReducers:[],initialState:Pt.initialState}}return Be})}function dn(pe){return pe.map(Ke=>Ke instanceof _.nKC?(0,_.WQX)(Ke):Ke)}function Yt(pe){return"function"==typeof pe?pe():pe}function mr(pe,Ke){return pe.concat(Ke)}function xr(){if((0,_.WQX)(Ts,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ss(pe){Object.freeze(pe);const Ke=ve(pe);return Object.getOwnPropertyNames(pe).forEach(Be=>{if(!Be.startsWith("\u0275")&&function oe(pe,Ke){return Object.prototype.hasOwnProperty.call(pe,Ke)}(pe,Be)&&(!Ke||"caller"!==Be&&"callee"!==Be&&"arguments"!==Be)){const nt=pe[Be];(fs(nt)||ve(nt))&&!Object.isFrozen(nt)&&ss(nt)}}),pe}function pi(pe,Ke=[]){return(er(pe)||ys(pe))&&0===Ke.length?{path:["root"],value:pe}:Object.keys(pe).reduce((nt,Pt)=>{if(nt)return nt;const Qt=pe[Pt];return function Se(pe){return ve(pe)&&pe.hasOwnProperty("\u0275cmp")}(Qt)?nt:!(er(Qt)||ys(Qt)||function vr(pe){return"number"==typeof pe}(Qt)||function sr(pe){return"boolean"==typeof pe}(Qt)||function Qs(pe){return"string"==typeof pe}(Qt)||fn(Qt))&&(function ks(pe){if(!function Xs(pe){return fs(pe)&&!fn(pe)}(pe))return!1;const Ke=Object.getPrototypeOf(pe);return Ke===Object.prototype||null===Ke}(Qt)?pi(Qt,[...Ke,Pt]):{path:[...Ke,Pt],value:Qt})},!1)}function po(pe,Ke){if(!1===pe)return;const Be=pe.path.join("."),nt=new Error(`Detected unserializable ${Ke} at "${Be}". ${Er}#strict${Ke}serializability`);throw nt.value=pe.value,nt.unserializablePath=Be,nt}function Bn(pe){return(0,_.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...pe}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ir({strictActionSerializability:pe,strictStateSerializability:Ke}){return Be=>pe||Ke?function zi(pe,Ke){return function(Be,nt){Ke.action(nt)&&po(pi(nt),"action");const Pt=pe(Be,nt);return Ke.state()&&po(pi(Pt),"state"),Pt}}(Be,{action:nt=>pe&&!de(nt),state:()=>Ke}):Be}function ue({strictActionImmutability:pe,strictStateImmutability:Ke}){return Be=>pe||Ke?function qr(pe,Ke){return function(Be,nt){const Pt=Ke.action(nt)?ss(nt):nt,Qt=pe(Be,Pt);return Ke.state()?ss(Qt):Qt}}(Be,{action:nt=>pe&&!de(nt),state:()=>Ke}):Be}function de(pe){return pe.type.startsWith("@ngrx")}function me({strictActionWithinNgZone:pe}){return Ke=>pe?function ai(pe,Ke){return function(Be,nt){if(Ke.action(nt)&&!_.SKi.isInAngularZone())throw new Error(`Action '${nt.type}' running outside NgZone. ${Er}#strictactionwithinngzone`);return pe(Be,nt)}}(Ke,{action:Be=>pe&&!de(Be)}):Ke}function Ve(pe){return[{provide:Cn,useValue:pe},{provide:hr,useFactory:yt,deps:[Cn]},{provide:Kn,deps:[hr],useFactory:Bn},{provide:Zt,multi:!0,deps:[Kn],useFactory:ue},{provide:Zt,multi:!0,deps:[Kn],useFactory:ir},{provide:Zt,multi:!0,deps:[Kn],useFactory:me}]}function ft(){return[{provide:yn,multi:!0,deps:[Kn],useFactory:Vt}]}function yt(pe){return pe}function Vt(pe){if(!pe.strictActionTypeUniqueness)return;const Ke=Object.entries(Fe).filter(([,Be])=>Be>1).map(([Be])=>Be);if(Ke.length)throw new Error(`Action types are registered more than once, ${Ke.map(Be=>`"${Be}"`).join(", ")}. ${Er}#strictactiontypeuniqueness`)}function un(pe={},Ke={}){return[{provide:pt,useFactory:xr},{provide:tt,useValue:Ke.initialState},{provide:Nt,useFactory:Yt,deps:[tt]},{provide:_r,useValue:pe},{provide:dr,useExisting:pe instanceof _.nKC?pe:_r},{provide:yr,deps:[_r,[new _.y_5(dr)]],useFactory:St},{provide:Et,useValue:Ke.metaReducers?Ke.metaReducers:[]},{provide:mn,deps:[Zt,Et],useFactory:mr},{provide:kn,useValue:Ke.reducerFactory?Ke.reducerFactory:qn},{provide:Dn,deps:[kn,mn],useFactory:Es},Pn,As,Fn,Ur,Xr,Ve(Ke.runtimeChecks),ft()]}function is(pe,Ke,Be={}){return[{provide:Ue,multi:!0,useValue:pe instanceof Object?{}:Be},{provide:ws,multi:!0,useValue:{key:pe instanceof Object?pe.name:pe,reducerFactory:Be instanceof _.nKC||!Be.reducerFactory?qn:Be.reducerFactory,metaReducers:Be instanceof _.nKC||!Be.metaReducers?[]:Be.metaReducers,initialState:Be instanceof _.nKC||!Be.initialState?void 0:Be.initialState}},{provide:st,deps:[Ue,ws],useFactory:qt},{provide:Xe,multi:!0,useValue:pe instanceof Object?pe.reducer:Ke},{provide:at,multi:!0,useExisting:Ke instanceof _.nKC?Ke:Xe},{provide:Ct,multi:!0,deps:[Xe,[new _.y_5(at)]],useFactory:dn},ft()]}let bn=(()=>{class pe{constructor(Be,nt,Pt,Qt,Mn,br){}static{this.\u0275fac=function(nt){return new(nt||pe)(_.KVO(zt),_.KVO(xt),_.KVO(rs),_.KVO(Ts),_.KVO(pt,8),_.KVO(yn,8))}}static{this.\u0275mod=_.$C({type:pe})}static{this.\u0275inj=_.G2t({})}}return pe})(),Dr=(()=>{class pe{constructor(Be,nt,Pt,Qt,Mn){this.features=Be,this.featureReducers=nt,this.reducerManager=Pt;const br=Be.map((hn,ps)=>{const lr=nt.shift()[ps];return{...hn,reducers:lr,initialState:Yt(hn.initialState)}});Pt.addFeatures(br)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(nt){return new(nt||pe)(_.KVO(st),_.KVO(Ct),_.KVO(Nn),_.KVO(bn),_.KVO(yn,8))}}static{this.\u0275mod=_.$C({type:pe})}static{this.\u0275inj=_.G2t({})}}return pe})(),os=(()=>{class pe{static forRoot(Be,nt){return{ngModule:bn,providers:[...un(Be,nt)]}}static forFeature(Be,nt,Pt={}){return{ngModule:Dr,providers:[...is(Be,nt,Pt)]}}static{this.\u0275fac=function(nt){return new(nt||pe)}}static{this.\u0275mod=_.$C({type:pe})}static{this.\u0275inj=_.G2t({})}}return pe})();function Us(...pe){return{reducer:pe.pop(),types:pe.map(nt=>nt.type)}}function Pr(pe,...Ke){const Be=new Map;for(const nt of Ke)for(const Pt of nt.types){const Qt=Be.get(Pt);Be.set(Pt,Qt?(br,hn)=>nt.reducer(Qt(br,hn),hn):nt.reducer)}return function(nt=pe,Pt){const Qt=Be.get(Pt.type);return Qt?Qt(nt,Pt):nt}}},2214:(ut,ye,D)=>{D.d(ye,{Dk:()=>_.Dk,Wp:()=>_.Wp});var _=D(7852);(0,_.KO)("firebase","9.17.1","app")},5891:(ut,ye,D)=>{D.d(ye,{jf:()=>fi,Jt:()=>ku,C3:()=>bt,GV:()=>jr,AU:()=>_d,yX:()=>lh,Zy:()=>mc,VC:()=>pc,KR:()=>fl,TF:()=>Fu,O5:()=>Vr,hZ:()=>Aa,yo:()=>uu});var _=D(467),v=D(7852),ce=D(1362),U=D(1076),W=D(8041);const q="@firebase/database",Q="0.14.3";let z="";class ee{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,h){null==h?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,U.As)(h))}get(u){const h=this.domStorage_.getItem(this.prefixedName_(u));return null==h?null:(0,U.$L)(h)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class ne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,h){null==h?delete this.cache_[u]:this.cache_[u]=h}get(u){return(0,U.gR)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const Te=function(f){try{if(typeof window<"u"&&typeof window[f]<"u"){const u=window[f];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new ee(u)}}catch{}return new ne},Fe=Te("localStorage"),Le=Te("sessionStorage"),Ie=new W.Vy("@firebase/database"),xe=function(){let f=1;return function(){return f++}}(),Ze=function(f){const u=(0,U.kj)(f),h=new U.gz;h.update(u);const y=h.digest();return U.K3.encodeByteArray(y)},Ge=function(...f){let u="";for(let h=0;h<f.length;h++){const y=f[h];Array.isArray(y)||y&&"object"==typeof y&&"number"==typeof y.length?u+=Ge.apply(null,y):u+="object"==typeof y?(0,U.As)(y):y,u+=" "}return u};let ht=null,Rt=!0;const je=function(...f){if(!0===Rt&&(Rt=!1,null===ht&&!0===Le.get("logging_enabled")&&function(f,u){(0,U.vA)(!u||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Ie.logLevel=W.$b.VERBOSE,ht=Ie.log.bind(Ie),u&&Le.set("logging_enabled",!0)):"function"==typeof f?ht=f:(ht=null,Le.remove("logging_enabled"))}(!0)),ht){const u=Ge.apply(null,f);ht(u)}},Ht=function(f){return function(...u){je(f,...u)}},Ot=function(...f){const u="FIREBASE INTERNAL ERROR: "+Ge(...f);Ie.error(u)},Kt=function(...f){const u=`FIREBASE FATAL ERROR: ${Ge(...f)}`;throw Ie.error(u),new Error(u)},Gt=function(...f){const u="FIREBASE WARNING: "+Ge(...f);Ie.warn(u)},Pn=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},tt="[MIN_NAME]",Nt="[MAX_NAME]",Dn=function(f,u){if(f===u)return 0;if(f===tt||u===Nt)return-1;if(u===tt||f===Nt)return 1;{const h=mn(f),y=mn(u);return null!==h?null!==y?h-y==0?f.length-u.length:h-y:-1:null!==y?1:f<u?-1:1}},kn=function(f,u){return f===u?0:f<u?-1:1},yr=function(f,u){if(u&&f in u)return u[f];throw new Error("Missing required key ("+f+") in object: "+(0,U.As)(u))},_r=function(f){if("object"!=typeof f||null===f)return(0,U.As)(f);const u=[];for(const y in f)u.push(y);u.sort();let h="{";for(let y=0;y<u.length;y++)0!==y&&(h+=","),h+=(0,U.As)(u[y]),h+=":",h+=_r(f[u[y]]);return h+="}",h},ws=function(f,u){const h=f.length;if(h<=u)return[f];const y=[];for(let O=0;O<h;O+=u)y.push(f.substring(O,O+u>h?h:O+u));return y};function dr(f,u){for(const h in f)f.hasOwnProperty(h)&&u(h,f[h])}const Xe=function(f){(0,U.vA)(!Pn(f),"Invalid JSON number");const y=1023;let O,P,j,se,_e;0===f?(P=0,j=0,O=1/f==-1/0?1:0):(O=f<0,(f=Math.abs(f))>=Math.pow(2,1-y)?(se=Math.min(Math.floor(Math.log(f)/Math.LN2),y),P=se+y,j=Math.round(f*Math.pow(2,52-se)-Math.pow(2,52))):(P=0,j=Math.round(f/Math.pow(2,-1074))));const Oe=[];for(_e=52;_e;_e-=1)Oe.push(j%2?1:0),j=Math.floor(j/2);for(_e=11;_e;_e-=1)Oe.push(P%2?1:0),P=Math.floor(P/2);Oe.push(O?1:0),Oe.reverse();const ct=Oe.join("");let dt="";for(_e=0;_e<64;_e+=8){let Dt=parseInt(ct.substr(_e,8),2).toString(16);1===Dt.length&&(Dt="0"+Dt),dt+=Dt}return dt.toLowerCase()},Ct=new RegExp("^-?(0*)\\d{1,10}$"),mn=function(f){if(Ct.test(f)){const u=Number(f);if(u>=-2147483648&&u<=2147483647)return u}return null},hr=function(f){try{f()}catch(u){setTimeout(()=>{throw Gt("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Kn=function(f,u){const h=setTimeout(f,u);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class yn{constructor(u,h){this.appName_=u,this.appCheckProvider=h,this.appCheck=h?.getImmediate({optional:!0}),this.appCheck||h?.get().then(y=>this.appCheck=y)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((h,y)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(h,y):h(null)},0)})}addTokenChangeListener(u){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(y=>y.addTokenListener(u))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gr{constructor(u,h,y){this.appName_=u,this.firebaseOptions_=h,this.authProvider_=y,this.auth_=null,this.auth_=y.getImmediate({optional:!0}),this.auth_||y.onInit(O=>this.auth_=O)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(h=>h&&"auth/token-not-initialized"===h.code?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,y)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(h,y):h(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(h=>h.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(h=>h.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(u)}}let Gn=(()=>{class f{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return f.OWNER="owner",f})();const xt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,As="websocket",rs="long_polling";class Fn{constructor(u,h,y,O,P=!1,j="",se=!1,_e=!1){this.secure=h,this.namespace=y,this.webSocketOnly=O,this.nodeAdmin=P,this.persistenceKey=j,this.includeNamespaceInQueryParams=se,this.isUsingEmulator=_e,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fe.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Fe.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pr(f,u,h){let y;if((0,U.vA)("string"==typeof u,"typeof type must == string"),(0,U.vA)("object"==typeof h,"typeof params must == object"),u===As)y=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(u!==rs)throw new Error("Unknown connection type: "+u);y=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function Rn(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(h.ns=f.namespace);const O=[];return dr(h,(P,j)=>{O.push(P+"="+j)}),y+O.join("&")}class Is{constructor(){this.counters_={}}incrementCounter(u,h=1){(0,U.gR)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=h}get(){return(0,U.A4)(this.counters_)}}const Ur={},Ts={};function Xr(f){const u=f.toString();return Ur[u]||(Ur[u]=new Is),Ur[u]}class Rr{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,h){this.closeAfterResponse=u,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,h){for(this.pendingResponses[u]=h;this.pendingResponses[this.currentResponseNum];){const y=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let O=0;O<y.length;++O)y[O]&&hr(()=>{this.onMessage_(y[O])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Tt{constructor(u,h,y,O,P,j,se){this.connId=u,this.repoInfo=h,this.applicationId=y,this.appCheckToken=O,this.authToken=P,this.transportSessionId=j,this.lastSessionId=se,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ht(u),this.stats_=Xr(h),this.urlFn=_e=>(this.appCheckToken&&(_e.ac=this.appCheckToken),pr(h,rs,_e))}open(u,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new Rr(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,U.$g)()||"complete"===document.readyState)f();else{let u=!1;const h=function(){document.body?u||(u=!0,f()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pn((...P)=>{const[j,se,_e,Oe,ct]=P;if(this.incrementIncomingBytes_(P),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===j)this.id=se,this.password=_e;else{if("close"!==j)throw new Error("Unrecognized command received: "+j);se?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(se,()=>{this.onClosed_()})):this.onClosed_()}},(...P)=>{const[j,se]=P;this.incrementIncomingBytes_(P),this.myPacketOrderer.handleResponse(j,se)},()=>{this.onClosed_()},this.urlFn);const y={start:"t"};y.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(y.cb=this.scriptTagHolder.uniqueCallbackIdentifier),y.v="5",this.transportSessionId&&(y.s=this.transportSessionId),this.lastSessionId&&(y.ls=this.lastSessionId),this.applicationId&&(y.p=this.applicationId),this.appCheckToken&&(y.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&xt.test(location.hostname)&&(y.r="f");const O=this.urlFn(y);this.log_("Connecting via long-poll to "+O),this.scriptTagHolder.addTag(O,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tt.forceAllow_=!0}static forceDisallow(){Tt.forceDisallow_=!0}static isAvailable(){return!((0,U.$g)()||!Tt.forceAllow_&&(Tt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const h=(0,U.As)(u);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const y=(0,U.KA)(h),O=ws(y,1840);for(let P=0;P<O.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,O.length,O[P]),this.curSegmentNum++}addDisconnectPingFrame(u,h){if((0,U.$g)())return;this.myDisconnFrame=document.createElement("iframe");const y={dframe:"t"};y.id=u,y.pw=h,this.myDisconnFrame.src=this.urlFn(y),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const h=(0,U.As)(u).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class pn{constructor(u,h,y,O){if(this.onDisconnect=y,this.urlFn=O,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.$g)())this.commandCB=u,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=xe(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=pn.createIFrame_();let P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(P='<script>document.domain="'+document.domain+'";<\/script>');const j="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(j),this.myIFrame.doc.close()}catch(se){je("frame writing exception"),se.stack&&je(se.stack),je(se)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||je("No IE domain setting required")}catch{const y=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+y+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,h){for(this.myID=u,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let h=this.urlFn(u),y="",O=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+y.length<=1870;){const j=this.pendingSegs.shift();y=y+"&seg"+O+"="+j.seg+"&ts"+O+"="+j.ts+"&d"+O+"="+j.d,O++}return h+=y,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(u,h,y){this.pendingSegs.push({seg:u,ts:h,d:y}),this.alive&&this.newRequest_()}addLongPollTag_(u,h){this.outstandingRequests.add(h);const y=()=>{this.outstandingRequests.delete(h),this.newRequest_()},O=setTimeout(y,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(O),y()})}addTag(u,h){(0,U.$g)()?this.doNodeLongPoll(u,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const y=this.myIFrame.doc.createElement("script");y.type="text/javascript",y.async=!0,y.src=u,y.onload=y.onreadystatechange=function(){const O=y.readyState;(!O||"loaded"===O||"complete"===O)&&(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),h())},y.onerror=()=>{je("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(y)}catch{}},Math.floor(1))}}let sn=null;typeof MozWebSocket<"u"?sn=MozWebSocket:typeof WebSocket<"u"&&(sn=WebSocket);let Tr=(()=>{class f{constructor(h,y,O,P,j,se,_e){this.connId=h,this.applicationId=O,this.appCheckToken=P,this.authToken=j,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ht(this.connId),this.stats_=Xr(y),this.connURL=f.connectionURL_(y,se,_e,P,O),this.nodeAdmin=y.nodeAdmin}static connectionURL_(h,y,O,P,j){const se={v:"5"};return!(0,U.$g)()&&typeof location<"u"&&location.hostname&&xt.test(location.hostname)&&(se.r="f"),y&&(se.s=y),O&&(se.ls=O),P&&(se.ac=P),j&&(se.p=j),pr(h,As,se)}open(h,y){this.onDisconnect=y,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fe.set("previous_websocket_failure",!0);try{let O;if((0,U.$g)()){O={headers:{"User-Agent":`Firebase/5/${z}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(O.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(O.headers["X-Firebase-AppCheck"]=this.appCheckToken);const j=process.env,se=0===this.connURL.indexOf("wss://")?j.HTTPS_PROXY||j.https_proxy:j.HTTP_PROXY||j.http_proxy;se&&(O.proxy={origin:se})}this.mySock=new sn(this.connURL,[],O)}catch(O){this.log_("Error instantiating WebSocket.");const P=O.message||O.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=O=>{this.handleIncomingFrame(O)},this.mySock.onerror=O=>{this.log_("WebSocket error.  Closing connection.");const P=O.message||O.data;P&&this.log_(P),this.onClosed_()}}start(){}static forceDisallow(){f.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const O=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);O&&O.length>1&&parseFloat(O[1])<4.4&&(h=!0)}return!h&&null!==sn&&!f.forceDisallow_}static previouslyFailed(){return Fe.isInMemoryStorage||!0===Fe.get("previous_websocket_failure")}markConnectionHealthy(){Fe.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const y=this.frames.join("");this.frames=null;const O=(0,U.$L)(y);this.onMessage(O)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,U.vA)(null===this.frames,"We already have a frame buffer"),h.length<=6){const y=Number(h);if(!isNaN(y))return this.handleNewFrameCount_(y),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const y=h.data;if(this.bytesReceived+=y.length,this.stats_.incrementCounter("bytes_received",y.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(y);else{const O=this.extractFrameCount_(y);null!==O&&this.appendFrame_(O)}}send(h){this.resetKeepAlive();const y=(0,U.As)(h);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);const O=ws(y,16384);O.length>1&&this.sendString_(String(O.length));for(let P=0;P<O.length;P++)this.sendString_(O[P])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(y){this.log_("Exception thrown from WebSocket.send():",y.message||y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f})(),Yr=(()=>{class f{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[Tt,Tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const y=Tr&&Tr.isAvailable();let O=y&&!Tr.previouslyFailed();if(h.webSocketOnly&&(y||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),O=!0),O)this.transports_=[Tr];else{const P=this.transports_=[];for(const j of f.ALL_TRANSPORTS)j&&j.isAvailable()&&P.push(j);f.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return f.globalTransportInitialized_=!1,f})();class pi{constructor(u,h,y,O,P,j,se,_e,Oe,ct){this.id=u,this.repoInfo_=h,this.applicationId_=y,this.appCheckToken_=O,this.authToken_=P,this.onMessage_=j,this.onReady_=se,this.onDisconnect_=_e,this.onKill_=Oe,this.lastSessionId=ct,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ht("c:"+this.id+":"),this.transportManager_=new Yr(h),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),y=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,y)},Math.floor(0));const O=u.healthyTimeout||0;O>0&&(this.healthyTimeout_=Kn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(O)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return h=>{u===this.conn_?this.onConnectionLost_(h):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return h=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(h):u===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const h=u.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const h=yr("t",u),y=yr("d",u);if("c"===h)this.onSecondaryControl_(y);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(y)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const h=yr("t",u),y=yr("d",u);"c"===h?this.onControl_(y):"d"===h&&this.onDataMessage_(y)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const h=yr("t",u);if("d"in u){const y=u.d;if("h"===h){const O=Object.assign({},y);this.repoInfo_.isUsingEmulator&&(O.h=this.repoInfo_.host),this.onHandshake_(O)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let O=0;O<this.pendingDataMessages.length;++O)this.onDataMessage_(this.pendingDataMessages[O]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(y):"r"===h?this.onReset_(y):"e"===h?Ot("Server Error: "+y):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ot("Unknown control packet command: "+h)}}onHandshake_(u){const h=u.ts,y=u.v,O=u.h;this.sessionId=u.s,this.repoInfo_.host=O,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==y&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),y=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,y),Kn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,h){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class po{put(u,h,y,O){}merge(u,h,y,O){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,h,y){}onDisconnectMerge(u,h,y){}onDisconnectCancel(u,h){}reportStats(u){}}class ai{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,U.vA)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...h){if(Array.isArray(this.listeners_[u])){const y=[...this.listeners_[u]];for(let O=0;O<y.length;O++)y[O].callback.apply(y[O].context,h)}}on(u,h,y){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:h,context:y});const O=this.getInitialEvent(u);O&&h.apply(y,O)}off(u,h,y){this.validateEventType_(u);const O=this.listeners_[u]||[];for(let P=0;P<O.length;P++)if(O[P].callback===h&&(!y||y===O[P].context))return void O.splice(P,1)}validateEventType_(u){(0,U.vA)(this.allowedEvents_.find(h=>h===u),"Unknown event: "+u)}}class Bn extends ai{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bn}getInitialEvent(u){return(0,U.vA)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class de{constructor(u,h){if(void 0===h){this.pieces_=u.split("/");let y=0;for(let O=0;O<this.pieces_.length;O++)this.pieces_[O].length>0&&(this.pieces_[y]=this.pieces_[O],y++);this.pieces_.length=y,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=h}toString(){let u="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(u+="/"+this.pieces_[h]);return u||"/"}}function me(){return new de("")}function Ve(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function ft(f){return f.pieces_.length-f.pieceNum_}function yt(f){let u=f.pieceNum_;return u<f.pieces_.length&&u++,new de(f.pieces_,u)}function Vt(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function un(f,u=0){return f.pieces_.slice(f.pieceNum_+u)}function Sr(f){if(f.pieceNum_>=f.pieces_.length)return null;const u=[];for(let h=f.pieceNum_;h<f.pieces_.length-1;h++)u.push(f.pieces_[h]);return new de(u,0)}function Ln(f,u){const h=[];for(let y=f.pieceNum_;y<f.pieces_.length;y++)h.push(f.pieces_[y]);if(u instanceof de)for(let y=u.pieceNum_;y<u.pieces_.length;y++)h.push(u.pieces_[y]);else{const y=u.split("/");for(let O=0;O<y.length;O++)y[O].length>0&&h.push(y[O])}return new de(h,0)}function tn(f){return f.pieceNum_>=f.pieces_.length}function jn(f,u){const h=Ve(f),y=Ve(u);if(null===h)return u;if(h===y)return jn(yt(f),yt(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+f+")")}function Or(f,u){const h=un(f,0),y=un(u,0);for(let O=0;O<h.length&&O<y.length;O++){const P=Dn(h[O],y[O]);if(0!==P)return P}return h.length===y.length?0:h.length<y.length?-1:1}function is(f,u){if(ft(f)!==ft(u))return!1;for(let h=f.pieceNum_,y=u.pieceNum_;h<=f.pieces_.length;h++,y++)if(f.pieces_[h]!==u.pieces_[y])return!1;return!0}function bn(f,u){let h=f.pieceNum_,y=u.pieceNum_;if(ft(f)>ft(u))return!1;for(;h<f.pieces_.length;){if(f.pieces_[h]!==u.pieces_[y])return!1;++h,++y}return!0}class Dr{constructor(u,h){this.errorPrefix_=h,this.parts_=un(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let y=0;y<this.parts_.length;y++)this.byteLength_+=(0,U.OE)(this.parts_[y]);Pr(this)}}function Pr(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pe(f))}function pe(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}class Ke extends ai{constructor(){let u,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const y=!document[u];y!==this.visible_&&(this.visible_=y,this.trigger("visible",y))},!1)}static getInstance(){return new Ke}getInitialEvent(u){return(0,U.vA)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Be=1e3;let Jo,ps=(()=>{class f extends po{constructor(h,y,O,P,j,se,_e,Oe){if(super(),this.repoInfo_=h,this.applicationId_=y,this.onDataUpdate_=O,this.onConnectStatus_=P,this.onServerInfoUpdate_=j,this.authTokenProvider_=se,this.appCheckTokenProvider_=_e,this.authOverride_=Oe,this.id=f.nextPersistentConnectionId_++,this.log_=Ht("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Be,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Oe&&!(0,U.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ke.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&Bn.getInstance().on("online",this.onOnline_,this)}sendRequest(h,y,O){const P=++this.requestNumber_,j={r:P,a:h,b:y};this.log_((0,U.As)(j)),(0,U.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(j),O&&(this.requestCBHash_[P]=O)}get(h){this.initConnection_();const y=new U.cY,P={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:se=>{const _e=se.d;"ok"===se.s?y.resolve(_e):y.reject(_e)}};return this.outstandingGets_.push(P),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),y.promise}listen(h,y,O,P){this.initConnection_();const j=h._queryIdentifier,se=h._path.toString();this.log_("Listen called for "+se+" "+j),this.listens.has(se)||this.listens.set(se,new Map),(0,U.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.vA)(!this.listens.get(se).has(j),"listen() called twice for same path/queryId.");const _e={onComplete:P,hashFn:y,query:h,tag:O};this.listens.get(se).set(j,_e),this.connected_&&this.sendListen_(_e)}sendGet_(h){const y=this.outstandingGets_[h];this.sendRequest("g",y.request,O=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),y.onComplete&&y.onComplete(O)})}sendListen_(h){const y=h.query,O=y._path.toString(),P=y._queryIdentifier;this.log_("Listen on "+O+" for "+P);const j={p:O};h.tag&&(j.q=y._queryObject,j.t=h.tag),j.h=h.hashFn(),this.sendRequest("q",j,_e=>{const Oe=_e.d,ct=_e.s;f.warnOnListenWarnings_(Oe,y),(this.listens.get(O)&&this.listens.get(O).get(P))===h&&(this.log_("listen response",_e),"ok"!==ct&&this.removeListen_(O,P),h.onComplete&&h.onComplete(ct,Oe))})}static warnOnListenWarnings_(h,y){if(h&&"object"==typeof h&&(0,U.gR)(h,"w")){const O=(0,U.yw)(h,"w");if(Array.isArray(O)&&~O.indexOf("no_index")){const P='".indexOn": "'+y._queryParams.getIndex().toString()+'"',j=y._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${P} at ${j} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,U.qc)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,y=(0,U.Cv)(h)?"auth":"gauth",O={cred:h};null===this.authOverride_?O.noauth=!0:"object"==typeof this.authOverride_&&(O.authvar=this.authOverride_),this.sendRequest(y,O,P=>{const j=P.s,se=P.d||"error";this.authToken_===h&&("ok"===j?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(j,se))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const y=h.s,O=h.d||"error";"ok"===y?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(y,O)})}unlisten(h,y){const O=h._path.toString(),P=h._queryIdentifier;this.log_("Unlisten called for "+O+" "+P),(0,U.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(O,P)&&this.connected_&&this.sendUnlisten_(O,P,h._queryObject,y)}sendUnlisten_(h,y,O,P){this.log_("Unlisten on "+h+" for "+y);const j={p:h};P&&(j.q=O,j.t=P),this.sendRequest("n",j)}onDisconnectPut(h,y,O){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,y,O):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:y,onComplete:O})}onDisconnectMerge(h,y,O){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,y,O):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:y,onComplete:O})}onDisconnectCancel(h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,y):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:y})}sendOnDisconnect_(h,y,O,P){const j={p:y,d:O};this.log_("onDisconnect "+h,j),this.sendRequest(h,j,se=>{P&&setTimeout(()=>{P(se.s,se.d)},Math.floor(0))})}put(h,y,O,P){this.putInternal("p",h,y,O,P)}merge(h,y,O,P){this.putInternal("m",h,y,O,P)}putInternal(h,y,O,P,j){this.initConnection_();const se={p:y,d:O};void 0!==j&&(se.h=j),this.outstandingPuts_.push({action:h,request:se,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+y)}sendPut_(h){const y=this.outstandingPuts_[h].action,O=this.outstandingPuts_[h].request,P=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(y,O,j=>{this.log_(y+" response",j),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),P&&P(j.s,j.d)})}reportStats(h){if(this.connected_){const y={c:h};this.log_("reportStats",y),this.sendRequest("s",y,O=>{"ok"!==O.s&&this.log_("reportStats","Error sending stats: "+O.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,U.As)(h));const y=h.r,O=this.requestCBHash_[y];O&&(delete this.requestCBHash_[y],O(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,y){this.log_("handleServerMessage",h,y),"d"===h?this.onDataUpdate_(y.p,y.d,!1,y.t):"m"===h?this.onDataUpdate_(y.p,y.d,!0,y.t):"c"===h?this.onListenRevoked_(y.p,y.q):"ac"===h?this.onAuthRevoked_(y.s,y.d):"apc"===h?this.onAppCheckRevoked_(y.s,y.d):"sd"===h?this.onSecurityDebugPacket_(y):Ot("Unrecognized action received from server: "+(0,U.As)(h)+"\nAre you using the latest client?")}onReady_(h,y){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=y,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,U.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Be),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let y=Math.max(0,this.reconnectDelay_-h);y=Math.random()*y,this.log_("Trying to reconnect in "+y+"ms"),this.scheduleConnect_(y),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,_.A)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const y=h.onDataMessage_.bind(h),O=h.onReady_.bind(h),P=h.onRealtimeDisconnect_.bind(h),j=h.id+":"+f.nextConnectionId_++,se=h.lastSessionId;let _e=!1,Oe=null;const ct=function(){Oe?Oe.close():(_e=!0,P())};h.realtime_={close:ct,sendRequest:function(jt){(0,U.vA)(Oe,"sendRequest call when we're not connected not allowed."),Oe.sendRequest(jt)}};const Dt=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[jt,On]=yield Promise.all([h.authTokenProvider_.getToken(Dt),h.appCheckTokenProvider_.getToken(Dt)]);_e?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),h.authToken_=jt&&jt.accessToken,h.appCheckToken_=On&&On.token,Oe=new pi(j,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,y,O,P,ms=>{Gt(ms+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},se))}catch(jt){h.log_("Failed to get token: "+jt),_e||(h.repoInfo_.nodeAdmin&&Gt(jt),ct())}}})()}interrupt(h){je("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){je("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,U.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Be,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const y=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:y})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const y=this.outstandingPuts_[h];y&&"h"in y.request&&y.queued&&(y.onComplete&&y.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,y){let O;O=y?y.map(j=>_r(j)).join("$"):"default";const P=this.removeListen_(h,O);P&&P.onComplete&&P.onComplete("permission_denied")}removeListen_(h,y){const O=new de(h).toString();let P;if(this.listens.has(O)){const j=this.listens.get(O);P=j.get(y),j.delete(y),0===j.size&&this.listens.delete(O)}else P=void 0;return P}onAuthRevoked_(h,y){je("Auth token revoked: "+h+"/"+y),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,y){je("App check token revoked: "+h+"/"+y),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const y of h.values())this.sendListen_(y);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let y="js";(0,U.$g)()&&(y=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+y+"."+z.replace(/\./g,"-")]=1,(0,U.jZ)()?h["framework.cordova"]=1:(0,U.lV)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=Bn.getInstance().currentlyOnline();return(0,U.Im)(this.interruptReasons_)&&h}}return f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f})();class on{constructor(u,h){this.name=u,this.node=h}static Wrap(u,h){return new on(u,h)}}class lr{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,h){const y=new on(tt,u),O=new on(tt,h);return 0!==this.compare(y,O)}minPost(){return on.MIN}}class wi extends lr{static get __EMPTY_NODE(){return Jo}static set __EMPTY_NODE(u){Jo=u}compare(u,h){return Dn(u.name,h.name)}isDefinedOn(u){throw(0,U.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,h){return!1}minPost(){return on.MIN}maxPost(){return new on(Nt,Jo)}makePost(u,h){return(0,U.vA)("string"==typeof u,"KeyIndex indexValue must always be a string."),new on(u,Jo)}toString(){return".key"}}const Ss=new wi;class li{constructor(u,h,y,O,P=null){this.isReverse_=O,this.resultGenerator_=P,this.nodeStack_=[];let j=1;for(;!u.isEmpty();)if(j=h?y(u.key,h):1,O&&(j*=-1),j<0)u=this.isReverse_?u.left:u.right;else{if(0===j){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,u=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let Ni,Bs=(()=>{class f{constructor(h,y,O,P,j){this.key=h,this.value=y,this.color=O??f.RED,this.left=P??tr.EMPTY_NODE,this.right=j??tr.EMPTY_NODE}copy(h,y,O,P,j){return new f(h??this.key,y??this.value,O??this.color,P??this.left,j??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,y,O){let P=this;const j=O(h,P.key);return P=j<0?P.copy(null,null,null,P.left.insert(h,y,O),null):0===j?P.copy(null,y,null,null,null):P.copy(null,null,null,null,P.right.insert(h,y,O)),P.fixUp_()}removeMin_(){if(this.left.isEmpty())return tr.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,y){let O,P;if(O=this,y(h,O.key)<0)!O.left.isEmpty()&&!O.left.isRed_()&&!O.left.left.isRed_()&&(O=O.moveRedLeft_()),O=O.copy(null,null,null,O.left.remove(h,y),null);else{if(O.left.isRed_()&&(O=O.rotateRight_()),!O.right.isEmpty()&&!O.right.isRed_()&&!O.right.left.isRed_()&&(O=O.moveRedRight_()),0===y(h,O.key)){if(O.right.isEmpty())return tr.EMPTY_NODE;P=O.right.min_(),O=O.copy(P.key,P.value,null,null,O.right.removeMin_())}O=O.copy(null,null,null,null,O.right.remove(h,y))}return O.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,y)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return f.RED=!0,f.BLACK=!1,f})();class tr{constructor(u,h=tr.EMPTY_NODE){this.comparator_=u,this.root_=h}insert(u,h){return new tr(this.comparator_,this.root_.insert(u,h,this.comparator_).copy(null,null,Bs.BLACK,null,null))}remove(u){return new tr(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Bs.BLACK,null,null))}get(u){let h,y=this.root_;for(;!y.isEmpty();){if(h=this.comparator_(u,y.key),0===h)return y.value;h<0?y=y.left:h>0&&(y=y.right)}return null}getPredecessorKey(u){let h,y=this.root_,O=null;for(;!y.isEmpty();){if(h=this.comparator_(u,y.key),0===h){if(y.left.isEmpty())return O?O.key:null;for(y=y.left;!y.right.isEmpty();)y=y.right;return y.key}h<0?y=y.left:h>0&&(O=y,y=y.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new li(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,h){return new li(this.root_,u,this.comparator_,!1,h)}getReverseIteratorFrom(u,h){return new li(this.root_,u,this.comparator_,!0,h)}getReverseIterator(u){return new li(this.root_,null,this.comparator_,!0,u)}}function Ys(f,u){return Dn(f.name,u.name)}function ki(f,u){return Dn(f,u)}tr.EMPTY_NODE=new class Fi{copy(u,h,y,O,P){return this}insert(u,h,y){return new Bs(u,h,null)}remove(u,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Po=function(f){return"number"==typeof f?"number:"+Xe(f):"string:"+f},ni=function(f){if(f.isLeafNode()){const u=f.val();(0,U.vA)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,U.gR)(u,".sv"),"Priority must be a string or number.")}else(0,U.vA)(f===Ni||f.isEmpty(),"priority of unexpected type.");(0,U.vA)(f===Ni||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let to,Ra,Xt,gs=(()=>{class f{constructor(h,y=f.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=y,this.lazyHash_=null,(0,U.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ni(this.priorityNode_)}static set __childrenNodeConstructor(h){to=h}static get __childrenNodeConstructor(){return to}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new f(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return tn(h)?this:".priority"===Ve(h)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,y){return null}updateImmediateChild(h,y){return".priority"===h?this.updatePriority(y):y.isEmpty()&&".priority"!==h?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,y).updatePriority(this.priorityNode_)}updateChild(h,y){const O=Ve(h);return null===O?y:y.isEmpty()&&".priority"!==O?this:((0,U.vA)(".priority"!==O||1===ft(h),".priority must be the last token in a path"),this.updateImmediateChild(O,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(h),y)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,y){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+Po(this.priorityNode_.val())+":");const y=typeof this.value_;h+=y+":",h+="number"===y?Xe(this.value_):this.value_,this.lazyHash_=Ze(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===f.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof f.__childrenNodeConstructor?-1:((0,U.vA)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const y=typeof h.value_,O=typeof this.value_,P=f.VALUE_TYPE_ORDER.indexOf(y),j=f.VALUE_TYPE_ORDER.indexOf(O);return(0,U.vA)(P>=0,"Unknown leaf type: "+y),(0,U.vA)(j>=0,"Unknown leaf type: "+O),P===j?"object"===O?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:j-P}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f})();const Nr=new class wo extends lr{compare(u,h){const y=u.node.getPriority(),O=h.node.getPriority(),P=y.compareTo(O);return 0===P?Dn(u.name,h.name):P}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,h){return!u.getPriority().equals(h.getPriority())}minPost(){return on.MIN}maxPost(){return new on(Nt,new gs("[PRIORITY-POST]",Xt))}makePost(u,h){const y=Ra(u);return new on(h,new gs("[PRIORITY-POST]",y))}toString(){return".priority"}},go=Math.log(2);class nl{constructor(u){this.count=parseInt(Math.log(u+1)/go,10),this.current_=this.count-1;const O=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&O}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const ko=function(f,u,h,y){f.sort(u);const O=function(_e,Oe){const ct=Oe-_e;let dt,Dt;if(0===ct)return null;if(1===ct)return dt=f[_e],Dt=h?h(dt):dt,new Bs(Dt,dt.node,Bs.BLACK,null,null);{const jt=parseInt(ct/2,10)+_e,On=O(_e,jt),ms=O(jt+1,Oe);return dt=f[jt],Dt=h?h(dt):dt,new Bs(Dt,dt.node,Bs.BLACK,On,ms)}},se=function(_e){let Oe=null,ct=null,dt=f.length;const Dt=function(On,ms){const ds=dt-On,Yo=dt;dt-=On;const Ar=O(ds+1,Yo),Sl=f[ds],Ec=h?h(Sl):Sl;jt(new Bs(Ec,Sl.node,ms,null,Ar))},jt=function(On){Oe?(Oe.left=On,Oe=On):(ct=On,Oe=On)};for(let On=0;On<_e.count;++On){const ms=_e.nextBitIsOne(),ds=Math.pow(2,_e.count-(On+1));ms?Dt(ds,Bs.BLACK):(Dt(ds,Bs.BLACK),Dt(ds,Bs.RED))}return ct}(new nl(f.length));return new tr(y||u,se)};let no;const Da={};class Zs{constructor(u,h){this.indexes_=u,this.indexSet_=h}static get Default(){return(0,U.vA)(Da&&Nr,"ChildrenNode.ts has not been loaded"),no=no||new Zs({".priority":Da},{".priority":Nr}),no}get(u){const h=(0,U.yw)(this.indexes_,u);if(!h)throw new Error("No index defined for "+u);return h instanceof tr?h:null}hasIndex(u){return(0,U.gR)(this.indexSet_,u.toString())}addIndex(u,h){(0,U.vA)(u!==Ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const y=[];let O=!1;const P=h.getIterator(on.Wrap);let se,j=P.getNext();for(;j;)O=O||u.isDefinedOn(j.node),y.push(j),j=P.getNext();se=O?ko(y,u.getCompare()):Da;const _e=u.toString(),Oe=Object.assign({},this.indexSet_);Oe[_e]=u;const ct=Object.assign({},this.indexes_);return ct[_e]=se,new Zs(ct,Oe)}addToIndexes(u,h){const y=(0,U.kH)(this.indexes_,(O,P)=>{const j=(0,U.yw)(this.indexSet_,P);if((0,U.vA)(j,"Missing index implementation for "+P),O===Da){if(j.isDefinedOn(u.node)){const se=[],_e=h.getIterator(on.Wrap);let Oe=_e.getNext();for(;Oe;)Oe.name!==u.name&&se.push(Oe),Oe=_e.getNext();return se.push(u),ko(se,j.getCompare())}return Da}{const se=h.get(u.name);let _e=O;return se&&(_e=_e.remove(new on(u.name,se))),_e.insert(u,u.node)}});return new Zs(y,this.indexSet_)}removeFromIndexes(u,h){const y=(0,U.kH)(this.indexes_,O=>{if(O===Da)return O;{const P=h.get(u.name);return P?O.remove(new on(u.name,P)):O}});return new Zs(y,this.indexSet_)}}let ro,wn=(()=>{class f{constructor(h,y,O){this.children_=h,this.priorityNode_=y,this.indexMap_=O,this.lazyHash_=null,this.priorityNode_&&ni(this.priorityNode_),this.children_.isEmpty()&&(0,U.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ro||(ro=new f(new tr(ki),null,Zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ro}updatePriority(h){return this.children_.isEmpty()?this:new f(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const y=this.children_.get(h);return null===y?ro:y}}getChild(h){const y=Ve(h);return null===y?this:this.getImmediateChild(y).getChild(yt(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,y){if((0,U.vA)(y,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(y);{const O=new on(h,y);let P,j;y.isEmpty()?(P=this.children_.remove(h),j=this.indexMap_.removeFromIndexes(O,this.children_)):(P=this.children_.insert(h,y),j=this.indexMap_.addToIndexes(O,this.children_));const se=P.isEmpty()?ro:this.priorityNode_;return new f(P,se,j)}}updateChild(h,y){const O=Ve(h);if(null===O)return y;{(0,U.vA)(".priority"!==Ve(h)||1===ft(h),".priority must be the last token in a path");const P=this.getImmediateChild(O).updateChild(yt(h),y);return this.updateImmediateChild(O,P)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const y={};let O=0,P=0,j=!0;if(this.forEachChild(Nr,(se,_e)=>{y[se]=_e.val(h),O++,j&&f.INTEGER_REGEXP_.test(se)?P=Math.max(P,Number(se)):j=!1}),!h&&j&&P<2*O){const se=[];for(const _e in y)se[_e]=y[_e];return se}return h&&!this.getPriority().isEmpty()&&(y[".priority"]=this.getPriority().val()),y}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+Po(this.getPriority().val())+":"),this.forEachChild(Nr,(y,O)=>{const P=O.hash();""!==P&&(h+=":"+y+":"+P)}),this.lazyHash_=""===h?"":Ze(h)}return this.lazyHash_}getPredecessorChildName(h,y,O){const P=this.resolveIndex_(O);if(P){const j=P.getPredecessorKey(new on(h,y));return j?j.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const y=this.resolveIndex_(h);if(y){const O=y.minKey();return O&&O.name}return this.children_.minKey()}getFirstChild(h){const y=this.getFirstChildName(h);return y?new on(y,this.children_.get(y)):null}getLastChildName(h){const y=this.resolveIndex_(h);if(y){const O=y.maxKey();return O&&O.name}return this.children_.maxKey()}getLastChild(h){const y=this.getLastChildName(h);return y?new on(y,this.children_.get(y)):null}forEachChild(h,y){const O=this.resolveIndex_(h);return O?O.inorderTraversal(P=>y(P.name,P.node)):this.children_.inorderTraversal(y)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,y){const O=this.resolveIndex_(y);if(O)return O.getIteratorFrom(h,P=>P);{const P=this.children_.getIteratorFrom(h.name,on.Wrap);let j=P.peek();for(;null!=j&&y.compare(j,h)<0;)P.getNext(),j=P.peek();return P}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,y){const O=this.resolveIndex_(y);if(O)return O.getReverseIteratorFrom(h,P=>P);{const P=this.children_.getReverseIteratorFrom(h.name,on.Wrap);let j=P.peek();for(;null!=j&&y.compare(j,h)>0;)P.getNext(),j=P.peek();return P}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===Br?-1:0}withIndex(h){if(h===Ss||this.indexMap_.hasIndex(h))return this;{const y=this.indexMap_.addIndex(h,this.children_);return new f(this.children_,this.priorityNode_,y)}}isIndexed(h){return h===Ss||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const y=h;if(this.getPriority().equals(y.getPriority())){if(this.children_.count()===y.children_.count()){const O=this.getIterator(Nr),P=y.getIterator(Nr);let j=O.getNext(),se=P.getNext();for(;j&&se;){if(j.name!==se.name||!j.node.equals(se.node))return!1;j=O.getNext(),se=P.getNext()}return null===j&&null===se}return!1}return!1}}resolveIndex_(h){return h===Ss?null:this.indexMap_.get(h.toString())}}return f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f})();const Br=new class Io extends wn{constructor(){super(new tr(ki),wn.EMPTY_NODE,Zs.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return wn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(on,{MIN:{value:new on(tt,wn.EMPTY_NODE)},MAX:{value:new on(Nt,Br)}}),wi.__EMPTY_NODE=wn.EMPTY_NODE,gs.__childrenNodeConstructor=wn,function xo(f){Ni=f}(Br),function Fo(f){Xt=f}(Br);const mo=!0;function Fr(f,u=null){if(null===f)return wn.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(u=f[".priority"]),(0,U.vA)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new gs(f,Fr(u));if(f instanceof Array||!mo){let h=wn.EMPTY_NODE;return dr(f,(y,O)=>{if((0,U.gR)(f,y)&&"."!==y.substring(0,1)){const P=Fr(O);(P.isLeafNode()||!P.isEmpty())&&(h=h.updateImmediateChild(y,P))}}),h.updatePriority(Fr(u))}{const h=[];let y=!1;if(dr(f,(j,se)=>{if("."!==j.substring(0,1)){const _e=Fr(se);_e.isEmpty()||(y=y||!_e.getPriority().isEmpty(),h.push(new on(j,_e)))}}),0===h.length)return wn.EMPTY_NODE;const P=ko(h,Ys,j=>j.name,ki);if(y){const j=ko(h,Nr.getCompare());return new wn(P,Fr(u),new Zs({".priority":j},{".priority":Nr}))}return new wn(P,Fr(u),Zs.Default)}}!function Qi(f){Ra=f}(Fr);class ci extends lr{constructor(u){super(),this.indexPath_=u,(0,U.vA)(!tn(u)&&".priority"!==Ve(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,h){const y=this.extractChild(u.node),O=this.extractChild(h.node),P=y.compareTo(O);return 0===P?Dn(u.name,h.name):P}makePost(u,h){const y=Fr(u),O=wn.EMPTY_NODE.updateChild(this.indexPath_,y);return new on(h,O)}maxPost(){const u=wn.EMPTY_NODE.updateChild(this.indexPath_,Br);return new on(Nt,u)}toString(){return un(this.indexPath_,0).join("/")}}const Ii=new class Lo extends lr{compare(u,h){const y=u.node.compareTo(h.node);return 0===y?Dn(u.name,h.name):y}isDefinedOn(u){return!0}indexedValueChanged(u,h){return!u.equals(h)}minPost(){return on.MIN}maxPost(){return on.MAX}makePost(u,h){const y=Fr(u);return new on(h,y)}toString(){return".value"}};function Vo(f){return{type:"value",snapshotNode:f}}function ui(f,u){return{type:"child_added",snapshotNode:u,childName:f}}function Uo(f,u){return{type:"child_removed",snapshotNode:u,childName:f}}function Os(f,u,h){return{type:"child_changed",snapshotNode:u,childName:f,oldSnap:h}}class Xi{constructor(u){this.index_=u}updateChild(u,h,y,O,P,j){(0,U.vA)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const se=u.getImmediateChild(h);return se.getChild(O).equals(y.getChild(O))&&se.isEmpty()===y.isEmpty()||(null!=j&&(y.isEmpty()?u.hasChild(h)?j.trackChildChange(Uo(h,se)):(0,U.vA)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):se.isEmpty()?j.trackChildChange(ui(h,y)):j.trackChildChange(Os(h,y,se))),u.isLeafNode()&&y.isEmpty())?u:u.updateImmediateChild(h,y).withIndex(this.index_)}updateFullNode(u,h,y){return null!=y&&(u.isLeafNode()||u.forEachChild(Nr,(O,P)=>{h.hasChild(O)||y.trackChildChange(Uo(O,P))}),h.isLeafNode()||h.forEachChild(Nr,(O,P)=>{if(u.hasChild(O)){const j=u.getImmediateChild(O);j.equals(P)||y.trackChildChange(Os(O,P,j))}else y.trackChildChange(ui(O,P))})),h.withIndex(this.index_)}updatePriority(u,h){return u.isEmpty()?wn.EMPTY_NODE:u.updatePriority(h)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Li{constructor(u){this.indexedFilter_=new Xi(u.getIndex()),this.index_=u.getIndex(),this.startPost_=Li.getStartPost_(u),this.endPost_=Li.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const h=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,y=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return h&&y}updateChild(u,h,y,O,P,j){return this.matches(new on(h,y))||(y=wn.EMPTY_NODE),this.indexedFilter_.updateChild(u,h,y,O,P,j)}updateFullNode(u,h,y){h.isLeafNode()&&(h=wn.EMPTY_NODE);let O=h.withIndex(this.index_);O=O.updatePriority(wn.EMPTY_NODE);const P=this;return h.forEachChild(Nr,(j,se)=>{P.matches(new on(j,se))||(O=O.updateImmediateChild(j,wn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,O,y)}updatePriority(u,h){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const h=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),h)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const h=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),h)}return u.getIndex().maxPost()}}class ea{constructor(u){this.withinDirectionalStart=h=>this.reverse_?this.withinEndPost(h):this.withinStartPost(h),this.withinDirectionalEnd=h=>this.reverse_?this.withinStartPost(h):this.withinEndPost(h),this.withinStartPost=h=>{const y=this.index_.compare(this.rangedFilter_.getStartPost(),h);return this.startIsInclusive_?y<=0:y<0},this.withinEndPost=h=>{const y=this.index_.compare(h,this.rangedFilter_.getEndPost());return this.endIsInclusive_?y<=0:y<0},this.rangedFilter_=new Li(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,h,y,O,P,j){return this.rangedFilter_.matches(new on(h,y))||(y=wn.EMPTY_NODE),u.getImmediateChild(h).equals(y)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,h,y,O,P,j):this.fullLimitUpdateChild_(u,h,y,P,j)}updateFullNode(u,h,y){let O;if(h.isLeafNode()||h.isEmpty())O=wn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){let P;O=wn.EMPTY_NODE.withIndex(this.index_),P=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let j=0;for(;P.hasNext()&&j<this.limit_;){const se=P.getNext();if(this.withinDirectionalStart(se)){if(!this.withinDirectionalEnd(se))break;O=O.updateImmediateChild(se.name,se.node),j++}}}else{let P;O=h.withIndex(this.index_),O=O.updatePriority(wn.EMPTY_NODE),P=this.reverse_?O.getReverseIterator(this.index_):O.getIterator(this.index_);let j=0;for(;P.hasNext();){const se=P.getNext();j<this.limit_&&this.withinDirectionalStart(se)&&this.withinDirectionalEnd(se)?j++:O=O.updateImmediateChild(se.name,wn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,O,y)}updatePriority(u,h){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,h,y,O,P){let j;if(this.reverse_){const dt=this.index_.getCompare();j=(Dt,jt)=>dt(jt,Dt)}else j=this.index_.getCompare();const se=u;(0,U.vA)(se.numChildren()===this.limit_,"");const _e=new on(h,y),Oe=this.reverse_?se.getFirstChild(this.index_):se.getLastChild(this.index_),ct=this.rangedFilter_.matches(_e);if(se.hasChild(h)){const dt=se.getImmediateChild(h);let Dt=O.getChildAfterChild(this.index_,Oe,this.reverse_);for(;null!=Dt&&(Dt.name===h||se.hasChild(Dt.name));)Dt=O.getChildAfterChild(this.index_,Dt,this.reverse_);const jt=null==Dt?1:j(Dt,_e);if(ct&&!y.isEmpty()&&jt>=0)return P?.trackChildChange(Os(h,y,dt)),se.updateImmediateChild(h,y);{P?.trackChildChange(Uo(h,dt));const ms=se.updateImmediateChild(h,wn.EMPTY_NODE);return null!=Dt&&this.rangedFilter_.matches(Dt)?(P?.trackChildChange(ui(Dt.name,Dt.node)),ms.updateImmediateChild(Dt.name,Dt.node)):ms}}return y.isEmpty()?u:ct&&j(Oe,_e)>=0?(null!=P&&(P.trackChildChange(Uo(Oe.name,Oe.node)),P.trackChildChange(ui(h,y))),se.updateImmediateChild(h,y).updateImmediateChild(Oe.name,wn.EMPTY_NODE)):u}}class cr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nr}copy(){const u=new cr;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function qs(f){const u={};if(f.isDefault())return u;let h;if(f.index_===Nr?h="$priority":f.index_===Ii?h="$value":f.index_===Ss?h="$key":((0,U.vA)(f.index_ instanceof ci,"Unrecognized index type!"),h=f.index_.toString()),u.orderBy=(0,U.As)(h),f.startSet_){const y=f.startAfterSet_?"startAfter":"startAt";u[y]=(0,U.As)(f.indexStartValue_),f.startNameSet_&&(u[y]+=","+(0,U.As)(f.indexStartName_))}if(f.endSet_){const y=f.endBeforeSet_?"endBefore":"endAt";u[y]=(0,U.As)(f.indexEndValue_),f.endNameSet_&&(u[y]+=","+(0,U.As)(f.indexEndName_))}return f.limitSet_&&(f.isViewFromLeft()?u.limitToFirst=f.limit_:u.limitToLast=f.limit_),u}function Ns(f){const u={};if(f.startSet_&&(u.sp=f.indexStartValue_,f.startNameSet_&&(u.sn=f.indexStartName_),u.sin=!f.startAfterSet_),f.endSet_&&(u.ep=f.indexEndValue_,f.endNameSet_&&(u.en=f.indexEndName_),u.ein=!f.endBeforeSet_),f.limitSet_){u.l=f.limit_;let h=f.viewFrom_;""===h&&(h=f.isViewFromLeft()?"l":"r"),u.vf=h}return f.index_!==Nr&&(u.i=f.index_.toString()),u}class Ui extends po{constructor(u,h,y,O){super(),this.repoInfo_=u,this.onDataUpdate_=h,this.authTokenProvider_=y,this.appCheckTokenProvider_=O,this.log_=Ht("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,h){return void 0!==h?"tag$"+h:((0,U.vA)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,h,y,O){const P=u._path.toString();this.log_("Listen called for "+P+" "+u._queryIdentifier);const j=Ui.getListenId_(u,y),se={};this.listens_[j]=se;const _e=qs(u._queryParams);this.restRequest_(P+".json",_e,(Oe,ct)=>{let dt=ct;if(404===Oe&&(dt=null,Oe=null),null===Oe&&this.onDataUpdate_(P,dt,!1,y),(0,U.yw)(this.listens_,j)===se){let Dt;Dt=Oe?401===Oe?"permission_denied":"rest_error:"+Oe:"ok",O(Dt,null)}})}unlisten(u,h){const y=Ui.getListenId_(u,h);delete this.listens_[y]}get(u){const h=qs(u._queryParams),y=u._path.toString(),O=new U.cY;return this.restRequest_(y+".json",h,(P,j)=>{let se=j;404===P&&(se=null,P=null),null===P?(this.onDataUpdate_(y,se,!1,null),O.resolve(se)):O.reject(new Error(se))}),O.promise}refreshAuthToken(u){}restRequest_(u,h={},y){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([O,P])=>{O&&O.accessToken&&(h.auth=O.accessToken),P&&P.token&&(h.ac=P.token);const j=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,U.Am)(h);this.log_("Sending REST request for "+j);const se=new XMLHttpRequest;se.onreadystatechange=()=>{if(y&&4===se.readyState){this.log_("REST Response for "+j+" received. status:",se.status,"response:",se.responseText);let _e=null;if(se.status>=200&&se.status<300){try{_e=(0,U.$L)(se.responseText)}catch{Gt("Failed to parse JSON response for "+j+": "+se.responseText)}y(null,_e)}else 401!==se.status&&404!==se.status&&Gt("Got unsuccessful REST response for "+j+" Status: "+se.status),y(se.status);y=null}},se.open("GET",j,!0),se.send()})}}class rl{constructor(){this.rootNode_=wn.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,h){this.rootNode_=this.rootNode_.updateChild(u,h)}}function Yi(){return{value:null,children:new Map}}function so(f,u,h){if(tn(u))f.value=h,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(u,h);else{const y=Ve(u);f.children.has(y)||f.children.set(y,Yi()),so(f.children.get(y),u=yt(u),h)}}function Ca(f,u){if(tn(u))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const h=f.value;return f.value=null,h.forEachChild(Nr,(y,O)=>{so(f,new de(y),O)}),Ca(f,u)}}if(f.children.size>0){const h=Ve(u);return u=yt(u),f.children.has(h)&&Ca(f.children.get(h),u)&&f.children.delete(h),0===f.children.size}return!0}function To(f,u,h){null!==f.value?h(u,f.value):function H(f,u){f.children.forEach((h,y)=>{u(y,h)})}(f,(y,O)=>{To(O,new de(u.toString()+"/"+y),h)})}class K{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),h=Object.assign({},u);return this.last_&&dr(this.last_,(y,O)=>{h[y]=h[y]-O}),this.last_=u,h}}class an{constructor(u,h){this.server_=h,this.statsToReport_={},this.statsListener_=new K(u);const y=1e4+2e4*Math.random();Kn(this.reportStats_.bind(this),Math.floor(y))}reportStats_(){const u=this.statsListener_.get(),h={};let y=!1;dr(u,(O,P)=>{P>0&&(0,U.gR)(this.statsToReport_,O)&&(h[O]=P,y=!0)}),y&&this.server_.reportStats(h),Kn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var In=function(f){return f[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",f}(In||{});function oo(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}class ta{constructor(u,h,y){this.path=u,this.affectedTree=h,this.revert=y,this.type=In.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(tn(this.path)){if(null!=this.affectedTree.value)return(0,U.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new de(u));return new ta(me(),h,this.revert)}}return(0,U.vA)(Ve(this.path)===u,"operationForChild called for unrelated child."),new ta(yt(this.path),this.affectedTree,this.revert)}}class Zi{constructor(u,h){this.source=u,this.path=h,this.type=In.LISTEN_COMPLETE}operationForChild(u){return tn(this.path)?new Zi(this.source,me()):new Zi(this.source,yt(this.path))}}class So{constructor(u,h,y){this.source=u,this.path=h,this.snap=y,this.type=In.OVERWRITE}operationForChild(u){return tn(this.path)?new So(this.source,me(),this.snap.getImmediateChild(u)):new So(this.source,yt(this.path),this.snap)}}class ri{constructor(u,h,y){this.source=u,this.path=h,this.children=y,this.type=In.MERGE}operationForChild(u){if(tn(this.path)){const h=this.children.subtree(new de(u));return h.isEmpty()?null:h.value?new So(this.source,me(),h.value):new ri(this.source,me(),h)}return(0,U.vA)(Ve(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new ri(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Js{constructor(u,h,y){this.node_=u,this.fullyInitialized_=h,this.filtered_=y}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(tn(u))return this.isFullyInitialized()&&!this.filtered_;const h=Ve(u);return this.isCompleteForChild(h)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class xa{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function Pa(f,u,h,y,O,P){const j=y.filter(se=>se.type===h);j.sort((se,_e)=>function wa(f,u,h){if(null==u.childName||null==h.childName)throw(0,U.Hk)("Should only compare child_ events.");const y=new on(u.childName,u.snapshotNode),O=new on(h.childName,h.snapshotNode);return f.index_.compare(y,O)}(f,se,_e)),j.forEach(se=>{const _e=function Fa(f,u,h){return"value"===u.type||"child_removed"===u.type||(u.prevName=h.getPredecessorChildName(u.childName,u.snapshotNode,f.index_)),u}(f,se,P);O.forEach(Oe=>{Oe.respondsTo(se.type)&&u.push(Oe.createEvent(_e,f.query_))})})}function Ls(f,u){return{eventCache:f,serverCache:u}}function na(f,u,h,y){return Ls(new Js(u,h,y),f.serverCache)}function ka(f,u,h,y){return Ls(f.eventCache,new Js(u,h,y))}function $s(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function ra(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}let sa;class Lr{constructor(u,h=(()=>(sa||(sa=new tr(kn)),sa))()){this.value=u,this.children=h}static fromObject(u){let h=new Lr(null);return dr(u,(y,O)=>{h=h.set(new de(y),O)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,h){if(null!=this.value&&h(this.value))return{path:me(),value:this.value};if(tn(u))return null;{const y=Ve(u),O=this.children.get(y);if(null!==O){const P=O.findRootMostMatchingPathAndValue(yt(u),h);return null!=P?{path:Ln(new de(y),P.path),value:P.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(tn(u))return this;{const h=Ve(u),y=this.children.get(h);return null!==y?y.subtree(yt(u)):new Lr(null)}}set(u,h){if(tn(u))return new Lr(h,this.children);{const y=Ve(u),P=(this.children.get(y)||new Lr(null)).set(yt(u),h),j=this.children.insert(y,P);return new Lr(this.value,j)}}remove(u){if(tn(u))return this.children.isEmpty()?new Lr(null):new Lr(null,this.children);{const h=Ve(u),y=this.children.get(h);if(y){const O=y.remove(yt(u));let P;return P=O.isEmpty()?this.children.remove(h):this.children.insert(h,O),null===this.value&&P.isEmpty()?new Lr(null):new Lr(this.value,P)}return this}}get(u){if(tn(u))return this.value;{const h=Ve(u),y=this.children.get(h);return y?y.get(yt(u)):null}}setTree(u,h){if(tn(u))return h;{const y=Ve(u),P=(this.children.get(y)||new Lr(null)).setTree(yt(u),h);let j;return j=P.isEmpty()?this.children.remove(y):this.children.insert(y,P),new Lr(this.value,j)}}fold(u){return this.fold_(me(),u)}fold_(u,h){const y={};return this.children.inorderTraversal((O,P)=>{y[O]=P.fold_(Ln(u,O),h)}),h(u,this.value,y)}findOnPath(u,h){return this.findOnPath_(u,me(),h)}findOnPath_(u,h,y){const O=!!this.value&&y(h,this.value);if(O)return O;if(tn(u))return null;{const P=Ve(u),j=this.children.get(P);return j?j.findOnPath_(yt(u),Ln(h,P),y):null}}foreachOnPath(u,h){return this.foreachOnPath_(u,me(),h)}foreachOnPath_(u,h,y){if(tn(u))return this;{this.value&&y(h,this.value);const O=Ve(u),P=this.children.get(O);return P?P.foreachOnPath_(yt(u),Ln(h,O),y):new Lr(null)}}foreach(u){this.foreach_(me(),u)}foreach_(u,h){this.children.inorderTraversal((y,O)=>{O.foreach_(Ln(u,y),h)}),this.value&&h(u,this.value)}foreachChild(u){this.children.inorderTraversal((h,y)=>{y.value&&u(h,y.value)})}}class Hs{constructor(u){this.writeTree_=u}static empty(){return new Hs(new Lr(null))}}function sl(f,u,h){if(tn(u))return new Hs(new Lr(h));{const y=f.writeTree_.findRootMostValueAndPath(u);if(null!=y){const O=y.path;let P=y.value;const j=jn(O,u);return P=P.updateChild(j,h),new Hs(f.writeTree_.set(O,P))}{const O=new Lr(h),P=f.writeTree_.setTree(u,O);return new Hs(P)}}}function ia(f,u,h){let y=f;return dr(h,(O,P)=>{y=sl(y,Ln(u,O),P)}),y}function as(f,u){if(tn(u))return Hs.empty();{const h=f.writeTree_.setTree(u,new Lr(null));return new Hs(h)}}function Jr(f,u){return null!=Ws(f,u)}function Ws(f,u){const h=f.writeTree_.findRootMostValueAndPath(u);return null!=h?f.writeTree_.get(h.path).getChild(jn(h.path,u)):null}function Wr(f){const u=[],h=f.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(Nr,(y,O)=>{u.push(new on(y,O))}):f.writeTree_.children.inorderTraversal((y,O)=>{null!=O.value&&u.push(new on(y,O.value))}),u}function ao(f,u){if(tn(u))return f;{const h=Ws(f,u);return new Hs(null!=h?new Lr(h):f.writeTree_.subtree(u))}}function Si(f){return f.writeTree_.isEmpty()}function Ia(f,u){return qc(me(),f.writeTree_,u)}function qc(f,u,h){if(null!=u.value)return h.updateChild(f,u.value);{let y=null;return u.children.inorderTraversal((O,P)=>{".priority"===O?((0,U.vA)(null!==P.value,"Priority writes must always be leaf nodes"),y=P.value):h=qc(Ln(f,O),P,h)}),!h.getChild(f).isEmpty()&&null!==y&&(h=h.updateChild(Ln(f,".priority"),y)),h}}function Mt(f,u){return ji(u,f)}function Ye(f,u){if(f.snap)return bn(f.path,u);for(const h in f.children)if(f.children.hasOwnProperty(h)&&bn(Ln(f.path,h),u))return!0;return!1}function At(f){return f.visible}function qe(f,u,h){let y=Hs.empty();for(let O=0;O<f.length;++O){const P=f[O];if(u(P)){const j=P.path;let se;if(P.snap)bn(h,j)?(se=jn(h,j),y=sl(y,se,P.snap)):bn(j,h)&&(se=jn(j,h),y=sl(y,me(),P.snap.getChild(se)));else{if(!P.children)throw(0,U.Hk)("WriteRecord should have .snap or .children");if(bn(h,j))se=jn(h,j),y=ia(y,se,P.children);else if(bn(j,h))if(se=jn(j,h),tn(se))y=ia(y,me(),P.children);else{const _e=(0,U.yw)(P.children,Ve(se));if(_e){const Oe=_e.getChild(yt(se));y=sl(y,me(),Oe)}}}}}return y}function _t(f,u,h,y,O){if(y||O){const P=ao(f.visibleWrites,u);return!O&&Si(P)?h:O||null!=h||Jr(P,me())?Ia(qe(f.allWrites,function(Oe){return(Oe.visible||O)&&(!y||!~y.indexOf(Oe.writeId))&&(bn(Oe.path,u)||bn(u,Oe.path))},u),h||wn.EMPTY_NODE):null}{const P=Ws(f.visibleWrites,u);if(null!=P)return P;{const j=ao(f.visibleWrites,u);return Si(j)?h:null!=h||Jr(j,me())?Ia(j,h||wn.EMPTY_NODE):null}}}function oa(f,u,h,y){return _t(f.writeTree,f.treePath,u,h,y)}function Va(f,u){return function Cr(f,u,h){let y=wn.EMPTY_NODE;const O=Ws(f.visibleWrites,u);if(O)return O.isLeafNode()||O.forEachChild(Nr,(P,j)=>{y=y.updateImmediateChild(P,j)}),y;if(h){const P=ao(f.visibleWrites,u);return h.forEachChild(Nr,(j,se)=>{const _e=Ia(ao(P,new de(j)),se);y=y.updateImmediateChild(j,_e)}),Wr(P).forEach(j=>{y=y.updateImmediateChild(j.name,j.node)}),y}return Wr(ao(f.visibleWrites,u)).forEach(j=>{y=y.updateImmediateChild(j.name,j.node)}),y}(f.writeTree,f.treePath,u)}function Ua(f,u,h,y){return function Ta(f,u,h,y,O){(0,U.vA)(y||O,"Either existingEventSnap or existingServerSnap must exist");const P=Ln(u,h);if(Jr(f.visibleWrites,P))return null;{const j=ao(f.visibleWrites,P);return Si(j)?O.getChild(h):Ia(j,O.getChild(h))}}(f.writeTree,f.treePath,u,h,y)}function Kr(f,u){return function si(f,u){return Ws(f.visibleWrites,u)}(f.writeTree,Ln(f.treePath,u))}function Ho(f,u,h){return function ls(f,u,h,y){const O=Ln(u,h),P=Ws(f.visibleWrites,O);return null!=P?P:y.isCompleteForChild(h)?Ia(ao(f.visibleWrites,O),y.getNode().getImmediateChild(h)):null}(f.writeTree,f.treePath,u,h)}function _n(f,u){return ji(Ln(f.treePath,u),f.writeTree)}function ji(f,u){return{treePath:f,writeTree:u}}class il{constructor(){this.changeMap=new Map}trackChildChange(u){const h=u.type,y=u.childName;(0,U.vA)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,U.vA)(".priority"!==y,"Only non-priority child changes can be tracked.");const O=this.changeMap.get(y);if(O){const P=O.type;if("child_added"===h&&"child_removed"===P)this.changeMap.set(y,Os(y,u.snapshotNode,O.snapshotNode));else if("child_removed"===h&&"child_added"===P)this.changeMap.delete(y);else if("child_removed"===h&&"child_changed"===P)this.changeMap.set(y,Uo(y,O.oldSnap));else if("child_changed"===h&&"child_added"===P)this.changeMap.set(y,ui(y,u.snapshotNode));else{if("child_changed"!==h||"child_changed"!==P)throw(0,U.Hk)("Illegal combination of changes: "+u+" occurred after "+O);this.changeMap.set(y,Os(y,u.snapshotNode,O.oldSnap))}}else this.changeMap.set(y,u)}getChanges(){return Array.from(this.changeMap.values())}}const S=new class es{getCompleteChild(u){return null}getChildAfterChild(u,h,y){return null}};class X{constructor(u,h,y=null){this.writes_=u,this.viewCache_=h,this.optCompleteServerCache_=y}getCompleteChild(u){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(u))return h.getNode().getImmediateChild(u);{const y=null!=this.optCompleteServerCache_?new Js(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ho(this.writes_,u,y)}}getChildAfterChild(u,h,y){const O=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ra(this.viewCache_),P=function aa(f,u,h,y,O,P){return function $o(f,u,h,y,O,P,j){let se;const _e=ao(f.visibleWrites,u),Oe=Ws(_e,me());if(null!=Oe)se=Oe;else{if(null==h)return[];se=Ia(_e,h)}if(se=se.withIndex(j),se.isEmpty()||se.isLeafNode())return[];{const ct=[],dt=j.getCompare(),Dt=P?se.getReverseIteratorFrom(y,j):se.getIteratorFrom(y,j);let jt=Dt.getNext();for(;jt&&ct.length<O;)0!==dt(jt,y)&&ct.push(jt),jt=Dt.getNext();return ct}}(f.writeTree,f.treePath,u,h,y,O,P)}(this.writes_,O,h,1,y,u);return 0===P.length?null:P[0]}}function ot(f,u,h,y,O,P){const j=u.eventCache;if(null!=Kr(y,h))return u;{let se,_e;if(tn(h))if((0,U.vA)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Oe=ra(u),dt=Va(y,Oe instanceof wn?Oe:wn.EMPTY_NODE);se=f.filter.updateFullNode(u.eventCache.getNode(),dt,P)}else{const Oe=oa(y,ra(u));se=f.filter.updateFullNode(u.eventCache.getNode(),Oe,P)}else{const Oe=Ve(h);if(".priority"===Oe){(0,U.vA)(1===ft(h),"Can't have a priority with additional path components");const ct=j.getNode();_e=u.serverCache.getNode();const dt=Ua(y,h,ct,_e);se=null!=dt?f.filter.updatePriority(ct,dt):j.getNode()}else{const ct=yt(h);let dt;if(j.isCompleteForChild(Oe)){_e=u.serverCache.getNode();const Dt=Ua(y,h,j.getNode(),_e);dt=null!=Dt?j.getNode().getImmediateChild(Oe).updateChild(ct,Dt):j.getNode().getImmediateChild(Oe)}else dt=Ho(y,Oe,u.serverCache);se=null!=dt?f.filter.updateChild(j.getNode(),Oe,dt,ct,O,P):j.getNode()}}return na(u,se,j.isFullyInitialized()||tn(h),f.filter.filtersNodes())}}function Ut(f,u,h,y,O,P,j,se){const _e=u.serverCache;let Oe;const ct=j?f.filter:f.filter.getIndexedFilter();if(tn(h))Oe=ct.updateFullNode(_e.getNode(),y,null);else if(ct.filtersNodes()&&!_e.isFiltered()){const jt=_e.getNode().updateChild(h,y);Oe=ct.updateFullNode(_e.getNode(),jt,null)}else{const jt=Ve(h);if(!_e.isCompleteForPath(h)&&ft(h)>1)return u;const On=yt(h),ds=_e.getNode().getImmediateChild(jt).updateChild(On,y);Oe=".priority"===jt?ct.updatePriority(_e.getNode(),ds):ct.updateChild(_e.getNode(),jt,ds,On,S,null)}const dt=ka(u,Oe,_e.isFullyInitialized()||tn(h),ct.filtersNodes());return ot(f,dt,h,O,new X(O,dt,P),se)}function nr(f,u,h,y,O,P,j){const se=u.eventCache;let _e,Oe;const ct=new X(O,u,P);if(tn(h))Oe=f.filter.updateFullNode(u.eventCache.getNode(),y,j),_e=na(u,Oe,!0,f.filter.filtersNodes());else{const dt=Ve(h);if(".priority"===dt)Oe=f.filter.updatePriority(u.eventCache.getNode(),y),_e=na(u,Oe,se.isFullyInitialized(),se.isFiltered());else{const Dt=yt(h),jt=se.getNode().getImmediateChild(dt);let On;if(tn(Dt))On=y;else{const ms=ct.getCompleteChild(dt);On=null!=ms?".priority"===Vt(Dt)&&ms.getChild(Sr(Dt)).isEmpty()?ms:ms.updateChild(Dt,y):wn.EMPTY_NODE}_e=jt.equals(On)?u:na(u,f.filter.updateChild(se.getNode(),dt,On,Dt,ct,j),se.isFullyInitialized(),f.filter.filtersNodes())}}return _e}function Qn(f,u){return f.eventCache.isCompleteForChild(u)}function En(f,u,h){return h.foreach((y,O)=>{u=u.updateChild(y,O)}),u}function $n(f,u,h,y,O,P,j,se){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Oe,_e=u;Oe=tn(h)?y:new Lr(null).setTree(h,y);const ct=u.serverCache.getNode();return Oe.children.inorderTraversal((dt,Dt)=>{if(ct.hasChild(dt)){const On=En(0,u.serverCache.getNode().getImmediateChild(dt),Dt);_e=Ut(f,_e,new de(dt),On,O,P,j,se)}}),Oe.children.inorderTraversal((dt,Dt)=>{const jt=!u.serverCache.isCompleteForChild(dt)&&null===Dt.value;if(!ct.hasChild(dt)&&!jt){const ms=En(0,u.serverCache.getNode().getImmediateChild(dt),Dt);_e=Ut(f,_e,new de(dt),ms,O,P,j,se)}}),_e}class Vs{constructor(u,h){this.query_=u,this.eventRegistrations_=[];const y=this.query_._queryParams,O=new Xi(y.getIndex()),P=function Mr(f){return f.loadsAllData()?new Xi(f.getIndex()):f.hasLimit()?new ea(f):new Li(f)}(y);this.processor_=function R(f){return{filter:f}}(P);const j=h.serverCache,se=h.eventCache,_e=O.updateFullNode(wn.EMPTY_NODE,j.getNode(),null),Oe=P.updateFullNode(wn.EMPTY_NODE,se.getNode(),null),ct=new Js(_e,j.isFullyInitialized(),O.filtersNodes()),dt=new Js(Oe,se.isFullyInitialized(),P.filtersNodes());this.viewCache_=Ls(dt,ct),this.eventGenerator_=new xa(this.query_)}get query(){return this.query_}}function Wo(f,u){const h=ra(f.viewCache_);return h&&(f.query._queryParams.loadsAllData()||!tn(u)&&!h.getImmediateChild(Ve(u)).isEmpty())?h.getChild(u):null}function qi(f){return 0===f.eventRegistrations_.length}function Hi(f,u,h){const y=[];if(h){(0,U.vA)(null==u,"A cancel should cancel all event registrations.");const O=f.query._path;f.eventRegistrations_.forEach(P=>{const j=P.createCancelEvent(h,O);j&&y.push(j)})}if(u){let O=[];for(let P=0;P<f.eventRegistrations_.length;++P){const j=f.eventRegistrations_[P];if(j.matches(u)){if(u.hasAnyCallback()){O=O.concat(f.eventRegistrations_.slice(P+1));break}}else O.push(j)}f.eventRegistrations_=O}else f.eventRegistrations_=[];return y}function Wi(f,u,h,y){u.type===In.MERGE&&null!==u.source.queryId&&((0,U.vA)(ra(f.viewCache_),"We should always have a full cache before handling merges"),(0,U.vA)($s(f.viewCache_),"Missing event cache, even though we have a server cache"));const O=f.viewCache_,P=function he(f,u,h,y,O){const P=new il;let j,se;if(h.type===In.OVERWRITE){const Oe=h;Oe.source.fromUser?j=nr(f,u,Oe.path,Oe.snap,y,O,P):((0,U.vA)(Oe.source.fromServer,"Unknown source."),se=Oe.source.tagged||u.serverCache.isFiltered()&&!tn(Oe.path),j=Ut(f,u,Oe.path,Oe.snap,y,O,se,P))}else if(h.type===In.MERGE){const Oe=h;Oe.source.fromUser?j=function Yn(f,u,h,y,O,P,j){let se=u;return y.foreach((_e,Oe)=>{const ct=Ln(h,_e);Qn(u,Ve(ct))&&(se=nr(f,se,ct,Oe,O,P,j))}),y.foreach((_e,Oe)=>{const ct=Ln(h,_e);Qn(u,Ve(ct))||(se=nr(f,se,ct,Oe,O,P,j))}),se}(f,u,Oe.path,Oe.children,y,O,P):((0,U.vA)(Oe.source.fromServer,"Unknown source."),se=Oe.source.tagged||u.serverCache.isFiltered(),j=$n(f,u,Oe.path,Oe.children,y,O,se,P))}else if(h.type===In.ACK_USER_WRITE){const Oe=h;j=Oe.revert?function _s(f,u,h,y,O,P){let j;if(null!=Kr(y,h))return u;{const se=new X(y,u,O),_e=u.eventCache.getNode();let Oe;if(tn(h)||".priority"===Ve(h)){let ct;if(u.serverCache.isFullyInitialized())ct=oa(y,ra(u));else{const dt=u.serverCache.getNode();(0,U.vA)(dt instanceof wn,"serverChildren would be complete if leaf node"),ct=Va(y,dt)}Oe=f.filter.updateFullNode(_e,ct,P)}else{const ct=Ve(h);let dt=Ho(y,ct,u.serverCache);null==dt&&u.serverCache.isCompleteForChild(ct)&&(dt=_e.getImmediateChild(ct)),Oe=null!=dt?f.filter.updateChild(_e,ct,dt,yt(h),se,P):u.eventCache.getNode().hasChild(ct)?f.filter.updateChild(_e,ct,wn.EMPTY_NODE,yt(h),se,P):_e,Oe.isEmpty()&&u.serverCache.isFullyInitialized()&&(j=oa(y,ra(u)),j.isLeafNode()&&(Oe=f.filter.updateFullNode(Oe,j,P)))}return j=u.serverCache.isFullyInitialized()||null!=Kr(y,me()),na(u,Oe,j,f.filter.filtersNodes())}}(f,u,Oe.path,y,O,P):function wr(f,u,h,y,O,P,j){if(null!=Kr(O,h))return u;const se=u.serverCache.isFiltered(),_e=u.serverCache;if(null!=y.value){if(tn(h)&&_e.isFullyInitialized()||_e.isCompleteForPath(h))return Ut(f,u,h,_e.getNode().getChild(h),O,P,se,j);if(tn(h)){let Oe=new Lr(null);return _e.getNode().forEachChild(Ss,(ct,dt)=>{Oe=Oe.set(new de(ct),dt)}),$n(f,u,h,Oe,O,P,se,j)}return u}{let Oe=new Lr(null);return y.foreach((ct,dt)=>{const Dt=Ln(h,ct);_e.isCompleteForPath(Dt)&&(Oe=Oe.set(ct,_e.getNode().getChild(Dt)))}),$n(f,u,h,Oe,O,P,se,j)}}(f,u,Oe.path,Oe.affectedTree,y,O,P)}else{if(h.type!==In.LISTEN_COMPLETE)throw(0,U.Hk)("Unknown operation type: "+h.type);j=function vs(f,u,h,y,O){const P=u.serverCache;return ot(f,ka(u,P.getNode(),P.isFullyInitialized()||tn(h),P.isFiltered()),h,y,S,O)}(f,u,h.path,y,P)}const _e=P.getChanges();return function Me(f,u,h){const y=u.eventCache;if(y.isFullyInitialized()){const O=y.getNode().isLeafNode()||y.getNode().isEmpty(),P=$s(f);(h.length>0||!f.eventCache.isFullyInitialized()||O&&!y.getNode().equals(P)||!y.getNode().getPriority().equals(P.getPriority()))&&h.push(Vo($s(u)))}}(u,j,_e),{viewCache:j,changes:_e}}(f.processor_,O,u,h,y);return function V(f,u){(0,U.vA)(u.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,U.vA)(u.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,P.viewCache),(0,U.vA)(P.viewCache.serverCache.isFullyInitialized()||!O.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=P.viewCache,Rl(f,P.changes,P.viewCache.eventCache.getNode(),null)}function Rl(f,u,h,y){return function Nl(f,u,h,y){const O=[],P=[];return u.forEach(j=>{"child_changed"===j.type&&f.index_.indexedValueChanged(j.oldSnap,j.snapshotNode)&&P.push(function Bo(f,u){return{type:"child_moved",snapshotNode:u,childName:f}}(j.childName,j.snapshotNode))}),Pa(f,O,"child_removed",u,y,h),Pa(f,O,"child_added",u,y,h),Pa(f,O,"child_moved",P,y,h),Pa(f,O,"child_changed",u,y,h),Pa(f,O,"value",u,y,h),O}(f.eventGenerator_,u,h,y?[y]:f.eventRegistrations_)}let Ko,xl;class Jc{constructor(){this.views=new Map}}function Au(f,u,h,y){const O=u.source.queryId;if(null!==O){const P=f.views.get(O);return(0,U.vA)(null!=P,"SyncTree gave us an op for an invalid query."),Wi(P,u,h,y)}{let P=[];for(const j of f.views.values())P=P.concat(Wi(j,u,h,y));return P}}function tu(f,u,h,y,O){const j=f.views.get(u._queryIdentifier);if(!j){let se=oa(h,O?y:null),_e=!1;se?_e=!0:y instanceof wn?(se=Va(h,y),_e=!1):(se=wn.EMPTY_NODE,_e=!1);const Oe=Ls(new Js(se,_e,!1),new Js(y,O,!1));return new Vs(u,Oe)}return j}function yo(f){const u=[];for(const h of f.views.values())h.query._queryParams.loadsAllData()||u.push(h);return u}function ba(f,u){let h=null;for(const y of f.views.values())h=h||Wo(y,u);return h}function Go(f,u){return u._queryParams.loadsAllData()?Ba(f):f.views.get(u._queryIdentifier)}function sc(f,u){return null!=Go(f,u)}function la(f){return null!=Ba(f)}function Ba(f){for(const u of f.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let nu=1;class Ma{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Lr(null),this.pendingWriteTree_=function Vn(){return{visibleWrites:Hs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ks(f,u,h,y,O){return function ei(f,u,h,y,O){(0,U.vA)(y>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===O&&(O=!0),f.allWrites.push({path:u,snap:h,writeId:y,visible:O}),O&&(f.visibleWrites=sl(f.visibleWrites,u,h)),f.lastWriteId=y}(f.pendingWriteTree_,u,h,y,O),O?M(f,new So({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,h)):[]}function zo(f,u,h=!1){const y=function La(f,u){for(let h=0;h<f.allWrites.length;h++){const y=f.allWrites[h];if(y.writeId===u)return y}return null}(f.pendingWriteTree_,u);if(function Ft(f,u){const h=f.allWrites.findIndex(se=>se.writeId===u);(0,U.vA)(h>=0,"removeWrite called with nonexistent writeId.");const y=f.allWrites[h];f.allWrites.splice(h,1);let O=y.visible,P=!1,j=f.allWrites.length-1;for(;O&&j>=0;){const se=f.allWrites[j];se.visible&&(j>=h&&Ye(se,y.path)?O=!1:bn(y.path,se.path)&&(P=!0)),j--}return!!O&&(P?(function Tn(f){f.visibleWrites=qe(f.allWrites,At,me()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(y.snap?f.visibleWrites=as(f.visibleWrites,y.path):dr(y.children,_e=>{f.visibleWrites=as(f.visibleWrites,Ln(y.path,_e))}),!0))}(f.pendingWriteTree_,u)){let P=new Lr(null);return null!=y.snap?P=P.set(me(),!0):dr(y.children,j=>{P=P.set(new de(j),!0)}),M(f,new ta(y.path,P,h))}return[]}function al(f,u,h){return M(f,new So({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,h))}function Ri(f,u,h,y,O=!1){const P=u._path,j=f.syncPointTree_.get(P);let se=[];if(j&&("default"===u._queryIdentifier||sc(j,u))){const _e=function Ac(f,u,h,y){const O=u._queryIdentifier,P=[];let j=[];const se=la(f);if("default"===O)for(const[_e,Oe]of f.views.entries())j=j.concat(Hi(Oe,h,y)),qi(Oe)&&(f.views.delete(_e),Oe.query._queryParams.loadsAllData()||P.push(Oe.query));else{const _e=f.views.get(O);_e&&(j=j.concat(Hi(_e,h,y)),qi(_e)&&(f.views.delete(O),_e.query._queryParams.loadsAllData()||P.push(_e.query)))}return se&&!la(f)&&P.push(new(function Mc(){return(0,U.vA)(Ko,"Reference.ts has not been loaded"),Ko}())(u._repo,u._path)),{removed:P,events:j}}(j,u,h,y);(function eu(f){return 0===f.views.size})(j)&&(f.syncPointTree_=f.syncPointTree_.remove(P));const Oe=_e.removed;if(se=_e.events,!O){const ct=-1!==Oe.findIndex(Dt=>Dt._queryParams.loadsAllData()),dt=f.syncPointTree_.findOnPath(P,(Dt,jt)=>la(jt));if(ct&&!dt){const Dt=f.syncPointTree_.subtree(P);if(!Dt.isEmpty()){const jt=function fr(f){return f.fold((u,h,y)=>{if(h&&la(h))return[Ba(h)];{let O=[];return h&&(O=yo(h)),dr(y,(P,j)=>{O=O.concat(j)}),O}})}(Dt);for(let On=0;On<jt.length;++On){const ms=jt[On],ds=ms.query,Yo=ae(f,ms);f.listenProvider_.startListening(cs(ds),De(f,ds),Yo.hashFn,Yo.onComplete)}}}!dt&&Oe.length>0&&!y&&(ct?f.listenProvider_.stopListening(cs(u),null):Oe.forEach(Dt=>{const jt=f.queryToTagMap.get(rt(Dt));f.listenProvider_.stopListening(cs(Dt),jt)}))}!function Qo(f,u){for(let h=0;h<u.length;++h){const y=u[h];if(!y._queryParams.loadsAllData()){const O=rt(y),P=f.queryToTagMap.get(O);f.queryToTagMap.delete(O),f.tagToQueryMap.delete(P)}}}(f,Oe)}return se}function ca(f,u,h,y){const O=We(f,y);if(null!=O){const P=Wt(O),j=P.path,se=P.queryId,_e=jn(j,u);return gn(f,j,new So(oo(se),_e,h))}return[]}function or(f,u,h,y=!1){const O=u._path;let P=null,j=!1;f.syncPointTree_.foreachOnPath(O,(Dt,jt)=>{const On=jn(Dt,O);P=P||ba(jt,On),j=j||la(jt)});let _e,se=f.syncPointTree_.get(O);se?(j=j||la(se),P=P||ba(se,me())):(se=new Jc,f.syncPointTree_=f.syncPointTree_.set(O,se)),null!=P?_e=!0:(_e=!1,P=wn.EMPTY_NODE,f.syncPointTree_.subtree(O).foreachChild((jt,On)=>{const ms=ba(On,me());ms&&(P=P.updateImmediateChild(jt,ms))}));const Oe=sc(se,u);if(!Oe&&!u._queryParams.loadsAllData()){const Dt=rt(u);(0,U.vA)(!f.queryToTagMap.has(Dt),"View does not exist, but we have a tag");const jt=function bi(){return nu++}();f.queryToTagMap.set(Dt,jt),f.tagToQueryMap.set(jt,Dt)}let dt=function Ao(f,u,h,y,O,P){const j=tu(f,u,y,O,P);return f.views.has(u._queryIdentifier)||f.views.set(u._queryIdentifier,j),function Qe(f,u){f.eventRegistrations_.push(u)}(j,h),function cf(f,u){const h=f.viewCache_.eventCache,y=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(Nr,(P,j)=>{y.push(ui(P,j))}),h.isFullyInitialized()&&y.push(Vo(h.getNode())),Rl(f,y,h.getNode(),u)}(j,h)}(se,u,h,Mt(f.pendingWriteTree_,O),P,_e);if(!Oe&&!j&&!y){const Dt=Go(se,u);dt=dt.concat(function xi(f,u,h){const y=u._path,O=De(f,u),P=ae(f,h),j=f.listenProvider_.startListening(cs(u),O,P.hashFn,P.onComplete),se=f.syncPointTree_.subtree(y);if(O)(0,U.vA)(!la(se.value),"If we're adding a query, it shouldn't be shadowed");else{const _e=se.fold((Oe,ct,dt)=>{if(!tn(Oe)&&ct&&la(ct))return[Ba(ct).query];{let Dt=[];return ct&&(Dt=Dt.concat(yo(ct).map(jt=>jt.query))),dr(dt,(jt,On)=>{Dt=Dt.concat(On)}),Dt}});for(let Oe=0;Oe<_e.length;++Oe){const ct=_e[Oe];f.listenProvider_.stopListening(cs(ct),De(f,ct))}}return j}(f,u,Dt))}return dt}function T(f,u,h){const O=f.pendingWriteTree_,P=f.syncPointTree_.findOnPath(u,(j,se)=>{const Oe=ba(se,jn(j,u));if(Oe)return Oe});return _t(O,u,P,h,!0)}function M(f,u){return k(u,f.syncPointTree_,null,Mt(f.pendingWriteTree_,me()))}function k(f,u,h,y){if(tn(f.path))return G(f,u,h,y);{const O=u.get(me());null==h&&null!=O&&(h=ba(O,me()));let P=[];const j=Ve(f.path),se=f.operationForChild(j),_e=u.children.get(j);if(_e&&se){const Oe=h?h.getImmediateChild(j):null,ct=_n(y,j);P=P.concat(k(se,_e,Oe,ct))}return O&&(P=P.concat(Au(O,f,y,h))),P}}function G(f,u,h,y){const O=u.get(me());null==h&&null!=O&&(h=ba(O,me()));let P=[];return u.children.inorderTraversal((j,se)=>{const _e=h?h.getImmediateChild(j):null,Oe=_n(y,j),ct=f.operationForChild(j);ct&&(P=P.concat(G(ct,se,_e,Oe)))}),O&&(P=P.concat(Au(O,f,y,h))),P}function ae(f,u){const h=u.query,y=De(f,h);return{hashFn:()=>(function $i(f){return f.viewCache_.serverCache.getNode()}(u)||wn.EMPTY_NODE).hash(),onComplete:O=>{if("ok"===O)return y?function Oc(f,u,h){const y=We(f,h);if(y){const O=Wt(y),P=O.path,j=O.queryId,se=jn(P,u);return gn(f,P,new Zi(oo(j),se))}return[]}(f,h._path,y):function ja(f,u){return M(f,new Zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(f,h._path);{const P=function at(f,u){let h="Unknown Error";"too_big"===f?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?h="Client doesn't have permission to access the desired data.":"unavailable"===f&&(h="The service is unavailable");const y=new Error(f+" at "+u._path.toString()+": "+h);return y.code=f.toUpperCase(),y}(O,h);return Ri(f,h,null,P)}}}}function De(f,u){const h=rt(u);return f.queryToTagMap.get(h)}function rt(f){return f._path.toString()+"$"+f._queryIdentifier}function We(f,u){return f.tagToQueryMap.get(u)}function Wt(f){const u=f.indexOf("$");return(0,U.vA)(-1!==u&&u<f.length-1,"Bad queryKey."),{queryId:f.substr(u+1),path:new de(f.substr(0,u))}}function gn(f,u,h){const y=f.syncPointTree_.get(u);return(0,U.vA)(y,"Missing sync point for query tag that we're tracking"),Au(y,h,Mt(f.pendingWriteTree_,u),null)}function cs(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function di(){return(0,U.vA)(xl,"Reference.ts has not been loaded"),xl}())(f._repo,f._path):f}class mi{constructor(u){this.node_=u}getImmediateChild(u){const h=this.node_.getImmediateChild(u);return new mi(h)}node(){return this.node_}}class ua{constructor(u,h){this.syncTree_=u,this.path_=h}getImmediateChild(u){const h=Ln(this.path_,u);return new ua(this.syncTree_,h)}node(){return T(this.syncTree_,this.path_)}}const oc=function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f},Xn=function(f,u,h){return f&&"object"==typeof f?((0,U.vA)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?rn(f[".sv"],u,h):"object"==typeof f[".sv"]?$a(f[".sv"],u):void(0,U.vA)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},rn=function(f,u,h){if("timestamp"===f)return h.timestamp;(0,U.vA)(!1,"Unexpected server value: "+f)},$a=function(f,u,h){f.hasOwnProperty("increment")||(0,U.vA)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const y=f.increment;"number"!=typeof y&&(0,U.vA)(!1,"Unexpected increment value: "+y);const O=u.node();if((0,U.vA)(null!==O&&typeof O<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!O.isLeafNode())return y;const j=O.getValue();return"number"!=typeof j?y:j+y},ac=function(f,u,h,y){return Ou(u,new ua(h,f),y)},Pl=function(f,u,h){return Ou(f,new mi(u),h)};function Ou(f,u,h){const y=f.getPriority().val(),O=Xn(y,u.getImmediateChild(".priority"),h);let P;if(f.isLeafNode()){const j=f,se=Xn(j.getValue(),u,h);return se!==j.getValue()||O!==j.getPriority().val()?new gs(se,Fr(O)):f}{const j=f;return P=j,O!==j.getPriority().val()&&(P=P.updatePriority(new gs(O))),j.forEachChild(Nr,(se,_e)=>{const Oe=Ou(_e,u.getImmediateChild(se),h);Oe!==_e&&(P=P.updateImmediateChild(se,Oe))}),P}}class lc{constructor(u="",h=null,y={children:{},childCount:0}){this.name=u,this.parent=h,this.node=y}}function Nc(f,u){let h=u instanceof de?u:new de(u),y=f,O=Ve(h);for(;null!==O;){const P=(0,U.yw)(y.node.children,O)||{children:{},childCount:0};y=new lc(O,y,P),h=yt(h),O=Ve(h)}return y}function Ha(f){return f.node.value}function Rc(f,u){f.node.value=u,lt(f)}function yl(f){return f.node.childCount>0}function xc(f,u){dr(f.node.children,(h,y)=>{u(new lc(h,f,y))})}function Nu(f,u,h,y){h&&!y&&u(f),xc(f,O=>{Nu(O,u,!0,y)}),h&&y&&u(f)}function Fl(f){return new de(null===f.parent?f.name:Fl(f.parent)+"/"+f.name)}function lt(f){null!==f.parent&&function rr(f,u,h){const y=function oh(f){return void 0===Ha(f)&&!yl(f)}(h),O=(0,U.gR)(f.node.children,u);y&&O?(delete f.node.children[u],f.node.childCount--,lt(f)):!y&&!O&&(f.node.children[u]=h.node,f.node.childCount++,lt(f))}(f.parent,f.name,f)}const kl=/[\[\].#$\/\u0000-\u001F\u007F]/,hd=/[\[\].#$\u0000-\u001F\u007F]/,vn=10485760,vl=function(f){return"string"==typeof f&&0!==f.length&&!kl.test(f)},yi=function(f){return"string"==typeof f&&0!==f.length&&!hd.test(f)},_l=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!Pn(f)||f&&"object"==typeof f&&(0,U.gR)(f,".sv")},lo=function(f,u,h,y){y&&void 0===u||Ki((0,U.dI)(f,"value"),u,h)},Ki=function(f,u,h){const y=h instanceof de?new Dr(h,f):h;if(void 0===u)throw new Error(f+"contains undefined "+pe(y));if("function"==typeof u)throw new Error(f+"contains a function "+pe(y)+" with contents = "+u.toString());if(Pn(u))throw new Error(f+"contains "+u.toString()+" "+pe(y));if("string"==typeof u&&u.length>vn/3&&(0,U.OE)(u)>vn)throw new Error(f+"contains a string greater than "+vn+" utf8 bytes "+pe(y)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let O=!1,P=!1;if(dr(u,(j,se)=>{if(".value"===j)O=!0;else if(".priority"!==j&&".sv"!==j&&(P=!0,!vl(j)))throw new Error(f+" contains an invalid key ("+j+") "+pe(y)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function os(f,u){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(u),f.byteLength_+=(0,U.OE)(u),Pr(f)})(y,j),Ki(f,se,y),function Us(f){const u=f.parts_.pop();f.byteLength_-=(0,U.OE)(u),f.parts_.length>0&&(f.byteLength_-=1)}(y)}),O&&P)throw new Error(f+' contains ".value" child '+pe(y)+" in addition to actual children.")}},fd=function(f,u,h,y){if(y&&void 0===u)return;const O=(0,U.dI)(f,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(O+" must be an object containing the children to replace.");const P=[];dr(u,(j,se)=>{const _e=new de(j);if(Ki(O,se,Ln(h,_e)),".priority"===Vt(_e)&&!_l(se))throw new Error(O+"contains an invalid value for '"+_e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");P.push(_e)}),function(f,u){let h,y;for(h=0;h<u.length;h++){y=u[h];const P=un(y);for(let j=0;j<P.length;j++)if((".priority"!==P[j]||j!==P.length-1)&&!vl(P[j]))throw new Error(f+"contains an invalid key ("+P[j]+") in path "+y.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(Or);let O=null;for(h=0;h<u.length;h++){if(y=u[h],null!==O&&bn(O,y))throw new Error(f+"contains a path "+O.toString()+" that is ancestor of another path "+y.toString());O=y}}(O,P)},Dl=function(f,u,h,y){if(!(y&&void 0===h||yi(h)))throw new Error((0,U.dI)(f,u)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mi=function(f,u,h,y){h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Dl(f,u,h,y)},vi=function(f,u){if(".info"===Ve(u))throw new Error(f+" failed = Can't modify data under /.info/")};class Oo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function co(f,u){let h=null;for(let y=0;y<u.length;y++){const O=u[y],P=O.getPath();null!==h&&!is(P,h.path)&&(f.eventLists_.push(h),h=null),null===h&&(h={events:[],path:P}),h.events.push(O)}h&&f.eventLists_.push(h)}function Ru(f,u,h){co(f,h),ru(f,y=>is(y,u))}function hi(f,u,h){co(f,h),ru(f,y=>bn(y,u)||bn(u,y))}function ru(f,u){f.recursionDepth_++;let h=!0;for(let y=0;y<f.eventLists_.length;y++){const O=f.eventLists_[y];O&&(u(O.path)?(Ll(f.eventLists_[y]),f.eventLists_[y]=null):h=!1)}h&&(f.eventLists_=[]),f.recursionDepth_--}function Ll(f){for(let u=0;u<f.events.length;u++){const h=f.events[u];if(null!==h){f.events[u]=null;const y=h.getEventRunner();ht&&je("event: "+h.toString()),hr(y)}}}const dc=25;class Vl{constructor(u,h,y,O){this.repoInfo_=u,this.forceRestClient_=h,this.authTokenProvider_=y,this.appCheckProvider_=O,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yi(),this.transactionQueueTree_=new lc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cl(f){const h=f.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function _i(f){return oc({timestamp:cl(f)})}function Bl(f,u,h,y,O){f.dataUpdateCount++;const P=new de(u);h=f.interceptServerDataCallback_?f.interceptServerDataCallback_(u,h):h;let j=[];if(O)if(y){const _e=(0,U.kH)(h,Oe=>Fr(Oe));j=function ll(f,u,h,y){const O=We(f,y);if(O){const P=Wt(O),j=P.path,se=P.queryId,_e=jn(j,u),Oe=Lr.fromObject(h);return gn(f,j,new ri(oo(se),_e,Oe))}return[]}(f.serverSyncTree_,P,_e,O)}else{const _e=Fr(h);j=ca(f.serverSyncTree_,P,_e,O)}else if(y){const _e=(0,U.kH)(h,Oe=>Fr(Oe));j=function ic(f,u,h){const y=Lr.fromObject(h);return M(f,new ri({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,y))}(f.serverSyncTree_,P,_e)}else{const _e=Fr(h);j=al(f.serverSyncTree_,P,_e)}let se=P;j.length>0&&(se=Gl(f,P)),hi(f.eventQueue_,se,j)}function jl(f,u){Pc(f,"connected",u),!1===u&&function Wl(f){Ei(f,"onDisconnectEvents");const u=_i(f),h=Yi();To(f.onDisconnect_,me(),(O,P)=>{const j=ac(O,P,f.serverSyncTree_,u);so(h,O,j)});let y=[];To(h,me(),(O,P)=>{y=y.concat(al(f.serverSyncTree_,O,P));const j=dl(f,O);Gl(f,j)}),f.onDisconnect_=Yi(),hi(f.eventQueue_,me(),y)}(f)}function Pc(f,u,h){const y=new de("/.info/"+u),O=Fr(h);f.infoData_.updateSnapshot(y,O);const P=al(f.infoSyncTree_,y,O);hi(f.eventQueue_,y,P)}function $l(f){return f.nextWriteId_++}function xs(f,u,h){f.server_.onDisconnectCancel(u.toString(),(y,O)=>{"ok"===y&&Ca(f.onDisconnect_,u),Xa(0,h,y,O)})}function iu(f,u,h,y){const O=Fr(h);f.server_.onDisconnectPut(u.toString(),O.val(!0),(P,j)=>{"ok"===P&&so(f.onDisconnect_,u,O),Xa(0,y,P,j)})}function ou(f,u,h){let y;y=".info"===Ve(u._path)?Ri(f.infoSyncTree_,u,h):Ri(f.serverSyncTree_,u,h),Ru(f.eventQueue_,u._path,y)}function Ei(f,...u){let h="";f.persistentConnection_&&(h=f.persistentConnection_.id+":"),je(h,...u)}function Xa(f,u,h,y){u&&hr(()=>{if("ok"===h)u(null);else{const O=(h||"error").toUpperCase();let P=O;y&&(P+=": "+y);const j=new Error(P);j.code=O,u(j)}})}function Kl(f,u,h){return T(f.serverSyncTree_,u,h)||wn.EMPTY_NODE}function ha(f,u=f.transactionQueueTree_){if(u||wl(f,u),Ha(u)){const h=Cl(f,u);(0,U.vA)(h.length>0,"Sending zero length transaction queue"),h.every(O=>0===O.status)&&function kc(f,u,h){const y=h.map(Oe=>Oe.currentWriteId),O=Kl(f,u,y);let P=O;const j=O.hash();for(let Oe=0;Oe<h.length;Oe++){const ct=h[Oe];(0,U.vA)(0===ct.status,"tryToSendTransactionQueue_: items in queue should all be run."),ct.status=1,ct.retryCount++;const dt=jn(u,ct.path);P=P.updateChild(dt,ct.currentOutputSnapshotRaw)}const se=P.val(!0),_e=u;f.server_.put(_e.toString(),se,Oe=>{Ei(f,"transaction put response",{path:_e.toString(),status:Oe});let ct=[];if("ok"===Oe){const dt=[];for(let Dt=0;Dt<h.length;Dt++)h[Dt].status=2,ct=ct.concat(zo(f.serverSyncTree_,h[Dt].currentWriteId)),h[Dt].onComplete&&dt.push(()=>h[Dt].onComplete(null,!0,h[Dt].currentOutputSnapshotResolved)),h[Dt].unwatcher();wl(f,Nc(f.transactionQueueTree_,u)),ha(f,f.transactionQueueTree_),hi(f.eventQueue_,u,ct);for(let Dt=0;Dt<dt.length;Dt++)hr(dt[Dt])}else{if("datastale"===Oe)for(let dt=0;dt<h.length;dt++)h[dt].status=3===h[dt].status?4:0;else{Gt("transaction at "+_e.toString()+" failed: "+Oe);for(let dt=0;dt<h.length;dt++)h[dt].status=4,h[dt].abortReason=Oe}Gl(f,u)}},j)}(f,Fl(u),h)}else yl(u)&&xc(u,h=>{ha(f,h)})}function Gl(f,u){const h=gd(f,u),y=Fl(h);return function Za(f,u,h){if(0===u.length)return;const y=[];let O=[];const j=u.filter(se=>0===se.status).map(se=>se.currentWriteId);for(let se=0;se<u.length;se++){const _e=u[se],Oe=jn(h,_e.path);let dt,ct=!1;if((0,U.vA)(null!==Oe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_e.status)ct=!0,dt=_e.abortReason,O=O.concat(zo(f.serverSyncTree_,_e.currentWriteId,!0));else if(0===_e.status)if(_e.retryCount>=dc)ct=!0,dt="maxretry",O=O.concat(zo(f.serverSyncTree_,_e.currentWriteId,!0));else{const Dt=Kl(f,_e.path,j);_e.currentInputSnapshot=Dt;const jt=u[se].update(Dt.val());if(void 0!==jt){Ki("transaction failed: Data returned ",jt,_e.path);let On=Fr(jt);"object"==typeof jt&&null!=jt&&(0,U.gR)(jt,".priority")||(On=On.updatePriority(Dt.getPriority()));const ds=_e.currentWriteId,Yo=_i(f),Ar=Pl(On,Dt,Yo);_e.currentOutputSnapshotRaw=On,_e.currentOutputSnapshotResolved=Ar,_e.currentWriteId=$l(f),j.splice(j.indexOf(ds),1),O=O.concat(Ks(f.serverSyncTree_,_e.path,Ar,_e.currentWriteId,_e.applyLocally)),O=O.concat(zo(f.serverSyncTree_,ds,!0))}else ct=!0,dt="nodata",O=O.concat(zo(f.serverSyncTree_,_e.currentWriteId,!0))}hi(f.eventQueue_,h,O),O=[],ct&&(u[se].status=2,setTimeout(u[se].unwatcher,Math.floor(0)),u[se].onComplete&&y.push("nodata"===dt?()=>u[se].onComplete(null,!1,u[se].currentInputSnapshot):()=>u[se].onComplete(new Error(dt),!1,null)))}wl(f,f.transactionQueueTree_);for(let se=0;se<y.length;se++)hr(y[se]);ha(f,f.transactionQueueTree_)}(f,Cl(f,h),y),y}function gd(f,u){let h,y=f.transactionQueueTree_;for(h=Ve(u);null!==h&&void 0===Ha(y);)y=Nc(y,h),h=Ve(u=yt(u));return y}function Cl(f,u){const h=[];return bs(f,u,h),h.sort((y,O)=>y.order-O.order),h}function bs(f,u,h){const y=Ha(u);if(y)for(let O=0;O<y.length;O++)h.push(y[O]);xc(u,O=>{bs(f,O,h)})}function wl(f,u){const h=Ha(u);if(h){let y=0;for(let O=0;O<h.length;O++)2!==h[O].status&&(h[y]=h[O],y++);h.length=y,Rc(u,h.length>0?h:void 0)}xc(u,y=>{wl(f,y)})}function dl(f,u){const h=Fl(gd(f,u)),y=Nc(f.transactionQueueTree_,u);return function Qa(f,u,h){let y=h?f:f.parent;for(;null!==y;){if(u(y))return!0;y=y.parent}}(y,O=>{hc(f,O)}),hc(f,y),Nu(y,O=>{hc(f,O)}),h}function hc(f,u){const h=Ha(u);if(h){const y=[];let O=[],P=-1;for(let j=0;j<h.length;j++)3===h[j].status||(1===h[j].status?((0,U.vA)(P===j-1,"All SENT items should be at beginning of queue."),P=j,h[j].status=3,h[j].abortReason="set"):((0,U.vA)(0===h[j].status,"Unexpected transaction status in abort"),h[j].unwatcher(),O=O.concat(zo(f.serverSyncTree_,h[j].currentWriteId,!0)),h[j].onComplete&&y.push(h[j].onComplete.bind(null,new Error("set"),!1,null))));-1===P?Rc(u,void 0):h.length=P+1,hi(f.eventQueue_,Fl(u),O);for(let j=0;j<y.length;j++)hr(y[j])}}const au=function(f,u){const h=lu(f),y=h.namespace;return"firebase.com"===h.domain&&Kt(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!y||"undefined"===y)&&"localhost"!==h.domain&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fn(h.host,h.secure,y,"ws"===h.scheme||"wss"===h.scheme,u,"",y!==h.subdomain),path:new de(h.pathString)}},lu=function(f){let u="",h="",y="",O="",P="",j=!0,se="https",_e=443;if("string"==typeof f){let Oe=f.indexOf("//");Oe>=0&&(se=f.substring(0,Oe-1),f=f.substring(Oe+2));let ct=f.indexOf("/");-1===ct&&(ct=f.length);let dt=f.indexOf("?");-1===dt&&(dt=f.length),u=f.substring(0,Math.min(ct,dt)),ct<dt&&(O=function Pu(f){let u="";const h=f.split("/");for(let y=0;y<h.length;y++)if(h[y].length>0){let O=h[y];try{O=decodeURIComponent(O.replace(/\+/g," "))}catch{}u+="/"+O}return u}(f.substring(ct,dt)));const Dt=function fc(f){const u={};"?"===f.charAt(0)&&(f=f.substring(1));for(const h of f.split("&")){if(0===h.length)continue;const y=h.split("=");2===y.length?u[decodeURIComponent(y[0])]=decodeURIComponent(y[1]):Gt(`Invalid query segment '${h}' in query '${f}'`)}return u}(f.substring(Math.min(f.length,dt)));Oe=u.indexOf(":"),Oe>=0?(j="https"===se||"wss"===se,_e=parseInt(u.substring(Oe+1),10)):Oe=u.length;const jt=u.slice(0,Oe);if("localhost"===jt.toLowerCase())h="localhost";else if(jt.split(".").length<=2)h=jt;else{const On=u.indexOf(".");y=u.substring(0,On).toLowerCase(),h=u.substring(On+1),P=y}"ns"in Dt&&(P=Dt.ns)}return{host:u,port:_e,domain:h,subdomain:y,secure:j,scheme:se,pathString:O,namespace:P}},hl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fa=function(){let f=0;const u=[];return function(h){const y=h===f;let O;f=h;const P=new Array(8);for(O=7;O>=0;O--)P[O]=hl.charAt(h%64),h=Math.floor(h/64);(0,U.vA)(0===h,"Cannot push at time == 0");let j=P.join("");if(y){for(O=11;O>=0&&63===u[O];O--)u[O]=0;u[O]++}else for(O=0;O<12;O++)u[O]=Math.floor(64*Math.random());for(O=0;O<12;O++)j+=hl.charAt(u[O]);return(0,U.vA)(20===j.length,"nextPushId: Length should be 20."),j}}();class Lc{constructor(u,h,y,O){this.eventType=u,this.eventRegistration=h,this.snapshot=y,this.prevName=O}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.As)(this.snapshot.exportVal())}}class zl{constructor(u,h,y){this.eventRegistration=u,this.error=h,this.path=y}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ql{constructor(u,h){this.snapshotCallback=u,this.cancelCallback=h}onValue(u,h){this.snapshotCallback.call(null,u,h)}onCancel(u){return(0,U.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Xl{constructor(u,h){this._repo=u,this._path=h}cancel(){const u=new U.cY;return xs(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){vi("OnDisconnect.remove",this._path);const u=new U.cY;return iu(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){vi("OnDisconnect.set",this._path),lo("OnDisconnect.set",u,this._path,!1);const h=new U.cY;return iu(this._repo,this._path,u,h.wrapCallback(()=>{})),h.promise}setWithPriority(u,h){vi("OnDisconnect.setWithPriority",this._path),lo("OnDisconnect.setWithPriority",u,this._path,!1),function(f,u,h){if(!h||void 0!==u){if(Pn(u))throw new Error((0,U.dI)(f,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_l(u))throw new Error((0,U.dI)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",h,!1);const y=new U.cY;return function pd(f,u,h,y,O){const P=Fr(h,y);f.server_.onDisconnectPut(u.toString(),P.val(!0),(j,se)=>{"ok"===j&&so(f.onDisconnect_,u,P),Xa(0,O,j,se)})}(this._repo,this._path,u,h,y.wrapCallback(()=>{})),y.promise}update(u){vi("OnDisconnect.update",this._path),fd("OnDisconnect.update",u,this._path,!1);const h=new U.cY;return function Fc(f,u,h,y){if((0,U.Im)(h))return je("onDisconnect().update() called with empty data.  Don't do anything."),void Xa(0,y,"ok",void 0);f.server_.onDisconnectMerge(u.toString(),h,(O,P)=>{"ok"===O&&dr(h,(j,se)=>{const _e=Fr(se);so(f.onDisconnect_,Ln(u,j),_e)}),Xa(0,y,O,P)})}(this._repo,this._path,u,h.wrapCallback(()=>{})),h.promise}}class eo{constructor(u,h,y,O){this._repo=u,this._path=h,this._queryParams=y,this._orderByCalled=O}get key(){return tn(this._path)?null:Vt(this._path)}get ref(){return new ga(this._repo,this._path)}get _queryIdentifier(){const u=Ns(this._queryParams),h=_r(u);return"{}"===h?"default":h}get _queryObject(){return Ns(this._queryParams)}isEqual(u){if(!((u=(0,U.Ku)(u))instanceof eo))return!1;const h=this._repo===u._repo,y=is(this._path,u._path);return h&&y&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Sn(f){let u="";for(let h=f.pieceNum_;h<f.pieces_.length;h++)""!==f.pieces_[h]&&(u+="/"+encodeURIComponent(String(f.pieces_[h])));return u||"/"}(this._path)}}class ga extends eo{constructor(u,h){super(u,h,new cr,!1)}get parent(){const u=Sr(this._path);return null===u?null:new ga(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class ma{constructor(u,h,y){this._node=u,this.ref=h,this._index=y}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const h=new de(u),y=fi(this.ref,u);return new ma(this._node.getChild(h),y,Nr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(y,O)=>u(new ma(O,fi(this.ref,y),Nr)))}hasChild(u){const h=new de(u);return!this._node.getChild(h).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fl(f,u){return(f=(0,U.Ku)(f))._checkNotDeleted("ref"),void 0!==u?fi(f._root,u):f._root}function fi(f,u){return null===Ve((f=(0,U.Ku)(f))._path)?Mi("child","path",u,!1):Dl("child","path",u,!1),new ga(f._repo,Ln(f._path,u))}function lh(f){return f=(0,U.Ku)(f),new Xl(f._repo,f._path)}function pc(f,u){f=(0,U.Ku)(f),vi("push",f._path),lo("push",u,f._path,!0);const h=cl(f._repo),y=fa(h),O=fi(f,y),P=fi(f,y);let j;return j=null!=u?Aa(P,u).then(()=>P):Promise.resolve(P),O.then=j.then.bind(j),O.catch=j.then.bind(j,void 0),O}function Fu(f){return vi("remove",f._path),Aa(f,null)}function Aa(f,u){f=(0,U.Ku)(f),vi("set",f._path),lo("set",u,f._path,!1);const h=new U.cY;return function su(f,u,h,y,O){Ei(f,"set",{path:u.toString(),value:h,priority:y});const P=_i(f),j=Fr(h,y),se=T(f.serverSyncTree_,u),_e=Pl(j,se,P),Oe=$l(f),ct=Ks(f.serverSyncTree_,u,_e,Oe,!0);co(f.eventQueue_,ct),f.server_.put(u.toString(),j.val(!0),(Dt,jt)=>{const On="ok"===Dt;On||Gt("set at "+u+" failed: "+Dt);const ms=zo(f.serverSyncTree_,Oe,!On);hi(f.eventQueue_,u,ms),Xa(0,O,Dt,jt)});const dt=dl(f,u);Gl(f,dt),hi(f.eventQueue_,dt,[])}(f._repo,f._path,u,null,h.wrapCallback(()=>{})),h.promise}function uu(f,u){fd("update",u,f._path,!1);const h=new U.cY;return function Ji(f,u,h,y){Ei(f,"update",{path:u.toString(),value:h});let O=!0;const P=_i(f),j={};if(dr(h,(se,_e)=>{O=!1,j[se]=ac(Ln(u,se),Fr(_e),f.serverSyncTree_,P)}),O)je("update() called with empty data.  Don't do anything."),Xa(0,y,"ok",void 0);else{const se=$l(f),_e=function ol(f,u,h,y){!function bo(f,u,h,y){(0,U.vA)(y>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:u,children:h,writeId:y,visible:!0}),f.visibleWrites=ia(f.visibleWrites,u,h),f.lastWriteId=y}(f.pendingWriteTree_,u,h,y);const O=Lr.fromObject(h);return M(f,new ri({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,O))}(f.serverSyncTree_,u,j,se);co(f.eventQueue_,_e),f.server_.merge(u.toString(),h,(Oe,ct)=>{const dt="ok"===Oe;dt||Gt("update at "+u+" failed: "+Oe);const Dt=zo(f.serverSyncTree_,se,!dt),jt=Dt.length>0?Gl(f,u):u;hi(f.eventQueue_,jt,Dt),Xa(0,y,Oe,ct)}),dr(h,Oe=>{const ct=dl(f,Ln(u,Oe));Gl(f,ct)}),hi(f.eventQueue_,u,[])}}(f._repo,f._path,u,h.wrapCallback(()=>{})),h.promise}function ku(f){f=(0,U.Ku)(f);const u=new Ql(()=>{}),h=new ar(u);return function Hl(f,u,h){const y=function F(f,u){const h=u._path;let y=null;f.syncPointTree_.foreachOnPath(h,(Oe,ct)=>{const dt=jn(Oe,h);y=y||ba(ct,dt)});let O=f.syncPointTree_.get(h);O?y=y||ba(O,me()):(O=new Jc,f.syncPointTree_=f.syncPointTree_.set(h,O));const P=null!=y,j=P?new Js(y,!0,!1):null;return function Mo(f){return $s(f.viewCache_)}(tu(O,u,Mt(f.pendingWriteTree_,u._path),P?j.getNode():wn.EMPTY_NODE,P))}(f.serverSyncTree_,u);return null!=y?Promise.resolve(y):f.server_.get(u).then(O=>{const P=Fr(O).withIndex(u._queryParams.getIndex());let j;if(or(f.serverSyncTree_,u,h,!0),u._queryParams.loadsAllData())j=al(f.serverSyncTree_,u._path,P);else{const se=De(f.serverSyncTree_,u);j=ca(f.serverSyncTree_,u._path,P,se)}return hi(f.eventQueue_,u._path,j),Ri(f.serverSyncTree_,u,h,null,!0),P},O=>(Ei(f,"get for query "+(0,U.As)(u)+" failed: "+O),Promise.reject(new Error(O))))}(f._repo,f,h).then(y=>new ma(y,new ga(f._repo,f._path),f._queryParams.getIndex()))}class ar{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,h){const y=h._queryParams.getIndex();return new Lc("value",this,new ma(u.snapshotNode,new ga(h._repo,h._path),y))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,h){return this.callbackContext.hasCancelCallback?new zl(this,u,h):null}matches(u){return u instanceof ar&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gc{constructor(u,h){this.eventType=u,this.callbackContext=h}respondsTo(u){let h="children_added"===u?"child_added":u;return h="children_removed"===h?"child_removed":h,this.eventType===h}createCancelEvent(u,h){return this.callbackContext.hasCancelCallback?new zl(this,u,h):null}createEvent(u,h){(0,U.vA)(null!=u.childName,"Child events should have a childName.");const y=fi(new ga(h._repo,h._path),u.childName),O=h._queryParams.getIndex();return new Lc(u.type,this,new ma(u.snapshotNode,y,O),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof gc&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function mc(f,u,h,y){return function qa(f,u,h,y,O){let P;if("object"==typeof y&&(P=void 0,O=y),"function"==typeof y&&(P=y),O&&O.onlyOnce){const _e=h,Oe=(ct,dt)=>{ou(f._repo,f,se),_e(ct,dt)};Oe.userCallback=h.userCallback,Oe.context=h.context,h=Oe}const j=new Ql(h,P||void 0),se="value"===u?new ar(j):new gc(u,j);return function ah(f,u,h){let y;y=".info"===Ve(u._path)?or(f.infoSyncTree_,u,h):or(f.serverSyncTree_,u,h),Ru(f.eventQueue_,u._path,y)}(f._repo,f,se),()=>ou(f._repo,f,se)}(f,"value",u,h,y)}function _d(f,u,h){let y=null;const O=h?new Ql(h):null;"value"===u?y=new ar(O):u&&(y=new gc(u,O)),ou(f._repo,f,y)}(function Sa(f){(0,U.vA)(!Ko,"__referenceConstructor has already been defined"),Ko=f})(ga),function dd(f){(0,U.vA)(!xl,"__referenceConstructor has already been defined"),xl=f}(ga);const A={};function ge(f,u,h,y,O){let P=y||f.options.databaseURL;void 0===P&&(f.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",f.options.projectId),P=`${f.options.projectId}-default-rtdb.firebaseio.com`);let _e,Oe,j=au(P,O),se=j.repoInfo;typeof process<"u"&&process.env&&(Oe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Oe?(_e=!0,P=`http://${Oe}?ns=${se.namespace}`,j=au(P,O),se=j.repoInfo):_e=!j.repoInfo.secure;const ct=O&&_e?new Gn(Gn.OWNER):new Gr(f.name,f.options,u);(function(f,u){const h=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!vl(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==h.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),yi(f)}(h))throw new Error((0,U.dI)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",j),tn(j.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");const dt=function Pe(f,u,h,y){let O=A[u.name];O||(O={},A[u.name]=O);let P=O[f.toURLString()];return P&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new Vl(f,false,h,y),O[f.toURLString()]=P,P}(se,f,ct,new yn(f.name,h));return new wt(dt,f)}class wt{constructor(u,h){this._repoInternal=u,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ul(f,u,h){if(f.stats_=Xr(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new Ui(f.repoInfo_,(y,O,P,j)=>{Bl(f,y,O,P,j)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>jl(f,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.As)(h)}catch(y){throw new Error("Invalid authOverride provided: "+y)}}f.persistentConnection_=new ps(f.repoInfo_,u,(y,O,P,j)=>{Bl(f,y,O,P,j)},y=>{jl(f,y)},y=>{!function ul(f,u){dr(u,(h,y)=>{Pc(f,h,y)})}(f,y)},f.authTokenProvider_,f.appCheckProvider_,h),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(y=>{f.server_.refreshAuthToken(y)}),f.appCheckProvider_.addTokenChangeListener(y=>{f.server_.refreshAppCheckToken(y.token)}),f.statsReporter_=function gr(f,u){const h=f.toString();return Ts[h]||(Ts[h]=u()),Ts[h]}(f.repoInfo_,()=>new an(f.stats_,f.server_)),f.infoData_=new rl,f.infoSyncTree_=new Ma({startListening:(y,O,P,j)=>{let se=[];const _e=f.infoData_.getNode(y._path);return _e.isEmpty()||(se=al(f.infoSyncTree_,y._path,_e),setTimeout(()=>{j("ok")},0)),se},stopListening:()=>{}}),Pc(f,"connected",!1),f.serverSyncTree_=new Ma({startListening:(y,O,P,j)=>(f.server_.listen(y,P,O,(se,_e)=>{const Oe=j(se,_e);hi(f.eventQueue_,y._path,Oe)}),[]),stopListening:(y,O)=>{f.server_.unlisten(y,O)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ga(this._repo,me())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ee(f,u){const h=A[u];(!h||h[f.key]!==f)&&Kt(`Database ${u}(${f.repoInfo_}) has already been deleted.`),function xu(f){f.persistentConnection_&&f.persistentConnection_.interrupt("repo_interrupt")}(f),delete h[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Kt("Cannot call "+u+" on a deleted database.")}}function bt(f=(0,v.Sx)(),u){const h=(0,v.j6)(f,"database").getImmediate({identifier:u});if(!h._instanceStarted){const y=(0,U.yU)("database");y&&function $t(f,u,h,y={}){(f=(0,U.Ku)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");const O=f._repoInternal;let P;if(O.repoInfo_.nodeAdmin)y.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),P=new Gn(Gn.OWNER);else if(y.mockUserToken){const j="string"==typeof y.mockUserToken?y.mockUserToken:(0,U.Fy)(y.mockUserToken,f.app.options.projectId);P=new Gn(j)}!function te(f,u,h,y){f.repoInfo_=new Fn(`${u}:${h}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams,!0),y&&(f.authTokenProvider_=y)}(O,u,h,P)}(h,...y)}return h}const Wn={".sv":"timestamp"};function Vr(){return Wn}function jr(f){return{".sv":{increment:f}}}ps.prototype.simpleListen=function(f,u){this.sendRequest("q",{p:f},u)},ps.prototype.echo=function(f,u){this.sendRequest("echo",{d:f},u)},function Ps(f){(function ie(f){z=f})(v.MF),(0,v.om)(new ce.uA("database",(u,{instanceIdentifier:h})=>ge(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,v.KO)(q,Q,f),(0,v.KO)(q,Q,"esm2017")}()},2431:(ut,ye,D)=>{D.d(ye,{gS:()=>mm,rJ:()=>k_,kd:()=>gm,H9:()=>Ug,ol:()=>By,rf:()=>fm,x7:()=>Yd,nY:()=>Jy,GG:()=>qh,aU:()=>Uy,AB:()=>Z_,aQ:()=>ym,My:()=>Y_,P:()=>dm,O5:()=>sv,HM:()=>Ky,mZ:()=>tv});var z,_=D(467),v=D(7852),ce=D(1362),U=D(8041),W=D(1076),q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={},ie=ie||{},ee=q||self;function ne(){}function Te(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Fe(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Ie="closure_uid_"+(1e9*Math.random()>>>0),xe=0;function Ze(i,t,s){return i.call.apply(i.bind,arguments)}function Ge(i,t,s){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),i.apply(t,c)}}return function(){return i.apply(t,arguments)}}function ht(i,t,s){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:Ge).apply(null,arguments)}function Rt(i,t){var s=Array.prototype.slice.call(arguments,1);return function(){var a=s.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Je(i,t){function s(){}s.prototype=t.prototype,i.X=t.prototype,i.prototype=new s,i.prototype.constructor=i,i.Wb=function(a,c,p){for(var C=Array(arguments.length-2),N=2;N<arguments.length;N++)C[N-2]=arguments[N];return t.prototype[c].apply(a,C)}}function je(){this.s=this.s,this.o=this.o}je.prototype.s=!1,je.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Le(i){Object.prototype.hasOwnProperty.call(i,Ie)&&i[Ie]||(i[Ie]=++xe)}(this)},je.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ot=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let s=0;s<i.length;s++)if(s in i&&i[s]===t)return s;return-1};function Kt(i){const t=i.length;if(0<t){const s=Array(t);for(let a=0;a<t;a++)s[a]=i[a];return s}return[]}function Gt(i,t){for(let s=1;s<arguments.length;s++){const a=arguments[s];if(Te(a)){const c=i.length||0,p=a.length||0;i.length=c+p;for(let C=0;C<p;C++)i[c+C]=a[C]}else i.push(a)}}function zt(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",ne,t),ee.removeEventListener("test",ne,t)}catch{}return i}();function pt(i){return/^[\s\xa0]*$/.test(i)}var tt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Nt(i,t){return i<t?-1:i>t?1:0}function Dn(){var i=ee.navigator;return i&&(i=i.userAgent)?i:""}function kn(i){return-1!=Dn().indexOf(i)}function yr(i){return yr[" "](i),i}yr[" "]=ne;var Et,i,ws=kn("Opera"),dr=kn("Trident")||kn("MSIE"),Xe=kn("Edge"),Ue=Xe||dr,st=kn("Gecko")&&!(-1!=Dn().toLowerCase().indexOf("webkit")&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),at=-1!=Dn().toLowerCase().indexOf("webkit")&&!kn("Edge");function Ct(){var i=ee.document;return i?i.documentMode:void 0}e:{var Zt="",mn=(i=Dn(),st?/rv:([^\);]+)(\)|;)/.exec(i):Xe?/Edge\/([\d\.]+)/.exec(i):dr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):at?/WebKit\/(\S+)/.exec(i):ws?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(mn&&(Zt=mn?mn[1]:""),dr){var hr=Ct();if(null!=hr&&hr>parseFloat(Zt)){Et=String(hr);break e}}Et=Zt}var Cn={};var Gn=ee.document&&dr&&(Ct()||parseInt(Et,10))||void 0;function qn(i,t){if(zt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var s=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(st){e:{try{yr(t.nodeName);var c=!0;break e}catch{}c=!1}c||(t=null)}}else"mouseover"==s?t=i.fromElement:"mouseout"==s&&(t=i.toElement);this.relatedTarget=t,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ns[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qn.X.h.call(this)}}Je(qn,zt);var ns={2:"touch",3:"pen",4:"mouse"};qn.prototype.h=function(){qn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),Es=0;function oi(i,t,s,a,c){this.listener=i,this.proxy=null,this.src=t,this.type=s,this.capture=!!a,this.ha=c,this.key=++Es,this.ba=this.ea=!1}function xt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function zr(i,t,s){for(const a in i)t.call(s,i[a],a,i)}function Qr(i){const t={};for(const s in i)t[s]=i[s];return t}const Nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function As(i,t){let s,a;for(let c=1;c<arguments.length;c++){for(s in a=arguments[c],a)i[s]=a[s];for(let p=0;p<Nn.length;p++)s=Nn[p],Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}}function rs(i){this.src=i,this.g={},this.h=0}function Fn(i,t){var s=t.type;if(s in i.g){var p,a=i.g[s],c=Ot(a,t);(p=0<=c)&&Array.prototype.splice.call(a,c,1),p&&(xt(t),0==i.g[s].length&&(delete i.g[s],i.h--))}}function Rn(i,t,s,a){for(var c=0;c<i.length;++c){var p=i[c];if(!p.ba&&p.listener==t&&p.capture==!!s&&p.ha==a)return c}return-1}rs.prototype.add=function(i,t,s,a,c){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var C=Rn(i,t,a,c);return-1<C?(t=i[C],s||(t.ea=!1)):((t=new oi(t,this.src,p,!!a,c)).ea=s,i.push(t)),t};var pr="closure_lm_"+(1e6*Math.random()|0),Is={};function Ur(i,t,s,a,c){if(a&&a.once)return gr(i,t,s,a,c);if(Array.isArray(t)){for(var p=0;p<t.length;p++)Ur(i,t[p],s,a,c);return null}return s=sr(s),i&&i[Jn]?i.N(t,s,Fe(a)?!!a.capture:!!a,c):Ts(i,t,s,!1,a,c)}function Ts(i,t,s,a,c,p){if(!t)throw Error("Invalid event type");var C=Fe(c)?!!c.capture:!!c,N=fn(i);if(N||(i[pr]=N=new rs(i)),(s=N.add(t,s,a,C,p)).proxy)return s;if(a=function Xr(){const t=ys;return function i(s){return t.call(i.src,i.listener,s)}}(),s.proxy=a,a.src=i,a.listener=s,i.addEventListener)Pn||(c=C),void 0===c&&(c=!1),i.addEventListener(t.toString(),a,c);else if(i.attachEvent)i.attachEvent(er(t.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return s}function gr(i,t,s,a,c){if(Array.isArray(t)){for(var p=0;p<t.length;p++)gr(i,t[p],s,a,c);return null}return s=sr(s),i&&i[Jn]?i.O(t,s,Fe(a)?!!a.capture:!!a,c):Ts(i,t,s,!0,a,c)}function Rr(i,t,s,a,c){if(Array.isArray(t))for(var p=0;p<t.length;p++)Rr(i,t[p],s,a,c);else a=Fe(a)?!!a.capture:!!a,s=sr(s),i&&i[Jn]?(i=i.i,(t=String(t).toString())in i.g&&-1<(s=Rn(p=i.g[t],s,a,c))&&(xt(p[s]),Array.prototype.splice.call(p,s,1),0==p.length&&(delete i.g[t],i.h--))):i&&(i=fn(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Rn(t,s,a,c)),(s=-1<i?t[i]:null)&&Er(s))}function Er(i){if("number"!=typeof i&&i&&!i.ba){var t=i.src;if(t&&t[Jn])Fn(t.i,i);else{var s=i.type,a=i.proxy;t.removeEventListener?t.removeEventListener(s,a,i.capture):t.detachEvent?t.detachEvent(er(s),a):t.addListener&&t.removeListener&&t.removeListener(a),(s=fn(t))?(Fn(s,i),0==s.h&&(s.src=null,t[pr]=null)):xt(i)}}}function er(i){return i in Is?Is[i]:Is[i]="on"+i}function ys(i,t){if(i.ba)i=!0;else{t=new qn(t,this);var s=i.listener,a=i.ha||i.src;i.ea&&Er(i),i=s.call(a,t)}return i}function fn(i){return(i=i[pr])instanceof rs?i:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function sr(i){return"function"==typeof i?i:(i[Qs]||(i[Qs]=function(t){return i.handleEvent(t)}),i[Qs])}function vr(){je.call(this),this.i=new rs(this),this.P=this,this.I=null}function fs(i,t){var s,a=i.I;if(a)for(s=[];a;a=a.I)s.push(a);if(i=i.P,a=t.type||t,"string"==typeof t)t=new zt(t,i);else if(t instanceof zt)t.target=t.target||i;else{var c=t;As(t=new zt(a,i),c)}if(c=!0,s)for(var p=s.length-1;0<=p;p--){var C=t.g=s[p];c=Xs(C,a,!0,t)&&c}if(c=Xs(C=t.g=i,a,!0,t)&&c,c=Xs(C,a,!1,t)&&c,s)for(p=0;p<s.length;p++)c=Xs(C=t.g=s[p],a,!1,t)&&c}function Xs(i,t,s,a){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var c=!0,p=0;p<t.length;++p){var C=t[p];if(C&&!C.ba&&C.capture==s){var N=C.listener,$=C.ha||C.src;C.ea&&Fn(i.i,C),c=!1!==N.call($,a)&&c}}return c&&!a.defaultPrevented}Je(vr,je),vr.prototype[Jn]=!0,vr.prototype.removeEventListener=function(i,t,s,a){Rr(this,i,t,s,a)},vr.prototype.M=function(){if(vr.X.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var s=i.g[t],a=0;a<s.length;a++)xt(s[a]);delete i.g[t],i.h--}}this.I=null},vr.prototype.N=function(i,t,s,a){return this.i.add(String(i),t,!1,s,a)},vr.prototype.O=function(i,t,s,a){return this.i.add(String(i),t,!0,s,a)};var ks=ee.JSON.stringify;function ve(){var i=ln;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var $e,oe=new class{constructor(i,t){this.i=i,this.j=t,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ce,i=>i.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(t,s){this.h=t,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function J(i){ee.setTimeout(()=>{throw i},0)}function we(i,t){$e||function Tt(){var i=ee.Promise.resolve(void 0);$e=function(){i.then(Un)}}(),pn||($e(),pn=!0),ln.add(i,t)}var pn=!1,ln=new class Se{constructor(){this.h=this.g=null}add(t,s){const a=oe.get();a.set(t,s),this.h?this.h.next=a:this.g=a,this.h=a}};function Un(){for(var i;i=ve();){try{i.h.call(i.g)}catch(s){J(s)}var t=oe;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}pn=!1}function sn(i,t){vr.call(this),this.h=i||1,this.g=t||ee,this.j=ht(this.lb,this),this.l=Date.now()}function Tr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Yr(i,t,s){if("function"==typeof i)s&&(i=ht(i,s));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ht(i.handleEvent,i)}return 2147483647<Number(t)?-1:ee.setTimeout(i,t||0)}function Hr(i){i.g=Yr(()=>{i.g=null,i.i&&(i.i=!1,Hr(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}Je(sn,vr),(z=sn.prototype).ca=!1,z.R=null,z.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fs(this,"tick"),this.ca&&(Tr(this),this.start()))}},z.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){sn.X.M.call(this),Tr(this),delete this.g};class Zr extends je{constructor(t,s){super(),this.m=t,this.j=s,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Hr(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(i){je.call(this),this.h=i,this.g={}}Je(cn,je);var it=[];function ze(i,t,s,a){Array.isArray(s)||(s&&(it[0]=s.toString()),s=it);for(var c=0;c<s.length;c++){var p=Ur(t,s[c],a||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function St(i){zr(i.g,function(t,s){this.g.hasOwnProperty(s)&&Er(t)},i),i.g={}}function qt(){this.g=!0}function mr(i,t,s,a){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function qr(i,t){if(!i.g)return t;if(!t)return null;try{var s=JSON.parse(t);if(s)for(i=0;i<s.length;i++)if(Array.isArray(s[i])){var a=s[i];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var C=1;C<c.length;C++)c[C]=""}}}return ks(s)}catch{return t}}(i,s)+(a?" "+a:"")})}cn.prototype.M=function(){cn.X.M.call(this),St(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qt.prototype.Aa=function(){this.g=!1},qt.prototype.info=function(){};var ss={},zi=null;function pi(){return zi=zi||new vr}function po(i){zt.call(this,ss.Pa,i)}function ai(i){const t=pi();fs(t,new po(t))}function Bn(i,t){zt.call(this,ss.STAT_EVENT,i),this.stat=t}function ir(i){const t=pi();fs(t,new Bn(t,i))}function ue(i,t){zt.call(this,ss.Qa,i),this.size=t}function de(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},t)}ss.Pa="serverreachability",Je(po,zt),ss.STAT_EVENT="statevent",Je(Bn,zt),ss.Qa="timingevent",Je(ue,zt);var me={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ve={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ft(){}function Vt(){}ft.prototype.h=null;var Ln,Sn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function un(){zt.call(this,"d")}function Sr(){zt.call(this,"c")}function tn(){}function jn(i,t,s,a){this.l=i,this.j=t,this.m=s,this.U=a||1,this.S=new cn(this),this.O=is,this.T=new sn(i=Ue?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Or}function Or(){this.i=null,this.g="",this.h=!1}Je(un,zt),Je(Sr,zt),Je(tn,ft),tn.prototype.g=function(){return new XMLHttpRequest},tn.prototype.i=function(){return{}},Ln=new tn;var is=45e3,bn={},Dr={};function os(i,t,s){i.K=1,i.v=Ys(Ss(t)),i.s=s,i.P=!0,Us(i,null)}function Us(i,t){i.F=Date.now(),Be(i),i.A=Ss(i.v);var s=i.A,a=i.U;Array.isArray(a)||(a=[String(a)]),Nr(s.i,"t",a),i.C=0,s=i.l.H,i.h=new Or,i.g=Pa(i.l,s?t:null,!i.s),0<i.N&&(i.L=new Zr(ht(i.La,i,i.g),i.N)),ze(i.S,i.g,"readystatechange",i.ib),t=i.H?Qr(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,t)):(i.u="GET",i.g.da(i.A,i.u,null,t)),ai(),function dn(i,t,s,a,c,p){i.info(function(){if(i.g)if(p)for(var C="",N=p.split("&"),$=0;$<N.length;$++){var Z=N[$].split("=");if(1<Z.length){var fe=Z[0];Z=Z[1];var Re=fe.split("_");C=2<=Re.length&&"type"==Re[1]?C+(fe+"=")+Z+"&":C+(fe+"=redacted&")}}else C=null;else C=p;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+t+"\n"+s+"\n"+C})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Pr(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function pe(i,t,s){let c,a=!0;for(;!i.I&&i.C<s.length;){if(c=Ke(i,s),c==Dr){4==t&&(i.o=4,ir(14),a=!1),mr(i.j,i.m,null,"[Incomplete Response]");break}if(c==bn){i.o=4,ir(15),mr(i.j,i.m,s,"[Invalid Chunk]"),a=!1;break}mr(i.j,i.m,c,null),br(i,c)}Pr(i)&&c!=Dr&&c!=bn&&(i.h.g="",i.C=0),4!=t||0!=s.length||i.h.h||(i.o=1,ir(16),a=!1),i.i=i.i&&a,a?0<s.length&&!i.$&&(i.$=!0,(t=i.l).g==i&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),oo(t),t.K=!0,ir(11))):(mr(i.j,i.m,s,"[Invalid Chunked Response]"),Mn(i),Qt(i))}function Ke(i,t){var s=i.C,a=t.indexOf("\n",s);return-1==a?Dr:(s=Number(t.substring(s,a)),isNaN(s)?bn:(a+=1)+s>t.length?Dr:(t=t.substr(a,s),i.C=a+s,t))}function Be(i){i.V=Date.now()+i.O,nt(i,i.O)}function nt(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=de(ht(i.gb,i),t)}function Pt(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Qt(i){0==i.l.G||i.I||So(i.l,i)}function Mn(i){Pt(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,Tr(i.T),St(i.S),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function br(i,t){try{var s=i.l;if(0!=s.G&&(s.g==i||wn(s.h,i)))if(!i.J&&wn(s.h,i)&&3==s.G){try{var a=s.Fa.g.parse(t)}catch{a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0]){e:if(!s.u){if(s.g){if(!(s.g.F+3e3<i.F))break e;Zi(s),H(s)}io(s),ir(18)}}else s.Ba=c[1],0<s.Ba-s.T&&37500>c[2]&&s.L&&0==s.A&&!s.v&&(s.v=de(ht(s.cb,s),6e3));if(1>=ro(s.h)&&s.ja){try{s.ja()}catch{}s.ja=void 0}}else Js(s,11)}else if((i.J||s.g==i)&&Zi(s),!pt(t))for(c=s.Fa.g.parse(t),t=0;t<c.length;t++){let Z=c[t];if(s.T=Z[0],Z=Z[1],2==s.G)if("c"==Z[0]){s.I=Z[1],s.ka=Z[2];const fe=Z[3];null!=fe&&(s.ma=fe,s.j.info("VER="+s.ma));const Re=Z[4];null!=Re&&(s.Ca=Re,s.j.info("SVER="+s.Ca));const et=Z[5];null!=et&&"number"==typeof et&&0<et&&(s.J=a=1.5*et,s.j.info("backChannelRequestTimeoutMs_="+a)),a=s;const It=i.g;if(It){const kt=It.g?It.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var p=a.h;p.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Io(p,p.h),p.h=null))}if(a.D){const nn=It.g?It.g.getResponseHeader("X-HTTP-Session-Id"):null;nn&&(a.za=nn,tr(a.F,a.D,nn))}}s.G=3,s.l&&s.l.xa(),s.$&&(s.P=Date.now()-i.F,s.j.info("Handshake RTT: "+s.P+"ms"));var C=i;if((a=s).sa=Nl(a,a.H?a.ka:null,a.V),C.J){Br(a.h,C);var N=C,$=a.J;$&&N.setTimeout($),N.B&&(Pt(N),Be(N)),a.g=C}else Bi(a);0<s.i.length&&x(s)}else"stop"!=Z[0]&&"close"!=Z[0]||Js(s,7);else 3==s.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Js(s,7):To(s):"noop"!=Z[0]&&s.l&&s.l.wa(Z),s.A=0)}ai()}catch{}}function on(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(Te(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var s=function ps(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Te(i)||"string"==typeof i){var t=[];i=i.length;for(var s=0;s<i;s++)t.push(s);return t}t=[],s=0;for(const a in i)t[s++]=a;return t}}}(i),a=function hn(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Te(i)){for(var t=[],s=i.length,a=0;a<s;a++)t.push(i[a]);return t}for(a in t=[],s=0,i)t[s++]=i[a];return t}(i),c=a.length,p=0;p<c;p++)t.call(void 0,a[p],s&&s[p],i)}(z=jn.prototype).setTimeout=function(i){this.O=i},z.ib=function(i){i=i.target;const t=this.L;t&&3==Ns(i)?t.l():this.La(i)},z.La=function(i){try{if(i==this.g)e:{const fe=Ns(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>fe)&&(3!=fe||Ue||this.g&&(this.h.h||this.g.fa()||Ui(this.g)))){this.I||4!=fe||7==t||ai(),Pt(this);var s=this.g.aa();this.Y=s;t:if(Pr(this)){var a=Ui(this.g);i="";var c=a.length,p=4==Ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Qt(this);var C="";break t}this.h.i=new ee.TextDecoder}for(t=0;t<c;t++)this.h.h=!0,i+=this.h.i.decode(a[t],{stream:p&&t==c-1});a.splice(0,c),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==s,function Yt(i,t,s,a,c,p,C){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+t+"\n"+s+"\n"+p+" "+C})}(this.j,this.u,this.A,this.m,this.U,fe,s),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(N)){var Z=N;break t}}Z=null}if(!(s=Z)){this.i=!1,this.o=3,ir(12),Mn(this),Qt(this);break e}mr(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,br(this,s)}this.P?(pe(this,fe,C),Ue&&this.i&&3==fe&&(ze(this.S,this.T,"tick",this.hb),this.T.start())):(mr(this.j,this.m,C,null),br(this,C)),4==fe&&Mn(this),this.i&&!this.I&&(4==fe?So(this.l,this):(this.i=!1,Be(this)))}else 400==s&&0<C.indexOf("Unknown SID")?(this.o=3,ir(12)):(this.o=0,ir(13)),Mn(this),Qt(this)}}}catch{}},z.hb=function(){if(this.g){var i=Ns(this.g),t=this.g.fa();this.C<t.length&&(Pt(this),pe(this,i,t),this.i&&4!=i&&Be(this))}},z.cancel=function(){this.I=!0,Mn(this)},z.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function xr(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ai(),ir(17)),Mn(this),this.o=2,Qt(this)):nt(this,this.V-i)};var lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wi(i,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof wi){this.h=void 0!==t?t:i.h,li(this,i.j),this.s=i.s,this.g=i.g,Bs(this,i.m),this.l=i.l,t=i.i;var s=new Xt;s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),Fi(this,s),this.o=i.o}else i&&(s=String(i).match(lr))?(this.h=!!t,li(this,s[1]||"",!0),this.s=ki(s[2]||""),this.g=ki(s[3]||"",!0),Bs(this,s[4]),this.l=ki(s[5]||"",!0),Fi(this,s[6]||"",!0),this.o=ki(s[7]||"")):(this.h=!!t,this.i=new Xt(null,this.h))}function Ss(i){return new wi(i)}function li(i,t,s){i.j=s?ki(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function Bs(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function Fi(i,t,s){t instanceof Xt?(i.i=t,function nl(i,t){t&&!i.j&&(Qi(i),i.i=null,i.g.forEach(function(s,a){var c=a.toLowerCase();a!=c&&(Fo(this,a),Nr(this,c,s))},i)),i.j=t}(i.i,i.h)):(s||(t=Ni(t,gs)),i.i=new Xt(t,i.h))}function tr(i,t,s){i.i.set(t,s)}function Ys(i){return tr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ki(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ni(i,t,s){return"string"==typeof i?(i=encodeURI(i).replace(t,xo),s&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function xo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}wi.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Ni(t,Po,!0),":");var s=this.g;return(s||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Ni(t,Po,!0),"@"),i.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.m)&&i.push(":",String(s))),(s=this.l)&&(this.g&&"/"!=s.charAt(0)&&i.push("/"),i.push(Ni(s,"/"==s.charAt(0)?to:ni,!0))),(s=this.i.toString())&&i.push("?",s),(s=this.o)&&i.push("#",Ni(s,Ra)),i.join("")};var Po=/[#\/\?@]/g,ni=/[#\?:]/g,to=/[#\?]/g,gs=/[#\?@]/g,Ra=/#/g;function Xt(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function Qi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Jo(i,t){if(i){i=i.split("&");for(var s=0;s<i.length;s++){var a=i[s].indexOf("="),c=null;if(0<=a){var p=i[s].substring(0,a);c=i[s].substring(a+1)}else p=i[s];t(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(t,s){i.add(decodeURIComponent(t.replace(/\+/g," ")),s)}))}function Fo(i,t){Qi(i),t=go(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function wo(i,t){return Qi(i),t=go(i,t),i.g.has(t)}function Nr(i,t,s){Fo(i,t),0<s.length&&(i.i=null,i.g.set(go(i,t),Kt(s)),i.h+=s.length)}function go(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(z=Xt.prototype).add=function(i,t){Qi(this),this.i=null,i=go(this,i);var s=this.g.get(i);return s||this.g.set(i,s=[]),s.push(t),this.h+=1,this},z.forEach=function(i,t){Qi(this),this.g.forEach(function(s,a){s.forEach(function(c){i.call(t,c,a,this)},this)},this)},z.oa=function(){Qi(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),s=[];for(let a=0;a<t.length;a++){const c=i[a];for(let p=0;p<c.length;p++)s.push(t[a])}return s},z.W=function(i){Qi(this);let t=[];if("string"==typeof i)wo(this,i)&&(t=t.concat(this.g.get(go(this,i))));else{i=Array.from(this.g.values());for(let s=0;s<i.length;s++)t=t.concat(i[s])}return t},z.set=function(i,t){return Qi(this),this.i=null,wo(this,i=go(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},z.get=function(i,t){return i&&0<(i=this.W(i)).length?String(i[0]):t},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var s=0;s<t.length;s++){var a=t[s];const p=encodeURIComponent(String(a)),C=this.W(a);for(a=0;a<C.length;a++){var c=p;""!==C[a]&&(c+="="+encodeURIComponent(String(C[a]))),i.push(c)}}return this.i=i.join("&")};var ko=class{constructor(i,t){this.h=i,this.g=t}};function no(i){this.l=i||Da,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ga&&ee.g.Ga()&&ee.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Da=10;function Zs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ro(i){return i.h?1:i.g?i.g.size:0}function wn(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function Io(i,t){i.g?i.g.add(t):i.h=t}function Br(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function mo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const s of i.g.values())t=t.concat(s.D);return t}return Kt(i.i)}function Fr(){}function ci(){this.g=new Fr}function Lo(i,t,s){const a=s||"";try{on(i,function(c,p){let C=c;Fe(c)&&(C=ks(c)),t.push(a+p+"="+encodeURIComponent(C))})}catch(c){throw t.push(a+"type="+encodeURIComponent("_badmap")),c}}function Vo(i,t,s,a,c){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,c(a)}catch{}}function ui(i){this.l=i.ac||null,this.j=i.jb||!1}function Uo(i,t){vr.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=Os,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}no.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Fr.prototype.stringify=function(i){return ee.JSON.stringify(i,void 0)},Fr.prototype.parse=function(i){return ee.JSON.parse(i,void 0)},Je(ui,ft),ui.prototype.g=function(){return new Uo(this.l,this.j)},ui.prototype.i=function(i){return function(){return i}}({}),Je(Uo,vr);var Os=0;function Bo(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Xi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Li(i)}function Li(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(z=Uo.prototype).open=function(i,t){if(this.readyState!=Os)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,Li(this)},z.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||ee).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xi(this)),this.readyState=Os},z.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bo(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},z.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Xi(this):Li(this),3==this.readyState&&Bo(this)}},z.Va=function(i){this.g&&(this.response=this.responseText=i,Xi(this))},z.Ua=function(i){this.g&&(this.response=i,Xi(this))},z.ga=function(){this.g&&Xi(this)},z.setRequestHeader=function(i,t){this.v.append(i,t)},z.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var s=t.next();!s.done;)i.push((s=s.value)[0]+": "+s[1]),s=t.next();return i.join("\r\n")},Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ea=ee.JSON.parse;function cr(i){vr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mr,this.K=this.L=!1}Je(cr,vr);var Mr="",Ti=/^https?$/i,gi=["POST","PUT"];function za(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,js(i),Ds(i)}function js(i){i.D||(i.D=!0,fs(i,"complete"),fs(i,"error"))}function zn(i){if(i.h&&typeof ie<"u"&&(!i.C[1]||4!=Ns(i)||2!=i.aa()))if(i.v&&4==Ns(i))Yr(i.Ha,0,i);else if(fs(i,"readystatechange"),4==Ns(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var s;if(!(s=t)){var a;if(a=0===N){var c=String(i.H).match(lr)[1]||null;if(!c&&ee.self&&ee.self.location){var p=ee.self.location.protocol;c=p.substr(0,p.length-1)}a=!Ti.test(c?c.toLowerCase():"")}s=a}if(s)fs(i,"complete"),fs(i,"success");else{i.m=6;try{var C=2<Ns(i)?i.g.statusText:""}catch{C=""}i.j=C+" ["+i.aa()+"]",js(i)}}finally{Ds(i)}}}function Ds(i,t){if(i.g){qs(i);const s=i.g,a=i.C[0]?ne:null;i.g=null,i.C=null,t||fs(i,"ready");try{s.onreadystatechange=a}catch{}}}function qs(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function Ns(i){return i.g?i.g.readyState:0}function Ui(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Mr:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function rl(i){let t="";return zr(i,function(s,a){t+=a,t+=":",t+=s,t+="\r\n"}),t}function Yi(i,t,s){e:{for(a in s){var a=!1;break e}a=!0}a||(s=rl(s),"string"==typeof i?null!=s&&encodeURIComponent(String(s)):tr(i,t,s))}function so(i,t,s){return s&&s.internalChannelParams&&s.internalChannelParams[i]||t}function Ca(i){this.Ca=0,this.i=[],this.j=new qt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=so("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=so("baseRetryDelayMs",5e3,i),this.bb=so("retryDelaySeedMs",1e4,i),this.$a=so("forwardChannelMaxRetries",2,i),this.ta=so("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new no(i&&i.concurrentRequestLimit),this.Fa=new ci,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function To(i){if(K(i),3==i.G){var t=i.U++,s=Ss(i.F);tr(s,"SID",i.I),tr(s,"RID",t),tr(s,"TYPE","terminate"),an(i,s),(t=new jn(i,i.j,t,void 0)).K=2,t.v=Ys(Ss(s)),s=!1,ee.navigator&&ee.navigator.sendBeacon&&(s=ee.navigator.sendBeacon(t.v.toString(),"")),!s&&ee.Image&&((new Image).src=t.v,s=!0),s||(t.g=Pa(t.l,null),t.g.da(t.v)),t.F=Date.now(),Be(t)}xa(i)}function H(i){i.g&&(oo(i),i.g.cancel(),i.g=null)}function K(i){H(i),i.u&&(ee.clearTimeout(i.u),i.u=null),Zi(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function x(i){Zs(i.h)||i.m||(i.m=!0,we(i.Ja,i),i.C=0)}function Ne(i,t){var s;s=t?t.m:i.U++;const a=Ss(i.F);tr(a,"SID",i.I),tr(a,"RID",s),tr(a,"AID",i.T),an(i,a),i.o&&i.s&&Yi(a,i.o,i.s),s=new jn(i,i.j,s,i.C+1),null===i.o&&(s.H=i.s),t&&(i.i=t.D.concat(i.i)),t=In(i,s,1e3),s.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Io(i.h,s),os(s,a,t)}function an(i,t){i.ia&&zr(i.ia,function(s,a){tr(t,a,s)}),i.l&&on({},function(s,a){tr(t,a,s)})}function In(i,t,s){s=Math.min(i.i.length,s);var a=i.l?ht(i.l.Ra,i.l,i):null;e:{var c=i.i;let p=-1;for(;;){const C=["count="+s];-1==p?0<s?(p=c[0].h,C.push("ofs="+p)):p=0:C.push("ofs="+p);let N=!0;for(let $=0;$<s;$++){let Z=c[$].h;const fe=c[$].g;if(Z-=p,0>Z)p=Math.max(0,c[$].h-100),N=!1;else try{Lo(fe,C,"req"+Z+"_")}catch{a&&a(fe)}}if(N){a=C.join("&");break e}}}return i=i.i.splice(0,s),t.D=i,a}function Bi(i){i.g||i.u||(i.Z=1,we(i.Ia,i),i.A=0)}function io(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=de(ht(i.Ia,i),ri(i,i.A)),i.A++,0))}function oo(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function ta(i){i.g=new jn(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var t=Ss(i.sa);tr(t,"RID","rpc"),tr(t,"SID",i.I),tr(t,"CI",i.L?"0":"1"),tr(t,"AID",i.T),tr(t,"TYPE","xmlhttp"),an(i,t),i.o&&i.s&&Yi(t,i.o,i.s),i.J&&i.g.setTimeout(i.J);var s=i.g;i=i.ka,s.K=1,s.v=Ys(Ss(t)),s.s=null,s.P=!0,Us(s,i)}function Zi(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function So(i,t){var s=null;if(i.g==t){Zi(i),oo(i),i.g=null;var a=2}else{if(!wn(i.h,t))return;s=t.D,Br(i.h,t),a=1}if(0!=i.G)if(i.pa=t.Y,t.i)if(1==a){s=t.s?t.s.length:0,t=Date.now()-t.F;var c=i.C;fs(a=pi(),new ue(a,s)),x(i)}else Bi(i);else if(3==(c=t.o)||0==c&&0<i.pa||!(1==a&&function re(i,t){return!(ro(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=t.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=de(ht(i.Ja,i,t),ri(i,i.C)),i.C++,0)))}(i,t)||2==a&&io(i)))switch(s&&0<s.length&&(t=i.h,t.i=t.i.concat(s)),c){case 1:Js(i,5);break;case 4:Js(i,10);break;case 3:Js(i,6);break;default:Js(i,2)}}function ri(i,t){let s=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(s*=2),s*t}function Js(i,t){if(i.j.info("Error code "+t),2==t){var s=null;i.l&&(s=null);var a=ht(i.kb,i);s||(s=new wi("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||li(s,"https"),Ys(s)),function Ii(i,t){const s=new qt;if(ee.Image){const a=new Image;a.onload=Rt(Vo,s,a,"TestLoadImage: loaded",!0,t),a.onerror=Rt(Vo,s,a,"TestLoadImage: error",!1,t),a.onabort=Rt(Vo,s,a,"TestLoadImage: abort",!1,t),a.ontimeout=Rt(Vo,s,a,"TestLoadImage: timeout",!1,t),ee.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else t(!1)}(s.toString(),a)}else ir(2);i.G=0,i.l&&i.l.va(t),xa(i),K(i)}function xa(i){if(i.G=0,i.la=[],i.l){const t=mo(i.h);(0!=t.length||0!=i.i.length)&&(Gt(i.la,t),Gt(i.la,i.i),i.h.i.length=0,Kt(i.i),i.i.length=0),i.l.ua()}}function Nl(i,t,s){var a=s instanceof wi?Ss(s):new wi(s,void 0);if(""!=a.g)t&&(a.g=t+"."+a.g),Bs(a,a.m);else{var c=ee.location;a=c.protocol,t=t?t+"."+c.hostname:c.hostname,c=+c.port;var p=new wi(null,void 0);a&&li(p,a),t&&(p.g=t),c&&Bs(p,c),s&&(p.l=s),a=p}return t=i.za,(s=i.D)&&t&&tr(a,s,t),tr(a,"VER",i.ma),an(i,a),a}function Pa(i,t,s){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new cr(s&&i.Da&&!i.ra?new ui({jb:!0}):i.ra)).Ka(i.H),t}function Fa(){}function wa(){if(dr&&!(10<=Number(Gn)))throw Error("Environmental error: no available transport.")}function Ls(i,t){vr.call(this),this.g=new Ca(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.S=i,(i=t&&t.Yb)&&!pt(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pt(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new $s(this)}function na(i){un.call(this);var t=i.__sm__;if(t){e:{for(const s in t){i=s;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function ka(){Sr.call(this),this.status=1}function $s(i){this.g=i}(z=cr.prototype).Ka=function(i){this.L=i},z.da=function(i,t,s,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ln.g(),this.C=function yt(i){return i.h||(i.h=i.i())}(this.u?this.u:Ln),this.g.onreadystatechange=ht(this.Ha,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(p){return void za(this,p)}if(i=s||"",s=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var c in a)s.set(c,a[c]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const p of a.keys())s.set(p,a.get(p))}a=Array.from(s.keys()).find(p=>"content-type"==p.toLowerCase()),c=ee.FormData&&i instanceof ee.FormData,!(0<=Ot(gi,t))||a||c||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,C]of s)this.g.setRequestHeader(p,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qs(this),0<this.B&&((this.K=function Vi(i){return dr&&function Kn(){return function _r(i){var t=Cn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=i(9)}(function(){let i=0;const t=tt(String(Et)).split("."),s=tt("9").split("."),a=Math.max(t.length,s.length);for(let C=0;0==i&&C<a;C++){var c=t[C]||"",p=s[C]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;i=Nt(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||Nt(0==c[2].length,0==p[2].length)||Nt(c[2],p[2]),c=c[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.qa,this)):this.A=Yr(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){za(this,p)}},z.qa=function(){typeof ie<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fs(this,"timeout"),this.abort(8))},z.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,fs(this,"complete"),fs(this,"abort"),Ds(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ds(this,!0)),cr.X.M.call(this)},z.Ha=function(){this.s||(this.F||this.v||this.l?zn(this):this.fb())},z.fb=function(){zn(this)},z.aa=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},z.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Sa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),ea(t)}},z.Ea=function(){return this.m},z.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=Ca.prototype).ma=8,z.G=1,z.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const c=new jn(this,this.j,i,void 0);let p=this.s;if(this.S&&(p?(p=Qr(p),As(p,this.S)):p=this.S),null!==this.o||this.N||(c.H=p,p=null),this.O)e:{for(var t=0,s=0;s<this.i.length;s++){var a=this.i[s];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(t+=a)){t=s;break e}if(4096===t||s===this.i.length-1){t=s+1;break e}}t=1e3}else t=1e3;t=In(this,c,t),tr(s=Ss(this.F),"RID",i),tr(s,"CVER",22),this.D&&tr(s,"X-HTTP-Session-Id",this.D),an(this,s),p&&(this.N?t="headers="+encodeURIComponent(String(rl(p)))+"&"+t:this.o&&Yi(s,this.o,p)),Io(this.h,c),this.Ya&&tr(s,"TYPE","init"),this.O?(tr(s,"$req",t),tr(s,"SID","null"),c.Z=!0,os(c,s,null)):os(c,s,t),this.G=2}}else 3==this.G&&(i?Ne(this,i):0==this.i.length||Zs(this.h)||Ne(this))},z.Ia=function(){if(this.u=null,ta(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=de(ht(this.eb,this),i)}},z.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ir(10),H(this),ta(this))},z.cb=function(){null!=this.v&&(this.v=null,H(this),io(this),ir(19))},z.kb=function(i){i?(this.j.info("Successfully pinged google.com"),ir(2)):(this.j.info("Failed to ping google.com"),ir(1))},(z=Fa.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Ra=function(){},wa.prototype.g=function(i,t){return new Ls(i,t)},Je(Ls,vr),Ls.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,s=this.h||void 0;ir(0),i.V=t,i.ia=s||{},i.L=i.Y,i.F=Nl(i,null,i.V),x(i)},Ls.prototype.close=function(){To(this.g)},Ls.prototype.u=function(i){var t=this.g;if("string"==typeof i){var s={};s.__data__=i,i=s}else this.v&&((s={}).__data__=ks(i),i=s);t.i.push(new ko(t.ab++,i)),3==t.G&&x(t)},Ls.prototype.M=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Ls.X.M.call(this)},Je(na,un),Je(ka,Sr),Je($s,Fa),$s.prototype.xa=function(){fs(this.g,"a")},$s.prototype.wa=function(i){fs(this.g,new na(i))},$s.prototype.va=function(i){fs(this.g,new ka)},$s.prototype.ua=function(){fs(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Ve.COMPLETE="complete",Vt.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",vr.prototype.listen=vr.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.Oa,cr.prototype.getLastErrorCode=cr.prototype.Ea,cr.prototype.getStatus=cr.prototype.aa,cr.prototype.getResponseJson=cr.prototype.Sa,cr.prototype.getResponseText=cr.prototype.fa,cr.prototype.send=cr.prototype.da,cr.prototype.setWithCredentials=cr.prototype.Ka;var ra=Q.createWebChannelTransport=function(){return new wa},sa=Q.getStatEventTarget=function(){return pi()},jo=Q.ErrorCode=me,Lr=Q.EventType=Ve,Hs=Q.Event=ss,sl=Q.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ia=Q.FetchXmlHttpFactory=ui,as=Q.WebChannel=Vt,Jr=Q.XhrIo=cr;const Ws="@firebase/firestore";class Wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let ao="9.17.1";const Si=new U.Vy("@firebase/firestore");function Ia(){return Si.logLevel}function Mt(i,...t){if(Si.logLevel<=U.$b.DEBUG){const s=t.map(La);Si.debug(`Firestore (${ao}): ${i}`,...s)}}function ei(i,...t){if(Si.logLevel<=U.$b.ERROR){const s=t.map(La);Si.error(`Firestore (${ao}): ${i}`,...s)}}function bo(i,...t){if(Si.logLevel<=U.$b.WARN){const s=t.map(La);Si.warn(`Firestore (${ao}): ${i}`,...s)}}function La(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Ft(i="Unexpected state"){const t=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+i;throw ei(t),new Error(t)}function Ye(i,t){i||Ft()}function At(i,t){return i}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends W.g{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}class Ta{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ls{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(Wr.UNAUTHENTICATED))}shutdown(){}}class si{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class $o{constructor(t){this.t=t,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){var a=this;let c=this.i;const p=Z=>this.i!==c?(c=this.i,s(Z)):Promise.resolve();let C=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Cr,t.enqueueRetryable(()=>p(this.currentUser))};const N=()=>{const Z=C;t.enqueueRetryable((0,_.A)(function*(){yield Z.promise,yield p(a.currentUser)}))},$=Z=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(Z=>$(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?$(Z):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Cr)}},0),N()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye("string"==typeof a.accessToken),new Ta(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ye(null===t||"string"==typeof t),new Wr(t)}}class Vn{constructor(t,s,a,c){this.h=t,this.l=s,this.m=a,this.g=c,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ye(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class oa{constructor(t,s,a,c){this.h=t,this.l=s,this.m=a,this.g=c}getToken(){return Promise.resolve(new Vn(this.h,this.l,this.m,this.g))}start(t,s){t.enqueueRetryable(()=>s(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Va{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ua{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,s){const a=p=>{null!=p.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const C=p.token!==this.A;return this.A=p.token,Mt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?s(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>a(p))};const c=p=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?c(p):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(Ye("string"==typeof s.token),this.A=s.token,new Va(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aa(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(s);else for(let a=0;a<i;a++)s[a]=Math.floor(256*Math.random());return s}class Ho{static R(){const s=62*Math.floor(256/62);let a="";for(;a.length<20;){const c=aa(40);for(let p=0;p<c.length;++p)a.length<20&&c[p]<s&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return a}}function _n(i,t){return i<t?-1:i>t?1:0}function ji(i,t,s){return i.length===t.length&&i.every((a,c)=>s(a,t[c]))}function il(i){return i+"\0"}class es{constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new _t(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new _t(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<-62135596800)throw new _t(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return es.fromMillis(Date.now())}static fromDate(t){return es.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*s));return new es(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class S{constructor(t){this.timestamp=t}static fromTimestamp(t){return new S(t)}static min(){return new S(new es(0,0))}static max(){return new S(new es(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class X{constructor(t,s,a){void 0===s?s=0:s>t.length&&Ft(),void 0===a?a=t.length-s:a>t.length-s&&Ft(),this.segments=t,this.offset=s,this.len=a}get length(){return this.len}isEqual(t){return 0===X.comparator(this,t)}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof X?t.forEach(a=>{s.push(a)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,a=this.limit();s<a;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const a=Math.min(t.length,s.length);for(let c=0;c<a;c++){const p=t.get(c),C=s.get(c);if(p<C)return-1;if(p>C)return 1}return t.length<s.length?-1:t.length>s.length?1:0}}class R extends X{construct(t,s,a){return new R(t,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const s=[];for(const a of t){if(a.indexOf("//")>=0)throw new _t(qe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(c=>c.length>0))}return new R(s)}static emptyPath(){return new R([])}}const V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class he extends X{construct(t,s,a){return new he(t,s,a)}static isValidIdentifier(t){return V.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),he.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new he(["__name__"])}static fromServerFormat(t){const s=[];let a="",c=0;const p=()=>{if(0===a.length)throw new _t(qe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let C=!1;for(;c<t.length;){const N=t[c];if("\\"===N){if(c+1===t.length)throw new _t(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const $=t[c+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new _t(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=$,c+=2}else"`"===N?(C=!C,c++):"."!==N||C?(a+=N,c++):(p(),c++)}if(p(),C)throw new _t(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new he(s)}static emptyPath(){return new he([])}}class Me{constructor(t){this.path=t}static fromPath(t){return new Me(R.fromString(t))}static fromName(t){return new Me(R.fromString(t).popFirst(5))}static empty(){return new Me(R.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===R.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,s){return R.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Me(new R(t.slice()))}}class ot{constructor(t,s,a,c){this.indexId=t,this.collectionGroup=s,this.fields=a,this.indexState=c}}function Ut(i){return i.fields.find(t=>2===t.kind)}function nr(i){return i.fields.filter(t=>2!==t.kind)}ot.UNKNOWN_ID=-1;class Yn{constructor(t,s){this.fieldPath=t,this.kind=s}}class $n{constructor(t,s){this.sequenceNumber=t,this.offset=s}static empty(){return new $n(0,_s.min())}}function vs(i){return new _s(i.readTime,i.key,-1)}class _s{constructor(t,s,a){this.readTime=t,this.documentKey=s,this.largestBatchId=a}static min(){return new _s(S.min(),Me.empty(),-1)}static max(){return new _s(S.max(),Me.empty(),-1)}}function Vs(i,t){let s=i.readTime.compareTo(t.readTime);return 0!==s?s:(s=Me.comparator(i.documentKey,t.documentKey),0!==s?s:_n(i.largestBatchId,t.largestBatchId))}const $i="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Wo(i){return qi.apply(this,arguments)}function qi(){return qi=(0,_.A)(function*(i){if(i.code!==qe.FAILED_PRECONDITION||i.message!==$i)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}),qi.apply(this,arguments)}class Qe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new Qe((a,c)=>{this.nextCallback=p=>{this.wrapSuccess(t,p).next(a,c)},this.catchCallback=p=>{this.wrapFailure(s,p).next(a,c)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof Qe?s:Qe.resolve(s)}catch(s){return Qe.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):Qe.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):Qe.reject(s)}static resolve(t){return new Qe((s,a)=>{s(t)})}static reject(t){return new Qe((s,a)=>{a(t)})}static waitFor(t){return new Qe((s,a)=>{let c=0,p=0,C=!1;t.forEach(N=>{++c,N.next(()=>{++p,C&&p===c&&s()},$=>a($))}),C=!0,p===c&&s()})}static or(t){let s=Qe.resolve(!1);for(const a of t)s=s.next(c=>c?Qe.resolve(c):a());return s}static forEach(t,s){const a=[];return t.forEach((c,p)=>{a.push(s.call(this,c,p))}),this.waitFor(a)}static mapArray(t,s){return new Qe((a,c)=>{const p=t.length,C=new Array(p);let N=0;for(let $=0;$<p;$++){const Z=$;s(t[Z]).next(fe=>{C[Z]=fe,++N,N===p&&a(C)},fe=>c(fe))}})}static doWhile(t,s){return new Qe((a,c)=>{const p=()=>{!0===t()?s().next(()=>{p()},c):a()};p()})}}class Hi{constructor(t,s){this.action=t,this.transaction=s,this.aborted=!1,this.P=new Cr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{s.error?this.P.reject(new Rl(t,s.error)):this.P.resolve()},this.transaction.onerror=a=>{const c=eu(a.target.error);this.P.reject(new Rl(t,c))}}static open(t,s,a,c){try{return new Hi(s,t.transaction(c,a))}catch(p){throw new Rl(s,p)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Mt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const s=this.transaction.objectStore(t);return new Jc(s)}}class Wi{constructor(t,s,a){this.name=t,this.version=s,this.S=a,12.2===Wi.D((0,W.ZQ)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Mt("SimpleDb","Removing database:",t),Sa(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,W.zW)())return!1;if(Wi.N())return!0;const t=(0,W.ZQ)(),s=Wi.D(t),a=0<s&&s<10,c=Wi.k(t),p=0<c&&c<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||a||p)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,s){return t.store(s)}static D(t){const s=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(t){const s=t.match(/Android ([\d.]+)/i),a=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(t){var s=this;return(0,_.A)(function*(){return s.db||(Mt("SimpleDb","Opening database:",s.name),s.db=yield new Promise((a,c)=>{const p=indexedDB.open(s.name,s.version);p.onsuccess=C=>{a(C.target.result)},p.onblocked=()=>{c(new Rl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=C=>{const N=C.target.error;c("VersionError"===N.name?new _t(qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new _t(qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Rl(t,N))},p.onupgradeneeded=C=>{Mt("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',C.oldVersion),s.S.$(C.target.result,p.transaction,C.oldVersion,s.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.B&&(s.db.onversionchange=a=>s.B(a)),s.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=s=>t(s))}runTransaction(t,s,a,c){var p=this;return(0,_.A)(function*(){const C="readonly"===s;let N=0;for(;;){++N;try{p.db=yield p.F(t);const $=Hi.open(p.db,t,C?"readonly":"readwrite",a),Z=c($).next(fe=>($.V(),fe)).catch(fe=>($.abort(fe),Qe.reject(fe))).toPromise();return Z.catch(()=>{}),yield $.v,Z}catch($){const Z=$,fe="FirebaseError"!==Z.name&&N<3;if(Mt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",fe),p.close(),!fe)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cf{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return Sa(this.q.delete())}}class Rl extends _t{constructor(t,s){super(qe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Ko(i){return"IndexedDbTransactionError"===i.name}class Jc{constructor(t){this.store=t}put(t,s){let a;return void 0!==s?(Mt("SimpleDb","PUT",this.store.name,t,s),a=this.store.put(s,t)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",t),a=this.store.put(t)),Sa(a)}add(t){return Mt("SimpleDb","ADD",this.store.name,t,t),Sa(this.store.add(t))}get(t){return Sa(this.store.get(t)).next(s=>(void 0===s&&(s=null),Mt("SimpleDb","GET",this.store.name,t,s),s))}delete(t){return Mt("SimpleDb","DELETE",this.store.name,t),Sa(this.store.delete(t))}count(){return Mt("SimpleDb","COUNT",this.store.name),Sa(this.store.count())}W(t,s){const a=this.options(t,s);if(a.index||"function"!=typeof this.store.getAll){const c=this.cursor(a),p=[];return this.H(c,(C,N)=>{p.push(N)}).next(()=>p)}{const c=this.store.getAll(a.range);return new Qe((p,C)=>{c.onerror=N=>{C(N.target.error)},c.onsuccess=N=>{p(N.target.result)}})}}J(t,s){const a=this.store.getAll(t,null===s?void 0:s);return new Qe((c,p)=>{a.onerror=C=>{p(C.target.error)},a.onsuccess=C=>{c(C.target.result)}})}Y(t,s){Mt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(t,s);a.X=!1;const c=this.cursor(a);return this.H(c,(p,C,N)=>N.delete())}Z(t,s){let a;s?a=t:(a={},s=t);const c=this.cursor(a);return this.H(c,s)}tt(t){const s=this.cursor({});return new Qe((a,c)=>{s.onerror=p=>{const C=eu(p.target.error);c(C)},s.onsuccess=p=>{const C=p.target.result;C?t(C.primaryKey,C.value).next(N=>{N?C.continue():a()}):a()}})}H(t,s){const a=[];return new Qe((c,p)=>{t.onerror=C=>{p(C.target.error)},t.onsuccess=C=>{const N=C.target.result;if(!N)return void c();const $=new cf(N),Z=s(N.primaryKey,N.value,$);if(Z instanceof Qe){const fe=Z.catch(Re=>($.done(),Qe.reject(Re)));a.push(fe)}$.isDone?c():null===$.G?N.continue():N.continue($.G)}}).next(()=>Qe.waitFor(a))}options(t,s){let a;return void 0!==t&&("string"==typeof t?a=t:s=t),{index:a,range:s}}cursor(t){let s="next";if(t.reverse&&(s="prev"),t.index){const a=this.store.index(t.index);return t.X?a.openKeyCursor(t.range,s):a.openCursor(t.range,s)}return this.store.openCursor(t.range,s)}}function Sa(i){return new Qe((t,s)=>{i.onsuccess=a=>{t(a.target.result)},i.onerror=a=>{const c=eu(a.target.error);s(c)}})}let Mc=!1;function eu(i){const t=Wi.D((0,W.ZQ)());if(t>=12.2&&t<13){const s="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(s)>=0){const a=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mc||(Mc=!0,setTimeout(()=>{throw a},0)),a}}return i}class Au{constructor(t,s){this.asyncQueue=t,this.et=s,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var s=this;Mt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,_.A)(function*(){s.task=null;try{Mt("IndexBackiller",`Documents written: ${yield s.et.st()}`)}catch(a){Ko(a)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Wo(a)}yield s.nt(6e4)}))}}class tu{constructor(t,s){this.localStore=t,this.persistence=s}st(t=50){var s=this;return(0,_.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>s.it(a,t))})()}it(t,s){const a=new Set;let c=s,p=!0;return Qe.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(C=>{if(null!==C&&!a.has(C))return Mt("IndexBackiller",`Processing collection: ${C}`),this.rt(t,C,c).next(N=>{c-=N,a.add(C)});p=!1})).next(()=>s-c)}rt(t,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,s).next(c=>this.localStore.localDocuments.getNextDocuments(t,s,c,a).next(p=>{const C=p.changes;return this.localStore.indexManager.updateIndexEntries(t,C).next(()=>this.ot(c,p)).next(N=>(Mt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(t,s,N))).next(()=>C.size)}))}ot(t,s){let a=t;return s.changes.forEach((c,p)=>{const C=vs(p);Vs(C,a)>0&&(a=C)}),new _s(a.readTime,a.documentKey,Math.max(s.batchId,t.largestBatchId))}}let Ao=(()=>{class i{constructor(s,a){this.previousValue=s,a&&(a.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>a.writeSequenceNumber(c))}ut(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.ct&&this.ct(s),s}}return i.at=-1,i})();class Ac{constructor(t,s,a,c,p,C,N,$){this.databaseId=t,this.appId=s,this.persistenceKey=a,this.host=c,this.ssl=p,this.forceLongPolling=C,this.autoDetectLongPolling=N,this.useFetchStreams=$}}class yo{constructor(t,s){this.projectId=t,this.database=s||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof yo&&t.projectId===this.projectId&&t.database===this.database}}function ba(i){let t=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t++;return t}function Go(i,t){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t(s,i[s])}function sc(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function la(i){return null==i}function Ba(i){return 0===i&&1/i==-1/0}class di{constructor(t){this.binaryString=t}static fromBase64String(t){const s=atob(t);return new di(s)}static fromUint8Array(t){const s=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(t);return new di(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}di.EMPTY_BYTE_STRING=new di("");const nu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(i){if(Ye(!!i),"string"==typeof i){let t=0;const s=nu.exec(i);if(Ye(!!s),s[1]){let c=s[1];c=(c+"000000000").substr(0,9),t=Number(c)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ks(i.seconds),nanos:Ks(i.nanos)}}function Ks(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ol(i){return"string"==typeof i?di.fromBase64String(i):di.fromUint8Array(i)}function zo(i){var t,s;return"server_timestamp"===(null===(s=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function al(i){const t=i.mapValue.fields.__previous_value__;return zo(t)?al(t):t}function ic(i){const t=Ma(i.mapValue.fields.__local_write_time__.timestampValue);return new es(t.seconds,t.nanos)}const ja={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Oc={nullValue:"NULL_VALUE"};function Ri(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?zo(i)?4:gn(i)?9007199254740991:10:Ft()}function ca(i,t){if(i===t)return!0;const s=Ri(i);if(s!==Ri(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ic(i).isEqual(ic(t));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Ma(a.timestampValue),C=Ma(c.timestampValue);return p.seconds===C.seconds&&p.nanos===C.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return c=t,ol(i.bytesValue).isEqual(ol(c.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(a,c){return Ks(a.geoPointValue.latitude)===Ks(c.geoPointValue.latitude)&&Ks(a.geoPointValue.longitude)===Ks(c.geoPointValue.longitude)}(i,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Ks(a.integerValue)===Ks(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=Ks(a.doubleValue),C=Ks(c.doubleValue);return p===C?Ba(p)===Ba(C):isNaN(p)&&isNaN(C)}return!1}(i,t);case 9:return ji(i.arrayValue.values||[],t.arrayValue.values||[],ca);case 10:return function(a,c){const p=a.mapValue.fields||{},C=c.mapValue.fields||{};if(ba(p)!==ba(C))return!1;for(const N in p)if(p.hasOwnProperty(N)&&(void 0===C[N]||!ca(p[N],C[N])))return!1;return!0}(i,t);default:return Ft()}var c}function ll(i,t){return void 0!==(i.values||[]).find(s=>ca(s,t))}function or(i,t){if(i===t)return 0;const s=Ri(i),a=Ri(t);if(s!==a)return _n(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return _n(i.booleanValue,t.booleanValue);case 2:return function(c,p){const C=Ks(c.integerValue||c.doubleValue),N=Ks(p.integerValue||p.doubleValue);return C<N?-1:C>N?1:C===N?0:isNaN(C)?isNaN(N)?0:-1:1}(i,t);case 3:return T(i.timestampValue,t.timestampValue);case 4:return T(ic(i),ic(t));case 5:return _n(i.stringValue,t.stringValue);case 6:return function(c,p){const C=ol(c),N=ol(p);return C.compareTo(N)}(i.bytesValue,t.bytesValue);case 7:return function(c,p){const C=c.split("/"),N=p.split("/");for(let $=0;$<C.length&&$<N.length;$++){const Z=_n(C[$],N[$]);if(0!==Z)return Z}return _n(C.length,N.length)}(i.referenceValue,t.referenceValue);case 8:return function(c,p){const C=_n(Ks(c.latitude),Ks(p.latitude));return 0!==C?C:_n(Ks(c.longitude),Ks(p.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(c,p){const C=c.values||[],N=p.values||[];for(let $=0;$<C.length&&$<N.length;++$){const Z=or(C[$],N[$]);if(Z)return Z}return _n(C.length,N.length)}(i.arrayValue,t.arrayValue);case 10:return function(c,p){if(c===ja.mapValue&&p===ja.mapValue)return 0;if(c===ja.mapValue)return 1;if(p===ja.mapValue)return-1;const C=c.fields||{},N=Object.keys(C),$=p.fields||{},Z=Object.keys($);N.sort(),Z.sort();for(let fe=0;fe<N.length&&fe<Z.length;++fe){const Re=_n(N[fe],Z[fe]);if(0!==Re)return Re;const et=or(C[N[fe]],$[Z[fe]]);if(0!==et)return et}return _n(N.length,Z.length)}(i.mapValue,t.mapValue);default:throw Ft()}}function T(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return _n(i,t);const s=Ma(i),a=Ma(t),c=_n(s.seconds,a.seconds);return 0!==c?c:_n(s.nanos,a.nanos)}function F(i){return M(i)}function M(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const c=Ma(a);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ol(i.bytesValue).toBase64():"referenceValue"in i?Me.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(a){let c="[",p=!0;for(const C of a.values||[])p?p=!1:c+=",",c+=M(C);return c+"]"}(i.arrayValue):"mapValue"in i?function(a){const c=Object.keys(a.fields||{}).sort();let p="{",C=!0;for(const N of c)C?C=!1:p+=",",p+=`${N}:${M(a.fields[N])}`;return p+"}"}(i.mapValue):Ft();var t}function k(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function G(i){return!!i&&"integerValue"in i}function ae(i){return!!i&&"arrayValue"in i}function De(i){return!!i&&"nullValue"in i}function rt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function We(i){return!!i&&"mapValue"in i}function Wt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Go(i.mapValue.fields,(s,a)=>t.mapValue.fields[s]=Wt(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=Wt(i.arrayValue.values[s]);return t}return Object.assign({},i)}function gn(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function fr(i){return"nullValue"in i?Oc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?k(yo.empty(),Me.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Ft()}function cs(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?k(yo.empty(),Me.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ja:Ft()}function Qo(i,t){const s=or(i.value,t.value);return 0!==s?s:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function bi(i,t){const s=or(i.value,t.value);return 0!==s?s:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class xi{constructor(t,s){this.position=t,this.inclusive=s}}function mi(i,t,s){let a=0;for(let c=0;c<i.position.length;c++){const p=t[c],C=i.position[c];if(a=p.field.isKeyField()?Me.comparator(Me.fromName(C.referenceValue),s.key):or(C,s.data.field(p.field)),"desc"===p.dir&&(a*=-1),0!==a)break}return a}function ua(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!ca(i.position[s],t.position[s]))return!1;return!0}class oc{}class Xn extends oc{constructor(t,s,a){super(),this.field=t,this.op=s,this.value=a}static create(t,s,a){return t.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(t,s,a):new yl(t,s,a):"array-contains"===s?new Qa(t,a):"in"===s?new Fl(t,a):"not-in"===s?new lt(t,a):"array-contains-any"===s?new rr(t,a):new Xn(t,s,a)}static createKeyFieldInFilter(t,s,a){return"in"===s?new oh(t,a):new xc(t,a)}matches(t){const s=t.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(or(s,this.value)):null!==s&&Ri(this.value)===Ri(s)&&this.matchesComparison(or(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends oc{constructor(t,s){super(),this.filters=t,this.op=s,this.ht=null}static create(t,s){return new rn(t,s)}matches(t){return $a(this)?void 0===this.filters.find(s=>!s.matches(t)):void 0!==this.filters.find(s=>s.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(s=>s.isInequality());return null!==t?t.field:null}lt(t){for(const s of this.getFlattenedFilters())if(t(s))return s;return null}}function $a(i){return"and"===i.op}function ac(i){return"or"===i.op}function Pl(i){return Ou(i)&&$a(i)}function Ou(i){for(const t of i.filters)if(t instanceof rn)return!1;return!0}function lc(i){if(i instanceof Xn)return i.field.canonicalString()+i.op.toString()+F(i.value);if(Pl(i))return i.filters.map(t=>lc(t)).join(",");{const t=i.filters.map(s=>lc(s)).join(",");return`${i.op}(${t})`}}function Nc(i,t){return i instanceof Xn?(s=i,(a=t)instanceof Xn&&s.op===a.op&&s.field.isEqual(a.field)&&ca(s.value,a.value)):i instanceof rn?function(s,a){return a instanceof rn&&s.op===a.op&&s.filters.length===a.filters.length&&s.filters.reduce((c,p,C)=>c&&Nc(p,a.filters[C]),!0)}(i,t):void Ft();var s,a}function Ha(i,t){const s=i.filters.concat(t);return rn.create(s,i.op)}function Rc(i){return i instanceof Xn?`${(t=i).field.canonicalString()} ${t.op} ${F(t.value)}`:i instanceof rn?function(t){return t.op.toString()+" {"+t.getFilters().map(Rc).join(" ,")+"}"}(i):"Filter";var t}class yl extends Xn{constructor(t,s,a){super(t,s,a),this.key=Me.fromName(a.referenceValue)}matches(t){const s=Me.comparator(t.key,this.key);return this.matchesComparison(s)}}class oh extends Xn{constructor(t,s){super(t,"in",s),this.keys=Nu(0,s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class xc extends Xn{constructor(t,s){super(t,"not-in",s),this.keys=Nu(0,s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function Nu(i,t){var s;return((null===(s=t.arrayValue)||void 0===s?void 0:s.values)||[]).map(a=>Me.fromName(a.referenceValue))}class Qa extends Xn{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return ae(s)&&ll(s.arrayValue,this.value)}}class Fl extends Xn{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return null!==s&&ll(this.value.arrayValue,s)}}class lt extends Xn{constructor(t,s){super(t,"not-in",s)}matches(t){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return null!==s&&!ll(this.value.arrayValue,s)}}class rr extends Xn{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!ae(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>ll(this.value.arrayValue,a))}}class kl{constructor(t,s="asc"){this.field=t,this.dir=s}}function hd(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class vn{constructor(t,s){this.comparator=t,this.root=s||yi.EMPTY}insert(t,s){return new vn(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(t){return new vn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yi.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(0===a)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(t){let s=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(t,a.key);if(0===c)return s+a.left.size;c<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,a)=>(t(s,a),!1))}toString(){const t=[];return this.inorderTraversal((s,a)=>(t.push(`${s}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vl(this.root,t,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vl(this.root,t,this.comparator,!0)}}class vl{constructor(t,s,a,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!t.isEmpty();)if(p=s?a(t.key,s):1,s&&c&&(p*=-1),p<0)t=this.isReverse?t.left:t.right;else{if(0===p){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yi{constructor(t,s,a,c,p){this.key=t,this.value=s,this.color=a??yi.RED,this.left=c??yi.EMPTY,this.right=p??yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,a,c,p){return new yi(t??this.key,s??this.value,a??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,a){let c=this;const p=a(t,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(t,s,a),null):0===p?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(t,s,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let a,c=this;if(s(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,s),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===s(t,c.key)){if(c.right.isEmpty())return yi.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,s))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const t=this.left.check();if(t!==this.right.check())throw Ft();return t+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(i,t,s,a,c){return this}insert(i,t,s){return new yi(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kr{constructor(t){this.comparator=t,this.data=new vn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,a)=>(t(s),!1))}forEachInRange(t,s){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,t[1])>=0)return;s(c.key)}}forEachWhile(t,s){let a;for(a=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new _l(this.data.getIterator())}getIteratorFrom(t){return new _l(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(a=>{s=s.add(a)}),s}isEqual(t){if(!(t instanceof kr)||this.size!==t.size)return!1;const s=this.data.getIterator(),a=t.data.getIterator();for(;s.hasNext();){const c=s.getNext().key,p=a.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new kr(this.comparator);return s.data=t,s}}class _l{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lo(i){return i.hasNext()?i.getNext():void 0}class Ki{constructor(t){this.fields=t,t.sort(he.comparator)}static empty(){return new Ki([])}unionWith(t){let s=new kr(he.comparator);for(const a of this.fields)s=s.add(a);for(const a of t)s=s.add(a);return new Ki(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return ji(this.fields,t.fields,(s,a)=>s.isEqual(a))}}class vo{constructor(t){this.value=t}static empty(){return new vo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let a=0;a<t.length-1;++a)if(s=(s.mapValue.fields||{})[t.get(a)],!We(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wt(s)}setAll(t){let s=he.emptyPath(),a={},c=[];t.forEach((C,N)=>{if(!s.isImmediateParentOf(N)){const $=this.getFieldsMap(s);this.applyChanges($,a,c),a={},c=[],s=N.popLast()}C?a[N.lastSegment()]=Wt(C):c.push(N.lastSegment())});const p=this.getFieldsMap(s);this.applyChanges(p,a,c)}delete(t){const s=this.field(t.popLast());We(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return ca(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<t.length;++a){let c=s.mapValue.fields[t.get(a)];We(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},s.mapValue.fields[t.get(a)]=c),s=c}return s.mapValue.fields}applyChanges(t,s,a){Go(s,(c,p)=>t[c]=p);for(const c of a)delete t[c]}clone(){return new vo(Wt(this.value))}}function fd(i){const t=[];return Go(i.fields,(s,a)=>{const c=new he([s]);if(We(a)){const p=fd(a.mapValue).fields;if(0===p.length)t.push(c);else for(const C of p)t.push(c.child(C))}else t.push(c)}),new Ki(t)}class Rs{constructor(t,s,a,c,p,C,N){this.key=t,this.documentType=s,this.version=a,this.readTime=c,this.createTime=p,this.data=C,this.documentState=N}static newInvalidDocument(t){return new Rs(t,0,S.min(),S.min(),S.min(),vo.empty(),0)}static newFoundDocument(t,s,a,c){return new Rs(t,1,s,S.min(),a,c,0)}static newNoDocument(t,s){return new Rs(t,2,s,S.min(),S.min(),vo.empty(),0)}static newUnknownDocument(t,s){return new Rs(t,3,s,S.min(),S.min(),vo.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(S.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=S.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Rs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class El{constructor(t,s=null,a=[],c=[],p=null,C=null,N=null){this.path=t,this.collectionGroup=s,this.orderBy=a,this.filters=c,this.limit=p,this.startAt=C,this.endAt=N,this.ft=null}}function Dl(i,t=null,s=[],a=[],c=null,p=null,C=null){return new El(i,t,s,a,c,p,C)}function Mi(i){const t=At(i);if(null===t.ft){let s=t.path.canonicalString();null!==t.collectionGroup&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(a=>lc(a)).join(","),s+="|ob:",s+=t.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),la(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>F(a)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>F(a)).join(",")),t.ft=s}return t.ft}function vi(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!hd(i.orderBy[s],t.orderBy[s]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!Nc(i.filters[s],t.filters[s]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!ua(i.startAt,t.startAt)&&ua(i.endAt,t.endAt)}function cc(i){return Me.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Oo(i,t){return i.filters.filter(s=>s instanceof Xn&&s.field.isEqual(t))}function co(i,t,s){let a=Oc,c=!0;for(const p of Oo(i,t)){let C=Oc,N=!0;switch(p.op){case"<":case"<=":C=fr(p.value);break;case"==":case"in":case">=":C=p.value;break;case">":C=p.value,N=!1;break;case"!=":case"not-in":C=Oc}Qo({value:a,inclusive:c},{value:C,inclusive:N})<0&&(a=C,c=N)}if(null!==s)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(t)){const C=s.position[p];Qo({value:a,inclusive:c},{value:C,inclusive:s.inclusive})<0&&(a=C,c=s.inclusive);break}return{value:a,inclusive:c}}function Ru(i,t,s){let a=ja,c=!0;for(const p of Oo(i,t)){let C=ja,N=!0;switch(p.op){case">=":case">":C=cs(p.value),N=!1;break;case"==":case"in":case"<=":C=p.value;break;case"<":C=p.value,N=!1;break;case"!=":case"not-in":C=ja}bi({value:a,inclusive:c},{value:C,inclusive:N})>0&&(a=C,c=N)}if(null!==s)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(t)){const C=s.position[p];bi({value:a,inclusive:c},{value:C,inclusive:s.inclusive})>0&&(a=C,c=s.inclusive);break}return{value:a,inclusive:c}}class hi{constructor(t,s=null,a=[],c=[],p=null,C="F",N=null,$=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=c,this.limit=p,this.limitType=C,this.startAt=N,this.endAt=$,this.dt=null,this._t=null}}function Ll(i){return new hi(i)}function uc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function dc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Vl(i){for(const t of i.filters){const s=t.getFirstInequalityField();if(null!==s)return s}return null}function Ul(i){return null!==i.collectionGroup}function cl(i){const t=At(i);if(null===t.dt){t.dt=[];const s=Vl(t),a=dc(t);if(null!==s&&null===a)s.isKeyField()||t.dt.push(new kl(s)),t.dt.push(new kl(he.keyField(),"asc"));else{let c=!1;for(const p of t.explicitOrderBy)t.dt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new kl(he.keyField(),p))}}}return t.dt}function _i(i){const t=At(i);if(!t._t)if("F"===t.limitType)t._t=Dl(t.path,t.collectionGroup,cl(t),t.filters,t.limit,t.startAt,t.endAt);else{const s=[];for(const p of cl(t))s.push(new kl(p.field,"desc"===p.dir?"asc":"desc"));const a=t.endAt?new xi(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new xi(t.startAt.position,t.startAt.inclusive):null;t._t=Dl(t.path,t.collectionGroup,s,t.filters,t.limit,a,c)}return t._t}function Bl(i,t){t.getFirstInequalityField(),Vl(i);const s=i.filters.concat([t]);return new hi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function jl(i,t,s){return new hi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,s,i.startAt,i.endAt)}function ul(i,t){return vi(_i(i),_i(t))&&i.limitType===t.limitType}function Pc(i){return`${Mi(_i(i))}|lt:${i.limitType}`}function $l(i){return`Query(target=${function(t){let s=t.path.canonicalString();return null!==t.collectionGroup&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Rc(a)).join(", ")}]`),la(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>F(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>F(a)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function Hl(i,t){return t.isFoundDocument()&&function(s,a){const c=a.key.path;return null!==s.collectionGroup?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,t)&&function(s,a){for(const c of cl(s))if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(i,t)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,t)&&(a=t,!((s=i).startAt&&!function(c,p,C){const N=mi(c,p,C);return c.inclusive?N<=0:N<0}(s.startAt,cl(s),a)||s.endAt&&!function(c,p,C){const N=mi(c,p,C);return c.inclusive?N>=0:N>0}(s.endAt,cl(s),a)));var s,a}function Ji(i){return(t,s)=>{let a=!1;for(const c of cl(i)){const p=Wl(c,t,s);if(0!==p)return p;a=a||c.field.isKeyField()}return 0}}function Wl(i,t,s){const a=i.field.isKeyField()?Me.comparator(t.key,s.key):function(c,p,C){const N=p.data.field(c),$=C.data.field(c);return null!==N&&null!==$?or(N,$):Ft()}(i.field,t,s);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ft()}}function xs(i,t){if(i.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(t)?"-0":t}}function iu(i){return{integerValue:""+i}}function pd(i,t){return function xl(i){return"number"==typeof i&&Number.isInteger(i)&&!Ba(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(t)?iu(t):xs(i,t)}class Fc{constructor(){this._=void 0}}function ah(i,t,s){return i instanceof da?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(s,t):i instanceof Ei?Xa(i,t):i instanceof Ya?Kl(i,t):function(a,c){const p=xu(a,c),C=kc(p)+kc(a.gt);return G(p)&&G(a.gt)?iu(C):xs(a.yt,C)}(i,t)}function ou(i,t,s){return i instanceof Ei?Xa(i,t):i instanceof Ya?Kl(i,t):s}function xu(i,t){return i instanceof ha?G(s=t)||(a=s)&&"doubleValue"in a?t:{integerValue:0}:null;var a,s}class da extends Fc{}class Ei extends Fc{constructor(t){super(),this.elements=t}}function Xa(i,t){const s=Gl(t);for(const a of i.elements)s.some(c=>ca(c,a))||s.push(a);return{arrayValue:{values:s}}}class Ya extends Fc{constructor(t){super(),this.elements=t}}function Kl(i,t){let s=Gl(t);for(const a of i.elements)s=s.filter(c=>!ca(c,a));return{arrayValue:{values:s}}}class ha extends Fc{constructor(t,s){super(),this.yt=t,this.gt=s}}function kc(i){return Ks(i.integerValue||i.doubleValue)}function Gl(i){return ae(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Za{constructor(t,s){this.field=t,this.transform=s}}class Cl{constructor(t,s){this.version=t,this.transformResults=s}}class bs{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new bs}static exists(t){return new bs(void 0,t)}static updateTime(t){return new bs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wl(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class dl{}function hc(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new Xl(i.key,bs.none()):new hl(i.key,i.data,bs.none());{const s=i.data,a=vo.empty();let c=new kr(he.comparator);for(let p of t.fields)if(!c.has(p)){let C=s.field(p);null===C&&p.length>1&&(p=p.popLast(),C=s.field(p)),null===C?a.delete(p):a.set(p,C),c=c.add(p)}return new fa(i.key,a,new Ki(c.toArray()),bs.none())}}function Pu(i,t,s){i instanceof hl?function(a,c,p){const C=a.value.clone(),N=zl(a.fieldTransforms,c,p.transformResults);C.setAll(N),c.convertToFoundDocument(p.version,C).setHasCommittedMutations()}(i,t,s):i instanceof fa?function(a,c,p){if(!wl(a.precondition,c))return void c.convertToUnknownDocument(p.version);const C=zl(a.fieldTransforms,c,p.transformResults),N=c.data;N.setAll(Lc(a)),N.setAll(C),c.convertToFoundDocument(p.version,N).setHasCommittedMutations()}(i,t,s):t.convertToNoDocument(s.version).setHasCommittedMutations()}function fc(i,t,s,a){return i instanceof hl?function(c,p,C,N){if(!wl(c.precondition,p))return C;const $=c.value.clone(),Z=Ql(c.fieldTransforms,N,p);return $.setAll(Z),p.convertToFoundDocument(p.version,$).setHasLocalMutations(),null}(i,t,s,a):i instanceof fa?function(c,p,C,N){if(!wl(c.precondition,p))return C;const $=Ql(c.fieldTransforms,N,p),Z=p.data;return Z.setAll(Lc(c)),Z.setAll($),p.convertToFoundDocument(p.version,Z).setHasLocalMutations(),null===C?null:C.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(fe=>fe.field))}(i,t,s,a):(C=s,wl(i.precondition,p=t)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):C);var p,C}function au(i,t){let s=null;for(const a of i.fieldTransforms){const c=t.data.field(a.field),p=xu(a.transform,c||null);null!=p&&(null===s&&(s=vo.empty()),s.set(a.field,p))}return s||null}function lu(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(a=t.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===a||s&&a&&ji(s,a,(c,p)=>function gd(i,t){return i.field.isEqual(t.field)&&(a=t.transform,(s=i.transform)instanceof Ei&&a instanceof Ei||s instanceof Ya&&a instanceof Ya?ji(s.elements,a.elements,ca):s instanceof ha&&a instanceof ha?ca(s.gt,a.gt):s instanceof da&&a instanceof da);var s,a}(c,p))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var s,a}class hl extends dl{constructor(t,s,a,c=[]){super(),this.key=t,this.value=s,this.precondition=a,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class fa extends dl{constructor(t,s,a,c,p=[]){super(),this.key=t,this.data=s,this.fieldMask=a,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Lc(i){const t=new Map;return i.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=i.data.field(s);t.set(s,a)}}),t}function zl(i,t,s){const a=new Map;Ye(i.length===s.length);for(let c=0;c<s.length;c++){const p=i[c],C=p.transform,N=t.data.field(p.field);a.set(p.field,ou(C,N,s[c]))}return a}function Ql(i,t,s){const a=new Map;for(const c of i){const p=c.transform,C=s.data.field(c.field);a.set(c.field,ah(p,C,t))}return a}class Xl extends dl{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eo extends dl{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pa{constructor(t){this.count=t}}var Ms,Ir;function ma(i){if(void 0===i)return ei("GRPC error has no .code"),qe.UNKNOWN;switch(i){case Ms.OK:return qe.OK;case Ms.CANCELLED:return qe.CANCELLED;case Ms.UNKNOWN:return qe.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return qe.INTERNAL;case Ms.UNAVAILABLE:return qe.UNAVAILABLE;case Ms.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case Ms.NOT_FOUND:return qe.NOT_FOUND;case Ms.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case Ms.ABORTED:return qe.ABORTED;case Ms.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case Ms.DATA_LOSS:return qe.DATA_LOSS;default:return Ft()}}(Ir=Ms||(Ms={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";class fl{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),a=this.inner[s];if(void 0!==a)for(const[c,p]of a)if(this.equalsFn(c,t))return p}has(t){return void 0!==this.get(t)}set(t,s){const a=this.mapKeyFn(t),c=this.inner[a];if(void 0===c)return this.inner[a]=[[t,s]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],t))return void(c[p]=[t,s]);c.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),a=this.inner[s];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return 1===a.length?delete this.inner[s]:a.splice(c,1),this.innerSize--,!0;return!1}forEach(t){Go(this.inner,(s,a)=>{for(const[c,p]of a)t(c,p)})}isEmpty(){return sc(this.inner)}size(){return this.innerSize}}const md=new vn(Me.comparator);function fi(){return md}const lh=new vn(Me.comparator);function pc(...i){let t=lh;for(const s of i)t=t.insert(s.key,s);return t}function Fu(i){let t=lh;return i.forEach((s,a)=>t=t.insert(s,a.overlayedDocument)),t}function Aa(){return cu()}function Wa(){return cu()}function cu(){return new fl(i=>i.toString(),(i,t)=>i.isEqual(t))}const uu=new vn(Me.comparator),ku=new kr(Me.comparator);function ar(...i){let t=ku;for(const s of i)t=t.add(s);return t}const gc=new kr(_n);function qa(){return gc}class mc{constructor(t,s,a,c,p){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(t,s,a){const c=new Map;return c.set(t,yc.createSynthesizedTargetChangeForCurrentChange(t,s,a)),new mc(S.min(),c,qa(),fi(),ar())}}class yc{constructor(t,s,a,c,p){this.resumeToken=t,this.current=s,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(t,s,a){return new yc(a,s,ar(),ar(),ar())}}class Vc{constructor(t,s,a,c){this.It=t,this.removedTargetIds=s,this.key=a,this.Tt=c}}class yd{constructor(t,s){this.targetId=t,this.Et=s}}class vd{constructor(t,s,a=di.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=s,this.resumeToken=a,this.cause=c}}class _d{constructor(){this.At=0,this.Rt=ch(),this.bt=di.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=ar(),s=ar(),a=ar();return this.Rt.forEach((c,p)=>{switch(p){case 0:t=t.add(c);break;case 2:s=s.add(c);break;case 1:a=a.add(c);break;default:Ft()}}),new yc(this.bt,this.Pt,t,s,a)}xt(){this.vt=!1,this.Rt=ch()}Nt(t,s){this.vt=!0,this.Rt=this.Rt.insert(t,s)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Oa{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=fi(),this.qt=pl(),this.Ut=new kr(_n)}Kt(t){for(const s of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(s,t.Tt):this.Qt(s,t.key,t.Tt);for(const s of t.removedTargetIds)this.Qt(s,t.key,t.Tt)}jt(t){this.forEachTarget(t,s=>{const a=this.Wt(s);switch(t.state){case 0:this.zt(s)&&a.Dt(t.resumeToken);break;case 1:a.Mt(),a.Vt||a.xt(),a.Dt(t.resumeToken);break;case 2:a.Mt(),a.Vt||this.removeTarget(s);break;case 3:this.zt(s)&&(a.Ft(),a.Dt(t.resumeToken));break;case 4:this.zt(s)&&(this.Ht(s),a.Dt(t.resumeToken));break;default:Ft()}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.Bt.forEach((a,c)=>{this.zt(c)&&s(c)})}Jt(t){const s=t.targetId,a=t.Et.count,c=this.Yt(s);if(c){const p=c.target;if(cc(p))if(0===a){const C=new Me(p.path);this.Qt(s,C,Rs.newNoDocument(C,S.min()))}else Ye(1===a);else this.Xt(s)!==a&&(this.Ht(s),this.Ut=this.Ut.add(s))}}Zt(t){const s=new Map;this.Bt.forEach((p,C)=>{const N=this.Yt(C);if(N){if(p.current&&cc(N.target)){const $=new Me(N.target.path);null!==this.Lt.get($)||this.te(C,$)||this.Qt(C,$,Rs.newNoDocument($,t))}p.St&&(s.set(C,p.Ct()),p.xt())}});let a=ar();this.qt.forEach((p,C)=>{let N=!0;C.forEachWhile($=>{const Z=this.Yt($);return!Z||2===Z.purpose||(N=!1,!1)}),N&&(a=a.add(p))}),this.Lt.forEach((p,C)=>C.setReadTime(t));const c=new mc(t,s,this.Ut,this.Lt,a);return this.Lt=fi(),this.qt=pl(),this.Ut=new kr(_n),c}Gt(t,s){if(!this.zt(t))return;const a=this.te(t,s.key)?2:0;this.Wt(t).Nt(s.key,a),this.Lt=this.Lt.insert(s.key,s),this.qt=this.qt.insert(s.key,this.ee(s.key).add(t))}Qt(t,s,a){if(!this.zt(t))return;const c=this.Wt(t);this.te(t,s)?c.Nt(s,1):c.kt(s),this.qt=this.qt.insert(s,this.ee(s).delete(t)),a&&(this.Lt=this.Lt.insert(s,a))}removeTarget(t){this.Bt.delete(t)}Xt(t){const s=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let s=this.Bt.get(t);return s||(s=new _d,this.Bt.set(t,s)),s}ee(t){let s=this.qt.get(t);return s||(s=new kr(_n),this.qt=this.qt.insert(t,s)),s}zt(t){const s=null!==this.Yt(t);return s||Mt("WatchChangeAggregator","Detected inactive target",t),s}Yt(t){const s=this.Bt.get(t);return s&&s.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new _d),this.$t.getRemoteKeysForTarget(t).forEach(s=>{this.Qt(t,s,null)})}te(t,s){return this.$t.getRemoteKeysForTarget(t).has(s)}}function pl(){return new vn(Me.comparator)}function ch(){return new vn(Me.comparator)}const Uc={asc:"ASCENDING",desc:"DESCENDING"},Ed={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vc={and:"AND",or:"OR"};class Bc{constructor(t,s){this.databaseId=t,this.wt=s}}function ii(i,t){return i.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uh(i,t){return i.wt?t.toBase64():t.toUint8Array()}function Lu(i,t){return ii(i,t.toTimestamp())}function Ai(i){return Ye(!!i),S.fromTimestamp(function(t){const s=Ma(t);return new es(s.seconds,s.nanos)}(i))}function Vu(i,t){return(s=i,new R(["projects",s.projectId,"databases",s.database])).child("documents").child(t).canonicalString();var s}function Uu(i){const t=R.fromString(i);return Ye(Hn(t)),t}function Il(i,t){return Vu(i.databaseId,t.path)}function Ja(i,t){const s=Uu(t);if(s.get(1)!==i.databaseId.projectId)throw new _t(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new _t(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new Me(Bu(s))}function jc(i,t){return Vu(i.databaseId,t)}function du(i){const t=Uu(i);return 4===t.length?R.emptyPath():Bu(t)}function Tl(i){return new R(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Bu(i){return Ye(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Dd(i,t,s){return{name:Il(i,t),fields:s.value.mapValue.fields}}function E(i,t){let s;if(t instanceof hl)s={update:Dd(i,t.key,t.value)};else if(t instanceof Xl)s={delete:Il(i,t.key)};else if(t instanceof fa)s={update:Dd(i,t.key,t.data),updateMask:$t(t.fieldMask)};else{if(!(t instanceof eo))return Ft();s={verify:Il(i,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(a=>function(c,p){const C=p.transform;if(C instanceof da)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Ei)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ya)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ha)return{fieldPath:p.field.canonicalString(),increment:C.gt};throw Ft()}(0,a))),t.precondition.isNone||(s.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:Lu(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ft()),s;var c}function m(i,t){const s=t.currentDocument?void 0!==(c=t.currentDocument).updateTime?bs.updateTime(Ai(c.updateTime)):void 0!==c.exists?bs.exists(c.exists):bs.none():bs.none(),a=t.updateTransforms?t.updateTransforms.map(c=>function(p,C){let N=null;"setToServerValue"in C?(Ye("REQUEST_TIME"===C.setToServerValue),N=new da):"appendMissingElements"in C?N=new Ei(C.appendMissingElements.values||[]):"removeAllFromArray"in C?N=new Ya(C.removeAllFromArray.values||[]):"increment"in C?N=new ha(p,C.increment):Ft();const $=he.fromServerFormat(C.fieldPath);return new Za($,N)}(i,c)):[];var c;if(t.update){const c=Ja(i,t.update.name),p=new vo({mapValue:{fields:t.update.fields}});if(t.updateMask){const C=new Ki((t.updateMask.fieldPaths||[]).map(Z=>he.fromServerFormat(Z)));return new fa(c,p,C,s,a)}return new hl(c,p,s,a)}if(t.delete){const c=Ja(i,t.delete);return new Xl(c,s)}if(t.verify){const c=Ja(i,t.verify);return new eo(c,s)}return Ft()}function B(i,t){return{documents:[jc(i,t.path)]}}function te(i,t){const s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(s.parent=jc(i,a),s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s.parent=jc(i,a.popLast()),s.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function($){if(0!==$.length)return bt(rn.create($,"and"))}(t.filters);c&&(s.structuredQuery.where=c);const p=function($){if(0!==$.length)return $.map(Z=>{return{field:Jt((fe=Z).field),direction:ke(fe.dir)};var fe})}(t.orderBy);p&&(s.structuredQuery.orderBy=p);const C=(Z=t.limit,i.wt||la(Z)?Z:{value:Z});var Z,N,$;return null!==C&&(s.structuredQuery.limit=C),t.startAt&&(s.structuredQuery.startAt={before:(N=t.startAt).inclusive,values:N.position}),t.endAt&&(s.structuredQuery.endAt={before:!($=t.endAt).inclusive,values:$.position}),s}function ge(i){let t=du(i.parent);const s=i.structuredQuery,a=s.from?s.from.length:0;let c=null;if(a>0){Ye(1===a);const fe=s.from[0];fe.allDescendants?c=fe.collectionId:t=t.child(fe.collectionId)}let p=[];s.where&&(p=function(fe){const Re=Pe(fe);return Re instanceof rn&&Pl(Re)?Re.getFilters():[Re]}(s.where));let C=[];s.orderBy&&(C=s.orderBy.map(fe=>{return new kl(en((Re=fe).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let N=null;s.limit&&(N=function(fe){let Re;return Re="object"==typeof fe?fe.value:fe,la(Re)?null:Re}(s.limit));let $=null;var fe;s.startAt&&($=new xi((fe=s.startAt).values||[],!!fe.before));let Z=null;return s.endAt&&(Z=function(fe){return new xi(fe.values||[],!fe.before)}(s.endAt)),function ru(i,t,s,a,c,p,C,N){return new hi(i,t,s,a,c,p,C,N)}(t,c,C,p,N,"F",$,Z)}function Pe(i){return void 0!==i.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=en(t.unaryFilter.field);return Xn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=en(t.unaryFilter.field);return Xn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=en(t.unaryFilter.field);return Xn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=en(t.unaryFilter.field);return Xn.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(i):void 0!==i.fieldFilter?Xn.create(en((t=i).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==i.compositeFilter?function(t){return rn.create(t.compositeFilter.filters.map(s=>Pe(s)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ft()}}(t.compositeFilter.op))}(i):Ft();var t}function ke(i){return Uc[i]}function wt(i){return Ed[i]}function gt(i){return vc[i]}function Jt(i){return{fieldPath:i.canonicalString()}}function en(i){return he.fromServerFormat(i.fieldPath)}function bt(i){return i instanceof Xn?function(t){if("=="===t.op){if(rt(t.value))return{unaryFilter:{field:Jt(t.field),op:"IS_NAN"}};if(De(t.value))return{unaryFilter:{field:Jt(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rt(t.value))return{unaryFilter:{field:Jt(t.field),op:"IS_NOT_NAN"}};if(De(t.value))return{unaryFilter:{field:Jt(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jt(t.field),op:wt(t.op),value:t.value}}}(i):i instanceof rn?function(t){const s=t.getFilters().map(a=>bt(a));return 1===s.length?s[0]:{compositeFilter:{op:gt(t.op),filters:s}}}(i):Ft()}function $t(i){const t=[];return i.fields.forEach(s=>t.push(s.canonicalString())),{fieldPaths:t}}function Hn(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function An(i){let t="";for(let s=0;s<i.length;s++)t.length>0&&(t=Ps(t)),t=ts(i.get(s),t);return Ps(t)}function ts(i,t){let s=t;const a=i.length;for(let c=0;c<a;c++){const p=i.charAt(c);switch(p){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=p}}return s}function Ps(i){return i+"\x01\x01"}function Wn(i){const t=i.length;if(Ye(t>=2),2===t)return Ye("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),R.emptyPath();const s=t-2,a=[];let c="";for(let p=0;p<t;){const C=i.indexOf("\x01",p);switch((C<0||C>s)&&Ft(),i.charAt(C+1)){case"\x01":const N=i.substring(p,C);let $;0===c.length?$=N:(c+=N,$=c,c=""),a.push($);break;case"\x10":c+=i.substring(p,C),c+="\0";break;case"\x11":c+=i.substring(p,C+1);break;default:Ft()}p=C+2}return new R(a)}const Vr=["userId","batchId"];function jr(i,t){return[i,An(t)]}function ti(i,t,s){return[i,An(t),s]}const us={},Xo=["prefixPath","collectionGroup","readTime","documentId"],_c=["prefixPath","collectionGroup","documentId"],f=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],h=["targetId","path"],y=["path","targetId"],O=["collectionId","parent"],P=["indexId","uid"],j=["uid","sequenceNumber"],se=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_e=["indexId","uid","orderedDocumentKey"],Oe=["userId","collectionPath","documentId"],ct=["userId","collectionPath","largestBatchId"],dt=["userId","collectionGroup","largestBatchId"],Dt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jt=[...Dt,"documentOverlays"],On=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ms=On,ds=[...ms,"indexConfiguration","indexState","indexEntries"];class Yo extends Mo{constructor(t,s){super(),this.se=t,this.currentSequenceNumber=s}}function Ar(i,t){const s=At(i);return Wi.M(s.se,t)}class Sl{constructor(t,s,a,c){this.batchId=t,this.localWriteTime=s,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(t,s){const a=s.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(t.key)&&Pu(p,t,a[c])}}applyToLocalView(t,s){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(s=fc(a,t,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(s=fc(a,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const a=Wa();return this.mutations.forEach(c=>{const p=t.get(c.key),C=p.overlayedDocument;let N=this.applyToLocalView(C,p.mutatedFields);N=s.has(c.key)?null:N;const $=hc(C,N);null!==$&&a.set(c.key,$),C.isValidDocument()||C.convertToNoDocument(S.min())}),a}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),ar())}isEqual(t){return this.batchId===t.batchId&&ji(this.mutations,t.mutations,(s,a)=>lu(s,a))&&ji(this.baseMutations,t.baseMutations,(s,a)=>lu(s,a))}}class Ec{constructor(t,s,a,c){this.batch=t,this.commitVersion=s,this.mutationResults=a,this.docVersions=c}static from(t,s,a){Ye(t.mutations.length===a.length);let c=uu;const p=t.mutations;for(let C=0;C<p.length;C++)c=c.insert(p[C].key,a[C].version);return new Ec(t,s,a,c)}}class ey{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hu{constructor(t,s,a,c,p=S.min(),C=S.min(),N=di.EMPTY_BYTE_STRING){this.target=t,this.targetId=s,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=N}withSequenceNumber(t){return new hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,s){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Pp{constructor(t){this.ie=t}}function ty(i,t){const s=t.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:uf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())a.document={name:Il(c=i.ie,(p=t).key),fields:p.data.value.mapValue.fields,updateTime:ii(c,p.version.toTimestamp()),createTime:ii(c,p.createTime.toTimestamp())};else if(t.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:bl(t.version)};else{if(!t.isUnknownDocument())return Ft();a.unknownDocument={path:s.path.toArray(),version:bl(t.version)}}var c,p;return a}function uf(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function bl(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Yl(i){const t=new es(i.seconds,i.nanoseconds);return S.fromTimestamp(t)}function fu(i,t){const s=(t.baseMutations||[]).map(p=>m(i.ie,p));for(let p=0;p<t.mutations.length-1;++p)p+1<t.mutations.length&&void 0!==t.mutations[p+1].transform&&(t.mutations[p].updateTransforms=t.mutations[p+1].transform.fieldTransforms,t.mutations.splice(p+1,1),++p);const a=t.mutations.map(p=>m(i.ie,p)),c=es.fromMillis(t.localWriteTimeMs);return new Sl(t.batchId,c,s,a)}function hh(i){const t=Yl(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?Yl(i.lastLimboFreeSnapshotVersion):S.min();let a;var c;return void 0!==i.query.documents?(Ye(1===(c=i.query).documents.length),a=_i(Ll(du(c.documents[0])))):a=_i(ge(i.query)),new hu(a,i.targetId,0,i.lastListenSequenceNumber,t,s,di.fromBase64String(i.resumeToken))}function Fp(i,t){const s=bl(t.snapshotVersion),a=bl(t.lastLimboFreeSnapshotVersion);let c;c=cc(t.target)?B(i.ie,t.target):te(i.ie,t.target);const p=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mi(t.target),readTime:s,resumeToken:p,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:c}}function ju(i){const t=ge({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?jl(t,t.limit,"L"):t}function kp(i,t){return new ey(t.largestBatchId,m(i.ie,t.overlayMutation))}function df(i,t){const s=t.path.lastSegment();return[i,An(t.path.popLast()),s]}function Lp(i,t,s,a){return{indexId:i,uid:t.uid||"",sequenceNumber:s,readTime:bl(a.readTime),documentKey:An(a.documentKey.path),largestBatchId:a.largestBatchId}}class fh{getBundleMetadata(t,s){return wd(t).get(s).next(a=>{if(a)return{id:(c=a).bundleId,createTime:Yl(c.createTime),version:c.version};var c})}saveBundleMetadata(t,s){return wd(t).put({bundleId:(a=s).id,createTime:bl(Ai(a.createTime)),version:a.version});var a}getNamedQuery(t,s){return Vp(t).get(s).next(a=>{if(a)return{name:(c=a).name,query:ju(c.bundledQuery),readTime:Yl(c.readTime)};var c})}saveNamedQuery(t,s){return Vp(t).put({name:(a=s).name,readTime:bl(Ai(a.readTime)),bundledQuery:a.bundledQuery});var a}}function wd(i){return Ar(i,"bundles")}function Vp(i){return Ar(i,"namedQueries")}class $u{constructor(t,s){this.yt=t,this.userId=s}static re(t,s){return new $u(t,s.uid||"")}getOverlay(t,s){return pu(t).get(df(this.userId,s)).next(a=>a?kp(this.yt,a):null)}getOverlays(t,s){const a=Aa();return Qe.forEach(s,c=>this.getOverlay(t,c).next(p=>{null!==p&&a.set(c,p)})).next(()=>a)}saveOverlays(t,s,a){const c=[];return a.forEach((p,C)=>{const N=new ey(s,C);c.push(this.oe(t,N))}),Qe.waitFor(c)}removeOverlaysForBatchId(t,s,a){const c=new Set;s.forEach(C=>c.add(An(C.getCollectionPath())));const p=[];return c.forEach(C=>{const N=IDBKeyRange.bound([this.userId,C,a],[this.userId,C,a+1],!1,!0);p.push(pu(t).Y("collectionPathOverlayIndex",N))}),Qe.waitFor(p)}getOverlaysForCollection(t,s,a){const c=Aa(),p=An(s),C=IDBKeyRange.bound([this.userId,p,a],[this.userId,p,Number.POSITIVE_INFINITY],!0);return pu(t).W("collectionPathOverlayIndex",C).next(N=>{for(const $ of N){const Z=kp(this.yt,$);c.set(Z.getKey(),Z)}return c})}getOverlaysForCollectionGroup(t,s,a,c){const p=Aa();let C;const N=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return pu(t).Z({index:"collectionGroupOverlayIndex",range:N},($,Z,fe)=>{const Re=kp(this.yt,Z);p.size()<c||Re.largestBatchId===C?(p.set(Re.getKey(),Re),C=Re.largestBatchId):fe.done()}).next(()=>p)}oe(t,s){return pu(t).put(function(a,c,p){const[C,N,$]=df(c,p.mutation.key);return{userId:c,collectionPath:N,documentId:$,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:E(a.ie,p.mutation)}}(this.yt,this.userId,s))}}function pu(i){return Ar(i,"documentOverlays")}class Hu{constructor(){}ue(t,s){this.ce(t,s),s.ae()}ce(t,s){if("nullValue"in t)this.he(s,5);else if("booleanValue"in t)this.he(s,10),s.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(s,15),s.le(Ks(t.integerValue));else if("doubleValue"in t){const a=Ks(t.doubleValue);isNaN(a)?this.he(s,13):(this.he(s,15),Ba(a)?s.le(0):s.le(a))}else if("timestampValue"in t){const a=t.timestampValue;this.he(s,20),"string"==typeof a?s.fe(a):(s.fe(`${a.seconds||""}`),s.le(a.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,s),this._e(s);else if("bytesValue"in t)this.he(s,30),s.we(ol(t.bytesValue)),this._e(s);else if("referenceValue"in t)this.me(t.referenceValue,s);else if("geoPointValue"in t){const a=t.geoPointValue;this.he(s,45),s.le(a.latitude||0),s.le(a.longitude||0)}else"mapValue"in t?gn(t)?this.he(s,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,s),this._e(s)):"arrayValue"in t?(this.ye(t.arrayValue,s),this._e(s)):Ft()}de(t,s){this.he(s,25),this.pe(t,s)}pe(t,s){s.fe(t)}ge(t,s){const a=t.fields||{};this.he(s,55);for(const c of Object.keys(a))this.de(c,s),this.ce(a[c],s)}ye(t,s){const a=t.values||[];this.he(s,50);for(const c of a)this.ce(c,s)}me(t,s){this.he(s,37),Me.fromName(t).path.forEach(a=>{this.he(s,60),this.pe(a,s)})}he(t,s){t.le(s)}_e(t){t.le(2)}}function n_(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function ny(i){const t=64-function(s){let a=0;for(let c=0;c<8;++c){const p=n_(255&s[c]);if(a+=p,8!==p)break}return a}(i);return Math.ceil(t/8)}Hu.Ie=new Hu;class ry{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const s=t[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ee(a.value),a=s.next();this.Ae()}Re(t){const s=t[Symbol.iterator]();let a=s.next();for(;!a.done;)this.be(a.value),a=s.next();this.Pe()}ve(t){for(const s of t){const a=s.charCodeAt(0);if(a<128)this.Ee(a);else if(a<2048)this.Ee(960|a>>>6),this.Ee(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ee(480|a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a);else{const c=s.codePointAt(0);this.Ee(240|c>>>18),this.Ee(128|63&c>>>12),this.Ee(128|63&c>>>6),this.Ee(128|63&c)}}this.Ae()}Ve(t){for(const s of t){const a=s.charCodeAt(0);if(a<128)this.be(a);else if(a<2048)this.be(960|a>>>6),this.be(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.be(480|a>>>12),this.be(128|63&a>>>6),this.be(128|63&a);else{const c=s.codePointAt(0);this.be(240|c>>>18),this.be(128|63&c>>>12),this.be(128|63&c>>>6),this.be(128|63&c)}}this.Pe()}Se(t){const s=this.De(t),a=ny(s);this.Ce(1+a),this.buffer[this.position++]=255&a;for(let c=s.length-a;c<s.length;++c)this.buffer[this.position++]=255&s[c]}xe(t){const s=this.De(t),a=ny(s);this.Ce(1+a),this.buffer[this.position++]=~(255&a);for(let c=s.length-a;c<s.length;++c)this.buffer[this.position++]=~(255&s[c])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const s=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(t),a=!!(128&s[0]);s[0]^=a?255:128;for(let c=1;c<s.length;++c)s[c]^=a?255:0;return s}Ee(t){const s=255&t;0===s?(this.ke(0),this.ke(255)):255===s?(this.ke(255),this.ke(0)):this.ke(s)}be(t){const s=255&t;0===s?(this.Me(0),this.Me(255)):255===s?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const s=t+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const c=new Uint8Array(a);c.set(this.buffer),this.buffer=c}}class Up{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class r_{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class ph{constructor(){this.$e=new ry,this.Be=new Up(this.$e),this.Le=new r_(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class _o{constructor(t,s,a,c){this.indexId=t,this.documentKey=s,this.arrayValue=a,this.directionalValue=c}Ue(){const t=this.directionalValue.length,s=0===t||255===this.directionalValue[t-1]?t+1:t,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==t?a.set([0],this.directionalValue.length):++a[a.length-1],new _o(this.indexId,this.documentKey,this.arrayValue,a)}}function Dc(i,t){let s=i.indexId-t.indexId;return 0!==s?s:(s=Bp(i.arrayValue,t.arrayValue),0!==s?s:(s=Bp(i.directionalValue,t.directionalValue),0!==s?s:Me.comparator(i.documentKey,t.documentKey)))}function Bp(i,t){for(let s=0;s<i.length&&s<t.length;++s){const a=i[s]-t[s];if(0!==a)return a}return i.length-t.length}class hf{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const s of t.filters){const a=s;a.isInequality()?this.Qe=a:this.Ge.push(a)}}je(t){Ye(t.collectionGroup===this.collectionId);const s=Ut(t);if(void 0!==s&&!this.We(s))return!1;const a=nr(t);let c=0,p=0;for(;c<a.length&&this.We(a[c]);++c);if(c===a.length)return!0;if(void 0!==this.Qe){const C=a[c];if(!this.ze(this.Qe,C)||!this.He(this.Ke[p++],C))return!1;++c}for(;c<a.length;++c)if(p>=this.Ke.length||!this.He(this.Ke[p++],a[c]))return!1;return!0}We(t){for(const s of this.Ge)if(this.ze(s,t))return!0;return!1}ze(t,s){return!(void 0===t||!t.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,s){return!!t.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===t.dir||1===s.kind&&"desc"===t.dir)}}function s_(i){var t,s;if(Ye(i instanceof Xn||i instanceof rn),i instanceof Xn){if(i instanceof Fl){const c=(null===(s=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===s?void 0:s.map(p=>Xn.create(i.field,"==",p)))||[];return rn.create(c,"or")}return i}const a=i.filters.map(c=>s_(c));return rn.create(a,i.op)}function nD(i){if(0===i.getFilters().length)return[];const t=pf(s_(i));return Ye(ff(t)),Zo(t)||gu(t)?[t]:t.getFilters()}function Zo(i){return i instanceof Xn}function gu(i){return i instanceof rn&&Pl(i)}function ff(i){return Zo(i)||gu(i)||function(t){if(t instanceof rn&&ac(t)){for(const s of t.getFilters())if(!Zo(s)&&!gu(s))return!1;return!0}return!1}(i)}function pf(i){if(Ye(i instanceof Xn||i instanceof rn),i instanceof Xn)return i;if(1===i.filters.length)return pf(i.filters[0]);const t=i.filters.map(a=>pf(a));let s=rn.create(t,i.op);return s=gf(s),ff(s)?s:(Ye(s instanceof rn),Ye($a(s)),Ye(s.filters.length>1),s.filters.reduce((a,c)=>jp(a,c)))}function jp(i,t){let s;return Ye(i instanceof Xn||i instanceof rn),Ye(t instanceof Xn||t instanceof rn),s=i instanceof Xn?t instanceof Xn?rn.create([i,t],"and"):$p(i,t):t instanceof Xn?$p(t,i):function(a,c){if(Ye(a.filters.length>0&&c.filters.length>0),$a(a)&&$a(c))return Ha(a,c.getFilters());const p=ac(a)?a:c,C=ac(a)?c:a,N=p.filters.map($=>jp($,C));return rn.create(N,"or")}(i,t),gf(s)}function $p(i,t){if($a(t))return Ha(t,i.getFilters());{const s=t.filters.map(a=>jp(i,a));return rn.create(s,"or")}}function gf(i){if(Ye(i instanceof Xn||i instanceof rn),i instanceof Xn)return i;const t=i.getFilters();if(1===t.length)return gf(t[0]);if(Ou(i))return i;const s=t.map(c=>gf(c)),a=[];return s.forEach(c=>{c instanceof Xn?a.push(c):c instanceof rn&&(c.op===i.op?a.push(...c.filters):a.push(c))}),1===a.length?a[0]:rn.create(a,i.op)}class sy{constructor(){this.Je=new Hp}addToCollectionParentIndex(t,s){return this.Je.add(s),Qe.resolve()}getCollectionParents(t,s){return Qe.resolve(this.Je.getEntries(s))}addFieldIndex(t,s){return Qe.resolve()}deleteFieldIndex(t,s){return Qe.resolve()}getDocumentsMatchingTarget(t,s){return Qe.resolve(null)}getIndexType(t,s){return Qe.resolve(0)}getFieldIndexes(t,s){return Qe.resolve([])}getNextCollectionGroupToUpdate(t){return Qe.resolve(null)}getMinOffset(t,s){return Qe.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,s){return Qe.resolve(_s.min())}updateCollectionGroup(t,s,a){return Qe.resolve()}updateIndexEntries(t,s){return Qe.resolve()}}class Hp{constructor(){this.index={}}add(t){const s=t.lastSegment(),a=t.popLast(),c=this.index[s]||new kr(R.comparator),p=!c.has(a);return this.index[s]=c.add(a),p}has(t){const s=t.lastSegment(),a=t.popLast(),c=this.index[s];return c&&c.has(a)}getEntries(t){return(this.index[t]||new kr(R.comparator)).toArray()}}const gh=new Uint8Array(0);class i_{constructor(t,s){this.user=t,this.databaseId=s,this.Ye=new Hp,this.Xe=new fl(a=>Mi(a),(a,c)=>vi(a,c)),this.uid=t.uid||""}addToCollectionParentIndex(t,s){if(!this.Ye.has(s)){const a=s.lastSegment(),c=s.popLast();t.addOnCommittedListener(()=>{this.Ye.add(s)});const p={collectionId:a,parent:An(c)};return iy(t).put(p)}return Qe.resolve()}getCollectionParents(t,s){const a=[],c=IDBKeyRange.bound([s,""],[il(s),""],!1,!0);return iy(t).W(c).next(p=>{for(const C of p){if(C.collectionId!==s)break;a.push(Wn(C.parent))}return a})}addFieldIndex(t,s){const a=mf(t),c={indexId:(C=s).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var C;delete c.indexId;const p=a.add(c);if(s.indexState){const C=Id(t);return p.next(N=>{C.put(Lp(N,this.user,s.indexState.sequenceNumber,s.indexState.offset))})}return p.next()}deleteFieldIndex(t,s){const a=mf(t),c=Id(t),p=mh(t);return a.delete(s.indexId).next(()=>c.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,s){const a=mh(t);let c=!0;const p=new Map;return Qe.forEach(this.Ze(s),C=>this.tn(t,C).next(N=>{c&&(c=!!N),p.set(C,N)})).next(()=>{if(c){let C=ar();const N=[];return Qe.forEach(p,($,Z)=>{var fe;Mt("IndexedDbIndexManager",`Using index ${fe=$,`id=${fe.indexId}|cg=${fe.collectionGroup}|f=${fe.fields.map(Gs=>`${Gs.fieldPath}:${Gs.kind}`).join(",")}`} to execute ${Mi(s)}`);const Re=function(Gs,No){const zs=Ut(No);if(void 0===zs)return null;for(const Fs of Oo(Gs,zs.fieldPath))switch(Fs.op){case"array-contains-any":return Fs.value.arrayValue.values||[];case"array-contains":return[Fs.value]}return null}(Z,$),et=function(Gs,No){const zs=new Map;for(const Fs of nr(No))for(const Na of Oo(Gs,Fs.fieldPath))switch(Na.op){case"==":case"in":zs.set(Fs.fieldPath.canonicalString(),Na.value);break;case"not-in":case"!=":return zs.set(Fs.fieldPath.canonicalString(),Na.value),Array.from(zs.values())}return null}(Z,$),It=function(Gs,No){const zs=[];let Fs=!0;for(const Na of nr(No)){const qd=0===Na.kind?co(Gs,Na.fieldPath,Gs.startAt):Ru(Gs,Na.fieldPath,Gs.startAt);zs.push(qd.value),Fs&&(Fs=qd.inclusive)}return new xi(zs,Fs)}(Z,$),kt=function(Gs,No){const zs=[];let Fs=!0;for(const Na of nr(No)){const qd=0===Na.kind?Ru(Gs,Na.fieldPath,Gs.endAt):co(Gs,Na.fieldPath,Gs.endAt);zs.push(qd.value),Fs&&(Fs=qd.inclusive)}return new xi(zs,Fs)}(Z,$),nn=this.en($,Z,It),xn=this.en($,Z,kt),Ci=this.nn($,Z,et),Gi=this.sn($.indexId,Re,nn,It.inclusive,xn,kt.inclusive,Ci);return Qe.forEach(Gi,Gs=>a.J(Gs,s.limit).next(No=>{No.forEach(zs=>{const Fs=Me.fromSegments(zs.documentKey);C.has(Fs)||(C=C.add(Fs),N.push(Fs))})}))}).next(()=>N)}return Qe.resolve(null)})}Ze(t){let s=this.Xe.get(t);return s||(s=0===t.filters.length?[t]:nD(rn.create(t.filters,"and")).map(a=>Dl(t.path,t.collectionGroup,t.orderBy,a.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,s),s)}sn(t,s,a,c,p,C,N){const $=(null!=s?s.length:1)*Math.max(a.length,p.length),Z=$/(null!=s?s.length:1),fe=[];for(let Re=0;Re<$;++Re){const et=s?this.rn(s[Re/Z]):gh,It=this.on(t,et,a[Re%Z],c),kt=this.un(t,et,p[Re%Z],C),nn=N.map(xn=>this.on(t,et,xn,!0));fe.push(...this.createRange(It,kt,nn))}return fe}on(t,s,a,c){const p=new _o(t,Me.empty(),s,a);return c?p:p.Ue()}un(t,s,a,c){const p=new _o(t,Me.empty(),s,a);return c?p.Ue():p}tn(t,s){const a=new hf(s),c=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(t,c).next(p=>{let C=null;for(const N of p)a.je(N)&&(!C||N.fields.length>C.fields.length)&&(C=N);return C})}getIndexType(t,s){let a=2;const c=this.Ze(s);return Qe.forEach(c,p=>this.tn(t,p).next(C=>{C?0!==a&&C.fields.length<function(N){let $=new kr(he.comparator),Z=!1;for(const fe of N.filters)for(const Re of fe.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?Z=!0:$=$.add(Re.field));for(const fe of N.orderBy)fe.field.isKeyField()||($=$.add(fe.field));return $.size+(Z?1:0)}(p)&&(a=1):a=0})).next(()=>null!==s.limit&&c.length>1&&2===a?1:a)}cn(t,s){const a=new ph;for(const c of nr(t)){const p=s.data.field(c.fieldPath);if(null==p)return null;const C=a.qe(c.kind);Hu.Ie.ue(p,C)}return a.Fe()}rn(t){const s=new ph;return Hu.Ie.ue(t,s.qe(0)),s.Fe()}an(t,s){const a=new ph;return Hu.Ie.ue(k(this.databaseId,s),a.qe(function(c){const p=nr(c);return 0===p.length?0:p[p.length-1].kind}(t))),a.Fe()}nn(t,s,a){if(null===a)return[];let c=[];c.push(new ph);let p=0;for(const C of nr(t)){const N=a[p++];for(const $ of c)if(this.hn(s,C.fieldPath)&&ae(N))c=this.ln(c,C,N);else{const Z=$.qe(C.kind);Hu.Ie.ue(N,Z)}}return this.fn(c)}en(t,s,a){return this.nn(t,s,a.position)}fn(t){const s=[];for(let a=0;a<t.length;++a)s[a]=t[a].Fe();return s}ln(t,s,a){const c=[...t],p=[];for(const C of a.arrayValue.values||[])for(const N of c){const $=new ph;$.seed(N.Fe()),Hu.Ie.ue(C,$.qe(s.kind)),p.push($)}return p}hn(t,s){return!!t.filters.find(a=>a instanceof Xn&&a.field.isEqual(s)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(t,s){const a=mf(t),c=Id(t);return(s?a.W("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.W()).next(p=>{const C=[];return Qe.forEach(p,N=>c.get([N.indexId,this.uid]).next($=>{C.push(function(Z,fe){const Re=fe?new $n(fe.sequenceNumber,new _s(Yl(fe.readTime),new Me(Wn(fe.documentKey)),fe.largestBatchId)):$n.empty(),et=Z.fields.map(([It,kt])=>new Yn(he.fromServerFormat(It),kt));return new ot(Z.indexId,Z.collectionGroup,et,Re)}(N,$))})).next(()=>C)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(s=>0===s.length?null:(s.sort((a,c)=>{const p=a.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:_n(a.collectionGroup,c.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(t,s,a){const c=mf(t),p=Id(t);return this.dn(t).next(C=>c.W("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(N=>Qe.forEach(N,$=>p.put(Lp($.indexId,this.user,C,a)))))}updateIndexEntries(t,s){const a=new Map;return Qe.forEach(s,(c,p)=>{const C=a.get(c.collectionGroup);return(C?Qe.resolve(C):this.getFieldIndexes(t,c.collectionGroup)).next(N=>(a.set(c.collectionGroup,N),Qe.forEach(N,$=>this._n(t,c,$).next(Z=>{const fe=this.wn(p,$);return Z.isEqual(fe)?Qe.resolve():this.mn(t,p,$,Z,fe)}))))})}gn(t,s,a,c){return mh(t).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.an(a,s.key),documentKey:s.key.path.toArray()})}yn(t,s,a,c){return mh(t).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.an(a,s.key),s.key.path.toArray()])}_n(t,s,a){const c=mh(t);let p=new kr(Dc);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.an(a,s)])},(C,N)=>{p=p.add(new _o(a.indexId,s,N.arrayValue,N.directionalValue))}).next(()=>p)}wn(t,s){let a=new kr(Dc);const c=this.cn(s,t);if(null==c)return a;const p=Ut(s);if(null!=p){const C=t.data.field(p.fieldPath);if(ae(C))for(const N of C.arrayValue.values||[])a=a.add(new _o(s.indexId,t.key,this.rn(N),c))}else a=a.add(new _o(s.indexId,t.key,gh,c));return a}mn(t,s,a,c,p){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const C=[];return function(N,$,Z,fe,Re){const et=N.getIterator(),It=$.getIterator();let kt=lo(et),nn=lo(It);for(;kt||nn;){let xn=!1,Ci=!1;if(kt&&nn){const Gi=Z(kt,nn);Gi<0?Ci=!0:Gi>0&&(xn=!0)}else null!=kt?Ci=!0:xn=!0;xn?(fe(nn),nn=lo(It)):Ci?(Re(kt),kt=lo(et)):(kt=lo(et),nn=lo(It))}}(c,p,Dc,N=>{C.push(this.gn(t,s,a,N))},N=>{C.push(this.yn(t,s,a,N))}),Qe.waitFor(C)}dn(t){let s=1;return Id(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,p)=>{p.done(),s=c.sequenceNumber+1}).next(()=>s)}createRange(t,s,a){a=a.sort((C,N)=>Dc(C,N)).filter((C,N,$)=>!N||0!==Dc(C,$[N-1]));const c=[];c.push(t);for(const C of a){const N=Dc(C,t),$=Dc(C,s);if(0===N)c[0]=t.Ue();else if(N>0&&$<0)c.push(C),c.push(C.Ue());else if($>0)break}c.push(s);const p=[];for(let C=0;C<c.length;C+=2){if(this.pn(c[C],c[C+1]))return[];p.push(IDBKeyRange.bound([c[C].indexId,this.uid,c[C].arrayValue,c[C].directionalValue,gh,[]],[c[C+1].indexId,this.uid,c[C+1].arrayValue,c[C+1].directionalValue,gh,[]]))}return p}pn(t,s){return Dc(t,s)>0}getMinOffsetFromCollectionGroup(t,s){return this.getFieldIndexes(t,s).next(Wp)}getMinOffset(t,s){return Qe.mapArray(this.Ze(s),a=>this.tn(t,a).next(c=>c||Ft())).next(Wp)}}function iy(i){return Ar(i,"collectionParents")}function mh(i){return Ar(i,"indexEntries")}function mf(i){return Ar(i,"indexConfiguration")}function Id(i){return Ar(i,"indexState")}function Wp(i){Ye(0!==i.length);let t=i[0].indexState.offset,s=t.largestBatchId;for(let a=1;a<i.length;a++){const c=i[a].indexState.offset;Vs(c,t)<0&&(t=c),s<c.largestBatchId&&(s=c.largestBatchId)}return new _s(t.readTime,t.documentKey,s)}const Kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ya{constructor(t,s,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(t){return new ya(t,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gp(i,t,s){const a=i.store("mutations"),c=i.store("documentMutations"),p=[],C=IDBKeyRange.only(s.batchId);let N=0;const $=a.Z({range:C},(fe,Re,et)=>(N++,et.delete()));p.push($.next(()=>{Ye(1===N)}));const Z=[];for(const fe of s.mutations){const Re=ti(t,fe.key.path,s.batchId);p.push(c.delete(Re)),Z.push(fe.key)}return Qe.waitFor(p).next(()=>Z)}function yh(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Ft();t=i.noDocument}return JSON.stringify(t).length}ya.DEFAULT_COLLECTION_PERCENTILE=10,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ya.DEFAULT=new ya(41943040,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ya.DISABLED=new ya(-1,0,0);class vh{constructor(t,s,a,c){this.userId=t,this.yt=s,this.indexManager=a,this.referenceDelegate=c,this.In={}}static re(t,s,a,c){Ye(""!==t.uid);const p=t.isAuthenticated()?t.uid:"";return new vh(p,s,a,c)}checkEmpty(t){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mu(t).Z({index:"userMutationsIndex",range:a},(c,p,C)=>{s=!1,C.done()}).next(()=>s)}addMutationBatch(t,s,a,c){const p=Td(t),C=mu(t);return C.add({}).next(N=>{Ye("number"==typeof N);const $=new Sl(N,s,a,c),Z=function(et,It,kt){const nn=kt.baseMutations.map(Ci=>E(et.ie,Ci)),xn=kt.mutations.map(Ci=>E(et.ie,Ci));return{userId:It,batchId:kt.batchId,localWriteTimeMs:kt.localWriteTime.toMillis(),baseMutations:nn,mutations:xn}}(this.yt,this.userId,$),fe=[];let Re=new kr((et,It)=>_n(et.canonicalString(),It.canonicalString()));for(const et of c){const It=ti(this.userId,et.key.path,N);Re=Re.add(et.key.path.popLast()),fe.push(C.put(Z)),fe.push(p.put(It,us))}return Re.forEach(et=>{fe.push(this.indexManager.addToCollectionParentIndex(t,et))}),t.addOnCommittedListener(()=>{this.In[N]=$.keys()}),Qe.waitFor(fe).next(()=>$)})}lookupMutationBatch(t,s){return mu(t).get(s).next(a=>a?(Ye(a.userId===this.userId),fu(this.yt,a)):null)}Tn(t,s){return this.In[s]?Qe.resolve(this.In[s]):this.lookupMutationBatch(t,s).next(a=>{if(a){const c=a.keys();return this.In[s]=c,c}return null})}getNextMutationBatchAfterBatchId(t,s){const a=s+1,c=IDBKeyRange.lowerBound([this.userId,a]);let p=null;return mu(t).Z({index:"userMutationsIndex",range:c},(C,N,$)=>{N.userId===this.userId&&(Ye(N.batchId>=a),p=fu(this.yt,N)),$.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(t){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return mu(t).Z({index:"userMutationsIndex",range:s,reverse:!0},(c,p,C)=>{a=p.batchId,C.done()}).next(()=>a)}getAllMutationBatches(t){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mu(t).W("userMutationsIndex",s).next(a=>a.map(c=>fu(this.yt,c)))}getAllMutationBatchesAffectingDocumentKey(t,s){const a=jr(this.userId,s.path),c=IDBKeyRange.lowerBound(a),p=[];return Td(t).Z({range:c},(C,N,$)=>{const[Z,fe,Re]=C,et=Wn(fe);if(Z===this.userId&&s.path.isEqual(et))return mu(t).get(Re).next(It=>{if(!It)throw Ft();Ye(It.userId===this.userId),p.push(fu(this.yt,It))});$.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(t,s){let a=new kr(_n);const c=[];return s.forEach(p=>{const C=jr(this.userId,p.path),N=IDBKeyRange.lowerBound(C),$=Td(t).Z({range:N},(Z,fe,Re)=>{const[et,It,kt]=Z,nn=Wn(It);et===this.userId&&p.path.isEqual(nn)?a=a.add(kt):Re.done()});c.push($)}),Qe.waitFor(c).next(()=>this.En(t,a))}getAllMutationBatchesAffectingQuery(t,s){const a=s.path,c=a.length+1,p=jr(this.userId,a),C=IDBKeyRange.lowerBound(p);let N=new kr(_n);return Td(t).Z({range:C},($,Z,fe)=>{const[Re,et,It]=$,kt=Wn(et);Re===this.userId&&a.isPrefixOf(kt)?kt.length===c&&(N=N.add(It)):fe.done()}).next(()=>this.En(t,N))}En(t,s){const a=[],c=[];return s.forEach(p=>{c.push(mu(t).get(p).next(C=>{if(null===C)throw Ft();Ye(C.userId===this.userId),a.push(fu(this.yt,C))}))}),Qe.waitFor(c).next(()=>a)}removeMutationBatch(t,s){return Gp(t.se,this.userId,s).next(a=>(t.addOnCommittedListener(()=>{this.An(s.batchId)}),Qe.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(t,c))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(s=>{if(!s)return Qe.resolve();const a=IDBKeyRange.lowerBound([this.userId]),c=[];return Td(t).Z({range:a},(p,C,N)=>{if(p[0]===this.userId){const $=Wn(p[1]);c.push($)}else N.done()}).next(()=>{Ye(0===c.length)})})}containsKey(t,s){return zp(t,this.userId,s)}Rn(t){return oy(t).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zp(i,t,s){const a=jr(t,s.path),c=a[1],p=IDBKeyRange.lowerBound(a);let C=!1;return Td(i).Z({range:p,X:!0},(N,$,Z)=>{const[fe,Re,et]=N;fe===t&&Re===c&&(C=!0),Z.done()}).next(()=>C)}function mu(i){return Ar(i,"mutations")}function Td(i){return Ar(i,"documentMutations")}function oy(i){return Ar(i,"mutationQueues")}class Wu{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Wu(0)}static vn(){return new Wu(-1)}}class ay{constructor(t,s){this.referenceDelegate=t,this.yt=s}allocateTargetId(t){return this.Vn(t).next(s=>{const a=new Wu(s.highestTargetId);return s.highestTargetId=a.next(),this.Sn(t,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(s=>S.fromTimestamp(new es(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(t,s,a){return this.Vn(t).next(c=>(c.highestListenSequenceNumber=s,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),s>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=s),this.Sn(t,c)))}addTargetData(t,s){return this.Dn(t,s).next(()=>this.Vn(t).next(a=>(a.targetCount+=1,this.Cn(s,a),this.Sn(t,a))))}updateTargetData(t,s){return this.Dn(t,s)}removeTargetData(t,s){return this.removeMatchingKeysForTargetId(t,s.targetId).next(()=>_h(t).delete(s.targetId)).next(()=>this.Vn(t)).next(a=>(Ye(a.targetCount>0),a.targetCount-=1,this.Sn(t,a)))}removeTargets(t,s,a){let c=0;const p=[];return _h(t).Z((C,N)=>{const $=hh(N);$.sequenceNumber<=s&&null===a.get($.targetId)&&(c++,p.push(this.removeTargetData(t,$)))}).next(()=>Qe.waitFor(p)).next(()=>c)}forEachTarget(t,s){return _h(t).Z((a,c)=>{const p=hh(c);s(p)})}Vn(t){return Qp(t).get("targetGlobalKey").next(s=>(Ye(null!==s),s))}Sn(t,s){return Qp(t).put("targetGlobalKey",s)}Dn(t,s){return _h(t).put(Fp(this.yt,s))}Cn(t,s){let a=!1;return t.targetId>s.highestTargetId&&(s.highestTargetId=t.targetId,a=!0),t.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t.sequenceNumber,a=!0),a}getTargetCount(t){return this.Vn(t).next(s=>s.targetCount)}getTargetData(t,s){const a=Mi(s),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let p=null;return _h(t).Z({range:c,index:"queryTargetsIndex"},(C,N,$)=>{const Z=hh(N);vi(s,Z.target)&&(p=Z,$.done())}).next(()=>p)}addMatchingKeys(t,s,a){const c=[],p=yu(t);return s.forEach(C=>{const N=An(C.path);c.push(p.put({targetId:a,path:N})),c.push(this.referenceDelegate.addReference(t,a,C))}),Qe.waitFor(c)}removeMatchingKeys(t,s,a){const c=yu(t);return Qe.forEach(s,p=>{const C=An(p.path);return Qe.waitFor([c.delete([a,C]),this.referenceDelegate.removeReference(t,a,p)])})}removeMatchingKeysForTargetId(t,s){const a=yu(t),c=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(t,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),c=yu(t);let p=ar();return c.Z({range:a,X:!0},(C,N,$)=>{const Z=Wn(C[1]),fe=new Me(Z);p=p.add(fe)}).next(()=>p)}containsKey(t,s){const a=An(s.path),c=IDBKeyRange.bound([a],[il(a)],!1,!0);let p=0;return yu(t).Z({index:"documentTargetsIndex",X:!0,range:c},([C,N],$,Z)=>{0!==C&&(p++,Z.done())}).next(()=>p>0)}ne(t,s){return _h(t).get(s).next(a=>a?hh(a):null)}}function _h(i){return Ar(i,"targets")}function Qp(i){return Ar(i,"targetGlobal")}function yu(i){return Ar(i,"targetDocuments")}function ly([i,t],[s,a]){const c=_n(i,s);return 0===c?_n(t,a):c}class rD{constructor(t){this.xn=t,this.buffer=new kr(ly),this.Nn=0}kn(){return++this.Nn}On(t){const s=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();ly(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class o_{constructor(t,s,a){this.garbageCollector=t,this.asyncQueue=s,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var s=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,_.A)(function*(){s.Mn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(a){Ko(a)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Wo(a)}yield s.Fn(3e5)}))}}class cy{constructor(t,s){this.$n=t,this.params=s}calculateTargetCount(t,s){return this.$n.Bn(t).next(a=>Math.floor(s/100*a))}nthSequenceNumber(t,s){if(0===s)return Qe.resolve(Ao.at);const a=new rD(s);return this.$n.forEachTarget(t,c=>a.On(c.sequenceNumber)).next(()=>this.$n.Ln(t,c=>a.On(c))).next(()=>a.maxValue)}removeTargets(t,s,a){return this.$n.removeTargets(t,s,a)}removeOrphanedDocuments(t,s){return this.$n.removeOrphanedDocuments(t,s)}collect(t,s){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(Kp)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kp):this.qn(t,s))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,s){let a,c,p,C,N,$,Z;const fe=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),c=this.params.maximumSequenceNumbersToCollect):c=Re,C=Date.now(),this.nthSequenceNumber(t,c))).next(Re=>(a=Re,N=Date.now(),this.removeTargets(t,a,s))).next(Re=>(p=Re,$=Date.now(),this.removeOrphanedDocuments(t,a))).next(Re=>(Z=Date.now(),Ia()<=U.$b.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-fe}ms\n\tDetermined least recently used ${c} in `+(N-C)+`ms\n\tRemoved ${p} targets in `+($-N)+`ms\n\tRemoved ${Re} documents in `+(Z-$)+`ms\nTotal Duration: ${Z-fe}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Re})))}}class Xp{constructor(t,s){this.db=t,this.garbageCollector=new cy(this,s)}Bn(t){const s=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(a=>s.next(c=>a+c))}Un(t){let s=0;return this.Ln(t,a=>{s++}).next(()=>s)}forEachTarget(t,s){return this.db.getTargetCache().forEachTarget(t,s)}Ln(t,s){return this.Kn(t,(a,c)=>s(c))}addReference(t,s,a){return yf(t,a)}removeReference(t,s,a){return yf(t,a)}removeTargets(t,s,a){return this.db.getTargetCache().removeTargets(t,s,a)}markPotentiallyOrphaned(t,s){return yf(t,s)}Gn(t,s){return function(a,c){let p=!1;return oy(a).tt(C=>zp(a,C,c).next(N=>(N&&(p=!0),Qe.resolve(!N)))).next(()=>p)}(t,s)}removeOrphanedDocuments(t,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Kn(t,(C,N)=>{if(N<=s){const $=this.Gn(t,C).next(Z=>{if(!Z)return p++,a.getEntry(t,C).next(()=>(a.removeEntry(C,S.min()),yu(t).delete([0,An(C.path)])))});c.push($)}}).next(()=>Qe.waitFor(c)).next(()=>a.apply(t)).next(()=>p)}removeTarget(t,s){const a=s.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,a)}updateLimboDocument(t,s){return yf(t,s)}Kn(t,s){const a=yu(t);let c,p=Ao.at;return a.Z({index:"documentTargetsIndex"},([C,N],{path:$,sequenceNumber:Z})=>{0===C?(p!==Ao.at&&s(new Me(Wn(c)),p),p=Z,c=$):p=Ao.at}).next(()=>{p!==Ao.at&&s(new Me(Wn(c)),p)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function yf(i,t){return yu(i).put((a=i.currentSequenceNumber,{targetId:0,path:An(t.path),sequenceNumber:a}));var a}class Zl{constructor(){this.changes=new fl(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,Rs.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const a=this.changes.get(s);return void 0!==a?Qe.resolve(a):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Eh{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,s,a){return Sd(t).put(a)}removeEntry(t,s,a){return Sd(t).delete(function(c,p){const C=c.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],uf(p),C[C.length-1]]}(s,a))}updateMetadata(t,s){return this.getMetadata(t).next(a=>(a.byteSize+=s,this.Qn(t,a)))}getEntry(t,s){let a=Rs.newInvalidDocument(s);return Sd(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(s))},(c,p)=>{a=this.jn(s,p)}).next(()=>a)}Wn(t,s){let a={size:0,document:Rs.newInvalidDocument(s)};return Sd(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(s))},(c,p)=>{a={document:this.jn(s,p),size:yh(p)}}).next(()=>a)}getEntries(t,s){let a=fi();return this.zn(t,s,(c,p)=>{const C=this.jn(c,p);a=a.insert(c,C)}).next(()=>a)}Hn(t,s){let a=fi(),c=new vn(Me.comparator);return this.zn(t,s,(p,C)=>{const N=this.jn(p,C);a=a.insert(p,N),c=c.insert(p,yh(C))}).next(()=>({documents:a,Jn:c}))}zn(t,s,a){if(s.isEmpty())return Qe.resolve();let c=new kr(Zp);s.forEach($=>c=c.add($));const p=IDBKeyRange.bound(Dh(c.first()),Dh(c.last())),C=c.getIterator();let N=C.getNext();return Sd(t).Z({index:"documentKeyIndex",range:p},($,Z,fe)=>{const Re=Me.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;N&&Zp(N,Re)<0;)a(N,null),N=C.getNext();N&&N.isEqual(Re)&&(a(N,Z),N=C.hasNext()?C.getNext():null),N?fe.j(Dh(N)):fe.done()}).next(()=>{for(;N;)a(N,null),N=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(t,s,a,c){const p=s.path,C=[p.popLast().toArray(),p.lastSegment(),uf(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],N=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sd(t).W(IDBKeyRange.bound(C,N,!0)).next($=>{let Z=fi();for(const fe of $){const Re=this.jn(Me.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);Re.isFoundDocument()&&(Hl(s,Re)||c.has(Re.key))&&(Z=Z.insert(Re.key,Re))}return Z})}getAllFromCollectionGroup(t,s,a,c){let p=fi();const C=dy(s,a),N=dy(s,_s.max());return Sd(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,N,!0)},($,Z,fe)=>{const Re=this.jn(Me.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);p=p.insert(Re.key,Re),p.size===c&&fe.done()}).next(()=>p)}newChangeBuffer(t){return new Yp(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(s=>s.byteSize)}getMetadata(t){return vf(t).get("remoteDocumentGlobalKey").next(s=>(Ye(!!s),s))}Qn(t,s){return vf(t).put("remoteDocumentGlobalKey",s)}jn(t,s){if(s){const a=function t_(i,t){let s;if(t.document)s=function Cd(i,t,s){const a=Ja(i,t.name),c=Ai(t.updateTime),p=t.createTime?Ai(t.createTime):S.min(),C=new vo({mapValue:{fields:t.fields}}),N=Rs.newFoundDocument(a,c,p,C);return s&&N.setHasCommittedMutations(),s?N.setHasCommittedMutations():N}(i.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const a=Me.fromSegments(t.noDocument.path),c=Yl(t.noDocument.readTime);s=Rs.newNoDocument(a,c),t.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ft();{const a=Me.fromSegments(t.unknownDocument.path),c=Yl(t.unknownDocument.version);s=Rs.newUnknownDocument(a,c)}}return t.readTime&&s.setReadTime(function(a){const c=new es(a[0],a[1]);return S.fromTimestamp(c)}(t.readTime)),s}(this.yt,s);if(!a.isNoDocument()||!a.version.isEqual(S.min()))return a}return Rs.newInvalidDocument(t)}}function uy(i){return new Eh(i)}class Yp extends Zl{constructor(t,s){super(),this.Yn=t,this.trackRemovals=s,this.Xn=new fl(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(t){const s=[];let a=0,c=new kr((p,C)=>_n(p.canonicalString(),C.canonicalString()));return this.changes.forEach((p,C)=>{const N=this.Xn.get(p);if(s.push(this.Yn.removeEntry(t,p,N.readTime)),C.isValidDocument()){const $=ty(this.Yn.yt,C);c=c.add(p.path.popLast());const Z=yh($);a+=Z-N.size,s.push(this.Yn.addEntry(t,p,$))}else if(a-=N.size,this.trackRemovals){const $=ty(this.Yn.yt,C.convertToNoDocument(S.min()));s.push(this.Yn.addEntry(t,p,$))}}),c.forEach(p=>{s.push(this.Yn.indexManager.addToCollectionParentIndex(t,p))}),s.push(this.Yn.updateMetadata(t,a)),Qe.waitFor(s)}getFromCache(t,s){return this.Yn.Wn(t,s).next(a=>(this.Xn.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(t,s){return this.Yn.Hn(t,s).next(({documents:a,Jn:c})=>(c.forEach((p,C)=>{this.Xn.set(p,{size:C,readTime:a.get(p).readTime})}),a))}}function vf(i){return Ar(i,"remoteDocumentGlobal")}function Sd(i){return Ar(i,"remoteDocumentsV14")}function Dh(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dy(i,t){const s=t.documentKey.path.toArray();return[i,uf(t.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function Zp(i,t){const s=i.path.toArray(),a=t.path.toArray();let c=0;for(let p=0;p<s.length-2&&p<a.length-2;++p)if(c=_n(s[p],a[p]),c)return c;return c=_n(s.length,a.length),c||(c=_n(s[s.length-2],a[a.length-2]),c||_n(s[s.length-1],a[a.length-1]))}class hy{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}class a_{constructor(t,s,a,c){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=c}getDocument(t,s){let a=null;return this.documentOverlayCache.getOverlay(t,s).next(c=>(a=c,this.remoteDocumentCache.getEntry(t,s))).next(c=>(null!==a&&fc(a.mutation,c,Ki.empty(),es.now()),c))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(a=>this.getLocalViewOfDocuments(t,a,ar()).next(()=>a))}getLocalViewOfDocuments(t,s,a=ar()){const c=Aa();return this.populateOverlays(t,c,s).next(()=>this.computeViews(t,s,c,a).next(p=>{let C=pc();return p.forEach((N,$)=>{C=C.insert(N,$.overlayedDocument)}),C}))}getOverlayedDocuments(t,s){const a=Aa();return this.populateOverlays(t,a,s).next(()=>this.computeViews(t,s,a,ar()))}populateOverlays(t,s,a){const c=[];return a.forEach(p=>{s.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(t,c).next(p=>{p.forEach((C,N)=>{s.set(C,N)})})}computeViews(t,s,a,c){let p=fi();const C=cu(),N=cu();return s.forEach(($,Z)=>{const fe=a.get(Z.key);c.has(Z.key)&&(void 0===fe||fe.mutation instanceof fa)?p=p.insert(Z.key,Z):void 0!==fe?(C.set(Z.key,fe.mutation.getFieldMask()),fc(fe.mutation,Z,fe.mutation.getFieldMask(),es.now())):C.set(Z.key,Ki.empty())}),this.recalculateAndSaveOverlays(t,p).next($=>($.forEach((Z,fe)=>C.set(Z,fe)),s.forEach((Z,fe)=>{var Re;return N.set(Z,new hy(fe,null!==(Re=C.get(Z))&&void 0!==Re?Re:null))}),N))}recalculateAndSaveOverlays(t,s){const a=cu();let c=new vn((C,N)=>C-N),p=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(C=>{for(const N of C)N.keys().forEach($=>{const Z=s.get($);if(null===Z)return;let fe=a.get($)||Ki.empty();fe=N.applyToLocalView(Z,fe),a.set($,fe);const Re=(c.get(N.batchId)||ar()).add($);c=c.insert(N.batchId,Re)})}).next(()=>{const C=[],N=c.getReverseIterator();for(;N.hasNext();){const $=N.getNext(),Z=$.key,fe=$.value,Re=Wa();fe.forEach(et=>{if(!p.has(et)){const It=hc(s.get(et),a.get(et));null!==It&&Re.set(et,It),p=p.add(et)}}),C.push(this.documentOverlayCache.saveOverlays(t,Z,Re))}return Qe.waitFor(C)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,s,a){return Me.isDocumentKey((c=s).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(t,s.path):Ul(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,a):this.getDocumentsMatchingCollectionQuery(t,s,a);var c}getNextDocuments(t,s,a,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,a,c).next(p=>{const C=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,a.largestBatchId,c-p.size):Qe.resolve(Aa());let N=-1,$=p;return C.next(Z=>Qe.forEach(Z,(fe,Re)=>(N<Re.largestBatchId&&(N=Re.largestBatchId),p.get(fe)?Qe.resolve():this.remoteDocumentCache.getEntry(t,fe).next(et=>{$=$.insert(fe,et)}))).next(()=>this.populateOverlays(t,Z,p)).next(()=>this.computeViews(t,$,Z,ar())).next(fe=>({batchId:N,changes:Fu(fe)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new Me(s)).next(a=>{let c=pc();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}getDocumentsMatchingCollectionGroupQuery(t,s,a){const c=s.collectionGroup;let p=pc();return this.indexManager.getCollectionParents(t,c).next(C=>Qe.forEach(C,N=>{const $=(Z=s,fe=N.child(c),new hi(fe,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,fe;return this.getDocumentsMatchingCollectionQuery(t,$,a).next(Z=>{Z.forEach((fe,Re)=>{p=p.insert(fe,Re)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,a.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,a,c))).next(p=>{c.forEach((N,$)=>{const Z=$.getKey();null===p.get(Z)&&(p=p.insert(Z,Rs.newInvalidDocument(Z)))});let C=pc();return p.forEach((N,$)=>{const Z=c.get(N);void 0!==Z&&fc(Z.mutation,$,Ki.empty(),es.now()),Hl(s,$)&&(C=C.insert(N,$))}),C})}}class l_{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,s){return Qe.resolve(this.Zn.get(s))}saveBundleMetadata(t,s){var a;return this.Zn.set(s.id,{id:(a=s).id,version:a.version,createTime:Ai(a.createTime)}),Qe.resolve()}getNamedQuery(t,s){return Qe.resolve(this.ts.get(s))}saveNamedQuery(t,s){return this.ts.set(s.name,{name:(a=s).name,query:ju(a.bundledQuery),readTime:Ai(a.readTime)}),Qe.resolve();var a}}class Ku{constructor(){this.overlays=new vn(Me.comparator),this.es=new Map}getOverlay(t,s){return Qe.resolve(this.overlays.get(s))}getOverlays(t,s){const a=Aa();return Qe.forEach(s,c=>this.getOverlay(t,c).next(p=>{null!==p&&a.set(c,p)})).next(()=>a)}saveOverlays(t,s,a){return a.forEach((c,p)=>{this.oe(t,s,p)}),Qe.resolve()}removeOverlaysForBatchId(t,s,a){const c=this.es.get(a);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(a)),Qe.resolve()}getOverlaysForCollection(t,s,a){const c=Aa(),p=s.length+1,C=new Me(s.child("")),N=this.overlays.getIteratorFrom(C);for(;N.hasNext();){const $=N.getNext().value,Z=$.getKey();if(!s.isPrefixOf(Z.path))break;Z.path.length===p&&$.largestBatchId>a&&c.set($.getKey(),$)}return Qe.resolve(c)}getOverlaysForCollectionGroup(t,s,a,c){let p=new vn((Z,fe)=>Z-fe);const C=this.overlays.getIterator();for(;C.hasNext();){const Z=C.getNext().value;if(Z.getKey().getCollectionGroup()===s&&Z.largestBatchId>a){let fe=p.get(Z.largestBatchId);null===fe&&(fe=Aa(),p=p.insert(Z.largestBatchId,fe)),fe.set(Z.getKey(),Z)}}const N=Aa(),$=p.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((Z,fe)=>N.set(Z,fe)),!(N.size()>=c)););return Qe.resolve(N)}oe(t,s,a){const c=this.overlays.get(a.key);if(null!==c){const C=this.es.get(c.largestBatchId).delete(a.key);this.es.set(c.largestBatchId,C)}this.overlays=this.overlays.insert(a.key,new ey(s,a));let p=this.es.get(s);void 0===p&&(p=ar(),this.es.set(s,p)),this.es.set(s,p.add(a.key))}}class qp{constructor(){this.ns=new kr(Eo.ss),this.rs=new kr(Eo.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,s){const a=new Eo(t,s);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(t,s){t.forEach(a=>this.addReference(a,s))}removeReference(t,s){this.cs(new Eo(t,s))}hs(t,s){t.forEach(a=>this.removeReference(a,s))}ls(t){const s=new Me(new R([])),a=new Eo(s,t),c=new Eo(s,t+1),p=[];return this.rs.forEachInRange([a,c],C=>{this.cs(C),p.push(C.key)}),p}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const s=new Me(new R([])),a=new Eo(s,t),c=new Eo(s,t+1);let p=ar();return this.rs.forEachInRange([a,c],C=>{p=p.add(C.key)}),p}containsKey(t){const s=new Eo(t,0),a=this.ns.firstAfterOrEqual(s);return null!==a&&t.isEqual(a.key)}}class Eo{constructor(t,s){this.key=t,this._s=s}static ss(t,s){return Me.comparator(t.key,s.key)||_n(t._s,s._s)}static os(t,s){return _n(t._s,s._s)||Me.comparator(t.key,s.key)}}class Jp{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.ws=1,this.gs=new kr(Eo.ss)}checkEmpty(t){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,s,a,c){const p=this.ws;this.ws++;const C=new Sl(p,s,a,c);this.mutationQueue.push(C);for(const N of c)this.gs=this.gs.add(new Eo(N.key,p)),this.indexManager.addToCollectionParentIndex(t,N.key.path.popLast());return Qe.resolve(C)}lookupMutationBatch(t,s){return Qe.resolve(this.ys(s))}getNextMutationBatchAfterBatchId(t,s){const c=this.ps(s+1),p=c<0?0:c;return Qe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const a=new Eo(s,0),c=new Eo(s,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([a,c],C=>{const N=this.ys(C._s);p.push(N)}),Qe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(t,s){let a=new kr(_n);return s.forEach(c=>{const p=new Eo(c,0),C=new Eo(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,C],N=>{a=a.add(N._s)})}),Qe.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(t,s){const a=s.path,c=a.length+1;let p=a;Me.isDocumentKey(p)||(p=p.child(""));const C=new Eo(new Me(p),0);let N=new kr(_n);return this.gs.forEachWhile($=>{const Z=$.key.path;return!!a.isPrefixOf(Z)&&(Z.length===c&&(N=N.add($._s)),!0)},C),Qe.resolve(this.Is(N))}Is(t){const s=[];return t.forEach(a=>{const c=this.ys(a);null!==c&&s.push(c)}),s}removeMutationBatch(t,s){Ye(0===this.Ts(s.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return Qe.forEach(s.mutations,c=>{const p=new Eo(c.key,s.batchId);return a=a.delete(p),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.gs=a})}An(t){}containsKey(t,s){const a=new Eo(s,0),c=this.gs.firstAfterOrEqual(a);return Qe.resolve(s.isEqual(c&&c.key))}performConsistencyCheck(t){return Qe.resolve()}Ts(t,s){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const s=this.ps(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class bd{constructor(t){this.Es=t,this.docs=new vn(Me.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const a=s.key,c=this.docs.get(a),p=c?c.size:0,C=this.Es(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:C}),this.size+=C-p,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const a=this.docs.get(s);return Qe.resolve(a?a.document.mutableCopy():Rs.newInvalidDocument(s))}getEntries(t,s){let a=fi();return s.forEach(c=>{const p=this.docs.get(c);a=a.insert(c,p?p.document.mutableCopy():Rs.newInvalidDocument(c))}),Qe.resolve(a)}getDocumentsMatchingQuery(t,s,a,c){let p=fi();const C=s.path,N=new Me(C.child("")),$=this.docs.getIteratorFrom(N);for(;$.hasNext();){const{key:Z,value:{document:fe}}=$.getNext();if(!C.isPrefixOf(Z.path))break;Z.path.length>C.length+1||Vs(vs(fe),a)<=0||(c.has(fe.key)||Hl(s,fe))&&(p=p.insert(fe.key,fe.mutableCopy()))}return Qe.resolve(p)}getAllFromCollectionGroup(t,s,a,c){Ft()}As(t,s){return Qe.forEach(this.docs,a=>s(a))}newChangeBuffer(t){return new _f(this)}getSize(t){return Qe.resolve(this.size)}}class _f extends Zl{constructor(t){super(),this.Yn=t}applyChanges(t){const s=[];return this.changes.forEach((a,c)=>{c.isValidDocument()?s.push(this.Yn.addEntry(t,c)):this.Yn.removeEntry(a)}),Qe.waitFor(s)}getFromCache(t,s){return this.Yn.getEntry(t,s)}getAllFromCache(t,s){return this.Yn.getEntries(t,s)}}class eg{constructor(t){this.persistence=t,this.Rs=new fl(s=>Mi(s),vi),this.lastRemoteSnapshotVersion=S.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qp,this.targetCount=0,this.vs=Wu.Pn()}forEachTarget(t,s){return this.Rs.forEach((a,c)=>s(c)),Qe.resolve()}getLastRemoteSnapshotVersion(t){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Qe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(t,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.bs&&(this.bs=s),Qe.resolve()}Dn(t){this.Rs.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.vs=new Wu(s),this.highestTargetId=s),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,s){return this.Dn(s),this.targetCount+=1,Qe.resolve()}updateTargetData(t,s){return this.Dn(s),Qe.resolve()}removeTargetData(t,s){return this.Rs.delete(s.target),this.Ps.ls(s.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(t,s,a){let c=0;const p=[];return this.Rs.forEach((C,N)=>{N.sequenceNumber<=s&&null===a.get(N.targetId)&&(this.Rs.delete(C),p.push(this.removeMatchingKeysForTargetId(t,N.targetId)),c++)}),Qe.waitFor(p).next(()=>c)}getTargetCount(t){return Qe.resolve(this.targetCount)}getTargetData(t,s){const a=this.Rs.get(s)||null;return Qe.resolve(a)}addMatchingKeys(t,s,a){return this.Ps.us(s,a),Qe.resolve()}removeMatchingKeys(t,s,a){this.Ps.hs(s,a);const c=this.persistence.referenceDelegate,p=[];return c&&s.forEach(C=>{p.push(c.markPotentiallyOrphaned(t,C))}),Qe.waitFor(p)}removeMatchingKeysForTargetId(t,s){return this.Ps.ls(s),Qe.resolve()}getMatchingKeysForTargetId(t,s){const a=this.Ps.ds(s);return Qe.resolve(a)}containsKey(t,s){return Qe.resolve(this.Ps.containsKey(s))}}class Md{constructor(t,s){this.Vs={},this.overlays={},this.Ss=new Ao(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new eg(this),this.indexManager=new sy,this.remoteDocumentCache=new bd(a=>this.referenceDelegate.xs(a)),this.yt=new Pp(s),this.Ns=new l_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new Ku,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let a=this.Vs[t.toKey()];return a||(a=new Jp(s,this.referenceDelegate),this.Vs[t.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,s,a){Mt("MemoryPersistence","Starting transaction:",t);const c=new Ef(this.Ss.next());return this.referenceDelegate.ks(),a(c).next(p=>this.referenceDelegate.Os(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ms(t,s){return Qe.or(Object.values(this.Vs).map(a=>()=>a.containsKey(t,s)))}}class Ef extends Mo{constructor(t){super(),this.currentSequenceNumber=t}}class ql{constructor(t){this.persistence=t,this.Fs=new qp,this.$s=null}static Bs(t){return new ql(t)}get Ls(){if(this.$s)return this.$s;throw Ft()}addReference(t,s,a){return this.Fs.addReference(a,s),this.Ls.delete(a.toString()),Qe.resolve()}removeReference(t,s,a){return this.Fs.removeReference(a,s),this.Ls.add(a.toString()),Qe.resolve()}markPotentiallyOrphaned(t,s){return this.Ls.add(s.toString()),Qe.resolve()}removeTarget(t,s){this.Fs.ls(s.targetId).forEach(c=>this.Ls.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,s.targetId).next(c=>{c.forEach(p=>this.Ls.add(p.toString()))}).next(()=>a.removeTargetData(t,s))}ks(){this.$s=new Set}Os(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Ls,a=>{const c=Me.fromPath(a);return this.qs(t,c).next(p=>{p||s.removeEntry(c,S.min())})}).next(()=>(this.$s=null,s.apply(t)))}updateLimboDocument(t,s){return this.qs(t,s).next(a=>{a?this.Ls.delete(s.toString()):this.Ls.add(s.toString())})}xs(t){return 0}qs(t,s){return Qe.or([()=>Qe.resolve(this.Fs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Ms(t,s)])}}class tg{constructor(t){this.yt=t}$(t,s,a,c){const p=new Hi("createOrUpgrade",s);var N;a<1&&c>=1&&(t.createObjectStore("owner"),(N=t).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vr,{unique:!0}),N.createObjectStore("documentMutations"),Ch(t),function(N){N.createObjectStore("remoteDocuments")}(t));let C=Qe.resolve();return a<3&&c>=3&&(0!==a&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(t),Ch(t)),C=C.next(()=>function(N){const $=N.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:S.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",Z)}(p))),a<4&&c>=4&&(0!==a&&(C=C.next(()=>function(N,$){return $.store("mutations").W().next(Z=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vr,{unique:!0});const fe=$.store("mutations"),Re=Z.map(et=>fe.put(et));return Qe.waitFor(Re)})}(t,p))),C=C.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),a<5&&c>=5&&(C=C.next(()=>this.Us(p))),a<6&&c>=6&&(C=C.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(p)))),a<7&&c>=7&&(C=C.next(()=>this.Gs(p))),a<8&&c>=8&&(C=C.next(()=>this.Qs(t,p))),a<9&&c>=9&&(C=C.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(t)})),a<10&&c>=10&&(C=C.next(()=>this.js(p))),a<11&&c>=11&&(C=C.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),a<12&&c>=12&&(C=C.next(()=>{!function(N){const $=N.createObjectStore("documentOverlays",{keyPath:Oe});$.createIndex("collectionPathOverlayIndex",ct,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",dt,{unique:!1})}(t)})),a<13&&c>=13&&(C=C.next(()=>function(N){const $=N.createObjectStore("remoteDocumentsV14",{keyPath:Xo});$.createIndex("documentKeyIndex",_c),$.createIndex("collectionGroupIndex",f)}(t)).next(()=>this.Ws(t,p)).next(()=>t.deleteObjectStore("remoteDocuments"))),a<14&&c>=14&&(C=C.next(()=>this.zs(t,p))),a<15&&c>=15&&(C=C.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:P}).createIndex("sequenceNumberIndex",j,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:se}).createIndex("documentKeyIndex",_e,{unique:!1})}(t))),C}Ks(t){let s=0;return t.store("remoteDocuments").Z((a,c)=>{s+=yh(c)}).next(()=>{const a={byteSize:s};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Us(t){const s=t.store("mutationQueues"),a=t.store("mutations");return s.W().next(c=>Qe.forEach(c,p=>{const C=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",C).next(N=>Qe.forEach(N,$=>{Ye($.userId===p.userId);const Z=fu(this.yt,$);return Gp(t,p.userId,Z).next(()=>{})}))}))}Gs(t){const s=t.store("targetDocuments"),a=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return a.Z((C,N)=>{const $=new R(C),Z=[0,An($)];p.push(s.get(Z).next(fe=>fe?Qe.resolve():s.put({targetId:0,path:An($),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Qe.waitFor(p))})}Qs(t,s){t.createObjectStore("collectionParents",{keyPath:O});const a=s.store("collectionParents"),c=new Hp,p=C=>{if(c.add(C)){const N=C.lastSegment(),$=C.popLast();return a.put({collectionId:N,parent:An($)})}};return s.store("remoteDocuments").Z({X:!0},(C,N)=>{const $=new R(C);return p($.popLast())}).next(()=>s.store("documentMutations").Z({X:!0},([C,N,$],Z)=>{const fe=Wn(N);return p(fe.popLast())}))}js(t){const s=t.store("targets");return s.Z((a,c)=>{const p=hh(c),C=Fp(this.yt,p);return s.put(C)})}Ws(t,s){const a=s.store("remoteDocuments"),c=[];return a.Z((p,C)=>{const N=s.store("remoteDocumentsV14"),$=(Z=C,Z.document?new Me(R.fromString(Z.document.name).popFirst(5)):Z.noDocument?Me.fromSegments(Z.noDocument.path):Z.unknownDocument?Me.fromSegments(Z.unknownDocument.path):Ft()).path.toArray();var Z;const fe={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};c.push(N.put(fe))}).next(()=>Qe.waitFor(c))}zs(t,s){const a=s.store("mutations"),c=uy(this.yt),p=new Md(ql.Bs,this.yt.ie);return a.W().next(C=>{const N=new Map;return C.forEach($=>{var Z;let fe=null!==(Z=N.get($.userId))&&void 0!==Z?Z:ar();fu(this.yt,$).keys().forEach(Re=>fe=fe.add(Re)),N.set($.userId,fe)}),Qe.forEach(N,($,Z)=>{const fe=new Wr(Z),Re=$u.re(this.yt,fe),et=p.getIndexManager(fe),It=vh.re(fe,this.yt,et,p.referenceDelegate);return new a_(c,It,Re,et).recalculateAndSaveOverlaysForDocumentKeys(new Yo(s,Ao.at),$).next()})})}}function Ch(i){i.createObjectStore("targetDocuments",{keyPath:h}).createIndex("documentTargetsIndex",y,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),i.createObjectStore("targetGlobal")}const Gu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wh{constructor(t,s,a,c,p,C,N,$,Z,fe,Re=15){if(this.allowTabSynchronization=t,this.persistenceKey=s,this.clientId=a,this.Hs=p,this.window=C,this.document=N,this.Js=Z,this.Ys=fe,this.Xs=Re,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=et=>Promise.resolve(),!wh.C())throw new _t(qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xp(this,c),this.ii=s+"main",this.yt=new Pp($),this.ri=new Wi(this.ii,this.Xs,new tg(this.yt)),this.Cs=new ay(this.referenceDelegate,this.yt),this.remoteDocumentCache=uy(this.yt),this.Ns=new fh,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===fe&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(qe.FAILED_PRECONDITION,Gu);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Ao(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var s=this;return this.si=function(){var a=(0,_.A)(function*(c){if(s.started)return t(c)});return function(c){return a.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var s=(0,_.A)(function*(a){null===a.newVersion&&(yield t())});return function(a){return s.apply(this,arguments)}}())}setNetworkEnabled(t){var s=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,_.A)(function*(){s.started&&(yield s.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Qu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(s=>{s||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(s=>this.isPrimary&&!s?this._i(t).next(()=>!1):!!s&&this.wi(t).next(()=>!0))).catch(t=>{if(Ko(t))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return zu(t).get("owner").next(s=>Qe.resolve(this.mi(s)))}gi(t){return Qu(t).delete(this.clientId)}yi(){var t=this;return(0,_.A)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const s=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Ar(a,"clientMetadata");return c.W().next(p=>{const C=t.Ii(p,18e5),N=p.filter($=>-1===C.indexOf($));return Qe.forEach(N,$=>c.delete($.clientId)).next(()=>N)})}).catch(()=>[]);if(t.oi)for(const a of s)t.oi.removeItem(t.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Qe.resolve(!0):zu(t).get("owner").next(s=>{if(null!==s&&this.pi(s.leaseTimestampMs,5e3)&&!this.Ei(s.ownerId)){if(this.mi(s)&&this.networkEnabled)return!0;if(!this.mi(s)){if(!s.allowTabSynchronization)throw new _t(qe.FAILED_PRECONDITION,Gu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qu(t).W().next(a=>void 0===this.Ii(a,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(s=>(this.isPrimary!==s&&Mt("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var t=this;return(0,_.A)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const a=new Yo(s,Ao.at);return t._i(a).next(()=>t.gi(a))}),t.ri.close(),t.Pi()})()}Ii(t,s){return t.filter(a=>this.pi(a.updateTimeMs,s)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>Qu(t).W().next(s=>this.Ii(s,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(t,s){return vh.re(t,this.yt,s,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new i_(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return $u.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,s,a){Mt("IndexedDbPersistence","Starting transaction:",t);const c="readonly"===s?"readonly":"readwrite",p=15===(C=this.Xs)?ds:14===C?ms:13===C?On:12===C?jt:11===C?Dt:void Ft();var C;let N;return this.ri.runTransaction(t,c,p,$=>(N=new Yo($,this.Ss?this.Ss.next():Ao.at),"readwrite-primary"===s?this.fi(N).next(Z=>!!Z||this.di(N)).next(Z=>{if(!Z)throw ei(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new _t(qe.FAILED_PRECONDITION,$i);return a(N)}).next(Z=>this.wi(N).next(()=>Z)):this.Vi(N).next(()=>a(N)))).then($=>(N.raiseOnCommittedEvent(),$))}Vi(t){return zu(t).get("owner").next(s=>{if(null!==s&&this.pi(s.leaseTimestampMs,5e3)&&!this.Ei(s.ownerId)&&!this.mi(s)&&!(this.Ys||this.allowTabSynchronization&&s.allowTabSynchronization))throw new _t(qe.FAILED_PRECONDITION,Gu)})}wi(t){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zu(t).put("owner",s)}static C(){return Wi.C()}_i(t){const s=zu(t);return s.get("owner").next(a=>this.mi(a)?(Mt("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):Qe.resolve())}pi(t,s){const a=Date.now();return!(t<a-s||t>a&&(ei(`Detected an update time that is in the future: ${t} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,W.nr)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var s;try{const a=null!==(null===(s=this.oi)||void 0===s?void 0:s.getItem(this.Ti(t)));return Mt("IndexedDbPersistence",`Client '${t}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return ei("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){ei("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function zu(i){return Ar(i,"owner")}function Qu(i){return Ar(i,"clientMetadata")}class Ih{constructor(t,s,a,c){this.targetId=t,this.fromCache=s,this.Si=a,this.Di=c}static Ci(t,s){let a=ar(),c=ar();for(const p of s.docChanges)switch(p.type){case 0:a=a.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Ih(t,s.fromCache,a,c)}}class c_{constructor(){this.xi=!1}initialize(t,s){this.Ni=t,this.indexManager=s,this.xi=!0}getDocumentsMatchingQuery(t,s,a,c){return this.ki(t,s).next(p=>p||this.Oi(t,s,c,a)).next(p=>p||this.Mi(t,s))}ki(t,s){if(uc(s))return Qe.resolve(null);let a=_i(s);return this.indexManager.getIndexType(t,a).next(c=>0===c?null:(null!==s.limit&&1===c&&(s=jl(s,null,"F"),a=_i(s)),this.indexManager.getDocumentsMatchingTarget(t,a).next(p=>{const C=ar(...p);return this.Ni.getDocuments(t,C).next(N=>this.indexManager.getMinOffset(t,a).next($=>{const Z=this.Fi(s,N);return this.$i(s,Z,C,$.readTime)?this.ki(t,jl(s,null,"F")):this.Bi(t,Z,s,$)}))})))}Oi(t,s,a,c){return uc(s)||c.isEqual(S.min())?this.Mi(t,s):this.Ni.getDocuments(t,a).next(p=>{const C=this.Fi(s,p);return this.$i(s,C,a,c)?this.Mi(t,s):(Ia()<=U.$b.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),$l(s)),this.Bi(t,C,s,function wr(i,t){const s=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,c=S.fromTimestamp(1e9===a?new es(s+1,0):new es(s,a));return new _s(c,Me.empty(),t)}(c,-1)))})}Fi(t,s){let a=new kr(Ji(t));return s.forEach((c,p)=>{Hl(t,p)&&(a=a.add(p))}),a}$i(t,s,a,c){if(null===t.limit)return!1;if(a.size!==s.size)return!0;const p="F"===t.limitType?s.last():s.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Mi(t,s){return Ia()<=U.$b.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",$l(s)),this.Ni.getDocumentsMatchingQuery(t,s,_s.min())}Bi(t,s,a,c){return this.Ni.getDocumentsMatchingQuery(t,a,c).next(p=>(s.forEach(C=>{p=p.insert(C.key,C)}),p))}}class Ad{constructor(t,s,a,c){this.persistence=t,this.Li=s,this.yt=c,this.qi=new vn(_n),this.Ui=new fl(p=>Mi(p),vi),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(a)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new a_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.qi))}}function ng(i,t,s,a){return new Ad(i,t,s,a)}function rg(i,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,_.A)(function*(i,t){const s=At(i);return yield s.persistence.runTransaction("Handle user change","readonly",a=>{let c;return s.mutationQueue.getAllMutationBatches(a).next(p=>(c=p,s.Qi(t),s.mutationQueue.getAllMutationBatches(a))).next(p=>{const C=[],N=[];let $=ar();for(const Z of c){C.push(Z.batchId);for(const fe of Z.mutations)$=$.add(fe.key)}for(const Z of p){N.push(Z.batchId);for(const fe of Z.mutations)$=$.add(fe.key)}return s.localDocuments.getDocuments(a,$).next(Z=>({ji:Z,removedBatchIds:C,addedBatchIds:N}))})})}),Cf.apply(this,arguments)}function ig(i){const t=At(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.Cs.getLastRemoteSnapshotVersion(s))}function og(i,t){const s=At(i);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===t&&(t=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Xu(i,t,s){return uo.apply(this,arguments)}function uo(){return uo=(0,_.A)(function*(i,t,s){const a=At(i),c=a.qi.get(t),p=s?"readwrite":"readwrite-primary";try{s||(yield a.persistence.runTransaction("Release target",p,C=>a.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!Ko(C))throw C;Mt("LocalStore",`Failed to update sequence numbers for target ${t}: ${C}`)}a.qi=a.qi.remove(t),a.Ui.delete(c.target)}),uo.apply(this,arguments)}function If(i,t,s){const a=At(i);let c=S.min(),p=ar();return a.persistence.runTransaction("Execute query","readonly",C=>function(N,$,Z){const fe=At(N),Re=fe.Ui.get(Z);return void 0!==Re?Qe.resolve(fe.qi.get(Re)):fe.Cs.getTargetData($,Z)}(a,C,_i(t)).next(N=>{if(N)return c=N.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(C,N.targetId).next($=>{p=$})}).next(()=>a.Li.getDocumentsMatchingQuery(C,t,s?c:S.min(),s?p:ar())).next(N=>(function ag(i,t,s){let a=i.Ki.get(t)||S.min();s.forEach((c,p)=>{p.readTime.compareTo(a)>0&&(a=p.readTime)}),i.Ki.set(t,a)}(a,function su(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(t),N),{documents:N,Hi:p})))}class qu{constructor(){this.activeTargetIds=qa()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _u{constructor(){this.Lr=new qu,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,a){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,s,a){this.qr[t]=s}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new qu,Promise.resolve()}handleUserChange(t,s,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Th{Ur(t){}shutdown(){}}class Sh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const d_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h_{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Mf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,s,a,c,p){const C=this.ho(t,s);Mt("RestConnection","Sending: ",C,a);const N={};return this.lo(N,c,p),this.fo(t,C,N,a).then($=>(Mt("RestConnection","Received: ",$),$),$=>{throw bo("RestConnection",`${t} failed with error: `,$,"url: ",C,"request:",a),$})}_o(t,s,a,c,p,C){return this.ao(t,s,a,c,p)}lo(t,s,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+ao,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,p)=>t[p]=c),a&&a.headers.forEach((c,p)=>t[p]=c)}ho(t,s){return`${this.oo}/v1/${s}:${d_[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,s,a,c){return new Promise((p,C)=>{const N=new Jr;N.setWithCredentials(!0),N.listenOnce(Lr.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case jo.NO_ERROR:const Z=N.getResponseJson();Mt("Connection","XHR received:",JSON.stringify(Z)),p(Z);break;case jo.TIMEOUT:Mt("Connection",'RPC "'+t+'" timed out'),C(new _t(qe.DEADLINE_EXCEEDED,"Request time out"));break;case jo.HTTP_ERROR:const fe=N.getStatus();if(Mt("Connection",'RPC "'+t+'" failed with status:',fe,"response text:",N.getResponseText()),fe>0){let Re=N.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const et=Re?.error;if(et&&et.status&&et.message){const It=function(kt){const nn=kt.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(nn)>=0?nn:qe.UNKNOWN}(et.status);C(new _t(It,et.message))}else C(new _t(qe.UNKNOWN,"Server responded with status "+N.getStatus()))}else C(new _t(qe.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{Mt("Connection",'RPC "'+t+'" completed.')}});const $=JSON.stringify(c);N.send(s,"POST",$,a,15)})}wo(t,s,a){const c=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=ra(),C=sa(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new ia({})),this.lo(N.initMessageHeaders,s,a),N.encodeInitMessageHeaders=!0;const $=c.join("");Mt("Connection","Creating WebChannel: "+$,N);const Z=p.createWebChannel($,N);let fe=!1,Re=!1;const et=new h_({Hr:kt=>{Re?Mt("Connection","Not sending because WebChannel is closed:",kt):(fe||(Mt("Connection","Opening WebChannel transport."),Z.open(),fe=!0),Mt("Connection","WebChannel sending:",kt),Z.send(kt))},Jr:()=>Z.close()}),It=(kt,nn,xn)=>{kt.listen(nn,Ci=>{try{xn(Ci)}catch(Gi){setTimeout(()=>{throw Gi},0)}})};return It(Z,as.EventType.OPEN,()=>{Re||Mt("Connection","WebChannel transport opened.")}),It(Z,as.EventType.CLOSE,()=>{Re||(Re=!0,Mt("Connection","WebChannel transport closed"),et.io())}),It(Z,as.EventType.ERROR,kt=>{Re||(Re=!0,bo("Connection","WebChannel transport errored:",kt),et.io(new _t(qe.UNAVAILABLE,"The operation could not be completed")))}),It(Z,as.EventType.MESSAGE,kt=>{var nn;if(!Re){const xn=kt.data[0];Ye(!!xn);const Gi=xn.error||(null===(nn=xn[0])||void 0===nn?void 0:nn.error);if(Gi){Mt("Connection","WebChannel received error:",Gi);const Gs=Gi.status;let No=function(Fs){const Na=Ms[Fs];if(void 0!==Na)return ma(Na)}(Gs),zs=Gi.message;void 0===No&&(No=qe.INTERNAL,zs="Unknown error status: "+Gs+" with message "+Gi.message),Re=!0,et.io(new _t(No,zs)),Z.close()}else Mt("Connection","WebChannel received:",xn),et.ro(xn)}}),It(C,Hs.STAT_EVENT,kt=>{kt.stat===sl.PROXY?Mt("Connection","Detected buffering proxy"):kt.stat===sl.NOPROXY&&Mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{et.so()},0),et}}function $c(){return typeof document<"u"?document:null}function bh(i){return new Bc(i,!0)}class Af{constructor(t,s,a=1e3,c=1.5,p=6e4){this.Hs=t,this.timerId=s,this.mo=a,this.yo=c,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const s=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),c=Math.max(0,s-a);c>0&&Mt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Nd{constructor(t,s,a,c,p,C,N,$){this.Hs=t,this.vo=a,this.Vo=c,this.connection=p,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=N,this.listener=$,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Af(t,s)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,_.A)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,_.A)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,s){var a=this;return(0,_.A)(function*(){a.Lo(),a.qo(),a.xo.cancel(),a.So++,4!==t?a.xo.reset():s&&s.code===qe.RESOURCE_EXHAUSTED?(ei(s.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):s&&s.code===qe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Uo(),a.stream.close(),a.stream=null),a.state=t,yield a.listener.Zr(s)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),s=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.So===s&&this.Go(a,c)},a=>{t(()=>{const c=new _t(qe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(c)})})}Go(t,s){const a=this.Ko(this.So);this.stream=this.jo(t,s),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{a(()=>this.Qo(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,_.A)(function*(){t.state=0,t.start()}))}Qo(t){return Mt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return s=>{this.Hs.enqueueAndForget(()=>this.So===t?s():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Of extends Nd{constructor(t,s,a,c,p,C){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,c,C),this.yt=p}jo(t,s){return this.connection.wo("Listen",t,s)}onMessage(t){this.xo.reset();const s=function I(i,t){let s;if("targetChange"in t){const a="NO_CHANGE"===($=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Ft(),c=t.targetChange.targetIds||[],p=function($,Z){return $.wt?(Ye(void 0===Z||"string"==typeof Z),di.fromBase64String(Z||"")):(Ye(void 0===Z||Z instanceof Uint8Array),di.fromUint8Array(Z||new Uint8Array))}(i,t.targetChange.resumeToken),C=t.targetChange.cause,N=C&&function($){const Z=void 0===$.code?qe.UNKNOWN:ma($.code);return new _t(Z,$.message||"")}(C);s=new vd(a,c,p,N||null)}else if("documentChange"in t){const a=t.documentChange,c=Ja(i,a.document.name),p=Ai(a.document.updateTime),C=a.document.createTime?Ai(a.document.createTime):S.min(),N=new vo({mapValue:{fields:a.document.fields}}),$=Rs.newFoundDocument(c,p,C,N);s=new Vc(a.targetIds||[],a.removedTargetIds||[],$.key,$)}else if("documentDelete"in t){const a=t.documentDelete,c=Ja(i,a.document),p=a.readTime?Ai(a.readTime):S.min(),C=Rs.newNoDocument(c,p);s=new Vc([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in t){const a=t.documentRemove,c=Ja(i,a.document);s=new Vc([],a.removedTargetIds||[],c,null)}else{if(!("filter"in t))return Ft();{const a=t.filter,p=new pa(a.count||0);s=new yd(a.targetId,p)}}var $;return s}(this.yt,t),a=function(c){if(!("targetChange"in c))return S.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?S.min():p.readTime?Ai(p.readTime):S.min()}(t);return this.listener.Wo(s,a)}zo(t){const s={};s.database=Tl(this.yt),s.addTarget=function(c,p){let C;const N=p.target;return C=cc(N)?{documents:B(c,N)}:{query:te(c,N)},C.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?C.resumeToken=uh(c,p.resumeToken):p.snapshotVersion.compareTo(S.min())>0&&(C.readTime=ii(c,p.snapshotVersion.toTimestamp())),C}(this.yt,t);const a=function Ee(i,t){const s=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ft()}}(0,t.purpose);return null==s?null:{"goog-listen-tags":s}}(0,t);a&&(s.labels=a),this.Bo(s)}Ho(t){const s={};s.database=Tl(this.yt),s.removeTarget=t,this.Bo(s)}}class vy extends Nd{constructor(t,s,a,c,p,C){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,c,C),this.yt=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,s){return this.connection.wo("Write",t,s)}onMessage(t){if(Ye(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const s=function A(i,t){return i&&i.length>0?(Ye(void 0!==t),i.map(s=>function(a,c){let p=Ai(a.updateTime?a.updateTime:c);return p.isEqual(S.min())&&(p=Ai(c)),new Cl(p,a.transformResults||[])}(s,t))):[]}(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.Zo(a,s)}return Ye(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Tl(this.yt),this.Bo(t)}Xo(t){const s={streamToken:this.lastStreamToken,writes:t.map(a=>E(this.yt,a))};this.Bo(s)}}class _y extends class{}{constructor(t,s,a,c){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=a,this.yt=c,this.nu=!1}su(){if(this.nu)throw new _t(qe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.ao(t,s,a,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(qe.UNKNOWN,c.toString())})}_o(t,s,a,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,C])=>this.connection._o(t,s,a,p,C,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new _t(qe.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class f_{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const s=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ei(s),this.ou=!1):Mt("OnlineStateTracker",s)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class va{constructor(t,s,a,c,p){var C=this;this.localStore=t,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.Ur(N=>{a.enqueueAndForget((0,_.A)(function*(){var $;Jl(C)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,_.A)(function*(Z){const fe=At(Z);fe._u.add(4),yield Eu(fe),fe.gu.set("Unknown"),fe._u.delete(4),yield Ah(fe)}),function(Z){return $.apply(this,arguments)})(C))}))}),this.gu=new f_(a,c)}}function Ah(i){return cg.apply(this,arguments)}function cg(){return cg=(0,_.A)(function*(i){if(Jl(i))for(const t of i.wu)yield t(!0)}),cg.apply(this,arguments)}function Eu(i){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,_.A)(function*(i){for(const t of i.wu)yield t(!1)}),Nf.apply(this,arguments)}function Oh(i,t){const s=At(i);s.du.has(t.targetId)||(s.du.set(t.targetId,t),Rd(s)?dg(s):wc(s).ko()&&Ey(s,t))}function Nh(i,t){const s=At(i),a=wc(s);s.du.delete(t),a.ko()&&ug(s,t),0===s.du.size&&(a.ko()?a.Fo():Jl(s)&&s.gu.set("Unknown"))}function Ey(i,t){i.yu.Ot(t.targetId),wc(i).zo(t)}function ug(i,t){i.yu.Ot(t),wc(i).Ho(t)}function dg(i){i.yu=new Oa({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>i.du.get(t)||null}),wc(i).start(),i.gu.uu()}function Rd(i){return Jl(i)&&!wc(i).No()&&i.du.size>0}function Jl(i){return 0===At(i)._u.size}function Rf(i){i.yu=void 0}function xd(i){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,_.A)(function*(i){i.du.forEach((t,s)=>{Ey(i,t)})}),Pd.apply(this,arguments)}function xf(i,t){return Du.apply(this,arguments)}function Du(){return Du=(0,_.A)(function*(i,t){Rf(i),Rd(i)?(i.gu.hu(t),dg(i)):i.gu.set("Unknown")}),Du.apply(this,arguments)}function hg(i,t,s){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,_.A)(function*(i,t,s){if(i.gu.set("Online"),t instanceof vd&&2===t.state&&t.cause)try{yield(a=(0,_.A)(function*(c,p){const C=p.cause;for(const N of p.targetIds)c.du.has(N)&&(yield c.remoteSyncer.rejectListen(N,C),c.du.delete(N),c.yu.removeTarget(N))}),function(c,p){return a.apply(this,arguments)})(i,t)}catch(a){Mt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),yield xh(i,a)}else if(t instanceof Vc?i.yu.Kt(t):t instanceof yd?i.yu.Jt(t):i.yu.jt(t),!s.isEqual(S.min()))try{const a=yield ig(i.localStore);s.compareTo(a)>=0&&(yield function(c,p){const C=c.yu.Zt(p);return C.targetChanges.forEach((N,$)=>{if(N.resumeToken.approximateByteSize()>0){const Z=c.du.get($);Z&&c.du.set($,Z.withResumeToken(N.resumeToken,p))}}),C.targetMismatches.forEach(N=>{const $=c.du.get(N);if(!$)return;c.du.set(N,$.withResumeToken(di.EMPTY_BYTE_STRING,$.snapshotVersion)),ug(c,N);const Z=new hu($.target,N,1,$.sequenceNumber);Ey(c,Z)}),c.remoteSyncer.applyRemoteEvent(C)}(i,s))}catch(a){Mt("RemoteStore","Failed to raise snapshot:",a),yield xh(i,a)}var a}),Rh.apply(this,arguments)}function xh(i,t,s){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,_.A)(function*(i,t,s){if(!Ko(t))throw t;i._u.add(1),yield Eu(i),i.gu.set("Offline"),s||(s=()=>ig(i.localStore)),i.asyncQueue.enqueueRetryable((0,_.A)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield s(),i._u.delete(1),yield Ah(i)}))}),Pf.apply(this,arguments)}function Ff(i,t){return t().catch(s=>xh(i,s,t))}function Fd(i){return fg.apply(this,arguments)}function fg(){return fg=(0,_.A)(function*(i){const t=At(i),s=Cu(t);let a=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;kd(t);)try{const c=yield og(t.localStore,a);if(null===c){0===t.fu.length&&s.Fo();break}a=c.batchId,Ph(t,c)}catch(c){yield xh(t,c)}p_(t)&&pg(t)}),fg.apply(this,arguments)}function kd(i){return Jl(i)&&i.fu.length<10}function Ph(i,t){i.fu.push(t);const s=Cu(i);s.ko()&&s.Yo&&s.Xo(t.mutations)}function p_(i){return Jl(i)&&!Cu(i).No()&&i.fu.length>0}function pg(i){Cu(i).start()}function g_(i){return kf.apply(this,arguments)}function kf(){return kf=(0,_.A)(function*(i){Cu(i).eu()}),kf.apply(this,arguments)}function sD(i){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,_.A)(function*(i){const t=Cu(i);for(const s of i.fu)t.Xo(s.mutations)}),Lf.apply(this,arguments)}function m_(i,t,s){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,_.A)(function*(i,t,s){const a=i.fu.shift(),c=Ec.from(a,t,s);yield Ff(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Fd(i)}),Vf.apply(this,arguments)}function Ju(i,t){return gg.apply(this,arguments)}function gg(){return gg=(0,_.A)(function*(i,t){var s;t&&Cu(i).Yo&&(yield(s=(0,_.A)(function*(a,c){if(function ga(i){switch(i){default:return Ft();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}(p=c.code)&&p!==qe.ABORTED){const C=a.fu.shift();Cu(a).Mo(),yield Ff(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,c)),yield Fd(a)}var p}),function(a,c){return s.apply(this,arguments)})(i,t)),p_(i)&&pg(i)}),gg.apply(this,arguments)}function y_(i,t){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,_.A)(function*(i,t){const s=At(i);s.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const a=Jl(s);s._u.add(3),yield Eu(s),a&&s.gu.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(t),s._u.delete(3),yield Ah(s)}),Fh.apply(this,arguments)}function Ld(){return Ld=(0,_.A)(function*(i,t){const s=At(i);t?(s._u.delete(2),yield Ah(s)):t||(s._u.add(2),yield Eu(s),s.gu.set("Unknown"))}),Ld.apply(this,arguments)}function wc(i){return i.pu||(i.pu=function(t,s,a){const c=At(t);return c.su(),new Of(s,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,a)}(i.datastore,i.asyncQueue,{Yr:xd.bind(null,i),Zr:xf.bind(null,i),Wo:hg.bind(null,i)}),i.wu.push(function(){var t=(0,_.A)(function*(s){s?(i.pu.Mo(),Rd(i)?dg(i):i.gu.set("Unknown")):(yield i.pu.stop(),Rf(i))});return function(s){return t.apply(this,arguments)}}())),i.pu}function Cu(i){return i.Iu||(i.Iu=function(t,s,a){const c=At(t);return c.su(),new vy(s,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,a)}(i.datastore,i.asyncQueue,{Yr:g_.bind(null,i),Zr:Ju.bind(null,i),tu:sD.bind(null,i),Zo:m_.bind(null,i)}),i.wu.push(function(){var t=(0,_.A)(function*(s){s?(i.Iu.Mo(),yield Fd(i)):(yield i.Iu.stop(),i.fu.length>0&&(Mt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(s){return t.apply(this,arguments)}}())),i.Iu}class Uf{constructor(t,s,a,c,p){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=a,this.op=c,this.removalCallback=p,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(t,s,a,c,p){const C=Date.now()+a,N=new Uf(t,s,C,c,p);return N.start(a),N}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _t(qe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(i,t){if(ei("AsyncQueue",`${t}: ${i}`),Ko(i))return new _t(qe.UNAVAILABLE,`${t}: ${i}`);throw i}class Ud{constructor(t){this.comparator=t?(s,a)=>t(s,a)||Me.comparator(s.key,a.key):(s,a)=>Me.comparator(s.key,a.key),this.keyedMap=pc(),this.sortedSet=new vn(this.comparator)}static emptySet(t){return new Ud(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,a)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Ud)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;s.hasNext();){const c=s.getNext().key,p=a.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,s){const a=new Ud;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=s,a}}class Bf{constructor(){this.Tu=new vn(Me.comparator)}track(t){const s=t.doc.key,a=this.Tu.get(s);a?0!==t.type&&3===a.type?this.Tu=this.Tu.insert(s,t):3===t.type&&1!==a.type?this.Tu=this.Tu.insert(s,{type:a.type,doc:t.doc}):2===t.type&&2===a.type?this.Tu=this.Tu.insert(s,{type:2,doc:t.doc}):2===t.type&&0===a.type?this.Tu=this.Tu.insert(s,{type:0,doc:t.doc}):1===t.type&&0===a.type?this.Tu=this.Tu.remove(s):1===t.type&&2===a.type?this.Tu=this.Tu.insert(s,{type:1,doc:a.doc}):0===t.type&&1===a.type?this.Tu=this.Tu.insert(s,{type:2,doc:t.doc}):Ft():this.Tu=this.Tu.insert(s,t)}Eu(){const t=[];return this.Tu.inorderTraversal((s,a)=>{t.push(a)}),t}}class ed{constructor(t,s,a,c,p,C,N,$,Z){this.query=t,this.docs=s,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=p,this.fromCache=C,this.syncStateChanged=N,this.excludesMetadataChanges=$,this.hasCachedResults=Z}static fromInitialDocuments(t,s,a,c,p){const C=[];return s.forEach(N=>{C.push({type:0,doc:N})}),new ed(t,s,Ud.emptySet(s),C,a,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ul(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,a=t.docChanges;if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++)if(s[c].type!==a[c].type||!s[c].doc.isEqual(a[c].doc))return!1;return!0}}class v_{constructor(){this.Au=void 0,this.listeners=[]}}class __{constructor(){this.queries=new fl(t=>Pc(t),ul),this.onlineState="Unknown",this.Ru=new Set}}function td(i,t){return jf.apply(this,arguments)}function jf(){return jf=(0,_.A)(function*(i,t){const s=At(i),a=t.query;let c=!1,p=s.queries.get(a);if(p||(c=!0,p=new v_),c)try{p.Au=yield s.onListen(a)}catch(C){const N=Vd(C,`Initialization of query '${$l(t.query)}' failed`);return void t.onError(N)}s.queries.set(a,p),p.listeners.push(t),t.bu(s.onlineState),p.Au&&t.Pu(p.Au)&&Cy(s)}),jf.apply(this,arguments)}function kh(i,t){return mg.apply(this,arguments)}function mg(){return mg=(0,_.A)(function*(i,t){const s=At(i),a=t.query;let c=!1;const p=s.queries.get(a);if(p){const C=p.listeners.indexOf(t);C>=0&&(p.listeners.splice(C,1),c=0===p.listeners.length)}if(c)return s.queries.delete(a),s.onUnlisten(a)}),mg.apply(this,arguments)}function iD(i,t){const s=At(i);let a=!1;for(const c of t){const C=s.queries.get(c.query);if(C){for(const N of C.listeners)N.Pu(c)&&(a=!0);C.Au=c}}a&&Cy(s)}function oD(i,t,s){const a=At(i),c=a.queries.get(t);if(c)for(const p of c.listeners)p.onError(s);a.queries.delete(t)}function Cy(i){i.Ru.forEach(t=>{t.next()})}class nd{constructor(t,s,a){this.query=t,this.vu=s,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(t){if(!this.options.includeMetadataChanges){const a=[];for(const c of t.docChanges)3!==c.type&&a.push(c);t=new ed(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),s=!0):this.Cu(t,this.onlineState)&&(this.xu(t),s=!0),this.Su=t,s}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let s=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),s=!0),s}Cu(t,s){return!t.fromCache||(!this.options.Nu||!("Offline"!==s))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===s)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=ed.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class D_{constructor(t){this.key=t}}class C_{constructor(t){this.key=t}}class vg{constructor(t,s){this.query=t,this.qu=s,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ar(),this.mutatedKeys=ar(),this.Gu=Ji(t),this.Qu=new Ud(this.Gu)}get ju(){return this.qu}Wu(t,s){const a=s?s.zu:new Bf,c=s?s.Qu:this.Qu;let p=s?s.mutatedKeys:this.mutatedKeys,C=c,N=!1;const $="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Z="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((fe,Re)=>{const et=c.get(fe),It=Hl(this.query,Re)?Re:null,kt=!!et&&this.mutatedKeys.has(et.key),nn=!!It&&(It.hasLocalMutations||this.mutatedKeys.has(It.key)&&It.hasCommittedMutations);let xn=!1;et&&It?et.data.isEqual(It.data)?kt!==nn&&(a.track({type:3,doc:It}),xn=!0):this.Hu(et,It)||(a.track({type:2,doc:It}),xn=!0,($&&this.Gu(It,$)>0||Z&&this.Gu(It,Z)<0)&&(N=!0)):!et&&It?(a.track({type:0,doc:It}),xn=!0):et&&!It&&(a.track({type:1,doc:et}),xn=!0,($||Z)&&(N=!0)),xn&&(It?(C=C.add(It),p=nn?p.add(fe):p.delete(fe)):(C=C.delete(fe),p=p.delete(fe)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const fe="F"===this.query.limitType?C.last():C.first();C=C.delete(fe.key),p=p.delete(fe.key),a.track({type:1,doc:fe})}return{Qu:C,zu:a,$i:N,mutatedKeys:p}}Hu(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,a){const c=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const p=t.zu.Eu();p.sort((Z,fe)=>function(Re,et){const It=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return It(Re)-It(et)}(Z.type,fe.type)||this.Gu(Z.doc,fe.doc)),this.Ju(a);const C=s?this.Yu():[],N=0===this.Ku.size&&this.current?1:0,$=N!==this.Uu;return this.Uu=N,0!==p.length||$?{snapshot:new ed(this.query,t.Qu,c,p,t.mutatedKeys,0===N,$,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:C}:{Xu:C}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Bf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(s=>this.qu=this.qu.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.qu=this.qu.delete(s)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=ar(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const s=[];return t.forEach(a=>{this.Ku.has(a)||s.push(new C_(a))}),this.Ku.forEach(a=>{t.has(a)||s.push(new D_(a))}),s}tc(t){this.qu=t.Hi,this.Ku=ar();const s=this.Wu(t.documents);return this.applyChanges(s,!0)}ec(){return ed.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class w_{constructor(t,s,a){this.query=t,this.targetId=s,this.view=a}}class wy{constructor(t){this.key=t,this.nc=!1}}class _g{constructor(t,s,a,c,p,C){this.localStore=t,this.remoteStore=s,this.eventManager=a,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=C,this.sc={},this.ic=new fl(N=>Pc(N),ul),this.rc=new Map,this.oc=new Set,this.uc=new vn(Me.comparator),this.cc=new Map,this.ac=new qp,this.hc={},this.lc=new Map,this.fc=Wu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Iy(i,t){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,_.A)(function*(i,t){const s=function Wd(i){const t=At(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ty.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S_.bind(null,t),t.sc.Wo=iD.bind(null,t.eventManager),t.sc.wc=oD.bind(null,t.eventManager),t}(i);let a,c;const p=s.ic.get(t);if(p)a=p.targetId,s.sharedClientState.addLocalQueryTarget(a),c=p.view.ec();else{const C=yield function Cc(i,t){const s=At(i);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return s.Cs.getTargetData(a,t).next(p=>p?(c=p,Qe.resolve(c)):s.Cs.allocateTargetId(a).next(C=>(c=new hu(t,C,0,a.currentSequenceNumber),s.Cs.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=s.qi.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(s.qi=s.qi.insert(a.targetId,a),s.Ui.set(t,a.targetId)),a})}(s.localStore,_i(t));s.isPrimaryClient&&Oh(s.remoteStore,C);const N=s.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,c=yield function $f(i,t,s,a,c){return Eg.apply(this,arguments)}(s,t,a,"current"===N,C.resumeToken)}return c}),Hc.apply(this,arguments)}function Eg(){return Eg=(0,_.A)(function*(i,t,s,a,c){i._c=(Re,et,It)=>{return(kt=(0,_.A)(function*(nn,xn,Ci,Gi){let Gs=xn.view.Wu(Ci);Gs.$i&&(Gs=yield If(nn.localStore,xn.query,!1).then(({documents:Fs})=>xn.view.Wu(Fs,Gs)));const No=Gi&&Gi.targetChanges.get(xn.targetId),zs=xn.view.applyChanges(Gs,nn.isPrimaryClient,No);return $d(nn,xn.targetId,zs.Xu),zs.snapshot}),function(nn,xn,Ci,Gi){return kt.apply(this,arguments)})(i,Re,et,It);var kt};const p=yield If(i.localStore,t,!0),C=new vg(t,p.Hi),N=C.Wu(p.documents),$=yc.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==i.onlineState,c),Z=C.applyChanges(N,i.isPrimaryClient,$);$d(i,s,Z.Xu);const fe=new w_(t,s,C);return i.ic.set(t,fe),i.rc.has(s)?i.rc.get(s).push(t):i.rc.set(s,[t]),Z.snapshot}),Eg.apply(this,arguments)}function I_(i,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,_.A)(function*(i,t){const s=At(i),a=s.ic.get(t),c=s.rc.get(a.targetId);if(c.length>1)return s.rc.set(a.targetId,c.filter(p=>!ul(p,t))),void s.ic.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Xu(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),Nh(s.remoteStore,a.targetId),jd(s,a.targetId)}).catch(Wo))):(jd(s,a.targetId),yield Xu(s.localStore,a.targetId,!0))}),Dg.apply(this,arguments)}function Hf(){return Hf=(0,_.A)(function*(i,t,s){const a=tc(i);try{const c=yield function(p,C){const N=At(p),$=es.now(),Z=C.reduce((et,It)=>et.add(It.key),ar());let fe,Re;return N.persistence.runTransaction("Locally write mutations","readwrite",et=>{let It=fi(),kt=ar();return N.Gi.getEntries(et,Z).next(nn=>{It=nn,It.forEach((xn,Ci)=>{Ci.isValidDocument()||(kt=kt.add(xn))})}).next(()=>N.localDocuments.getOverlayedDocuments(et,It)).next(nn=>{fe=nn;const xn=[];for(const Ci of C){const Gi=au(Ci,fe.get(Ci.key).overlayedDocument);null!=Gi&&xn.push(new fa(Ci.key,Gi,fd(Gi.value.mapValue),bs.exists(!0)))}return N.mutationQueue.addMutationBatch(et,$,xn,C)}).next(nn=>{Re=nn;const xn=nn.applyToLocalDocumentSet(fe,kt);return N.documentOverlayCache.saveOverlays(et,nn.batchId,xn)})}).then(()=>({batchId:Re.batchId,changes:Fu(fe)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(c.batchId),function(p,C,N){let $=p.hc[p.currentUser.toKey()];$||($=new vn(_n)),$=$.insert(C,N),p.hc[p.currentUser.toKey()]=$}(a,c.batchId,s),yield Tc(a,c.changes),yield Fd(a.remoteStore)}catch(c){const p=Vd(c,"Failed to persist write");s.reject(p)}}),Hf.apply(this,arguments)}function Ty(i,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,_.A)(function*(i,t){const s=At(i);try{const a=yield function fy(i,t){const s=At(i),a=t.snapshotVersion;let c=s.qi;return s.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const C=s.Gi.newChangeBuffer({trackRemovals:!0});c=s.qi;const N=[];t.targetChanges.forEach((fe,Re)=>{const et=c.get(Re);if(!et)return;N.push(s.Cs.removeMatchingKeys(p,fe.removedDocuments,Re).next(()=>s.Cs.addMatchingKeys(p,fe.addedDocuments,Re)));let It=et.withSequenceNumber(p.currentSequenceNumber);var kt,nn,xn;t.targetMismatches.has(Re)?It=It.withResumeToken(di.EMPTY_BYTE_STRING,S.min()).withLastLimboFreeSnapshotVersion(S.min()):fe.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(fe.resumeToken,a)),c=c.insert(Re,It),nn=It,xn=fe,(0===(kt=et).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||xn.addedDocuments.size+xn.modifiedDocuments.size+xn.removedDocuments.size>0)&&N.push(s.Cs.updateTargetData(p,It))});let $=fi(),Z=ar();if(t.documentUpdates.forEach(fe=>{t.resolvedLimboDocuments.has(fe)&&N.push(s.persistence.referenceDelegate.updateLimboDocument(p,fe))}),N.push(function wf(i,t,s){let a=ar(),c=ar();return s.forEach(p=>a=a.add(p)),t.getEntries(i,a).next(p=>{let C=fi();return s.forEach((N,$)=>{const Z=p.get(N);$.isFoundDocument()!==Z.isFoundDocument()&&(c=c.add(N)),$.isNoDocument()&&$.version.isEqual(S.min())?(t.removeEntry(N,$.readTime),C=C.insert(N,$)):!Z.isValidDocument()||$.version.compareTo(Z.version)>0||0===$.version.compareTo(Z.version)&&Z.hasPendingWrites?(t.addEntry($),C=C.insert(N,$)):Mt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",Z.version," Watch version:",$.version)}),{Wi:C,zi:c}})}(p,C,t.documentUpdates).next(fe=>{$=fe.Wi,Z=fe.zi})),!a.isEqual(S.min())){const fe=s.Cs.getLastRemoteSnapshotVersion(p).next(Re=>s.Cs.setTargetsMetadata(p,p.currentSequenceNumber,a));N.push(fe)}return Qe.waitFor(N).next(()=>C.apply(p)).next(()=>s.localDocuments.getLocalViewOfDocuments(p,$,Z)).next(()=>$)}).then(p=>(s.qi=c,p))}(s.localStore,t);t.targetChanges.forEach((c,p)=>{const C=s.cc.get(p);C&&(Ye(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.nc=!0:c.modifiedDocuments.size>0?Ye(C.nc):c.removedDocuments.size>0&&(Ye(C.nc),C.nc=!1))}),yield Tc(s,a,t)}catch(a){yield Wo(a)}}),Cg.apply(this,arguments)}function Sy(i,t,s){const a=At(i);if(a.isPrimaryClient&&0===s||!a.isPrimaryClient&&1===s){const c=[];a.ic.forEach((p,C)=>{const N=C.view.bu(t);N.snapshot&&c.push(N.snapshot)}),function(p,C){const N=At(p);N.onlineState=C;let $=!1;N.queries.forEach((Z,fe)=>{for(const Re of fe.listeners)Re.bu(C)&&($=!0)}),$&&Cy(N)}(a.eventManager,t),c.length&&a.sc.Wo(c),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}function S_(i,t,s){return wg.apply(this,arguments)}function wg(){return wg=(0,_.A)(function*(i,t,s){const a=At(i);a.sharedClientState.updateQueryState(t,"rejected",s);const c=a.cc.get(t),p=c&&c.key;if(p){let C=new vn(Me.comparator);C=C.insert(p,Rs.newNoDocument(p,S.min()));const N=ar().add(p),$=new mc(S.min(),new Map,new kr(_n),C,N);yield Ty(a,$),a.uc=a.uc.remove(p),a.cc.delete(t),Kf(a)}else yield Xu(a.localStore,t,!1).then(()=>jd(a,t,s)).catch(Wo)}),wg.apply(this,arguments)}function Ig(i,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,_.A)(function*(i,t){const s=At(i),a=t.batch.batchId;try{const c=yield function sg(i,t){const s=At(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=t.batch.keys(),p=s.Gi.newChangeBuffer({trackRemovals:!0});return function(C,N,$,Z){const fe=$.batch,Re=fe.keys();let et=Qe.resolve();return Re.forEach(It=>{et=et.next(()=>Z.getEntry(N,It)).next(kt=>{const nn=$.docVersions.get(It);Ye(null!==nn),kt.version.compareTo(nn)<0&&(fe.applyToRemoteDocument(kt,$),kt.isValidDocument()&&(kt.setReadTime($.commitVersion),Z.addEntry(kt)))})}),et.next(()=>C.mutationQueue.removeMutationBatch(N,fe))}(s,a,t,p).next(()=>p.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,c,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(C){let N=ar();for(let $=0;$<C.mutationResults.length;++$)C.mutationResults[$].transformResults.length>0&&(N=N.add(C.batch.mutations[$].key));return N}(t))).next(()=>s.localDocuments.getDocuments(a,c))})}(s.localStore,t);Sg(s,a,null),wu(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),yield Tc(s,c)}catch(c){yield Wo(c)}}),Tg.apply(this,arguments)}function b_(i,t,s){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,_.A)(function*(i,t,s){const a=At(i);try{const c=yield function(p,C){const N=At(p);return N.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let Z;return N.mutationQueue.lookupMutationBatch($,C).next(fe=>(Ye(null!==fe),Z=fe.keys(),N.mutationQueue.removeMutationBatch($,fe))).next(()=>N.mutationQueue.performConsistencyCheck($)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId($,Z,C)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,Z)).next(()=>N.localDocuments.getDocuments($,Z))})}(a.localStore,t);Sg(a,t,s),wu(a,t),a.sharedClientState.updateMutationState(t,"rejected",s),yield Tc(a,c)}catch(c){yield Wo(c)}}),Ic.apply(this,arguments)}function wu(i,t){(i.lc.get(t)||[]).forEach(s=>{s.resolve()}),i.lc.delete(t)}function Sg(i,t,s){const a=At(i);let c=a.hc[a.currentUser.toKey()];if(c){const p=c.get(t);p&&(s?p.reject(s):p.resolve(),c=c.remove(t)),a.hc[a.currentUser.toKey()]=c}}function jd(i,t,s=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.rc.get(t))i.ic.delete(a),s&&i.sc.wc(a,s);i.rc.delete(t),i.isPrimaryClient&&i.ac.ls(t).forEach(a=>{i.ac.containsKey(a)||M_(i,a)})}function M_(i,t){i.oc.delete(t.path.canonicalString());const s=i.uc.get(t);null!==s&&(Nh(i.remoteStore,s),i.uc=i.uc.remove(t),i.cc.delete(s),Kf(i))}function $d(i,t,s){for(const a of s)a instanceof D_?(i.ac.addReference(a.key,t),bg(i,a)):a instanceof C_?(Mt("SyncEngine","Document no longer in limbo: "+a.key),i.ac.removeReference(a.key,t),i.ac.containsKey(a.key)||M_(i,a.key)):Ft()}function bg(i,t){const s=t.key,a=s.path.canonicalString();i.uc.get(s)||i.oc.has(a)||(Mt("SyncEngine","New document in limbo: "+s),i.oc.add(a),Kf(i))}function Kf(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const t=i.oc.values().next().value;i.oc.delete(t);const s=new Me(R.fromString(t)),a=i.fc.next();i.cc.set(a,new wy(s)),i.uc=i.uc.insert(s,a),Oh(i.remoteStore,new hu(_i(Ll(s.path)),a,2,Ao.at))}}function Tc(i,t,s){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,_.A)(function*(i,t,s){const a=At(i),c=[],p=[],C=[];var N;a.ic.isEmpty()||(a.ic.forEach((N,$)=>{C.push(a._c($,t,s).then(Z=>{if((Z||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState($.targetId,Z?.fromCache?"not-current":"current"),Z){c.push(Z);const fe=Ih.Ci($.targetId,Z);p.push(fe)}}))}),yield Promise.all(C),a.sc.Wo(c),yield(N=(0,_.A)(function*($,Z){const fe=At($);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>Qe.forEach(Z,et=>Qe.forEach(et.Si,It=>fe.persistence.referenceDelegate.addReference(Re,et.targetId,It)).next(()=>Qe.forEach(et.Di,It=>fe.persistence.referenceDelegate.removeReference(Re,et.targetId,It)))))}catch(Re){if(!Ko(Re))throw Re;Mt("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of Z){const et=Re.targetId;if(!Re.fromCache){const It=fe.qi.get(et),nn=It.withLastLimboFreeSnapshotVersion(It.snapshotVersion);fe.qi=fe.qi.insert(et,nn)}}}),function($,Z){return N.apply(this,arguments)})(a.localStore,p))}),Gf.apply(this,arguments)}function rd(i,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,_.A)(function*(i,t){const s=At(i);if(!s.currentUser.isEqual(t)){Mt("SyncEngine","User change. New user:",t.toKey());const a=yield rg(s.localStore,t);s.currentUser=t,(c=s).lc.forEach(C=>{C.forEach(N=>{N.reject(new _t(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),s.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),yield Tc(s,a.ji)}var c}),Mg.apply(this,arguments)}function A_(i,t){const s=At(i),a=s.cc.get(t);if(a&&a.nc)return ar().add(a.key);{let c=ar();const p=s.rc.get(t);if(!p)return c;for(const C of p){const N=s.ic.get(C);c=c.unionWith(N.view.ju)}return c}}function tc(i){const t=At(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ig.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b_.bind(null,t),t}class Fg{constructor(){this.synchronizeTabs=!1}initialize(t){var s=this;return(0,_.A)(function*(){s.yt=bh(t.databaseInfo.databaseId),s.sharedClientState=s.gc(t),s.persistence=s.yc(t),yield s.persistence.start(),s.localStore=s.Ic(t),s.gcScheduler=s.Tc(t,s.localStore),s.indexBackfillerScheduler=s.Ec(t,s.localStore)})()}Tc(t,s){return null}Ec(t,s){return null}Ic(t){return ng(this.persistence,new c_,t.initialUser,this.yt)}yc(t){return new Md(ql.Bs,this.yt)}gc(t){return new _u}terminate(){var t=this;return(0,_.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kg extends Fg{constructor(t,s,a){super(),this.Ac=t,this.cacheSizeBytes=s,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(t){var s=()=>super.initialize,a=this;return(0,_.A)(function*(){yield s().call(a,t),yield a.Ac.initialize(a,t),yield tc(a.Ac.syncEngine),yield Fd(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return ng(this.persistence,new c_,t.initialUser,this.yt)}Tc(t,s){return new o_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,s)}Ec(t,s){const a=new tu(s,this.persistence);return new Au(t.asyncQueue,a)}yc(t){const s=function Df(i,t){let s=i.projectId;return i.isDefaultDatabase||(s+="."+i.database),"firestore/"+t+"/"+s+"/"}(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ya.withCacheSize(this.cacheSizeBytes):ya.DEFAULT;return new wh(this.synchronizeTabs,s,t.clientId,a,t.asyncQueue,function yy(){return typeof window<"u"?window:null}(),$c(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new _u}}class Ny{initialize(t,s){var a=this;return(0,_.A)(function*(){a.localStore||(a.localStore=t.localStore,a.sharedClientState=t.sharedClientState,a.datastore=a.createDatastore(s),a.remoteStore=a.createRemoteStore(s),a.eventManager=a.createEventManager(s),a.syncEngine=a.createSyncEngine(s,!t.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>Sy(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=rd.bind(null,a.syncEngine),yield function Dy(i,t){return Ld.apply(this,arguments)}(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(t){return new __}createDatastore(t){const s=bh(t.databaseInfo.databaseId),a=new Mf(t.databaseInfo);return new _y(t.authCredentials,t.appCheckCredentials,a,s)}createRemoteStore(t){return s=this.localStore,a=this.datastore,c=t.asyncQueue,p=N=>Sy(this.syncEngine,N,0),C=Sh.C()?new Sh:new Th,new va(s,a,c,p,C);var s,a,c,p,C}createSyncEngine(t,s){return function(a,c,p,C,N,$,Z){const fe=new _g(a,c,p,C,N,$);return Z&&(fe.dc=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}terminate(){return(t=(0,_.A)(function*(s){const a=At(s);Mt("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Eu(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(s){return t.apply(this,arguments)})(this.remoteStore);var t}}function Ry(i,t,s){if(!s)throw new _t(qe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function zf(i){if(!Me.isDocumentKey(i))throw new _t(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Qf(i){if(Me.isDocumentKey(i))throw new _t(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(s=i).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof i?"a function":Ft()}function Cs(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new _t(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Lg(i);throw new _t(qe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return i}const xy=new Map;class Py{constructor(t){var s;if(void 0===t.host){if(void 0!==t.ssl)throw new _t(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(s=t.ssl)||void 0===s||s;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _t(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function aD(i,t,s,a){if(!0===t&&!0===a)throw new _t(qe.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bh{constructor(t,s,a,c){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _t(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _t(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new ls;switch(s.type){case"gapi":return new oa(s.client,s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=xy.get(t);s&&(Mt("ComponentProvider","Removing Datastore"),xy.delete(t),s.terminate())}(this),Promise.resolve()}}class ho{constructor(t,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ho(this.firestore,t,this._key)}}class qo{constructor(t,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new qo(this.firestore,t,this._query)}}class nc extends qo{constructor(t,s,a){super(t,s,Ll(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ho(this.firestore,null,new Me(t))}withConverter(t){return new nc(this.firestore,t,this._path)}}function k_(i,t,...s){if(i=(0,W.Ku)(i),Ry("collection","path",t),i instanceof Bh){const a=R.fromString(t,...s);return Qf(a),new nc(i,null,a)}{if(!(i instanceof ho||i instanceof nc))throw new _t(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(R.fromString(t,...s));return Qf(a),new nc(i.firestore,null,a)}}function Ug(i,t,...s){if(i=(0,W.Ku)(i),1===arguments.length&&(t=Ho.R()),Ry("doc","path",t),i instanceof Bh){const a=R.fromString(t,...s);return zf(a),new ho(i,null,new Me(a))}{if(!(i instanceof ho||i instanceof nc))throw new _t(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(R.fromString(t,...s));return zf(a),new ho(i.firestore,i instanceof nc?i.converter:null,new Me(a))}}class Yf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ei("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,s){this.muted||setTimeout(()=>{this.muted||t(s)},0)}}class B_{constructor(t,s,a,c){var p=this;this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=c,this.user=Wr.UNAUTHENTICATED,this.clientId=Ho.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var C=(0,_.A)(function*(N){Mt("FirestoreClient","Received user=",N.uid),yield p.authCredentialListener(N),p.user=N});return function(N){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(a,C=>(Mt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var t=this;return(0,_.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const s=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.A)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),s.resolve()}catch(a){const c=Vd(a,"Failed to shutdown persistence");s.reject(c)}})),s.promise}}function Wg(i,t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,_.A)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const s=yield i.getConfiguration();yield t.initialize(s);let a=s.initialUser;i.setCredentialChangeListener(function(){var c=(0,_.A)(function*(p){a.isEqual(p)||(yield rg(t.localStore,p),a=p)});return function(p){return c.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=t}),Kg.apply(this,arguments)}function Gg(i,t){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,_.A)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const s=yield ky(i);Mt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield t.initialize(s,a),i.setCredentialChangeListener(c=>y_(t.remoteStore,c)),i.setAppCheckTokenChangeListener((c,p)=>y_(t.remoteStore,p)),i.onlineComponents=t}),Fy.apply(this,arguments)}function ky(i){return id.apply(this,arguments)}function id(){return id=(0,_.A)(function*(i){return i.offlineComponents||(Mt("FirestoreClient","Using default OfflineComponentProvider"),yield Wg(i,new Fg)),i.offlineComponents}),id.apply(this,arguments)}function Zf(i){return zg.apply(this,arguments)}function zg(){return zg=(0,_.A)(function*(i){return i.onlineComponents||(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield Gg(i,new Ny)),i.onlineComponents}),zg.apply(this,arguments)}function Kd(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,_.A)(function*(i){const t=yield Zf(i),s=t.eventManager;return s.onListen=Iy.bind(null,t.syncEngine),s.onUnlisten=I_.bind(null,t.syncEngine),s}),Yg.apply(this,arguments)}class fD{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Af(this,"async_queue_retry"),this.Wc=()=>{const s=$c();s&&Mt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.xo.Po()};const t=$c();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const s=$c();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const s=new Cr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,_.A)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(s){if(!Ko(s))throw s;Mt("AsyncQueue","Operation failed with retryable error: "+s)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const s=this.Bc.then(()=>(this.Gc=!0,t().catch(a=>{throw this.Kc=a,this.Gc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(p){let C=p.message||"";return p.stack&&(C=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),C}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=s,s}enqueueAfterDelay(t,s,a){this.zc(),this.jc.indexOf(t)>-1&&(s=0);const c=Uf.createAndSchedule(this,t,s,a,p=>this.Yc(p));return this.Uc.push(c),c}zc(){this.Kc&&Ft()}verifyOperationInProgress(){}Xc(){var t=this;return(0,_.A)(function*(){let s;do{s=t.Bc,yield s}while(s!==t.Bc)})()}Zc(t){for(const s of this.Uc)if(s.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.Uc)if(s.skipDelay(),"all"!==t&&s.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const s=this.Uc.indexOf(t);this.Uc.splice(s,1)}}function Jg(i){return function(t){if("object"!=typeof t||null===t)return!1;const a=t;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(i)}class Di extends Bh{constructor(t,s,a,c){super(t,s,a,c),this.type="firestore",this._queue=new fD,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tm(this),this._firestoreClient.terminate()}}function Uy(i,t){const s="object"==typeof i?i:(0,v.Sx)(),a="string"==typeof i?i:t||"(default)",c=(0,v.j6)(s,"firestore").getImmediate({identifier:a});if(!c._initialized){const p=(0,W.yU)("firestore");p&&function F_(i,t,s,a={}){var c;const p=(i=Cs(i,Bh))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==t&&bo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${t}:${s}`,ssl:!1})),a.mockUserToken){let C,N;if("string"==typeof a.mockUserToken)C=a.mockUserToken,N=Wr.MOCK_USER;else{C=(0,W.Fy)(a.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const $=a.mockUserToken.sub||a.mockUserToken.user_id;if(!$)throw new _t(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Wr($)}i._authCredentials=new si(new Ta(C,N))}}(c,...p)}return c}function fo(i){return i._firestoreClient||tm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function tm(i){var t;const s=i._freezeSettings(),a=(p=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new Ac(i._databaseId,p,i._persistenceKey,(N=s).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var p,N;i._firestoreClient=new B_(i._authCredentials,i._appCheckCredentials,i._queue,a)}function By(i,t){!function Q_(i){if(i._initialized||i._terminated)throw new _t(qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=Cs(i,Di));const s=fo(i),a=i._freezeSettings(),c=new Ny;return function el(i,t,s){const a=new Cr;return i.asyncQueue.enqueue((0,_.A)(function*(){try{yield Wg(i,s),yield Gg(i,t),a.resolve()}catch(c){const p=c;if(!("FirebaseError"===(C=p).name?C.code===qe.FAILED_PRECONDITION||C.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw p;bo("Error enabling offline persistence. Falling back to persistence disabled: "+p),a.reject(p)}var C})).then(()=>a.promise)}(s,c,new kg(c,a.cacheSizeBytes,t?.forceOwnership))}class tl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tl(di.fromBase64String(t))}catch(s){throw new _t(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new tl(di.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Sc{constructor(...t){for(let s=0;s<t.length;++s)if(0===t[s].length)throw new _t(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new he(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wc{constructor(t){this._methodName=t}}class nm{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new _t(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new _t(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}}const Gd=/^__.*__$/;class rm{constructor(t,s,a){this.data=t,this.fieldMask=s,this.fieldTransforms=a}toMutation(t,s){return null!==this.fieldMask?new fa(t,this.data,this.fieldMask,s,this.fieldTransforms):new hl(t,this.data,s,this.fieldTransforms)}}class sm{constructor(t,s,a){this.data=t,this.fieldMask=s,this.fieldTransforms=a}toMutation(t,s){return new fa(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function Jf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class od{constructor(t,s,a,c,p,C){this.settings=t,this.databaseId=s,this.yt=a,this.ignoreUndefinedProperties=c,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=C||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new od(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(t),c=this.ia({path:a,oa:!1});return c.ua(t),c}ca(t){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(t),c=this.ia({path:a,oa:!1});return c.na(),c}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Qh(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(s=>t.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>t.isPrefixOf(s.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(Jf(this.sa)&&Gd.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class $y{constructor(t,s,a){this.databaseId=t,this.ignoreUndefinedProperties=s,this.yt=a||bh(t)}da(t,s,a,c=!1){return new od({sa:t,methodName:s,fa:a,path:he.emptyPath(),oa:!1,la:c},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ad(i){const t=i._freezeSettings(),s=bh(i._databaseId);return new $y(i._databaseId,!!t.ignoreUndefinedProperties,s)}function Hh(i,t,s,a,c,p={}){const C=i.da(p.merge||p.mergeFields?2:0,t,s,c);tp("Data must be an object, but it was:",C,a);const N=am(a,C);let $,Z;if(p.merge)$=new Ki(C.fieldMask),Z=C.fieldTransforms;else if(p.mergeFields){const fe=[];for(const Re of p.mergeFields){const et=np(t,Re,s);if(!C.contains(et))throw new _t(qe.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);cm(fe,et)||fe.push(et)}$=new Ki(fe),Z=C.fieldTransforms.filter(Re=>$.covers(Re.field))}else $=null,Z=C.fieldTransforms;return new rm(new vo(N),$,Z)}class Wh extends Wc{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wh}}class ep extends Wc{_toFieldTransform(t){return new Za(t.path,new da)}isEqual(t){return t instanceof ep}}function Wy(i,t,s,a=!1){return Kc(s,i.da(a?4:3,t))}function Kc(i,t){if(Iu(i=(0,W.Ku)(i)))return tp("Unsupported field value:",t,i),am(i,t);if(i instanceof Wc)return function(s,a){if(!Jf(a.sa))throw a.ha(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(s,a){const c=[];let p=0;for(const C of s){let N=Kc(C,a.aa(p));null==N&&(N={nullValue:"NULL_VALUE"}),c.push(N),p++}return{arrayValue:{values:c}}}(i,t)}return function(s,a){if(null===(s=(0,W.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return pd(a.yt,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=es.fromDate(s);return{timestampValue:ii(a.yt,c)}}if(s instanceof es){const c=new es(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ii(a.yt,c)}}if(s instanceof nm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof tl)return{bytesValue:uh(a.yt,s._byteString)};if(s instanceof ho){const c=a.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw a.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vu(s.firestore._databaseId||a.databaseId,s._key.path)}}throw a.ha(`Unsupported field value: ${Lg(s)}`)}(i,t)}function am(i,t){const s={};return sc(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(i,(a,c)=>{const p=Kc(c,t.ra(a));null!=p&&(s[a]=p)}),{mapValue:{fields:s}}}function Iu(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof es||i instanceof nm||i instanceof tl||i instanceof ho||i instanceof Wc)}function tp(i,t,s){if(!Iu(s)||"object"!=typeof(a=s)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Lg(s);throw t.ha("an object"===a?i+" a custom object":i+" "+a)}var a}function np(i,t,s){if((t=(0,W.Ku)(t))instanceof Sc)return t._internalPath;if("string"==typeof t)return rp(i,t);throw Qh("Field path arguments must be of type string or ",i,!1,void 0,s)}const lm=new RegExp("[~\\*/\\[\\]]");function rp(i,t,s){if(t.search(lm)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Sc(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Qh(i,t,s,a,c){const p=a&&!a.isEmpty(),C=void 0!==c;let N=`Function ${t}() called with invalid data`;s&&(N+=" (via `toFirestore()`)"),N+=". ";let $="";return(p||C)&&($+=" (found",p&&($+=` in field ${a}`),C&&($+=` in document ${c}`),$+=")"),new _t(qe.INVALID_ARGUMENT,N+i+$)}function cm(i,t){return i.some(s=>s.isEqual(t))}class zd{constructor(t,s,a,c,p){this._firestore=t,this._userDataWriter=s,this._key=a,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ho(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(Xh("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s)}}}class um extends zd{data(){return super.data()}}function Xh(i,t){return"string"==typeof t?rp(i,t):t instanceof Sc?t._internalPath:t._delegate._internalPath}function Yh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _t(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gc{}class Qd extends Gc{}function dm(i,t,...s){let a=[];t instanceof Gc&&a.push(t),a=a.concat(s),function(c){const p=c.filter(N=>N instanceof Tu).length,C=c.filter(N=>N instanceof zc).length;if(p>1||p>0&&C>0)throw new _t(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const c of a)i=c._apply(i);return i}class zc extends Qd{constructor(t,s,a){super(),this._field=t,this._op=s,this._value=a,this.type="where"}static _create(t,s,a){return new zc(t,s,a)}_apply(t){const s=this._parse(t);return pm(t._query,s),new qo(t.firestore,t.converter,Bl(t._query,s))}_parse(t){const s=ad(t.firestore);return function(c,p,C,N,$,Z,fe){let Re;if($.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new _t(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){zy(fe,Z);const et=[];for(const It of fe)et.push(Ml(N,c,It));Re={arrayValue:{values:et}}}else Re=Ml(N,c,fe)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||zy(fe,Z),Re=Wy(C,"where",fe,"in"===Z||"not-in"===Z);return Xn.create($,Z,Re)}(t._query,0,s,t.firestore._databaseId,this._field,this._op,this._value)}}class Tu extends Gc{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new Tu(t,s)}_parse(t){const s=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return 1===s.length?s[0]:rn.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return 0===s.getFilters().length?t:(function(a,c){let p=a;const C=c.getFlattenedFilters();for(const N of C)pm(p,N),p=Bl(p,N)}(t._query,s),new qo(t.firestore,t.converter,Bl(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sp extends Qd{constructor(t,s){super(),this._field=t,this._direction=s,this.type="orderBy"}static _create(t,s){return new sp(t,s)}_apply(t){const s=function(a,c,p){if(null!==a.startAt)throw new _t(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new _t(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new kl(c,p);return function(N,$){if(null===dc(N)){const Z=Vl(N);null!==Z&&Qy(0,Z,$.field)}}(a,C),C}(t._query,this._field,this._direction);return new qo(t.firestore,t.converter,function(a,c){const p=a.explicitOrderBy.concat([c]);return new hi(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,s))}}function Y_(i,t="asc"){const s=t,a=Xh("orderBy",i);return sp._create(a,s)}class ip extends Qd{constructor(t,s,a){super(),this.type=t,this._limit=s,this._limitType=a}static _create(t,s,a){return new ip(t,s,a)}_apply(t){return new qo(t.firestore,t.converter,jl(t._query,this._limit,this._limitType))}}function Z_(i){return function Vg(i,t){if(t<=0)throw new _t(qe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}("limit",i),ip._create("limit",i,"F")}class Zh extends Qd{constructor(t,s,a){super(),this.type=t,this._docOrFields=s,this._inclusive=a}static _create(t,s,a){return new Zh(t,s,a)}_apply(t){const s=Gy(t,this.type,this._docOrFields,this._inclusive);return new qo(t.firestore,t.converter,(c=s,new hi((a=t._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}function Ky(...i){return Zh._create("startAfter",i,!1)}class op extends Qd{constructor(t,s,a){super(),this.type=t,this._docOrFields=s,this._inclusive=a}static _create(t,s,a){return new op(t,s,a)}_apply(t){const s=Gy(t,this.type,this._docOrFields,this._inclusive);return new qo(t.firestore,t.converter,(c=s,new hi((a=t._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function fm(...i){return op._create("endBefore",i,!1)}function Gy(i,t,s,a){if(s[0]=(0,W.Ku)(s[0]),s[0]instanceof zd)return function(c,p,C,N,$){if(!N)throw new _t(qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const Z=[];for(const fe of cl(c))if(fe.field.isKeyField())Z.push(k(p,N.key));else{const Re=N.data.field(fe.field);if(zo(Re))throw new _t(qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const et=fe.field.canonicalString();throw new _t(qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}Z.push(Re)}return new xi(Z,$)}(i._query,i.firestore._databaseId,t,s[0]._document,a);{const c=ad(i.firestore);return function(p,C,N,$,Z,fe){const Re=p.explicitOrderBy;if(Z.length>Re.length)throw new _t(qe.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let It=0;It<Z.length;It++){const kt=Z[It];if(Re[It].field.isKeyField()){if("string"!=typeof kt)throw new _t(qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof kt}`);if(!Ul(p)&&-1!==kt.indexOf("/"))throw new _t(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${kt}' contains a slash.`);const nn=p.path.child(R.fromString(kt));if(!Me.isDocumentKey(nn))throw new _t(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const xn=new Me(nn);et.push(k(C,xn))}else{const nn=Wy(N,$,kt);et.push(nn)}}return new xi(et,fe)}(i._query,i.firestore._databaseId,c,t,s,a)}}function Ml(i,t,s){if("string"==typeof(s=(0,W.Ku)(s))){if(""===s)throw new _t(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ul(t)&&-1!==s.indexOf("/"))throw new _t(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=t.path.child(R.fromString(s));if(!Me.isDocumentKey(a))throw new _t(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k(i,new Me(a))}if(s instanceof ho)return k(i,s._key);throw new _t(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(s)}.`)}function zy(i,t){if(!Array.isArray(i)||0===i.length)throw new _t(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(i.length>10)throw new _t(qe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function pm(i,t){if(t.isInequality()){const a=Vl(i),c=t.field;if(null!==a&&!a.isEqual(c))throw new _t(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${c.toString()}'`);const p=dc(i);null!==p&&Qy(0,c,p)}const s=function(a,c){for(const p of a)for(const C of p.getFlattenedFilters())if(c.indexOf(C.op)>=0)return C.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==s)throw new _t(qe.INVALID_ARGUMENT,s===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}function Qy(i,t,s){if(!s.isEqual(t))throw new _t(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${s.toString()}' instead.`)}class Yy{convertValue(t,s="none"){switch(Ri(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ks(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(ol(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 10:return this.convertObject(t.mapValue,s);default:throw Ft()}}convertObject(t,s){const a={};return Go(t.fields,(c,p)=>{a[c]=this.convertValue(p,s)}),a}convertGeoPoint(t){return new nm(Ks(t.latitude),Ks(t.longitude))}convertArray(t,s){return(t.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(t,s){switch(s){case"previous":const a=al(t);return null==a?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(ic(t));default:return null}}convertTimestamp(t){const s=Ma(t);return new es(s.seconds,s.nanos)}convertDocumentKey(t,s){const a=R.fromString(t);Ye(Hn(a));const c=new yo(a.get(1),a.get(3)),p=new Me(a.popFirst(5));return c.isEqual(s)||ei(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),p}}class ld{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xd extends zd{constructor(t,s,a,c,p,C){super(t,s,a,c,C),this._firestore=t,this._firestoreImpl=t,this.metadata=p}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const a=this._document.data.field(Xh("DocumentSnapshot.get",t));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class lp extends Xd{data(t={}){return super.data(t)}}class ur{constructor(t,s,a,c){this._firestore=t,this._userDataWriter=s,this._snapshot=c,this.metadata=new ld(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,s){this._snapshot.docs.forEach(a=>{t.call(s,new lp(this._firestore,this._userDataWriter,a.key,a,new ld(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new _t(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new lp(a._firestore,a._userDataWriter,C.doc.key,C.doc,new ld(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>c||3!==C.type).map(C=>{const N=new lp(a._firestore,a._userDataWriter,C.doc.key,C.doc,new ld(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let $=-1,Z=-1;return 0!==C.type&&($=p.indexOf(C.doc.key),p=p.delete(C.doc.key)),1!==C.type&&(p=p.add(C.doc),Z=p.indexOf(C.doc.key)),{type:qy(C.type),doc:N,oldIndex:$,newIndex:Z}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function qy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function Yd(i){i=Cs(i,ho);const t=Cs(i.firestore,Di);return function $_(i,t,s={}){const a=new Cr;return i.asyncQueue.enqueueAndForget((0,_.A)(function*(){return function(c,p,C,N,$){const Z=new Yf({next:Re=>{p.enqueueAndForget(()=>kh(c,fe));const et=Re.docs.has(C);!et&&Re.fromCache?$.reject(new _t(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Re.fromCache&&N&&"server"===N.source?$.reject(new _t(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Re)},error:Re=>$.reject(Re)}),fe=new nd(Ll(C.path),Z,{includeMetadataChanges:!0,Nu:!0});return td(c,fe)}(yield Kd(i),i.asyncQueue,t,s,a)})),a.promise}(fo(t),i._key).then(s=>vm(t,i,s))}class Qc extends Yy{constructor(t){super(),this.firestore=t}convertBytes(t){return new tl(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new ho(this.firestore,null,s)}}function Jy(i){i=Cs(i,ho);const t=Cs(i.firestore,Di),s=fo(t),a=new Qc(t);return function cD(i,t){const s=new Cr;return i.asyncQueue.enqueueAndForget((0,_.A)(function*(){return(a=(0,_.A)(function*(c,p,C){try{const N=yield function($,Z){const fe=At($);return fe.persistence.runTransaction("read document","readonly",Re=>fe.localDocuments.getDocument(Re,Z))}(c,p);N.isFoundDocument()?C.resolve(N):N.isNoDocument()?C.resolve(null):C.reject(new _t(qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const $=Vd(N,`Failed to get document '${p} from cache`);C.reject($)}}),function(c,p,C){return a.apply(this,arguments)})(yield function jh(i){return ky(i).then(t=>t.localStore)}(i),t,s);var a})),s.promise}(s,i._key).then(c=>new Xd(t,a,i._key,c,new ld(null!==c&&c.hasLocalMutations,!0),i.converter))}function qh(i){i=Cs(i,qo);const t=Cs(i.firestore,Di),s=fo(t),a=new Qc(t);return Yh(i._query),function H_(i,t,s={}){const a=new Cr;return i.asyncQueue.enqueueAndForget((0,_.A)(function*(){return function(c,p,C,N,$){const Z=new Yf({next:Re=>{p.enqueueAndForget(()=>kh(c,fe)),Re.fromCache&&"server"===N.source?$.reject(new _t(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Re)},error:Re=>$.reject(Re)}),fe=new nd(C,Z,{includeMetadataChanges:!0,Nu:!0});return td(c,fe)}(yield Kd(i),i.asyncQueue,t,s,a)})),a.promise}(s,i._query).then(c=>new ur(t,a,i,c))}function tv(i,t,s,...a){i=Cs(i,ho);const c=Cs(i.firestore,Di),p=ad(c);let C;return C="string"==typeof(t=(0,W.Ku)(t))||t instanceof Sc?function om(i,t,s,a,c,p){const C=i.da(1,t,s),N=[np(t,a,s)],$=[c];if(p.length%2!=0)throw new _t(qe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<p.length;et+=2)N.push(np(t,p[et])),$.push(p[et+1]);const Z=[],fe=vo.empty();for(let et=N.length-1;et>=0;--et)if(!cm(Z,N[et])){const It=N[et];let kt=$[et];kt=(0,W.Ku)(kt);const nn=C.ca(It);if(kt instanceof Wh)Z.push(It);else{const xn=Kc(kt,nn);null!=xn&&(Z.push(It),fe.set(It,xn))}}const Re=new Ki(Z);return new sm(fe,Re,C.fieldTransforms)}(p,"updateDoc",i._key,t,s,a):function zh(i,t,s,a){const c=i.da(1,t,s);tp("Data must be an object, but it was:",c,a);const p=[],C=vo.empty();Go(a,($,Z)=>{const fe=rp(t,$,s);Z=(0,W.Ku)(Z);const Re=c.ca(fe);if(Z instanceof Wh)p.push(fe);else{const et=Kc(Z,Re);null!=et&&(p.push(fe),C.set(fe,et))}});const N=new Ki(p);return new sm(C,N,c.fieldTransforms)}(p,"updateDoc",i._key,t),cd(c,[C.toMutation(i._key,bs.exists(!0))])}function gm(i){return cd(Cs(i.firestore,Di),[new Xl(i._key,bs.none())])}function mm(i,t){const s=Cs(i.firestore,Di),a=Ug(i),c=function ap(i,t,s){let a;return a=i?s&&(s.merge||s.mergeFields)?i.toFirestore(t,s):i.toFirestore(t):t,a}(i.converter,t);return cd(s,[Hh(ad(i.firestore),"addDoc",a._key,c,null!==i.converter,{}).toMutation(a._key,bs.exists(!1))]).then(()=>a)}function ym(i,...t){var s,a,c;i=(0,W.Ku)(i);let p={includeMetadataChanges:!1},C=0;"object"!=typeof t[C]||Jg(t[C])||(p=t[C],C++);const N={includeMetadataChanges:p.includeMetadataChanges};if(Jg(t[C])){const Re=t[C];t[C]=null===(s=Re.next)||void 0===s?void 0:s.bind(Re),t[C+1]=null===(a=Re.error)||void 0===a?void 0:a.bind(Re),t[C+2]=null===(c=Re.complete)||void 0===c?void 0:c.bind(Re)}let $,Z,fe;if(i instanceof ho)Z=Cs(i.firestore,Di),fe=Ll(i._key.path),$={next:Re=>{t[C]&&t[C](vm(Z,i,Re))},error:t[C+1],complete:t[C+2]};else{const Re=Cs(i,qo);Z=Cs(Re.firestore,Di),fe=Re._query;const et=new Qc(Z);$={next:It=>{t[C]&&t[C](new ur(Z,et,Re,It))},error:t[C+1],complete:t[C+2]},Yh(i._query)}return function(Re,et,It,kt){const nn=new Yf(kt),xn=new nd(et,nn,It);return Re.asyncQueue.enqueueAndForget((0,_.A)(function*(){return td(yield Kd(Re),xn)})),()=>{nn.bc(),Re.asyncQueue.enqueueAndForget((0,_.A)(function*(){return kh(yield Kd(Re),xn)}))}}(fo(Z),fe,N,$)}function cd(i,t){return function(s,a){const c=new Cr;return s.asyncQueue.enqueueAndForget((0,_.A)(function*(){return function T_(i,t,s){return Hf.apply(this,arguments)}(yield function Xg(i){return Zf(i).then(t=>t.syncEngine)}(s),a,c)})),c.promise}(fo(i),t)}function vm(i,t,s){const a=s.docs.get(t._key),c=new Qc(i);return new Xd(i,c,t._key,a,new ld(s.hasPendingWrites,s.fromCache),t.converter)}function sv(){return new ep("serverTimestamp")}!function(i,t=!0){ao=v.MF,(0,v.om)(new ce.uA("firestore",(s,{instanceIdentifier:a,options:c})=>{const p=s.getProvider("app").getImmediate(),C=new Di(new $o(s.getProvider("auth-internal")),new Ua(s.getProvider("app-check-internal")),function(N,$){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new _t(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(N.options.projectId,$)}(p,a),p);return c=Object.assign({useFetchStreams:t},c),C._setSettings(c),C},"PUBLIC").setMultipleInstances(!0)),(0,v.KO)(Ws,"3.8.3",i),(0,v.KO)(Ws,"3.8.3","esm2017")}()},467:(ut,ye,D)=>{function _(ce,U,W,q,Q,z,ie){try{var ee=ce[z](ie),ne=ee.value}catch(Te){return void W(Te)}ee.done?U(ne):Promise.resolve(ne).then(q,Q)}function v(ce){return function(){var U=this,W=arguments;return new Promise(function(q,Q){var z=ce.apply(U,W);function ie(ne){_(z,q,Q,ie,ee,"next",ne)}function ee(ne){_(z,q,Q,ie,ee,"throw",ne)}ie(void 0)})}}D.d(ye,{A:()=>v})},1635:(ut,ye,D)=>{function U(Xe,Ue){var st={};for(var at in Xe)Object.prototype.hasOwnProperty.call(Xe,at)&&Ue.indexOf(at)<0&&(st[at]=Xe[at]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(at=Object.getOwnPropertySymbols(Xe);Ct<at.length;Ct++)Ue.indexOf(at[Ct])<0&&Object.prototype.propertyIsEnumerable.call(Xe,at[Ct])&&(st[at[Ct]]=Xe[at[Ct]])}return st}function W(Xe,Ue,st,at){var Zt,Ct=arguments.length,Et=Ct<3?Ue:null===at?at=Object.getOwnPropertyDescriptor(Ue,st):at;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Xe,Ue,st,at);else for(var mn=Xe.length-1;mn>=0;mn--)(Zt=Xe[mn])&&(Et=(Ct<3?Zt(Et):Ct>3?Zt(Ue,st,Et):Zt(Ue,st))||Et);return Ct>3&&Et&&Object.defineProperty(Ue,st,Et),Et}function Te(Xe,Ue,st,at){return new(st||(st=Promise))(function(Et,Zt){function mn(Kn){try{Cn(at.next(Kn))}catch(yn){Zt(yn)}}function hr(Kn){try{Cn(at.throw(Kn))}catch(yn){Zt(yn)}}function Cn(Kn){Kn.done?Et(Kn.value):function Ct(Et){return Et instanceof st?Et:new st(function(Zt){Zt(Et)})}(Kn.value).then(mn,hr)}Cn((at=at.apply(Xe,Ue||[])).next())})}function Je(Xe){return this instanceof Je?(this.v=Xe,this):new Je(Xe)}function je(Xe,Ue,st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,at=st.apply(Xe,Ue||[]),Et=[];return Ct=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),mn("next"),mn("throw"),mn("return",function Zt(Gn){return function(qn){return Promise.resolve(qn).then(Gn,yn)}}),Ct[Symbol.asyncIterator]=function(){return this},Ct;function mn(Gn,qn){at[Gn]&&(Ct[Gn]=function(ns){return new Promise(function(Jn,Es){Et.push([Gn,ns,Jn,Es])>1||hr(Gn,ns)})},qn&&(Ct[Gn]=qn(Ct[Gn])))}function hr(Gn,qn){try{!function Cn(Gn){Gn.value instanceof Je?Promise.resolve(Gn.value.v).then(Kn,yn):Gr(Et[0][2],Gn)}(at[Gn](qn))}catch(ns){Gr(Et[0][3],ns)}}function Kn(Gn){hr("next",Gn)}function yn(Gn){hr("throw",Gn)}function Gr(Gn,qn){Gn(qn),Et.shift(),Et.length&&hr(Et[0][0],Et[0][1])}}function Ot(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Ue=Xe[Symbol.asyncIterator];return Ue?Ue.call(Xe):(Xe=function xe(Xe){var Ue="function"==typeof Symbol&&Symbol.iterator,st=Ue&&Xe[Ue],at=0;if(st)return st.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&at>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[at++],done:!Xe}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),st={},at("next"),at("throw"),at("return"),st[Symbol.asyncIterator]=function(){return this},st);function at(Et){st[Et]=Xe[Et]&&function(Zt){return new Promise(function(mn,hr){!function Ct(Et,Zt,mn,hr){Promise.resolve(hr).then(function(Cn){Et({value:Cn,done:mn})},Zt)}(mn,hr,(Zt=Xe[Et](Zt)).done,Zt.value)})}}}D.d(ye,{AQ:()=>je,Cg:()=>W,N3:()=>Je,Tt:()=>U,sH:()=>Te,xN:()=>Ot}),"function"==typeof SuppressedError&&SuppressedError},8330:ut=>{ut.exports={rE:"0.0.238"}}},ut=>{ut(ut.s=7572)}]);