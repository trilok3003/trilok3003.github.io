"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[9992],{9992:(S,p,c)=>{c.r(p),c.d(p,{EncapsulatingModule:()=>j});var u=c(177),f=c(884),e=c(4438);class m{}var g=c(9417);function y(r,t){if(1&r){const s=e.RV6();e.j41(0,"li",5),e.EFF(1),e.j41(2,"a",6),e.bIt("click",function(){const n=e.eBV(s).$implicit,o=e.XpG(2);return e.Njj(o.deleteMessage(n))}),e.EFF(3,"Delete"),e.k0s()()}if(2&r){const s=t.$implicit;e.Mz_("title","Created at ",s.createdAt.toTimeString(),""),e.R7$(),e.SpI(" ",s.text," \u2014 ")}}function w(r,t){if(1&r&&(e.j41(0,"ul"),e.DNE(1,y,4,3,"li",4),e.k0s()),2&r){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.messages)}}const v=[{path:"",component:(()=>{class r{constructor(s){this.messageGateway=s,this.form={message:""},this.messages=[]}addMessage(){this.form.message&&(this.messageGateway.createMessage({text:this.form.message,createdAt:new Date}),this.form.message="")}deleteMessage(s){this.messageGateway.deleteMessage(s.id)}ngOnInit(){this.messageGateway.readMessagesAsStream().subscribe(a=>{this.messages=a},a=>{console.warn("Read Message As Stream Error"),console.error(a)})}static{this.\u0275fac=function(a){return new(a||r)(e.rXU(m))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-encapsulating"]],standalone:!1,decls:11,vars:3,consts:[[4,"ngIf"],[3,"submit"],["type","text","name","message","autofocus","",3,"ngModelChange","ngModel"],["type","submit","value","Add Message"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],[3,"click"]],template:function(a,n){1&a&&(e.j41(0,"h2"),e.EFF(1),e.k0s(),e.DNE(2,w,2,1,"ul",0),e.j41(3,"form",1),e.bIt("submit",function(){return n.addMessage()}),e.j41(4,"input",2),e.mxI("ngModelChange",function(i){return e.DH7(n.form.message,i)||(n.form.message=i),i}),e.k0s(),e.nrm(5,"input",3),e.k0s(),e.nrm(6,"hr"),e.j41(7,"h2"),e.EFF(8," Choose A Gateway Implementation\n"),e.k0s(),e.j41(9,"p"),e.EFF(10,' Note that all of these implementations provide a "stream" I/O method.\n'),e.k0s()),2&a&&(e.R7$(),e.SpI(" You Have ",n.messages.length," Message(s)!\n"),e.R7$(),e.Y8G("ngIf",n.messages.length),e.R7$(2),e.R50("ngModel",n.form.message))},dependencies:[u.NgForOf,u.NgIf,g.qT,g.me,g.BC,g.cb,g.vS,g.cV],encapsulation:2})}}return r})()}];let b=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(v),f.iI]})}}return r})();c(4412);var C=c(2214),l=c(5891),A=c(1985),x=c(5312);class F extends m{constructor(){super(),this.firebaseApp=(0,C.Wp)(x.c.firebaseConfig),this.firebaseDB=(0,l.C3)(this.firebaseApp)}createMessage(t){const s=(0,l.VC)((0,l.KR)(this.firebaseDB,"/2017-09-03/")),a={id:s.key,text:t.text,createdAt:t.createdAt.getTime()};return(0,l.hZ)(s,a).catch(n=>{console.log("Create Message Failed"),console.error(n),console.log("Transfer Object:"),console.dir(a)}),Promise.resolve(s.key)}deleteMessage(t){return(0,l.TF)((0,l.KR)(this.firebaseDB,"/2017-09-03/"+t)).catch(s=>{console.log("Delete Message Failed"),console.error(s),console.log("ID:",t)}),Promise.resolve()}readMessages(){const t=(0,l.KR)(this.firebaseDB,"/2017-09-03/");return(0,l.Jt)(t).then(a=>{const n=[];return a.exists()&&a.forEach(o=>{const i=o.val();return n.push({id:i.id,text:i.text,createdAt:new Date(i.createdAt)}),!1}),n})}readMessagesAsStream(){return new A.c(s=>{let a=(0,l.KR)(this.firebaseDB,"/2017-09-03/"),n=(0,l.Zy)(a,i=>{const d=[];i.exists()?(i.forEach(I=>{const h=I.val();return d.push({id:h.id,text:h.text,createdAt:new Date(h.createdAt)}),!1}),s.next(d)):s.next(d)});return function o(){(0,l.AU)(a,"value",n),a=n=null}})}}let j=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[{provide:m,useClass:F}],imports:[u.CommonModule,b,g.YN]})}}return r})()}}]);