"use strict";var Pw=Object.defineProperty,Rw=Object.defineProperties,xw=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,Nw=Object.prototype.hasOwnProperty,Lw=Object.prototype.propertyIsEnumerable,V0=(we,ae,C)=>ae in we?Pw(we,ae,{enumerable:!0,configurable:!0,writable:!0,value:C}):we[ae]=C,B0=(we,ae)=>{for(var C in ae||(ae={}))Nw.call(ae,C)&&V0(we,C,ae[C]);if(U0)for(var C of U0(ae))Lw.call(ae,C)&&V0(we,C,ae[C]);return we},j0=(we,ae)=>Rw(we,xw(ae));(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[179],{2090:(we,ae,C)=>{C.d(ae,{BH:()=>Be,DV:()=>lr,G6:()=>ht,GJ:()=>Wr,L:()=>J,LL:()=>Ir,P0:()=>gt,Pz:()=>Ge,Sg:()=>Dt,UI:()=>cs,US:()=>de,Wl:()=>vi,Yr:()=>bt,ZR:()=>Br,aH:()=>xt,b$:()=>Ze,cI:()=>dr,dS:()=>Kn,eu:()=>Kt,g5:()=>te,gK:()=>sn,gQ:()=>Tr,h$:()=>oe,hl:()=>Un,hu:()=>S,m9:()=>Gr,ne:()=>$e,p$:()=>Q,pd:()=>li,q4:()=>je,r3:()=>Nr,ru:()=>tt,tV:()=>he,uI:()=>Wt,ug:()=>Kr,vZ:()=>zt,w1:()=>et,w9:()=>ni,xO:()=>vr,xb:()=>yr,z$:()=>Tt,zd:()=>Zi});const S=function(Ne,Ae){if(!Ne)throw te(Ae)},te=function(Ne){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ne)},V=function(Ne){const Ae=[];let Ve=0;for(let Et=0;Et<Ne.length;Et++){let Ke=Ne.charCodeAt(Et);Ke<128?Ae[Ve++]=Ke:Ke<2048?(Ae[Ve++]=Ke>>6|192,Ae[Ve++]=63&Ke|128):55296==(64512&Ke)&&Et+1<Ne.length&&56320==(64512&Ne.charCodeAt(Et+1))?(Ke=65536+((1023&Ke)<<10)+(1023&Ne.charCodeAt(++Et)),Ae[Ve++]=Ke>>18|240,Ae[Ve++]=Ke>>12&63|128,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128):(Ae[Ve++]=Ke>>12|224,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128)}return Ae},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,Ae){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let Ke=0;Ke<Ne.length;Ke+=3){const jt=Ne[Ke],en=Ke+1<Ne.length,Nn=en?Ne[Ke+1]:0,ir=Ke+2<Ne.length,Fr=ir?Ne[Ke+2]:0;let me=(15&Nn)<<2|Fr>>6,ke=63&Fr;ir||(ke=64,en||(me=64)),Et.push(Ve[jt>>2],Ve[(3&jt)<<4|Nn>>4],Ve[me],Ve[ke])}return Et.join("")},encodeString(Ne,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(Ne):this.encodeByteArray(V(Ne),Ae)},decodeString(Ne,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(Ne):function(Ne){const Ae=[];let Ve=0,Et=0;for(;Ve<Ne.length;){const Ke=Ne[Ve++];if(Ke<128)Ae[Et++]=String.fromCharCode(Ke);else if(Ke>191&&Ke<224){const jt=Ne[Ve++];Ae[Et++]=String.fromCharCode((31&Ke)<<6|63&jt)}else if(Ke>239&&Ke<365){const ir=((7&Ke)<<18|(63&Ne[Ve++])<<12|(63&Ne[Ve++])<<6|63&Ne[Ve++])-65536;Ae[Et++]=String.fromCharCode(55296+(ir>>10)),Ae[Et++]=String.fromCharCode(56320+(1023&ir))}else{const jt=Ne[Ve++],en=Ne[Ve++];Ae[Et++]=String.fromCharCode((15&Ke)<<12|(63&jt)<<6|63&en)}}return Ae.join("")}(this.decodeStringToByteArray(Ne,Ae))},decodeStringToByteArray(Ne,Ae){this.init_();const Ve=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let Ke=0;Ke<Ne.length;){const jt=Ve[Ne.charAt(Ke++)],Nn=Ke<Ne.length?Ve[Ne.charAt(Ke)]:0;++Ke;const Fr=Ke<Ne.length?Ve[Ne.charAt(Ke)]:64;++Ke;const Se=Ke<Ne.length?Ve[Ne.charAt(Ke)]:64;if(++Ke,null==jt||null==Nn||null==Fr||null==Se)throw Error();Et.push(jt<<2|Nn>>4),64!==Fr&&(Et.push(Nn<<4&240|Fr>>2),64!==Se&&Et.push(Fr<<6&192|Se))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},oe=function(Ne){const Ae=V(Ne);return de.encodeByteArray(Ae,!0)},J=function(Ne){return oe(Ne).replace(/\./g,"")},he=function(Ne){try{return de.decodeString(Ne,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function Q(Ne){return Z(void 0,Ne)}function Z(Ne,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return Ae}for(const Ve in Ae)!Ae.hasOwnProperty(Ve)||!ce(Ve)||(Ne[Ve]=Z(Ne[Ve],Ae[Ve]));return Ne}function ce(Ne){return"__proto__"!==Ne}const We=()=>{try{return function Le(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Ne=process.env.__FIREBASE_DEFAULTS__;return Ne?JSON.parse(Ne):void 0})()||(()=>{if("undefined"==typeof document)return;let Ne;try{Ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ve){return}const Ae=Ne&&he(Ne[1]);return Ae&&JSON.parse(Ae)})()}catch(Ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ne}`)}},je=Ne=>{var Ae,Ve;return null===(Ve=null===(Ae=We())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===Ve?void 0:Ve[Ne]},gt=Ne=>{const Ae=je(Ne);if(!Ae)return;const Ve=Ae.lastIndexOf(":");if(Ve<=0||Ve+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const Et=parseInt(Ae.substring(Ve+1),10);return"["===Ae[0]?[Ae.substring(1,Ve-1),Et]:[Ae.substring(0,Ve),Et]},xt=()=>{var Ne;return null===(Ne=We())||void 0===Ne?void 0:Ne.config},Ge=Ne=>{var Ae;return null===(Ae=We())||void 0===Ae?void 0:Ae[`_${Ne}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,Ve)=>{this.resolve=Ae,this.reject=Ve})}wrapCallback(Ae){return(Ve,Et)=>{Ve?this.reject(Ve):this.resolve(Et),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(Ve):Ae(Ve,Et))}}}function Dt(Ne,Ae){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=Ae||"demo-project",Ke=Ne.iat||0,jt=Ne.sub||Ne.user_id;if(!jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const en=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:Ke,exp:Ke+3600,auth_time:Ke,sub:jt,user_id:jt,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(en)),""].join(".")}function Tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Wt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function tt(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const Ne=Tt();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function bt(){return!1}function ht(){return!function Ht(){var Ne;const Ae=null===(Ne=We())||void 0===Ne?void 0:Ne.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ve){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Un(){try{return"object"==typeof indexedDB}catch(Ne){return!1}}function Kt(){return new Promise((Ne,Ae)=>{try{let Ve=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",Ke=self.indexedDB.open(Et);Ke.onsuccess=()=>{Ke.result.close(),Ve||self.indexedDB.deleteDatabase(Et),Ne(!0)},Ke.onupgradeneeded=()=>{Ve=!1},Ke.onerror=()=>{var jt;Ae((null===(jt=Ke.error)||void 0===jt?void 0:jt.message)||"")}}catch(Ve){Ae(Ve)}})}class Br extends Error{constructor(Ae,Ve,Et){super(Ve),this.code=Ae,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}}class Ir{constructor(Ae,Ve,Et){this.service=Ae,this.serviceName=Ve,this.errors=Et}create(Ae,...Ve){const Et=Ve[0]||{},Ke=`${this.service}/${Ae}`,jt=this.errors[Ae],en=jt?function nr(Ne,Ae){return Ne.replace(kr,(Ve,Et)=>{const Ke=Ae[Et];return null!=Ke?String(Ke):`<${Et}?>`})}(jt,Et):"Error";return new Br(Ke,`${this.serviceName}: ${en} (${Ke}).`,Et)}}const kr=/\{\$([^}]+)}/g;function dr(Ne){return JSON.parse(Ne)}function vi(Ne){return JSON.stringify(Ne)}const mi=function(Ne){let Ae={},Ve={},Et={},Ke="";try{const jt=Ne.split(".");Ae=dr(he(jt[0])||""),Ve=dr(he(jt[1])||""),Ke=jt[2],Et=Ve.d||{},delete Ve.d}catch(jt){}return{header:Ae,claims:Ve,data:Et,signature:Ke}},ni=function(Ne){const Ve=mi(Ne).claims;return!!Ve&&"object"==typeof Ve&&Ve.hasOwnProperty("iat")},Wr=function(Ne){const Ae=mi(Ne).claims;return"object"==typeof Ae&&!0===Ae.admin};function Nr(Ne,Ae){return Object.prototype.hasOwnProperty.call(Ne,Ae)}function lr(Ne,Ae){if(Object.prototype.hasOwnProperty.call(Ne,Ae))return Ne[Ae]}function yr(Ne){for(const Ae in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Ae))return!1;return!0}function cs(Ne,Ae,Ve){const Et={};for(const Ke in Ne)Object.prototype.hasOwnProperty.call(Ne,Ke)&&(Et[Ke]=Ae.call(Ve,Ne[Ke],Ke,Ne));return Et}function zt(Ne,Ae){if(Ne===Ae)return!0;const Ve=Object.keys(Ne),Et=Object.keys(Ae);for(const Ke of Ve){if(!Et.includes(Ke))return!1;const jt=Ne[Ke],en=Ae[Ke];if(_i(jt)&&_i(en)){if(!zt(jt,en))return!1}else if(jt!==en)return!1}for(const Ke of Et)if(!Ve.includes(Ke))return!1;return!0}function _i(Ne){return null!==Ne&&"object"==typeof Ne}function vr(Ne){const Ae=[];for(const[Ve,Et]of Object.entries(Ne))Array.isArray(Et)?Et.forEach(Ke=>{Ae.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Ke))}):Ae.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Et));return Ae.length?"&"+Ae.join("&"):""}function Zi(Ne){const Ae={};return Ne.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[Ke,jt]=Et.split("=");Ae[decodeURIComponent(Ke)]=decodeURIComponent(jt)}}),Ae}function li(Ne){const Ae=Ne.indexOf("?");if(!Ae)return"";const Ve=Ne.indexOf("#",Ae);return Ne.substring(Ae,Ve>0?Ve:void 0)}class Tr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ae=1;Ae<this.blockSize;++Ae)this.pad_[Ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ae,Ve){Ve||(Ve=0);const Et=this.W_;if("string"==typeof Ae)for(let Se=0;Se<16;Se++)Et[Se]=Ae.charCodeAt(Ve)<<24|Ae.charCodeAt(Ve+1)<<16|Ae.charCodeAt(Ve+2)<<8|Ae.charCodeAt(Ve+3),Ve+=4;else for(let Se=0;Se<16;Se++)Et[Se]=Ae[Ve]<<24|Ae[Ve+1]<<16|Ae[Ve+2]<<8|Ae[Ve+3],Ve+=4;for(let Se=16;Se<80;Se++){const me=Et[Se-3]^Et[Se-8]^Et[Se-14]^Et[Se-16];Et[Se]=4294967295&(me<<1|me>>>31)}let Fr,He,Ke=this.chain_[0],jt=this.chain_[1],en=this.chain_[2],Nn=this.chain_[3],ir=this.chain_[4];for(let Se=0;Se<80;Se++){Se<40?Se<20?(Fr=Nn^jt&(en^Nn),He=1518500249):(Fr=jt^en^Nn,He=1859775393):Se<60?(Fr=jt&en|Nn&(jt|en),He=2400959708):(Fr=jt^en^Nn,He=3395469782);const me=(Ke<<5|Ke>>>27)+Fr+ir+He+Et[Se]&4294967295;ir=Nn,Nn=en,en=4294967295&(jt<<30|jt>>>2),jt=Ke,Ke=me}this.chain_[0]=this.chain_[0]+Ke&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+en&4294967295,this.chain_[3]=this.chain_[3]+Nn&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295}update(Ae,Ve){if(null==Ae)return;void 0===Ve&&(Ve=Ae.length);const Et=Ve-this.blockSize;let Ke=0;const jt=this.buf_;let en=this.inbuf_;for(;Ke<Ve;){if(0===en)for(;Ke<=Et;)this.compress_(Ae,Ke),Ke+=this.blockSize;if("string"==typeof Ae){for(;Ke<Ve;)if(jt[en]=Ae.charCodeAt(Ke),++en,++Ke,en===this.blockSize){this.compress_(jt),en=0;break}}else for(;Ke<Ve;)if(jt[en]=Ae[Ke],++en,++Ke,en===this.blockSize){this.compress_(jt),en=0;break}}this.inbuf_=en,this.total_+=Ve}digest(){const Ae=[];let Ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ke=this.blockSize-1;Ke>=56;Ke--)this.buf_[Ke]=255&Ve,Ve/=256;this.compress_(this.buf_);let Et=0;for(let Ke=0;Ke<5;Ke++)for(let jt=24;jt>=0;jt-=8)Ae[Et]=this.chain_[Ke]>>jt&255,++Et;return Ae}}function $e(Ne,Ae){const Ve=new Oe(Ne,Ae);return Ve.subscribe.bind(Ve)}class Oe{constructor(Ae,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{Ae(this)}).catch(Et=>{this.error(Et)})}next(Ae){this.forEachObserver(Ve=>{Ve.next(Ae)})}error(Ae){this.forEachObserver(Ve=>{Ve.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,Ve,Et){let Ke;if(void 0===Ae&&void 0===Ve&&void 0===Et)throw new Error("Missing Observer.");Ke=function nt(Ne,Ae){if("object"!=typeof Ne||null===Ne)return!1;for(const Ve of Ae)if(Ve in Ne&&"function"==typeof Ne[Ve])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:Ve,complete:Et},void 0===Ke.next&&(Ke.next=pt),void 0===Ke.error&&(Ke.error=pt),void 0===Ke.complete&&(Ke.complete=pt);const jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ke.error(this.finalError):Ke.complete()}catch(en){}}),this.observers.push(Ke),jt}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,Ae)}sendOne(Ae,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{Ve(this.observers[Ae])}catch(Et){"undefined"!=typeof console&&console.error&&console.error(Et)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pt(){}function sn(Ne,Ae){return`${Ne} failed: ${Ae} argument `}const Kn=function(Ne){const Ae=[];let Ve=0;for(let Et=0;Et<Ne.length;Et++){let Ke=Ne.charCodeAt(Et);if(Ke>=55296&&Ke<=56319){const jt=Ke-55296;Et++,S(Et<Ne.length,"Surrogate pair missing trail surrogate."),Ke=65536+(jt<<10)+(Ne.charCodeAt(Et)-56320)}Ke<128?Ae[Ve++]=Ke:Ke<2048?(Ae[Ve++]=Ke>>6|192,Ae[Ve++]=63&Ke|128):Ke<65536?(Ae[Ve++]=Ke>>12|224,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128):(Ae[Ve++]=Ke>>18|240,Ae[Ve++]=Ke>>12&63|128,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128)}return Ae},Kr=function(Ne){let Ae=0;for(let Ve=0;Ve<Ne.length;Ve++){const Et=Ne.charCodeAt(Ve);Et<128?Ae++:Et<2048?Ae+=2:Et>=55296&&Et<=56319?(Ae+=4,Ve++):Ae+=3}return Ae};function Gr(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}},2348:(we,ae,C)=>{C.d(ae,{t:()=>ce});var f=C(1135),S=C(2843),te=C(3900),V=C(9646),le=C(6805),oe=C(262),J=C(8505),he=C(4004),Q=C(5e3),Z=C(520);let ce=(()=>{class Le{constructor(Ie){this.http=Ie,this.alertSubject=new f.X(null),this.alertObservable=this.alertSubject.asObservable()}getUser(Ie){return this.http.get(`https://jsonplaceholder.typicode.com/users/${Ie}`).pipe((0,oe.K)(Ye=>(0,S._)(Ye)))}getToDo(Ie){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${Ie}`).pipe((0,oe.K)(Ye=>(0,S._)(Ye)))}setUser(Ie){console.log(Ie)}setToDos(Ie){console.log(Ie)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,te.w)(Ie=>(this.setUser(Ie),this.getToDo(Ie.id).pipe((0,J.b)(Ye=>this.setToDos(Ye))))),(0,oe.K)(Ie=>(this.alertSubject.next(Ie),(0,V.of)(Ie))))}initialiseAppUsingPromises(){return function de(Le,ze){const Ie="object"==typeof ze;return new Promise((Ye,We)=>{let gt,je=!1;Le.subscribe({next:xt=>{gt=xt,je=!0},error:We,complete:()=>{je?Ye(gt):Ie?Ye(ze.defaultValue):We(new le.K)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,he.U)(Ie=>Ie))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,he.U)(Ie=>Ie))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,he.U)(Ie=>Ie))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,he.U)(Ie=>Ie))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,he.U)(Ie=>Ie))}}return Le.\u0275fac=function(Ie){return new(Ie||Le)(Q.LFG(Z.eN))},Le.\u0275prov=Q.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},4070:(we,ae,C)=>{C.d(ae,{g:()=>le});var f=C(1135),S=C(8646),te=C(8343),V=C(5e3);let le=(()=>{class de{constructor(){this._notification=new f.X(null),this.notification$=this._notification.asObservable().pipe((0,S.n)(),(0,te.x)())}notify(J){this._notification.next(J),setTimeout(()=>this._notification.next(null),3e3)}}return de.\u0275fac=function(J){return new(J||de)},de.\u0275prov=V.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},8285:(we,ae,C)=>{C.d(ae,{Y:()=>te});var f=C(5e3),S=(()=>{return(V=S||(S={}))[V.slideToLeft=1]="slideToLeft",V[V.slideToRight=2]="slideToRight",V[V.slideToTop=3]="slideToTop",V[V.slideToBottom=4]="slideToBottom",S;var V})();let te=(()=>{class V{constructor(){this.routeAnimation=null}setRouteAnimation(de){this.routeAnimation=S[de]}get currentRouteAnimation(){return this.routeAnimation}}return V.\u0275fac=function(de){return new(de||V)},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},2088:(we,ae,C)=>{C.d(ae,{s:()=>te});var f=C(5e3),S=C(520);let te=(()=>{class V{constructor(de){this.http=de}login(de,oe){return this.http.post("login",{username:de,password:oe})}getProducts(){return this.http.get("products",{headers:{}})}}return V.\u0275fac=function(de){return new(de||V)(f.LFG(S.eN))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},4657:(we,ae,C)=>{C.d(ae,{e:()=>le});var f=C(1135),S=C(8505),te=C(5e3),V=C(2088);let le=(()=>{class de{constructor(J){this.apiService=J,this._isLoggedIn$=new f.X(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(J,he){return this.apiService.login(J,he).pipe((0,S.b)(Q=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,Q.token),this.user=this.getUser(Q.token)}))}getUser(J){return J?JSON.parse(atob(J.split(".")[1])):null}hasRole(J){var he;return(null===(he=this.user)||void 0===he?void 0:he.Role.includes(J))||!1}}return de.\u0275fac=function(J){return new(J||de)(te.LFG(V.s))},de.\u0275prov=te.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},3922:(we,ae,C)=>{C.d(ae,{b:()=>S});const S=new(C(5e3).OlP)("logger",{factory:()=>({log:te=>console.log(`DEFAULT ${te}`),info:te=>console.info(`DEFAULT ${te}`)})})},7637:(we,ae,C)=>{C.d(ae,{u:()=>f});class f{}},9155:(we,ae,C)=>{C.d(ae,{Yk:()=>f,wJ:()=>S});var f=(()=>{return(V=f||(f={})).Clear="Clear",V.Snow="Snow",V.Rain="Rain",V.Clouds="Clouds",V.Thunderstorm="Thunderstorm",V.Atmosphere="Atmosphere",V.Drizzle="Drizzle",V.Unknown="Unknown",f;var V})();function S(V){return(new Map).set("Thunderstorm",f.Thunderstorm).set("Drizzle",f.Drizzle).set("Rain",f.Rain).set("Snow",f.Snow).set("Atmosphere",f.Atmosphere).set("Clouds",f.Clouds).set("Clear",f.Clear).get(V.main)||f.Unknown}},6222:(we,ae,C)=>{C.d(ae,{$0:()=>de,$f:()=>V,$s:()=>le,GO:()=>S,HD:()=>oe,JW:()=>Z,Xt:()=>Le,hS:()=>ce,m0:()=>te,mm:()=>Q,n3:()=>J,rc:()=>he});var f=C(5094);const S=(0,f.PH)("[ARTICLE] Show All"),te=(0,f.PH)("[ARTICLE] Show All Success",(0,f.Ky)()),V=(0,f.PH)("[ARTICLE] Create",(0,f.Ky)()),le=(0,f.PH)("[ARTICLE] Create Success",(0,f.Ky)()),de=(0,f.PH)("[ARTICLE] Create Failure",(0,f.Ky)()),oe=(0,f.PH)("[ARTICLE] Get by Id",(0,f.Ky)()),J=(0,f.PH)("[ARTICLE] Get by Id Success",(0,f.Ky)()),he=(0,f.PH)("[ARTICLE] Reset"),Q=(0,f.PH)("[Product] Add to cart",(0,f.Ky)()),Z=(0,f.PH)("[Product] Remove from cart",(0,f.Ky)()),ce=(0,f.PH)("[Products] Load items from server"),Le=(0,f.PH)("[Products] Load success",(0,f.Ky)())},8716:(we,ae,C)=>{C.d(ae,{FC:()=>he,N5:()=>ze,Zz:()=>J,kk:()=>Le,ll:()=>Ie});var f=C(5094),S=C(6222);const le=(0,f.Lq)({articles:[],message:""},(0,f.on)(S.m0,(Ye,{payload:We})=>({articles:We,message:"Success"})),(0,f.on)(S.$s,(Ye,{payload:We})=>({articles:[We],message:"Article Created."})),(0,f.on)(S.$0,(Ye,{payload:We})=>({articles:[],message:We})),(0,f.on)(S.n3,(Ye,{payload:We})=>({articles:We,message:"Success"})),(0,f.on)(S.rc,Ye=>({articles:[],message:""}))),oe=(0,f.ZF)("articleState"),J=(0,f.P1)(oe,Ye=>Ye.articles),he=(0,f.P1)(oe,Ye=>Ye.message),Q=(0,f.Lq)({products:[],cart:[]},(0,f.on)(S.Xt,(Ye,{payload:We})=>Object.assign(Object.assign({},Ye),{products:We})),(0,f.on)(S.mm,(Ye,{payload:We})=>Object.assign(Object.assign({},Ye),{cart:[...Ye.cart,We]})),(0,f.on)(S.JW,(Ye,{payload:We})=>Object.assign(Object.assign({},Ye),{cart:[...Ye.cart.filter(je=>je.name!==We.name)]}))),ce=(0,f.ZF)("productState1"),Le=(0,f.P1)(ce,Ye=>Ye.products),ze=(0,f.P1)(ce,Ye=>Ye.cart),Ie={articleState:function de(Ye,We){return le(Ye,We)},productState1:function Z(Ye,We){return Q(Ye,We)}}},4466:(we,ae,C)=>{C.d(ae,{m:()=>le});var f=C(9808),S=C(3075),te=C(4202),V=C(5e3);let le=(()=>{class de{}return de.\u0275fac=function(J){return new(J||de)},de.\u0275mod=V.oAB({type:de}),de.\u0275inj=V.cJS({imports:[f.ez,te.Bz,S.u5,S.UX,S.u5,S.UX]}),de})()},9884:(we,ae,C)=>{C.d(ae,{y:()=>te});var f=C(7579),S=C(1135);class te{constructor(le){this.reducer=le,this.action=new f.x;const de={type:"@ngrx/store/init"},oe=le(void 0,de);this.state=new S.X(oe),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(de)}dispatch(le){const de=this.state.getValue(),oe=this.reducer(de,le);this.state.next(oe),this.action.next(le)}}},8625:(we,ae,C)=>{C.d(ae,{IH:()=>le,Mj:()=>V,nP:()=>te,zD:()=>de});var f=C(5094),S=(()=>{return(oe=S||(S={})).INCREMENT="Increment Article",oe.DECREMENT="Decrememnt Article",oe.ADD="Add Article",oe.LOAD="Load Articles",S;var oe})();const te=(0,f.PH)(S.INCREMENT,(0,f.Ky)()),V=(0,f.PH)(S.DECREMENT,(0,f.Ky)()),le=(0,f.PH)(S.ADD,(0,f.Ky)()),de=(0,f.PH)(S.LOAD)},7369:(we,ae,C)=>{C.d(ae,{Jl:()=>de,UN:()=>te});var f=C(5094),S=C(8625);const te="article",le=(0,f.Lq)({articles:[]},(0,f.on)(S.nP,(oe,J)=>Object.assign(Object.assign({},oe),{articles:oe.articles.map(he=>he.id==J.id?Object.assign(Object.assign({},he),{points:he.points+1}):he)})),(0,f.on)(S.Mj,(oe,J)=>Object.assign(Object.assign({},oe),{articles:oe.articles.map(he=>he.id==J.id?Object.assign(Object.assign({},he),{points:he.points-1}):he)})),(0,f.on)(S.IH,(oe,{payload:J})=>Object.assign(Object.assign({},oe),{articles:[...oe.articles,J]})));function de(oe,J){return le(oe,J)}},3550:(we,ae,C)=>{C.d(ae,{T:()=>J});var f=C(5094),S=C(8625),te=C(7369);const V=(0,f.ZF)(te.UN),le=(0,f.P1)(V,he=>he.articles);class de{constructor(Q,Z,ce,Le){this.id=Q,this.title=Z,this.link=ce,this.points=Le||0,this.time=new Date}}var oe=C(5e3);let J=(()=>{class he{constructor(Z){this.store=Z,this.id=0}getArticle(){return this.store.pipe((0,f.Ys)(le))}incArticle(Z){this.store.dispatch(S.nP(Z))}decArticle(Z){this.store.dispatch(S.Mj(Z))}addArticle(Z){let ce=new de(++this.id,Z.title,Z.link,0);this.store.dispatch(S.IH({payload:ce}))}loadArticle(Z){this.store.dispatch(S.zD())}}return he.\u0275fac=function(Z){return new(Z||he)(oe.LFG(f.yh))},he.\u0275prov=oe.Yz7({token:he,factory:he.\u0275fac}),he})()},5054:(we,ae,C)=>{C.d(ae,{e:()=>oe});var f=C(5094),S=C(4579),te=C(2852);const V=(0,f.ZF)(te.UN),le=(0,f.P1)(V,J=>J.count);var de=C(5e3);let oe=(()=>{class J{constructor(Q){this.store=Q}getCount(){return this.store.pipe((0,f.Ys)(le))}incrementCount(){this.store.dispatch(S.nP())}decrementCount(){this.store.dispatch(S.Mj())}resetCount(){this.store.dispatch(S.mc())}setValue(Q){this.store.dispatch(S.Zf({newValue:Q}))}loadValue(){this.store.dispatch(S.zK())}}return J.\u0275fac=function(Q){return new(Q||J)(de.LFG(f.yh))},J.\u0275prov=de.Yz7({token:J,factory:J.\u0275fac}),J})()},4579:(we,ae,C)=>{C.d(ae,{Mj:()=>V,Zf:()=>de,mc:()=>le,nP:()=>te,zK:()=>oe});var f=C(5094),S=(()=>{return(J=S||(S={})).INCREMENT="[Counter Component] Increment",J.DECREMENT="[Counter Component] Decrement",J.RESET="[Counter Component] Reset",J.SETVALUE="[Counter Component] Set Value",J.LOADVALUE="[Counter Component] Load Value",S;var J})();const te=(0,f.PH)(S.INCREMENT),V=(0,f.PH)(S.DECREMENT),le=(0,f.PH)(S.RESET),de=(0,f.PH)(S.SETVALUE,(0,f.Ky)()),oe=(0,f.PH)(S.LOADVALUE)},2852:(we,ae,C)=>{C.d(ae,{UN:()=>te,jX:()=>de});var f=C(5094),S=C(4579);const te="counter",le=(0,f.Lq)({count:0},(0,f.on)(S.nP,oe=>Object.assign(Object.assign({},oe),{count:oe.count+1})),(0,f.on)(S.Mj,oe=>Object.assign(Object.assign({},oe),{count:oe.count-1})),(0,f.on)(S.mc,oe=>Object.assign(Object.assign({},oe),{count:0})),(0,f.on)(S.Zf,(oe,J)=>Object.assign(Object.assign({},oe),{count:J.newValue})));function de(oe,J){return le(oe,J)}},2542:(we,ae,C)=>{C.d(ae,{F3:()=>V,WU:()=>le,mu:()=>te});var f=C(5094),S=(()=>{return(de=S||(S={})).loadData="[loadData] load",de.loadDataSuccess="[loadData] success",de.loadDataFailure="[loadData] failure",S;var de})();const te=(0,f.PH)(S.loadData),V=(0,f.PH)(S.loadDataSuccess,(0,f.Ky)()),le=(0,f.PH)(S.loadDataFailure,(0,f.Ky)())},3880:(we,ae,C)=>{C.d(ae,{B5:()=>de,UN:()=>te});var f=C(5094),S=C(2542);const te="load-data",le=(0,f.Lq)({data:null,loading:!1,error:null},(0,f.on)(S.mu,oe=>Object.assign(Object.assign({},oe),{loading:!0})),(0,f.on)(S.F3,(oe,{payload:J})=>Object.assign(Object.assign({},oe),{loading:!1,data:J})),(0,f.on)(S.WU,(oe,{payload:J})=>Object.assign(Object.assign({},oe),{loading:!1,error:J})));function de(oe,J){return le(oe,J)}},9610:(we,ae,C)=>{C.d(ae,{L:()=>oe});var f=C(5094),S=C(3880);const te=(0,f.ZF)(S.UN),V=(0,f.P1)(te,J=>J.data);var le=C(2542),de=C(5e3);let oe=(()=>{class J{constructor(Q){this.store=Q}getData(){return this.store.pipe((0,f.Ys)(V))}loadData(){this.store.dispatch(le.mu())}loadDataSuccess(Q){this.store.dispatch(le.F3(Q))}loadDataFailure(Q){this.store.dispatch(le.WU(Q))}}return J.\u0275fac=function(Q){return new(Q||J)(de.LFG(f.yh))},J.\u0275prov=de.Yz7({token:J,factory:J.\u0275fac}),J})()},7403:(we,ae,C)=>{C.d(ae,{a:()=>le});var f=C(4004),S=C(5e3),te=C(520);let le=(()=>{class de{constructor(J){this.http=J}register(J){return this.http.post("https://conduit.productionready.io/api/users",J).pipe((0,f.U)(he=>he.user))}}return de.\u0275fac=function(J){return new(J||de)(S.LFG(te.eN))},de.\u0275prov=S.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},2766:(we,ae,C)=>{C.d(ae,{Pw:()=>V,_0:()=>te,zH:()=>le});var f=C(5094),S=(()=>{return(de=S||(S={})).REGISTER="[AUTH] REGISTER",de.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",de.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",S;var de})();const te=(0,f.PH)(S.REGISTER,(0,f.Ky)()),V=(0,f.PH)(S.REGISTER_SUCCESS,(0,f.Ky)()),le=(0,f.PH)(S.REGISTER_FAILURE,(0,f.Ky)())},5650:(we,ae,C)=>{C.d(ae,{UN:()=>V,xw:()=>de});var f=C(5094),S=C(2766);const V="Register",le=(0,f.Lq)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,f.on)(S._0,oe=>Object.assign(Object.assign({},oe),{isSubmitting:!0,validationErrors:null})),(0,f.on)(S.Pw,(oe,J)=>Object.assign(Object.assign({},oe),{isSubmitting:!1,isLoggedIn:!0,currentUser:J.currentUser})),(0,f.on)(S.zH,(oe,J)=>Object.assign(Object.assign({},oe),{isSubmitting:!1,validationErrors:J.errors})));function de(oe,J){return le(oe,J)}},4964:(we,ae,C)=>{C.d(ae,{q:()=>J});var f=C(5094),S=C(2766),te=C(5650);const V=(0,f.ZF)(te.UN),le=(0,f.P1)(V,he=>he.isSubmitting),de=(0,f.P1)(V,he=>he.validationErrors);var oe=C(5e3);let J=(()=>{class he{constructor(Z){this.store=Z}register(Z){this.store.dispatch((0,S._0)(Z))}isSubmitting(){return this.store.pipe((0,f.Ys)(le))}backendErrors(){return this.store.pipe((0,f.Ys)(de))}}return he.\u0275fac=function(Z){return new(Z||he)(oe.LFG(f.yh))},he.\u0275prov=oe.Yz7({token:he,factory:he.\u0275fac}),he})()},817:(we,ae,C)=>{C.d(ae,{N2:()=>le,Ni:()=>V,PR:()=>te});var f=C(5094),S=(()=>{return(de=S||(S={})).GET_USER="[User] Get User",de.GET_USER_SUCCESS="[User] Get User Success",de.GET_USER_FAILED="[User] Get User Failed",S;var de})();const te=(0,f.PH)(S.GET_USER),V=(0,f.PH)(S.GET_USER_SUCCESS,(0,f.Ky)()),le=(0,f.PH)(S.GET_USER_FAILED,(0,f.Ky)())},173:(we,ae,C)=>{C.d(ae,{U:()=>V,M:()=>de});var f=C(5094),te=C(817);const V="user_info",le=(0,f.Lq)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,f.on)(te.Ni,(oe,{user:J})=>Object.assign(Object.assign({},oe),{user:J,error:null})),(0,f.on)(te.N2,(oe,{error:J})=>Object.assign(Object.assign({},oe),{user:{userId:null,name:null,lastName:null,email:null},error:J})));function de(oe,J){return le(oe,J)}},2842:(we,ae,C)=>{C.d(ae,{p:()=>oe});var f=C(5094),S=C(817),te=C(173);const V=(0,f.ZF)(te.U),le=(0,f.P1)(V,J=>J.user);var de=C(5e3);let oe=(()=>{class J{constructor(Q){this.store=Q}userInfo$(){return this.store.pipe((0,f.Ys)(le))}getUserInfo(){this.store.dispatch(S.PR())}}return J.\u0275fac=function(Q){return new(Q||J)(de.LFG(f.yh))},J.\u0275prov=de.Yz7({token:J,factory:J.\u0275fac}),J})()},5159:(we,ae,C)=>{C.d(ae,{N:()=>S});const S={production:!0,version:C(4147).i8,firebaseConfig:{apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432"}}},5861:(we,ae,C)=>{var f=C(2313),S=C(5e3),te=C(4202),V=C(1777);const le=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateX(100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(-100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(0%)"}))],{optional:!0})])],de=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateX(-100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(0%)"}))],{optional:!0})])],oe=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateY(100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(-100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(0%)"}))],{optional:!0})])],J=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateY(-100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(0%)"}))],{optional:!0})])],he=(0,V.X$)("slideTransition",[(0,V.eR)("* => slideToLeft",le),(0,V.eR)("* => slideToRight",de),(0,V.eR)("* => slideToTop",oe),(0,V.eR)("* => slideToBottom",J)]);var Q=C(8285),Z=C(9808);function ce(w,E){if(1&w&&(S.TgZ(0,"li",11)(1,"a",12),S._uU(2),S.qZA()()),2&w){const _=E.$implicit;S.xp6(1),S.Q6J("routerLink",null==_?null:_.path),S.xp6(1),S.Oqu((null==_?null:_.name)||(null==_?null:_.path))}}function Le(w,E){if(1&w&&(S.TgZ(0,"a",13),S._uU(1),S.qZA()),2&w){const _=E.$implicit;S.xp6(1),S.Oqu(_)}}const ze=function(){return["navbar-dark","bg-dark"]},Ie=function(){return["navbar-light","bg-light"]},Ye=function(w){return{show:w}};let We=(()=>{class w{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275cmp=S.Xpm({type:w,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(_,x){1&_&&(S.TgZ(0,"nav",0)(1,"a",1),S._uU(2,"Navbar"),S.qZA(),S.TgZ(3,"button",2),S.NdJ("click",function(){return x.toggleNavbar()}),S._UZ(4,"span",3),S.qZA(),S.TgZ(5,"div",4)(6,"ul",5),S.YNc(7,ce,3,2,"li",6),S.TgZ(8,"li",7),S.NdJ("click",function(){return x.show=!x.show}),S.TgZ(9,"a",8),S._uU(10,"Language"),S.qZA(),S.TgZ(11,"div",9),S.YNc(12,Le,2,1,"a",10),S.qZA()()()()()),2&_&&(S.Q6J("ngClass","DARK"===x.template?S.DdM(6,ze):S.DdM(7,Ie)),S.xp6(5),S.Q6J("ngClass",S.VKq(8,Ye,x.isCollapsed)),S.xp6(2),S.Q6J("ngForOf",x.routes),S.xp6(4),S.ekj("show",x.show),S.xp6(1),S.Q6J("ngForOf",x.languages))},dependencies:[Z.mk,Z.sg,te.yS,te.Od],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0deg,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]}),w})();const gt=[{path:"application",loadChildren:()=>Promise.all([C.e(8592),C.e(612)]).then(C.bind(C,612)).then(w=>w.ApplicationModule)},{path:"personal",loadChildren:()=>Promise.all([C.e(2821),C.e(8592),C.e(3747)]).then(C.bind(C,3747)).then(w=>w.PersonalModule)},{path:"rktect",loadChildren:()=>Promise.all([C.e(8771),C.e(5)]).then(C.bind(C,6946)).then(w=>w.RktectModule)},{path:"audios",loadChildren:()=>Promise.all([C.e(4331),C.e(4859)]).then(C.bind(C,870)).then(w=>w.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([C.e(4331),C.e(1839)]).then(C.bind(C,1839)).then(w=>w.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([C.e(4331),C.e(433),C.e(8521)]).then(C.bind(C,8521)).then(w=>w.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([C.e(4331),C.e(7539)]).then(C.bind(C,7539)).then(w=>w.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([C.e(4331),C.e(3261)]).then(C.bind(C,3261)).then(w=>w.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([C.e(4331),C.e(8592),C.e(2672)]).then(C.bind(C,5682)).then(w=>w.CovidModule)},{path:"github",loadChildren:()=>Promise.all([C.e(4331),C.e(8592),C.e(8580)]).then(C.bind(C,8580)).then(w=>w.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([C.e(7807),C.e(8592),C.e(2737)]).then(C.bind(C,2737)).then(w=>w.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([C.e(4331),C.e(94)]).then(C.bind(C,94)).then(w=>w.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([C.e(4331),C.e(9045)]).then(C.bind(C,9045)).then(w=>w.MoviesModule)},{path:"ngrx-store",loadChildren:()=>C.e(9167).then(C.bind(C,9167)).then(w=>w.NgrxStoreModule)},{path:"shop",loadChildren:()=>Promise.all([C.e(8592),C.e(4425)]).then(C.bind(C,4425)).then(w=>w.ShopModule)},{path:"encapsulating",loadChildren:()=>C.e(2792).then(C.bind(C,2792)).then(w=>w.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([C.e(4331),C.e(7968)]).then(C.bind(C,7968)).then(w=>w.SportsModule)},{path:"store",loadChildren:()=>C.e(1738).then(C.bind(C,1738)).then(w=>w.StoreModule)},{path:"survey",loadChildren:()=>C.e(6475).then(C.bind(C,6475)).then(w=>w.SurveyPollVoterPridictionModule)},{path:"abstract-animation",loadChildren:()=>C.e(9396).then(C.bind(C,9396)).then(w=>w.AbstractAnimationModule)},{path:"animation-game",loadChildren:()=>C.e(6295).then(C.bind(C,6295)).then(w=>w.AnimationGameModule)},{path:"responsive-site",loadChildren:()=>C.e(210).then(C.bind(C,210)).then(w=>w.ResponsiveSiteModule)},{path:"mockApi",loadChildren:()=>C.e(7784).then(C.bind(C,7784)).then(w=>w.MockapiModule)},{path:"routeReuse",loadChildren:()=>C.e(772).then(C.bind(C,772)).then(w=>w.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>C.e(5517).then(C.bind(C,5517)).then(w=>w.SampleModule)},{path:"navigations",component:(()=>{class w{constructor(_){this.animationService=_,this.routes=[{path:"website"},{path:"resume"},{path:"portfolio"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(_){return _.activatedRouteData.animation}}return w.\u0275fac=function(_){return new(_||w)(S.Y36(Q.Y))},w.\u0275cmp=S.Xpm({type:w,selectors:[["app-navigations"]],decls:3,vars:2,consts:[[3,"routes","template"]],template:function(_,x){1&_&&(S._UZ(0,"app-navbar",0),S.TgZ(1,"main"),S._UZ(2,"router-outlet"),S.qZA()),2&_&&S.Q6J("routes",x.routes)("template","LIGHT")},dependencies:[te.lC,We],data:{animation:[he]}}),w})(),children:[{path:"website",loadChildren:()=>Promise.all([C.e(8592),C.e(5545)]).then(C.bind(C,5545)).then(w=>w.LayoutOneModule)},{path:"resume",loadChildren:()=>Promise.all([C.e(8592),C.e(6564)]).then(C.bind(C,6564)).then(w=>w.ResumeModule)},{path:"portfolio",loadChildren:()=>C.e(9682).then(C.bind(C,9682)).then(w=>w.PortfolioModule)},{path:"my-site",loadChildren:()=>C.e(7391).then(C.bind(C,7391)).then(w=>w.MysiteModule)},{path:"form",loadChildren:()=>Promise.all([C.e(433),C.e(7807),C.e(8916),C.e(8592),C.e(6026)]).then(C.bind(C,6026)).then(w=>w.FormModule)},{path:"svg",loadChildren:()=>C.e(3971).then(C.bind(C,3971)).then(w=>w.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([C.e(7807),C.e(8771),C.e(2821),C.e(3538),C.e(8592),C.e(7176)]).then(C.bind(C,4501)).then(w=>w.TaskModule)},{path:"unit-testing",loadChildren:()=>C.e(4376).then(C.bind(C,4376)).then(w=>w.UnitTestingModule)}]},{path:"useFullApps",loadChildren:()=>Promise.all([C.e(433),C.e(3919),C.e(8592),C.e(1307)]).then(C.bind(C,1307)).then(w=>w.UsefullAppsModule)},{path:"library-ex",loadChildren:()=>Promise.all([C.e(433),C.e(7807),C.e(3919),C.e(3538),C.e(9534)]).then(C.bind(C,9534)).then(w=>w.LibraryExModule)},{path:"firebase",loadChildren:()=>C.e(7378).then(C.bind(C,7378)).then(w=>w.FirebaseTutsModule)},{path:"tutorials",loadChildren:()=>Promise.all([C.e(433),C.e(8916)]).then(C.bind(C,8916)).then(w=>w.TutorialsModule)},{path:"css",loadChildren:()=>Promise.all([C.e(8592),C.e(1941)]).then(C.bind(C,1941)).then(w=>w.CssLearnModule)},{path:"code-task",loadChildren:()=>C.e(3416).then(C.bind(C,3416)).then(w=>w.CodeTaskModule)},{path:"",redirectTo:"personal",pathMatch:"full"},{path:"**",redirectTo:"personal"}];let xt=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({imports:[te.Bz.forRoot(gt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),te.Bz]}),w})();var Ge=C(520);let Be=(()=>{class w{constructor(_){this.http=_,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(_=>(this.configuration=_,_)).catch(_=>{console.error(_)})}getConfiguration(){return this.configuration}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Ge.eN))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();var Dt=C(2348),Tt=C(4070);function Wt(w,E){if(1&w){const _=S.EpF();S.TgZ(0,"div",1),S.NdJ("click",function(){S.CHM(_);const G=S.oxw();return S.KtG(G.showNotification=!G.showNotification)}),S.TgZ(1,"p"),S._uU(2),S.qZA()()}if(2&w){const _=S.oxw();S.xp6(2),S.Oqu(_.notification)}}let Ht=(()=>{class w{constructor(_){this.notificationService=_,this.notificationService.notification$.subscribe(x=>{this.notification=x,this.showNotification=!0})}ngOnInit(){}}return w.\u0275fac=function(_){return new(_||w)(S.Y36(Tt.g))},w.\u0275cmp=S.Xpm({type:w,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"]],template:function(_,x){1&_&&S.YNc(0,Wt,3,1,"div",0),2&_&&S.Q6J("ngIf",x.notification&&x.showNotification)},dependencies:[Z.O5],styles:[".notification[_ngcontent-%COMP%]{position:absolute;z-index:1;top:5px;line-height:20px;text-align:center;right:5px;background:linear-gradient(-90deg,#cb5cd2,#cc3fa0);color:#fff;font-style:oblique;text-transform:capitalize;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;min-height:20px;min-width:160px;max-width:300px;padding:15px;cursor:pointer}"]}),w})(),Rt=(()=>{class w{constructor(_,x,G,se){this.configurationService=_,this.jsonPlaceholderService=x,this.routeReuseStrategy=G,this.route=se,this.title="portfolio-all-in-one",this.version=S.q4F.major}ngOnInit(){window.addEventListener("beforeinstallprompt",_=>{console.log("'beforeinstallprompt' event was fired.")})}clearStoredRoute(){this.routeReuseStrategy.deactivateAllHandles()}}return w.\u0275fac=function(_){return new(_||w)(S.Y36(Be),S.Y36(Dt.t),S.Y36(te.wN),S.Y36(te.gz))},w.\u0275cmp=S.Xpm({type:w,selectors:[["app-root"]],decls:2,vars:0,template:function(_,x){1&_&&S._UZ(0,"app-notification")(1,"router-outlet")},dependencies:[te.lC,Ht],changeDetection:0}),w})();function Ze(w){return new S.vHH(3e3,!1)}function un(){return"undefined"!=typeof window&&void 0!==window.document}function sn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gn(w){switch(w.length){case 0:return new V.ZN;case 1:return w[0];default:return new V.ZE(w)}}function Ut(w,E,_,x,G=new Map,se=new Map){const ve=[],be=[];let Xe=-1,mt=null;if(x.forEach($t=>{const an=$t.get("offset"),An=an==Xe,wn=An&&mt||new Map;$t.forEach((fn,Zn)=>{let Vr=Zn,ei=fn;if("offset"!==Zn)switch(Vr=E.normalizePropertyName(Vr,ve),ei){case V.k1:ei=G.get(Zn);break;case V.l3:ei=se.get(Zn);break;default:ei=E.normalizeStyleValue(Zn,Vr,ei,ve)}wn.set(Vr,ei)}),An||be.push(wn),mt=wn,Xe=an}),ve.length)throw function cs(w){return new S.vHH(3502,!1)}();return be}function Vn(w,E,_,x){switch(E){case"start":w.onStart(()=>x(_&&Kn(_,"start",w)));break;case"done":w.onDone(()=>x(_&&Kn(_,"done",w)));break;case"destroy":w.onDestroy(()=>x(_&&Kn(_,"destroy",w)))}}function Kn(w,E,_){const x=_.totalTime,se=Kr(w.element,w.triggerName,w.fromState,w.toState,E||w.phaseName,null==x?w.totalTime:x,!!_.disabled),ve=w._data;return null!=ve&&(se._data=ve),se}function Kr(w,E,_,x,G="",se=0,ve){return{element:w,triggerName:E,fromState:_,toState:x,phaseName:G,totalTime:se,disabled:!!ve}}function gn(w,E,_){let x=w.get(E);return x||w.set(E,x=_),x}function yn(w){const E=w.indexOf(":");return[w.substring(1,E),w.slice(E+1)]}let Bn=(w,E)=>!1,ui=(w,E,_)=>[],zr=null;function Fn(w){const E=w.parentNode||w.host;return E===zr?null:E}(sn()||"undefined"!=typeof Element)&&(un()?(zr=(()=>document.documentElement)(),Bn=(w,E)=>{for(;E;){if(E===w)return!0;E=Fn(E)}return!1}):Bn=(w,E)=>w.contains(E),ui=(w,E,_)=>{if(_)return Array.from(w.querySelectorAll(E));const x=w.querySelector(E);return x?[x]:[]});let Gr=null,Ne=!1;const Ke=Bn,jt=ui;let Nn=(()=>{class w{validateStyleProperty(_){return function Ae(w){Gr||(Gr=function Et(){return"undefined"!=typeof document?document.body:null}()||{},Ne=!!Gr.style&&"WebkitAppearance"in Gr.style);let E=!0;return Gr.style&&!function Bi(w){return"ebkit"==w.substring(1,6)}(w)&&(E=w in Gr.style,!E&&Ne&&(E="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in Gr.style)),E}(_)}matchesElement(_,x){return!1}containsElement(_,x){return Ke(_,x)}getParentElement(_){return Fn(_)}query(_,x,G){return jt(_,x,G)}computeStyle(_,x,G){return G||""}animate(_,x,G,se,ve,be=[],Xe){return new V.ZN(G,se)}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),ir=(()=>{class w{}return w.NOOP=new Nn,w})();const me="ng-enter",ke="ng-leave",lt="ng-trigger",on=".ng-trigger",cn="ng-animating",Pe=".ng-animating";function xe(w){if("number"==typeof w)return w;const E=w.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:yt(parseFloat(E[1]),E[2])}function yt(w,E){return"s"===E?1e3*w:w}function Gt(w,E,_){return w.hasOwnProperty("duration")?w:function On(w,E,_){let G,se=0,ve="";if("string"==typeof w){const be=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===be)return E.push(Ze()),{duration:0,delay:0,easing:""};G=yt(parseFloat(be[1]),be[2]);const Xe=be[3];null!=Xe&&(se=yt(parseFloat(Xe),be[4]));const mt=be[5];mt&&(ve=mt)}else G=w;if(!_){let be=!1,Xe=E.length;G<0&&(E.push(function at(){return new S.vHH(3100,!1)}()),be=!0),se<0&&(E.push(function et(){return new S.vHH(3101,!1)}()),be=!0),be&&E.splice(Xe,0,Ze())}return{duration:G,delay:se,easing:ve}}(w,E,_)}function mn(w,E={}){return Object.keys(w).forEach(_=>{E[_]=w[_]}),E}function Jn(w){const E=new Map;return Object.keys(w).forEach(_=>{E.set(_,w[_])}),E}function Mr(w,E=new Map,_){if(_)for(let[x,G]of _)E.set(x,G);for(let[x,G]of w)E.set(x,G);return E}function Hn(w,E,_){return _?E+":"+_+";":""}function ds(w){let E="";for(let _=0;_<w.style.length;_++){const x=w.style.item(_);E+=Hn(0,x,w.style.getPropertyValue(x))}for(const _ in w.style)w.style.hasOwnProperty(_)&&!_.startsWith("_")&&(E+=Hn(0,So(_),w.style[_]));w.setAttribute("style",E)}function Or(w,E,_){w.style&&(E.forEach((x,G)=>{const se=Tn(G);_&&!_.has(G)&&_.set(G,w.style[se]),w.style[se]=x}),sn()&&ds(w))}function Ji(w,E){w.style&&(E.forEach((_,x)=>{const G=Tn(x);w.style[G]=""}),sn()&&ds(w))}function ji(w){return Array.isArray(w)?1==w.length?w[0]:(0,V.vP)(w):w}const Hi=new RegExp("{{\\s*(.+?)\\s*}}","g");function xn(w){let E=[];if("string"==typeof w){let _;for(;_=Hi.exec(w);)E.push(_[1]);Hi.lastIndex=0}return E}function In(w,E,_){const x=w.toString(),G=x.replace(Hi,(se,ve)=>{let be=E[ve];return null==be&&(_.push(function bt(w){return new S.vHH(3003,!1)}()),be=""),be.toString()});return G==x?w:G}function Mn(w){const E=[];let _=w.next();for(;!_.done;)E.push(_.value),_=w.next();return E}const Ri=/-+([a-z0-9])/g;function Tn(w){return w.replace(Ri,(...E)=>E[1].toUpperCase())}function So(w){return w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pr(w,E,_){switch(E.type){case 7:return w.visitTrigger(E,_);case 0:return w.visitState(E,_);case 1:return w.visitTransition(E,_);case 2:return w.visitSequence(E,_);case 3:return w.visitGroup(E,_);case 4:return w.visitAnimate(E,_);case 5:return w.visitKeyframes(E,_);case 6:return w.visitStyle(E,_);case 8:return w.visitReference(E,_);case 9:return w.visitAnimateChild(E,_);case 10:return w.visitAnimateRef(E,_);case 11:return w.visitQuery(E,_);case 12:return w.visitStagger(E,_);default:throw function ht(w){return new S.vHH(3004,!1)}()}}function Sr(w,E){return window.getComputedStyle(w)[E]}function kt(w,E){const _=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(x=>function $n(w,E,_){if(":"==w[0]){const Xe=function Yr(w,E){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,x)=>parseFloat(x)>parseFloat(_);case":decrement":return(_,x)=>parseFloat(x)<parseFloat(_);default:return E.push(function Wr(w){return new S.vHH(3016,!1)}()),"* => *"}}(w,_);if("function"==typeof Xe)return void E.push(Xe);w=Xe}const x=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return _.push(function ni(w){return new S.vHH(3015,!1)}()),E;const G=x[1],se=x[2],ve=x[3];E.push(br(G,ve));"<"==se[0]&&!("*"==G&&"*"==ve)&&E.push(br(ve,G))}(x,_,E)):_.push(w),_}const Cr=new Set(["true","1"]),xi=new Set(["false","0"]);function br(w,E){const _=Cr.has(w)||xi.has(w),x=Cr.has(E)||xi.has(E);return(G,se)=>{let ve="*"==w||w==G,be="*"==E||E==se;return!ve&&_&&"boolean"==typeof G&&(ve=G?Cr.has(w):xi.has(w)),!be&&x&&"boolean"==typeof se&&(be=se?Cr.has(E):xi.has(E)),ve&&be}}const ys=new RegExp("s*:selfs*,?","g");function Xi(w,E,_,x){return new po(w).build(E,_,x)}class po{constructor(E){this._driver=E}build(E,_,x){const G=new no(_);return this._resetContextStyleTimingState(G),Pr(this,ji(E),G)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,_){let x=_.queryCount=0,G=_.depCount=0;const se=[],ve=[];return"@"==E.name.charAt(0)&&_.errors.push(function Kt(){return new S.vHH(3006,!1)}()),E.definitions.forEach(be=>{if(this._resetContextStyleTimingState(_),0==be.type){const Xe=be,mt=Xe.name;mt.toString().split(/\s*,\s*/).forEach($t=>{Xe.name=$t,se.push(this.visitState(Xe,_))}),Xe.name=mt}else if(1==be.type){const Xe=this.visitTransition(be,_);x+=Xe.queryCount,G+=Xe.depCount,ve.push(Xe)}else _.errors.push(function Mt(){return new S.vHH(3007,!1)}())}),{type:7,name:E.name,states:se,transitions:ve,queryCount:x,depCount:G,options:null}}visitState(E,_){const x=this.visitStyle(E.styles,_),G=E.options&&E.options.params||null;if(x.containsDynamicStyles){const se=new Set,ve=G||{};x.styles.forEach(be=>{be instanceof Map&&be.forEach(Xe=>{xn(Xe).forEach(mt=>{ve.hasOwnProperty(mt)||se.add(mt)})})}),se.size&&(Mn(se.values()),_.errors.push(function fr(w,E){return new S.vHH(3008,!1)}()))}return{type:0,name:E.name,style:x,options:G?{params:G}:null}}visitTransition(E,_){_.queryCount=0,_.depCount=0;const x=Pr(this,ji(E.animation),_);return{type:1,matchers:kt(E.expr,_.errors),animation:x,queryCount:_.queryCount,depCount:_.depCount,options:$i(E.options)}}visitSequence(E,_){return{type:2,steps:E.steps.map(x=>Pr(this,x,_)),options:$i(E.options)}}visitGroup(E,_){const x=_.currentTime;let G=0;const se=E.steps.map(ve=>{_.currentTime=x;const be=Pr(this,ve,_);return G=Math.max(G,_.currentTime),be});return _.currentTime=G,{type:3,steps:se,options:$i(E.options)}}visitAnimate(E,_){const x=function Ni(w,E){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return Gi(Gt(w,E).duration,0,"");const _=w;if(_.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=Gi(0,0,"");return se.dynamic=!0,se.strValue=_,se}const G=Gt(_,E);return Gi(G.duration,G.delay,G.easing)}(E.timings,_.errors);_.currentAnimateTimings=x;let G,se=E.styles?E.styles:(0,V.oB)({});if(5==se.type)G=this.visitKeyframes(se,_);else{let ve=E.styles,be=!1;if(!ve){be=!0;const mt={};x.easing&&(mt.easing=x.easing),ve=(0,V.oB)(mt)}_.currentTime+=x.duration+x.delay;const Xe=this.visitStyle(ve,_);Xe.isEmptyStep=be,G=Xe}return _.currentAnimateTimings=null,{type:4,timings:x,style:G,options:null}}visitStyle(E,_){const x=this._makeStyleAst(E,_);return this._validateStyleAst(x,_),x}_makeStyleAst(E,_){const x=[],G=Array.isArray(E.styles)?E.styles:[E.styles];for(let be of G)"string"==typeof be?be===V.l3?x.push(be):_.errors.push(new S.vHH(3002,!1)):x.push(Jn(be));let se=!1,ve=null;return x.forEach(be=>{if(be instanceof Map&&(be.has("easing")&&(ve=be.get("easing"),be.delete("easing")),!se))for(let Xe of be.values())if(Xe.toString().indexOf("{{")>=0){se=!0;break}}),{type:6,styles:x,easing:ve,offset:E.offset,containsDynamicStyles:se,options:null}}_validateStyleAst(E,_){const x=_.currentAnimateTimings;let G=_.currentTime,se=_.currentTime;x&&se>0&&(se-=x.duration+x.delay),E.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((be,Xe)=>{const mt=_.collectedStyles.get(_.currentQuerySelector),$t=mt.get(Xe);let an=!0;$t&&(se!=G&&se>=$t.startTime&&G<=$t.endTime&&(_.errors.push(function nr(w,E,_,x,G){return new S.vHH(3010,!1)}()),an=!1),se=$t.startTime),an&&mt.set(Xe,{startTime:se,endTime:G}),_.options&&function or(w,E,_){const x=E.params||{},G=xn(w);G.length&&G.forEach(se=>{x.hasOwnProperty(se)||_.push(function Nt(w){return new S.vHH(3001,!1)}())})}(be,_.options,_.errors)})})}visitKeyframes(E,_){const x={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function kr(){return new S.vHH(3011,!1)}()),x;let se=0;const ve=[];let be=!1,Xe=!1,mt=0;const $t=E.steps.map(ei=>{const ai=this._makeStyleAst(ei,_);let Ws=null!=ai.offset?ai.offset:function hs(w){if("string"==typeof w)return null;let E=null;if(Array.isArray(w))w.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const x=_;E=parseFloat(x.get("offset")),x.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const _=w;E=parseFloat(_.get("offset")),_.delete("offset")}return E}(ai.styles),gr=0;return null!=Ws&&(se++,gr=ai.offset=Ws),Xe=Xe||gr<0||gr>1,be=be||gr<mt,mt=gr,ve.push(gr),ai});Xe&&_.errors.push(function dr(){return new S.vHH(3012,!1)}()),be&&_.errors.push(function vi(){return new S.vHH(3200,!1)}());const an=E.steps.length;let An=0;se>0&&se<an?_.errors.push(function mi(){return new S.vHH(3202,!1)}()):0==se&&(An=1/(an-1));const wn=an-1,fn=_.currentTime,Zn=_.currentAnimateTimings,Vr=Zn.duration;return $t.forEach((ei,ai)=>{const Ws=An>0?ai==wn?1:An*ai:ve[ai],gr=Ws*Vr;_.currentTime=fn+Zn.delay+gr,Zn.duration=gr,this._validateStyleAst(ei,_),ei.offset=Ws,x.styles.push(ei)}),x}visitReference(E,_){return{type:8,animation:Pr(this,ji(E.animation),_),options:$i(E.options)}}visitAnimateChild(E,_){return _.depCount++,{type:9,options:$i(E.options)}}visitAnimateRef(E,_){return{type:10,animation:this.visitReference(E.animation,_),options:$i(E.options)}}visitQuery(E,_){const x=_.currentQuerySelector,G=E.options||{};_.queryCount++,_.currentQuery=E;const[se,ve]=function Xn(w){const E=!!w.split(/\s*,\s*/).find(_=>":self"==_);return E&&(w=w.replace(ys,"")),w=w.replace(/@\*/g,on).replace(/@\w+/g,_=>on+"-"+_.slice(1)).replace(/:animating/g,Pe),[w,E]}(E.selector);_.currentQuerySelector=x.length?x+" "+se:se,gn(_.collectedStyles,_.currentQuerySelector,new Map);const be=Pr(this,ji(E.animation),_);return _.currentQuery=null,_.currentQuerySelector=x,{type:11,selector:se,limit:G.limit||0,optional:!!G.optional,includeSelf:ve,animation:be,originalSelector:E.selector,options:$i(E.options)}}visitStagger(E,_){_.currentQuery||_.errors.push(function ti(){return new S.vHH(3013,!1)}());const x="full"===E.timings?{duration:0,delay:0,easing:"full"}:Gt(E.timings,_.errors,!0);return{type:12,animation:Pr(this,ji(E.animation),_),timings:x,options:null}}}class no{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $i(w){return w?(w=mn(w)).params&&(w.params=function bo(w){return w?mn(w):null}(w.params)):w={},w}function Gi(w,E,_){return{duration:w,delay:E,easing:_}}function Qs(w,E,_,x,G,se,ve=null,be=!1){return{type:1,element:w,keyframes:E,preStyleProps:_,postStyleProps:x,duration:G,delay:se,totalTime:G+se,easing:ve,subTimeline:be}}class er{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,_){let x=this._map.get(E);x||this._map.set(E,x=[]),x.push(..._)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const io=new RegExp(":enter","g"),so=new RegExp(":leave","g");function jo(w,E,_,x,G,se=new Map,ve=new Map,be,Xe,mt=[]){return(new Ho).buildKeyframes(w,E,_,x,G,se,ve,be,Xe,mt)}class Ho{buildKeyframes(E,_,x,G,se,ve,be,Xe,mt,$t=[]){mt=mt||new er;const an=new Ya(E,_,mt,G,se,$t,[]);an.options=Xe;const An=Xe.delay?xe(Xe.delay):0;an.currentTimeline.delayNextStep(An),an.currentTimeline.setStyles([ve],null,an.errors,Xe),Pr(this,x,an);const wn=an.timelines.filter(fn=>fn.containsAnimation());if(wn.length&&be.size){let fn;for(let Zn=wn.length-1;Zn>=0;Zn--){const Vr=wn[Zn];if(Vr.element===_){fn=Vr;break}}fn&&!fn.allowOnlyTimelineStyles()&&fn.setStyles([be],null,an.errors,Xe)}return wn.length?wn.map(fn=>fn.buildKeyframes()):[Qs(_,[],[],[],0,An,"",!1)]}visitTrigger(E,_){}visitState(E,_){}visitTransition(E,_){}visitAnimateChild(E,_){const x=_.subInstructions.get(_.element);if(x){const G=_.createSubContext(E.options),se=_.currentTimeline.currentTime,ve=this._visitSubInstructions(x,G,G.options);se!=ve&&_.transformIntoNewTimeline(ve)}_.previousNode=E}visitAnimateRef(E,_){const x=_.createSubContext(E.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],_,x),this.visitReference(E.animation,x),_.transformIntoNewTimeline(x.currentTimeline.currentTime),_.previousNode=E}_applyAnimationRefDelays(E,_,x){var G;for(const se of E){const ve=null==se?void 0:se.delay;if(ve){const be="number"==typeof ve?ve:xe(In(ve,null!==(G=null==se?void 0:se.params)&&void 0!==G?G:{},_.errors));x.delayNextStep(be)}}}_visitSubInstructions(E,_,x){let se=_.currentTimeline.currentTime;const ve=null!=x.duration?xe(x.duration):null,be=null!=x.delay?xe(x.delay):null;return 0!==ve&&E.forEach(Xe=>{const mt=_.appendInstructionToTimeline(Xe,ve,be);se=Math.max(se,mt.duration+mt.delay)}),se}visitReference(E,_){_.updateOptions(E.options,!0),Pr(this,E.animation,_),_.previousNode=E}visitSequence(E,_){const x=_.subContextCount;let G=_;const se=E.options;if(se&&(se.params||se.delay)&&(G=_.createSubContext(se),G.transformIntoNewTimeline(),null!=se.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=Si);const ve=xe(se.delay);G.delayNextStep(ve)}E.steps.length&&(E.steps.forEach(ve=>Pr(this,ve,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>x&&G.transformIntoNewTimeline()),_.previousNode=E}visitGroup(E,_){const x=[];let G=_.currentTimeline.currentTime;const se=E.options&&E.options.delay?xe(E.options.delay):0;E.steps.forEach(ve=>{const be=_.createSubContext(E.options);se&&be.delayNextStep(se),Pr(this,ve,be),G=Math.max(G,be.currentTimeline.currentTime),x.push(be.currentTimeline)}),x.forEach(ve=>_.currentTimeline.mergeTimelineCollectedStyles(ve)),_.transformIntoNewTimeline(G),_.previousNode=E}_visitTiming(E,_){if(E.dynamic){const x=E.strValue;return Gt(_.params?In(x,_.params,_.errors):x,_.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,_){const x=_.currentAnimateTimings=this._visitTiming(E.timings,_),G=_.currentTimeline;x.delay&&(_.incrementTime(x.delay),G.snapshotCurrentStyles());const se=E.style;5==se.type?this.visitKeyframes(se,_):(_.incrementTime(x.duration),this.visitStyle(se,_),G.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=E}visitStyle(E,_){const x=_.currentTimeline,G=_.currentAnimateTimings;!G&&x.hasCurrentStyleProperties()&&x.forwardFrame();const se=G&&G.easing||E.easing;E.isEmptyStep?x.applyEmptyStep(se):x.setStyles(E.styles,se,_.errors,_.options),_.previousNode=E}visitKeyframes(E,_){const x=_.currentAnimateTimings,G=_.currentTimeline.duration,se=x.duration,be=_.createSubContext().currentTimeline;be.easing=x.easing,E.styles.forEach(Xe=>{be.forwardTime((Xe.offset||0)*se),be.setStyles(Xe.styles,Xe.easing,_.errors,_.options),be.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(be),_.transformIntoNewTimeline(G+se),_.previousNode=E}visitQuery(E,_){const x=_.currentTimeline.currentTime,G=E.options||{},se=G.delay?xe(G.delay):0;se&&(6===_.previousNode.type||0==x&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Si);let ve=x;const be=_.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!G.optional,_.errors);_.currentQueryTotal=be.length;let Xe=null;be.forEach((mt,$t)=>{_.currentQueryIndex=$t;const an=_.createSubContext(E.options,mt);se&&an.delayNextStep(se),mt===_.element&&(Xe=an.currentTimeline),Pr(this,E.animation,an),an.currentTimeline.applyStylesToKeyframe(),ve=Math.max(ve,an.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(ve),Xe&&(_.currentTimeline.mergeTimelineCollectedStyles(Xe),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=E}visitStagger(E,_){const x=_.parentContext,G=_.currentTimeline,se=E.timings,ve=Math.abs(se.duration),be=ve*(_.currentQueryTotal-1);let Xe=ve*_.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":Xe=be-Xe;break;case"full":Xe=x.currentStaggerTime}const $t=_.currentTimeline;Xe&&$t.delayNextStep(Xe);const an=$t.currentTime;Pr(this,E.animation,_),_.previousNode=E,x.currentStaggerTime=G.currentTime-an+(G.startTime-x.currentTimeline.startTime)}}const Si={};class Ya{constructor(E,_,x,G,se,ve,be,Xe){this._driver=E,this.element=_,this.subInstructions=x,this._enterClassName=G,this._leaveClassName=se,this.errors=ve,this.timelines=be,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Si,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new ri(this._driver,_,0),be.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,_){if(!E)return;const x=E;let G=this.options;null!=x.duration&&(G.duration=xe(x.duration)),null!=x.delay&&(G.delay=xe(x.delay));const se=x.params;if(se){let ve=G.params;ve||(ve=this.options.params={}),Object.keys(se).forEach(be=>{(!_||!ve.hasOwnProperty(be))&&(ve[be]=In(se[be],ve,this.errors))})}}_copyOptions(){const E={};if(this.options){const _=this.options.params;if(_){const x=E.params={};Object.keys(_).forEach(G=>{x[G]=_[G]})}}return E}createSubContext(E=null,_,x){const G=_||this.element,se=new Ya(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,x||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(E),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(E){return this.previousNode=Si,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,_,x){const G={duration:null!=_?_:E.duration,delay:this.currentTimeline.currentTime+(null!=x?x:0)+E.delay,easing:""},se=new Vs(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,G,E.stretchStartingKeyframe);return this.timelines.push(se),G}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,_,x,G,se,ve){let be=[];if(G&&be.push(this.element),E.length>0){E=(E=E.replace(io,"."+this._enterClassName)).replace(so,"."+this._leaveClassName);let mt=this._driver.query(this.element,E,1!=x);0!==x&&(mt=x<0?mt.slice(mt.length+x,mt.length):mt.slice(0,x)),be.push(...mt)}return!se&&0==be.length&&ve.push(function $r(w){return new S.vHH(3014,!1)}()),be}}class ri{constructor(E,_,x,G){this._driver=E,this.element=_,this.startTime=x,this._elementTimelineStylesLookup=G,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+E),_&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,_){return this.applyStylesToKeyframe(),new ri(this._driver,E,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,_){this._localTimelineStyles.set(E,_),this._globalTimelineStyles.set(E,_),this._styleSummary.set(E,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[_,x]of this._globalTimelineStyles)this._backFill.set(_,x||V.l3),this._currentKeyframe.set(_,V.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,_,x,G){var se;_&&this._previousKeyframe.set("easing",_);const ve=G&&G.params||{},be=function sl(w,E){const _=new Map;let x;return w.forEach(G=>{if("*"===G){x=x||E.keys();for(let se of x)_.set(se,V.l3)}else Mr(G,_)}),_}(E,this._globalTimelineStyles);for(let[Xe,mt]of be){const $t=In(mt,ve,x);this._pendingStyles.set(Xe,$t),this._localTimelineStyles.has(Xe)||this._backFill.set(Xe,null!==(se=this._globalTimelineStyles.get(Xe))&&void 0!==se?se:V.l3),this._updateStyle(Xe,$t)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,_)=>{this._currentKeyframe.set(_,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,E)}))}snapshotCurrentStyles(){for(let[E,_]of this._localTimelineStyles)this._pendingStyles.set(E,_),this._updateStyle(E,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let _ in this._currentKeyframe)E.push(_);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((_,x)=>{const G=this._styleSummary.get(x);(!G||_.time>G.time)&&this._updateStyle(x,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,_=new Set,x=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((be,Xe)=>{const mt=Mr(be,new Map,this._backFill);mt.forEach(($t,an)=>{$t===V.k1?E.add(an):$t===V.l3&&_.add(an)}),x||mt.set("offset",Xe/this.duration),G.push(mt)});const se=E.size?Mn(E.values()):[],ve=_.size?Mn(_.values()):[];if(x){const be=G[0],Xe=new Map(be);be.set("offset",0),Xe.set("offset",1),G=[be,Xe]}return Qs(this.element,G,se,ve,this.duration,this.startTime,this.easing,!1)}}class Vs extends ri{constructor(E,_,x,G,se,ve,be=!1){super(E,_,ve.delay),this.keyframes=x,this.preStyleProps=G,this.postStyleProps=se,this._stretchStartingKeyframe=be,this.timings={duration:ve.duration,delay:ve.delay,easing:ve.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:_,duration:x,easing:G}=this.timings;if(this._stretchStartingKeyframe&&_){const se=[],ve=x+_,be=_/ve,Xe=Mr(E[0]);Xe.set("offset",0),se.push(Xe);const mt=Mr(E[0]);mt.set("offset",Oa(be)),se.push(mt);const $t=E.length-1;for(let an=1;an<=$t;an++){let An=Mr(E[an]);const wn=An.get("offset");An.set("offset",Oa((_+wn*x)/ve)),se.push(An)}x=ve,_=0,G="",E=se}return Qs(this.element,E,this.preStyleProps,this.postStyleProps,x,_,G,!0)}}function Oa(w,E=3){const _=Math.pow(10,E-1);return Math.round(w*_)/_}class go{}const Ao=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pa extends go{normalizePropertyName(E,_){return Tn(E)}normalizeStyleValue(E,_,x,G){let se="";const ve=x.toString().trim();if(Ao.has(_)&&0!==x&&"0"!==x)if("number"==typeof x)se="px";else{const be=x.match(/^[+-]?[\d\.]+([a-z]*)$/);be&&0==be[1].length&&G.push(function Un(w,E){return new S.vHH(3005,!1)}())}return ve+se}}function Bs(w,E,_,x,G,se,ve,be,Xe,mt,$t,an,An){return{type:0,element:w,triggerName:E,isRemovalTransition:G,fromState:_,fromStyles:se,toState:x,toStyles:ve,timelines:be,queriedElements:Xe,preStyleProps:mt,postStyleProps:$t,totalTime:an,errors:An}}const oi={};class Di{constructor(E,_,x){this._triggerName=E,this.ast=_,this._stateStyles=x}match(E,_,x,G){return function $o(w,E,_,x,G){return w.some(se=>se(E,_,x,G))}(this.ast.matchers,E,_,x,G)}buildStyles(E,_,x){let G=this._stateStyles.get("*");return void 0!==E&&(G=this._stateStyles.get(null==E?void 0:E.toString())||G),G?G.buildStyles(_,x):new Map}build(E,_,x,G,se,ve,be,Xe,mt,$t){var an;const An=[],wn=this.ast.options&&this.ast.options.params||oi,Zn=this.buildStyles(x,be&&be.params||oi,An),Vr=Xe&&Xe.params||oi,ei=this.buildStyles(G,Vr,An),ai=new Set,Ws=new Map,gr=new Map,mr="void"===G,Rs={params:ur(Vr,wn),delay:null===(an=this.ast.options)||void 0===an?void 0:an.delay},is=$t?[]:jo(E,_,this.ast.animation,se,ve,Zn,ei,Rs,mt,An);let Ss=0;if(is.forEach(fi=>{Ss=Math.max(fi.duration+fi.delay,Ss)}),An.length)return Bs(_,this._triggerName,x,G,mr,Zn,ei,[],[],Ws,gr,Ss,An);is.forEach(fi=>{const pi=fi.element,Jo=gn(Ws,pi,new Set);fi.preStyleProps.forEach(ks=>Jo.add(ks));const Hl=gn(gr,pi,new Set);fi.postStyleProps.forEach(ks=>Hl.add(ks)),pi!==_&&ai.add(pi)});const iu=Mn(ai.values());return Bs(_,this._triggerName,x,G,mr,Zn,ei,is,iu,Ws,gr,Ss)}}function ur(w,E){const _=mn(E);for(const x in w)w.hasOwnProperty(x)&&null!=w[x]&&(_[x]=w[x]);return _}class Ra{constructor(E,_,x){this.styles=E,this.defaultParams=_,this.normalizer=x}buildStyles(E,_){const x=new Map,G=mn(this.defaultParams);return Object.keys(E).forEach(se=>{const ve=E[se];null!==ve&&(G[se]=ve)}),this.styles.styles.forEach(se=>{"string"!=typeof se&&se.forEach((ve,be)=>{ve&&(ve=In(ve,G,_));const Xe=this.normalizer.normalizePropertyName(be,_);ve=this.normalizer.normalizeStyleValue(be,Xe,ve,_),x.set(Xe,ve)})}),x}}class xa{constructor(E,_,x){this.name=E,this.ast=_,this._normalizer=x,this.transitionFactories=[],this.states=new Map,_.states.forEach(G=>{this.states.set(G.name,new Ra(G.style,G.options&&G.options.params||{},x))}),Go(this.states,"true","1"),Go(this.states,"false","0"),_.transitions.forEach(G=>{this.transitionFactories.push(new Di(E,G,this.states))}),this.fallbackTransition=function js(w,E,_){return new Di(w,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ve,be)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,_,x,G){return this.transitionFactories.find(ve=>ve.match(E,_,x,G))||null}matchStyles(E,_,x){return this.fallbackTransition.buildStyles(E,_,x)}}function Go(w,E,_){w.has(E)?w.has(_)||w.set(_,w.get(E)):w.has(_)&&w.set(E,w.get(_))}const qs=new er;class Cn{constructor(E,_,x){this.bodyNode=E,this._driver=_,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,_){const x=[],se=Xi(this._driver,_,x,[]);if(x.length)throw function zt(w){return new S.vHH(3503,!1)}();this._animations.set(E,se)}_buildPlayer(E,_,x){const G=E.element,se=Ut(0,this._normalizer,0,E.keyframes,_,x);return this._driver.animate(G,se,E.duration,E.delay,E.easing,[],!0)}create(E,_,x={}){const G=[],se=this._animations.get(E);let ve;const be=new Map;if(se?(ve=jo(this._driver,_,se,me,ke,new Map,new Map,x,qs,G),ve.forEach($t=>{const an=gn(be,$t.element,new Map);$t.postStyleProps.forEach(An=>an.set(An,null))})):(G.push(function _i(){return new S.vHH(3300,!1)}()),ve=[]),G.length)throw function Ei(w){return new S.vHH(3504,!1)}();be.forEach(($t,an)=>{$t.forEach((An,wn)=>{$t.set(wn,this._driver.computeStyle(an,wn,V.l3))})});const mt=Gn(ve.map($t=>{const an=be.get($t.element);return this._buildPlayer($t,new Map,an)}));return this._playersById.set(E,mt),mt.onDestroy(()=>this.destroy(E)),this.players.push(mt),mt}destroy(E){const _=this._getPlayer(E);_.destroy(),this._playersById.delete(E);const x=this.players.indexOf(_);x>=0&&this.players.splice(x,1)}_getPlayer(E){const _=this._playersById.get(E);if(!_)throw function vr(w){return new S.vHH(3301,!1)}();return _}listen(E,_,x,G){const se=Kr(_,"","","");return Vn(this._getPlayer(E),x,se,G),()=>{}}command(E,_,x,G){if("register"==x)return void this.register(E,G[0]);if("create"==x)return void this.create(E,_,G[0]||{});const se=this._getPlayer(E);switch(x){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(E)}}}const Es="ng-animate-queued",sa="ng-animate-disabled",ii=[],pa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ot={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed";class Na{constructor(E,_=""){this.namespaceId=_;const x=E&&E.hasOwnProperty("value");if(this.value=function dt(w){return null!=w?w:null}(x?E.value:E),x){const se=mn(E);delete se.value,this.options=se}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(E){const _=E.params;if(_){const x=this.options.params;Object.keys(_).forEach(G=>{null==x[G]&&(x[G]=_[G])})}}}const Wo="void",Ci=new Na(Wo);class W{constructor(E,_,x){this.id=E,this.hostElement=_,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Ai(_,this._hostClassName)}listen(E,_,x,G){if(!this._triggers.has(_))throw function Zi(w,E){return new S.vHH(3302,!1)}();if(null==x||0==x.length)throw function li(w){return new S.vHH(3303,!1)}();if(!function bi(w){return"start"==w||"done"==w}(x))throw function Tr(w,E){return new S.vHH(3400,!1)}();const se=gn(this._elementListeners,E,[]),ve={name:_,phase:x,callback:G};se.push(ve);const be=gn(this._engine.statesByElement,E,new Map);return be.has(_)||(Ai(E,lt),Ai(E,lt+"-"+_),be.set(_,Ci)),()=>{this._engine.afterFlush(()=>{const Xe=se.indexOf(ve);Xe>=0&&se.splice(Xe,1),this._triggers.has(_)||be.delete(_)})}}register(E,_){return!this._triggers.has(E)&&(this._triggers.set(E,_),!0)}_getTrigger(E){const _=this._triggers.get(E);if(!_)throw function $e(w){return new S.vHH(3401,!1)}();return _}trigger(E,_,x,G=!0){const se=this._getTrigger(_),ve=new L(this.id,_,E);let be=this._engine.statesByElement.get(E);be||(Ai(E,lt),Ai(E,lt+"-"+_),this._engine.statesByElement.set(E,be=new Map));let Xe=be.get(_);const mt=new Na(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Xe&&mt.absorbOptions(Xe.options),be.set(_,mt),Xe||(Xe=Ci),mt.value!==Wo&&Xe.value===mt.value){if(!function oa(w,E){const _=Object.keys(w),x=Object.keys(E);if(_.length!=x.length)return!1;for(let G=0;G<_.length;G++){const se=_[G];if(!E.hasOwnProperty(se)||w[se]!==E[se])return!1}return!0}(Xe.params,mt.params)){const Zn=[],Vr=se.matchStyles(Xe.value,Xe.params,Zn),ei=se.matchStyles(mt.value,mt.params,Zn);Zn.length?this._engine.reportError(Zn):this._engine.afterFlush(()=>{Ji(E,Vr),Or(E,ei)})}return}const An=gn(this._engine.playersByElement,E,[]);An.forEach(Zn=>{Zn.namespaceId==this.id&&Zn.triggerName==_&&Zn.queued&&Zn.destroy()});let wn=se.matchTransition(Xe.value,mt.value,E,mt.params),fn=!1;if(!wn){if(!G)return;wn=se.fallbackTransition,fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:_,transition:wn,fromState:Xe,toState:mt,player:ve,isFallbackTransition:fn}),fn||(Ai(E,Es),ve.onStart(()=>{_o(E,Es)})),ve.onDone(()=>{let Zn=this.players.indexOf(ve);Zn>=0&&this.players.splice(Zn,1);const Vr=this._engine.playersByElement.get(E);if(Vr){let ei=Vr.indexOf(ve);ei>=0&&Vr.splice(ei,1)}}),this.players.push(ve),An.push(ve),ve}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(_=>_.delete(E)),this._elementListeners.forEach((_,x)=>{this._elementListeners.set(x,_.filter(G=>G.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const _=this._engine.playersByElement.get(E);_&&(_.forEach(x=>x.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,_){const x=this._engine.driver.query(E,on,!0);x.forEach(G=>{if(G[zn])return;const se=this._engine.fetchNamespacesByElement(G);se.size?se.forEach(ve=>ve.triggerLeaveAnimation(G,_,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(E,_,x,G){const se=this._engine.statesByElement.get(E),ve=new Map;if(se){const be=[];if(se.forEach((Xe,mt)=>{if(ve.set(mt,Xe.value),this._triggers.has(mt)){const $t=this.trigger(E,mt,Wo,G);$t&&be.push($t)}}),be.length)return this._engine.markElementAsRemoved(this.id,E,!0,_,ve),x&&Gn(be).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const _=this._elementListeners.get(E),x=this._engine.statesByElement.get(E);if(_&&x){const G=new Set;_.forEach(se=>{const ve=se.name;if(G.has(ve))return;G.add(ve);const Xe=this._triggers.get(ve).fallbackTransition,mt=x.get(ve)||Ci,$t=new Na(Wo),an=new L(this.id,ve,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:ve,transition:Xe,fromState:mt,toState:$t,player:an,isFallbackTransition:!0})})}}removeNode(E,_){const x=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,_),this.triggerLeaveAnimation(E,_,!0))return;let G=!1;if(x.totalAnimations){const se=x.players.length?x.playersByQueriedElement.get(E):[];if(se&&se.length)G=!0;else{let ve=E;for(;ve=ve.parentNode;)if(x.statesByElement.get(ve)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(E),G)x.markElementAsRemoved(this.id,E,!1,_);else{const se=E[zn];(!se||se===pa)&&(x.afterFlush(()=>this.clearElementCache(E)),x.destroyInnerAnimations(E),x._onRemovalComplete(E,_))}}insertNode(E,_){Ai(E,this._hostClassName)}drainQueuedTransitions(E){const _=[];return this._queue.forEach(x=>{const G=x.player;if(G.destroyed)return;const se=x.element,ve=this._elementListeners.get(se);ve&&ve.forEach(be=>{if(be.name==x.triggerName){const Xe=Kr(se,x.triggerName,x.fromState.value,x.toState.value);Xe._data=E,Vn(x.player,be.phase,Xe,be.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):_.push(x)}),this._queue=[],_.sort((x,G)=>{const se=x.transition.ast.depCount,ve=G.transition.ast.depCount;return 0==se||0==ve?se-ve:this._engine.driver.containsElement(x.element,G.element)?1:-1})}destroy(E){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}elementContainsData(E){let _=!1;return this._elementListeners.has(E)&&(_=!0),_=!!this._queue.find(x=>x.element===E)||_,_}}class j{constructor(E,_,x){this.bodyNode=E,this.driver=_,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,se)=>{}}_onRemovalComplete(E,_){this.onRemovalComplete(E,_)}get queuedPlayers(){const E=[];return this._namespaceList.forEach(_=>{_.players.forEach(x=>{x.queued&&E.push(x)})}),E}createNamespace(E,_){const x=new W(E,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(x,_):(this.newHostElements.set(_,x),this.collectEnterElement(_)),this._namespaceLookup[E]=x}_balanceNamespaceList(E,_){const x=this._namespaceList,G=this.namespacesByHostElement;if(x.length-1>=0){let ve=!1,be=this.driver.getParentElement(_);for(;be;){const Xe=G.get(be);if(Xe){const mt=x.indexOf(Xe);x.splice(mt+1,0,E),ve=!0;break}be=this.driver.getParentElement(be)}ve||x.unshift(E)}else x.push(E);return G.set(_,E),E}register(E,_){let x=this._namespaceLookup[E];return x||(x=this.createNamespace(E,_)),x}registerTrigger(E,_,x){let G=this._namespaceLookup[E];G&&G.register(_,x)&&this.totalAnimations++}destroy(E,_){if(!E)return;const x=this._fetchNamespace(E);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[E];const G=this._namespaceList.indexOf(x);G>=0&&this._namespaceList.splice(G,1)}),this.afterFlushAnimationsDone(()=>x.destroy(_))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const _=new Set,x=this.statesByElement.get(E);if(x)for(let G of x.values())if(G.namespaceId){const se=this._fetchNamespace(G.namespaceId);se&&_.add(se)}return _}trigger(E,_,x,G){if(tn(_)){const se=this._fetchNamespace(E);if(se)return se.trigger(_,x,G),!0}return!1}insertNode(E,_,x,G){if(!tn(_))return;const se=_[zn];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const ve=this.collectedLeaveElements.indexOf(_);ve>=0&&this.collectedLeaveElements.splice(ve,1)}if(E){const ve=this._fetchNamespace(E);ve&&ve.insertNode(_,x)}G&&this.collectEnterElement(_)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,_){_?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Ai(E,sa)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),_o(E,sa))}removeNode(E,_,x,G){if(tn(_)){const se=E?this._fetchNamespace(E):null;if(se?se.removeNode(_,G):this.markElementAsRemoved(E,_,!1,G),x){const ve=this.namespacesByHostElement.get(_);ve&&ve.id!==E&&ve.removeNode(_,G)}}else this._onRemovalComplete(_,G)}markElementAsRemoved(E,_,x,G,se){this.collectedLeaveElements.push(_),_[zn]={namespaceId:E,setForRemoval:G,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:se}}listen(E,_,x,G,se){return tn(_)?this._fetchNamespace(E).listen(_,x,G,se):()=>{}}_buildInstruction(E,_,x,G,se){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,x,G,E.fromState.options,E.toState.options,_,se)}destroyInnerAnimations(E){let _=this.driver.query(E,on,!0);_.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(E,Pe,!0),_.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(E){const _=this.playersByElement.get(E);_&&_.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(E){const _=this.playersByQueriedElement.get(E);_&&_.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return Gn(this.players).onDone(()=>E());E()})}processLeaveNode(E){var _;const x=E[zn];if(x&&x.setForRemoval){if(E[zn]=pa,x.namespaceId){this.destroyInnerAnimations(E);const G=this._fetchNamespace(x.namespaceId);G&&G.clearElementCache(E)}this._onRemovalComplete(E,x.setForRemoval)}!(null===(_=E.classList)||void 0===_)&&_.contains(sa)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(G=>{this.markElementAsDisabled(G,!1)})}flush(E=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,G)=>this._balanceNamespaceList(x,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Ai(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{_=this._flushAnimations(x,E)}finally{for(let G=0;G<x.length;G++)x[G]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],_.length?Gn(_).onDone(()=>{x.forEach(G=>G())}):x.forEach(G=>G())}}reportError(E){throw function Oe(w){return new S.vHH(3402,!1)}()}_flushAnimations(E,_){const x=new er,G=[],se=new Map,ve=[],be=new Map,Xe=new Map,mt=new Map,$t=new Set;this.disabledNodes.forEach(En=>{$t.add(En);const Wn=this.driver.query(En,".ng-animate-queued",!0);for(let tr=0;tr<Wn.length;tr++)$t.add(Wn[tr])});const an=this.bodyNode,An=Array.from(this.statesByElement.keys()),wn=Qr(An,this.collectedEnterElements),fn=new Map;let Zn=0;wn.forEach((En,Wn)=>{const tr=me+Zn++;fn.set(Wn,tr),En.forEach(Xt=>Ai(Xt,tr))});const Vr=[],ei=new Set,ai=new Set;for(let En=0;En<this.collectedLeaveElements.length;En++){const Wn=this.collectedLeaveElements[En],tr=Wn[zn];tr&&tr.setForRemoval&&(Vr.push(Wn),ei.add(Wn),tr.hasAnimation?this.driver.query(Wn,".ng-star-inserted",!0).forEach(Xt=>ei.add(Xt)):ai.add(Wn))}const Ws=new Map,gr=Qr(An,Array.from(ei));gr.forEach((En,Wn)=>{const tr=ke+Zn++;Ws.set(Wn,tr),En.forEach(Xt=>Ai(Xt,tr))}),E.push(()=>{wn.forEach((En,Wn)=>{const tr=fn.get(Wn);En.forEach(Xt=>_o(Xt,tr))}),gr.forEach((En,Wn)=>{const tr=Ws.get(Wn);En.forEach(Xt=>_o(Xt,tr))}),Vr.forEach(En=>{this.processLeaveNode(En)})});const mr=[],Rs=[];for(let En=this._namespaceList.length-1;En>=0;En--)this._namespaceList[En].drainQueuedTransitions(_).forEach(tr=>{const Xt=tr.player,Qi=tr.element;if(mr.push(Xt),this.collectedEnterElements.length){const Ks=Qi[zn];if(Ks&&Ks.setForMove){if(Ks.previousTriggersValues&&Ks.previousTriggersValues.has(tr.triggerName)){const b=Ks.previousTriggersValues.get(tr.triggerName),p=this.statesByElement.get(tr.element);if(p&&p.has(tr.triggerName)){const y=p.get(tr.triggerName);y.value=b,p.set(tr.triggerName,y)}}return void Xt.destroy()}}const Xs=!an||!this.driver.containsElement(an,Qi),eo=Ws.get(Qi),Io=fn.get(Qi),Ii=this._buildInstruction(tr,x,Io,eo,Xs);if(Ii.errors&&Ii.errors.length)return void Rs.push(Ii);if(Xs)return Xt.onStart(()=>Ji(Qi,Ii.fromStyles)),Xt.onDestroy(()=>Or(Qi,Ii.toStyles)),void G.push(Xt);if(tr.isFallbackTransition)return Xt.onStart(()=>Ji(Qi,Ii.fromStyles)),Xt.onDestroy(()=>Or(Qi,Ii.toStyles)),void G.push(Xt);const bu=[];Ii.timelines.forEach(Ks=>{Ks.stretchStartingKeyframe=!0,this.disabledNodes.has(Ks.element)||bu.push(Ks)}),Ii.timelines=bu,x.append(Qi,Ii.timelines),ve.push({instruction:Ii,player:Xt,element:Qi}),Ii.queriedElements.forEach(Ks=>gn(be,Ks,[]).push(Xt)),Ii.preStyleProps.forEach((Ks,b)=>{if(Ks.size){let p=Xe.get(b);p||Xe.set(b,p=new Set),Ks.forEach((y,A)=>p.add(A))}}),Ii.postStyleProps.forEach((Ks,b)=>{let p=mt.get(b);p||mt.set(b,p=new Set),Ks.forEach((y,A)=>p.add(A))})});if(Rs.length){const En=[];Rs.forEach(Wn=>{En.push(function nt(w,E){return new S.vHH(3505,!1)}())}),mr.forEach(Wn=>Wn.destroy()),this.reportError(En)}const is=new Map,Ss=new Map;ve.forEach(En=>{const Wn=En.element;x.has(Wn)&&(Ss.set(Wn,Wn),this._beforeAnimationBuild(En.player.namespaceId,En.instruction,is))}),G.forEach(En=>{const Wn=En.element;this._getPreviousPlayers(Wn,!1,En.namespaceId,En.triggerName,null).forEach(Xt=>{gn(is,Wn,[]).push(Xt),Xt.destroy()})});const iu=Vr.filter(En=>Ns(En,Xe,mt)),fi=new Map;oo(fi,this.driver,ai,mt,V.l3).forEach(En=>{Ns(En,Xe,mt)&&iu.push(En)});const Jo=new Map;wn.forEach((En,Wn)=>{oo(Jo,this.driver,new Set(En),Xe,V.k1)}),iu.forEach(En=>{var Wn,tr;const Xt=fi.get(En),Qi=Jo.get(En);fi.set(En,new Map([...Array.from(null!==(Wn=null==Xt?void 0:Xt.entries())&&void 0!==Wn?Wn:[]),...Array.from(null!==(tr=null==Qi?void 0:Qi.entries())&&void 0!==tr?tr:[])]))});const Hl=[],ks=[],Su={};ve.forEach(En=>{const{element:Wn,player:tr,instruction:Xt}=En;if(x.has(Wn)){if($t.has(Wn))return tr.onDestroy(()=>Or(Wn,Xt.toStyles)),tr.disabled=!0,tr.overrideTotalTime(Xt.totalTime),void G.push(tr);let Qi=Su;if(Ss.size>1){let eo=Wn;const Io=[];for(;eo=eo.parentNode;){const Ii=Ss.get(eo);if(Ii){Qi=Ii;break}Io.push(eo)}Io.forEach(Ii=>Ss.set(Ii,Qi))}const Xs=this._buildAnimation(tr.namespaceId,Xt,is,se,Jo,fi);if(tr.setRealPlayer(Xs),Qi===Su)Hl.push(tr);else{const eo=this.playersByElement.get(Qi);eo&&eo.length&&(tr.parentPlayer=Gn(eo)),G.push(tr)}}else Ji(Wn,Xt.fromStyles),tr.onDestroy(()=>Or(Wn,Xt.toStyles)),ks.push(tr),$t.has(Wn)&&G.push(tr)}),ks.forEach(En=>{const Wn=se.get(En.element);if(Wn&&Wn.length){const tr=Gn(Wn);En.setRealPlayer(tr)}}),G.forEach(En=>{En.parentPlayer?En.syncPlayerEvents(En.parentPlayer):En.destroy()});for(let En=0;En<Vr.length;En++){const Wn=Vr[En],tr=Wn[zn];if(_o(Wn,ke),tr&&tr.hasAnimation)continue;let Xt=[];if(be.size){let Xs=be.get(Wn);Xs&&Xs.length&&Xt.push(...Xs);let eo=this.driver.query(Wn,Pe,!0);for(let Io=0;Io<eo.length;Io++){let Ii=be.get(eo[Io]);Ii&&Ii.length&&Xt.push(...Ii)}}const Qi=Xt.filter(Xs=>!Xs.destroyed);Qi.length?Mo(this,Wn,Qi):this.processLeaveNode(Wn)}return Vr.length=0,Hl.forEach(En=>{this.players.push(En),En.onDone(()=>{En.destroy();const Wn=this.players.indexOf(En);this.players.splice(Wn,1)}),En.play()}),Hl}elementContainsData(E,_){let x=!1;const G=_[zn];return G&&G.setForRemoval&&(x=!0),this.playersByElement.has(_)&&(x=!0),this.playersByQueriedElement.has(_)&&(x=!0),this.statesByElement.has(_)&&(x=!0),this._fetchNamespace(E).elementContainsData(_)||x}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,_,x,G,se){let ve=[];if(_){const be=this.playersByQueriedElement.get(E);be&&(ve=be)}else{const be=this.playersByElement.get(E);if(be){const Xe=!se||se==Wo;be.forEach(mt=>{mt.queued||!Xe&&mt.triggerName!=G||ve.push(mt)})}}return(x||G)&&(ve=ve.filter(be=>!(x&&x!=be.namespaceId||G&&G!=be.triggerName))),ve}_beforeAnimationBuild(E,_,x){const se=_.element,ve=_.isRemovalTransition?void 0:E,be=_.isRemovalTransition?void 0:_.triggerName;for(const Xe of _.timelines){const mt=Xe.element,$t=mt!==se,an=gn(x,mt,[]);this._getPreviousPlayers(mt,$t,ve,be,_.toState).forEach(wn=>{const fn=wn.getRealPlayer();fn.beforeDestroy&&fn.beforeDestroy(),wn.destroy(),an.push(wn)})}Ji(se,_.fromStyles)}_buildAnimation(E,_,x,G,se,ve){const be=_.triggerName,Xe=_.element,mt=[],$t=new Set,an=new Set,An=_.timelines.map(fn=>{const Zn=fn.element;$t.add(Zn);const Vr=Zn[zn];if(Vr&&Vr.removedBeforeQueried)return new V.ZN(fn.duration,fn.delay);const ei=Zn!==Xe,ai=function Oo(w){const E=[];return El(w,E),E}((x.get(Zn)||ii).map(is=>is.getRealPlayer())).filter(is=>!!is.element&&is.element===Zn),Ws=se.get(Zn),gr=ve.get(Zn),mr=Ut(0,this._normalizer,0,fn.keyframes,Ws,gr),Rs=this._buildPlayer(fn,mr,ai);if(fn.subTimeline&&G&&an.add(Zn),ei){const is=new L(E,be,Zn);is.setRealPlayer(Rs),mt.push(is)}return Rs});mt.forEach(fn=>{gn(this.playersByQueriedElement,fn.element,[]).push(fn),fn.onDone(()=>function re(w,E,_){let x=w.get(E);if(x){if(x.length){const G=x.indexOf(_);x.splice(G,1)}0==x.length&&w.delete(E)}return x}(this.playersByQueriedElement,fn.element,fn))}),$t.forEach(fn=>Ai(fn,cn));const wn=Gn(An);return wn.onDestroy(()=>{$t.forEach(fn=>_o(fn,cn)),Or(Xe,_.toStyles)}),an.forEach(fn=>{gn(G,fn,[]).push(wn)}),wn}_buildPlayer(E,_,x){return _.length>0?this.driver.animate(E.element,_,E.duration,E.delay,E.easing,x):new V.ZN(E.duration,E.delay)}}class L{constructor(E,_,x){this.namespaceId=E,this.triggerName=_,this.element=x,this._player=new V.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((_,x)=>{_.forEach(G=>Vn(E,x,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const _=this._player;_.triggerCallback&&E.onStart(()=>_.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,_){gn(this._queuedCallbacks,E,[]).push(_)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const _=this._player;_.triggerCallback&&_.triggerCallback(E)}}function tn(w){return w&&1===w.nodeType}function es(w,E){const _=w.style.display;return w.style.display=null!=E?E:"none",_}function oo(w,E,_,x,G){const se=[];_.forEach(Xe=>se.push(es(Xe)));const ve=[];x.forEach((Xe,mt)=>{const $t=new Map;Xe.forEach(an=>{const An=E.computeStyle(mt,an,G);$t.set(an,An),(!An||0==An.length)&&(mt[zn]=Ot,ve.push(mt))}),w.set(mt,$t)});let be=0;return _.forEach(Xe=>es(Xe,se[be++])),ve}function Qr(w,E){const _=new Map;if(w.forEach(be=>_.set(be,[])),0==E.length)return _;const G=new Set(E),se=new Map;function ve(be){if(!be)return 1;let Xe=se.get(be);if(Xe)return Xe;const mt=be.parentNode;return Xe=_.has(mt)?mt:G.has(mt)?1:ve(mt),se.set(be,Xe),Xe}return E.forEach(be=>{const Xe=ve(be);1!==Xe&&_.get(Xe).push(be)}),_}function Ai(w,E){var _;null===(_=w.classList)||void 0===_||_.add(E)}function _o(w,E){var _;null===(_=w.classList)||void 0===_||_.remove(E)}function Mo(w,E,_){Gn(_).onDone(()=>w.processLeaveNode(E))}function El(w,E){for(let _=0;_<w.length;_++){const x=w[_];x instanceof V.ZE?El(x.players,E):E.push(x)}}function Ns(w,E,_){const x=_.get(w);if(!x)return!1;let G=E.get(w);return G?x.forEach(se=>G.add(se)):E.set(w,x),_.delete(w),!0}class yo{constructor(E,_,x){this.bodyNode=E,this._driver=_,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(G,se)=>{},this._transitionEngine=new j(E,_,x),this._timelineEngine=new Cn(E,_,x),this._transitionEngine.onRemovalComplete=(G,se)=>this.onRemovalComplete(G,se)}registerTrigger(E,_,x,G,se){const ve=E+"-"+G;let be=this._triggerCache[ve];if(!be){const Xe=[],$t=Xi(this._driver,se,Xe,[]);if(Xe.length)throw function yr(w,E){return new S.vHH(3404,!1)}();be=function Rr(w,E,_){return new xa(w,E,_)}(G,$t,this._normalizer),this._triggerCache[ve]=be}this._transitionEngine.registerTrigger(_,G,be)}register(E,_){this._transitionEngine.register(E,_)}destroy(E,_){this._transitionEngine.destroy(E,_)}onInsert(E,_,x,G){this._transitionEngine.insertNode(E,_,x,G)}onRemove(E,_,x,G){this._transitionEngine.removeNode(E,_,G||!1,x)}disableAnimations(E,_){this._transitionEngine.markElementAsDisabled(E,_)}process(E,_,x,G){if("@"==x.charAt(0)){const[se,ve]=yn(x);this._timelineEngine.command(se,_,ve,G)}else this._transitionEngine.trigger(E,_,x,G)}listen(E,_,x,G,se){if("@"==x.charAt(0)){const[ve,be]=yn(x);return this._timelineEngine.listen(ve,_,be,se)}return this._transitionEngine.listen(E,_,x,G,se)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Fa=(()=>{class w{constructor(_,x,G){this._element=_,this._startStyles=x,this._endStyles=G,this._state=0;let se=w.initialStylesByElement.get(_);se||w.initialStylesByElement.set(_,se=new Map),this._initialStyles=se}start(){this._state<1&&(this._startStyles&&Or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Or(this._element,this._initialStyles),this._endStyles&&(Or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(Ji(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ji(this._element,this._endStyles),this._endStyles=null),Or(this._element,this._initialStyles),this._state=3)}}return w.initialStylesByElement=new WeakMap,w})();function Ko(w){let E=null;return w.forEach((_,x)=>{(function zo(w){return"display"===w||"position"===w})(x)&&(E=E||new Map,E.set(x,_))}),E}class vo{constructor(E,_,x,G){this.element=E,this.keyframes=_,this.options=x,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const _=[];return E.forEach(x=>{_.push(Object.fromEntries(x))}),_}_triggerWebAnimation(E,_,x){return E.animate(this._convertKeyframesToObject(_),x)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,G)=>{"offset"!==G&&E.set(G,this._finished?x:Sr(this.element,G))}),this.currentSnapshot=E}triggerCallback(E){const _="start"===E?this._onStartFns:this._onDoneFns;_.forEach(x=>x()),_.length=0}}class Po{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,_){return!1}containsElement(E,_){return Ke(E,_)}getParentElement(E){return Fn(E)}query(E,_,x){return jt(E,_,x)}computeStyle(E,_,x){return window.getComputedStyle(E)[_]}animate(E,_,x,G,se,ve=[]){const Xe={duration:x,delay:G,fill:0==G?"both":"forwards"};se&&(Xe.easing=se);const mt=new Map,$t=ve.filter(wn=>wn instanceof vo);(function to(w,E){return 0===w||0===E})(x,G)&&$t.forEach(wn=>{wn.currentSnapshot.forEach((fn,Zn)=>mt.set(Zn,fn))});let an=function sr(w){return w.length?w[0]instanceof Map?w:w.map(E=>Jn(E)):[]}(_).map(wn=>Mr(wn));an=function yi(w,E,_){if(_.size&&E.length){let x=E[0],G=[];if(_.forEach((se,ve)=>{x.has(ve)||G.push(ve),x.set(ve,se)}),G.length)for(let se=1;se<E.length;se++){let ve=E[se];G.forEach(be=>ve.set(be,Sr(w,be)))}}return E}(E,an,mt);const An=function La(w,E){let _=null,x=null;return Array.isArray(E)&&E.length?(_=Ko(E[0]),E.length>1&&(x=Ko(E[E.length-1]))):E instanceof Map&&(_=Ko(E)),_||x?new Fa(w,_,x):null}(E,an);return new vo(E,an,Xe,An)}}let Ms=(()=>{class w extends V._j{constructor(_,x){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(x.body,{id:"0",encapsulation:S.ifc.None,styles:[],data:{animation:[]}})}build(_){const x=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(_)?(0,V.vP)(_):_;return Ro(this._renderer,null,x,"register",[G]),new ga(x,this._renderer)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(S.FYo),S.LFG(Z.K0))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();class ga extends V.LC{constructor(E,_){super(),this._id=E,this._renderer=_}create(E,_){return new ol(this._id,E,_||{},this._renderer)}}class ol{constructor(E,_,x,G){this.id=E,this.element=_,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(E,_){return this._renderer.listen(this.element,`@@${this.id}:${E}`,_)}_command(E,..._){return Ro(this._renderer,this.element,this.id,E,_)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){var E,_;return null!==(_=null===(E=this._renderer.engine.players[+this.id])||void 0===E?void 0:E.getPosition())&&void 0!==_?_:0}}function Ro(w,E,_,x,G){return w.setProperty(E,`@@${_}:${x}`,G)}const k="@",q="@.disabled";let B=(()=>{class w{constructor(_,x,G){this.delegate=_,this.engine=x,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(se,ve)=>{const be=null==ve?void 0:ve.parentNode(se);be&&ve.removeChild(be,se)}}createRenderer(_,x){const se=this.delegate.createRenderer(_,x);if(!(_&&x&&x.data&&x.data.animation)){let $t=this._rendererCache.get(se);return $t||($t=new ie("",se,this.engine),this._rendererCache.set(se,$t)),$t}const ve=x.id,be=x.id+"-"+this._currentId;this._currentId++,this.engine.register(be,_);const Xe=$t=>{Array.isArray($t)?$t.forEach(Xe):this.engine.registerTrigger(ve,be,_,$t.name,$t)};return x.data.animation.forEach(Xe),new De(this,be,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,x,G){_>=0&&_<this._microtaskId?this._zone.run(()=>x(G)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[ve,be]=se;ve(be)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(S.FYo),S.LFG(yo),S.LFG(S.R0b))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();class ie{constructor(E,_,x){this.namespaceId=E,this.delegate=_,this.engine=x,this.destroyNode=this.delegate.destroyNode?G=>_.destroyNode(G):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(E,_){return this.delegate.createElement(E,_)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,_){this.delegate.appendChild(E,_),this.engine.onInsert(this.namespaceId,_,E,!1)}insertBefore(E,_,x,G=!0){this.delegate.insertBefore(E,_,x),this.engine.onInsert(this.namespaceId,_,E,G)}removeChild(E,_,x){this.engine.onRemove(this.namespaceId,_,this.delegate,x)}selectRootElement(E,_){return this.delegate.selectRootElement(E,_)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,_,x,G){this.delegate.setAttribute(E,_,x,G)}removeAttribute(E,_,x){this.delegate.removeAttribute(E,_,x)}addClass(E,_){this.delegate.addClass(E,_)}removeClass(E,_){this.delegate.removeClass(E,_)}setStyle(E,_,x,G){this.delegate.setStyle(E,_,x,G)}removeStyle(E,_,x){this.delegate.removeStyle(E,_,x)}setProperty(E,_,x){_.charAt(0)==k&&_==q?this.disableAnimations(E,!!x):this.delegate.setProperty(E,_,x)}setValue(E,_){this.delegate.setValue(E,_)}listen(E,_,x){return this.delegate.listen(E,_,x)}disableAnimations(E,_){this.engine.disableAnimations(E,_)}}class De extends ie{constructor(E,_,x,G){super(_,x,G),this.factory=E,this.namespaceId=_}setProperty(E,_,x){_.charAt(0)==k?"."==_.charAt(1)&&_==q?this.disableAnimations(E,x=void 0===x||!!x):this.engine.process(this.namespaceId,E,_.slice(1),x):this.delegate.setProperty(E,_,x)}listen(E,_,x){if(_.charAt(0)==k){const G=function rt(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(E);let se=_.slice(1),ve="";return se.charAt(0)!=k&&([se,ve]=function ft(w){const E=w.indexOf(".");return[w.substring(0,E),w.slice(E+1)]}(se)),this.engine.listen(this.namespaceId,G,se,ve,be=>{this.factory.scheduleListenerCallback(be._data||-1,x,be)})}return this.delegate.listen(E,_,x)}}const hr=[{provide:V._j,useClass:Ms},{provide:go,useFactory:function Hr(){return new Pa}},{provide:yo,useClass:(()=>{class w extends yo{constructor(_,x,G,se){super(_.body,x,G)}ngOnDestroy(){this.flush()}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Z.K0),S.LFG(ir),S.LFG(go),S.LFG(S.z2F))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})()},{provide:S.FYo,useFactory:function Pn(w,E,_){return new B(w,E,_)},deps:[f.se,yo,S.R0b]}],ar=[{provide:ir,useFactory:()=>new Po},{provide:S.QbO,useValue:"BrowserAnimations"},...hr],Li=[{provide:ir,useClass:Nn},{provide:S.QbO,useValue:"NoopAnimations"},...hr];let Ar=(()=>{class w{static withConfig(_){return{ngModule:w,providers:_.disableAnimations?Li:ar}}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:ar,imports:[f.b2]}),w})();var Mi=C(8505),ls=C(1135);let fs=(()=>{class w{constructor(_){this.router=_,this.loadCount=0,this.loadState=new ls.X(!1),this.router.events.subscribe(x=>{this.navigationInterceptor(x)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(_){_ instanceof te.OD&&this.showLoader(),_ instanceof te.m2&&this.hideLoader(),_ instanceof te.gk&&this.hideLoader(),_ instanceof te.Q3&&this.hideLoader()}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(te.F0))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Lt={provide:Ge.TP,useClass:(()=>{class w{constructor(_){this.loaderService=_}intercept(_,x){return this.loaderService.showLoader(),x.handle(_).pipe((0,Mi.b)(G=>{G instanceof Ge.Zn&&this.loaderService.hideLoader()},G=>{this.loaderService.hideLoader()}))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(fs))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),multi:!0};var ns=C(9770),Eo=C(2843),Qa=C(4968),rn=C(9646),Sn=C(7272),Ku=C(7579),Zt=C(9751),ut=C(5032);const It=new Zt.y(ut.Z);var qa=C(6451),Oi=C(4004),Yo=C(9300),Zs=C(3900),zl=C(8646),Ls=C(5698),aa=C(4086);const xo="Service workers are disabled or not supported by this browser";class Dl{constructor(E){if(this.serviceWorker=E,E){const x=(0,Qa.R)(E,"controllerchange").pipe((0,Oi.U)(()=>E.controller)),G=(0,ns.P)(()=>(0,rn.of)(E.controller)),se=(0,Sn.z)(G,x);this.worker=se.pipe((0,Yo.h)($t=>!!$t)),this.registration=this.worker.pipe((0,Zs.w)(()=>E.getRegistration()));const mt=(0,Qa.R)(E,"message").pipe((0,Oi.U)($t=>$t.data)).pipe((0,Yo.h)($t=>$t&&$t.type)).pipe((0,zl.n)());mt.connect(),this.events=mt}else this.worker=this.events=this.registration=function Ll(w){return(0,ns.P)(()=>(0,Eo._)(new Error(w)))}(xo)}postMessage(E,_){return this.worker.pipe((0,Ls.q)(1),(0,Mi.b)(x=>{x.postMessage(Object.assign({action:E},_))})).toPromise().then(()=>{})}postMessageWithOperation(E,_,x){const G=this.waitForOperationCompleted(x),se=this.postMessage(E,_);return Promise.all([se,G]).then(([,ve])=>ve)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(E){let _;return _="string"==typeof E?x=>x.type===E:x=>E.includes(x.type),this.events.pipe((0,Yo.h)(_))}nextEventOfType(E){return this.eventsOfType(E).pipe((0,Ls.q)(1))}waitForOperationCompleted(E){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Yo.h)(_=>_.nonce===E),(0,Ls.q)(1),(0,Oi.U)(_=>{if(void 0!==_.result)return _.result;throw new Error(_.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Cl=(()=>{class w{constructor(_){if(this.sw=_,this.subscriptionChanges=new Ku.x,!_.isEnabled)return this.messages=It,this.notificationClicks=It,void(this.subscription=It);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Oi.U)(G=>G.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Oi.U)(G=>G.data)),this.pushManager=this.sw.registration.pipe((0,Oi.U)(G=>G.pushManager));const x=this.pushManager.pipe((0,Zs.w)(G=>G.getSubscription()));this.subscription=(0,qa.T)(x,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(_){if(!this.sw.isEnabled)return Promise.reject(new Error(xo));const x={userVisibleOnly:!0};let G=this.decodeBase64(_.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),se=new Uint8Array(new ArrayBuffer(G.length));for(let ve=0;ve<G.length;ve++)se[ve]=G.charCodeAt(ve);return x.applicationServerKey=se,this.pushManager.pipe((0,Zs.w)(ve=>ve.subscribe(x)),(0,Ls.q)(1)).toPromise().then(ve=>(this.subscriptionChanges.next(ve),ve))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ls.q)(1),(0,Zs.w)(x=>{if(null===x)throw new Error("Not subscribed to push notifications.");return x.unsubscribe().then(G=>{if(!G)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(xo))}decodeBase64(_){return atob(_)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Dl))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),rr=(()=>{class w{constructor(_){if(this.sw=_,!_.isEnabled)return this.versionUpdates=It,this.available=It,this.activated=It,void(this.unrecoverable=It);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Yo.h)(x=>"VERSION_READY"===x.type),(0,Oi.U)(x=>({type:"UPDATE_AVAILABLE",current:x.currentVersion,available:x.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(xo));const _=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:_},_)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(xo));const _=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:_},_)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Dl))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();class Os{}const pu=new S.OlP("NGSW_REGISTER_SCRIPT");function ci(w,E,_,x){return()=>{if(!(0,Z.NF)(x)||!("serviceWorker"in navigator)||!1===_.enabled)return;let G;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof _.registrationStrategy)G=_.registrationStrategy();else{const[ve,...be]=(_.registrationStrategy||"registerWhenStable:30000").split(":");switch(ve){case"registerImmediately":G=(0,rn.of)(null);break;case"registerWithDelay":G=bn(+be[0]||0);break;case"registerWhenStable":G=be[0]?(0,qa.T)(la(w),bn(+be[0])):la(w);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${_.registrationStrategy}`)}}w.get(S.R0b).runOutsideAngular(()=>G.pipe((0,Ls.q)(1)).subscribe(()=>navigator.serviceWorker.register(E,{scope:_.scope}).catch(ve=>console.error("Service worker registration failed with:",ve))))}}function bn(w){return(0,rn.of)(null).pipe((0,aa.g)(w))}function la(w){return w.get(S.z2F).isStable.pipe((0,Yo.h)(_=>_))}function Er(w,E){return new Dl((0,Z.NF)(E)&&!1!==w.enabled?navigator.serviceWorker:void 0)}let us=(()=>{class w{static register(_,x={}){return{ngModule:w,providers:[{provide:pu,useValue:_},{provide:Os,useValue:x},{provide:Dl,useFactory:Er,deps:[Os,S.Lbi]},{provide:S.ip1,useFactory:ci,deps:[S.zs3,pu,Os,S.Lbi],multi:!0}]}}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[Cl,rr]}),w})();var pr=C(5159);let Jt=(()=>{class w{constructor(_){this.injector=_}handleError(_){const x=this.injector.get(Tt.g);this.injector.get(te.F0),_ instanceof Ge.UA?(navigator.onLine||x.notify("No Internet Connection"),x.notify(`${_.status} - ${_.message}`)):x.notify(_),console.error(_)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(S.zs3))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();function Qo(w,E){if(1&w&&(S.TgZ(0,"div")(1,"h1"),S._uU(2),S.qZA(),S.TgZ(3,"a",2)(4,"h5"),S._uU(5,"Go to Home"),S.qZA()()()),2&w){const _=S.oxw();S.xp6(2),S.hij("ERROR ",null==_.routeParams?null:_.routeParams.error,""),S.xp6(1),S.Q6J("routerLink","/")}}const Do=[{path:"error",component:(()=>{class w{constructor(_){this.activatedRoute=_}ngOnInit(){this.routeParams=this.activatedRoute.snapshot.queryParams}}return w.\u0275fac=function(_){return new(_||w)(S.Y36(te.gz))},w.\u0275cmp=S.Xpm({type:w,selectors:[["app-errors"]],decls:2,vars:1,consts:[[1,"error-container"],[4,"ngIf"],[3,"routerLink"]],template:function(_,x){1&_&&(S.TgZ(0,"div",0),S.YNc(1,Qo,6,2,"div",1),S.qZA()),2&_&&(S.xp6(1),S.Q6J("ngIf",null==x.routeParams?null:x.routeParams.error))},dependencies:[Z.O5,te.yS],styles:[".error-container[_ngcontent-%COMP%]{width:220px;margin:50% auto 0;transform:translateY(-50%);text-align:center}"]}),w})()}];let gu=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({imports:[te.Bz.forChild(Do),te.Bz]}),w})();var ka=C(5625),qo=C(262);const ll={provide:Ge.TP,useClass:class al{intercept(E,_){return _.handle(E).pipe((0,ka.X)(0),(0,qo.K)(this.handleError))}handleError(E){let _="";return _=E.error instanceof ErrorEvent?`Error: ${E.error.message}`:`Error Code: ${E.status}\\nMessage: ${E.message}`,(0,Eo._)(E)}},multi:!0};let ul=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[{provide:S.qLn,useClass:Jt},ll],imports:[Z.ez,gu]}),w})();var Ki=C(4466),Yl=C(7637),Ua=C(9155);let ao=(()=>{class w{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),va=(()=>{class w extends Yl.u{constructor(_,x){super(),this.http=_,this.config=x}getCurrentWeather(_,x){const se=this.getParams(_,x);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:se}).pipe((0,Oi.U)(ve=>({temperature:ve.main.temp,temperatureMin:ve.main.temp_min,temperatureMax:ve.main.temp_max,city:ve.name,conditions:(0,Ua.wJ)(ve.weather[0]),date:new Date(ve.dt),zipCode:_,countryCode:x})))}getWeatherForecast(_,x){const se=this.getParams(_,x);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:se}).pipe((0,Oi.U)(ve=>ve.list.map(be=>({temperature:be.temp.day,temperatureMin:be.temp.min,temperatureMax:be.temp.max,city:ve.city.name,conditions:(0,Ua.wJ)(be.weather[0]),date:new Date(1e3*be.dt),zipCode:_,countryCode:x}))))}getParams(_,x="us"){return new Ge.LE({fromObject:{zip:`${_},${x}`,appid:this.config.apiKey}})}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Ge.eN),S.LFG(ao))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),ct=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[Lt],imports:[Z.ez]}),w})();const Is={provide:te.wN,useClass:class Co{constructor(){this.handlers=new Map}shouldDetach(E){return!0}store(E,_){!E.routeConfig||this.handlers.set(E.routeConfig,_)}shouldAttach(E){return!!E.routeConfig&&!!this.handlers.get(E.routeConfig)}retrieve(E){return E.routeConfig&&this.handlers.has(E.routeConfig)?this.handlers.get(E.routeConfig):null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}clearSavedHandle(E){const _=this.handlers.get(E);_&&_.componentRef.destroy(),this.handlers.delete(E)}deactivateAllHandles(){for(const E in this.handlers)this.clearSavedHandle(this.handlers[E]);this.handlers=new Map}getUrl(E){if(E.routeConfig){const _=E.routeConfig.path;return console.log("returning url",_),_}}}};var Ea=C(9884);const Za={todos:[]},No=(w=Za,E)=>{switch(E.type){case"ADD":return{todos:[...w.todos,{index:w.todos.length,text:E.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:w.todos.map((_,x)=>x===E.index?Object.assign(Object.assign({},_),{done:!_.done}):_)};case"REMOVE":return{todos:w.todos.splice(w.todos.findIndex(_=>_.index===E.index),1)};case"SAVED":return{todos:w.todos.map((_,x)=>x===E.index?Object.assign(Object.assign({},_),{saved:!0}):_)};default:return w}};var Ja=C(457),wo=C(5577),mu=C(9468);const Xa={provide:S.ip1,multi:!0,deps:[(()=>{class w{constructor(){var _;this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const x=null!==(_=this.getLastActiveFromLocalStorage())&&void 0!==_?_:new Date;this.lastActive=new ls.X(x),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,Ja.D)(this.events).pipe((0,wo.z)(_=>(0,Qa.R)(document,_)),(0,mu.p)(this.recordTimeoutMs)).subscribe(_=>this.recordLastActiveDate()),(0,Qa.R)(window,"storage").pipe((0,Yo.h)(_=>_.storageArea===localStorage&&_.key===this.localStorageKey&&!!_.newValue),(0,Oi.U)(_=>new Date(_.newValue))).subscribe(_=>this.lastActive.next(_))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var _=new Date;localStorage.setItem(this.localStorageKey,_.toString()),this.lastActive.next(_)}getLastActiveFromLocalStorage(){const _=localStorage.getItem(this.localStorageKey);return _?new Date(_):null}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()],useFactory:w=>()=>w.setUp()};let zu=1;class Js{constructor(){this.userName="Philip Marlowe"}}let Pu=(()=>{class w{constructor(_){this.id=zu++,this._userName="Sherlock Holmes",_&&(this._userName=_.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Js,8))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),el=(()=>{class w{constructor(_){if(_)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(_){return{ngModule:w,providers:[{provide:Js,useValue:_}]}}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(w,12))},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[Pu],imports:[Z.ez]}),w})();var Da=C(2713),Fi=C(5094),Va=C(7369),Zo=C(3550);let tl=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[Zo.T],imports:[Fi.Aw.forFeature(Va.UN,Va.Jl)]}),w})();var wi=C(2852),Ql=C(8502),zi=C(515),yc=C(576);class O{constructor(E,_,x){this.kind=E,this.value=_,this.error=x,this.hasValue="N"===E}observe(E){return T(this,E)}do(E,_,x){const{kind:G,value:se,error:ve}=this;return"N"===G?null==E?void 0:E(se):"E"===G?null==_?void 0:_(ve):null==x?void 0:x()}accept(E,_,x){var G;return(0,yc.m)(null===(G=E)||void 0===G?void 0:G.next)?this.observe(E):this.do(E,_,x)}toObservable(){const{kind:E,value:_,error:x}=this,G="N"===E?(0,rn.of)(_):"E"===E?(0,Eo._)(()=>x):"C"===E?zi.E:0;if(!G)throw new TypeError(`Unexpected notification kind ${E}`);return G}static createNext(E){return new O("N",E)}static createError(E){return new O("E",void 0,E)}static createComplete(){return O.completeNotification}}function T(w,E){var _,x,G;const{kind:se,value:ve,error:be}=w;if("string"!=typeof se)throw new TypeError('Invalid notification, missing "kind"');"N"===se?null===(_=E.next)||void 0===_||_.call(E,ve):"E"===se?null===(x=E.error)||void 0===x||x.call(E,be):null===(G=E.complete)||void 0===G||G.call(E)}O.completeNotification=new O("C");var F=C(4482),$=C(5403),ye=C(8421);function Ce(w,E,_,x){return(0,F.e)((G,se)=>{let ve;E&&"function"!=typeof E?({duration:_,element:ve,connector:x}=E):ve=E;const be=new Map,Xe=An=>{be.forEach(An),An(se)},mt=An=>Xe(wn=>wn.error(An)),$t=new Je(se,An=>{try{const wn=w(An);let fn=be.get(wn);if(!fn){be.set(wn,fn=x?x():new Ku.x);const Zn=function an(An,wn){const fn=new Zt.y(Zn=>{$t.activeGroups++;const Vr=wn.subscribe(Zn);return()=>{Vr.unsubscribe(),0==--$t.activeGroups&&$t.teardownAttempted&&$t.unsubscribe()}});return fn.key=An,fn}(wn,fn);if(se.next(Zn),_){const Vr=new $.Q(fn,()=>{fn.complete(),null==Vr||Vr.unsubscribe()},void 0,void 0,()=>be.delete(wn));$t.add((0,ye.Xf)(_(Zn)).subscribe(Vr))}}fn.next(ve?ve(An):An)}catch(wn){mt(wn)}},()=>Xe(An=>An.complete()),mt,()=>be.clear());G.subscribe($t)})}class Je extends $.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var Bt=C(6129);const Yt={dispatch:!0,useEffectsErrorHandler:!0},vn="__@ngrx/effects_create__";function qn(w,E){const _=w(),x=Object.assign(Object.assign({},Yt),E);return Object.defineProperty(_,vn,{value:x}),_}function Jr(w){return Object.getOwnPropertyNames(w).filter(x=>!(!w[x]||!w[x].hasOwnProperty(vn))&&w[x][vn].hasOwnProperty("dispatch")).map(x=>Object.assign({propertyName:x},w[x][vn]))}function Ts(w){return Object.getPrototypeOf(w)}const ps="__@ngrx/effects__";function Ps(w){return(0,Fi.qC)(nl,Ts)(w)}function nl(w){return function Ca(w){return w.constructor.hasOwnProperty(ps)}(w)?w.constructor[ps]:[]}function cl(w,E,_){const x=Ts(w).constructor.name,G=function Fl(w){return[Ps,Jr].reduce((_,x)=>_.concat(x(w)),[])}(w).map(({propertyName:se,dispatch:ve,useEffectsErrorHandler:be})=>{const Xe="function"==typeof w[se]?w[se]():w[se],mt=be?_(Xe,E):Xe;return!1===ve?mt.pipe((0,Ql.l)()):mt.pipe(function ne(){return(0,F.e)((w,E)=>{w.subscribe(new $.Q(E,_=>{E.next(O.createNext(_))},()=>{E.next(O.createComplete()),E.complete()},_=>{E.next(O.createError(_)),E.complete()}))})}()).pipe((0,Oi.U)(an=>({effect:w[se],notification:an,propertyName:se,sourceName:x,sourceInstance:w})))});return(0,qa.T)(...G)}function kl(w,E,_=10){return w.pipe((0,qo.K)(x=>(E&&E.handleError(x),_<=1?w:kl(w,E,_-1))))}let lo=(()=>{class w extends Zt.y{constructor(_){super(),_&&(this.source=_)}lift(_){const x=new w;return x.source=this,x.operator=_,x}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Fi.Y$))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Fo(...w){return(0,Yo.h)(E=>w.some(_=>"string"==typeof _?_===E.type:_.type===E.type))}const wl=new S.OlP("@ngrx/effects Internal Root Guard"),_u=new S.OlP("@ngrx/effects User Provided Effects"),wr=new S.OlP("@ngrx/effects Internal Root Effects"),Xr=new S.OlP("@ngrx/effects Root Effects"),wa=new S.OlP("@ngrx/effects Internal Feature Effects"),ko=new S.OlP("@ngrx/effects Feature Effects"),ql=new S.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>kl}),rs="@ngrx/effects/init";function Ul(w){return xu(w,"ngrxOnInitEffects")}function xu(w,E){return w&&E in w&&"function"==typeof w[E]}(0,Fi.PH)(rs);let Ia=(()=>{class w extends Ku.x{constructor(_,x){super(),this.errorHandler=_,this.effectsErrorHandler=x}addEffects(_){this.next(_)}toActions(){return this.pipe(Ce(Ts),(0,wo.z)(_=>_.pipe(Ce(yu))),(0,wo.z)(_=>{const x=_.pipe((0,Bt.z)(se=>function Pi(w,E){return _=>{const x=cl(_,w,E);return function Xl(w){return xu(w,"ngrxOnRunEffects")}(_)?_.ngrxOnRunEffects(x):x}}(this.errorHandler,this.effectsErrorHandler)(se)),(0,Oi.U)(se=>(function hl(w,E){if("N"===w.notification.kind){const _=w.notification.value;!function ua(w){return"function"!=typeof w&&w&&w.type&&"string"==typeof w.type}(_)&&E.handleError(new Error(`Effect ${function Il({propertyName:w,sourceInstance:E,sourceName:_}){const x="function"==typeof E[w];return`"${_}.${String(w)}${x?"()":""}"`}(w)} dispatched an invalid action: ${function Yu(w){try{return JSON.stringify(w)}catch(E){return w}}(_)}`))}}(se,this.errorHandler),se.notification)),(0,Yo.h)(se=>"N"===se.kind&&null!=se.value),function hn(){return(0,F.e)((w,E)=>{w.subscribe(new $.Q(E,_=>T(_,E)))})}()),G=_.pipe((0,Ls.q)(1),(0,Yo.h)(Ul),(0,Oi.U)(se=>se.ngrxOnInitEffects()));return(0,qa.T)(x,G)}))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(S.qLn),S.LFG(ql))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function yu(w){return function Zl(w){return xu(w,"ngrxOnIdentifyEffects")}(w)?w.ngrxOnIdentifyEffects():""}let ca=(()=>{class w{constructor(_,x){this.effectSources=_,this.store=x,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Ia),S.LFG(Fi.yh))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),$s=(()=>{class w{constructor(_,x,G,se,ve,be,Xe){this.sources=_,x.start(),se.forEach(mt=>_.addEffects(mt)),G.dispatch({type:rs})}addEffects(_){this.sources.addEffects(_)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Ia),S.LFG(ca),S.LFG(Fi.yh),S.LFG(Xr),S.LFG(Fi.cr,8),S.LFG(Fi.CK,8),S.LFG(wl,8))},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({}),w})(),hi=(()=>{class w{constructor(_,x,G,se){x.forEach(ve=>ve.forEach(be=>_.addEffects(be)))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG($s),S.LFG(ko),S.LFG(Fi.cr,8),S.LFG(Fi.CK,8))},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({}),w})(),uo=(()=>{class w{static forFeature(_=[]){return{ngModule:hi,providers:[_,{provide:wa,multi:!0,useValue:_},{provide:_u,multi:!0,useValue:[]},{provide:ko,multi:!0,useFactory:gs,deps:[S.zs3,wa,_u]}]}}static forRoot(_=[]){return{ngModule:$s,providers:[_,{provide:wr,useValue:[_]},{provide:wl,useFactory:Gs,deps:[[ca,new S.FiY,new S.tp0],[wr,new S.PiD]]},{provide:_u,multi:!0,useValue:[]},{provide:Xr,useFactory:gs,deps:[S.zs3,wr,_u]}]}}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({}),w})();function gs(w,E,_){const x=[];for(const G of E)x.push(...G);for(const G of _)x.push(...G);return function Fs(w,E){return E.map(_=>w.get(_))}(w,x)}function Gs(w,E){if((1!==E.length||0!==E[0].length)&&w)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Tl=C(4579);let Sl=(()=>{class w{loadCounter(){return(0,rn.of)(1999)}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Uo=(()=>{class w{constructor(_,x){this.actions$=_,this.counterService=x,this.loadData$=qn(()=>this.actions$.pipe(Fo(Tl.zK),(0,wo.z)(()=>this.counterService.loadCounter().pipe((0,Oi.U)(G=>Tl.Zf({newValue:G}))))))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(lo),S.LFG(Sl))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();var ja=C(5054);let eu=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[ja.e],imports:[Fi.Aw.forFeature(wi.UN,wi.jX),uo.forFeature([Uo])]}),w})();var Vl=C(3880),Bl=C(2542);let ms=(()=>{class w{constructor(_,x){this.actions$=_,this.http=x,this.loadData$=qn(()=>this.actions$.pipe(Fo(Bl.mu),(0,Zs.w)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,Oi.U)(G=>Bl.F3({payload:G})),(0,qo.K)(G=>(0,rn.of)(Bl.WU({payload:G})))))))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(lo),S.LFG(Ge.eN))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();var Eu=C(9610);let tu=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[Eu.L],imports:[Fi.Aw.forFeature(Vl.UN,Vl.B5),uo.forFeature([ms])]}),w})();var bl=C(173),nu=C(817);let fl=(()=>{class w{constructor(_){this.actions$=_,this.getUser$=qn(()=>this.actions$.pipe(Fo(nu.PR),(0,wo.z)(()=>(0,rn.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,Oi.U)(x=>nu.Ni({user:x})),(0,qo.K)(x=>(console.error("An error occurred while getting user information.",x.message),(0,rn.of)(nu.N2({error:"Unable to retrieve user information."}))))))))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(lo))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();var jl=C(2842);let Ha=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[jl.p],imports:[Fi.Aw.forFeature(bl.U,bl.M),uo.forFeature([fl])]}),w})();var Yi=C(5650),Du=C(4964),pl=C(2766),Cu=C(7403);let Al=(()=>{class w{set(_,x){try{localStorage.setItem(_,JSON.stringify(x))}catch(G){console.error("Error saving to localStorage",G)}}get(_){try{return JSON.parse(localStorage.getItem(_))}catch(x){return console.error("Error getting data from localStorage",x),null}}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),gl=(()=>{class w{constructor(_,x,G,se){this.actions$=_,this.registerService=x,this.persistenceService=G,this.router=se,this.register$=qn(()=>this.actions$.pipe(Fo(pl._0),(0,Zs.w)(({request:ve})=>this.registerService.register(ve).pipe((0,Oi.U)(be=>(this.persistenceService.set("accessToken1",be.token),(0,pl.Pw)({currentUser:be}))),(0,qo.K)(be=>(console.log(be),(0,rn.of)((0,pl.zH)({errors:be.error.errors})))))))),this.redirectAfterSubmit$=qn(()=>this.actions$.pipe(Fo(pl.Pw),(0,Mi.b)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(lo),S.LFG(Cu.a),S.LFG(Al),S.LFG(te.F0))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),ml=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({providers:[Du.q],imports:[Fi.Aw.forFeature(Yi.UN,Yi.xw),uo.forFeature([gl])]}),w})();var ru=C(8716),Ta=C(6222),Ml=C(8372);let qu=(()=>{class w{constructor(_){this.http=_,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(_){return this.http.post(this.url,_)}getArticleById(_){return this.http.get(this.url+"/"+_)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(Ge.eN))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Lu=(()=>{class w{constructor(_,x){this.actions$=_,this.fruitsService=x,this.loadAllArticles$=qn(()=>this.actions$.pipe(Fo(Ta.GO),(0,Zs.w)(()=>this.fruitsService.getAllArticles().pipe((0,Oi.U)(G=>Ta.m0({payload:G})))))),this.createArticle$=qn(()=>this.actions$.pipe(Fo(Ta.$f),(0,Oi.U)(G=>G.payload),(0,wo.z)(G=>this.fruitsService.createArticle(G).pipe((0,Oi.U)(se=>Ta.$s({payload:se})),(0,qo.K)(se=>(0,rn.of)(Ta.$0({payload:se}))))))),this.searchArticleById$=qn(()=>this.actions$.pipe(Fo(Ta.HD),(0,Ml.b)(500),(0,Oi.U)(G=>G.payload),(0,Zs.w)(G=>this.fruitsService.getArticleById(G).pipe((0,Oi.U)(se=>Ta.n3({payload:se})))))),this.loadProducts$=qn(()=>this.actions$.pipe(Fo(Ta.hS),(0,wo.z)(()=>this.fruitsService.getAll().pipe((0,Oi.U)(G=>Ta.Xt({payload:G}))))))}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(lo),S.LFG(qu))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();var Fu=C(9565);let wu=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({imports:[Fi.Aw.forRoot(ru.ll),uo.forRoot([Lu]),tl,eu,tu,Ha,ml,Fu.FT.instrument({maxAge:25,logOnly:!pr.N.production})]}),w})();var vc=C(3922);let Sa=(()=>{class w{info(_){console.info(`Local Logger Service:: ${_}`)}log(_){console.log(`Local Logger Service:: ${_}`)}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const rl="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let Ol=(()=>{class w{constructor(){}intercept(_,x){const{url:G,method:se,headers:ve}=_;return G.endsWith("login")&&"POST"===se?function Xe(){return(0,rn.of)(new Ge.Zn({status:200,body:{id:"1",username:"profanis",token:rl}}))}():G.endsWith("products")&&"GET"===se?function mt(){if(!function be(){return ve.get("authorization")===rl}())return(0,Eo._)({status:401,error:{message:"Unauthorized"}});const $t=[...new Array(20).keys()].map(an=>({id:an,name:`Product ${an}`,weight:30,symbol:"ngf"}));return(0,rn.of)(new Ge.Zn({status:200,body:$t}))}():x.handle(_)}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})();const da={provide:Ge.TP,useClass:Ol,multi:!0};var ba=C(4657);const Iu={provide:Ge.TP,useClass:(()=>{class w{constructor(_){this.authService=_}intercept(_,x){return _=_.clone({headers:_.headers.set("authorization",this.authService.token)}),x.handle(_)}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(ba.e))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac}),w})(),multi:!0};let _l=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({}),w})(),Tu=(()=>{class w{constructor(_){this.injector=_}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(S.zs3))},w.\u0275mod=S.oAB({type:w,bootstrap:[Rt]}),w.\u0275inj=S.cJS({providers:[Lt,Z.uU,{provide:Yl.u,useClass:va},Ge.JF,Is,{provide:Ea.y,useValue:new Ea.y(No)},Xa,{provide:vc.b,useClass:Sa},Iu,da],imports:[f.b2,Ar,Ge.JF,Ge.Ed,Ki.m,xt,ul,us.register("ngsw-worker.js",{enabled:pr.N.production,registrationStrategy:"registerWhenStable:30000"}),wu,ct,el.forRoot({userName:"Trilok Singh"}),Da.G2.initializeApp(pr.N.firebaseConfig),Da.G2.initialize({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0}),_l,Ar]}),w})();pr.N.production&&(0,S.G48)(),f.q6().bootstrapModule(Tu).catch(w=>console.error(w))},1135:(we,ae,C)=>{C.d(ae,{X:()=>S});var f=C(7579);class S extends f.x{constructor(V){super(),this._value=V}get value(){return this.getValue()}_subscribe(V){const le=super._subscribe(V);return!le.closed&&V.next(this._value),le}getValue(){const{hasError:V,thrownError:le,_value:de}=this;if(V)throw le;return this._throwIfClosed(),de}next(V){super.next(this._value=V)}}},9751:(we,ae,C)=>{C.d(ae,{y:()=>J});var f=C(930),S=C(727),te=C(8822),V=C(9635),le=C(2416),de=C(576),oe=C(2806);let J=(()=>{class ce{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Ie=new ce;return Ie.source=this,Ie.operator=ze,Ie}subscribe(ze,Ie,Ye){const We=function Z(ce){return ce&&ce instanceof f.Lv||function Q(ce){return ce&&(0,de.m)(ce.next)&&(0,de.m)(ce.error)&&(0,de.m)(ce.complete)}(ce)&&(0,S.Nn)(ce)}(ze)?ze:new f.Hp(ze,Ie,Ye);return(0,oe.x)(()=>{const{operator:je,source:gt}=this;We.add(je?je.call(We,gt):gt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Ie){ze.error(Ie)}}forEach(ze,Ie){return new(Ie=he(Ie))((Ye,We)=>{const je=new f.Hp({next:gt=>{try{ze(gt)}catch(xt){We(xt),je.unsubscribe()}},error:We,complete:Ye});this.subscribe(je)})}_subscribe(ze){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(ze)}[te.L](){return this}pipe(...ze){return(0,V.U)(ze)(this)}toPromise(ze){return new(ze=he(ze))((Ie,Ye)=>{let We;this.subscribe(je=>We=je,je=>Ye(je),()=>Ie(We))})}}return ce.create=Le=>new ce(Le),ce})();function he(ce){var Le;return null!==(Le=null!=ce?ce:le.v.Promise)&&void 0!==Le?Le:Promise}},4707:(we,ae,C)=>{C.d(ae,{t:()=>te});var f=C(7579),S=C(6063);class te extends f.x{constructor(le=1/0,de=1/0,oe=S.l){super(),this._bufferSize=le,this._windowTime=de,this._timestampProvider=oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=de===1/0,this._bufferSize=Math.max(1,le),this._windowTime=Math.max(1,de)}next(le){const{isStopped:de,_buffer:oe,_infiniteTimeWindow:J,_timestampProvider:he,_windowTime:Q}=this;de||(oe.push(le),!J&&oe.push(he.now()+Q)),this._trimBuffer(),super.next(le)}_subscribe(le){this._throwIfClosed(),this._trimBuffer();const de=this._innerSubscribe(le),{_infiniteTimeWindow:oe,_buffer:J}=this,he=J.slice();for(let Q=0;Q<he.length&&!le.closed;Q+=oe?1:2)le.next(he[Q]);return this._checkFinalizedStatuses(le),de}_trimBuffer(){const{_bufferSize:le,_timestampProvider:de,_buffer:oe,_infiniteTimeWindow:J}=this,he=(J?1:2)*le;if(le<1/0&&he<oe.length&&oe.splice(0,oe.length-he),!J){const Q=de.now();let Z=0;for(let ce=1;ce<oe.length&&oe[ce]<=Q;ce+=2)Z=ce;Z&&oe.splice(0,Z+1)}}}},7579:(we,ae,C)=>{C.d(ae,{x:()=>oe});var f=C(9751),S=C(727);const V=(0,C(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=C(8737),de=C(2806);let oe=(()=>{class he extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ce=new J(this,this);return ce.operator=Z,ce}_throwIfClosed(){if(this.closed)throw new V}next(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ce=this.observers.slice();for(const Le of ce)Le.next(Z)}})}error(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ce}=this;for(;ce.length;)ce.shift().error(Z)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ce,isStopped:Le,observers:ze}=this;return ce||Le?S.Lc:(ze.push(Z),new S.w0(()=>(0,le.P)(ze,Z)))}_checkFinalizedStatuses(Z){const{hasError:ce,thrownError:Le,isStopped:ze}=this;ce?Z.error(Le):ze&&Z.complete()}asObservable(){const Z=new f.y;return Z.source=this,Z}}return he.create=(Q,Z)=>new J(Q,Z),he})();class J extends oe{constructor(Q,Z){super(),this.destination=Q,this.source=Z}next(Q){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ce||ce.call(Z,Q)}error(Q){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ce||ce.call(Z,Q)}complete(){var Q,Z;null===(Z=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===Z||Z.call(Q)}_subscribe(Q){var Z,ce;return null!==(ce=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Q))&&void 0!==ce?ce:S.Lc}}},930:(we,ae,C)=>{C.d(ae,{Hp:()=>Le,Lv:()=>ce});var f=C(576),S=C(727),te=C(2416),V=C(7849),le=C(5032);const de=he("C",void 0,void 0);function he(je,gt,xt){return{kind:je,value:gt,error:xt}}var Q=C(3410),Z=C(2806);class ce extends S.w0{constructor(gt){super(),this.isStopped=!1,gt?(this.destination=gt,(0,S.Nn)(gt)&&gt.add(this)):this.destination=We}static create(gt,xt,Ge){return new Le(gt,xt,Ge)}next(gt){this.isStopped?Ye(function J(je){return he("N",je,void 0)}(gt),this):this._next(gt)}error(gt){this.isStopped?Ye(function oe(je){return he("E",void 0,je)}(gt),this):(this.isStopped=!0,this._error(gt))}complete(){this.isStopped?Ye(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(gt){this.destination.next(gt)}_error(gt){try{this.destination.error(gt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends ce{constructor(gt,xt,Ge){let Be;if(super(),(0,f.m)(gt))Be=gt;else if(gt){let Dt;({next:Be,error:xt,complete:Ge}=gt),this&&te.v.useDeprecatedNextContext?(Dt=Object.create(gt),Dt.unsubscribe=()=>this.unsubscribe()):Dt=gt,Be=null==Be?void 0:Be.bind(Dt),xt=null==xt?void 0:xt.bind(Dt),Ge=null==Ge?void 0:Ge.bind(Dt)}this.destination={next:Be?ze(Be):le.Z,error:ze(null!=xt?xt:Ie),complete:Ge?ze(Ge):le.Z}}}function ze(je,gt){return(...xt)=>{try{je(...xt)}catch(Ge){te.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ge):(0,V.h)(Ge)}}}function Ie(je){throw je}function Ye(je,gt){const{onStoppedNotification:xt}=te.v;xt&&Q.z.setTimeout(()=>xt(je,gt))}const We={closed:!0,next:le.Z,error:Ie,complete:le.Z}},727:(we,ae,C)=>{C.d(ae,{Lc:()=>de,w0:()=>le,Nn:()=>oe});var f=C(576);const te=(0,C(3888).d)(he=>function(Z){he(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ce,Le)=>`${Le+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var V=C(8737);class le{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ze of Z)ze.remove(this);else Z.remove(this);const{initialTeardown:ce}=this;if((0,f.m)(ce))try{ce()}catch(ze){Q=ze instanceof te?ze.errors:[ze]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const ze of Le)try{J(ze)}catch(Ie){Q=null!=Q?Q:[],Ie instanceof te?Q=[...Q,...Ie.errors]:Q.push(Ie)}}if(Q)throw new te(Q)}}add(Q){var Z;if(Q&&Q!==this)if(this.closed)J(Q);else{if(Q instanceof le){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._teardowns=null!==(Z=this._teardowns)&&void 0!==Z?Z:[]).push(Q)}}_hasParent(Q){const{_parentage:Z}=this;return Z===Q||Array.isArray(Z)&&Z.includes(Q)}_addParent(Q){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Q),Z):Z?[Z,Q]:Q}_removeParent(Q){const{_parentage:Z}=this;Z===Q?this._parentage=null:Array.isArray(Z)&&(0,V.P)(Z,Q)}remove(Q){const{_teardowns:Z}=this;Z&&(0,V.P)(Z,Q),Q instanceof le&&Q._removeParent(this)}}le.EMPTY=(()=>{const he=new le;return he.closed=!0,he})();const de=le.EMPTY;function oe(he){return he instanceof le||he&&"closed"in he&&(0,f.m)(he.remove)&&(0,f.m)(he.add)&&(0,f.m)(he.unsubscribe)}function J(he){(0,f.m)(he)?he():he.unsubscribe()}},2416:(we,ae,C)=>{C.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(we,ae,C)=>{C.d(ae,{c:()=>de});var f=C(9751),S=C(727),te=C(8343),V=C(5403),le=C(4482);class de extends f.y{constructor(J,he){super(),this.source=J,this.subjectFactory=he,this._subject=null,this._refCount=0,this._connection=null,(0,le.A)(J)&&(this.lift=J.lift)}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:J}=this;this._subject=this._connection=null,null==J||J.unsubscribe()}connect(){let J=this._connection;if(!J){J=this._connection=new S.w0;const he=this.getSubject();J.add(this.source.subscribe(new V.Q(he,void 0,()=>{this._teardown(),he.complete()},Q=>{this._teardown(),he.error(Q)},()=>this._teardown()))),J.closed&&(this._connection=null,J=S.w0.EMPTY)}return J}refCount(){return(0,te.x)()(this)}}},9841:(we,ae,C)=>{C.d(ae,{a:()=>Q});var f=C(9751),S=C(4742),te=C(457),V=C(4671),le=C(3268),de=C(3269),oe=C(1810),J=C(5403),he=C(9672);function Q(...Le){const ze=(0,de.yG)(Le),Ie=(0,de.jO)(Le),{args:Ye,keys:We}=(0,S.D)(Le);if(0===Ye.length)return(0,te.D)([],ze);const je=new f.y(function Z(Le,ze,Ie=V.y){return Ye=>{ce(ze,()=>{const{length:We}=Le,je=new Array(We);let gt=We,xt=We;for(let Ge=0;Ge<We;Ge++)ce(ze,()=>{const Be=(0,te.D)(Le[Ge],ze);let Dt=!1;Be.subscribe(new J.Q(Ye,Tt=>{je[Ge]=Tt,Dt||(Dt=!0,xt--),xt||Ye.next(Ie(je.slice()))},()=>{--gt||Ye.complete()}))},Ye)},Ye)}}(Ye,ze,We?gt=>(0,oe.n)(We,gt):V.y));return Ie?je.pipe((0,le.Z)(Ie)):je}function ce(Le,ze,Ie){Le?(0,he.f)(Ie,Le,ze):ze()}},7272:(we,ae,C)=>{C.d(ae,{z:()=>le});var f=C(8189),te=C(3269),V=C(457);function le(...de){return function S(){return(0,f.J)(1)}()((0,V.D)(de,(0,te.yG)(de)))}},9770:(we,ae,C)=>{C.d(ae,{P:()=>te});var f=C(9751),S=C(8421);function te(V){return new f.y(le=>{(0,S.Xf)(V()).subscribe(le)})}},515:(we,ae,C)=>{C.d(ae,{E:()=>S,c:()=>te});var f=C(9751);const S=new f.y(le=>le.complete());function te(le){return le?function V(le){return new f.y(de=>le.schedule(()=>de.complete()))}(le):S}},4128:(we,ae,C)=>{C.d(ae,{D:()=>J});var f=C(9751),S=C(4742),te=C(8421),V=C(3269),le=C(5403),de=C(3268),oe=C(1810);function J(...he){const Q=(0,V.jO)(he),{args:Z,keys:ce}=(0,S.D)(he),Le=new f.y(ze=>{const{length:Ie}=Z;if(!Ie)return void ze.complete();const Ye=new Array(Ie);let We=Ie,je=Ie;for(let gt=0;gt<Ie;gt++){let xt=!1;(0,te.Xf)(Z[gt]).subscribe(new le.Q(ze,Ge=>{xt||(xt=!0,je--),Ye[gt]=Ge},()=>We--,void 0,()=>{(!We||!xt)&&(je||ze.next(ce?(0,oe.n)(ce,Ye):Ye),ze.complete())}))}});return Q?Le.pipe((0,de.Z)(Q)):Le}},457:(we,ae,C)=>{C.d(ae,{D:()=>Dt});var f=C(8421),S=C(5363),te=C(4482);function V(Tt,Wt=0){return(0,te.e)((Ht,Rt)=>{Rt.add(Tt.schedule(()=>Ht.subscribe(Rt),Wt))})}var oe=C(9751),he=C(2202),Q=C(576),Z=C(9672);function Le(Tt,Wt){if(!Tt)throw new Error("Iterable cannot be null");return new oe.y(Ht=>{(0,Z.f)(Ht,Wt,()=>{const Rt=Tt[Symbol.asyncIterator]();(0,Z.f)(Ht,Wt,()=>{Rt.next().then(tt=>{tt.done?Ht.complete():Ht.next(tt.value)})},0,!0)})})}var ze=C(3670),Ie=C(8239),Ye=C(1144),We=C(6495),je=C(2206),gt=C(4532),xt=C(3260);function Dt(Tt,Wt){return Wt?function Be(Tt,Wt){if(null!=Tt){if((0,ze.c)(Tt))return function le(Tt,Wt){return(0,f.Xf)(Tt).pipe(V(Wt),(0,S.Q)(Wt))}(Tt,Wt);if((0,Ye.z)(Tt))return function J(Tt,Wt){return new oe.y(Ht=>{let Rt=0;return Wt.schedule(function(){Rt===Tt.length?Ht.complete():(Ht.next(Tt[Rt++]),Ht.closed||this.schedule())})})}(Tt,Wt);if((0,Ie.t)(Tt))return function de(Tt,Wt){return(0,f.Xf)(Tt).pipe(V(Wt),(0,S.Q)(Wt))}(Tt,Wt);if((0,je.D)(Tt))return Le(Tt,Wt);if((0,We.T)(Tt))return function ce(Tt,Wt){return new oe.y(Ht=>{let Rt;return(0,Z.f)(Ht,Wt,()=>{Rt=Tt[he.h](),(0,Z.f)(Ht,Wt,()=>{let tt,Ze;try{({value:tt,done:Ze}=Rt.next())}catch(at){return void Ht.error(at)}Ze?Ht.complete():Ht.next(tt)},0,!0)}),()=>(0,Q.m)(null==Rt?void 0:Rt.return)&&Rt.return()})}(Tt,Wt);if((0,xt.L)(Tt))return function Ge(Tt,Wt){return Le((0,xt.Q)(Tt),Wt)}(Tt,Wt)}throw(0,gt.z)(Tt)}(Tt,Wt):(0,f.Xf)(Tt)}},4968:(we,ae,C)=>{C.d(ae,{R:()=>Q});var f=C(8421),S=C(9751),te=C(5577),V=C(1144),le=C(576),de=C(3268);const oe=["addListener","removeListener"],J=["addEventListener","removeEventListener"],he=["on","off"];function Q(Ie,Ye,We,je){if((0,le.m)(We)&&(je=We,We=void 0),je)return Q(Ie,Ye,We).pipe((0,de.Z)(je));const[gt,xt]=function ze(Ie){return(0,le.m)(Ie.addEventListener)&&(0,le.m)(Ie.removeEventListener)}(Ie)?J.map(Ge=>Be=>Ie[Ge](Ye,Be,We)):function ce(Ie){return(0,le.m)(Ie.addListener)&&(0,le.m)(Ie.removeListener)}(Ie)?oe.map(Z(Ie,Ye)):function Le(Ie){return(0,le.m)(Ie.on)&&(0,le.m)(Ie.off)}(Ie)?he.map(Z(Ie,Ye)):[];if(!gt&&(0,V.z)(Ie))return(0,te.z)(Ge=>Q(Ge,Ye,We))((0,f.Xf)(Ie));if(!gt)throw new TypeError("Invalid event target");return new S.y(Ge=>{const Be=(...Dt)=>Ge.next(1<Dt.length?Dt:Dt[0]);return gt(Be),()=>xt(Be)})}function Z(Ie,Ye){return We=>je=>Ie[We](Ye,je)}},8421:(we,ae,C)=>{C.d(ae,{Xf:()=>Le});var f=C(655),S=C(1144),te=C(8239),V=C(9751),le=C(3670),de=C(2206),oe=C(4532),J=C(6495),he=C(3260),Q=C(576),Z=C(7849),ce=C(8822);function Le(Ge){if(Ge instanceof V.y)return Ge;if(null!=Ge){if((0,le.c)(Ge))return function ze(Ge){return new V.y(Be=>{const Dt=Ge[ce.L]();if((0,Q.m)(Dt.subscribe))return Dt.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,S.z)(Ge))return function Ie(Ge){return new V.y(Be=>{for(let Dt=0;Dt<Ge.length&&!Be.closed;Dt++)Be.next(Ge[Dt]);Be.complete()})}(Ge);if((0,te.t)(Ge))return function Ye(Ge){return new V.y(Be=>{Ge.then(Dt=>{Be.closed||(Be.next(Dt),Be.complete())},Dt=>Be.error(Dt)).then(null,Z.h)})}(Ge);if((0,de.D)(Ge))return je(Ge);if((0,J.T)(Ge))return function We(Ge){return new V.y(Be=>{for(const Dt of Ge)if(Be.next(Dt),Be.closed)return;Be.complete()})}(Ge);if((0,he.L)(Ge))return function gt(Ge){return je((0,he.Q)(Ge))}(Ge)}throw(0,oe.z)(Ge)}function je(Ge){return new V.y(Be=>{(function xt(Ge,Be){var Dt,Tt,Wt,Ht;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Dt=(0,f.KL)(Ge);!(Tt=yield Dt.next()).done;)if(Be.next(Tt.value),Be.closed)return}catch(Rt){Wt={error:Rt}}finally{try{Tt&&!Tt.done&&(Ht=Dt.return)&&(yield Ht.call(Dt))}finally{if(Wt)throw Wt.error}}Be.complete()})})(Ge,Be).catch(Dt=>Be.error(Dt))})}},6451:(we,ae,C)=>{C.d(ae,{T:()=>de});var f=C(8189),S=C(8421),te=C(515),V=C(3269),le=C(457);function de(...oe){const J=(0,V.yG)(oe),he=(0,V._6)(oe,1/0),Q=oe;return Q.length?1===Q.length?(0,S.Xf)(Q[0]):(0,f.J)(he)((0,le.D)(Q,J)):te.E}},9646:(we,ae,C)=>{C.d(ae,{of:()=>te});var f=C(3269),S=C(457);function te(...V){const le=(0,f.yG)(V);return(0,S.D)(V,le)}},2843:(we,ae,C)=>{C.d(ae,{_:()=>te});var f=C(9751),S=C(576);function te(V,le){const de=(0,S.m)(V)?V:()=>V,oe=J=>J.error(de());return new f.y(le?J=>le.schedule(oe,0,J):oe)}},2805:(we,ae,C)=>{C.d(ae,{H:()=>le});var f=C(9751),S=C(4986),te=C(3532),V=C(1165);function le(de=0,oe,J=S.P){let he=-1;return null!=oe&&((0,te.K)(oe)?J=oe:he=oe),new f.y(Q=>{let Z=(0,V.q)(de)?+de-J.now():de;Z<0&&(Z=0);let ce=0;return J.schedule(function(){Q.closed||(Q.next(ce++),0<=he?this.schedule(void 0,he):Q.complete())},Z)})}},5403:(we,ae,C)=>{C.d(ae,{Q:()=>S});var f=C(930);class S extends f.Lv{constructor(V,le,de,oe,J){super(V),this.onFinalize=J,this._next=le?function(he){try{le(he)}catch(Q){V.error(Q)}}:super._next,this._error=oe?function(he){try{oe(he)}catch(Q){V.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(he){V.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;const{closed:le}=this;super.unsubscribe(),!le&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}},262:(we,ae,C)=>{C.d(ae,{K:()=>V});var f=C(8421),S=C(5403),te=C(4482);function V(le){return(0,te.e)((de,oe)=>{let Q,J=null,he=!1;J=de.subscribe(new S.Q(oe,void 0,void 0,Z=>{Q=(0,f.Xf)(le(Z,V(le)(de))),J?(J.unsubscribe(),J=null,Q.subscribe(oe)):he=!0})),he&&(J.unsubscribe(),J=null,Q.subscribe(oe))})}},4351:(we,ae,C)=>{C.d(ae,{b:()=>te});var f=C(5577),S=C(576);function te(V,le){return(0,S.m)(le)?(0,f.z)(V,le,1):(0,f.z)(V,1)}},8372:(we,ae,C)=>{C.d(ae,{b:()=>V});var f=C(4986),S=C(4482),te=C(5403);function V(le,de=f.z){return(0,S.e)((oe,J)=>{let he=null,Q=null,Z=null;const ce=()=>{if(he){he.unsubscribe(),he=null;const ze=Q;Q=null,J.next(ze)}};function Le(){const ze=Z+le,Ie=de.now();if(Ie<ze)return he=this.schedule(void 0,ze-Ie),void J.add(he);ce()}oe.subscribe(new te.Q(J,ze=>{Q=ze,Z=de.now(),he||(he=de.schedule(Le,le),J.add(he))},()=>{ce(),J.complete()},void 0,()=>{Q=he=null}))})}},6590:(we,ae,C)=>{C.d(ae,{d:()=>te});var f=C(4482),S=C(5403);function te(V){return(0,f.e)((le,de)=>{let oe=!1;le.subscribe(new S.Q(de,J=>{oe=!0,de.next(J)},()=>{oe||de.next(V),de.complete()}))})}},4086:(we,ae,C)=>{C.d(ae,{g:()=>he});var f=C(4986),S=C(7272),te=C(5698),V=C(8502),le=C(9718),de=C(5577);function oe(Q,Z){return Z?ce=>(0,S.z)(Z.pipe((0,te.q)(1),(0,V.l)()),ce.pipe(oe(Q))):(0,de.z)((ce,Le)=>Q(ce,Le).pipe((0,te.q)(1),(0,le.h)(ce)))}var J=C(2805);function he(Q,Z=f.z){const ce=(0,J.H)(Q,Z);return oe(()=>ce)}},1884:(we,ae,C)=>{C.d(ae,{x:()=>V});var f=C(4671),S=C(4482),te=C(5403);function V(de,oe=f.y){return de=null!=de?de:le,(0,S.e)((J,he)=>{let Q,Z=!0;J.subscribe(new te.Q(he,ce=>{const Le=oe(ce);(Z||!de(Q,Le))&&(Z=!1,Q=Le,he.next(ce))}))})}function le(de,oe){return de===oe}},6129:(we,ae,C)=>{C.d(ae,{z:()=>le});var f=C(4004),S=C(8421),te=C(4482),V=C(5403);function le(de,oe){return oe?J=>J.pipe(le((he,Q)=>(0,S.Xf)(de(he,Q)).pipe((0,f.U)((Z,ce)=>oe(he,Z,Q,ce))))):(0,te.e)((J,he)=>{let Q=0,Z=null,ce=!1;J.subscribe(new V.Q(he,Le=>{Z||(Z=new V.Q(he,void 0,()=>{Z=null,ce&&he.complete()}),(0,S.Xf)(de(Le,Q++)).subscribe(Z))},()=>{ce=!0,!Z&&he.complete()}))})}},9300:(we,ae,C)=>{C.d(ae,{h:()=>te});var f=C(4482),S=C(5403);function te(V,le){return(0,f.e)((de,oe)=>{let J=0;de.subscribe(new S.Q(oe,he=>V.call(le,he,J++)&&oe.next(he)))})}},8746:(we,ae,C)=>{C.d(ae,{x:()=>S});var f=C(4482);function S(te){return(0,f.e)((V,le)=>{try{V.subscribe(le)}finally{le.add(te)}})}},590:(we,ae,C)=>{C.d(ae,{P:()=>oe});var f=C(6805),S=C(9300),te=C(5698),V=C(6590),le=C(8068),de=C(4671);function oe(J,he){const Q=arguments.length>=2;return Z=>Z.pipe(J?(0,S.h)((ce,Le)=>J(ce,Le,Z)):de.y,(0,te.q)(1),Q?(0,V.d)(he):(0,le.T)(()=>new f.K))}},8502:(we,ae,C)=>{C.d(ae,{l:()=>V});var f=C(4482),S=C(5403),te=C(5032);function V(){return(0,f.e)((le,de)=>{le.subscribe(new S.Q(de,te.Z))})}},3103:(we,ae,C)=>{C.d(ae,{Z:()=>oe});var f=C(6805),S=C(9300),te=C(2035),V=C(8068),le=C(6590),de=C(4671);function oe(J,he){const Q=arguments.length>=2;return Z=>Z.pipe(J?(0,S.h)((ce,Le)=>J(ce,Le,Z)):de.y,(0,te.h)(1),Q?(0,le.d)(he):(0,V.T)(()=>new f.K))}},4004:(we,ae,C)=>{C.d(ae,{U:()=>te});var f=C(4482),S=C(5403);function te(V,le){return(0,f.e)((de,oe)=>{let J=0;de.subscribe(new S.Q(oe,he=>{oe.next(V.call(le,he,J++))}))})}},9718:(we,ae,C)=>{C.d(ae,{h:()=>S});var f=C(4004);function S(te){return(0,f.U)(()=>te)}},8189:(we,ae,C)=>{C.d(ae,{J:()=>te});var f=C(5577),S=C(4671);function te(V=1/0){return(0,f.z)(S.y,V)}},5577:(we,ae,C)=>{C.d(ae,{z:()=>J});var f=C(4004),S=C(8421),te=C(4482),V=C(9672),le=C(5403),oe=C(576);function J(he,Q,Z=1/0){return(0,oe.m)(Q)?J((ce,Le)=>(0,f.U)((ze,Ie)=>Q(ce,ze,Le,Ie))((0,S.Xf)(he(ce,Le))),Z):("number"==typeof Q&&(Z=Q),(0,te.e)((ce,Le)=>function de(he,Q,Z,ce,Le,ze,Ie,Ye){const We=[];let je=0,gt=0,xt=!1;const Ge=()=>{xt&&!We.length&&!je&&Q.complete()},Be=Tt=>je<ce?Dt(Tt):We.push(Tt),Dt=Tt=>{ze&&Q.next(Tt),je++;let Wt=!1;(0,S.Xf)(Z(Tt,gt++)).subscribe(new le.Q(Q,Ht=>{null==Le||Le(Ht),ze?Be(Ht):Q.next(Ht)},()=>{Wt=!0},void 0,()=>{if(Wt)try{for(je--;We.length&&je<ce;){const Ht=We.shift();Ie?(0,V.f)(Q,Ie,()=>Dt(Ht)):Dt(Ht)}Ge()}catch(Ht){Q.error(Ht)}}))};return he.subscribe(new le.Q(Q,Be,()=>{xt=!0,Ge()})),()=>{null==Ye||Ye()}}(ce,Le,he,Z)))}},5363:(we,ae,C)=>{C.d(ae,{Q:()=>V});var f=C(9672),S=C(4482),te=C(5403);function V(le,de=0){return(0,S.e)((oe,J)=>{oe.subscribe(new te.Q(J,he=>(0,f.f)(J,le,()=>J.next(he),de),()=>(0,f.f)(J,le,()=>J.complete(),de),he=>(0,f.f)(J,le,()=>J.error(he),de)))})}},4813:(we,ae,C)=>{C.d(ae,{j:()=>S});var f=C(4004);function S(...te){const V=te.length;if(0===V)throw new Error("list of properties cannot be empty.");return(0,f.U)(le=>{let de=le;for(let oe=0;oe<V;oe++){const J=null==de?void 0:de[te[oe]];if(void 0===J)return;de=J}return de})}},8646:(we,ae,C)=>{C.d(ae,{n:()=>Z});var f=C(7579),S=C(4033),te=C(576),V=C(457),le=C(4482),de=C(9751);const J={connector:()=>new f.x};function he(ce,Le=J){const{connector:ze}=Le;return(0,le.e)((Ie,Ye)=>{const We=ze();(0,V.D)(ce(function oe(ce){return new de.y(Le=>ce.subscribe(Le))}(We))).subscribe(Ye),Ye.add(Ie.subscribe(We))})}function Z(ce){return ce?Le=>he(ce)(Le):Le=>function Q(ce,Le){const ze=(0,te.m)(ce)?ce:()=>ce;return(0,te.m)(Le)?he(Le,{connector:ze}):Ie=>new S.c(Ie,ze)}(new f.x)(Le)}},8343:(we,ae,C)=>{C.d(ae,{x:()=>te});var f=C(4482),S=C(5403);function te(){return(0,f.e)((V,le)=>{let de=null;V._refCount++;const oe=new S.Q(le,void 0,void 0,void 0,()=>{if(!V||V._refCount<=0||0<--V._refCount)return void(de=null);const J=V._connection,he=de;de=null,J&&(!he||J===he)&&J.unsubscribe(),le.unsubscribe()});V.subscribe(oe),oe.closed||(de=V.connect())})}},5625:(we,ae,C)=>{C.d(ae,{X:()=>de});var f=C(4482),S=C(5403),te=C(4671),V=C(2805),le=C(8421);function de(oe=1/0){let J;J=oe&&"object"==typeof oe?oe:{count:oe};const{count:he=1/0,delay:Q,resetOnSuccess:Z=!1}=J;return he<=0?te.y:(0,f.e)((ce,Le)=>{let Ie,ze=0;const Ye=()=>{let We=!1;Ie=ce.subscribe(new S.Q(Le,je=>{Z&&(ze=0),Le.next(je)},void 0,je=>{if(ze++<he){const gt=()=>{Ie?(Ie.unsubscribe(),Ie=null,Ye()):We=!0};if(null!=Q){const xt="number"==typeof Q?(0,V.H)(Q):(0,le.Xf)(Q(je,ze)),Ge=new S.Q(Le,()=>{Ge.unsubscribe(),gt()},()=>{Le.complete()});xt.subscribe(Ge)}else gt()}else Le.error(je)})),We&&(Ie.unsubscribe(),Ie=null,Ye())};Ye()})}},5026:(we,ae,C)=>{C.d(ae,{R:()=>V});var f=C(4482),S=C(5403);function te(le,de,oe,J,he){return(Q,Z)=>{let ce=oe,Le=de,ze=0;Q.subscribe(new S.Q(Z,Ie=>{const Ye=ze++;Le=ce?le(Le,Ie,Ye):(ce=!0,Ie),J&&Z.next(Le)},he&&(()=>{ce&&Z.next(Le),Z.complete()})))}}function V(le,de){return(0,f.e)(te(le,de,arguments.length>=2,!0))}},3099:(we,ae,C)=>{C.d(ae,{B:()=>de});var f=C(457),S=C(5698),te=C(7579),V=C(930),le=C(4482);function de(J={}){const{connector:he=(()=>new te.x),resetOnError:Q=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ce=!0}=J;return Le=>{let ze=null,Ie=null,Ye=null,We=0,je=!1,gt=!1;const xt=()=>{null==Ie||Ie.unsubscribe(),Ie=null},Ge=()=>{xt(),ze=Ye=null,je=gt=!1},Be=()=>{const Dt=ze;Ge(),null==Dt||Dt.unsubscribe()};return(0,le.e)((Dt,Tt)=>{We++,!gt&&!je&&xt();const Wt=Ye=null!=Ye?Ye:he();Tt.add(()=>{We--,0===We&&!gt&&!je&&(Ie=oe(Be,ce))}),Wt.subscribe(Tt),ze||(ze=new V.Hp({next:Ht=>Wt.next(Ht),error:Ht=>{gt=!0,xt(),Ie=oe(Ge,Q,Ht),Wt.error(Ht)},complete:()=>{je=!0,xt(),Ie=oe(Ge,Z),Wt.complete()}}),(0,f.D)(Dt).subscribe(ze))})(Le)}}function oe(J,he,...Q){return!0===he?(J(),null):!1===he?null:he(...Q).pipe((0,S.q)(1)).subscribe(()=>J())}},5684:(we,ae,C)=>{C.d(ae,{T:()=>S});var f=C(9300);function S(te){return(0,f.h)((V,le)=>te<=le)}},8675:(we,ae,C)=>{C.d(ae,{O:()=>V});var f=C(7272),S=C(3269),te=C(4482);function V(...le){const de=(0,S.yG)(le);return(0,te.e)((oe,J)=>{(de?(0,f.z)(le,oe,de):(0,f.z)(le,oe)).subscribe(J)})}},3900:(we,ae,C)=>{C.d(ae,{w:()=>V});var f=C(8421),S=C(4482),te=C(5403);function V(le,de){return(0,S.e)((oe,J)=>{let he=null,Q=0,Z=!1;const ce=()=>Z&&!he&&J.complete();oe.subscribe(new te.Q(J,Le=>{null==he||he.unsubscribe();let ze=0;const Ie=Q++;(0,f.Xf)(le(Le,Ie)).subscribe(he=new te.Q(J,Ye=>J.next(de?de(Le,Ye,Ie,ze++):Ye),()=>{he=null,ce()}))},()=>{Z=!0,ce()}))})}},5698:(we,ae,C)=>{C.d(ae,{q:()=>V});var f=C(515),S=C(4482),te=C(5403);function V(le){return le<=0?()=>f.E:(0,S.e)((de,oe)=>{let J=0;de.subscribe(new te.Q(oe,he=>{++J<=le&&(oe.next(he),le<=J&&oe.complete())}))})}},2035:(we,ae,C)=>{C.d(ae,{h:()=>V});var f=C(515),S=C(4482),te=C(5403);function V(le){return le<=0?()=>f.E:(0,S.e)((de,oe)=>{let J=[];de.subscribe(new te.Q(oe,he=>{J.push(he),le<J.length&&J.shift()},()=>{for(const he of J)oe.next(he);oe.complete()},void 0,()=>{J=null}))})}},2722:(we,ae,C)=>{C.d(ae,{R:()=>le});var f=C(4482),S=C(5403),te=C(8421),V=C(5032);function le(de){return(0,f.e)((oe,J)=>{(0,te.Xf)(de).subscribe(new S.Q(J,()=>J.complete(),V.Z)),!J.closed&&oe.subscribe(J)})}},2529:(we,ae,C)=>{C.d(ae,{o:()=>te});var f=C(4482),S=C(5403);function te(V,le=!1){return(0,f.e)((de,oe)=>{let J=0;de.subscribe(new S.Q(oe,he=>{const Q=V(he,J++);(Q||le)&&oe.next(he),!Q&&oe.complete()}))})}},8505:(we,ae,C)=>{C.d(ae,{b:()=>le});var f=C(576),S=C(4482),te=C(5403),V=C(4671);function le(de,oe,J){const he=(0,f.m)(de)||oe||J?{next:de,error:oe,complete:J}:de;return he?(0,S.e)((Q,Z)=>{var ce;null===(ce=he.subscribe)||void 0===ce||ce.call(he);let Le=!0;Q.subscribe(new te.Q(Z,ze=>{var Ie;null===(Ie=he.next)||void 0===Ie||Ie.call(he,ze),Z.next(ze)},()=>{var ze;Le=!1,null===(ze=he.complete)||void 0===ze||ze.call(he),Z.complete()},ze=>{var Ie;Le=!1,null===(Ie=he.error)||void 0===Ie||Ie.call(he,ze),Z.error(ze)},()=>{var ze,Ie;Le&&(null===(ze=he.unsubscribe)||void 0===ze||ze.call(he)),null===(Ie=he.finalize)||void 0===Ie||Ie.call(he)}))}):V.y}},9468:(we,ae,C)=>{C.d(ae,{p:()=>J});var f=C(4986),S=C(4482),te=C(5403),V=C(8421);const le={leading:!0,trailing:!1};var oe=C(2805);function J(he,Q=f.z,Z=le){const ce=(0,oe.H)(he,Q);return function de(he,Q=le){return(0,S.e)((Z,ce)=>{const{leading:Le,trailing:ze}=Q;let Ie=!1,Ye=null,We=null,je=!1;const gt=()=>{null==We||We.unsubscribe(),We=null,ze&&(Be(),je&&ce.complete())},xt=()=>{We=null,je&&ce.complete()},Ge=Dt=>We=(0,V.Xf)(he(Dt)).subscribe(new te.Q(ce,gt,xt)),Be=()=>{if(Ie){Ie=!1;const Dt=Ye;Ye=null,ce.next(Dt),!je&&Ge(Dt)}};Z.subscribe(new te.Q(ce,Dt=>{Ie=!0,Ye=Dt,(!We||We.closed)&&(Le?Be():Ge(Dt))},()=>{je=!0,(!(ze&&Ie&&We)||We.closed)&&ce.complete()}))})}(()=>ce,Z)}},8068:(we,ae,C)=>{C.d(ae,{T:()=>V});var f=C(6805),S=C(4482),te=C(5403);function V(de=le){return(0,S.e)((oe,J)=>{let he=!1;oe.subscribe(new te.Q(J,Q=>{he=!0,J.next(Q)},()=>he?J.complete():J.error(de())))})}function le(){return new f.K}},7414:(we,ae,C)=>{C.d(ae,{V:()=>he});var f=C(4986),S=C(1165),te=C(4482),V=C(8421),le=C(3888),de=C(5403),oe=C(9672);const J=(0,le.d)(Z=>function(Le=null){Z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Le});function he(Z,ce){const{first:Le,each:ze,with:Ie=Q,scheduler:Ye=(null!=ce?ce:f.z),meta:We=null}=(0,S.q)(Z)?{first:Z}:"number"==typeof Z?{each:Z}:Z;if(null==Le&&null==ze)throw new TypeError("No timeout provided.");return(0,te.e)((je,gt)=>{let xt,Ge,Be=null,Dt=0;const Tt=Wt=>{Ge=(0,oe.f)(gt,Ye,()=>{try{xt.unsubscribe(),(0,V.Xf)(Ie({meta:We,lastValue:Be,seen:Dt})).subscribe(gt)}catch(Ht){gt.error(Ht)}},Wt)};xt=je.subscribe(new de.Q(gt,Wt=>{null==Ge||Ge.unsubscribe(),Dt++,gt.next(Be=Wt),ze>0&&Tt(ze)},void 0,void 0,()=>{null!=Ge&&Ge.closed||null==Ge||Ge.unsubscribe(),Be=null})),Tt(null!=Le?"number"==typeof Le?Le:+Le-Ye.now():ze)})}function Q(Z){throw new J(Z)}},1365:(we,ae,C)=>{C.d(ae,{M:()=>oe});var f=C(4482),S=C(5403),te=C(8421),V=C(4671),le=C(5032),de=C(3269);function oe(...J){const he=(0,de.jO)(J);return(0,f.e)((Q,Z)=>{const ce=J.length,Le=new Array(ce);let ze=J.map(()=>!1),Ie=!1;for(let Ye=0;Ye<ce;Ye++)(0,te.Xf)(J[Ye]).subscribe(new S.Q(Z,We=>{Le[Ye]=We,!Ie&&!ze[Ye]&&(ze[Ye]=!0,(Ie=ze.every(V.y))&&(ze=null))},le.Z));Q.subscribe(new S.Q(Z,Ye=>{if(Ie){const We=[Ye,...Le];Z.next(he?he(...We):We)}}))})}},4408:(we,ae,C)=>{C.d(ae,{o:()=>le});var f=C(727);class S extends f.w0{constructor(oe,J){super()}schedule(oe,J=0){return this}}const te={setInterval(...de){const{delegate:oe}=te;return((null==oe?void 0:oe.setInterval)||setInterval)(...de)},clearInterval(de){const{delegate:oe}=te;return((null==oe?void 0:oe.clearInterval)||clearInterval)(de)},delegate:void 0};var V=C(8737);class le extends S{constructor(oe,J){super(oe,J),this.scheduler=oe,this.work=J,this.pending=!1}schedule(oe,J=0){if(this.closed)return this;this.state=oe;const he=this.id,Q=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(Q,he,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(Q,this.id,J),this}requestAsyncId(oe,J,he=0){return te.setInterval(oe.flush.bind(oe,this),he)}recycleAsyncId(oe,J,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return J;te.clearInterval(J)}execute(oe,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(oe,J);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,J){let Q,he=!1;try{this.work(oe)}catch(Z){he=!0,Q=Z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:oe,scheduler:J}=this,{actions:he}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,V.P)(he,this),null!=oe&&(this.id=this.recycleAsyncId(J,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(we,ae,C)=>{C.d(ae,{v:()=>te});var f=C(6063);class S{constructor(le,de=S.now){this.schedulerActionCtor=le,this.now=de}schedule(le,de=0,oe){return new this.schedulerActionCtor(this,le).schedule(oe,de)}}S.now=f.l.now;class te extends S{constructor(le,de=S.now){super(le,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:de}=this;if(this._active)return void de.push(le);let oe;this._active=!0;do{if(oe=le.execute(le.state,le.delay))break}while(le=de.shift());if(this._active=!1,oe){for(;le=de.shift();)le.unsubscribe();throw oe}}}},4986:(we,ae,C)=>{C.d(ae,{P:()=>V,z:()=>te});var f=C(4408);const te=new(C(7565).v)(f.o),V=te},6063:(we,ae,C)=>{C.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(we,ae,C)=>{C.d(ae,{N:()=>le});var f=C(4408),te=C(7565);const le=new class V extends te.v{}(class S extends f.o{constructor(J,he){super(J,he),this.scheduler=J,this.work=he}schedule(J,he=0){return he>0?super.schedule(J,he):(this.delay=he,this.state=J,this.scheduler.flush(this),this)}execute(J,he){return he>0||this.closed?super.execute(J,he):this._execute(J,he)}requestAsyncId(J,he,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(J,he,Q):J.flush(this)}})},3410:(we,ae,C)=>{C.d(ae,{z:()=>f});const f={setTimeout(...S){const{delegate:te}=f;return((null==te?void 0:te.setTimeout)||setTimeout)(...S)},clearTimeout(S){const{delegate:te}=f;return((null==te?void 0:te.clearTimeout)||clearTimeout)(S)},delegate:void 0}},2202:(we,ae,C)=>{C.d(ae,{h:()=>S});const S=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(we,ae,C)=>{C.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(we,ae,C)=>{C.d(ae,{K:()=>S});const S=(0,C(3888).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(we,ae,C)=>{C.d(ae,{_6:()=>de,jO:()=>V,yG:()=>le});var f=C(576),S=C(3532);function te(oe){return oe[oe.length-1]}function V(oe){return(0,f.m)(te(oe))?oe.pop():void 0}function le(oe){return(0,S.K)(te(oe))?oe.pop():void 0}function de(oe,J){return"number"==typeof te(oe)?oe.pop():J}},4742:(we,ae,C)=>{C.d(ae,{D:()=>le});const{isArray:f}=Array,{getPrototypeOf:S,prototype:te,keys:V}=Object;function le(oe){if(1===oe.length){const J=oe[0];if(f(J))return{args:J,keys:null};if(function de(oe){return oe&&"object"==typeof oe&&S(oe)===te}(J)){const he=V(J);return{args:he.map(Q=>J[Q]),keys:he}}}return{args:oe,keys:null}}},8737:(we,ae,C)=>{function f(S,te){if(S){const V=S.indexOf(te);0<=V&&S.splice(V,1)}}C.d(ae,{P:()=>f})},3888:(we,ae,C)=>{function f(S){const V=S(le=>{Error.call(le),le.stack=(new Error).stack});return V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V}C.d(ae,{d:()=>f})},1810:(we,ae,C)=>{function f(S,te){return S.reduce((V,le,de)=>(V[le]=te[de],V),{})}C.d(ae,{n:()=>f})},2806:(we,ae,C)=>{C.d(ae,{O:()=>V,x:()=>te});var f=C(2416);let S=null;function te(le){if(f.v.useDeprecatedSynchronousErrorHandling){const de=!S;if(de&&(S={errorThrown:!1,error:null}),le(),de){const{errorThrown:oe,error:J}=S;if(S=null,oe)throw J}}else le()}function V(le){f.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=le)}},9672:(we,ae,C)=>{function f(S,te,V,le=0,de=!1){const oe=te.schedule(function(){V(),de?S.add(this.schedule(null,le)):this.unsubscribe()},le);if(S.add(oe),!de)return oe}C.d(ae,{f:()=>f})},4671:(we,ae,C)=>{function f(S){return S}C.d(ae,{y:()=>f})},1144:(we,ae,C)=>{C.d(ae,{z:()=>f});const f=S=>S&&"number"==typeof S.length&&"function"!=typeof S},2206:(we,ae,C)=>{C.d(ae,{D:()=>S});var f=C(576);function S(te){return Symbol.asyncIterator&&(0,f.m)(null==te?void 0:te[Symbol.asyncIterator])}},1165:(we,ae,C)=>{function f(S){return S instanceof Date&&!isNaN(S)}C.d(ae,{q:()=>f})},576:(we,ae,C)=>{function f(S){return"function"==typeof S}C.d(ae,{m:()=>f})},3670:(we,ae,C)=>{C.d(ae,{c:()=>te});var f=C(8822),S=C(576);function te(V){return(0,S.m)(V[f.L])}},6495:(we,ae,C)=>{C.d(ae,{T:()=>te});var f=C(2202),S=C(576);function te(V){return(0,S.m)(null==V?void 0:V[f.h])}},8239:(we,ae,C)=>{C.d(ae,{t:()=>S});var f=C(576);function S(te){return(0,f.m)(null==te?void 0:te.then)}},3260:(we,ae,C)=>{C.d(ae,{L:()=>V,Q:()=>te});var f=C(655),S=C(576);function te(le){return(0,f.FC)(this,arguments,function*(){const oe=le.getReader();try{for(;;){const{value:J,done:he}=yield(0,f.qq)(oe.read());if(he)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(J)}}finally{oe.releaseLock()}})}function V(le){return(0,S.m)(null==le?void 0:le.getReader)}},3532:(we,ae,C)=>{C.d(ae,{K:()=>S});var f=C(576);function S(te){return te&&(0,f.m)(te.schedule)}},4482:(we,ae,C)=>{C.d(ae,{A:()=>S,e:()=>te});var f=C(576);function S(V){return(0,f.m)(null==V?void 0:V.lift)}function te(V){return le=>{if(S(le))return le.lift(function(de){try{return V(de,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(we,ae,C)=>{C.d(ae,{Z:()=>V});var f=C(4004);const{isArray:S}=Array;function V(le){return(0,f.U)(de=>function te(le,de){return S(de)?le(...de):le(de)}(le,de))}},5032:(we,ae,C)=>{function f(){}C.d(ae,{Z:()=>f})},9635:(we,ae,C)=>{C.d(ae,{U:()=>te,z:()=>S});var f=C(4671);function S(...V){return te(V)}function te(V){return 0===V.length?f.y:1===V.length?V[0]:function(de){return V.reduce((oe,J)=>J(oe),de)}}},7849:(we,ae,C)=>{C.d(ae,{h:()=>te});var f=C(2416),S=C(3410);function te(V){S.z.setTimeout(()=>{const{onUnhandledError:le}=f.v;if(!le)throw V;le(V)})}},4532:(we,ae,C)=>{function f(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ae,{z:()=>f})},655:(we,ae,C)=>{function V(tt,Ze){var at={};for(var et in tt)Object.prototype.hasOwnProperty.call(tt,et)&&Ze.indexOf(et)<0&&(at[et]=tt[et]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var Nt=0;for(et=Object.getOwnPropertySymbols(tt);Nt<et.length;Nt++)Ze.indexOf(et[Nt])<0&&Object.prototype.propertyIsEnumerable.call(tt,et[Nt])&&(at[et[Nt]]=tt[et[Nt]])}return at}function le(tt,Ze,at,et){var ht,Nt=arguments.length,bt=Nt<3?Ze:null===et?et=Object.getOwnPropertyDescriptor(Ze,at):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bt=Reflect.decorate(tt,Ze,at,et);else for(var Un=tt.length-1;Un>=0;Un--)(ht=tt[Un])&&(bt=(Nt<3?ht(bt):Nt>3?ht(Ze,at,bt):ht(Ze,at))||bt);return Nt>3&&bt&&Object.defineProperty(Ze,at,bt),bt}function J(tt,Ze,at,et){return new(at||(at=Promise))(function(bt,ht){function Un(fr){try{Mt(et.next(fr))}catch(Br){ht(Br)}}function Kt(fr){try{Mt(et.throw(fr))}catch(Br){ht(Br)}}function Mt(fr){fr.done?bt(fr.value):function Nt(bt){return bt instanceof at?bt:new at(function(ht){ht(bt)})}(fr.value).then(Un,Kt)}Mt((et=et.apply(tt,Ze||[])).next())})}function We(tt){return this instanceof We?(this.v=tt,this):new We(tt)}function je(tt,Ze,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,et=at.apply(tt,Ze||[]),bt=[];return Nt={},ht("next"),ht("throw"),ht("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt;function ht(Ir){et[Ir]&&(Nt[Ir]=function(nr){return new Promise(function(kr,dr){bt.push([Ir,nr,kr,dr])>1||Un(Ir,nr)})})}function Un(Ir,nr){try{!function Kt(Ir){Ir.value instanceof We?Promise.resolve(Ir.value.v).then(Mt,fr):Br(bt[0][2],Ir)}(et[Ir](nr))}catch(kr){Br(bt[0][3],kr)}}function Mt(Ir){Un("next",Ir)}function fr(Ir){Un("throw",Ir)}function Br(Ir,nr){Ir(nr),bt.shift(),bt.length&&Un(bt[0][0],bt[0][1])}}function xt(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Ze=tt[Symbol.asyncIterator];return Ze?Ze.call(tt):(tt=function ce(tt){var Ze="function"==typeof Symbol&&Symbol.iterator,at=Ze&&tt[Ze],et=0;if(at)return at.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&et>=tt.length&&(tt=void 0),{value:tt&&tt[et++],done:!tt}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),at={},et("next"),et("throw"),et("return"),at[Symbol.asyncIterator]=function(){return this},at);function et(bt){at[bt]=tt[bt]&&function(ht){return new Promise(function(Un,Kt){!function Nt(bt,ht,Un,Kt){Promise.resolve(Kt).then(function(Mt){bt({value:Mt,done:Un})},ht)}(Un,Kt,(ht=tt[bt](ht)).done,ht.value)})}}}function Wt(tt,Ze,at,et){if("a"===at&&!et)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ze?tt!==Ze||!et:!Ze.has(tt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===at?et:"a"===at?et.call(tt):et?et.value:Ze.get(tt)}function Ht(tt,Ze,at,et,Nt){if("m"===et)throw new TypeError("Private method is not writable");if("a"===et&&!Nt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ze?tt!==Ze||!Nt:!Ze.has(tt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===et?Nt.call(tt,at):Nt?Nt.value=at:Ze.set(tt,at),at}C.d(ae,{FC:()=>je,KL:()=>xt,Q_:()=>Wt,YH:()=>Ht,_T:()=>V,gn:()=>le,mG:()=>J,qq:()=>We})},1777:(we,ae,C)=>{C.d(ae,{EY:()=>Ye,F4:()=>Q,IO:()=>Ie,LC:()=>S,SB:()=>he,X$:()=>V,ZE:()=>gt,ZN:()=>je,_j:()=>f,eR:()=>Z,jt:()=>le,k1:()=>xt,l3:()=>te,oB:()=>J,pV:()=>Le,ru:()=>de,vP:()=>oe});class f{}class S{}const te="*";function V(Ge,Be){return{type:7,name:Ge,definitions:Be,options:{}}}function le(Ge,Be=null){return{type:4,styles:Be,timings:Ge}}function de(Ge,Be=null){return{type:3,steps:Ge,options:Be}}function oe(Ge,Be=null){return{type:2,steps:Ge,options:Be}}function J(Ge){return{type:6,styles:Ge,offset:null}}function he(Ge,Be,Dt){return{type:0,name:Ge,styles:Be,options:Dt}}function Q(Ge){return{type:5,steps:Ge}}function Z(Ge,Be,Dt=null){return{type:1,expr:Ge,animation:Be,options:Dt}}function Le(Ge=null){return{type:9,options:Ge}}function Ie(Ge,Be,Dt=null){return{type:11,selector:Ge,animation:Be,options:Dt}}function Ye(Ge,Be){return{type:12,timings:Ge,animation:Be}}function We(Ge){Promise.resolve().then(Ge)}class je{constructor(Be=0,Dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Be+Dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}onStart(Be){this._originalOnStartFns.push(Be),this._onStartFns.push(Be)}onDone(Be){this._originalOnDoneFns.push(Be),this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){We(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Be=>Be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Be){this._position=this.totalTime?Be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Be){const Dt="start"==Be?this._onStartFns:this._onDoneFns;Dt.forEach(Tt=>Tt()),Dt.length=0}}class gt{constructor(Be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Be;let Dt=0,Tt=0,Wt=0;const Ht=this.players.length;0==Ht?We(()=>this._onFinish()):this.players.forEach(Rt=>{Rt.onDone(()=>{++Dt==Ht&&this._onFinish()}),Rt.onDestroy(()=>{++Tt==Ht&&this._onDestroy()}),Rt.onStart(()=>{++Wt==Ht&&this._onStart()})}),this.totalTime=this.players.reduce((Rt,tt)=>Math.max(Rt,tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}init(){this.players.forEach(Be=>Be.init())}onStart(Be){this._onStartFns.push(Be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Be=>Be()),this._onStartFns=[])}onDone(Be){this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Be=>Be.play())}pause(){this.players.forEach(Be=>Be.pause())}restart(){this.players.forEach(Be=>Be.restart())}finish(){this._onFinish(),this.players.forEach(Be=>Be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Be=>Be.destroy()),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this.players.forEach(Be=>Be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Be){const Dt=Be*this.totalTime;this.players.forEach(Tt=>{const Wt=Tt.totalTime?Math.min(1,Dt/Tt.totalTime):1;Tt.setPosition(Wt)})}getPosition(){const Be=this.players.reduce((Dt,Tt)=>null===Dt||Tt.totalTime>Dt.totalTime?Tt:Dt,null);return null!=Be?Be.getPosition():0}beforeDestroy(){this.players.forEach(Be=>{Be.beforeDestroy&&Be.beforeDestroy()})}triggerCallback(Be){const Dt="start"==Be?this._onStartFns:this._onDoneFns;Dt.forEach(Tt=>Tt()),Dt.length=0}}const xt="!"},9808:(we,ae,C)=>{C.d(ae,{Do:()=>xt,ED:()=>Ur,EM:()=>Ao,Gx:()=>no,H9:()=>vs,HT:()=>le,JF:()=>Dn,JJ:()=>er,K0:()=>oe,Mx:()=>Ji,NF:()=>Oa,Nd:()=>Gi,O5:()=>So,OU:()=>so,Ov:()=>br,PC:()=>qe,RF:()=>Sr,S$:()=>We,Ts:()=>Ni,V_:()=>Q,Ye:()=>Ge,Zx:()=>ro,_K:()=>hs,b0:()=>gt,bD:()=>Si,ez:()=>Ho,gd:()=>Ys,i8:()=>qr,mk:()=>ji,n9:()=>Ln,q:()=>te,rS:()=>Xi,sg:()=>Mn,tP:()=>_t,uU:()=>Xn,w_:()=>de});var f=C(5e3);let S=null;function te(){return S}function le(k){S||(S=k)}class de{}const oe=new f.OlP("DocumentToken");let J=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return function he(){return(0,f.LFG)(Z)}()},providedIn:"platform"}),k})();const Q=new f.OlP("Location Initialized");let Z=(()=>{class k extends J{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(B){const ie=te().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",B,!1),()=>ie.removeEventListener("popstate",B)}onHashChange(B){const ie=te().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",B,!1),()=>ie.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ie,De){ce()?this._history.pushState(B,ie,De):this.location.hash=De}replaceState(B,ie,De){ce()?this._history.replaceState(B,ie,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(oe))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function Le(){return new Z((0,f.LFG)(oe))}()},providedIn:"platform"}),k})();function ce(){return!!window.history.pushState}function ze(k,q){if(0==k.length)return q;if(0==q.length)return k;let B=0;return k.endsWith("/")&&B++,q.startsWith("/")&&B++,2==B?k+q.substring(1):1==B?k+q:k+"/"+q}function Ie(k){const q=k.match(/#|\?|$/),B=q&&q.index||k.length;return k.slice(0,B-("/"===k[B-1]?1:0))+k.slice(B)}function Ye(k){return k&&"?"!==k[0]?"?"+k:k}let We=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return(0,f.f3M)(gt)},providedIn:"root"}),k})();const je=new f.OlP("appBaseHref");let gt=(()=>{class k extends We{constructor(B,ie){var De,rt,ft;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(ft=null!==(De=null!=ie?ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==De?De:null===(rt=(0,f.f3M)(oe).location)||void 0===rt?void 0:rt.origin)&&void 0!==ft?ft:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ze(this._baseHref,B)}path(B=!1){const ie=this._platformLocation.pathname+Ye(this._platformLocation.search),De=this._platformLocation.hash;return De&&B?`${ie}${De}`:ie}pushState(B,ie,De,rt){const ft=this.prepareExternalUrl(De+Ye(rt));this._platformLocation.pushState(B,ie,ft)}replaceState(B,ie,De,rt){const ft=this.prepareExternalUrl(De+Ye(rt));this._platformLocation.replaceState(B,ie,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ie,De;null===(De=(ie=this._platformLocation).historyGo)||void 0===De||De.call(ie,B)}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(J),f.LFG(je,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xt=(()=>{class k extends We{constructor(B,ie){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(B){const ie=ze(this._baseHref,B);return ie.length>0?"#"+ie:ie}pushState(B,ie,De,rt){let ft=this.prepareExternalUrl(De+Ye(rt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(B,ie,ft)}replaceState(B,ie,De,rt){let ft=this.prepareExternalUrl(De+Ye(rt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(B,ie,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ie,De;null===(De=(ie=this._platformLocation).historyGo)||void 0===De||De.call(ie,B)}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(J),f.LFG(je,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})(),Ge=(()=>{class k{constructor(B){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ie=this._locationStrategy.getBaseHref();this._baseHref=Ie(Tt(ie)),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ie=""){return this.path()==this.normalize(B+Ye(ie))}normalize(B){return k.stripTrailingSlash(function Dt(k,q){return k&&q.startsWith(k)?q.substring(k.length):q}(this._baseHref,Tt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ie="",De=null){this._locationStrategy.pushState(De,"",B,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ye(ie)),De)}replaceState(B,ie="",De=null){this._locationStrategy.replaceState(De,"",B,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ye(ie)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var ie,De;null===(De=(ie=this._locationStrategy).historyGo)||void 0===De||De.call(ie,B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)})),()=>{var ie;const De=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(De,1),0===this._urlChangeListeners.length&&(null===(ie=this._urlChangeSubscription)||void 0===ie||ie.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ie){this._urlChangeListeners.forEach(De=>De(B,ie))}subscribe(B,ie,De){return this._subject.subscribe({next:B,error:ie,complete:De})}}return k.normalizeQueryParams=Ye,k.joinWithSlash=ze,k.stripTrailingSlash=Ie,k.\u0275fac=function(B){return new(B||k)(f.LFG(We))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function Be(){return new Ge((0,f.LFG)(We))}()},providedIn:"root"}),k})();function Tt(k){return k.replace(/\/index.html$/,"")}const Wt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ht=(()=>((Ht=Ht||{})[Ht.Decimal=0]="Decimal",Ht[Ht.Percent=1]="Percent",Ht[Ht.Currency=2]="Currency",Ht[Ht.Scientific=3]="Scientific",Ht))(),Rt=(()=>((Rt=Rt||{})[Rt.Zero=0]="Zero",Rt[Rt.One=1]="One",Rt[Rt.Two=2]="Two",Rt[Rt.Few=3]="Few",Rt[Rt.Many=4]="Many",Rt[Rt.Other=5]="Other",Rt))(),tt=(()=>((tt=tt||{})[tt.Format=0]="Format",tt[tt.Standalone=1]="Standalone",tt))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),at=(()=>((at=at||{})[at.Short=0]="Short",at[at.Medium=1]="Medium",at[at.Long=2]="Long",at[at.Full=3]="Full",at))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function Ir(k,q){return zt((0,f.cg1)(k)[f.wAp.DateFormat],q)}function nr(k,q){return zt((0,f.cg1)(k)[f.wAp.TimeFormat],q)}function kr(k,q){return zt((0,f.cg1)(k)[f.wAp.DateTimeFormat],q)}function dr(k,q){const B=(0,f.cg1)(k),ie=B[f.wAp.NumberSymbols][q];if(void 0===ie){if(q===et.CurrencyDecimal)return B[f.wAp.NumberSymbols][et.Decimal];if(q===et.CurrencyGroup)return B[f.wAp.NumberSymbols][et.Group]}return ie}function vi(k,q){return(0,f.cg1)(k)[f.wAp.NumberFormats][q]}const Wr=f.kL8;function Nr(k){if(!k[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zt(k,q){for(let B=q;B>-1;B--)if(void 0!==k[B])return k[B];throw new Error("Locale data API: locale data undefined")}function _i(k){const[q,B]=k.split(":");return{hours:+q,minutes:+B}}const li=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tr={},$e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.ShortGMT=1]="ShortGMT",Oe[Oe.Long=2]="Long",Oe[Oe.Extended=3]="Extended",Oe))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function pt(k,q,B,ie){let De=function jt(k){if(Nn(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[De,rt=1,ft=1]=k.split("-").map(nn=>+nn);return un(De,rt-1,ft)}const B=parseFloat(k);if(!isNaN(k-B))return new Date(B);let ie;if(ie=k.match(li))return function en(k){const q=new Date(0);let B=0,ie=0;const De=k[8]?q.setUTCFullYear:q.setFullYear,rt=k[8]?q.setUTCHours:q.setHours;k[9]&&(B=Number(k[9]+k[10]),ie=Number(k[9]+k[11])),De.call(q,Number(k[1]),Number(k[2])-1,Number(k[3]));const ft=Number(k[4]||0)-B,nn=Number(k[5]||0)-ie,Hr=Number(k[6]||0),Pn=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return rt.call(q,ft,nn,Hr,Pn),q}(ie)}const q=new Date(k);if(!Nn(q))throw new Error(`Unable to convert "${k}" into a date`);return q}(k);q=sn(B,q)||q;let nn,ft=[];for(;q;){if(nn=$e.exec(q),!nn){ft.push(q);break}{ft=ft.concat(nn.slice(1));const hr=ft.pop();if(!hr)break;q=hr}}let Hr=De.getTimezoneOffset();ie&&(Hr=Ve(ie,Hr),De=function Ke(k,q,B){const ie=B?-1:1,De=k.getTimezoneOffset();return function Et(k,q){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+q),k}(k,ie*(Ve(q,De)-De))}(De,ie,!0));let Pn="";return ft.forEach(hr=>{const ar=function Ae(k){if(Ne[k])return Ne[k];let q;switch(k){case"G":case"GG":case"GGG":q=gn(nt.Eras,Ze.Abbreviated);break;case"GGGG":q=gn(nt.Eras,Ze.Wide);break;case"GGGGG":q=gn(nt.Eras,Ze.Narrow);break;case"y":q=Kn(Ee.FullYear,1,0,!1,!0);break;case"yy":q=Kn(Ee.FullYear,2,0,!0,!0);break;case"yyy":q=Kn(Ee.FullYear,3,0,!1,!0);break;case"yyyy":q=Kn(Ee.FullYear,4,0,!1,!0);break;case"Y":q=Gr(1);break;case"YY":q=Gr(2,!0);break;case"YYY":q=Gr(3);break;case"YYYY":q=Gr(4);break;case"M":case"L":q=Kn(Ee.Month,1,1);break;case"MM":case"LL":q=Kn(Ee.Month,2,1);break;case"MMM":q=gn(nt.Months,Ze.Abbreviated);break;case"MMMM":q=gn(nt.Months,Ze.Wide);break;case"MMMMM":q=gn(nt.Months,Ze.Narrow);break;case"LLL":q=gn(nt.Months,Ze.Abbreviated,tt.Standalone);break;case"LLLL":q=gn(nt.Months,Ze.Wide,tt.Standalone);break;case"LLLLL":q=gn(nt.Months,Ze.Narrow,tt.Standalone);break;case"w":q=Bi(1);break;case"ww":q=Bi(2);break;case"W":q=Bi(1,!0);break;case"d":q=Kn(Ee.Date,1);break;case"dd":q=Kn(Ee.Date,2);break;case"c":case"cc":q=Kn(Ee.Day,1);break;case"ccc":q=gn(nt.Days,Ze.Abbreviated,tt.Standalone);break;case"cccc":q=gn(nt.Days,Ze.Wide,tt.Standalone);break;case"ccccc":q=gn(nt.Days,Ze.Narrow,tt.Standalone);break;case"cccccc":q=gn(nt.Days,Ze.Short,tt.Standalone);break;case"E":case"EE":case"EEE":q=gn(nt.Days,Ze.Abbreviated);break;case"EEEE":q=gn(nt.Days,Ze.Wide);break;case"EEEEE":q=gn(nt.Days,Ze.Narrow);break;case"EEEEEE":q=gn(nt.Days,Ze.Short);break;case"a":case"aa":case"aaa":q=gn(nt.DayPeriods,Ze.Abbreviated);break;case"aaaa":q=gn(nt.DayPeriods,Ze.Wide);break;case"aaaaa":q=gn(nt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":q=gn(nt.DayPeriods,Ze.Abbreviated,tt.Standalone,!0);break;case"bbbb":q=gn(nt.DayPeriods,Ze.Wide,tt.Standalone,!0);break;case"bbbbb":q=gn(nt.DayPeriods,Ze.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":q=gn(nt.DayPeriods,Ze.Abbreviated,tt.Format,!0);break;case"BBBB":q=gn(nt.DayPeriods,Ze.Wide,tt.Format,!0);break;case"BBBBB":q=gn(nt.DayPeriods,Ze.Narrow,tt.Format,!0);break;case"h":q=Kn(Ee.Hours,1,-12);break;case"hh":q=Kn(Ee.Hours,2,-12);break;case"H":q=Kn(Ee.Hours,1);break;case"HH":q=Kn(Ee.Hours,2);break;case"m":q=Kn(Ee.Minutes,1);break;case"mm":q=Kn(Ee.Minutes,2);break;case"s":q=Kn(Ee.Seconds,1);break;case"ss":q=Kn(Ee.Seconds,2);break;case"S":q=Kn(Ee.FractionalSeconds,1);break;case"SS":q=Kn(Ee.FractionalSeconds,2);break;case"SSS":q=Kn(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=Bn(Oe.Short);break;case"ZZZZZ":q=Bn(Oe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=Bn(Oe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=Bn(Oe.Long);break;default:return null}return Ne[k]=q,q}(hr);Pn+=ar?ar(De,B,Hr):"''"===hr?"'":hr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Pn}function un(k,q,B){const ie=new Date(0);return ie.setFullYear(k,q,B),ie.setHours(0,0,0),ie}function sn(k,q){const B=function bt(k){return(0,f.cg1)(k)[f.wAp.LocaleId]}(k);if(Tr[B]=Tr[B]||{},Tr[B][q])return Tr[B][q];let ie="";switch(q){case"shortDate":ie=Ir(k,at.Short);break;case"mediumDate":ie=Ir(k,at.Medium);break;case"longDate":ie=Ir(k,at.Long);break;case"fullDate":ie=Ir(k,at.Full);break;case"shortTime":ie=nr(k,at.Short);break;case"mediumTime":ie=nr(k,at.Medium);break;case"longTime":ie=nr(k,at.Long);break;case"fullTime":ie=nr(k,at.Full);break;case"short":const De=sn(k,"shortTime"),rt=sn(k,"shortDate");ie=Gn(kr(k,at.Short),[De,rt]);break;case"medium":const ft=sn(k,"mediumTime"),nn=sn(k,"mediumDate");ie=Gn(kr(k,at.Medium),[ft,nn]);break;case"long":const Hr=sn(k,"longTime"),Pn=sn(k,"longDate");ie=Gn(kr(k,at.Long),[Hr,Pn]);break;case"full":const hr=sn(k,"fullTime"),ar=sn(k,"fullDate");ie=Gn(kr(k,at.Full),[hr,ar])}return ie&&(Tr[B][q]=ie),ie}function Gn(k,q){return q&&(k=k.replace(/\{([^}]+)}/g,function(B,ie){return null!=q&&ie in q?q[ie]:B})),k}function Ut(k,q,B="-",ie,De){let rt="";(k<0||De&&k<=0)&&(De?k=1-k:(k=-k,rt=B));let ft=String(k);for(;ft.length<q;)ft="0"+ft;return ie&&(ft=ft.slice(ft.length-q)),rt+ft}function Kn(k,q,B=0,ie=!1,De=!1){return function(rt,ft){let nn=function Kr(k,q){switch(k){case Ee.FullYear:return q.getFullYear();case Ee.Month:return q.getMonth();case Ee.Date:return q.getDate();case Ee.Hours:return q.getHours();case Ee.Minutes:return q.getMinutes();case Ee.Seconds:return q.getSeconds();case Ee.FractionalSeconds:return q.getMilliseconds();case Ee.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,rt);if((B>0||nn>-B)&&(nn+=B),k===Ee.Hours)0===nn&&-12===B&&(nn=12);else if(k===Ee.FractionalSeconds)return function Vn(k,q){return Ut(k,3).substring(0,q)}(nn,q);const Hr=dr(ft,et.MinusSign);return Ut(nn,q,Hr,ie,De)}}function gn(k,q,B=tt.Format,ie=!1){return function(De,rt){return function yn(k,q,B,ie,De,rt){switch(B){case nt.Months:return function Kt(k,q,B){const ie=(0,f.cg1)(k),rt=zt([ie[f.wAp.MonthsFormat],ie[f.wAp.MonthsStandalone]],q);return zt(rt,B)}(q,De,ie)[k.getMonth()];case nt.Days:return function Un(k,q,B){const ie=(0,f.cg1)(k),rt=zt([ie[f.wAp.DaysFormat],ie[f.wAp.DaysStandalone]],q);return zt(rt,B)}(q,De,ie)[k.getDay()];case nt.DayPeriods:const ft=k.getHours(),nn=k.getMinutes();if(rt){const Pn=function lr(k){const q=(0,f.cg1)(k);return Nr(q),(q[f.wAp.ExtraData][2]||[]).map(ie=>"string"==typeof ie?_i(ie):[_i(ie[0]),_i(ie[1])])}(q),hr=function yr(k,q,B){const ie=(0,f.cg1)(k);Nr(ie);const rt=zt([ie[f.wAp.ExtraData][0],ie[f.wAp.ExtraData][1]],q)||[];return zt(rt,B)||[]}(q,De,ie),ar=Pn.findIndex(Li=>{if(Array.isArray(Li)){const[Ar,ts]=Li,Cs=ft>=Ar.hours&&nn>=Ar.minutes,Zr=ft<ts.hours||ft===ts.hours&&nn<ts.minutes;if(Ar.hours<ts.hours){if(Cs&&Zr)return!0}else if(Cs||Zr)return!0}else if(Li.hours===ft&&Li.minutes===nn)return!0;return!1});if(-1!==ar)return hr[ar]}return function ht(k,q,B){const ie=(0,f.cg1)(k),rt=zt([ie[f.wAp.DayPeriodsFormat],ie[f.wAp.DayPeriodsStandalone]],q);return zt(rt,B)}(q,De,ie)[ft<12?0:1];case nt.Eras:return function Mt(k,q){return zt((0,f.cg1)(k)[f.wAp.Eras],q)}(q,ie)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(De,rt,k,q,B,ie)}}function Bn(k){return function(q,B,ie){const De=-1*ie,rt=dr(B,et.MinusSign),ft=De>0?Math.floor(De/60):Math.ceil(De/60);switch(k){case Oe.Short:return(De>=0?"+":"")+Ut(ft,2,rt)+Ut(Math.abs(De%60),2,rt);case Oe.ShortGMT:return"GMT"+(De>=0?"+":"")+Ut(ft,1,rt);case Oe.Long:return"GMT"+(De>=0?"+":"")+Ut(ft,2,rt)+":"+Ut(Math.abs(De%60),2,rt);case Oe.Extended:return 0===ie?"Z":(De>=0?"+":"")+Ut(ft,2,rt)+":"+Ut(Math.abs(De%60),2,rt);default:throw new Error(`Unknown zone width "${k}"`)}}}function Lr(k){return un(k.getFullYear(),k.getMonth(),k.getDate()+(4-k.getDay()))}function Bi(k,q=!1){return function(B,ie){let De;if(q){const rt=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,ft=B.getDate();De=1+Math.floor((ft+rt)/7)}else{const rt=Lr(B),ft=function Fn(k){const q=un(k,0,1).getDay();return un(k,0,1+(q<=4?4:11)-q)}(rt.getFullYear()),nn=rt.getTime()-ft.getTime();De=1+Math.round(nn/6048e5)}return Ut(De,k,dr(ie,et.MinusSign))}}function Gr(k,q=!1){return function(B,ie){return Ut(Lr(B).getFullYear(),k,dr(ie,et.MinusSign),q)}}const Ne={};function Ve(k,q){k=k.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(B)?q:B}function Nn(k){return k instanceof Date&&!isNaN(k.valueOf())}const ir=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pe(k,q,B,ie,De,rt,ft=!1){let nn="",Hr=!1;if(isFinite(k)){let Pn=function Jn(k){let ie,De,rt,ft,nn,q=Math.abs(k)+"",B=0;for((De=q.indexOf("."))>-1&&(q=q.replace(".","")),(rt=q.search(/e/i))>0?(De<0&&(De=rt),De+=+q.slice(rt+1),q=q.substring(0,rt)):De<0&&(De=q.length),rt=0;"0"===q.charAt(rt);rt++);if(rt===(nn=q.length))ie=[0],De=1;else{for(nn--;"0"===q.charAt(nn);)nn--;for(De-=rt,ie=[],ft=0;rt<=nn;rt++,ft++)ie[ft]=Number(q.charAt(rt))}return De>22&&(ie=ie.splice(0,21),B=De-1,De=1),{digits:ie,exponent:B,integerLen:De}}(k);ft&&(Pn=function mn(k){if(0===k.digits[0])return k;const q=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===q?k.digits.push(0,0):1===q&&k.digits.push(0),k.integerLen+=2),k}(Pn));let hr=q.minInt,ar=q.minFrac,Li=q.maxFrac;if(rt){const ls=rt.match(ir);if(null===ls)throw new Error(`${rt} is not a valid digit info`);const fs=ls[1],ma=ls[3],Lt=ls[5];null!=fs&&(hr=si(fs)),null!=ma&&(ar=si(ma)),null!=Lt?Li=si(Lt):null!=ma&&ar>Li&&(Li=ar)}!function sr(k,q,B){if(q>B)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${B}).`);let ie=k.digits,De=ie.length-k.integerLen;const rt=Math.min(Math.max(q,De),B);let ft=rt+k.integerLen,nn=ie[ft];if(ft>0){ie.splice(Math.max(k.integerLen,ft));for(let ar=ft;ar<ie.length;ar++)ie[ar]=0}else{De=Math.max(0,De),k.integerLen=1,ie.length=Math.max(1,ft=rt+1),ie[0]=0;for(let ar=1;ar<ft;ar++)ie[ar]=0}if(nn>=5)if(ft-1<0){for(let ar=0;ar>ft;ar--)ie.unshift(0),k.integerLen++;ie.unshift(1),k.integerLen++}else ie[ft-1]++;for(;De<Math.max(0,rt);De++)ie.push(0);let Hr=0!==rt;const Pn=q+k.integerLen,hr=ie.reduceRight(function(ar,Li,Ar,ts){return ts[Ar]=(Li+=ar)<10?Li:Li-10,Hr&&(0===ts[Ar]&&Ar>=Pn?ts.pop():Hr=!1),Li>=10?1:0},0);hr&&(ie.unshift(hr),k.integerLen++)}(Pn,ar,Li);let Ar=Pn.digits,ts=Pn.integerLen;const Cs=Pn.exponent;let Zr=[];for(Hr=Ar.every(ls=>!ls);ts<hr;ts++)Ar.unshift(0);for(;ts<0;ts++)Ar.unshift(0);ts>0?Zr=Ar.splice(ts,Ar.length):(Zr=Ar,Ar=[0]);const Mi=[];for(Ar.length>=q.lgSize&&Mi.unshift(Ar.splice(-q.lgSize,Ar.length).join(""));Ar.length>q.gSize;)Mi.unshift(Ar.splice(-q.gSize,Ar.length).join(""));Ar.length&&Mi.unshift(Ar.join("")),nn=Mi.join(dr(B,ie)),Zr.length&&(nn+=dr(B,De)+Zr.join("")),Cs&&(nn+=dr(B,et.Exponential)+"+"+Cs)}else nn=dr(B,et.Infinity);return nn=k<0&&!Hr?q.negPre+nn+q.negSuf:q.posPre+nn+q.posSuf,nn}function On(k,q="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ie=k.split(";"),De=ie[0],rt=ie[1],ft=-1!==De.indexOf(".")?De.split("."):[De.substring(0,De.lastIndexOf("0")+1),De.substring(De.lastIndexOf("0")+1)],nn=ft[0],Hr=ft[1]||"";B.posPre=nn.substring(0,nn.indexOf("#"));for(let hr=0;hr<Hr.length;hr++){const ar=Hr.charAt(hr);"0"===ar?B.minFrac=B.maxFrac=hr+1:"#"===ar?B.maxFrac=hr+1:B.posSuf+=ar}const Pn=nn.split(",");if(B.gSize=Pn[1]?Pn[1].length:0,B.lgSize=Pn[2]||Pn[1]?(Pn[2]||Pn[1]).length:0,rt){const hr=De.length-B.posPre.length-B.posSuf.length,ar=rt.indexOf("#");B.negPre=rt.substring(0,ar).replace(/'/g,""),B.negSuf=rt.slice(ar+hr).replace(/'/g,"")}else B.negPre=q+B.posPre,B.negSuf=B.posSuf;return B}function si(k){const q=parseInt(k);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+k);return q}let Mr=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(B){let ie=null;return B?ie=new B:(De=f.LFG(f.soG),ie=new ds(De)),ie;var De},providedIn:"root"}),k})();let ds=(()=>{class k extends Mr{constructor(B){super(),this.locale=B}getPluralCategory(B,ie){switch(Wr(ie||this.locale)(B)){case Rt.Zero:return"zero";case Rt.One:return"one";case Rt.Two:return"two";case Rt.Few:return"few";case Rt.Many:return"many";default:return"other"}}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(f.soG))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})();function Ji(k,q){q=encodeURIComponent(q);for(const B of k.split(";")){const ie=B.indexOf("="),[De,rt]=-1==ie?[B,""]:[B.slice(0,ie),B.slice(ie+1)];if(De.trim()===q)return decodeURIComponent(rt)}return null}let ji=(()=>{class k{constructor(B,ie,De,rt){this._iterableDiffers=B,this._keyValueDiffers=ie,this._ngEl=De,this._renderer=rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),B.forEachChangedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),B.forEachRemovedItem(ie=>{ie.previousValue&&this._toggleClass(ie.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(ie=>{if("string"!=typeof ie.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(ie.item)}`);this._toggleClass(ie.item,!0)}),B.forEachRemovedItem(ie=>this._toggleClass(ie.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ie=>this._toggleClass(ie,!0)):Object.keys(B).forEach(ie=>this._toggleClass(ie,!!B[ie])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ie=>this._toggleClass(ie,!1)):Object.keys(B).forEach(ie=>this._toggleClass(ie,!1)))}_toggleClass(B,ie){(B=B.trim())&&B.split(/\s+/g).forEach(De=>{ie?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class In{constructor(q,B,ie,De){this.$implicit=q,this.ngForOf=B,this.index=ie,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mn=(()=>{class k{constructor(B,ie,De){this._viewContainer=B,this._template=ie,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ie=this._viewContainer;B.forEachOperation((De,rt,ft)=>{if(null==De.previousIndex)ie.createEmbeddedView(this._template,new In(De.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)ie.remove(null===rt?void 0:rt);else if(null!==rt){const nn=ie.get(rt);ie.move(nn,ft),Ri(nn,De)}});for(let De=0,rt=ie.length;De<rt;De++){const nn=ie.get(De).context;nn.index=De,nn.count=rt,nn.ngForOf=this._ngForOf}B.forEachIdentityChange(De=>{Ri(ie.get(De.currentIndex),De)})}static ngTemplateContextGuard(B,ie){return!0}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Ri(k,q){k.context.$implicit=q.item}let So=(()=>{class k{constructor(B,ie){this._viewContainer=B,this._context=new to,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){yi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){yi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ie){return!0}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class to{constructor(){this.$implicit=null,this.ngIf=null}}function yi(k,q){if(q&&!q.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,f.AaK)(q)}'.`)}class Pr{constructor(q,B){this._viewContainerRef=q,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let Sr=(()=>{class k{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const ie=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ie,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ie}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let ie=0;ie<this._defaultViews.length;ie++)this._defaultViews[ie].enforceState(B)}}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),k})(),Ln=(()=>{class k{constructor(B,ie,De){this.ngSwitch=De,De._addCase(),this._view=new Pr(B,ie)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Sr,9))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),k})(),Ur=(()=>{class k{constructor(B,ie,De){De._addDefault(new Pr(B,ie))}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Sr,9))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitchDefault",""]],standalone:!0}),k})(),qe=(()=>{class k{constructor(B,ie,De){this._ngEl=B,this._differs=ie,this._renderer=De,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,ie){const[De,rt]=B.split("."),ft=-1===De.indexOf("-")?void 0:f.JOm.DashCase;null!=ie?this._renderer.setStyle(this._ngEl.nativeElement,De,rt?`${ie}${rt}`:ie,ft):this._renderer.removeStyle(this._ngEl.nativeElement,De,ft)}_applyChanges(B){B.forEachRemovedItem(ie=>this._setStyle(ie.key,null)),B.forEachAddedItem(ie=>this._setStyle(ie.key,ie.currentValue)),B.forEachChangedItem(ie=>this._setStyle(ie.key,ie.currentValue))}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),k})(),_t=(()=>{class k{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ie=this._viewContainerRef;if(this._viewRef&&ie.remove(ie.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:De,ngTemplateOutletContext:rt,ngTemplateOutletInjector:ft}=this;this._viewRef=ie.createEmbeddedView(De,rt,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),k})();function kt(k,q){return new f.vHH(2100,!1)}class $n{createSubscription(q,B){return q.subscribe({next:B,error:ie=>{throw ie}})}dispose(q){q.unsubscribe()}}class Yr{createSubscription(q,B){return q.then(B,ie=>{throw ie})}dispose(q){}}const Cr=new Yr,xi=new $n;let br=(()=>{class k{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,ie=>this._updateLatestValue(B,ie))}_selectStrategy(B){if((0,f.QGY)(B))return Cr;if((0,f.F4k)(B))return xi;throw kt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,ie){B===this._obj&&(this._latestValue=ie,this._ref.markForCheck())}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.sBO,16))},k.\u0275pipe=f.Yjl({name:"async",type:k,pure:!1,standalone:!0}),k})(),qr=(()=>{class k{transform(B){if(null==B)return null;if("string"!=typeof B)throw kt();return B.toLowerCase()}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"lowercase",type:k,pure:!0,standalone:!0}),k})();const ys=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Xi=(()=>{class k{transform(B){if(null==B)return null;if("string"!=typeof B)throw kt();return B.replace(ys,ie=>ie[0].toUpperCase()+ie.slice(1).toLowerCase())}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"titlecase",type:k,pure:!0,standalone:!0}),k})(),Ys=(()=>{class k{transform(B){if(null==B)return null;if("string"!=typeof B)throw kt();return B.toUpperCase()}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"uppercase",type:k,pure:!0,standalone:!0}),k})();const po=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xn=(()=>{class k{constructor(B,ie){this.locale=B,this.defaultTimezone=ie}transform(B,ie="mediumDate",De,rt){var ft;if(null==B||""===B||B!=B)return null;try{return pt(B,ie,rt||this.locale,null!==(ft=null!=De?De:this.defaultTimezone)&&void 0!==ft?ft:void 0)}catch(nn){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16),f.Y36(po,24))},k.\u0275pipe=f.Yjl({name:"date",type:k,pure:!0,standalone:!0}),k})();const bo=/#/g;let no=(()=>{class k{constructor(B){this._localization=B}transform(B,ie,De){if(null==B)return"";if("object"!=typeof ie||null===ie)throw kt();return ie[function Hn(k,q,B,ie){let De=`=${k}`;if(q.indexOf(De)>-1||(De=B.getPluralCategory(k,ie),q.indexOf(De)>-1))return De;if(q.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${k}"`)}(B,Object.keys(ie),this._localization,De)].replace(bo,B.toString())}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(Mr,16))},k.\u0275pipe=f.Yjl({name:"i18nPlural",type:k,pure:!0,standalone:!0}),k})(),hs=(()=>{class k{transform(B,ie){if(null==B)return"";if("object"!=typeof ie||"string"!=typeof B)throw kt();return ie.hasOwnProperty(B)?ie[B]:ie.hasOwnProperty("other")?ie.other:""}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"i18nSelect",type:k,pure:!0,standalone:!0}),k})(),Ni=(()=>{class k{transform(B){return JSON.stringify(B,null,2)}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"json",type:k,pure:!1,standalone:!0}),k})(),Gi=(()=>{class k{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Qs}transform(B,ie=Qs){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const De=this.differ.diff(B),rt=ie!==this.compareFn;return De&&(this.keyValues=[],De.forEachItem(ft=>{this.keyValues.push(function $i(k,q){return{key:k,value:q}}(ft.key,ft.currentValue))})),(De||rt)&&(this.keyValues.sort(ie),this.compareFn=ie),this.keyValues}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.aQg,16))},k.\u0275pipe=f.Yjl({name:"keyvalue",type:k,pure:!1,standalone:!0}),k})();function Qs(k,q){const B=k.key,ie=q.key;if(B===ie)return 0;if(void 0===B)return 1;if(void 0===ie)return-1;if(null===B)return 1;if(null===ie)return-1;if("string"==typeof B&&"string"==typeof ie)return B<ie?-1:1;if("number"==typeof B&&"number"==typeof ie)return B-ie;if("boolean"==typeof B&&"boolean"==typeof ie)return B<ie?-1:1;const De=String(B),rt=String(ie);return De==rt?0:De<rt?-1:1}let er=(()=>{class k{constructor(B){this._locale=B}transform(B,ie,De){if(!io(B))return null;De=De||this._locale;try{return function Gt(k,q,B){return Pe(k,On(vi(q,Ht.Decimal),dr(q,et.MinusSign)),q,et.Group,et.Decimal,B)}(Bo(B),De,ie)}catch(rt){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16))},k.\u0275pipe=f.Yjl({name:"number",type:k,pure:!0,standalone:!0}),k})(),ro=(()=>{class k{constructor(B){this._locale=B}transform(B,ie,De){if(!io(B))return null;De=De||this._locale;try{return function yt(k,q,B){return Pe(k,On(vi(q,Ht.Percent),dr(q,et.MinusSign)),q,et.Group,et.Decimal,B,!0).replace(new RegExp("%","g"),dr(q,et.PercentSign))}(Bo(B),De,ie)}catch(rt){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16))},k.\u0275pipe=f.Yjl({name:"percent",type:k,pure:!0,standalone:!0}),k})(),vs=(()=>{class k{constructor(B,ie="USD"){this._locale=B,this._defaultCurrencyCode=ie}transform(B,ie=this._defaultCurrencyCode,De="symbol",rt,ft){if(!io(B))return null;ft=ft||this._locale,"boolean"==typeof De&&(De=De?"symbol":"code");let nn=ie||this._defaultCurrencyCode;"code"!==De&&(nn="symbol"===De||"symbol-narrow"===De?function Ei(k,q,B="en"){const ie=function ni(k){return(0,f.cg1)(k)[f.wAp.Currencies]}(B)[k]||Wt[k]||[],De=ie[1];return"narrow"===q&&"string"==typeof De?De:ie[0]||k}(nn,"symbol"===De?"wide":"narrow",ft):De);try{return function xe(k,q,B,ie,De){const ft=On(vi(q,Ht.Currency),dr(q,et.MinusSign));return ft.minFrac=function Zi(k){let q;const B=Wt[k];return B&&(q=B[2]),"number"==typeof q?q:2}(ie),ft.maxFrac=ft.minFrac,Pe(k,ft,q,et.CurrencyGroup,et.CurrencyDecimal,De).replace("\xa4",B).replace("\xa4","").trim()}(Bo(B),ft,nn,ie,rt)}catch(Hr){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},k.\u0275pipe=f.Yjl({name:"currency",type:k,pure:!0,standalone:!0}),k})();function io(k){return!(null==k||""===k||k!=k)}function Bo(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}let so=(()=>{class k{transform(B,ie,De){if(null==B)return null;if(!this.supports(B))throw kt();return B.slice(ie,De)}supports(B){return"string"==typeof B||Array.isArray(B)}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"slice",type:k,pure:!1,standalone:!0}),k})(),Ho=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=f.oAB({type:k}),k.\u0275inj=f.cJS({}),k})();const Si="browser";function Oa(k){return k===Si}let Ao=(()=>{class k{}return k.\u0275prov=(0,f.Yz7)({token:k,providedIn:"root",factory:()=>new Pa((0,f.LFG)(oe),window)}),k})();class Pa{constructor(q,B){this.document=q,this.window=B,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const B=function oi(k,q){const B=k.getElementById(q)||k.getElementsByName(q)[0];if(B)return B;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const ie=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let De=ie.currentNode;for(;De;){const rt=De.shadowRoot;if(rt){const ft=rt.getElementById(q)||rt.querySelector(`[name="${q}"]`);if(ft)return ft}De=ie.nextNode()}}return null}(this.document,q);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=q)}}scrollToElement(q){const B=q.getBoundingClientRect(),ie=B.left+this.window.pageXOffset,De=B.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(ie-rt[0],De-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=Bs(this.window.history)||Bs(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function Bs(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Dn{}},520:(we,ae,C)=>{C.d(ae,{Ed:()=>li,JF:()=>Zi,LE:()=>je,TP:()=>Un,UA:()=>et,WM:()=>Q,Zn:()=>at,eN:()=>bt});var f=C(9808),S=C(5e3),te=C(9646),V=C(9751),le=C(4351),de=C(9300),oe=C(4004);class J{}class he{}class Q{constructor(Oe){this.normalizedNames=new Map,this.lazyUpdate=null,Oe?this.lazyInit="string"==typeof Oe?()=>{this.headers=new Map,Oe.split("\n").forEach(Ee=>{const nt=Ee.indexOf(":");if(nt>0){const pt=Ee.slice(0,nt),un=pt.toLowerCase(),sn=Ee.slice(nt+1).trim();this.maybeSetNormalizedName(pt,un),this.headers.has(un)?this.headers.get(un).push(sn):this.headers.set(un,[sn])}})}:()=>{this.headers=new Map,Object.keys(Oe).forEach(Ee=>{let nt=Oe[Ee];const pt=Ee.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(pt,nt),this.maybeSetNormalizedName(Ee,pt))})}:this.headers=new Map}has(Oe){return this.init(),this.headers.has(Oe.toLowerCase())}get(Oe){this.init();const Ee=this.headers.get(Oe.toLowerCase());return Ee&&Ee.length>0?Ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Oe){return this.init(),this.headers.get(Oe.toLowerCase())||null}append(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"a"})}set(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"s"})}delete(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"d"})}maybeSetNormalizedName(Oe,Ee){this.normalizedNames.has(Ee)||this.normalizedNames.set(Ee,Oe)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Oe=>this.applyUpdate(Oe)),this.lazyUpdate=null))}copyFrom(Oe){Oe.init(),Array.from(Oe.headers.keys()).forEach(Ee=>{this.headers.set(Ee,Oe.headers.get(Ee)),this.normalizedNames.set(Ee,Oe.normalizedNames.get(Ee))})}clone(Oe){const Ee=new Q;return Ee.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,Ee.lazyUpdate=(this.lazyUpdate||[]).concat([Oe]),Ee}applyUpdate(Oe){const Ee=Oe.name.toLowerCase();switch(Oe.op){case"a":case"s":let nt=Oe.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(Oe.name,Ee);const pt=("a"===Oe.op?this.headers.get(Ee):void 0)||[];pt.push(...nt),this.headers.set(Ee,pt);break;case"d":const un=Oe.value;if(un){let sn=this.headers.get(Ee);if(!sn)return;sn=sn.filter(Gn=>-1===un.indexOf(Gn)),0===sn.length?(this.headers.delete(Ee),this.normalizedNames.delete(Ee)):this.headers.set(Ee,sn)}else this.headers.delete(Ee),this.normalizedNames.delete(Ee)}}forEach(Oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ee=>Oe(this.normalizedNames.get(Ee),this.headers.get(Ee)))}}class ce{encodeKey(Oe){return Ye(Oe)}encodeValue(Oe){return Ye(Oe)}decodeKey(Oe){return decodeURIComponent(Oe)}decodeValue(Oe){return decodeURIComponent(Oe)}}const ze=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye($e){return encodeURIComponent($e).replace(ze,(Oe,Ee)=>{var nt;return null!==(nt=Ie[Ee])&&void 0!==nt?nt:Oe})}function We($e){return`${$e}`}class je{constructor(Oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Oe.encoder||new ce,Oe.fromString){if(Oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Le($e,Oe){const Ee=new Map;return $e.length>0&&$e.replace(/^\?/,"").split("&").forEach(pt=>{const un=pt.indexOf("="),[sn,Gn]=-1==un?[Oe.decodeKey(pt),""]:[Oe.decodeKey(pt.slice(0,un)),Oe.decodeValue(pt.slice(un+1))],Ut=Ee.get(sn)||[];Ut.push(Gn),Ee.set(sn,Ut)}),Ee}(Oe.fromString,this.encoder)}else Oe.fromObject?(this.map=new Map,Object.keys(Oe.fromObject).forEach(Ee=>{const nt=Oe.fromObject[Ee],pt=Array.isArray(nt)?nt.map(We):[We(nt)];this.map.set(Ee,pt)})):this.map=null}has(Oe){return this.init(),this.map.has(Oe)}get(Oe){this.init();const Ee=this.map.get(Oe);return Ee?Ee[0]:null}getAll(Oe){return this.init(),this.map.get(Oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"a"})}appendAll(Oe){const Ee=[];return Object.keys(Oe).forEach(nt=>{const pt=Oe[nt];Array.isArray(pt)?pt.forEach(un=>{Ee.push({param:nt,value:un,op:"a"})}):Ee.push({param:nt,value:pt,op:"a"})}),this.clone(Ee)}set(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"s"})}delete(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"d"})}toString(){return this.init(),this.keys().map(Oe=>{const Ee=this.encoder.encodeKey(Oe);return this.map.get(Oe).map(nt=>Ee+"="+this.encoder.encodeValue(nt)).join("&")}).filter(Oe=>""!==Oe).join("&")}clone(Oe){const Ee=new je({encoder:this.encoder});return Ee.cloneFrom=this.cloneFrom||this,Ee.updates=(this.updates||[]).concat(Oe),Ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Oe=>this.map.set(Oe,this.cloneFrom.map.get(Oe))),this.updates.forEach(Oe=>{switch(Oe.op){case"a":case"s":const Ee=("a"===Oe.op?this.map.get(Oe.param):void 0)||[];Ee.push(We(Oe.value)),this.map.set(Oe.param,Ee);break;case"d":if(void 0===Oe.value){this.map.delete(Oe.param);break}{let nt=this.map.get(Oe.param)||[];const pt=nt.indexOf(We(Oe.value));-1!==pt&&nt.splice(pt,1),nt.length>0?this.map.set(Oe.param,nt):this.map.delete(Oe.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(Oe,Ee){return this.map.set(Oe,Ee),this}get(Oe){return this.map.has(Oe)||this.map.set(Oe,Oe.defaultValue()),this.map.get(Oe)}delete(Oe){return this.map.delete(Oe),this}has(Oe){return this.map.has(Oe)}keys(){return this.map.keys()}}function Be($e){return"undefined"!=typeof ArrayBuffer&&$e instanceof ArrayBuffer}function Dt($e){return"undefined"!=typeof Blob&&$e instanceof Blob}function Tt($e){return"undefined"!=typeof FormData&&$e instanceof FormData}class Ht{constructor(Oe,Ee,nt,pt){let un;if(this.url=Ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Oe.toUpperCase(),function Ge($e){switch($e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pt?(this.body=void 0!==nt?nt:null,un=pt):un=nt,un&&(this.reportProgress=!!un.reportProgress,this.withCredentials=!!un.withCredentials,un.responseType&&(this.responseType=un.responseType),un.headers&&(this.headers=un.headers),un.context&&(this.context=un.context),un.params&&(this.params=un.params)),this.headers||(this.headers=new Q),this.context||(this.context=new xt),this.params){const sn=this.params.toString();if(0===sn.length)this.urlWithParams=Ee;else{const Gn=Ee.indexOf("?");this.urlWithParams=Ee+(-1===Gn?"?":Gn<Ee.length-1?"&":"")+sn}}else this.params=new je,this.urlWithParams=Ee}serializeBody(){return null===this.body?null:Be(this.body)||Dt(this.body)||Tt(this.body)||function Wt($e){return"undefined"!=typeof URLSearchParams&&$e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tt(this.body)?null:Dt(this.body)?this.body.type||null:Be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Oe={}){var Ee;const nt=Oe.method||this.method,pt=Oe.url||this.url,un=Oe.responseType||this.responseType,sn=void 0!==Oe.body?Oe.body:this.body,Gn=void 0!==Oe.withCredentials?Oe.withCredentials:this.withCredentials,Ut=void 0!==Oe.reportProgress?Oe.reportProgress:this.reportProgress;let Vn=Oe.headers||this.headers,Kn=Oe.params||this.params;const Kr=null!==(Ee=Oe.context)&&void 0!==Ee?Ee:this.context;return void 0!==Oe.setHeaders&&(Vn=Object.keys(Oe.setHeaders).reduce((gn,yn)=>gn.set(yn,Oe.setHeaders[yn]),Vn)),Oe.setParams&&(Kn=Object.keys(Oe.setParams).reduce((gn,yn)=>gn.set(yn,Oe.setParams[yn]),Kn)),new Ht(nt,pt,sn,{params:Kn,headers:Vn,context:Kr,reportProgress:Ut,responseType:un,withCredentials:Gn})}}var Rt=(()=>((Rt=Rt||{})[Rt.Sent=0]="Sent",Rt[Rt.UploadProgress=1]="UploadProgress",Rt[Rt.ResponseHeader=2]="ResponseHeader",Rt[Rt.DownloadProgress=3]="DownloadProgress",Rt[Rt.Response=4]="Response",Rt[Rt.User=5]="User",Rt))();class tt{constructor(Oe,Ee=200,nt="OK"){this.headers=Oe.headers||new Q,this.status=void 0!==Oe.status?Oe.status:Ee,this.statusText=Oe.statusText||nt,this.url=Oe.url||null,this.ok=this.status>=200&&this.status<300}}class Ze extends tt{constructor(Oe={}){super(Oe),this.type=Rt.ResponseHeader}clone(Oe={}){return new Ze({headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class at extends tt{constructor(Oe={}){super(Oe),this.type=Rt.Response,this.body=void 0!==Oe.body?Oe.body:null}clone(Oe={}){return new at({body:void 0!==Oe.body?Oe.body:this.body,headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class et extends tt{constructor(Oe){super(Oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Oe.url||"(unknown url)"}`:`Http failure response for ${Oe.url||"(unknown url)"}: ${Oe.status} ${Oe.statusText}`,this.error=Oe.error||null}}function Nt($e,Oe){return{body:Oe,headers:$e.headers,context:$e.context,observe:$e.observe,params:$e.params,reportProgress:$e.reportProgress,responseType:$e.responseType,withCredentials:$e.withCredentials}}let bt=(()=>{class $e{constructor(Ee){this.handler=Ee}request(Ee,nt,pt={}){let un;if(Ee instanceof Ht)un=Ee;else{let Ut,Vn;Ut=pt.headers instanceof Q?pt.headers:new Q(pt.headers),pt.params&&(Vn=pt.params instanceof je?pt.params:new je({fromObject:pt.params})),un=new Ht(Ee,nt,void 0!==pt.body?pt.body:null,{headers:Ut,context:pt.context,params:Vn,reportProgress:pt.reportProgress,responseType:pt.responseType||"json",withCredentials:pt.withCredentials})}const sn=(0,te.of)(un).pipe((0,le.b)(Ut=>this.handler.handle(Ut)));if(Ee instanceof Ht||"events"===pt.observe)return sn;const Gn=sn.pipe((0,de.h)(Ut=>Ut instanceof at));switch(pt.observe||"body"){case"body":switch(un.responseType){case"arraybuffer":return Gn.pipe((0,oe.U)(Ut=>{if(null!==Ut.body&&!(Ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ut.body}));case"blob":return Gn.pipe((0,oe.U)(Ut=>{if(null!==Ut.body&&!(Ut.body instanceof Blob))throw new Error("Response is not a Blob.");return Ut.body}));case"text":return Gn.pipe((0,oe.U)(Ut=>{if(null!==Ut.body&&"string"!=typeof Ut.body)throw new Error("Response is not a string.");return Ut.body}));default:return Gn.pipe((0,oe.U)(Ut=>Ut.body))}case"response":return Gn;default:throw new Error(`Unreachable: unhandled observe type ${pt.observe}}`)}}delete(Ee,nt={}){return this.request("DELETE",Ee,nt)}get(Ee,nt={}){return this.request("GET",Ee,nt)}head(Ee,nt={}){return this.request("HEAD",Ee,nt)}jsonp(Ee,nt){return this.request("JSONP",Ee,{params:(new je).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ee,nt={}){return this.request("OPTIONS",Ee,nt)}patch(Ee,nt,pt={}){return this.request("PATCH",Ee,Nt(pt,nt))}post(Ee,nt,pt={}){return this.request("POST",Ee,Nt(pt,nt))}put(Ee,nt,pt={}){return this.request("PUT",Ee,Nt(pt,nt))}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(J))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ht{constructor(Oe,Ee){this.next=Oe,this.interceptor=Ee}handle(Oe){return this.interceptor.intercept(Oe,this.next)}}const Un=new S.OlP("HTTP_INTERCEPTORS");let fr,Kt=(()=>{class $e{intercept(Ee,nt){return nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),Mt=0;class dr{}let vi=(()=>{class $e{constructor(Ee,nt){this.callbackMap=Ee,this.document=nt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Mt++}handle(Ee){if("JSONP"!==Ee.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ee.responseType)throw new Error("JSONP requests must use Json response type.");if(Ee.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new V.y(nt=>{const pt=this.nextCallback(),un=Ee.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${pt}$1`),sn=this.document.createElement("script");sn.src=un;let Gn=null,Ut=!1;this.callbackMap[pt]=gn=>{delete this.callbackMap[pt],Gn=gn,Ut=!0};const Vn=()=>{sn.parentNode&&sn.parentNode.removeChild(sn),delete this.callbackMap[pt]};return sn.addEventListener("load",gn=>{this.resolvedPromise.then(()=>{Vn(),Ut?(nt.next(new at({body:Gn,status:200,statusText:"OK",url:un})),nt.complete()):nt.error(new et({url:un,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),sn.addEventListener("error",gn=>{Vn(),nt.error(new et({error:gn,status:0,statusText:"JSONP Error",url:un}))}),this.document.body.appendChild(sn),nt.next({type:Rt.Sent}),()=>{Ut||this.removeListeners(sn),Vn()}})}removeListeners(Ee){fr||(fr=this.document.implementation.createHTMLDocument()),fr.adoptNode(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(dr),S.LFG(f.K0))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),mi=(()=>{class $e{constructor(Ee){this.jsonp=Ee}intercept(Ee,nt){return"JSONP"===Ee.method?this.jsonp.handle(Ee):nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(vi))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const ti=/^\)\]\}',?\n/;let ni=(()=>{class $e{constructor(Ee){this.xhrFactory=Ee}handle(Ee){if("JSONP"===Ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new V.y(nt=>{const pt=this.xhrFactory.build();if(pt.open(Ee.method,Ee.urlWithParams),Ee.withCredentials&&(pt.withCredentials=!0),Ee.headers.forEach((yn,Bn)=>pt.setRequestHeader(yn,Bn.join(","))),Ee.headers.has("Accept")||pt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ee.headers.has("Content-Type")){const yn=Ee.detectContentTypeHeader();null!==yn&&pt.setRequestHeader("Content-Type",yn)}if(Ee.responseType){const yn=Ee.responseType.toLowerCase();pt.responseType="json"!==yn?yn:"text"}const un=Ee.serializeBody();let sn=null;const Gn=()=>{if(null!==sn)return sn;const yn=pt.statusText||"OK",Bn=new Q(pt.getAllResponseHeaders()),ui=function $r($e){return"responseURL"in $e&&$e.responseURL?$e.responseURL:/^X-Request-URL:/m.test($e.getAllResponseHeaders())?$e.getResponseHeader("X-Request-URL"):null}(pt)||Ee.url;return sn=new Ze({headers:Bn,status:pt.status,statusText:yn,url:ui}),sn},Ut=()=>{let{headers:yn,status:Bn,statusText:ui,url:zr}=Gn(),Fn=null;204!==Bn&&(Fn=void 0===pt.response?pt.responseText:pt.response),0===Bn&&(Bn=Fn?200:0);let Lr=Bn>=200&&Bn<300;if("json"===Ee.responseType&&"string"==typeof Fn){const Bi=Fn;Fn=Fn.replace(ti,"");try{Fn=""!==Fn?JSON.parse(Fn):null}catch(Gr){Fn=Bi,Lr&&(Lr=!1,Fn={error:Gr,text:Fn})}}Lr?(nt.next(new at({body:Fn,headers:yn,status:Bn,statusText:ui,url:zr||void 0})),nt.complete()):nt.error(new et({error:Fn,headers:yn,status:Bn,statusText:ui,url:zr||void 0}))},Vn=yn=>{const{url:Bn}=Gn(),ui=new et({error:yn,status:pt.status||0,statusText:pt.statusText||"Unknown Error",url:Bn||void 0});nt.error(ui)};let Kn=!1;const Kr=yn=>{Kn||(nt.next(Gn()),Kn=!0);let Bn={type:Rt.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(Bn.total=yn.total),"text"===Ee.responseType&&!!pt.responseText&&(Bn.partialText=pt.responseText),nt.next(Bn)},gn=yn=>{let Bn={type:Rt.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(Bn.total=yn.total),nt.next(Bn)};return pt.addEventListener("load",Ut),pt.addEventListener("error",Vn),pt.addEventListener("timeout",Vn),pt.addEventListener("abort",Vn),Ee.reportProgress&&(pt.addEventListener("progress",Kr),null!==un&&pt.upload&&pt.upload.addEventListener("progress",gn)),pt.send(un),nt.next({type:Rt.Sent}),()=>{pt.removeEventListener("error",Vn),pt.removeEventListener("abort",Vn),pt.removeEventListener("load",Ut),pt.removeEventListener("timeout",Vn),Ee.reportProgress&&(pt.removeEventListener("progress",Kr),null!==un&&pt.upload&&pt.upload.removeEventListener("progress",gn)),pt.readyState!==pt.DONE&&pt.abort()}})}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(f.JF))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Wr=new S.OlP("XSRF_COOKIE_NAME"),Nr=new S.OlP("XSRF_HEADER_NAME");class lr{}let yr=(()=>{class $e{constructor(Ee,nt,pt){this.doc=Ee,this.platform=nt,this.cookieName=pt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ee=this.doc.cookie||"";return Ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Ee,this.cookieName),this.lastCookieString=Ee),this.lastToken}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(f.K0),S.LFG(S.Lbi),S.LFG(Wr))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),cs=(()=>{class $e{constructor(Ee,nt){this.tokenService=Ee,this.headerName=nt}intercept(Ee,nt){const pt=Ee.url.toLowerCase();if("GET"===Ee.method||"HEAD"===Ee.method||pt.startsWith("http://")||pt.startsWith("https://"))return nt.handle(Ee);const un=this.tokenService.getToken();return null!==un&&!Ee.headers.has(this.headerName)&&(Ee=Ee.clone({headers:Ee.headers.set(this.headerName,un)})),nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(lr),S.LFG(Nr))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),zt=(()=>{class $e{constructor(Ee,nt){this.backend=Ee,this.injector=nt,this.chain=null}handle(Ee){if(null===this.chain){const nt=this.injector.get(Un,[]);this.chain=nt.reduceRight((pt,un)=>new ht(pt,un),this.backend)}return this.chain.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(he),S.LFG(S.zs3))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function Ei(){return"object"==typeof window?window:{}}let vr=(()=>{class $e{static disable(){return{ngModule:$e,providers:[{provide:cs,useClass:Kt}]}}static withOptions(Ee={}){return{ngModule:$e,providers:[Ee.cookieName?{provide:Wr,useValue:Ee.cookieName}:[],Ee.headerName?{provide:Nr,useValue:Ee.headerName}:[]]}}}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[cs,{provide:Un,useExisting:cs,multi:!0},{provide:lr,useClass:yr},{provide:Wr,useValue:"XSRF-TOKEN"},{provide:Nr,useValue:"X-XSRF-TOKEN"}]}),$e})(),Zi=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[bt,{provide:J,useClass:zt},ni,{provide:he,useExisting:ni}],imports:[vr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),$e})(),li=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[vi,{provide:dr,useFactory:Ei},{provide:Un,useClass:mi,multi:!0}]}),$e})()},5e3:(we,ae,C)=>{C.d(ae,{$8M:()=>ct,$Z:()=>Vh,AFp:()=>o0,ALo:()=>CE,AaK:()=>J,Akn:()=>Mu,AsE:()=>fg,B6R:()=>Fn,BQk:()=>Zd,CHM:()=>Na,CRH:()=>LE,CZH:()=>c_,CqO:()=>ig,D6c:()=>Mw,DdM:()=>hE,Dn7:()=>TE,EJc:()=>GC,EiD:()=>Ss,EpF:()=>Um,F$t:()=>Xd,F4k:()=>Vm,FYo:()=>Rf,FiY:()=>Xl,G48:()=>dw,G7q:()=>SE,Gf:()=>xE,GfV:()=>Sc,GkF:()=>Jd,Gpc:()=>Z,Gre:()=>Cy,HOy:()=>pg,HTZ:()=>mE,Hsn:()=>eh,IAx:()=>pa,Ikx:()=>ra,IyS:()=>Iy,JOm:()=>Au,JVY:()=>da,Jf7:()=>Uf,Jzz:()=>g,KtG:()=>Wo,L6k:()=>ba,LAX:()=>Iu,LFG:()=>rs,LSH:()=>ks,Lbi:()=>BC,Lck:()=>HD,MAs:()=>Fm,MGl:()=>vd,MMx:()=>xy,MT6:()=>wy,NdJ:()=>mf,O4$:()=>nn,OlP:()=>di,Oqu:()=>Jm,PXZ:()=>sw,PiD:()=>Ba,Q6J:()=>tg,QGY:()=>rg,QP$:()=>Nn,QbO:()=>jC,Qsj:()=>gh,R0b:()=>Ou,RDi:()=>nu,Rgc:()=>Cg,SBq:()=>Tc,Sil:()=>KC,Suo:()=>NE,TTD:()=>ro,TgZ:()=>Hc,Tol:()=>Wc,Udp:()=>dg,VKq:()=>fE,W1O:()=>VE,WLB:()=>pE,X6Q:()=>cw,XFs:()=>zt,Xpm:()=>zr,Xts:()=>Ii,Y36:()=>cd,YKP:()=>rE,YNc:()=>qd,Yjl:()=>Et,Yz7:()=>nr,Z0I:()=>mi,ZZ4:()=>rv,_Bn:()=>nE,_UZ:()=>fc,_Vd:()=>lu,_c5:()=>bw,_uU:()=>yy,aQg:()=>iv,c2e:()=>HC,cJS:()=>dr,cg1:()=>Ty,d8E:()=>Kc,dDg:()=>tw,dqk:()=>pt,eBb:()=>Pl,eFA:()=>v0,ekj:()=>sh,eoX:()=>m0,evT:()=>Rg,f3M:()=>hl,fQ9:()=>ii,g9A:()=>l0,gL8:()=>Xm,h0i:()=>Af,hGG:()=>Aw,hij:()=>Tf,iGM:()=>RE,ifc:()=>nt,ip1:()=>s0,jDz:()=>sE,kEZ:()=>gE,kL8:()=>Av,kcU:()=>Pn,lG2:()=>Ve,lcZ:()=>wE,lnq:()=>Cd,lqb:()=>Rl,lri:()=>p0,mCW:()=>G,n5z:()=>Yl,oAB:()=>Gr,oJD:()=>Jo,oxw:()=>yf,pB0:()=>_l,q3G:()=>pi,q4F:()=>wd,qLn:()=>bs,qOj:()=>Hd,qZA:()=>gf,qzn:()=>rl,rWj:()=>g0,s9C:()=>vf,sBO:()=>hw,sIi:()=>Wd,s_b:()=>a_,soG:()=>d_,tBr:()=>Jl,tb:()=>u0,tp0:()=>Ul,uIk:()=>Jp,uOi:()=>Su,vHH:()=>Ie,vpe:()=>mc,wAp:()=>_r,xi3:()=>IE,xp6:()=>em,ynx:()=>pc,z2F:()=>h_,z3N:()=>Sa,zSh:()=>Ui,zs3:()=>oc});var f=C(7579),S=C(727),te=C(9751),V=C(6451),le=C(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function oe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function J(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(J).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function he(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Q=de({__forward_ref__:de});function Z(n){return n.__forward_ref__=Z,n.toString=function(){return J(this())},n}function ce(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(Q)&&n.__forward_ref__===Z}class Ie extends Error{constructor(r,s){super(function Ye(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function We(n){return"string"==typeof n?n:null==n?"":String(n)}function Be(n,r){throw new Ie(-201,!1)}function Kt(n,r){null==n&&function Mt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function nr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function vi(n){return ti(n,Nr)||ti(n,yr)}function mi(n){return null!==vi(n)}function ti(n,r){return n.hasOwnProperty(r)?n[r]:null}function Wr(n){return n&&(n.hasOwnProperty(lr)||n.hasOwnProperty(cs))?n[lr]:null}const Nr=de({\u0275prov:de}),lr=de({\u0275inj:de}),yr=de({ngInjectableDef:de}),cs=de({ngInjectorDef:de});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let _i;function vr(n){const r=_i;return _i=n,r}function Zi(n,r,s){const a=vi(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&zt.Optional?null:void 0!==r?r:void Be(J(n))}function Tr(n){return{toString:n}.toString()}var $e=(()=>(($e=$e||{})[$e.OnPush=0]="OnPush",$e[$e.Default=1]="Default",$e))(),nt=(()=>{return(n=nt||(nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",nt;var n})();const pt=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Gn={},Ut=[],Vn=de({\u0275cmp:de}),Kn=de({\u0275dir:de}),Kr=de({\u0275pipe:de}),gn=de({\u0275mod:de}),yn=de({\u0275fac:de}),Bn=de({__NG_ELEMENT_ID__:de});let ui=0;function zr(n){return Tr(()=>{const s=!0===n.standalone,a={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$e.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ut,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||nt.Emulated,id:"c"+ui++,styles:n.styles||Ut,_:null,setInput:null,schemas:n.schemas||null,tView:null},m=n.dependencies,I=n.features;return d.inputs=Ae(n.inputs,a),d.outputs=Ae(n.outputs),I&&I.forEach(R=>R(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(Lr).filter(Bi):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(en).filter(Bi):null,d})}function Fn(n,r,s){const a=n.\u0275cmp;a.directiveDefs=()=>("function"==typeof r?r():r).map(Lr),a.pipeDefs=()=>("function"==typeof s?s():s).map(en)}function Lr(n){return Ke(n)||jt(n)}function Bi(n){return null!==n}function Gr(n){return Tr(()=>({type:n.type,bootstrap:n.bootstrap||Ut,declarations:n.declarations||Ut,imports:n.imports||Ut,exports:n.exports||Ut,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ae(n,r){if(null==n)return Gn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=a,r&&(r[d]=m)}return s}const Ve=zr;function Et(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ke(n){return n[Vn]||null}function jt(n){return n[Kn]||null}function en(n){return n[Kr]||null}function Nn(n){const r=Ke(n)||jt(n)||en(n);return null!==r&&r.standalone}function ir(n,r){const s=n[gn]||null;if(!s&&!0===r)throw new Error(`Type ${J(n)} does not have '\u0275mod' property.`);return s}function yi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Pr(n){return Array.isArray(n)&&!0===n[1]}function Sr(n){return 0!=(8&n.flags)}function Ln(n){return 2==(2&n.flags)}function Ur(n){return 1==(1&n.flags)}function as(n){return null!==n.template}function Te(n){return 0!=(256&n[2])}function Qs(n,r){return n.hasOwnProperty(yn)?n[yn]:null}class er{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ro(){return vs}function vs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Bo),io}function io(){const n=jo(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Gn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Bo(n,r,s,a){const d=jo(n)||function Ho(n,r){return n[so]=r}(n,{previous:Gn,current:null}),m=d.current||(d.current={}),I=d.previous,R=this.declaredInputs[s],U=I[R];m[R]=new er(U&&U.currentValue,r,I===Gn),n[a]=r}ro.ngInherit=!0;const so="__ngSimpleChanges__";function jo(n){return n[so]||null}function Wi(n){for(;Array.isArray(n);)n=n[0];return n}function Bs(n,r){return Wi(r[n])}function oi(n,r){return Wi(r[n.index])}function Dn(n,r){return n.data[r]}function $o(n,r){return n[r]}function ur(n,r){const s=r[n];return yi(s)?s:s[0]}function Rr(n){return 64==(64&n[2])}function js(n,r){return null==r?null:n[r]}function Go(n){n[18]=0}function qs(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Cn={lFrame:ol(null),bindingsEnabled:!0};function mo(){return Cn.bindingsEnabled}function ii(){Cn.bindingsEnabled=!0}function pa(){Cn.bindingsEnabled=!1}function Ot(){return Cn.lFrame.lView}function zn(){return Cn.lFrame.tView}function Na(n){return Cn.lFrame.contextLView=n,n[8]}function Wo(n){return Cn.lFrame.contextLView=null,n}function Ci(){let n=W();for(;null!==n&&64===n.type;)n=n.parent;return n}function W(){return Cn.lFrame.currentTNode}function L(n,r){const s=Cn.lFrame;s.currentTNode=n,s.isParent=r}function re(){return Cn.lFrame.isParent}function dt(){Cn.lFrame.isParent=!1}function Qr(){const n=Cn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ai(){return Cn.lFrame.bindingIndex}function Mo(){return Cn.lFrame.bindingIndex++}function Oo(n){const r=Cn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Ns(n,r){const s=Cn.lFrame;s.bindingIndex=s.bindingRootIndex=n,La(r)}function La(n){Cn.lFrame.currentDirectiveIndex=n}function Fa(n){const r=Cn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Ko(){return Cn.lFrame.currentQueryIndex}function zo(n){Cn.lFrame.currentQueryIndex=n}function vo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Po(n,r,s){if(s&zt.SkipSelf){let d=r,m=n;for(;!(d=d.parent,null!==d||s&zt.Host||(d=vo(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;r=d,n=m}const a=Cn.lFrame=ga();return a.currentTNode=r,a.lView=n,!0}function Ms(n){const r=ga(),s=n[1];Cn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ga(){const n=Cn.lFrame,r=null===n?null:n.child;return null===r?ol(n):r}function ol(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ro(){const n=Cn.lFrame;return Cn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k=Ro;function q(){const n=Ro();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function De(){return Cn.lFrame.selectedIndex}function rt(n){Cn.lFrame.selectedIndex=n}function ft(){const n=Cn.lFrame;return Dn(n.tView,n.selectedIndex)}function nn(){Cn.lFrame.currentNamespace="svg"}function Pn(){!function hr(){Cn.lFrame.currentNamespace=null}()}function Ar(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:R,ngAfterViewInit:U,ngAfterViewChecked:z,ngOnDestroy:ue}=m;I&&(n.contentHooks||(n.contentHooks=[])).push(-s,I),R&&((n.contentHooks||(n.contentHooks=[])).push(s,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,R)),U&&(n.viewHooks||(n.viewHooks=[])).push(-s,U),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=ue&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ue)}}function ts(n,r,s){Mi(n,r,3,s)}function Cs(n,r,s,a){(3&n[2])===s&&Mi(n,r,s,a)}function Zr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Mi(n,r,s,a){const m=null!=a?a:-1,I=r.length-1;let R=0;for(let U=void 0!==a?65535&n[18]:0;U<I;U++)if("number"==typeof r[U+1]){if(R=r[U],null!=a&&R>=a)break}else r[U]<0&&(n[18]+=65536),(R<m||-1==m)&&(ls(n,s,r,U),n[18]=(4294901760&n[18])+U+2),U++}function ls(n,r,s,a){const d=s[a]<0,m=s[a+1],R=n[d?-s[a]:s[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{m.call(R)}finally{}}}else try{m.call(R)}finally{}}class ma{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ut(n,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const m=s[a++],I=s[a++],R=s[a++];n.setAttribute(r,I,R,m)}else{const m=d,I=s[++a];ws(m)?n.setProperty(r,m,I):n.setAttribute(r,m,I),a++}}return a}function It(n){return 3===n||4===n||6===n}function ws(n){return 64===n.charCodeAt(0)}function qa(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||Oi(n,s,d,null,-1===s||2===s?r[++a]:null)}}return n}function Oi(n,r,s,a,d){let m=0,I=n.length;if(-1===r)I=-1;else for(;m<n.length;){const R=n[m++];if("number"==typeof R){if(R===r){I=-1;break}if(R>r){I=m-1;break}}}for(;m<n.length;){const R=n[m];if("number"==typeof R)break;if(R===s){if(null===a)return void(null!==d&&(n[m+1]=d));if(a===n[m+1])return void(n[m+2]=d)}m++,null!==a&&m++,null!==d&&m++}-1!==I&&(n.splice(I,0,r),m=I+1),n.splice(m++,0,s),null!==a&&n.splice(m++,0,a),null!==d&&n.splice(m++,0,d)}function Yo(n){return-1!==n}function Zs(n){return 32767&n}function Ls(n,r){let s=function zl(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let aa=!0;function xo(n){const r=aa;return aa=n,r}let rr=0;const Os={};function ci(n,r){const s=la(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,bn(a.data,n),bn(r,null),bn(a.blueprint,null));const d=Er(n,r),m=n.injectorIndex;if(Yo(d)){const I=Zs(d),R=Ls(d,r),U=R[1].data;for(let z=0;z<8;z++)r[m+z]=R[I+z]|U[I+z]}return r[m+8]=d,m}function bn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function la(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Er(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=va(d),null===a)return-1;if(s++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function us(n,r,s){!function pu(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Bn)&&(a=s[Bn]),null==a&&(a=s[Bn]=rr++);const d=255&a;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function Jt(n,r,s){if(s&zt.Optional||void 0!==n)return n;Be()}function Qo(n,r,s,a){if(s&zt.Optional&&void 0===a&&(a=null),0==(s&(zt.Self|zt.Host))){const d=n[9],m=vr(void 0);try{return d?d.get(r,a,s&zt.Optional):Zi(r,a,s&zt.Optional)}finally{vr(m)}}return Jt(a,0,s)}function _a(n,r,s,a=zt.Default,d){if(null!==n){if(1024&r[2]){const I=function ao(n,r,s,a,d){let m=n,I=r;for(;null!==m&&null!==I&&1024&I[2]&&!(256&I[2]);){const R=Do(m,I,s,a|zt.Self,Os);if(R!==Os)return R;let U=m.parent;if(!U){const z=I[21];if(z){const ue=z.get(s,Os,a);if(ue!==Os)return ue}U=va(I),I=I[15]}m=U}return d}(n,r,s,a,Os);if(I!==Os)return I}const m=Do(n,r,s,a,Os);if(m!==Os)return m}return Qo(r,s,a,d)}function Do(n,r,s,a,d){const m=function al(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Bn)?n[Bn]:void 0;return"number"==typeof r?r>=0?255&r:ya:r}(s);if("function"==typeof m){if(!Po(r,n,a))return a&zt.Host?Jt(d,0,a):Qo(r,s,a,d);try{const I=m(a);if(null!=I||a&zt.Optional)return I;Be()}finally{k()}}else if("number"==typeof m){let I=null,R=la(n,r),U=-1,z=a&zt.Host?r[16][6]:null;for((-1===R||a&zt.SkipSelf)&&(U=-1===R?Er(n,r):r[R+8],-1!==U&&ul(a,!1)?(I=r[1],R=Zs(U),r=Ls(U,r)):R=-1);-1!==R;){const ue=r[1];if(ll(m,R,ue.data)){const _e=gu(R,r,s,I,a,z);if(_e!==Os)return _e}U=r[R+8],-1!==U&&ul(a,r[1].data[R+8]===z)&&ll(m,R,r)?(I=ue,R=Zs(U),r=Ls(U,r)):R=-1}}return d}function gu(n,r,s,a,d,m){const I=r[1],R=I.data[n+8],ue=ka(R,I,s,null==a?Ln(R)&&aa:a!=I&&0!=(3&R.type),d&zt.Host&&m===R);return null!==ue?qo(r,I,ue,R):Os}function ka(n,r,s,a,d){const m=n.providerIndexes,I=r.data,R=1048575&m,U=n.directiveStart,ue=m>>20,Ue=d?R+ue:n.directiveEnd;for(let st=a?R:R+ue;st<Ue;st++){const St=I[st];if(st<U&&s===St||st>=U&&St.type===s)return st}if(d){const st=I[U];if(st&&as(st)&&st.type===s)return U}return null}function qo(n,r,s,a){let d=n[s];const m=r.data;if(function Lt(n){return n instanceof ma}(d)){const I=d;I.resolving&&function gt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${n}${s}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():We(n)}(m[s]));const R=xo(I.canSeeViewProviders);I.resolving=!0;const U=I.injectImpl?vr(I.injectImpl):null;Po(n,a,zt.Default);try{d=n[s]=I.factory(void 0,m,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Li(n,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:m}=r.type.prototype;if(a){const I=vs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,I),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,I)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],r)}finally{null!==U&&vr(U),xo(R),I.resolving=!1,k()}}return d}function ll(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function ul(n,r){return!(n&zt.Self||n&zt.Host&&r)}class Ki{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return _a(this._tNode,this._lView,r,a,s)}}function ya(){return new Ki(Ci(),Ot())}function Yl(n){return Tr(()=>{const r=n.prototype.constructor,s=r[yn]||Ua(r),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const m=d[yn]||Ua(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Ua(n){return Le(n)?()=>{const r=Ua(ce(n));return r&&r()}:Qs(n)}function va(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function ct(n){return function pr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const m=s[d];if(It(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(m===r)return s[d+1];d+=2}}}return null}(Ci(),n)}const Is="__parameters__";function Ja(n,r,s){return Tr(()=>{const a=function No(n){return function(...s){if(n){const a=n(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...m){if(this instanceof d)return a.apply(this,m),this;const I=new d(...m);return R.annotation=I,R;function R(U,z,ue){const _e=U.hasOwnProperty(Is)?U[Is]:Object.defineProperty(U,Is,{value:[]})[Is];for(;_e.length<=ue;)_e.push(null);return(_e[ue]=_e[ue]||[]).push(I),U}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class di{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=nr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function O(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),O(a,r)):r!==n&&r.push(a)}return r}function T(n,r){n.forEach(s=>Array.isArray(s)?T(s,r):r(s))}function F(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function $(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ne(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function vn(n,r,s){let a=Jr(n,r);return a>=0?n[1|a]=s:(a=~a,function Je(n,r,s,a){let d=n.length;if(d==r)n.push(s,a);else if(1===d)n.push(a,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function qn(n,r){const s=Jr(n,r);if(s>=0)return n[1|s]}function Jr(n,r){return function ps(n,r,s){let a=0,d=n.length>>s;for(;d!==a;){const m=a+(d-a>>1),I=n[m<<s];if(r===I)return m<<s;I>r?d=m:a=m+1}return~(d<<s)}(n,r,1)}const kl={},lo="__NG_DI_FLAG__",Fo="ngTempTokenPath",_u=/\n/gm,Xr="__source";let wa;function ko(n){const r=wa;return wa=n,r}function ql(n,r=zt.Default){if(void 0===wa)throw new Ie(-203,!1);return null===wa?Zi(n,void 0,r):wa.get(n,r&zt.Optional?null:void 0,r)}function rs(n,r=zt.Default){return(function Ei(){return _i}()||ql)(ce(n),r)}function hl(n,r=zt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),rs(n,r)}function ua(n){const r=[];for(let s=0;s<n.length;s++){const a=ce(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ie(900,!1);let d,m=zt.Default;for(let I=0;I<a.length;I++){const R=a[I],U=Yu(R);"number"==typeof U?-1===U?d=R.token:m|=U:d=R}r.push(rs(d,m))}else r.push(rs(a))}return r}function Il(n,r){return n[lo]=r,n.prototype[lo]=r,n}function Yu(n){return n[lo]}const Jl=Il(Ja("Inject",n=>({token:n})),-1),Xl=Il(Ja("Optional"),8),Ba=Il(Ja("Self"),2),Ul=Il(Ja("SkipSelf"),4);let bl,jl,Al;function nu(n){bl=n}function Yi(n){var r;return(null===(r=function Ha(){if(void 0===jl&&(jl=null,pt.trustedTypes))try{jl=pt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return jl}())||void 0===r?void 0:r.createHTML(n))||n}function gl(){if(void 0===Al&&(Al=null,pt.trustedTypes))try{Al=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Al}function ml(n){var r;return(null===(r=gl())||void 0===r?void 0:r.createHTML(n))||n}function Ta(n){var r;return(null===(r=gl())||void 0===r?void 0:r.createScriptURL(n))||n}class Ml{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qu extends Ml{getTypeName(){return"HTML"}}class Lu extends Ml{getTypeName(){return"Style"}}class Fu extends Ml{getTypeName(){return"Script"}}class wu extends Ml{getTypeName(){return"URL"}}class vc extends Ml{getTypeName(){return"ResourceURL"}}function Sa(n){return n instanceof Ml?n.changingThisBreaksApplicationSecurity:n}function rl(n,r){const s=function Ol(n){return n instanceof Ml&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function da(n){return new qu(n)}function ba(n){return new Lu(n)}function Pl(n){return new Fu(n)}function Iu(n){return new wu(n)}function _l(n){return new vc(n)}class w{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Yi(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class E{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Yi(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Yi(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const I=s.item(d).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&r.removeAttribute(I)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const x=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function G(n){return(n=String(n)).match(x)?n:"unsafe:"+n}function se(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function ve(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const be=se("area,br,col,hr,img,wbr"),Xe=se("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mt=se("rp,rt"),wn=ve(be,ve(Xe,se("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ve(mt,se("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ve(mt,Xe)),fn=se("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ei=ve(fn,se("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),se("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=se("script,style,template");class Ws{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!wn.hasOwnProperty(s))return this.sanitizedSomething=!0,!ai.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const m=a.item(d),I=m.name,R=I.toLowerCase();if(!ei.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let U=m.value;fn[R]&&(U=G(U)),this.buf.push(" ",I,'="',Rs(U),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();wn.hasOwnProperty(s)&&!be.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Rs(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function Rs(n){return n.replace(/&/g,"&amp;").replace(gr,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let is;function Ss(n,r){let s=null;try{is=is||function Tu(n){const r=new E(n);return function _(){try{return!!(new window.DOMParser).parseFromString(Yi(""),"text/html")}catch(n){return!1}}()?new w(r):r}(n);let a=r?String(r):"";s=is.getInertBodyElement(a);let d=5,m=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=m,m=s.innerHTML,s=is.getInertBodyElement(a)}while(a!==m);return Yi((new Ws).sanitizeChildren(iu(s)||s))}finally{if(s){const a=iu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function iu(n){return"content"in n&&function fi(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function Jo(n){const r=Io();return r?ml(r.sanitize(pi.HTML,n)||""):rl(n,"HTML")?ml(Sa(n)):Ss(function fl(){return void 0!==bl?bl:"undefined"!=typeof document?document:void 0}(),We(n))}function ks(n){const r=Io();return r?r.sanitize(pi.URL,n)||"":rl(n,"URL")?Sa(n):G(We(n))}function Su(n){const r=Io();if(r)return Ta(r.sanitize(pi.RESOURCE_URL,n)||"");if(rl(n,"ResourceURL"))return Ta(Sa(n));throw new Ie(904,!1)}function Io(){const n=Ot();return n&&n[12]}const Ii=new di("ENVIRONMENT_INITIALIZER"),bu=new di("INJECTOR",-1),Zu=new di("INJECTOR_DEF_TYPES");class Ks{get(r,s=kl){if(s===kl){const a=new Error(`NullInjectorError: No provider for ${J(r)}!`);throw a.name="NullInjectorError",a}return s}}function b(...n){return{\u0275providers:p(0,n)}}function p(n,...r){const s=[],a=new Set;let d;return T(r,m=>{const I=m;A(I,s,[],a)&&(d||(d=[]),d.push(I))}),void 0!==d&&y(d,s),s}function y(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];T(d,m=>{r.push(m)})}}function A(n,r,s,a){if(!(n=ce(n)))return!1;let d=null,m=Wr(n);const I=!m&&Ke(n);if(m||I){if(I&&!I.standalone)return!1;d=n}else{const U=n.ngModule;if(m=Wr(U),!m)return!1;d=U}const R=a.has(d);if(I){if(R)return!1;if(a.add(d),I.dependencies){const U="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const z of U)A(z,r,s,a)}}else{if(!m)return!1;{if(null!=m.imports&&!R){let z;a.add(d);try{T(m.imports,ue=>{A(ue,r,s,a)&&(z||(z=[]),z.push(ue))})}finally{}void 0!==z&&y(z,r)}if(!R){const z=Qs(d)||(()=>new d);r.push({provide:d,useFactory:z,deps:Ut},{provide:Zu,useValue:d,multi:!0},{provide:Ii,useValue:()=>rs(d),multi:!0})}const U=m.providers;null==U||R||T(U,ue=>{r.push(ue)})}}return d!==n&&void 0!==n.providers}const fe=de({provide:String,useValue:de});function Qe(n){return null!==n&&"object"==typeof n&&fe in n}function Rn(n){return"function"==typeof n}const Ui=new di("Set Injector scope."),Aa={},$a={};let ha;function su(){return void 0===ha&&(ha=new Ks),ha}class Rl{}class ou extends Rl{constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wc(r,I=>this.processProvider(I)),this.records.set(bu,au(void 0,this)),d.has("environment")&&this.records.set(Rl,au(void 0,this));const m=this.records.get(Ui);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Zu.multi,Ut,zt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=ko(this),a=vr(void 0);try{return r()}finally{ko(s),vr(a)}}get(r,s=kl,a=zt.Default){this.assertNotDestroyed();const d=ko(this),m=vr(void 0);try{if(!(a&zt.SkipSelf)){let R=this.records.get(r);if(void 0===R){const U=function Uu(n){return"function"==typeof n||"object"==typeof n&&n instanceof di}(r)&&vi(r);R=U&&this.injectableDefInScope(U)?au(Ju(r),Aa):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(a&zt.Self?su():this.parent).get(r,s=a&zt.Optional&&s===kl?null:s)}catch(I){if("NullInjectorError"===I.name){if((I[Fo]=I[Fo]||[]).unshift(J(r)),d)throw I;return function Qu(n,r,s,a){const d=n[Fo];throw r[Xr]&&d.unshift(r[Xr]),n.message=function Zl(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=J(r);if(Array.isArray(r))d=r.map(J).join(" -> ");else if("object"==typeof r){let m=[];for(let I in r)if(r.hasOwnProperty(I)){let R=r[I];m.push(I+":"+("string"==typeof R?JSON.stringify(R):J(R)))}d=`{${m.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${n.replace(_u,"\n  ")}`}("\n"+n.message,d,s,a),n.ngTokenPath=d,n[Fo]=null,n}(I,r,"R3InjectorError",this.source)}throw I}finally{vr(m),ko(d)}}resolveInjectorInitializers(){const r=ko(this),s=vr(void 0);try{const a=this.get(Ii.multi,Ut,zt.Self);for(const d of a)d()}finally{ko(r),vr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(J(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(r){let s=Rn(r=ce(r))?r:ce(r&&r.provide);const a=function Qc(n){return Qe(n)?au(void 0,n.useValue):au(Ec(n),Aa)}(r);if(Rn(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=au(void 0,Aa,!0),d.factory=()=>ua(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Aa&&(s.value=$a,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Dc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ce(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Ju(n){const r=vi(n),s=null!==r?r.factory:Qs(n);if(null!==s)return s;if(n instanceof di)throw new Ie(204,!1);if(n instanceof Function)return function Xu(n){const r=n.length;if(r>0)throw ne(r,"?"),new Ie(204,!1);const s=function $r(n){const r=n&&(n[Nr]||n[yr]);if(r){const s=function ni(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ie(204,!1)}function Ec(n,r,s){let a;if(Rn(n)){const d=ce(n);return Qs(d)||Ju(d)}if(Qe(n))a=()=>ce(n.useValue);else if(function dn(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ua(n.deps||[]));else if(function wt(n){return!(!n||!n.useExisting)}(n))a=()=>rs(ce(n.useExisting));else{const d=ce(n&&(n.useClass||n.provide));if(!function ku(n){return!!n.deps}(n))return Qs(d)||Ju(d);a=()=>new d(...ua(n.deps))}return a}function au(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Cc(n){return!!n.\u0275providers}function wc(n,r){for(const s of n)Array.isArray(s)?wc(s,r):Cc(s)?wc(s.\u0275providers,r):r(s)}class dh{}class ph{resolveComponentFactory(r){throw function hh(n){const r=Error(`No component factory found for ${J(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let lu=(()=>{class n{}return n.NULL=new ph,n})();function Ic(){return Vu(Ci(),Ot())}function Vu(n,r){return new Tc(oi(n,r))}let Tc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Ic,n})();function Pf(n){return n instanceof Tc?n.nativeElement:n}class Rf{}let gh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $l(){const n=Ot(),s=ur(Ci().index,n);return(yi(s)?s:n)[11]}(),n})(),mh=(()=>{class n{}return n.\u0275prov=nr({token:n,providedIn:"root",factory:()=>null}),n})();class Sc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wd=new Sc("14.2.4"),_h={};function Gl(n){return n.ngOriginalError}class bs{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Gl(r);for(;s&&Gl(s);)s=Gl(s);return s||null}}const ju=new Map;let Ac=0;const Eh="__ngContext__";function Ma(n,r){yi(r)?(n[Eh]=r[20],function Td(n){ju.set(n[20],n)}(r)):n[Eh]=r}function Uf(n){return n.ownerDocument.defaultView}function Rg(n){return n.ownerDocument}function uu(n){return n instanceof Function?n():n}var Au=(()=>((Au=Au||{})[Au.Important=1]="Important",Au[Au.DashCase=2]="DashCase",Au))();function Xc(n,r){return undefined(n,r)}function nc(n){const r=n[3];return Pr(r)?r[3]:r}function Dh(n){return $f(n[13])}function Wa(n){return $f(n[4])}function $f(n){for(;null!==n&&!Pr(n);)n=n[4];return n}function Hu(n,r,s,a,d){if(null!=a){let m,I=!1;Pr(a)?m=a:yi(a)&&(I=!0,a=a[0]);const R=Wi(a);0===n&&null!==s?null==d?Yf(r,s,R):xc(r,s,R,d||null,!0):1===n&&null!==s?xc(r,s,R,d||null,!0):2===n?function Zf(n,r,s){const a=Od(n,r);a&&function Md(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,R,I):3===n&&r.destroyNode(R),null!=m&&function ep(n,r,s,a,d){const m=s[7];m!==Wi(s)&&Hu(r,n,a,m,d);for(let R=10;R<s.length;R++){const U=s[R];sc(U[1],U,n,r,a,m)}}(r,n,m,s,d)}}function wh(n,r,s){return n.createElement(r,s)}function Bg(n,r){const s=n[9],a=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,qs(d,-1)),s.splice(a,1)}function Wf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const d=a[17];null!==d&&d!==n&&Bg(d,a),r>0&&(n[s-1][4]=a[4]);const m=$(n,10+r);!function Rc(n,r){sc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const I=m[19];null!==I&&I.detachView(m[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function jg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&sc(n,r,s,3,null,null),function Ug(n){let r=n[13];if(!r)return Kf(n[1],n);for(;r;){let s=null;if(yi(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)yi(r)&&Kf(r[1],r),r=r[3];null===r&&(r=n),yi(r)&&Kf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Kf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Hg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof ma)){const m=s[a+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const R=d[m[I]],U=m[I+1];try{U.call(R)}finally{}}else try{m.call(d)}finally{}}}}(n,r),function Ih(n,r){const s=n.cleanup,a=r[7];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const I=s[m+1],R="function"==typeof I?I(r):Wi(r[I]),U=a[d=s[m+2]],z=s[m+3];"boolean"==typeof z?R.removeEventListener(s[m],U,z):z>=0?a[d=z]():a[d=-z].unsubscribe(),m+=2}else{const I=a[d=s[m+1]];s[m].call(I)}if(null!==a){for(let m=d+1;m<a.length;m++)(0,a[m])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Pr(r[3])){s!==r[3]&&Bg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Lf(n){ju.delete(n[20])}(r)}}function $g(n,r,s){return function zf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===nt.None||d===nt.Emulated)return null}return oi(a,s)}(n,r.parent,s)}function xc(n,r,s,a,d){n.insertBefore(r,s,a,d)}function Yf(n,r,s){n.appendChild(r,s)}function ic(n,r,s,a,d){null!==a?xc(n,r,s,a,d):Yf(n,r,s)}function Od(n,r){return n.parentNode(r)}function Qf(n,r,s){return Wg(n,r,s)}let Wg=function Gg(n,r,s){return 40&n.type?oi(n,s):null};function Th(n,r,s,a){const d=$g(n,a,r),m=r[11],R=Qf(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(s))for(let U=0;U<s.length;U++)ic(m,d,s[U],R,!1);else ic(m,d,s,R,!1)}function Sh(n,r){if(null!==r){const s=r.type;if(3&s)return oi(r,n);if(4&s)return qf(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Sh(n,a);{const d=n[r.index];return Pr(d)?qf(-1,d):Wi(d)}}if(32&s)return Xc(r,n)()||Wi(n[r.index]);{const a=Kg(n,r);return null!==a?Array.isArray(a)?a[0]:Sh(nc(n[16]),a):Sh(n,r.next)}}return null}function Kg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function qf(n,r){const s=10+n+1;if(s<r.length){const a=r[s],d=a[1].firstChild;if(null!==d)return Sh(a,d)}return r[7]}function Jf(n,r,s,a,d,m,I){for(;null!=s;){const R=a[s.index],U=s.type;if(I&&0===r&&(R&&Ma(Wi(R),a),s.flags|=4),64!=(64&s.flags))if(8&U)Jf(n,r,s.child,a,d,m,!1),Hu(r,n,d,R,m);else if(32&U){const z=Xc(s,a);let ue;for(;ue=z();)Hu(r,n,d,ue,m);Hu(r,n,d,R,m)}else 16&U?Xf(n,r,a,s,d,m):Hu(r,n,d,R,m);s=I?s.projectionNext:s.next}}function sc(n,r,s,a,d,m){Jf(s,a,n.firstChild,r,d,m,!1)}function Xf(n,r,s,a,d,m){const I=s[16],U=I[6].projection[a.projection];if(Array.isArray(U))for(let z=0;z<U.length;z++)Hu(r,n,d,U[z],m);else Jf(n,r,U,I[3],d,m,!0)}function nd(n,r,s){n.setAttribute(r,"style",s)}function rd(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function bh(n,r,s){let a=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=r.length;if(d+m===a||n.charCodeAt(d+m)<=32)return d}s=d+1}}const np="ng-template";function T_(n,r,s){let a=0;for(;a<n.length;){let d=n[a++];if(s&&"class"===d){if(d=n[a],-1!==bh(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function rp(n){return 4===n.type&&n.value!==np}function Yg(n,r,s){return r===(4!==n.type||s?n.value:np)}function ip(n,r,s){let a=4;const d=n.attrs||[],m=function S_(n){for(let r=0;r<n.length;r++)if(It(n[r]))return r;return n.length}(d);let I=!1;for(let R=0;R<r.length;R++){const U=r[R];if("number"!=typeof U){if(!I)if(4&a){if(a=2|1&a,""!==U&&!Yg(n,U,s)||""===U&&1===r.length){if(cu(a))return!1;I=!0}}else{const z=8&a?U:r[++R];if(8&a&&null!==n.attrs){if(!T_(n.attrs,z,s)){if(cu(a))return!1;I=!0}continue}const _e=Qg(8&a?"class":U,d,rp(n),s);if(-1===_e){if(cu(a))return!1;I=!0;continue}if(""!==z){let Ue;Ue=_e>m?"":d[_e+1].toLowerCase();const st=8&a?Ue:null;if(st&&-1!==bh(st,z,0)||2&a&&z!==Ue){if(cu(a))return!1;I=!0}}}}else{if(!I&&!cu(a)&&!cu(U))return!1;if(I&&cu(U))continue;I=!1,a=U|1&a}}return cu(a)||I}function cu(n){return 0==(1&n)}function Qg(n,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let m=!1;for(;d<r.length;){const I=r[d];if(I===n)return d;if(3===I||6===I)m=!0;else{if(1===I||2===I){let R=r[++d];for(;"string"==typeof R;)R=r[++d];continue}if(4===I)break;if(0===I){d+=4;continue}}d+=m?1:2}return-1}return function id(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function qg(n,r,s=!1){for(let a=0;a<r.length;a++)if(ip(n,r[a],s))return!0;return!1}function sd(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function Ah(n,r){return n?":not("+r.trim()+")":r}function Mh(n){let r=n[0],s=1,a=2,d="",m=!1;for(;s<n.length;){let I=n[s];if("string"==typeof I)if(2&a){const R=n[++s];d+="["+I+(R.length>0?'="'+R+'"':"")+"]"}else 8&a?d+="."+I:4&a&&(d+=" "+I);else""!==d&&!cu(I)&&(r+=Ah(m,d),d=""),a=I,m=m||!cu(a);s++}return""!==d&&(r+=Ah(m,d)),r}const xr={};function em(n){Oh(zn(),Ot(),De()+n,!1)}function Oh(n,r,s,a){if(!a)if(3==(3&r[2])){const m=n.preOrderCheckHooks;null!==m&&ts(r,m,s)}else{const m=n.preOrderHooks;null!==m&&Cs(r,m,0,s)}rt(s)}function Rh(n,r=null,s=null,a){const d=xh(n,r,s,a);return d.resolveInjectorInitializers(),d}function xh(n,r=null,s=null,a,d=new Set){const m=[s||Ut,b(n)];return a=a||("object"==typeof n?void 0:J(n)),new ou(m,r||su(),a||null,d)}let oc=(()=>{class n{static create(s,a){var d;if(Array.isArray(s))return Rh({name:""},a,s,"");{const m=null!==(d=s.name)&&void 0!==d?d:"";return Rh({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=kl,n.NULL=new Ks,n.\u0275prov=nr({token:n,providedIn:"any",factory:()=>rs(bu)}),n.__NG_ELEMENT_ID__=-1,n})();function cd(n,r=zt.Default){const s=Ot();return null===s?rs(n,r):_a(Ci(),s,ce(n),r)}function Vh(){throw new Error("invalid")}function dd(n,r){return n<<17|r<<2}function yl(n){return n>>17&32767}function lc(n){return 2|n}function du(n){return(131068&n)>>2}function pp(n,r){return-131069&n|r<<2}function jh(n){return 1|n}function Gh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a],m=s[a+1];if(-1!==m){const I=n.data[m];zo(d),I.contentQueries(2,r[m],m)}}}function Wh(n,r,s,a,d,m,I,R,U,z,ue){const _e=r.blueprint.slice();return _e[0]=d,_e[2]=76|a,(null!==ue||n&&1024&n[2])&&(_e[2]|=1024),Go(_e),_e[3]=_e[15]=n,_e[8]=s,_e[10]=I||n&&n[10],_e[11]=R||n&&n[11],_e[12]=U||n&&n[12]||null,_e[9]=z||n&&n[9]||null,_e[6]=m,_e[20]=function Mc(){return Ac++}(),_e[21]=ue,_e[16]=2==r.type?n[16]:_e,_e}function cc(n,r,s,a,d){let m=n.data[r];if(null===m)m=function Kh(n,r,s,a,d){const m=W(),I=re(),U=n.data[r]=function Im(n,r,s,a,d,m){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,s,r,a,d);return null===n.firstChild&&(n.firstChild=U),null!==m&&(I?null==m.child&&null!==U.parent&&(m.child=U):null===m.next&&(m.next=U)),U}(n,r,s,a,d),function El(){return Cn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=a,m.attrs=d;const I=function j(){const n=Cn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();m.injectorIndex=null===I?-1:I.injectorIndex}return L(m,!0),m}function dc(n,r,s,a){if(0===s)return-1;const d=r.length;for(let m=0;m<s;m++)r.push(a),n.blueprint.push(a),n.data.push(null);return d}function zh(n,r,s){Ms(r);try{const a=n.viewQuery;null!==a&&rf(1,a,s);const d=n.template;null!==d&&Qh(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Gh(n,r),n.staticViewQueries&&rf(2,n.viewQuery,s);const m=n.components;null!==m&&function Mp(n,r){for(let s=0;s<r.length;s++)Hp(n,r[s])}(r,m)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,q()}}function Yh(n,r,s,a){const d=r[2];if(128!=(128&d)){Ms(r);try{Go(r),function _o(n){return Cn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Qh(n,r,s,2,a);const I=3==(3&d);if(I){const z=n.preOrderCheckHooks;null!==z&&ts(r,z,null)}else{const z=n.preOrderHooks;null!==z&&Cs(r,z,0,null),Zr(r,0)}if(function G_(n){for(let r=Dh(n);null!==r;r=Wa(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const d=s[a],m=d[3];0==(512&d[2])&&qs(m,1),d[2]|=512}}}(r),function Pm(n){for(let r=Dh(n);null!==r;r=Wa(r))for(let s=10;s<r.length;s++){const a=r[s],d=a[1];Rr(a)&&Yh(d,a,d.template,a[8])}}(r),null!==n.contentQueries&&Gh(n,r),I){const z=n.contentCheckHooks;null!==z&&ts(r,z)}else{const z=n.contentHooks;null!==z&&Cs(r,z,1),Zr(r,1)}!function Ap(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)rt(~d);else{const m=d,I=s[++a],R=s[++a];Ns(I,m),R(2,r[m])}}}finally{rt(-1)}}(n,r);const R=n.components;null!==R&&function k_(n,r){for(let s=0;s<r.length;s++)W_(n,r[s])}(r,R);const U=n.viewQuery;if(null!==U&&rf(2,U,a),I){const z=n.viewCheckHooks;null!==z&&ts(r,z)}else{const z=n.viewHooks;null!==z&&Cs(r,z,2),Zr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,qs(r[3],-1))}finally{q()}}}function Qh(n,r,s,a,d){const m=De(),I=2&a;try{rt(-1),I&&r.length>22&&Oh(n,r,22,!1),s(a,d)}finally{rt(m)}}function Cm(n,r,s){if(Sr(r)){const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const I=n.data[m];I.contentQueries&&I.contentQueries(1,s[m],m)}}}function Vd(n,r,s){!mo()||(function Fp(n,r,s,a){const d=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||ci(s,r),Ma(a,r);const I=s.initialInputs;for(let R=d;R<m;R++){const U=n.data[R],z=as(U);z&&$_(r,s,U);const ue=qo(r,n,R,s);Ma(ue,r),null!==I&&Bp(0,R-d,ue,U,0,I),z&&(ur(s.index,r)[8]=ue)}}(n,r,s,oi(s,r)),128==(128&s.flags)&&function j_(n,r,s){const a=s.directiveStart,d=s.directiveEnd,m=s.index,I=function yo(){return Cn.lFrame.currentDirectiveIndex}();try{rt(m);for(let R=a;R<d;R++){const U=n.data[R],z=r[R];La(R),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&ef(U,z)}}finally{rt(-1),La(I)}}(n,r,s))}function Op(n,r,s=oi){const a=r.localNames;if(null!==a){let d=r.index+1;for(let m=0;m<a.length;m+=2){const I=a[m+1],R=-1===I?s(r,n):n[I];n[d++]=R}}}function qh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Pp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Pp(n,r,s,a,d,m,I,R,U,z){const ue=22+a,_e=ue+d,Ue=function Rp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:xr);return s}(ue,_e),st="function"==typeof z?z():z;return Ue[1]={type:n,blueprint:Ue,template:s,queries:null,viewQuery:R,declTNode:r,data:Ue.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:U,consts:st,incompleteFirstPass:!1}}function kc(n,r,s,a){const d=$p(r);null===s?d.push(a):(d.push(s),n.firstCreatePass&&pd(n).push(a,d.length-1))}function Zh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,d):s[a]=[r,d]}return s}function Tm(n,r){const a=r.directiveEnd,d=n.data,m=r.attrs,I=[];let R=null,U=null;for(let z=r.directiveStart;z<a;z++){const ue=d[z],_e=ue.inputs,Ue=null===m||rp(r)?null:jp(_e,m);I.push(Ue),R=Zh(_e,z,R),U=Zh(ue.outputs,z,U)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=16),R.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=I,r.inputs=R,r.outputs=U}function To(n,r,s,a,d,m,I,R){const U=oi(r,s);let ue,z=r.inputs;!R&&null!=z&&(ue=z[a])?(ta(n,s,ue,a,d),Ln(r)&&Jh(s,r.index)):3&r.type&&(a=function Np(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=I?I(d,r.value||"",a):d,m.setProperty(U,a,d))}function Jh(n,r){const s=ur(r,n);16&s[2]||(s[2]|=32)}function Lp(n,r,s,a){let d=!1;if(mo()){const m=function H_(n,r,s){const a=n.directiveRegistry;let d=null;if(a)for(let m=0;m<a.length;m++){const I=a[m];qg(s,I.selectors,!1)&&(d||(d=[]),us(ci(s,r),n,I.type),as(I)?(tf(n,s),d.unshift(I)):d.push(I))}return d}(n,r,s),I=null===a?null:{"":-1};if(null!==m){d=!0,Up(s,n.data.length,m.length);for(let ue=0;ue<m.length;ue++){const _e=m[ue];_e.providersResolver&&_e.providersResolver(_e)}let R=!1,U=!1,z=dc(n,r,m.length,null);for(let ue=0;ue<m.length;ue++){const _e=m[ue];s.mergedAttrs=qa(s.mergedAttrs,_e.hostAttrs),Am(n,s,r,z,_e),kp(z,_e,I),null!==_e.contentQueries&&(s.flags|=8),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(s.flags|=128);const Ue=_e.type.prototype;!R&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),R=!0),!U&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),U=!0),z++}Tm(n,s)}I&&function bm(n,r,s){if(r){const a=n.localNames=[];for(let d=0;d<r.length;d+=2){const m=s[r[d+1]];if(null==m)throw new Ie(-301,!1);a.push(r[d],m)}}}(s,a,I)}return s.mergedAttrs=qa(s.mergedAttrs,s.attrs),d}function Xh(n,r,s,a,d,m){const I=m.hostBindings;if(I){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const U=~r.index;(function B_(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(R)!=U&&R.push(U),R.push(a,d,I)}}function ef(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function tf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function kp(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;as(r)&&(s[""]=n)}}function Up(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Am(n,r,s,a,d){n.data[a]=d;const m=d.factory||(d.factory=Qs(d.type)),I=new ma(m,as(d),cd);n.blueprint[a]=I,s[a]=I,Xh(n,r,0,a,dc(n,s,d.hostVars,xr),d)}function $_(n,r,s){const a=oi(r,n),d=qh(s),m=n[10],I=jd(n,Wh(n,d,null,s.onPush?32:16,a,r,m,m.createRenderer(a,s),null,null,null));n[r.index]=I}function Wl(n,r,s,a,d,m){const I=oi(n,r);!function Vp(n,r,s,a,d,m,I){if(null==m)n.removeAttribute(r,d,s);else{const R=null==I?We(m):I(m,a||"",d);n.setAttribute(r,d,R,s)}}(r[11],I,m,n.value,s,a,d)}function Bp(n,r,s,a,d,m){const I=m[r];if(null!==I){const R=a.setInput;for(let U=0;U<I.length;){const z=I[U++],ue=I[U++],_e=I[U++];null!==R?a.setInput(s,_e,z,ue):s[ue]=_e}}}function jp(n,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Om(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function W_(n,r){const s=ur(r,n);if(Rr(s)){const a=s[1];48&s[2]?Yh(a,s,a.template,s[8]):s[5]>0&&Bd(s)}}function Bd(n){for(let a=Dh(n);null!==a;a=Wa(a))for(let d=10;d<a.length;d++){const m=a[d];if(Rr(m))if(512&m[2]){const I=m[1];Yh(I,m,I.template,m[8])}else m[5]>0&&Bd(m)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const d=ur(s[a],n);Rr(d)&&d[5]>0&&Bd(d)}}function Hp(n,r){const s=ur(r,n),a=s[1];(function K_(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),zh(a,s,s[8])}function jd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function nf(n){for(;n;){n[2]|=32;const r=nc(n);if(Te(n)&&!r)return n;n=r}return null}function Uc(n,r,s,a=!0){const d=r[10];d.begin&&d.begin();try{Yh(n,r,n.template,s)}catch(I){throw a&&co(r,I),I}finally{d.end&&d.end()}}function rf(n,r,s){zo(0),r(n,s)}function $p(n){return n[7]||(n[7]=[])}function pd(n){return n.cleanup||(n.cleanup=[])}function co(n,r){const s=n[9],a=s?s.get(bs,null):null;a&&a.handleError(r)}function ta(n,r,s,a,d){for(let m=0;m<s.length;){const I=s[m++],R=s[m++],U=r[I],z=n.data[I];null!==z.setInput?z.setInput(U,d,a,R):U[R]=d}}function fa(n,r,s){const a=Bs(r,n);!function $u(n,r,s){n.setValue(r,s)}(n[11],a,s)}function sf(n,r,s){let a=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==r)for(let I=0;I<r.length;I++){const R=r[I];"number"==typeof R?m=R:1==m?d=he(d,R):2==m&&(a=he(a,R+": "+r[++I]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=d:n.classesWithoutHost=d}function Gp(n,r,s,a,d=!1){for(;null!==s;){const m=r[s.index];if(null!==m&&a.push(Wi(m)),Pr(m))for(let R=10;R<m.length;R++){const U=m[R],z=U[1].firstChild;null!==z&&Gp(U[1],U,z,a)}const I=s.type;if(8&I)Gp(n,r,s.child,a);else if(32&I){const R=Xc(s,r);let U;for(;U=R();)a.push(U)}else if(16&I){const R=Kg(r,s);if(Array.isArray(R))a.push(...R);else{const U=nc(r[16]);Gp(U[1],U,R,a,!0)}}s=d?s.projectionNext:s.next}return a}class gd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Gp(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Pr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Wf(r,a),$(s,a))}this._attachedToViewContainer=!1}jg(this._lView[1],this._lView)}onDestroy(r){kc(this._lView[1],this._lView,null,r)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Uc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function td(n,r){sc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=r}}class vv extends gd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Uc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class af extends lu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ke(r);return new uf(s,this.ngModule)}}function Wp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Y_{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const d=this.injector.get(r,_h,a);return d!==_h||s===_h?d:this.parentInjector.get(r,s,a)}}class uf extends dh{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Jg(n){return n.map(Mh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Wp(this.componentDef.inputs)}get outputs(){return Wp(this.componentDef.outputs)}create(r,s,a,d){let m=(d=d||this.ngModule)instanceof Rl?d:null==d?void 0:d.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new Y_(r,m):r,R=I.get(Rf,null);if(null===R)throw new Ie(407,!1);const U=I.get(mh,null),z=R.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",_e=a?function xp(n,r,s){return n.selectRootElement(r,s===nt.ShadowDom)}(z,a,this.componentDef.encapsulation):wh(R.createRenderer(null,this.componentDef),ue,function lf(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ue)),Ue=this.componentDef.onPush?288:272,st=Pp(0,null,null,1,0,null,null,null,null,null),St=Wh(null,st,null,Ue,null,null,R,z,U,I,null);let qt,ln;Ms(St);try{const jn=function Z_(n,r,s,a,d,m){const I=s[1];s[22]=n;const U=cc(I,22,2,"#host",null),z=U.mergedAttrs=r.hostAttrs;null!==z&&(sf(U,z,!0),null!==n&&(ut(d,n,z),null!==U.classes&&rd(d,n,U.classes),null!==U.styles&&nd(d,n,U.styles)));const ue=a.createRenderer(n,r),_e=Wh(s,qh(r),null,r.onPush?32:16,s[22],U,a,ue,m||null,null,null);return I.firstCreatePass&&(us(ci(U,s),I,r.type),tf(I,U),Up(U,s.length,1)),jd(s,_e),s[22]=_e}(_e,this.componentDef,St,R,z);if(_e)if(a)ut(z,_e,["ng-version",wd.full]);else{const{attrs:cr,classes:Ft}=function Xg(n){const r=[],s=[];let a=1,d=2;for(;a<n.length;){let m=n[a];if("string"==typeof m)2===d?""!==m&&r.push(m,n[++a]):8===d&&s.push(m);else{if(!cu(d))break;d=m}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);cr&&ut(z,_e,cr),Ft&&Ft.length>0&&rd(z,_e,Ft.join(" "))}if(ln=Dn(st,22),void 0!==s){const cr=ln.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const Dr=s[Ft];cr.push(null!=Dr?Array.from(Dr):null)}}qt=function xm(n,r,s,a){const d=s[1],m=function V_(n,r,s){const a=Ci();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Am(n,a,r,dc(n,r,1,null),s),Tm(n,a));const d=qo(r,n,a.directiveStart,a);Ma(d,r);const m=oi(a,r);return m&&Ma(m,r),d}(d,s,r);if(n[8]=s[8]=m,null!==a)for(const R of a)R(m,r);if(r.contentQueries){const R=Ci();r.contentQueries(1,m,R.directiveStart)}const I=Ci();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(rt(I.index),Xh(s[1],I,0,I.directiveStart,I.directiveEnd,r),ef(r,m)),m}(jn,this.componentDef,St,[Kp]),zh(st,St,null)}finally{q()}return new q_(this.componentType,qt,Vu(ln,St),St,ln)}}class q_ extends class ch{}{constructor(r,s,a,d,m){super(),this.location=a,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new vv(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const m=this._rootLView;ta(m[1],m,d,r,s),Jh(m,this._tNode.index)}}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Kp(){const n=Ci();Ar(Ot()[1],n)}function Hd(n){let r=function zp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let d;if(as(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ie(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const I=n;I.inputs=$d(n.inputs),I.declaredInputs=$d(n.declaredInputs),I.outputs=$d(n.outputs);const R=d.hostBindings;R&&Nm(n,R);const U=d.viewQuery,z=d.contentQueries;if(U&&cf(n,U),z&&Qp(n,z),oe(n.inputs,d.inputs),oe(n.declaredInputs,d.declaredInputs),oe(n.outputs,d.outputs),as(d)&&d.data.animation){const ue=n.data;ue.animation=(ue.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let I=0;I<m.length;I++){const R=m[I];R&&R.ngInherit&&R(n),R===Hd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Yp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=r+=d.hostVars,d.hostAttrs=qa(d.hostAttrs,s=qa(s,d.hostAttrs))}}(a)}function $d(n){return n===Gn?{}:n===Ut?[]:n}function cf(n,r){const s=n.viewQuery;n.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Qp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,d,m)=>{r(a,d,m),s(a,d,m)}:r}function Nm(n,r){const s=n.hostBindings;n.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}let Gd=null;function Kl(){if(!Gd){const n=pt.Symbol;if(n&&n.iterator)Gd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gd=a)}}}return Gd}function Wd(n){return!!hf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Kl()in n)}function hf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function hu(n,r,s){return n[r]=s}function Kd(n,r){return n[r]}function Ka(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Vc(n,r,s,a){const d=Ka(n,r,s);return Ka(n,r+1,a)||d}function ff(n,r,s,a,d){const m=Vc(n,r,s,a);return Ka(n,r+2,d)||m}function vl(n,r,s,a,d,m){const I=Vc(n,r,s,a);return Vc(n,r+2,d,m)||I}function Jp(n,r,s,a){const d=Ot();return Ka(d,Mo(),r)&&(zn(),Wl(ft(),d,n,r,s,a)),Jp}function ss(n,r,s,a){return Ka(n,Mo(),s)?r+We(s)+a:xr}function Yd(n,r,s,a,d,m){const R=Vc(n,Ai(),s,d);return Oo(2),R?r+We(s)+a+We(d)+m:xr}function md(n,r,s,a,d,m,I,R){const z=ff(n,Ai(),s,d,I);return Oo(3),z?r+We(s)+a+We(d)+m+We(I)+R:xr}function qd(n,r,s,a,d,m,I,R){const U=Ot(),z=zn(),ue=n+22,_e=z.firstCreatePass?function Cv(n,r,s,a,d,m,I,R,U){const z=r.consts,ue=cc(r,n,4,I||null,js(z,R));Lp(r,s,ue,js(z,U)),Ar(r,ue);const _e=ue.tViews=Pp(2,ue,a,d,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ue),_e.queries=r.queries.embeddedTView(ue)),ue}(ue,z,U,r,s,a,d,m,I):z.data[ue];L(_e,!1);const Ue=U[11].createComment("");Th(z,U,Ue,_e),Ma(Ue,U),jd(U,U[ue]=Om(Ue,U,Ue,_e)),Ur(_e)&&Vd(z,U,_e),null!=I&&Op(U,_e,R)}function Fm(n){return $o(function bi(){return Cn.lFrame.contextLView}(),22+n)}function tg(n,r,s){const a=Ot();return Ka(a,Mo(),r)&&To(zn(),ft(),a,n,r,a[11],s,!1),tg}function pf(n,r,s,a,d){const I=d?"class":"style";ta(n,s,r.inputs[I],I,a)}function Hc(n,r,s,a){const d=Ot(),m=zn(),I=22+n,R=d[11],U=d[I]=wh(R,r,function ar(){return Cn.lFrame.currentNamespace}()),z=m.firstCreatePass?function km(n,r,s,a,d,m,I){const R=r.consts,z=cc(r,n,2,d,js(R,m));return Lp(r,s,z,js(R,I)),null!==z.attrs&&sf(z,z.attrs,!1),null!==z.mergedAttrs&&sf(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(I,m,d,0,r,s,a):m.data[I];L(z,!0);const ue=z.mergedAttrs;null!==ue&&ut(R,U,ue);const _e=z.classes;null!==_e&&rd(R,U,_e);const Ue=z.styles;return null!==Ue&&nd(R,U,Ue),64!=(64&z.flags)&&Th(m,d,U,z),0===function sa(){return Cn.lFrame.elementDepthCount}()&&Ma(U,d),function xs(){Cn.lFrame.elementDepthCount++}(),Ur(z)&&(Vd(m,d,z),Cm(m,z,d)),null!==a&&Op(d,z),Hc}function gf(){let n=Ci();re()?dt():(n=n.parent,L(n,!1));const r=n;!function Ds(){Cn.lFrame.elementDepthCount--}();const s=zn();return s.firstCreatePass&&(Ar(s,n),Sr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function rn(n){return 0!=(16&n.flags)}(r)&&pf(s,r,Ot(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Sn(n){return 0!=(32&n.flags)}(r)&&pf(s,r,Ot(),r.stylesWithoutHost,!1),gf}function fc(n,r,s,a){return Hc(n,r,s,a),gf(),fc}function pc(n,r,s){const a=Ot(),d=zn(),m=n+22,I=d.firstCreatePass?function ng(n,r,s,a,d){const m=r.consts,I=js(m,a),R=cc(r,n,8,"ng-container",I);return null!==I&&sf(R,I,!0),Lp(r,s,R,js(m,d)),null!==r.queries&&r.queries.elementStart(r,R),R}(m,d,a,r,s):d.data[m];L(I,!0);const R=a[m]=a[11].createComment("");return Th(d,a,R,I),Ma(R,a),Ur(I)&&(Vd(d,a,I),Cm(d,I,a)),null!=s&&Op(a,I),pc}function Zd(){let n=Ci();const r=zn();return re()?dt():(n=n.parent,L(n,!1)),r.firstCreatePass&&(Ar(r,n),Sr(n)&&r.queries.elementEnd(n)),Zd}function Jd(n,r,s){return pc(n,r,s),Zd(),Jd}function Um(){return Ot()}function rg(n){return!!n&&"function"==typeof n.then}function Vm(n){return!!n&&"function"==typeof n.subscribe}const ig=Vm;function mf(n,r,s,a){const d=Ot(),m=zn(),I=Ci();return function og(n,r,s,a,d,m,I,R){const U=Ur(a),ue=n.firstCreatePass&&pd(n),_e=r[8],Ue=$p(r);let st=!0;if(3&a.type||R){const ln=oi(a,r),jn=R?R(ln):ln,cr=Ue.length,Ft=R?Vi=>R(Wi(Vi[a.index])):a.index;let Dr=null;if(!R&&U&&(Dr=function $c(n,r,s,a){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const I=d[m];if(I===s&&d[m+1]===a){const R=r[7],U=d[m+2];return R.length>U?R[U]:null}"string"==typeof I&&(m+=2)}return null}(n,r,d,a.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=m,Dr.__ngLastListenerFn__=m,st=!1;else{m=_f(a,r,_e,m,!1);const Vi=s.listen(jn,d,m);Ue.push(m,Vi),ue&&ue.push(d,Ft,cr,cr+1)}}else m=_f(a,r,_e,m,!1);const St=a.outputs;let qt;if(st&&null!==St&&(qt=St[d])){const ln=qt.length;if(ln)for(let jn=0;jn<ln;jn+=2){const fo=r[qt[jn]][qt[jn+1]].subscribe(m),uh=Ue.length;Ue.push(m,fo),ue&&ue.push(d,a.index,uh,-(uh+1))}}}(m,d,d[11],I,n,r,0,a),mf}function ag(n,r,s,a){try{return!1!==s(a)}catch(d){return co(n,d),!1}}function _f(n,r,s,a,d){return function m(I){if(I===Function)return a;nf(2&n.flags?ur(n.index,r):r);let U=ag(r,0,a,I),z=m.__ngNextListenerFn__;for(;z;)U=ag(r,0,z,I)&&U,z=z.__ngNextListenerFn__;return d&&!1===U&&(I.preventDefault(),I.returnValue=!1),U}}function yf(n=1){return function B(n){return(Cn.lFrame.contextLView=function ie(n,r){for(;n>0;)r=r[15],n--;return r}(n,Cn.lFrame.contextLView))[8]}(n)}function ly(n,r){let s=null;const a=function Zg(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const m=r[d];if("*"!==m){if(null===a?qg(n,m,!0):sd(a,m))return d}else s=d}return s}function Xd(n){const r=Ot()[16][6];if(!r.projection){const a=r.projection=ne(n?n.length:1,null),d=a.slice();let m=r.child;for(;null!==m;){const I=n?ly(m,n):0;null!==I&&(d[I]?d[I].projectionNext=m:a[I]=m,d[I]=m),m=m.next}}}function eh(n,r=0,s){const a=Ot(),d=zn(),m=cc(d,22+n,16,null,s||null);null===m.projection&&(m.projection=r),dt(),64!=(64&m.flags)&&function I_(n,r,s){Xf(r[11],0,r,s,$g(n,s,r),Qf(s.parent||r[6],s,r))}(d,a,m)}function vf(n,r,s){return vd(n,"",r,"",s),vf}function vd(n,r,s,a,d){const m=Ot(),I=ss(m,r,s,a);return I!==xr&&To(zn(),ft(),m,n,I,m[11],d,!1),vd}function Df(n,r,s,a,d){const m=n[s+1],I=null===r;let R=a?yl(m):du(m),U=!1;for(;0!==R&&(!1===U||I);){const ue=n[R+1];cy(n[R],r)&&(U=!0,n[R+1]=a?jh(ue):lc(ue)),R=a?yl(ue):du(ue)}U&&(n[s+1]=a?lc(m):jh(m))}function cy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Jr(n,r)>=0}const ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hm(n){return n.substring(ho.key,ho.keyEnd)}function Tv(n){return n.substring(ho.value,ho.valueEnd)}function dy(n,r){const s=ho.textEnd;return s===r?-1:(r=ho.keyEnd=function Gm(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,ho.key=r,s),ih(n,r,s))}function rh(n,r){const s=ho.textEnd;let a=ho.key=ih(n,r,s);return s===a?-1:(a=ho.keyEnd=function Wm(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=ug(n,a,s),a=ho.value=ih(n,a,s),a=ho.valueEnd=function Km(n,r,s){let a=-1,d=-1,m=-1,I=r,R=I;for(;I<s;){const U=n.charCodeAt(I++);if(59===U)return R;34===U||39===U?R=I=cg(n,U,I,s):r===I-4&&85===m&&82===d&&76===a&&40===U?R=I=cg(n,41,I,s):U>32&&(R=I),m=d,d=a,a=-33&U}return R}(n,a,s),ug(n,a,s))}function $m(n){ho.key=0,ho.keyEnd=0,ho.value=0,ho.valueEnd=0,ho.textEnd=n.length}function ih(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ug(n,r,s,a){return(r=ih(n,r,s))<s&&r++,r}function cg(n,r,s,a){let d=-1,m=s;for(;m<a;){const I=n.charCodeAt(m++);if(I==r&&92!==d)return m;d=92==I&&92===d?0:I}throw new Error}function dg(n,r,s){return za(n,r,s,!1),dg}function sh(n,r){return za(n,r,null,!0),sh}function Mu(n){fu(Qm,Gc,n,!1)}function Gc(n,r){for(let s=function hy(n){return $m(n),rh(n,ih(n,0,ho.textEnd))}(r);s>=0;s=rh(r,s))Qm(n,Hm(r),Tv(r))}function Wc(n){fu(vn,xl,n,!0)}function xl(n,r){for(let s=function Cf(n){return $m(n),dy(n,ih(n,0,ho.textEnd))}(r);s>=0;s=dy(r,s))vn(n,Hm(r),!0)}function za(n,r,s,a){const d=Ot(),m=zn(),I=Oo(2);m.firstUpdatePass&&zm(m,n,I,a),r!==xr&&Ka(d,I,r)&&qm(m,m.data[De()],d,d[11],n,d[I+1]=function oh(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=J(Sa(n)))),n}(r,s),a,I)}function fu(n,r,s,a){const d=zn(),m=Oo(2);d.firstUpdatePass&&zm(d,null,m,a);const I=Ot();if(s!==xr&&Ka(I,m,s)){const R=d.data[De()];if(If(R,a)&&!py(d,m)){let U=a?R.classesWithoutHost:R.stylesWithoutHost;null!==U&&(s=he(U,s||"")),pf(d,R,I,s,a)}else!function _y(n,r,s,a,d,m,I,R){d===xr&&(d=Ut);let U=0,z=0,ue=0<d.length?d[0]:null,_e=0<m.length?m[0]:null;for(;null!==ue||null!==_e;){const Ue=U<d.length?d[U+1]:void 0,st=z<m.length?m[z+1]:void 0;let qt,St=null;ue===_e?(U+=2,z+=2,Ue!==st&&(St=_e,qt=st)):null===_e||null!==ue&&ue<_e?(U+=2,St=ue):(z+=2,St=_e,qt=st),null!==St&&qm(n,r,s,a,St,qt,I,R),ue=U<d.length?d[U]:null,_e=z<m.length?m[z]:null}}(d,R,I,I[11],I[m+1],I[m+1]=function bv(n,r,s){if(null==s||""===s)return Ut;const a=[],d=Sa(s);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(a,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(a,m,d[m]);else"string"==typeof d&&r(a,d);return a}(n,r,s),a,m)}}function py(n,r){return r>=n.expandoStartIndex}function zm(n,r,s,a){const d=n.data;if(null===d[s+1]){const m=d[De()],I=py(n,s);If(m,a)&&null===r&&!I&&(r=!1),r=function gc(n,r,s,a){const d=Fa(n);let m=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=wf(s=Ym(null,n,r,s,a),r.attrs,a),m=null);else{const I=r.directiveStylingLast;if(-1===I||n[I]!==d)if(s=Ym(d,n,r,s,a),null===m){let U=function gy(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==du(a))return n[yl(a)]}(n,r,a);void 0!==U&&Array.isArray(U)&&(U=Ym(null,n,r,U[1],a),U=wf(U,r.attrs,a),function Sv(n,r,s,a){n[yl(s?r.classBindings:r.styleBindings)]=a}(n,r,a,U))}else m=function my(n,r,s){let a;const d=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<d;m++)a=wf(a,n[m].hostAttrs,s);return wf(a,r.attrs,s)}(n,r,a)}return void 0!==m&&(a?r.residualClasses=m:r.residualStyles=m),s}(d,m,r,a),function wv(n,r,s,a,d,m){let I=m?r.classBindings:r.styleBindings,R=yl(I),U=du(I);n[a]=s;let ue,z=!1;if(Array.isArray(s)){const _e=s;ue=_e[1],(null===ue||Jr(_e,ue)>0)&&(z=!0)}else ue=s;if(d)if(0!==U){const Ue=yl(n[R+1]);n[a+1]=dd(Ue,R),0!==Ue&&(n[Ue+1]=pp(n[Ue+1],a)),n[R+1]=function lm(n,r){return 131071&n|r<<17}(n[R+1],a)}else n[a+1]=dd(R,0),0!==R&&(n[R+1]=pp(n[R+1],a)),R=a;else n[a+1]=dd(U,0),0===R?R=a:n[U+1]=pp(n[U+1],a),U=a;z&&(n[a+1]=lc(n[a+1])),Df(n,ue,a,!0),Df(n,ue,a,!1),function Iv(n,r,s,a,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof r&&Jr(m,r)>=0&&(s[a+1]=jh(s[a+1]))}(r,ue,n,a,m),I=dd(R,U),m?r.classBindings=I:r.styleBindings=I}(d,m,r,s,I,a)}}function Ym(n,r,s,a,d){let m=null;const I=s.directiveEnd;let R=s.directiveStylingLast;for(-1===R?R=s.directiveStart:R++;R<I&&(m=r[R],a=wf(a,m.hostAttrs,d),m!==n);)R++;return null!==n&&(s.directiveStylingLast=R),a}function wf(n,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?d=I:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vn(n,I,!!s||r[++m]))}return void 0===n?null:n}function Qm(n,r,s){vn(n,r,Sa(s))}function qm(n,r,s,a,d,m,I,R){if(!(3&r.type))return;const U=n.data,z=U[R+1];hg(function um(n){return 1==(1&n)}(z)?Zm(U,r,s,d,du(z),I):void 0)||(hg(m)||function Bh(n){return 2==(2&n)}(z)&&(m=Zm(U,null,s,d,R,I)),function tp(n,r,s,a,d){if(r)d?n.addClass(s,a):n.removeClass(s,a);else{let m=-1===a.indexOf("-")?void 0:Au.DashCase;null==d?n.removeStyle(s,a,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=Au.Important),n.setStyle(s,a,d,m))}}(a,I,Bs(De(),s),d,m))}function Zm(n,r,s,a,d,m){const I=null===r;let R;for(;d>0;){const U=n[d],z=Array.isArray(U),ue=z?U[1]:U,_e=null===ue;let Ue=s[d+1];Ue===xr&&(Ue=_e?Ut:void 0);let st=_e?qn(Ue,a):ue===a?Ue:void 0;if(z&&!hg(st)&&(st=qn(U,a)),hg(st)&&(R=st,I))return R;const St=n[d+1];d=I?yl(St):du(St)}if(null!==r){let U=m?r.residualClasses:r.residualStyles;null!=U&&(R=qn(U,a))}return R}function hg(n){return void 0!==n}function If(n,r){return 0!=(n.flags&(r?16:32))}function yy(n,r=""){const s=Ot(),a=zn(),d=n+22,m=a.firstCreatePass?cc(a,d,1,r,null):a.data[d],I=s[d]=function Ch(n,r){return n.createText(r)}(s[11],r);Th(a,s,I,m),L(m,!1)}function Jm(n){return Tf("",n,""),Jm}function Tf(n,r,s){const a=Ot(),d=ss(a,n,r,s);return d!==xr&&fa(a,De(),d),Tf}function fg(n,r,s,a,d){const m=Ot(),I=Yd(m,n,r,s,a,d);return I!==xr&&fa(m,De(),I),fg}function Cd(n,r,s,a,d,m,I){const R=Ot(),U=md(R,n,r,s,a,d,m,I);return U!==xr&&fa(R,De(),U),Cd}function pg(n,r,s,a,d,m,I,R,U){const z=Ot(),ue=function Us(n,r,s,a,d,m,I,R,U,z){const _e=vl(n,Ai(),s,d,I,U);return Oo(4),_e?r+We(s)+a+We(d)+m+We(I)+R+We(U)+z:xr}(z,n,r,s,a,d,m,I,R,U);return ue!==xr&&fa(z,De(),ue),pg}function Xm(n,r,s,a,d,m,I,R,U,z,ue,_e,Ue){const st=Ot(),St=function _d(n,r,s,a,d,m,I,R,U,z,ue,_e,Ue,st){const St=Ai();let qt=vl(n,St,s,d,I,U);return qt=Vc(n,St+4,ue,Ue)||qt,Oo(6),qt?r+We(s)+a+We(d)+m+We(I)+R+We(U)+z+We(ue)+_e+We(Ue)+st:xr}(st,n,r,s,a,d,m,I,R,U,z,ue,_e,Ue);return St!==xr&&fa(st,De(),St),Xm}function Cy(n,r,s){fu(vn,xl,ss(Ot(),n,r,s),!0)}function wy(n,r,s,a,d){fu(vn,xl,Yd(Ot(),n,r,s,a,d),!0)}function Iy(n,r,s,a,d,m,I){fu(vn,xl,md(Ot(),n,r,s,a,d,m,I),!0)}function g(n,r,s){Mu(ss(Ot(),n,r,s))}function ra(n,r,s){const a=Ot();return Ka(a,Mo(),r)&&To(zn(),ft(),a,n,r,a[11],s,!0),ra}function Kc(n,r,s){const a=Ot();if(Ka(a,Mo(),r)){const m=zn(),I=ft();To(m,I,a,n,r,function Rm(n,r,s){return(null===n||as(n))&&(s=function Ao(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Fa(m.data),I,a),s,!0)}return Kc}const ah=void 0;var $0=["en",[["a","p"],["AM","PM"],ah],[["AM","PM"],ah,ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ah,"{1} 'at' {0}",ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H0(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Sf={};function Ty(n){const r=function G0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Mv(r);if(s)return s;const a=r.split("-")[0];if(s=Mv(a),s)return s;if("en"===a)return $0;throw new Ie(701,!1)}function Av(n){return Ty(n)[_r.PluralCase]}function Mv(n){return n in Sf||(Sf[n]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[n]),Sf[n]}var _r=(()=>((_r=_r||{})[_r.LocaleId=0]="LocaleId",_r[_r.DayPeriodsFormat=1]="DayPeriodsFormat",_r[_r.DayPeriodsStandalone=2]="DayPeriodsStandalone",_r[_r.DaysFormat=3]="DaysFormat",_r[_r.DaysStandalone=4]="DaysStandalone",_r[_r.MonthsFormat=5]="MonthsFormat",_r[_r.MonthsStandalone=6]="MonthsStandalone",_r[_r.Eras=7]="Eras",_r[_r.FirstDayOfWeek=8]="FirstDayOfWeek",_r[_r.WeekendRange=9]="WeekendRange",_r[_r.DateFormat=10]="DateFormat",_r[_r.TimeFormat=11]="TimeFormat",_r[_r.DateTimeFormat=12]="DateTimeFormat",_r[_r.NumberSymbols=13]="NumberSymbols",_r[_r.NumberFormats=14]="NumberFormats",_r[_r.CurrencyCode=15]="CurrencyCode",_r[_r.CurrencySymbol=16]="CurrencySymbol",_r[_r.CurrencyName=17]="CurrencyName",_r[_r.Currencies=18]="Currencies",_r[_r.Directionality=19]="Directionality",_r[_r.PluralCase=20]="PluralCase",_r[_r.ExtraData=21]="ExtraData",_r))();const bf="en-US";let Ov=bf;function Ay(n,r,s,a,d){if(n=ce(n),Array.isArray(n))for(let m=0;m<n.length;m++)Ay(n[m],r,s,a,d);else{const m=zn(),I=Ot();let R=Rn(n)?n:ce(n.provide),U=Ec(n);const z=Ci(),ue=1048575&z.providerIndexes,_e=z.directiveStart,Ue=z.providerIndexes>>20;if(Rn(n)||!n.multi){const st=new ma(U,d,cd),St=Oy(R,r,d?ue:ue+Ue,_e);-1===St?(us(ci(z,I),m,R),My(m,n,r.length),r.push(R),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(st),I.push(st)):(s[St]=st,I[St]=st)}else{const st=Oy(R,r,ue+Ue,_e),St=Oy(R,r,ue,ue+Ue),qt=st>=0&&s[st],ln=St>=0&&s[St];if(d&&!ln||!d&&!qt){us(ci(z,I),m,R);const jn=function jD(n,r,s,a,d){const m=new ma(n,s,cd);return m.multi=[],m.index=r,m.componentProviders=0,tE(m,d,a&&!s),m}(d?BD:VD,s.length,d,a,U);!d&&ln&&(s[St].providerFactory=jn),My(m,n,r.length,0),r.push(R),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(jn),I.push(jn)}else My(m,n,st>-1?st:St,tE(s[d?St:st],U,!d&&a));!d&&a&&ln&&s[St].componentProviders++}}}function My(n,r,s,a){const d=Rn(r),m=function kn(n){return!!n.useClass}(r);if(d||m){const U=(m?ce(r.useClass):r).prototype.ngOnDestroy;if(U){const z=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const ue=z.indexOf(s);-1===ue?z.push(s,[a,U]):z[ue+1].push(a,U)}else z.push(s,U)}}}function tE(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Oy(n,r,s,a){for(let d=s;d<a;d++)if(r[d]===n)return d;return-1}function VD(n,r,s,a){return Py(this.multi,[])}function BD(n,r,s,a){const d=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,R=qo(s,s[1],this.providerFactory.index,a);m=R.slice(0,I),Py(d,m);for(let U=I;U<R.length;U++)m.push(R[U])}else m=[],Py(d,m);return m}function Py(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function nE(n,r=[]){return s=>{s.providersResolver=(a,d)=>function UD(n,r,s){const a=zn();if(a.firstCreatePass){const d=as(n);Ay(s,a.data,a.blueprint,d,!0),Ay(r,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,r)}}class Af{}class rE{}function HD(n,r){return new iE(n,null!=r?r:null)}class iE extends Af{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);const a=ir(r);this._bootstrapComponents=uu(a.bootstrap),this._r3Injector=xh(r,s,[{provide:Af,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],J(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Ry extends rE{constructor(r){super(),this.moduleType=r}create(r){return new iE(this.moduleType,r)}}class $D extends Af{constructor(r,s,a){super(),this.componentFactoryResolver=new af(this),this.instance=null;const d=new ou([...r,{provide:Af,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],s||su(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function xy(n,r,s=null){return new $D(n,r,s).injector}let GD=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=p(0,s.type),d=a.length>0?xy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=nr({token:n,providedIn:"environment",factory:()=>new n(rs(Rl))}),n})();function sE(n){n.getStandaloneInjector=r=>r.get(GD).getOrCreateStandaloneInjector(n)}function hE(n,r,s){const a=Qr()+n,d=Ot();return d[a]===xr?hu(d,a,s?r.call(s):r()):Kd(d,a)}function fE(n,r,s,a){return _E(Ot(),Qr(),n,r,s,a)}function pE(n,r,s,a,d){return yE(Ot(),Qr(),n,r,s,a,d)}function gE(n,r,s,a,d,m){return vE(Ot(),Qr(),n,r,s,a,d,m)}function mE(n,r,s,a,d,m,I,R,U){const z=Qr()+n,ue=Ot(),_e=vl(ue,z,s,a,d,m);return Vc(ue,z+4,I,R)||_e?hu(ue,z+6,U?r.call(U,s,a,d,m,I,R):r(s,a,d,m,I,R)):Kd(ue,z+6)}function Eg(n,r){const s=n[r];return s===xr?void 0:s}function _E(n,r,s,a,d,m){const I=r+s;return Ka(n,I,d)?hu(n,I+1,m?a.call(m,d):a(d)):Eg(n,I+1)}function yE(n,r,s,a,d,m,I){const R=r+s;return Vc(n,R,d,m)?hu(n,R+2,I?a.call(I,d,m):a(d,m)):Eg(n,R+2)}function vE(n,r,s,a,d,m,I,R){const U=r+s;return ff(n,U,d,m,I)?hu(n,U+3,R?a.call(R,d,m,I):a(d,m,I)):Eg(n,U+3)}function CE(n,r){const s=zn();let a;const d=n+22;s.firstCreatePass?(a=function iC(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const m=a.factory||(a.factory=Qs(a.type)),I=vr(cd);try{const R=xo(!1),U=m();return xo(R),function eg(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Ot(),d,U),U}finally{vr(I)}}function wE(n,r,s){const a=n+22,d=Ot(),m=$o(d,a);return Dg(d,a)?_E(d,Qr(),r,m.transform,s,m):m.transform(s)}function IE(n,r,s,a){const d=n+22,m=Ot(),I=$o(m,d);return Dg(m,d)?yE(m,Qr(),r,I.transform,s,a,I):I.transform(s,a)}function TE(n,r,s,a,d){const m=n+22,I=Ot(),R=$o(I,m);return Dg(I,m)?vE(I,Qr(),r,R.transform,s,a,d,R):R.transform(s,a,d)}function SE(n,r,s){const a=n+22,d=Ot(),m=$o(d,a);return Dg(d,a)?function DE(n,r,s,a,d,m){let I=r+s,R=!1;for(let U=0;U<d.length;U++)Ka(n,I++,d[U])&&(R=!0);return R?hu(n,I,a.apply(m,d)):Eg(n,I)}(d,Qr(),r,m.transform,s,m):m.transform.apply(m,s)}function Dg(n,r){return n[1].data[r].pure}function Ly(n){return r=>{setTimeout(n,void 0,r)}}const mc=class oC extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var d,m,I;let R=r,U=s||(()=>null),z=a;if(r&&"object"==typeof r){const _e=r;R=null===(d=_e.next)||void 0===d?void 0:d.bind(_e),U=null===(m=_e.error)||void 0===m?void 0:m.bind(_e),z=null===(I=_e.complete)||void 0===I?void 0:I.bind(_e)}this.__isAsync&&(U=Ly(U),R&&(R=Ly(R)),z&&(z=Ly(z)));const ue=super.subscribe({next:R,error:U,complete:z});return r instanceof S.w0&&r.add(ue),ue}};function aC(){return this._results[Kl()]()}class Fy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Kl(),a=Fy.prototype;a[s]||(a[s]=aC)}get changes(){return this._changes||(this._changes=new mc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=O(r);(this._changesDetected=!function M(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],m=r[a];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cC,n})();const lC=Cg,uC=class extends lC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,d=Wh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(d[19]=I.createEmbeddedView(a)),zh(a,d,r),new gd(d)}};function cC(){return o_(Ci(),Ot())}function o_(n,r){return 4&n.type?new uC(r,n,Vu(n,r)):null}let a_=(()=>{class n{}return n.__NG_ELEMENT_ID__=dC,n})();function dC(){return ME(Ci(),Ot())}const hC=a_,bE=class extends hC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){const r=Er(this._hostTNode,this._hostLView);if(Yo(r)){const s=Ls(r,this._hostLView),a=Zs(r);return new Ki(s[1].data[a+8],s)}return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=AE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let d,m;"number"==typeof a?d=a:null!=a&&(d=a.index,m=a.injector);const I=r.createEmbeddedView(s||{},m);return this.insert(I,d),I}createComponent(r,s,a,d,m){const I=r&&!function zi(n){return"function"==typeof n}(r);let R;if(I)R=s;else{const _e=s||{};R=_e.index,a=_e.injector,d=_e.projectableNodes,m=_e.environmentInjector||_e.ngModuleRef}const U=I?r:new uf(Ke(r)),z=a||this.parentInjector;if(!m&&null==U.ngModule){const Ue=(I?z:this.parentInjector).get(Rl,null);Ue&&(m=Ue)}const ue=U.create(z,d,void 0,m);return this.insert(ue.hostView,R),ue}insert(r,s){const a=r._lView,d=a[1];if(function xa(n){return Pr(n[3])}(a)){const ue=this.indexOf(r);if(-1!==ue)this.detach(ue);else{const _e=a[3],Ue=new bE(_e,_e[6],_e[3]);Ue.detach(Ue.indexOf(r))}}const m=this._adjustIndex(s),I=this._lContainer;!function rc(n,r,s,a){const d=10+a,m=s.length;a>0&&(s[d-1][4]=r),a<m-10?(r[4]=s[d],F(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const I=r[17];null!==I&&s!==I&&function Vg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(I,r);const R=r[19];null!==R&&R.insertView(n),r[2]|=64}(d,a,I,m);const R=qf(m,I),U=a[11],z=Od(U,I[7]);return null!==z&&function D_(n,r,s,a,d,m){a[0]=d,a[6]=r,sc(n,a,s,1,d,m)}(d,I[6],U,a,z,R),r.attachToViewContainerRef(),F(ky(I),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=AE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Wf(this._lContainer,s);a&&($(ky(this._lContainer),s),jg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Wf(this._lContainer,s);return a&&null!=$(ky(this._lContainer),s)?new gd(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function AE(n){return n[8]}function ky(n){return n[8]||(n[8]=[])}function ME(n,r){let s;const a=r[n.index];if(Pr(a))s=a;else{let d;if(8&n.type)d=Wi(a);else{const m=r[11];d=m.createComment("");const I=oi(n,r);xc(m,Od(m,I),d,function w_(n,r){return n.nextSibling(r)}(m,I),!1)}r[n.index]=s=Om(a,r,d,n),jd(r,s)}return new bE(s,n,r)}class Uy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Uy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let m=0;m<a;m++){const I=s.getByIndex(m);d.push(this.queries[I.indexInDeclarationView].clone())}return new Vy(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UE(r,s).matches&&this.queries[s].setDirty()}}class OE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class By{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,m=this.getByIndex(a).embeddedTView(r,d);m&&(m.indexInDeclarationView=a,null!==s?s.push(m):s=[m])}return null!==s?new By(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class jy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new jy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const m=a[d];this.matchTNodeWithReadOption(r,s,gC(s,m)),this.matchTNodeWithReadOption(r,s,ka(s,r,m,!1,!1))}else a===Cg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ka(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Tc||d===a_||d===Cg&&4&s.type)this.addMatch(s.index,-2);else{const m=ka(s,r,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gC(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function _C(n,r,s,a){return-1===s?function mC(n,r){return 11&n.type?Vu(n,r):4&n.type?o_(n,r):null}(r,n):-2===s?function yC(n,r,s){return s===Tc?Vu(r,n):s===Cg?o_(r,n):s===a_?ME(r,n):void 0}(n,r,a):qo(n,n[1],s,r)}function PE(n,r,s,a){const d=r[19].queries[a];if(null===d.matches){const m=n.data,I=s.matches,R=[];for(let U=0;U<I.length;U+=2){const z=I[U];R.push(z<0?null:_C(r,m[z],I[U+1],s.metadata.read))}d.matches=R}return d.matches}function Hy(n,r,s,a){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const I=PE(n,r,d,s);for(let R=0;R<m.length;R+=2){const U=m[R];if(U>0)a.push(I[R/2]);else{const z=m[R+1],ue=r[-U];for(let _e=10;_e<ue.length;_e++){const Ue=ue[_e];Ue[17]===Ue[3]&&Hy(Ue[1],Ue,z,a)}if(null!==ue[9]){const _e=ue[9];for(let Ue=0;Ue<_e.length;Ue++){const st=_e[Ue];Hy(st[1],st,z,a)}}}}}return a}function RE(n){const r=Ot(),s=zn(),a=Ko();zo(a+1);const d=UE(s,a);if(n.dirty&&function Ra(n){return 4==(4&n[2])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?Hy(s,r,a,[]):PE(s,r,d,a);n.reset(m,Pf),n.notifyOnChanges()}return!0}return!1}function xE(n,r,s){const a=zn();a.firstCreatePass&&(kE(a,new OE(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),FE(a,Ot(),r)}function NE(n,r,s,a){const d=zn();if(d.firstCreatePass){const m=Ci();kE(d,new OE(r,s,a),m.index),function EC(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}FE(d,Ot(),s)}function LE(){return function vC(n,r){return n[19].queries[r].queryList}(Ot(),Ko())}function FE(n,r,s){const a=new Fy(4==(4&s));kc(n,r,a,a.destroy),null===r[19]&&(r[19]=new Vy),r[19].queries.push(new Uy(a))}function kE(n,r,s){null===n.queries&&(n.queries=new By),n.queries.track(new jy(r,s))}function UE(n,r){return n.queries.getByIndex(r)}function VE(n,r){return o_(n,r)}function u_(...n){}const s0=new di("Application Initializer");let c_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=u_,this.reject=u_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(rg(m))s.push(m);else if(ig(m)){const I=new Promise((R,U)=>{m.subscribe({complete:R,error:U})});s.push(I)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(rs(s0,8))},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o0=new di("AppId",{providedIn:"root",factory:function a0(){return`${zy()}${zy()}${zy()}`}});function zy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l0=new di("Platform Initializer"),BC=new di("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new di("appBootstrapListener"),jC=new di("AnimationModuleType");let HC=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const d_=new di("LocaleId",{providedIn:"root",factory:()=>hl(d_,zt.Optional|zt.SkipSelf)||function $C(){return"undefined"!=typeof $localize&&$localize.locale||bf}()}),GC=new di("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let KC=(()=>{class n{compileModuleSync(s){return new Ry(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),m=uu(ir(s).declarations).reduce((I,R)=>{const U=Ke(R);return U&&I.push(new uf(U)),I},[]);return new WC(a,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QC=(()=>Promise.resolve(0))();function Yy(n){"undefined"==typeof Zone?QC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ou{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Ie(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function qC(){let n=pt.requestAnimationFrame,r=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XC(n){const r=()=>{!function JC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qy(n),n.isCheckStableRunning=!0,Qy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,m,I,R)=>{try{return h0(n),s.invokeTask(d,m,I,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&r(),f0(n)}},onInvoke:(s,a,d,m,I,R,U)=>{try{return h0(n),s.invoke(d,m,I,R,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),f0(n)}},onHasTask:(s,a,d,m)=>{s.hasTask(d,m),a===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,qy(n),Qy(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,a,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new Ie(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+d,r,ZC,u_,u_);try{return m.runTask(I,s,a)}finally{m.cancelTask(I)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ZC={};function Qy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function h0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function f0(n){n._nesting--,Qy(n)}class ew{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const p0=new di(""),g0=new di("");let Ig,tw=(()=>{class n{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ig||(function nw(n){Ig=n}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),Yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(rs(Ou),rs(m0),rs(g0))},n.\u0275prov=nr({token:n,factory:n.\u0275fac}),n})(),m0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){var d;return null!==(d=null==Ig?void 0:Ig.findTestabilityInTree(this,s,a))&&void 0!==d?d:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),_c=null;const _0=new di("AllowMultipleToken"),Zy=new di("PlatformDestroyListeners");class sw{constructor(r,s){this.name=r,this.token=s}}function v0(n,r,s=[]){const a=`Platform: ${r}`,d=new di(a);return(m=[])=>{let I=Jy();if(!I||I.injector.get(_0,!1)){const R=[...s,...m,{provide:d,useValue:!0}];n?n(R):function ow(n){if(_c&&!_c.get(_0,!1))throw new Ie(400,!1);_c=n;const r=n.get(D0);(function y0(n){const r=n.get(l0,null);r&&r.forEach(s=>s())})(n)}(function E0(n=[],r){return oc.create({name:r,providers:[{provide:Ui,useValue:"platform"},{provide:Zy,useValue:new Set([()=>_c=null])},...n]})}(R,a))}return function lw(n){const r=Jy();if(!r)throw new Ie(401,!1);return r}()}}function Jy(){var n;return null!==(n=null==_c?void 0:_c.get(D0))&&void 0!==n?n:null}let D0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function w0(n,r){let s;return s="noop"===n?new ew:("zone.js"===n?void 0:n)||new Ou(r),s}(null==a?void 0:a.ngZone,function C0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),m=[{provide:Ou,useValue:d}];return d.run(()=>{const I=oc.create({providers:m,parent:this.injector,name:s.moduleType.name}),R=s.create(I),U=R.injector.get(bs,null);if(!U)throw new Ie(402,!1);return d.runOutsideAngular(()=>{const z=d.onError.subscribe({next:ue=>{U.handleError(ue)}});R.onDestroy(()=>{f_(this._modules,R),z.unsubscribe()})}),function I0(n,r,s){try{const a=s();return rg(a)?a.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(U,d,()=>{const z=R.injector.get(c_);return z.runInitializers(),z.donePromise.then(()=>(function Pv(n){Kt(n,"Expected localeId to be defined"),"string"==typeof n&&(Ov=n.toLowerCase().replace(/_/g,"-"))}(R.injector.get(d_,bf)||bf),this._moduleDoBootstrap(R),R))})})}bootstrapModule(s,a=[]){const d=T0({},a);return function rw(n,r,s){const a=new Ry(s);return Promise.resolve(a)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const a=s.injector.get(h_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Ie(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Zy,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(rs(oc))},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function T0(n,r){return Array.isArray(r)?r.reduce(T0,n):Object.assign(Object.assign({},n),r)}let h_=(()=>{class n{constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new te.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),I=new te.y(R=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),Yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{U.unsubscribe(),z.unsubscribe()}});this.isStable=(0,V.T)(m,I.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof dh;if(!this._injector.get(c_).done)throw!d&&Nn(s),new Ie(405,false);let I;I=d?s:this._injector.get(lu).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const R=function iw(n){return n.isBoundToModule}(I)?void 0:this._injector.get(Af),z=I.create(oc.NULL,[],a||I.selector,R),ue=z.location.nativeElement,_e=z.injector.get(p0,null);return null==_e||_e.registerApplication(ue),z.onDestroy(()=>{this.detachView(z.hostView),f_(this.components,z),null==_e||_e.unregisterApplication(ue)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;f_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(u0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>f_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ie(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(rs(Ou),rs(Rl),rs(bs))},n.\u0275prov=nr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let b0=!0,A0=!1;function cw(){return A0=!0,b0}function dw(){if(A0)throw new Error("Cannot enable prod mode after platform setup.");b0=!1}let hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();function fw(n){return function pw(n,r,s){if(Ln(n)&&!s){const a=ur(n.index,r);return new gd(a,a)}return 47&n.type?new gd(r[16],r):null}(Ci(),Ot(),16==(16&n))}class R0{constructor(){}supports(r){return Wd(r)}create(r){return new Ew(r)}}const vw=(n,r)=>r;class Ew{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,m=null;for(;s||a;){const I=!a||s&&s.currentIndex<N0(a,d,m)?s:a,R=N0(I,d,m),U=I.currentIndex;if(I===a)d--,a=a._nextRemoved;else if(s=s._next,null==I.previousIndex)d++;else{m||(m=[]);const z=R-d,ue=U-d;if(z!=ue){for(let Ue=0;Ue<z;Ue++){const st=Ue<m.length?m[Ue]:m[Ue]=0,St=st+Ue;ue<=St&&St<z&&(m[Ue]=st+1)}m[I.previousIndex]=ue-z}}R!==U&&r(I,R,U)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wd(r))throw new Ie(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,m,I,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)m=r[R],I=this._trackByFn(R,m),null!==s&&Object.is(s.trackById,I)?(a&&(s=this._verifyReinsertion(s,m,I,R)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,I,R),a=!0),s=s._next}else d=0,function X_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Kl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,R=>{I=this._trackByFn(d,R),null!==s&&Object.is(s.trackById,I)?(a&&(s=this._verifyReinsertion(s,R,I,d)),Object.is(s.item,R)||this._addIdentityChange(s,R)):(s=this._mismatch(s,R,I,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,d)):r=this._addAfter(new Dw(s,a),m,d),r}_verifyReinsertion(r,s,a,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?r=this._reinsertAfter(m,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,m=r._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new x0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Dw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class x0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Cw,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N0(n,r,s){const a=n.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class L0{constructor(){}supports(r){return r instanceof Map||hf(r)}create(){return new ww}}class ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||hf(r)))throw new Ie(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const m=d._prev,I=d._next;return m&&(m._next=I),I&&(I._prev=m),d._next=null,d._prev=null,d}const a=new Iw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Iw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F0(){return new rv([new R0])}let rv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||F0()),deps:[[n,new Ul,new Xl]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new Ie(901,!1)}}return n.\u0275prov=nr({token:n,providedIn:"root",factory:F0}),n})();function k0(){return new iv([new L0])}let iv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||k0()),deps:[[n,new Ul,new Xl]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Ie(901,!1)}}return n.\u0275prov=nr({token:n,providedIn:"root",factory:k0}),n})();const bw=v0(null,"core",[]);let Aw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(rs(h_))},n.\u0275mod=Gr({type:n}),n.\u0275inj=dr({}),n})();function Mw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3075:(we,ae,C)=>{C.d(ae,{CE:()=>$i,Cf:()=>je,EJ:()=>Bo,F:()=>xn,Fd:()=>Wi,Fj:()=>ze,JJ:()=>zt,JL:()=>_i,JU:()=>J,K7:()=>ri,Kr:()=>Vs,Mq:()=>as,NI:()=>Ri,Oe:()=>mo,On:()=>qe,Q7:()=>Di,UX:()=>Ds,Wl:()=>Q,YN:()=>so,_:()=>br,_Y:()=>_t,a5:()=>Wr,c5:()=>qs,cw:()=>Ke,eT:()=>ys,kI:()=>Ge,nD:()=>js,oH:()=>po,qQ:()=>Pa,qu:()=>zn,sg:()=>bo,u:()=>er,u5:()=>xs,wO:()=>Rr,wV:()=>kt,x0:()=>hs});var f=C(5e3),S=C(9808),te=C(457),V=C(4128),le=C(4004);let de=(()=>{class W{constructor(L,re){this._renderer=L,this._elementRef=re,this.onChange=dt=>{},this.onTouched=()=>{}}setProperty(L,re){this._renderer.setProperty(this._elementRef.nativeElement,L,re)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(f.Qsj),f.Y36(f.SBq))},W.\u0275dir=f.lG2({type:W}),W})(),oe=(()=>{class W extends de{}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,features:[f.qOj]}),W})();const J=new f.OlP("NgValueAccessor"),he={provide:J,useExisting:(0,f.Gpc)(()=>Q),multi:!0};let Q=(()=>{class W extends oe{writeValue(L){this.setProperty("checked",L)}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,re){1&L&&f.NdJ("change",function(tn){return re.onChange(tn.target.checked)})("blur",function(){return re.onTouched()})},features:[f._Bn([he]),f.qOj]}),W})();const Z={provide:J,useExisting:(0,f.Gpc)(()=>ze),multi:!0},Le=new f.OlP("CompositionEventMode");let ze=(()=>{class W extends de{constructor(L,re,dt){super(L,re),this._compositionMode=dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ce(){const W=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Le,8))},W.\u0275dir=f.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,re){1&L&&f.NdJ("input",function(tn){return re._handleInput(tn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(tn){return re._compositionEnd(tn.target.value)})},features:[f._Bn([Z]),f.qOj]}),W})();function Ye(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function We(W){return null!=W&&"number"==typeof W.length}const je=new f.OlP("NgValidators"),gt=new f.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min(j){return Be(j)}static max(j){return Dt(j)}static required(j){return Tt(j)}static requiredTrue(j){return function Wt(W){return!0===W.value?null:{required:!0}}(j)}static email(j){return function Ht(W){return Ye(W.value)||xt.test(W.value)?null:{email:!0}}(j)}static minLength(j){return Rt(j)}static maxLength(j){return tt(j)}static pattern(j){return Ze(j)}static nullValidator(j){return null}static compose(j){return Mt(j)}static composeAsync(j){return Br(j)}}function Be(W){return j=>{if(Ye(j.value)||Ye(W))return null;const L=parseFloat(j.value);return!isNaN(L)&&L<W?{min:{min:W,actual:j.value}}:null}}function Dt(W){return j=>{if(Ye(j.value)||Ye(W))return null;const L=parseFloat(j.value);return!isNaN(L)&&L>W?{max:{max:W,actual:j.value}}:null}}function Tt(W){return Ye(W.value)?{required:!0}:null}function Rt(W){return j=>Ye(j.value)||!We(j.value)?null:j.value.length<W?{minlength:{requiredLength:W,actualLength:j.value.length}}:null}function tt(W){return j=>We(j.value)&&j.value.length>W?{maxlength:{requiredLength:W,actualLength:j.value.length}}:null}function Ze(W){if(!W)return at;let j,L;return"string"==typeof W?(L="","^"!==W.charAt(0)&&(L+="^"),L+=W,"$"!==W.charAt(W.length-1)&&(L+="$"),j=new RegExp(L)):(L=W.toString(),j=W),re=>{if(Ye(re.value))return null;const dt=re.value;return j.test(dt)?null:{pattern:{requiredPattern:L,actualValue:dt}}}}function at(W){return null}function et(W){return null!=W}function Nt(W){return(0,f.QGY)(W)?(0,te.D)(W):W}function bt(W){let j={};return W.forEach(L=>{j=null!=L?Object.assign(Object.assign({},j),L):j}),0===Object.keys(j).length?null:j}function ht(W,j){return j.map(L=>L(W))}function Kt(W){return W.map(j=>function Un(W){return!W.validate}(j)?j:L=>j.validate(L))}function Mt(W){if(!W)return null;const j=W.filter(et);return 0==j.length?null:function(L){return bt(ht(L,j))}}function fr(W){return null!=W?Mt(Kt(W)):null}function Br(W){if(!W)return null;const j=W.filter(et);return 0==j.length?null:function(L){const re=ht(L,j).map(Nt);return(0,V.D)(re).pipe((0,le.U)(bt))}}function Ir(W){return null!=W?Br(Kt(W)):null}function nr(W,j){return null===W?[j]:Array.isArray(W)?[...W,j]:[W,j]}function kr(W){return W._rawValidators}function dr(W){return W._rawAsyncValidators}function vi(W){return W?Array.isArray(W)?W:[W]:[]}function mi(W,j){return Array.isArray(W)?W.includes(j):W===j}function ti(W,j){const L=vi(j);return vi(W).forEach(dt=>{mi(L,dt)||L.push(dt)}),L}function $r(W,j){return vi(j).filter(L=>!mi(W,L))}class ni{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=fr(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,L){return!!this.control&&this.control.hasError(j,L)}getError(j,L){return this.control?this.control.getError(j,L):null}}class Wr extends ni{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nr extends ni{get formDirective(){return null}get path(){return null}}class lr{constructor(j){this._cd=j}get isTouched(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.touched)}get isUntouched(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.untouched)}get isPristine(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.pristine)}get isDirty(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.dirty)}get isValid(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.valid)}get isInvalid(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.invalid)}get isPending(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.pending)}get isSubmitted(){var j;return!(null===(j=this._cd)||void 0===j||!j.submitted)}}let zt=(()=>{class W extends lr{constructor(L){super(L)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(Wr,2))},W.\u0275dir=f.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,re){2&L&&f.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[f.qOj]}),W})(),_i=(()=>{class W extends lr{constructor(L){super(L)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(Nr,10))},W.\u0275dir=f.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,re){2&L&&f.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[f.qOj]}),W})();const yn="VALID",Bn="INVALID",ui="PENDING",zr="DISABLED";function Fn(W){return(Ne(W)?W.validators:W)||null}function Lr(W){return Array.isArray(W)?fr(W):W||null}function Bi(W,j){return(Ne(j)?j.asyncValidators:W)||null}function Gr(W){return Array.isArray(W)?Ir(W):W||null}function Ne(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Ae(W,j,L){const re=W.controls;if(!(j?Object.keys(re):re).length)throw new f.vHH(1e3,"");if(!re[L])throw new f.vHH(1001,"")}function Ve(W,j,L){W._forEachChild((re,dt)=>{if(void 0===L[dt])throw new f.vHH(1002,"")})}class Et{constructor(j,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=L,this._composedValidatorFn=Lr(this._rawValidators),this._composedAsyncValidatorFn=Gr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===yn}get invalid(){return this.status===Bn}get pending(){return this.status==ui}get disabled(){return this.status===zr}get enabled(){return this.status!==zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Lr(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=Gr(j)}addValidators(j){this.setValidators(ti(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(ti(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators($r(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators($r(j,this._rawAsyncValidators))}hasValidator(j){return mi(this._rawValidators,j)}hasAsyncValidator(j){return mi(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=ui,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=zr,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:L})),this._onDisabledChange.forEach(re=>re(!0))}enable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=yn,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:L})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yn||this.status===ui)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zr:yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=ui,this._hasOwnPendingAsyncValidator=!0;const L=Nt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,L={}){this.errors=j,this._updateControlsErrors(!1!==L.emitEvent)}get(j){let L=j;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((re,dt)=>re&&re._find(dt),this)}getError(j,L){const re=L?this.get(L):this;return re&&re.errors?re.errors[j]:null}hasError(j,L){return!!this.getError(j,L)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?zr:this.errors?Bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(Bn)?Bn:yn}_anyControlsHaveStatus(j){return this._anyControls(L=>L.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Ne(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}}class Ke extends Et{constructor(j,L,re){super(Fn(L),Bi(re,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,L){return this.controls[j]?this.controls[j]:(this.controls[j]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(j,L,re={}){this.registerControl(j,L),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(j,L={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(j,L,re={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],L&&this.registerControl(j,L),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,L={}){Ve(this,0,j),Object.keys(j).forEach(re=>{Ae(this,!0,re),this.controls[re].setValue(j[re],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(Object.keys(j).forEach(re=>{const dt=this.controls[re];dt&&dt.patchValue(j[re],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j={},L={}){this._forEachChild((re,dt)=>{re.reset(j[dt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(j,L,re)=>(j[re]=L.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(L,re)=>!!re._syncPendingControls()||L);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(L=>{const re=this.controls[L];re&&j(re,L)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[L,re]of Object.entries(this.controls))if(this.contains(L)&&j(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,re,dt)=>((re.enabled||this.disabled)&&(L[dt]=re.value),L))}_reduceChildren(j,L){let re=j;return this._forEachChild((dt,tn)=>{re=L(re,dt,tn)}),re}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class Nn extends Ke{}function Fr(W,j){return[...j.path,W]}function He(W,j){var L,re;lt(W,j),j.valueAccessor.writeValue(W.value),W.disabled&&(null===(re=(L=j.valueAccessor).setDisabledState)||void 0===re||re.call(L,!0)),function cn(W,j){j.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&xe(W,j)})}(W,j),function yt(W,j){const L=(re,dt)=>{j.valueAccessor.writeValue(re),dt&&j.viewToModelUpdate(re)};W.registerOnChange(L),j._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,j),function Pe(W,j){j.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&xe(W,j),"submit"!==W.updateOn&&W.markAsTouched()})}(W,j),function ke(W,j){if(j.valueAccessor.setDisabledState){const L=re=>{j.valueAccessor.setDisabledState(re)};W.registerOnDisabledChange(L),j._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,j)}function Se(W,j,L=!0){const re=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(re),j.valueAccessor.registerOnTouched(re)),on(W,j),W&&(j._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function me(W,j){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(j)})}function lt(W,j){const L=kr(W);null!==j.validator?W.setValidators(nr(L,j.validator)):"function"==typeof L&&W.setValidators([L]);const re=dr(W);null!==j.asyncValidator?W.setAsyncValidators(nr(re,j.asyncValidator)):"function"==typeof re&&W.setAsyncValidators([re]);const dt=()=>W.updateValueAndValidity();me(j._rawValidators,dt),me(j._rawAsyncValidators,dt)}function on(W,j){let L=!1;if(null!==W){if(null!==j.validator){const dt=kr(W);if(Array.isArray(dt)&&dt.length>0){const tn=dt.filter(bi=>bi!==j.validator);tn.length!==dt.length&&(L=!0,W.setValidators(tn))}}if(null!==j.asyncValidator){const dt=dr(W);if(Array.isArray(dt)&&dt.length>0){const tn=dt.filter(bi=>bi!==j.asyncValidator);tn.length!==dt.length&&(L=!0,W.setAsyncValidators(tn))}}}const re=()=>{};return me(j._rawValidators,re),me(j._rawAsyncValidators,re),L}function xe(W,j){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Gt(W,j){lt(W,j)}function Mr(W,j){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(j,L.currentValue)}function ds(W,j){W._syncPendingControls(),j.forEach(L=>{const re=L.control;"submit"===re.updateOn&&re._pendingChange&&(L.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}function Or(W,j){if(!j)return null;let L,re,dt;return Array.isArray(j),j.forEach(tn=>{tn.constructor===ze?L=tn:function Hn(W){return Object.getPrototypeOf(W.constructor)===oe}(tn)?re=tn:dt=tn}),dt||re||L||null}const or={provide:Nr,useExisting:(0,f.Gpc)(()=>xn)},Hi=(()=>Promise.resolve())();let xn=(()=>{class W extends Nr{constructor(L,re){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new Ke({},fr(L),Ir(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Hi.then(()=>{const re=this._findContainer(L.path);L.control=re.registerControl(L.name,L.control),He(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Hi.then(()=>{const re=this._findContainer(L.path);re&&re.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Hi.then(()=>{const re=this._findContainer(L.path),dt=new Ke({});Gt(dt,L),re.registerControl(L.name,dt),dt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Hi.then(()=>{const re=this._findContainer(L.path);re&&re.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,re){Hi.then(()=>{this.form.get(L.path).setValue(re)})}setValue(L){this.control.setValue(L)}onSubmit(L){var re;return this.submitted=!0,ds(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===(null===(re=null==L?void 0:L.target)||void 0===re?void 0:re.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(je,10),f.Y36(gt,10))},W.\u0275dir=f.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,re){1&L&&f.NdJ("submit",function(tn){return re.onSubmit(tn)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([or]),f.qOj]}),W})();function In(W,j){const L=W.indexOf(j);L>-1&&W.splice(L,1)}function Mn(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Ri=class extends Et{constructor(j=null,L,re){super(Fn(L),Bi(re,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ne(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Mn(j)?j.value:j)}setValue(j,L={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(j,L={}){this.setValue(j,L)}reset(j=this.defaultValue,L={}){this._applyFormState(j),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){In(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){In(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){Mn(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let to=(()=>{class W extends Nr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,features:[f.qOj]}),W})();const Ur={provide:Nr,useExisting:(0,f.Gpc)(()=>as)};let as=(()=>{class W extends to{constructor(L,re,dt){super(),this._parent=L,this._setValidators(re),this._setAsyncValidators(dt)}_checkParentType(){}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(Nr,5),f.Y36(je,10),f.Y36(gt,10))},W.\u0275dir=f.lG2({type:W,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[f._Bn([Ur]),f.qOj]}),W})();const Te={provide:Wr,useExisting:(0,f.Gpc)(()=>qe)},it=(()=>Promise.resolve())();let qe=(()=>{class W extends Wr{constructor(L,re,dt,tn,bi){super(),this._changeDetectorRef=bi,this.control=new Ri,this._registered=!1,this.update=new f.vpe,this._parent=L,this._setValidators(re),this._setAsyncValidators(dt),this.valueAccessor=Or(0,tn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const re=L.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Mr(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){He(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){it.then(()=>{var re;this.control.setValue(L,{emitViewToModelChange:!1}),null===(re=this._changeDetectorRef)||void 0===re||re.markForCheck()})}_updateDisabled(L){const re=L.isDisabled.currentValue,dt=0!==re&&(0,f.D6c)(re);it.then(()=>{var tn;dt&&!this.control.disabled?this.control.disable():!dt&&this.control.disabled&&this.control.enable(),null===(tn=this._changeDetectorRef)||void 0===tn||tn.markForCheck()})}_getPath(L){return this._parent?Fr(L,this._parent):[L]}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(Nr,9),f.Y36(je,10),f.Y36(gt,10),f.Y36(J,10),f.Y36(f.sBO,8))},W.\u0275dir=f.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Te]),f.qOj,f.TTD]}),W})(),_t=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=f.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})();const Qt={provide:J,useExisting:(0,f.Gpc)(()=>kt),multi:!0};let kt=(()=>{class W extends oe{writeValue(L){this.setProperty("value",null==L?"":L)}registerOnChange(L){this.onChange=re=>{L(""==re?null:parseFloat(re))}}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,re){1&L&&f.NdJ("input",function(tn){return re.onChange(tn.target.value)})("blur",function(){return re.onTouched()})},features:[f._Bn([Qt]),f.qOj]}),W})();const $n={provide:J,useExisting:(0,f.Gpc)(()=>br),multi:!0};let Cr=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({}),W})(),xi=(()=>{class W{constructor(){this._accessors=[]}add(L,re){this._accessors.push([L,re])}remove(L){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===L)return void this._accessors.splice(re,1)}select(L){this._accessors.forEach(re=>{this._isSameGroup(re,L)&&re[1]!==L&&re[1].fireUncheck(L.value)})}_isSameGroup(L,re){return!!L[0].control&&L[0]._parent===re._control._parent&&L[1].name===re.name}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=f.Yz7({token:W,factory:W.\u0275fac,providedIn:Cr}),W})(),br=(()=>{class W extends oe{constructor(L,re,dt,tn){super(L,re),this._registry=dt,this._injector=tn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Wr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(xi),f.Y36(f.zs3))},W.\u0275dir=f.lG2({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(L,re){1&L&&f.NdJ("change",function(){return re.onChange()})("blur",function(){return re.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f._Bn([$n]),f.qOj]}),W})();const qr={provide:J,useExisting:(0,f.Gpc)(()=>ys),multi:!0};let ys=(()=>{class W extends oe{writeValue(L){this.setProperty("value",parseFloat(L))}registerOnChange(L){this.onChange=re=>{L(""==re?null:parseFloat(re))}}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(L,re){1&L&&f.NdJ("change",function(tn){return re.onChange(tn.target.value)})("input",function(tn){return re.onChange(tn.target.value)})("blur",function(){return re.onTouched()})},features:[f._Bn([qr]),f.qOj]}),W})();const Xi=new f.OlP("NgModelWithFormControlWarning"),Ys={provide:Wr,useExisting:(0,f.Gpc)(()=>po)};let po=(()=>{class W extends Wr{constructor(L,re,dt,tn){super(),this._ngModelWarningConfig=tn,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(re),this.valueAccessor=Or(0,dt)}set isDisabled(L){}ngOnChanges(L){if(this._isControlChanged(L)){const re=L.form.previousValue;re&&Se(re,this,!1),He(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Mr(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Se(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(L){return new(L||W)(f.Y36(je,10),f.Y36(gt,10),f.Y36(J,10),f.Y36(Xi,8))},W.\u0275dir=f.lG2({type:W,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([Ys]),f.qOj,f.TTD]}),W})();const Xn={provide:Nr,useExisting:(0,f.Gpc)(()=>bo)};let bo=(()=>{class W extends Nr{constructor(L,re){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(L),this._setAsyncValidators(re)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(on(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const re=this.form.get(L.path);return He(re,L),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),re}getControl(L){return this.form.get(L.path)}removeControl(L){Se(L.control||null,L,!1),function Ji(W,j){const L=W.indexOf(j);L>-1&&W.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,re){this.form.get(L.path).setValue(re)}onSubmit(L){var re;return this.submitted=!0,ds(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null===(re=null==L?void 0:L.target)||void 0===re?void 0:re.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const re=L.control,dt=this.form.get(L.path);re!==dt&&(Se(re||null,L),(W=>W instanceof Ri)(dt)&&(He(dt,L),L.control=dt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const re=this.form.get(L.path);Gt(re,L),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const re=this.form.get(L.path);re&&function On(W,j){return on(W,j)}(re,L)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lt(this.form,this),this._oldForm&&on(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(je,10),f.Y36(gt,10))},W.\u0275dir=f.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(L,re){1&L&&f.NdJ("submit",function(tn){return re.onSubmit(tn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Xn]),f.qOj,f.TTD]}),W})();const no={provide:Nr,useExisting:(0,f.Gpc)(()=>hs)};let hs=(()=>{class W extends to{constructor(L,re,dt){super(),this._parent=L,this._setValidators(re),this._setAsyncValidators(dt)}_checkParentType(){Gi(this._parent)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(Nr,13),f.Y36(je,10),f.Y36(gt,10))},W.\u0275dir=f.lG2({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([no]),f.qOj]}),W})();const Ni={provide:Nr,useExisting:(0,f.Gpc)(()=>$i)};let $i=(()=>{class W extends Nr{constructor(L,re,dt){super(),this._parent=L,this._setValidators(re),this._setAsyncValidators(dt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Gi(this._parent)}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(Nr,13),f.Y36(je,10),f.Y36(gt,10))},W.\u0275dir=f.lG2({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Ni]),f.qOj]}),W})();function Gi(W){return!(W instanceof hs||W instanceof bo||W instanceof $i)}const Qs={provide:Wr,useExisting:(0,f.Gpc)(()=>er)};let er=(()=>{class W extends Wr{constructor(L,re,dt,tn,bi){super(),this._ngModelWarningConfig=bi,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(re),this._setAsyncValidators(dt),this.valueAccessor=Or(0,tn)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),Mr(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(L){return new(L||W)(f.Y36(Nr,13),f.Y36(je,10),f.Y36(gt,10),f.Y36(J,10),f.Y36(Xi,8))},W.\u0275dir=f.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Qs]),f.qOj,f.TTD]}),W})();const ro={provide:J,useExisting:(0,f.Gpc)(()=>Bo),multi:!0};function vs(W,j){return null==W?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${W}: ${j}`.slice(0,50))}let Bo=(()=>{class W extends oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const dt=vs(this._getOptionId(L),L);this.setProperty("value",dt)}registerOnChange(L){this.onChange=re=>{this.value=this._getOptionValue(re),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re),L))return re;return null}_getOptionValue(L){const re=function io(W){return W.split(":")[0]}(L);return this._optionMap.has(re)?this._optionMap.get(re):L}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,re){1&L&&f.NdJ("change",function(tn){return re.onChange(tn.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([ro]),f.qOj]}),W})(),so=(()=>{class W{constructor(L,re,dt){this._element=L,this._renderer=re,this._select=dt,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(vs(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Bo,9))},W.\u0275dir=f.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),W})();const jo={provide:J,useExisting:(0,f.Gpc)(()=>ri),multi:!0};function Ho(W,j){return null==W?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${W}: ${j}`.slice(0,50))}let ri=(()=>{class W extends oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let re;if(this.value=L,Array.isArray(L)){const dt=L.map(tn=>this._getOptionId(tn));re=(tn,bi)=>{tn._setSelected(dt.indexOf(bi.toString())>-1)}}else re=(dt,tn)=>{dt._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(L){this.onChange=re=>{const dt=[],tn=re.selectedOptions;if(void 0!==tn){const bi=tn;for(let es=0;es<bi.length;es++){const Qr=this._getOptionValue(bi[es].value);dt.push(Qr)}}else{const bi=re.options;for(let es=0;es<bi.length;es++){const oo=bi[es];if(oo.selected){const Qr=this._getOptionValue(oo.value);dt.push(Qr)}}}this.value=dt,L(dt)}}_registerOption(L){const re=(this._idCounter++).toString();return this._optionMap.set(re,L),re}_getOptionId(L){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re)._value,L))return re;return null}_getOptionValue(L){const re=function Si(W){return W.split(":")[0]}(L);return this._optionMap.has(re)?this._optionMap.get(re)._value:L}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,re){1&L&&f.NdJ("change",function(tn){return re.onChange(tn.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([jo]),f.qOj]}),W})(),Vs=(()=>{class W{constructor(L,re,dt){this._element=L,this._renderer=re,this._select=dt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Ho(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Ho(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return W.\u0275fac=function(L){return new(L||W)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ri,9))},W.\u0275dir=f.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),W})();function Oa(W){return"number"==typeof W?W:parseInt(W,10)}function sl(W){return"number"==typeof W?W:parseFloat(W)}let jr=(()=>{class W{constructor(){this._validator=at}ngOnChanges(L){if(this.inputName in L){const re=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(re),this._validator=this._enabled?this.createValidator(re):at,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=f.lG2({type:W,features:[f.TTD]}),W})();const go={provide:je,useExisting:(0,f.Gpc)(()=>Wi),multi:!0};let Wi=(()=>{class W extends jr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>sl(L),this.createValidator=L=>Dt(L)}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&f.uIk("max",re._enabled?re.max:null)},inputs:{max:"max"},features:[f._Bn([go]),f.qOj]}),W})();const Ao={provide:je,useExisting:(0,f.Gpc)(()=>Pa),multi:!0};let Pa=(()=>{class W extends jr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>sl(L),this.createValidator=L=>Be(L)}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&f.uIk("min",re._enabled?re.min:null)},inputs:{min:"min"},features:[f._Bn([Ao]),f.qOj]}),W})();const Bs={provide:je,useExisting:(0,f.Gpc)(()=>Di),multi:!0};let Di=(()=>{class W extends jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=L=>Tt}enabled(L){return L}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,re){2&L&&f.uIk("required",re._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([Bs]),f.qOj]}),W})();const Ra={provide:je,useExisting:(0,f.Gpc)(()=>Rr),multi:!0};let Rr=(()=>{class W extends jr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=L=>Oa(L),this.createValidator=L=>Rt(L)}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&f.uIk("minlength",re._enabled?re.minlength:null)},inputs:{minlength:"minlength"},features:[f._Bn([Ra]),f.qOj]}),W})();const xa={provide:je,useExisting:(0,f.Gpc)(()=>js),multi:!0};let js=(()=>{class W extends jr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=L=>Oa(L),this.createValidator=L=>tt(L)}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&f.uIk("maxlength",re._enabled?re.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([xa]),f.qOj]}),W})();const Go={provide:je,useExisting:(0,f.Gpc)(()=>qs),multi:!0};let qs=(()=>{class W extends jr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=L=>L,this.createValidator=L=>Ze(L)}}return W.\u0275fac=function(){let j;return function(re){return(j||(j=f.n5z(W)))(re||W)}}(),W.\u0275dir=f.lG2({type:W,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&f.uIk("pattern",re._enabled?re.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([Go]),f.qOj]}),W})(),sa=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[Cr]}),W})(),xs=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[sa]}),W})(),Ds=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:Xi,useValue:L.warnOnNgModelWithFormControl}]}}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[sa]}),W})();class mo extends Et{constructor(j,L,re){super(Fn(L),Bi(re,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,L={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(j,L,re={}){this.controls.splice(j,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(j,L={}){let re=this._adjustIndex(j);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(j,L,re={}){let dt=this._adjustIndex(j);dt<0&&(dt=0),this.controls[dt]&&this.controls[dt]._registerOnCollectionChange(()=>{}),this.controls.splice(dt,1),L&&(this.controls.splice(dt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,L={}){Ve(this,0,j),j.forEach((re,dt)=>{Ae(this,!1,dt),this.at(dt).setValue(re,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(j.forEach((re,dt)=>{this.at(dt)&&this.at(dt).patchValue(re,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j=[],L={}){this._forEachChild((re,dt)=>{re.reset(j[dt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((L,re)=>!!re._syncPendingControls()||L,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((L,re)=>{j(L,re)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(L=>L.enabled&&j(L))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){var L;return null!==(L=this.at(j))&&void 0!==L?L:null}}function Ot(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let zn=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new W;return L.useNonNullable=!0,L}group(L,re=null){const dt=this._reduceControls(L);let tn={};return Ot(re)?tn=re:null!==re&&(tn.validators=re.validator,tn.asyncValidators=re.asyncValidator),new Ke(dt,tn)}record(L,re=null){const dt=this._reduceControls(L);return new Nn(dt,re)}control(L,re,dt){let tn={};return this.useNonNullable?(Ot(re)?tn=re:(tn.validators=re,tn.asyncValidators=dt),new Ri(L,Object.assign(Object.assign({},tn),{nonNullable:!0}))):new Ri(L,re,dt)}array(L,re,dt){const tn=L.map(bi=>this._createControl(bi));return new mo(tn,re,dt)}_reduceControls(L){const re={};return Object.keys(L).forEach(dt=>{re[dt]=this._createControl(L[dt])}),re}_createControl(L){return L instanceof Ri||L instanceof Et?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=f.Yz7({token:W,factory:W.\u0275fac,providedIn:Ds}),W})()},2313:(we,ae,C)=>{C.d(ae,{Dx:()=>$e,H7:()=>en,b2:()=>Ei,h_:()=>Zi,q6:()=>yr,se:()=>et});var f=C(9808),S=C(5e3);class te extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class V extends te{static makeCurrent(){(0,f.HT)(new V)}onAndCancel(Se,me,ke){return Se.addEventListener(me,ke,!1),()=>{Se.removeEventListener(me,ke,!1)}}dispatchEvent(Se,me){Se.dispatchEvent(me)}remove(Se){Se.parentNode&&Se.parentNode.removeChild(Se)}createElement(Se,me){return(me=me||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,me){return"window"===me?window:"document"===me?Se:"body"===me?Se.body:null}getBaseHref(Se){const me=function de(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==me?null:function J(He){oe=oe||document.createElement("a"),oe.setAttribute("href",He);const Se=oe.pathname;return"/"===Se.charAt(0)?Se:`/${Se}`}(me)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,f.Mx)(document.cookie,Se)}}let oe,le=null;const he=new S.OlP("TRANSITION_ID"),Z=[{provide:S.ip1,useFactory:function Q(He,Se,me){return()=>{me.get(S.CZH).donePromise.then(()=>{const ke=(0,f.q)(),lt=Se.querySelectorAll(`style[ng-transition="${He}"]`);for(let on=0;on<lt.length;on++)ke.remove(lt[on])})}},deps:[he,f.K0,S.zs3],multi:!0}];let Le=(()=>{class He{build(){return new XMLHttpRequest}}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const ze=new S.OlP("EventManagerPlugins");let Ie=(()=>{class He{constructor(me,ke){this._zone=ke,this._eventNameToPlugin=new Map,me.forEach(lt=>lt.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,ke,lt){return this._findPluginFor(ke).addEventListener(me,ke,lt)}addGlobalEventListener(me,ke,lt){return this._findPluginFor(ke).addGlobalEventListener(me,ke,lt)}getZone(){return this._zone}_findPluginFor(me){const ke=this._eventNameToPlugin.get(me);if(ke)return ke;const lt=this._plugins;for(let on=0;on<lt.length;on++){const cn=lt[on];if(cn.supports(me))return this._eventNameToPlugin.set(me,cn),cn}throw new Error(`No event manager plugin found for event ${me}`)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(ze),S.LFG(S.R0b))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();class Ye{constructor(Se){this._doc=Se}addGlobalEventListener(Se,me,ke){const lt=(0,f.q)().getGlobalEventTarget(this._doc,Se);if(!lt)throw new Error(`Unsupported event target ${lt} for event ${me}`);return this.addEventListener(lt,me,ke)}}let We=(()=>{class He{constructor(){this._stylesSet=new Set}addStyles(me){const ke=new Set;me.forEach(lt=>{this._stylesSet.has(lt)||(this._stylesSet.add(lt),ke.add(lt))}),this.onStylesAdded(ke)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})(),je=(()=>{class He extends We{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,ke,lt){me.forEach(on=>{const cn=this._doc.createElement("style");cn.textContent=on,lt.push(ke.appendChild(cn))})}addHost(me){const ke=[];this._addStylesToHost(this._stylesSet,me,ke),this._hostNodes.set(me,ke)}removeHost(me){const ke=this._hostNodes.get(me);ke&&ke.forEach(gt),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((ke,lt)=>{this._addStylesToHost(me,lt,ke)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(gt))}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();function gt(He){(0,f.q)().remove(He)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function tt(He,Se,me){for(let ke=0;ke<Se.length;ke++){let lt=Se[ke];Array.isArray(lt)?tt(He,lt,me):(lt=lt.replace(Ge,He),me.push(lt))}return me}function Ze(He){return Se=>{if("__ngUnwrap__"===Se)return He;!1===He(Se)&&(Se.preventDefault(),Se.returnValue=!1)}}let et=(()=>{class He{constructor(me,ke,lt){this.eventManager=me,this.sharedStylesHost=ke,this.appId=lt,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(me)}createRenderer(me,ke){if(!me||!ke)return this.defaultRenderer;switch(ke.encapsulation){case S.ifc.Emulated:{let lt=this.rendererByCompId.get(ke.id);return lt||(lt=new Kt(this.eventManager,this.sharedStylesHost,ke,this.appId),this.rendererByCompId.set(ke.id,lt)),lt.applyToHost(me),lt}case 1:case S.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,me,ke);default:if(!this.rendererByCompId.has(ke.id)){const lt=tt(ke.id,ke.styles,[]);this.sharedStylesHost.addStyles(lt),this.rendererByCompId.set(ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(Ie),S.LFG(je),S.LFG(S.AFp))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();class Nt{constructor(Se){this.eventManager=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Se,me){return me?document.createElementNS(xt[me]||me,Se):document.createElement(Se)}createComment(Se){return document.createComment(Se)}createText(Se){return document.createTextNode(Se)}appendChild(Se,me){(Un(Se)?Se.content:Se).appendChild(me)}insertBefore(Se,me,ke){Se&&(Un(Se)?Se.content:Se).insertBefore(me,ke)}removeChild(Se,me){Se&&Se.removeChild(me)}selectRootElement(Se,me){let ke="string"==typeof Se?document.querySelector(Se):Se;if(!ke)throw new Error(`The selector "${Se}" did not match any elements`);return me||(ke.textContent=""),ke}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,me,ke,lt){if(lt){me=lt+":"+me;const on=xt[lt];on?Se.setAttributeNS(on,me,ke):Se.setAttribute(me,ke)}else Se.setAttribute(me,ke)}removeAttribute(Se,me,ke){if(ke){const lt=xt[ke];lt?Se.removeAttributeNS(lt,me):Se.removeAttribute(`${ke}:${me}`)}else Se.removeAttribute(me)}addClass(Se,me){Se.classList.add(me)}removeClass(Se,me){Se.classList.remove(me)}setStyle(Se,me,ke,lt){lt&(S.JOm.DashCase|S.JOm.Important)?Se.style.setProperty(me,ke,lt&S.JOm.Important?"important":""):Se.style[me]=ke}removeStyle(Se,me,ke){ke&S.JOm.DashCase?Se.style.removeProperty(me):Se.style[me]=""}setProperty(Se,me,ke){Se[me]=ke}setValue(Se,me){Se.nodeValue=me}listen(Se,me,ke){return"string"==typeof Se?this.eventManager.addGlobalEventListener(Se,me,Ze(ke)):this.eventManager.addEventListener(Se,me,Ze(ke))}}function Un(He){return"TEMPLATE"===He.tagName&&void 0!==He.content}class Kt extends Nt{constructor(Se,me,ke,lt){super(Se),this.component=ke;const on=tt(lt+"-"+ke.id,ke.styles,[]);me.addStyles(on),this.contentAttr=function Ht(He){return"_ngcontent-%COMP%".replace(Ge,He)}(lt+"-"+ke.id),this.hostAttr=function Rt(He){return"_nghost-%COMP%".replace(Ge,He)}(lt+"-"+ke.id)}applyToHost(Se){super.setAttribute(Se,this.hostAttr,"")}createElement(Se,me){const ke=super.createElement(Se,me);return super.setAttribute(ke,this.contentAttr,""),ke}}class Mt extends Nt{constructor(Se,me,ke,lt){super(Se),this.sharedStylesHost=me,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=tt(lt.id,lt.styles,[]);for(let cn=0;cn<on.length;cn++){const Pe=document.createElement("style");Pe.textContent=on[cn],this.shadowRoot.appendChild(Pe)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Se,me){return super.appendChild(this.nodeOrShadowRoot(Se),me)}insertBefore(Se,me,ke){return super.insertBefore(this.nodeOrShadowRoot(Se),me,ke)}removeChild(Se,me){return super.removeChild(this.nodeOrShadowRoot(Se),me)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}}let fr=(()=>{class He extends Ye{constructor(me){super(me)}supports(me){return!0}addEventListener(me,ke,lt){return me.addEventListener(ke,lt,!1),()=>this.removeEventListener(me,ke,lt)}removeEventListener(me,ke,lt){return me.removeEventListener(ke,lt)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const Br=["alt","control","meta","shift"],Ir={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let kr=(()=>{class He extends Ye{constructor(me){super(me)}supports(me){return null!=He.parseEventName(me)}addEventListener(me,ke,lt){const on=He.parseEventName(ke),cn=He.eventCallback(on.fullKey,lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(me,on.domEventName,cn))}static parseEventName(me){const ke=me.toLowerCase().split("."),lt=ke.shift();if(0===ke.length||"keydown"!==lt&&"keyup"!==lt)return null;const on=He._normalizeKey(ke.pop());let cn="",Pe=ke.indexOf("code");if(Pe>-1&&(ke.splice(Pe,1),cn="code."),Br.forEach(yt=>{const Gt=ke.indexOf(yt);Gt>-1&&(ke.splice(Gt,1),cn+=yt+".")}),cn+=on,0!=ke.length||0===on.length)return null;const xe={};return xe.domEventName=lt,xe.fullKey=cn,xe}static matchEventFullKeyCode(me,ke){let lt=Ir[me.key]||me.key,on="";return ke.indexOf("code.")>-1&&(lt=me.code,on="code."),!(null==lt||!lt)&&(lt=lt.toLowerCase()," "===lt?lt="space":"."===lt&&(lt="dot"),Br.forEach(cn=>{cn!==lt&&(0,nr[cn])(me)&&(on+=cn+".")}),on+=lt,on===ke)}static eventCallback(me,ke,lt){return on=>{He.matchEventFullKeyCode(on,me)&&lt.runGuarded(()=>ke(on))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const yr=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:f.bD},{provide:S.g9A,useValue:function ni(){V.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Nr(){return(0,S.RDi)(document),document},deps:[]}]),cs=new S.OlP(""),zt=[{provide:S.rWj,useClass:class ce{addToWindow(Se){S.dqk.getAngularTestability=(ke,lt=!0)=>{const on=Se.findTestabilityInTree(ke,lt);if(null==on)throw new Error("Could not find testability for element.");return on},S.dqk.getAllAngularTestabilities=()=>Se.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>Se.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(ke=>{const lt=S.dqk.getAllAngularTestabilities();let on=lt.length,cn=!1;const Pe=function(xe){cn=cn||xe,on--,0==on&&ke(cn)};lt.forEach(function(xe){xe.whenStable(Pe)})})}findTestabilityInTree(Se,me,ke){if(null==me)return null;const lt=Se.getTestability(me);return null!=lt?lt:ke?(0,f.q)().isShadowRoot(me)?this.findTestabilityInTree(Se,me.host,!0):this.findTestabilityInTree(Se,me.parentElement,!0):null}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],_i=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function Wr(){return new S.qLn},deps:[]},{provide:ze,useClass:fr,multi:!0,deps:[f.K0,S.R0b,S.Lbi]},{provide:ze,useClass:kr,multi:!0,deps:[f.K0]},{provide:et,useClass:et,deps:[Ie,je,S.AFp]},{provide:S.FYo,useExisting:et},{provide:We,useExisting:je},{provide:je,useClass:je,deps:[f.K0]},{provide:Ie,useClass:Ie,deps:[ze,S.R0b]},{provide:f.JF,useClass:Le,deps:[]},[]];let Ei=(()=>{class He{constructor(me){}static withServerTransition(me){return{ngModule:He,providers:[{provide:S.AFp,useValue:me.appId},{provide:he,useExisting:S.AFp},Z]}}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(cs,12))},He.\u0275mod=S.oAB({type:He}),He.\u0275inj=S.cJS({providers:[..._i,...zt],imports:[f.ez,S.hGG]}),He})(),Zi=(()=>{class He{constructor(me){this._doc=me,this._dom=(0,f.q)()}addTag(me,ke=!1){return me?this._getOrCreateElement(me,ke):null}addTags(me,ke=!1){return me?me.reduce((lt,on)=>(on&&lt.push(this._getOrCreateElement(on,ke)),lt),[]):[]}getTag(me){return me&&this._doc.querySelector(`meta[${me}]`)||null}getTags(me){if(!me)return[];const ke=this._doc.querySelectorAll(`meta[${me}]`);return ke?[].slice.call(ke):[]}updateTag(me,ke){if(!me)return null;ke=ke||this._parseSelector(me);const lt=this.getTag(ke);return lt?this._setMetaElementAttributes(me,lt):this._getOrCreateElement(me,!0)}removeTag(me){this.removeTagElement(this.getTag(me))}removeTagElement(me){me&&this._dom.remove(me)}_getOrCreateElement(me,ke=!1){if(!ke){const cn=this._parseSelector(me),Pe=this.getTags(cn).filter(xe=>this._containsAttributes(me,xe))[0];if(void 0!==Pe)return Pe}const lt=this._dom.createElement("meta");return this._setMetaElementAttributes(me,lt),this._doc.getElementsByTagName("head")[0].appendChild(lt),lt}_setMetaElementAttributes(me,ke){return Object.keys(me).forEach(lt=>ke.setAttribute(this._getMetaKeyMap(lt),me[lt])),ke}_parseSelector(me){const ke=me.name?"name":"property";return`${ke}="${me[ke]}"`}_containsAttributes(me,ke){return Object.keys(me).every(lt=>ke.getAttribute(this._getMetaKeyMap(lt))===me[lt])}_getMetaKeyMap(me){return li[me]||me}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new me:function vr(){return new Zi((0,S.LFG)(f.K0))}(),ke},providedIn:"root"}),He})();const li={httpEquiv:"http-equiv"};let $e=(()=>{class He{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new me:function Tr(){return new $e((0,S.LFG)(f.K0))}(),ke},providedIn:"root"}),He})();"undefined"!=typeof window&&window;let en=(()=>{class He{}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new(me||He):S.LFG(ir),ke},providedIn:"root"}),He})(),ir=(()=>{class He extends en{constructor(me){super(),this._doc=me}sanitize(me,ke){if(null==ke)return null;switch(me){case S.q3G.NONE:return ke;case S.q3G.HTML:return(0,S.qzn)(ke,"HTML")?(0,S.z3N)(ke):(0,S.EiD)(this._doc,String(ke)).toString();case S.q3G.STYLE:return(0,S.qzn)(ke,"Style")?(0,S.z3N)(ke):ke;case S.q3G.SCRIPT:if((0,S.qzn)(ke,"Script"))return(0,S.z3N)(ke);throw new Error("unsafe value used in a script context");case S.q3G.URL:return(0,S.qzn)(ke,"URL")?(0,S.z3N)(ke):(0,S.mCW)(String(ke));case S.q3G.RESOURCE_URL:if((0,S.qzn)(ke,"ResourceURL"))return(0,S.z3N)(ke);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${me} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(me){return(0,S.JVY)(me)}bypassSecurityTrustStyle(me){return(0,S.L6k)(me)}bypassSecurityTrustScript(me){return(0,S.eBb)(me)}bypassSecurityTrustUrl(me){return(0,S.LAX)(me)}bypassSecurityTrustResourceUrl(me){return(0,S.pB0)(me)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new me:function Nn(He){return new ir(He.get(f.K0))}(S.LFG(S.zs3)),ke},providedIn:"root"}),He})()},4202:(we,ae,C)=>{C.d(ae,{Bz:()=>Da,F0:()=>us,OD:()=>Hi,Od:()=>Do,Q3:()=>Mn,gk:()=>In,gz:()=>qr,lC:()=>Si,m2:()=>xn,rH:()=>Qo,wN:()=>Oi,yS:()=>_a});var f=C(5e3),S=C(457),te=C(9646),V=C(1135),le=C(6805),de=C(9841),oe=C(7272),J=C(9770),he=C(9635),Q=C(2843),Z=C(9751),ce=C(515),Le=C(4033),ze=C(7579),Ie=C(9808),Ye=C(4004),We=C(3900),je=C(5698),gt=C(8675),xt=C(9300),Ge=C(5577),Be=C(590),Dt=C(4351),Tt=C(8505),Wt=C(262),Ht=C(5026),Rt=C(3103),tt=C(2529),Ze=C(6590),at=C(2035),et=C(9718),Nt=C(8746),bt=C(8343),ht=C(8189),Un=C(2313);const Kt="primary",Mt=Symbol("RouteTitle");class fr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Br(M){return new fr(M)}function Ir(M,O,T){const F=T.path.split("/");if(F.length>M.length||"full"===T.pathMatch&&(O.hasChildren()||F.length<M.length))return null;const $={};for(let ne=0;ne<F.length;ne++){const ye=F[ne],Ce=M[ne];if(ye.startsWith(":"))$[ye.substring(1)]=Ce;else if(ye!==Ce.path)return null}return{consumed:M.slice(0,F.length),posParams:$}}function kr(M,O){const T=M?Object.keys(M):void 0,F=O?Object.keys(O):void 0;if(!T||!F||T.length!=F.length)return!1;let $;for(let ne=0;ne<T.length;ne++)if($=T[ne],!dr(M[$],O[$]))return!1;return!0}function dr(M,O){if(Array.isArray(M)&&Array.isArray(O)){if(M.length!==O.length)return!1;const T=[...M].sort(),F=[...O].sort();return T.every(($,ne)=>F[ne]===$)}return M===O}function vi(M){return Array.prototype.concat.apply([],M)}function mi(M){return M.length>0?M[M.length-1]:null}function $r(M,O){for(const T in M)M.hasOwnProperty(T)&&O(M[T],T)}function ni(M){return(0,f.CqO)(M)?M:(0,f.QGY)(M)?(0,S.D)(Promise.resolve(M)):(0,te.of)(M)}const lr={exact:function _i(M,O,T){if(!nt(M.segments,O.segments)||!li(M.segments,O.segments,T)||M.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!M.children[F]||!_i(M.children[F],O.children[F],T))return!1;return!0},subset:vr},yr={exact:function zt(M,O){return kr(M,O)},subset:function Ei(M,O){return Object.keys(O).length<=Object.keys(M).length&&Object.keys(O).every(T=>dr(M[T],O[T]))},ignored:()=>!0};function cs(M,O,T){return lr[T.paths](M.root,O.root,T.matrixParams)&&yr[T.queryParams](M.queryParams,O.queryParams)&&!("exact"===T.fragment&&M.fragment!==O.fragment)}function vr(M,O,T){return Zi(M,O,O.segments,T)}function Zi(M,O,T,F){if(M.segments.length>T.length){const $=M.segments.slice(0,T.length);return!(!nt($,T)||O.hasChildren()||!li($,T,F))}if(M.segments.length===T.length){if(!nt(M.segments,T)||!li(M.segments,T,F))return!1;for(const $ in O.children)if(!M.children[$]||!vr(M.children[$],O.children[$],F))return!1;return!0}{const $=T.slice(0,M.segments.length),ne=T.slice(M.segments.length);return!!(nt(M.segments,$)&&li(M.segments,$,F)&&M.children[Kt])&&Zi(M.children[Kt],O,ne,F)}}function li(M,O,T){return O.every((F,$)=>yr[T](M[$].parameters,F.parameters))}class Tr{constructor(O,T,F){this.root=O,this.queryParams=T,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Br(this.queryParams)),this._queryParamMap}toString(){return Gn.serialize(this)}}class $e{constructor(O,T){this.segments=O,this.children=T,this.parent=null,$r(T,(F,$)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ut(this)}}class Oe{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Br(this.parameters)),this._parameterMap}toString(){return zr(this)}}function nt(M,O){return M.length===O.length&&M.every((T,F)=>T.path===O[F].path)}let un=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return new sn},providedIn:"root"}),M})();class sn{parse(O){const T=new Ke(O);return new Tr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${Vn(O.root,!0)}`,F=function Lr(M){const O=Object.keys(M).map(T=>{const F=M[T];return Array.isArray(F)?F.map($=>`${Kr(T)}=${Kr($)}`).join("&"):`${Kr(T)}=${Kr(F)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${F}${"string"==typeof O.fragment?`#${function gn(M){return encodeURI(M)}(O.fragment)}`:""}`}}const Gn=new sn;function Ut(M){return M.segments.map(O=>zr(O)).join("/")}function Vn(M,O){if(!M.hasChildren())return Ut(M);if(O){const T=M.children[Kt]?Vn(M.children[Kt],!1):"",F=[];return $r(M.children,($,ne)=>{ne!==Kt&&F.push(`${ne}:${Vn($,!1)}`)}),F.length>0?`${T}(${F.join("//")})`:T}{const T=function pt(M,O){let T=[];return $r(M.children,(F,$)=>{$===Kt&&(T=T.concat(O(F,$)))}),$r(M.children,(F,$)=>{$!==Kt&&(T=T.concat(O(F,$)))}),T}(M,(F,$)=>$===Kt?[Vn(M.children[Kt],!1)]:[`${$}:${Vn(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Kt]?`${Ut(M)}/${T[0]}`:`${Ut(M)}/(${T.join("//")})`}}function Kn(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(M){return Kn(M).replace(/%3B/gi,";")}function yn(M){return Kn(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bn(M){return decodeURIComponent(M)}function ui(M){return Bn(M.replace(/\+/g,"%20"))}function zr(M){return`${yn(M.path)}${function Fn(M){return Object.keys(M).map(O=>`;${yn(O)}=${yn(M[O])}`).join("")}(M.parameters)}`}const Bi=/^[^\/()?;=#]+/;function Gr(M){const O=M.match(Bi);return O?O[0]:""}const Ne=/^[^=?&#]+/,Ve=/^[^&#]+/;class Ke{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(F[Kt]=new $e(O,T)),F}parseSegment(){const O=Gr(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Oe(Bn(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=Gr(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const $=Gr(this.remaining);$&&(F=$,this.capture(F))}O[Bn(T)]=Bn(F)}parseQueryParam(O){const T=function Ae(M){const O=M.match(Ne);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const ye=function Et(M){const O=M.match(Ve);return O?O[0]:""}(this.remaining);ye&&(F=ye,this.capture(F))}const $=ui(T),ne=ui(F);if(O.hasOwnProperty($)){let ye=O[$];Array.isArray(ye)||(ye=[ye],O[$]=ye),ye.push(ne)}else O[$]=ne}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Gr(this.remaining),$=this.remaining[F.length];if("/"!==$&&")"!==$&&";"!==$)throw new f.vHH(4010,!1);let ne;F.indexOf(":")>-1?(ne=F.slice(0,F.indexOf(":")),this.capture(ne),this.capture(":")):O&&(ne=Kt);const ye=this.parseChildren();T[ne]=1===Object.keys(ye).length?ye[Kt]:new $e([],ye),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function jt(M){return M.segments.length>0?new $e([],{[Kt]:M}):M}function en(M){const O={};for(const F of Object.keys(M.children)){const ne=en(M.children[F]);(ne.segments.length>0||ne.hasChildren())&&(O[F]=ne)}return function Nn(M){if(1===M.numberOfChildren&&M.children[Kt]){const O=M.children[Kt];return new $e(M.segments.concat(O.segments),O.children)}return M}(new $e(M.segments,O))}function ir(M){return M instanceof Tr}function ke(M,O,T,F,$){var ne;if(0===T.length)return cn(O.root,O.root,O.root,F,$);const Ce=function yt(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new xe(!0,0,M);let O=0,T=!1;const F=M.reduce(($,ne,ye)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const Ce={};return $r(ne.outlets,(Je,Bt)=>{Ce[Bt]="string"==typeof Je?Je.split("/"):Je}),[...$,{outlets:Ce}]}if(ne.segmentPath)return[...$,ne.segmentPath]}return"string"!=typeof ne?[...$,ne]:0===ye?(ne.split("/").forEach((Ce,Je)=>{0==Je&&"."===Ce||(0==Je&&""===Ce?T=!0:".."===Ce?O++:""!=Ce&&$.push(Ce))}),$):[...$,ne]},[]);return new xe(T,O,F)}(T);return Ce.toRoot()?cn(O.root,O.root,new $e([],{}),F,$):function Je(hn){var Yt;const vn=function mn(M,O,T,F){if(M.isAbsolute)return new Gt(O.root,!0,0);if(-1===F)return new Gt(T,T===O.root,0);return function Jn(M,O,T){let F=M,$=O,ne=T;for(;ne>$;){if(ne-=$,F=F.parent,!F)throw new f.vHH(4005,!1);$=F.segments.length}return new Gt(F,!1,$-ne)}(T,F+(lt(M.commands[0])?0:1),M.numberOfDoubleDots)}(Ce,O,null===(Yt=M.snapshot)||void 0===Yt?void 0:Yt._urlSegment,hn),qn=vn.processChildren?Mr(vn.segmentGroup,vn.index,Ce.commands):si(vn.segmentGroup,vn.index,Ce.commands);return cn(O.root,vn.segmentGroup,qn,F,$)}(null===(ne=M.snapshot)||void 0===ne?void 0:ne._lastPathIndex)}function lt(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function on(M){return"object"==typeof M&&null!=M&&M.outlets}function cn(M,O,T,F,$){let ye,ne={};F&&$r(F,(Je,Bt)=>{ne[Bt]=Array.isArray(Je)?Je.map(hn=>`${hn}`):`${Je}`}),ye=M===O?T:Pe(M,O,T);const Ce=jt(en(ye));return new Tr(Ce,ne,$)}function Pe(M,O,T){const F={};return $r(M.children,($,ne)=>{F[ne]=$===O?T:Pe($,O,T)}),new $e(M.segments,F)}class xe{constructor(O,T,F){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=F,O&&F.length>0&&lt(F[0]))throw new f.vHH(4003,!1);const $=F.find(on);if($&&$!==mi(F))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gt{constructor(O,T,F){this.segmentGroup=O,this.processChildren=T,this.index=F}}function si(M,O,T){if(M||(M=new $e([],{})),0===M.segments.length&&M.hasChildren())return Mr(M,O,T);const F=function Hn(M,O,T){let F=0,$=O;const ne={match:!1,pathIndex:0,commandIndex:0};for(;$<M.segments.length;){if(F>=T.length)return ne;const ye=M.segments[$],Ce=T[F];if(on(Ce))break;const Je=`${Ce}`,Bt=F<T.length-1?T[F+1]:null;if($>0&&void 0===Je)break;if(Je&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!ji(Je,Bt,ye))return ne;F+=2}else{if(!ji(Je,{},ye))return ne;F++}$++}return{match:!0,pathIndex:$,commandIndex:F}}(M,O,T),$=T.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const ne=new $e(M.segments.slice(0,F.pathIndex),{});return ne.children[Kt]=new $e(M.segments.slice(F.pathIndex),M.children),Mr(ne,0,$)}return F.match&&0===$.length?new $e(M.segments,{}):F.match&&!M.hasChildren()?ds(M,O,T):F.match?Mr(M,0,$):ds(M,O,T)}function Mr(M,O,T){if(0===T.length)return new $e(M.segments,{});{const F=function sr(M){return on(M[0])?M[0].outlets:{[Kt]:M}}(T),$={};return $r(F,(ne,ye)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&($[ye]=si(M.children[ye],O,ne))}),$r(M.children,(ne,ye)=>{void 0===F[ye]&&($[ye]=ne)}),new $e(M.segments,$)}}function ds(M,O,T){const F=M.segments.slice(0,O);let $=0;for(;$<T.length;){const ne=T[$];if(on(ne)){const Je=Or(ne.outlets);return new $e(F,Je)}if(0===$&&lt(T[0])){F.push(new Oe(M.segments[O].path,Ji(T[0]))),$++;continue}const ye=on(ne)?ne.outlets[Kt]:`${ne}`,Ce=$<T.length-1?T[$+1]:null;ye&&Ce&&lt(Ce)?(F.push(new Oe(ye,Ji(Ce))),$+=2):(F.push(new Oe(ye,{})),$++)}return new $e(F,{})}function Or(M){const O={};return $r(M,(T,F)=>{"string"==typeof T&&(T=[T]),null!==T&&(O[F]=ds(new $e([],{}),0,T))}),O}function Ji(M){const O={};return $r(M,(T,F)=>O[F]=`${T}`),O}function ji(M,O,T){return M==T.path&&kr(O,T.parameters)}class or{constructor(O,T){this.id=O,this.url=T}}class Hi extends or{constructor(O,T,F="imperative",$=null){super(O,T),this.type=0,this.navigationTrigger=F,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends or{constructor(O,T,F){super(O,T),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class In extends or{constructor(O,T,F,$){super(O,T),this.reason=F,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mn extends or{constructor(O,T,F,$){super(O,T),this.error=F,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ri extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class So extends or{constructor(O,T,F,$,ne){super(O,T),this.urlAfterRedirects=F,this.state=$,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class to extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sr{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ln{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(O,T,F){this.routerEvent=O,this.position=T,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _t{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=Qt(O,this._root);return T?T.children.map(F=>F.value):[]}firstChild(O){const T=Qt(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=kt(O,this._root);return T.length<2?[]:T[T.length-2].children.map($=>$.value).filter($=>$!==O)}pathFromRoot(O){return kt(O,this._root).map(T=>T.value)}}function Qt(M,O){if(M===O.value)return O;for(const T of O.children){const F=Qt(M,T);if(F)return F}return null}function kt(M,O){if(M===O.value)return[O];for(const T of O.children){const F=kt(M,T);if(F.length)return F.unshift(O),F}return[]}class $n{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function Yr(M){const O={};return M&&M.children.forEach(T=>O[T.value.outlet]=T),O}class Cr extends _t{constructor(O,T){super(O),this.snapshot=T,Xn(this,O)}toString(){return this.snapshot.toString()}}function xi(M,O){const T=function br(M,O){const ye=new Ys([],{},{},"",{},Kt,O,null,M.root,-1,{});return new po("",new $n(ye,[]))}(M,O),F=new V.X([new Oe("",{})]),$=new V.X({}),ne=new V.X({}),ye=new V.X({}),Ce=new V.X(""),Je=new qr(F,$,ye,Ce,ne,Kt,O,T.root);return Je.snapshot=T.root,new Cr(new $n(Je,[]),T)}class qr{constructor(O,T,F,$,ne,ye,Ce,Je){var Bt,hn;this.url=O,this.params=T,this.queryParams=F,this.fragment=$,this.data=ne,this.outlet=ye,this.component=Ce,this.title=null!==(hn=null===(Bt=this.data)||void 0===Bt?void 0:Bt.pipe((0,Ye.U)(Yt=>Yt[Mt])))&&void 0!==hn?hn:(0,te.of)(void 0),this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(O=>Br(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(O=>Br(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ys(M,O="emptyOnly"){const T=M.pathFromRoot;let F=0;if("always"!==O)for(F=T.length-1;F>=1;){const $=T[F],ne=T[F-1];if($.routeConfig&&""===$.routeConfig.path)F--;else{if(ne.component)break;F--}}return function Xi(M){return M.reduce((O,T)=>{var F;return{params:Object.assign(Object.assign({},O.params),T.params),data:Object.assign(Object.assign({},O.data),T.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},T.data),O.resolve),null===(F=T.routeConfig)||void 0===F?void 0:F.data),T._resolvedData)}},{params:{},data:{},resolve:{}})}(T.slice(F))}class Ys{constructor(O,T,F,$,ne,ye,Ce,Je,Bt,hn,Yt,vn){var qn;this.url=O,this.params=T,this.queryParams=F,this.fragment=$,this.data=ne,this.outlet=ye,this.component=Ce,this.title=null===(qn=this.data)||void 0===qn?void 0:qn[Mt],this.routeConfig=Je,this._urlSegment=Bt,this._lastPathIndex=hn,this._correctedLastPathIndex=null!=vn?vn:hn,this._resolve=Yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Br(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Br(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class po extends _t{constructor(O,T){super(T),this.url=O,Xn(this,T)}toString(){return bo(this._root)}}function Xn(M,O){O.value._routerState=M,O.children.forEach(T=>Xn(M,T))}function bo(M){const O=M.children.length>0?` { ${M.children.map(bo).join(", ")} } `:"";return`${M.value}${O}`}function no(M){if(M.snapshot){const O=M.snapshot,T=M._futureSnapshot;M.snapshot=T,kr(O.queryParams,T.queryParams)||M.queryParams.next(T.queryParams),O.fragment!==T.fragment&&M.fragment.next(T.fragment),kr(O.params,T.params)||M.params.next(T.params),function nr(M,O){if(M.length!==O.length)return!1;for(let T=0;T<M.length;++T)if(!kr(M[T],O[T]))return!1;return!0}(O.url,T.url)||M.url.next(T.url),kr(O.data,T.data)||M.data.next(T.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function hs(M,O){const T=kr(M.params,O.params)&&function Ee(M,O){return nt(M,O)&&M.every((T,F)=>kr(T.parameters,O[F].parameters))}(M.url,O.url);return T&&!(!M.parent!=!O.parent)&&(!M.parent||hs(M.parent,O.parent))}function $i(M,O,T){if(T&&M.shouldReuseRoute(O.value,T.value.snapshot)){const F=T.value;F._futureSnapshot=O.value;const $=function Gi(M,O,T){return O.children.map(F=>{for(const $ of T.children)if(M.shouldReuseRoute(F.value,$.value.snapshot))return $i(M,F,$);return $i(M,F)})}(M,O,T);return new $n(F,$)}{if(M.shouldAttach(O.value)){const ne=M.retrieve(O.value);if(null!==ne){const ye=ne.route;return ye.value._futureSnapshot=O.value,ye.children=O.children.map(Ce=>$i(M,Ce)),ye}}const F=function Qs(M){return new qr(new V.X(M.url),new V.X(M.params),new V.X(M.queryParams),new V.X(M.fragment),new V.X(M.data),M.outlet,M.component,M)}(O.value),$=O.children.map(ne=>$i(M,ne));return new $n(F,$)}}const er="ngNavigationCancelingError";function ro(M,O){const{redirectTo:T,navigationBehaviorOptions:F}=ir(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,$=vs(!1,0,O);return $.url=T,$.navigationBehaviorOptions=F,$}function vs(M,O,T){const F=new Error("NavigationCancelingError: "+(M||""));return F[er]=!0,F.cancellationCode=O,T&&(F.url=T),F}function io(M){return Bo(M)&&ir(M.url)}function Bo(M){return M&&M[er]}class so{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jo,this.attachRef=null}}let jo=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const $=this.getOrCreateContext(T);$.outlet=F,this.contexts.set(T,$)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new so,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Ho=!1;let Si=(()=>{class M{constructor(T,F,$,ne,ye){this.parentContexts=T,this.location=F,this.changeDetector=ne,this.environmentInjector=ye,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=$||Kt,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){var T;(null===(T=this.parentContexts.getContext(this.name))||void 0===T?void 0:T.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Ho);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Ho);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Ho);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){if(this.isActivated)throw new f.vHH(4013,Ho);this._activatedRoute=T;const $=this.location,ye=T._futureSnapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,Je=new Ya(T,Ce,$.injector);if(F&&function ri(M){return!!M.resolveComponentFactory}(F)){const Bt=F.resolveComponentFactory(ye);this.activated=$.createComponent(Bt,$.length,Je)}else this.activated=$.createComponent(ye,{index:$.length,injector:Je,environmentInjector:null!=F?F:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(jo),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},M.\u0275dir=f.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),M})();class Ya{constructor(O,T,F){this.route=O,this.childContexts=T,this.parent=F}get(O,T){return O===qr?this.route:O===jo?this.childContexts:this.parent.get(O,T)}}let Vs=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(T,F){1&T&&f._UZ(0,"router-outlet")},dependencies:[Si],encapsulation:2}),M})();function Oa(M,O){var T;return M.providers&&!M._injector&&(M._injector=(0,f.MMx)(M.providers,O,`Route: ${M.path}`)),null!==(T=M._injector)&&void 0!==T?T:O}function Di(M){const O=M.children&&M.children.map(Di),T=O?Object.assign(Object.assign({},M),{children:O}):Object.assign({},M);return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==Kt&&(T.component=Vs),T}function Dn(M){return M.outlet||Kt}function $o(M,O){const T=M.filter(F=>Dn(F)===O);return T.push(...M.filter(F=>Dn(F)!==O)),T}function ur(M){var O;if(!M)return null;if(null!==(O=M.routeConfig)&&void 0!==O&&O._injector)return M.routeConfig._injector;for(let T=M.parent;T;T=T.parent){const F=T.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class Rr{constructor(O,T,F,$){this.routeReuseStrategy=O,this.futureState=T,this.currState=F,this.forwardEvent=$}activate(O){const T=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,F,O),no(this.futureState.root),this.activateChildRoutes(T,F,O)}deactivateChildRoutes(O,T,F){const $=Yr(T);O.children.forEach(ne=>{const ye=ne.value.outlet;this.deactivateRoutes(ne,$[ye],F),delete $[ye]}),$r($,(ne,ye)=>{this.deactivateRouteAndItsChildren(ne,F)})}deactivateRoutes(O,T,F){const $=O.value,ne=T?T.value:null;if($===ne)if($.component){const ye=F.getContext($.outlet);ye&&this.deactivateChildRoutes(O,T,ye.children)}else this.deactivateChildRoutes(O,T,F);else ne&&this.deactivateRouteAndItsChildren(T,F)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const F=T.getContext(O.value.outlet),$=F&&O.value.component?F.children:T,ne=Yr(O);for(const ye of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ye],$);if(F&&F.outlet){const ye=F.outlet.detach(),Ce=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:ye,route:O,contexts:Ce})}}deactivateRouteAndOutlet(O,T){const F=T.getContext(O.value.outlet),$=F&&O.value.component?F.children:T,ne=Yr(O);for(const ye of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ye],$);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,T,F){const $=Yr(T);O.children.forEach(ne=>{this.activateRoutes(ne,$[ne.value.outlet],F),this.forwardEvent(new Te(ne.value.snapshot))}),O.children.length&&this.forwardEvent(new Ur(O.value.snapshot))}activateRoutes(O,T,F){var $;const ne=O.value,ye=T?T.value:null;if(no(ne),ne===ye)if(ne.component){const Ce=F.getOrCreateContext(ne.outlet);this.activateChildRoutes(O,T,Ce.children)}else this.activateChildRoutes(O,T,F);else if(ne.component){const Ce=F.getOrCreateContext(ne.outlet);if(this.routeReuseStrategy.shouldAttach(ne.snapshot)){const Je=this.routeReuseStrategy.retrieve(ne.snapshot);this.routeReuseStrategy.store(ne.snapshot,null),Ce.children.onOutletReAttached(Je.contexts),Ce.attachRef=Je.componentRef,Ce.route=Je.route.value,Ce.outlet&&Ce.outlet.attach(Je.componentRef,Je.route.value),no(Je.route.value),this.activateChildRoutes(O,null,Ce.children)}else{const Je=ur(ne.snapshot),Bt=null!==($=null==Je?void 0:Je.get(f._Vd))&&void 0!==$?$:null;Ce.attachRef=null,Ce.route=ne,Ce.resolver=Bt,Ce.injector=Je,Ce.outlet&&Ce.outlet.activateWith(ne,Ce.injector),this.activateChildRoutes(O,null,Ce.children)}}else this.activateChildRoutes(O,null,F)}}class xa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class js{constructor(O,T){this.component=O,this.route=T}}function Go(M,O,T){const F=M._root;return Es(F,O?O._root:null,T,[F.value])}function Cn(M,O){const T=Symbol(),F=O.get(M,T);return F===T?"function"!=typeof M||(0,f.Z0I)(M)?O.get(M):M:F}function Es(M,O,T,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const ne=Yr(O);return M.children.forEach(ye=>{(function ia(M,O,T,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const ne=M.value,ye=O?O.value:null,Ce=T?T.getContext(M.value.outlet):null;if(ye&&ne.routeConfig===ye.routeConfig){const Je=function sa(M,O,T){if("function"==typeof T)return T(M,O);switch(T){case"pathParamsChange":return!nt(M.url,O.url);case"pathParamsOrQueryParamsChange":return!nt(M.url,O.url)||!kr(M.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hs(M,O)||!kr(M.queryParams,O.queryParams);default:return!hs(M,O)}}(ye,ne,ne.routeConfig.runGuardsAndResolvers);Je?$.canActivateChecks.push(new xa(F)):(ne.data=ye.data,ne._resolvedData=ye._resolvedData),Es(M,O,ne.component?Ce?Ce.children:null:T,F,$),Je&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&$.canDeactivateChecks.push(new js(Ce.outlet.component,ye))}else ye&&xs(O,Ce,$),$.canActivateChecks.push(new xa(F)),Es(M,null,ne.component?Ce?Ce.children:null:T,F,$)})(ye,ne[ye.value.outlet],T,F.concat([ye.value]),$),delete ne[ye.value.outlet]}),$r(ne,(ye,Ce)=>xs(ye,T.getContext(Ce),$)),$}function xs(M,O,T){const F=Yr(M),$=M.value;$r(F,(ne,ye)=>{xs(ne,$.component?O?O.children.getContext(ye):null:O,T)}),T.canDeactivateChecks.push(new js($.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,$))}function Ds(M){return"function"==typeof M}function W(M){return M instanceof le.K||"EmptyError"===(null==M?void 0:M.name)}const j=Symbol("INITIAL_VALUE");function L(){return(0,We.w)(M=>(0,de.a)(M.map(O=>O.pipe((0,je.q)(1),(0,gt.O)(j)))).pipe((0,Ye.U)(O=>{for(const T of O)if(!0!==T){if(T===j)return j;if(!1===T||T instanceof Tr)return T}return!0}),(0,xt.h)(O=>O!==j),(0,je.q)(1)))}function Mo(M){return(0,he.z)((0,Tt.b)(O=>{if(ir(O))throw ro(0,O)}),(0,Ye.U)(O=>!0===O))}const El={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oa(M,O,T,F,$){const ne=Ns(M,O,T);return ne.matched?function Oo(M,O,T,F){const $=O.canMatch;if(!$||0===$.length)return(0,te.of)(!0);const ne=$.map(ye=>{const Ce=Cn(ye,M);return ni(function Na(M){return M&&Ds(M.canMatch)}(Ce)?Ce.canMatch(O,T):M.runInContext(()=>Ce(O,T)))});return(0,te.of)(ne).pipe(L(),Mo())}(F=Oa(O,F),O,T).pipe((0,Ye.U)(ye=>!0===ye?ne:Object.assign({},El))):(0,te.of)(ne)}function Ns(M,O,T){var F;if(""===O.path)return"full"===O.pathMatch&&(M.hasChildren()||T.length>0)?Object.assign({},El):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const ne=(O.matcher||Ir)(T,M,O);if(!ne)return Object.assign({},El);const ye={};$r(ne.posParams,(Je,Bt)=>{ye[Bt]=Je.path});const Ce=ne.consumed.length>0?Object.assign(Object.assign({},ye),ne.consumed[ne.consumed.length-1].parameters):ye;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:T.slice(ne.consumed.length),parameters:Ce,positionalParamSegments:null!==(F=ne.posParams)&&void 0!==F?F:{}}}function yo(M,O,T,F,$="corrected"){if(T.length>0&&function Ko(M,O,T){return T.some(F=>vo(M,O,F)&&Dn(F)!==Kt)}(M,T,F)){const ye=new $e(O,function Fa(M,O,T,F){const $={};$[Kt]=F,F._sourceSegment=M,F._segmentIndexShift=O.length;for(const ne of T)if(""===ne.path&&Dn(ne)!==Kt){const ye=new $e([],{});ye._sourceSegment=M,ye._segmentIndexShift=O.length,$[Dn(ne)]=ye}return $}(M,O,F,new $e(T,M.children)));return ye._sourceSegment=M,ye._segmentIndexShift=O.length,{segmentGroup:ye,slicedSegments:[]}}if(0===T.length&&function zo(M,O,T){return T.some(F=>vo(M,O,F))}(M,T,F)){const ye=new $e(M.segments,function La(M,O,T,F,$,ne){const ye={};for(const Ce of F)if(vo(M,T,Ce)&&!$[Dn(Ce)]){const Je=new $e([],{});Je._sourceSegment=M,Je._segmentIndexShift="legacy"===ne?M.segments.length:O.length,ye[Dn(Ce)]=Je}return Object.assign(Object.assign({},$),ye)}(M,O,T,F,M.children,$));return ye._sourceSegment=M,ye._segmentIndexShift=O.length,{segmentGroup:ye,slicedSegments:T}}const ne=new $e(M.segments,M.children);return ne._sourceSegment=M,ne._segmentIndexShift=O.length,{segmentGroup:ne,slicedSegments:T}}function vo(M,O,T){return(!(M.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}function Po(M,O,T,F){return!!(Dn(M)===F||F!==Kt&&vo(O,T,M))&&("**"===M.path||Ns(O,M,T).matched)}function Ms(M,O,T){return 0===O.length&&!M.children[T]}const ga=!1;class ol{constructor(O){this.segmentGroup=O||null}}class Ro{constructor(O){this.urlTree=O}}function k(M){return(0,Q._)(new ol(M))}function q(M){return(0,Q._)(new Ro(M))}class rt{constructor(O,T,F,$,ne){this.injector=O,this.configLoader=T,this.urlSerializer=F,this.urlTree=$,this.config=ne,this.allowRedirects=!0}apply(){const O=yo(this.urlTree.root,[],[],this.config).segmentGroup,T=new $e(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,T,Kt).pipe((0,Ye.U)(ne=>this.createUrlTree(en(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Wt.K)(ne=>{if(ne instanceof Ro)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof ol?this.noMatchError(ne):ne}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Kt).pipe((0,Ye.U)($=>this.createUrlTree(en($),O.queryParams,O.fragment))).pipe((0,Wt.K)($=>{throw $ instanceof ol?this.noMatchError($):$}))}noMatchError(O){return new f.vHH(4002,ga)}createUrlTree(O,T,F){const $=jt(O);return new Tr($,T,F)}expandSegmentGroup(O,T,F,$){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,T,F).pipe((0,Ye.U)(ne=>new $e([],ne))):this.expandSegment(O,F,T,F.segments,$,!0)}expandChildren(O,T,F){const $=[];for(const ne of Object.keys(F.children))"primary"===ne?$.unshift(ne):$.push(ne);return(0,S.D)($).pipe((0,Dt.b)(ne=>{const ye=F.children[ne],Ce=$o(T,ne);return this.expandSegmentGroup(O,Ce,ye,ne).pipe((0,Ye.U)(Je=>({segment:Je,outlet:ne})))}),(0,Ht.R)((ne,ye)=>(ne[ye.outlet]=ye.segment,ne),{}),(0,Rt.Z)())}expandSegment(O,T,F,$,ne,ye){return(0,S.D)(F).pipe((0,Dt.b)(Ce=>this.expandSegmentAgainstRoute(O,T,F,Ce,$,ne,ye).pipe((0,Wt.K)(Bt=>{if(Bt instanceof ol)return(0,te.of)(null);throw Bt}))),(0,Be.P)(Ce=>!!Ce),(0,Wt.K)((Ce,Je)=>{if(W(Ce))return Ms(T,$,ne)?(0,te.of)(new $e([],{})):k(T);throw Ce}))}expandSegmentAgainstRoute(O,T,F,$,ne,ye,Ce){return Po($,T,ne,ye)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(O,T,$,ne,ye):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,T,F,$,ne,ye):k(T):k(T)}expandSegmentAgainstRouteUsingRedirect(O,T,F,$,ne,ye){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,$,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,$,ne,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,F,$){const ne=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?q(ne):this.lineralizeSegments(F,ne).pipe((0,Ge.z)(ye=>{const Ce=new $e(ye,{});return this.expandSegment(O,Ce,T,ye,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,$,ne,ye){const{matched:Ce,consumedSegments:Je,remainingSegments:Bt,positionalParamSegments:hn}=Ns(T,$,ne);if(!Ce)return k(T);const Yt=this.applyRedirectCommands(Je,$.redirectTo,hn);return $.redirectTo.startsWith("/")?q(Yt):this.lineralizeSegments($,Yt).pipe((0,Ge.z)(vn=>this.expandSegment(O,T,F,vn.concat(Bt),ye,!1)))}matchSegmentAgainstRoute(O,T,F,$,ne){return"**"===F.path?(O=Oa(F,O),F.loadChildren?(F._loadedRoutes?(0,te.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,Ye.U)(Ce=>(F._loadedRoutes=Ce.routes,F._loadedInjector=Ce.injector,new $e($,{})))):(0,te.of)(new $e($,{}))):oa(T,F,$,O).pipe((0,We.w)(({matched:ye,consumedSegments:Ce,remainingSegments:Je})=>{var Bt;return ye?(O=null!==(Bt=F._injector)&&void 0!==Bt?Bt:O,this.getChildConfig(O,F,$).pipe((0,Ge.z)(Yt=>{var vn;const qn=null!==(vn=Yt.injector)&&void 0!==vn?vn:O,Jr=Yt.routes,{segmentGroup:Ts,slicedSegments:ps}=yo(T,Ce,Je,Jr),Lo=new $e(Ts.segments,Ts.children);if(0===ps.length&&Lo.hasChildren())return this.expandChildren(qn,Jr,Lo).pipe((0,Ye.U)(nl=>new $e(Ce,nl)));if(0===Jr.length&&0===ps.length)return(0,te.of)(new $e(Ce,{}));const Ps=Dn(F)===ne;return this.expandSegment(qn,Lo,Jr,ps,Ps?Kt:ne,!0).pipe((0,Ye.U)(Hs=>new $e(Ce.concat(Hs.segments),Hs.children)))}))):k(T)}))}getChildConfig(O,T,F){return T.children?(0,te.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,te.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function _o(M,O,T,F){const $=O.canLoad;if(void 0===$||0===$.length)return(0,te.of)(!0);const ne=$.map(ye=>{const Ce=Cn(ye,M);return ni(function ii(M){return M&&Ds(M.canLoad)}(Ce)?Ce.canLoad(O,T):M.runInContext(()=>Ce(O,T)))});return(0,te.of)(ne).pipe(L(),Mo())}(O,T,F).pipe((0,Ge.z)($=>$?this.configLoader.loadChildren(O,T).pipe((0,Tt.b)(ne=>{T._loadedRoutes=ne.routes,T._loadedInjector=ne.injector})):function ie(M){return(0,Q._)(vs(ga,3))}())):(0,te.of)({routes:[],injector:O})}lineralizeSegments(O,T){let F=[],$=T.root;for(;;){if(F=F.concat($.segments),0===$.numberOfChildren)return(0,te.of)(F);if($.numberOfChildren>1||!$.children[Kt])return(0,Q._)(new f.vHH(4e3,ga));$=$.children[Kt]}}applyRedirectCommands(O,T,F){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,F)}applyRedirectCreateUrlTree(O,T,F,$){const ne=this.createSegmentGroup(O,T.root,F,$);return new Tr(ne,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const F={};return $r(O,($,ne)=>{if("string"==typeof $&&$.startsWith(":")){const Ce=$.substring(1);F[ne]=T[Ce]}else F[ne]=$}),F}createSegmentGroup(O,T,F,$){const ne=this.createSegments(O,T.segments,F,$);let ye={};return $r(T.children,(Ce,Je)=>{ye[Je]=this.createSegmentGroup(O,Ce,F,$)}),new $e(ne,ye)}createSegments(O,T,F,$){return T.map(ne=>ne.path.startsWith(":")?this.findPosParam(O,ne,$):this.findOrReturn(ne,F))}findPosParam(O,T,F){const $=F[T.path.substring(1)];if(!$)throw new f.vHH(4001,ga);return $}findOrReturn(O,T){let F=0;for(const $ of T){if($.path===O.path)return T.splice(F),$;F++}return O}}class Hr{}class ar{constructor(O,T,F,$,ne,ye,Ce,Je){this.injector=O,this.rootComponentType=T,this.config=F,this.urlTree=$,this.url=ne,this.paramsInheritanceStrategy=ye,this.relativeLinkResolution=Ce,this.urlSerializer=Je}recognize(){const O=yo(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Kt).pipe((0,Ye.U)(T=>{if(null===T)return null;const F=new Ys([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new $n(F,T),ne=new po(this.url,$);return this.inheritParamsAndData(ne._root),ne}))}inheritParamsAndData(O){const T=O.value,F=ys(T,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),O.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(O,T,F,$){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,T,F):this.processSegment(O,T,F,F.segments,$)}processChildren(O,T,F){return(0,S.D)(Object.keys(F.children)).pipe((0,Dt.b)($=>{const ne=F.children[$],ye=$o(T,$);return this.processSegmentGroup(O,ye,ne,$)}),(0,Ht.R)(($,ne)=>$&&ne?($.push(...ne),$):null),(0,tt.o)($=>null!==$),(0,Ze.d)(null),(0,Rt.Z)(),(0,Ye.U)($=>{if(null===$)return null;const ne=Cs($);return function Li(M){M.sort((O,T)=>O.value.outlet===Kt?-1:T.value.outlet===Kt?1:O.value.outlet.localeCompare(T.value.outlet))}(ne),ne}))}processSegment(O,T,F,$,ne){return(0,S.D)(T).pipe((0,Dt.b)(ye=>{var Ce;return this.processSegmentAgainstRoute(null!==(Ce=ye._injector)&&void 0!==Ce?Ce:O,ye,F,$,ne)}),(0,Be.P)(ye=>!!ye),(0,Wt.K)(ye=>{if(W(ye))return Ms(F,$,ne)?(0,te.of)([]):(0,te.of)(null);throw ye}))}processSegmentAgainstRoute(O,T,F,$,ne){var ye,Ce;if(T.redirectTo||!Po(T,F,$,ne))return(0,te.of)(null);let Je;if("**"===T.path){const Bt=$.length>0?mi($).parameters:{},hn=ls(F)+$.length,Yt=new Ys($,Bt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ma(T),Dn(T),null!==(Ce=null!==(ye=T.component)&&void 0!==ye?ye:T._loadedComponent)&&void 0!==Ce?Ce:null,T,Mi(F),hn,Lt(T),hn);Je=(0,te.of)({snapshot:Yt,consumedSegments:[],remainingSegments:[]})}else Je=oa(F,T,$,O).pipe((0,Ye.U)(({matched:Bt,consumedSegments:hn,remainingSegments:Yt,parameters:vn})=>{var qn,Jr;if(!Bt)return null;const Ts=ls(F)+hn.length;return{snapshot:new Ys(hn,vn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ma(T),Dn(T),null!==(Jr=null!==(qn=T.component)&&void 0!==qn?qn:T._loadedComponent)&&void 0!==Jr?Jr:null,T,Mi(F),Ts,Lt(T),Ts),consumedSegments:hn,remainingSegments:Yt}}));return Je.pipe((0,We.w)(Bt=>{var hn,Yt;if(null===Bt)return(0,te.of)(null);const{snapshot:vn,consumedSegments:qn,remainingSegments:Jr}=Bt;O=null!==(hn=T._injector)&&void 0!==hn?hn:O;const Ts=null!==(Yt=T._loadedInjector)&&void 0!==Yt?Yt:O,ps=function Ar(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(T),{segmentGroup:Lo,slicedSegments:Ps}=yo(F,qn,Jr,ps.filter(Hs=>void 0===Hs.redirectTo),this.relativeLinkResolution);if(0===Ps.length&&Lo.hasChildren())return this.processChildren(Ts,ps,Lo).pipe((0,Ye.U)(Hs=>null===Hs?null:[new $n(vn,Hs)]));if(0===ps.length&&0===Ps.length)return(0,te.of)([new $n(vn,[])]);const Ca=Dn(T)===ne;return this.processSegment(Ts,ps,Lo,Ps,Ca?Kt:ne).pipe((0,Ye.U)(Hs=>null===Hs?null:[new $n(vn,Hs)]))}))}}function ts(M){const O=M.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Cs(M){const O=[],T=new Set;for(const F of M){if(!ts(F)){O.push(F);continue}const $=O.find(ne=>F.value.routeConfig===ne.value.routeConfig);void 0!==$?($.children.push(...F.children),T.add($)):O.push(F)}for(const F of T){const $=Cs(F.children);O.push(new $n(F.value,$))}return O.filter(F=>!T.has(F))}function Mi(M){let O=M;for(;O._sourceSegment;)O=O._sourceSegment;return O}function ls(M){var O,T;let F=M,$=null!==(O=F._segmentIndexShift)&&void 0!==O?O:0;for(;F._sourceSegment;)F=F._sourceSegment,$+=null!==(T=F._segmentIndexShift)&&void 0!==T?T:0;return $-1}function ma(M){return M.data||{}}function Lt(M){return M.resolve||{}}function Zt(M){return"string"==typeof M.title||null===M.title}function ut(M){return(0,We.w)(O=>{const T=M(O);return T?(0,S.D)(T).pipe((0,Ye.U)(()=>O)):(0,te.of)(O)})}let It=(()=>{class M{buildTitle(T){var F;let $,ne=T.root;for(;void 0!==ne;)$=null!==(F=this.getResolvedTitleForRoute(ne))&&void 0!==F?F:$,ne=ne.children.find(ye=>ye.outlet===Kt);return $}getResolvedTitleForRoute(T){return T.data[Mt]}}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return(0,f.f3M)(ws)},providedIn:"root"}),M})(),ws=(()=>{class M extends It{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(Un.Dx))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Oi{}class Zs extends class Yo{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}{}const Ls=new f.OlP("",{providedIn:"root",factory:()=>({})}),xo=new f.OlP("ROUTES");let Ll=(()=>{class M{constructor(T,F){this.injector=T,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,te.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=ni(T.loadComponent()).pipe((0,Tt.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ne}),(0,Nt.x)(()=>{this.componentLoaders.delete(T)})),$=new Le.c(F,()=>new ze.x).pipe((0,bt.x)());return this.componentLoaders.set(T,$),$}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,te.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ne=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ye.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Je,Bt,hn=!1;Array.isArray(Ce)?Bt=Ce:(Je=Ce.create(T).injector,Bt=vi(Je.get(xo,[],f.XFs.Self|f.XFs.Optional)));return{routes:Bt.map(Di),injector:Je}}),(0,Nt.x)(()=>{this.childrenLoaders.delete(F)})),ye=new Le.c(ne,()=>new ze.x).pipe((0,bt.x)());return this.childrenLoaders.set(F,ye),ye}loadModuleFactoryOrRoutes(T){return ni(T()).pipe((0,Ge.z)(F=>F instanceof f.YKP||Array.isArray(F)?(0,te.of)(F):(0,S.D)(this.compiler.compileModuleAsync(F))))}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(f.zs3),f.LFG(f.Sil))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Dl{}class Cl{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,T){return O}}function Os(M){throw M}function pu(M,O,T){return O.parse("/")}const ci={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Er(){var M,O;const T=(0,f.f3M)(un),F=(0,f.f3M)(jo),$=(0,f.f3M)(Ie.Ye),ne=(0,f.f3M)(f.zs3),ye=(0,f.f3M)(f.Sil),Ce=null!==(M=(0,f.f3M)(xo,{optional:!0}))&&void 0!==M?M:[],Je=null!==(O=(0,f.f3M)(Ls,{optional:!0}))&&void 0!==O?O:{},Bt=(0,f.f3M)(ws),hn=(0,f.f3M)(It,{optional:!0}),Yt=(0,f.f3M)(Dl,{optional:!0}),vn=(0,f.f3M)(Oi,{optional:!0}),qn=new us(null,T,F,$,ne,ye,vi(Ce));return Yt&&(qn.urlHandlingStrategy=Yt),vn&&(qn.routeReuseStrategy=vn),qn.titleStrategy=null!=hn?hn:Bt,function la(M,O){M.errorHandler&&(O.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(O.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(O.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(O.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(O.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(O.canceledNavigationResolution=M.canceledNavigationResolution)}(Je,qn),qn}let us=(()=>{class M{constructor(T,F,$,ne,ye,Ce,Je){this.rootComponentType=T,this.urlSerializer=F,this.rootContexts=$,this.location=ne,this.config=Je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.x,this.errorHandler=Os,this.malformedUriErrorHandler=pu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,te.of)(void 0),this.urlHandlingStrategy=new Cl,this.routeReuseStrategy=new Zs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ye.get(Ll),this.configLoader.onLoadEndListener=vn=>this.triggerEvent(new Sr(vn)),this.configLoader.onLoadStartListener=vn=>this.triggerEvent(new Pr(vn)),this.ngModule=ye.get(f.h0i),this.console=ye.get(f.c2e);const Yt=ye.get(f.R0b);this.isNgZoneEnabled=Yt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Je),this.currentUrlTree=function Nr(){return new Tr(new $e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xi(this.currentUrlTree,this.rootComponentType),this.transitions=new V.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const F=this.events;return T.pipe((0,xt.h)($=>0!==$.id),(0,Ye.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,We.w)($=>{let ne=!1,ye=!1;return(0,te.of)($).pipe((0,Tt.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,We.w)(Ce=>{const Je=this.browserUrlTree.toString(),Bt=!this.navigated||Ce.extractedUrl.toString()!==Je||Je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return Jt(Ce.source)&&(this.browserUrlTree=Ce.extractedUrl),(0,te.of)(Ce).pipe((0,We.w)(Yt=>{const vn=this.transitions.getValue();return F.next(new Hi(Yt.id,this.serializeUrl(Yt.extractedUrl),Yt.source,Yt.restoredState)),vn!==this.transitions.getValue()?ce.E:Promise.resolve(Yt)}),function ft(M,O,T,F){return(0,We.w)($=>function De(M,O,T,F,$){return new rt(M,O,T,F,$).apply()}(M,O,T,$.extractedUrl,F).pipe((0,Ye.U)(ne=>Object.assign(Object.assign({},$),{urlAfterRedirects:ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tt.b)(Yt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Yt.urlAfterRedirects}),$.urlAfterRedirects=Yt.urlAfterRedirects}),function ns(M,O,T,F,$,ne){return(0,Ge.z)(ye=>function hr(M,O,T,F,$,ne,ye="emptyOnly",Ce="legacy"){return new ar(M,O,T,F,$,ye,Ce,ne).recognize().pipe((0,We.w)(Je=>null===Je?function Pn(M){return new Z.y(O=>O.error(M))}(new Hr):(0,te.of)(Je)))}(M,O,T,ye.urlAfterRedirects,F.serialize(ye.urlAfterRedirects),F,$,ne).pipe((0,Ye.U)(Ce=>Object.assign(Object.assign({},ye),{targetSnapshot:Ce}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tt.b)(Yt=>{if($.targetSnapshot=Yt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Yt.extras.skipLocationChange){const qn=this.urlHandlingStrategy.merge(Yt.urlAfterRedirects,Yt.rawUrl);this.setBrowserUrl(qn,Yt)}this.browserUrlTree=Yt.urlAfterRedirects}const vn=new Ri(Yt.id,this.serializeUrl(Yt.extractedUrl),this.serializeUrl(Yt.urlAfterRedirects),Yt.targetSnapshot);F.next(vn)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vn,extractedUrl:qn,source:Jr,restoredState:Ts,extras:ps}=Ce,Lo=new Hi(vn,this.serializeUrl(qn),Jr,Ts);F.next(Lo);const Ps=xi(qn,this.rootComponentType).snapshot;return $=Object.assign(Object.assign({},Ce),{targetSnapshot:Ps,urlAfterRedirects:qn,extras:Object.assign(Object.assign({},ps),{skipLocationChange:!1,replaceUrl:!1})}),(0,te.of)($)}return this.rawUrlTree=Ce.rawUrl,Ce.resolve(null),ce.E}),(0,Tt.b)(Ce=>{const Je=new Tn(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(Je)}),(0,Ye.U)(Ce=>$=Object.assign(Object.assign({},Ce),{guards:Go(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)})),function re(M,O){return(0,Ge.z)(T=>{const{targetSnapshot:F,currentSnapshot:$,guards:{canActivateChecks:ne,canDeactivateChecks:ye}}=T;return 0===ye.length&&0===ne.length?(0,te.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function dt(M,O,T,F){return(0,S.D)(M).pipe((0,Ge.z)($=>function Ai(M,O,T,F,$){const ne=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,te.of)(!0);const ye=ne.map(Ce=>{var Je;const Bt=null!==(Je=ur(O))&&void 0!==Je?Je:$,hn=Cn(Ce,Bt);return ni(function zn(M){return M&&Ds(M.canDeactivate)}(hn)?hn.canDeactivate(M,O,T,F):Bt.runInContext(()=>hn(M,O,T,F))).pipe((0,Be.P)())});return(0,te.of)(ye).pipe(L())}($.component,$.route,T,O,F)),(0,Be.P)($=>!0!==$,!0))}(ye,F,$,M).pipe((0,Ge.z)(Ce=>Ce&&function mo(M){return"boolean"==typeof M}(Ce)?function tn(M,O,T,F){return(0,S.D)(O).pipe((0,Dt.b)($=>(0,oe.z)(function es(M,O){return null!==M&&O&&O(new Ln(M)),(0,te.of)(!0)}($.route.parent,F),function bi(M,O){return null!==M&&O&&O(new as(M)),(0,te.of)(!0)}($.route,F),function Qr(M,O,T){const F=O[O.length-1],ne=O.slice(0,O.length-1).reverse().map(ye=>function qs(M){const O=M.routeConfig?M.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:M,guards:O}:null}(ye)).filter(ye=>null!==ye).map(ye=>(0,J.P)(()=>{const Ce=ye.guards.map(Je=>{var Bt;const hn=null!==(Bt=ur(ye.node))&&void 0!==Bt?Bt:T,Yt=Cn(Je,hn);return ni(function Ot(M){return M&&Ds(M.canActivateChild)}(Yt)?Yt.canActivateChild(F,M):hn.runInContext(()=>Yt(F,M))).pipe((0,Be.P)())});return(0,te.of)(Ce).pipe(L())}));return(0,te.of)(ne).pipe(L())}(M,$.path,T),function oo(M,O,T){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,te.of)(!0);const $=F.map(ne=>(0,J.P)(()=>{var ye;const Ce=null!==(ye=ur(O))&&void 0!==ye?ye:T,Je=Cn(ne,Ce);return ni(function pa(M){return M&&Ds(M.canActivate)}(Je)?Je.canActivate(O,M):Ce.runInContext(()=>Je(O,M))).pipe((0,Be.P)())}));return(0,te.of)($).pipe(L())}(M,$.route,T))),(0,Be.P)($=>!0!==$,!0))}(F,ne,M,O):(0,te.of)(Ce)),(0,Ye.U)(Ce=>Object.assign(Object.assign({},T),{guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),(0,Tt.b)(Ce=>{if($.guardsResult=Ce.guardsResult,ir(Ce.guardsResult))throw ro(0,Ce.guardsResult);const Je=new So(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(Je)}),(0,xt.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",3),!1)),ut(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,te.of)(Ce).pipe((0,Tt.b)(Je=>{const Bt=new to(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Bt)}),(0,We.w)(Je=>{let Bt=!1;return(0,te.of)(Je).pipe(function Eo(M,O){return(0,Ge.z)(T=>{const{targetSnapshot:F,guards:{canActivateChecks:$}}=T;if(!$.length)return(0,te.of)(T);let ne=0;return(0,S.D)($).pipe((0,Dt.b)(ye=>function Qa(M,O,T,F){const $=M.routeConfig,ne=M._resolve;return void 0!==(null==$?void 0:$.title)&&!Zt($)&&(ne[Mt]=$.title),function rn(M,O,T,F){const $=function Sn(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===$.length)return(0,te.of)({});const ne={};return(0,S.D)($).pipe((0,Ge.z)(ye=>function Ku(M,O,T,F){var $;const ne=null!==($=ur(O))&&void 0!==$?$:F,ye=Cn(M,ne);return ni(ye.resolve?ye.resolve(O,T):ne.runInContext(()=>ye(O,T)))}(M[ye],O,T,F).pipe((0,Be.P)(),(0,Tt.b)(Ce=>{ne[ye]=Ce}))),(0,at.h)(1),(0,et.h)(ne),(0,Wt.K)(ye=>W(ye)?ce.E:(0,Q._)(ye)))}(ne,M,O,F).pipe((0,Ye.U)(ye=>(M._resolvedData=ye,M.data=ys(M,T).resolve,$&&Zt($)&&(M.data[Mt]=$.title),null)))}(ye.route,F,M,O)),(0,Tt.b)(()=>ne++),(0,at.h)(1),(0,Ge.z)(ye=>ne===$.length?(0,te.of)(T):ce.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tt.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,"",2))}}))}),(0,Tt.b)(Je=>{const Bt=new yi(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Bt)}))}),ut(Ce=>{const Je=Bt=>{var hn;const Yt=[];(null===(hn=Bt.routeConfig)||void 0===hn?void 0:hn.loadComponent)&&!Bt.routeConfig._loadedComponent&&Yt.push(this.configLoader.loadComponent(Bt.routeConfig).pipe((0,Tt.b)(vn=>{Bt.component=vn}),(0,Ye.U)(()=>{})));for(const vn of Bt.children)Yt.push(...Je(vn));return Yt};return(0,de.a)(Je(Ce.targetSnapshot.root)).pipe((0,Ze.d)(),(0,je.q)(1))}),ut(()=>this.afterPreactivation()),(0,Ye.U)(Ce=>{const Je=function Ni(M,O,T){const F=$i(M,O._root,T?T._root:void 0);return new Cr(F,O)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return $=Object.assign(Object.assign({},Ce),{targetRouterState:Je})}),(0,Tt.b)(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((M,O,T)=>(0,Ye.U)(F=>(new Rr(O,F.targetRouterState,F.currentRouterState,T).activate(M),F)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),(0,Tt.b)({next(){ne=!0},complete(){ne=!0}}),(0,Nt.x)(()=>{var Ce;ne||ye||this.cancelNavigationTransition($,"",1),(null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.id)===$.id&&(this.currentNavigation=null)}),(0,Wt.K)(Ce=>{var Je;if(ye=!0,Bo(Ce)){io(Ce)||(this.navigated=!0,this.restoreHistory($,!0));const Bt=new In($.id,this.serializeUrl($.extractedUrl),Ce.message,Ce.cancellationCode);if(F.next(Bt),io(Ce)){const hn=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),Yt={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jt($.source)};this.scheduleNavigation(hn,"imperative",null,Yt,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{this.restoreHistory($,!0);const Bt=new Mn($.id,this.serializeUrl($.extractedUrl),Ce,null!==(Je=$.targetSnapshot)&&void 0!==Je?Je:void 0);F.next(Bt);try{$.resolve(this.errorHandler(Ce))}catch(hn){$.reject(hn)}}return ce.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var $;const ne={replaceUrl:!0},ye=null!==($=T.state)&&void 0!==$&&$.navigationId?T.state:null;if(ye){const Je=Object.assign({},ye);delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(ne.state=Je)}const Ce=this.parseUrl(T.url);this.scheduleNavigation(Ce,F,ye,ne)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(Di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,F={}){const{relativeTo:$,queryParams:ne,fragment:ye,queryParamsHandling:Ce,preserveFragment:Je}=F,Bt=$||this.routerState.root,hn=Je?this.currentUrlTree.fragment:ye;let Yt=null;switch(Ce){case"merge":Yt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ne);break;case"preserve":Yt=this.currentUrlTree.queryParams;break;default:Yt=ne||null}return null!==Yt&&(Yt=this.removeEmptyProps(Yt)),ke(Bt,this.currentUrlTree,T,Yt,null!=hn?hn:null)}navigateByUrl(T,F={skipLocationChange:!1}){const $=ir(T)?T:this.parseUrl(T),ne=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,F)}navigate(T,F={skipLocationChange:!1}){return function pr(M){for(let O=0;O<M.length;O++){if(null==M[O])throw new f.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch($){F=this.malformedUriErrorHandler($,this.urlSerializer,T)}return F}isActive(T,F){let $;if($=!0===F?Object.assign({},ci):!1===F?Object.assign({},bn):F,ir(T))return cs(this.currentUrlTree,T,$);const ne=this.parseUrl(T);return cs(this.currentUrlTree,ne,$)}removeEmptyProps(T){return Object.keys(T).reduce((F,$)=>{const ne=T[$];return null!=ne&&(F[$]=ne),F},{})}processNavigations(){this.navigations.subscribe(T=>{var F;this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new xn(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(F=this.titleStrategy)||void 0===F||F.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,F,$,ne,ye){var Ce,Je;if(this.disposed)return Promise.resolve(!1);let Bt,hn,Yt;ye?(Bt=ye.resolve,hn=ye.reject,Yt=ye.promise):Yt=new Promise((Jr,Ts)=>{Bt=Jr,hn=Ts});const vn=++this.navigationId;let qn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),qn=$&&$.\u0275routerPageId?$.\u0275routerPageId:ne.replaceUrl||ne.skipLocationChange?null!==(Ce=this.browserPageId)&&void 0!==Ce?Ce:0:(null!==(Je=this.browserPageId)&&void 0!==Je?Je:0)+1):qn=0,this.setTransition({id:vn,targetPageId:qn,source:F,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:ne,resolve:Bt,reject:hn,promise:Yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yt.catch(Jr=>Promise.reject(Jr))}setBrowserUrl(T,F){const $=this.urlSerializer.serialize(T),ne=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo($)||F.extras.replaceUrl?this.location.replaceState($,"",ne):this.location.go($,"",ne)}restoreHistory(T,F=!1){var $,ne;if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===ye?this.currentUrlTree===(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.finalUrl)&&0===ye&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ye)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,F,$){const ne=new In(T.id,this.serializeUrl(T.extractedUrl),F,$);this.triggerEvent(ne),T.resolve(!1)}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return M.\u0275fac=function(T){f.$Z()},M.\u0275prov=f.Yz7({token:M,factory:function(){return Er()},providedIn:"root"}),M})();function Jt(M){return"imperative"!==M}let Qo=(()=>{class M{constructor(T,F,$,ne,ye){this.router=T,this.route=F,this.tabIndexAttribute=$,this.renderer=ne,this.el=ye,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ze.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const F=this.renderer,$=this.el.nativeElement;null!==T?F.setAttribute($,"tabindex",T):F.removeAttribute($,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(us),f.Y36(qr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},M.\u0275dir=f.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,F){1&T&&f.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),M})(),_a=(()=>{class M{constructor(T,F,$){this.router=T,this.route=F,this.locationStrategy=$,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ze.x,this.subscription=T.events.subscribe(ne=>{ne instanceof xn&&this.updateTargetUrlAndHref()})}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:null}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,F,$,ne,ye){return!!(0!==T||F||$||ne||ye||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(us),f.Y36(qr),f.Y36(Ie.S$))},M.\u0275dir=f.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,F){1&T&&f.NdJ("click",function(ne){return F.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&T&&f.uIk("target",F.target)("href",F.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),M})(),Do=(()=>{class M{constructor(T,F,$,ne,ye,Ce){this.router=T,this.element=F,this.renderer=$,this.cdr=ne,this.link=ye,this.linkWithHref=Ce,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=T.events.subscribe(Je=>{Je instanceof xn&&this.update()})}ngAfterContentInit(){(0,te.of)(this.links.changes,this.linksWithHrefs.changes,(0,te.of)(null)).pipe((0,ht.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var T;null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe();const F=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter($=>!!$).map($=>$.onChanges);this.linkInputChangesSubscription=(0,S.D)(F).pipe((0,ht.J)()).subscribe($=>{this.isActive!==this.isLinkActive(this.router)($)&&this.update()})}set routerLinkActive(T){const F=Array.isArray(T)?T:T.split(" ");this.classes=F.filter($=>!!$)}ngOnChanges(T){this.update()}ngOnDestroy(){var T;this.routerEventsSubscription.unsubscribe(),null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this.isActive!==T&&(this.isActive=T,this.cdr.markForCheck(),this.classes.forEach(F=>{T?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const F=function gu(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $=>!!$.urlTree&&T.isActive($.urlTree,F)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.linkWithHref&&T(this.linkWithHref)||this.links.some(T)||this.linksWithHrefs.some(T)}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(us),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(Qo,8),f.Y36(_a,8))},M.\u0275dir=f.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(T,F,$){if(1&T&&(f.Suo($,Qo,5),f.Suo($,_a,5)),2&T){let ne;f.iGM(ne=f.CRH())&&(F.links=ne),f.iGM(ne=f.CRH())&&(F.linksWithHrefs=ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),M})();class ka{}let ll=(()=>{class M{constructor(T,F,$,ne,ye){this.router=T,this.injector=$,this.preloadingStrategy=ne,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,xt.h)(T=>T instanceof xn),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){var $,ne,ye;const Ce=[];for(const Je of F){Je.providers&&!Je._injector&&(Je._injector=(0,f.MMx)(Je.providers,T,`Route: ${Je.path}`));const Bt=null!==($=Je._injector)&&void 0!==$?$:T,hn=null!==(ne=Je._loadedInjector)&&void 0!==ne?ne:Bt;Je.loadChildren&&!Je._loadedRoutes&&void 0===Je.canLoad||Je.loadComponent&&!Je._loadedComponent?Ce.push(this.preloadConfig(Bt,Je)):(Je.children||Je._loadedRoutes)&&Ce.push(this.processRoutes(hn,null!==(ye=Je.children)&&void 0!==ye?ye:Je._loadedRoutes))}return(0,S.D)(Ce).pipe((0,ht.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let $;$=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,te.of)(null);const ne=$.pipe((0,Ge.z)(ye=>{var Ce;return null===ye?(0,te.of)(void 0):(F._loadedRoutes=ye.routes,F._loadedInjector=ye.injector,this.processRoutes(null!==(Ce=ye.injector)&&void 0!==Ce?Ce:T,ye.routes))}));if(F.loadComponent&&!F._loadedComponent){const ye=this.loader.loadComponent(F);return(0,S.D)([ne,ye]).pipe((0,ht.J)())}return ne})}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(us),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ka),f.LFG(Ll))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const ul=new f.OlP("");let Ki=(()=>{class M{constructor(T,F,$={}){this.router=T,this.viewportScroller=F,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Hi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof xn&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof it&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.router.triggerEvent(new it(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(T){f.$Z()},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();function ao(M,O){return{\u0275kind:M,\u0275providers:O}}function va(M){return[{provide:xo,multi:!0,useValue:M}]}function Co(){const M=(0,f.f3M)(f.zs3);return O=>{var T,F;const $=M.get(f.z2F);if(O!==$.components[0])return;const ne=M.get(us),ye=M.get(Is);1===M.get(Ea)&&ne.initialNavigation(),null===(T=M.get(wo,null,f.XFs.Optional))||void 0===T||T.setUpPreloading(),null===(F=M.get(ul,null,f.XFs.Optional))||void 0===F||F.init(),ne.resetRootComponentType($.componentTypes[0]),ye.next(),ye.complete()}}const Is=new f.OlP("",{factory:()=>new ze.x}),Ea=new f.OlP("",{providedIn:"root",factory:()=>1});const wo=new f.OlP("");function mu(M){return ao(0,[{provide:wo,useExisting:ll},{provide:ka,useExisting:M}])}const Js=new f.OlP("ROUTER_FORROOT_GUARD"),Pu=[Ie.Ye,{provide:un,useClass:sn},{provide:us,useFactory:Er},jo,{provide:qr,useFactory:function Ua(M){return M.routerState.root},deps:[us]},Ll];function el(){return new f.PXZ("Router",us)}let Da=(()=>{class M{constructor(T){}static forRoot(T,F){return{ngModule:M,providers:[Pu,[],va(T),{provide:Js,useFactory:tl,deps:[[us,new f.FiY,new f.tp0]]},{provide:Ls,useValue:F||{}},null!=F&&F.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:ul,useFactory:()=>{const M=(0,f.f3M)(us),O=(0,f.f3M)(Ie.EM),T=(0,f.f3M)(Ls);return T.scrollOffset&&O.setOffset(T.scrollOffset),new Ki(M,O,T)}},null!=F&&F.preloadingStrategy?mu(F.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:el},null!=F&&F.initialNavigation?wi(F):[],[{provide:Ql,useFactory:Co},{provide:f.tb,multi:!0,useExisting:Ql}]]}}static forChild(T){return{ngModule:M,providers:[va(T)]}}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(Js,8))},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({imports:[Vs]}),M})();function tl(M){return"guarded"}function wi(M){return["disabled"===M.initialNavigation?ao(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(us);return()=>{O.setUpLocationChangeListener()}}},{provide:Ea,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?ao(2,[{provide:Ea,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const T=O.get(Ie.V_,Promise.resolve());let F=!1;return()=>T.then(()=>new Promise(ne=>{const ye=O.get(us),Ce=O.get(Is);(function $(ne){O.get(us).events.pipe((0,xt.h)(Ce=>Ce instanceof xn||Ce instanceof In||Ce instanceof Mn),(0,Ye.U)(Ce=>Ce instanceof xn||Ce instanceof In&&(0===Ce.code||1===Ce.code)&&null),(0,xt.h)(Ce=>null!==Ce),(0,je.q)(1)).subscribe(()=>{ne()})})(()=>{ne(!0),F=!0}),ye.afterPreactivation=()=>(ne(!0),F||Ce.closed?(0,te.of)(void 0):Ce),ye.initialNavigation()}))}}]).\u0275providers:[]]}const Ql=new f.OlP("")},6881:(we,ae,C)=>{C.d(ae,{Jn:()=>Kr,qX:()=>un,Xd:()=>pt,Mq:()=>yn,C6:()=>Bn,ZF:()=>gn,KN:()=>Fn});var f=C(531),S=C(4859),te=C(1877),V=C(2090);let de,oe;const Q=new WeakMap,Z=new WeakMap,ce=new WeakMap,Le=new WeakMap,ze=new WeakMap;let We={get(Pe,xe,yt){if(Pe instanceof IDBTransaction){if("done"===xe)return Z.get(Pe);if("objectStoreNames"===xe)return Pe.objectStoreNames||ce.get(Pe);if("store"===xe)return yt.objectStoreNames[1]?void 0:yt.objectStore(yt.objectStoreNames[0])}return Ge(Pe[xe])},set:(Pe,xe,yt)=>(Pe[xe]=yt,!0),has:(Pe,xe)=>Pe instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in Pe};function xt(Pe){return"function"==typeof Pe?function gt(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...xe){return Pe.apply(Be(this),xe),Ge(Q.get(this))}:function(...xe){return Ge(Pe.apply(Be(this),xe))}:function(xe,...yt){const Gt=Pe.call(Be(this),xe,...yt);return ce.set(Gt,xe.sort?xe.sort():[xe]),Ge(Gt)}}(Pe):(Pe instanceof IDBTransaction&&function Ye(Pe){if(Z.has(Pe))return;const xe=new Promise((yt,Gt)=>{const On=()=>{Pe.removeEventListener("complete",mn),Pe.removeEventListener("error",Jn),Pe.removeEventListener("abort",Jn)},mn=()=>{yt(),On()},Jn=()=>{Gt(Pe.error||new DOMException("AbortError","AbortError")),On()};Pe.addEventListener("complete",mn),Pe.addEventListener("error",Jn),Pe.addEventListener("abort",Jn)});Z.set(Pe,xe)}(Pe),((Pe,xe)=>xe.some(yt=>Pe instanceof yt))(Pe,function J(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,We):Pe)}function Ge(Pe){if(Pe instanceof IDBRequest)return function Ie(Pe){const xe=new Promise((yt,Gt)=>{const On=()=>{Pe.removeEventListener("success",mn),Pe.removeEventListener("error",Jn)},mn=()=>{yt(Ge(Pe.result)),On()},Jn=()=>{Gt(Pe.error),On()};Pe.addEventListener("success",mn),Pe.addEventListener("error",Jn)});return xe.then(yt=>{yt instanceof IDBCursor&&Q.set(yt,Pe)}).catch(()=>{}),ze.set(xe,Pe),xe}(Pe);if(Le.has(Pe))return Le.get(Pe);const xe=xt(Pe);return xe!==Pe&&(Le.set(Pe,xe),ze.set(xe,Pe)),xe}const Be=Pe=>ze.get(Pe),Wt=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],Rt=new Map;function tt(Pe,xe){if(!(Pe instanceof IDBDatabase)||xe in Pe||"string"!=typeof xe)return;if(Rt.get(xe))return Rt.get(xe);const yt=xe.replace(/FromIndex$/,""),Gt=xe!==yt,On=Ht.includes(yt);if(!(yt in(Gt?IDBIndex:IDBObjectStore).prototype)||!On&&!Wt.includes(yt))return;const mn=function(){var Jn=(0,f.Z)(function*(sr,...si){const Mr=this.transaction(sr,On?"readwrite":"readonly");let Hn=Mr.store;return Gt&&(Hn=Hn.index(si.shift())),(yield Promise.all([Hn[yt](...si),On&&Mr.done]))[0]});return function(si){return Jn.apply(this,arguments)}}();return Rt.set(xe,mn),mn}!function je(Pe){We=Pe(We)}(Pe=>j0(B0({},Pe),{get:(xe,yt,Gt)=>tt(xe,yt)||Pe.get(xe,yt,Gt),has:(xe,yt)=>!!tt(xe,yt)||Pe.has(xe,yt)}));class Ze{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function at(Pe){const xe=Pe.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(yt)){const Gt=yt.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(yt=>yt).join(" ")}}const et="@firebase/app",bt=new te.Yd("@firebase/app"),li="[DEFAULT]",Tr={[et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$e=new Map,Oe=new Map;function Ee(Pe,xe){try{Pe.container.addComponent(xe)}catch(yt){bt.debug(`Component ${xe.name} failed to register with FirebaseApp ${Pe.name}`,yt)}}function pt(Pe){const xe=Pe.name;if(Oe.has(xe))return bt.debug(`There were multiple attempts to register component ${xe}.`),!1;Oe.set(xe,Pe);for(const yt of $e.values())Ee(yt,Pe);return!0}function un(Pe,xe){const yt=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return yt&&yt.triggerHeartbeat(),Pe.container.getProvider(xe)}const Vn=new V.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kn{constructor(xe,yt,Gt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Kr="9.17.1";function gn(Pe,xe={}){let yt=Pe;"object"!=typeof xe&&(xe={name:xe});const Gt=Object.assign({name:li,automaticDataCollectionEnabled:!1},xe),On=Gt.name;if("string"!=typeof On||!On)throw Vn.create("bad-app-name",{appName:String(On)});if(yt||(yt=(0,V.aH)()),!yt)throw Vn.create("no-options");const mn=$e.get(On);if(mn){if((0,V.vZ)(yt,mn.options)&&(0,V.vZ)(Gt,mn.config))return mn;throw Vn.create("duplicate-app",{appName:On})}const Jn=new S.H0(On);for(const si of Oe.values())Jn.addComponent(si);const sr=new Kn(yt,Gt,Jn);return $e.set(On,sr),sr}function yn(Pe=li){const xe=$e.get(Pe);if(!xe&&Pe===li)return gn();if(!xe)throw Vn.create("no-app",{appName:Pe});return xe}function Bn(){return Array.from($e.values())}function Fn(Pe,xe,yt){var Gt;let On=null!==(Gt=Tr[Pe])&&void 0!==Gt?Gt:Pe;yt&&(On+=`-${yt}`);const mn=On.match(/\s|\//),Jn=xe.match(/\s|\//);if(mn||Jn){const sr=[`Unable to register library "${On}" with version "${xe}":`];return mn&&sr.push(`library name "${On}" contains illegal characters (whitespace or "/")`),mn&&Jn&&sr.push("and"),Jn&&sr.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void bt.warn(sr.join(" "))}pt(new S.wA(`${On}-version`,()=>({library:On,version:xe}),"VERSION"))}const Ae="firebase-heartbeat-store";let Ve=null;function Et(){return Ve||(Ve=function Dt(Pe,xe,{blocked:yt,upgrade:Gt,blocking:On,terminated:mn}={}){const Jn=indexedDB.open(Pe,xe),sr=Ge(Jn);return Gt&&Jn.addEventListener("upgradeneeded",si=>{Gt(Ge(Jn.result),si.oldVersion,si.newVersion,Ge(Jn.transaction))}),yt&&Jn.addEventListener("blocked",()=>yt()),sr.then(si=>{mn&&si.addEventListener("close",()=>mn()),On&&si.addEventListener("versionchange",()=>On())}).catch(()=>{}),sr}("firebase-heartbeat-database",1,{upgrade:(Pe,xe)=>{0===xe&&Pe.createObjectStore(Ae)}}).catch(Pe=>{throw Vn.create("idb-open",{originalErrorMessage:Pe.message})})),Ve}function jt(){return(jt=(0,f.Z)(function*(Pe){try{return(yield Et()).transaction(Ae).objectStore(Ae).get(ir(Pe))}catch(xe){if(xe instanceof V.ZR)bt.warn(xe.message);else{const yt=Vn.create("idb-get",{originalErrorMessage:null==xe?void 0:xe.message});bt.warn(yt.message)}}})).apply(this,arguments)}function en(Pe,xe){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(Pe,xe){try{const Gt=(yield Et()).transaction(Ae,"readwrite");return yield Gt.objectStore(Ae).put(xe,ir(Pe)),Gt.done}catch(yt){if(yt instanceof V.ZR)bt.warn(yt.message);else{const Gt=Vn.create("idb-set",{originalErrorMessage:null==yt?void 0:yt.message});bt.warn(Gt.message)}}})).apply(this,arguments)}function ir(Pe){return`${Pe.name}!${Pe.options.appId}`}class Se{constructor(xe){this.container=xe,this._heartbeatsCache=null;const yt=this.container.getProvider("app").getImmediate();this._storage=new lt(yt),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var xe=this;return(0,f.Z)(function*(){const Gt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=me();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==On&&!xe._heartbeatsCache.heartbeats.some(mn=>mn.date===On))return xe._heartbeatsCache.heartbeats.push({date:On,agent:Gt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(mn=>{const Jn=new Date(mn.date).valueOf();return Date.now()-Jn<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,f.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const yt=me(),{heartbeatsToSend:Gt,unsentEntries:On}=function ke(Pe,xe=1024){const yt=[];let Gt=Pe.slice();for(const On of Pe){const mn=yt.find(Jn=>Jn.agent===On.agent);if(mn){if(mn.dates.push(On.date),on(yt)>xe){mn.dates.pop();break}}else if(yt.push({agent:On.agent,dates:[On.date]}),on(yt)>xe){yt.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:yt,unsentEntries:Gt}}(xe._heartbeatsCache.heartbeats),mn=(0,V.L)(JSON.stringify({version:2,heartbeats:Gt}));return xe._heartbeatsCache.lastSentHeartbeatDate=yt,On.length>0?(xe._heartbeatsCache.heartbeats=On,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),mn})()}}function me(){return(new Date).toISOString().substring(0,10)}class lt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,V.hl)()&&(0,V.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,f.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Ke(Pe){return jt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var yt=this;return(0,f.Z)(function*(){var Gt;if(yield yt._canUseIndexedDBPromise){const mn=yield yt.read();return en(yt.app,{lastSentHeartbeatDate:null!==(Gt=xe.lastSentHeartbeatDate)&&void 0!==Gt?Gt:mn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var yt=this;return(0,f.Z)(function*(){var Gt;if(yield yt._canUseIndexedDBPromise){const mn=yield yt.read();return en(yt.app,{lastSentHeartbeatDate:null!==(Gt=xe.lastSentHeartbeatDate)&&void 0!==Gt?Gt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...xe.heartbeats]})}})()}}function on(Pe){return(0,V.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function cn(Pe){pt(new S.wA("platform-logger",xe=>new Ze(xe),"PRIVATE")),pt(new S.wA("heartbeat",xe=>new Se(xe),"PRIVATE")),Fn(et,"0.9.3",Pe),Fn(et,"0.9.3","esm2017"),Fn("fire-js","")}("")},4859:(we,ae,C)=>{C.d(ae,{H0:()=>J,wA:()=>te});var f=C(531),S=C(2090);class te{constructor(Q,Z,ce){this.name=Q,this.instanceFactory=Z,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const V="[DEFAULT]";class le{constructor(Q,Z){this.name=Q,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Z=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Z)){const ce=new S.BH;if(this.instancesDeferred.set(Z,ce),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:Z});Le&&ce.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(Z).promise}getImmediate(Q){var Z;const ce=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Le=null!==(Z=null==Q?void 0:Q.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(ze){if(Le)return null;throw ze}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function oe(he){return"EAGER"===he.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:V})}catch(Z){}for(const[Z,ce]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(Z);try{const ze=this.getOrInitializeService({instanceIdentifier:Le});ce.resolve(ze)}catch(ze){}}}}clearInstance(Q=V){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,f.Z)(function*(){const Z=Array.from(Q.instances.values());yield Promise.all([...Z.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...Z.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=V){return this.instances.has(Q)}getOptions(Q=V){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Z={}}=Q,ce=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:ce,options:Z});for(const[ze,Ie]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(ze)&&Ie.resolve(Le);return Le}onInit(Q,Z){var ce;const Le=this.normalizeInstanceIdentifier(Z),ze=null!==(ce=this.onInitCallbacks.get(Le))&&void 0!==ce?ce:new Set;ze.add(Q),this.onInitCallbacks.set(Le,ze);const Ie=this.instances.get(Le);return Ie&&Q(Ie,Le),()=>{ze.delete(Q)}}invokeOnInitCallbacks(Q,Z){const ce=this.onInitCallbacks.get(Z);if(ce)for(const Le of ce)try{Le(Q,Z)}catch(ze){}}getOrInitializeService({instanceIdentifier:Q,options:Z={}}){let ce=this.instances.get(Q);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(he=Q,he===V?void 0:he),options:Z}),this.instances.set(Q,ce),this.instancesOptions.set(Q,Z),this.invokeOnInitCallbacks(ce,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ce)}catch(Le){}var he;return ce||null}normalizeInstanceIdentifier(Q=V){return this.component?this.component.multipleInstances?Q:V:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Z=this.getProvider(Q.name);if(Z.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Z.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Z=new le(Q,this);return this.providers.set(Q,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(we,ae,C)=>{C.d(ae,{Yd:()=>oe,in:()=>S});const f=[];var S=(()=>{return(Q=S||(S={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",S;var Q})();const te={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},V=S.INFO,le={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},de=(Q,Z,...ce)=>{if(Z<Q.logLevel)return;const Le=(new Date).toISOString(),ze=le[Z];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ze](`[${Le}]  ${Q.name}:`,...ce)};class oe{constructor(Z){this.name=Z,this._logLevel=V,this._logHandler=de,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in S))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?te[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...Z),this._logHandler(this,S.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...Z),this._logHandler(this,S.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,S.INFO,...Z),this._logHandler(this,S.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,S.WARN,...Z),this._logHandler(this,S.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...Z),this._logHandler(this,S.ERROR,...Z)}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5094),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ae,C){if(this.action=ae,this.timestamp=C,this.type=PERFORM_ACTION,void 0===ae.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ae){this.timestamp=ae,this.type=RESET}}class Rollback{constructor(ae){this.timestamp=ae,this.type=ROLLBACK}}class Commit{constructor(ae){this.timestamp=ae,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ae){this.id=ae,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ae,C,f=!0){this.start=ae,this.end=C,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ae){this.index=ae,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ae){this.actionId=ae,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ae){this.nextLiftedState=ae,this.type=IMPORT_STATE}}class LockChanges{constructor(ae){this.status=ae,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ae){this.status=ae,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(we){const ae={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},C="function"==typeof we?we():we,te=Object.assign({},ae,{features:C.features||!!C.logOnly&&{pause:!0,export:!0,test:!0}||ae.features},C);if(te.maxAge&&te.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${te.maxAge}`);return te}function difference(we,ae){return we.filter(C=>ae.indexOf(C)<0)}function unliftState(we){const{computedStates:ae,currentStateIndex:C}=we;if(C>=ae.length){const{state:S}=ae[ae.length-1];return S}const{state:f}=ae[C];return f}function unliftAction(we){return we.actionsById[we.nextActionId-1]}function liftAction(we){return new PerformAction(we,+Date.now())}function sanitizeActions(we,ae){return Object.keys(ae).reduce((C,f)=>{const S=Number(f);return C[S]=sanitizeAction(we,ae[S],S),C},{})}function sanitizeAction(we,ae,C){return Object.assign(Object.assign({},ae),{action:we(ae.action,C)})}function sanitizeStates(we,ae){return ae.map((C,f)=>({state:sanitizeState(we,C.state,f),error:C.error}))}function sanitizeState(we,ae,C){return we(ae,C)}function shouldFilterActions(we){return we.predicate||we.actionsSafelist||we.actionsBlocklist}function filterLiftedState(we,ae,C,f){const S=[],te={},V=[];return we.stagedActionIds.forEach((le,de)=>{const oe=we.actionsById[le];!oe||de&&isActionFiltered(we.computedStates[de],oe,ae,C,f)||(te[le]=oe,S.push(le),V.push(we.computedStates[de]))}),Object.assign(Object.assign({},we),{stagedActionIds:S,actionsById:te,computedStates:V})}function isActionFiltered(we,ae,C,f,S){const te=C&&!C(we,ae.action),V=f&&!ae.action.type.match(f.map(de=>escapeRegExp(de)).join("|")),le=S&&ae.action.type.match(S.map(de=>escapeRegExp(de)).join("|"));return te||V||le}function escapeRegExp(we){return we.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class we extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return we.\u0275fac=function(){let ae;return function(f){return(ae||(ae=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(we)))(f||we)}}(),we.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:we,factory:we.\u0275fac}),we})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(we,ae,C){this.config=ae,this.dispatcher=C,this.devtoolsExtension=we,this.createActionStreams()}notify(we,ae){if(this.devtoolsExtension)if(we.type===PERFORM_ACTION){if(ae.isLocked||ae.isPaused)return;const C=unliftState(ae);if(shouldFilterActions(this.config)&&isActionFiltered(C,we,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,C,ae.currentStateIndex):C,S=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,we,ae.nextActionId):we;this.sendToReduxDevtools(()=>this.extensionConnection.send(S,f))}else{const C=Object.assign(Object.assign({},ae),{stagedActionIds:ae.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ae.actionsById):ae.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ae.computedStates):ae.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,C,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(we=>{const ae=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ae,ae.init(),ae.subscribe(C=>we.next(C)),ae.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const we=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ae=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.START)),C=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.STOP)),f=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(le=>this.unwrapAction(le.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(le=>le.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>le),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(le)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(le))),te=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(le=>this.unwrapAction(le.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),V=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C));this.start$=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>te)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>V))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(we){var ae;const C={name:we.name,features:we.features,serialize:we.serialize,autoPause:null!==(ae=we.autoPause)&&void 0!==ae&&ae};return!1!==we.maxAge&&(C.maxAge=we.maxAge),C}sendToReduxDevtools(we){try{we()}catch(ae){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ae)}}}return DevtoolsExtension.\u0275fac=function we(ae){return new(ae||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(we,ae,C,f,S){if(f)return{state:C,error:"Interrupted by an error up the chain"};let V,te=C;try{te=we(C,ae)}catch(le){V=le.toString(),S.handleError(le)}return{state:te,error:V}}function recomputeStates(we,ae,C,f,S,te,V,le,de){if(ae>=we.length&&we.length===te.length)return we;const oe=we.slice(0,ae),J=te.length-(de?1:0);for(let he=ae;he<J;he++){const Q=te[he],Z=S[Q].action,ce=oe[he-1],Le=ce?ce.state:f,ze=ce?ce.error:void 0,Ye=V.indexOf(Q)>-1?ce:computeNextEntry(C,Z,Le,ze,le);oe.push(Ye)}return de&&oe.push(we[we.length-1]),oe}function liftInitialState(we,ae){return{monitorState:ae(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:we,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(we,ae,C,f,S={}){return te=>(V,le)=>{let{monitorState:de,actionsById:oe,nextActionId:J,stagedActionIds:he,skippedActionIds:Q,committedState:Z,currentStateIndex:ce,computedStates:Le,isLocked:ze,isPaused:Ie}=V||ae;function Ye(gt){let xt=gt,Ge=he.slice(1,xt+1);for(let Be=0;Be<Ge.length;Be++){if(Le[Be+1].error){xt=Be,Ge=he.slice(1,xt+1);break}delete oe[Ge[Be]]}Q=Q.filter(Be=>-1===Ge.indexOf(Be)),he=[0,...he.slice(xt+1)],Z=Le[xt].state,Le=Le.slice(xt),ce=ce>xt?ce-xt:0}function We(){oe={0:liftAction(INIT_ACTION)},J=1,he=[0],Q=[],Z=Le[ce].state,ce=0,Le=[]}V||(oe=Object.create(oe));let je=0;switch(le.type){case LOCK_CHANGES:ze=le.status,je=1/0;break;case PAUSE_RECORDING:Ie=le.status,Ie?(he=[...he,J],oe[J]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),J++,je=he.length-1,Le=Le.concat(Le[Le.length-1]),ce===he.length-2&&ce++,je=1/0):We();break;case RESET:oe={0:liftAction(INIT_ACTION)},J=1,he=[0],Q=[],Z=we,ce=0,Le=[];break;case COMMIT:We();break;case ROLLBACK:oe={0:liftAction(INIT_ACTION)},J=1,he=[0],Q=[],ce=0,Le=[];break;case TOGGLE_ACTION:{const{id:gt}=le;Q=-1===Q.indexOf(gt)?[gt,...Q]:Q.filter(Ge=>Ge!==gt),je=he.indexOf(gt);break}case SET_ACTIONS_ACTIVE:{const{start:gt,end:xt,active:Ge}=le,Be=[];for(let Dt=gt;Dt<xt;Dt++)Be.push(Dt);Q=Ge?difference(Q,Be):[...Q,...Be],je=he.indexOf(gt);break}case JUMP_TO_STATE:ce=le.index,je=1/0;break;case JUMP_TO_ACTION:{const gt=he.indexOf(le.actionId);-1!==gt&&(ce=gt),je=1/0;break}case SWEEP:he=difference(he,Q),Q=[],ce=Math.min(ce,he.length-1);break;case PERFORM_ACTION:{if(ze)return V||ae;if(Ie||V&&isActionFiltered(V.computedStates[ce],le,S.predicate,S.actionsSafelist,S.actionsBlocklist)){const xt=Le[Le.length-1];Le=[...Le.slice(0,-1),computeNextEntry(te,le.action,xt.state,xt.error,C)],je=1/0;break}S.maxAge&&he.length===S.maxAge&&Ye(1),ce===he.length-1&&ce++;const gt=J++;oe[gt]=le,he=[...he,gt],je=he.length-1;break}case IMPORT_STATE:({monitorState:de,actionsById:oe,nextActionId:J,stagedActionIds:he,skippedActionIds:Q,committedState:Z,currentStateIndex:ce,computedStates:Le,isLocked:ze,isPaused:Ie}=le.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:je=0,S.maxAge&&he.length>S.maxAge&&(Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,Ie),Ye(he.length-S.maxAge),je=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Le.filter(xt=>xt.error).length>0)je=0,S.maxAge&&he.length>S.maxAge&&(Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,Ie),Ye(he.length-S.maxAge),je=1/0);else{if(!Ie&&!ze){ce===he.length-1&&ce++;const xt=J++;oe[xt]=new PerformAction(le,+Date.now()),he=[...he,xt],je=he.length-1,Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,Ie)}Le=Le.map(xt=>Object.assign(Object.assign({},xt),{state:te(xt.state,RECOMPUTE_ACTION)})),ce=he.length-1,S.maxAge&&he.length>S.maxAge&&Ye(he.length-S.maxAge),je=1/0}break;default:je=1/0}return Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,Ie),de=f(de,le),{monitorState:de,actionsById:oe,nextActionId:J,stagedActionIds:he,skippedActionIds:Q,committedState:Z,currentStateIndex:ce,computedStates:Le,isLocked:ze,isPaused:Ie}}}let StoreDevtools=(()=>{class we{constructor(C,f,S,te,V,le,de,oe){const J=liftInitialState(de,oe.monitor),he=liftReducerWith(de,J,le,oe.monitor,oe),Q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),te.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),C,te.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),Z=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(he)),ce=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Le=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(Z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:We},[je,gt])=>{let xt=gt(We,je);return je.type!==PERFORM_ACTION&&shouldFilterActions(oe)&&(xt=filterLiftedState(xt,oe.predicate,oe.actionsSafelist,oe.actionsBlocklist)),te.notify(je,xt),{state:xt,action:je}},{state:J,action:null})).subscribe(({state:We,action:je})=>{ce.next(We),je.type===PERFORM_ACTION&&V.next(je.action)}),ze=te.start$.subscribe(()=>{this.refresh()}),Ie=ce.asObservable(),Ye=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=ze,this.stateSubscription=Le,this.dispatcher=C,this.liftedState=Ie,this.state=Ye}dispatch(C){this.dispatcher.next(C)}next(C){this.dispatcher.next(C)}error(C){}complete(){}performAction(C){this.dispatch(new PerformAction(C,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(C){this.dispatch(new ToggleAction(C))}jumpToAction(C){this.dispatch(new JumpToAction(C))}jumpToState(C){this.dispatch(new JumpToState(C))}importState(C){this.dispatch(new ImportState(C))}lockChanges(C){this.dispatch(new LockChanges(C))}pauseRecording(C){this.dispatch(new PauseRecording(C))}}return we.\u0275fac=function(C){return new(C||we)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},we.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:we,factory:we.\u0275fac}),we})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(we,ae){return Boolean(we)||ae.monitor!==noMonitor}function createReduxDevtoolsExtension(){const we="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[we]?window[we]:null}function provideStoreDevtools(we={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:we},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(we){return we.state}let StoreDevtoolsModule=(()=>{class we{static instrument(C={}){return{ngModule:we,providers:[...provideStoreDevtools(C).\u0275providers]}}}return we.\u0275fac=function(C){return new(C||we)},we.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:we}),we.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),we})()},5094:(we,ae,C)=>{C.d(ae,{Aw:()=>Ln,CK:()=>Sr,FR:()=>$e,Ky:()=>Ie,Lq:()=>as,P1:()=>en,PH:()=>ze,UO:()=>Tt,Y$:()=>li,Y6:()=>tt,Ys:()=>sn,ZF:()=>Fr,cr:()=>Pr,mK:()=>_i,n$:()=>zt,on:()=>Ur,qC:()=>lr,qg:()=>Dt,wb:()=>Ei,yh:()=>pt});var f=C(5e3),S=C(1135),te=C(9751),V=C(7579),le=C(233),de=C(5363),oe=C(1365),J=C(5026),he=C(4813),Q=C(4004),Z=C(1884);const ce={};function ze(Te,it){if(ce[Te]=(ce[Te]||0)+1,"function"==typeof it)return We(Te,(..._t)=>Object.assign(Object.assign({},it(..._t)),{type:Te}));switch(it?it._as:"empty"){case"empty":return We(Te,()=>({type:Te}));case"props":return We(Te,_t=>Object.assign(Object.assign({},_t),{type:Te}));default:throw new Error("Unexpected config.")}}function Ie(){return{_as:"props",_p:void 0}}function We(Te,it){return Object.defineProperty(it,"type",{value:Te,writable:!1})}const Dt="@ngrx/store/init";let Tt=(()=>{class Te extends S.X{constructor(){super({type:Dt})}next(qe){if("function"==typeof qe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===qe)throw new TypeError("Actions must be objects");if(void 0===qe.type)throw new TypeError("Actions must have a type property");super.next(qe)}complete(){}ngOnDestroy(){super.complete()}}return Te.\u0275fac=function(qe){return new(qe||Te)},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Wt=[Tt],Ht=new f.OlP("@ngrx/store Internal Root Guard"),Rt=new f.OlP("@ngrx/store Internal Initial State"),tt=new f.OlP("@ngrx/store Initial State"),Ze=new f.OlP("@ngrx/store Reducer Factory"),at=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),et=new f.OlP("@ngrx/store Initial Reducers"),Nt=new f.OlP("@ngrx/store Internal Initial Reducers"),bt=new f.OlP("@ngrx/store Store Features"),ht=new f.OlP("@ngrx/store Internal Store Reducers"),Un=new f.OlP("@ngrx/store Internal Feature Reducers"),Kt=new f.OlP("@ngrx/store Internal Feature Configs"),Mt=new f.OlP("@ngrx/store Internal Store Features"),fr=new f.OlP("@ngrx/store Internal Feature Reducers Token"),Br=new f.OlP("@ngrx/store Feature Reducers"),Ir=new f.OlP("@ngrx/store User Provided Meta Reducers"),nr=new f.OlP("@ngrx/store Meta Reducers"),kr=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),dr=new f.OlP("@ngrx/store User Runtime Checks Config"),vi=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),mi=new f.OlP("@ngrx/store Internal Runtime Checks"),ti=new f.OlP("@ngrx/store Check if Action types are unique");function Wr(Te,it={}){const qe=Object.keys(Te),_t={};for(let kt=0;kt<qe.length;kt++){const $n=qe[kt];"function"==typeof Te[$n]&&(_t[$n]=Te[$n])}const Qt=Object.keys(_t);return function($n,Yr){$n=void 0===$n?it:$n;let Cr=!1;const xi={};for(let br=0;br<Qt.length;br++){const qr=Qt[br],Xi=$n[qr],Ys=(0,_t[qr])(Xi,Yr);xi[qr]=Ys,Cr=Cr||Ys!==Xi}return Cr?xi:$n}}function lr(...Te){return function(it){if(0===Te.length)return it;const qe=Te[Te.length-1];return Te.slice(0,-1).reduceRight((Qt,kt)=>kt(Qt),qe(it))}}function yr(Te,it){return Array.isArray(it)&&it.length>0&&(Te=lr.apply(null,[...it,Te])),(qe,_t)=>{const Qt=Te(qe);return(kt,$n)=>Qt(kt=void 0===kt?_t:kt,$n)}}new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class zt extends te.y{}class _i extends Tt{}const Ei="@ngrx/store/update-reducers";let vr=(()=>{class Te extends S.X{constructor(qe,_t,Qt,kt){super(kt(Qt,_t)),this.dispatcher=qe,this.initialState=_t,this.reducers=Qt,this.reducerFactory=kt}get currentReducers(){return this.reducers}addFeature(qe){this.addFeatures([qe])}addFeatures(qe){const _t=qe.reduce((Qt,{reducers:kt,reducerFactory:$n,metaReducers:Yr,initialState:Cr,key:xi})=>{const br="function"==typeof kt?function cs(Te){const it=Array.isArray(Te)&&Te.length>0?lr(...Te):qe=>qe;return(qe,_t)=>(qe=it(qe),(Qt,kt)=>qe(Qt=void 0===Qt?_t:Qt,kt))}(Yr)(kt,Cr):yr($n,Yr)(kt,Cr);return Qt[xi]=br,Qt},{});this.addReducers(_t)}removeFeature(qe){this.removeFeatures([qe])}removeFeatures(qe){this.removeReducers(qe.map(_t=>_t.key))}addReducer(qe,_t){this.addReducers({[qe]:_t})}addReducers(qe){this.reducers=Object.assign(Object.assign({},this.reducers),qe),this.updateReducers(Object.keys(qe))}removeReducer(qe){this.removeReducers([qe])}removeReducers(qe){qe.forEach(_t=>{this.reducers=function Nr(Te,it){return Object.keys(Te).filter(qe=>qe!==it).reduce((qe,_t)=>Object.assign(qe,{[_t]:Te[_t]}),{})}(this.reducers,_t)}),this.updateReducers(qe)}updateReducers(qe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ei,features:qe})}ngOnDestroy(){this.complete()}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(_i),f.LFG(tt),f.LFG(et),f.LFG(Ze))},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Zi=[vr,{provide:zt,useExisting:vr},{provide:_i,useExisting:Tt}];let li=(()=>{class Te extends V.x{ngOnDestroy(){this.complete()}}return Te.\u0275fac=function(){let it;return function(_t){return(it||(it=f.n5z(Te)))(_t||Te)}}(),Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Tr=[li];class $e extends te.y{}let Oe=(()=>{class Te extends S.X{constructor(qe,_t,Qt,kt){super(kt);const xi=qe.pipe((0,de.Q)(le.N)).pipe((0,oe.M)(_t)).pipe((0,J.R)(Ee,{state:kt}));this.stateSubscription=xi.subscribe(({state:br,action:qr})=>{this.next(br),Qt.next(qr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Te.INIT=Dt,Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(Tt),f.LFG(zt),f.LFG(li),f.LFG(tt))},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function Ee(Te={state:void 0},[it,qe]){const{state:_t}=Te;return{state:qe(_t,it),action:it}}const nt=[Oe,{provide:$e,useExisting:Oe}];let pt=(()=>{class Te extends te.y{constructor(qe,_t,Qt){super(),this.actionsObserver=_t,this.reducerManager=Qt,this.source=qe}select(qe,..._t){return sn.call(null,qe,..._t)(this)}lift(qe){const _t=new Te(this,this.actionsObserver,this.reducerManager);return _t.operator=qe,_t}dispatch(qe){this.actionsObserver.next(qe)}next(qe){this.actionsObserver.next(qe)}error(qe){this.actionsObserver.error(qe)}complete(){this.actionsObserver.complete()}addReducer(qe,_t){this.reducerManager.addReducer(qe,_t)}removeReducer(qe){this.reducerManager.removeReducer(qe)}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG($e),f.LFG(Tt),f.LFG(vr))},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const un=[pt];function sn(Te,it,...qe){return function(Qt){let kt;if("string"==typeof Te){const $n=[it,...qe].filter(Boolean);kt=Qt.pipe((0,he.j)(Te,...$n))}else{if("function"!=typeof Te)throw new TypeError(`Unexpected type '${typeof Te}' in select operator, expected 'string' or 'function'`);kt=Qt.pipe((0,Q.U)($n=>Te($n,it)))}return kt.pipe((0,Z.x)())}}const Gn="https://ngrx.io/guide/store/configuration/runtime-checks";function Ut(Te){return void 0===Te}function Vn(Te){return null===Te}function Kn(Te){return Array.isArray(Te)}function Bn(Te){return"object"==typeof Te&&null!==Te}function Fn(Te){return"function"==typeof Te}function Ve(Te,it){return Te===it}function Et(Te,it,qe){for(let _t=0;_t<Te.length;_t++)if(!qe(Te[_t],it[_t]))return!0;return!1}function jt(Te,it=Ve,qe=Ve){let kt,_t=null,Qt=null;return{memoized:function xi(){if(void 0!==kt)return kt.result;if(!_t)return Qt=Te.apply(null,arguments),_t=arguments,Qt;if(!Et(arguments,_t,it))return Qt;const br=Te.apply(null,arguments);return _t=arguments,qe(Qt,br)?Qt:(Qt=br,br)},reset:function $n(){_t=null,Qt=null},setResult:function Yr(br){kt={result:br}},clearResult:function Cr(){kt=void 0}}}function en(...Te){return function ir(Te,it={stateFn:Nn}){return function(...qe){let _t=qe;if(Array.isArray(_t[0])){const[br,...qr]=_t;_t=[...br,...qr]}const Qt=_t.slice(0,_t.length-1),kt=_t[_t.length-1],$n=Qt.filter(br=>br.release&&"function"==typeof br.release),Yr=Te(function(...br){return kt.apply(null,br)}),Cr=jt(function(br,qr){return it.stateFn.apply(null,[br,Qt,qr,Yr])});return Object.assign(Cr.memoized,{release:function xi(){Cr.reset(),Yr.reset(),$n.forEach(br=>br.release())},projector:Yr.memoized,setResult:Cr.setResult,clearResult:Cr.clearResult})}}(jt)(...Te)}function Nn(Te,it,qe,_t){if(void 0===qe){const kt=it.map($n=>$n(Te));return _t.memoized.apply(null,kt)}const Qt=it.map(kt=>kt(Te,qe));return _t.memoized.apply(null,[...Qt,qe])}function Fr(Te){return en(it=>{const qe=it[Te];return(0,f.X6Q)()&&!(Te in it)&&console.warn(`@ngrx/store: The feature name "${Te}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Te}', ...) or StoreModule.forFeature('${Te}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),qe},it=>it)}function ke(Te,it){return it instanceof f.OlP?Te.get(it):it}function lt(Te,it,qe){return qe.map((_t,Qt)=>{if(it[Qt]instanceof f.OlP){const kt=Te.get(it[Qt]);return{key:_t.key,reducerFactory:kt.reducerFactory?kt.reducerFactory:Wr,metaReducers:kt.metaReducers?kt.metaReducers:[],initialState:kt.initialState}}return _t})}function on(Te,it){return it.map(_t=>_t instanceof f.OlP?Te.get(_t):_t)}function cn(Te){return"function"==typeof Te?Te():Te}function Pe(Te,it){return Te.concat(it)}function xe(Te){if(Te)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Gt(Te){Object.freeze(Te);const it=Fn(Te);return Object.getOwnPropertyNames(Te).forEach(qe=>{if(!qe.startsWith("\u0275")&&function Bi(Te,it){return Object.prototype.hasOwnProperty.call(Te,it)}(Te,qe)&&(!it||"caller"!==qe&&"callee"!==qe&&"arguments"!==qe)){const _t=Te[qe];(Bn(_t)||Fn(_t))&&!Object.isFrozen(_t)&&Gt(_t)}}),Te}function mn(Te,it=[]){return(Ut(Te)||Vn(Te))&&0===it.length?{path:["root"],value:Te}:Object.keys(Te).reduce((_t,Qt)=>{if(_t)return _t;const kt=Te[Qt];return function Lr(Te){return Fn(Te)&&Te.hasOwnProperty("\u0275cmp")}(kt)?_t:!(Ut(kt)||Vn(kt)||function yn(Te){return"number"==typeof Te}(kt)||function gn(Te){return"boolean"==typeof Te}(kt)||function Kr(Te){return"string"==typeof Te}(kt)||Kn(kt))&&(function zr(Te){if(!function ui(Te){return Bn(Te)&&!Kn(Te)}(Te))return!1;const it=Object.getPrototypeOf(Te);return it===Object.prototype||null===it}(kt)?mn(kt,[...it,Qt]):{path:[...it,Qt],value:kt})},!1)}function Jn(Te,it){if(!1===Te)return;const qe=Te.path.join("."),_t=new Error(`Detected unserializable ${it} at "${qe}". ${Gn}#strict${it}serializability`);throw _t.value=Te.value,_t.unserializablePath=qe,_t}function si(Te){return(0,f.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Te):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Mr({strictActionSerializability:Te,strictStateSerializability:it}){return qe=>Te||it?function On(Te,it){return function(qe,_t){it.action(_t)&&Jn(mn(_t),"action");const Qt=Te(qe,_t);return it.state()&&Jn(mn(Qt),"state"),Qt}}(qe,{action:_t=>Te&&!ds(_t),state:()=>it}):qe}function Hn({strictActionImmutability:Te,strictStateImmutability:it}){return qe=>Te||it?function yt(Te,it){return function(qe,_t){const Qt=it.action(_t)?Gt(_t):_t,kt=Te(qe,Qt);return it.state()?Gt(kt):kt}}(qe,{action:_t=>Te&&!ds(_t),state:()=>it}):qe}function ds(Te){return Te.type.startsWith("@ngrx")}function Or({strictActionWithinNgZone:Te}){return it=>Te?function sr(Te,it){return function(qe,_t){if(it.action(_t)&&!f.R0b.isInAngularZone())throw new Error(`Action '${_t.type}' running outside NgZone. ${Gn}#strictactionwithinngzone`);return Te(qe,_t)}}(it,{action:qe=>Te&&!ds(qe)}):it}function Ji(Te){return[{provide:vi,useValue:Te},{provide:dr,useFactory:or,deps:[vi]},{provide:mi,deps:[dr],useFactory:si},{provide:nr,multi:!0,deps:[mi],useFactory:Hn},{provide:nr,multi:!0,deps:[mi],useFactory:Mr},{provide:nr,multi:!0,deps:[mi],useFactory:Or}]}function ji(){return[{provide:ti,multi:!0,deps:[mi],useFactory:Hi}]}function or(Te){return Te}function Hi(Te){if(!Te.strictActionTypeUniqueness)return;const it=Object.entries(ce).filter(([,qe])=>qe>1).map(([qe])=>qe);if(it.length)throw new Error(`Action types are registered more than once, ${it.map(qe=>`"${qe}"`).join(", ")}. ${Gn}#strictactiontypeuniqueness`)}function In(Te,it){return[{provide:Ht,useFactory:xe,deps:[[pt,new f.FiY,new f.tp0]]},{provide:Rt,useValue:it.initialState},{provide:tt,useFactory:cn,deps:[Rt]},{provide:Nt,useValue:Te},{provide:ht,useExisting:Te instanceof f.OlP?Te:Nt},{provide:et,deps:[f.zs3,Nt,[new f.tBr(ht)]],useFactory:ke},{provide:Ir,useValue:it.metaReducers?it.metaReducers:[]},{provide:kr,deps:[nr,Ir],useFactory:Pe},{provide:at,useValue:it.reducerFactory?it.reducerFactory:Wr},{provide:Ze,deps:[at,kr],useFactory:yr},Wt,Zi,Tr,nt,un,Ji(it.runtimeChecks),ji()]}function yi(Te,it,qe={}){return[{provide:Kt,multi:!0,useValue:Te instanceof Object?{}:qe},{provide:bt,multi:!0,useValue:{key:Te instanceof Object?Te.name:Te,reducerFactory:qe instanceof f.OlP||!qe.reducerFactory?Wr:qe.reducerFactory,metaReducers:qe instanceof f.OlP||!qe.metaReducers?[]:qe.metaReducers,initialState:qe instanceof f.OlP||!qe.initialState?void 0:qe.initialState}},{provide:Mt,deps:[f.zs3,Kt,bt],useFactory:lt},{provide:Un,multi:!0,useValue:Te instanceof Object?Te.reducer:it},{provide:fr,multi:!0,useExisting:it instanceof f.OlP?it:Un},{provide:Br,multi:!0,deps:[f.zs3,Un,[new f.tBr(fr)]],useFactory:on},ji()]}let Pr=(()=>{class Te{constructor(qe,_t,Qt,kt,$n,Yr){}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(Tt),f.LFG(zt),f.LFG(li),f.LFG(pt),f.LFG(Ht,8),f.LFG(ti,8))},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({}),Te})(),Sr=(()=>{class Te{constructor(qe,_t,Qt,kt,$n){this.features=qe,this.featureReducers=_t,this.reducerManager=Qt;const Yr=qe.map((Cr,xi)=>{const qr=_t.shift()[xi];return Object.assign(Object.assign({},Cr),{reducers:qr,initialState:cn(Cr.initialState)})});Qt.addFeatures(Yr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(Mt),f.LFG(Br),f.LFG(vr),f.LFG(Pr),f.LFG(ti,8))},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({}),Te})(),Ln=(()=>{class Te{static forRoot(qe,_t={}){return{ngModule:Pr,providers:[...In(qe,_t)]}}static forFeature(qe,_t,Qt={}){return{ngModule:Sr,providers:[...yi(qe,_t,Qt)]}}}return Te.\u0275fac=function(qe){return new(qe||Te)},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({}),Te})();function Ur(...Te){return{reducer:Te.pop(),types:Te.map(_t=>_t.type)}}function as(Te,...it){const qe=new Map;for(const _t of it)for(const Qt of _t.types){const kt=qe.get(Qt);qe.set(Qt,kt?(Yr,Cr)=>_t.reducer(kt(Yr,Cr),Cr):_t.reducer)}return function(_t=Te,Qt){const kt=qe.get(Qt.type);return kt?kt(_t,Qt):_t}}},2713:(we,ae,C)=>{C.d(ae,{ek:()=>Su,gm:()=>Zu,G2:()=>Io,f8:()=>pi,C5:()=>Ks,Qi:()=>Jo});var f=C(5e3),S=C(655),te=C(6197),V=C(9751),le=C(4004),de=C(9808),oe=C(4202),J=C(520),he=C(259),Q=C(9996),Z=C(531),ce=C(2090),Le=C(6881),ze=C(1877),Ie=C(4859);const Tt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wt=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rt=new ze.Yd("@firebase/auth");function tt(b,...p){Rt.logLevel<=ze.in.ERROR&&Rt.error(`Auth (${Le.Jn}): ${b}`,...p)}function Ze(b,...p){throw bt(b,...p)}function at(b,...p){return bt(b,...p)}function et(b,p,y){const A=Object.assign(Object.assign({},Tt()),{[p]:y});return new ce.LL("auth","Firebase",A).create(p,{appName:b.name})}function bt(b,...p){if("string"!=typeof b){const y=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(y,...A)}return Wt.create(b,...p)}function ht(b,p,...y){if(!b)throw bt(p,...y)}function Un(b){const p="INTERNAL ASSERTION FAILED: "+b;throw tt(p),new Error(p)}function Kt(b,p){b||Un(p)}const Mt=new Map;function fr(b){Kt(b instanceof Function,"Expected a class definition");let p=Mt.get(b);return p?(Kt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Mt.set(b,p),p)}function nr(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function dr(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ti{constructor(p,y){this.shortDelay=p,this.longDelay=y,Kt(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function vi(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function kr(){return"http:"===dr()||"https:"===dr()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $r(b,p){Kt(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class ni{static initialize(p,y,A){this.fetchImpl=p,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nr=new ti(3e4,6e4);function lr(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function yr(b,p,y,A){return cs.apply(this,arguments)}function cs(){return(cs=(0,Z.Z)(function*(b,p,y,A,X={}){return zt(b,X,(0,Z.Z)(function*(){let fe={},Qe={};A&&("GET"===p?Qe=A:fe={body:JSON.stringify(A)});const wt=(0,ce.xO)(Object.assign({key:b.config.apiKey},Qe)).slice(1),dn=yield b._getAdditionalHeaders();return dn["Content-Type"]="application/json",b.languageCode&&(dn["X-Firebase-Locale"]=b.languageCode),ni.fetch()(Zi(b,b.config.apiHost,y,wt),Object.assign({method:p,headers:dn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function zt(b,p,y){return _i.apply(this,arguments)}function _i(){return(_i=(0,Z.Z)(function*(b,p,y){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Wr),p);try{const X=new li(b),fe=yield Promise.race([y(),X.promise]);X.clearNetworkTimeout();const Qe=yield fe.json();if("needConfirmation"in Qe)throw Tr(b,"account-exists-with-different-credential",Qe);if(fe.ok&&!("errorMessage"in Qe))return Qe;{const wt=fe.ok?Qe.errorMessage:Qe.error.message,[dn,Rn]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dn)throw Tr(b,"credential-already-in-use",Qe);if("EMAIL_EXISTS"===dn)throw Tr(b,"email-already-in-use",Qe);if("USER_DISABLED"===dn)throw Tr(b,"user-disabled",Qe);const kn=A[dn]||dn.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw et(b,kn,Rn);Ze(b,kn)}}catch(X){if(X instanceof ce.ZR)throw X;Ze(b,"network-request-failed")}})).apply(this,arguments)}function Ei(b,p,y,A){return vr.apply(this,arguments)}function vr(){return(vr=(0,Z.Z)(function*(b,p,y,A,X={}){const fe=yield yr(b,p,y,A,X);return"mfaPendingCredential"in fe&&Ze(b,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function Zi(b,p,y,A){const X=`${p}${y}?${A}`;return b.config.emulator?$r(b.config,X):`${b.config.apiScheme}://${X}`}class li{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(at(this.auth,"network-request-failed")),Nr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tr(b,p,y){const A={appName:b.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const X=at(b,p,A);return X.customData._tokenResponse=y,X}function Oe(){return(Oe=(0,Z.Z)(function*(b,p){return yr(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function pt(b,p){return un.apply(this,arguments)}function un(){return(un=(0,Z.Z)(function*(b,p){return yr(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function sn(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Vn(){return(Vn=(0,Z.Z)(function*(b,p=!1){const y=(0,ce.m9)(b),A=yield y.getIdToken(p),X=Kr(A);ht(X&&X.exp&&X.auth_time&&X.iat,y.auth,"internal-error");const fe="object"==typeof X.firebase?X.firebase:void 0,Qe=null==fe?void 0:fe.sign_in_provider;return{claims:X,token:A,authTime:sn(Kn(X.auth_time)),issuedAtTime:sn(Kn(X.iat)),expirationTime:sn(Kn(X.exp)),signInProvider:Qe||null,signInSecondFactor:(null==fe?void 0:fe.sign_in_second_factor)||null}})).apply(this,arguments)}function Kn(b){return 1e3*Number(b)}function Kr(b){const[p,y,A]=b.split(".");if(void 0===p||void 0===y||void 0===A)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,ce.tV)(y);return X?JSON.parse(X):(tt("Failed to decode base64 JWT payload"),null)}catch(X){return tt("Caught error parsing JWT payload as JSON",null==X?void 0:X.toString()),null}}function yn(b,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Z.Z)(function*(b,p,y=!1){if(y)return p;try{return yield p}catch(A){throw A instanceof ce.ZR&&ui(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function ui({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class zr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const X=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,Z.Z)(function*(){yield y.iteration()}),A)}iteration(){var p=this;return(0,Z.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null==y?void 0:y.code)&&p.schedule(!0))}p.schedule()})()}}class Fn{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(b){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,Z.Z)(function*(b){var p;const y=b.auth,A=yield b.getIdToken(),X=yield yn(b,pt(y,{idToken:A}));ht(null==X?void 0:X.users.length,y,"internal-error");const fe=X.users[0];b._notifyReloadListener(fe);const Qe=null!==(p=fe.providerUserInfo)&&void 0!==p&&p.length?Ve(fe.providerUserInfo):[],wt=Ae(b.providerData,Qe),kn=!!b.isAnonymous&&!(b.email&&fe.passwordHash||null!=wt&&wt.length),Ui={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:wt,metadata:new Fn(fe.createdAt,fe.lastLoginAt),isAnonymous:kn};Object.assign(b,Ui)})).apply(this,arguments)}function Ne(){return(Ne=(0,Z.Z)(function*(b){const p=(0,ce.m9)(b);yield Lr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ae(b,p){return[...b.filter(A=>!p.some(X=>X.providerId===A.providerId)),...p]}function Ve(b){return b.map(p=>{var{providerId:y}=p,A=(0,S._T)(p,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Ke(){return(Ke=(0,Z.Z)(function*(b,p){const y=yield zt(b,{},(0,Z.Z)(function*(){const A=(0,ce.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:X,apiKey:fe}=b.config,Qe=Zi(b,X,"/v1/token",`key=${fe}`),wt=yield b._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",ni.fetch()(Qe,{method:"POST",headers:wt,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ht(p.idToken,"internal-error"),ht(void 0!==p.idToken,"internal-error"),ht(void 0!==p.refreshToken,"internal-error");const y="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function gn(b){const p=Kr(b);return ht(p,"internal-error"),ht(void 0!==p.exp,"internal-error"),ht(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var A=this;return(0,Z.Z)(function*(){return ht(!A.accessToken||A.refreshToken,p,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var A=this;return(0,Z.Z)(function*(){const{accessToken:X,refreshToken:fe,expiresIn:Qe}=yield function Et(b,p){return Ke.apply(this,arguments)}(p,y);A.updateTokensAndExpiration(X,fe,Number(Qe))})()}updateTokensAndExpiration(p,y,A){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,y){const{refreshToken:A,accessToken:X,expirationTime:fe}=y,Qe=new jt;return A&&(ht("string"==typeof A,"internal-error",{appName:p}),Qe.refreshToken=A),X&&(ht("string"==typeof X,"internal-error",{appName:p}),Qe.accessToken=X),fe&&(ht("number"==typeof fe,"internal-error",{appName:p}),Qe.expirationTime=fe),Qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return Un("not implemented")}}function en(b,p){ht("string"==typeof b||void 0===b,"internal-error",{appName:p})}class Nn{constructor(p){var{uid:y,auth:A,stsTokenManager:X}=p,fe=(0,S._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new Fn(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,Z.Z)(function*(){const A=yield yn(y,y.stsTokenManager.getToken(y.auth,p));return ht(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(p){return function Ut(b){return Vn.apply(this,arguments)}(this,p)}reload(){return function Gr(b){return Ne.apply(this,arguments)}(this)}_assign(p){this!==p&&(ht(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Nn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var A=this;return(0,Z.Z)(function*(){let X=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),X=!0),y&&(yield Lr(A)),yield A.auth._persistUserIfCurrent(A),X&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,Z.Z)(function*(){const y=yield p.getIdToken();return yield yn(p,function $e(b,p){return Oe.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var A,X,fe,Qe,wt,dn,Rn,kn;const Ui=null!==(A=y.displayName)&&void 0!==A?A:void 0,Aa=null!==(X=y.email)&&void 0!==X?X:void 0,$a=null!==(fe=y.phoneNumber)&&void 0!==fe?fe:void 0,ha=null!==(Qe=y.photoURL)&&void 0!==Qe?Qe:void 0,su=null!==(wt=y.tenantId)&&void 0!==wt?wt:void 0,Rl=null!==(dn=y._redirectEventId)&&void 0!==dn?dn:void 0,ou=null!==(Rn=y.createdAt)&&void 0!==Rn?Rn:void 0,Ju=null!==(kn=y.lastLoginAt)&&void 0!==kn?kn:void 0,{uid:Xu,emailVerified:Qc,isAnonymous:Ec,providerData:au,stsTokenManager:ku}=y;ht(Xu&&ku,p,"internal-error");const Dc=jt.fromJSON(this.name,ku);ht("string"==typeof Xu,p,"internal-error"),en(Ui,p.name),en(Aa,p.name),ht("boolean"==typeof Qc,p,"internal-error"),ht("boolean"==typeof Ec,p,"internal-error"),en($a,p.name),en(ha,p.name),en(su,p.name),en(Rl,p.name),en(ou,p.name),en(Ju,p.name);const Uu=new Nn({uid:Xu,auth:p,email:Aa,emailVerified:Qc,displayName:Ui,isAnonymous:Ec,photoURL:ha,phoneNumber:$a,tenantId:su,stsTokenManager:Dc,createdAt:ou,lastLoginAt:Ju});return au&&Array.isArray(au)&&(Uu.providerData=au.map(Cc=>Object.assign({},Cc))),Rl&&(Uu._redirectEventId=Rl),Uu}static _fromIdTokenResponse(p,y,A=!1){return(0,Z.Z)(function*(){const X=new jt;X.updateFromServerResponse(y);const fe=new Nn({uid:y.localId,auth:p,stsTokenManager:X,isAnonymous:A});return yield Lr(fe),fe})()}}const Fr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Z.Z)(function*(){return!0})()}_set(y,A){var X=this;return(0,Z.Z)(function*(){X.storage[y]=A})()}_get(y){var A=this;return(0,Z.Z)(function*(){const X=A.storage[y];return void 0===X?null:X})()}_remove(y){var A=this;return(0,Z.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return b.type="NONE",b})();function He(b,p,y){return`firebase:${b}:${p}:${y}`}class Se{constructor(p,y,A){this.persistence=p,this.auth=y,this.userKey=A;const{config:X,name:fe}=this.auth;this.fullUserKey=He(this.userKey,X.apiKey,fe),this.fullPersistenceKey=He("persistence",X.apiKey,fe),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,Z.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?Nn._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,Z.Z)(function*(){if(y.persistence===p)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,A="authUser"){return(0,Z.Z)(function*(){if(!y.length)return new Se(fr(Fr),p,A);const X=(yield Promise.all(y.map(function(){var Rn=(0,Z.Z)(function*(kn){if(yield kn._isAvailable())return kn});return function(kn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let fe=X[0]||fr(Fr);const Qe=He(A,p.config.apiKey,p.name);let wt=null;for(const Rn of y)try{const kn=yield Rn._get(Qe);if(kn){const Ui=Nn._fromJSON(p,kn);Rn!==fe&&(wt=Ui),fe=Rn;break}}catch(kn){}const dn=X.filter(Rn=>Rn._shouldAllowMigration);return fe._shouldAllowMigration&&dn.length?(fe=dn[0],wt&&(yield fe._set(Qe,wt.toJSON())),yield Promise.all(y.map(function(){var Rn=(0,Z.Z)(function*(kn){if(kn!==fe)try{yield kn._remove(Qe)}catch(Ui){}});return function(kn){return Rn.apply(this,arguments)}}())),new Se(fe,p,A)):new Se(fe,p,A)})()}}function me(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(cn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ke(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(xe(p))return"Blackberry";if(yt(p))return"Webos";if(lt(p))return"Safari";if((p.includes("chrome/")||on(p))&&!p.includes("edge/"))return"Chrome";if(Pe(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ke(b=(0,ce.z$)()){return/firefox\//i.test(b)}function lt(b=(0,ce.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function on(b=(0,ce.z$)()){return/crios\//i.test(b)}function cn(b=(0,ce.z$)()){return/iemobile/i.test(b)}function Pe(b=(0,ce.z$)()){return/android/i.test(b)}function xe(b=(0,ce.z$)()){return/blackberry/i.test(b)}function yt(b=(0,ce.z$)()){return/webos/i.test(b)}function Gt(b=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function sr(b=(0,ce.z$)()){return Gt(b)||Pe(b)||yt(b)||xe(b)||/windows phone/i.test(b)||cn(b)}function Mr(b,p=[]){let y;switch(b){case"Browser":y=me((0,ce.z$)());break;case"Worker":y=`${me((0,ce.z$)())}-${b}`;break;default:y=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${Le.Jn}/${A}`}class Hn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const A=fe=>new Promise((Qe,wt)=>{try{Qe(p(fe))}catch(dn){wt(dn)}});A.onAbort=y,this.queue.push(A);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,Z.Z)(function*(){if(y.auth.currentUser===p)return;const A=[];try{for(const X of y.queue)yield X(p),X.onAbort&&A.push(X.onAbort)}catch(X){A.reverse();for(const fe of A)try{fe()}catch(Qe){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null==X?void 0:X.message})}})()}}class ds{constructor(p,y,A){this.app=p,this.heartbeatServiceProvider=y,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new Hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,y){var A=this;return y&&(this._popupRedirectResolver=fr(y)),this._initializationPromise=this.queue((0,Z.Z)(function*(){var X,fe;if(!A._deleted&&(A.persistenceManager=yield Se.create(A,p),!A._deleted)){if(null!==(X=A._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Qe){}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(fe=A.currentUser)||void 0===fe?void 0:fe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,Z.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,Z.Z)(function*(){var A;const X=yield y.assertedPersistence.getCurrentUser();let fe=X,Qe=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const wt=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,dn=null==fe?void 0:fe._redirectEventId,Rn=yield y.tryRedirectSignIn(p);(!wt||wt===dn)&&(null==Rn?void 0:Rn.user)&&(fe=Rn.user,Qe=!0)}if(!fe)return y.directlySetCurrentUser(null);if(!fe._redirectEventId){if(Qe)try{yield y.beforeStateQueue.runMiddleware(fe)}catch(wt){fe=X,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(wt))}return fe?y.reloadAndSetCurrentUserOrClear(fe):y.directlySetCurrentUser(null)}return ht(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===fe._redirectEventId?y.directlySetCurrentUser(fe):y.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(p){var y=this;return(0,Z.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch(X){yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,Z.Z)(function*(){try{yield Lr(p)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function mi(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,Z.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,Z.Z)(function*(){const A=p?(0,ce.m9)(p):null;return A&&ht(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(p,y=!1){var A=this;return(0,Z.Z)(function*(){if(!A._deleted)return p&&ht(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,Z.Z)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,Z.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,Z.Z)(function*(){yield y.assertedPersistence.setPersistence(fr(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new ce.LL("auth","Firebase",p())}onAuthStateChanged(p,y,A){return this.registerStateListener(this.authStateSubscription,p,y,A)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,A){return this.registerStateListener(this.idTokenSubscription,p,y,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var A=this;return(0,Z.Z)(function*(){const X=yield A.getOrInitRedirectPersistenceManager(y);return null===p?X.removeCurrentUser():X.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,Z.Z)(function*(){if(!y.redirectPersistenceManager){const A=p&&fr(p)||y._popupRedirectResolver;ht(A,y,"argument-error"),y.redirectPersistenceManager=yield Se.create(y,[fr(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,Z.Z)(function*(){var A,X;return y._isInitialized&&(yield y.queue((0,Z.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===p?y._currentUser:(null===(X=y.redirectUser)||void 0===X?void 0:X._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,Z.Z)(function*(){if(p===y.currentUser)return y.queue((0,Z.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,A,X){if(this._deleted)return()=>{};const fe="function"==typeof y?y:y.next.bind(y),Qe=this._isInitialized?Promise.resolve():this._initializationPromise;return ht(Qe,this,"internal-error"),Qe.then(()=>fe(this.currentUser)),"function"==typeof y?p.addObserver(y,A,X):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,Z.Z)(function*(){y.currentUser&&y.currentUser!==p&&y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh(),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,Z.Z)(function*(){var y;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const X=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return X&&(A["X-Firebase-Client"]=X),A})()}}function Or(b){return(0,ce.m9)(b)}class Ji{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,ce.ne)(y=>this.observer=y)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function xn(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Mn{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return Un("not implemented")}_getIdTokenResponse(p){return Un("not implemented")}_linkToIdToken(p,y){return Un("not implemented")}_getReauthenticationResolver(p){return Un("not implemented")}}function to(){return(to=(0,Z.Z)(function*(b,p){return yr(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ln(){return(Ln=(0,Z.Z)(function*(b,p){return Ei(b,"POST","/v1/accounts:signInWithPassword",lr(b,p))})).apply(this,arguments)}function xi(){return(xi=(0,Z.Z)(function*(b,p){return Ei(b,"POST","/v1/accounts:signInWithEmailLink",lr(b,p))})).apply(this,arguments)}function qr(){return(qr=(0,Z.Z)(function*(b,p){return Ei(b,"POST","/v1/accounts:signInWithEmailLink",lr(b,p))})).apply(this,arguments)}class ys extends Mn{constructor(p,y,A,X=null){super("password",A),this._email=p,this._password=y,this._tenantId=X}static _fromEmailAndPassword(p,y){return new ys(p,y,"password")}static _fromEmailAndCode(p,y,A=null){return new ys(p,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,Z.Z)(function*(){switch(y.signInMethod){case"password":return function Sr(b,p){return Ln.apply(this,arguments)}(p,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Cr(b,p){return xi.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:Ze(p,"internal-error")}})()}_linkToIdToken(p,y){var A=this;return(0,Z.Z)(function*(){switch(A.signInMethod){case"password":return function So(b,p){return to.apply(this,arguments)}(p,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function br(b,p){return qr.apply(this,arguments)}(p,{idToken:y,email:A._email,oobCode:A._password});default:Ze(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xi(b,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,Z.Z)(function*(b,p){return Ei(b,"POST","/v1/accounts:signInWithIdp",lr(b,p))})).apply(this,arguments)}class so{constructor(p){var y,A,X,fe,Qe,wt;const dn=(0,ce.zd)((0,ce.pd)(p)),Rn=null!==(y=dn.apiKey)&&void 0!==y?y:null,kn=null!==(A=dn.oobCode)&&void 0!==A?A:null,Ui=function io(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=dn.mode)&&void 0!==X?X:null);ht(Rn&&kn&&Ui,"argument-error"),this.apiKey=Rn,this.operation=Ui,this.code=kn,this.continueUrl=null!==(fe=dn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(Qe=dn.languageCode)&&void 0!==Qe?Qe:null,this.tenantId=null!==(wt=dn.tenantId)&&void 0!==wt?wt:null}static parseLink(p){const y=function Bo(b){const p=(0,ce.zd)((0,ce.pd)(b)).link,y=p?(0,ce.zd)((0,ce.pd)(p)).deep_link_id:null,A=(0,ce.zd)((0,ce.pd)(b)).deep_link_id;return(A?(0,ce.zd)((0,ce.pd)(A)).link:null)||A||y||p||b}(p);try{return new so(y)}catch(A){return null}}}let Ho=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,A){return ys._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const X=so.parseLink(A);return ht(X,"argument-error"),ys._fromEmailAndCode(y,X.code,X.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Si{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ya extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}function Bs(b,p){return oi.apply(this,arguments)}function oi(){return(oi=(0,Z.Z)(function*(b,p){return Ei(b,"POST","/v1/accounts:signUp",lr(b,p))})).apply(this,arguments)}class Di{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,A,X=!1){return(0,Z.Z)(function*(){const fe=yield Nn._fromIdTokenResponse(p,A,X),Qe=Dn(A);return new Di({user:fe,providerId:Qe,_tokenResponse:A,operationType:y})})()}static _forOperation(p,y,A){return(0,Z.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const X=Dn(A);return new Di({user:p,providerId:X,_tokenResponse:A,operationType:y})})()}}function Dn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Ra extends ce.ZR{constructor(p,y,A,X){var fe;super(y.code,y.message),this.operationType=A,this.user=X,Object.setPrototypeOf(this,Ra.prototype),this.customData={appName:p.name,tenantId:null!==(fe=p.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,y,A,X){return new Ra(p,y,A,X)}}function Rr(b,p,y,A){return("reauthenticate"===p?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Ra._fromErrorAndOperation(b,fe,p,A):fe})}function qs(b,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,Z.Z)(function*(b,p,y=!1){const A=yield yn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),y);return Di._forOperation(b,"link",A)})).apply(this,arguments)}function xs(){return(xs=(0,Z.Z)(function*(b,p,y=!1){const{auth:A}=b,X="reauthenticate";try{const fe=yield yn(b,Rr(A,X,p,b),y);ht(fe.idToken,A,"internal-error");const Qe=Kr(fe.idToken);ht(Qe,A,"internal-error");const{sub:wt}=Qe;return ht(b.uid===wt,A,"user-mismatch"),Di._forOperation(b,X,fe)}catch(fe){throw"auth/user-not-found"===(null==fe?void 0:fe.code)&&Ze(A,"user-mismatch"),fe}})).apply(this,arguments)}function Ds(b,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,Z.Z)(function*(b,p,y=!1){const A="signIn",X=yield Rr(b,A,p),fe=yield Di._fromIdTokenResponse(b,A,X);return y||(yield b._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function pa(){return(pa=(0,Z.Z)(function*(b,p){return Ds(Or(b),p)})).apply(this,arguments)}function yo(){return(yo=(0,Z.Z)(function*(b,p,y){const A=Or(b),X=yield Bs(A,{returnSecureToken:!0,email:p,password:y}),fe=yield Di._fromIdTokenResponse(A,"signIn",X);return yield A._updateCurrentUser(fe.user),fe})).apply(this,arguments)}const aa="__sak";class xo{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(aa,"1"),this.storage.removeItem(aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Os=(()=>{class b extends xo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ll(){const b=(0,ce.z$)();return lt(b)||Gt(b)}()&&function si(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=sr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const X=this.storage.getItem(A),fe=this.localCache[A];X!==fe&&y(A,fe,X)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((wt,dn,Rn)=>{this.notifyListeners(wt,Rn)});const X=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const wt=this.storage.getItem(X);if(y.newValue!==wt)null!==y.newValue?this.storage.setItem(X,y.newValue):this.storage.removeItem(X);else if(this.localCache[X]===y.newValue&&!A)return}const fe=()=>{const wt=this.storage.getItem(X);!A&&this.localCache[X]===wt||this.notifyListeners(X,wt)},Qe=this.storage.getItem(X);!function Jn(){return(0,ce.w1)()&&10===document.documentMode}()||Qe===y.newValue||y.newValue===y.oldValue?fe():setTimeout(fe,10)}notifyListeners(y,A){this.localCache[y]=A;const X=this.listeners[y];if(X)for(const fe of Array.from(X))fe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var X=()=>super._set,fe=this;return(0,Z.Z)(function*(){yield X().call(fe,y,A),fe.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,X=this;return(0,Z.Z)(function*(){const fe=yield A().call(X,y);return X.localCache[y]=JSON.stringify(fe),fe})()}_remove(y){var A=()=>super._remove,X=this;return(0,Z.Z)(function*(){yield A().call(X,y),delete X.localCache[y]})()}}return b.type="LOCAL",b})(),ci=(()=>{class b extends xo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return b.type="SESSION",b})();let la=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(fe=>fe.isListeningto(y));if(A)return A;const X=new b(y);return this.receivers.push(X),X}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,Z.Z)(function*(){const X=y,{eventId:fe,eventType:Qe,data:wt}=X.data,dn=A.handlersMap[Qe];if(null==dn||!dn.size)return;X.ports[0].postMessage({status:"ack",eventId:fe,eventType:Qe});const Rn=Array.from(dn).map(function(){var Ui=(0,Z.Z)(function*(Aa){return Aa(X.origin,wt)});return function(Aa){return Ui.apply(this,arguments)}}()),kn=yield function bn(b){return Promise.all(b.map(function(){var p=(0,Z.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return p.apply(this,arguments)}}()))}(Rn);X.ports[0].postMessage({status:"done",eventId:fe,eventType:Qe,response:kn})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Er(b="",p=10){let y="";for(let A=0;A<p;A++)y+=Math.floor(10*Math.random());return b+y}class us{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,A=50){var X=this;return(0,Z.Z)(function*(){const fe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let Qe,wt;return new Promise((dn,Rn)=>{const kn=Er("",20);fe.port1.start();const Ui=setTimeout(()=>{Rn(new Error("unsupported_event"))},A);wt={messageChannel:fe,onMessage(Aa){const $a=Aa;if($a.data.eventId===kn)switch($a.data.status){case"ack":clearTimeout(Ui),Qe=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Qe),dn($a.data.response);break;default:clearTimeout(Ui),clearTimeout(Qe),Rn(new Error("invalid_response"))}}},X.handlers.add(wt),fe.port1.addEventListener("message",wt.onMessage),X.target.postMessage({eventType:p,eventId:kn,data:y},[fe.port2])}).finally(()=>{wt&&X.removeMessageHandler(wt)})})()}}function pr(){return window}function Qo(){return void 0!==pr().WorkerGlobalScope&&"function"==typeof pr().importScripts}function Do(){return(Do=(0,Z.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const qo="firebaseLocalStorageDb",ll="firebaseLocalStorage",ul="fbase_key";class Ki{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ya(b,p){return b.transaction([ll],p?"readwrite":"readonly").objectStore(ll)}function Ua(){const b=indexedDB.open(qo,1);return new Promise((p,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(ll,{keyPath:ul})}catch(X){y(X)}}),b.addEventListener("success",(0,Z.Z)(function*(){const A=b.result;A.objectStoreNames.contains(ll)?p(A):(A.close(),yield function Yl(){const b=indexedDB.deleteDatabase(qo);return new Ki(b).toPromise()}(),p(yield Ua()))}))})}function ao(b,p,y){return va.apply(this,arguments)}function va(){return(va=(0,Z.Z)(function*(b,p,y){const A=ya(b,!0).put({[ul]:p,value:y});return new Ki(A).toPromise()})).apply(this,arguments)}function Co(){return(Co=(0,Z.Z)(function*(b,p){const y=ya(b,!1).get(p),A=yield new Ki(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Is(b,p){const y=ya(b,!0).delete(p);return new Ki(y).toPromise()}const Ja=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,Z.Z)(function*(){return y.db||(y.db=yield Ua()),y.db})()}_withRetries(y){var A=this;return(0,Z.Z)(function*(){let X=0;for(;;)try{const fe=yield A._openDb();return yield y(fe)}catch(fe){if(X++>3)throw fe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,Z.Z)(function*(){return Qo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,Z.Z)(function*(){y.receiver=la._getInstance(function ka(){return Qo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,Z.Z)(function*(X,fe){return{keyProcessed:(yield y._poll()).includes(fe.key)}});return function(X,fe){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,Z.Z)(function*(X,fe){return["keyChanged"]});return function(X,fe){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,Z.Z)(function*(){var A,X;if(y.activeServiceWorker=yield function _a(){return Do.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new us(y.activeServiceWorker);const fe=yield y.sender._send("ping",{},800);!fe||(null===(A=fe[0])||void 0===A?void 0:A.fulfilled)&&(null===(X=fe[0])||void 0===X?void 0:X.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,Z.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function gu(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch(X){}})()}_isAvailable(){return(0,Z.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Ua();return yield ao(y,aa,"1"),yield Is(y,aa),!0}catch(y){}return!1})()}_withPendingWrite(y){var A=this;return(0,Z.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var X=this;return(0,Z.Z)(function*(){return X._withPendingWrite((0,Z.Z)(function*(){return yield X._withRetries(fe=>ao(fe,y,A)),X.localCache[y]=A,X.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,Z.Z)(function*(){const X=yield A._withRetries(fe=>function ct(b,p){return Co.apply(this,arguments)}(fe,y));return A.localCache[y]=X,X})()}_remove(y){var A=this;return(0,Z.Z)(function*(){return A._withPendingWrite((0,Z.Z)(function*(){return yield A._withRetries(X=>Is(X,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,Z.Z)(function*(){const A=yield y._withRetries(Qe=>{const wt=ya(Qe,!1).getAll();return new Ki(wt).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const X=[],fe=new Set;for(const{fbase_key:Qe,value:wt}of A)fe.add(Qe),JSON.stringify(y.localCache[Qe])!==JSON.stringify(wt)&&(y.notifyListeners(Qe,wt),X.push(Qe));for(const Qe of Object.keys(y.localCache))y.localCache[Qe]&&!fe.has(Qe)&&(y.notifyListeners(Qe,null),X.push(Qe));return X})()}notifyListeners(y,A){this.localCache[y]=A;const X=this.listeners[y];if(X)for(const fe of Array.from(X))fe(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,Z.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Pu(b){return`__${b}${Math.floor(1e6*Math.random())}`}function Ps(b,p){return p?fr(p):(ht(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}Pu("rcb"),new ti(3e4,6e4);class Ca extends Mn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xi(p,this._buildIdpRequest())}_linkToIdToken(p,y){return Xi(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return Xi(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function Hs(b){return Ds(b.auth,new Ca(b),b.bypassAuthState)}function nl(b){const{auth:p,user:y}=b;return ht(y,p,"internal-error"),function sa(b,p){return xs.apply(this,arguments)}(y,new Ca(b),b.bypassAuthState)}function Ru(b){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,Z.Z)(function*(b){const{auth:p,user:y}=b;return ht(y,p,"internal-error"),qs(y,new Ca(b),b.bypassAuthState)})).apply(this,arguments)}new ti(2e3,1e4);const ko=new Map;class ql extends class cl{constructor(p,y,A,X,fe=!1){this.auth=p,this.resolver=A,this.user=X,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,Z.Z)(function*(A,X){p.pendingPromise={resolve:A,reject:X};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(fe){p.reject(fe)}});return function(A,X){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,Z.Z)(function*(){const{urlResponse:A,sessionId:X,postBody:fe,tenantId:Qe,error:wt,type:dn}=p;if(wt)return void y.reject(wt);const Rn={auth:y.auth,requestUri:A,sessionId:X,tenantId:Qe||void 0,postBody:fe||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(dn)(Rn))}catch(kn){y.reject(kn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Hs;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Ze(this.auth,"internal-error")}}resolve(p){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(p,y,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,Z.Z)(function*(){let A=ko.get(y.auth._key());if(!A){try{const fe=(yield function rs(b,p){return dl.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;A=()=>Promise.resolve(fe)}catch(X){A=()=>Promise.reject(X)}ko.set(y.auth._key(),A)}return y.bypassAuthState||ko.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,A=this;return(0,Z.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(A,p);if("unknown"!==p.type){if(p.eventId){const X=yield A.auth._redirectUserForId(p.eventId);if(X)return A.user=X,y().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,Z.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,Z.Z)(function*(b,p){const y=Zl(p),A=Qu(b);if(!(yield A._isAvailable()))return!1;const X="true"===(yield A._get(y));return yield A._remove(y),X})).apply(this,arguments)}function Yu(b,p){ko.set(b._key(),p)}function Qu(b){return fr(b._redirectPersistence)}function Zl(b){return He("pendingRedirect",b.config.apiKey,b.name)}function uo(b,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,Z.Z)(function*(b,p,y=!1){const A=Or(b),X=Ps(A,p),Qe=yield new ql(A,X,y).execute();return Qe&&!y&&(delete Qe.user._redirectEventId,yield A._persistUserIfCurrent(Qe.user),yield A._setRedirectUser(null,p)),Qe})).apply(this,arguments)}class ki{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(y=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Sl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tl(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var A;if(p.error&&!Tl(p)){const X=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(at(this.auth,X))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const A=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vu(p))}saveEventToCache(p){this.cachedEventUids.add(vu(p)),this.lastProcessedEventTime=Date.now()}}function vu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Tl({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Uo(b){return ja.apply(this,arguments)}function ja(){return(ja=(0,Z.Z)(function*(b,p={}){return yr(b,"GET","/v1/projects",p)})).apply(this,arguments)}const eu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vl=/^https?/;function ms(){return(ms=(0,Z.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Uo(b);for(const y of p)try{if(Eu(y))return}catch(A){}Ze(b,"unauthorized-domain")})).apply(this,arguments)}function Eu(b){const p=nr(),{protocol:y,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const Qe=new URL(b);return""===Qe.hostname&&""===A?"chrome-extension:"===y&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&Qe.hostname===A}if(!Vl.test(y))return!1;if(eu.test(b))return A===b;const X=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(A)}const tu=new ti(3e4,6e4);function bl(){const b=pr().___jsl;if(null!=b&&b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let fl=null;function jl(b){return fl=fl||function nu(b){return new Promise((p,y)=>{var A,X,fe;function Qe(){bl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{bl(),y(at(b,"network-request-failed"))},timeout:tu.get()})}if(null!==(X=null===(A=pr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==X&&X.Iframe)p(gapi.iframes.getContext());else{if(null===(fe=pr().gapi)||void 0===fe||!fe.load){const wt=Pu("iframefcb");return pr()[wt]=()=>{gapi.load?Qe():y(at(b,"network-request-failed"))},function Js(b){return new Promise((p,y)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=X=>{const fe=at("internal-error");fe.customData=X,y(fe)},A.type="text/javascript",A.charset="UTF-8",function zu(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)})}(`https://apis.google.com/js/api.js?onload=${wt}`).catch(dn=>y(dn))}Qe()}}).catch(p=>{throw fl=null,p})}(b),fl}const Ha=new ti(5e3,15e3),pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Al(b){const p=b.config;ht(p.authDomain,b,"auth-domain-config-required");const y=p.emulator?$r(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:b.name,v:Le.Jn},X=Cu.get(b.config.apiHost);X&&(A.eid=X);const fe=b._getFrameworks();return fe.length&&(A.fw=fe.join(",")),`${y}?${(0,ce.xO)(A).slice(1)}`}function ml(){return ml=(0,Z.Z)(function*(b){const p=yield jl(b),y=pr().gapi;return ht(y,b,"internal-error"),p.open({where:document.body,url:Al(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pl,dontclear:!0},A=>new Promise(function(){var X=(0,Z.Z)(function*(fe,Qe){yield A.restyle({setHideOnLeave:!1});const wt=at(b,"network-request-failed"),dn=pr().setTimeout(()=>{Qe(wt)},Ha.get());function Rn(){pr().clearTimeout(dn),fe(A)}A.ping(Rn).then(Rn,()=>{Qe(wt)})});return function(fe,Qe){return X.apply(this,arguments)}}()))}),ml.apply(this,arguments)}const ru={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ol(b,p,y,A,X,fe){ht(b.config.authDomain,b,"auth-domain-config-required"),ht(b.config.apiKey,b,"invalid-api-key");const Qe={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:A,v:Le.Jn,eventId:X};if(p instanceof Si){p.setDefaultLanguage(b.languageCode),Qe.providerId=p.providerId||"",(0,ce.xb)(p.getCustomParameters())||(Qe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dn,Rn]of Object.entries(fe||{}))Qe[dn]=Rn}if(p instanceof Ya){const dn=p.getScopes().filter(Rn=>""!==Rn);dn.length>0&&(Qe.scopes=dn.join(","))}b.tenantId&&(Qe.tid=b.tenantId);const wt=Qe;for(const dn of Object.keys(wt))void 0===wt[dn]&&delete wt[dn];return`${function da({config:b}){return b.emulator?$r(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,ce.xO)(wt).slice(1)}`}const ba="webStorageSupport",Iu=class Pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ci,this._completeRedirectFn=uo,this._overrideRedirectResult=Yu}_openPopup(p,y,A,X){var fe=this;return(0,Z.Z)(function*(){var Qe;Kt(null===(Qe=fe.eventManagers[p._key()])||void 0===Qe?void 0:Qe.manager,"_initialize() not called before _openPopup()");const wt=Ol(p,y,A,nr(),X);return function wu(b,p,y,A=500,X=600){const fe=Math.max((window.screen.availHeight-X)/2,0).toString(),Qe=Math.max((window.screen.availWidth-A)/2,0).toString();let wt="";const dn=Object.assign(Object.assign({},ru),{width:A.toString(),height:X.toString(),top:fe,left:Qe}),Rn=(0,ce.z$)().toLowerCase();y&&(wt=on(Rn)?"_blank":y),ke(Rn)&&(p=p||"http://localhost",dn.scrollbars="yes");const kn=Object.entries(dn).reduce((Aa,[$a,ha])=>`${Aa}${$a}=${ha},`,"");if(function mn(b=(0,ce.z$)()){var p;return Gt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Rn)&&"_self"!==wt)return function vc(b,p){const y=document.createElement("a");y.href=b,y.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(p||"",wt),new Fu(null);const Ui=window.open(p||"",wt,kn);ht(Ui,b,"popup-blocked");try{Ui.focus()}catch(Aa){}return new Fu(Ui)}(p,wt,Er())})()}_openRedirect(p,y,A,X){var fe=this;return(0,Z.Z)(function*(){return yield fe._originValidation(p),function Jt(b){pr().location.href=b}(Ol(p,y,A,nr(),X)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:X,promise:fe}=this.eventManagers[y];return X?Promise.resolve(X):(Kt(fe,"If manager is not set, promise should be"),fe)}const A=this.initAndGetManager(p);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(p){var y=this;return(0,Z.Z)(function*(){const A=yield function gl(b){return ml.apply(this,arguments)}(p),X=new ki(p);return A.register("authEvent",fe=>(ht(null==fe?void 0:fe.authEvent,p,"invalid-auth-event"),{status:X.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:X},y.iframes[p._key()]=A,X})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(ba,{type:ba},X=>{var fe;const Qe=null===(fe=null==X?void 0:X[0])||void 0===fe?void 0:fe[ba];void 0!==Qe&&y(!!Qe),Ze(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Bl(b){return ms.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return sr()||lt()||Gt()}};var E="@firebase/auth",_="0.21.3";class x{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,Z.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(A=>{p((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);!y||(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const be=(0,ce.Pz)("authIdTokenMaxAge")||300;let Xe=null;const mt=b=>function(){var p=(0,Z.Z)(function*(y){const A=y&&(yield y.getIdTokenResult()),X=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(X&&X>be)return;const fe=null==A?void 0:A.token;Xe!==fe&&(Xe=fe,yield fetch(b,{method:fe?"POST":"DELETE",headers:fe?{Authorization:`Bearer ${fe}`}:{}}))});return function(y){return p.apply(this,arguments)}}();function $t(b=(0,Le.Mq)()){const p=(0,Le.qX)(b,"auth");if(p.isInitialized())return p.getImmediate();const y=function Br(b,p){const y=(0,Le.qX)(b,"auth");if(y.isInitialized()){const X=y.getImmediate(),fe=y.getOptions();if((0,ce.vZ)(fe,null!=p?p:{}))return X;Ze(X,"already-initialized")}return y.initialize({options:p})}(b,{popupRedirectResolver:Iu,persistence:[Ja,Os,ci]}),A=(0,ce.Pz)("authTokenSyncURL");if(A){const fe=mt(A);(function ns(b,p,y){(0,ce.m9)(b).beforeAuthStateChanged(p,y)})(y,fe,()=>fe(y.currentUser)),function Lt(b,p,y,A){(0,ce.m9)(b).onIdTokenChanged(p,y,A)}(y,Qe=>fe(Qe))}const X=(0,ce.q4)("auth");return X&&function ji(b,p,y){const A=Or(b);ht(A._canInitEmulator,A,"emulator-config-failed"),ht(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const X=!(null==y||!y.disableWarnings),fe=or(p),{host:Qe,port:wt}=function Hi(b){const p=or(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(A);if(X){const fe=X[1];return{host:fe,port:xn(A.substr(fe.length+1))}}{const[fe,Qe]=A.split(":");return{host:fe,port:xn(Qe)}}}(p);A.config.emulator={url:`${fe}//${Qe}${null===wt?"":`:${wt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Qe,port:wt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function In(){function b(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(y,`http://${X}`),y}function an(b,p){if(1&b&&(f.TgZ(0,"section")(1,"h2")(2,"span"),f._uU(3,"Total"),f.qZA(),f._uU(4,"Users"),f.qZA(),f.TgZ(5,"h2")(6,"h1"),f._uU(7),f.qZA()()()),2&b){const y=p.ngIf;f.xp6(7),f.hij(" ",y.length," ")}}function An(b,p){1&b&&(f.TgZ(0,"b",10),f._uU(1,"Last Active At"),f.qZA())}!function se(b){(0,Le.Xd)(new Ie.wA("auth",(p,{options:y})=>{const A=p.getProvider("app").getImmediate(),X=p.getProvider("heartbeat"),{apiKey:fe,authDomain:Qe}=A.options;return((wt,dn)=>{ht(fe&&!fe.includes(":"),"invalid-api-key",{appName:wt.name}),ht(!(null!=Qe&&Qe.includes(":")),"argument-error",{appName:wt.name});const Rn={apiKey:fe,authDomain:Qe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mr(b)},kn=new ds(wt,dn,Rn);return function Ir(b,p){const y=(null==p?void 0:p.persistence)||[],A=(Array.isArray(y)?y:[y]).map(fr);null!=p&&p.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,null==p?void 0:p.popupRedirectResolver)}(kn,y),kn})(A,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,A)=>{p.getProvider("auth-internal").initialize()})),(0,Le.Xd)(new Ie.wA("auth-internal",p=>{const y=Or(p.getProvider("auth").getImmediate());return new x(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.KN)(E,_,function G(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Le.KN)(E,_,"esm2017")}("Browser");const wn=function(b,p,y){return{"text-success":b,"text-danger":p,"text-warning":y}};function fn(b,p){if(1&b&&(f.TgZ(0,"tr")(1,"td",6),f._uU(2),f.qZA(),f.TgZ(3,"td",7)(4,"b"),f._uU(5),f.qZA()(),f.TgZ(6,"td",8),f.YNc(7,An,2,0,"b",9),f._uU(8),f.ALo(9,"date"),f.qZA()()),2&b){const y=p.$implicit;f.xp6(2),f.Oqu(y.key),f.xp6(1),f.Q6J("ngClass",f.kEZ(7,wn,"online"===y.status,"offline"===y.status,"away"===y.status)),f.xp6(2),f.Oqu(y.status),f.xp6(2),f.Q6J("ngIf","offline"===y.status),f.xp6(1),f.Oqu(f.lcZ(9,5,y.timestamp))}}function Zn(b,p){if(1&b&&(f.TgZ(0,"table")(1,"caption"),f._uU(2,"Users Summary"),f.qZA(),f.TgZ(3,"thead",2)(4,"tr")(5,"th"),f._uU(6,"User Id"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"Status"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Date"),f.qZA()()(),f.TgZ(11,"tbody"),f.YNc(12,fn,10,11,"tr",3),f.qZA()()),2&b){const y=p.ngIf;f.xp6(12),f.Q6J("ngForOf",y)}}function Vr(b,p){1&b&&f.GkF(0)}const ei=function(b){return{$implicit:b}};function ai(b,p){if(1&b&&(f.ynx(0),f.TgZ(1,"tr")(2,"td",11)(3,"strong"),f._uU(4),f.ALo(5,"uppercase"),f.qZA()()(),f.YNc(6,Vr,1,0,"ng-container",12),f.BQk()),2&b){const y=p.$implicit;f.oxw();const A=f.MAs(35);f.xp6(4),f.Oqu(f.lcZ(5,3,y.key)),f.xp6(2),f.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",f.VKq(5,ei,y))}}function Ws(b,p){if(1&b&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td",13)(4,"b"),f._uU(5),f.qZA()()()),2&b){const y=f.oxw(2),A=y.parent,X=y.$implicit;f.xp6(2),f.lnq(" ",A," ",A?"/":""," ",X.key," "),f.xp6(3),f.Oqu(X.value.counter)}}function gr(b,p){1&b&&f.GkF(0)}const mr=function(b,p){return{$implicit:b,parent:p}};function Rs(b,p){if(1&b&&(f.ynx(0),f.YNc(1,Ws,6,4,"tr",1),f.YNc(2,gr,1,0,"ng-container",12),f.BQk()),2&b){const y=f.oxw(),A=y.$implicit,X=y.parent;f.oxw();const fe=f.MAs(37);f.xp6(1),f.Q6J("ngIf",A.value.counter),f.xp6(1),f.Q6J("ngTemplateOutlet",fe)("ngTemplateOutletContext",f.WLB(3,mr,A,X?X+" / "+A.key:A.key))}}function is(b,p){1&b&&f.YNc(0,Rs,3,6,"ng-container",1),2&b&&f.Q6J("ngIf","counter"!==p.$implicit.key)}function Ss(b,p){1&b&&f.GkF(0)}function iu(b,p){if(1&b&&(f.ynx(0),f.YNc(1,Ss,1,0,"ng-container",12),f.BQk()),2&b){const y=p.$implicit,A=f.oxw().parent;f.oxw();const X=f.MAs(35);f.xp6(1),f.Q6J("ngTemplateOutlet",X)("ngTemplateOutletContext",f.WLB(2,mr,y,A))}}function fi(b,p){1&b&&(f.YNc(0,iu,2,5,"ng-container",3),f.ALo(1,"keyvalue")),2&b&&f.Q6J("ngForOf",f.lcZ(1,1,p.$implicit.value))}class pi{constructor(){this.db=(0,te.N8)()}create(p,y={}){let A=(0,te.VF)((0,te.iH)(this.db,p));return(0,te.t8)(A,Object.assign({key:A.key},y)).then(),Promise.resolve({key:A.key})}set(p,y={}){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,te.iH)(this.db,p);yield(0,te.t8)(A,y)})}update(p,y={}){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,te.iH)(this.db,p);yield(0,te.Vx)(A,y)})}remove(p){return(0,S.mG)(this,void 0,void 0,function*(){const y=(0,te.iH)(this.db,p);yield(0,te.Od)(y)})}readRealTime(p){return new V.y(y=>{(0,te.jM)((0,te.iH)(this.db,p),A=>{let X=[];A.exists()?(A.forEach(fe=>{X.push(Object.assign({key:fe.key},fe.val()))}),y.next(X)):y.next([])})})}readOnceWithObserver(p){return(0,te.jM)((0,te.iH)(this.db,p),y=>y.val(),{onlyOnce:!0})}readOnce(p){return new Promise((y,A)=>{(0,te.U2)((0,te.iH)(this.db,p)).then(X=>{X.exists()?y(Object.assign({key:X.key},X.val())):y([])}).catch(X=>{A(X)})})}readReal(p){return new V.y(y=>{(0,te.jM)((0,te.iH)(this.db,p),A=>{A.exists()?y.next(A.val()):y.next(null)})})}updateCounter(p,y=!0){return new Promise((A,X)=>{const fe=(0,te.iH)(this.db);(0,te.U2)((0,te.iU)(fe,"counter")).then(Qe=>{(0,te.Vx)((0,te.iH)(this.db,p),{counter:(0,te.nP)(y?1:-1)}).then(wt=>{A(wt)})})})}others(){}checkPresence(p){const y=(0,te.iH)(this.db,`${p}/connections`),A=(0,te.iH)(this.db,`${p}/lastOnline`),X=(0,te.iH)(this.db,".info/connected");(0,te.jM)(X,fe=>{if(!0===fe.val()){const Qe=(0,te.VF)(y);(0,te.ae)(Qe).remove().then(),(0,te.t8)(Qe,!0).then(),(0,te.ae)(A).set((0,te.Bt)()).then()}})}onDisconnect(p){const y=(0,te.iH)(this.db,p);return(0,te.ae)(y)}detectingConnectionState(){return new V.y(p=>{const y=(0,te.iH)(this.db,".info/connected");(0,te.jM)(y,A=>{p.next(A.val())})})}}let Jo=(()=>{class b extends pi{constructor(){super()}get timestamp(){return(new Date).getTime()}getPresence(y){return this.readReal(`status/${y}`)}getUserOnlineCounts(){return this.readRealTime("status").pipe((0,le.U)(y=>y.reduce((A,X)=>"online"===X.status?++A:A,0)))}getTotalUserCounts(){return this.readRealTime("status").pipe((0,le.U)(y=>y))}setPresence(y,A){return this.set(`status/${y}`,{status:A,timestamp:this.timestamp})}updateOnAway(y){document.onvisibilitychange=A=>{"hidden"===document.visibilityState?this.setPresence(y,"away"):this.setPresence(y,"online")}}updateOnUser(y){this.detectingConnectionState().pipe((0,le.U)(X=>X?"online":"offline")).subscribe(X=>this.setPresence(y,X))}updateOnDisconnect(y){this.onDisconnect(`status/${y}`).update({status:"offline",timestamp:this.timestamp})}configure(y){this.updateOnAway(y),this.updateOnUser(y),this.updateOnDisconnect(y)}configureUserPresenceByLocal(){let y=localStorage.getItem("uid");this.checkingUser(y)}configureUserPresenceByLogin(y,A={}){this.checkingUser(y,A)}checkingUser(y,A={}){y?this.configure(y):this.create("status",Object.assign({uid:y},A)).then(X=>{localStorage.setItem("uid",X.key),this.configure(X.key)})}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const ks={provide:f.ip1,useFactory:function Hl(b){return()=>new Promise((p,y)=>(0,S.mG)(this,void 0,void 0,function*(){yield b.configureUserPresenceByLocal(),p("done")}))},deps:[Jo],multi:!0};let Su=(()=>{class b extends pi{constructor(y){super(),this.presenceService=y,this.flattenObject1=A=>{const X={};return Object.keys(A).forEach(fe=>{const Qe=A[fe];"object"!=typeof Qe||null===Qe||Array.isArray(Qe)?X[fe]=Qe:Object.assign(X,this.flattenObject1(Qe))}),X},this.flattenObject=A=>{let X={};for(const fe in A)if(A.hasOwnProperty(fe))if("object"!=typeof A[fe]||Array.isArray(A[fe]))X[fe]=A[fe];else{const Qe=this.flattenObject(A[fe]);for(const wt in Qe)X[fe+"_"+wt]=Qe[wt]}return X}}ngOnInit(){this.readReal("server-activities").subscribe(y=>{this.serverActivities=y}),this.readReal("router-activities").subscribe(y=>(0,S.mG)(this,void 0,void 0,function*(){this.routerActivities=y})),this.counts$=this.presenceService.getUserOnlineCounts(),this.totalUsers$=this.presenceService.getTotalUserCounts()}d(y){let A={};for(let X in y)if(y.hasOwnProperty(X)){const fe=typeof y[X];"string"===fe?A[X]=y[X]:"object"===fe&&this.d(y[X])}}}return b.\u0275fac=function(y){return new(y||b)(f.Y36(Jo))},b.\u0275cmp=f.Xpm({type:b,selectors:[["fb-activities"]],features:[f.qOj],decls:38,vars:13,consts:[[1,"grid-even-columns"],[4,"ngIf"],[1,"sticky-top"],[4,"ngFor","ngForOf"],["rows",""],["inner",""],["data-label","id"],["data-label","status",3,"ngClass"],["data-label","date"],["class","mr-2",4,"ngIf"],[1,"mr-2"],["colspan","2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"color","tomato"]],template:function(y,A){1&y&&(f.TgZ(0,"div",0)(1,"section")(2,"h2")(3,"span"),f._uU(4,"Online"),f.qZA(),f._uU(5,"Users"),f.qZA(),f.TgZ(6,"h2")(7,"h1"),f._uU(8),f.ALo(9,"async"),f.qZA()()(),f.YNc(10,an,8,1,"section",1),f.ALo(11,"async"),f.TgZ(12,"section")(13,"h2")(14,"span"),f._uU(15,"Server"),f.qZA(),f._uU(16,"Requests"),f.qZA(),f.TgZ(17,"h2")(18,"h1"),f._uU(19),f.qZA()()()(),f.YNc(20,Zn,13,1,"table",1),f.ALo(21,"async"),f.TgZ(22,"table")(23,"caption"),f._uU(24,"Modules Summary"),f.qZA(),f.TgZ(25,"thead",2)(26,"tr")(27,"th"),f._uU(28,"Modules"),f.qZA(),f.TgZ(29,"th"),f._uU(30,"Views"),f.qZA()()(),f.TgZ(31,"tbody"),f.YNc(32,ai,7,7,"ng-container",3),f.ALo(33,"keyvalue"),f.qZA()(),f.YNc(34,is,1,1,"ng-template",null,4,f.W1O),f.YNc(36,fi,2,3,"ng-template",null,5,f.W1O)),2&y&&(f.xp6(8),f.hij(" ",f.lcZ(9,5,A.counts$)," "),f.xp6(2),f.Q6J("ngIf",f.lcZ(11,7,A.totalUsers$)),f.xp6(9),f.Oqu(null==A.serverActivities?null:A.serverActivities.counter),f.xp6(1),f.Q6J("ngIf",f.lcZ(21,9,A.totalUsers$)),f.xp6(12),f.Q6J("ngForOf",f.lcZ(33,11,A.routerActivities)))},dependencies:[de.mk,de.sg,de.O5,de.tP,de.Ov,de.gd,de.uU,de.Nd],styles:['*,*:before,*:after{box-sizing:border-box;margin-top:0}:host{display:block;background:#f5f5f5;color:#18314f;font-family:Crimson Text,serif;font-size:1.5rem;padding:1rem}section{background:white;box-shadow:0 0 20px #00000040;width:80%;margin:50px auto;padding:50px}h2{font-weight:400;text-transform:uppercase;font-size:1rem;margin-bottom:3em;letter-spacing:8px;text-align:center;color:tomato}h2:after{content:"";display:block;border-bottom:1px solid rgba(24,49,79,.25);width:20%;margin:3em auto 0}h2 span{font-size:2em;font-weight:700;display:block;color:#18314f}[class*=grid-]{display:grid;gap:1rem}.grid-even-columns{grid-template-columns:repeat(auto-fit,minmax(min(300px,100%),1fr))}@media (min-width: 50em){.grid-auto-flows{grid-auto-flow:column;grid-auto-columns:1fr}}.grid-stack{display:grid;place-items:center}.grid-stack>*{grid-column:1/2;grid-row:1/2}.grid-stack>img{aspect-ratio:16/9;object-fit:cover;z-index:-1}.overflow-y{height:300px;overflow-y:auto;overflow-x:hidden}table{border:1px solid #ccc;border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed;box-shadow:1px 2px 1px 2px #e6e5e5;position:relative}table caption{font-size:1.5em;margin:.5em 0 .75em}table tr{background-color:#f8f8f8;border:1px solid #ddd;padding:.35em}table th,table td{padding:.625em;text-align:center}table th{font-size:.85em;letter-spacing:.1em;text-transform:uppercase}.text-success{color:#006400}.text-danger{color:#8b0000}.text-warning{color:#ff0}.sticky-top{position:sticky;top:0}@media screen and (max-width: 600px){table{border:0}table caption{font-size:1.3em}table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute!important;width:1px}table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table td{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table td:last-child{border-bottom:0}table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}}\n'],encapsulation:3}),b})(),En=(()=>{class b extends pi{constructor(y){super(),this.router=y}config(){this.router.events.subscribe(y=>{y instanceof oe.m2&&(/[#$\[\]'?]/g.test(y.url)||this.updateCounter(`router-activities${y.url}`).then())})}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(oe.F0))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const tr={provide:f.ip1,useFactory:b=>()=>b.config(),multi:!0,deps:[En]},Qi={provide:J.TP,useClass:(()=>{class b extends pi{constructor(){super()}intercept(y,A){return this.updateCounter("server-activities").then(),A.handle(y)}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})(),multi:!0},Xs=new f.OlP(null);function eo(b){return()=>{const p=(0,he.ZF)(b);(0,te.N8)(p),(0,Q.ad)(p),console.log(`no of Firebase app:: ${(0,he.C6)().length}`)}}let Io=(()=>{class b{constructor(y){this.config=y}static initializeApp(y){return{ngModule:b,providers:[{provide:Xs,useFactory:eo(y)}]}}static initialize(y){let A=[];return y.activityInHttp&&A.push(Qi),y.activityInRouter&&A.push(tr),y.activityOfAnonymousUser&&A.push(ks),{ngModule:b,providers:A}}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(Xs))},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({providers:[En,Jo],imports:[de.ez]}),b})();const Ii="https://rktect-rest-default-rtdb.firebaseio.com/users.json",bu="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let Zu=(()=>{class b{constructor(y){this.http=y}getUsers(){return this.http.get(Ii,{params:{auth:bu}})}createUser(y){return this.http.post(Ii,y,{params:{auth:bu}})}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(J.eN))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class Ks{constructor(){this.db=(0,Q.ad)(),this.auth=$t(),(0,Q.ST)(this.db).catch(p=>{"failed-precondition"==p.code?console.log("persistance failed"):"unimplemented"==p.code&&console.log("persistance not available")})}get colRef(){return(0,Q.hJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((p,y)=>{(0,Q.PL)(this.colRef).then(A=>{let X=this.setData2(A);p(X)}).catch(A=>{y(A.message)})})}getSingleDoc(p){const y=(0,Q.JU)(this.db,this.collectionPath,p);return new Promise((A,X)=>(0,Q.QT)(y).then(fe=>{let Qe=this.transformSingleDoc(fe);A(Qe)}).catch(fe=>{X(fe.message)}))}getSingleDocFromCache(p){return(0,S.mG)(this,void 0,void 0,function*(){const y=(0,Q.JU)(this.db,this.collectionPath,p);try{const A=yield(0,Q.kl)(y);console.log("Cached document data:",A.data())}catch(A){console.log("Error getting cached document:",A)}})}getCollectionRealTime(p){return this.unsubscribe=(0,Q.cf)(this.colRef,y=>{p(this.setData2(y))})}getDocRealTime(p,y){const A=(0,Q.JU)(this.db,this.collectionPath,p);return(0,Q.cf)(A,X=>{y(this.transformSingleDoc(X))})}g(){(0,Q.cf)(void 0,y=>{y.docChanges().forEach(A=>{"added"===A.type&&console.log("New city: ",A.doc.data()),"modified"===A.type&&console.log("Modified city: ",A.doc.data()),"removed"===A.type&&console.log("Removed city: ",A.doc.data())})})}addingDoc(p={}){return(0,Q.ET)(this.colRef,Object.assign({createdAt:(0,Q.Bt)(),updatedAt:(0,Q.Bt)()},p))}deletingDoc(p){const y=(0,Q.JU)(this.db,this.collectionPath,p);return(0,Q.oe)(y)}updatingDoc(p,y){const A=(0,Q.JU)(this.db,this.collectionPath,p);return(0,Q.r7)(A,Object.assign({updatedAt:(0,Q.Bt)()},y))}signUpWithEmailPass({email:p,password:y}){return function Ns(b,p,y){return yo.apply(this,arguments)}(this.auth,p,y).then(A=>Promise.resolve(A.user)).catch(A=>Promise.reject(A.message))}signInWithEmailPass({email:p,password:y}){return function La(b,p,y){return function ii(b,p){return pa.apply(this,arguments)}((0,ce.m9)(b),Ho.credential(p,y))}(this.auth,p,y).then(A=>Promise.resolve(A.user)).catch(A=>Promise.reject(A.message))}onSignOut(){return function Sn(b){return(0,ce.m9)(b).signOut()}(this.auth).then(p=>Promise.resolve(p)).catch(p=>Promise.reject(p.message))}subscribingAuthChangedRealTime(p){return function Eo(b,p,y,A){return(0,ce.m9)(b).onAuthStateChanged(p,y,A)}(this.auth,y=>{p(y)})}getPaginationData1(p={latestDoc:null,empty:!1,data:[]},y=5){return new Promise((A,X)=>{const fe=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.TQ)(p.latestDoc||0),(0,Q.b9)(y));(0,Q.PL)(fe).then(Qe=>{let wt=this.setData2(Qe);p.latestDoc=Qe.docs[Qe.docs.length-1],p.data=[...p.data,...wt],p.empty=Qe.empty,A(p)}).catch(Qe=>{X(Qe.message)})})}getPaginationData(p={latestDoc:null,empty:!1,data:[],size:0},y=5){return(0,S.mG)(this,void 0,void 0,function*(){if(!p.empty)try{const A=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.TQ)(p.latestDoc||0),(0,Q.b9)(y)),X=yield(0,Q.PL)(A);let fe=this.setData2(X);return p.latestDoc=X.docs[X.docs.length-1],p.data=[...p.data,...fe],p.empty=X.empty,p.size=X.size,p}catch(A){return A}})}unsubscribeRealTime(){this.unsubscribe()}nextPage(p={latestDoc:null,empty:!1,data:[],size:0},y=5){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.TQ)(p.latestDoc||0),(0,Q.b9)(y));return yield this.handlePagination(A)})}prePage(p={latestDoc:null,empty:!1,data:[],size:0},y=5){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.Lx)(p.latestDoc||0),(0,Q.b9)(y));return yield this.handlePagination(A,!1)})}setData(p){return p.docs.map(y=>Object.assign({id:y.id},y.data()))}setData2(p){let y=[];return p.docs.forEach(A=>{y.push(Object.assign(Object.assign({},A.data()),{id:A.id}))}),y}transformSingleDoc(p){return Object.assign(Object.assign({},p.data()),{id:p.id})}handlePagination(p,y=!0){return(0,S.mG)(this,void 0,void 0,function*(){try{const A=yield(0,Q.PL)(p);let X=this.setData2(A);return{latestDoc:y?A.docs[A.docs.length-1]:A.docs[0],data:X,empty:A.empty,size:A.size}}catch(A){return A}})}}},259:(we,ae,C)=>{C.d(ae,{C6:()=>f.C6,ZF:()=>f.ZF});var f=C(6881);(0,f.KN)("firebase","9.17.1","app")},6197:(we,ae,C)=>{C.d(ae,{iU:()=>fi,U2:()=>tr,N8:()=>Vu,nP:()=>Sc,S1:()=>Ks,ae:()=>pi,jM:()=>eo,VF:()=>Jo,iH:()=>Ss,Od:()=>Hl,Bt:()=>mh,t8:()=>ks,Vx:()=>Wn});var f=C(531),S=C(6881),te=C(4859),V=C(2090),le=C(1877);const de="@firebase/database";let J="";class Q{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,V.Wl)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,V.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class Z{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,V.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const ce=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new Q(u)}}catch(u){}return new Z},Le=ce("localStorage"),ze=ce("sessionStorage"),Ie=new le.Yd("@firebase/database"),Ye=function(){let h=1;return function(){return h++}}(),We=function(h){const u=(0,V.dS)(h),c=new V.gQ;c.update(u);const v=c.digest();return V.US.encodeByteArray(v)},je=function(...h){let u="";for(let c=0;c<h.length;c++){const v=h[c];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?u+=je.apply(null,v):u+="object"==typeof v?(0,V.Wl)(v):v,u+=" "}return u};let gt=null,xt=!0;const Be=function(...h){if(!0===xt&&(xt=!1,null===gt&&!0===ze.get("logging_enabled")&&function(h,u){(0,V.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Ie.logLevel=le.in.VERBOSE,gt=Ie.log.bind(Ie),u&&ze.set("logging_enabled",!0)):"function"==typeof h?gt=h:(gt=null,ze.remove("logging_enabled"))}(!0)),gt){const u=je.apply(null,h);gt(u)}},Dt=function(h){return function(...u){Be(h,...u)}},Tt=function(...h){const u="FIREBASE INTERNAL ERROR: "+je(...h);Ie.error(u)},Wt=function(...h){const u=`FIREBASE FATAL ERROR: ${je(...h)}`;throw Ie.error(u),new Error(u)},Ht=function(...h){const u="FIREBASE WARNING: "+je(...h);Ie.warn(u)},tt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},at="[MIN_NAME]",et="[MAX_NAME]",Nt=function(h,u){if(h===u)return 0;if(h===at||u===et)return-1;if(u===at||h===et)return 1;{const c=mi(h),v=mi(u);return null!==c?null!==v?c-v==0?h.length-u.length:c-v:-1:null!==v?1:h<u?-1:1}},bt=function(h,u){return h===u?0:h<u?-1:1},ht=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,V.Wl)(u))},Un=function(h){if("object"!=typeof h||null===h)return(0,V.Wl)(h);const u=[];for(const v in h)u.push(v);u.sort();let c="{";for(let v=0;v<u.length;v++)0!==v&&(c+=","),c+=(0,V.Wl)(u[v]),c+=":",c+=Un(h[u[v]]);return c+="}",c},Kt=function(h,u){const c=h.length;if(c<=u)return[h];const v=[];for(let P=0;P<c;P+=u)v.push(h.substring(P,P+u>c?c:P+u));return v};function Mt(h,u){for(const c in h)h.hasOwnProperty(c)&&u(c,h[c])}const fr=function(h){(0,V.hu)(!tt(h),"Invalid JSON number");const v=1023;let P,H,Y,pe,Me;0===h?(H=0,Y=0,P=1/h==-1/0?1:0):(P=h<0,(h=Math.abs(h))>=Math.pow(2,1-v)?(pe=Math.min(Math.floor(Math.log(h)/Math.LN2),v),H=pe+v,Y=Math.round(h*Math.pow(2,52-pe)-Math.pow(2,52))):(H=0,Y=Math.round(h/Math.pow(2,-1074))));const Fe=[];for(Me=52;Me;Me-=1)Fe.push(Y%2?1:0),Y=Math.floor(Y/2);for(Me=11;Me;Me-=1)Fe.push(H%2?1:0),H=Math.floor(H/2);Fe.push(P?1:0),Fe.reverse();const vt=Fe.join("");let Ct="";for(Me=0;Me<64;Me+=8){let At=parseInt(vt.substr(Me,8),2).toString(16);1===At.length&&(At="0"+At),Ct+=At}return Ct.toLowerCase()},kr=new RegExp("^-?(0*)\\d{1,10}$"),mi=function(h){if(kr.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},ti=function(h){try{h()}catch(u){setTimeout(()=>{throw Ht("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},ni=function(h,u){const c=setTimeout(h,u);return"number"==typeof c&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Wr{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(v=>this.appCheck=v)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,v)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,v):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(v=>v.addTokenListener(u))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nr{constructor(u,c,v){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(P=>this.auth_=P)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,v)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,v):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(u)}}let lr=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const vr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$e="websocket",Oe="long_polling";class Ee{constructor(u,c,v,P,H=!1,Y="",pe=!1,Me=!1){this.secure=c,this.namespace=v,this.webSocketOnly=P,this.nodeAdmin=H,this.persistenceKey=Y,this.includeNamespaceInQueryParams=pe,this.isUsingEmulator=Me,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Le.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Le.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pt(h,u,c){let v;if((0,V.hu)("string"==typeof u,"typeof type must == string"),(0,V.hu)("object"==typeof c,"typeof params must == object"),u===$e)v=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==Oe)throw new Error("Unknown connection type: "+u);v=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function nt(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const P=[];return Mt(c,(H,Y)=>{P.push(H+"="+Y)}),v+P.join("&")}class un{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,V.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,V.p$)(this.counters_)}}const sn={},Gn={};function Ut(h){const u=h.toString();return sn[u]||(sn[u]=new un),sn[u]}class Kn{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let P=0;P<v.length;++P)v[P]&&ti(()=>{this.onMessage_(v[P])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Nn{constructor(u,c,v,P,H,Y,pe){this.connId=u,this.repoInfo=c,this.applicationId=v,this.appCheckToken=P,this.authToken=H,this.transportSessionId=Y,this.lastSessionId=pe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dt(u),this.stats_=Ut(c),this.urlFn=Me=>(this.appCheckToken&&(Me.ac=this.appCheckToken),pt(c,Oe,Me))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new Kn(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,V.Yr)()||"complete"===document.readyState)h();else{let u=!1;const c=function(){document.body?u||(u=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ir((...H)=>{const[Y,pe,Me,Fe,vt]=H;if(this.incrementIncomingBytes_(H),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Y)this.id=pe,this.password=Me;else{if("close"!==Y)throw new Error("Unrecognized command received: "+Y);pe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(pe,()=>{this.onClosed_()})):this.onClosed_()}},(...H)=>{const[Y,pe]=H;this.incrementIncomingBytes_(H),this.myPacketOrderer.handleResponse(Y,pe)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&vr.test(location.hostname)&&(v.r="f");const P=this.urlFn(v);this.log_("Connecting via long-poll to "+P),this.scriptTagHolder.addTag(P,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nn.forceAllow_=!0}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!Nn.forceAllow_&&(Nn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,V.Wl)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const v=(0,V.h$)(c),P=Kt(v,1840);for(let H=0;H<P.length;H++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,P.length,P[H]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=u,v.pw=c,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,V.Wl)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class ir{constructor(u,c,v,P){if(this.onDisconnect=v,this.urlFn=P,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Ye(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=ir.createIFrame_();let H="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(H='<script>document.domain="'+document.domain+'";<\/script>');const Y="<html><body>"+H+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Y),this.myIFrame.doc.close()}catch(pe){Be("frame writing exception"),pe.stack&&Be(pe.stack),Be(pe)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||Be("No IE domain setting required")}catch(c){const v=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),v="",P=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const Y=this.pendingSegs.shift();v=v+"&seg"+P+"="+Y.seg+"&ts"+P+"="+Y.ts+"&d"+P+"="+Y.d,P++}return c+=v,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,v){this.pendingSegs.push({seg:u,ts:c,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const v=()=>{this.outstandingRequests.delete(c),this.newRequest_()},P=setTimeout(v,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(P),v()})}addTag(u,c){(0,V.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=u,v.onload=v.onreadystatechange=function(){const P=v.readyState;(!P||"loaded"===P||"complete"===P)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=()=>{Be("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch(v){}},Math.floor(1))}}let Se=null;"undefined"!=typeof MozWebSocket?Se=MozWebSocket:"undefined"!=typeof WebSocket&&(Se=WebSocket);let me=(()=>{class h{constructor(c,v,P,H,Y,pe,Me){this.connId=c,this.applicationId=P,this.appCheckToken=H,this.authToken=Y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dt(this.connId),this.stats_=Ut(v),this.connURL=h.connectionURL_(v,pe,Me,H,P),this.nodeAdmin=v.nodeAdmin}static connectionURL_(c,v,P,H,Y){const pe={v:"5"};return!(0,V.Yr)()&&"undefined"!=typeof location&&location.hostname&&vr.test(location.hostname)&&(pe.r="f"),v&&(pe.s=v),P&&(pe.ls=P),H&&(pe.ac=H),Y&&(pe.p=Y),pt(c,$e,pe)}open(c,v){this.onDisconnect=v,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Le.set("previous_websocket_failure",!0);try{let P;if((0,V.Yr)()){P={headers:{"User-Agent":`Firebase/5/${J}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(P.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(P.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Y=process.env,pe=0===this.connURL.indexOf("wss://")?Y.HTTPS_PROXY||Y.https_proxy:Y.HTTP_PROXY||Y.http_proxy;pe&&(P.proxy={origin:pe})}this.mySock=new Se(this.connURL,[],P)}catch(P){this.log_("Error instantiating WebSocket.");const H=P.message||P.data;return H&&this.log_(H),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=P=>{this.handleIncomingFrame(P)},this.mySock.onerror=P=>{this.log_("WebSocket error.  Closing connection.");const H=P.message||P.data;H&&this.log_(H),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const P=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);P&&P.length>1&&parseFloat(P[1])<4.4&&(c=!0)}return!c&&null!==Se&&!h.forceDisallow_}static previouslyFailed(){return Le.isInMemoryStorage||!0===Le.get("previous_websocket_failure")}markConnectionHealthy(){Le.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const v=this.frames.join("");this.frames=null;const P=(0,V.cI)(v);this.onMessage(P)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const v=Number(c);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const v=c.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{const P=this.extractFrameCount_(v);null!==P&&this.appendFrame_(P)}}send(c){this.resetKeepAlive();const v=(0,V.Wl)(c);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);const P=Kt(v,16384);P.length>1&&this.sendString_(String(P.length));for(let H=0;H<P.length;H++)this.sendString_(P[H])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),ke=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Nn,me]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const v=me&&me.isAvailable();let P=v&&!me.previouslyFailed();if(c.webSocketOnly&&(v||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),P=!0),P)this.transports_=[me];else{const H=this.transports_=[];for(const Y of h.ALL_TRANSPORTS)Y&&Y.isAvailable()&&H.push(Y);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class ds{constructor(u,c,v,P,H,Y,pe,Me,Fe,vt){this.id=u,this.repoInfo_=c,this.applicationId_=v,this.appCheckToken_=P,this.authToken_=H,this.onMessage_=Y,this.onReady_=pe,this.onDisconnect_=Me,this.onKill_=Fe,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dt("c:"+this.id+":"),this.transportManager_=new ke(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,v)},Math.floor(0));const P=u.healthyTimeout||0;P>0&&(this.healthyTimeout_=ni(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(P)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=ht("t",u),v=ht("d",u);if("c"===c)this.onSecondaryControl_(v);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=ht("t",u),v=ht("d",u);"c"===c?this.onControl_(v):"d"===c&&this.onDataMessage_(v)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=ht("t",u);if("d"in u){const v=u.d;if("h"===c){const P=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(P.h=this.repoInfo_.host),this.onHandshake_(P)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let P=0;P<this.pendingDataMessages.length;++P)this.onDataMessage_(this.pendingDataMessages[P]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(v):"r"===c?this.onReset_(v):"e"===c?Tt("Server Error: "+v):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tt("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,v=u.v,P=u.h;this.sessionId=u.s,this.repoInfo_.host=P,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==v&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,v),ni(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ni(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Le.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Or{put(u,c,v,P){}merge(u,c,v,P){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,v){}onDisconnectMerge(u,c,v){}onDisconnectCancel(u,c){}reportStats(u){}}class Ji{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,V.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const v=[...this.listeners_[u]];for(let P=0;P<v.length;P++)v[P].callback.apply(v[P].context,c)}}on(u,c,v){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:v});const P=this.getInitialEvent(u);P&&c.apply(v,P)}off(u,c,v){this.validateEventType_(u);const P=this.listeners_[u]||[];for(let H=0;H<P.length;H++)if(P[H].callback===c&&(!v||v===P[H].context))return void P.splice(H,1)}validateEventType_(u){(0,V.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class ji extends Ji{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ji}getInitialEvent(u){return(0,V.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class xn{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let v=0;for(let P=0;P<this.pieces_.length;P++)this.pieces_[P].length>0&&(this.pieces_[v]=this.pieces_[P],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function In(){return new xn("")}function Mn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function Ri(h){return h.pieces_.length-h.pieceNum_}function Tn(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new xn(h.pieces_,u)}function So(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function yi(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function Pr(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)u.push(h.pieces_[c]);return new xn(u,0)}function Sr(h,u){const c=[];for(let v=h.pieceNum_;v<h.pieces_.length;v++)c.push(h.pieces_[v]);if(u instanceof xn)for(let v=u.pieceNum_;v<u.pieces_.length;v++)c.push(u.pieces_[v]);else{const v=u.split("/");for(let P=0;P<v.length;P++)v[P].length>0&&c.push(v[P])}return new xn(c,0)}function Ln(h){return h.pieceNum_>=h.pieces_.length}function Ur(h,u){const c=Mn(h),v=Mn(u);if(null===c)return u;if(c===v)return Ur(Tn(h),Tn(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function as(h,u){const c=yi(h,0),v=yi(u,0);for(let P=0;P<c.length&&P<v.length;P++){const H=Nt(c[P],v[P]);if(0!==H)return H}return c.length===v.length?0:c.length<v.length?-1:1}function Te(h,u){if(Ri(h)!==Ri(u))return!1;for(let c=h.pieceNum_,v=u.pieceNum_;c<=h.pieces_.length;c++,v++)if(h.pieces_[c]!==u.pieces_[v])return!1;return!0}function it(h,u){let c=h.pieceNum_,v=u.pieceNum_;if(Ri(h)>Ri(u))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==u.pieces_[v])return!1;++c,++v}return!0}class qe{constructor(u,c){this.errorPrefix_=c,this.parts_=yi(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,V.ug)(this.parts_[v]);kt(this)}}function kt(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$n(h))}function $n(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class Yr extends Ji{constructor(){let u,c;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",u="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const v=!document[u];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new Yr}getInitialEvent(u){return(0,V.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Cr=1e3;let no,po=(()=>{class h extends Or{constructor(c,v,P,H,Y,pe,Me,Fe){if(super(),this.repoInfo_=c,this.applicationId_=v,this.onDataUpdate_=P,this.onConnectStatus_=H,this.onServerInfoUpdate_=Y,this.authTokenProvider_=pe,this.appCheckTokenProvider_=Me,this.authOverride_=Fe,this.id=h.nextPersistentConnectionId_++,this.log_=Dt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Fe&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yr.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&ji.getInstance().on("online",this.onOnline_,this)}sendRequest(c,v,P){const H=++this.requestNumber_,Y={r:H,a:c,b:v};this.log_((0,V.Wl)(Y)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Y),P&&(this.requestCBHash_[H]=P)}get(c){this.initConnection_();const v=new V.BH,P={p:c._path.toString(),q:c._queryObject};return this.outstandingGets_.push({action:"g",request:P,onComplete:pe=>{const Me=pe.d;"ok"===pe.s?v.resolve(Me):v.reject(Me)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),v.promise}listen(c,v,P,H){this.initConnection_();const Y=c._queryIdentifier,pe=c._path.toString();this.log_("Listen called for "+pe+" "+Y),this.listens.has(pe)||this.listens.set(pe,new Map),(0,V.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(pe).has(Y),"listen() called twice for same path/queryId.");const Me={onComplete:H,hashFn:v,query:c,tag:P};this.listens.get(pe).set(Y,Me),this.connected_&&this.sendListen_(Me)}sendGet_(c){const v=this.outstandingGets_[c];this.sendRequest("g",v.request,P=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),v.onComplete&&v.onComplete(P)})}sendListen_(c){const v=c.query,P=v._path.toString(),H=v._queryIdentifier;this.log_("Listen on "+P+" for "+H);const Y={p:P};c.tag&&(Y.q=v._queryObject,Y.t=c.tag),Y.h=c.hashFn(),this.sendRequest("q",Y,Me=>{const Fe=Me.d,vt=Me.s;h.warnOnListenWarnings_(Fe,v),(this.listens.get(P)&&this.listens.get(P).get(H))===c&&(this.log_("listen response",Me),"ok"!==vt&&this.removeListen_(P,H),c.onComplete&&c.onComplete(vt,Fe))})}static warnOnListenWarnings_(c,v){if(c&&"object"==typeof c&&(0,V.r3)(c,"w")){const P=(0,V.DV)(c,"w");if(Array.isArray(P)&&~P.indexOf("no_index")){const H='".indexOn": "'+v._queryParams.getIndex().toString()+'"',Y=v._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${H} at ${Y} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,V.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,v=(0,V.w9)(c)?"auth":"gauth",P={cred:c};null===this.authOverride_?P.noauth=!0:"object"==typeof this.authOverride_&&(P.authvar=this.authOverride_),this.sendRequest(v,P,H=>{const Y=H.s,pe=H.d||"error";this.authToken_===c&&("ok"===Y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Y,pe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const v=c.s,P=c.d||"error";"ok"===v?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(v,P)})}unlisten(c,v){const P=c._path.toString(),H=c._queryIdentifier;this.log_("Unlisten called for "+P+" "+H),(0,V.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(P,H)&&this.connected_&&this.sendUnlisten_(P,H,c._queryObject,v)}sendUnlisten_(c,v,P,H){this.log_("Unlisten on "+c+" for "+v);const Y={p:c};H&&(Y.q=P,Y.t=H),this.sendRequest("n",Y)}onDisconnectPut(c,v,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,v,P):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:v,onComplete:P})}onDisconnectMerge(c,v,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,v,P):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:v,onComplete:P})}onDisconnectCancel(c,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:v})}sendOnDisconnect_(c,v,P,H){const Y={p:v,d:P};this.log_("onDisconnect "+c,Y),this.sendRequest(c,Y,pe=>{H&&setTimeout(()=>{H(pe.s,pe.d)},Math.floor(0))})}put(c,v,P,H){this.putInternal("p",c,v,P,H)}merge(c,v,P,H){this.putInternal("m",c,v,P,H)}putInternal(c,v,P,H,Y){this.initConnection_();const pe={p:v,d:P};void 0!==Y&&(pe.h=Y),this.outstandingPuts_.push({action:c,request:pe,onComplete:H}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)}sendPut_(c){const v=this.outstandingPuts_[c].action,P=this.outstandingPuts_[c].request,H=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,P,Y=>{this.log_(v+" response",Y),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),H&&H(Y.s,Y.d)})}reportStats(c){if(this.connected_){const v={c};this.log_("reportStats",v),this.sendRequest("s",v,P=>{"ok"!==P.s&&this.log_("reportStats","Error sending stats: "+P.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,V.Wl)(c));const v=c.r,P=this.requestCBHash_[v];P&&(delete this.requestCBHash_[v],P(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,v){this.log_("handleServerMessage",c,v),"d"===c?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===c?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===c?this.onListenRevoked_(v.p,v.q):"ac"===c?this.onAuthRevoked_(v.s,v.d):"apc"===c?this.onAppCheckRevoked_(v.s,v.d):"sd"===c?this.onSecurityDebugPacket_(v):Tt("Unrecognized action received from server: "+(0,V.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let v=Math.max(0,this.reconnectDelay_-c);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,f.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const v=c.onDataMessage_.bind(c),P=c.onReady_.bind(c),H=c.onRealtimeDisconnect_.bind(c),Y=c.id+":"+h.nextConnectionId_++,pe=c.lastSessionId;let Me=!1,Fe=null;const vt=function(){Fe?Fe.close():(Me=!0,H())};c.realtime_={close:vt,sendRequest:function(_n){(0,V.hu)(Fe,"sendRequest call when we're not connected not allowed."),Fe.sendRequest(_n)}};const At=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[_n,Yn]=yield Promise.all([c.authTokenProvider_.getToken(At),c.appCheckTokenProvider_.getToken(At)]);Me?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),c.authToken_=_n&&_n.accessToken,c.appCheckToken_=Yn&&Yn.token,Fe=new ds(Y,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,v,P,H,gi=>{Ht(gi+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},pe))}catch(_n){c.log_("Failed to get token: "+_n),Me||(c.repoInfo_.nodeAdmin&&Ht(_n),vt())}}})()}interrupt(c){Be("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){Be("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const v=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const v=this.outstandingPuts_[c];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,v){let P;P=v?v.map(Y=>Un(Y)).join("$"):"default";const H=this.removeListen_(c,P);H&&H.onComplete&&H.onComplete("permission_denied")}removeListen_(c,v){const P=new xn(c).toString();let H;if(this.listens.has(P)){const Y=this.listens.get(P);H=Y.get(v),Y.delete(v),0===Y.size&&this.listens.delete(P)}else H=void 0;return H}onAuthRevoked_(c,v){Be("Auth token revoked: "+c+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,v){Be("App check token revoked: "+c+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const v of c.values())this.sendListen_(v);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let v="js";(0,V.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+v+"."+J.replace(/\./g,"-")]=1,(0,V.uI)()?c["framework.cordova"]=1:(0,V.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=ji.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Xn{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new Xn(u,c)}}class bo{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const v=new Xn(at,u),P=new Xn(at,c);return 0!==this.compare(v,P)}minPost(){return Xn.MIN}}class hs extends bo{static get __EMPTY_NODE(){return no}static set __EMPTY_NODE(u){no=u}compare(u,c){return Nt(u.name,c.name)}isDefinedOn(u){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return Xn.MIN}maxPost(){return new Xn(et,no)}makePost(u,c){return(0,V.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Xn(u,no)}toString(){return".key"}}const Ni=new hs;class $i{constructor(u,c,v,P,H=null){this.isReverse_=P,this.resultGenerator_=H,this.nodeStack_=[];let Y=1;for(;!u.isEmpty();)if(Y=c?v(u.key,c):1,P&&(Y*=-1),Y<0)u=this.isReverse_?u.left:u.right;else{if(0===Y){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let io,Gi=(()=>{class h{constructor(c,v,P,H,Y){this.key=c,this.value=v,this.color=null!=P?P:h.RED,this.left=null!=H?H:er.EMPTY_NODE,this.right=null!=Y?Y:er.EMPTY_NODE}copy(c,v,P,H,Y){return new h(null!=c?c:this.key,null!=v?v:this.value,null!=P?P:this.color,null!=H?H:this.left,null!=Y?Y:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,v,P){let H=this;const Y=P(c,H.key);return H=Y<0?H.copy(null,null,null,H.left.insert(c,v,P),null):0===Y?H.copy(null,v,null,null,null):H.copy(null,null,null,null,H.right.insert(c,v,P)),H.fixUp_()}removeMin_(){if(this.left.isEmpty())return er.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,v){let P,H;if(P=this,v(c,P.key)<0)!P.left.isEmpty()&&!P.left.isRed_()&&!P.left.left.isRed_()&&(P=P.moveRedLeft_()),P=P.copy(null,null,null,P.left.remove(c,v),null);else{if(P.left.isRed_()&&(P=P.rotateRight_()),!P.right.isEmpty()&&!P.right.isRed_()&&!P.right.left.isRed_()&&(P=P.moveRedRight_()),0===v(c,P.key)){if(P.right.isEmpty())return er.EMPTY_NODE;H=P.right.min_(),P=P.copy(H.key,H.value,null,null,P.right.removeMin_())}P=P.copy(null,null,null,null,P.right.remove(c,v))}return P.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,v)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class er{constructor(u,c=er.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new er(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,Gi.BLACK,null,null))}remove(u){return new er(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Gi.BLACK,null,null))}get(u){let c,v=this.root_;for(;!v.isEmpty();){if(c=this.comparator_(u,v.key),0===c)return v.value;c<0?v=v.left:c>0&&(v=v.right)}return null}getPredecessorKey(u){let c,v=this.root_,P=null;for(;!v.isEmpty();){if(c=this.comparator_(u,v.key),0===c){if(v.left.isEmpty())return P?P.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}c<0?v=v.left:c>0&&(P=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new $i(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new $i(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new $i(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new $i(this.root_,null,this.comparator_,!0,u)}}function ro(h,u){return Nt(h.name,u.name)}function vs(h,u){return Nt(h,u)}er.EMPTY_NODE=new class Qs{copy(u,c,v,P,H){return this}insert(u,c,v){return new Gi(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const so=function(h){return"number"==typeof h?"number:"+fr(h):"string:"+h},jo=function(h){if(h.isLeafNode()){const u=h.val();(0,V.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,V.r3)(u,".sv"),"Priority must be a string or number.")}else(0,V.hu)(h===io||h.isEmpty(),"priority of unexpected type.");(0,V.hu)(h===io||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ho,Ya,ri,Si=(()=>{class h{constructor(c,v=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=v,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jo(this.priorityNode_)}static set __childrenNodeConstructor(c){Ho=c}static get __childrenNodeConstructor(){return Ho}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return Ln(c)?this:".priority"===Mn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,v){return null}updateImmediateChild(c,v){return".priority"===c?this.updatePriority(v):v.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,v).updatePriority(this.priorityNode_)}updateChild(c,v){const P=Mn(c);return null===P?v:v.isEmpty()&&".priority"!==P?this:((0,V.hu)(".priority"!==P||1===Ri(c),".priority must be the last token in a path"),this.updateImmediateChild(P,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tn(c),v)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,v){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+so(this.priorityNode_.val())+":");const v=typeof this.value_;c+=v+":",c+="number"===v?fr(this.value_):this.value_,this.lazyHash_=We(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,V.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const v=typeof c.value_,P=typeof this.value_,H=h.VALUE_TYPE_ORDER.indexOf(v),Y=h.VALUE_TYPE_ORDER.indexOf(P);return(0,V.hu)(H>=0,"Unknown leaf type: "+v),(0,V.hu)(Y>=0,"Unknown leaf type: "+P),H===Y?"object"===P?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:Y-H}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const v=c;return this.value_===v.value_&&this.priorityNode_.equals(v.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const jr=new class sl extends bo{compare(u,c){const v=u.node.getPriority(),P=c.node.getPriority(),H=v.compareTo(P);return 0===H?Nt(u.name,c.name):H}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return Xn.MIN}maxPost(){return new Xn(et,new Si("[PRIORITY-POST]",ri))}makePost(u,c){const v=Ya(u);return new Xn(c,new Si("[PRIORITY-POST]",v))}toString(){return".priority"}},go=Math.log(2);class Wi{constructor(u){this.count=parseInt(Math.log(u+1)/go,10),this.current_=this.count-1;const P=(H=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&P}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Ao=function(h,u,c,v){h.sort(u);const P=function(Me,Fe){const vt=Fe-Me;let Ct,At;if(0===vt)return null;if(1===vt)return Ct=h[Me],At=c?c(Ct):Ct,new Gi(At,Ct.node,Gi.BLACK,null,null);{const _n=parseInt(vt/2,10)+Me,Yn=P(Me,_n),gi=P(_n+1,Fe);return Ct=h[_n],At=c?c(Ct):Ct,new Gi(At,Ct.node,Gi.BLACK,Yn,gi)}},pe=function(Me){let Fe=null,vt=null,Ct=h.length;const At=function(Yn,gi){const Xo=Ct-Yn,Gl=Ct;Ct-=Yn;const bs=P(Xo+1,Gl),bc=h[Xo],Id=c?c(bc):bc;_n(new Gi(Id,bc.node,gi,null,bs))},_n=function(Yn){Fe?(Fe.left=Yn,Fe=Yn):(vt=Yn,Fe=Yn)};for(let Yn=0;Yn<Me.count;++Yn){const gi=Me.nextBitIsOne(),Xo=Math.pow(2,Me.count-(Yn+1));gi?At(Xo,Gi.BLACK):(At(Xo,Gi.BLACK),At(Xo,Gi.RED))}return vt}(new Wi(h.length));return new er(v||u,pe)};let Pa;const Bs={};class oi{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,V.hu)(Bs&&jr,"ChildrenNode.ts has not been loaded"),Pa=Pa||new oi({".priority":Bs},{".priority":jr}),Pa}get(u){const c=(0,V.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof er?c:null}hasIndex(u){return(0,V.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,V.hu)(u!==Ni,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let P=!1;const H=c.getIterator(Xn.Wrap);let pe,Y=H.getNext();for(;Y;)P=P||u.isDefinedOn(Y.node),v.push(Y),Y=H.getNext();pe=P?Ao(v,u.getCompare()):Bs;const Me=u.toString(),Fe=Object.assign({},this.indexSet_);Fe[Me]=u;const vt=Object.assign({},this.indexes_);return vt[Me]=pe,new oi(vt,Fe)}addToIndexes(u,c){const v=(0,V.UI)(this.indexes_,(P,H)=>{const Y=(0,V.DV)(this.indexSet_,H);if((0,V.hu)(Y,"Missing index implementation for "+H),P===Bs){if(Y.isDefinedOn(u.node)){const pe=[],Me=c.getIterator(Xn.Wrap);let Fe=Me.getNext();for(;Fe;)Fe.name!==u.name&&pe.push(Fe),Fe=Me.getNext();return pe.push(u),Ao(pe,Y.getCompare())}return Bs}{const pe=c.get(u.name);let Me=P;return pe&&(Me=Me.remove(new Xn(u.name,pe))),Me.insert(u,u.node)}});return new oi(v,this.indexSet_)}removeFromIndexes(u,c){const v=(0,V.UI)(this.indexes_,P=>{if(P===Bs)return P;{const H=c.get(u.name);return H?P.remove(new Xn(u.name,H)):P}});return new oi(v,this.indexSet_)}}let Di,Dn=(()=>{class h{constructor(c,v,P){this.children_=c,this.priorityNode_=v,this.indexMap_=P,this.lazyHash_=null,this.priorityNode_&&jo(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Di||(Di=new h(new er(vs),null,oi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Di}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const v=this.children_.get(c);return null===v?Di:v}}getChild(c){const v=Mn(c);return null===v?this:this.getImmediateChild(v).getChild(Tn(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,v){if((0,V.hu)(v,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(v);{const P=new Xn(c,v);let H,Y;v.isEmpty()?(H=this.children_.remove(c),Y=this.indexMap_.removeFromIndexes(P,this.children_)):(H=this.children_.insert(c,v),Y=this.indexMap_.addToIndexes(P,this.children_));const pe=H.isEmpty()?Di:this.priorityNode_;return new h(H,pe,Y)}}updateChild(c,v){const P=Mn(c);if(null===P)return v;{(0,V.hu)(".priority"!==Mn(c)||1===Ri(c),".priority must be the last token in a path");const H=this.getImmediateChild(P).updateChild(Tn(c),v);return this.updateImmediateChild(P,H)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const v={};let P=0,H=0,Y=!0;if(this.forEachChild(jr,(pe,Me)=>{v[pe]=Me.val(c),P++,Y&&h.INTEGER_REGEXP_.test(pe)?H=Math.max(H,Number(pe)):Y=!1}),!c&&Y&&H<2*P){const pe=[];for(const Me in v)pe[Me]=v[Me];return pe}return c&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+so(this.getPriority().val())+":"),this.forEachChild(jr,(v,P)=>{const H=P.hash();""!==H&&(c+=":"+v+":"+H)}),this.lazyHash_=""===c?"":We(c)}return this.lazyHash_}getPredecessorChildName(c,v,P){const H=this.resolveIndex_(P);if(H){const Y=H.getPredecessorKey(new Xn(c,v));return Y?Y.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const v=this.resolveIndex_(c);if(v){const P=v.minKey();return P&&P.name}return this.children_.minKey()}getFirstChild(c){const v=this.getFirstChildName(c);return v?new Xn(v,this.children_.get(v)):null}getLastChildName(c){const v=this.resolveIndex_(c);if(v){const P=v.maxKey();return P&&P.name}return this.children_.maxKey()}getLastChild(c){const v=this.getLastChildName(c);return v?new Xn(v,this.children_.get(v)):null}forEachChild(c,v){const P=this.resolveIndex_(c);return P?P.inorderTraversal(H=>v(H.name,H.node)):this.children_.inorderTraversal(v)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,v){const P=this.resolveIndex_(v);if(P)return P.getIteratorFrom(c,H=>H);{const H=this.children_.getIteratorFrom(c.name,Xn.Wrap);let Y=H.peek();for(;null!=Y&&v.compare(Y,c)<0;)H.getNext(),Y=H.peek();return H}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,v){const P=this.resolveIndex_(v);if(P)return P.getReverseIteratorFrom(c,H=>H);{const H=this.children_.getReverseIteratorFrom(c.name,Xn.Wrap);let Y=H.peek();for(;null!=Y&&v.compare(Y,c)>0;)H.getNext(),Y=H.peek();return H}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===ur?-1:0}withIndex(c){if(c===Ni||this.indexMap_.hasIndex(c))return this;{const v=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,v)}}isIndexed(c){return c===Ni||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const v=c;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){const P=this.getIterator(jr),H=v.getIterator(jr);let Y=P.getNext(),pe=H.getNext();for(;Y&&pe;){if(Y.name!==pe.name||!Y.node.equals(pe.node))return!1;Y=P.getNext(),pe=H.getNext()}return null===Y&&null===pe}return!1}return!1}}resolveIndex_(c){return c===Ni?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const ur=new class $o extends Dn{constructor(){super(new er(vs),Dn.EMPTY_NODE,oi.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return Dn.EMPTY_NODE}isEmpty(){return!1}};function Rr(h,u=null){if(null===h)return Dn.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,V.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Si(h,Rr(u));if(h instanceof Array){let c=Dn.EMPTY_NODE;return Mt(h,(v,P)=>{if((0,V.r3)(h,v)&&"."!==v.substring(0,1)){const H=Rr(P);(H.isLeafNode()||!H.isEmpty())&&(c=c.updateImmediateChild(v,H))}}),c.updatePriority(Rr(u))}{const c=[];let v=!1;if(Mt(h,(Y,pe)=>{if("."!==Y.substring(0,1)){const Me=Rr(pe);Me.isEmpty()||(v=v||!Me.getPriority().isEmpty(),c.push(new Xn(Y,Me)))}}),0===c.length)return Dn.EMPTY_NODE;const H=Ao(c,ro,Y=>Y.name,vs);if(v){const Y=Ao(c,jr.getCompare());return new Dn(H,Rr(u),new oi({".priority":Y},{".priority":jr}))}return new Dn(H,Rr(u),oi.Default)}}Object.defineProperties(Xn,{MIN:{value:new Xn(at,Dn.EMPTY_NODE)},MAX:{value:new Xn(et,ur)}}),hs.__EMPTY_NODE=Dn.EMPTY_NODE,Si.__childrenNodeConstructor=Dn,function Bo(h){io=h}(ur),function Oa(h){ri=h}(ur),function Vs(h){Ya=h}(Rr);class xa extends bo{constructor(u){super(),this.indexPath_=u,(0,V.hu)(!Ln(u)&&".priority"!==Mn(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const v=this.extractChild(u.node),P=this.extractChild(c.node),H=v.compareTo(P);return 0===H?Nt(u.name,c.name):H}makePost(u,c){const v=Rr(u),P=Dn.EMPTY_NODE.updateChild(this.indexPath_,v);return new Xn(c,P)}maxPost(){const u=Dn.EMPTY_NODE.updateChild(this.indexPath_,ur);return new Xn(et,u)}toString(){return yi(this.indexPath_,0).join("/")}}const Go=new class js extends bo{compare(u,c){const v=u.node.compareTo(c.node);return 0===v?Nt(u.name,c.name):v}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return Xn.MIN}maxPost(){return Xn.MAX}makePost(u,c){const v=Rr(u);return new Xn(c,v)}toString(){return".value"}};function qs(h){return{type:"value",snapshotNode:h}}function Cn(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function Es(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function ia(h,u,c){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:c}}class xs{constructor(u){this.index_=u}updateChild(u,c,v,P,H,Y){(0,V.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const pe=u.getImmediateChild(c);return pe.getChild(P).equals(v.getChild(P))&&pe.isEmpty()===v.isEmpty()||(null!=Y&&(v.isEmpty()?u.hasChild(c)?Y.trackChildChange(Es(c,pe)):(0,V.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):pe.isEmpty()?Y.trackChildChange(Cn(c,v)):Y.trackChildChange(ia(c,v,pe))),u.isLeafNode()&&v.isEmpty())?u:u.updateImmediateChild(c,v).withIndex(this.index_)}updateFullNode(u,c,v){return null!=v&&(u.isLeafNode()||u.forEachChild(jr,(P,H)=>{c.hasChild(P)||v.trackChildChange(Es(P,H))}),c.isLeafNode()||c.forEachChild(jr,(P,H)=>{if(u.hasChild(P)){const Y=u.getImmediateChild(P);Y.equals(H)||v.trackChildChange(ia(P,H,Y))}else v.trackChildChange(Cn(P,H))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?Dn.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ds{constructor(u){this.indexedFilter_=new xs(u.getIndex()),this.index_=u.getIndex(),this.startPost_=Ds.getStartPost_(u),this.endPost_=Ds.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,v=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return c&&v}updateChild(u,c,v,P,H,Y){return this.matches(new Xn(c,v))||(v=Dn.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,v,P,H,Y)}updateFullNode(u,c,v){c.isLeafNode()&&(c=Dn.EMPTY_NODE);let P=c.withIndex(this.index_);P=P.updatePriority(Dn.EMPTY_NODE);const H=this;return c.forEachChild(jr,(Y,pe)=>{H.matches(new Xn(Y,pe))||(P=P.updateImmediateChild(Y,Dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,P,v)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class mo{constructor(u){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const v=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?v<=0:v<0},this.withinEndPost=c=>{const v=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?v<=0:v<0},this.rangedFilter_=new Ds(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,c,v,P,H,Y){return this.rangedFilter_.matches(new Xn(c,v))||(v=Dn.EMPTY_NODE),u.getImmediateChild(c).equals(v)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,v,P,H,Y):this.fullLimitUpdateChild_(u,c,v,H,Y)}updateFullNode(u,c,v){let P;if(c.isLeafNode()||c.isEmpty())P=Dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let H;P=Dn.EMPTY_NODE.withIndex(this.index_),H=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Y=0;for(;H.hasNext()&&Y<this.limit_;){const pe=H.getNext();if(this.withinDirectionalStart(pe)){if(!this.withinDirectionalEnd(pe))break;P=P.updateImmediateChild(pe.name,pe.node),Y++}}}else{let H;P=c.withIndex(this.index_),P=P.updatePriority(Dn.EMPTY_NODE),H=this.reverse_?P.getReverseIterator(this.index_):P.getIterator(this.index_);let Y=0;for(;H.hasNext();){const pe=H.getNext();Y<this.limit_&&this.withinDirectionalStart(pe)&&this.withinDirectionalEnd(pe)?Y++:P=P.updateImmediateChild(pe.name,Dn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,P,v)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,v,P,H){let Y;if(this.reverse_){const Ct=this.index_.getCompare();Y=(At,_n)=>Ct(_n,At)}else Y=this.index_.getCompare();const pe=u;(0,V.hu)(pe.numChildren()===this.limit_,"");const Me=new Xn(c,v),Fe=this.reverse_?pe.getFirstChild(this.index_):pe.getLastChild(this.index_),vt=this.rangedFilter_.matches(Me);if(pe.hasChild(c)){const Ct=pe.getImmediateChild(c);let At=P.getChildAfterChild(this.index_,Fe,this.reverse_);for(;null!=At&&(At.name===c||pe.hasChild(At.name));)At=P.getChildAfterChild(this.index_,At,this.reverse_);const _n=null==At?1:Y(At,Me);if(vt&&!v.isEmpty()&&_n>=0)return null!=H&&H.trackChildChange(ia(c,v,Ct)),pe.updateImmediateChild(c,v);{null!=H&&H.trackChildChange(Es(c,Ct));const gi=pe.updateImmediateChild(c,Dn.EMPTY_NODE);return null!=At&&this.rangedFilter_.matches(At)?(null!=H&&H.trackChildChange(Cn(At.name,At.node)),gi.updateImmediateChild(At.name,At.node)):gi}}return v.isEmpty()?u:vt&&Y(Fe,Me)>=0?(null!=H&&(H.trackChildChange(Es(Fe.name,Fe.node)),H.trackChildChange(Cn(c,v))),pe.updateImmediateChild(c,v).updateImmediateChild(Fe.name,Dn.EMPTY_NODE)):u}}class ii{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:at}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:et}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jr}copy(){const u=new ii;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function L(h){const u={};if(h.isDefault())return u;let c;if(h.index_===jr?c="$priority":h.index_===Go?c="$value":h.index_===Ni?c="$key":((0,V.hu)(h.index_ instanceof xa,"Unrecognized index type!"),c=h.index_.toString()),u.orderBy=(0,V.Wl)(c),h.startSet_){const v=h.startAfterSet_?"startAfter":"startAt";u[v]=(0,V.Wl)(h.indexStartValue_),h.startNameSet_&&(u[v]+=","+(0,V.Wl)(h.indexStartName_))}if(h.endSet_){const v=h.endBeforeSet_?"endBefore":"endAt";u[v]=(0,V.Wl)(h.indexEndValue_),h.endNameSet_&&(u[v]+=","+(0,V.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function re(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),u.vf=c}return h.index_!==jr&&(u.i=h.index_.toString()),u}class dt extends Or{constructor(u,c,v,P){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=v,this.appCheckTokenProvider_=P,this.log_=Dt("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,V.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,v,P){const H=u._path.toString();this.log_("Listen called for "+H+" "+u._queryIdentifier);const Y=dt.getListenId_(u,v),pe={};this.listens_[Y]=pe;const Me=L(u._queryParams);this.restRequest_(H+".json",Me,(Fe,vt)=>{let Ct=vt;if(404===Fe&&(Ct=null,Fe=null),null===Fe&&this.onDataUpdate_(H,Ct,!1,v),(0,V.DV)(this.listens_,Y)===pe){let At;At=Fe?401===Fe?"permission_denied":"rest_error:"+Fe:"ok",P(At,null)}})}unlisten(u,c){const v=dt.getListenId_(u,c);delete this.listens_[v]}get(u){const c=L(u._queryParams),v=u._path.toString(),P=new V.BH;return this.restRequest_(v+".json",c,(H,Y)=>{let pe=Y;404===H&&(pe=null,H=null),null===H?(this.onDataUpdate_(v,pe,!1,null),P.resolve(pe)):P.reject(new Error(pe))}),P.promise}refreshAuthToken(u){}restRequest_(u,c={},v){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([P,H])=>{P&&P.accessToken&&(c.auth=P.accessToken),H&&H.token&&(c.ac=H.token);const Y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,V.xO)(c);this.log_("Sending REST request for "+Y);const pe=new XMLHttpRequest;pe.onreadystatechange=()=>{if(v&&4===pe.readyState){this.log_("REST Response for "+Y+" received. status:",pe.status,"response:",pe.responseText);let Me=null;if(pe.status>=200&&pe.status<300){try{Me=(0,V.cI)(pe.responseText)}catch(Fe){Ht("Failed to parse JSON response for "+Y+": "+pe.responseText)}v(null,Me)}else 401!==pe.status&&404!==pe.status&&Ht("Got unsuccessful REST response for "+Y+" Status: "+pe.status),v(pe.status);v=null}},pe.open("GET",Y,!0),pe.send()})}}class tn{constructor(){this.rootNode_=Dn.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function bi(){return{value:null,children:new Map}}function es(h,u,c){if(Ln(u))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,c);else{const v=Mn(u);h.children.has(v)||h.children.set(v,bi()),es(h.children.get(v),u=Tn(u),c)}}function oo(h,u){if(Ln(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(jr,(v,P)=>{es(h,new xn(v),P)}),oo(h,u)}}if(h.children.size>0){const c=Mn(u);return u=Tn(u),h.children.has(c)&&oo(h.children.get(c),u)&&h.children.delete(c),0===h.children.size}return!0}function Qr(h,u,c){null!==h.value?c(u,h.value):function Ai(h,u){h.children.forEach((c,v)=>{u(v,c)})}(h,(v,P)=>{Qr(P,new xn(u.toString()+"/"+v),c)})}class _o{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&Mt(this.last_,(v,P)=>{c[v]=c[v]-P}),this.last_=u,c}}class oa{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new _o(u);const v=1e4+2e4*Math.random();ni(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const u=this.statsListener_.get(),c={};let v=!1;Mt(u,(P,H)=>{H>0&&(0,V.r3)(this.statsToReport_,P)&&(c[P]=H,v=!0)}),v&&this.server_.reportStats(c),ni(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ns=(()=>{return(h=Ns||(Ns={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ns;var h})();function Fa(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class Ko{constructor(u,c,v){this.path=u,this.affectedTree=c,this.revert=v,this.type=Ns.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(Ln(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new xn(u));return new Ko(In(),c,this.revert)}}return(0,V.hu)(Mn(this.path)===u,"operationForChild called for unrelated child."),new Ko(Tn(this.path),this.affectedTree,this.revert)}}class zo{constructor(u,c){this.source=u,this.path=c,this.type=Ns.LISTEN_COMPLETE}operationForChild(u){return Ln(this.path)?new zo(this.source,In()):new zo(this.source,Tn(this.path))}}class vo{constructor(u,c,v){this.source=u,this.path=c,this.snap=v,this.type=Ns.OVERWRITE}operationForChild(u){return Ln(this.path)?new vo(this.source,In(),this.snap.getImmediateChild(u)):new vo(this.source,Tn(this.path),this.snap)}}class Po{constructor(u,c,v){this.source=u,this.path=c,this.children=v,this.type=Ns.MERGE}operationForChild(u){if(Ln(this.path)){const c=this.children.subtree(new xn(u));return c.isEmpty()?null:c.value?new vo(this.source,In(),c.value):new Po(this.source,In(),c)}return(0,V.hu)(Mn(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Po(this.source,Tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ms{constructor(u,c,v){this.node_=u,this.fullyInitialized_=c,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(Ln(u))return this.isFullyInitialized()&&!this.filtered_;const c=Mn(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class ga{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function Ro(h,u,c,v,P,H){const Y=v.filter(pe=>pe.type===c);Y.sort((pe,Me)=>function q(h,u,c){if(null==u.childName||null==c.childName)throw(0,V.g5)("Should only compare child_ events.");const v=new Xn(u.childName,u.snapshotNode),P=new Xn(c.childName,c.snapshotNode);return h.index_.compare(v,P)}(h,pe,Me)),Y.forEach(pe=>{const Me=function k(h,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,pe,H);P.forEach(Fe=>{Fe.respondsTo(pe.type)&&u.push(Fe.createEvent(Me,h.query_))})})}function B(h,u){return{eventCache:h,serverCache:u}}function ie(h,u,c,v){return B(new Ms(u,c,v),h.serverCache)}function De(h,u,c,v){return B(h.eventCache,new Ms(u,c,v))}function rt(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function ft(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let nn;class Pn{constructor(u,c=(()=>(nn||(nn=new er(bt)),nn))()){this.value=u,this.children=c}static fromObject(u){let c=new Pn(null);return Mt(u,(v,P)=>{c=c.set(new xn(v),P)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:In(),value:this.value};if(Ln(u))return null;{const v=Mn(u),P=this.children.get(v);if(null!==P){const H=P.findRootMostMatchingPathAndValue(Tn(u),c);return null!=H?{path:Sr(new xn(v),H.path),value:H.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(Ln(u))return this;{const c=Mn(u),v=this.children.get(c);return null!==v?v.subtree(Tn(u)):new Pn(null)}}set(u,c){if(Ln(u))return new Pn(c,this.children);{const v=Mn(u),H=(this.children.get(v)||new Pn(null)).set(Tn(u),c),Y=this.children.insert(v,H);return new Pn(this.value,Y)}}remove(u){if(Ln(u))return this.children.isEmpty()?new Pn(null):new Pn(null,this.children);{const c=Mn(u),v=this.children.get(c);if(v){const P=v.remove(Tn(u));let H;return H=P.isEmpty()?this.children.remove(c):this.children.insert(c,P),null===this.value&&H.isEmpty()?new Pn(null):new Pn(this.value,H)}return this}}get(u){if(Ln(u))return this.value;{const c=Mn(u),v=this.children.get(c);return v?v.get(Tn(u)):null}}setTree(u,c){if(Ln(u))return c;{const v=Mn(u),H=(this.children.get(v)||new Pn(null)).setTree(Tn(u),c);let Y;return Y=H.isEmpty()?this.children.remove(v):this.children.insert(v,H),new Pn(this.value,Y)}}fold(u){return this.fold_(In(),u)}fold_(u,c){const v={};return this.children.inorderTraversal((P,H)=>{v[P]=H.fold_(Sr(u,P),c)}),c(u,this.value,v)}findOnPath(u,c){return this.findOnPath_(u,In(),c)}findOnPath_(u,c,v){const P=!!this.value&&v(c,this.value);if(P)return P;if(Ln(u))return null;{const H=Mn(u),Y=this.children.get(H);return Y?Y.findOnPath_(Tn(u),Sr(c,H),v):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,In(),c)}foreachOnPath_(u,c,v){if(Ln(u))return this;{this.value&&v(c,this.value);const P=Mn(u),H=this.children.get(P);return H?H.foreachOnPath_(Tn(u),Sr(c,P),v):new Pn(null)}}foreach(u){this.foreach_(In(),u)}foreach_(u,c){this.children.inorderTraversal((v,P)=>{P.foreach_(Sr(u,v),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,v)=>{v.value&&u(c,v.value)})}}class hr{constructor(u){this.writeTree_=u}static empty(){return new hr(new Pn(null))}}function ar(h,u,c){if(Ln(u))return new hr(new Pn(c));{const v=h.writeTree_.findRootMostValueAndPath(u);if(null!=v){const P=v.path;let H=v.value;const Y=Ur(P,u);return H=H.updateChild(Y,c),new hr(h.writeTree_.set(P,H))}{const P=new Pn(c),H=h.writeTree_.setTree(u,P);return new hr(H)}}}function Li(h,u,c){let v=h;return Mt(c,(P,H)=>{v=ar(v,Sr(u,P),H)}),v}function Ar(h,u){if(Ln(u))return hr.empty();{const c=h.writeTree_.setTree(u,new Pn(null));return new hr(c)}}function ts(h,u){return null!=Cs(h,u)}function Cs(h,u){const c=h.writeTree_.findRootMostValueAndPath(u);return null!=c?h.writeTree_.get(c.path).getChild(Ur(c.path,u)):null}function Zr(h){const u=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(jr,(v,P)=>{u.push(new Xn(v,P))}):h.writeTree_.children.inorderTraversal((v,P)=>{null!=P.value&&u.push(new Xn(v,P.value))}),u}function Mi(h,u){if(Ln(u))return h;{const c=Cs(h,u);return new hr(null!=c?new Pn(c):h.writeTree_.subtree(u))}}function ls(h){return h.writeTree_.isEmpty()}function fs(h,u){return ma(In(),h.writeTree_,u)}function ma(h,u,c){if(null!=u.value)return c.updateChild(h,u.value);{let v=null;return u.children.inorderTraversal((P,H)=>{".priority"===P?((0,V.hu)(null!==H.value,"Priority writes must always be leaf nodes"),v=H.value):c=ma(Sr(h,P),H,c)}),!c.getChild(h).isEmpty()&&null!==v&&(c=c.updateChild(Sr(h,".priority"),v)),c}}function Lt(h,u){return Os(u,h)}function Sn(h,u){if(h.snap)return it(h.path,u);for(const c in h.children)if(h.children.hasOwnProperty(c)&&it(Sr(h.path,c),u))return!0;return!1}function Zt(h){return h.visible}function ut(h,u,c){let v=hr.empty();for(let P=0;P<h.length;++P){const H=h[P];if(u(H)){const Y=H.path;let pe;if(H.snap)it(c,Y)?(pe=Ur(c,Y),v=ar(v,pe,H.snap)):it(Y,c)&&(pe=Ur(Y,c),v=ar(v,In(),H.snap.getChild(pe)));else{if(!H.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(it(c,Y))pe=Ur(c,Y),v=Li(v,pe,H.children);else if(it(Y,c))if(pe=Ur(Y,c),Ln(pe))v=Li(v,In(),H.children);else{const Me=(0,V.DV)(H.children,Mn(pe));if(Me){const Fe=Me.getChild(Tn(pe));v=ar(v,In(),Fe)}}}}}return v}function It(h,u,c,v,P){if(v||P){const H=Mi(h.visibleWrites,u);return!P&&ls(H)?c:P||null!=c||ts(H,In())?fs(ut(h.allWrites,function(Fe){return(Fe.visible||P)&&(!v||!~v.indexOf(Fe.writeId))&&(it(Fe.path,u)||it(u,Fe.path))},u),c||Dn.EMPTY_NODE):null}{const H=Cs(h.visibleWrites,u);if(null!=H)return H;{const Y=Mi(h.visibleWrites,u);return ls(Y)?c:null!=c||ts(Y,In())?fs(Y,c||Dn.EMPTY_NODE):null}}}function Ls(h,u,c,v){return It(h.writeTree,h.treePath,u,c,v)}function aa(h,u){return function ws(h,u,c){let v=Dn.EMPTY_NODE;const P=Cs(h.visibleWrites,u);if(P)return P.isLeafNode()||P.forEachChild(jr,(H,Y)=>{v=v.updateImmediateChild(H,Y)}),v;if(c){const H=Mi(h.visibleWrites,u);return c.forEachChild(jr,(Y,pe)=>{const Me=fs(Mi(H,new xn(Y)),pe);v=v.updateImmediateChild(Y,Me)}),Zr(H).forEach(Y=>{v=v.updateImmediateChild(Y.name,Y.node)}),v}return Zr(Mi(h.visibleWrites,u)).forEach(Y=>{v=v.updateImmediateChild(Y.name,Y.node)}),v}(h.writeTree,h.treePath,u)}function xo(h,u,c,v){return function qa(h,u,c,v,P){(0,V.hu)(v||P,"Either existingEventSnap or existingServerSnap must exist");const H=Sr(u,c);if(ts(h.visibleWrites,H))return null;{const Y=Mi(h.visibleWrites,H);return ls(Y)?P.getChild(c):fs(Y,P.getChild(c))}}(h.writeTree,h.treePath,u,c,v)}function Ll(h,u){return function Yo(h,u){return Cs(h.visibleWrites,u)}(h.writeTree,Sr(h.treePath,u))}function Cl(h,u,c){return function Oi(h,u,c,v){const P=Sr(u,c),H=Cs(h.visibleWrites,P);return null!=H?H:v.isCompleteForChild(c)?fs(Mi(h.visibleWrites,P),v.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,u,c)}function rr(h,u){return Os(Sr(h.treePath,u),h.writeTree)}function Os(h,u){return{treePath:h,writeTree:u}}class pu{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,v=u.childName;(0,V.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const P=this.changeMap.get(v);if(P){const H=P.type;if("child_added"===c&&"child_removed"===H)this.changeMap.set(v,ia(v,u.snapshotNode,P.snapshotNode));else if("child_removed"===c&&"child_added"===H)this.changeMap.delete(v);else if("child_removed"===c&&"child_changed"===H)this.changeMap.set(v,Es(v,P.oldSnap));else if("child_changed"===c&&"child_added"===H)this.changeMap.set(v,Cn(v,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==H)throw(0,V.g5)("Illegal combination of changes: "+u+" occurred after "+P);this.changeMap.set(v,ia(v,u.snapshotNode,P.oldSnap))}}else this.changeMap.set(v,u)}getChanges(){return Array.from(this.changeMap.values())}}const bn=new class ci{getCompleteChild(u){return null}getChildAfterChild(u,c,v){return null}};class la{constructor(u,c,v=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=v}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const v=null!=this.optCompleteServerCache_?new Ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cl(this.writes_,u,v)}}getChildAfterChild(u,c,v){const P=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ft(this.viewCache_),H=function Dl(h,u,c,v,P,H){return function Zs(h,u,c,v,P,H,Y){let pe;const Me=Mi(h.visibleWrites,u),Fe=Cs(Me,In());if(null!=Fe)pe=Fe;else{if(null==c)return[];pe=fs(Me,c)}if(pe=pe.withIndex(Y),pe.isEmpty()||pe.isLeafNode())return[];{const vt=[],Ct=Y.getCompare(),At=H?pe.getReverseIteratorFrom(v,Y):pe.getIteratorFrom(v,Y);let _n=At.getNext();for(;_n&&vt.length<P;)0!==Ct(_n,v)&&vt.push(_n),_n=At.getNext();return vt}}(h.writeTree,h.treePath,u,c,v,P,H)}(this.writes_,P,c,1,v,u);return 0===H.length?null:H[0]}}function Qo(h,u,c,v,P,H){const Y=u.eventCache;if(null!=Ll(v,c))return u;{let pe,Me;if(Ln(c))if((0,V.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Fe=ft(u),Ct=aa(v,Fe instanceof Dn?Fe:Dn.EMPTY_NODE);pe=h.filter.updateFullNode(u.eventCache.getNode(),Ct,H)}else{const Fe=Ls(v,ft(u));pe=h.filter.updateFullNode(u.eventCache.getNode(),Fe,H)}else{const Fe=Mn(c);if(".priority"===Fe){(0,V.hu)(1===Ri(c),"Can't have a priority with additional path components");const vt=Y.getNode();Me=u.serverCache.getNode();const Ct=xo(v,c,vt,Me);pe=null!=Ct?h.filter.updatePriority(vt,Ct):Y.getNode()}else{const vt=Tn(c);let Ct;if(Y.isCompleteForChild(Fe)){Me=u.serverCache.getNode();const At=xo(v,c,Y.getNode(),Me);Ct=null!=At?Y.getNode().getImmediateChild(Fe).updateChild(vt,At):Y.getNode().getImmediateChild(Fe)}else Ct=Cl(v,Fe,u.serverCache);pe=null!=Ct?h.filter.updateChild(Y.getNode(),Fe,Ct,vt,P,H):Y.getNode()}}return ie(u,pe,Y.isFullyInitialized()||Ln(c),h.filter.filtersNodes())}}function _a(h,u,c,v,P,H,Y,pe){const Me=u.serverCache;let Fe;const vt=Y?h.filter:h.filter.getIndexedFilter();if(Ln(c))Fe=vt.updateFullNode(Me.getNode(),v,null);else if(vt.filtersNodes()&&!Me.isFiltered()){const _n=Me.getNode().updateChild(c,v);Fe=vt.updateFullNode(Me.getNode(),_n,null)}else{const _n=Mn(c);if(!Me.isCompleteForPath(c)&&Ri(c)>1)return u;const Yn=Tn(c),Xo=Me.getNode().getImmediateChild(_n).updateChild(Yn,v);Fe=".priority"===_n?vt.updatePriority(Me.getNode(),Xo):vt.updateChild(Me.getNode(),_n,Xo,Yn,bn,null)}const Ct=De(u,Fe,Me.isFullyInitialized()||Ln(c),vt.filtersNodes());return Qo(h,Ct,c,P,new la(P,Ct,H),pe)}function Do(h,u,c,v,P,H,Y){const pe=u.eventCache;let Me,Fe;const vt=new la(P,u,H);if(Ln(c))Fe=h.filter.updateFullNode(u.eventCache.getNode(),v,Y),Me=ie(u,Fe,!0,h.filter.filtersNodes());else{const Ct=Mn(c);if(".priority"===Ct)Fe=h.filter.updatePriority(u.eventCache.getNode(),v),Me=ie(u,Fe,pe.isFullyInitialized(),pe.isFiltered());else{const At=Tn(c),_n=pe.getNode().getImmediateChild(Ct);let Yn;if(Ln(At))Yn=v;else{const gi=vt.getCompleteChild(Ct);Yn=null!=gi?".priority"===So(At)&&gi.getChild(Pr(At)).isEmpty()?gi:gi.updateChild(At,v):Dn.EMPTY_NODE}Me=_n.equals(Yn)?u:ie(u,h.filter.updateChild(pe.getNode(),Ct,Yn,At,vt,Y),pe.isFullyInitialized(),h.filter.filtersNodes())}}return Me}function gu(h,u){return h.eventCache.isCompleteForChild(u)}function qo(h,u,c){return c.foreach((v,P)=>{u=u.updateChild(v,P)}),u}function al(h,u,c,v,P,H,Y,pe){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Fe,Me=u;Fe=Ln(c)?v:new Pn(null).setTree(c,v);const vt=u.serverCache.getNode();return Fe.children.inorderTraversal((Ct,At)=>{if(vt.hasChild(Ct)){const Yn=qo(0,u.serverCache.getNode().getImmediateChild(Ct),At);Me=_a(h,Me,new xn(Ct),Yn,P,H,Y,pe)}}),Fe.children.inorderTraversal((Ct,At)=>{const _n=!u.serverCache.isCompleteForChild(Ct)&&null===At.value;if(!vt.hasChild(Ct)&&!_n){const gi=qo(0,u.serverCache.getNode().getImmediateChild(Ct),At);Me=_a(h,Me,new xn(Ct),gi,P,H,Y,pe)}}),Me}class ya{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const v=this.query_._queryParams,P=new xs(v.getIndex()),H=function pa(h){return h.loadsAllData()?new xs(h.getIndex()):h.hasLimit()?new mo(h):new Ds(h)}(v);this.processor_=function Er(h){return{filter:h}}(H);const Y=c.serverCache,pe=c.eventCache,Me=P.updateFullNode(Dn.EMPTY_NODE,Y.getNode(),null),Fe=H.updateFullNode(Dn.EMPTY_NODE,pe.getNode(),null),vt=new Ms(Me,Y.isFullyInitialized(),P.filtersNodes()),Ct=new Ms(Fe,pe.isFullyInitialized(),H.filtersNodes());this.viewCache_=B(Ct,vt),this.eventGenerator_=new ga(this.query_)}get query(){return this.query_}}function ao(h,u){const c=ft(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!Ln(u)&&!c.getImmediateChild(Mn(u)).isEmpty())?c.getChild(u):null}function va(h){return 0===h.eventRegistrations_.length}function Co(h,u,c){const v=[];if(c){(0,V.hu)(null==u,"A cancel should cancel all event registrations.");const P=h.query._path;h.eventRegistrations_.forEach(H=>{const Y=H.createCancelEvent(c,P);Y&&v.push(Y)})}if(u){let P=[];for(let H=0;H<h.eventRegistrations_.length;++H){const Y=h.eventRegistrations_[H];if(Y.matches(u)){if(u.hasAnyCallback()){P=P.concat(h.eventRegistrations_.slice(H+1));break}}else P.push(Y)}h.eventRegistrations_=P}else h.eventRegistrations_=[];return v}function Is(h,u,c,v){u.type===Ns.MERGE&&null!==u.source.queryId&&((0,V.hu)(ft(h.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(rt(h.viewCache_),"Missing event cache, even though we have a server cache"));const P=h.viewCache_,H=function pr(h,u,c,v,P){const H=new pu;let Y,pe;if(c.type===Ns.OVERWRITE){const Fe=c;Fe.source.fromUser?Y=Do(h,u,Fe.path,Fe.snap,v,P,H):((0,V.hu)(Fe.source.fromServer,"Unknown source."),pe=Fe.source.tagged||u.serverCache.isFiltered()&&!Ln(Fe.path),Y=_a(h,u,Fe.path,Fe.snap,v,P,pe,H))}else if(c.type===Ns.MERGE){const Fe=c;Fe.source.fromUser?Y=function ka(h,u,c,v,P,H,Y){let pe=u;return v.foreach((Me,Fe)=>{const vt=Sr(c,Me);gu(u,Mn(vt))&&(pe=Do(h,pe,vt,Fe,P,H,Y))}),v.foreach((Me,Fe)=>{const vt=Sr(c,Me);gu(u,Mn(vt))||(pe=Do(h,pe,vt,Fe,P,H,Y))}),pe}(h,u,Fe.path,Fe.children,v,P,H):((0,V.hu)(Fe.source.fromServer,"Unknown source."),pe=Fe.source.tagged||u.serverCache.isFiltered(),Y=al(h,u,Fe.path,Fe.children,v,P,pe,H))}else if(c.type===Ns.ACK_USER_WRITE){const Fe=c;Y=Fe.revert?function Ki(h,u,c,v,P,H){let Y;if(null!=Ll(v,c))return u;{const pe=new la(v,u,P),Me=u.eventCache.getNode();let Fe;if(Ln(c)||".priority"===Mn(c)){let vt;if(u.serverCache.isFullyInitialized())vt=Ls(v,ft(u));else{const Ct=u.serverCache.getNode();(0,V.hu)(Ct instanceof Dn,"serverChildren would be complete if leaf node"),vt=aa(v,Ct)}Fe=h.filter.updateFullNode(Me,vt,H)}else{const vt=Mn(c);let Ct=Cl(v,vt,u.serverCache);null==Ct&&u.serverCache.isCompleteForChild(vt)&&(Ct=Me.getImmediateChild(vt)),Fe=null!=Ct?h.filter.updateChild(Me,vt,Ct,Tn(c),pe,H):u.eventCache.getNode().hasChild(vt)?h.filter.updateChild(Me,vt,Dn.EMPTY_NODE,Tn(c),pe,H):Me,Fe.isEmpty()&&u.serverCache.isFullyInitialized()&&(Y=Ls(v,ft(u)),Y.isLeafNode()&&(Fe=h.filter.updateFullNode(Fe,Y,H)))}return Y=u.serverCache.isFullyInitialized()||null!=Ll(v,In()),ie(u,Fe,Y,h.filter.filtersNodes())}}(h,u,Fe.path,v,P,H):function ll(h,u,c,v,P,H,Y){if(null!=Ll(P,c))return u;const pe=u.serverCache.isFiltered(),Me=u.serverCache;if(null!=v.value){if(Ln(c)&&Me.isFullyInitialized()||Me.isCompleteForPath(c))return _a(h,u,c,Me.getNode().getChild(c),P,H,pe,Y);if(Ln(c)){let Fe=new Pn(null);return Me.getNode().forEachChild(Ni,(vt,Ct)=>{Fe=Fe.set(new xn(vt),Ct)}),al(h,u,c,Fe,P,H,pe,Y)}return u}{let Fe=new Pn(null);return v.foreach((vt,Ct)=>{const At=Sr(c,vt);Me.isCompleteForPath(At)&&(Fe=Fe.set(vt,Me.getNode().getChild(At)))}),al(h,u,c,Fe,P,H,pe,Y)}}(h,u,Fe.path,Fe.affectedTree,v,P,H)}else{if(c.type!==Ns.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+c.type);Y=function ul(h,u,c,v,P){const H=u.serverCache;return Qo(h,De(u,H.getNode(),H.isFullyInitialized()||Ln(c),H.isFiltered()),c,v,bn,P)}(h,u,c.path,v,H)}const Me=H.getChanges();return function Jt(h,u,c){const v=u.eventCache;if(v.isFullyInitialized()){const P=v.getNode().isLeafNode()||v.getNode().isEmpty(),H=rt(h);(c.length>0||!h.eventCache.isFullyInitialized()||P&&!v.getNode().equals(H)||!v.getNode().getPriority().equals(H.getPriority()))&&c.push(qs(rt(u)))}}(u,Y,Me),{viewCache:Y,changes:Me}}(h.processor_,P,u,c,v);return function us(h,u){(0,V.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,H.viewCache),(0,V.hu)(H.viewCache.serverCache.isFullyInitialized()||!P.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=H.viewCache,Za(h,H.changes,H.viewCache.eventCache.getNode(),null)}function Za(h,u,c,v){return function ol(h,u,c,v){const P=[],H=[];return u.forEach(Y=>{"child_changed"===Y.type&&h.index_.indexedValueChanged(Y.oldSnap,Y.snapshotNode)&&H.push(function sa(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(Y.childName,Y.snapshotNode))}),Ro(h,P,"child_removed",u,v,c),Ro(h,P,"child_added",u,v,c),Ro(h,P,"child_moved",H,v,c),Ro(h,P,"child_changed",u,v,c),Ro(h,P,"value",u,v,c),P}(h.eventGenerator_,u,c,v?[v]:h.eventRegistrations_)}let No,wi;class Ja{constructor(){this.views=new Map}}function Xa(h,u,c,v){const P=u.source.queryId;if(null!==P){const H=h.views.get(P);return(0,V.hu)(null!=H,"SyncTree gave us an op for an invalid query."),Is(H,u,c,v)}{let H=[];for(const Y of h.views.values())H=H.concat(Is(Y,u,c,v));return H}}function zu(h,u,c,v,P){const Y=h.views.get(u._queryIdentifier);if(!Y){let pe=Ls(c,P?v:null),Me=!1;pe?Me=!0:v instanceof Dn?(pe=aa(c,v),Me=!1):(pe=Dn.EMPTY_NODE,Me=!1);const Fe=B(new Ms(pe,Me,!1),new Ms(v,P,!1));return new ya(u,Fe)}return Y}function el(h){const u=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function Da(h,u){let c=null;for(const v of h.views.values())c=c||ao(v,u);return c}function Fi(h,u){return u._queryParams.loadsAllData()?tl(h):h.views.get(u._queryIdentifier)}function Va(h,u){return null!=Fi(h,u)}function Zo(h){return null!=tl(h)}function tl(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let yc=1;class M{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Pn(null),this.pendingWriteTree_=function zl(){return{visibleWrites:hr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O(h,u,c,v,P){return function ns(h,u,c,v,P){(0,V.hu)(v>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===P&&(P=!0),h.allWrites.push({path:u,snap:c,writeId:v,visible:P}),P&&(h.visibleWrites=ar(h.visibleWrites,u,c)),h.lastWriteId=v}(h.pendingWriteTree_,u,c,v,P),P?Jr(h,new vo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function F(h,u,c=!1){const v=function Qa(h,u){for(let c=0;c<h.allWrites.length;c++){const v=h.allWrites[c];if(v.writeId===u)return v}return null}(h.pendingWriteTree_,u);if(function rn(h,u){const c=h.allWrites.findIndex(pe=>pe.writeId===u);(0,V.hu)(c>=0,"removeWrite called with nonexistent writeId.");const v=h.allWrites[c];h.allWrites.splice(c,1);let P=v.visible,H=!1,Y=h.allWrites.length-1;for(;P&&Y>=0;){const pe=h.allWrites[Y];pe.visible&&(Y>=c&&Sn(pe,v.path)?P=!1:it(v.path,pe.path)&&(H=!0)),Y--}return!!P&&(H?(function Ku(h){h.visibleWrites=ut(h.allWrites,Zt,In()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(v.snap?h.visibleWrites=Ar(h.visibleWrites,v.path):Mt(v.children,Me=>{h.visibleWrites=Ar(h.visibleWrites,Sr(v.path,Me))}),!0))}(h.pendingWriteTree_,u)){let H=new Pn(null);return null!=v.snap?H=H.set(In(),!0):Mt(v.children,Y=>{H=H.set(new xn(Y),!0)}),Jr(h,new Ko(v.path,H,c))}return[]}function $(h,u,c){return Jr(h,new vo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function Je(h,u,c,v,P=!1){const H=u._path,Y=h.syncPointTree_.get(H);let pe=[];if(Y&&("default"===u._queryIdentifier||Va(Y,u))){const Me=function Pu(h,u,c,v){const P=u._queryIdentifier,H=[];let Y=[];const pe=Zo(h);if("default"===P)for(const[Me,Fe]of h.views.entries())Y=Y.concat(Co(Fe,c,v)),va(Fe)&&(h.views.delete(Me),Fe.query._queryParams.loadsAllData()||H.push(Fe.query));else{const Me=h.views.get(P);Me&&(Y=Y.concat(Co(Me,c,v)),va(Me)&&(h.views.delete(P),Me.query._queryParams.loadsAllData()||H.push(Me.query)))}return pe&&!Zo(h)&&H.push(new(function mu(){return(0,V.hu)(No,"Reference.ts has not been loaded"),No}())(u._repo,u._path)),{removed:H,events:Y}}(Y,u,c,v);(function di(h){return 0===h.views.size})(Y)&&(h.syncPointTree_=h.syncPointTree_.remove(H));const Fe=Me.removed;if(pe=Me.events,!P){const vt=-1!==Fe.findIndex(At=>At._queryParams.loadsAllData()),Ct=h.syncPointTree_.findOnPath(H,(At,_n)=>Zo(_n));if(vt&&!Ct){const At=h.syncPointTree_.subtree(H);if(!At.isEmpty()){const _n=function Fl(h){return h.fold((u,c,v)=>{if(c&&Zo(c))return[tl(c)];{let P=[];return c&&(P=el(c)),Mt(v,(H,Y)=>{P=P.concat(Y)}),P}})}(At);for(let Yn=0;Yn<_n.length;++Yn){const gi=_n[Yn],Xo=gi.query,Gl=Lo(h,gi);h.listenProvider_.startListening(cl(Xo),Ps(h,Xo),Gl.hashFn,Gl.onComplete)}}}!Ct&&Fe.length>0&&!v&&(vt?h.listenProvider_.stopListening(cl(u),null):Fe.forEach(At=>{const _n=h.queryToTagMap.get(Ca(At));h.listenProvider_.stopListening(cl(At),_n)}))}!function Yc(h,u){for(let c=0;c<u.length;++c){const v=u[c];if(!v._queryParams.loadsAllData()){const P=Ca(v),H=h.queryToTagMap.get(P);h.queryToTagMap.delete(P),h.tagToQueryMap.delete(H)}}}(h,Fe)}return pe}function Bt(h,u,c,v){const P=Hs(h,v);if(null!=P){const H=nl(P),Y=H.path,pe=H.queryId,Me=Ur(Y,u);return Ru(h,Y,new vo(Fa(pe),Me,c))}return[]}function Yt(h,u,c,v=!1){const P=u._path;let H=null,Y=!1;h.syncPointTree_.foreachOnPath(P,(At,_n)=>{const Yn=Ur(At,P);H=H||Da(_n,Yn),Y=Y||Zo(_n)});let Me,pe=h.syncPointTree_.get(P);pe?(Y=Y||Zo(pe),H=H||Da(pe,In())):(pe=new Ja,h.syncPointTree_=h.syncPointTree_.set(P,pe)),null!=H?Me=!0:(Me=!1,H=Dn.EMPTY_NODE,h.syncPointTree_.subtree(P).foreachChild((_n,Yn)=>{const gi=Da(Yn,In());gi&&(H=H.updateImmediateChild(_n,gi))}));const Fe=Va(pe,u);if(!Fe&&!u._queryParams.loadsAllData()){const At=Ca(u);(0,V.hu)(!h.queryToTagMap.has(At),"View does not exist, but we have a tag");const _n=function kl(){return yc++}();h.queryToTagMap.set(At,_n),h.tagToQueryMap.set(_n,At)}let Ct=function Js(h,u,c,v,P,H){const Y=zu(h,u,v,P,H);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,Y),function ct(h,u){h.eventRegistrations_.push(u)}(Y,c),function Ea(h,u){const c=h.viewCache_.eventCache,v=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(jr,(H,Y)=>{v.push(Cn(H,Y))}),c.isFullyInitialized()&&v.push(qs(c.getNode())),Za(h,v,c.getNode(),u)}(Y,c)}(pe,u,c,Lt(h.pendingWriteTree_,P),H,Me);if(!Fe&&!Y&&!v){const At=Fi(pe,u);Ct=Ct.concat(function lo(h,u,c){const v=u._path,P=Ps(h,u),H=Lo(h,c),Y=h.listenProvider_.startListening(cl(u),P,H.hashFn,H.onComplete),pe=h.syncPointTree_.subtree(v);if(P)(0,V.hu)(!Zo(pe.value),"If we're adding a query, it shouldn't be shadowed");else{const Me=pe.fold((Fe,vt,Ct)=>{if(!Ln(Fe)&&vt&&Zo(vt))return[tl(vt).query];{let At=[];return vt&&(At=At.concat(el(vt).map(_n=>_n.query))),Mt(Ct,(_n,Yn)=>{At=At.concat(Yn)}),At}});for(let Fe=0;Fe<Me.length;++Fe){const vt=Me[Fe];h.listenProvider_.stopListening(cl(vt),Ps(h,vt))}}return Y}(h,u,At))}return Ct}function vn(h,u,c){const P=h.pendingWriteTree_,H=h.syncPointTree_.findOnPath(u,(Y,pe)=>{const Fe=Da(pe,Ur(Y,u));if(Fe)return Fe});return It(P,u,H,c,!0)}function Jr(h,u){return Ts(u,h.syncPointTree_,null,Lt(h.pendingWriteTree_,In()))}function Ts(h,u,c,v){if(Ln(h.path))return ps(h,u,c,v);{const P=u.get(In());null==c&&null!=P&&(c=Da(P,In()));let H=[];const Y=Mn(h.path),pe=h.operationForChild(Y),Me=u.children.get(Y);if(Me&&pe){const Fe=c?c.getImmediateChild(Y):null,vt=rr(v,Y);H=H.concat(Ts(pe,Me,Fe,vt))}return P&&(H=H.concat(Xa(P,h,v,c))),H}}function ps(h,u,c,v){const P=u.get(In());null==c&&null!=P&&(c=Da(P,In()));let H=[];return u.children.inorderTraversal((Y,pe)=>{const Me=c?c.getImmediateChild(Y):null,Fe=rr(v,Y),vt=h.operationForChild(Y);vt&&(H=H.concat(ps(vt,pe,Me,Fe)))}),P&&(H=H.concat(Xa(P,h,v,c))),H}function Lo(h,u){const c=u.query,v=Ps(h,c);return{hashFn:()=>(function Yl(h){return h.viewCache_.serverCache.getNode()}(u)||Dn.EMPTY_NODE).hash(),onComplete:P=>{if("ok"===P)return v?function Ce(h,u,c){const v=Hs(h,c);if(v){const P=nl(v),H=P.path,Y=P.queryId,pe=Ur(H,u);return Ru(h,H,new zo(Fa(Y),pe))}return[]}(h,c._path,v):function ye(h,u){return Jr(h,new zo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,c._path);{const H=function nr(h,u){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const v=new Error(h+" at "+u._path.toString()+": "+c);return v.code=h.toUpperCase(),v}(P,c);return Je(h,c,null,H)}}}}function Ps(h,u){const c=Ca(u);return h.queryToTagMap.get(c)}function Ca(h){return h._path.toString()+"$"+h._queryIdentifier}function Hs(h,u){return h.tagToQueryMap.get(u)}function nl(h){const u=h.indexOf("$");return(0,V.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new xn(h.substr(0,u))}}function Ru(h,u,c){const v=h.syncPointTree_.get(u);return(0,V.hu)(v,"Missing sync point for query tag that we're tracking"),Xa(v,c,Lt(h.pendingWriteTree_,u),null)}function cl(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function zi(){return(0,V.hu)(wi,"Reference.ts has not been loaded"),wi}())(h._repo,h._path):h}class Fo{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new Fo(c)}node(){return this.node_}}class wl{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=Sr(this.path_,u);return new wl(this.syncTree_,c)}node(){return vn(this.syncTree_,this.path_)}}const wr=function(h,u,c){return h&&"object"==typeof h?((0,V.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Xr(h[".sv"],u,c):"object"==typeof h[".sv"]?wa(h[".sv"],u):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Xr=function(h,u,c){if("timestamp"===h)return c.timestamp;(0,V.hu)(!1,"Unexpected server value: "+h)},wa=function(h,u,c){h.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const v=h.increment;"number"!=typeof v&&(0,V.hu)(!1,"Unexpected increment value: "+v);const P=u.node();if((0,V.hu)(null!=P,"Expected ChildrenNode.EMPTY_NODE for nulls"),!P.isLeafNode())return v;const Y=P.getValue();return"number"!=typeof Y?v:Y+v},ko=function(h,u,c,v){return rs(u,new wl(c,h),v)},ql=function(h,u,c){return rs(h,new Fo(u),c)};function rs(h,u,c){const v=h.getPriority().val(),P=wr(v,u.getImmediateChild(".priority"),c);let H;if(h.isLeafNode()){const Y=h,pe=wr(Y.getValue(),u,c);return pe!==Y.getValue()||P!==Y.getPriority().val()?new Si(pe,Rr(P)):h}{const Y=h;return H=Y,P!==Y.getPriority().val()&&(H=H.updatePriority(new Si(P))),Y.forEachChild(jr,(pe,Me)=>{const Fe=rs(Me,u.getImmediateChild(pe),c);Fe!==Me&&(H=H.updateImmediateChild(pe,Fe))}),H}}class dl{constructor(u="",c=null,v={children:{},childCount:0}){this.name=u,this.parent=c,this.node=v}}function hl(h,u){let c=u instanceof xn?u:new xn(u),v=h,P=Mn(c);for(;null!==P;){const H=(0,V.DV)(v.node.children,P)||{children:{},childCount:0};v=new dl(P,v,H),c=Tn(c),P=Mn(c)}return v}function ua(h){return h.node.value}function Il(h,u){h.node.value=u,Ul(h)}function Yu(h){return h.node.childCount>0}function Zl(h,u){Mt(h.node.children,(c,v)=>{u(new dl(c,h,v))})}function Jl(h,u,c,v){c&&!v&&u(h),Zl(h,P=>{Jl(P,u,!0,v)}),c&&v&&u(h)}function Ba(h){return new xn(null===h.parent?h.name:Ba(h.parent)+"/"+h.name)}function Ul(h){null!==h.parent&&function xu(h,u,c){const v=function Qu(h){return void 0===ua(h)&&!Yu(h)}(c),P=(0,V.r3)(h.node.children,u);v&&P?(delete h.node.children[u],h.node.childCount--,Ul(h)):!v&&!P&&(h.node.children[u]=c.node,h.node.childCount++,Ul(h))}(h.parent,h.name,h)}const Ia=/[\[\].#$\/\u0000-\u001F\u007F]/,yu=/[\[\].#$\u0000-\u001F\u007F]/,Pi=10485760,ca=function(h){return"string"==typeof h&&0!==h.length&&!Ia.test(h)},$s=function(h){return"string"==typeof h&&0!==h.length&&!yu.test(h)},uo=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!tt(h)||h&&"object"==typeof h&&(0,V.r3)(h,".sv")},gs=function(h,u,c,v){v&&void 0===u||Fs((0,V.gK)(h,"value"),u,c)},Fs=function(h,u,c){const v=c instanceof xn?new qe(c,h):c;if(void 0===u)throw new Error(h+"contains undefined "+$n(v));if("function"==typeof u)throw new Error(h+"contains a function "+$n(v)+" with contents = "+u.toString());if(tt(u))throw new Error(h+"contains "+u.toString()+" "+$n(v));if("string"==typeof u&&u.length>Pi/3&&(0,V.ug)(u)>Pi)throw new Error(h+"contains a string greater than "+Pi+" utf8 bytes "+$n(v)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let P=!1,H=!1;if(Mt(u,(Y,pe)=>{if(".value"===Y)P=!0;else if(".priority"!==Y&&".sv"!==Y&&(H=!0,!ca(Y)))throw new Error(h+" contains an invalid key ("+Y+") "+$n(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _t(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,V.ug)(u),kt(h)})(v,Y),Fs(h,pe,v),function Qt(h){const u=h.parts_.pop();h.byteLength_-=(0,V.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(v)}),P&&H)throw new Error(h+' contains ".value" child '+$n(v)+" in addition to actual children.")}},Nu=function(h,u,c,v){if(v&&void 0===u)return;const P=(0,V.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(P+" must be an object containing the children to replace.");const H=[];Mt(u,(Y,pe)=>{const Me=new xn(Y);if(Fs(P,pe,Sr(c,Me)),".priority"===So(Me)&&!uo(pe))throw new Error(P+"contains an invalid value for '"+Me.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");H.push(Me)}),function(h,u){let c,v;for(c=0;c<u.length;c++){v=u[c];const H=yi(v);for(let Y=0;Y<H.length;Y++)if((".priority"!==H[Y]||Y!==H.length-1)&&!ca(H[Y]))throw new Error(h+"contains an invalid key ("+H[Y]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(as);let P=null;for(c=0;c<u.length;c++){if(v=u[c],null!==P&&it(P,v))throw new Error(h+"contains a path "+P.toString()+" that is ancestor of another path "+v.toString());P=v}}(P,H)},Tl=function(h,u,c,v){if(!(v&&void 0===c||$s(c)))throw new Error((0,V.gK)(h,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uo=function(h,u){if(".info"===Mn(u))throw new Error(h+" failed = Can't modify data under /.info/")};class eu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vl(h,u){let c=null;for(let v=0;v<u.length;v++){const P=u[v],H=P.getPath();null!==c&&!Te(H,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:H}),c.events.push(P)}c&&h.eventLists_.push(c)}function Bl(h,u,c){Vl(h,c),Eu(h,v=>Te(v,u))}function ms(h,u,c){Vl(h,c),Eu(h,v=>it(v,u)||it(u,v))}function Eu(h,u){h.recursionDepth_++;let c=!0;for(let v=0;v<h.eventLists_.length;v++){const P=h.eventLists_[v];P&&(u(P.path)?(tu(h.eventLists_[v]),h.eventLists_[v]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function tu(h){for(let u=0;u<h.events.length;u++){const c=h.events[u];if(null!==c){h.events[u]=null;const v=c.getEventRunner();gt&&Be("event: "+c.toString()),ti(v)}}}class fl{constructor(u,c,v,P){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=v,this.appCheckProvider_=P,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bi(),this.transactionQueueTree_=new dl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ha(h){const c=h.infoData_.getNode(new xn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Yi(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:Ha(h)})}function Du(h,u,c,v,P){h.dataUpdateCount++;const H=new xn(u);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,c):c;let Y=[];if(P)if(v){const Me=(0,V.UI)(c,Fe=>Rr(Fe));Y=function hn(h,u,c,v){const P=Hs(h,v);if(P){const H=nl(P),Y=H.path,pe=H.queryId,Me=Ur(Y,u),Fe=Pn.fromObject(c);return Ru(h,Y,new Po(Fa(pe),Me,Fe))}return[]}(h.serverSyncTree_,H,Me,P)}else{const Me=Rr(c);Y=Bt(h.serverSyncTree_,H,Me,P)}else if(v){const Me=(0,V.UI)(c,Fe=>Rr(Fe));Y=function ne(h,u,c){const v=Pn.fromObject(c);return Jr(h,new Po({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,v))}(h.serverSyncTree_,H,Me)}else{const Me=Rr(c);Y=$(h.serverSyncTree_,H,Me)}let pe=H;Y.length>0&&(pe=w(h,H)),ms(h.eventQueue_,pe,Y)}function pl(h,u){Al(h,"connected",u),!1===u&&function Ml(h){da(h,"onDisconnectEvents");const u=Yi(h),c=bi();Qr(h.onDisconnect_,In(),(P,H)=>{const Y=ko(P,H,h.serverSyncTree_,u);es(c,P,Y)});let v=[];Qr(c,In(),(P,H)=>{v=v.concat($(h.serverSyncTree_,P,H));const Y=ve(h,P);w(h,Y)}),h.onDisconnect_=bi(),ms(h.eventQueue_,In(),v)}(h)}function Al(h,u,c){const v=new xn("/.info/"+u),P=Rr(c);h.infoData_.updateSnapshot(v,P);const H=$(h.infoSyncTree_,v,P);ms(h.eventQueue_,v,H)}function gl(h){return h.nextWriteId_++}function qu(h,u,c){h.server_.onDisconnectCancel(u.toString(),(v,P)=>{"ok"===v&&oo(h.onDisconnect_,u),ba(0,c,v,P)})}function Lu(h,u,c,v){const P=Rr(c);h.server_.onDisconnectPut(u.toString(),P.val(!0),(H,Y)=>{"ok"===H&&es(h.onDisconnect_,u,P),ba(0,v,H,Y)})}function Sa(h,u,c){let v;v=".info"===Mn(u._path)?Je(h.infoSyncTree_,u,c):Je(h.serverSyncTree_,u,c),Bl(h.eventQueue_,u._path,v)}function da(h,...u){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),Be(c,...u)}function ba(h,u,c,v){u&&ti(()=>{if("ok"===c)u(null);else{const P=(c||"error").toUpperCase();let H=P;v&&(H+=": "+v);const Y=new Error(H);Y.code=P,u(Y)}})}function Iu(h,u,c){return vn(h.serverSyncTree_,u,c)||Dn.EMPTY_NODE}function _l(h,u=h.transactionQueueTree_){if(u||se(h,u),ua(u)){const c=x(h,u);(0,V.hu)(c.length>0,"Sending zero length transaction queue"),c.every(P=>0===P.status)&&function Tu(h,u,c){const v=c.map(Fe=>Fe.currentWriteId),P=Iu(h,u,v);let H=P;const Y=P.hash();for(let Fe=0;Fe<c.length;Fe++){const vt=c[Fe];(0,V.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const Ct=Ur(u,vt.path);H=H.updateChild(Ct,vt.currentOutputSnapshotRaw)}const pe=H.val(!0),Me=u;h.server_.put(Me.toString(),pe,Fe=>{da(h,"transaction put response",{path:Me.toString(),status:Fe});let vt=[];if("ok"===Fe){const Ct=[];for(let At=0;At<c.length;At++)c[At].status=2,vt=vt.concat(F(h.serverSyncTree_,c[At].currentWriteId)),c[At].onComplete&&Ct.push(()=>c[At].onComplete(null,!0,c[At].currentOutputSnapshotResolved)),c[At].unwatcher();se(h,hl(h.transactionQueueTree_,u)),_l(h,h.transactionQueueTree_),ms(h.eventQueue_,u,vt);for(let At=0;At<Ct.length;At++)ti(Ct[At])}else{if("datastale"===Fe)for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=3===c[Ct].status?4:0;else{Ht("transaction at "+Me.toString()+" failed: "+Fe);for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=4,c[Ct].abortReason=Fe}w(h,u)}},Y)}(h,Ba(u),c)}else Yu(u)&&Zl(u,c=>{_l(h,c)})}function w(h,u){const c=_(h,u),v=Ba(c);return function E(h,u,c){if(0===u.length)return;const v=[];let P=[];const Y=u.filter(pe=>0===pe.status).map(pe=>pe.currentWriteId);for(let pe=0;pe<u.length;pe++){const Me=u[pe],Fe=Ur(c,Me.path);let Ct,vt=!1;if((0,V.hu)(null!==Fe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Me.status)vt=!0,Ct=Me.abortReason,P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0));else if(0===Me.status)if(Me.retryCount>=25)vt=!0,Ct="maxretry",P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0));else{const At=Iu(h,Me.path,Y);Me.currentInputSnapshot=At;const _n=u[pe].update(At.val());if(void 0!==_n){Fs("transaction failed: Data returned ",_n,Me.path);let Yn=Rr(_n);"object"==typeof _n&&null!=_n&&(0,V.r3)(_n,".priority")||(Yn=Yn.updatePriority(At.getPriority()));const Xo=Me.currentWriteId,Gl=Yi(h),bs=ql(Yn,At,Gl);Me.currentOutputSnapshotRaw=Yn,Me.currentOutputSnapshotResolved=bs,Me.currentWriteId=gl(h),Y.splice(Y.indexOf(Xo),1),P=P.concat(O(h.serverSyncTree_,Me.path,bs,Me.currentWriteId,Me.applyLocally)),P=P.concat(F(h.serverSyncTree_,Xo,!0))}else vt=!0,Ct="nodata",P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0))}ms(h.eventQueue_,c,P),P=[],vt&&(u[pe].status=2,setTimeout(u[pe].unwatcher,Math.floor(0)),u[pe].onComplete&&v.push("nodata"===Ct?()=>u[pe].onComplete(null,!1,u[pe].currentInputSnapshot):()=>u[pe].onComplete(new Error(Ct),!1,null)))}se(h,h.transactionQueueTree_);for(let pe=0;pe<v.length;pe++)ti(v[pe]);_l(h,h.transactionQueueTree_)}(h,x(h,c),v),v}function _(h,u){let c,v=h.transactionQueueTree_;for(c=Mn(u);null!==c&&void 0===ua(v);)v=hl(v,c),c=Mn(u=Tn(u));return v}function x(h,u){const c=[];return G(h,u,c),c.sort((v,P)=>v.order-P.order),c}function G(h,u,c){const v=ua(u);if(v)for(let P=0;P<v.length;P++)c.push(v[P]);Zl(u,P=>{G(h,P,c)})}function se(h,u){const c=ua(u);if(c){let v=0;for(let P=0;P<c.length;P++)2!==c[P].status&&(c[v]=c[P],v++);c.length=v,Il(u,c.length>0?c:void 0)}Zl(u,v=>{se(h,v)})}function ve(h,u){const c=Ba(_(h,u)),v=hl(h.transactionQueueTree_,u);return function Xl(h,u,c){let v=c?h:h.parent;for(;null!==v;){if(u(v))return!0;v=v.parent}}(v,P=>{be(h,P)}),be(h,v),Jl(v,P=>{be(h,P)}),c}function be(h,u){const c=ua(u);if(c){const v=[];let P=[],H=-1;for(let Y=0;Y<c.length;Y++)3===c[Y].status||(1===c[Y].status?((0,V.hu)(H===Y-1,"All SENT items should be at beginning of queue."),H=Y,c[Y].status=3,c[Y].abortReason="set"):((0,V.hu)(0===c[Y].status,"Unexpected transaction status in abort"),c[Y].unwatcher(),P=P.concat(F(h.serverSyncTree_,c[Y].currentWriteId,!0)),c[Y].onComplete&&v.push(c[Y].onComplete.bind(null,new Error("set"),!1,null))));-1===H?Il(u,void 0):c.length=H+1,ms(h.eventQueue_,Ba(u),P);for(let Y=0;Y<v.length;Y++)ti(v[Y])}}const $t=function(h,u){const c=an(h),v=c.namespace;return"firebase.com"===c.domain&&Wt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==c.domain&&Wt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ee(c.host,c.secure,v,"ws"===c.scheme||"wss"===c.scheme,u,"",v!==c.subdomain),path:new xn(c.pathString)}},an=function(h){let u="",c="",v="",P="",H="",Y=!0,pe="https",Me=443;if("string"==typeof h){let Fe=h.indexOf("//");Fe>=0&&(pe=h.substring(0,Fe-1),h=h.substring(Fe+2));let vt=h.indexOf("/");-1===vt&&(vt=h.length);let Ct=h.indexOf("?");-1===Ct&&(Ct=h.length),u=h.substring(0,Math.min(vt,Ct)),vt<Ct&&(P=function Xe(h){let u="";const c=h.split("/");for(let v=0;v<c.length;v++)if(c[v].length>0){let P=c[v];try{P=decodeURIComponent(P.replace(/\+/g," "))}catch(H){}u+="/"+P}return u}(h.substring(vt,Ct)));const At=function mt(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const v=c.split("=");2===v.length?u[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):Ht(`Invalid query segment '${c}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,Ct)));Fe=u.indexOf(":"),Fe>=0?(Y="https"===pe||"wss"===pe,Me=parseInt(u.substring(Fe+1),10)):Fe=u.length;const _n=u.slice(0,Fe);if("localhost"===_n.toLowerCase())c="localhost";else if(_n.split(".").length<=2)c=_n;else{const Yn=u.indexOf(".");v=u.substring(0,Yn).toLowerCase(),c=u.substring(Yn+1),H=v}"ns"in At&&(H=At.ns)}return{host:u,port:Me,domain:c,subdomain:v,secure:Y,scheme:pe,pathString:P,namespace:H}},An="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wn=function(){let h=0;const u=[];return function(c){const v=c===h;let P;h=c;const H=new Array(8);for(P=7;P>=0;P--)H[P]=An.charAt(c%64),c=Math.floor(c/64);(0,V.hu)(0===c,"Cannot push at time == 0");let Y=H.join("");if(v){for(P=11;P>=0&&63===u[P];P--)u[P]=0;u[P]++}else for(P=0;P<12;P++)u[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)Y+=An.charAt(u[P]);return(0,V.hu)(20===Y.length,"nextPushId: Length should be 20."),Y}}();class fn{constructor(u,c,v,P){this.eventType=u,this.eventRegistration=c,this.snapshot=v,this.prevName=P}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class Zn{constructor(u,c,v){this.eventRegistration=u,this.error=c,this.path=v}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Vr{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class ei{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new V.BH;return qu(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Uo("OnDisconnect.remove",this._path);const u=new V.BH;return Lu(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Uo("OnDisconnect.set",this._path),gs("OnDisconnect.set",u,this._path,!1);const c=new V.BH;return Lu(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Uo("OnDisconnect.setWithPriority",this._path),gs("OnDisconnect.setWithPriority",u,this._path,!1),function(h,u,c){if(!c||void 0!==u){if(tt(u))throw new Error((0,V.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uo(u))throw new Error((0,V.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",c,!1);const v=new V.BH;return function Fu(h,u,c,v,P){const H=Rr(c,v);h.server_.onDisconnectPut(u.toString(),H.val(!0),(Y,pe)=>{"ok"===Y&&es(h.onDisconnect_,u,H),ba(0,P,Y,pe)})}(this._repo,this._path,u,c,v.wrapCallback(()=>{})),v.promise}update(u){Uo("OnDisconnect.update",this._path),Nu("OnDisconnect.update",u,this._path,!1);const c=new V.BH;return function wu(h,u,c,v){if((0,V.xb)(c))return Be("onDisconnect().update() called with empty data.  Don't do anything."),void ba(0,v,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),c,(P,H)=>{"ok"===P&&Mt(c,(Y,pe)=>{const Me=Rr(pe);es(h.onDisconnect_,Sr(u,Y),Me)}),ba(0,v,P,H)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class ai{constructor(u,c,v,P){this._repo=u,this._path=c,this._queryParams=v,this._orderByCalled=P}get key(){return Ln(this._path)?null:So(this._path)}get ref(){return new Rs(this._repo,this._path)}get _queryIdentifier(){const u=re(this._queryParams),c=Un(u);return"{}"===c?"default":c}get _queryObject(){return re(this._queryParams)}isEqual(u){if(!((u=(0,V.m9)(u))instanceof ai))return!1;const c=this._repo===u._repo,v=Te(this._path,u._path);return c&&v&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function to(h){let u="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(u+="/"+encodeURIComponent(String(h.pieces_[c])));return u||"/"}(this._path)}}class Rs extends ai{constructor(u,c){super(u,c,new ii,!1)}get parent(){const u=Pr(this._path);return null===u?null:new Rs(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class is{constructor(u,c,v){this._node=u,this.ref=c,this._index=v}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new xn(u),v=fi(this.ref,u);return new is(this._node.getChild(c),v,jr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(v,P)=>u(new is(P,fi(this.ref,v),jr)))}hasChild(u){const c=new xn(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ss(h,u){return(h=(0,V.m9)(h))._checkNotDeleted("ref"),void 0!==u?fi(h._root,u):h._root}function fi(h,u){return null===Mn((h=(0,V.m9)(h))._path)?(c=u,c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Tl("child","path",c,!1)):Tl("child","path",u,!1),new Rs(h._repo,Sr(h._path,u));var c}function pi(h){return h=(0,V.m9)(h),new ei(h._repo,h._path)}function Jo(h,u){h=(0,V.m9)(h),Uo("push",h._path),gs("push",u,h._path,!0);const c=Ha(h._repo),v=wn(c),P=fi(h,v),H=fi(h,v);let Y;return Y=null!=u?ks(H,u).then(()=>H):Promise.resolve(H),P.then=Y.then.bind(Y),P.catch=Y.then.bind(Y,void 0),P}function Hl(h){return Uo("remove",h._path),ks(h,null)}function ks(h,u){h=(0,V.m9)(h),Uo("set",h._path),gs("set",u,h._path,!1);const c=new V.BH;return function ru(h,u,c,v,P){da(h,"set",{path:u.toString(),value:c,priority:v});const H=Yi(h),Y=Rr(c,v),pe=vn(h.serverSyncTree_,u),Me=ql(Y,pe,H),Fe=gl(h),vt=O(h.serverSyncTree_,u,Me,Fe,!0);Vl(h.eventQueue_,vt),h.server_.put(u.toString(),Y.val(!0),(At,_n)=>{const Yn="ok"===At;Yn||Ht("set at "+u+" failed: "+At);const gi=F(h.serverSyncTree_,Fe,!Yn);ms(h.eventQueue_,u,gi),ba(0,P,At,_n)});const Ct=ve(h,u);w(h,Ct),ms(h.eventQueue_,Ct,[])}(h._repo,h._path,u,null,c.wrapCallback(()=>{})),c.promise}function Wn(h,u){Nu("update",u,h._path,!1);const c=new V.BH;return function Ta(h,u,c,v){da(h,"update",{path:u.toString(),value:c});let P=!0;const H=Yi(h),Y={};if(Mt(c,(pe,Me)=>{P=!1,Y[pe]=ko(Sr(u,pe),Rr(Me),h.serverSyncTree_,H)}),P)Be("update() called with empty data.  Don't do anything."),ba(0,v,"ok",void 0);else{const pe=gl(h),Me=function T(h,u,c,v){!function Eo(h,u,c,v){(0,V.hu)(v>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:c,writeId:v,visible:!0}),h.visibleWrites=Li(h.visibleWrites,u,c),h.lastWriteId=v}(h.pendingWriteTree_,u,c,v);const P=Pn.fromObject(c);return Jr(h,new Po({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,P))}(h.serverSyncTree_,u,Y,pe);Vl(h.eventQueue_,Me),h.server_.merge(u.toString(),c,(Fe,vt)=>{const Ct="ok"===Fe;Ct||Ht("update at "+u+" failed: "+Fe);const At=F(h.serverSyncTree_,pe,!Ct),_n=At.length>0?w(h,u):u;ms(h.eventQueue_,_n,At),ba(0,v,Fe,vt)}),Mt(c,Fe=>{const vt=ve(h,Sr(u,Fe));w(h,vt)}),ms(h.eventQueue_,u,[])}}(h._repo,h._path,u,c.wrapCallback(()=>{})),c.promise}function tr(h){h=(0,V.m9)(h);const u=new Vr(()=>{}),c=new Xt(u);return function ml(h,u,c){const v=function qn(h,u){const c=u._path;let v=null;h.syncPointTree_.foreachOnPath(c,(Fe,vt)=>{const Ct=Ur(Fe,c);v=v||Da(vt,Ct)});let P=h.syncPointTree_.get(c);P?v=v||Da(P,In()):(P=new Ja,h.syncPointTree_=h.syncPointTree_.set(c,P));const H=null!=v,Y=H?new Ms(v,!0,!1):null;return function Ua(h){return rt(h.viewCache_)}(zu(P,u,Lt(h.pendingWriteTree_,u._path),H?Y.getNode():Dn.EMPTY_NODE,H))}(h.serverSyncTree_,u);return null!=v?Promise.resolve(v):h.server_.get(u).then(P=>{const H=Rr(P).withIndex(u._queryParams.getIndex());let Y;if(Yt(h.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())Y=$(h.serverSyncTree_,u._path,H);else{const pe=Ps(h.serverSyncTree_,u);Y=Bt(h.serverSyncTree_,u._path,H,pe)}return ms(h.eventQueue_,u._path,Y),Je(h.serverSyncTree_,u,c,null,!0),H},P=>(da(h,"get for query "+(0,V.Wl)(u)+" failed: "+P),Promise.reject(new Error(P))))}(h._repo,h,c).then(v=>new is(v,new Rs(h._repo,h._path),h._queryParams.getIndex()))}class Xt{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const v=c._queryParams.getIndex();return new fn("value",this,new is(u.snapshotNode,new Rs(c._repo,c._path),v))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Zn(this,u,c):null}matches(u){return u instanceof Xt&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qi{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Zn(this,u,c):null}createEvent(u,c){(0,V.hu)(null!=u.childName,"Child events should have a childName.");const v=fi(new Rs(c._repo,c._path),u.childName),P=c._queryParams.getIndex();return new fn(u.type,this,new is(u.snapshotNode,v,P),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof Qi&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function eo(h,u,c,v){return function Xs(h,u,c,v,P){let H;if("object"==typeof v&&(H=void 0,P=v),"function"==typeof v&&(H=v),P&&P.onlyOnce){const Me=c,Fe=(vt,Ct)=>{Sa(h._repo,h,pe),Me(vt,Ct)};Fe.userCallback=c.userCallback,Fe.context=c.context,c=Fe}const Y=new Vr(c,H||void 0),pe="value"===u?new Xt(Y):new Qi(u,Y);return function vc(h,u,c){let v;v=".info"===Mn(u._path)?Yt(h.infoSyncTree_,u,c):Yt(h.serverSyncTree_,u,c),Bl(h.eventQueue_,u._path,v)}(h._repo,h,pe),()=>Sa(h._repo,h,pe)}(h,"value",u,c,v)}function Ks(h,u,c){let v=null;const P=c?new Vr(c):null;"value"===u?v=new Xt(P):u&&(v=new Qi(u,P)),Sa(h._repo,h,v)}(function wo(h){(0,V.hu)(!No,"__referenceConstructor has already been defined"),No=h})(Rs),function Ql(h){(0,V.hu)(!wi,"__referenceConstructor has already been defined"),wi=h}(Rs);const Uu={};function ch(h,u,c,v,P){let H=v||h.options.databaseURL;void 0===H&&(h.options.projectId||Wt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",h.options.projectId),H=`${h.options.projectId}-default-rtdb.firebaseio.com`);let Me,Fe,Y=$t(H,P),pe=Y.repoInfo;"undefined"!=typeof process&&process.env&&(Fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Fe?(Me=!0,H=`http://${Fe}?ns=${pe.namespace}`,Y=$t(H,P),pe=Y.repoInfo):Me=!Y.repoInfo.secure;const vt=P&&Me?new lr(lr.OWNER):new Nr(h.name,h.options,u);(function(h,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!ca(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),$s(h)}(c))throw new Error((0,V.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",Y),Ln(Y.path)||Wt("Database URL must point to the root of a Firebase Database (not including a child path).");const Ct=function hh(h,u,c,v){let P=Uu[u.name];P||(P={},Uu[u.name]=P);let H=P[h.toURLString()];return H&&Wt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),H=new fl(h,false,c,v),P[h.toURLString()]=H,H}(pe,h,vt,new Wr(h.name,c));return new Tg(Ct,h)}class Tg{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function jl(h,u,c){if(h.stats_=Ut(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new dt(h.repoInfo_,(v,P,H,Y)=>{Du(h,v,P,H,Y)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>pl(h,!0),0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(c)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}h.persistentConnection_=new po(h.repoInfo_,u,(v,P,H,Y)=>{Du(h,v,P,H,Y)},v=>{pl(h,v)},v=>{!function Cu(h,u){Mt(u,(c,v)=>{Al(h,c,v)})}(h,v)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(v=>{h.server_.refreshAuthToken(v)}),h.appCheckProvider_.addTokenChangeListener(v=>{h.server_.refreshAppCheckToken(v.token)}),h.statsReporter_=function Vn(h,u){const c=h.toString();return Gn[c]||(Gn[c]=u()),Gn[c]}(h.repoInfo_,()=>new oa(h.stats_,h.server_)),h.infoData_=new tn,h.infoSyncTree_=new M({startListening:(v,P,H,Y)=>{let pe=[];const Me=h.infoData_.getNode(v._path);return Me.isEmpty()||(pe=$(h.infoSyncTree_,v._path,Me),setTimeout(()=>{Y("ok")},0)),pe},stopListening:()=>{}}),Al(h,"connected",!1),h.serverSyncTree_=new M({startListening:(v,P,H,Y)=>(h.server_.listen(v,H,P,(pe,Me)=>{const Fe=Y(pe,Me);ms(h.eventQueue_,v._path,Fe)}),[]),stopListening:(v,P)=>{h.server_.unlisten(v,P)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rs(this._repo,In())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dh(h,u){const c=Uu[u];(!c||c[h.key]!==h)&&Wt(`Database ${u}(${h.repoInfo_}) has already been deleted.`),function rl(h){h.persistentConnection_&&h.persistentConnection_.interrupt("repo_interrupt")}(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Wt("Cannot call "+u+" on a deleted database.")}}function Vu(h=(0,S.Mq)(),u){const c=(0,S.qX)(h,"database").getImmediate({identifier:u});if(!c._instanceStarted){const v=(0,V.P0)("database");v&&function Tc(h,u,c,v={}){(h=(0,V.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Wt("Cannot call useEmulator() after instance has already been initialized.");const P=h._repoInternal;let H;if(P.repoInfo_.nodeAdmin)v.mockUserToken&&Wt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),H=new lr(lr.OWNER);else if(v.mockUserToken){const Y="string"==typeof v.mockUserToken?v.mockUserToken:(0,V.Sg)(v.mockUserToken,h.app.options.projectId);H=new lr(Y)}!function wc(h,u,c,v){h.repoInfo_=new Ee(`${u}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),v&&(h.authTokenProvider_=v)}(P,u,c,H)}(c,...v)}return c}const $l={".sv":"timestamp"};function mh(){return $l}function Sc(h){return{".sv":{increment:h}}}po.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},po.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function gh(h){(function he(h){J=h})(S.Jn),(0,S.Xd)(new te.wA("database",(u,{instanceIdentifier:c})=>ch(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,S.KN)(de,"0.14.3",h),(0,S.KN)(de,"0.14.3","esm2017")}()},9996:(we,ae,C)=>{C.d(ae,{ET:()=>qm,hJ:()=>sf,oe:()=>_y,JU:()=>gd,ST:()=>_d,Lx:()=>$m,QT:()=>zm,kl:()=>gy,PL:()=>my,ad:()=>md,b9:()=>Hm,cf:()=>Zm,Xo:()=>cy,IO:()=>jm,Bt:()=>e_,TQ:()=>hy,r7:()=>Qm});var J,f=C(531),S=C(6881),te=C(4859),V=C(1877),le=C(2090),de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oe={},he=he||{},Q=de||self;function Z(){}function ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Le(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ie="closure_uid_"+(1e9*Math.random()>>>0),Ye=0;function We(i,e,t){return i.call.apply(i.bind,arguments)}function je(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function gt(i,e,t){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:je).apply(null,arguments)}function xt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ge(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,l,g){for(var D=Array(arguments.length-2),N=2;N<arguments.length;N++)D[N-2]=arguments[N];return e.prototype[l].apply(o,D)}}function Be(){this.s=this.s,this.o=this.o}Be.prototype.s=!1,Be.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ze(i){Object.prototype.hasOwnProperty.call(i,Ie)&&i[Ie]||(i[Ie]=++Ye)}(this)},Be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Wt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ht(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ce(o)){const l=i.length||0,g=o.length||0;i.length=l+g;for(let D=0;D<g;D++)i[l+D]=o[D]}else i.push(o)}}function Rt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",Z,e),Q.removeEventListener("test",Z,e)}catch(t){}return i}();function Ze(i){return/^[\s\xa0]*$/.test(i)}var at=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function et(i,e){return i<e?-1:i>e?1:0}function Nt(){var i=Q.navigator;return i&&(i=i.userAgent)?i:""}function bt(i){return-1!=Nt().indexOf(i)}function ht(i){return ht[" "](i),i}ht[" "]=Z;var dr,i,Kt=bt("Opera"),Mt=bt("Trident")||bt("MSIE"),fr=bt("Edge"),Br=fr||Mt,Ir=bt("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),nr=-1!=Nt().toLowerCase().indexOf("webkit")&&!bt("Edge");function kr(){var i=Q.document;return i?i.documentMode:void 0}e:{var vi="",mi=(i=Nt(),Ir?/rv:([^\);]+)(\)|;)/.exec(i):fr?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nr?/WebKit\/(\S+)/.exec(i):Kt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(mi&&(vi=mi?mi[1]:""),Mt){var ti=kr();if(null!=ti&&ti>parseFloat(vi)){dr=String(ti);break e}}dr=vi}var $r={};var lr=Q.document&&Mt&&(kr()||parseInt(dr,10))||void 0;function yr(i,e){if(Rt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ir){e:{try{ht(e.nodeName);var l=!0;break e}catch(g){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:cs[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&yr.X.h.call(this)}}Ge(yr,Rt);var cs={2:"touch",3:"pen",4:"mouse"};yr.prototype.h=function(){yr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),_i=0;function Ei(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++_i,this.ba=this.ea=!1}function vr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Zi(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function li(i){const e={};for(const t in i)e[t]=i[t];return e}const Tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let g=0;g<Tr.length;g++)t=Tr[g],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Oe(i){this.src=i,this.g={},this.h=0}function Ee(i,e){var t=e.type;if(t in i.g){var g,o=i.g[t],l=Tt(o,e);(g=0<=l)&&Array.prototype.splice.call(o,l,1),g&&(vr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nt(i,e,t,o){for(var l=0;l<i.length;++l){var g=i[l];if(!g.ba&&g.listener==e&&g.capture==!!t&&g.ha==o)return l}return-1}Oe.prototype.add=function(i,e,t,o,l){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var D=nt(i,e,o,l);return-1<D?(e=i[D],t||(e.ea=!1)):((e=new Ei(e,this.src,g,!!o,l)).ea=t,i.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),un={};function sn(i,e,t,o,l){if(o&&o.once)return Vn(i,e,t,o,l);if(Array.isArray(e)){for(var g=0;g<e.length;g++)sn(i,e[g],t,o,l);return null}return t=zr(t),i&&i[zt]?i.N(e,t,Le(o)?!!o.capture:!!o,l):Gn(i,e,t,!1,o,l)}function Gn(i,e,t,o,l,g){if(!e)throw Error("Invalid event type");var D=Le(l)?!!l.capture:!!l,N=Bn(i);if(N||(i[pt]=N=new Oe(i)),(t=N.add(e,t,o,D,g)).proxy)return t;if(o=function Ut(){const e=yn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)tt||(l=D),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(gn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Vn(i,e,t,o,l){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Vn(i,e[g],t,o,l);return null}return t=zr(t),i&&i[zt]?i.O(e,t,Le(o)?!!o.capture:!!o,l):Gn(i,e,t,!0,o,l)}function Kn(i,e,t,o,l){if(Array.isArray(e))for(var g=0;g<e.length;g++)Kn(i,e[g],t,o,l);else o=Le(o)?!!o.capture:!!o,t=zr(t),i&&i[zt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nt(g=i.g[e],t,o,l))&&(vr(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=Bn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nt(e,t,o,l)),(t=-1<i?e[i]:null)&&Kr(t))}function Kr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[zt])Ee(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(gn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Bn(e))?(Ee(t,i),0==t.h&&(t.src=null,e[pt]=null)):vr(i)}}}function gn(i){return i in un?un[i]:un[i]="on"+i}function yn(i,e){if(i.ba)i=!0;else{e=new yr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Kr(i),i=t.call(o,e)}return i}function Bn(i){return(i=i[pt])instanceof Oe?i:null}var ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(i){return"function"==typeof i?i:(i[ui]||(i[ui]=function(e){return i.handleEvent(e)}),i[ui])}function Fn(){Be.call(this),this.i=new Oe(this),this.P=this,this.I=null}function Lr(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Rt(e,i);else if(e instanceof Rt)e.target=e.target||i;else{var l=e;$e(e=new Rt(o,i),l)}if(l=!0,t)for(var g=t.length-1;0<=g;g--){var D=e.g=t[g];l=Bi(D,o,!0,e)&&l}if(l=Bi(D=e.g=i,o,!0,e)&&l,l=Bi(D,o,!1,e)&&l,t)for(g=0;g<t.length;g++)l=Bi(D=e.g=t[g],o,!1,e)&&l}function Bi(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,g=0;g<e.length;++g){var D=e[g];if(D&&!D.ba&&D.capture==t){var N=D.listener,K=D.ha||D.src;D.ea&&Ee(i.i,D),l=!1!==N.call(K,o)&&l}}return l&&!o.defaultPrevented}Ge(Fn,Be),Fn.prototype[zt]=!0,Fn.prototype.removeEventListener=function(i,e,t,o){Kn(this,i,e,t,o)},Fn.prototype.M=function(){if(Fn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)vr(t[o]);delete i.g[e],i.h--}}this.I=null},Fn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Fn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Gr=Q.JSON.stringify;function Ne(){var i=Fr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var en,Ve=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Et,i=>i.reset());class Et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ke(i){Q.setTimeout(()=>{throw i},0)}function jt(i,e){en||function Nn(){var i=Q.Promise.resolve(void 0);en=function(){i.then(He)}}(),ir||(en(),ir=!0),Fr.add(i,e)}var ir=!1,Fr=new class Ae{constructor(){this.h=this.g=null}add(e,t){const o=Ve.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function He(){for(var i;i=Ne();){try{i.h.call(i.g)}catch(t){Ke(t)}var e=Ve;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ir=!1}function Se(i,e){Fn.call(this),this.h=i||1,this.g=e||Q,this.j=gt(this.lb,this),this.l=Date.now()}function me(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ke(i,e,t){if("function"==typeof i)t&&(i=gt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function lt(i){i.g=ke(()=>{i.g=null,i.i&&(i.i=!1,lt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ge(Se,Fn),(J=Se.prototype).ca=!1,J.R=null,J.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lr(this,"tick"),this.ca&&(me(this),this.start()))}},J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){Se.X.M.call(this),me(this),delete this.g};class on extends Be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lt(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(i){Be.call(this),this.h=i,this.g={}}Ge(cn,Be);var Pe=[];function xe(i,e,t,o){Array.isArray(t)||(t&&(Pe[0]=t.toString()),t=Pe);for(var l=0;l<t.length;l++){var g=sn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function yt(i){Zi(i.g,function(e,t){this.g.hasOwnProperty(t)&&Kr(e)},i),i.g={}}function Gt(){this.g=!0}function Jn(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function si(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var g=l[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var D=1;D<l.length;D++)l[D]=""}}}return Gr(t)}catch(N){return e}}(i,t)+(o?" "+o:"")})}cn.prototype.M=function(){cn.X.M.call(this),yt(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.Aa=function(){this.g=!1},Gt.prototype.info=function(){};var Mr={},Hn=null;function ds(){return Hn=Hn||new Fn}function Or(i){Rt.call(this,Mr.Pa,i)}function Ji(i){const e=ds();Lr(e,new Or(e))}function ji(i,e){Rt.call(this,Mr.STAT_EVENT,i),this.stat=e}function or(i){const e=ds();Lr(e,new ji(e,i))}function Hi(i,e){Rt.call(this,Mr.Qa,i),this.size=e}function xn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}Mr.Pa="serverreachability",Ge(Or,Rt),Mr.STAT_EVENT="statevent",Ge(ji,Rt),Mr.Qa="timingevent",Ge(Hi,Rt);var In={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Mn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ri(){}function So(){}Ri.prototype.h=null;var Sr,to={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yi(){Rt.call(this,"d")}function Pr(){Rt.call(this,"c")}function Ln(){}function Ur(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new cn(this),this.O=Te,this.T=new Se(i=Br?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}Ge(yi,Rt),Ge(Pr,Rt),Ge(Ln,Ri),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Sr=new Ln;var Te=45e3,it={},qe={};function _t(i,e,t){i.K=1,i.v=ro(Ni(e)),i.s=t,i.P=!0,Qt(i,null)}function Qt(i,e){i.F=Date.now(),Cr(i),i.A=Ni(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),jr(t.i,"t",o),i.C=0,t=i.l.H,i.h=new as,i.g=Ro(i.l,t?e:null,!i.s),0<i.N&&(i.L=new on(gt(i.La,i,i.g),i.N)),xe(i.S,i.g,"readystatechange",i.ib),e=i.H?li(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Ji(),function On(i,e,t,o,l,g){i.info(function(){if(i.g)if(g)for(var D="",N=g.split("&"),K=0;K<N.length;K++){var ee=N[K].split("=");if(1<ee.length){var ge=ee[0];ee=ee[1];var Re=ge.split("_");D=2<=Re.length&&"type"==Re[1]?D+(ge+"=")+ee+"&":D+(ge+"=redacted&")}}else D=null;else D=g;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+D})}(i.j,i.u,i.A,i.m,i.U,i.s)}function kt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function $n(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Yr(i,t),l==qe){4==e&&(i.o=4,or(14),o=!1),Jn(i.j,i.m,null,"[Incomplete Response]");break}if(l==it){i.o=4,or(15),Jn(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Jn(i.j,i.m,l,null),Xi(i,l)}kt(i)&&l!=qe&&l!=it&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,or(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fa(e),e.K=!0,or(11))):(Jn(i.j,i.m,t,"[Invalid Chunked Response]"),ys(i),qr(i))}function Yr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?qe:(t=Number(e.substring(t,o)),isNaN(t)?it:(o+=1)+t>e.length?qe:(e=e.substr(o,t),i.C=o+t,e))}function Cr(i){i.V=Date.now()+i.O,xi(i,i.O)}function xi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=xn(gt(i.gb,i),e)}function br(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function qr(i){0==i.l.G||i.I||vo(i.l,i)}function ys(i){br(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,me(i.T),yt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Xi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Dn(t.h,i)))if(!i.J&&Dn(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(ee){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;zo(t),Ai(t)}La(t),or(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=xn(gt(t.cb,t),6e3));if(1>=Di(t.h)&&t.ja){try{t.ja()}catch(ee){}t.ja=void 0}}else Ms(t,11)}else if((i.J||t.g==i)&&zo(t),!Ze(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let ee=l[e];if(t.T=ee[0],ee=ee[1],2==t.G)if("c"==ee[0]){t.I=ee[1],t.ka=ee[2];const ge=ee[3];null!=ge&&(t.ma=ge,t.j.info("VER="+t.ma));const Re=ee[4];null!=Re&&(t.Ca=Re,t.j.info("SVER="+t.Ca));const ot=ee[5];null!=ot&&"number"==typeof ot&&0<ot&&(t.J=o=1.5*ot,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Pt=i.g;if(Pt){const Vt=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vt){var g=o.h;g.g||-1==Vt.indexOf("spdy")&&-1==Vt.indexOf("quic")&&-1==Vt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&($o(g,g.h),g.h=null))}if(o.D){const pn=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;pn&&(o.za=pn,er(o.F,o.D,pn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var D=i;if((o=t).sa=ol(o,o.H?o.ka:null,o.V),D.J){ur(o.h,D);var N=D,K=o.J;K&&N.setTimeout(K),N.B&&(br(N),Cr(N)),o.g=D}else yo(o);0<t.i.length&&Mo(t)}else"stop"!=ee[0]&&"close"!=ee[0]||Ms(t,7);else 3==t.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Ms(t,7):Qr(t):"noop"!=ee[0]&&t.l&&t.l.wa(ee),t.A=0)}Ji()}catch(ee){}}function Xn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function po(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(ce(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Ys(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ce(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,g=0;g<l;g++)e.call(void 0,o[g],t&&t[g],i)}(J=Ur.prototype).setTimeout=function(i){this.O=i},J.ib=function(i){i=i.target;const e=this.L;e&&3==re(i)?e.l():this.La(i)},J.La=function(i){try{if(i==this.g)e:{const ge=re(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ge)&&(3!=ge||Br||this.g&&(this.h.h||this.g.fa()||dt(this.g)))){this.I||4!=ge||7==e||Ji(),br(this);var t=this.g.aa();this.Y=t;t:if(kt(this)){var o=dt(this.g);i="";var l=o.length,g=4==re(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ys(this),qr(this);var D="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:g&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.fa();if(this.i=200==t,function mn(i,e,t,o,l,g,D){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+g+" "+D})}(this.j,this.u,this.A,this.m,this.U,ge,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,K=this.g;if((N=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ze(N)){var ee=N;break t}}ee=null}if(!(t=ee)){this.i=!1,this.o=3,or(12),ys(this),qr(this);break e}Jn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xi(this,t)}this.P?($n(this,ge,D),Br&&this.i&&3==ge&&(xe(this.S,this.T,"tick",this.hb),this.T.start())):(Jn(this.j,this.m,D,null),Xi(this,D)),4==ge&&ys(this),this.i&&!this.I&&(4==ge?vo(this.l,this):(this.i=!1,Cr(this)))}else 400==t&&0<D.indexOf("Unknown SID")?(this.o=3,or(12)):(this.o=0,or(13)),ys(this),qr(this)}}}catch(ge){}},J.hb=function(){if(this.g){var i=re(this.g),e=this.g.fa();this.C<e.length&&(br(this),$n(this,i,e),this.i&&4!=i&&Cr(this))}},J.cancel=function(){this.I=!0,ys(this)},J.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function sr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ji(),or(17)),ys(this),this.o=2,qr(this)):xi(this,this.V-i)};var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof hs){this.h=void 0!==e?e:i.h,$i(this,i.j),this.s=i.s,this.g=i.g,Gi(this,i.m),this.l=i.l,e=i.i;var t=new ri;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Qs(this,t),this.o=i.o}else i&&(t=String(i).match(bo))?(this.h=!!e,$i(this,t[1]||"",!0),this.s=vs(t[2]||""),this.g=vs(t[3]||"",!0),Gi(this,t[4]),this.l=vs(t[5]||"",!0),Qs(this,t[6]||"",!0),this.o=vs(t[7]||"")):(this.h=!!e,this.i=new ri(null,this.h))}function Ni(i){return new hs(i)}function $i(i,e,t){i.j=t?vs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Gi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qs(i,e,t){e instanceof ri?(i.i=e,function Wi(i,e){e&&!i.j&&(Vs(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Oa(this,o),jr(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=io(e,Si)),i.i=new ri(e,i.h))}function er(i,e,t){i.i.set(e,t)}function ro(i){return er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function io(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Bo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Bo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}hs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(io(e,so,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(io(e,so,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(io(t,"/"==t.charAt(0)?Ho:jo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",io(t,Ya)),i.join("")};var so=/[#\/\?@]/g,jo=/[#\?:]/g,Ho=/[#\?]/g,Si=/[#\?@]/g,Ya=/#/g;function ri(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Vs(i){i.g||(i.g=new Map,i.h=0,i.i&&function no(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var g=i[t].substring(0,o);l=i[t].substring(o+1)}else g=i[t];e(g,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Oa(i,e){Vs(i),e=go(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function sl(i,e){return Vs(i),e=go(i,e),i.g.has(e)}function jr(i,e,t){Oa(i,e),0<t.length&&(i.i=null,i.g.set(go(i,e),Wt(t)),i.h+=t.length)}function go(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Pa(i){this.l=i||Bs,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=ri.prototype).add=function(i,e){Vs(this),this.i=null,i=go(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},J.forEach=function(i,e){Vs(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},J.oa=function(){Vs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let g=0;g<l.length;g++)t.push(e[o])}return t},J.W=function(i){Vs(this);let e=[];if("string"==typeof i)sl(this,i)&&(e=e.concat(this.g.get(go(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},J.set=function(i,e){return Vs(this),this.i=null,sl(this,i=go(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},J.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const g=encodeURIComponent(String(o)),D=this.W(o);for(o=0;o<D.length;o++){var l=g;""!==D[o]&&(l+="="+encodeURIComponent(String(D[o]))),i.push(l)}}return this.i=i.join("&")};var Bs=10;function oi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Di(i){return i.h?1:i.g?i.g.size:0}function Dn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function $o(i,e){i.g?i.g.add(e):i.h=e}function ur(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ra(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Wt(i.i)}function Rr(){}function xa(){this.g=new Rr}function js(i,e,t){const o=t||"";try{Xn(i,function(l,g){let D=l;Le(l)&&(D=Gr(l)),e.push(o+g+"="+encodeURIComponent(D))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function qs(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(g){}}function Cn(i){this.l=i.ac||null,this.j=i.jb||!1}function Es(i,e){Fn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ia,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pa.prototype.cancel=function(){if(this.i=Ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Rr.prototype.stringify=function(i){return Q.JSON.stringify(i,void 0)},Rr.prototype.parse=function(i){return Q.JSON.parse(i,void 0)},Ge(Cn,Ri),Cn.prototype.g=function(){return new Es(this.l,this.j)},Cn.prototype.i=function(i){return function(){return i}}({}),Ge(Es,Fn);var ia=0;function sa(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function xs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ds(i)}function Ds(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(J=Es.prototype).open=function(i,e){if(this.readyState!=ia)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ds(this)},J.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xs(this)),this.readyState=ia},J.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Q.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sa(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},J.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?xs(this):Ds(this),3==this.readyState&&sa(this)}},J.Va=function(i){this.g&&(this.response=this.responseText=i,xs(this))},J.Ua=function(i){this.g&&(this.response=i,xs(this))},J.ga=function(){this.g&&xs(this)},J.setRequestHeader=function(i,e){this.v.append(i,e)},J.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var mo=Q.JSON.parse;function ii(i){Fn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pa,this.K=this.L=!1}Ge(ii,Fn);var pa="",Ot=/^https?$/i,zn=["POST","PUT"];function Wo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ci(i),j(i)}function Ci(i){i.D||(i.D=!0,Lr(i,"complete"),Lr(i,"error"))}function W(i){if(i.h&&void 0!==he&&(!i.C[1]||4!=re(i)||2!=i.aa()))if(i.v&&4==re(i))ke(i.Ha,0,i);else if(Lr(i,"readystatechange"),4==re(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===N){var l=String(i.H).match(bo)[1]||null;if(!l&&Q.self&&Q.self.location){var g=Q.self.location.protocol;l=g.substr(0,g.length-1)}o=!Ot.test(l?l.toLowerCase():"")}t=o}if(t)Lr(i,"complete"),Lr(i,"success");else{i.m=6;try{var D=2<re(i)?i.g.statusText:""}catch(K){D=""}i.j=D+" ["+i.aa()+"]",Ci(i)}}finally{j(i)}}}function j(i,e){if(i.g){L(i);const t=i.g,o=i.C[0]?Z:null;i.g=null,i.C=null,e||Lr(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function L(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function re(i){return i.g?i.g.readyState:0}function dt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case pa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tn(i){let e="";return Zi(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function bi(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=tn(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):er(i,e,t))}function es(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function oo(i){this.Ca=0,this.i=[],this.j=new Gt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=es("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=es("baseRetryDelayMs",5e3,i),this.bb=es("retryDelaySeedMs",1e4,i),this.$a=es("forwardChannelMaxRetries",2,i),this.ta=es("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Pa(i&&i.concurrentRequestLimit),this.Fa=new xa,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Qr(i){if(_o(i),3==i.G){var e=i.U++,t=Ni(i.F);er(t,"SID",i.I),er(t,"RID",e),er(t,"TYPE","terminate"),oa(i,t),(e=new Ur(i,i.j,e,void 0)).K=2,e.v=ro(Ni(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon&&(t=Q.navigator.sendBeacon(e.v.toString(),"")),!t&&Q.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ro(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cr(e)}ga(i)}function Ai(i){i.g&&(Fa(i),i.g.cancel(),i.g=null)}function _o(i){Ai(i),i.u&&(Q.clearTimeout(i.u),i.u=null),zo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function Mo(i){oi(i.h)||i.m||(i.m=!0,jt(i.Ja,i),i.C=0)}function El(i,e){var t;t=e?e.m:i.U++;const o=Ni(i.F);er(o,"SID",i.I),er(o,"RID",t),er(o,"AID",i.T),oa(i,o),i.o&&i.s&&bi(o,i.o,i.s),t=new Ur(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Ns(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),$o(i.h,t),_t(t,o,e)}function oa(i,e){i.ia&&Zi(i.ia,function(t,o){er(e,o,t)}),i.l&&Xn({},function(t,o){er(e,o,t)})}function Ns(i,e,t){t=Math.min(i.i.length,t);var o=i.l?gt(i.l.Ra,i.l,i):null;e:{var l=i.i;let g=-1;for(;;){const D=["count="+t];-1==g?0<t?(g=l[0].h,D.push("ofs="+g)):g=0:D.push("ofs="+g);let N=!0;for(let K=0;K<t;K++){let ee=l[K].h;const ge=l[K].g;if(ee-=g,0>ee)g=Math.max(0,l[K].h-100),N=!1;else try{js(ge,D,"req"+ee+"_")}catch(Re){o&&o(ge)}}if(N){o=D.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function yo(i){i.g||i.u||(i.Z=1,jt(i.Ia,i),i.A=0)}function La(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=xn(gt(i.Ia,i),Po(i,i.A)),i.A++,0))}function Fa(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Ko(i){i.g=new Ur(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ni(i.sa);er(e,"RID","rpc"),er(e,"SID",i.I),er(e,"CI",i.L?"0":"1"),er(e,"AID",i.T),er(e,"TYPE","xmlhttp"),oa(i,e),i.o&&i.s&&bi(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=ro(Ni(e)),t.s=null,t.P=!0,Qt(t,i)}function zo(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function vo(i,e){var t=null;if(i.g==e){zo(i),Fa(i),i.g=null;var o=2}else{if(!Dn(i.h,e))return;t=e.D,ur(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Lr(o=ds(),new Hi(o,t)),Mo(i)}else yo(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function Oo(i,e){return!(Di(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=xn(gt(i.Ja,i,e),Po(i,i.C)),i.C++,0)))}(i,e)||2==o&&La(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:Ms(i,5);break;case 4:Ms(i,10);break;case 3:Ms(i,6);break;default:Ms(i,2)}}function Po(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function Ms(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=gt(i.kb,i);t||(t=new hs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||$i(t,"https"),ro(t)),function Go(i,e){const t=new Gt;if(Q.Image){const o=new Image;o.onload=xt(qs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=xt(qs,t,o,"TestLoadImage: error",!1,e),o.onabort=xt(qs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=xt(qs,t,o,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else or(2);i.G=0,i.l&&i.l.va(e),ga(i),_o(i)}function ga(i){if(i.G=0,i.la=[],i.l){const e=Ra(i.h);(0!=e.length||0!=i.i.length)&&(Ht(i.la,e),Ht(i.la,i.i),i.h.i.length=0,Wt(i.i),i.i.length=0),i.l.ua()}}function ol(i,e,t){var o=t instanceof hs?Ni(t):new hs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Gi(o,o.m);else{var l=Q.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var g=new hs(null,void 0);o&&$i(g,o),e&&(g.g=e),l&&Gi(g,l),t&&(g.l=t),o=g}return e=i.za,(t=i.D)&&e&&er(o,t,e),er(o,"VER",i.ma),oa(i,o),o}function Ro(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(t&&i.Da&&!i.ra?new Cn({jb:!0}):i.ra)).Ka(i.H),e}function k(){}function q(){if(Mt&&!(10<=Number(lr)))throw Error("Environmental error: no available transport.")}function B(i,e){Fn.call(this),this.g=new oo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Ze(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ze(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new rt(this)}function ie(i){yi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function De(){Pr.call(this),this.status=1}function rt(i){this.g=i}(J=ii.prototype).Ka=function(i){this.L=i},J.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sr.g(),this.C=function Tn(i){return i.h||(i.h=i.i())}(this.u?this.u:Sr),this.g.onreadystatechange=gt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(g){return void Wo(this,g)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const g of o.keys())t.set(g,o.get(g))}o=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),l=Q.FormData&&i instanceof Q.FormData,!(0<=Tt(zn,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,D]of t)this.g.setRequestHeader(g,D);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{L(this),0<this.B&&((this.K=function Na(i){return Mt&&function ni(){return function Un(i){var e=$r;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=at(String(dr)).split("."),t=at("9").split("."),o=Math.max(e.length,t.length);for(let D=0;0==i&&D<o;D++){var l=e[D]||"",g=t[D]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;i=et(0==l[1].length?0:parseInt(l[1],10),0==g[1].length?0:parseInt(g[1],10))||et(0==l[2].length,0==g[2].length)||et(l[2],g[2]),l=l[3],g=g[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.qa,this)):this.A=ke(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){Wo(this,g)}},J.qa=function(){void 0!==he&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},J.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Lr(this,"complete"),Lr(this,"abort"),j(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),j(this,!0)),ii.X.M.call(this)},J.Ha=function(){this.s||(this.F||this.v||this.l?W(this):this.fb())},J.fb=function(){W(this)},J.aa=function(){try{return 2<re(this)?this.g.status:-1}catch(i){return-1}},J.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},J.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),mo(e)}},J.Ea=function(){return this.m},J.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=oo.prototype).ma=8,J.G=1,J.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new Ur(this,this.j,i,void 0);let g=this.s;if(this.S&&(g?(g=li(g),$e(g,this.S)):g=this.S),null!==this.o||this.N||(l.H=g,g=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ns(this,l,e),er(t=Ni(this.F),"RID",i),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),oa(this,t),g&&(this.N?e="headers="+encodeURIComponent(String(tn(g)))+"&"+e:this.o&&bi(t,this.o,g)),$o(this.h,l),this.Ya&&er(t,"TYPE","init"),this.O?(er(t,"$req",e),er(t,"SID","null"),l.Z=!0,_t(l,t,null)):_t(l,t,e),this.G=2}}else 3==this.G&&(i?El(this,i):0==this.i.length||oi(this.h)||El(this))},J.Ia=function(){if(this.u=null,Ko(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=xn(gt(this.eb,this),i)}},J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,or(10),Ai(this),Ko(this))},J.cb=function(){null!=this.v&&(this.v=null,Ai(this),La(this),or(19))},J.kb=function(i){i?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))},(J=k.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Ra=function(){},q.prototype.g=function(i,e){return new B(i,e)},Ge(B,Fn),B.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;or(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ol(i,null,i.V),Mo(i)},B.prototype.close=function(){Qr(this.g)},B.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Gr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Mo(e)},B.prototype.M=function(){this.g.l=null,delete this.j,Qr(this.g),delete this.g,B.X.M.call(this)},Ge(ie,yi),Ge(De,Pr),Ge(rt,k),rt.prototype.xa=function(){Lr(this.g,"a")},rt.prototype.wa=function(i){Lr(this.g,new ie(i))},rt.prototype.va=function(i){Lr(this.g,new De)},rt.prototype.ua=function(){Lr(this.g,"b")},q.prototype.createWebChannel=q.prototype.g,B.prototype.send=B.prototype.u,B.prototype.open=B.prototype.m,B.prototype.close=B.prototype.close,In.NO_ERROR=0,In.TIMEOUT=8,In.HTTP_ERROR=6,Mn.COMPLETE="complete",So.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",Fn.prototype.listen=Fn.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.Oa,ii.prototype.getLastErrorCode=ii.prototype.Ea,ii.prototype.getStatus=ii.prototype.aa,ii.prototype.getResponseJson=ii.prototype.Sa,ii.prototype.getResponseText=ii.prototype.fa,ii.prototype.send=ii.prototype.da,ii.prototype.setWithCredentials=ii.prototype.Ka;var ft=oe.createWebChannelTransport=function(){return new q},nn=oe.getStatEventTarget=function(){return ds()},Hr=oe.ErrorCode=In,Pn=oe.EventType=Mn,hr=oe.Event=Mr,ar=oe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Li=oe.FetchXmlHttpFactory=Cn,Ar=oe.WebChannel=So,ts=oe.XhrIo=ii;const Cs="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let Mi="9.17.1";const ls=new V.Yd("@firebase/firestore");function fs(){return ls.logLevel}function Lt(i,...e){if(ls.logLevel<=V.in.DEBUG){const t=e.map(Qa);ls.debug(`Firestore (${Mi}): ${i}`,...t)}}function ns(i,...e){if(ls.logLevel<=V.in.ERROR){const t=e.map(Qa);ls.error(`Firestore (${Mi}): ${i}`,...t)}}function Eo(i,...e){if(ls.logLevel<=V.in.WARN){const t=e.map(Qa);ls.warn(`Firestore (${Mi}): ${i}`,...t)}}function Qa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function rn(i="Unexpected state"){const e=`FIRESTORE (${Mi}) INTERNAL ASSERTION FAILED: `+i;throw ns(e),new Error(e)}function Sn(i,e){i||rn()}function Zt(i,e){return i}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class Yo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zs{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const g=ee=>this.i!==l?(l=this.i,t(ee)):Promise.resolve();let D=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new ws,e.enqueueRetryable(()=>g(this.currentUser))};const N=()=>{const ee=D;e.enqueueRetryable((0,f.Z)(function*(){yield ee.promise,yield g(o.currentUser)}))},K=ee=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(ee=>K(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?K(ee):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new ws)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Sn("string"==typeof o.accessToken),new qa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new Zr(e)}}class zl{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Sn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ls{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new zl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=g=>{null!=g.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const D=g.token!==this.A;return this.A=g.token,Lt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>o(g))};const l=g=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>l(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?l(g):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Sn("string"==typeof t.token),this.A=t.token,new aa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dl(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Cl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Dl(40);for(let g=0;g<l.length;++g)o.length<20&&l[g]<t&&(o+=e.charAt(l[g]%e.length))}return o}}function rr(i,e){return i<e?-1:i>e?1:0}function Os(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function pu(i){return i+"\0"}class ci{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new It(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new It(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new It(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new It(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ci.fromMillis(Date.now())}static fromDate(e){return ci.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ci(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new ci(0,0))}static max(){return new bn(new ci(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class la{constructor(e,t,o){void 0===t?t=0:t>e.length&&rn(),void 0===o?o=e.length-t:o>e.length-t&&rn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===la.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const g=e.get(l),D=t.get(l);if(g<D)return-1;if(g>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Er extends la{construct(e,t,o){return new Er(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new It(ut.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Er(t)}static emptyPath(){return new Er([])}}const us=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends la{construct(e,t,o){return new pr(e,t,o)}static isValidIdentifier(e){return us.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const g=()=>{if(0===o.length)throw new It(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let D=!1;for(;l<e.length;){const N=e[l];if("\\"===N){if(l+1===e.length)throw new It(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[l+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new It(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=K,l+=2}else"`"===N?(D=!D,l++):"."!==N||D?(o+=N,l++):(g(),l++)}if(g(),D)throw new It(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(Er.fromString(e))}static fromName(e){return new Jt(Er.fromString(e).popFirst(5))}static empty(){return new Jt(Er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new Er(e.slice()))}}class Qo{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function _a(i){return i.fields.find(e=>2===e.kind)}function Do(i){return i.fields.filter(e=>2!==e.kind)}Qo.UNKNOWN_ID=-1;class ka{constructor(e,t){this.fieldPath=e,this.kind=t}}class al{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new al(0,Ki.min())}}function ul(i){return new Ki(i.readTime,i.key,-1)}class Ki{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ki(bn.min(),Jt.empty(),-1)}static max(){return new Ki(bn.max(),Jt.empty(),-1)}}function ya(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(i.documentKey,e.documentKey),0!==t?t:rr(i.largestBatchId,e.largestBatchId))}const Yl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ua{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ao(i){return va.apply(this,arguments)}function va(){return va=(0,f.Z)(function*(i){if(i.code!==ut.FAILED_PRECONDITION||i.message!==Yl)throw i;Lt("LocalStore","Unexpectedly lost primary lease")}),va.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((o,l)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(o,l)},this.catchCallback=g=>{this.wrapFailure(t,g).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,o)=>{t(e)})}static reject(e){return new ct((t,o)=>{o(e)})}static waitFor(e){return new ct((t,o)=>{let l=0,g=0,D=!1;e.forEach(N=>{++l,N.next(()=>{++g,D&&g===l&&t()},K=>o(K))}),D=!0,g===l&&t()})}static or(e){let t=ct.resolve(!1);for(const o of e)t=t.next(l=>l?ct.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,g)=>{o.push(t.call(this,l,g))}),this.waitFor(o)}static mapArray(e,t){return new ct((o,l)=>{const g=e.length,D=new Array(g);let N=0;for(let K=0;K<g;K++){const ee=K;t(e[ee]).next(ge=>{D[ee]=ge,++N,N===g&&o(D)},ge=>l(ge))}})}static doWhile(e,t){return new ct((o,l)=>{const g=()=>{!0===e()?t().next(()=>{g()},l):o()};g()})}}class Co{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ws,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Za(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const l=di(o.target.error);this.P.reject(new Za(e,l))}}static open(e,t,o,l){try{return new Co(t,e.transaction(l,o))}catch(g){throw new Za(t,g)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ja(t)}}class Is{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Is.D((0,le.z$)())&&ns("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lt("SimpleDb","Removing database:",e),wo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,le.hl)())return!1;if(Is.N())return!0;const e=(0,le.z$)(),t=Is.D(e),o=0<t&&t<10,l=Is.k(e),g=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||g)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,f.Z)(function*(){return t.db||(Lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=D=>{o(D.target.result)},g.onblocked=()=>{l(new Za(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=D=>{const N=D.target.error;l("VersionError"===N.name?new It(ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new It(ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Za(e,N))},g.onupgradeneeded=D=>{Lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.S.$(D.target.result,g.transaction,D.oldVersion,t.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var g=this;return(0,f.Z)(function*(){const D="readonly"===t;let N=0;for(;;){++N;try{g.db=yield g.F(e);const K=Co.open(g.db,e,D?"readonly":"readwrite",o),ee=l(K).next(ge=>(K.V(),ge)).catch(ge=>(K.abort(ge),ct.reject(ge))).toPromise();return ee.catch(()=>{}),yield K.v,ee}catch(K){const ee=K,ge="FirebaseError"!==ee.name&&N<3;if(Lt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",ge),g.close(),!ge)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ea{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return wo(this.q.delete())}}class Za extends It{constructor(e,t){super(ut.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function No(i){return"IndexedDbTransactionError"===i.name}class Ja{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Lt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),wo(o)}add(e){return Lt("SimpleDb","ADD",this.store.name,e,e),wo(this.store.add(e))}get(e){return wo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Lt("SimpleDb","DELETE",this.store.name,e),wo(this.store.delete(e))}count(){return Lt("SimpleDb","COUNT",this.store.name),wo(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),g=[];return this.H(l,(D,N)=>{g.push(N)}).next(()=>g)}{const l=this.store.getAll(o.range);return new ct((g,D)=>{l.onerror=N=>{D(N.target.error)},l.onsuccess=N=>{g(N.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ct((l,g)=>{o.onerror=D=>{g(D.target.error)},o.onsuccess=D=>{l(D.target.result)}})}Y(e,t){Lt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const l=this.cursor(o);return this.H(l,(g,D,N)=>N.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.H(l,t)}tt(e){const t=this.cursor({});return new ct((o,l)=>{t.onerror=g=>{const D=di(g.target.error);l(D)},t.onsuccess=g=>{const D=g.target.result;D?e(D.primaryKey,D.value).next(N=>{N?D.continue():o()}):o()}})}H(e,t){const o=[];return new ct((l,g)=>{e.onerror=D=>{g(D.target.error)},e.onsuccess=D=>{const N=D.target.result;if(!N)return void l();const K=new Ea(N),ee=t(N.primaryKey,N.value,K);if(ee instanceof ct){const ge=ee.catch(Re=>(K.done(),ct.reject(Re)));o.push(ge)}K.isDone?l():null===K.G?N.continue():N.continue(K.G)}}).next(()=>ct.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wo(i){return new ct((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=di(o.target.error);t(l)}})}let mu=!1;function di(i){const e=Is.D((0,le.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new It("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mu||(mu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Xa{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{Lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){No(o)?Lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ao(o)}yield t.nt(6e4)}))}}class zu{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let l=t,g=!0;return ct.doWhile(()=>!0===g&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!o.has(D))return Lt("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,l).next(N=>{l-=N,o.add(D)});g=!1})).next(()=>t-l)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(g=>{const D=g.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(l,g)).next(N=>(Lt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>D.size)}))}ot(e,t){let o=e;return t.changes.forEach((l,g)=>{const D=ul(g);ya(D,o)>0&&(o=D)}),new Ki(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Js=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>o.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Pu{constructor(e,t,o,l,g,D,N,K){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=g,this.forceLongPolling=D,this.autoDetectLongPolling=N,this.useFetchStreams=K}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}function Da(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Fi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Va(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zo(i){return null==i}function tl(i){return 0===i&&1/i==-1/0}class zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let g=0;g<o.length;++g)l+=String.fromCharCode(o[g]);return l}(e);return new zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(i){if(Sn(!!i),"string"==typeof i){let e=0;const t=yc.exec(i);if(Sn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:O(i.seconds),nanos:O(i.nanos)}}function O(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function T(i){return"string"==typeof i?zi.fromBase64String(i):zi.fromUint8Array(i)}function F(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $(i){const e=i.mapValue.fields.__previous_value__;return F(e)?$(e):e}function ne(i){const e=M(i.mapValue.fields.__local_write_time__.timestampValue);return new ci(e.seconds,e.nanos)}const ye={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ce={nullValue:"NULL_VALUE"};function Je(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?F(i)?4:Ru(i)?9007199254740991:10:rn()}function Bt(i,e){if(i===e)return!0;const t=Je(i);if(t!==Je(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ne(i).isEqual(ne(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const g=M(o.timestampValue),D=M(l.timestampValue);return g.seconds===D.seconds&&g.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,T(i.bytesValue).isEqual(T(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return O(o.geoPointValue.latitude)===O(l.geoPointValue.latitude)&&O(o.geoPointValue.longitude)===O(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return O(o.integerValue)===O(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const g=O(o.doubleValue),D=O(l.doubleValue);return g===D?tl(g)===tl(D):isNaN(g)&&isNaN(D)}return!1}(i,e);case 9:return Os(i.arrayValue.values||[],e.arrayValue.values||[],Bt);case 10:return function(o,l){const g=o.mapValue.fields||{},D=l.mapValue.fields||{};if(Da(g)!==Da(D))return!1;for(const N in g)if(g.hasOwnProperty(N)&&(void 0===D[N]||!Bt(g[N],D[N])))return!1;return!0}(i,e);default:return rn()}var l}function hn(i,e){return void 0!==(i.values||[]).find(t=>Bt(t,e))}function Yt(i,e){if(i===e)return 0;const t=Je(i),o=Je(e);if(t!==o)return rr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(i.booleanValue,e.booleanValue);case 2:return function(l,g){const D=O(l.integerValue||l.doubleValue),N=O(g.integerValue||g.doubleValue);return D<N?-1:D>N?1:D===N?0:isNaN(D)?isNaN(N)?0:-1:1}(i,e);case 3:return vn(i.timestampValue,e.timestampValue);case 4:return vn(ne(i),ne(e));case 5:return rr(i.stringValue,e.stringValue);case 6:return function(l,g){const D=T(l),N=T(g);return D.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(l,g){const D=l.split("/"),N=g.split("/");for(let K=0;K<D.length&&K<N.length;K++){const ee=rr(D[K],N[K]);if(0!==ee)return ee}return rr(D.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,g){const D=rr(O(l.latitude),O(g.latitude));return 0!==D?D:rr(O(l.longitude),O(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,g){const D=l.values||[],N=g.values||[];for(let K=0;K<D.length&&K<N.length;++K){const ee=Yt(D[K],N[K]);if(ee)return ee}return rr(D.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,g){if(l===ye.mapValue&&g===ye.mapValue)return 0;if(l===ye.mapValue)return 1;if(g===ye.mapValue)return-1;const D=l.fields||{},N=Object.keys(D),K=g.fields||{},ee=Object.keys(K);N.sort(),ee.sort();for(let ge=0;ge<N.length&&ge<ee.length;++ge){const Re=rr(N[ge],ee[ge]);if(0!==Re)return Re;const ot=Yt(D[N[ge]],K[ee[ge]]);if(0!==ot)return ot}return rr(N.length,ee.length)}(i.mapValue,e.mapValue);default:throw rn()}}function vn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rr(i,e);const t=M(i),o=M(e),l=rr(t.seconds,o.seconds);return 0!==l?l:rr(t.nanos,o.nanos)}function qn(i){return Jr(i)}function Jr(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=M(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?T(i.bytesValue).toBase64():"referenceValue"in i?Jt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",g=!0;for(const D of o.values||[])g?g=!1:l+=",",l+=Jr(D);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let g="{",D=!0;for(const N of l)D?D=!1:g+=",",g+=`${N}:${Jr(o.fields[N])}`;return g+"}"}(i.mapValue):rn();var e}function Ts(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ps(i){return!!i&&"integerValue"in i}function Lo(i){return!!i&&"arrayValue"in i}function Ps(i){return!!i&&"nullValue"in i}function Ca(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hs(i){return!!i&&"mapValue"in i}function nl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fi(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=nl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ru(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fl(i){return"nullValue"in i?Ce:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ts(el.empty(),Jt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:rn()}function cl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ts(el.empty(),Jt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ye:rn()}function Yc(i,e){const t=Yt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function kl(i,e){const t=Yt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class lo{constructor(e,t){this.position=e,this.inclusive=t}}function Fo(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const g=e[l],D=i.position[l];if(o=g.field.isKeyField()?Jt.comparator(Jt.fromName(D.referenceValue),t.key):Yt(D,t.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return o}function wl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bt(i.position[t],e.position[t]))return!1;return!0}class _u{}class wr extends _u{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Yu(e,t,o):"array-contains"===t?new Xl(e,o):"in"===t?new Ba(e,o):"not-in"===t?new Ul(e,o):"array-contains-any"===t?new xu(e,o):new wr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Qu(e,o):new Zl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yt(t,this.value)):null!==t&&Je(this.value)===Je(t)&&this.matchesComparison(Yt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xr extends _u{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Xr(e,t)}matches(e){return wa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wa(i){return"and"===i.op}function ko(i){return"or"===i.op}function ql(i){return rs(i)&&wa(i)}function rs(i){for(const e of i.filters)if(e instanceof Xr)return!1;return!0}function dl(i){if(i instanceof wr)return i.field.canonicalString()+i.op.toString()+qn(i.value);if(ql(i))return i.filters.map(e=>dl(e)).join(",");{const e=i.filters.map(t=>dl(t)).join(",");return`${i.op}(${e})`}}function hl(i,e){return i instanceof wr?(t=i,(o=e)instanceof wr&&t.op===o.op&&t.field.isEqual(o.field)&&Bt(t.value,o.value)):i instanceof Xr?function(t,o){return o instanceof Xr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,g,D)=>l&&hl(g,o.filters[D]),!0)}(i,e):void rn();var t,o}function ua(i,e){const t=i.filters.concat(e);return Xr.create(t,i.op)}function Il(i){return i instanceof wr?`${(e=i).field.canonicalString()} ${e.op} ${qn(e.value)}`:i instanceof Xr?function(e){return e.op.toString()+" {"+e.getFilters().map(Il).join(" ,")+"}"}(i):"Filter";var e}class Yu extends wr{constructor(e,t,o){super(e,t,o),this.key=Jt.fromName(o.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qu extends wr{constructor(e,t){super(e,"in",t),this.keys=Jl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zl extends wr{constructor(e,t){super(e,"not-in",t),this.keys=Jl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jl(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Jt.fromName(o.referenceValue))}class Xl extends wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lo(t)&&hn(t.arrayValue,this.value)}}class Ba extends wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hn(this.value.arrayValue,t)}}class Ul extends wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(hn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hn(this.value.arrayValue,t)}}class xu extends wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>hn(this.value.arrayValue,o))}}class Ia{constructor(e,t="asc"){this.field=e,this.dir=t}}function yu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pi{constructor(e,t){this.comparator=e,this.root=t||$s.EMPTY}insert(e,t){return new Pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ca(this.root,e,this.comparator,!0)}}class ca{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?o(e.key,t):1,t&&l&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,t,o,l,g){this.key=e,this.value=t,this.color=null!=o?o:$s.RED,this.left=null!=l?l:$s.EMPTY,this.right=null!=g?g:$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,g){return new $s(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const g=o(e,l.key);return l=g<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===g?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return $s.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();const e=this.left.check();if(e!==this.right.check())throw rn();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new $s(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uo(this.data.getIterator())}getIteratorFrom(e){return new uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=o.getNext().key;if(0!==this.comparator(l,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hi(this.comparator);return t.data=e,t}}class uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gs(i){return i.hasNext()?i.getNext():void 0}class Fs{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new Fs([])}unionWith(e){let t=new hi(pr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Gs{constructor(e){this.value=e}static empty(){return new Gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Hs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(t)}setAll(e){let t=pr.emptyPath(),o={},l=[];e.forEach((D,N)=>{if(!t.isImmediateParentOf(N)){const K=this.getFieldsMap(t);this.applyChanges(K,o,l),o={},l=[],t=N.popLast()}D?o[N.lastSegment()]=nl(D):l.push(N.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,o,l)}delete(e){const t=this.field(e.popLast());Hs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Hs(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Fi(t,(l,g)=>e[l]=g);for(const l of o)delete e[l]}clone(){return new Gs(nl(this.value))}}function Nu(i){const e=[];return Fi(i.fields,(t,o)=>{const l=new pr([t]);if(Hs(o)){const g=Nu(o.mapValue).fields;if(0===g.length)e.push(l);else for(const D of g)e.push(l.child(D))}else e.push(l)}),new Fs(e)}class ki{constructor(e,t,o,l,g,D,N){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=g,this.data=D,this.documentState=N}static newInvalidDocument(e){return new ki(e,0,bn.min(),bn.min(),bn.min(),Gs.empty(),0)}static newFoundDocument(e,t,o,l){return new ki(e,1,t,bn.min(),o,l,0)}static newNoDocument(e,t){return new ki(e,2,t,bn.min(),bn.min(),Gs.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,bn.min(),bn.min(),Gs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vu{constructor(e,t=null,o=[],l=[],g=null,D=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=g,this.startAt=D,this.endAt=N,this.ft=null}}function Tl(i,e=null,t=[],o=[],l=null,g=null,D=null){return new vu(i,e,t,o,l,g,D)}function Sl(i){const e=Zt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>dl(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Zo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>qn(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>qn(o)).join(",")),e.ft=t}return e.ft}function Uo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!yu(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!hl(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!wl(i.startAt,e.startAt)&&wl(i.endAt,e.endAt)}function ja(i){return Jt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function eu(i,e){return i.filters.filter(t=>t instanceof wr&&t.field.isEqual(e))}function Vl(i,e,t){let o=Ce,l=!0;for(const g of eu(i,e)){let D=Ce,N=!0;switch(g.op){case"<":case"<=":D=Fl(g.value);break;case"==":case"in":case">=":D=g.value;break;case">":D=g.value,N=!1;break;case"!=":case"not-in":D=Ce}Yc({value:o,inclusive:l},{value:D,inclusive:N})<0&&(o=D,l=N)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const D=t.position[g];Yc({value:o,inclusive:l},{value:D,inclusive:t.inclusive})<0&&(o=D,l=t.inclusive);break}return{value:o,inclusive:l}}function Bl(i,e,t){let o=ye,l=!0;for(const g of eu(i,e)){let D=ye,N=!0;switch(g.op){case">=":case">":D=cl(g.value),N=!1;break;case"==":case"in":case"<=":D=g.value;break;case"<":D=g.value,N=!1;break;case"!=":case"not-in":D=ye}kl({value:o,inclusive:l},{value:D,inclusive:N})>0&&(o=D,l=N)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const D=t.position[g];kl({value:o,inclusive:l},{value:D,inclusive:t.inclusive})>0&&(o=D,l=t.inclusive);break}return{value:o,inclusive:l}}class ms{constructor(e,t=null,o=[],l=[],g=null,D="F",N=null,K=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=g,this.limitType=D,this.startAt=N,this.endAt=K,this.dt=null,this._t=null}}function tu(i){return new ms(i)}function bl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function nu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function fl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jl(i){return null!==i.collectionGroup}function Ha(i){const e=Zt(i);if(null===e.dt){e.dt=[];const t=fl(e),o=nu(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new Ia(t)),e.dt.push(new Ia(pr.keyField(),"asc"));else{let l=!1;for(const g of e.explicitOrderBy)e.dt.push(g),g.field.isKeyField()&&(l=!0);if(!l){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ia(pr.keyField(),g))}}}return e.dt}function Yi(i){const e=Zt(i);if(!e._t)if("F"===e.limitType)e._t=Tl(e.path,e.collectionGroup,Ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of Ha(e))t.push(new Ia(g.field,"desc"===g.dir?"asc":"desc"));const o=e.endAt?new lo(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new lo(e.startAt.position,e.startAt.inclusive):null;e._t=Tl(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function Du(i,e){e.getFirstInequalityField(),fl(i);const t=i.filters.concat([e]);return new ms(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function pl(i,e,t){return new ms(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Cu(i,e){return Uo(Yi(i),Yi(e))&&i.limitType===e.limitType}function Al(i){return`${Sl(Yi(i))}|lt:${i.limitType}`}function gl(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Il(o)).join(", ")}]`),Zo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>qn(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>qn(o)).join(",")),`Target(${t})`}(Yi(i))}; limitType=${i.limitType})`}function ml(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Jt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of Ha(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,g,D){const N=Fo(l,g,D);return l.inclusive?N<=0:N<0}(t.startAt,Ha(t),o)||t.endAt&&!function(l,g,D){const N=Fo(l,g,D);return l.inclusive?N>=0:N>0}(t.endAt,Ha(t),o)));var t,o}function Ta(i){return(e,t)=>{let o=!1;for(const l of Ha(i)){const g=Ml(l,e,t);if(0!==g)return g;o=o||l.field.isKeyField()}return 0}}function Ml(i,e,t){const o=i.field.isKeyField()?Jt.comparator(e.key,t.key):function(l,g,D){const N=g.data.field(l),K=D.data.field(l);return null!==N&&null!==K?Yt(N,K):rn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return rn()}}function qu(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function Lu(i){return{integerValue:""+i}}function Fu(i,e){return function wi(i){return"number"==typeof i&&Number.isInteger(i)&&!tl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Lu(e):qu(i,e)}class wu{constructor(){this._=void 0}}function vc(i,e,t){return i instanceof Ol?function(o,l){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(g.fields.__previous_value__=l),{mapValue:g}}(t,e):i instanceof da?ba(i,e):i instanceof Pl?Iu(i,e):function(o,l){const g=rl(o,l),D=Tu(g)+Tu(o.gt);return ps(g)&&ps(o.gt)?Lu(D):qu(o.yt,D)}(i,e)}function Sa(i,e,t){return i instanceof da?ba(i,e):i instanceof Pl?Iu(i,e):t}function rl(i,e){return i instanceof _l?ps(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Ol extends wu{}class da extends wu{constructor(e){super(),this.elements=e}}function ba(i,e){const t=w(e);for(const o of i.elements)t.some(l=>Bt(l,o))||t.push(o);return{arrayValue:{values:t}}}class Pl extends wu{constructor(e){super(),this.elements=e}}function Iu(i,e){let t=w(e);for(const o of i.elements)t=t.filter(l=>!Bt(l,o));return{arrayValue:{values:t}}}class _l extends wu{constructor(e,t){super(),this.yt=e,this.gt=t}}function Tu(i){return O(i.integerValue||i.doubleValue)}function w(i){return Lo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class E{constructor(e,t){this.field=e,this.transform=t}}class x{constructor(e,t){this.version=e,this.transformResults=t}}class G{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new G}static exists(e){return new G(void 0,e)}static updateTime(e){return new G(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function se(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ve{}function be(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ei(i.key,G.none()):new An(i.key,i.data,G.none());{const t=i.data,o=Gs.empty();let l=new hi(pr.comparator);for(let g of e.fields)if(!l.has(g)){let D=t.field(g);null===D&&g.length>1&&(g=g.popLast(),D=t.field(g)),null===D?o.delete(g):o.set(g,D),l=l.add(g)}return new wn(i.key,o,new Fs(l.toArray()),G.none())}}function Xe(i,e,t){i instanceof An?function(o,l,g){const D=o.value.clone(),N=Zn(o.fieldTransforms,l,g.transformResults);D.setAll(N),l.convertToFoundDocument(g.version,D).setHasCommittedMutations()}(i,e,t):i instanceof wn?function(o,l,g){if(!se(o.precondition,l))return void l.convertToUnknownDocument(g.version);const D=Zn(o.fieldTransforms,l,g.transformResults),N=l.data;N.setAll(fn(o)),N.setAll(D),l.convertToFoundDocument(g.version,N).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mt(i,e,t,o){return i instanceof An?function(l,g,D,N){if(!se(l.precondition,g))return D;const K=l.value.clone(),ee=Vr(l.fieldTransforms,N,g);return K.setAll(ee),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null}(i,e,t,o):i instanceof wn?function(l,g,D,N){if(!se(l.precondition,g))return D;const K=Vr(l.fieldTransforms,N,g),ee=g.data;return ee.setAll(fn(l)),ee.setAll(K),g.convertToFoundDocument(g.version,ee).setHasLocalMutations(),null===D?null:D.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ge=>ge.field))}(i,e,t,o):(D=t,se(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):D);var g,D}function $t(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),g=rl(o.transform,l||null);null!=g&&(null===t&&(t=Gs.empty()),t.set(o.field,g))}return t||null}function an(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Os(t,o,(l,g)=>function _(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof da&&o instanceof da||t instanceof Pl&&o instanceof Pl?Os(t.elements,o.elements,Bt):t instanceof _l&&o instanceof _l?Bt(t.gt,o.gt):t instanceof Ol&&o instanceof Ol);var t,o}(l,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class An extends ve{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wn extends ve{constructor(e,t,o,l,g=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function fn(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Zn(i,e,t){const o=new Map;Sn(i.length===t.length);for(let l=0;l<t.length;l++){const g=i[l],D=g.transform,N=e.data.field(g.field);o.set(g.field,Sa(D,N,t[l]))}return o}function Vr(i,e,t){const o=new Map;for(const l of i){const g=l.transform,D=t.data.field(l.field);o.set(l.field,vc(g,D,e))}return o}class ei extends ve{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ai extends ve{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ws{constructor(e){this.count=e}}var gr,mr;function Rs(i){switch(i){default:return rn();case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0}}function is(i){if(void 0===i)return ns("GRPC error has no .code"),ut.UNKNOWN;switch(i){case gr.OK:return ut.OK;case gr.CANCELLED:return ut.CANCELLED;case gr.UNKNOWN:return ut.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ut.INTERNAL;case gr.UNAVAILABLE:return ut.UNAVAILABLE;case gr.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case gr.NOT_FOUND:return ut.NOT_FOUND;case gr.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case gr.ABORTED:return ut.ABORTED;case gr.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case gr.DATA_LOSS:return ut.DATA_LOSS;default:return rn()}}(mr=gr||(gr={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";class Ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,g]of o)if(this.equalsFn(l,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let g=0;g<l.length;g++)if(this.equalsFn(l[g][0],e))return void(l[g]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(t,o)=>{for(const[l,g]of o)e(l,g)})}isEmpty(){return Va(this.inner)}size(){return this.innerSize}}const iu=new Pi(Jt.comparator);function fi(){return iu}const pi=new Pi(Jt.comparator);function Jo(...i){let e=pi;for(const t of i)e=e.insert(t.key,t);return e}function Hl(i){let e=pi;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function ks(){return En()}function Su(){return En()}function En(){return new Ss(i=>i.toString(),(i,e)=>i.isEqual(e))}const Wn=new Pi(Jt.comparator),tr=new hi(Jt.comparator);function Xt(...i){let e=tr;for(const t of i)e=e.add(t);return e}const Qi=new hi(rr);function Xs(){return Qi}class eo{constructor(e,t,o,l,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,Io.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new eo(bn.min(),l,Xs(),fi(),Xt())}}class Io{constructor(e,t,o,l,g){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Io(o,t,Xt(),Xt(),Xt())}}class Ii{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class bu{constructor(e,t){this.targetId=e,this.Et=t}}class Zu{constructor(e,t,o=zi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Ks{constructor(){this.At=0,this.Rt=y(),this.bt=zi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Xt(),t=Xt(),o=Xt();return this.Rt.forEach((l,g)=>{switch(g){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:rn()}}),new Io(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=y()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class b{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=fi(),this.qt=p(),this.Ut=new hi(rr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,o=e.Et.count,l=this.Yt(t);if(l){const g=l.target;if(ja(g))if(0===o){const D=new Jt(g.path);this.Qt(t,D,ki.newNoDocument(D,bn.min()))}else Sn(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((g,D)=>{const N=this.Yt(D);if(N){if(g.current&&ja(N.target)){const K=new Jt(N.target.path);null!==this.Lt.get(K)||this.te(D,K)||this.Qt(D,K,ki.newNoDocument(K,e))}g.St&&(t.set(D,g.Ct()),g.xt())}});let o=Xt();this.qt.forEach((g,D)=>{let N=!0;D.forEachWhile(K=>{const ee=this.Yt(K);return!ee||2===ee.purpose||(N=!1,!1)}),N&&(o=o.add(g))}),this.Lt.forEach((g,D)=>D.setReadTime(e));const l=new eo(e,t,this.Ut,this.Lt,o);return this.Lt=fi(),this.qt=p(),this.Ut=new hi(rr),l}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Ks,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new hi(rr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Lt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Ks),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function p(){return new Pi(Jt.comparator)}function y(){return new Pi(Jt.comparator)}const A={asc:"ASCENDING",desc:"DESCENDING"},X={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fe={and:"AND",or:"OR"};class Qe{constructor(e,t){this.databaseId=e,this.wt=t}}function wt(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dn(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Rn(i,e){return wt(i,e.toTimestamp())}function kn(i){return Sn(!!i),bn.fromTimestamp(function(e){const t=M(e);return new ci(t.seconds,t.nanos)}(i))}function Ui(i,e){return(t=i,new Er(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Aa(i){const e=Er.fromString(i);return Sn(Pf(e)),e}function $a(i,e){return Ui(i.databaseId,e.path)}function ha(i,e){const t=Aa(e);if(t.get(1)!==i.databaseId.projectId)throw new It(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new It(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Jt(Ju(t))}function su(i,e){return Ui(i.databaseId,e)}function Rl(i){const e=Aa(i);return 4===e.length?Er.emptyPath():Ju(e)}function ou(i){return new Er(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ju(i){return Sn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Xu(i,e,t){return{name:$a(i,e),fields:t.value.mapValue.fields}}function ku(i,e){let t;if(e instanceof An)t={update:Xu(i,e.key,e.value)};else if(e instanceof ei)t={delete:$a(i,e.key)};else if(e instanceof wn)t={update:Xu(i,e.key,e.data),updateMask:Tc(e.fieldMask)};else{if(!(e instanceof ai))return rn();t={verify:$a(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,g){const D=g.transform;if(D instanceof Ol)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof da)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Pl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof _l)return{fieldPath:g.field.canonicalString(),increment:D.gt};throw rn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Rn(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:rn()),t;var l}function Dc(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?G.updateTime(kn(l.updateTime)):void 0!==l.exists?G.exists(l.exists):G.none():G.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(g,D){let N=null;"setToServerValue"in D?(Sn("REQUEST_TIME"===D.setToServerValue),N=new Ol):"appendMissingElements"in D?N=new da(D.appendMissingElements.values||[]):"removeAllFromArray"in D?N=new Pl(D.removeAllFromArray.values||[]):"increment"in D?N=new _l(g,D.increment):rn();const K=pr.fromServerFormat(D.fieldPath);return new E(K,N)}(i,l)):[];var l;if(e.update){const l=ha(i,e.update.name),g=new Gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Fs((e.updateMask.fieldPaths||[]).map(ee=>pr.fromServerFormat(ee)));return new wn(l,g,D,t,o)}return new An(l,g,t,o)}if(e.delete){const l=ha(i,e.delete);return new ei(l,t)}if(e.verify){const l=ha(i,e.verify);return new ai(l,t)}return rn()}function Cc(i,e){return{documents:[su(i,e.path)]}}function wc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=su(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=su(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(K){if(0!==K.length)return Vu(Xr.create(K,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const g=function(K){if(0!==K.length)return K.map(ee=>{return{field:lu((ge=ee).field),direction:fh(ge.dir)};var ge})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const D=(ee=e.limit,i.wt||Zo(ee)?ee:{value:ee});var ee,N,K;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),t}function ch(i){let e=Rl(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Sn(1===o);const ge=t.from[0];ge.allDescendants?l=ge.collectionId:e=e.child(ge.collectionId)}let g=[];t.where&&(g=function(ge){const Re=hh(ge);return Re instanceof Xr&&ql(Re)?Re.getFilters():[Re]}(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(ge=>{return new Ia(Ic((Re=ge).field),function(ot){switch(ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let N=null;t.limit&&(N=function(ge){let Re;return Re="object"==typeof ge?ge.value:ge,Zo(Re)?null:Re}(t.limit));let K=null;var ge;t.startAt&&(K=new lo((ge=t.startAt).values||[],!!ge.before));let ee=null;return t.endAt&&(ee=function(ge){return new lo(ge.values||[],!ge.before)}(t.endAt)),function Eu(i,e,t,o,l,g,D,N){return new ms(i,e,t,o,l,g,D,N)}(e,l,D,g,N,"F",K,ee)}function hh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ic(e.unaryFilter.field);return wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Ic(e.unaryFilter.field);return wr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ic(e.unaryFilter.field);return wr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Ic(e.unaryFilter.field);return wr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(i):void 0!==i.fieldFilter?wr.create(Ic((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Xr.create(e.compositeFilter.filters.map(t=>hh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rn()}}(e.compositeFilter.op))}(i):rn();var e}function fh(i){return A[i]}function Tg(i){return X[i]}function ph(i){return fe[i]}function lu(i){return{fieldPath:i.canonicalString()}}function Ic(i){return pr.fromServerFormat(i.fieldPath)}function Vu(i){return i instanceof wr?function(e){if("=="===e.op){if(Ca(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NAN"}};if(Ps(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ca(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NOT_NAN"}};if(Ps(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(e.field),op:Tg(e.op),value:e.value}}}(i):i instanceof Xr?function(e){const t=e.getFilters().map(o=>Vu(o));return 1===t.length?t[0]:{compositeFilter:{op:ph(e.op),filters:t}}}(i):rn()}function Tc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function il(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gh(e)),e=Rf(i.get(t),e);return gh(e)}function Rf(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const g=i.charAt(l);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function gh(i){return i+"\x01\x01"}function $l(i){const e=i.length;if(Sn(e>=2),2===e)return Sn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Er.emptyPath();const t=e-2,o=[];let l="";for(let g=0;g<e;){const D=i.indexOf("\x01",g);switch((D<0||D>t)&&rn(),i.charAt(D+1)){case"\x01":const N=i.substring(g,D);let K;0===l.length?K=N:(l+=N,K=l,l=""),o.push(K);break;case"\x10":l+=i.substring(g,D),l+="\0";break;case"\x11":l+=i.substring(g,D+1);break;default:rn()}g=D+2}return new Er(o)}const mh=["userId","batchId"];function Sc(i,e){return[i,il(e)]}function wd(i,e,t){return[i,il(e),t]}const _h={},Sg=["prefixPath","collectionGroup","readTime","documentId"],bg=["prefixPath","collectionGroup","documentId"],h=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],c=["targetId","path"],v=["path","targetId"],P=["collectionId","parent"],H=["indexId","uid"],Y=["uid","sequenceNumber"],pe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Me=["indexId","uid","orderedDocumentKey"],Fe=["userId","collectionPath","documentId"],vt=["userId","collectionPath","largestBatchId"],Ct=["userId","collectionGroup","largestBatchId"],At=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...At,"documentOverlays"],Yn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gi=Yn,Xo=[...gi,"indexConfiguration","indexState","indexEntries"];class Gl extends Ua{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function bs(i,e){const t=Zt(i);return Is.M(t.se,e)}class bc{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const g=this.mutations[l];g.key.isEqual(e.key)&&Xe(g,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=mt(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=mt(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Su();return this.mutations.forEach(l=>{const g=e.get(l.key),D=g.overlayedDocument;let N=this.applyToLocalView(D,g.mutatedFields);N=t.has(l.key)?null:N;const K=be(D,N);null!==K&&o.set(l.key,K),D.isValidDocument()||D.convertToNoDocument(bn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(t,o)=>an(t,o))&&Os(this.baseMutations,e.baseMutations,(t,o)=>an(t,o))}}class Id{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Sn(e.mutations.length===o.length);let l=Wn;const g=e.mutations;for(let D=0;D<g.length;D++)l=l.insert(g[D].key,o[D].version);return new Id(e,t,o,l)}}class xf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bu{constructor(e,t,o,l,g=bn.min(),D=bn.min(),N=zi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=N}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ag{constructor(e){this.ie=e}}function Mg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:$a(l=i.ie,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:wt(l,g.version.toTimestamp()),createTime:wt(l,g.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ju(e.version)};else{if(!e.isUnknownDocument())return rn();o.unknownDocument={path:t.path.toArray(),version:ju(e.version)}}var l,g;return o}function yh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ju(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ac(i){const e=new ci(i.seconds,i.nanoseconds);return bn.fromTimestamp(e)}function Mc(i,e){const t=(e.baseMutations||[]).map(g=>Dc(i.ie,g));for(let g=0;g<e.mutations.length-1;++g){const D=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(D.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const o=e.mutations.map(g=>Dc(i.ie,g)),l=ci.fromMillis(e.localWriteTimeMs);return new bc(e.batchId,l,t,o)}function Td(i){const e=Ac(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ac(i.lastLimboFreeSnapshotVersion):bn.min();let o;var l;return void 0!==i.query.documents?(Sn(1===(l=i.query).documents.length),o=Yi(tu(Rl(l.documents[0])))):o=Yi(ch(i.query)),new Bu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,zi.fromBase64String(i.resumeToken))}function Nf(i,e){const t=ju(e.snapshotVersion),o=ju(e.lastLimboFreeSnapshotVersion);let l;l=ja(e.target)?Cc(i.ie,e.target):wc(i.ie,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sl(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Lf(i){const e=ch({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pl(e,e.limit,"L"):e}function Ff(i,e){return new xf(e.largestBatchId,Dc(i.ie,e.overlayMutation))}function Ga(i,e){const t=e.path.lastSegment();return[i,il(e.path.popLast()),t]}function vh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ju(o.readTime),documentKey:il(o.documentKey.path),largestBatchId:o.largestBatchId}}class Og{getBundleMetadata(e,t){return Eh(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Ac(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Eh(e).put({bundleId:(o=t).id,createTime:ju(kn(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Ma(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Lf(l.bundledQuery),readTime:Ac(l.readTime)};var l})}saveNamedQuery(e,t){return Ma(e).put({name:(o=t).name,readTime:ju(kn(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Eh(i){return bs(i,"bundles")}function Ma(i){return bs(i,"namedQueries")}class ec{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new ec(e,t.uid||"")}getOverlay(e,t){return qc(e).get(Ga(this.userId,t)).next(o=>o?Ff(this.yt,o):null)}getOverlays(e,t){const o=ks();return ct.forEach(t,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((g,D)=>{const N=new xf(t,D);l.push(this.oe(e,N))}),ct.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(D=>l.add(il(D.getCollectionPath())));const g=[];return l.forEach(D=>{const N=IDBKeyRange.bound([this.userId,D,o],[this.userId,D,o+1],!1,!0);g.push(qc(e).Y("collectionPathOverlayIndex",N))}),ct.waitFor(g)}getOverlaysForCollection(e,t,o){const l=ks(),g=il(t),D=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,Number.POSITIVE_INFINITY],!0);return qc(e).W("collectionPathOverlayIndex",D).next(N=>{for(const K of N){const ee=Ff(this.yt,K);l.set(ee.getKey(),ee)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const g=ks();let D;const N=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qc(e).Z({index:"collectionGroupOverlayIndex",range:N},(K,ee,ge)=>{const Re=Ff(this.yt,ee);g.size()<l||Re.largestBatchId===D?(g.set(Re.getKey(),Re),D=Re.largestBatchId):ge.done()}).next(()=>g)}oe(e,t){return qc(e).put(function(o,l,g){const[D,N,K]=Ga(l,g.mutation.key);return{userId:l,collectionPath:N,documentId:K,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:ku(o.ie,g.mutation)}}(this.yt,this.userId,t))}}function qc(i){return bs(i,"documentOverlays")}class Oc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(O(e.integerValue));else if("doubleValue"in e){const o=O(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),tl(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(T(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?Ru(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):rn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const l of Object.keys(o))this.de(l,t),this.ce(o[l],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const l of o)this.ce(l,t)}me(e,t){this.he(t,37),Jt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function __(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function kf(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const g=__(255&t[l]);if(o+=g,8!==g)break}return o}(i);return Math.ceil(e/8)}Oc.Ie=new Oc;class y_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ee(o.value),o=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.be(o.value),o=t.next();this.Pe()}ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,l,!1),new Uint8Array(g.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Pg{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class v_{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Zc{constructor(){this.$e=new y_,this.Be=new Pg(this.$e),this.Le=new v_(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Pc{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Pc(this.indexId,this.documentKey,this.arrayValue,o)}}function tc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Uf(i.arrayValue,e.arrayValue),0!==t?t:(t=Uf(i.directionalValue,e.directionalValue),0!==t?t:Jt.comparator(i.documentKey,e.documentKey)))}function Uf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Rg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const o=t;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){Sn(e.collectionGroup===this.collectionId);const t=_a(e);if(void 0!==t&&!this.We(t))return!1;const o=Do(e);let l=0,g=0;for(;l<o.length&&this.We(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Qe){const D=o[l];if(!this.ze(this.Qe,D)||!this.He(this.Ke[g++],D))return!1;++l}for(;l<o.length;++l){const D=o[l];if(g>=this.Ke.length||!this.He(this.Ke[g++],D))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xg(i){var e,t;if(Sn(i instanceof wr||i instanceof Xr),i instanceof wr){if(i instanceof Ba){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>wr.create(i.field,"==",g)))||[];return Xr.create(l,"or")}return i}const o=i.filters.map(l=>xg(l));return Xr.create(o,i.op)}function Jc(i){if(0===i.getFilters().length)return[];const e=Lg(xg(i));return Sn(Ng(e)),uu(e)||Vf(e)?[e]:e.getFilters()}function uu(i){return i instanceof wr}function Vf(i){return i instanceof Xr&&ql(i)}function Ng(i){return uu(i)||Vf(i)||function(e){if(e instanceof Xr&&ko(e)){for(const t of e.getFilters())if(!uu(t)&&!Vf(t))return!1;return!0}return!1}(i)}function Lg(i){if(Sn(i instanceof wr||i instanceof Xr),i instanceof wr)return i;if(1===i.filters.length)return Lg(i.filters[0]);const e=i.filters.map(o=>Lg(o));let t=Xr.create(e,i.op);return t=jf(t),Ng(t)?t:(Sn(t instanceof Xr),Sn(wa(t)),Sn(t.filters.length>1),t.filters.reduce((o,l)=>Fg(o,l)))}function Fg(i,e){let t;return Sn(i instanceof wr||i instanceof Xr),Sn(e instanceof wr||e instanceof Xr),t=i instanceof wr?e instanceof wr?Xr.create([i,e],"and"):Bf(i,e):e instanceof wr?Bf(e,i):function(o,l){if(Sn(o.filters.length>0&&l.filters.length>0),wa(o)&&wa(l))return ua(o,l.getFilters());const g=ko(o)?o:l,D=ko(o)?l:o,N=g.filters.map(K=>Fg(K,D));return Xr.create(N,"or")}(i,e),jf(t)}function Bf(i,e){if(wa(e))return ua(e,i.getFilters());{const t=e.filters.map(o=>Fg(i,o));return Xr.create(t,"or")}}function jf(i){if(Sn(i instanceof wr||i instanceof Xr),i instanceof wr)return i;const e=i.getFilters();if(1===e.length)return jf(e[0]);if(rs(i))return i;const t=e.map(l=>jf(l)),o=[];return t.forEach(l=>{l instanceof wr?o.push(l):l instanceof Xr&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:Xr.create(o,i.op)}class Au{constructor(){this.Je=new Sd}addToCollectionParentIndex(e,t){return this.Je.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(Ki.min())}updateCollectionGroup(e,t,o){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class Sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new hi(Er.comparator),g=!l.has(o);return this.index[t]=l.add(o),g}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new hi(Er.comparator)).toArray()}}const Xc=new Uint8Array(0);class E_{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Sd,this.Xe=new Ss(o=>Sl(o),(o,l)=>Uo(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const g={collectionId:o,parent:il(l)};return Hf(e).put(g)}return ct.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[pu(t),""],!1,!0);return Hf(e).W(l).next(g=>{for(const D of g){if(D.collectionId!==t)break;o.push($l(D.parent))}return o})}addFieldIndex(e,t){const o=nc(e),l={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var D;delete l.indexId;const g=o.add(l);if(t.indexState){const D=Ad(e);return g.next(N=>{D.put(vh(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const o=nc(e),l=Ad(e),g=bd(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=bd(e);let l=!0;const g=new Map;return ct.forEach(this.Ze(t),D=>this.tn(e,D).next(N=>{l&&(l=!!N),g.set(D,N)})).next(()=>{if(l){let D=Xt();const N=[];return ct.forEach(g,(K,ee)=>{var ge;Lt("IndexedDbIndexManager",`Using index ${ge=K,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(os=>`${os.fieldPath}:${os.kind}`).join(",")}`} to execute ${Sl(t)}`);const Re=function(os,na){const _s=_a(na);if(void 0===_s)return null;for(const qi of eu(os,_s.fieldPath))switch(qi.op){case"array-contains-any":return qi.value.arrayValue.values||[];case"array-contains":return[qi.value]}return null}(ee,K),ot=function(os,na){const _s=new Map;for(const qi of Do(na))for(const ra of eu(os,qi.fieldPath))switch(ra.op){case"==":case"in":_s.set(qi.fieldPath.canonicalString(),ra.value);break;case"not-in":case"!=":return _s.set(qi.fieldPath.canonicalString(),ra.value),Array.from(_s.values())}return null}(ee,K),Pt=function(os,na){const _s=[];let qi=!0;for(const ra of Do(na)){const Kc=0===ra.kind?Vl(os,ra.fieldPath,os.startAt):Bl(os,ra.fieldPath,os.startAt);_s.push(Kc.value),qi&&(qi=Kc.inclusive)}return new lo(_s,qi)}(ee,K),Vt=function(os,na){const _s=[];let qi=!0;for(const ra of Do(na)){const Kc=0===ra.kind?Bl(os,ra.fieldPath,os.endAt):Vl(os,ra.fieldPath,os.endAt);_s.push(Kc.value),qi&&(qi=Kc.inclusive)}return new lo(_s,qi)}(ee,K),pn=this.en(K,ee,Pt),Qn=this.en(K,ee,Vt),As=this.nn(K,ee,ot),zs=this.sn(K.indexId,Re,pn,Pt.inclusive,Qn,Vt.inclusive,As);return ct.forEach(zs,os=>o.J(os,t.limit).next(na=>{na.forEach(_s=>{const qi=Jt.fromSegments(_s.documentKey);D.has(qi)||(D=D.add(qi),N.push(qi))})}))}).next(()=>N)}return ct.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Jc(Xr.create(e.filters,"and")).map(o=>Tl(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,o,l,g,D,N){const K=(null!=t?t.length:1)*Math.max(o.length,g.length),ee=K/(null!=t?t.length:1),ge=[];for(let Re=0;Re<K;++Re){const ot=t?this.rn(t[Re/ee]):Xc,Pt=this.on(e,ot,o[Re%ee],l),Vt=this.un(e,ot,g[Re%ee],D),pn=N.map(Qn=>this.on(e,ot,Qn,!0));ge.push(...this.createRange(Pt,Vt,pn))}return ge}on(e,t,o,l){const g=new Pc(e,Jt.empty(),t,o);return l?g:g.Ue()}un(e,t,o,l){const g=new Pc(e,Jt.empty(),t,o);return l?g.Ue():g}tn(e,t){const o=new Rg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(g=>{let D=null;for(const N of g)o.je(N)&&(!D||N.fields.length>D.fields.length)&&(D=N);return D})}getIndexType(e,t){let o=2;const l=this.Ze(t);return ct.forEach(l,g=>this.tn(e,g).next(D=>{D?0!==o&&D.fields.length<function(N){let K=new hi(pr.comparator),ee=!1;for(const ge of N.filters)for(const Re of ge.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?ee=!0:K=K.add(Re.field));for(const ge of N.orderBy)ge.field.isKeyField()||(K=K.add(ge.field));return K.size+(ee?1:0)}(g)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}cn(e,t){const o=new Zc;for(const l of Do(e)){const g=t.data.field(l.fieldPath);if(null==g)return null;const D=o.qe(l.kind);Oc.Ie.ue(g,D)}return o.Fe()}rn(e){const t=new Zc;return Oc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const o=new Zc;return Oc.Ie.ue(Ts(this.databaseId,t),o.qe(function(l){const g=Do(l);return 0===g.length?0:g[g.length-1].kind}(e))),o.Fe()}nn(e,t,o){if(null===o)return[];let l=[];l.push(new Zc);let g=0;for(const D of Do(e)){const N=o[g++];for(const K of l)if(this.hn(t,D.fieldPath)&&Lo(N))l=this.ln(l,D,N);else{const ee=K.qe(D.kind);Oc.Ie.ue(N,ee)}}return this.fn(l)}en(e,t,o){return this.nn(e,t,o.position)}fn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Fe();return t}ln(e,t,o){const l=[...e],g=[];for(const D of o.arrayValue.values||[])for(const N of l){const K=new Zc;K.seed(N.Fe()),Oc.Ie.ue(D,K.qe(t.kind)),g.push(K)}return g}hn(e,t){return!!e.filters.find(o=>o instanceof wr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=nc(e),l=Ad(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(g=>{const D=[];return ct.forEach(g,N=>l.get([N.indexId,this.uid]).next(K=>{D.push(function(ee,ge){const Re=ge?new al(ge.sequenceNumber,new Ki(Ac(ge.readTime),new Jt($l(ge.documentKey)),ge.largestBatchId)):al.empty(),ot=ee.fields.map(([Pt,Vt])=>new ka(pr.fromServerFormat(Pt),Vt));return new Qo(ee.indexId,ee.collectionGroup,ot,Re)}(N,K))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const g=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==g?g:rr(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=nc(e),g=Ad(e);return this.dn(e).next(D=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>ct.forEach(N,K=>g.put(vh(K.indexId,this.user,D,o)))))}updateIndexEntries(e,t){const o=new Map;return ct.forEach(t,(l,g)=>{const D=o.get(l.collectionGroup);return(D?ct.resolve(D):this.getFieldIndexes(e,l.collectionGroup)).next(N=>(o.set(l.collectionGroup,N),ct.forEach(N,K=>this._n(e,l,K).next(ee=>{const ge=this.wn(g,K);return ee.isEqual(ge)?ct.resolve():this.mn(e,g,K,ee,ge)}))))})}gn(e,t,o,l){return bd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(o,t.key),documentKey:t.key.path.toArray()})}yn(e,t,o,l){return bd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(o,t.key),t.key.path.toArray()])}_n(e,t,o){const l=bd(e);let g=new hi(tc);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,t)])},(D,N)=>{g=g.add(new Pc(o.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>g)}wn(e,t){let o=new hi(tc);const l=this.cn(t,e);if(null==l)return o;const g=_a(t);if(null!=g){const D=e.data.field(g.fieldPath);if(Lo(D))for(const N of D.arrayValue.values||[])o=o.add(new Pc(t.indexId,e.key,this.rn(N),l))}else o=o.add(new Pc(t.indexId,e.key,Xc,l));return o}mn(e,t,o,l,g){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function(N,K,ee,ge,Re){const ot=N.getIterator(),Pt=K.getIterator();let Vt=gs(ot),pn=gs(Pt);for(;Vt||pn;){let Qn=!1,As=!1;if(Vt&&pn){const zs=ee(Vt,pn);zs<0?As=!0:zs>0&&(Qn=!0)}else null!=Vt?As=!0:Qn=!0;Qn?(ge(pn),pn=gs(Pt)):As?(Re(Vt),Vt=gs(ot)):(Vt=gs(ot),pn=gs(Pt))}}(l,g,tc,N=>{D.push(this.gn(e,t,o,N))},N=>{D.push(this.yn(e,t,o,N))}),ct.waitFor(D)}dn(e){let t=1;return Ad(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,g)=>{g.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((D,N)=>tc(D,N)).filter((D,N,K)=>!N||0!==tc(D,K[N-1]));const l=[];l.push(e);for(const D of o){const N=tc(D,e),K=tc(D,t);if(0===N)l[0]=e.Ue();else if(N>0&&K<0)l.push(D),l.push(D.Ue());else if(K>0)break}l.push(t);const g=[];for(let D=0;D<l.length;D+=2){if(this.pn(l[D],l[D+1]))return[];g.push(IDBKeyRange.bound([l[D].indexId,this.uid,l[D].arrayValue,l[D].directionalValue,Xc,[]],[l[D+1].indexId,this.uid,l[D+1].arrayValue,l[D+1].directionalValue,Xc,[]]))}return g}pn(e,t){return tc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kg)}getMinOffset(e,t){return ct.mapArray(this.Ze(t),o=>this.tn(e,o).next(l=>l||rn())).next(kg)}}function Hf(i){return bs(i,"collectionParents")}function bd(i){return bs(i,"indexEntries")}function nc(i){return bs(i,"indexConfiguration")}function Ad(i){return bs(i,"indexState")}function kg(i){Sn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;ya(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Ki(e.readTime,e.documentKey,t)}const Dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Wa(e,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $f(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),g=[],D=IDBKeyRange.only(t.batchId);let N=0;const K=o.Z({range:D},(ge,Re,ot)=>(N++,ot.delete()));g.push(K.next(()=>{Sn(1===N)}));const ee=[];for(const ge of t.mutations){const Re=wd(e,ge.key.path,t.batchId);g.push(l.delete(Re)),ee.push(ge.key)}return ct.waitFor(g).next(()=>ee)}function Gf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw rn();e=i.noDocument}return JSON.stringify(e).length}Wa.DEFAULT_COLLECTION_PERCENTILE=10,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wa.DEFAULT=new Wa(41943040,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wa.DISABLED=new Wa(-1,0,0);class Hu{constructor(e,t,o,l){this.userId=e,this.yt=t,this.indexManager=o,this.referenceDelegate=l,this.In={}}static re(e,t,o,l){Sn(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new Hu(g,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Z({index:"userMutationsIndex",range:o},(l,g,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const g=ed(e),D=$u(e);return D.add({}).next(N=>{Sn("number"==typeof N);const K=new bc(N,t,o,l),ee=function(ot,Pt,Vt){const pn=Vt.baseMutations.map(As=>ku(ot.ie,As)),Qn=Vt.mutations.map(As=>ku(ot.ie,As));return{userId:Pt,batchId:Vt.batchId,localWriteTimeMs:Vt.localWriteTime.toMillis(),baseMutations:pn,mutations:Qn}}(this.yt,this.userId,K),ge=[];let Re=new hi((ot,Pt)=>rr(ot.canonicalString(),Pt.canonicalString()));for(const ot of l){const Pt=wd(this.userId,ot.key.path,N);Re=Re.add(ot.key.path.popLast()),ge.push(D.put(ee)),ge.push(g.put(Pt,_h))}return Re.forEach(ot=>{ge.push(this.indexManager.addToCollectionParentIndex(e,ot))}),e.addOnCommittedListener(()=>{this.In[N]=K.keys()}),ct.waitFor(ge).next(()=>K)})}lookupMutationBatch(e,t){return $u(e).get(t).next(o=>o?(Sn(o.userId===this.userId),Mc(this.yt,o)):null)}Tn(e,t){return this.In[t]?ct.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let g=null;return $u(e).Z({index:"userMutationsIndex",range:l},(D,N,K)=>{N.userId===this.userId&&(Sn(N.batchId>=o),g=Mc(this.yt,N)),K.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return $u(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,g,D)=>{o=g.batchId,D.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).W("userMutationsIndex",t).next(o=>o.map(l=>Mc(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Sc(this.userId,t.path),l=IDBKeyRange.lowerBound(o),g=[];return ed(e).Z({range:l},(D,N,K)=>{const[ee,ge,Re]=D,ot=$l(ge);if(ee===this.userId&&t.path.isEqual(ot))return $u(e).get(Re).next(Pt=>{if(!Pt)throw rn();Sn(Pt.userId===this.userId),g.push(Mc(this.yt,Pt))});K.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new hi(rr);const l=[];return t.forEach(g=>{const D=Sc(this.userId,g.path),N=IDBKeyRange.lowerBound(D),K=ed(e).Z({range:N},(ee,ge,Re)=>{const[ot,Pt,Vt]=ee,pn=$l(Pt);ot===this.userId&&g.path.isEqual(pn)?o=o.add(Vt):Re.done()});l.push(K)}),ct.waitFor(l).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,g=Sc(this.userId,o),D=IDBKeyRange.lowerBound(g);let N=new hi(rr);return ed(e).Z({range:D},(K,ee,ge)=>{const[Re,ot,Pt]=K,Vt=$l(ot);Re===this.userId&&o.isPrefixOf(Vt)?Vt.length===l&&(N=N.add(Pt)):ge.done()}).next(()=>this.En(e,N))}En(e,t){const o=[],l=[];return t.forEach(g=>{l.push($u(e).get(g).next(D=>{if(null===D)throw rn();Sn(D.userId===this.userId),o.push(Mc(this.yt,D))}))}),ct.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return $f(e.se,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ct.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return ed(e).Z({range:o},(g,D,N)=>{if(g[0]===this.userId){const K=$l(g[1]);l.push(K)}else N.done()}).next(()=>{Sn(0===l.length)})})}containsKey(e,t){return Ch(e,this.userId,t)}Rn(e){return wh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ch(i,e,t){const o=Sc(e,t.path),l=o[1],g=IDBKeyRange.lowerBound(o);let D=!1;return ed(i).Z({range:g,X:!0},(N,K,ee)=>{const[ge,Re,ot]=N;ge===e&&Re===l&&(D=!0),ee.done()}).next(()=>D)}function $u(i){return bs(i,"mutations")}function ed(i){return bs(i,"documentMutations")}function wh(i){return bs(i,"mutationQueues")}class Rc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Rc(0)}static vn(){return new Rc(-1)}}class D_{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Rc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bn.fromTimestamp(new ci(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>td(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Sn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let l=0;const g=[];return td(e).Z((D,N)=>{const K=Td(N);K.sequenceNumber<=t&&null===o.get(K.targetId)&&(l++,g.push(this.removeTargetData(e,K)))}).next(()=>ct.waitFor(g)).next(()=>l)}forEachTarget(e,t){return td(e).Z((o,l)=>{const g=Td(l);t(g)})}Vn(e){return Ug(e).get("targetGlobalKey").next(t=>(Sn(null!==t),t))}Sn(e,t){return Ug(e).put("targetGlobalKey",t)}Dn(e,t){return td(e).put(Nf(this.yt,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Sl(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let g=null;return td(e).Z({range:l,index:"queryTargetsIndex"},(D,N,K)=>{const ee=Td(N);Uo(t,ee.target)&&(g=ee,K.done())}).next(()=>g)}addMatchingKeys(e,t,o){const l=[],g=rc(e);return t.forEach(D=>{const N=il(D.path);l.push(g.put({targetId:o,path:N})),l.push(this.referenceDelegate.addReference(e,o,D))}),ct.waitFor(l)}removeMatchingKeys(e,t,o){const l=rc(e);return ct.forEach(t,g=>{const D=il(g.path);return ct.waitFor([l.delete([o,D]),this.referenceDelegate.removeReference(e,o,g)])})}removeMatchingKeysForTargetId(e,t){const o=rc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=rc(e);let g=Xt();return l.Z({range:o,X:!0},(D,N,K)=>{const ee=$l(D[1]),ge=new Jt(ee);g=g.add(ge)}).next(()=>g)}containsKey(e,t){const o=il(t.path),l=IDBKeyRange.bound([o],[pu(o)],!1,!0);let g=0;return rc(e).Z({index:"documentTargetsIndex",X:!0,range:l},([D,N],K,ee)=>{0!==D&&(g++,ee.done())}).next(()=>g>0)}ne(e,t){return td(e).get(t).next(o=>o?Td(o):null)}}function td(i){return bs(i,"targets")}function Ug(i){return bs(i,"targetGlobal")}function rc(i){return bs(i,"targetDocuments")}function Vg([i,e],[t,o]){const l=rr(i,t);return 0===l?rr(e,o):l}class Bg{constructor(e){this.xn=e,this.buffer=new hi(Vg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wf{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){No(o)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ao(o)}yield t.Fn(3e5)}))}}class jg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(Js.at);const o=new Bg(t);return this.$n.forEachTarget(e,l=>o.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>o.On(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Dh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dh):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let o,l,g,D,N,K,ee;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),l=this.params.maximumSequenceNumbersToCollect):l=Re,D=Date.now(),this.nthSequenceNumber(e,l))).next(Re=>(o=Re,N=Date.now(),this.removeTargets(e,o,t))).next(Re=>(g=Re,K=Date.now(),this.removeOrphanedDocuments(e,o))).next(Re=>(ee=Date.now(),fs()<=V.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-ge}ms\n\tDetermined least recently used ${l} in `+(N-D)+`ms\n\tRemoved ${g} targets in `+(K-N)+`ms\n\tRemoved ${Re} documents in `+(ee-K)+`ms\nTotal Duration: ${ee-ge}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:g,documentsRemoved:Re})))}}class Kf{constructor(e,t){this.db=e,this.garbageCollector=new jg(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Un(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,l)=>t(l))}addReference(e,t,o){return Ih(e,o)}removeReference(e,t,o){return Ih(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Ih(e,t)}Gn(e,t){return function(o,l){let g=!1;return wh(o).tt(D=>Ch(o,D,l).next(N=>(N&&(g=!0),ct.resolve(!N)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let g=0;return this.Kn(e,(D,N)=>{if(N<=t){const K=this.Gn(e,D).next(ee=>{if(!ee)return g++,o.getEntry(e,D).next(()=>(o.removeEntry(D,bn.min()),rc(e).delete([0,il(D.path)])))});l.push(K)}}).next(()=>ct.waitFor(l)).next(()=>o.apply(e)).next(()=>g)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Ih(e,t)}Kn(e,t){const o=rc(e);let l,g=Js.at;return o.Z({index:"documentTargetsIndex"},([D,N],{path:K,sequenceNumber:ee})=>{0===D?(g!==Js.at&&t(new Jt($l(l)),g),g=ee,l=K):g=Js.at}).next(()=>{g!==Js.at&&t(new Jt($l(l)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ih(i,e){return rc(i).put((o=i.currentSequenceNumber,{targetId:0,path:il(e.path),sequenceNumber:o}));var o}class Hg{constructor(){this.changes=new Ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ct.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $g{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return ic(e).put(o)}removeEntry(e,t,o){return ic(e).delete(function(l,g){const D=l.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],yh(g),D[D.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=ki.newInvalidDocument(t);return ic(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Md(t))},(l,g)=>{o=this.jn(t,g)}).next(()=>o)}Wn(e,t){let o={size:0,document:ki.newInvalidDocument(t)};return ic(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Md(t))},(l,g)=>{o={document:this.jn(t,g),size:Gf(g)}}).next(()=>o)}getEntries(e,t){let o=fi();return this.zn(e,t,(l,g)=>{const D=this.jn(l,g);o=o.insert(l,D)}).next(()=>o)}Hn(e,t){let o=fi(),l=new Pi(Jt.comparator);return this.zn(e,t,(g,D)=>{const N=this.jn(g,D);o=o.insert(g,N),l=l.insert(g,Gf(D))}).next(()=>({documents:o,Jn:l}))}zn(e,t,o){if(t.isEmpty())return ct.resolve();let l=new hi(Od);t.forEach(K=>l=l.add(K));const g=IDBKeyRange.bound(Md(l.first()),Md(l.last())),D=l.getIterator();let N=D.getNext();return ic(e).Z({index:"documentKeyIndex",range:g},(K,ee,ge)=>{const Re=Jt.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;N&&Od(N,Re)<0;)o(N,null),N=D.getNext();N&&N.isEqual(Re)&&(o(N,ee),N=D.hasNext()?D.getNext():null),N?ge.j(Md(N)):ge.done()}).next(()=>{for(;N;)o(N,null),N=D.hasNext()?D.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const g=t.path,D=[g.popLast().toArray(),g.lastSegment(),yh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).W(IDBKeyRange.bound(D,N,!0)).next(K=>{let ee=fi();for(const ge of K){const Re=this.jn(Jt.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Re.isFoundDocument()&&(ml(t,Re)||l.has(Re.key))&&(ee=ee.insert(Re.key,Re))}return ee})}getAllFromCollectionGroup(e,t,o,l){let g=fi();const D=C_(t,o),N=C_(t,Ki.max());return ic(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,N,!0)},(K,ee,ge)=>{const Re=this.jn(Jt.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);g=g.insert(Re.key,Re),g.size===l&&ge.done()}).next(()=>g)}newChangeBuffer(e){return new xc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yf(e).get("remoteDocumentGlobalKey").next(t=>(Sn(!!t),t))}Qn(e,t){return Yf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function m_(i,e){let t;if(e.document)t=function Qc(i,e,t){const o=ha(i,e.name),l=kn(e.updateTime),g=e.createTime?kn(e.createTime):bn.min(),D=new Gs({mapValue:{fields:e.fields}}),N=ki.newFoundDocument(o,l,g,D);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Jt.fromSegments(e.noDocument.path),l=Ac(e.noDocument.readTime);t=ki.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rn();{const o=Jt.fromSegments(e.unknownDocument.path),l=Ac(e.unknownDocument.version);t=ki.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new ci(o[0],o[1]);return bn.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!o.isNoDocument()||!o.version.isEqual(bn.min()))return o}return ki.newInvalidDocument(e)}}function zf(i){return new $g(i)}class xc extends Hg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ss(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new hi((g,D)=>rr(g.canonicalString(),D.canonicalString()));return this.changes.forEach((g,D)=>{const N=this.Xn.get(g);if(t.push(this.Yn.removeEntry(e,g,N.readTime)),D.isValidDocument()){const K=Mg(this.Yn.yt,D);l=l.add(g.path.popLast()),o+=Gf(K)-N.size,t.push(this.Yn.addEntry(e,g,K))}else if(o-=N.size,this.trackRemovals){const K=Mg(this.Yn.yt,D.convertToNoDocument(bn.min()));t.push(this.Yn.addEntry(e,g,K))}}),l.forEach(g=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.Yn.updateMetadata(e,o)),ct.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:l})=>(l.forEach((g,D)=>{this.Xn.set(g,{size:D,readTime:o.get(g).readTime})}),o))}}function Yf(i){return bs(i,"remoteDocumentGlobal")}function ic(i){return bs(i,"remoteDocumentsV14")}function Md(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function C_(i,e){const t=e.documentKey.path.toArray();return[i,yh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Od(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let g=0;g<t.length-2&&g<o.length-2;++g)if(l=rr(t[g],o[g]),l)return l;return l=rr(t.length,o.length),l||(l=rr(t[t.length-2],o[o.length-2]),l||rr(t[t.length-1],o[o.length-1]))}class w_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Qf{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&mt(o.mutation,l,Fs.empty(),ci.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Xt()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Xt()){const l=ks();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(g=>{let D=Jo();return g.forEach((N,K)=>{D=D.insert(N,K.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const o=ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Xt()))}populateOverlays(e,t,o){const l=[];return o.forEach(g=>{t.has(g)||l.push(g)}),this.documentOverlayCache.getOverlays(e,l).next(g=>{g.forEach((D,N)=>{t.set(D,N)})})}computeViews(e,t,o,l){let g=fi();const D=En(),N=En();return t.forEach((K,ee)=>{const ge=o.get(ee.key);l.has(ee.key)&&(void 0===ge||ge.mutation instanceof wn)?g=g.insert(ee.key,ee):void 0!==ge?(D.set(ee.key,ge.mutation.getFieldMask()),mt(ge.mutation,ee,ge.mutation.getFieldMask(),ci.now())):D.set(ee.key,Fs.empty())}),this.recalculateAndSaveOverlays(e,g).next(K=>(K.forEach((ee,ge)=>D.set(ee,ge)),t.forEach((ee,ge)=>{var Re;return N.set(ee,new w_(ge,null!==(Re=D.get(ee))&&void 0!==Re?Re:null))}),N))}recalculateAndSaveOverlays(e,t){const o=En();let l=new Pi((D,N)=>D-N),g=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const N of D)N.keys().forEach(K=>{const ee=t.get(K);if(null===ee)return;let ge=o.get(K)||Fs.empty();ge=N.applyToLocalView(ee,ge),o.set(K,ge);const Re=(l.get(N.batchId)||Xt()).add(K);l=l.insert(N.batchId,Re)})}).next(()=>{const D=[],N=l.getReverseIterator();for(;N.hasNext();){const K=N.getNext(),ee=K.key,ge=K.value,Re=Su();ge.forEach(ot=>{if(!g.has(ot)){const Pt=be(t.get(ot),o.get(ot));null!==Pt&&Re.set(ot,Pt),g=g.add(ot)}}),D.push(this.documentOverlayCache.saveOverlays(e,ee,Re))}return ct.waitFor(D)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Jt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(g=>{const D=l-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-g.size):ct.resolve(ks());let N=-1,K=g;return D.next(ee=>ct.forEach(ee,(ge,Re)=>(N<Re.largestBatchId&&(N=Re.largestBatchId),g.get(ge)?ct.resolve():this.remoteDocumentCache.getEntry(e,ge).next(ot=>{K=K.insert(ge,ot)}))).next(()=>this.populateOverlays(e,ee,g)).next(()=>this.computeViews(e,K,ee,Xt())).next(ge=>({batchId:N,changes:Hl(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(o=>{let l=Jo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let g=Jo();return this.indexManager.getCollectionParents(e,l).next(D=>ct.forEach(D,N=>{const K=(ee=t,ge=N.child(l),new ms(ge,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,ge;return this.getDocumentsMatchingCollectionQuery(e,K,o).next(ee=>{ee.forEach((ge,Re)=>{g=g.insert(ge,Re)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(g=>(l=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(g=>{l.forEach((N,K)=>{const ee=K.getKey();null===g.get(ee)&&(g=g.insert(ee,ki.newInvalidDocument(ee)))});let D=Jo();return g.forEach((N,K)=>{const ee=l.get(N);void 0!==ee&&mt(ee.mutation,K,Fs.empty(),ci.now()),ml(t,K)&&(D=D.insert(N,K))}),D})}}class Gg{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ct.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:kn(o.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Lf(o.bundledQuery),readTime:kn(o.readTime)}),ct.resolve();var o}}class Wg{constructor(){this.overlays=new Pi(Jt.comparator),this.es=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const o=ks();return ct.forEach(t,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,g)=>{this.oe(e,t,g)}),ct.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(o)),ct.resolve()}getOverlaysForCollection(e,t,o){const l=ks(),g=t.length+1,D=new Jt(t.child("")),N=this.overlays.getIteratorFrom(D);for(;N.hasNext();){const K=N.getNext().value,ee=K.getKey();if(!t.isPrefixOf(ee.path))break;ee.path.length===g&&K.largestBatchId>o&&l.set(K.getKey(),K)}return ct.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let g=new Pi((ee,ge)=>ee-ge);const D=this.overlays.getIterator();for(;D.hasNext();){const ee=D.getNext().value;if(ee.getKey().getCollectionGroup()===t&&ee.largestBatchId>o){let ge=g.get(ee.largestBatchId);null===ge&&(ge=ks(),g=g.insert(ee.largestBatchId,ge)),ge.set(ee.getKey(),ee)}}const N=ks(),K=g.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((ee,ge)=>N.set(ee,ge)),!(N.size()>=l)););return ct.resolve(N)}oe(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const D=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,D)}this.overlays=this.overlays.insert(o.key,new xf(t,o));let g=this.es.get(t);void 0===g&&(g=Xt(),this.es.set(t,g)),this.es.set(t,g.add(o.key))}}class Pd{constructor(){this.ns=new hi(ea.ss),this.rs=new hi(ea.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ea(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ea(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Jt(new Er([])),o=new ea(t,e),l=new ea(t,e+1),g=[];return this.rs.forEachInRange([o,l],D=>{this.cs(D),g.push(D.key)}),g}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Jt(new Er([])),o=new ea(t,e),l=new ea(t,e+1);let g=Xt();return this.rs.forEachInRange([o,l],D=>{g=g.add(D.key)}),g}containsKey(e){const t=new ea(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ea{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Jt.comparator(e.key,t.key)||rr(e._s,t._s)}static os(e,t){return rr(e._s,t._s)||Jt.comparator(e.key,t.key)}}class Th{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new hi(ea.ss)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const g=this.ws;this.ws++;const D=new bc(g,t,o,l);this.mutationQueue.push(D);for(const N of l)this.gs=this.gs.add(new ea(N.key,g)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return ct.resolve(D)}lookupMutationBatch(e,t){return ct.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),g=l<0?0:l;return ct.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ea(t,0),l=new ea(t,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([o,l],D=>{const N=this.ys(D._s);g.push(N)}),ct.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new hi(rr);return t.forEach(l=>{const g=new ea(l,0),D=new ea(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,D],N=>{o=o.add(N._s)})}),ct.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let g=o;Jt.isDocumentKey(g)||(g=g.child(""));const D=new ea(new Jt(g),0);let N=new hi(rr);return this.gs.forEachWhile(K=>{const ee=K.key.path;return!!o.isPrefixOf(ee)&&(ee.length===l&&(N=N.add(K._s)),!0)},D),ct.resolve(this.Is(N))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Sn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ct.forEach(t.mutations,l=>{const g=new ea(l.key,t.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ea(t,0),l=this.gs.firstAfterOrEqual(o);return ct.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return ct.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sh{constructor(e){this.Es=e,this.docs=new Pi(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),g=l?l.size:0,D=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:D}),this.size+=D-g,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ct.resolve(o?o.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let o=fi();return t.forEach(l=>{const g=this.docs.get(l);o=o.insert(l,g?g.document.mutableCopy():ki.newInvalidDocument(l))}),ct.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let g=fi();const D=t.path,N=new Jt(D.child("")),K=this.docs.getIteratorFrom(N);for(;K.hasNext();){const{key:ee,value:{document:ge}}=K.getNext();if(!D.isPrefixOf(ee.path))break;ee.path.length>D.length+1||ya(ul(ge),o)<=0||(l.has(ge.key)||ml(t,ge))&&(g=g.insert(ge.key,ge.mutableCopy()))}return ct.resolve(g)}getAllFromCollectionGroup(e,t,o,l){rn()}As(e,t){return ct.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Kg(this)}getSize(e){return ct.resolve(this.size)}}class Kg extends Hg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),ct.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qf{constructor(e){this.persistence=e,this.Rs=new Ss(t=>Sl(t),Uo),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pd,this.targetCount=0,this.vs=Rc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ct.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Rc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Dn(t),ct.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,o){let l=0;const g=[];return this.Rs.forEach((D,N)=>{N.sequenceNumber<=t&&null===o.get(N.targetId)&&(this.Rs.delete(D),g.push(this.removeMatchingKeysForTargetId(e,N.targetId)),l++)}),ct.waitFor(g).next(()=>l)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ct.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ct.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,g=[];return l&&t.forEach(D=>{g.push(l.markPotentiallyOrphaned(e,D))}),ct.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ct.resolve(o)}containsKey(e,t){return ct.resolve(this.Ps.containsKey(t))}}class Zf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Js(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qf(this),this.indexManager=new Au,this.remoteDocumentCache=new Sh(o=>this.referenceDelegate.xs(o)),this.yt=new Ag(t),this.Ns=new Gg(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Th(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("MemoryPersistence","Starting transaction:",e);const l=new Jf(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(g=>this.referenceDelegate.Os(l).next(()=>g)).toPromise().then(g=>(l.raiseOnCommittedEvent(),g))}Ms(e,t){return ct.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Jf extends Ua{constructor(e){super(),this.currentSequenceNumber=e}}class sc{constructor(e){this.persistence=e,this.Fs=new Pd,this.$s=null}static Bs(e){return new sc(e)}get Ls(){if(this.$s)return this.$s;throw rn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ct.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(g=>this.Ls.add(g.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ls,o=>{const l=Jt.fromPath(o);return this.qs(e,l).next(g=>{g||t.removeEntry(l,bn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ct.or([()=>ct.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class I_{constructor(e){this.yt=e}$(e,t,o,l){const g=new Co("createOrUpgrade",t);var N;o<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mh,{unique:!0}),N.createObjectStore("documentMutations"),Xf(e),function(N){N.createObjectStore("remoteDocuments")}(e));let D=ct.resolve();return o<3&&l>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Xf(e)),D=D.next(()=>function(N){const K=N.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ee)}(g))),o<4&&l>=4&&(0!==o&&(D=D.next(()=>function(N,K){return K.store("mutations").W().next(ee=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mh,{unique:!0});const ge=K.store("mutations"),Re=ee.map(ot=>ge.put(ot));return ct.waitFor(Re)})}(e,g))),D=D.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(D=D.next(()=>this.Us(g))),o<6&&l>=6&&(D=D.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(g)))),o<7&&l>=7&&(D=D.next(()=>this.Gs(g))),o<8&&l>=8&&(D=D.next(()=>this.Qs(e,g))),o<9&&l>=9&&(D=D.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(D=D.next(()=>this.js(g))),o<11&&l>=11&&(D=D.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(D=D.next(()=>{!function(N){const K=N.createObjectStore("documentOverlays",{keyPath:Fe});K.createIndex("collectionPathOverlayIndex",vt,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ct,{unique:!1})}(e)})),o<13&&l>=13&&(D=D.next(()=>function(N){const K=N.createObjectStore("remoteDocumentsV14",{keyPath:Sg});K.createIndex("documentKeyIndex",bg),K.createIndex("collectionGroupIndex",h)}(e)).next(()=>this.Ws(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(D=D.next(()=>this.zs(e,g))),o<15&&l>=15&&(D=D.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:H}).createIndex("sequenceNumberIndex",Y,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:pe}).createIndex("documentKeyIndex",Me,{unique:!1})}(e))),D}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,l)=>{t+=Gf(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(l=>ct.forEach(l,g=>{const D=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",D).next(N=>ct.forEach(N,K=>{Sn(K.userId===g.userId);const ee=Mc(this.yt,K);return $f(e,g.userId,ee).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const g=[];return o.Z((D,N)=>{const K=new Er(D),ee=[0,il(K)];g.push(t.get(ee).next(ge=>ge?ct.resolve():t.put({targetId:0,path:il(K),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ct.waitFor(g))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:P});const o=t.store("collectionParents"),l=new Sd,g=D=>{if(l.add(D)){const N=D.lastSegment(),K=D.popLast();return o.put({collectionId:N,parent:il(K)})}};return t.store("remoteDocuments").Z({X:!0},(D,N)=>{const K=new Er(D);return g(K.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([D,N,K],ee)=>{const ge=$l(N);return g(ge.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,l)=>{const g=Td(l),D=Nf(this.yt,g);return t.put(D)})}Ws(e,t){const o=t.store("remoteDocuments"),l=[];return o.Z((g,D)=>{const N=t.store("remoteDocumentsV14"),K=(ee=D,ee.document?new Jt(Er.fromString(ee.document.name).popFirst(5)):ee.noDocument?Jt.fromSegments(ee.noDocument.path):ee.unknownDocument?Jt.fromSegments(ee.unknownDocument.path):rn()).path.toArray();var ee;const ge={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};l.push(N.put(ge))}).next(()=>ct.waitFor(l))}zs(e,t){const o=t.store("mutations"),l=zf(this.yt),g=new Zf(sc.Bs,this.yt.ie);return o.W().next(D=>{const N=new Map;return D.forEach(K=>{var ee;let ge=null!==(ee=N.get(K.userId))&&void 0!==ee?ee:Xt();Mc(this.yt,K).keys().forEach(Re=>ge=ge.add(Re)),N.set(K.userId,ge)}),ct.forEach(N,(K,ee)=>{const ge=new Zr(ee),Re=ec.re(this.yt,ge),ot=g.getIndexManager(ge),Pt=Hu.re(ge,this.yt,ot,g.referenceDelegate);return new Qf(l,Pt,Re,ot).recalculateAndSaveOverlaysForDocumentKeys(new Gl(t,Js.at),K).next()})})}}function Xf(i){i.createObjectStore("targetDocuments",{keyPath:c}).createIndex("documentTargetsIndex",v,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),i.createObjectStore("targetGlobal")}const ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tp{constructor(e,t,o,l,g,D,N,K,ee,ge,Re=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=g,this.window=D,this.document=N,this.Js=ee,this.Ys=ge,this.Xs=Re,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ot=>Promise.resolve(),!tp.C())throw new It(ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kf(this,l),this.ii=t+"main",this.yt=new Ag(K),this.ri=new Is(this.ii,this.Xs,new I_(this.yt)),this.Cs=new D_(this.referenceDelegate,this.yt),this.remoteDocumentCache=zf(this.yt),this.Ns=new Og,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ge&&ns("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new It(ut.FAILED_PRECONDITION,ep);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Js(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,f.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(No(e))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return nd(e).get("owner").next(t=>ct.resolve(this.mi(t)))}gi(e){return rd(e).delete(this.clientId)}yi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=bs(o,"clientMetadata");return l.W().next(g=>{const D=e.Ii(g,18e5),N=g.filter(K=>-1===D.indexOf(K));return ct.forEach(N,K=>l.delete(K.clientId)).next(()=>N)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ct.resolve(!0):nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new It(ut.FAILED_PRECONDITION,ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||rd(e).W().next(o=>void 0===this.Ii(o,5e3).find(l=>{if(this.clientId!==l.clientId){const D=!this.inForeground&&l.inForeground,N=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||D&&N)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Gl(t,Js.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rd(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Hu.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new E_(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return ec.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",g=15===(D=this.Xs)?Xo:14===D?gi:13===D?Yn:12===D?_n:11===D?At:void rn();var D;let N;return this.ri.runTransaction(e,l,g,K=>(N=new Gl(K,this.Ss?this.Ss.next():Js.at),"readwrite-primary"===t?this.fi(N).next(ee=>!!ee||this.di(N)).next(ee=>{if(!ee)throw ns(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new It(ut.FAILED_PRECONDITION,Yl);return o(N)}).next(ee=>this.wi(N).next(()=>ee)):this.Vi(N).next(()=>o(N)))).then(K=>(N.raiseOnCommittedEvent(),K))}Vi(e){return nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new It(ut.FAILED_PRECONDITION,ep)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nd(e).put("owner",t)}static C(){return Is.C()}_i(e){const t=nd(e);return t.get("owner").next(o=>this.mi(o)?(Lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ct.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(ns(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,le.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Lt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ns("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ns("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nd(i){return bs(i,"owner")}function rd(i){return bs(i,"clientMetadata")}class zg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=Xt(),l=Xt();for(const g of t.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:l=l.add(g.doc.key)}return new zg(e,t.fromCache,o,l)}}class np{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(g=>g||this.Oi(e,t,l,o)).next(g=>g||this.Mi(e,t))}ki(e,t){if(bl(t))return ct.resolve(null);let o=Yi(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=pl(t,null,"F"),o=Yi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(g=>{const D=Xt(...g);return this.Ni.getDocuments(e,D).next(N=>this.indexManager.getMinOffset(e,o).next(K=>{const ee=this.Fi(t,N);return this.$i(t,ee,D,K.readTime)?this.ki(e,pl(t,null,"F")):this.Bi(e,ee,t,K)}))})))}Oi(e,t,o,l){return bl(t)||l.isEqual(bn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(g=>{const D=this.Fi(t,g);return this.$i(t,D,o,l)?this.Mi(e,t):(fs()<=V.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gl(t)),this.Bi(e,D,t,function ll(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=bn.fromTimestamp(1e9===o?new ci(t+1,0):new ci(t,o));return new Ki(l,Jt.empty(),e)}(l,-1)))})}Fi(e,t){let o=new hi(Ta(e));return t.forEach((l,g)=>{ml(e,g)&&(o=o.add(g))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(l)>0)}Mi(e,t){return fs()<=V.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",gl(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ki.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(g=>(t.forEach(D=>{g=g.insert(D.key,D)}),g))}}class T_{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new Pi(rr),this.Ui=new Ss(g=>Sl(g),Uo),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function rp(i,e,t,o){return new T_(i,e,t,o)}function Yg(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,f.Z)(function*(i,e){const t=Zt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(g=>(l=g,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(g=>{const D=[],N=[];let K=Xt();for(const ee of l){D.push(ee.batchId);for(const ge of ee.mutations)K=K.add(ge.key)}for(const ee of g){N.push(ee.batchId);for(const ge of ee.mutations)K=K.add(ge.key)}return t.localDocuments.getDocuments(o,K).next(ee=>({ji:ee,removedBatchIds:D,addedBatchIds:N}))})})}),ip.apply(this,arguments)}function cu(i,e){const t=Zt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),g=t.Gi.newChangeBuffer({trackRemovals:!0});return function(D,N,K,ee){const ge=K.batch,Re=ge.keys();let ot=ct.resolve();return Re.forEach(Pt=>{ot=ot.next(()=>ee.getEntry(N,Pt)).next(Vt=>{const pn=K.docVersions.get(Pt);Sn(null!==pn),Vt.version.compareTo(pn)<0&&(ge.applyToRemoteDocument(Vt,K),Vt.isValidDocument()&&(Vt.setReadTime(K.commitVersion),ee.addEntry(Vt)))})}),ot.next(()=>D.mutationQueue.removeMutationBatch(N,ge))}(t,o,e,g).next(()=>g.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let N=Xt();for(let K=0;K<D.mutationResults.length;++K)D.mutationResults[K].transformResults.length>0&&(N=N.add(D.batch.mutations[K].key));return N}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}function Qg(i){const e=Zt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function qg(i,e){const t=Zt(i),o=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const D=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const N=[];e.targetChanges.forEach((ge,Re)=>{const ot=l.get(Re);if(!ot)return;N.push(t.Cs.removeMatchingKeys(g,ge.removedDocuments,Re).next(()=>t.Cs.addMatchingKeys(g,ge.addedDocuments,Re)));let Pt=ot.withSequenceNumber(g.currentSequenceNumber);var Vt,pn,Qn;e.targetMismatches.has(Re)?Pt=Pt.withResumeToken(zi.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):ge.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(ge.resumeToken,o)),l=l.insert(Re,Pt),pn=Pt,Qn=ge,(0===(Vt=ot).resumeToken.approximateByteSize()||pn.snapshotVersion.toMicroseconds()-Vt.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&N.push(t.Cs.updateTargetData(g,Pt))});let K=fi(),ee=Xt();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(g,ge))}),N.push(function Zg(i,e,t){let o=Xt(),l=Xt();return t.forEach(g=>o=o.add(g)),e.getEntries(i,o).next(g=>{let D=fi();return t.forEach((N,K)=>{const ee=g.get(N);K.isFoundDocument()!==ee.isFoundDocument()&&(l=l.add(N)),K.isNoDocument()&&K.version.isEqual(bn.min())?(e.removeEntry(N,K.readTime),D=D.insert(N,K)):!ee.isValidDocument()||K.version.compareTo(ee.version)>0||0===K.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(K),D=D.insert(N,K)):Lt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",ee.version," Watch version:",K.version)}),{Wi:D,zi:l}})}(g,D,e.documentUpdates).next(ge=>{K=ge.Wi,ee=ge.zi})),!o.isEqual(bn.min())){const ge=t.Cs.getLastRemoteSnapshotVersion(g).next(Re=>t.Cs.setTargetsMetadata(g,g.currentSequenceNumber,o));N.push(ge)}return ct.waitFor(N).next(()=>D.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,K,ee)).next(()=>K)}).then(g=>(t.qi=l,g))}function S_(i,e){const t=Zt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function id(i,e){const t=Zt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(g=>g?(l=g,ct.resolve(l)):t.Cs.allocateTargetId(o).next(D=>(l=new Bu(e,D,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.qi.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function sd(i,e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,f.Z)(function*(i,e,t){const o=Zt(i),l=o.qi.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",g,D=>o.persistence.referenceDelegate.removeTarget(D,l)))}catch(D){if(!No(D))throw D;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}o.qi=o.qi.remove(e),o.Ui.delete(l.target)}),Ah.apply(this,arguments)}function Mh(i,e,t){const o=Zt(i);let l=bn.min(),g=Xt();return o.persistence.runTransaction("Execute query","readonly",D=>function(N,K,ee){const ge=Zt(N),Re=ge.Ui.get(ee);return void 0!==Re?ct.resolve(ge.qi.get(Re)):ge.Cs.getTargetData(K,ee)}(o,D,Yi(e)).next(N=>{if(N)return l=N.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(D,N.targetId).next(K=>{g=K})}).next(()=>o.Li.getDocumentsMatchingQuery(D,e,t?l:bn.min(),t?g:Xt())).next(N=>(function xr(i,e,t){let o=i.Ki.get(e)||bn.min();t.forEach((l,g)=>{g.readTime.compareTo(o)>0&&(o=g.readTime)}),i.Ki.set(e,o)}(o,function ru(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),N),{documents:N,Hi:g})))}class Rh{constructor(){this.activeTargetIds=Xs()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oc{constructor(){this.Lr=new Rh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Rh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b_{Ur(e){}shutdown(){}}class Nh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class pv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,l,g){const D=this.ho(e,t);Lt("RestConnection","Sending: ",D,o);const N={};return this.lo(N,l,g),this.fo(e,D,N,o).then(K=>(Lt("RestConnection","Received: ",K),K),K=>{throw Eo("RestConnection",`${e} failed with error: `,K,"url: ",D,"request:",o),K})}_o(e,t,o,l,g,D){return this.ao(e,t,o,l,g)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,g)=>e[g]=l),o&&o.headers.forEach((l,g)=>e[g]=l)}ho(e,t){return`${this.oo}/v1/${t}:${lp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((g,D)=>{const N=new ts;N.setWithCredentials(!0),N.listenOnce(Pn.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Hr.NO_ERROR:const ee=N.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(ee)),g(ee);break;case Hr.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),D(new It(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Hr.HTTP_ERROR:const ge=N.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',ge,"response text:",N.getResponseText()),ge>0){let Re=N.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const ot=null==Re?void 0:Re.error;if(ot&&ot.status&&ot.message){const Pt=function(Vt){const pn=Vt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(pn)>=0?pn:ut.UNKNOWN}(ot.status);D(new It(Pt,ot.message))}else D(new It(ut.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new It(ut.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const K=JSON.stringify(l);N.send(t,"POST",K,o,15)})}wo(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ft(),D=nn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new Li({})),this.lo(N.initMessageHeaders,t,o),N.encodeInitMessageHeaders=!0;const K=l.join("");Lt("Connection","Creating WebChannel: "+K,N);const ee=g.createWebChannel(K,N);let ge=!1,Re=!1;const ot=new A_({Hr:Vt=>{Re?Lt("Connection","Not sending because WebChannel is closed:",Vt):(ge||(Lt("Connection","Opening WebChannel transport."),ee.open(),ge=!0),Lt("Connection","WebChannel sending:",Vt),ee.send(Vt))},Jr:()=>ee.close()}),Pt=(Vt,pn,Qn)=>{Vt.listen(pn,As=>{try{Qn(As)}catch(zs){setTimeout(()=>{throw zs},0)}})};return Pt(ee,Ar.EventType.OPEN,()=>{Re||Lt("Connection","WebChannel transport opened.")}),Pt(ee,Ar.EventType.CLOSE,()=>{Re||(Re=!0,Lt("Connection","WebChannel transport closed"),ot.io())}),Pt(ee,Ar.EventType.ERROR,Vt=>{Re||(Re=!0,Eo("Connection","WebChannel transport errored:",Vt),ot.io(new It(ut.UNAVAILABLE,"The operation could not be completed")))}),Pt(ee,Ar.EventType.MESSAGE,Vt=>{var pn;if(!Re){const Qn=Vt.data[0];Sn(!!Qn);const As=Qn,zs=As.error||(null===(pn=As[0])||void 0===pn?void 0:pn.error);if(zs){Lt("Connection","WebChannel received error:",zs);const os=zs.status;let na=function(qi){const ra=gr[qi];if(void 0!==ra)return is(ra)}(os),_s=zs.message;void 0===na&&(na=ut.INTERNAL,_s="Unknown error status: "+os+" with message "+zs.message),Re=!0,ot.io(new It(na,_s)),ee.close()}else Lt("Connection","WebChannel received:",Qn),ot.ro(Qn)}}),Pt(D,hr.STAT_EVENT,Vt=>{Vt.stat===ar.PROXY?Lt("Connection","Detected buffering proxy"):Vt.stat===ar.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ot.so()},0),ot}}function up(){return"undefined"!=typeof document?document:null}function Nd(i){return new Qe(i,!0)}class Lh{constructor(e,t,o=1e3,l=1.5,g=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=l,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&Lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class O_{constructor(e,t,o,l,g,D,N,K){this.Hs=e,this.vo=o,this.Vo=l,this.connection=g,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=N,this.listener=K,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,f.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===ut.RESOURCE_EXHAUSTED?(ns(t.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===ut.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new It(ut.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P_ extends O_{constructor(e,t,o,l,g,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,D),this.yt=g}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function au(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:rn(),l=e.targetChange.targetIds||[],g=function(K,ee){return K.wt?(Sn(void 0===ee||"string"==typeof ee),zi.fromBase64String(ee||"")):(Sn(void 0===ee||ee instanceof Uint8Array),zi.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,N=D&&function(K){const ee=void 0===K.code?ut.UNKNOWN:is(K.code);return new It(ee,K.message||"")}(D);t=new Zu(o,l,g,N||null)}else if("documentChange"in e){const o=e.documentChange,l=ha(i,o.document.name),g=kn(o.document.updateTime),D=o.document.createTime?kn(o.document.createTime):bn.min(),N=new Gs({mapValue:{fields:o.document.fields}}),K=ki.newFoundDocument(l,g,D,N);t=new Ii(o.targetIds||[],o.removedTargetIds||[],K.key,K)}else if("documentDelete"in e){const o=e.documentDelete,l=ha(i,o.document),g=o.readTime?kn(o.readTime):bn.min(),D=ki.newNoDocument(l,g);t=new Ii([],o.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const o=e.documentRemove,l=ha(i,o.document);t=new Ii([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return rn();{const o=e.filter,g=new Ws(o.count||0);t=new bu(o.targetId,g)}}var K;return t}(this.yt,e),o=function(l){if(!("targetChange"in l))return bn.min();const g=l.targetChange;return g.targetIds&&g.targetIds.length?bn.min():g.readTime?kn(g.readTime):bn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=ou(this.yt),t.addTarget=function(l,g){let D;const N=g.target;return D=ja(N)?{documents:Cc(l,N)}:{query:wc(l,N)},D.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?D.resumeToken=dn(l,g.resumeToken):g.snapshotVersion.compareTo(bn.min())>0&&(D.readTime=wt(l,g.snapshotVersion.toTimestamp())),D}(this.yt,e);const o=function dh(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=ou(this.yt),t.removeTarget=e,this.Bo(t)}}class od extends O_{constructor(e,t,o,l,g,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,D),this.yt=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Uu(i,e){return i&&i.length>0?(Sn(void 0!==e),i.map(t=>function(o,l){let g=kn(o.updateTime?o.updateTime:l);return g.isEqual(bn.min())&&(g=kn(l)),new x(g,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=kn(e.commitTime);return this.listener.Zo(o,t)}return Sn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ou(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ku(this.yt,o))};this.Bo(t)}}class R_ extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=l,this.nu=!1}su(){if(this.nu)throw new It(ut.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,g])=>this.connection.ao(e,t,o,l,g)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new It(ut.UNKNOWN,l.toString())})}_o(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,D])=>this.connection._o(e,t,o,g,D,l)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(ut.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class x_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ns(t),this.ou=!1):Lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class sm{constructor(e,t,o,l,g){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.Ur(N=>{o.enqueueAndForget((0,f.Z)(function*(){var K;ac(D)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,f.Z)(function*(ee){const ge=Zt(ee);ge._u.add(4),yield ld(ge),ge.gu.set("Unknown"),ge._u.delete(4),yield Ld(ge)}),function(ee){return K.apply(this,arguments)})(D))}))}),this.gu=new x_(o,l)}}function Ld(i){return cp.apply(this,arguments)}function cp(){return cp=(0,f.Z)(function*(i){if(ac(i))for(const e of i.wu)yield e(!0)}),cp.apply(this,arguments)}function ld(i){return dp.apply(this,arguments)}function dp(){return dp=(0,f.Z)(function*(i){for(const e of i.wu)yield e(!1)}),dp.apply(this,arguments)}function Fh(i,e){const t=Zt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Fd(t)?kh(t):Nc(t).ko()&&hp(t,e))}function ud(i,e){const t=Zt(i),o=Nc(t);t.du.delete(e),o.ko()&&fp(t,e),0===t.du.size&&(o.ko()?o.Fo():ac(t)&&t.gu.set("Unknown"))}function hp(i,e){i.yu.Ot(e.targetId),Nc(i).zo(e)}function fp(i,e){i.yu.Ot(e),Nc(i).Ho(e)}function kh(i){i.yu=new b({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Nc(i).start(),i.gu.uu()}function Fd(i){return ac(i)&&!Nc(i).No()&&i.du.size>0}function ac(i){return 0===Zt(i)._u.size}function Uh(i){i.yu=void 0}function N_(i){return om.apply(this,arguments)}function om(){return om=(0,f.Z)(function*(i){i.du.forEach((e,t)=>{hp(i,e)})}),om.apply(this,arguments)}function cd(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,f.Z)(function*(i,e){Uh(i),Fd(i)?(i.gu.hu(e),kh(i)):i.gu.set("Unknown")}),Vh.apply(this,arguments)}function am(i,e,t){return dd.apply(this,arguments)}function dd(){return dd=(0,f.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Zu&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(l,g){const D=g.cause;for(const N of g.targetIds)l.du.has(N)&&(yield l.remoteSyncer.rejectListen(N,D),l.du.delete(N),l.yu.removeTarget(N))}),function(l,g){return o.apply(this,arguments)})(i,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield yl(i,o)}else if(e instanceof Ii?i.yu.Kt(e):e instanceof bu?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(bn.min()))try{const o=yield Qg(i.localStore);t.compareTo(o)>=0&&(yield function(l,g){const D=l.yu.Zt(g);return D.targetChanges.forEach((N,K)=>{if(N.resumeToken.approximateByteSize()>0){const ee=l.du.get(K);ee&&l.du.set(K,ee.withResumeToken(N.resumeToken,g))}}),D.targetMismatches.forEach(N=>{const K=l.du.get(N);if(!K)return;l.du.set(N,K.withResumeToken(zi.EMPTY_BYTE_STRING,K.snapshotVersion)),fp(l,N);const ee=new Bu(K.target,N,1,K.sequenceNumber);hp(l,ee)}),l.remoteSyncer.applyRemoteEvent(D)}(i,t))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield yl(i,o)}var o}),dd.apply(this,arguments)}function yl(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,f.Z)(function*(i,e,t){if(!No(e))throw e;i._u.add(1),yield ld(i),i.gu.set("Offline"),t||(t=()=>Qg(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Ld(i)}))}),Bh.apply(this,arguments)}function lm(i,e){return e().catch(t=>yl(i,t,e))}function lc(i){return du.apply(this,arguments)}function du(){return du=(0,f.Z)(function*(i){const e=Zt(i),t=Lc(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;pp(e);)try{const l=yield S_(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,um(e,l)}catch(l){yield yl(e,l)}jh(e)&&L_(e)}),du.apply(this,arguments)}function pp(i){return ac(i)&&i.fu.length<10}function um(i,e){i.fu.push(e);const t=Lc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function jh(i){return ac(i)&&!Lc(i).No()&&i.fu.length>0}function L_(i){Lc(i).start()}function cm(i){return dm.apply(this,arguments)}function dm(){return dm=(0,f.Z)(function*(i){Lc(i).eu()}),dm.apply(this,arguments)}function Hh(i){return hd.apply(this,arguments)}function hd(){return hd=(0,f.Z)(function*(i){const e=Lc(i);for(const t of i.fu)e.Xo(t.mutations)}),hd.apply(this,arguments)}function gp(i,e,t){return kd.apply(this,arguments)}function kd(){return kd=(0,f.Z)(function*(i,e,t){const o=i.fu.shift(),l=Id.from(o,e,t);yield lm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield lc(i)}),kd.apply(this,arguments)}function mp(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,f.Z)(function*(i,e){var t;e&&Lc(i).Yo&&(yield(t=(0,f.Z)(function*(o,l){if(Rs(g=l.code)&&g!==ut.ABORTED){const D=o.fu.shift();Lc(o).Mo(),yield lm(o,()=>o.remoteSyncer.rejectFailedWrite(D.batchId,l)),yield lc(o)}var g}),function(o,l){return t.apply(this,arguments)})(i,e)),jh(i)&&L_(i)}),hm.apply(this,arguments)}function fm(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,f.Z)(function*(i,e){const t=Zt(i);t.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=ac(t);t._u.add(3),yield ld(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ld(t)}),_p.apply(this,arguments)}function vp(){return vp=(0,f.Z)(function*(i,e){const t=Zt(i);e?(t._u.delete(2),yield Ld(t)):e||(t._u.add(2),yield ld(t),t.gu.set("Unknown"))}),vp.apply(this,arguments)}function Nc(i){return i.pu||(i.pu=function(e,t,o){const l=Zt(e);return l.su(),new P_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:N_.bind(null,i),Zr:cd.bind(null,i),Wo:am.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.pu.Mo(),Fd(i)?kh(i):i.gu.set("Unknown")):(yield i.pu.stop(),Uh(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Lc(i){return i.Iu||(i.Iu=function(e,t,o){const l=Zt(e);return l.su(),new od(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:cm.bind(null,i),Zr:mp.bind(null,i),tu:Hh.bind(null,i),Zo:gp.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.Iu.Mo(),yield lc(i)):(yield i.Iu.stop(),i.fu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Ep{constructor(e,t,o,l,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=g,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,o,l,g){const D=Date.now()+o,N=new Ep(e,t,D,l,g);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new It(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(i,e){if(ns("AsyncQueue",`${e}: ${i}`),No(i))return new It(ut.UNAVAILABLE,`${e}: ${i}`);throw i}class Fc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Jt.comparator(t.key,o.key):(t,o)=>Jt.comparator(t.key,o.key),this.keyedMap=Jo(),this.sortedSet=new Pi(this.comparator)}static emptySet(e){return new Fc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=o.getNext().key;if(!l.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Fc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Dp{constructor(){this.Tu=new Pi(Jt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class fd{constructor(e,t,o,l,g,D,N,K,ee){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=g,this.fromCache=D,this.syncStateChanged=N,this.excludesMetadataChanges=K,this.hasCachedResults=ee}static fromInitialDocuments(e,t,o,l,g){const D=[];return t.forEach(N=>{D.push({type:0,doc:N})}),new fd(e,t,Fc.emptySet(t),D,o,l,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Cp{constructor(){this.Au=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new Ss(e=>Al(e),Cu),this.onlineState="Unknown",this.Ru=new Set}}function pm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,f.Z)(function*(i,e){const t=Zt(i),o=e.query;let l=!1,g=t.queries.get(o);if(g||(l=!0,g=new Cp),l)try{g.Au=yield t.onListen(o)}catch(D){const N=Ud(D,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(N)}t.queries.set(o,g),g.listeners.push(e),e.bu(t.onlineState),g.Au&&e.Pu(g.Au)&&ym(t)}),gm.apply(this,arguments)}function mm(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,f.Z)(function*(i,e){const t=Zt(i),o=e.query;let l=!1;const g=t.queries.get(o);if(g){const D=g.listeners.indexOf(e);D>=0&&(g.listeners.splice(D,1),l=0===g.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),_m.apply(this,arguments)}function mv(i,e){const t=Zt(i);let o=!1;for(const l of e){const D=t.queries.get(l.query);if(D){for(const N of D.listeners)N.Pu(l)&&(o=!0);D.Au=l}}o&&ym(t)}function _v(i,e,t){const o=Zt(i),l=o.queries.get(e);if(l)for(const g of l.listeners)g.onError(t);o.queries.delete(e)}function ym(i){i.Ru.forEach(e=>{e.next()})}class vm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new fd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Ip{constructor(e){this.key=e}}class $h{constructor(e){this.key=e}}class Tp{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Xt(),this.mutatedKeys=Xt(),this.Gu=Ta(e),this.Qu=new Fc(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new Dp,l=t?t.Qu:this.Qu;let g=t?t.mutatedKeys:this.mutatedKeys,D=l,N=!1;const K="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ee="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ge,Re)=>{const ot=l.get(ge),Pt=ml(this.query,Re)?Re:null,Vt=!!ot&&this.mutatedKeys.has(ot.key),pn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let Qn=!1;ot&&Pt?ot.data.isEqual(Pt.data)?Vt!==pn&&(o.track({type:3,doc:Pt}),Qn=!0):this.Hu(ot,Pt)||(o.track({type:2,doc:Pt}),Qn=!0,(K&&this.Gu(Pt,K)>0||ee&&this.Gu(Pt,ee)<0)&&(N=!0)):!ot&&Pt?(o.track({type:0,doc:Pt}),Qn=!0):ot&&!Pt&&(o.track({type:1,doc:ot}),Qn=!0,(K||ee)&&(N=!0)),Qn&&(Pt?(D=D.add(Pt),g=pn?g.add(ge):g.delete(ge)):(D=D.delete(ge),g=g.delete(ge)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const ge="F"===this.query.limitType?D.last():D.first();D=D.delete(ge.key),g=g.delete(ge.key),o.track({type:1,doc:ge})}return{Qu:D,zu:o,$i:N,mutatedKeys:g}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const g=e.zu.Eu();g.sort((ee,ge)=>function(Re,ot){const Pt=Vt=>{switch(Vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return Pt(Re)-Pt(ot)}(ee.type,ge.type)||this.Gu(ee.doc,ge.doc)),this.Ju(o);const D=t?this.Yu():[],N=0===this.Ku.size&&this.current?1:0,K=N!==this.Uu;return this.Uu=N,0!==g.length||K?{snapshot:new fd(this.query,e.Qu,l,g,e.mutatedKeys,0===N,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:D}:{Xu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Dp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Xt(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new $h(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Ip(o))}),t}tc(e){this.qu=e.Hi,this.Ku=Xt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return fd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Sp{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class F_{constructor(e){this.key=e,this.nc=!1}}class uc{constructor(e,t,o,l,g,D){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=g,this.maxConcurrentLimboResolutions=D,this.sc={},this.ic=new Ss(N=>Al(N),Cu),this.rc=new Map,this.oc=new Set,this.uc=new Pi(Jt.comparator),this.cc=new Map,this.ac=new Pd,this.hc={},this.lc=new Map,this.fc=Rc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Dm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,f.Z)(function*(i,e){const t=jp(i);let o,l;const g=t.ic.get(e);if(g)o=g.targetId,t.sharedClientState.addLocalQueryTarget(o),l=g.view.ec();else{const D=yield id(t.localStore,Yi(e));t.isPrimaryClient&&Fh(t.remoteStore,D);const N=t.sharedClientState.addLocalQueryTarget(D.targetId);o=D.targetId,l=yield Ap(t,e,o,"current"===N,D.resumeToken)}return l}),bp.apply(this,arguments)}function Ap(i,e,t,o,l){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,f.Z)(function*(i,e,t,o,l){i._c=(Re,ot,Pt)=>{return(Vt=(0,f.Z)(function*(pn,Qn,As,zs){let os=Qn.view.Wu(As);os.$i&&(os=yield Mh(pn.localStore,Qn.query,!1).then(({documents:qi})=>Qn.view.Wu(qi,os)));const na=zs&&zs.targetChanges.get(Qn.targetId),_s=Qn.view.applyChanges(os,pn.isPrimaryClient,na);return Zh(pn,Qn.targetId,_s.Xu),_s.snapshot}),function(pn,Qn,As,zs){return Vt.apply(this,arguments)})(i,Re,ot,Pt);var Vt};const g=yield Mh(i.localStore,e,!0),D=new Tp(e,g.Hi),N=D.Wu(g.documents),K=Io.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),ee=D.applyChanges(N,i.isPrimaryClient,K);Zh(i,t,ee.Xu);const ge=new Sp(e,t,D);return i.ic.set(e,ge),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),ee.snapshot}),Gh.apply(this,arguments)}function k_(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,f.Z)(function*(i,e){const t=Zt(i),o=t.ic.get(e),l=t.rc.get(o.targetId);if(l.length>1)return t.rc.set(o.targetId,l.filter(g=>!Cu(g,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),ud(t.remoteStore,o.targetId),kc(t,o.targetId)}).catch(ao))):(kc(t,o.targetId),yield sd(t.localStore,o.targetId,!0))}),Mp.apply(this,arguments)}function cc(){return cc=(0,f.Z)(function*(i,e,t){const o=Mm(i);try{const l=yield function(g,D){const N=Zt(g),K=ci.now(),ee=D.reduce((ot,Pt)=>ot.add(Pt.key),Xt());let ge,Re;return N.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let Pt=fi(),Vt=Xt();return N.Gi.getEntries(ot,ee).next(pn=>{Pt=pn,Pt.forEach((Qn,As)=>{As.isValidDocument()||(Vt=Vt.add(Qn))})}).next(()=>N.localDocuments.getOverlayedDocuments(ot,Pt)).next(pn=>{ge=pn;const Qn=[];for(const As of D){const zs=$t(As,ge.get(As.key).overlayedDocument);null!=zs&&Qn.push(new wn(As.key,zs,Nu(zs.value.mapValue),G.exists(!0)))}return N.mutationQueue.addMutationBatch(ot,K,Qn,D)}).next(pn=>{Re=pn;const Qn=pn.applyToLocalDocumentSet(ge,Vt);return N.documentOverlayCache.saveOverlays(ot,pn.batchId,Qn)})}).then(()=>({batchId:Re.batchId,changes:Hl(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(g,D,N){let K=g.hc[g.currentUser.toKey()];K||(K=new Pi(rr)),K=K.insert(D,N),g.hc[g.currentUser.toKey()]=K}(o,l.batchId,t),yield To(o,l.changes),yield lc(o.remoteStore)}catch(l){const g=Ud(l,"Failed to persist write");t.reject(g)}}),cc.apply(this,arguments)}function Kh(i,e){return dc.apply(this,arguments)}function dc(){return dc=(0,f.Z)(function*(i,e){const t=Zt(i);try{const o=yield qg(t.localStore,e);e.targetChanges.forEach((l,g)=>{const D=t.cc.get(g);D&&(Sn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?D.nc=!0:l.modifiedDocuments.size>0?Sn(D.nc):l.removedDocuments.size>0&&(Sn(D.nc),D.nc=!1))}),yield To(t,o,e)}catch(o){yield ao(o)}}),dc.apply(this,arguments)}function zh(i,e,t){const o=Zt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ic.forEach((g,D)=>{const N=D.view.bu(e);N.snapshot&&l.push(N.snapshot)}),function(g,D){const N=Zt(g);N.onlineState=D;let K=!1;N.queries.forEach((ee,ge)=>{for(const Re of ge.listeners)Re.bu(D)&&(K=!0)}),K&&ym(N)}(o.eventManager,e),l.length&&o.sc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Yh(i,e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,f.Z)(function*(i,e,t){const o=Zt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.cc.get(e),g=l&&l.key;if(g){let D=new Pi(Jt.comparator);D=D.insert(g,ki.newNoDocument(g,bn.min()));const N=Xt().add(g),K=new eo(bn.min(),new Map,new hi(rr),D,N);yield Kh(o,K),o.uc=o.uc.remove(g),o.cc.delete(e),Np(o)}else yield sd(o.localStore,e,!1).then(()=>kc(o,e,t)).catch(ao)}),Qh.apply(this,arguments)}function Cm(i,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,f.Z)(function*(i,e){const t=Zt(i),o=e.batch.batchId;try{const l=yield cu(t.localStore,e);xp(t,o,null),wm(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield To(t,l)}catch(l){yield ao(l)}}),Vd.apply(this,arguments)}function Op(i,e,t){return qh.apply(this,arguments)}function qh(){return qh=(0,f.Z)(function*(i,e,t){const o=Zt(i);try{const l=yield function(g,D){const N=Zt(g);return N.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ee;return N.mutationQueue.lookupMutationBatch(K,D).next(ge=>(Sn(null!==ge),ee=ge.keys(),N.mutationQueue.removeMutationBatch(K,ge))).next(()=>N.mutationQueue.performConsistencyCheck(K)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(K,ee,D)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ee)).next(()=>N.localDocuments.getDocuments(K,ee))})}(o.localStore,e);xp(o,e,t),wm(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield To(o,l)}catch(l){yield ao(l)}}),qh.apply(this,arguments)}function wm(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function xp(i,e,t){const o=Zt(i);let l=o.hc[o.currentUser.toKey()];if(l){const g=l.get(e);g&&(t?g.reject(t):g.resolve(),l=l.remove(e)),o.hc[o.currentUser.toKey()]=l}}function kc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Im(i,o)})}function Im(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(ud(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Np(i))}function Zh(i,e,t){for(const o of t)o instanceof Ip?(i.ac.addReference(o.key,e),Tm(i,o)):o instanceof $h?(Lt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Im(i,o.key)):rn()}function Tm(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Lt("SyncEngine","New document in limbo: "+t),i.oc.add(o),Np(i))}function Np(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Jt(Er.fromString(e)),o=i.fc.next();i.cc.set(o,new F_(t)),i.uc=i.uc.insert(t,o),Fh(i.remoteStore,new Bu(Yi(tu(t.path)),o,2,Js.at))}}function To(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,f.Z)(function*(i,e,t){const o=Zt(i),l=[],g=[],D=[];var N;o.ic.isEmpty()||(o.ic.forEach((N,K)=>{D.push(o._c(K,e,t).then(ee=>{if((ee||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(K.targetId,null!=ee&&ee.fromCache?"not-current":"current"),ee){l.push(ee);const ge=zg.Ci(K.targetId,ee);g.push(ge)}}))}),yield Promise.all(D),o.sc.Wo(l),yield(N=(0,f.Z)(function*(K,ee){const ge=Zt(K);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>ct.forEach(ee,ot=>ct.forEach(ot.Si,Pt=>ge.persistence.referenceDelegate.addReference(Re,ot.targetId,Pt)).next(()=>ct.forEach(ot.Di,Pt=>ge.persistence.referenceDelegate.removeReference(Re,ot.targetId,Pt)))))}catch(Re){if(!No(Re))throw Re;Lt("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of ee){const ot=Re.targetId;if(!Re.fromCache){const Pt=ge.qi.get(ot),pn=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);ge.qi=ge.qi.insert(ot,pn)}}}),function(K,ee){return N.apply(this,arguments)})(o.localStore,g))}),Jh.apply(this,arguments)}function U_(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,f.Z)(function*(i,e){const t=Zt(i);if(!t.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield Yg(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(D=>{D.forEach(N=>{N.reject(new It(ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield To(t,o.ji)}var l}),Sm.apply(this,arguments)}function V_(i,e){const t=Zt(i),o=t.cc.get(e);if(o&&o.nc)return Xt().add(o.key);{let l=Xt();const g=t.rc.get(e);if(!g)return l;for(const D of g){const N=t.ic.get(D);l=l.unionWith(N.view.ju)}return l}}function jp(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yh.bind(null,e),e.sc.Wo=mv.bind(null,e.eventManager),e.sc.wc=_v.bind(null,e.eventManager),e}function Mm(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Op.bind(null,e),e}class Pm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.yt=Nd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return rp(this.persistence,new np,e.initialUser,this.yt)}yc(e){return new Zf(sc.Bs,this.yt)}gc(e){return new oc}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class G_ extends Pm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Mm(o.Ac.syncEngine),yield lc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return rp(this.persistence,new np,e.initialUser,this.yt)}Tc(e,t){return new Wf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new zu(t,this.persistence);return new Xa(e.asyncQueue,o)}yc(e){const t=function bh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Wa.withCacheSize(this.cacheSizeBytes):Wa.DEFAULT;return new tp(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,function M_(){return"undefined"!=typeof window?window:null}(),up(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new oc}}class Bd{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>zh(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=U_.bind(null,o.syncEngine),yield function yp(i,e){return vp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),o=new pv(e.databaseInfo);return new R_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,g=N=>zh(this.syncEngine,N,0),D=Nh.C()?new Nh:new b_,new sm(t,o,l,g,D);var t,o,l,g,D}createSyncEngine(e,t){return function(o,l,g,D,N,K,ee){const ge=new uc(o,l,g,D,N,K);return ee&&(ge.dc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=Zt(t);Lt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield ld(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hp(i,e,t){if(!t)throw new It(ut.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jd(i){if(!Jt.isDocumentKey(i))throw new It(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nf(i){if(Jt.isDocumentKey(i))throw new It(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":rn()}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new It(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uc(i);throw new It(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const z_=new Map;class $p{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new It(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new It(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function K_(i,e,t,o){if(!0===e&&!0===o)throw new It(ut.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new It(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new It(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $p(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Oi;switch(t.type){case"gapi":return new Ls(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new It(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=z_.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),z_.delete(e),t.terminate())}(this),Promise.resolve()}}class co{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class ta{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class fa extends ta{constructor(e,t,o){super(e,t,tu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new Jt(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function sf(i,e,...t){if(i=(0,le.m9)(i),Hp("collection","path",e),i instanceof pd){const o=Er.fromString(e,...t);return nf(o),new fa(i,null,o)}{if(!(i instanceof co||i instanceof fa))throw new It(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Er.fromString(e,...t));return nf(o),new fa(i.firestore,null,o)}}function gd(i,e,...t){if(i=(0,le.m9)(i),1===arguments.length&&(e=Cl.R()),Hp("doc","path",e),i instanceof pd){const o=Er.fromString(e,...t);return jd(o),new co(i,null,new Jt(o))}{if(!(i instanceof co||i instanceof fa))throw new It(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Er.fromString(e,...t));return jd(o),new co(i.firestore,i instanceof fa?i.converter:null,new Jt(o))}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Z_{constructor(e,t,o,l){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=Zr.UNAUTHENTICATED,this.clientId=Cl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var D=(0,f.Z)(function*(N){Lt("FirestoreClient","Received user=",N.uid),yield g.authCredentialListener(N),g.user=N});return function(N){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(o,D=>(Lt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Ud(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function xm(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(g){o.isEqual(g)||(yield Yg(e.localStore,g),o=g)});return function(g){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Kp.apply(this,arguments)}function zp(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Yp(i);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>fm(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,g)=>fm(e.remoteStore,g)),i.onlineComponents=e}),Hd.apply(this,arguments)}function Yp(i){return $d.apply(this,arguments)}function $d(){return $d=(0,f.Z)(function*(i){return i.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Pm)),i.offlineComponents}),$d.apply(this,arguments)}function cf(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,f.Z)(function*(i){return i.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield zp(i,new Bd)),i.onlineComponents}),Qp.apply(this,arguments)}function Kl(i){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,f.Z)(function*(i){const e=yield cf(i),t=e.eventManager;return t.onListen=Dm.bind(null,e.syncEngine),t.onUnlisten=k_.bind(null,e.syncEngine),t}),Lm.apply(this,arguments)}class ff{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lh(this,"async_queue_retry"),this.Wc=()=>{const t=up();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new ws;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!No(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,ns("INTERNAL UNHANDLED ERROR: ",function(g){let D=g.message||"";return g.stack&&(D=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),D}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=Ep.createAndSchedule(this,e,t,o,g=>this.Yc(g));return this.Uc.push(l),l}zc(){this.Kc&&rn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function vl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class ss extends pd{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new ff,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bc(this),this._firestoreClient.terminate()}}function md(i,e){const t="object"==typeof i?i:(0,S.Mq)(),o="string"==typeof i?i:e||"(default)",l=(0,S.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const g=(0,le.P0)("firestore");g&&function Rm(i,e,t,o={}){var l;const g=(i=Ti(i,pd))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&Eo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let D,N;if("string"==typeof o.mockUserToken)D=o.mockUserToken,N=Zr.MOCK_USER;else{D=(0,le.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new It(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Zr(K)}i._authCredentials=new Yo(new qa(D,N))}}(l,...g)}return l}function Us(i){return i._firestoreClient||Bc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Bc(i){var e;const t=i._freezeSettings(),o=(g=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Pu(i._databaseId,g,i._persistenceKey,(N=t).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var g,N;i._firestoreClient=new Z_(i._authCredentials,i._appCheckCredentials,i._queue,o)}function _d(i,e){!function Xp(i){if(i._initialized||i._terminated)throw new It(ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=Ti(i,ss));const t=Us(i),o=i._freezeSettings(),l=new Bd;return function jc(i,e,t){const o=new ws;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield xm(i,t),yield zp(i,e),o.resolve()}catch(l){const g=l;if(!("FirebaseError"===(D=g).name?D.code===ut.FAILED_PRECONDITION||D.code===ut.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw g;Eo("Error enabling offline persistence. Falling back to persistence disabled: "+g),o.reject(g)}var D})).then(()=>o.promise)}(t,l,new G_(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(zi.fromBase64String(e))}catch(t){throw new It(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hc(zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new It(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._methodName=e}}class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new It(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new It(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}}const Fm=/^__.*__$/;class tg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new An(e,this.data,t,this.fieldTransforms)}}class pf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function km(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn()}}class Hc{constructor(e,t,o,l,g,D){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=l,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=D||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Hc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.ua(e),l}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(km(this.sa)&&Fm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class gf{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Nd(e)}da(e,t,o,l=!1){return new Hc({sa:e,methodName:t,fa:o,path:pr.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function fc(i){const e=i._freezeSettings(),t=Nd(i._databaseId);return new gf(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ng(i,e,t,o,l,g={}){const D=i.da(g.merge||g.mergeFields?2:0,e,t,l);_f("Data must be an object, but it was:",D,o);const N=og(o,D);let K,ee;if(g.merge)K=new Fs(D.fieldMask),ee=D.fieldTransforms;else if(g.mergeFields){const ge=[];for(const Re of g.mergeFields){const ot=yf(e,Re,t);if(!D.contains(ot))throw new It(ut.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);vf(ge,ot)||ge.push(ot)}K=new Fs(ge),ee=D.fieldTransforms.filter(Re=>K.covers(Re.field))}else K=null,ee=D.fieldTransforms;return new tg(new Gs(N),K,ee)}class pc extends qd{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pc}}class Jd extends qd{_toFieldTransform(e){return new E(e.path,new Ol)}isEqual(e){return e instanceof Jd}}function sg(i,e,t,o=!1){return $c(t,i.da(o?4:3,e))}function $c(i,e){if(ag(i=(0,le.m9)(i)))return _f("Unsupported field value:",e,i),og(i,e);if(i instanceof qd)return function(t,o){if(!km(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const l=[];let g=0;for(const D of t){let N=$c(D,o.aa(g));null==N&&(N={nullValue:"NULL_VALUE"}),l.push(N),g++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fu(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ci.fromDate(t);return{timestampValue:wt(o.yt,l)}}if(t instanceof ci){const l=new ci(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wt(o.yt,l)}}if(t instanceof eg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hc)return{bytesValue:dn(o.yt,t._byteString)};if(t instanceof co){const l=o.databaseId,g=t.firestore._databaseId;if(!g.isEqual(l))throw o.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ui(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Uc(t)}`)}(i,e)}function og(i,e){const t={};return Va(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(i,(o,l)=>{const g=$c(l,e.ra(o));null!=g&&(t[o]=g)}),{mapValue:{fields:t}}}function ag(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ci||i instanceof eg||i instanceof hc||i instanceof co||i instanceof qd)}function _f(i,e,t){if(!ag(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Uc(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function yf(i,e,t){if((e=(0,le.m9)(e))instanceof yd)return e._internalPath;if("string"==typeof e)return Xd(i,e);throw eh("Field path arguments must be of type string or ",i,!1,void 0,t)}const ly=new RegExp("[~\\*/\\[\\]]");function Xd(i,e,t){if(e.search(ly)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch(o){throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function eh(i,e,t,o,l){const g=o&&!o.isEmpty(),D=void 0!==l;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let K="";return(g||D)&&(K+=" (found",g&&(K+=` in field ${o}`),D&&(K+=` in document ${l}`),K+=")"),new It(ut.INVALID_ARGUMENT,N+i+K)}function vf(i,e){return i.some(t=>t.isEqual(e))}class vd{constructor(e,t,o,l,g){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bm extends vd{data(){return super.data()}}function th(i,e){return"string"==typeof e?Xd(i,e):e instanceof yd?e._internalPath:e._delegate._internalPath}function lg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new It(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ef{}class Ed extends Ef{}function jm(i,e,...t){let o=[];e instanceof Ef&&o.push(e),o=o.concat(t),function(l){const g=l.filter(N=>N instanceof nh).length,D=l.filter(N=>N instanceof Dd).length;if(g>1||g>0&&D>0)throw new It(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class Dd extends Ed{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Dd(e,t,o)}_apply(e){const t=this._parse(e);return Km(e._query,t),new ta(e.firestore,e.converter,Du(e._query,t))}_parse(e){const t=fc(e.firestore);return function(l,g,D,N,K,ee,ge){let Re;if(K.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new It(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){ug(ge,ee);const ot=[];for(const Pt of ge)ot.push(Wm(N,l,Pt));Re={arrayValue:{values:ot}}}else Re=Wm(N,l,ge)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||ug(ge,ee),Re=sg(D,"where",ge,"in"===ee||"not-in"===ee);return wr.create(K,ee,Re)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class nh extends Ef{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nh(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let g=o;const D=l.getFlattenedFilters();for(const N of D)Km(g,N),g=Du(g,N)}(e._query,t),new ta(e.firestore,e.converter,Du(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Df extends Ed{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Df(e,t)}_apply(e){const t=function(o,l,g){if(null!==o.startAt)throw new It(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new It(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Ia(l,g);return function(N,K){if(null===nu(N)){const ee=fl(N);null!==ee&&cg(0,ee,K.field)}}(o,D),D}(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,function(o,l){const g=o.explicitOrderBy.concat([l]);return new ms(o.path,o.collectionGroup,g,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function cy(i,e="asc"){const t=e,o=th("orderBy",i);return Df._create(o,t)}class ho extends Ed{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new ho(e,t,o)}_apply(e){return new ta(e.firestore,e.converter,pl(e._query,this._limit,this._limitType))}}function Hm(i){return function rf(i,e){if(e<=0)throw new It(ut.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),ho._create("limit",i,"F")}class Cf extends Ed{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Cf(e,t,o)}_apply(e){const t=Gm(e,this.type,this._docOrFields,this._inclusive);return new ta(e.firestore,e.converter,(l=t,new ms((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function hy(...i){return Cf._create("startAfter",i,!1)}class rh extends Ed{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new rh(e,t,o)}_apply(e){const t=Gm(e,this.type,this._docOrFields,this._inclusive);return new ta(e.firestore,e.converter,(l=t,new ms((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function $m(...i){return rh._create("endBefore",i,!1)}function Gm(i,e,t,o){if(t[0]=(0,le.m9)(t[0]),t[0]instanceof vd)return function(l,g,D,N,K){if(!N)throw new It(ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ee=[];for(const ge of Ha(l))if(ge.field.isKeyField())ee.push(Ts(g,N.key));else{const Re=N.data.field(ge.field);if(F(Re))throw new It(ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const ot=ge.field.canonicalString();throw new It(ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}ee.push(Re)}return new lo(ee,K)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=fc(i.firestore);return function(g,D,N,K,ee,ge){const Re=g.explicitOrderBy;if(ee.length>Re.length)throw new It(ut.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let Pt=0;Pt<ee.length;Pt++){const Vt=ee[Pt];if(Re[Pt].field.isKeyField()){if("string"!=typeof Vt)throw new It(ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Vt}`);if(!jl(g)&&-1!==Vt.indexOf("/"))throw new It(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Vt}' contains a slash.`);const pn=g.path.child(Er.fromString(Vt));if(!Jt.isDocumentKey(pn))throw new It(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${pn}' is not because it contains an odd number of segments.`);const Qn=new Jt(pn);ot.push(Ts(D,Qn))}else{const pn=sg(N,K,Vt);ot.push(pn)}}return new lo(ot,ge)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Wm(i,e,t){if("string"==typeof(t=(0,le.m9)(t))){if(""===t)throw new It(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jl(e)&&-1!==t.indexOf("/"))throw new It(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Er.fromString(t));if(!Jt.isDocumentKey(o))throw new It(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ts(i,new Jt(o))}if(t instanceof co)return Ts(i,t._key);throw new It(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(t)}.`)}function ug(i,e){if(!Array.isArray(i)||0===i.length)throw new It(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new It(ut.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Km(i,e){if(e.isInequality()){const o=fl(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new It(ut.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const g=nu(i);null!==g&&cg(0,l,g)}const t=function(o,l){for(const g of o)for(const D of g.getFlattenedFilters())if(l.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new It(ut.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function cg(i,e,t){if(!t.isEqual(e))throw new It(ut.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Gc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends vd{constructor(e,t,o,l,g,D){super(e,t,o,l,D),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class xl extends Wc{data(e={}){return super.data(e)}}class za{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Gc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new xl(this._firestore,this._userDataWriter,o.key,o,new Gc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new It(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let g=0;return o._snapshot.docChanges.map(D=>({type:"added",doc:new xl(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Gc(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:g++}))}{let g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(D=>l||3!==D.type).map(D=>{const N=new xl(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Gc(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter);let K=-1,ee=-1;return 0!==D.type&&(K=g.indexOf(D.doc.key),g=g.delete(D.doc.key)),1!==D.type&&(g=g.add(D.doc),ee=g.indexOf(D.doc.key)),{type:fu(D.type),doc:N,oldIndex:K,newIndex:ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn()}}function zm(i){i=Ti(i,co);const e=Ti(i.firestore,ss);return function hf(i,e,t={}){const o=new ws;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,g,D,N,K){const ee=new lf({next:Re=>{g.enqueueAndForget(()=>mm(l,ge));const ot=Re.docs.has(D);!ot&&Re.fromCache?K.reject(new It(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Re.fromCache&&N&&"server"===N.source?K.reject(new It(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Re)},error:Re=>K.reject(Re)}),ge=new vm(tu(D.path),ee,{includeMetadataChanges:!0,Nu:!0});return pm(l,ge)}(yield Kl(i),i.asyncQueue,e,t,o)})),o.promise}(Us(e),i._key).then(t=>If(e,i,t))}class gc extends class dg{convertValue(e,t="none"){switch(Je(e)){case 0:return null;case 1:return e.booleanValue;case 2:return O(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(T(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rn()}}convertObject(e,t){const o={};return Fi(e.fields,(l,g)=>{o[l]=this.convertValue(g,t)}),o}convertGeoPoint(e){return new eg(O(e.latitude),O(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=$(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ne(e));default:return null}}convertTimestamp(e){const t=M(e);return new ci(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Er.fromString(e);Sn(Pf(o));const l=new el(o.get(1),o.get(3)),g=new Jt(o.popFirst(5));return l.isEqual(t)||ns(`Document ${g} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,t)}}function gy(i){i=Ti(i,co);const e=Ti(i.firestore,ss),t=Us(e),o=new gc(e);return function X_(i,e){const t=new ws;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(l,g,D){try{const N=yield function(K,ee){const ge=Zt(K);return ge.persistence.runTransaction("read document","readonly",Re=>ge.localDocuments.getDocument(Re,ee))}(l,g);N.isFoundDocument()?D.resolve(N):N.isNoDocument()?D.resolve(null):D.reject(new It(ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const K=Ud(N,`Failed to get document '${g} from cache`);D.reject(K)}}),function(l,g,D){return o.apply(this,arguments)})(yield function df(i){return Yp(i).then(e=>e.localStore)}(i),e,t);var o})),t.promise}(t,i._key).then(l=>new Wc(e,o,i._key,l,new Gc(null!==l&&l.hasLocalMutations,!0),i.converter))}function my(i){i=Ti(i,ta);const e=Ti(i.firestore,ss),t=Us(e),o=new gc(e);return lg(i._query),function hu(i,e,t={}){const o=new ws;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,g,D,N,K){const ee=new lf({next:Re=>{g.enqueueAndForget(()=>mm(l,ge)),Re.fromCache&&"server"===N.source?K.reject(new It(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Re)},error:Re=>K.reject(Re)}),ge=new vm(D,ee,{includeMetadataChanges:!0,Nu:!0});return pm(l,ge)}(yield Kl(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(l=>new za(e,o,i,l))}function Qm(i,e,t,...o){i=Ti(i,co);const l=Ti(i.firestore,ss),g=fc(l);let D;return D="string"==typeof(e=(0,le.m9)(e))||e instanceof yd?function mf(i,e,t,o,l,g){const D=i.da(1,e,t),N=[yf(e,o,t)],K=[l];if(g.length%2!=0)throw new It(ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<g.length;ot+=2)N.push(yf(e,g[ot])),K.push(g[ot+1]);const ee=[],ge=Gs.empty();for(let ot=N.length-1;ot>=0;--ot)if(!vf(ee,N[ot])){const Pt=N[ot];let Vt=K[ot];Vt=(0,le.m9)(Vt);const pn=D.ca(Pt);if(Vt instanceof pc)ee.push(Pt);else{const Qn=$c(Vt,pn);null!=Qn&&(ee.push(Pt),ge.set(Pt,Qn))}}const Re=new Fs(ee);return new pf(ge,Re,D.fieldTransforms)}(g,"updateDoc",i._key,e,t,o):function ig(i,e,t,o){const l=i.da(1,e,t);_f("Data must be an object, but it was:",l,o);const g=[],D=Gs.empty();Fi(o,(K,ee)=>{const ge=Xd(e,K,t);ee=(0,le.m9)(ee);const Re=l.ca(ge);if(ee instanceof pc)g.push(ge);else{const ot=$c(ee,Re);null!=ot&&(g.push(ge),D.set(ge,ot))}});const N=new Fs(g);return new pf(D,N,l.fieldTransforms)}(g,"updateDoc",i._key,e),oh(l,[D.toMutation(i._key,G.exists(!0))])}function _y(i){return oh(Ti(i.firestore,ss),[new ei(i._key,G.none())])}function qm(i,e){const t=Ti(i.firestore,ss),o=gd(i),l=function sh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return oh(t,[ng(fc(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,G.exists(!1))]).then(()=>o)}function Zm(i,...e){var t,o,l;i=(0,le.m9)(i);let g={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||vl(e[D])||(g=e[D],D++);const N={includeMetadataChanges:g.includeMetadataChanges};if(vl(e[D])){const Re=e[D];e[D]=null===(t=Re.next)||void 0===t?void 0:t.bind(Re),e[D+1]=null===(o=Re.error)||void 0===o?void 0:o.bind(Re),e[D+2]=null===(l=Re.complete)||void 0===l?void 0:l.bind(Re)}let K,ee,ge;if(i instanceof co)ee=Ti(i.firestore,ss),ge=tu(i._key.path),K={next:Re=>{e[D]&&e[D](If(ee,i,Re))},error:e[D+1],complete:e[D+2]};else{const Re=Ti(i,ta);ee=Ti(Re.firestore,ss),ge=Re._query;const ot=new gc(ee);K={next:Pt=>{e[D]&&e[D](new za(ee,ot,Re,Pt))},error:e[D+1],complete:e[D+2]},lg(i._query)}return function(Re,ot,Pt,Vt){const pn=new lf(Vt),Qn=new vm(ot,pn,Pt);return Re.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return pm(yield Kl(Re),Qn)})),()=>{pn.bc(),Re.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return mm(yield Kl(Re),Qn)}))}}(Us(ee),ge,N,K)}function oh(i,e){return function(t,o){const l=new ws;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Wh(i,e,t){return cc.apply(this,arguments)}(yield function Zp(i){return cf(i).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(Us(i),e)}function If(i,e,t){const o=t.docs.get(e._key),l=new gc(i);return new Wc(i,l,e._key,o,new Gc(t.hasPendingWrites,t.fromCache),e.converter)}function e_(){return new Jd("serverTimestamp")}!function(i,e=!0){Mi=S.Jn,(0,S.Xd)(new te.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const g=t.getProvider("app").getImmediate(),D=new ss(new Zs(t.getProvider("auth-internal")),new xo(t.getProvider("app-check-internal")),function(N,K){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new It(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(N.options.projectId,K)}(g,o),g);return l=Object.assign({useFetchStreams:e},l),D._setSettings(l),D},"PUBLIC").setMultipleInstances(!0)),(0,S.KN)(Cs,"3.8.3",i),(0,S.KN)(Cs,"3.8.3","esm2017")}()},531:(we,ae,C)=>{function f(te,V,le,de,oe,J,he){try{var Q=te[J](he),Z=Q.value}catch(ce){return void le(ce)}Q.done?V(Z):Promise.resolve(Z).then(de,oe)}function S(te){return function(){var V=this,le=arguments;return new Promise(function(de,oe){var J=te.apply(V,le);function he(Z){f(J,de,oe,he,Q,"next",Z)}function Q(Z){f(J,de,oe,he,Q,"throw",Z)}he(void 0)})}}C.d(ae,{Z:()=>S})},4147:we=>{we.exports={i8:"0.0.17"}}},we=>{we(we.s=5861)}]);