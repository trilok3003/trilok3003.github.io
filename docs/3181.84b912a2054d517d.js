"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[3181],{965:(x,_,n)=>{n.r(_),n.d(_,{default:()=>k});var e=n(4438),a=n(9417),u=n(9724),f=n(8865),d=n(7830);function c(r,P){if(1&r){const i=e.RV6();e.j41(0,"div",4),e.nrm(1,"input",9),e.j41(2,"app-theme-icon",10),e.bIt("click",function(){const h=e.eBV(i).$index,b=e.XpG();return e.Njj(b.remove(h))}),e.k0s()()}if(2&r){const i=P.$index;e.Y8G("formGroupName",i),e.R7$(),e.Mz_("placeholder","choice ",i+1,""),e.R7$(),e.Y8G("cursor",!0)}}let v=(()=>{class r{constructor(i){this.fb=i,this.votingService=(0,e.WQX)(d.Z),this.formInit()}formInit(){this.form=this.fb.group({createdBy:[""],title:["",a.k0.required],choices:this.fb.array([this.createChoice(),this.createChoice()])},{nonNullable:!0})}createChoice(){return this.fb.group({choice:["",a.k0.required]})}addChoice(){this.choices.push(this.createChoice())}get choices(){return this.form.get("choices")}remove(i){this.choices.removeAt(i)}create(){this.votingService.create("",this.form.value).then(()=>{this.form.reset()})}static{this.\u0275fac=function(m){return new(m||r)(e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-create-poll"]],decls:14,vars:5,consts:[[3,"shadow"],[3,"formGroup"],["placeholder","title","formControlName","title"],["formArrayName","choices"],[1,"choices",3,"formGroupName"],[1,"choices"],["name","add_circle","color","success",3,"click","cursor"],["app-theme-button","","color","success",3,"click","disabled"],["name","arrow_forward","color","success",3,"cursor"],["formControlName","choice",3,"placeholder"],["name","delete","color","red",3,"click","cursor"]],template:function(m,h){1&m&&(e.j41(0,"app-theme-semantic-card",0)(1,"h2"),e.EFF(2,"Create New Poll"),e.k0s(),e.j41(3,"form",1),e.nrm(4,"input",2),e.j41(5,"div",3),e.Z7z(6,c,3,4,"div",4,e.Vm6),e.j41(8,"div",5),e.nrm(9,"div"),e.j41(10,"app-theme-icon",6),e.bIt("click",function(){return h.addChoice()}),e.k0s()()(),e.j41(11,"button",7),e.bIt("click",function(){return h.create()}),e.EFF(12,"create "),e.nrm(13,"app-theme-icon",8),e.k0s()()()),2&m&&(e.Y8G("shadow","depth"),e.R7$(3),e.Y8G("formGroup",h.form),e.R7$(3),e.Dyx(h.choices.controls),e.R7$(4),e.Y8G("cursor",!0),e.R7$(),e.Y8G("disabled",h.form.invalid),e.R7$(2),e.Y8G("cursor",!0))},dependencies:[a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.$R,a.v8,u.FY,u.F5,f.e],styles:["[_nghost-%COMP%]{display:grid;max-width:600px;margin:1rem auto}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:1rem}"]})}}return r})();var t=n(467),s=n(9079),o=n(8141),p=n(6334),l=n(9045),g=n(5737),C=n(5936),y=n(5328);const M=(r,P)=>P.key;function T(r,P){1&r&&e.nrm(0,"app-theme-loader",0)}function O(r,P){if(1&r){const i=e.RV6();e.j41(0,"app-grid-list-item",2),e.bIt("click",function(){const h=e.eBV(i).$implicit,b=e.XpG(2);return e.Njj(b.view(h))}),e.j41(1,"h3"),e.EFF(2),e.k0s()()}if(2&r){const i=P.$implicit;e.R7$(2),e.SpI(" ",i.title,"")}}function E(r,P){if(1&r&&(e.j41(0,"app-grid-list",1),e.Z7z(1,O,3,1,"app-grid-list-item",null,M),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.Dyx(i.polls.value())}}function $(r,P){if(1&r){const i=e.RV6();e.j41(0,"div")(1,"app-theme-alert",3),e.EFF(2),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(i);const h=e.XpG();return e.Njj(h.polls.reload())}),e.EFF(4," realod "),e.k0s()()}if(2&r){const i=e.XpG();e.R7$(),e.Y8G("dismissible",!1),e.R7$(),e.SpI(" ",i.polls.error()," ")}}let F=(()=>{class r{constructor(){this.votingService=(0,e.WQX)(d.Z),this.modelService=(0,e.WQX)(p.Bg),this.polls=(0,s.ZX)({loader:()=>this.votingService.get$().pipe((0,o.M)(console.log))})}view(i){var m=this;return(0,t.A)(function*(){const{PollViewComponent:h}=yield Promise.all([n.e(2076),n.e(5256)]).then(n.bind(n,6731));m.modelService.openWithComponent(h,{title:i.title,data:{id:i.key}}).subscribe(b=>{})})()}static{this.\u0275fac=function(m){return new(m||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-poll-list"]],decls:5,vars:1,consts:[["spinSize","small"],["layout","autofit"],[3,"click"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","small",3,"click"]],template:function(m,h){1&m&&(e.j41(0,"h2"),e.EFF(1,"Poll List"),e.k0s(),e.DNE(2,T,1,0,"app-theme-loader",0)(3,E,3,0,"app-grid-list",1)(4,$,5,2,"div")),2&m&&(e.R7$(2),e.vxM(h.polls.isLoading()?2:h.polls.hasValue()?3:4))},dependencies:[C.E,y.D,l.C,g.Fv],styles:["h3[_ngcontent-%COMP%]:hover{color:var(--accent-color);cursor:pointer}"]})}}return r})(),k=(()=>{class r{static{this.\u0275fac=function(m){return new(m||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-voting"]],decls:2,vars:0,template:function(m,h){1&m&&e.nrm(0,"app-create-poll")(1,"app-poll-list")},dependencies:[v,F],styles:["[_nghost-%COMP%]{display:grid;gap:1rem}"]})}}return r})()},1745:(x,_,n)=>{n.d(_,{F:()=>a});var e=n(4438);let a=(()=>{class u{constructor(){this.systemQuery=window.matchMedia("(prefers-color-scheme: dark)"),this._systemIsDark=(0,e.vPA)(this.systemQuery.matches),this._effectiveTheme=(0,e.EWP)(()=>{const d=this._userPreference();return"system"==d?this._systemIsDark()?"dark":"light":d}),this._userPreference=(0,e.vPA)(this.loadUserPreference()),this.isDarkTheme=(0,e.EWP)(()=>"dark"===this._effectiveTheme()),this.listenToSystemThemeChange()}get effectiveTheme(){return this._effectiveTheme}getUserThemePreference(){return this._userPreference()}saveUserPreference(d){localStorage.setItem("theme-mode",d),this._userPreference.set(d)}applyThemeToHost({el:d,mode:c=this.getUserThemePreference(),disableAutoPresetFallback:v=!1,layoutPresets:t,layoutPresetKey:s}){this.saveUserPreference(c);const o=this._effectiveTheme();if(d.setAttribute("data-theme",o),document.documentElement.setAttribute("data-theme",o),!t)return;const p=s&&t[s]||!v&&t[o];p&&this.applyColorVariables(d,p)}onSystemThemeChange(d){const c=()=>{"system"===this.getUserThemePreference()&&d()};return this.systemQuery.addEventListener("change",c),()=>this.systemQuery.removeEventListener("change",c)}listenToSystemThemeChange(){this.systemQuery.addEventListener("change",()=>{this._systemIsDark.set(this.systemQuery.matches),"system"===this.getUserThemePreference()&&document.documentElement.setAttribute("data-theme",this.effectiveTheme())}),document.documentElement.setAttribute("data-theme",this.effectiveTheme())}applyColorVariables(d,c){for(const[v,t]of Object.entries(c))d.style.setProperty(`--${this.toKebabCase(v)}`,t)}toKebabCase(d){return d.replace(/[A-Z]/g,c=>"-"+c.toLowerCase())}loadUserPreference(){return localStorage.getItem("theme-mode")||"system"}static{this.\u0275fac=function(c){return new(c||u)}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},7765:(x,_,n)=>{n.d(_,{u:()=>d});var e=n(467),a=n(4438),u=n(9972),f=n(1469);let d=(()=>{class c{constructor(){this.db=(0,a.WQX)(u.h),this.storageService=(0,a.WQX)(f._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(t=""){return t?`${this.fullPath}/${t}`:this.fullPath}create(t="",s){return this.db.create(this.generatePath(t),s)}get$(){return this.db.readRealtime$(this.fullPath)}getById(t){return this.db.readRealtimeOriginal$(`${this.fullPath}/${t}`)}update(t,s){return this.db.update(`${this.fullPath}/${t}`,s)}remove(t){return this.db.remove(`${this.fullPath}/${t}`)}set(t,s){return this.db.set(this.generatePath(t),s)}getKeys$(t=""){return this.db.getKeys$(this.generatePath(t))}getKeys(t=""){return this.db.getKeys(this.generatePath(t))}readOnce(t=""){return this.db.readOnce(this.generatePath(t))}read$(t=""){return this.db.readRealtime$(this.generatePath(t))}readRealtimeWhere$(t,s){return this.db.readRealtimeWhere$(this.generatePath(t),s)}clearDb(){return this.set("",null)}updateCounter(t,s=!0){return this.db.updateCounterV2(this.generatePath(t),s)}createWithFile(t="",s,o,p){var l=this;return(0,e.A)(function*(){if(!o)throw new Error("Please select an image.");const g=yield l.storageService.uploadFile(l.generatePath(t),o,p),C={...s,imageUrl:g};yield l.create(t,C)})()}uploadFile(t="",s,o){var p=this;return(0,e.A)(function*(){if(!s)throw new Error("Please select an image.");return yield p.storageService.uploadFile(p.generatePath(t),s,o)})()}extractAndUploadFiles(t="",s,o){var p=this;return(0,e.A)(function*(){return p.storageService.extractAndUploadFiles(s,p.generatePath(t),o)})()}static{this.\u0275fac=function(s){return new(s||c)}}static{this.\u0275prov=a.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},7830:(x,_,n)=>{n.d(_,{Z:()=>u});var e=n(7765),a=n(4438);let u=(()=>{class f extends e.u{constructor(){super(...arguments),this.basePath="voting",this.endpoint=""}static{this.\u0275fac=(()=>{let c;return function(t){return(c||(c=a.xGo(f)))(t||f)}})()}static{this.\u0275prov=a.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},9045:(x,_,n)=>{n.d(_,{C:()=>s});var e=n(4438);function a(o,p){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const l=e.XpG(2);e.R7$(),e.JRh(l.message())}}function u(o,p){if(1&o&&(e.nrm(0,"div"),e.DNE(1,a,2,1,"p")),2&o){const l=e.XpG();e.ZvI("loader loader-top ",l.spinAnimation(),""),e.xc7("--size",l.spinSizes[l.spinSize()]),e.R7$(),e.vxM(l.fixed()?1:-1)}}function f(o,p){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const l=e.XpG(2);e.R7$(),e.JRh(l.message())}}function d(o,p){if(1&o&&(e.nrm(0,"div"),e.DNE(1,f,2,1,"p")),2&o){const l=e.XpG();e.ZvI("loader loader-top-bottom ",l.spinAnimation(),""),e.xc7("--size",l.spinSizes[l.spinSize()]),e.R7$(),e.vxM(l.fixed()?1:-1)}}function c(o,p){1&o&&(e.j41(0,"div",0),e.nrm(1,"span")(2,"span")(3,"span")(4,"span"),e.k0s())}function v(o,p){1&o&&(e.j41(0,"div",1),e.nrm(1,"span")(2,"span")(3,"span"),e.k0s())}function t(o,p){1&o&&e.nrm(0,"div",2)}let s=(()=>{class o{constructor(){this.spinSizes={small:"40px",medium:"80px",large:"120px"},this.fixed=(0,e.hFB)(!1),this.type=(0,e.hFB)("spinner-top"),this.spinAnimation=(0,e.hFB)(),this.spinSize=(0,e.hFB)(),this.color=(0,e.hFB)(),this.message=(0,e.hFB)("Loading...")}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-theme-loader"]],hostVars:2,hostBindings:function(g,C){2&g&&e.xc7("--color",C.color())},inputs:{fixed:[1,"fixed"],type:[1,"type"],spinAnimation:[1,"spinAnimation"],spinSize:[1,"spinSize"],color:[1,"color"],message:[1,"message"]},decls:6,vars:3,consts:[[1,"loader-grow"],[1,"loader-pulse"],[1,"loader-progressBar"]],template:function(g,C){if(1&g&&(e.j41(0,"section"),e.DNE(1,u,2,6)(2,d,2,6)(3,c,5,0,"div",0)(4,v,4,0,"div",1)(5,t,1,0,"div",2),e.k0s()),2&g){let y;e.AVh("position-fixed",C.fixed()),e.R7$(),e.vxM("spinner-top"===(y=C.type())?1:"spinner-top-bottom"===y?2:"grow"===y?3:"pulse"===y?4:"progressBar"===y?5:-1)}},styles:["[_nghost-%COMP%]{--color: #005eb8}.loader-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#ffffffb3;position:absolute;inset:0;z-index:1000;text-align:center;font-size:1.2rem}.position-fixed[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:100000;display:grid;place-items:center;background-color:#00000080;overflow:hidden}.loader[_ngcontent-%COMP%]{--size: 120px;--border: 5px;--border-color: var(--color);width:var(--size);height:var(--size);border-radius:50%;border:var(--border) solid #f3f3f3;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loader-top[_ngcontent-%COMP%]{border-top:var(--border) solid var(--border-color)}.loader-top-bottom[_ngcontent-%COMP%]{border-top:var(--border) solid var(--border-color);border-bottom:var(--border) solid var(--border-color)}.spin2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin2 2s linear infinite}.spin3[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin .8s linear infinite}.loader-grow[_ngcontent-%COMP%]{display:flex;gap:4px}.loader-grow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:5px;height:20px;background:var(--color);animation:_ngcontent-%COMP%_grow 1s ease-in-out infinite}.loader-grow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.15s}.loader-grow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.loader-grow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:.45s}.loader-pulse[_ngcontent-%COMP%]{--size: 20px;display:flex;gap:6px}.loader-pulse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:var(--size);height:var(--size);background:var(--color);border-radius:50%;animation:_ngcontent-%COMP%_pulse .5s ease infinite alternate}.loader-pulse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.loader-pulse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.loader-progressBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:6px;width:0%;z-index:10001;background:linear-gradient(90deg,#71fff5,#0b30fb,#1938e4);animation:_ngcontent-%COMP%_progressBarAnimation 2s ease-in-out infinite;border-radius:0 0 4px 4px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_spin2{0%{transform:rotate(0);border-width:10px}50%{transform:rotate(180deg);border-width:1px}to{transform:rotate(360deg);border-width:10px}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1;transform:scale(1)}to{opacity:.25;transform:scale(.75)}}@keyframes _ngcontent-%COMP%_grow{0%,to{transform:scaleY(1)}50%{transform:scaleY(1.8)}}@keyframes _ngcontent-%COMP%_progressBarAnimation{0%{width:0%;opacity:.5}50%{width:80%;opacity:1}to{width:100%;opacity:.8}}"]})}}return o})()}}]);