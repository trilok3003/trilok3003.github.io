"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[1362],{8981:(be,b,s)=>{s.r(b),s.d(b,{BROWSER_STORAGE:()=>v,WeatherModule:()=>_e});var e=s(4438),f=s(884),g=s(4412),m=s(6354),y=s(3294),h=s(5558),B=s(1807);const I=(t=3e4)=>(0,B.O)(0,t);let w=(()=>{class t{constructor(n){this.storage=n}get(n){return this.storage.getItem(n)}set(n,o){this.storage.setItem(n,o)}remove(n){this.storage.removeItem(n)}clear(){this.storage.clear()}static{this.\u0275fac=function(o){return new(o||t)(e.KVO(v))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var T=s(2749);const C="zip-code-storage-key";let S=(()=>{class t{constructor(n,o){this.storage=n,this.weatherApi=o,this.locations=new g.t([]);const a=this.storage.get(C);if(a){const c=JSON.parse(a)||[];this.locations.next(c)}}get currentLocations(){return this.locations.value}get locations$(){return this.locations.asObservable()}get weatherForecast$(){const n=a=>this.weatherApi.getCurrentWeather(a.zipCode,a.countryCode),o=a=>I().pipe((0,h.n)(()=>n(a)));return this.locations$.pipe((0,m.T)(a=>a.map(o)))}addLocation(n){const o=[...this.currentLocations,n];this.locations.next(o),this.storage.set(C,JSON.stringify(o))}removeLocation(n){const o=[...this.currentLocations],a=o.findIndex(c=>c.zipCode===n.zipCode&&c.countryCode===n.countryCode);o.splice(a,1),this.locations.next(o),this.storage.set(C,JSON.stringify(o))}hasLocation(n){return this.currentLocations.some(o=>o.zipCode===n)}static{this.\u0275fac=function(o){return new(o||t)(e.KVO(w),e.KVO(T.y))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function R(t,i){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"app-single-day-forecast",3),e.bIt("remove",function(){const a=e.eBV(n).ngIf,c=e.XpG(3);return e.Njj(c.removeLocation(a.zipCode,a.countryCode))})("ready",function(){const a=e.eBV(n).ngIf,c=e.XpG(3);return e.Njj(c.onReady(a.zipCode))}),e.k0s(),e.bVm()}if(2&t){const n=i.ngIf;e.R7$(),e.Y8G("forecast",n)}}function E(t,i){if(1&t&&(e.qex(0),e.DNE(1,R,2,1,"ng-container",1),e.nI1(2,"async"),e.bVm()),2&t){const n=i.$implicit;e.R7$(),e.Y8G("ngIf",e.bMT(2,1,n))}}function N(t,i){if(1&t&&(e.qex(0),e.DNE(1,E,3,3,"ng-container",2),e.bVm()),2&t){const n=i.ngIf;e.R7$(),e.Y8G("ngForOf",n)}}let k=(()=>{class t{get inProgress$(){return this.inProgress.asObservable().pipe((0,m.T)(n=>!!n),(0,y.F)())}constructor(n){this.locations=n,this.inProgress=new g.t(null)}ngOnInit(){this.weatherForecast$=this.locations.weatherForecast$}addLocation(n){this.inProgress.next(n.zipCode),this.locations.addLocation(n)}removeLocation(n,o){this.locations.removeLocation({zipCode:n,countryCode:o})}onReady(n){this.inProgress.value===n&&this.inProgress.next(null)}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(S))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-weather"]],standalone:!1,decls:6,vars:4,consts:[[3,"location","task$"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"remove","ready","forecast"]],template:function(o,a){1&o&&(e.j41(0,"main")(1,"app-location-input",0),e.bIt("location",function(u){return a.addLocation(u)}),e.k0s(),e.DNE(2,N,2,1,"ng-container",1),e.nI1(3,"async"),e.k0s(),e.j41(4,"footer"),e.EFF(5,"Created by trilok"),e.k0s()),2&o&&(e.R7$(),e.Y8G("task$",a.inProgress$),e.R7$(),e.Y8G("ngIf",e.bMT(3,2,a.weatherForecast$)))},styles:["main[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;min-height:calc(100vh - 3.5rem)}footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:3.5rem}"]})}}return t})();var O=s(5964),r=s(177),p=s(5364);let M=(()=>{class t{constructor(){this.baseUrl="https://www.angulartraining.com/images/weather/",this.icons=(new Map).set(p.h8.Atmosphere,`${this.baseUrl}/clouds.png`).set(p.h8.Clouds,`${this.baseUrl}/clouds.png`).set(p.h8.Drizzle,`${this.baseUrl}/rain.png`).set(p.h8.Thunderstorm,`${this.baseUrl}/rain.png`).set(p.h8.Rain,`${this.baseUrl}/rain.png`).set(p.h8.Snow,`${this.baseUrl}/snow.png`).set(p.h8.Clear,`${this.baseUrl}/sun.png`)}transform(n){return this.icons.get(n)||`${this.baseUrl}/sun.png`}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=e.EJ8({name:"weatherIcon",type:t,pure:!0,standalone:!1})}}return t})();function P(t,i){if(1&t&&(e.j41(0,"li",7),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"img",8),e.nI1(4,"weatherIcon"),e.k0s()),2&t){const n=i.$implicit;e.R7$(),e.LHq(" ",e.i5U(2,5,n.date,"EEEE, MMMM d:")," ",n.conditions," - Min: ",n.temperatureMin," - Max: ",n.temperatureMax," "),e.R7$(2),e.Y8G("src",e.bMT(4,8,n.conditions),e.B4B)}}function x(t,i){if(1&t&&(e.j41(0,"section",2)(1,"article",3)(2,"h3",4),e.EFF(3),e.k0s()(),e.j41(4,"ul",5),e.DNE(5,P,5,10,"li",6),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.SpI("5-day forecast for ",n.forecast[0].city,""),e.R7$(2),e.Y8G("ngForOf",n.forecast)}}let $=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-multi-day-forecast"]],inputs:{forecast:"forecast"},standalone:!1,decls:3,vars:1,consts:[["class","card",4,"ngIf"],["tabindex","0","routerLink","/systems/weather",1,"btn","btn-success","mt-2"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["alt","weather conditions icon",1,"icon",3,"src"]],template:function(o,a){1&o&&(e.DNE(0,x,6,2,"section",0),e.j41(1,"a",1),e.EFF(2,"< Back to main page"),e.k0s()),2&o&&e.Y8G("ngIf",a.forecast)},dependencies:[r.NgForOf,r.NgIf,f.Wk,r.DatePipe,M],styles:[".icon[_ngcontent-%COMP%]{width:45px;height:45px;position:absolute;right:20px;top:-2px}"],changeDetection:0})}}return t})();function D(t,i){if(1&t&&(e.qex(0),e.nrm(1,"app-multi-day-forecast",1),e.bVm()),2&t){const n=i.ngIf;e.R7$(),e.Y8G("forecast",n)}}let L=(()=>{class t{constructor(n,o){this.route=n,this.api=o,this.zipRouteParam="zip",this.countryRouteParam="country"}ngOnInit(){this.forecast$=this.route.paramMap.pipe((0,O.p)(n=>n.has(this.zipRouteParam)),(0,m.T)(n=>({zipCode:n.get(this.zipRouteParam),countryCode:n.get(this.countryRouteParam)})),(0,h.n)(n=>I().pipe((0,m.T)(o=>n))),(0,h.n)(n=>this.api.getWeatherForecast(n.zipCode,n.countryCode)),(0,m.T)(n=>n.slice(0,5)))}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(f.nX),e.rXU(T.y))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-forecast"]],standalone:!1,decls:3,vars:3,consts:[[4,"ngIf"],[3,"forecast"]],template:function(o,a){1&o&&(e.j41(0,"main"),e.DNE(1,D,2,1,"ng-container",0),e.nI1(2,"async"),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,a.forecast$)))},dependencies:[r.NgIf,$,r.AsyncPipe],styles:["main[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;min-height:calc(100vh - 3.5rem)}footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:3.5rem}"]})}}return t})();var d=s(9417),F=s(9172),A=s(152),_=s(8141);const G=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"\xc5land Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BL",name:"Saint Barth\xe9lemy"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia, Plurinational State of"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Congo, Democratic Republic of the"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"C\xf4te d'Ivoire"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cabo Verde"},{code:"CW",name:"Cura\xe7ao"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czechia"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Micronesia, Federated States of"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"United Kingdom of Great Britain and Northern Ireland"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GG",name:"Guernsey"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IM",name:"Isle of Man"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JE",name:"Jersey"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova, Republic of"},{code:"ME",name:"Montenegro"},{code:"MF",name:"Saint Martin, (French part)"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"North Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestine, State of"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"R\xe9union"},{code:"RO",name:"Romania"},{code:"RS",name:"Serbia"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"SS",name:"South Sudan"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SX",name:"Sint Maarten, (Dutch part)"},{code:"SY",name:"Syrian Arab Republic"},{code:"SZ",name:"Eswatini"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan, Province of China"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States of America"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Holy See"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela, Bolivarian Republic of"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];var j=s(345);let V=(()=>{class t{constructor(n){this.sanitizer=n}transform(n,o){if(!o||o.trim().length<2)return this.sanitizer.bypassSecurityTrustHtml(n);const a=new RegExp(o,"ig");let c=a.exec(n),u=n;for(;c&&c.length>0;)c&&(u=u.replace(c[0],`<b>${c[0]}</b>`)),c=a.exec(n);return this.sanitizer.bypassSecurityTrustHtml(u)}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(j.up,16))}}static{this.\u0275pipe=e.EJ8({name:"boldFragment",type:t,pure:!0,standalone:!1})}}return t})();function U(t,i){if(1&t){const n=e.RV6();e.j41(0,"li",4),e.nI1(1,"boldFragment"),e.bIt("click",function(){const a=e.eBV(n).$implicit,c=e.XpG(3);return e.Njj(c.onChange(a))}),e.k0s()}if(2&t){const n=i.$implicit,o=e.XpG(3);e.Y8G("innerHTML",e.i5U(1,1,n.name,o.autocompleteForm.value),e.npT)}}function z(t,i){if(1&t&&(e.j41(0,"ul"),e.DNE(1,U,2,4,"li",3),e.k0s()),2&t){const n=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",n)}}function Y(t,i){if(1&t&&(e.qex(0),e.DNE(1,z,2,1,"ul",1),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.showOptions)}}function H(t,i){1&t&&(e.j41(0,"div",5),e.EFF(1," Please provide a valid Country\n"),e.k0s())}let K=(()=>{class t{constructor(n){this.eRef=n,this.showOptions=!1,this.error=!1,this.autocompleteForm=new d.MJ,this.forceHide=!1,this.options$=this.autocompleteForm.valueChanges.pipe((0,F.Z)(""),(0,A.B)(100),(0,m.T)(o=>o?.trim()?.toLocaleLowerCase()),(0,y.F)(),(0,_.M)(o=>this.handleOptionsShow(o)),(0,m.T)(o=>G.filter(a=>a.name.toLowerCase().includes(o))),(0,_.M)(o=>this.error=0===o.length&&0!==this.autocompleteForm.value?.length))}onChange(n){this.change&&(this.change(n.code),this.autocompleteForm.setValue(n.name),this.forceHide=!0)}registerOnChange(n){this.change=n}writeValue(n){const o=G.find(a=>a.code===n);this.autocompleteForm.setValue(o?.name)}registerOnTouched(n){}setDisabledState(n){}clickOut(n){this.eRef.nativeElement.contains(n.target)||(this.showOptions=!1)}handleOptionsShow(n){this.forceHide?(this.showOptions=!1,this.forceHide=!1):this.showOptions=n?.length>0}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(e.aKT))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-country-input"]],hostBindings:function(o,a){1&o&&e.bIt("click",function(u){return a.clickOut(u)},!1,e.EBC)},standalone:!1,features:[e.Jv_([{provide:d.kq,useExisting:t,multi:!0}])],decls:4,vars:5,consts:[["placeholder","Enter country","type","text",1,"form-control",3,"focusin","formControl"],[4,"ngIf"],["class","alert alert-warning mt-2","role","alert",4,"ngIf"],[3,"innerHTML","click",4,"ngFor","ngForOf"],[3,"click","innerHTML"],["role","alert",1,"alert","alert-warning","mt-2"]],template:function(o,a){1&o&&(e.j41(0,"input",0),e.bIt("focusin",function(){return a.showOptions=!0}),e.k0s(),e.DNE(1,Y,2,1,"ng-container",1),e.nI1(2,"async"),e.DNE(3,H,2,0,"div",2)),2&o&&(e.Y8G("formControl",a.autocompleteForm),e.R7$(),e.Y8G("ngIf",e.bMT(2,3,a.options$)),e.R7$(2),e.Y8G("ngIf",a.error))},dependencies:[r.NgForOf,r.NgIf,d.me,d.BC,d.l_,r.AsyncPipe,V],styles:["[_nghost-%COMP%]{display:block;position:relative}ul[_ngcontent-%COMP%]{position:absolute;bottom:0;max-height:180px;max-width:100%;background-color:#fff;border:1px solid #b0bec5;overflow-y:auto;transform:translateY(100%);margin:0;list-style:none;padding:0;z-index:1000;box-shadow:8px 22px 28px -15px #42445a}li[_ngcontent-%COMP%]{padding:8px;cursor:pointer;min-width:180px}li[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}"]})}}return t})();var W=s(7673),X=s(4572);const J=["*",[["","working",""]],[["","done",""]]],Z=["*","[working]","[done]"];function Q(t,i){1&t&&(e.j41(0,"span"),e.EFF(1,"Click"),e.k0s())}function q(t,i){if(1&t){const n=e.RV6();e.j41(0,"button",7),e.bIt("click",function(a){e.eBV(n);const c=e.XpG(2);return e.Njj(c.onClick(a))}),e.j41(1,"span",null,1),e.SdG(3),e.k0s(),e.DNE(4,Q,2,0,"span",8),e.k0s()}if(2&t){const n=e.sdS(2),o=e.XpG(2);e.Y8G("disabled",o.disabled),e.R7$(4),e.Y8G("ngIf",0==n.childNodes.length)}}function ee(t,i){1&t&&(e.j41(0,"span"),e.EFF(1,"In progress..."),e.k0s())}function ne(t,i){if(1&t&&(e.j41(0,"button",9),e.nrm(1,"span",10),e.j41(2,"span",null,1),e.SdG(4,1),e.k0s(),e.DNE(5,ee,2,0,"span",8),e.k0s()),2&t){const n=e.sdS(3);e.R7$(5),e.Y8G("ngIf",0==n.childNodes.length)}}function te(t,i){1&t&&(e.j41(0,"span"),e.EFF(1,"Done!"),e.k0s())}function oe(t,i){if(1&t){const n=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.reset())}),e.eu8(1,12),e.j41(2,"span",null,1),e.SdG(4,2),e.k0s(),e.DNE(5,te,2,0,"span",8),e.k0s()}if(2&t){const n=e.sdS(3);e.XpG(2);const o=e.sdS(3);e.R7$(),e.Y8G("ngTemplateOutlet",o),e.R7$(4),e.Y8G("ngIf",0==n.childNodes.length)}}function ae(t,i){if(1&t&&(e.qex(0,3),e.DNE(1,q,5,2,"button",4)(2,ne,6,1,"button",5)(3,oe,6,2,"button",6),e.bVm()),2&t){const n=i.ngIf,o=e.XpG();e.Y8G("ngSwitch",n),e.R7$(),e.Y8G("ngSwitchCase",o.State.Default),e.R7$(),e.Y8G("ngSwitchCase",o.State.Working),e.R7$(),e.Y8G("ngSwitchCase",o.State.Done)}}function ie(t,i){1&t&&(e.qSk(),e.j41(0,"svg",13),e.nrm(1,"path",14)(2,"path",15),e.k0s())}var l=function(t){return t.Default="default",t.Working="working",t.Done="done",t}(l||{});let ce=(()=>{class t{constructor(){this.disabled=!1,this.clickEvent=new e.bkB,this.State=l,this.state=new g.t(l.Default),this.timeToReset=5e3}ngOnInit(){const n=(this.taskInProgress$||(0,W.of)(!1)).pipe((0,F.Z)(!1));this.state$=(0,X.z)([this.state.asObservable(),n]).pipe((0,m.T)(([o,a])=>o===l.Default&&a?l.Working:o!==l.Working||a?o:l.Done),(0,_.M)(o=>{o===l.Done&&setTimeout(()=>this.state.next(l.Default),this.timeToReset)}))}onClick(n){this.state.next(l.Working),this.clickEvent.emit(n)}reset(){this.state.next(l.Default)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-task-button"]],inputs:{disabled:"disabled",taskInProgress$:[0,"task$","taskInProgress$"]},outputs:{clickEvent:"onClick"},standalone:!1,ngContentSelectors:Z,decls:4,vars:3,consts:[["doneIcon",""],["ref",""],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","btn btn-primary",3,"disabled","click",4,"ngSwitchCase"],["class","btn btn-primary","disabled","",4,"ngSwitchCase"],["class","btn btn-success",3,"click",4,"ngSwitchCase"],[1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],["disabled","",1,"btn","btn-primary"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"],[1,"btn","btn-success",3,"click"],[3,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check2-circle","mr-2"],["d","M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"],["d","M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"]],template:function(o,a){1&o&&(e.NAR(J),e.DNE(0,ae,4,4,"ng-container",2),e.nI1(1,"async"),e.DNE(2,ie,3,0,"ng-template",null,0,e.C5r)),2&o&&e.Y8G("ngIf",e.bMT(1,1,a.state$))},dependencies:[r.NgIf,r.NgTemplateOutlet,r.NgSwitch,r.NgSwitchCase,r.AsyncPipe],styles:[".btn-primary[_ngcontent-%COMP%]{color:var(--button-color, #fff);background-color:var(--button-background-color, #007bff);border-color:var(--button-border-color, #007bff)}.btn-success[_ngcontent-%COMP%]{color:var(--button-done-color, #fff);background-color:var(--button-done-background-color, #28a745);border-color:var(--button-done-border-color, #28a745)}.bi[_ngcontent-%COMP%]{display:inline-block;vertical-align:-.125em;width:1em;height:1em}"]})}}return t})();const se=()=>({message:"Provided zip code is not a valid US code, please provide valid one."}),re=()=>({message:"This zip code is already stored, please provide different one, or check weather forecast below"});function de(t,i){if(1&t&&e.eu8(0,7),2&t){e.XpG();const n=e.sdS(13);e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.lJ4(2,se))}}function le(t,i){if(1&t&&e.eu8(0,7),2&t){e.XpG();const n=e.sdS(13);e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.lJ4(2,re))}}function me(t,i){if(1&t&&(e.j41(0,"div",8),e.nrm(1,"span",9),e.j41(2,"span",10),e.EFF(3,"Error:"),e.k0s(),e.EFF(4),e.k0s()),2&t){const n=i.message;e.R7$(4),e.SpI(" ",n," ")}}const ue=t=>i=>void 0!==i.value&&t.hasLocation(i.value)?{duplication:!0}:null;let pe=(()=>{class t{constructor(n){this.locations=n,this.location=new e.bkB,this.form=new d.gE({zipcode:new d.MJ("",{validators:[d.k0.required,ue(this.locations)],updateOn:"blur"}),country:new d.MJ("",[d.k0.required])})}ngOnInit(){}onAdd(){this.form.valid&&(this.location.emit({zipCode:this.form.value.zipcode,countryCode:this.form.value.country}),this.form.controls.zipcode.reset())}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(S))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-location-input"]],inputs:{taskInProgress$:[0,"task$","taskInProgress$"]},outputs:{location:"location"},standalone:!1,decls:14,vars:5,consts:[["error",""],[1,"card","card-body","bg-light","mb-4",3,"formGroup"],["placeholder","Zipcode","type","text","formControlName","zipcode",1,"form-control","mb-4"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["formControlName","country",1,"mb-4"],[3,"onClick","task$","disabled"],["working",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","alert",1,"alert","alert-danger"],["aria-hidden","true",1,"glyphicon","glyphicon-exclamation-sign"],[1,"sr-only"]],template:function(o,a){if(1&o){const c=e.RV6();e.j41(0,"form",1)(1,"h2"),e.EFF(2,"Enter a location:"),e.k0s(),e.nrm(3,"input",2),e.DNE(4,de,1,3,"ng-container",3)(5,le,1,3,"ng-container",3),e.nrm(6,"app-country-input",4),e.j41(7,"app-task-button",5),e.bIt("onClick",function(){return e.eBV(c),e.Njj(a.onAdd())}),e.j41(8,"span"),e.EFF(9,"Add Location"),e.k0s(),e.j41(10,"span",6),e.EFF(11,"Adding"),e.k0s()()(),e.DNE(12,me,5,1,"ng-template",null,0,e.C5r)}2&o&&(e.Y8G("formGroup",a.form),e.R7$(4),e.Y8G("ngIf",a.form.controls.zipcode.hasError("pattern")),e.R7$(),e.Y8G("ngIf",a.form.controls.zipcode.hasError("duplication")),e.R7$(2),e.Y8G("task$",a.taskInProgress$)("disabled",a.form.invalid))},dependencies:[r.NgIf,r.NgTemplateOutlet,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,K,ce],encapsulation:2})}}return t})();var fe=s(3236);function ge(t,i){if(1&t){const n=e.RV6();e.j41(0,"section",1)(1,"article")(2,"h3"),e.EFF(3),e.k0s(),e.j41(4,"h5"),e.EFF(5),e.k0s(),e.j41(6,"h5"),e.EFF(7,"Temperatures today:"),e.k0s(),e.j41(8,"p"),e.EFF(9),e.k0s(),e.j41(10,"p")(11,"a",2),e.EFF(12),e.k0s()()(),e.j41(13,"article")(14,"button",3),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.onRemove())}),e.EFF(15,"\xd7"),e.k0s(),e.nrm(16,"img",4),e.nI1(17,"weatherIcon"),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(3),e.Lme("",n.forecast.city," (",n.forecast.zipCode,")"),e.R7$(2),e.SpI("Current conditions: ",n.forecast.conditions,""),e.R7$(4),e.E5c(" Current ",n.forecast.temperature," - Max ",n.forecast.temperatureMin," - Min ",n.forecast.temperatureMax," "),e.R7$(2),e.Y8G("routerLink","forecast/"+n.forecast.zipCode+"/"+n.forecast.countryCode)("title","5 day forecast for "+n.forecast.city),e.R7$(),e.SpI(" Show 5-day forecast for ",n.forecast.city," "),e.R7$(4),e.Y8G("src",e.bMT(17,10,n.forecast.conditions),e.B4B)}}let he=(()=>{class t{constructor(){this.remove=new e.bkB,this.ready=new e.bkB}ngAfterViewInit(){fe.E.schedule(()=>this.ready.emit())}onRemove(){this.remove.emit()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-single-day-forecast"]],inputs:{forecast:"forecast"},outputs:{remove:"remove",ready:"ready"},standalone:!1,decls:1,vars:1,consts:[["class","card card-body bg-light flex mb-2",4,"ngIf"],[1,"card","card-body","bg-light","flex","mb-2"],[3,"routerLink","title"],[1,"close",3,"click"],["alt","weather conditions icon",3,"src"]],template:function(o,a){1&o&&e.DNE(0,ge,18,12,"section",0),2&o&&e.Y8G("ngIf",a.forecast)},dependencies:[r.NgIf,f.Wk,M],styles:["section[_ngcontent-%COMP%]{flex-direction:row}img[_ngcontent-%COMP%]{height:180px}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0})}}return t})();const v=new e.nKC("Browser Storage",{providedIn:"root",factory:()=>localStorage}),Ce=[{path:"",component:k},{path:"forecast/:zip/:country",component:L}];let _e=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[r.CommonModule,d.X1,f.iI.forChild(Ce),f.iI]})}}return t})();e.wjB(k,function(){return[r.NgForOf,r.NgIf,pe,he]},function(){return[r.AsyncPipe]})}}]);