"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8284],{5383:(g,d,n)=>{n.d(d,{m:()=>t});var c=n(4438);let t=(()=>{class m{constructor(){this.cartItems=(0,c.vPA)([]),this.cartCount=(0,c.EWP)(()=>this.cartItems().length),this.subTotal=(0,c.EWP)(()=>this.cartItems().reduce((s,i)=>s+i.quantity*i.price,0)),this.deliveryFee=(0,c.EWP)(()=>this.subTotal()<1e3?50:0),this.tax=(0,c.EWP)(()=>Math.round(10.75*this.subTotal())/100),this.total=(0,c.EWP)(()=>this.subTotal()+this.deliveryFee()+this.tax()),this.discount=(0,c.EWP)(()=>.1*this.total()),this.finalTotal=(0,c.EWP)(()=>this.total()-this.discount())}addItem(s){const i=this.cartItems().find(r=>r.productId===s.productId);i?this.updateInCart(i,i.quantity+1):this.cartItems.update(r=>[...r,{...s,quantity:1}])}removeItem(s){this.cartItems.update(i=>i.filter(r=>r.productId!==s))}updateInCart(s,i){this.cartItems.update(r=>r.map(h=>h.productId===s.productId?{...s,quantity:i}:h))}static{this.\u0275fac=function(i){return new(i||m)}}static{this.\u0275prov=c.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},8284:(g,d,n)=>{n.r(d),n.d(d,{default:()=>T});var c=n(467),t=n(4438),m=n(4056),v=n(8120),s=n(1626);let i=(()=>{class o{constructor(){this.http=(0,t.WQX)(s.Qq)}getProducts(){return this.http.get("https://api.escuelajs.co/api/v1/products")}getProductsByCategoryID(e){return this.http.get(`https://api.escuelajs.co/api/v1/categories/${e}/products`)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var r=n(9079),h=n(1173),f=n(3646),C=n(6693),y=n(177),E=n(5383),I=n(489),j=n(8475);const F=(o,p)=>p.id;function P(o,p){1&o&&t.EFF(0),2&o&&t.SpI(" ",p.$implicit.name," ")}function x(o,p){1&o&&t.nrm(0,"app-theme-loader",5)}function M(o,p){if(1&o){const e=t.RV6();t.j41(0,"app-list-item"),t.nrm(1,"img",6),t.j41(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"p",7),t.EFF(5),t.nI1(6,"currency"),t.k0s(),t.j41(7,"p",8),t.EFF(8),t.k0s(),t.j41(9,"button",9),t.bIt("click",function(){const l=t.eBV(e).$implicit,u=t.XpG(2);return t.Njj(u.buyNow(l))}),t.EFF(10,"Buy Now"),t.k0s()()}if(2&o){const e=p.$implicit;t.R7$(),t.FS9("src",e.images[0],t.B4B),t.FS9("alt",e.title),t.R7$(2),t.JRh(e.title),t.R7$(2),t.JRh(t.bMT(6,5,e.price)),t.R7$(3),t.JRh(e.description)}}function b(o,p){if(1&o&&(t.j41(0,"app-list"),t.Z7z(1,M,11,7,"app-list-item",null,F),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Dyx(e.products.value())}}function S(o,p){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"app-theme-alert",10),t.EFF(2),t.k0s(),t.j41(3,"button",11),t.bIt("click",function(){t.eBV(e);const l=t.XpG();return t.Njj(l.products.reload())}),t.EFF(4," realod "),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("dismissible",!1),t.R7$(),t.SpI(" ",e.products.error()," ")}}let T=(()=>{class o{constructor(){this.ecommerceService=(0,t.WQX)(i),this.jsonDataService=(0,t.WQX)(f.y),this.cartService=(0,t.WQX)(E.m),this.modelService=(0,t.WQX)(I.Bg),this.counts=this.cartService.cartCount,this.productsKey="esc-products",this.categoriesKey="esc-categories",this.categories=(0,r.ZX)({loader:()=>this.jsonDataService.getById(this.categoriesKey)}),this.products=(0,r.ZX)({loader:()=>this.jsonDataService.getById(this.productsKey)}),this.selectedCategory=(0,t.uuI)({source:this.categories.value,computation:e=>e&&e[0]})}onSelectCategory(e){this.selectedCategory.set(e.id)}buyNow(e){this.cartService.addItem({productId:e.id,productName:e.title,price:e.price,image:e.images[0],quantity:1}),this.viewCart()}viewCart(){var e=this;return(0,c.A)(function*(){const{CartComponent:a}=yield n.e(9598).then(n.bind(n,9598));e.modelService.openWithComponent(a,{title:"Cart",styles:{width:"max-content",position:"right"}}).subscribe(l=>{})})()}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-ecommerce"]],decls:13,vars:3,consts:[[1,"top"],["displayKey","name",3,"select","options"],["aria-hidden","true","viewBox","0 0 24 24"],["d","M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"],[1,"main"],["spinSize","small"],[3,"src","alt"],[1,"price"],[1,"description"],[1,"buy-now",3,"click"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","large",3,"click"]],template:function(a,l){1&a&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"E-COMMERCE"),t.k0s(),t.j41(3,"app-theme-select-menu",1),t.bIt("select",function(O){return l.onSelectCategory(O)}),t.DNE(4,P,1,1,"ng-template"),t.k0s(),t.j41(5,"div"),t.qSk(),t.j41(6,"svg",2),t.nrm(7,"path",3),t.k0s(),t.EFF(8),t.k0s()(),t.joV(),t.j41(9,"div",4),t.DNE(10,x,1,0,"app-theme-loader",5)(11,b,3,0,"app-list")(12,S,5,2,"div"),t.k0s()),2&a&&(t.R7$(3),t.Y8G("options",l.categories.value()),t.R7$(5),t.SpI(" ",l.counts()," "),t.R7$(2),t.vxM(l.products.isLoading()?10:l.products.hasValue()?11:12))},dependencies:[m.P,v.s,h.F,j.Ck,C.y,y.CurrencyPipe],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:100px 1fr;min-height:100dvh;height:100%;gap:1rem}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   .top[_ngcontent-%COMP%]{box-shadow:var(--shadow-1);background-color:var(--secondary-color);color:var(--white);display:flex;justify-content:space-between}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{box-shadow:var(--shadow-3)}img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}h3[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.5rem);margin-top:15px;color:#333}.price[_ngcontent-%COMP%]{font-size:clamp(1.1rem,3vw,1.25rem);color:#2c3e50;font-weight:700;margin-top:5px}.description[_ngcontent-%COMP%]{font-size:1rem;color:#7f8c8d;margin-top:10px}.buy-now[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:10px 20px;margin-top:15px;font-size:1rem;cursor:pointer;border-radius:5px;transition:background-color .3s ease}.buy-now[_ngcontent-%COMP%]:hover{background-color:#2980b9}svg[_ngcontent-%COMP%]{fill:gray}"]})}}return o})()}}]);