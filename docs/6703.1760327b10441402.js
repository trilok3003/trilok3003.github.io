"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[6703],{7428:($,P,p)=>{p.d(P,{B2:()=>d,NY:()=>A,x8:()=>g});var d=function(c){return c.black="#000000",c.white="#ffffff",c.darkGreen="darkgreen",c.indigo="indigo",c.purple="purple",c.brown="brown",c.lime="lime",c.teal="teal",c.custom1="rgb(172 72 0)",c.rose="#C51162",c.violet="#7B1FA2",c.azure="#0091EA",c.spring="#00C853",c.chartreuse="#AFB42B",c.orange="#F57C00",c.magenta="#C2185B",c.cyan="#0097A7",c.yellow="#FBC02D",c.blue="#1976D2",c.green="#388E3C",c.red="#D32F2F",c.danger="#a6192e",c.warning="#ff9900",c.success="#04b34f",c.info="#0057b8",c.dark="#000000",c.light="#ffffff",c.grey="#4b4f55",c.default="var(--primary-color-light)",c}(d||{}),A=function(c){return c.black="#f6f6f6",c.white="#000000",c.darkGreen="#ffffff",c.indigo="#ffffff",c.purple="#ffffff",c.brown="#ffffff",c.lime="#000000",c.teal="#ffffff",c.custom1="#ffffff",c.rose="#ffffff",c.violet="#ffffff",c.azure="#000000",c.spring="#000000",c.chartreuse="#000000",c.orange="#000000",c.magenta="#ffffff",c.cyan="#000000",c.yellow="#000000",c.blue="#ffffff",c.green="#ffffff",c.red="#ffffff",c.danger="#ffffff",c.warning="#000000",c.success="#000000",c.info="#ffffff",c.dark="#f6f6f6",c.light="#333333",c.grey="#f6f6f6",c.default="var(--secondary-color)",c}(A||{});const g=Object.keys(d)},4567:($,P,p)=>{p.d(P,{x:()=>R});var d=p(4438),A=p(884);const r=["*"];let R=(()=>{class T{constructor(){this.routerLinkActiveOptions={exact:!1}}static{this.\u0275fac=function(c){return new(c||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["ng-nav-link"]],inputs:{routerLink:"routerLink",label:"label",routerLinkActiveOptions:"routerLinkActiveOptions"},standalone:!1,ngContentSelectors:r,decls:3,vars:3,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"]],template:function(c,k){1&c&&(d.NAR(),d.j41(0,"a",0),d.SdG(1),d.EFF(2),d.k0s()),2&c&&(d.Y8G("routerLink",k.routerLink)("routerLinkActiveOptions",k.routerLinkActiveOptions),d.R7$(2),d.SpI(" ",k.label,"\n"))},dependencies:[A.Wk,A.wQ],styles:["@media screen and (max-width: 700px){a[_ngcontent-%COMP%]{padding-left:2.5em}}"]})}}return T})()},9991:($,P,p)=>{p.d(P,{D:()=>R});var d=p(4438);const A=["openSidebarButton"],r=["*"];let R=(()=>{class T{constructor(){this.show=!1}openSidebar(){this.show=!0}closeSidebar(){this.show=!1}static{this.\u0275fac=function(c){return new(c||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["ng-nav-list"]],viewQuery:function(c,k){if(1&c&&d.GBs(A,5),2&c){let L;d.mGM(L=d.lsd())&&(k.openButtonEle=L.first)}},standalone:!1,ngContentSelectors:r,decls:9,vars:2,consts:[["id","open-sidebar-button","aria-label","open sidebar","aria-expanded","false","aria-controls","navbar",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","40px","viewBox","0 -960 960 960","width","40px","fill","#c9c9c9"],["d","M165.13-254.62q-10.68 0-17.9-7.26-7.23-7.26-7.23-18t7.23-17.86q7.22-7.13 17.9-7.13h629.74q10.68 0 17.9 7.26 7.23 7.26 7.23 18t-7.23 17.87q-7.22 7.12-17.9 7.12H165.13Zm0-200.25q-10.68 0-17.9-7.27-7.23-7.26-7.23-17.99 0-10.74 7.23-17.87 7.22-7.13 17.9-7.13h629.74q10.68 0 17.9 7.27 7.23 7.26 7.23 17.99 0 10.74-7.23 17.87-7.22 7.13-17.9 7.13H165.13Zm0-200.26q-10.68 0-17.9-7.26-7.23-7.26-7.23-18t7.23-17.87q7.22-7.12 17.9-7.12h629.74q10.68 0 17.9 7.26 7.23 7.26 7.23 18t-7.23 17.86q-7.22 7.13-17.9 7.13H165.13Z"],["id","close-sidebar-button","aria-label","close sidebar",3,"click"],["d","m480-444.62-209.69 209.7q-7.23 7.23-17.5 7.42-10.27.19-17.89-7.42-7.61-7.62-7.61-17.7 0-10.07 7.61-17.69L444.62-480l-209.7-209.69q-7.23-7.23-7.42-17.5-.19-10.27 7.42-17.89 7.62-7.61 17.7-7.61 10.07 0 17.69 7.61L480-515.38l209.69-209.7q7.23-7.23 17.5-7.42 10.27-.19 17.89 7.42 7.61 7.62 7.61 17.7 0 10.07-7.61 17.69L515.38-480l209.7 209.69q7.23 7.23 7.42 17.5.19 10.27-7.42 17.89-7.62 7.61-17.7 7.61-10.07 0-17.69-7.61L480-444.62Z"],["id","overlay","aria-hidden","true",3,"click"]],template:function(c,k){1&c&&(d.NAR(),d.j41(0,"button",0),d.bIt("click",function(){return k.openSidebar()}),d.qSk(),d.j41(1,"svg",1),d.nrm(2,"path",2),d.k0s()(),d.joV(),d.j41(3,"nav")(4,"button",3),d.bIt("click",function(){return k.closeSidebar()}),d.qSk(),d.j41(5,"svg",1),d.nrm(6,"path",4),d.k0s()(),d.SdG(7),d.k0s(),d.joV(),d.j41(8,"div",5),d.bIt("click",function(){return k.closeSidebar()}),d.k0s()),2&c&&(d.R7$(3),d.AVh("show",k.show))},styles:["nav[_ngcontent-%COMP%]{display:flex;gap:1rem}@media screen and (max-width: 700px){nav[_ngcontent-%COMP%]{flex-direction:column;position:fixed;top:0;right:-100%;height:100vh;width:min(15em,100%);z-index:10;border-left:1px solid var(--theme-color);transition:right .3s ease-in-out;background-color:var(--header-color)}nav.show[_ngcontent-%COMP%]{right:0}nav.show[_ngcontent-%COMP%] ~ #overlay[_ngcontent-%COMP%]{display:block}}#open-sidebar-button[_ngcontent-%COMP%]{display:none;background:none;border:none;padding:1em;margin-left:auto;cursor:pointer}#close-sidebar-button[_ngcontent-%COMP%]{display:none;background:none;border:none;padding:1em;cursor:pointer}#overlay[_ngcontent-%COMP%]{background:#00000080;position:fixed;inset:0;z-index:9;display:none}@media screen and (max-width: 700px){#open-sidebar-button[_ngcontent-%COMP%], #close-sidebar-button[_ngcontent-%COMP%]{display:flex}}"]})}}return T})()},4917:($,P,p)=>{p.d(P,{e:()=>R});var d=p(4438),A=p(884);const r=["*"];let R=(()=>{class T{constructor(){this.routerLinkActiveOptions={exact:!1}}static{this.\u0275fac=function(c){return new(c||T)}}static{this.\u0275cmp=d.VBU({type:T,selectors:[["ng-sidenav-link"]],inputs:{routerLink:"routerLink",label:"label",routerLinkActiveOptions:"routerLinkActiveOptions"},standalone:!1,ngContentSelectors:r,decls:3,vars:3,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"]],template:function(c,k){1&c&&(d.NAR(),d.j41(0,"a",0),d.SdG(1),d.EFF(2),d.k0s()),2&c&&(d.Y8G("routerLink",k.routerLink)("routerLinkActiveOptions",k.routerLinkActiveOptions),d.R7$(2),d.SpI(" ",k.label,"\n"))},dependencies:[A.Wk,A.wQ],encapsulation:2})}}return T})()},3853:($,P,p)=>{p.d(P,{K9:()=>R,hM:()=>T,lD:()=>r,xN:()=>A});var d=p(4438);let A=(()=>{class g{static{this.\u0275fac=function(k){return new(k||g)}}static{this.\u0275dir=d.FsC({type:g,selectors:[["ng-header"]],standalone:!1})}}return g})(),r=(()=>{class g{static{this.\u0275fac=function(k){return new(k||g)}}static{this.\u0275dir=d.FsC({type:g,selectors:[["ng-main"]],standalone:!1})}}return g})(),R=(()=>{class g{constructor(){this.shape="pilled"}static{this.\u0275fac=function(k){return new(k||g)}}static{this.\u0275dir=d.FsC({type:g,selectors:[["ng-sidenav"]],standalone:!1})}}return g})(),T=(()=>{class g{static{this.\u0275fac=function(k){return new(k||g)}}static{this.\u0275dir=d.FsC({type:g,selectors:[["ng-footer"]],standalone:!1})}}return g})()},1764:($,P,p)=>{p.d(P,{m:()=>A});var d=p(4438);let A=(()=>{class r{constructor(T){this.viewContainerRef=T}static{this.\u0275fac=function(g){return new(g||r)(d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:r,selectors:[["","sidenavContentArea",""]],standalone:!1})}}return r})()},9781:($,P,p)=>{p.d(P,{I:()=>c});var d=p(4438),A=p(7428),r=p(1764),R=p(7987);const T=[[["ng-header"]],[["ng-sidenav"]],[["ng-main"]]],g=["ng-header","ng-sidenav","ng-main"];function O(k,L){}let c=(()=>{class k{constructor(F){this.ele=F,this.theme="blue",this.defaultTheme=!0,this.sidenavService=(0,d.WQX)(R.G)}get ThemeColor(){return A.B2[this.theme]}ngAfterViewInit(){if(this.defaultTheme&&this.setLayoutColor(),this.layoutColor&&!this.defaultTheme){let{headerColor:F,mainColor:v,sidebarColor:U}=this.layoutColor;this.setLayoutColor(F,U,v)}if(!this.sidenavContentArea)throw new Error("sidenavContentArea is undefined");this.sidenavService.setDynamicContentArea(this.sidenavContentArea)}setLayoutColor(F="#fff",v="#f8f8f8",U="#efefef"){this.ele.nativeElement.style.setProperty("--header-color",F),this.ele.nativeElement.style.setProperty("--sidebar-color",v),this.ele.nativeElement.style.setProperty("--main-color",U)}static{this.\u0275fac=function(v){return new(v||k)(d.rXU(d.aKT))}}static{this.\u0275cmp=d.VBU({type:k,selectors:[["ng-presentation"]],viewQuery:function(v,U){if(1&v&&d.GBs(r.m,7),2&v){let ee;d.mGM(ee=d.lsd())&&(U.sidenavContentArea=ee.first)}},hostVars:2,hostBindings:function(v,U){2&v&&d.xc7("--theme-color",U.ThemeColor)},inputs:{theme:"theme",defaultTheme:"defaultTheme",layoutColor:"layoutColor"},standalone:!1,ngContentSelectors:g,decls:7,vars:0,consts:[["sidenavContentArea",""]],template:function(v,U){1&v&&(d.NAR(T),d.j41(0,"header"),d.SdG(1),d.k0s(),d.j41(2,"aside"),d.SdG(3,1),d.DNE(4,O,0,0,"ng-template",0),d.k0s(),d.j41(5,"main"),d.SdG(6,2),d.k0s())},dependencies:[r.m],styles:["*{padding:0;margin:0;box-sizing:border-box}:host{--top-bar-height: 70px;--sidebar-width: 220px;--theme-color: #2ebc4f;--theme-light-color: color-mix(in srgb, var(--theme-color) 20%, transparent);--theme-dark-color: color-mix(in srgb, var(--theme-color) 20%, black);--dark-color: #333;--dark-light-color: color-mix(in srgb, var(--dark-color) 20%, transparent);--header-color: #fff;--sidebar-color: #f8f8f8;--main-color: #efefef;--text-color: #1f1f1f;font-family:Arial,sans-serif;color:var(--text-color);font-size:14px;line-height:1.42857143;accent-color:var(--theme-color);display:grid;grid-template-columns:var(--sidebar-width) 1fr;min-height:100vh}:host header{grid-column:span 2;box-shadow:0 0 10px #00000026;width:100%;background-color:var(--header-color);padding:1rem;position:sticky;top:0;z-index:100}:host ng-header{display:flex;justify-content:space-between;align-items:center}:host aside{height:calc(100vh - var(--top-bar-height));overflow-y:auto;background-color:var(--sidebar-color);padding:1rem}@media (min-width: 701px){:host aside{position:sticky;left:0;top:var(--top-bar-height);z-index:100}}:host main{padding:1rem;overflow-x:hidden;background-color:var(--main-color)}@media (max-width: 700px){:host{grid-template-columns:1fr}:host header{grid-column:span 1}:host aside{height:auto}:host ng-sidenav{display:flex;gap:1rem;white-space:nowrap;max-height:70px}}a{display:block;padding:8px 0;color:#666;text-decoration:none;cursor:pointer;font-size:12px}a:hover,a.active{color:var(--theme-color);text-decoration:underline}input,textarea{outline:none;height:32px;padding:0 80px 0 12px;border:solid 1px #e4e5ea;border-radius:4px;width:100%}input:focus,textarea:focus{background-color:#fff;border:solid 1px var(--theme-color, rgba(46, 188, 79, .6))}textarea{min-height:200px}.container{margin-right:auto;margin-left:auto;padding-left:20px;padding-right:20px;max-width:1140px}.list{margin-top:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(min(280px,100%),1fr));gap:1rem}.list-fullwidth{grid-template-columns:1fr}.list__item{display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;box-shadow:#0000000f 0 2px 1px;flex-wrap:wrap;background-color:#fff;padding:1rem}.card{display:flex;flex-direction:column;gap:.6rem;background:#fff;padding:1rem 1.2rem}pre{color:#fff;background:#455e7b;padding:1em;border-radius:5px;white-space:pre-wrap;word-wrap:break-word;text-align:justify;overflow-x:auto;width:100%}pre>code{display:block;width:75vw}.nav-design a{text-decoration:none;display:inline-block;width:100%;padding:.6rem 1rem;color:var(--dark-color);white-space:nowrap;margin-bottom:.2rem}.nav-design a:hover{background:var(--dark-light-color)}.nav-design a.active{color:var(--theme-color);background:var(--theme-light-color)}.nav-design.squared a{border-radius:0}.nav-design.rounded a{border-radius:1rem}.nav-design.pilled a{border-radius:3rem}h1{margin-bottom:.75rem}\n"],encapsulation:3})}}return k})()},1240:($,P,p)=>{p.d(P,{d:()=>L});var d=p(177),c=(p(9781),p(4917),p(9991),p(4567),p(3853),p(1764),p(4438));let L=(()=>{class F{static{this.\u0275fac=function(ee){return new(ee||F)}}static{this.\u0275mod=c.$C({type:F})}static{this.\u0275inj=c.G2t({imports:[d.CommonModule]})}}return F})()},7987:($,P,p)=>{p.d(P,{G:()=>r});var d=p(467),A=p(4438);let r=(()=>{class R{#e=[];#t;push(g){var O=this;return(0,d.A)(function*(){O.#e.push(g),O.setContent(g)})()}pop(){var g=this;return(0,d.A)(function*(){1!==g.#e.length&&(g.#e.pop(),g.setContent(g.#e[g.#e.length-1]))})()}setDynamicContentArea(g){this.#t=g}setContent(g){this.#t?.viewContainerRef.clear(),this.#t?.viewContainerRef.createComponent(g)}static{this.\u0275fac=function(O){return new(O||R)}}static{this.\u0275prov=A.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},6703:($,P,p)=>{p.r(P),p.d(P,{FirebaseModule:()=>xc});var d=p(177),A=p(884),r=p(4438),R=p(4373),T=p(8910);const g=(n,t,e)=>({"badge-success":n,"badge-warning":t,"badge-danger":e});function O(n,t){if(1&n&&(r.j41(0,"div",5),r.EFF(1),r.k0s()),2&n){const e=t.ngIf;r.Y8G("ngClass",r.sMw(2,g,"online"===(null==e?null:e.status),"away"===(null==e?null:e.status),"offline"===(null==e?null:e.status))),r.R7$(),r.SpI(" ",null==e?null:e.status,"\n")}}let c=(()=>{class n{constructor(e,i){this.presenceService=e,this.checkPresenceService=i,this.uid="1",this.presenceService.configureUserPresenceByLocal(),this.setPresence("user1")}ngOnInit(){this.presence$=this.presenceService.getPresence(this.uid),this.counts$=this.presenceService.getUserOnlineCounts$}setPresence(e){this.checkPresenceService.checkPresence(`checkPresence/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(R.BF),r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-realtime-presence"]],standalone:!1,decls:8,vars:6,consts:[["class","badge",3,"ngClass",4,"ngIf"],[1,"ping"],[1,"outer"],[1,"inner"],[1,"num"],[1,"badge",3,"ngClass"]],template:function(i,s){1&i&&(r.DNE(0,O,2,6,"div",0),r.nI1(1,"async"),r.j41(2,"span",1),r.nrm(3,"span",2)(4,"span",3),r.k0s(),r.j41(5,"span",4),r.EFF(6),r.nI1(7,"async"),r.k0s()),2&i&&(r.Y8G("ngIf",r.bMT(1,2,s.presence$)),r.R7$(6),r.JRh(r.bMT(7,4,s.counts$)))},dependencies:[d.NgClass,d.NgIf,d.AsyncPipe],encapsulation:2})}}return n})();var k=p(8141);const L=n=>({active:n});let F=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.userId="1",this.itemId="election mp",this.voteCount=0,this.userVote=0}ngOnInit(){this.getItemVotes("election mp")}getItemVotes(e){this.subscription=this.abstractFirebaseDb.readRealtimeOriginal$(`votes/${e}`).pipe((0,k.M)(i=>{this.voteCount=i.reduce((s,o)=>s+o,0)})).subscribe(i=>{this.userId&&(this.userVote=i[this.userId])})}updateUserVote(e,i,s){let o={};o[i]=s,this.abstractFirebaseDb.update(`votes/${e}`,o).then()}upvote(){this.updateUserVote(this.itemId,this.userId,1==this.userVote?0:1)}downvote(){this.updateUserVote(this.itemId,this.userId,-1==this.userVote?0:-1)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-voting"]],inputs:{userId:"userId",itemId:"itemId"},standalone:!1,decls:5,vars:7,consts:[[1,"votebox"],[1,"fa","fa-arrow-up","vote","up",3,"click","ngClass"],[1,"vote-count"],[1,"fa","fa-arrow-down","vote","down",3,"click","ngClass"]],template:function(i,s){1&i&&(r.j41(0,"div",0)(1,"span",1),r.bIt("click",function(){return s.upvote()}),r.k0s(),r.j41(2,"span",2),r.EFF(3),r.k0s(),r.j41(4,"span",3),r.bIt("click",function(){return s.downvote()}),r.k0s()()),2&i&&(r.R7$(),r.Y8G("ngClass",r.eq3(3,L,s.userVote>0)),r.R7$(2),r.JRh(s.voteCount),r.R7$(),r.Y8G("ngClass",r.eq3(5,L,s.userVote<0)))},dependencies:[d.NgClass],styles:[".votebox[_ngcontent-%COMP%]{height:120px;width:120px;display:flex;text-align:center;flex-direction:column;font-size:2em}.votebox[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]{cursor:pointer}.votebox[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]:hover{color:orange}.votebox[_ngcontent-%COMP%]   .active.up[_ngcontent-%COMP%]{color:green}.votebox[_ngcontent-%COMP%]   .active.down[_ngcontent-%COMP%]{color:red}"]})}}return n})();var v=p(9417);function U(n,t){if(1&n){const e=r.RV6();r.j41(0,"span",12),r.bIt("click",function(){r.eBV(e);const s=r.XpG().$implicit,o=r.XpG();return r.Njj(o.updateActive(!1,s.key))}),r.EFF(1,"Mark Complete"),r.k0s()}}function ee(n,t){if(1&n){const e=r.RV6();r.j41(0,"span",13),r.bIt("click",function(){r.eBV(e);const s=r.XpG().$implicit,o=r.XpG();return r.Njj(o.updateActive(!0,s.key))}),r.EFF(1,"Mark Active"),r.k0s()}}function ur(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"h5"),r.EFF(2),r.k0s(),r.EFF(3),r.nI1(4,"date"),r.j41(5,"span",8),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.updateTimeStamp(s.key))}),r.EFF(6,"Update Timestamp"),r.k0s(),r.DNE(7,U,2,0,"span",9)(8,ee,2,0,"span",10),r.j41(9,"span",11),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.delete(s.key))}),r.EFF(10,"Delete"),r.k0s(),r.bVm()}if(2&n){const e=t.$implicit;r.R7$(2),r.JRh(e.title||"missing title"),r.R7$(),r.Lme(" Active: ",e.active," ",r.bMT(4,5,e.timeStamp)," "),r.R7$(4),r.Y8G("ngIf",e.active),r.R7$(),r.Y8G("ngIf",!e.active)}}function dr(n,t){if(1&n){const e=r.RV6();r.j41(0,"span",15),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.deleteItem())}),r.EFF(1,"Delete All"),r.k0s()}}function hr(n,t){if(1&n&&(r.qex(0),r.DNE(1,dr,2,0,"span",14),r.bVm()),2&n){const e=t.ngIf;r.R7$(),r.Y8G("ngIf",e.length)}}function pr(n,t){1&n&&(r.j41(0,"span"),r.EFF(1,"template renders here..."),r.k0s())}function fr(n,t){if(1&n&&(r.j41(0,"div"),r.DNE(1,pr,2,0,"span",16),r.k0s()),2&n){r.XpG();const e=r.sdS(7),i=r.sdS(12),s=r.sdS(14);r.R7$(),r.Y8G("ngIf",e.errors)("ngIfThen",s)("ngIfElse",i)}}function mr(n,t){1&n&&(r.j41(0,"p",17),r.EFF(1,"looks good! "),r.k0s())}function _r(n,t){1&n&&(r.j41(0,"p",18),r.EFF(1,"form contains errors!"),r.k0s())}class Gn{constructor(){this.active=!0}}let gr=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.item=new Gn}ngOnInit(){this.items$=this.abstractFirebaseDb.readRealtime$("tasks")}updateTimeStamp(e){let i=(new Date).getTime();this.abstractFirebaseDb.update(`tasks/${e}`,{timeStamp:i}).then()}updateActive(e,i){this.abstractFirebaseDb.update(`tasks/${i}`,{active:e}).then()}deleteItem(){this.abstractFirebaseDb.remove("tasks").then()}createItem(){this.abstractFirebaseDb.create("tasks",this.item).then(e=>{this.item=new Gn})}delete(e){this.abstractFirebaseDb.remove(`tasks/${e}`).then()}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-task"]],standalone:!1,decls:15,vars:9,consts:[["title","ngModel"],["valid",""],["errors",""],[1,"container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Item Title","required","","minlength","2","maxlength","23","autofocus","",1,"form-control","mt-4",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-info",3,"click"],["class","btn btn-primary ml-1",3,"click",4,"ngIf"],["class","btn btn-primary ml-2",3,"click",4,"ngIf"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"btn","btn-primary","ml-1",3,"click"],[1,"btn","btn-primary","ml-2",3,"click"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"text-success"],[1,"text-danger"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"div",3),r.DNE(1,ur,11,7,"ng-container",4),r.nI1(2,"async"),r.nrm(3,"br"),r.DNE(4,hr,2,1,"ng-container",5),r.nI1(5,"async"),r.j41(6,"input",6,0),r.mxI("ngModelChange",function(l){return r.eBV(o),r.DH7(s.item.title,l)||(s.item.title=l),r.Njj(l)}),r.k0s(),r.DNE(8,fr,2,3,"div",5),r.j41(9,"button",7),r.bIt("click",function(){return r.eBV(o),r.Njj(s.createItem())}),r.EFF(10,"Create"),r.k0s(),r.DNE(11,mr,2,0,"ng-template",null,1,r.C5r)(13,_r,2,0,"ng-template",null,2,r.C5r),r.k0s()}if(2&i){const o=r.sdS(7);r.R7$(),r.Y8G("ngForOf",r.bMT(2,5,s.items$)),r.R7$(3),r.Y8G("ngIf",r.bMT(5,7,s.items$)),r.R7$(2),r.R50("ngModel",s.item.title),r.R7$(2),r.Y8G("ngIf",o.dirty),r.R7$(),r.Y8G("disabled",!o.valid)}},dependencies:[d.NgForOf,d.NgIf,v.me,v.BC,v.YS,v.xh,v.tU,v.vS,d.AsyncPipe,d.DatePipe],encapsulation:2})}}return n})(),vr=(()=>{class n{transform(e){return e?e.filter(s=>!s.dismissed).reverse():void 0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=r.EJ8({name:"reverse",type:n,pure:!0,standalone:!1})}}return n})();const Ir=(n,t,e)=>({"bg-info":n,"bg-danger":t,"bg-success":e});function yr(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"button",6),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.dismiss(s.key))}),r.j41(4,"span",7),r.EFF(5,"\xd7"),r.k0s()()(),r.j41(6,"div",8),r.EFF(7),r.k0s()(),r.bVm()}if(2&n){const e=t.$implicit;r.R7$(),r.Y8G("ngClass",r.sMw(2,Ir,"info"===e.style,"danger"===e.style,"success"===e.style)),r.R7$(6),r.SpI(" ",e.content," ")}}class br{constructor(t,e){this.dismissed=!1,this.content=t,this.style=e||"info"}}let Tr=(()=>{class n{constructor(e,i){this.abstractFirebaseDb=e,this.abstractFirebaseDb2=i}ngOnInit(){this.getMessages()}getMessages(){this.messages=this.abstractFirebaseDb.readRealtime$("messages")}sendMessage(e,i){const s=new br(e,i);this.abstractFirebaseDb.create("messages",s).then()}dismissMessage(e){this.abstractFirebaseDb.update(`messages/${e}`,{dismissed:!0}).then()}dismiss(e){this.dismissMessage(e)}infoMessage(e="info"){this.sendMessage("I have some useful information for you...",e)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.B),r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-toast-message-notifications"]],standalone:!1,decls:11,vars:5,consts:[[2,"position","relative","min-height","200px"],[2,"position","absolute","top","0","right","0"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"toast","fade","show",3,"ngClass"],[1,"toast-header"],[1,"ml-2","mb-1","close",3,"click"],["aria-hidden","true"],[1,"toast-body"]],template:function(i,s){1&i&&(r.j41(0,"div",0)(1,"div",1),r.DNE(2,yr,8,6,"ng-container",2),r.nI1(3,"async"),r.nI1(4,"reverse"),r.k0s()(),r.j41(5,"button",3),r.bIt("click",function(){return s.infoMessage()}),r.EFF(6,"Info Toast"),r.k0s(),r.j41(7,"button",3),r.bIt("click",function(){return s.infoMessage("success")}),r.EFF(8,"success Toast"),r.k0s(),r.j41(9,"button",3),r.bIt("click",function(){return s.infoMessage("danger")}),r.EFF(10,"danger Toast"),r.k0s()),2&i&&(r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,r.bMT(3,1,s.messages))))},dependencies:[d.NgClass,d.NgForOf,d.AsyncPipe,vr],encapsulation:2})}}return n})();function kr(n,t){1&n&&(r.j41(0,"div"),r.EFF(1," button renders here "),r.k0s())}function Ar(n,t){if(1&n&&(r.qex(0),r.DNE(1,kr,2,0,"div",5),r.bVm()),2&n){const e=r.XpG(2),i=r.sdS(2),s=r.sdS(4);r.R7$(),r.Y8G("ngIf",e.isFollowing)("ngIfThen",s)("ngIfElse",i)}}function Er(n,t){if(1&n&&(r.j41(0,"div",3),r.EFF(1),r.j41(2,"strong"),r.EFF(3),r.k0s(),r.EFF(4," followers "),r.DNE(5,Ar,2,3,"ng-container",4),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.Lme(" ","@","",e.user.name," has "),r.R7$(2),r.JRh(e.followerCount),r.R7$(2),r.Y8G("ngIf",e.currentUser.key!==e.user.key)}}function Rr(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG();return r.Njj(s.toggleFollow(s.user))}),r.EFF(1,"Follow"),r.k0s()}}function Pr(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",7),r.bIt("click",function(){r.eBV(e);const s=r.XpG();return r.Njj(s.toggleFollow(s.user))}),r.EFF(1,"Unfollow"),r.k0s()}}let Or=(()=>{class n{constructor(e){this.abstractFirebaseDb=e}ngOnInit(){this.user&&this.user.key&&this.getFollowers(this.user.key),this.currentUser&&this.currentUser.key&&this.getFollowing(this.currentUser.key,this.user.key)}ngOnChanges(e){}getFollowers(e){this.followers=this.abstractFirebaseDb.readRealtimeOriginal$(`followers/${e}`).pipe((0,k.M)(i=>{this.followerCount=Object.keys(i).reduce((s,o)=>s+i[o],0)})).subscribe()}getFollowing(e,i){this.following=this.abstractFirebaseDb.readRealtimeOriginal$(`following/${e}/${i}`).pipe((0,k.M)(s=>this.isFollowing=!!s)).subscribe()}follow(e,i){this.abstractFirebaseDb.update(`followers/${i}`,{[e]:!0}),this.abstractFirebaseDb.update(`following/${e}`,{[i]:!0})}unfollow(e,i){this.abstractFirebaseDb.remove(`followers/${i}/${e}`),this.abstractFirebaseDb.remove(`following/${e}/${i}`)}toggleFollow(e){const i=e.key,s=this.currentUser.key;this.isFollowing?this.unfollow(s,i):this.follow(s,i)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-user-profile"]],inputs:{user:"user",currentUser:"currentUser"},standalone:!1,features:[r.OA$],decls:5,vars:1,consts:[["followButton",""],["unfollowButton",""],["class","profile",4,"ngIf"],[1,"profile"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"button","is-info",3,"click"],[1,"button","is-warning",3,"click"]],template:function(i,s){1&i&&r.DNE(0,Er,6,4,"div",2)(1,Rr,2,0,"ng-template",null,0,r.C5r)(3,Pr,2,0,"ng-template",null,1,r.C5r),2&i&&r.Y8G("ngIf",s.currentUser)},dependencies:[d.NgIf],encapsulation:2})}}return n})();function wr(n,t){if(1&n&&(r.j41(0,"div"),r.nrm(1,"app-user-profile",1),r.k0s()),2&n){const e=t.$implicit,i=r.XpG();r.R7$(),r.Y8G("user",e)("currentUser",i.currentUser)}}let Cr=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.loginUserId="-NJv4HtIRVHIk7bB-7Px"}ngOnInit(){this.abstractFirebaseDb.readOnceOriginal("users/"+this.loginUserId).then(e=>{this.currentUser=e}),this.users$=this.abstractFirebaseDb.readRealtime$("users")}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-follow-system"]],standalone:!1,decls:6,vars:4,consts:[[4,"ngFor","ngForOf"],[3,"user","currentUser"]],template:function(i,s){1&i&&(r.EFF(0,"You are logged in as "),r.j41(1,"strong"),r.EFF(2),r.k0s(),r.nrm(3,"hr"),r.DNE(4,wr,2,2,"div",0),r.nI1(5,"async")),2&i&&(r.R7$(2),r.JRh(null==s.currentUser?null:s.currentUser.name),r.R7$(2),r.Y8G("ngForOf",r.bMT(5,2,s.users$)))},dependencies:[d.NgForOf,Or,d.AsyncPipe],encapsulation:2})}}return n})(),Sr=(()=>{class n{constructor(e){this.abstractFirebaseDb=e}ngOnInit(){}onIncrement(){this.incDisable=!0,this.abstractFirebaseDb.updateCounter("pages",!0).then(()=>this.incDisable=!1)}onDecrement(){this.decDisable=!0,this.abstractFirebaseDb.updateCounter("pages",!1).then(()=>this.decDisable=!1)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-couter-stats"]],standalone:!1,decls:4,vars:2,consts:[[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-warning",3,"click","disabled"]],template:function(i,s){1&i&&(r.j41(0,"button",0),r.bIt("click",function(){return s.onIncrement()}),r.EFF(1,"Inc"),r.k0s(),r.j41(2,"button",1),r.bIt("click",function(){return s.onDecrement()}),r.EFF(3,"Dec"),r.k0s()),2&i&&(r.Y8G("disabled",s.incDisable),r.R7$(2),r.Y8G("disabled",s.decDisable))},encapsulation:2})}}return n})();var Fr=p(8990);const Dr=["postForm"];function Nr(n,t){if(1&n){const e=r.RV6();r.j41(0,"li",5),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.fetchPost(s.key))}),r.EFF(1),r.nI1(2,"json"),r.j41(3,"span",5),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.deletePost(s.key))}),r.EFF(4,"X"),r.k0s()()}if(2&n){const e=t.$implicit;r.R7$(),r.Lme("",e.key," | ",r.bMT(2,2,null==e?null:e.value)," ")}}let xr=(()=>{class n{constructor(e){this.realtimeDbService=e}ngOnInit(){}onCreatePost(e){this.realtimeDbService.post("2023/posts.json",e).subscribe(i=>{this.postForm.reset()})}fetchPosts(){this.realtimeDbService.get("2023/posts.json").subscribe(e=>{this.posts=e})}fetchPost(e){this.realtimeDbService.get(`2023/posts/${e}.json`).subscribe(i=>{this.post=i})}deletePost(e){this.realtimeDbService.delete(`2023/posts/${e}.json`).subscribe(i=>{this.fetchPosts()})}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(Fr.A))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-realtimedb-playground"]],viewQuery:function(i,s){if(1&i&&r.GBs(Dr,5),2&i){let o;r.mGM(o=r.lsd())&&(s.postForm=o.first)}},standalone:!1,decls:25,vars:6,consts:[["postForm","ngForm"],[3,"ngSubmit"],["type","text","name","title","ngModel","","required",""],["id","content","name","content","ngModel","","required",""],["type","submit"],[3,"click"],[3,"click",4,"ngFor","ngForOf"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"h2"),r.EFF(1,"Angular: Making HTTP Requests with Firebase "),r.k0s(),r.j41(2,"form",1,0),r.bIt("ngSubmit",function(){r.eBV(o);const l=r.sdS(3);return r.Njj(s.onCreatePost(l.value))}),r.j41(4,"div")(5,"label")(6,"b"),r.EFF(7,"Title"),r.k0s()(),r.nrm(8,"input",2),r.j41(9,"label")(10,"b"),r.EFF(11,"Content"),r.k0s()(),r.nrm(12,"textarea",3),r.j41(13,"button",4),r.EFF(14,"Send Post"),r.k0s()()(),r.j41(15,"div")(16,"button",5),r.bIt("click",function(){return r.eBV(o),r.Njj(s.fetchPosts())}),r.EFF(17,"Fetch Posts"),r.k0s()(),r.nrm(18,"hr"),r.j41(19,"ul"),r.DNE(20,Nr,5,4,"li",6),r.nI1(21,"keyvalue"),r.k0s(),r.nrm(22,"hr"),r.EFF(23),r.nI1(24,"json")}2&i&&(r.R7$(20),r.Y8G("ngForOf",r.bMT(21,2,s.posts)),r.R7$(3),r.SpI("\n",r.bMT(24,4,s.post),"\n"))},dependencies:[d.NgForOf,v.qT,v.me,v.BC,v.cb,v.YS,v.vS,v.cV,d.JsonPipe,d.KeyValuePipe],encapsulation:2})}}return n})();var u=p(467),Vn=(p(5891),p(1985),p(6354),p(1626)),y=(p(2214),p(2431)),_=p(1076),j=p(7852),$n=p(8041),Ge=p(1635),Bn=p(1362);const Mr=function Wn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Hn=new _.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kn=new $n.Vy("@firebase/auth");function ye(n,...t){Kn.logLevel<=$n.$b.ERROR&&Kn.error(`Auth (${j.MF}): ${n}`,...t)}function D(n,...t){throw Ve(n,...t)}function x(n,...t){return Ve(n,...t)}function zn(n,t,e){const i=Object.assign(Object.assign({},Mr()),{[t]:e});return new _.FA("auth","Firebase",i).create(t,{appName:n.name})}function Ve(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Hn.create(n,...t)}function h(n,t,...e){if(!n)throw Ve(t,...e)}function G(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ye(t),new Error(t)}function B(n,t){n||G(t)}const Yn=new Map;function W(n){B(n instanceof Function,"Expected a class definition");let t=Yn.get(n);return t?(B(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Yn.set(n,t),t)}function se(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function qn(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class oe{constructor(t,e){this.shortDelay=t,this.longDelay=e,B(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,_.jZ)()||(0,_.lV)()}get(){return function jr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $e(){return"http:"===qn()||"https:"===qn()}()||(0,_.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Be(n,t){B(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Xn{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void G("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void G("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void G("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$r=new oe(3e4,6e4);function w(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function S(n,t,e,i){return We.apply(this,arguments)}function We(){return(We=(0,u.A)(function*(n,t,e,i,s={}){return Jn(n,s,(0,u.A)(function*(){let o={},a={};i&&("GET"===t?a=i:o={body:JSON.stringify(i)});const l=(0,_.Am)(Object.assign({key:n.config.apiKey},a)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),Xn.fetch()(Qn(n,n.config.apiHost,e,l),Object.assign({method:t,headers:f,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Jn(n,t,e){return He.apply(this,arguments)}function He(){return(He=(0,u.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Vr),t);try{const s=new Br(n),o=yield Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=yield o.json();if("needConfirmation"in a)throw ae(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[f,m]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===f)throw ae(n,"credential-already-in-use",a);if("EMAIL_EXISTS"===f)throw ae(n,"email-already-in-use",a);if("USER_DISABLED"===f)throw ae(n,"user-disabled",a);const I=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw zn(n,I,m);D(n,I)}}catch(s){if(s instanceof _.g)throw s;D(n,"network-request-failed")}})).apply(this,arguments)}function H(n,t,e,i){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.A)(function*(n,t,e,i,s={}){const o=yield S(n,t,e,i,s);return"mfaPendingCredential"in o&&D(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function Qn(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?Be(n.config,s):`${n.config.apiScheme}://${s}`}class Br{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(x(this.auth,"network-request-failed")),$r.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ae(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=x(n,t,i);return s.customData._tokenResponse=e,s}function ze(){return(ze=(0,u.A)(function*(n,t){return S(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function qe(){return(qe=(0,u.A)(function*(n,t){return S(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function ce(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Xe(){return(Xe=(0,u.A)(function*(n,t=!1){const e=(0,_.Ku)(n),i=yield e.getIdToken(t),s=be(i);h(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:ce(Je(s.auth_time)),issuedAtTime:ce(Je(s.iat)),expirationTime:ce(Je(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Je(n){return 1e3*Number(n)}function be(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return ye("JWT malformed, contained fewer than 3 sections"),null;try{const s=(0,_.u)(e);return s?JSON.parse(s):(ye("Failed to decode base64 JWT payload"),null)}catch(s){return ye("Caught error parsing JWT payload as JSON",s?.toString()),null}}function K(n,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof _.g&&function qr({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Xr{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const s=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,u.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,u.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class Zn{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ce(this.lastLoginAt),this.creationTime=ce(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function le(n){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,u.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),s=yield K(n,function Kr(n,t){return qe.apply(this,arguments)}(e,{idToken:i}));h(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const a=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function Zr(n){return n.map(t=>{var{providerId:e}=t,i=(0,Ge.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],l=function Qr(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}(n.providerData,a),I=!!n.isAnonymous&&!(n.email&&o.passwordHash||l?.length),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Zn(o.createdAt,o.lastLoginAt),isAnonymous:I};Object.assign(n,E)}),Ze.apply(this,arguments)}function et(){return(et=(0,u.A)(function*(n){const t=(0,_.Ku)(n);yield le(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function tt(){return(tt=(0,u.A)(function*(n,t){const e=yield Jn(n,{},(0,u.A)(function*(){const i=(0,_.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,a=Qn(n,s,"/v1/token",`key=${o}`),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Xn.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){h(t.idToken,"internal-error"),h(typeof t.idToken<"u","internal-error"),h(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Yr(n){const t=be(n);return h(t,"internal-error"),h(typeof t.exp<"u","internal-error"),h(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return(0,u.A)(function*(){return h(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,u.A)(function*(){const{accessToken:s,refreshToken:o,expiresIn:a}=yield function es(n,t){return tt.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(s,o,Number(a))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,a=new ue;return i&&(h("string"==typeof i,"internal-error",{appName:t}),a.refreshToken=i),s&&(h("string"==typeof s,"internal-error",{appName:t}),a.accessToken=s),o&&(h("number"==typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return G("not implemented")}}function q(n,t){h("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class J{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=(0,Ge.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zn(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,u.A)(function*(){const i=yield K(e,e.stsTokenManager.getToken(e.auth,t));return h(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function zr(n){return Xe.apply(this,arguments)}(this,t)}reload(){return function Jr(n){return et.apply(this,arguments)}(this)}_assign(t){this!==t&&(h(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new J(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){h(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,u.A)(function*(){let s=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),s=!0),e&&(yield le(i)),yield i.auth._persistUserIfCurrent(i),s&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,u.A)(function*(){const e=yield t.getIdToken();return yield K(t,function Wr(n,t){return ze.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,a,l,f,m,I;const E=null!==(i=e.displayName)&&void 0!==i?i:void 0,V=null!==(s=e.email)&&void 0!==s?s:void 0,X=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,Le=null!==(a=e.photoURL)&&void 0!==a?a:void 0,rr=null!==(l=e.tenantId)&&void 0!==l?l:void 0,Mn=null!==(f=e._redirectEventId)&&void 0!==f?f:void 0,sr=null!==(m=e.createdAt)&&void 0!==m?m:void 0,or=null!==(I=e.lastLoginAt)&&void 0!==I?I:void 0,{uid:Ln,emailVerified:ar,isAnonymous:cr,providerData:Un,stsTokenManager:lr}=e;h(Ln&&lr,t,"internal-error");const Mc=ue.fromJSON(this.name,lr);h("string"==typeof Ln,t,"internal-error"),q(E,t.name),q(V,t.name),h("boolean"==typeof ar,t,"internal-error"),h("boolean"==typeof cr,t,"internal-error"),q(X,t.name),q(Le,t.name),q(rr,t.name),q(Mn,t.name),q(sr,t.name),q(or,t.name);const jn=new J({uid:Ln,auth:t,email:V,emailVerified:ar,displayName:E,isAnonymous:cr,photoURL:Le,phoneNumber:X,tenantId:rr,stsTokenManager:Mc,createdAt:sr,lastLoginAt:or});return Un&&Array.isArray(Un)&&(jn.providerData=Un.map(Lc=>Object.assign({},Lc))),Mn&&(jn._redirectEventId=Mn),jn}static _fromIdTokenResponse(t,e,i=!1){return(0,u.A)(function*(){const s=new ue;s.updateFromServerResponse(e);const o=new J({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return yield le(o),o})()}}const ei=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.A)(function*(){return!0})()}_set(e,i){var s=this;return(0,u.A)(function*(){s.storage[e]=i})()}_get(e){var i=this;return(0,u.A)(function*(){const s=i.storage[e];return void 0===s?null:s})()}_remove(e){var i=this;return(0,u.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Te(n,t,e){return`firebase:${n}:${t}:${e}`}class ne{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Te(this.userKey,s.apiKey,o),this.fullPersistenceKey=Te("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,u.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?J._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,u.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,u.A)(function*(){if(!e.length)return new ne(W(ei),t,i);const s=(yield Promise.all(e.map(function(){var m=(0,u.A)(function*(I){if(yield I._isAvailable())return I});return function(I){return m.apply(this,arguments)}}()))).filter(m=>m);let o=s[0]||W(ei);const a=Te(i,t.config.apiKey,t.name);let l=null;for(const m of e)try{const I=yield m._get(a);if(I){const E=J._fromJSON(t,I);m!==o&&(l=E),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return o._shouldAllowMigration&&f.length?(o=f[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(e.map(function(){var m=(0,u.A)(function*(I){if(I!==o)try{yield I._remove(a)}catch{}});return function(I){return m.apply(this,arguments)}}())),new ne(o,t,i)):new ne(o,t,i)})()}}function ti(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ni(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oi(t))return"Blackberry";if(ai(t))return"Webos";if(nt(t))return"Safari";if((t.includes("chrome/")||ii(t))&&!t.includes("edge/"))return"Chrome";if(si(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function ni(n=(0,_.ZQ)()){return/firefox\//i.test(n)}function nt(n=(0,_.ZQ)()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ii(n=(0,_.ZQ)()){return/crios\//i.test(n)}function ri(n=(0,_.ZQ)()){return/iemobile/i.test(n)}function si(n=(0,_.ZQ)()){return/android/i.test(n)}function oi(n=(0,_.ZQ)()){return/blackberry/i.test(n)}function ai(n=(0,_.ZQ)()){return/webos/i.test(n)}function ke(n=(0,_.ZQ)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ci(n=(0,_.ZQ)()){return ke(n)||si(n)||ai(n)||oi(n)||/windows phone/i.test(n)||ri(n)}function li(n,t=[]){let e;switch(n){case"Browser":e=ti((0,_.ZQ)());break;case"Worker":e=`${ti((0,_.ZQ)())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${j.MF}/${i}`}class rs{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((a,l)=>{try{a(t(o))}catch(f){l(f)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,u.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const s of e.queue)yield s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}})()}}class ss{constructor(t,e,i){this.app=t,this.heartbeatServiceProvider=e,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ui(this),this.idTokenSubscription=new ui(this),this.beforeStateQueue=new rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=W(e)),this._initializationPromise=this.queue((0,u.A)(function*(){var s,o;if(!i._deleted&&(i.persistenceManager=yield ne.create(i,t),!i._deleted)){if(null!==(s=i._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,u.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return(0,u.A)(function*(){var i;const s=yield e.assertedPersistence.getCurrentUser();let o=s,a=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const l=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,f=o?._redirectEventId,m=yield e.tryRedirectSignIn(t);(!l||l===f)&&m?.user&&(o=m.user,a=!0)}if(!o)return e.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{yield e.beforeStateQueue.runMiddleware(o)}catch(l){o=s,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(l))}return o?e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)}return h(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var e=this;return(0,u.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,u.A)(function*(){try{yield le(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Gr(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,u.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,u.A)(function*(){const i=t?(0,_.Ku)(t):null;return i&&h(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,u.A)(function*(){if(!i._deleted)return t&&h(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,u.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,u.A)(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue((0,u.A)(function*(){yield e.assertedPersistence.setPersistence(W(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _.FA("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,u.A)(function*(){const s=yield i.getOrInitRedirectPersistenceManager(e);return null===t?s.removeCurrentUser():s.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,u.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&W(t)||e._popupRedirectResolver;h(i,e,"argument-error"),e.redirectPersistenceManager=yield ne.create(e,[W(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,u.A)(function*(){var i,s;return e._isInitialized&&(yield e.queue((0,u.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(s=e.redirectUser)||void 0===s?void 0:s._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,u.A)(function*(){if(t===e.currentUser)return e.queue((0,u.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e),a=this._isInitialized?Promise.resolve():this._initializationPromise;return h(a,this,"internal-error"),a.then(()=>o(this.currentUser)),"function"==typeof e?t.addObserver(e,i,s):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,u.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return h(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,u.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const s=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();return s&&(i["X-Firebase-Client"]=s),i})()}}function N(n){return(0,_.Ku)(n)}class ui{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,_.tD)(e=>this.observer=e)}get next(){return h(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function hi(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class de{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return G("not implemented")}_getIdTokenResponse(t){return G("not implemented")}_linkToIdToken(t,e){return G("not implemented")}_getReauthenticationResolver(t){return G("not implemented")}}function rt(){return(rt=(0,u.A)(function*(n,t){return S(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ot(){return(ot=(0,u.A)(function*(n,t){return H(n,"POST","/v1/accounts:signInWithPassword",w(n,t))})).apply(this,arguments)}function ht(){return(ht=(0,u.A)(function*(n,t){return H(n,"POST","/v1/accounts:signInWithEmailLink",w(n,t))})).apply(this,arguments)}function pt(){return(pt=(0,u.A)(function*(n,t){return H(n,"POST","/v1/accounts:signInWithEmailLink",w(n,t))})).apply(this,arguments)}class he extends de{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new he(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new he(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,u.A)(function*(){switch(e.signInMethod){case"password":return function us(n,t){return ot.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function ms(n,t){return ht.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:D(t,"internal-error")}})()}_linkToIdToken(t,e){var i=this;return(0,u.A)(function*(){switch(i.signInMethod){case"password":return function fi(n,t){return rt.apply(this,arguments)}(t,{idToken:e,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function _s(n,t){return pt.apply(this,arguments)}(t,{idToken:e,email:i._email,oobCode:i._password});default:D(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function z(n,t){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.A)(function*(n,t){return H(n,"POST","/v1/accounts:signInWithIdp",w(n,t))})).apply(this,arguments)}class ie extends de{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ie(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):D("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=(0,Ge.Tt)(e,["providerId","signInMethod"]);if(!i||!s)return null;const a=new ie(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){return z(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,z(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,z(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,_.Am)(e)}return t}}class fe{constructor(t){var e,i,s,o,a,l;const f=(0,_.I9)((0,_.hp)(t)),m=null!==(e=f.apiKey)&&void 0!==e?e:null,I=null!==(i=f.oobCode)&&void 0!==i?i:null,E=function ks(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=f.mode)&&void 0!==s?s:null);h(m&&I&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=I,this.continueUrl=null!==(o=f.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=f.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(l=f.tenantId)&&void 0!==l?l:null}static parseLink(t){const e=function As(n){const t=(0,_.I9)((0,_.hp)(n)).link,e=t?(0,_.I9)((0,_.hp)(t)).deep_link_id:null,i=(0,_.I9)((0,_.hp)(n)).deep_link_id;return(i?(0,_.I9)((0,_.hp)(i)).link:null)||i||e||t||n}(t);try{return new fe(e)}catch{return null}}}let mi=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return he._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=fe.parseLink(i);return h(s,"argument-error"),he._fromEmailAndCode(e,s.code,s.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Y{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _i extends Y{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let me=(()=>{class n extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ie._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return n.credential(i,s)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function yt(){return(yt=(0,u.A)(function*(n,t){return H(n,"POST","/v1/accounts:signUp",w(n,t))})).apply(this,arguments)}class M{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,s=!1){return(0,u.A)(function*(){const o=yield J._fromIdTokenResponse(t,i,s),a=vi(i);return new M({user:o,providerId:a,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return(0,u.A)(function*(){yield t._updateTokensIfNecessary(i,!0);const s=vi(i);return new M({user:t,providerId:s,_tokenResponse:i,operationType:e})})()}}function vi(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Re extends _.g{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Re.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new Re(t,e,i,s)}}function Ii(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Re._fromErrorAndOperation(n,o,t,i):o})}function At(){return(At=(0,u.A)(function*(n,t,e=!1){const i=yield K(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return M._forOperation(n,"link",i)})).apply(this,arguments)}function Rt(){return(Rt=(0,u.A)(function*(n,t,e=!1){const{auth:i}=n,s="reauthenticate";try{const o=yield K(n,Ii(i,s,t,n),e);h(o.idToken,i,"internal-error");const a=be(o.idToken);h(a,i,"internal-error");const{sub:l}=a;return h(n.uid===l,i,"user-mismatch"),M._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===o?.code&&D(i,"user-mismatch"),o}})).apply(this,arguments)}function Ti(n,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.A)(function*(n,t,e=!1){const i="signIn",s=yield Ii(n,i,t),o=yield M._fromIdTokenResponse(n,i,s);return e||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function wt(){return(wt=(0,u.A)(function*(n,t){return Ti(N(n),t)})).apply(this,arguments)}function Gt(){return(Gt=(0,u.A)(function*(n,t,e){const i=N(n),s=yield function gi(n,t){return yt.apply(this,arguments)}(i,{returnSecureToken:!0,email:t,password:e}),o=yield M._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(o.user),o})).apply(this,arguments)}class re{constructor(t,e,i={}){this.isNewUser=t,this.providerId=e,this.profile=i}}class Ai extends re{constructor(t,e,i,s){super(t,e,i),this.username=s}}class Ms extends re{constructor(t,e){super(t,"facebook.com",e)}}class Ls extends Ai{constructor(t,e){super(t,"github.com",e,"string"==typeof e?.login?e?.login:null)}}class Us extends re{constructor(t,e){super(t,"google.com",e)}}class js extends Ai{constructor(t,e,i){super(t,"twitter.com",e,i)}}function Ei(n){const{user:t,_tokenResponse:e}=n;return t.isAnonymous&&!e?{providerId:null,isNewUser:!1,profile:null}:function xs(n){var t,e;if(!n)return null;const{providerId:i}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!i&&n?.idToken){const a=null===(e=null===(t=be(n.idToken))||void 0===t?void 0:t.firebase)||void 0===e?void 0:e.sign_in_provider;if(a)return new re(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!i)return null;switch(i){case"facebook.com":return new Ms(o,s);case"github.com":return new Ls(o,s);case"google.com":return new Us(o,s);case"twitter.com":return new js(o,s,n.screenName||null);case"custom":case"anonymous":return new re(o,null);default:return new re(o,i,s)}}(e)}function Ri(n){return(0,_.Ku)(n).signOut()}const Ce="__sak";class Pi{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ce,"1"),this.storage.removeItem(Ce),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qs=(()=>{class n extends Pi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ks(){const n=(0,_.ZQ)();return nt(n)||ke(n)}()&&function is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ci(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((l,f,m)=>{this.notifyListeners(l,m)});const s=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(s);if(e.newValue!==l)null!==e.newValue?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!i)return}const o=()=>{const l=this.storage.getItem(s);!i&&this.localCache[s]===l||this.notifyListeners(s,l)},a=this.storage.getItem(s);!function ns(){return(0,_.lT)()&&10===document.documentMode}()||a===e.newValue||e.newValue===e.oldValue?o():setTimeout(o,10)}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var s=()=>super._set,o=this;return(0,u.A)(function*(){yield s().call(o,e,i),o.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,s=this;return(0,u.A)(function*(){const o=yield i().call(s,e);return s.localCache[e]=JSON.stringify(o),o})()}_remove(e){var i=()=>super._remove,s=this;return(0,u.A)(function*(){yield i().call(s,e),delete s.localCache[e]})()}}return n.type="LOCAL",n})(),Oi=(()=>{class n extends Pi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let Js=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new n(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return(0,u.A)(function*(){const s=e,{eventId:o,eventType:a,data:l}=s.data,f=i.handlersMap[a];if(!f?.size)return;s.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const m=Array.from(f).map(function(){var E=(0,u.A)(function*(V){return V(s.origin,l)});return function(V){return E.apply(this,arguments)}}()),I=yield function Xs(n){return Promise.all(n.map(function(){var t=(0,u.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(m);s.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:I})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Se(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class Qs{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var s=this;return(0,u.A)(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((f,m)=>{const I=Se("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},i);l={messageChannel:o,onMessage(V){const X=V;if(X.data.eventId===I)switch(X.data.status){case"ack":clearTimeout(E),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(X.data.response);break;default:clearTimeout(E),clearTimeout(a),m(new Error("invalid_response"))}}},s.handlers.add(l),o.port1.addEventListener("message",l.onMessage),s.target.postMessage({eventType:t,eventId:I,data:e},[o.port2])}).finally(()=>{l&&s.removeMessageHandler(l)})})()}}function C(){return window}function en(){return typeof C().WorkerGlobalScope<"u"&&"function"==typeof C().importScripts}function tn(){return(tn=(0,u.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wi="firebaseLocalStorageDb",Fe="firebaseLocalStorage",Ci="fbase_key";class ge{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function De(n,t){return n.transaction([Fe],t?"readwrite":"readonly").objectStore(Fe)}function nn(){const n=indexedDB.open(wi,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Fe,{keyPath:Ci})}catch(s){e(s)}}),n.addEventListener("success",(0,u.A)(function*(){const i=n.result;i.objectStoreNames.contains(Fe)?t(i):(i.close(),yield function ro(){const n=indexedDB.deleteDatabase(wi);return new ge(n).toPromise()}(),t(yield nn()))}))})}function Si(n,t,e){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.A)(function*(n,t,e){const i=De(n,!0).put({[Ci]:t,value:e});return new ge(i).toPromise()})).apply(this,arguments)}function sn(){return(sn=(0,u.A)(function*(n,t){const e=De(n,!1).get(t),i=yield new ge(e).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function Fi(n,t){const e=De(n,!0).delete(t);return new ge(e).toPromise()}const co=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,u.A)(function*(){return e.db||(e.db=yield nn()),e.db})()}_withRetries(e){var i=this;return(0,u.A)(function*(){let s=0;for(;;)try{const o=yield i._openDb();return yield e(o)}catch(o){if(s++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,u.A)(function*(){return en()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,u.A)(function*(){e.receiver=Js._getInstance(function no(){return en()?self:null}()),e.receiver._subscribe("keyChanged",function(){var i=(0,u.A)(function*(s,o){return{keyProcessed:(yield e._poll()).includes(o.key)}});return function(s,o){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=(0,u.A)(function*(s,o){return["keyChanged"]});return function(s,o){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,u.A)(function*(){var i,s;if(e.activeServiceWorker=yield function eo(){return tn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Qs(e.activeServiceWorker);const o=yield e.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(s=o[0])&&void 0!==s&&s.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return(0,u.A)(function*(){if(i.sender&&i.activeServiceWorker&&function to(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.A)(function*(){try{if(!indexedDB)return!1;const e=yield nn();return yield Si(e,Ce,"1"),yield Fi(e,Ce),!0}catch{}return!1})()}_withPendingWrite(e){var i=this;return(0,u.A)(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var s=this;return(0,u.A)(function*(){return s._withPendingWrite((0,u.A)(function*(){return yield s._withRetries(o=>Si(o,e,i)),s.localCache[e]=i,s.notifyServiceWorker(e)}))})()}_get(e){var i=this;return(0,u.A)(function*(){const s=yield i._withRetries(o=>function so(n,t){return sn.apply(this,arguments)}(o,e));return i.localCache[e]=s,s})()}_remove(e){var i=this;return(0,u.A)(function*(){return i._withPendingWrite((0,u.A)(function*(){return yield i._withRetries(s=>Fi(s,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,u.A)(function*(){const i=yield e._withRetries(a=>{const l=De(a,!1).getAll();return new ge(l).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const s=[],o=new Set;for(const{fbase_key:a,value:l}of i)o.add(a),JSON.stringify(e.localCache[a])!==JSON.stringify(l)&&(e.notifyListeners(a,l),s.push(a));for(const a of Object.keys(e.localCache))e.localCache[a]&&!o.has(a)&&(e.notifyListeners(a,null),s.push(a));return s})()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,u.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ni(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Z(n,t){return t?W(t):(h(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}Ni("rcb"),new oe(3e4,6e4);class mn extends de{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return z(t,this._buildIdpRequest())}_linkToIdToken(t,e){return z(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return z(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Ro(n){return Ti(n.auth,new mn(n),n.bypassAuthState)}function Po(n){const{auth:t,user:e}=n;return h(e,t,"internal-error"),function bi(n,t){return Rt.apply(this,arguments)}(e,new mn(n),n.bypassAuthState)}function Oo(n){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.A)(function*(n){const{auth:t,user:e}=n;return h(e,t,"internal-error"),function kt(n,t){return At.apply(this,arguments)}(e,new mn(n),n.bypassAuthState)})).apply(this,arguments)}class Mi{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,u.A)(function*(i,s){t.pendingPromise={resolve:i,reject:s};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(i,s){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,u.A)(function*(){const{urlResponse:i,sessionId:s,postBody:o,tenantId:a,error:l,type:f}=t;if(l)return void e.reject(l);const m={auth:e.auth,requestUri:i,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(f)(m))}catch(I){e.reject(I)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ro;case"linkViaPopup":case"linkViaRedirect":return Oo;case"reauthViaPopup":case"reauthViaRedirect":return Po;default:D(this.auth,"internal-error")}}resolve(t){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wo=new oe(2e3,1e4);function gn(){return(gn=(0,u.A)(function*(n,t,e){const i=N(n);!function te(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&D(n,"argument-error"),zn(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,t,Y);const s=Z(i,e);return new yn(i,"signInViaPopup",t,s).executeNotNull()})).apply(this,arguments)}let yn=(()=>{class n extends Mi{constructor(e,i,s,o,a){super(e,i,o,a),this.provider=s,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return(0,u.A)(function*(){const i=yield e.execute();return h(i,e.auth,"internal-error"),i})()}onExecution(){var e=this;return(0,u.A)(function*(){B(1===e.filter.length,"Popup operations only handle one event");const i=Se();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],i),e.authWindow.associatedEvent=i,e.resolver._originValidation(e.auth).catch(s=>{e.reject(s)}),e.resolver._isIframeWebStorageSupported(e.auth,s=>{s||e.reject(x(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(x(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;this.pollId=null!==(s=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==s&&s.closed?window.setTimeout(()=>{this.pollId=null,this.reject(x(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,wo.get())};e()}}return n.currentPopupAction=null,n})();const ve=new Map;class Fo extends Mi{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,u.A)(function*(){let i=ve.get(e.auth._key());if(!i){try{const o=(yield function Do(n,t){return bn.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(o)}catch(s){i=()=>Promise.reject(s)}ve.set(e.auth._key(),i)}return e.bypassAuthState||ve.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return(0,u.A)(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const s=yield i.auth._redirectUserForId(t.eventId);if(s)return i.user=s,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,u.A)(function*(){})()}cleanUp(){}}function bn(){return(bn=(0,u.A)(function*(n,t){const e=function Ui(n){return Te("pendingRedirect",n.config.apiKey,n.name)}(t),i=function Li(n){return W(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const s="true"===(yield i._get(e));return yield i._remove(e),s})).apply(this,arguments)}function No(n,t){ve.set(n._key(),t)}function Pn(){return(Pn=(0,u.A)(function*(n,t){return yield N(n)._initializationPromise,ji(n,t,!1)})).apply(this,arguments)}function ji(n,t){return On.apply(this,arguments)}function On(){return(On=(0,u.A)(function*(n,t,e=!1){const i=N(n),s=Z(i,t),a=yield new Fo(i,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,t)),a})).apply(this,arguments)}class Go{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function Vo(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $i(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!$i(t)){const s=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(x(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vi(t))}saveEventToCache(t){this.cachedEventUids.add(Vi(t)),this.lastProcessedEventTime=Date.now()}}function Vi(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $i({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function Cn(){return(Cn=(0,u.A)(function*(n,t={}){return S(n,"GET","/v1/projects",t)})).apply(this,arguments)}const Bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function Sn(){return Sn=(0,u.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function $o(n){return Cn.apply(this,arguments)}(n);for(const e of t)try{if(Ko(e))return}catch{}D(n,"unauthorized-domain")}),Sn.apply(this,arguments)}function Ko(n){const t=se(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return""===a.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&a.hostname===i}if(!Wo.test(e))return!1;if(Bo.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const zo=new oe(3e4,6e4);function Bi(){const n=C().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let xe=null;function qo(n){return xe=xe||function Yo(n){return new Promise((t,e)=>{var i,s,o;function a(){Bi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bi(),e(x(n,"network-request-failed"))},timeout:zo.get()})}if(null!==(s=null===(i=C().gapi)||void 0===i?void 0:i.iframes)&&void 0!==s&&s.Iframe)t(gapi.iframes.getContext());else{if(null===(o=C().gapi)||void 0===o||!o.load){const l=Ni("iframefcb");return C()[l]=()=>{gapi.load?a():e(x(n,"network-request-failed"))},function Di(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=x("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",function po(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)})}(`https://apis.google.com/js/api.js?onload=${l}`).catch(f=>e(f))}a()}}).catch(t=>{throw xe=null,t})}(n),xe}const Xo=new oe(5e3,15e3),Zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ea=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ta(n){const t=n.config;h(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Be(t,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:n.name,v:j.MF},s=ea.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${(0,_.Am)(i).slice(1)}`}function Fn(){return Fn=(0,u.A)(function*(n){const t=yield qo(n),e=C().gapi;return h(e,n,"internal-error"),t.open({where:document.body,url:ta(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zo,dontclear:!0},i=>new Promise(function(){var s=(0,u.A)(function*(o,a){yield i.restyle({setHideOnLeave:!1});const l=x(n,"network-request-failed"),f=C().setTimeout(()=>{a(l)},Xo.get());function m(){C().clearTimeout(f),o(i)}i.ping(m).then(m,()=>{a(l)})});return function(o,a){return s.apply(this,arguments)}}()))}),Fn.apply(this,arguments)}const ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hi(n,t,e,i,s,o){h(n.config.authDomain,n,"auth-domain-config-required"),h(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:j.MF,eventId:s};if(t instanceof Y){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",(0,_.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,m]of Object.entries(o||{}))a[f]=m}if(t instanceof _i){const f=t.getScopes().filter(m=>""!==m);f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const f of Object.keys(l))void 0===l[f]&&delete l[f];return`${function ha({config:n}){return n.emulator?Be(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,_.Am)(l).slice(1)}`}const Dn="webStorageSupport",fa=class pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oi,this._completeRedirectFn=ji,this._overrideRedirectResult=No}_openPopup(t,e,i,s){var o=this;return(0,u.A)(function*(){var a;B(null===(a=o.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const l=Hi(t,e,i,se(),s);return function ca(n,t,e,i=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const f=Object.assign(Object.assign({},ia),{width:i.toString(),height:s.toString(),top:o,left:a}),m=(0,_.ZQ)().toLowerCase();e&&(l=ii(m)?"_blank":e),ni(m)&&(t=t||"http://localhost",f.scrollbars="yes");const I=Object.entries(f).reduce((V,[X,Le])=>`${V}${X}=${Le},`,"");if(function ts(n=(0,_.ZQ)()){var t;return ke(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(m)&&"_self"!==l)return function la(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",l),new Wi(null);const E=window.open(t||"",l,I);h(E,n,"popup-blocked");try{E.focus()}catch{}return new Wi(E)}(t,l,Se())})()}_openRedirect(t,e,i,s){var o=this;return(0,u.A)(function*(){return yield o._originValidation(t),function Zs(n){C().location.href=n}(Hi(t,e,i,se(),s)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(B(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return(0,u.A)(function*(){const i=yield function na(n){return Fn.apply(this,arguments)}(t),s=new Go(t);return i.register("authEvent",o=>(h(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:s},e.iframes[t._key()]=i,s})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Dn,{type:Dn},s=>{var o;const a=null===(o=s?.[0])||void 0===o?void 0:o[Dn];void 0!==a&&e(!!a),D(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function Ho(n){return Sn.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ci()||nt()||ke()}};var zi="@firebase/auth";class _a{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,u.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){h(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ya=(0,_.XA)("authIdTokenMaxAge")||300;let qi=null;const ba=n=>function(){var t=(0,u.A)(function*(e){const i=e&&(yield e.getIdTokenResult()),s=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>ya)return;const o=i?.token;qi!==o&&(qi=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function Xi(n=(0,j.Sx)()){const t=(0,j.j6)(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function Lr(n,t){const e=(0,j.j6)(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if((0,_.bD)(o,t??{}))return s;D(s,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:fa,persistence:[co,qs,Oi]}),i=(0,_.XA)("authTokenSyncURL");if(i){const o=ba(i);(function Vs(n,t,e){(0,_.Ku)(n).beforeAuthStateChanged(t,e)})(e,o,()=>o(e.currentUser)),function Gs(n,t,e,i){(0,_.Ku)(n).onIdTokenChanged(t,e,i)}(e,a=>o(a))}const s=(0,_.Tj)("auth");return s&&function os(n,t,e){const i=N(n);h(i._canInitEmulator,i,"emulator-config-failed"),h(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!e?.disableWarnings,o=di(t),{host:a,port:l}=function as(n){const t=di(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:hi(i.substr(o.length+1))}}{const[o,a]=i.split(":");return{host:o,port:hi(a)}}}(t);i.config.emulator={url:`${o}//${a}${null===l?"":`:${l}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function cs(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${s}`),e}!function va(n){(0,j.om)(new Bn.uA("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:o,authDomain:a}=i.options;return((l,f)=>{h(o&&!o.includes(":"),"invalid-api-key",{appName:l.name}),h(!a?.includes(":"),"argument-error",{appName:l.name});const m={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:li(n)},I=new ss(l,f,m);return function Ur(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(W);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(I,e),I})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),(0,j.om)(new Bn.uA("auth-internal",t=>{const e=N(t.getProvider("auth").getImmediate());return new _a(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.KO)(zi,"0.21.3",function ga(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,j.KO)(zi,"0.21.3","esm2017")}("Browser"),new r.nKC(null);const Qi="https://rktect-rest-default-rtdb.firebaseio.com/users.json",Zi="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let Ma=(()=>{class n{constructor(e){this.http=e}getUsers(){return this.http.get(Qi,{params:{auth:Zi}})}createUser(e){return this.http.post(Qi,e,{params:{auth:Zi}})}}return n.\u0275fac=function(e){return new(e||n)(r.KVO(Vn.Qq))},n.\u0275prov=r.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class La{constructor(){this.db=(0,y.aU)(),this.auth=Xi(),(0,y.ol)(this.db).catch(t=>{"failed-precondition"==t.code?console.log("persistance failed"):"unimplemented"==t.code&&console.log("persistance not available")})}get colRef(){return(0,y.rJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((t,e)=>{(0,y.GG)(this.colRef).then(i=>{let s=this.setData2(i);t(s)}).catch(i=>{e(i.message)})})}getSingleDoc(t){const e=(0,y.H9)(this.db,this.collectionPath,t);return new Promise((i,s)=>(0,y.x7)(e).then(o=>{let a=this.transformSingleDoc(o);i(a)}).catch(o=>{s(o.message)}))}getSingleDocFromCache(t){var e=this;return(0,u.A)(function*(){const i=(0,y.H9)(e.db,e.collectionPath,t);try{const s=yield(0,y.nY)(i);console.log("Cached document data:",s.data())}catch(s){console.log("Error getting cached document:",s)}})()}getCollectionRealTime(t){return this.unsubscribe=(0,y.aQ)(this.colRef,e=>{t(this.setData2(e))})}getDocRealTime(t,e){const i=(0,y.H9)(this.db,this.collectionPath,t);return(0,y.aQ)(i,s=>{e(this.transformSingleDoc(s))})}g(){(0,y.aQ)(void 0,e=>{e.docChanges().forEach(i=>{"added"===i.type&&console.log("New city: ",i.doc.data()),"modified"===i.type&&console.log("Modified city: ",i.doc.data()),"removed"===i.type&&console.log("Removed city: ",i.doc.data())})})}addingDoc(t={}){return(0,y.gS)(this.colRef,{createdAt:(0,y.O5)(),updatedAt:(0,y.O5)(),...t})}deletingDoc(t){const e=(0,y.H9)(this.db,this.collectionPath,t);return(0,y.kd)(e)}updatingDoc(t,e){const i=(0,y.H9)(this.db,this.collectionPath,t);return(0,y.mZ)(i,{updatedAt:(0,y.O5)(),...e})}signUpWithEmailPass({email:t,password:e}){return function Ss(n,t,e){return Gt.apply(this,arguments)}(this.auth,t,e).then(i=>Promise.resolve(i.user)).catch(i=>Promise.reject(i.message))}signInWithEmailPass({email:t,password:e}){return function Fs(n,t,e){return function Ot(n,t){return wt.apply(this,arguments)}((0,_.Ku)(n),mi.credential(t,e))}(this.auth,t,e).then(i=>Promise.resolve(i.user)).catch(i=>Promise.reject(i.message))}onSignOut(){return Ri(this.auth).then(t=>Promise.resolve(t)).catch(t=>Promise.reject(t.message))}subscribingAuthChangedRealTime(t){return function $s(n,t,e,i){return(0,_.Ku)(n).onAuthStateChanged(t,e,i)}(this.auth,e=>{t(e)})}getPaginationData1(t={latestDoc:null,empty:!1,data:[]},e=5){return new Promise((i,s)=>{const o=(0,y.P)(this.colRef,(0,y.My)("createdAt"),(0,y.HM)(t.latestDoc||0),(0,y.AB)(e));(0,y.GG)(o).then(a=>{let l=this.setData2(a);t.latestDoc=a.docs[a.docs.length-1],t.data=[...t.data,...l],t.empty=a.empty,i(t)}).catch(a=>{s(a.message)})})}getPaginationData(t={latestDoc:null,empty:!1,data:[],size:0},e=5){var i=this;return(0,u.A)(function*(){if(!t.empty)try{const s=(0,y.P)(i.colRef,(0,y.My)("createdAt"),(0,y.HM)(t.latestDoc||0),(0,y.AB)(e)),o=yield(0,y.GG)(s);let a=i.setData2(o);return t.latestDoc=o.docs[o.docs.length-1],t.data=[...t.data,...a],t.empty=o.empty,t.size=o.size,t}catch(s){return s}})()}unsubscribeRealTime(){this.unsubscribe()}nextPage(t={latestDoc:null,empty:!1,data:[],size:0},e=5){var i=this;return(0,u.A)(function*(){const s=(0,y.P)(i.colRef,(0,y.My)("createdAt"),(0,y.HM)(t.latestDoc||0),(0,y.AB)(e));return yield i.handlePagination(s)})()}prePage(t={latestDoc:null,empty:!1,data:[],size:0},e=5){var i=this;return(0,u.A)(function*(){const s=(0,y.P)(i.colRef,(0,y.My)("createdAt"),(0,y.rf)(t.latestDoc||0),(0,y.AB)(e));return yield i.handlePagination(s,!1)})()}setData(t){return t.docs.map(e=>({id:e.id,...e.data()}))}setData2(t){let e=[];return t.docs.forEach(i=>{e.push({...i.data(),id:i.id})}),e}transformSingleDoc(t){return{...t.data(),id:t.id}}handlePagination(t,e=!0){var i=this;return(0,u.A)(function*(){try{const s=yield(0,y.GG)(t);let o=i.setData2(s);return{latestDoc:e?s.docs[s.docs.length-1]:s.docs[0],data:o,empty:s.empty,size:s.size}}catch(s){return s}})()}}var Me=p(5704),er=p(8232),Ie=p(3810);const Ua=()=>["Books","auth","pagination load more","pagination pre and next"],tr=()=>["name","author"];function ja(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e),r.XpG();const s=r.sdS(2),o=r.XpG();return r.Njj(o.createBook(s))}),r.EFF(1,"Create Book"),r.k0s()}}function Ga(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e),r.XpG();const s=r.sdS(2),o=r.XpG();return r.Njj(o.updateBook(s))}),r.EFF(1,"Update Book"),r.k0s()}}function Va(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"ang-modal",3,0),r.nrm(3,"ang-pretty-json-input",4),r.DNE(4,ja,2,0,"button",5)(5,Ga,2,0,"button",5),r.k0s(),r.nrm(6,"hr"),r.j41(7,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.sdS(2),o=r.XpG();return r.Njj(o.addBook(s))}),r.EFF(8,"Add"),r.k0s(),r.nrm(9,"hr")(10,"ng-table-view",7),r.j41(11,"ng-table-actions",8),r.bIt("onDelete",function(s){r.eBV(e);const o=r.XpG();return r.Njj(o.onDelete(s))})("onEdit",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onEdit(s,o))})("onView",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onView(s,o))}),r.k0s(),r.j41(12,"ng-table-inline-editing-one",9),r.bIt("onDelete",function(s){r.eBV(e);const o=r.XpG();return r.Njj(o.onDelete(s))})("onUpdate",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onEdit(s,o))}),r.k0s(),r.j41(13,"ng-table-inline-editing-two",10),r.bIt("onUpdate",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onEdit(s,o))}),r.k0s(),r.bVm()}if(2&n){const e=r.XpG();r.R7$(3),r.Y8G("data",e.bookForm),r.R7$(),r.Y8G("ngIf","add"===e.action),r.R7$(),r.Y8G("ngIf","edit"===e.action),r.R7$(5),r.Y8G("columns",e.cols1)("customHeads",e.customHeads1)("rows",e.books),r.R7$(),r.Y8G("columns",e.cols)("customHeads",e.customHeads)("rows",e.books),r.R7$(),r.Y8G("columns",e.cols)("customHeads",e.customHeads)("rows",e.books),r.R7$(),r.Y8G("columns",e.cols1)("customHeads",e.customHeads1)("rows",e.books)}}function $a(n,t){if(1&n){const e=r.RV6();r.j41(0,"form",12)(1,"label"),r.EFF(2,"Email "),r.j41(3,"em"),r.EFF(4,"(Required)"),r.k0s(),r.nrm(5,"input",13),r.k0s(),r.j41(6,"label"),r.EFF(7,"Password "),r.nrm(8,"input",14),r.k0s(),r.j41(9,"span")(10,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.signUp())}),r.EFF(11,"SignUp"),r.k0s(),r.j41(12,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.signIn())}),r.EFF(13,"SignIn"),r.k0s()()()}if(2&n){const e=r.XpG(2);r.Y8G("formGroup",e.singUpForm)}}function Ba(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"span"),r.EFF(2,"Login as : "),r.j41(3,"em"),r.EFF(4),r.k0s()(),r.j41(5,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.signOut())}),r.EFF(6,"SignOut"),r.k0s(),r.bVm()}if(2&n){const e=r.XpG(2);r.R7$(4),r.JRh(null==e.user?null:e.user.email)}}function Wa(n,t){if(1&n&&(r.qex(0),r.DNE(1,$a,14,1,"form",11)(2,Ba,7,1,"ng-container",2),r.bVm()),2&n){const e=r.XpG();r.R7$(),r.Y8G("ngIf",!e.user),r.R7$(),r.Y8G("ngIf",e.user)}}function Ha(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.loadMore())}),r.EFF(1,"load More"),r.k0s()}}function Ka(n,t){if(1&n&&(r.qex(0),r.nrm(1,"ng-table-view",15),r.DNE(2,Ha,2,0,"button",5),r.bVm()),2&n){const e=r.XpG();r.R7$(),r.Y8G("columns",r.lJ4(3,tr))("rows",e.loadMoreData.data),r.R7$(),r.Y8G("ngIf",!e.loadMoreData.empty)}}function za(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.pre())}),r.EFF(1,"pre"),r.k0s()}}function Ya(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.next())}),r.EFF(1,"Next"),r.k0s()}}function qa(n,t){if(1&n&&(r.qex(0),r.nrm(1,"ng-table-view",15),r.DNE(2,za,2,0,"button",5)(3,Ya,2,0,"button",5),r.bVm()),2&n){const e=r.XpG();r.R7$(),r.Y8G("columns",r.lJ4(4,tr))("rows",e.paginationData.data),r.R7$(),r.Y8G("ngIf",!e.paginationData.empty),r.R7$(),r.Y8G("ngIf",!e.paginationData.empty)}}let Xa=(()=>{class n extends La{constructor(e){super(),this.fb=e,this.bookForm={name:"",author:""},this.selectTab=1,this.books=[],this.cols=["","name","author"],this.customHeads=["Action","Book name","Book author"],this.cols1=["name","author"],this.customHeads1=["Book name","Book author"],this.action="add",this.paginationData={data:[],latestDoc:null,empty:!1,size:0},this.loadMoreData={data:[],latestDoc:null,empty:!1,size:0},this.collectionPath="books",this.singUpForm=this.fb.group({email:["",[v.k0.required,v.k0.email]],password:["",[v.k0.required]]})}ngOnInit(){this.getCollectionRealTime(e=>{this.books=e}),this.subscribingAuthChangedRealTime(e=>{this.user=e}),this.loadMore()}createBook(e){this.addingDoc(this.bookForm).then(()=>{e.close()})}updateBook(e){this.updatingDoc(this.docId,this.bookForm).then(()=>{this.docId=null,e.close()})}onView(e,i){this.action="view",this.getSingleDoc(e.id).then(s=>{this.bookForm=s,i.open()})}onDelete(e){this.action="delete",confirm("Are you sure to delete doc ?")&&this.deletingDoc(e.id).then()}onEdit(e,i){this.action="edit",this.getSingleDoc(e.id).then(s=>{let{name:o,author:a,id:l}=s;this.bookForm={name:o,author:a},this.docId=l,i.open()})}onSelectTab(e){this.selectTab=e}addBook(e){this.bookForm={name:"",author:""},this.action="add",e.open()}signUp(){this.singUpForm.valid&&this.signUpWithEmailPass(this.singUpForm.value).then(()=>{this.singUpForm.reset()})}signIn(){this.singUpForm.valid&&this.signInWithEmailPass(this.singUpForm.value).then(()=>{this.singUpForm.reset()})}signOut(){this.onSignOut().then()}loadMore(){this.getPaginationData(this.loadMoreData).then(e=>{this.loadMoreData=e})}next(){this.nextPage(this.paginationData).then(e=>{this.paginationData=e})}pre(){this.prePage(this.paginationData).then(e=>{this.paginationData=e})}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(v.ok))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firestore"]],standalone:!1,features:[r.Vt3],decls:5,vars:6,consts:[["pop",""],["color","red",3,"onClick","tabs"],[4,"ngIf"],["id","custom-modal-1","width","50vw"],["useCase","VALID_FORM",3,"data"],[3,"click",4,"ngIf"],[3,"click"],["table","striped",3,"columns","customHeads","rows"],["table","bordered",3,"onDelete","onEdit","onView","columns","customHeads","rows"],["table","bordered",3,"onDelete","onUpdate","columns","customHeads","rows"],["table","bordered",3,"onUpdate","columns","customHeads","rows"],["class","contact-form",3,"formGroup",4,"ngIf"],[1,"contact-form",3,"formGroup"],["formControlName","email","type","email"],["formControlName","password"],[3,"columns","rows"]],template:function(i,s){1&i&&(r.j41(0,"tg-tabs",1),r.bIt("onClick",function(a){return s.onSelectTab(a)}),r.k0s(),r.DNE(1,Va,14,15,"ng-container",2)(2,Wa,3,2,"ng-container",2)(3,Ka,3,4,"ng-container",2)(4,qa,4,5,"ng-container",2)),2&i&&(r.Y8G("tabs",r.lJ4(5,Ua)),r.R7$(),r.Y8G("ngIf",1===s.selectTab),r.R7$(),r.Y8G("ngIf",2===s.selectTab),r.R7$(),r.Y8G("ngIf",3===s.selectTab),r.R7$(),r.Y8G("ngIf",4===s.selectTab))},dependencies:[d.NgIf,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,Me.gX,Me.zf,er.OW,Ie.NU,Ie.jN,Ie.Pn,Ie.Lw],encapsulation:2})}}return n})(),Ja=(()=>{class n{constructor(){this.auth=Xi()}ngOnInit(){}signInAsEmail(){const e=new me;(function Co(n,t,e){return gn.apply(this,arguments)})(this.auth,e).then(i=>{const o=me.credentialFromResult(i).accessToken,a=i.user;let l=Ei(i);this.result={user:a,token:o,additionalInfo:l}}).catch(i=>{console.log(i),me.credentialFromError(i)})}getRedirectResult1(){(function Uo(n,t){return Pn.apply(this,arguments)})(this.auth).then(e=>{const s=me.credentialFromResult(e).accessToken,o=e.user;let a=Ei(e);this.result={user:o,token:s,additionalInfo:a},console.log(e)}).catch(e=>{me.credentialFromError(e)})}signout(){Ri(this.auth).then(()=>{}).catch(e=>{})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firebase-auth"]],standalone:!1,decls:8,vars:3,consts:[[3,"click"]],template:function(i,s){1&i&&(r.j41(0,"button",0),r.bIt("click",function(){return s.signInAsEmail()}),r.EFF(1,"signInAsEmail"),r.k0s(),r.j41(2,"button",0),r.bIt("click",function(){return s.getRedirectResult1()}),r.EFF(3,"getRedirectResult"),r.k0s(),r.j41(4,"button",0),r.bIt("click",function(){return s.signout()}),r.EFF(5,"signout"),r.k0s(),r.EFF(6),r.nI1(7,"json")),2&i&&(r.R7$(6),r.SpI(" ",r.bMT(7,1,s.result),"\n"))},dependencies:[d.JsonPipe],encapsulation:2})}}return n})(),Qa=(()=>{class n{constructor(e){this.fdb=e}ngOnInit(){this.fdb.getUsers().subscribe(console.log)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(Ma))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firebase-db"]],standalone:!1,decls:2,vars:0,template:function(i,s){1&i&&(r.j41(0,"p"),r.EFF(1,"firebase-db works!"),r.k0s())},encapsulation:2})}}return n})();function Za(n,t){if(1&n){const e=r.RV6();r.j41(0,"li"),r.EFF(1),r.j41(2,"a",5),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG(2);return r.Njj(o.deleteMessage(s))}),r.EFF(3,"Delete"),r.k0s()()}if(2&n){const e=t.$implicit;r.R7$(),r.SpI(" ",e.name," \u2014 ")}}function ec(n,t){if(1&n&&(r.j41(0,"ul"),r.DNE(1,Za,4,1,"li",4),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.Y8G("ngForOf",e.posts)}}let tc=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.posts=[],this.form={name:""}}ngOnInit(){this.abstractFirebaseDb.readRealtime$("posts").subscribe(e=>{this.posts=e})}addPost(){this.abstractFirebaseDb.create("posts",this.form)}deleteMessage(e){}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(T.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-realtime-db"]],standalone:!1,decls:6,vars:3,consts:[[4,"ngIf"],[3,"submit"],["type","text","name","message","autofocus","",3,"ngModelChange","ngModel"],["type","submit","value","Add Message"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(i,s){1&i&&(r.j41(0,"h2"),r.EFF(1),r.k0s(),r.DNE(2,ec,2,1,"ul",0),r.j41(3,"form",1),r.bIt("submit",function(){return s.addPost()}),r.j41(4,"input",2),r.mxI("ngModelChange",function(a){return r.DH7(s.form.name,a)||(s.form.name=a),a}),r.k0s(),r.nrm(5,"input",3),r.k0s()),2&i&&(r.R7$(),r.SpI(" You Have ",null==s.posts?null:s.posts.length," Message(s)!\n"),r.R7$(),r.Y8G("ngIf",s.posts.length),r.R7$(2),r.R50("ngModel",s.form.name))},dependencies:[d.NgForOf,d.NgIf,v.qT,v.me,v.BC,v.cb,v.vS,v.cV],encapsulation:2})}}return n})();var nc=p(4473),ic=p(7200),rc=p(9790),sc=p(306),oc=p(1024),ac=p(1979);const nr=(n,t)=>t.key,cc=n=>({$implicit:n}),ir=(n,t)=>({$implicit:n,parent:t});function lc(n,t){1&n&&(r.j41(0,"h1"),r.EFF(1),r.k0s()),2&n&&(r.R7$(),r.SpI(" ",t.length," "))}function uc(n,t){if(1&n&&(r.j41(0,"app-theme-semantic-badge",6),r.EFF(1),r.k0s()),2&n){const e=r.XpG().$implicit;r.R7$(),r.SpI(" ",e.status," ")}}function dc(n,t){if(1&n&&(r.j41(0,"app-theme-semantic-badge",5),r.EFF(1),r.k0s()),2&n){const e=r.XpG().$implicit;r.R7$(),r.SpI(" ",e.status," ")}}function hc(n,t){if(1&n&&(r.j41(0,"app-theme-semantic-badge",3),r.EFF(1),r.k0s()),2&n){const e=r.XpG().$implicit;r.R7$(),r.SpI(" ",e.status," ")}}function pc(n,t){if(1&n&&(r.qex(0),r.j41(1,"b"),r.EFF(2,"Last Active At"),r.k0s(),r.EFF(3),r.nI1(4,"date"),r.bVm()),2&n){const e=r.XpG().$implicit;r.R7$(3),r.SpI(" ",r.bMT(4,1,e.timestamp)," ")}}function fc(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",16),r.bIt("click",function(){r.eBV(e);const s=r.XpG().$implicit,o=r.XpG(2);return r.Njj(o.setOffline(null==s?null:s.key))}),r.EFF(1,"Offline"),r.k0s()}}function mc(n,t){if(1&n&&(r.j41(0,"tr")(1,"td"),r.EFF(2),r.k0s(),r.j41(3,"td"),r.DNE(4,uc,2,1,"app-theme-semantic-badge",11)(5,dc,2,1,"app-theme-semantic-badge",12)(6,hc,2,1,"app-theme-semantic-badge",13),r.k0s(),r.j41(7,"td"),r.DNE(8,pc,5,3,"ng-container",14),r.k0s(),r.j41(9,"td"),r.DNE(10,fc,2,0,"button",15),r.k0s()()),2&n){const e=t.$implicit;r.R7$(2),r.SpI(" ",e.key,""),r.R7$(2),r.Y8G("ngIf","offline"===e.status),r.R7$(),r.Y8G("ngIf","online"===e.status),r.R7$(),r.Y8G("ngIf","away"===e.status),r.R7$(2),r.Y8G("ngIf","offline"===e.status),r.R7$(2),r.Y8G("ngIf","offline"!==e.status)}}function _c(n,t){if(1&n&&(r.j41(0,"app-table-container",10)(1,"h2"),r.EFF(2,"Users"),r.k0s(),r.j41(3,"table")(4,"thead")(5,"tr")(6,"th"),r.EFF(7,"Id"),r.k0s(),r.j41(8,"th"),r.EFF(9,"Status"),r.k0s(),r.j41(10,"th"),r.EFF(11,"Date"),r.k0s(),r.j41(12,"th"),r.EFF(13,"Action"),r.k0s()()(),r.j41(14,"tbody"),r.Z7z(15,mc,11,6,"tr",null,nr),r.k0s()()()),2&n){const e=t.ngIf;r.R7$(15),r.Dyx(e)}}function gc(n,t){1&n&&r.eu8(0)}function vc(n,t){if(1&n&&(r.j41(0,"tr")(1,"td",17)(2,"strong"),r.EFF(3),r.nI1(4,"uppercase"),r.k0s()()(),r.DNE(5,gc,1,0,"ng-container",18)),2&n){const e=t.$implicit;r.XpG();const i=r.sdS(44);r.R7$(3),r.JRh(r.bMT(4,3,e.key)),r.R7$(2),r.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",r.eq3(5,cc,e))}}function Ic(n,t){if(1&n&&(r.j41(0,"tr")(1,"td"),r.EFF(2),r.k0s(),r.j41(3,"td")(4,"b"),r.EFF(5),r.k0s()()()),2&n){const e=r.XpG(2),i=e.parent,s=e.$implicit;r.R7$(2),r.E5c(" ",i," ",i?"/":""," ",s.key," "),r.R7$(3),r.JRh(s.value.counter)}}function yc(n,t){1&n&&r.eu8(0)}function bc(n,t){if(1&n&&(r.qex(0),r.DNE(1,Ic,6,4,"tr",14)(2,yc,1,0,"ng-container",18),r.bVm()),2&n){const e=r.XpG(),i=e.parent,s=e.$implicit;r.XpG();const o=r.sdS(46);r.R7$(),r.Y8G("ngIf",s.value.counter),r.R7$(),r.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",r.l_i(3,ir,s,i?i+" / "+s.key:s.key))}}function Tc(n,t){1&n&&r.DNE(0,bc,3,6,"ng-container",14),2&n&&r.Y8G("ngIf","counter"!==t.$implicit.key)}function kc(n,t){1&n&&r.eu8(0)}function Ac(n,t){if(1&n&&(r.qex(0),r.DNE(1,kc,1,0,"ng-container",18),r.bVm()),2&n){const e=t.$implicit,i=r.XpG().parent;r.XpG();const s=r.sdS(44);r.R7$(),r.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",r.l_i(2,ir,e,i))}}function Ec(n,t){1&n&&(r.DNE(0,Ac,2,5,"ng-container",19),r.nI1(1,"keyvalue")),2&n&&r.Y8G("ngForOf",r.bMT(1,1,t.$implicit.value))}let Rc=(()=>{class n{constructor(e,i){this.presenceService=e,this.activitiesService=i,this.counts$=this.presenceService.getUserOnlineCounts$,this.totalUsers$=this.presenceService.getUsers$("desc"),this.flattenObject1=s=>{const o={};return Object.keys(s).forEach(a=>{const l=s[a];"object"!=typeof l||null===l||Array.isArray(l)?o[a]=l:Object.assign(o,this.flattenObject1(l))}),o},this.flattenObject=s=>{let o={};for(const a in s)if(s.hasOwnProperty(a))if("object"!=typeof s[a]||Array.isArray(s[a]))o[a]=s[a];else{const l=this.flattenObject(s[a]);for(const f in l)o[a+"_"+f]=l[f]}return o}}setOffline(e){this.presenceService.setPresence(e,"offline")}ngOnInit(){var e=this;this.activitiesService.getServer$().subscribe(i=>{this.serverActivities=i}),this.activitiesService.getError$().subscribe(i=>{console.log("logging-activities",i)}),this.activitiesService.getRouter$().subscribe(function(){var i=(0,u.A)(function*(s){e.routerActivities=s,e.routerActivitiesCount=Object.keys(e.routerActivities).length});return function(s){return i.apply(this,arguments)}}())}d(e){let i={};for(let s in e)if(e.hasOwnProperty(s)){const o=typeof e[s];"string"===o?i[s]=e[s]:"object"===o&&this.d(e[s])}}logOutAllUsers(){confirm("Are u Sure ?")&&this.presenceService.logOutAllUsers()}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(R.BF),r.rXU(nc.B))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["fb-activities"]],standalone:!1,decls:47,vars:14,consts:[["rows",""],["inner",""],["appGrid",""],["color","info"],["color","warning"],["color","success"],["color","danger"],["app-theme-semantic-button","","color","info",3,"click"],["appGrid","",3,"cols"],["height","500px",4,"ngIf"],["height","500px"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["color","info",4,"ngIf"],[4,"ngIf"],["app-theme-semantic-button","","color","danger",3,"click",4,"ngIf"],["app-theme-semantic-button","","color","danger",3,"click"],["colspan","2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"section",2)(1,"app-theme-semantic-card",3)(2,"h1"),r.EFF(3),r.nI1(4,"async"),r.k0s(),r.j41(5,"p"),r.EFF(6,"Online Users"),r.k0s()(),r.j41(7,"app-theme-semantic-card",4),r.DNE(8,lc,2,1,"h1"),r.nI1(9,"async"),r.j41(10,"p"),r.EFF(11,"Total Users"),r.k0s()(),r.j41(12,"app-theme-semantic-card",5)(13,"h1"),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Server Requests"),r.k0s()(),r.j41(17,"app-theme-semantic-card",6)(18,"h1"),r.EFF(19),r.k0s(),r.j41(20,"p"),r.EFF(21,"Pages Views"),r.k0s()()(),r.j41(22,"section")(23,"app-theme-semantic-card",6)(24,"button",7),r.bIt("click",function(){return r.eBV(o),r.Njj(s.logOutAllUsers())}),r.EFF(25,"Logout All Users"),r.k0s()()(),r.j41(26,"section",8),r.DNE(27,_c,17,0,"app-table-container",9),r.nI1(28,"async"),r.j41(29,"app-table-container",10)(30,"h2"),r.EFF(31,"Modules"),r.k0s(),r.j41(32,"table")(33,"thead")(34,"tr")(35,"th"),r.EFF(36,"Modules"),r.k0s(),r.j41(37,"th"),r.EFF(38,"Views"),r.k0s()()(),r.j41(39,"tbody"),r.Z7z(40,vc,6,7,null,null,nr),r.nI1(42,"keyvalue"),r.k0s()()()(),r.DNE(43,Tc,1,1,"ng-template",null,0,r.C5r)(45,Ec,2,3,"ng-template",null,1,r.C5r)}if(2&i){let o;r.R7$(3),r.SpI(" ",r.bMT(4,6,s.counts$)," "),r.R7$(5),r.vxM((o=r.bMT(9,8,s.totalUsers$))?8:-1,o),r.R7$(6),r.JRh(null==s.serverActivities?null:s.serverActivities.counter),r.R7$(5),r.JRh(s.routerActivitiesCount),r.R7$(7),r.Y8G("cols",1),r.R7$(),r.Y8G("ngIf",r.bMT(28,10,s.totalUsers$)),r.R7$(13),r.Dyx(r.bMT(42,12,s.routerActivities))}},dependencies:[d.NgForOf,d.NgIf,d.NgTemplateOutlet,ic.i,rc.r,sc.F,oc.g,ac.d,d.AsyncPipe,d.UpperCasePipe,d.DatePipe,d.KeyValuePipe],encapsulation:2})}}return n})();var Pc=p(9781),Oc=p(4917),wc=p(9991),xn=p(3853),Cc=p(4567);const Sc=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firebase"]],standalone:!1,decls:23,vars:1,consts:[["theme","magenta",3,"defaultTheme"],["routerLink","realtime-presence"],["routerLink","realtime-presence","label","realtime presence"],["routerLink","counter","label","counter"],["routerLink","db-http","label","db http"],["routerLink","follow-system","label","follow system"],["routerLink","db","label","db"],["routerLink","db-http-2","label","db http 2"],["routerLink","task","label","task"],["routerLink","toast-notifications","label","toast-notifications"],["routerLink","voting","label","voting"],["routerLink","activities","label","activities"],["routerLink","employees","label","employees"],["routerLink","firestore","label","firestore"],["routerLink","auth","label","auth"]],template:function(i,s){1&i&&(r.j41(0,"ng-presentation",0)(1,"ng-header")(2,"h3"),r.EFF(3,"Bookmark"),r.k0s(),r.j41(4,"ng-nav-list")(5,"ng-nav-link",1),r.EFF(6,"realtime-presence"),r.k0s()()(),r.j41(7,"ng-sidenav"),r.nrm(8,"ng-sidenav-link",2)(9,"ng-sidenav-link",3)(10,"ng-sidenav-link",4)(11,"ng-sidenav-link",5)(12,"ng-sidenav-link",6)(13,"ng-sidenav-link",7)(14,"ng-sidenav-link",8)(15,"ng-sidenav-link",9)(16,"ng-sidenav-link",10)(17,"ng-sidenav-link",11)(18,"ng-sidenav-link",12)(19,"ng-sidenav-link",13)(20,"ng-sidenav-link",14),r.k0s(),r.j41(21,"ng-main"),r.nrm(22,"router-outlet"),r.k0s()()),2&i&&r.Y8G("defaultTheme",!1)},dependencies:[A.n3,A.Wk,Pc.I,Oc.e,wc.D,xn.K9,xn.lD,xn.xN,Cc.x],encapsulation:2})}}return n})(),children:[{path:"",redirectTo:"realtime-presence",pathMatch:"full"},{path:"realtime-presence",component:c},{path:"counter",component:Sr},{path:"db-http",component:Qa},{path:"follow-system",component:Cr},{path:"db",component:tc},{path:"db-http-2",component:xr},{path:"task",component:gr},{path:"toast-notifications",component:Tr},{path:"voting",component:F},{path:"activities",component:Rc},{path:"employees",loadChildren:()=>p.e(8262).then(p.bind(p,8262)).then(n=>n.EmployeesModule)},{path:"firestore",component:Xa},{path:"auth",component:Ja}]}];let Fc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=r.$C({type:n})}static{this.\u0275inj=r.G2t({imports:[A.iI.forChild(Sc),A.iI]})}}return n})();var Dc=p(1240),Nc=p(2080);let xc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=r.$C({type:n})}static{this.\u0275inj=r.G2t({imports:[d.CommonModule,v.YN,v.X1,Fc,Me.pA,Me.Q_,er.jr,Ie.oJ,Dc.d,Nc.O]})}}return n})()}}]);