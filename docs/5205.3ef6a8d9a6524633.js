"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[5205],{2743:(M,b,c)=>{c.d(b,{A:()=>L});var o=c(467),p=c(4438),v=c(4668),P=c(7673),y=c(4572),C=c(8810),D=c(9437),S=c(8141),d=c(6354);function I(a){return new Date(a).toISOString().split("T")[0]}var O=c(9972);let T=(()=>{class a{constructor(){this.methodCallCount={}}trackMethodCall(t){this.methodCallCount[t]||(this.methodCallCount[t]=0),this.methodCallCount[t]++,console.log(`${t} called ${this.methodCallCount[t]} times`)}getMethodCallCount(t){return this.methodCallCount[t]||0}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275prov=p.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var m=function(a){return a.CATEGORY="categories_wise",a.STATUS="status_wise",a.DATE="date_wise",a}(m||{});let L=(()=>{class a{constructor(t,e){this.firebaseRealtimeDatabaseService=t,this.trackingService=e,this.basePath="topics-db",this.postEndpoint="posts",this.categoryEndpoint="categories",this.sprintEndpoint="sprints",this.checklistEndpoint="checklist",this.totalPosts=(0,p.vPA)(0),this.posts$=this.fetchPosts().pipe((0,v.t)(1)),this.categories$=this.fetchCategories().pipe((0,v.t)(1)),this.safePosts$=this.posts$.pipe((0,D.W)(s=>(this.handleError(s),(0,P.of)([])))),this.postsWithCategory$=(0,y.z)([this.posts$,this.categories$]).pipe((0,S.M)(([s])=>this.totalPosts.set(s.length)),(0,d.T)(([s,r])=>this.attachCategoryNames(s,r))),this.groupedCategories$=(0,y.z)([this.categories$,this.posts$]).pipe((0,d.T)(([s,r])=>s.reduce((n,l)=>{const g=r.filter(k=>k.categoryId===l.key);return(g.length?n.withPosts:n.withoutPosts).push({...l,posts:g}),n},{withPosts:[],withoutPosts:[]})))}fetchPosts(){return this.firebaseRealtimeDatabaseService.readRealtime$(`${this.basePath}/${this.postEndpoint}`)}fetchCategories(){return this.firebaseRealtimeDatabaseService.readRealtime$(`${this.basePath}/${this.categoryEndpoint}`)}attachCategoryNames(t,e){return t.map(s=>({...s,categoryName:e.find(r=>r.key===s.categoryId)?.title||"Uncategorized"}))}createPost(t){return this.firebaseRealtimeDatabaseService.create(`${this.basePath}/${this.postEndpoint}`,t)}updatePost(t,e){return this.firebaseRealtimeDatabaseService.update(`${this.basePath}/${this.postEndpoint}/${t}`,e)}removePost(t){return this.firebaseRealtimeDatabaseService.remove(`${this.basePath}/${this.postEndpoint}/${t}`)}removeMultiplePosts(t){var e=this;return(0,o.A)(function*(){const s=t.map(r=>e.removePost(r));yield Promise.all(s)})()}getPost(t){return this.firebaseRealtimeDatabaseService.readRealtimeOriginal$(`${this.basePath}/${this.postEndpoint}/${t}`)}getCategoriesWisePosts(){return this.postsWithCategory$.pipe((0,d.T)(t=>this.manageData(m.CATEGORY,t)))}createCategory(t){return this.firebaseRealtimeDatabaseService.create(`${this.basePath}/${this.categoryEndpoint}`,t)}removeCategory(t){return this.firebaseRealtimeDatabaseService.remove(`${this.basePath}/${this.categoryEndpoint}/${t}`)}getCategories(){return this.categories$}getCategory(t){return this.firebaseRealtimeDatabaseService.readRealtimeOriginal$(`${this.basePath}/${this.categoryEndpoint}/${t}`)}getPostsByCategoryId(t){return this.postsWithCategory$.pipe((0,d.T)(e=>e.filter(s=>s.categoryId===t)))}getPostsBySprintId(t){return this.postsWithCategory$.pipe((0,d.T)(e=>e.filter(s=>s.sprintId===t)))}filterPosts(t,e,s="All",r="createdAt",n="desc",l="",g=null){return this.postsWithCategory$.pipe((0,d.T)(u=>function B(a,i,t,e,s,r,n,l){const g=t.toLowerCase().trim();return function R(a,i,t="asc"){return[...a].sort((e,s)=>{const r=e[i],n=s[i],l=r<n?-1:r>n?1:0;return"asc"===t?l:-l})}(a,s,r).filter(u=>{const k=!i||u.categoryId===i,w=u.title?.toLowerCase().includes(g)||u.body?.toLowerCase().includes(g);return k&&w&&("All"===e||u.status===e)&&(!n||u.sprintId===n)&&(null===l||u.bookmark===l)})}(u,t,e,s,r,n,l,g)))}matchesSearch(t,e){const s=t.title?.toLowerCase().includes(e),r=t.body?.toLowerCase().includes(e);return!(!s&&!r)}handleError(t){return console.error("Error occurred:",t),(0,C.$)(()=>new Error("Unknown error occurred. Please try again later."))}manageData(t,e){let s,r;switch(t){case m.CATEGORY:s=n=>n.categoryId,r=n=>n.categoryName;break;case m.STATUS:s=n=>n.status,r=n=>n.status;break;case m.DATE:s=n=>I(n.updatedAt),r=n=>I(n.updatedAt);break;default:return[]}return function E(a,i,t){const e={};for(const s of a){const r=i(s),n=t(s);e[r]||(e[r]={key:r,title:n,data:[]}),e[r].data.push(s)}return Object.values(e)}(e,s,r)}createSprint(t){return this.firebaseRealtimeDatabaseService.create(`${this.basePath}/${this.sprintEndpoint}`,t)}getSprints(){return this.firebaseRealtimeDatabaseService.readRealtime$(`${this.basePath}/${this.sprintEndpoint}`)}getSprint(t){return this.firebaseRealtimeDatabaseService.readRealtimeOriginal$(`${this.basePath}/${this.sprintEndpoint}/${t}`)}updateSprint(t,e){return this.firebaseRealtimeDatabaseService.update(`${this.basePath}/${this.sprintEndpoint}/${t}`,e)}moveLists(t,e,s=!1){return(0,o.A)(function*(){})()}createChecklist(t){return this.firebaseRealtimeDatabaseService.create(`${this.basePath}/${this.checklistEndpoint}`,t)}updateChecklist(t,e){return this.firebaseRealtimeDatabaseService.update(`${this.basePath}/${this.checklistEndpoint}/${t}`,e)}getChecklist(){return this.firebaseRealtimeDatabaseService.readRealtime$(`${this.basePath}/${this.checklistEndpoint}`)}getChecklistByCategoryId(t){return this.firebaseRealtimeDatabaseService.readRealtimeWhere$(`${this.basePath}/${this.checklistEndpoint}`,{categoryId:t})}getChecklistById(t){return this.firebaseRealtimeDatabaseService.readRealtimeOriginal$(`${this.basePath}/${this.checklistEndpoint}/${t}`)}getChecklistItemsById(t){return this.firebaseRealtimeDatabaseService.readRealtime$(`${this.basePath}/${this.checklistEndpoint}/${t}/items`)}updateTitle(t,e){return this.firebaseRealtimeDatabaseService.update(`${this.basePath}/${this.checklistEndpoint}/${t}`,{title:e})}addItem(t,e,s=!1){return this.firebaseRealtimeDatabaseService.create(`${this.basePath}/${this.checklistEndpoint}/${t}/items`,{name:e,completed:s})}toggleItem(t,e,s){return this.firebaseRealtimeDatabaseService.update(`${this.basePath}/${this.checklistEndpoint}/${t}/items/${e}`,{completed:s})}renameItem(t,e,s){return this.firebaseRealtimeDatabaseService.update(`${this.basePath}/${this.checklistEndpoint}/${t}/items/${e}`,{name:s})}removeItem(t,e){return this.firebaseRealtimeDatabaseService.remove(`${this.basePath}/${this.checklistEndpoint}/${t}/items/${e}`)}createCheckListWithOrginalKey(t,e){var s=this;return(0,o.A)(function*(){yield s.firebaseRealtimeDatabaseService.set(`${s.basePath}/${s.checklistEndpoint}/${t}`,e)})()}addItemWithKey(t,e,s){return this.firebaseRealtimeDatabaseService.set(`${this.basePath}/${this.checklistEndpoint}/${t}/items/${e}`,{name:s.name,completed:s.completed})}checkIfExists(t){return this.firebaseRealtimeDatabaseService.readOnceOriginal(`${this.basePath}/${this.checklistEndpoint}/${t}`)}static{this.\u0275fac=function(e){return new(e||a)(p.KVO(O.h),p.KVO(T))}}static{this.\u0275prov=p.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},5205:(M,b,c)=>{c.r(b),c.d(b,{SprintsNavigationsComponent:()=>E});var o=c(4438),p=c(2743),v=c(2557),P=c(8326),y=c(8701),C=c(177);const D=()=>["sprints","create"],S=h=>["sprints","profile",h];function d(h,R){if(1&h&&o.nrm(0,"ng-sidenav-link",1),2&h){const f=R.$implicit;o.FS9("label",f.title),o.Y8G("routerLink",o.eq3(2,S,f.key))}}let E=(()=>{class h{constructor(){this.jsonDataService=(0,o.WQX)(p.A),this.collections$=this.jsonDataService.getSprints()}static{this.\u0275fac=function($){return new($||h)}}static{this.\u0275cmp=o.VBU({type:h,selectors:[["app-sprints-navigations"]],standalone:!1,decls:9,vars:4,consts:[[3,"routerLink"],[3,"routerLink","label"]],template:function($,A){1&$&&(o.j41(0,"h1"),o.EFF(1,"Sprints"),o.k0s(),o.j41(2,"ng-sidenav")(3,"ng-sidenav-link",0),o.EFF(4," Create "),o.k0s(),o.nrm(5,"hr"),o.Z7z(6,d,1,4,"ng-sidenav-link",1,o.Vm6),o.nI1(8,"async"),o.k0s()),2&$&&(o.R7$(3),o.Y8G("routerLink",o.lJ4(3,D)),o.R7$(3),o.Dyx(o.bMT(8,1,A.collections$)))},dependencies:[v.Wk,P.D,y.$,C.AsyncPipe],encapsulation:2})}}return h})()}}]);