"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8792],{1076:(St,Re,w)=>{w.d(Re,{$L:()=>At,$g:()=>$n,A4:()=>ne,Am:()=>Qt,As:()=>pn,Cv:()=>ht,FA:()=>pt,Fy:()=>nn,Hk:()=>ce,I9:()=>Zr,Im:()=>ir,K3:()=>ie,KA:()=>te,Ku:()=>zi,OE:()=>Mn,T9:()=>qt,Tj:()=>vt,Uj:()=>Y,XA:()=>lt,ZQ:()=>Bt,bD:()=>Vr,cY:()=>qe,dI:()=>Oi,eX:()=>bi,g:()=>$e,gR:()=>Bn,gz:()=>sr,hp:()=>ei,jZ:()=>Ze,kH:()=>vr,kj:()=>Us,lT:()=>on,lV:()=>Nt,nr:()=>br,qc:()=>Mt,sr:()=>wn,tD:()=>zr,u:()=>fe,vA:()=>D,yU:()=>wt,yw:()=>In,zW:()=>Nr});const p={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},D=function(De,Oe){if(!De)throw ce(Oe)},ce=function(De){return new Error("Firebase Database ("+p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+De)},H=function(De){const Oe=[];let de=0;for(let be=0;be<De.length;be++){let re=De.charCodeAt(be);re<128?Oe[de++]=re:re<2048?(Oe[de++]=re>>6|192,Oe[de++]=63&re|128):55296==(64512&re)&&be+1<De.length&&56320==(64512&De.charCodeAt(be+1))?(re=65536+((1023&re)<<10)+(1023&De.charCodeAt(++be)),Oe[de++]=re>>18|240,Oe[de++]=re>>12&63|128,Oe[de++]=re>>6&63|128,Oe[de++]=63&re|128):(Oe[de++]=re>>12|224,Oe[de++]=re>>6&63|128,Oe[de++]=63&re|128)}return Oe},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,Oe){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=Oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let re=0;re<De.length;re+=3){const Ae=De[re],Ke=re+1<De.length,Vt=Ke?De[re+1]:0,Rn=re+2<De.length,Tn=Rn?De[re+2]:0;let Jr=(15&Vt)<<2|Tn>>6,ti=63&Tn;Rn||(ti=64,Ke||(Jr=64)),be.push(de[Ae>>2],de[(3&Ae)<<4|Vt>>4],de[Jr],de[ti])}return be.join("")},encodeString(De,Oe){return this.HAS_NATIVE_SUPPORT&&!Oe?btoa(De):this.encodeByteArray(H(De),Oe)},decodeString(De,Oe){return this.HAS_NATIVE_SUPPORT&&!Oe?atob(De):function(De){const Oe=[];let de=0,be=0;for(;de<De.length;){const re=De[de++];if(re<128)Oe[be++]=String.fromCharCode(re);else if(re>191&&re<224){const Ae=De[de++];Oe[be++]=String.fromCharCode((31&re)<<6|63&Ae)}else if(re>239&&re<365){const Rn=((7&re)<<18|(63&De[de++])<<12|(63&De[de++])<<6|63&De[de++])-65536;Oe[be++]=String.fromCharCode(55296+(Rn>>10)),Oe[be++]=String.fromCharCode(56320+(1023&Rn))}else{const Ae=De[de++],Ke=De[de++];Oe[be++]=String.fromCharCode((15&re)<<12|(63&Ae)<<6|63&Ke)}}return Oe.join("")}(this.decodeStringToByteArray(De,Oe))},decodeStringToByteArray(De,Oe){this.init_();const de=Oe?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let re=0;re<De.length;){const Ae=de[De.charAt(re++)],Vt=re<De.length?de[De.charAt(re)]:0;++re;const Tn=re<De.length?de[De.charAt(re)]:64;++re;const Cn=re<De.length?de[De.charAt(re)]:64;if(++re,null==Ae||null==Vt||null==Tn||null==Cn)throw Error();be.push(Ae<<2|Vt>>4),64!==Tn&&(be.push(Vt<<4&240|Tn>>2),64!==Cn&&be.push(Tn<<6&192|Cn))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},te=function(De){const Oe=H(De);return ie.encodeByteArray(Oe,!0)},Y=function(De){return te(De).replace(/\./g,"")},fe=function(De){try{return ie.decodeString(De,!0)}catch(Oe){console.error("base64Decode failed: ",Oe)}return null};function ne(De){return le(void 0,De)}function le(De,Oe){if(!(Oe instanceof Object))return Oe;switch(Oe.constructor){case Date:return new Date(Oe.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return Oe}for(const de in Oe)!Oe.hasOwnProperty(de)||!Te(de)||(De[de]=le(De[de],Oe[de]));return De}function Te(De){return"__proto__"!==De}const bt=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Oe=De&&fe(De[1]);return Oe&&JSON.parse(Oe)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},vt=De=>{var Oe,de;return null===(de=null===(Oe=bt())||void 0===Oe?void 0:Oe.emulatorHosts)||void 0===de?void 0:de[De]},wt=De=>{const Oe=vt(De);if(!Oe)return;const de=Oe.lastIndexOf(":");if(de<=0||de+1===Oe.length)throw new Error(`Invalid host ${Oe} with no separate hostname and port!`);const be=parseInt(Oe.substring(de+1),10);return"["===Oe[0]?[Oe.substring(1,de-1),be]:[Oe.substring(0,de),be]},qt=()=>{var De;return null===(De=bt())||void 0===De?void 0:De.config},lt=De=>{var Oe;return null===(Oe=bt())||void 0===Oe?void 0:Oe[`_${De}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Oe,de)=>{this.resolve=Oe,this.reject=de})}wrapCallback(Oe){return(de,be)=>{de?this.reject(de):this.resolve(be),"function"==typeof Oe&&(this.promise.catch(()=>{}),1===Oe.length?Oe(de):Oe(de,be))}}}function nn(De,Oe){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=Oe||"demo-project",re=De.iat||0,Ae=De.sub||De.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:re,exp:re+3600,auth_time:re,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},De);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(Ke)),""].join(".")}function Bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function wn(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function on(){const De=Bt();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function $n(){return!0===p.NODE_CLIENT||!0===p.NODE_ADMIN}function br(){return!function Gt(){var De;const Oe=null===(De=bt())||void 0===De?void 0:De.forceEnvironment;if("node"===Oe)return!0;if("browser"===Oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nr(){try{return"object"==typeof indexedDB}catch{return!1}}function bi(){return new Promise((De,Oe)=>{try{let de=!0;const be="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(be);re.onsuccess=()=>{re.result.close(),de||self.indexedDB.deleteDatabase(be),De(!0)},re.onupgradeneeded=()=>{de=!1},re.onerror=()=>{var Ae;Oe((null===(Ae=re.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(de){Oe(de)}})}class $e extends Error{constructor(Oe,de,be){super(de),this.code=Oe,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pt.prototype.create)}}class pt{constructor(Oe,de,be){this.service=Oe,this.serviceName=de,this.errors=be}create(Oe,...de){const be=de[0]||{},re=`${this.service}/${Oe}`,Ae=this.errors[Oe],Ke=Ae?function _t(De,Oe){return De.replace(It,(de,be)=>{const re=Oe[be];return null!=re?String(re):`<${be}?>`})}(Ae,be):"Error";return new $e(re,`${this.serviceName}: ${Ke} (${re}).`,be)}}const It=/\{\$([^}]+)}/g;function At(De){return JSON.parse(De)}function pn(De){return JSON.stringify(De)}const mt=function(De){let Oe={},de={},be={},re="";try{const Ae=De.split(".");Oe=At(fe(Ae[0])||""),de=At(fe(Ae[1])||""),re=Ae[2],be=de.d||{},delete de.d}catch{}return{header:Oe,claims:de,data:be,signature:re}},ht=function(De){const de=mt(De).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Mt=function(De){const Oe=mt(De).claims;return"object"==typeof Oe&&!0===Oe.admin};function Bn(De,Oe){return Object.prototype.hasOwnProperty.call(De,Oe)}function In(De,Oe){if(Object.prototype.hasOwnProperty.call(De,Oe))return De[Oe]}function ir(De){for(const Oe in De)if(Object.prototype.hasOwnProperty.call(De,Oe))return!1;return!0}function vr(De,Oe,de){const be={};for(const re in De)Object.prototype.hasOwnProperty.call(De,re)&&(be[re]=Oe.call(de,De[re],re,De));return be}function Vr(De,Oe){if(De===Oe)return!0;const de=Object.keys(De),be=Object.keys(Oe);for(const re of de){if(!be.includes(re))return!1;const Ae=De[re],Ke=Oe[re];if(Ai(Ae)&&Ai(Ke)){if(!Vr(Ae,Ke))return!1}else if(Ae!==Ke)return!1}for(const re of be)if(!de.includes(re))return!1;return!0}function Ai(De){return null!==De&&"object"==typeof De}function Qt(De){const Oe=[];for(const[de,be]of Object.entries(De))Array.isArray(be)?be.forEach(re=>{Oe.push(encodeURIComponent(de)+"="+encodeURIComponent(re))}):Oe.push(encodeURIComponent(de)+"="+encodeURIComponent(be));return Oe.length?"&"+Oe.join("&"):""}function Zr(De){const Oe={};return De.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[re,Ae]=be.split("=");Oe[decodeURIComponent(re)]=decodeURIComponent(Ae)}}),Oe}function ei(De){const Oe=De.indexOf("?");if(!Oe)return"";const de=De.indexOf("#",Oe);return De.substring(Oe,de>0?de:void 0)}class sr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Oe=1;Oe<this.blockSize;++Oe)this.pad_[Oe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Oe,de){de||(de=0);const be=this.W_;if("string"==typeof Oe)for(let Cn=0;Cn<16;Cn++)be[Cn]=Oe.charCodeAt(de)<<24|Oe.charCodeAt(de+1)<<16|Oe.charCodeAt(de+2)<<8|Oe.charCodeAt(de+3),de+=4;else for(let Cn=0;Cn<16;Cn++)be[Cn]=Oe[de]<<24|Oe[de+1]<<16|Oe[de+2]<<8|Oe[de+3],de+=4;for(let Cn=16;Cn<80;Cn++){const Jr=be[Cn-3]^be[Cn-8]^be[Cn-14]^be[Cn-16];be[Cn]=4294967295&(Jr<<1|Jr>>>31)}let Tn,ar,re=this.chain_[0],Ae=this.chain_[1],Ke=this.chain_[2],Vt=this.chain_[3],Rn=this.chain_[4];for(let Cn=0;Cn<80;Cn++){Cn<40?Cn<20?(Tn=Vt^Ae&(Ke^Vt),ar=1518500249):(Tn=Ae^Ke^Vt,ar=1859775393):Cn<60?(Tn=Ae&Ke|Vt&(Ae|Ke),ar=2400959708):(Tn=Ae^Ke^Vt,ar=3395469782);const Jr=(re<<5|re>>>27)+Tn+Rn+ar+be[Cn]&4294967295;Rn=Vt,Vt=Ke,Ke=4294967295&(Ae<<30|Ae>>>2),Ae=re,re=Jr}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+Ae&4294967295,this.chain_[2]=this.chain_[2]+Ke&4294967295,this.chain_[3]=this.chain_[3]+Vt&4294967295,this.chain_[4]=this.chain_[4]+Rn&4294967295}update(Oe,de){if(null==Oe)return;void 0===de&&(de=Oe.length);const be=de-this.blockSize;let re=0;const Ae=this.buf_;let Ke=this.inbuf_;for(;re<de;){if(0===Ke)for(;re<=be;)this.compress_(Oe,re),re+=this.blockSize;if("string"==typeof Oe){for(;re<de;)if(Ae[Ke]=Oe.charCodeAt(re),++Ke,++re,Ke===this.blockSize){this.compress_(Ae),Ke=0;break}}else for(;re<de;)if(Ae[Ke]=Oe[re],++Ke,++re,Ke===this.blockSize){this.compress_(Ae),Ke=0;break}}this.inbuf_=Ke,this.total_+=de}digest(){const Oe=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&de,de/=256;this.compress_(this.buf_);let be=0;for(let re=0;re<5;re++)for(let Ae=24;Ae>=0;Ae-=8)Oe[be]=this.chain_[re]>>Ae&255,++be;return Oe}}function zr(De,Oe){const de=new Hn(De,Oe);return de.subscribe.bind(de)}class Hn{constructor(Oe,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{Oe(this)}).catch(be=>{this.error(be)})}next(Oe){this.forEachObserver(de=>{de.next(Oe)})}error(Oe){this.forEachObserver(de=>{de.error(Oe)}),this.close(Oe)}complete(){this.forEachObserver(Oe=>{Oe.complete()}),this.close()}subscribe(Oe,de,be){let re;if(void 0===Oe&&void 0===de&&void 0===be)throw new Error("Missing Observer.");re=function Ki(De,Oe){if("object"!=typeof De||null===De)return!1;for(const de of Oe)if(de in De&&"function"==typeof De[de])return!0;return!1}(Oe,["next","error","complete"])?Oe:{next:Oe,error:de,complete:be},void 0===re.next&&(re.next=Er),void 0===re.error&&(re.error=Er),void 0===re.complete&&(re.complete=Er);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Ae}unsubscribeOne(Oe){void 0===this.observers||void 0===this.observers[Oe]||(delete this.observers[Oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Oe){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,Oe)}sendOne(Oe,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Oe])try{de(this.observers[Oe])}catch(be){typeof console<"u"&&console.error&&console.error(be)}})}close(Oe){this.finalized||(this.finalized=!0,void 0!==Oe&&(this.finalError=Oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}function Oi(De,Oe){return`${De} failed: ${Oe} argument `}const Us=function(De){const Oe=[];let de=0;for(let be=0;be<De.length;be++){let re=De.charCodeAt(be);if(re>=55296&&re<=56319){const Ae=re-55296;be++,D(be<De.length,"Surrogate pair missing trail surrogate."),re=65536+(Ae<<10)+(De.charCodeAt(be)-56320)}re<128?Oe[de++]=re:re<2048?(Oe[de++]=re>>6|192,Oe[de++]=63&re|128):re<65536?(Oe[de++]=re>>12|224,Oe[de++]=re>>6&63|128,Oe[de++]=63&re|128):(Oe[de++]=re>>18|240,Oe[de++]=re>>12&63|128,Oe[de++]=re>>6&63|128,Oe[de++]=63&re|128)}return Oe},Mn=function(De){let Oe=0;for(let de=0;de<De.length;de++){const be=De.charCodeAt(de);be<128?Oe++:be<2048?Oe+=2:be>=55296&&be<=56319?(Oe+=4,de++):Oe+=3}return Oe};function zi(De){return De&&De._delegate?De._delegate:De}},1111:(St,Re,w)=>{w.d(Re,{MB:()=>H,fw:()=>D.f});var p=w(177),D=w(2376),ce=w(4438);let H=(()=>{class ie{constructor(Y){if(Y)throw new Error("ToastModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:ie,providers:[D.f]}}static{this.\u0275fac=function(fe){return new(fe||ie)(ce.KVO(ie,12))}}static{this.\u0275mod=ce.$C({type:ie})}static{this.\u0275inj=ce.G2t({imports:[p.MD]})}}return ie})();w(1152)},1152:(St,Re,w)=>{w.d(Re,{d3:()=>Y});var p=w(9969),D=w(4438),ce=w(2376),H=w(177);function Z(fe,ne){if(1&fe){const le=D.RV6();D.j41(0,"div",2),D.bIt("click",function(){const Ue=D.eBV(le).$implicit,Ve=D.XpG();return D.Njj(Ve.dispose(Ue))}),D.nrm(1,"i"),D.j41(2,"div",3)(3,"div",4),D.EFF(4),D.k0s(),D.j41(5,"div",5),D.EFF(6),D.k0s()(),D.j41(7,"i",6),D.bIt("click",function(){const Ue=D.eBV(le).$implicit,Ve=D.XpG();return D.Njj(Ve.dispose(Ue))}),D.k0s()()}if(2&fe){const le=ne.$implicit;D.ZvI("toaster toast-",le.type,""),D.Y8G("@slideInOut",void 0),D.R7$(),D.ZvI("fa-solid ",le.icon,""),D.R7$(3),D.SpI(" ",le.title," "),D.R7$(2),D.JRh(le.message)}}const ie=(0,p.hZ)("slideUp",[(0,p.kY)(":enter",[(0,p.iF)({transform:"translate(0,500px)"}),(0,p.i0)("350ms cubic-bezier(0.17, 0.89, 0.24, 1.11)",(0,p.iF)({transform:"translate(0,0)"}))]),(0,p.kY)(":leave",[(0,p.i0)("300ms ease-in-out",(0,p.iF)({transform:"translate(0,500px)"}))])]),te=(0,p.hZ)("slideInOut",[(0,p.kY)(":enter",[(0,p.iF)({transform:"translateX(calc(100% + 30px))"}),(0,p.i0)("350ms cubic-bezier(0.68, -0.55, 0.25, 1.35)",(0,p.iF)({transform:"translateX(0)"}))]),(0,p.kY)(":leave",[(0,p.i0)("300ms ease-in-out",(0,p.iF)({transform:"translateX(calc(100% + 30px))"}))])]);let Y=(()=>{class fe{constructor(le,Te){this.toastService=le,this.cdr=Te,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(le=>{const Te=this.currentToasts.length;this.currentToasts.push(le),this.cdr.detectChanges(),this.automaticDismiss(Te)})}dispose(le){let Te=this.currentToasts.indexOf(le);this.currentToasts.splice(Te,1),this.cdr.detectChanges()}automaticDismiss(le){setTimeout(()=>{this.dispose(le)},this.toastService.toastConfig.timer)}static{this.\u0275fac=function(Te){return new(Te||fe)(D.rXU(ce.f),D.rXU(D.gRc))}}static{this.\u0275cmp=D.VBU({type:fe,selectors:[["ng-toast"]],standalone:!1,decls:2,vars:1,consts:[[1,"toast-container","top-right"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[2,"flex","1"],[1,"toaster__title"],[1,"toaster__message"],[1,"fa-xmark","fa-solid",3,"click"]],template:function(Te,Ue){1&Te&&(D.j41(0,"div",0),D.DNE(1,Z,8,9,"div",1),D.k0s()),2&Te&&(D.R7$(),D.Y8G("ngForOf",Ue.currentToasts))},dependencies:[H.Sq],styles:['.toast-container[_ngcontent-%COMP%]{--dark: #34495E;--light: #ffffff;--success: #0ABF30;--error: #E24D4C;--warning: #E9BD0C;--info: #3498DB}.toast-container[_ngcontent-%COMP%]{width:max-content;max-width:100%;pointer-events:none;position:fixed;z-index:999999}.toast-container.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-container.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{--toast-width: 400px;position:relative;overflow:hidden;margin:0 0 6px;width:var(--toast-width);padding:16px 17px;border-radius:4px;pointer-events:auto;display:flex;align-items:center;gap:.5rem;--toast-light-color: color-mix(in srgb, var(--toast-color) 20%, white);background-color:var(--toast-light-color);color:var(--toast-color)}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.toast-container[_ngcontent-%COMP%]   .toaster__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.toast-container[_ngcontent-%COMP%]   .toaster__message[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(:last-child){font-size:1.5rem}.toast-container[_ngcontent-%COMP%]   .toaster.toast-success[_ngcontent-%COMP%]{--toast-color: var(--success)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-warning[_ngcontent-%COMP%]{--toast-color: var(--warning)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-error[_ngcontent-%COMP%]{--toast-color: var(--danger)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-info[_ngcontent-%COMP%]{--toast-color: var(--info)}.toaster[_ngcontent-%COMP%]:before{position:absolute;content:"";height:3px;width:100%;bottom:0;left:0;animation:_ngcontent-%COMP%_progress 5s linear forwards;background-color:var(--toast-color)}@keyframes _ngcontent-%COMP%_progress{to{width:0%}}.toaster-animation[_ngcontent-%COMP%]{transform:translate(calc(100% + 30px));transition:all .5s cubic-bezier(.68,-.55,.25,1.35)}.toaster-animation.active[_ngcontent-%COMP%]{transform:translate(0)}.show-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_show_toast .3s ease forwards}.hide-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hide_toast .3s ease forwards}@keyframes _ngcontent-%COMP%_hide_toast{0%{transform:translate(-10px)}40%{transform:translate(0)}80%{transform:translate(-5%)}to{transform:translate(calc(100% + 20px))}}@keyframes _ngcontent-%COMP%_show_toast{0%{transform:translate(100%)}40%{transform:translate(-5%)}80%{transform:translate(0)}to{transform:translate(-10px)}}@media (max-width: 530px){.toast-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[ie,te]},changeDetection:0})}}return fe})()},2376:(St,Re,w)=>{w.d(Re,{f:()=>H});var p=w(1413),D=w(4438);const ce={timer:5e3,success:{icon:"fa-circle-check",text:"Success: This is a success toast."},error:{icon:"fa-circle-xmark",text:"Error: This is an error toast."},warning:{icon:"fa-triangle-exclamation",text:"Warning: This is a warning toast."},info:{icon:"fa-circle-info",text:"Info: This is an information toast."}};let H=(()=>{class Z{constructor(){this.toastConfig=ce,this._toastEvents=new p.B,this.toastEvents=this._toastEvents.asObservable()}showToast(te,Y="",fe="success"){const{icon:ne}=ce[fe];this._toastEvents.next({title:te,message:Y,type:fe,icon:ne})}static{this.\u0275fac=function(Y){return new(Y||Z)}}static{this.\u0275prov=D.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},6454:(St,Re,w)=>{w.d(Re,{O:()=>ce});var p=w(4438),D=function(H){return H[H.slideToLeft=1]="slideToLeft",H[H.slideToRight=2]="slideToRight",H[H.slideToTop=3]="slideToTop",H[H.slideToBottom=4]="slideToBottom",H}(D||{});let ce=(()=>{class H{constructor(){this.routeAnimation=null}setRouteAnimation(ie){this.routeAnimation=D[ie]}get currentRouteAnimation(){return this.routeAnimation}static{this.\u0275fac=function(te){return new(te||H)}}static{this.\u0275prov=p.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}}return H})()},1609:(St,Re,w)=>{w.d(Re,{J:()=>Z});var p=w(4412),D=w(3319),ce=w(9898),H=w(4438);let Z=(()=>{class ie{constructor(){this._notification=new p.t(null),this.notification$=this._notification.asObservable().pipe((0,D.m)(),(0,ce.B)())}notify(Y){this._notification.next(Y),setTimeout(()=>this._notification.next(null),3e3)}static{this.\u0275fac=function(fe){return new(fe||ie)}}static{this.\u0275prov=H.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}}return ie})()},2282:(St,Re,w)=>{w.d(Re,{k:()=>bt});var p=w(1807),D=w(274),ce=w(8071),Z=w(7468),ie=w(2771),te=w(5335),Y=w(2498),fe=w(9437),ne=w(8141),le=w(9030),Te=w(4668),Ue=w(8810),Ve=w(4438),Qe=w(1626),st=function(vt){return vt.LOADING="LOADING",vt.SUCCESS="SUCCESS",vt.ERROR="ERROR",vt}(st||{});let bt=(()=>{class vt{constructor(qt){this.http=qt}getNotifications(){return this.http.get("http://api").pipe(this.poll(1e3))}poll(qt,lt=0){return function(qe){return(0,p.O)(lt,qt).pipe(function H(vt,wt){return(0,ce.T)(wt)?(0,D.H)(()=>vt,wt):(0,D.H)(()=>vt)}(qe))}}get(qt){return this.http.get(qt)}post(qt,lt){return this.http.post(qt,lt)}getSwapi(){let qt=this.http.get("https://swapi.dev/api/people/1/"),lt=this.http.get("https://swapi.dev/api/planets/1/");(0,Z.p)([qt,lt]).subscribe(qe=>{qe[0].homeworld=qe[1],this.loadedCharacter=qe[0]})}load(qt){const lt=new ie.m,qe=this.http.get(`https://swapi.dev/api/people/${qt}/`).pipe((0,te.c)(2e3),(0,Y.L)(2),(0,fe.W)(Bt=>{throw lt.next(st.ERROR),"error loading user"}),(0,ne.M)(()=>lt.next(st.SUCCESS)));return{data:(0,le.v)(()=>(lt.next(st.LOADING),qe)),status:lt}}share(){this.rawData$=this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe((0,Te.t)())}GetData(){return this.rawData$.toPromise()}getRandomjoke(){return this.http.get("https://icanhazdadjoke.com/slack").pipe((0,fe.W)(this.handleError))}handleError(){return(0,Ue.$)("Network Error Occured")}static{this.\u0275fac=function(lt){return new(lt||vt)(Ve.KVO(Qe.Qq))}}static{this.\u0275prov=Ve.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}}return vt})()},8990:(St,Re,w)=>{w.d(Re,{A:()=>Z,d:()=>ie});var p=w(4438),D=w(1626);class ce{constructor(){this.http=(0,p.WQX)(D.Qq)}post(Y,fe){return this.http.post(`${this.databaseURL}/${Y}`,fe)}get(Y,fe){return this.http.get(`${this.databaseURL}/${Y}`,{params:fe})}delete(Y){return this.http.delete(`${this.databaseURL}/${Y}`)}put(Y,fe){return this.http.put(`${this.databaseURL}/${Y}`,fe)}patch(Y,fe){return this.http.patch(`${this.databaseURL}/${Y}`,fe)}}var H=w(3344);class Z{}let ie=(()=>{class te extends ce{constructor(){super(...arguments),this.databaseURL=H.I.databaseURL}static{this.\u0275fac=(()=>{let fe;return function(le){return(fe||(fe=p.xGo(te)))(le||te)}})()}static{this.\u0275prov=p.jDH({token:te,factory:te.\u0275fac})}}return te})()},8910:(St,Re,w)=>{w.d(Re,{B:()=>D,W:()=>ce});const D=new(w(4438).nKC)("GenericFirebaseDbInterface");class ce{}},7539:(St,Re,w)=>{w.d(Re,{J:()=>H});var p=w(467),D=w(5891),ce=w(1985);class H{constructor(){this.db=(0,D.C3)(),this.formatSnapshot=ie=>{let te=[];return ie.exists()&&ie.forEach(Y=>{te.push({key:Y.key,...Y.val()})}),te}}create(ie,te={}){let Y=(0,D.VC)((0,D.KR)(this.db,ie));return(0,D.hZ)(Y,{key:Y.key,createdAt:(0,D.O5)(),updatedAt:(0,D.O5)(),...te}).then(),Promise.resolve({key:Y.key})}set(ie,te={}){var Y=this;return(0,p.A)(function*(){const fe=(0,D.KR)(Y.db,ie);yield(0,D.hZ)(fe,te)})()}update(ie,te={}){var Y=this;return(0,p.A)(function*(){const fe=(0,D.KR)(Y.db,ie);yield(0,D.yo)(fe,{updatedAt:(0,D.O5)(),...te})})()}remove(ie){var te=this;return(0,p.A)(function*(){const Y=(0,D.KR)(te.db,ie);yield(0,D.TF)(Y)})()}readRealtime$(ie,te=!1){return new ce.c(Y=>{(0,D.Zy)((0,D.KR)(this.db,ie),fe=>{let ne=[];fe.exists()?(fe.forEach(le=>{ne.push({key:le.key,...le.val()})}),Y.next(ne)):Y.next([])},{onlyOnce:te})})}readRealtimeOriginal$(ie,te=!1){return new ce.c(Y=>{(0,D.Zy)((0,D.KR)(this.db,ie),fe=>{fe.exists()?Y.next(fe.val()):Y.next(null)},{onlyOnce:te})})}getKeys$(ie){return new ce.c(te=>{(0,D.Zy)((0,D.KR)(this.db,ie),Y=>{let fe=[];Y.exists()?(Y.forEach(ne=>{fe.push(ne.key)}),te.next(fe)):te.next(null)})})}readOnce(ie){return new Promise((te,Y)=>{(0,D.Jt)((0,D.KR)(this.db,ie)).then(fe=>{let ne=[];fe.exists()?(fe.forEach(le=>{ne.push({key:le.key,...le.val()})}),te(ne)):te([])}).catch(fe=>{Y(fe)})})}readOnceOriginal(ie){return new Promise((te,Y)=>{(0,D.Jt)((0,D.KR)(this.db,ie)).then(fe=>{fe.exists()?te(fe.val()):te([])}).catch(fe=>{Y(fe)})})}getKeys(ie){return new Promise((te,Y)=>{(0,D.Jt)((0,D.KR)(this.db,ie)).then(fe=>{let ne=[];fe.exists()?(fe.forEach(le=>{ne.push(le.key)}),te(ne)):te([])}).catch(fe=>{Y(fe)})})}checkPresence(ie){const te=(0,D.KR)(this.db,`${ie}/connections`),Y=(0,D.KR)(this.db,`${ie}/lastOnline`),fe=(0,D.KR)(this.db,".info/connected");(0,D.Zy)(fe,ne=>{if(!0===ne.val()){const le=(0,D.VC)(te);(0,D.yX)(le).remove().then(),(0,D.hZ)(le,!0).then(),(0,D.yX)(Y).set((0,D.O5)()).then()}})}onDisconnect(ie){const te=(0,D.KR)(this.db,ie);return(0,D.yX)(te)}detectingConnectionState(){return new ce.c(ie=>{const te=(0,D.KR)(this.db,".info/connected");(0,D.Zy)(te,Y=>{ie.next(Y.val())})})}updateCounter(ie,te=!0){return new Promise((Y,fe)=>{const ne=(0,D.KR)(this.db);(0,D.Jt)((0,D.jf)(ne,"counter")).then(le=>{(0,D.yo)((0,D.KR)(this.db,ie),{counter:(0,D.GV)(te?1:-1)}).then(Te=>{Y(Te)})})})}#e(){}}},3887:(St,Re,w)=>{w.d(Re,{G:()=>Z});var p=w(177),D=w(9417),ce=w(884),H=w(4438);let Z=(()=>{class ie{static{this.\u0275fac=function(fe){return new(fe||ie)}}static{this.\u0275mod=H.$C({type:ie})}static{this.\u0275inj=H.G2t({imports:[p.MD,ce.iI,D.YN,D.X1,D.YN,D.X1]})}}return ie})()},2749:(St,Re,w)=>{w.d(Re,{y:()=>p});class p{}},5364:(St,Re,w)=>{w.d(Re,{h8:()=>p,vp:()=>D});var p=function(H){return H.Clear="Clear",H.Snow="Snow",H.Rain="Rain",H.Clouds="Clouds",H.Thunderstorm="Thunderstorm",H.Atmosphere="Atmosphere",H.Drizzle="Drizzle",H.Unknown="Unknown",H}(p||{});function D(H){return(new Map).set("Thunderstorm",p.Thunderstorm).set("Drizzle",p.Drizzle).set("Rain",p.Rain).set("Snow",p.Snow).set("Atmosphere",p.Atmosphere).set("Clouds",p.Clouds).set("Clear",p.Clear).get(H.main)||p.Unknown}},1550:(St,Re,w)=>{w.d(Re,{OM:()=>ne,VZ:()=>ie,fM:()=>Te,i8:()=>Y,iQ:()=>Ue,j1:()=>D,n$:()=>le,n8:()=>H,om:()=>Z,op:()=>ce,sc:()=>fe,vV:()=>te});var p=w(9310);const D=(0,p.VP)("[ARTICLE] Show All"),ce=(0,p.VP)("[ARTICLE] Show All Success",(0,p.xk)()),H=(0,p.VP)("[ARTICLE] Create",(0,p.xk)()),Z=(0,p.VP)("[ARTICLE] Create Success",(0,p.xk)()),ie=(0,p.VP)("[ARTICLE] Create Failure",(0,p.xk)()),te=(0,p.VP)("[ARTICLE] Get by Id",(0,p.xk)()),Y=(0,p.VP)("[ARTICLE] Get by Id Success",(0,p.xk)()),fe=(0,p.VP)("[ARTICLE] Reset"),ne=(0,p.VP)("[Product] Add to cart",(0,p.xk)()),le=(0,p.VP)("[Product] Remove from cart",(0,p.xk)()),Te=(0,p.VP)("[Products] Load items from server"),Ue=(0,p.VP)("[Products] Load success",(0,p.xk)())},4745:(St,Re,w)=>{w.d(Re,{GE:()=>Y,I4:()=>fe,JS:()=>Ue,gz:()=>Qe,iF:()=>Ve});var p=w(9310),D=w(1550);const Z=(0,p.vy)({articles:[],message:""},(0,p.on)(D.op,(st,{payload:bt})=>({articles:bt,message:"Success"})),(0,p.on)(D.om,(st,{payload:bt})=>({articles:[bt],message:"Article Created."})),(0,p.on)(D.VZ,(st,{payload:bt})=>({articles:[],message:bt})),(0,p.on)(D.i8,(st,{payload:bt})=>({articles:bt,message:"Success"})),(0,p.on)(D.sc,st=>({articles:[],message:""}))),te=(0,p.UX)("articleState"),Y=(0,p.Mz)(te,st=>st.articles),fe=(0,p.Mz)(te,st=>st.message),ne=(0,p.vy)({products:[],cart:[]},(0,p.on)(D.iQ,(st,{payload:bt})=>({...st,products:bt})),(0,p.on)(D.OM,(st,{payload:bt})=>({...st,cart:[...st.cart,bt]})),(0,p.on)(D.n$,(st,{payload:bt})=>({...st,cart:[...st.cart.filter(vt=>vt.name!==bt.name)]}))),Te=(0,p.UX)("productState1"),Ue=(0,p.Mz)(Te,st=>st.products),Ve=(0,p.Mz)(Te,st=>st.cart),Qe={articleState:function ie(st,bt){return Z(st,bt)},productState1:function le(st,bt){return ne(st,bt)}}},8603:(St,Re,w)=>{w.d(Re,{i:()=>ce});var p=w(1413),D=w(4412);class ce{constructor(Z){this.reducer=Z,this.action=new p.B;const ie={type:"@ngrx/store/init"},te=Z(void 0,ie);this.state=new D.t(te),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(ie)}dispatch(Z){const ie=this.state.getValue(),te=this.reducer(ie,Z);this.state.next(te),this.action.next(Z)}}},334:(St,Re,w)=>{w.d(Re,{GV:()=>ce,Hh:()=>ie,Kt:()=>H,WQ:()=>Z});var p=w(9310),D=function(te){return te.INCREMENT="Increment Article",te.DECREMENT="Decrememnt Article",te.ADD="Add Article",te.LOAD="Load Articles",te}(D||{});const ce=(0,p.VP)(D.INCREMENT,(0,p.xk)()),H=(0,p.VP)(D.DECREMENT,(0,p.xk)()),Z=(0,p.VP)(D.ADD,(0,p.xk)()),ie=(0,p.VP)(D.LOAD)},3529:(St,Re,w)=>{w.d(Re,{Jv:()=>ie,cp:()=>ce});var p=w(9310),D=w(334);const ce="article",Z=(0,p.vy)({articles:[]},(0,p.on)(D.GV,(te,Y)=>({...te,articles:te.articles.map(fe=>fe.id==Y.id?{...fe,points:fe.points+1}:fe)})),(0,p.on)(D.Kt,(te,Y)=>({...te,articles:te.articles.map(fe=>fe.id==Y.id?{...fe,points:fe.points-1}:fe)})),(0,p.on)(D.WQ,(te,{payload:Y})=>({...te,articles:[...te.articles,Y]})));function ie(te,Y){return Z(te,Y)}},2661:(St,Re,w)=>{w.d(Re,{l:()=>Y});var p=w(9310),D=w(334),ce=w(3529);const H=(0,p.UX)(ce.cp),Z=(0,p.Mz)(H,fe=>fe.articles);class ie{constructor(ne,le,Te,Ue){this.id=ne,this.title=le,this.link=Te,this.points=Ue||0,this.time=new Date}}var te=w(4438);let Y=(()=>{class fe{constructor(le){this.store=le,this.id=0}getArticle(){return this.store.pipe((0,p.Lt)(Z))}incArticle(le){this.store.dispatch(D.GV(le))}decArticle(le){this.store.dispatch(D.Kt(le))}addArticle(le){let Te=new ie(++this.id,le.title,le.link,0);this.store.dispatch(D.WQ({payload:Te}))}loadArticle(le){this.store.dispatch(D.Hh())}static{this.\u0275fac=function(Te){return new(Te||fe)(te.KVO(p.il))}}static{this.\u0275prov=te.jDH({token:fe,factory:fe.\u0275fac})}}return fe})()},9072:(St,Re,w)=>{w.d(Re,{M:()=>te});var p=w(9310),D=w(4413),ce=w(2830);const H=(0,p.UX)(ce.cp),Z=(0,p.Mz)(H,Y=>Y.count);var ie=w(4438);let te=(()=>{class Y{constructor(ne){this.store=ne}getCount(){return this.store.pipe((0,p.Lt)(Z))}incrementCount(){this.store.dispatch(D.GV())}decrementCount(){this.store.dispatch(D.Kt())}resetCount(){this.store.dispatch(D.cL())}setValue(ne){this.store.dispatch(D.Co({newValue:ne}))}loadValue(){this.store.dispatch(D.m5())}static{this.\u0275fac=function(le){return new(le||Y)(ie.KVO(p.il))}}static{this.\u0275prov=ie.jDH({token:Y,factory:Y.\u0275fac})}}return Y})()},4413:(St,Re,w)=>{w.d(Re,{Co:()=>ie,GV:()=>ce,Kt:()=>H,cL:()=>Z,m5:()=>te});var p=w(9310),D=function(Y){return Y.INCREMENT="[Counter Component] Increment",Y.DECREMENT="[Counter Component] Decrement",Y.RESET="[Counter Component] Reset",Y.SETVALUE="[Counter Component] Set Value",Y.LOADVALUE="[Counter Component] Load Value",Y}(D||{});const ce=(0,p.VP)(D.INCREMENT),H=(0,p.VP)(D.DECREMENT),Z=(0,p.VP)(D.RESET),ie=(0,p.VP)(D.SETVALUE,(0,p.xk)()),te=(0,p.VP)(D.LOADVALUE)},2830:(St,Re,w)=>{w.d(Re,{FW:()=>ie,cp:()=>ce});var p=w(9310),D=w(4413);const ce="counter",Z=(0,p.vy)({count:0},(0,p.on)(D.GV,te=>({...te,count:te.count+1})),(0,p.on)(D.Kt,te=>({...te,count:te.count-1})),(0,p.on)(D.cL,te=>({...te,count:0})),(0,p.on)(D.Co,(te,Y)=>({...te,count:Y.newValue})));function ie(te,Y){return Z(te,Y)}},2503:(St,Re,w)=>{w.d(Re,{Ny:()=>Z,Ze:()=>ce,aE:()=>H});var p=w(9310),D=function(ie){return ie.loadData="[loadData] load",ie.loadDataSuccess="[loadData] success",ie.loadDataFailure="[loadData] failure",ie}(D||{});const ce=(0,p.VP)(D.loadData),H=(0,p.VP)(D.loadDataSuccess,(0,p.xk)()),Z=(0,p.VP)(D.loadDataFailure,(0,p.xk)())},8964:(St,Re,w)=>{w.d(Re,{b4:()=>ie,cp:()=>ce});var p=w(9310),D=w(2503);const ce="load-data",Z=(0,p.vy)({data:null,loading:!1,error:null},(0,p.on)(D.Ze,te=>({...te,loading:!0})),(0,p.on)(D.aE,(te,{payload:Y})=>({...te,loading:!1,data:Y})),(0,p.on)(D.Ny,(te,{payload:Y})=>({...te,loading:!1,error:Y})));function ie(te,Y){return Z(te,Y)}},8320:(St,Re,w)=>{w.d(Re,{T:()=>te});var p=w(9310),D=w(8964);const ce=(0,p.UX)(D.cp),H=(0,p.Mz)(ce,Y=>Y.data);var Z=w(2503),ie=w(4438);let te=(()=>{class Y{constructor(ne){this.store=ne}getData(){return this.store.pipe((0,p.Lt)(H))}loadData(){this.store.dispatch(Z.Ze())}loadDataSuccess(ne){this.store.dispatch(Z.aE(ne))}loadDataFailure(ne){this.store.dispatch(Z.Ny(ne))}static{this.\u0275fac=function(le){return new(le||Y)(ie.KVO(p.il))}}static{this.\u0275prov=ie.jDH({token:Y,factory:Y.\u0275fac})}}return Y})()},8515:(St,Re,w)=>{w.d(Re,{h:()=>Z});var p=w(6354),D=w(4438),ce=w(1626);let Z=(()=>{class ie{constructor(Y){this.http=Y}register(Y){return this.http.post("https://conduit.productionready.io/api/users",Y).pipe((0,p.T)(fe=>fe.user))}static{this.\u0275fac=function(fe){return new(fe||ie)(D.KVO(ce.Qq))}}static{this.\u0275prov=D.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}}return ie})()},8193:(St,Re,w)=>{w.d(Re,{NW:()=>H,Sl:()=>ce,gt:()=>Z});var p=w(9310),D=function(ie){return ie.REGISTER="[AUTH] REGISTER",ie.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",ie.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",ie}(D||{});const ce=(0,p.VP)(D.REGISTER,(0,p.xk)()),H=(0,p.VP)(D.REGISTER_SUCCESS,(0,p.xk)()),Z=(0,p.VP)(D.REGISTER_FAILURE,(0,p.xk)())},8721:(St,Re,w)=>{w.d(Re,{Km:()=>ie,cp:()=>H});var p=w(9310),D=w(8193);const H="Register",Z=(0,p.vy)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,p.on)(D.Sl,te=>({...te,isSubmitting:!0,validationErrors:null})),(0,p.on)(D.NW,(te,Y)=>({...te,isSubmitting:!1,isLoggedIn:!0,currentUser:Y.currentUser})),(0,p.on)(D.gt,(te,Y)=>({...te,isSubmitting:!1,validationErrors:Y.errors})));function ie(te,Y){return Z(te,Y)}},5696:(St,Re,w)=>{w.d(Re,{E:()=>Y});var p=w(9310),D=w(8193),ce=w(8721);const H=(0,p.UX)(ce.cp),Z=(0,p.Mz)(H,fe=>fe.isSubmitting),ie=(0,p.Mz)(H,fe=>fe.validationErrors);var te=w(4438);let Y=(()=>{class fe{constructor(le){this.store=le}register(le){this.store.dispatch((0,D.Sl)(le))}isSubmitting(){return this.store.pipe((0,p.Lt)(Z))}backendErrors(){return this.store.pipe((0,p.Lt)(ie))}static{this.\u0275fac=function(Te){return new(Te||fe)(te.KVO(p.il))}}static{this.\u0275prov=te.jDH({token:fe,factory:fe.\u0275fac})}}return fe})()},965:(St,Re,w)=>{w.d(Re,{VA:()=>Z,bI:()=>H,wz:()=>ce});var p=w(9310),D=function(ie){return ie.GET_USER="[User] Get User",ie.GET_USER_SUCCESS="[User] Get User Success",ie.GET_USER_FAILED="[User] Get User Failed",ie}(D||{});const ce=(0,p.VP)(D.GET_USER),H=(0,p.VP)(D.GET_USER_SUCCESS,(0,p.xk)()),Z=(0,p.VP)(D.GET_USER_FAILED,(0,p.xk)())},459:(St,Re,w)=>{w.d(Re,{c:()=>H,o:()=>ie});var p=w(9310),ce=w(965);const H="user_info",Z=(0,p.vy)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,p.on)(ce.bI,(te,{user:Y})=>({...te,user:Y,error:null})),(0,p.on)(ce.VA,(te,{error:Y})=>({...te,user:{userId:null,name:null,lastName:null,email:null},error:Y})));function ie(te,Y){return Z(te,Y)}},8066:(St,Re,w)=>{w.d(Re,{w:()=>te});var p=w(9310),D=w(965),ce=w(459);const H=(0,p.UX)(ce.c),Z=(0,p.Mz)(H,Y=>Y.user);var ie=w(4438);let te=(()=>{class Y{constructor(ne){this.store=ne}userInfo$(){return this.store.pipe((0,p.Lt)(Z))}getUserInfo(){this.store.dispatch(D.wz())}static{this.\u0275fac=function(le){return new(le||Y)(ie.KVO(p.il))}}static{this.\u0275prov=ie.jDH({token:Y,factory:Y.\u0275fac})}}return Y})()},7240:(St,Re,w)=>{w.d(Re,{G:()=>ce});var p=w(4438),D=w(1626);let ce=(()=>{class H{constructor(ie){this.http=ie}login(ie,te){return this.http.post("login",{username:ie,password:te})}getProducts(){return this.http.get("products",{headers:{}})}static{this.\u0275fac=function(te){return new(te||H)(p.KVO(D.Qq))}}static{this.\u0275prov=p.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}}return H})()},6570:(St,Re,w)=>{w.d(Re,{u:()=>Z});var p=w(4412),D=w(8141),ce=w(4438),H=w(7240);let Z=(()=>{class ie{constructor(Y){this.apiService=Y,this._isLoggedIn$=new p.t(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(Y,fe){return this.apiService.login(Y,fe).pipe((0,D.M)(ne=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,ne.token),this.user=this.getUser(ne.token)}))}getUser(Y){return Y?JSON.parse(atob(Y.split(".")[1])):null}hasRole(Y){return this.user?.Role.includes(Y)||!1}static{this.\u0275fac=function(fe){return new(fe||ie)(ce.KVO(H.G))}}static{this.\u0275prov=ce.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}}return ie})()},5312:(St,Re,w)=>{w.d(Re,{c:()=>D});var p=w(3344);const D={production:!0,version:w(8330).rE,firebaseConfig:p.I}},3344:(St,Re,w)=>{w.d(Re,{I:()=>p});const p={apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432",auth_Token:"kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc"}},9589:(St,Re,w)=>{var p=w(345),D=w(4438),ce=w(467),H=w(884),Z=w(9969);const ie=[(0,Z.P)(":enter, :leave",(0,Z.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.P)(":leave",(0,Z.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,Z.P)(":enter",(0,Z.iF)({transform:"translateX(100%)"}),{optional:!0}),(0,Z.Os)([(0,Z.P)(":leave",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateX(-100%)"}))],{optional:!0}),(0,Z.P)(":enter",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateX(0%)"}))],{optional:!0})])],te=[(0,Z.P)(":enter, :leave",(0,Z.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.P)(":leave",(0,Z.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,Z.P)(":enter",(0,Z.iF)({transform:"translateX(-100%)"}),{optional:!0}),(0,Z.Os)([(0,Z.P)(":leave",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateX(100%)"}))],{optional:!0}),(0,Z.P)(":enter",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateX(0%)"}))],{optional:!0})])],Y=[(0,Z.P)(":enter, :leave",(0,Z.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.P)(":leave",(0,Z.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,Z.P)(":enter",(0,Z.iF)({transform:"translateY(100%)"}),{optional:!0}),(0,Z.Os)([(0,Z.P)(":leave",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateY(-100%)"}))],{optional:!0}),(0,Z.P)(":enter",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateY(0%)"}))],{optional:!0})])],fe=[(0,Z.P)(":enter, :leave",(0,Z.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,Z.P)(":leave",(0,Z.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,Z.P)(":enter",(0,Z.iF)({transform:"translateY(-100%)"}),{optional:!0}),(0,Z.Os)([(0,Z.P)(":leave",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateY(100%)"}))],{optional:!0}),(0,Z.P)(":enter",[(0,Z.i0)(".3s ease-in-out",(0,Z.iF)({transform:"translateY(0%)"}))],{optional:!0})])],ne=(0,Z.hZ)("slideTransition",[(0,Z.kY)("* => slideToLeft",ie),(0,Z.kY)("* => slideToRight",te),(0,Z.kY)("* => slideToTop",Y),(0,Z.kY)("* => slideToBottom",fe)]);var le=w(6454),Te=w(177);const Ue=()=>["navbar-dark","bg-dark"],Ve=()=>["navbar-light","bg-light"],Qe=S=>({show:S});function st(S,E){if(1&S&&(D.j41(0,"li",11)(1,"a",12),D.EFF(2),D.k0s()()),2&S){const y=E.$implicit;D.R7$(),D.Y8G("routerLink",null==y?null:y.path),D.R7$(),D.JRh((null==y?null:y.name)||(null==y?null:y.path))}}function bt(S,E){if(1&S&&(D.j41(0,"a",13),D.EFF(1),D.k0s()),2&S){const y=E.$implicit;D.R7$(),D.JRh(y)}}let vt=(()=>{class S{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275cmp=D.VBU({type:S,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},standalone:!1,decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(A,$){1&A&&(D.j41(0,"nav",0)(1,"a",1),D.EFF(2,"Navbar"),D.k0s(),D.j41(3,"button",2),D.bIt("click",function(){return $.toggleNavbar()}),D.nrm(4,"span",3),D.k0s(),D.j41(5,"div",4)(6,"ul",5),D.DNE(7,st,3,2,"li",6),D.j41(8,"li",7),D.bIt("click",function(){return $.show=!$.show}),D.j41(9,"a",8),D.EFF(10,"Language"),D.k0s(),D.j41(11,"div",9),D.DNE(12,bt,2,1,"a",10),D.k0s()()()()()),2&A&&(D.Y8G("ngClass","DARK"===$.template?D.lJ4(6,Ue):D.lJ4(7,Ve)),D.R7$(5),D.Y8G("ngClass",D.eq3(8,Qe,$.isCollapsed)),D.R7$(2),D.Y8G("ngForOf",$.routes),D.R7$(4),D.AVh("show",$.show),D.R7$(),D.Y8G("ngForOf",$.languages))},dependencies:[Te.YU,Te.Sq,H.Wk,H.wQ],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]})}}return S})();const qt=[{path:"application",loadChildren:()=>Promise.all([w.e(3810),w.e(8508)]).then(w.bind(w,8508)).then(S=>S.ApplicationModule)},{path:"animations",loadChildren:()=>Promise.all([w.e(3810),w.e(7857)]).then(w.bind(w,7857)).then(S=>S.AnimationsModule)},{path:"v2",loadChildren:()=>Promise.all([w.e(4877),w.e(2076),w.e(9404)]).then(w.bind(w,9404)).then(S=>S.PersonalModule)},{path:"audios",loadChildren:()=>Promise.all([w.e(3760),w.e(7215)]).then(w.bind(w,7215)).then(S=>S.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([w.e(3760),w.e(9765)]).then(w.bind(w,9765)).then(S=>S.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([w.e(3760),w.e(8232),w.e(1299)]).then(w.bind(w,1299)).then(S=>S.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([w.e(3760),w.e(6709)]).then(w.bind(w,6709)).then(S=>S.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([w.e(3760),w.e(9125)]).then(w.bind(w,9125)).then(S=>S.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([w.e(3810),w.e(3760),w.e(1658)]).then(w.bind(w,1658)).then(S=>S.CovidModule)},{path:"github",loadChildren:()=>Promise.all([w.e(3810),w.e(3760),w.e(2076),w.e(4766)]).then(w.bind(w,4766)).then(S=>S.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([w.e(7122),w.e(2076),w.e(6246)]).then(w.bind(w,6246)).then(S=>S.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([w.e(3760),w.e(5802)]).then(w.bind(w,5802)).then(S=>S.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([w.e(3760),w.e(2076),w.e(3936)]).then(w.bind(w,3936)).then(S=>S.MoviesModule)},{path:"encapsulating",loadChildren:()=>w.e(9992).then(w.bind(w,9992)).then(S=>S.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([w.e(3760),w.e(4624)]).then(w.bind(w,4624)).then(S=>S.SportsModule)},{path:"shop",loadChildren:()=>Promise.all([w.e(2076),w.e(6611)]).then(w.bind(w,6611)).then(S=>S.ShopModule)},{path:"store",loadChildren:()=>w.e(7651).then(w.bind(w,7651)).then(S=>S.StoreModule)},{path:"ngrx-store",loadChildren:()=>w.e(4905).then(w.bind(w,4905)).then(S=>S.NgrxStoreModule)},{path:"survey",loadChildren:()=>w.e(9860).then(w.bind(w,9860)).then(S=>S.SurveyPollVoterPridictionModule)},{path:"responsive-site",loadChildren:()=>w.e(5447).then(w.bind(w,5447)).then(S=>S.ResponsiveSiteModule)},{path:"mockApi",loadChildren:()=>w.e(3053).then(w.bind(w,3053)).then(S=>S.MockapiModule)},{path:"routeReuse",loadChildren:()=>w.e(7132).then(w.bind(w,7132)).then(S=>S.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>w.e(2959).then(w.bind(w,2959)).then(S=>S.SampleModule)},{path:"navigations",component:(()=>{class S{constructor(y){this.animationService=y,this.routes=[{path:"resume"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(y){return y.activatedRouteData.animation}static{this.\u0275fac=function(A){return new(A||S)(D.rXU(le.O))}}static{this.\u0275cmp=D.VBU({type:S,selectors:[["app-navigations"]],standalone:!1,decls:3,vars:2,consts:[[3,"routes","template"]],template:function(A,$){1&A&&(D.nrm(0,"app-navbar",0),D.j41(1,"main"),D.nrm(2,"router-outlet"),D.k0s()),2&A&&D.Y8G("routes",$.routes)("template","LIGHT")},dependencies:[H.n3,vt],encapsulation:2,data:{animation:[ne]}})}}return S})(),children:[{path:"my-site",loadChildren:()=>w.e(4035).then(w.bind(w,4035)).then(S=>S.MysiteModule)},{path:"svg",loadChildren:()=>w.e(6074).then(w.bind(w,6074)).then(S=>S.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([w.e(3810),w.e(5422),w.e(2076),w.e(686)]).then(w.bind(w,686)).then(S=>S.TaskModule)},{path:"unit-testing",loadChildren:()=>w.e(9580).then(w.bind(w,9580)).then(S=>S.UnitTestingModule)}]},{path:"apps",loadChildren:()=>Promise.all([w.e(8232),w.e(5704),w.e(114)]).then(w.bind(w,114)).then(S=>S.UsefullAppsModule)},{path:"library-ex",loadChildren:()=>Promise.all([w.e(3810),w.e(8232),w.e(5704),w.e(2076),w.e(8948)]).then(w.bind(w,8948)).then(S=>S.LibraryExModule)},{path:"firebase",loadChildren:()=>Promise.all([w.e(3810),w.e(8232),w.e(8410),w.e(5704),w.e(9649)]).then(w.bind(w,9649)).then(S=>S.FirebaseModule)},{path:"tutorials",loadChildren:()=>Promise.all([w.e(8232),w.e(9752)]).then(w.bind(w,9752)).then(S=>S.TutorialsModule)},{path:"css",loadChildren:()=>Promise.all([w.e(3810),w.e(2076),w.e(8651)]).then(w.bind(w,8651)).then(S=>S.CssLearnModule)},{path:"code-task",loadChildren:()=>w.e(6404).then(w.bind(w,6404)).then(S=>S.CodeTaskModule)},{path:"custom",loadComponent:(S=(0,ce.A)(function*(){return(yield Promise.all([w.e(3810),w.e(2076),w.e(3993)]).then(w.bind(w,6374))).CustomComponent}),function(){return S.apply(this,arguments)})},{path:"declarative",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield w.e(562).then(w.bind(w,562))).DeclarativeModule});return function(){return S.apply(this,arguments)}}()},{path:"sidenav",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield w.e(2477).then(w.bind(w,2477))).SidenavModule});return function(){return S.apply(this,arguments)}}()},{path:"certificate",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield w.e(529).then(w.bind(w,529))).CertificateModule});return function(){return S.apply(this,arguments)}}()},{path:"systems",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield Promise.all([w.e(7122),w.e(7523)]).then(w.bind(w,7523))).SystemsModule});return function(){return S.apply(this,arguments)}}()},{path:"assignment",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield Promise.all([w.e(3810),w.e(9013)]).then(w.bind(w,9013))).AssignmentModule});return function(){return S.apply(this,arguments)}}()},{path:"",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield Promise.all([w.e(3810),w.e(5422),w.e(4877),w.e(2076),w.e(4176)]).then(w.bind(w,4176))).WebsiteModule});return function(){return S.apply(this,arguments)}}()},{path:"",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield w.e(2302).then(w.bind(w,2302))).DemosModule});return function(){return S.apply(this,arguments)}}()},{path:"",loadChildren:()=>w.e(7941).then(w.bind(w,7941))},{path:"markdown",loadChildren:function(){var S=(0,ce.A)(function*(){return(yield Promise.all([w.e(3810),w.e(2076),w.e(211)]).then(w.bind(w,211))).MarkdownModule});return function(){return S.apply(this,arguments)}}()},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:""}];var S;let lt=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({imports:[H.iI.forRoot(qt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),H.iI]})}}return S})();var qe=w(1626);let nn=(()=>{class S{constructor(y){this.http=y,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(y=>(this.configuration=y,y)).catch(y=>{console.error(y)})}getConfiguration(){return this.configuration}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(qe.Qq))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Bt=w(4412),Ze=w(8810),Gt=w(5558),Lt=w(7673),wn=w(9350),et=w(9437),on=w(8141),Jt=w(6354);let $n=(()=>{class S{constructor(y){this.http=y,this.alertSubject=new Bt.t(null),this.alertObservable=this.alertSubject.asObservable()}getUser(y){return this.http.get(`https://jsonplaceholder.typicode.com/users/${y}`).pipe((0,et.W)(A=>(0,Ze.$)(A)))}getToDo(y){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${y}`).pipe((0,et.W)(A=>(0,Ze.$)(A)))}setUser(y){console.log(y)}setToDos(y){console.log(y)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,Gt.n)(y=>(this.setUser(y),this.getToDo(y.id).pipe((0,on.M)(A=>this.setToDos(A))))),(0,et.W)(y=>(this.alertSubject.next(y),(0,Lt.of)(y))))}initialiseAppUsingPromises(){return function Nt(S,E){const y="object"==typeof E;return new Promise((A,$)=>{let Ie,oe=!1;S.subscribe({next:Me=>{Ie=Me,oe=!0},error:$,complete:()=>{oe?A(Ie):y?A(E.defaultValue):$(new wn.G)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,Jt.T)(y=>y))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,Jt.T)(y=>y))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,Jt.T)(y=>y))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,Jt.T)(y=>y))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,Jt.T)(y=>y))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(qe.Qq))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var br=w(1609);function Nr(S,E){if(1&S){const y=D.RV6();D.j41(0,"div",1),D.bIt("click",function(){D.eBV(y);const $=D.XpG();return D.Njj($.showNotification=!$.showNotification)}),D.j41(1,"p"),D.EFF(2),D.k0s()()}if(2&S){const y=D.XpG();D.R7$(2),D.JRh(y.notification)}}let bi=(()=>{class S{constructor(y){this.notificationService=y,this.notificationService.notification$.subscribe(A=>{this.notification=A,this.showNotification=!0})}ngOnInit(){}static{this.\u0275fac=function(A){return new(A||S)(D.rXU(br.J))}}static{this.\u0275cmp=D.VBU({type:S,selectors:[["app-notification"]],standalone:!1,decls:1,vars:1,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"]],template:function(A,$){1&A&&D.DNE(0,Nr,3,1,"div",0),2&A&&D.Y8G("ngIf",$.notification&&$.showNotification)},dependencies:[Te.bT],styles:[".notification[_ngcontent-%COMP%]{position:absolute;z-index:1;top:5px;line-height:20px;text-align:center;right:5px;background:linear-gradient(-90deg,#cb5cd2,#cc3fa0);color:#fff;font-style:oblique;text-transform:capitalize;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;min-height:20px;min-width:160px;max-width:300px;padding:15px;cursor:pointer}"]})}}return S})();var mr=w(1152);let Je=(()=>{class S{constructor(y,A,$){this.configurationService=y,this.jsonPlaceholderService=A,this.route=$,this.title="portfolio-all-in-one",this.version=D.xvI.major}ngOnInit(){window.addEventListener("beforeinstallprompt",y=>{console.log("'beforeinstallprompt' event was fired.")})}static{this.\u0275fac=function(A){return new(A||S)(D.rXU(nn),D.rXU($n),D.rXU(H.nX))}}static{this.\u0275cmp=D.VBU({type:S,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,template:function(A,$){1&A&&D.nrm(0,"app-notification")(1,"router-outlet")(2,"ng-toast")},dependencies:[H.n3,bi,mr.d3],encapsulation:2})}}return S})();function pt(S){return new D.wOt(3e3,!1)}function or(S){switch(S.length){case 0:return new Z.sf;case 1:return S[0];default:return new Z.ui(S)}}function gr(S,E,y=new Map,A=new Map){const $=[],oe=[];let Ie=-1,Me=null;if(E.forEach(We=>{const He=We.get("offset"),Ft=He==Ie,Dt=Ft&&Me||new Map;We.forEach((vn,Nn)=>{let Ht=Nn,Kt=vn;if("offset"!==Nn)switch(Ht=S.normalizePropertyName(Ht,$),Kt){case Z.FX:Kt=y.get(Nn);break;case Z.kp:Kt=A.get(Nn);break;default:Kt=S.normalizeStyleValue(Nn,Ht,Kt,$)}Dt.set(Ht,Kt)}),Ft||oe.push(Dt),Me=Dt,Ie=He}),$.length)throw function Ki(){return new D.wOt(3502,!1)}();return oe}function Pr(S,E,y,A){switch(E){case"start":S.onStart(()=>A(y&&yi(y,"start",S)));break;case"done":S.onDone(()=>A(y&&yi(y,"done",S)));break;case"destroy":S.onDestroy(()=>A(y&&yi(y,"destroy",S)))}}function yi(S,E,y){const oe=zi(S.element,S.triggerName,S.fromState,S.toState,E||S.phaseName,y.totalTime??S.totalTime,!!y.disabled),Ie=S._data;return null!=Ie&&(oe._data=Ie),oe}function zi(S,E,y,A,$="",oe=0,Ie){return{element:S,triggerName:E,fromState:y,toState:A,phaseName:$,totalTime:oe,disabled:!!Ie}}function De(S,E,y){let A=S.get(E);return A||S.set(E,A=y),A}function Oe(S){const E=S.indexOf(":");return[S.substring(1,E),S.slice(E+1)]}const de=typeof document>"u"?null:document.documentElement;function be(S){const E=S.parentNode||S.host||null;return E===de?null:E}let Ae=null,Ke=!1;function ar(S,E){for(;E;){if(E===S)return!0;E=be(E)}return!1}function Cn(S,E,y){if(y)return Array.from(S.querySelectorAll(E));const A=S.querySelector(E);return A?[A]:[]}let ti=(()=>{class S{validateStyleProperty(y){return function Vt(S){Ae||(Ae=function Tn(){return typeof document<"u"?document.body:null}()||{},Ke=!!Ae.style&&"WebkitAppearance"in Ae.style);let E=!0;return Ae.style&&!function re(S){return"ebkit"==S.substring(1,6)}(S)&&(E=S in Ae.style,!E&&Ke&&(E="Webkit"+S.charAt(0).toUpperCase()+S.slice(1)in Ae.style)),E}(y)}containsElement(y,A){return ar(y,A)}getParentElement(y){return be(y)}query(y,A,$){return Cn(y,A,$)}computeStyle(y,A,$){return $||""}animate(y,A,$,oe,Ie,Me=[],We){return new Z.sf($,oe)}static \u0275fac=function(A){return new(A||S)};static \u0275prov=D.jDH({token:S,factory:S.\u0275fac})}return S})();class Vi{static NOOP=new ti}class ui{}const cn="ng-enter",On="ng-leave",hn="ng-trigger",_r=".ng-trigger",Hr="ng-animating",ni=".ng-animating";function ai(S){if("number"==typeof S)return S;const E=S.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:gs(parseFloat(E[1]),E[2])}function gs(S,E){return"s"===E?1e3*S:S}function Ds(S,E,y){return S.hasOwnProperty("duration")?S:function Zs(S,E,y){let $,oe=0,Ie="";if("string"==typeof S){const Me=S.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Me)return E.push(pt()),{duration:0,delay:0,easing:""};$=gs(parseFloat(Me[1]),Me[2]);const We=Me[3];null!=We&&(oe=gs(parseFloat(We),Me[4]));const He=Me[5];He&&(Ie=He)}else $=S;if(!y){let Me=!1,We=E.length;$<0&&(E.push(function _t(){return new D.wOt(3100,!1)}()),Me=!0),oe<0&&(E.push(function It(){return new D.wOt(3101,!1)}()),Me=!0),Me&&E.splice(We,0,pt())}return{duration:$,delay:oe,easing:Ie}}(S,E,y)}function Mr(S,E,y){E.forEach((A,$)=>{const oe=Fn($);y&&!y.has($)&&y.set($,S.style[oe]),S.style[oe]=A})}function ge(S,E){E.forEach((y,A)=>{const $=Fn(A);S.style[$]=""})}function me(S){return Array.isArray(S)?1==S.length?S[0]:(0,Z.K2)(S):S}const Be=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tt(S){let E=[];if("string"==typeof S){let y;for(;y=Be.exec(S);)E.push(y[1]);Be.lastIndex=0}return E}function Rt(S,E,y){const A=`${S}`,$=A.replace(Be,(oe,Ie)=>{let Me=E[Ie];return null==Me&&(y.push(function pn(){return new D.wOt(3003,!1)}()),Me=""),Me.toString()});return $==A?S:$}const Xt=/-+([a-z0-9])/g;function Fn(S){return S.replace(Xt,(...E)=>E[1].toUpperCase())}function ln(S,E,y){switch(E.type){case Z.If.Trigger:return S.visitTrigger(E,y);case Z.If.State:return S.visitState(E,y);case Z.If.Transition:return S.visitTransition(E,y);case Z.If.Sequence:return S.visitSequence(E,y);case Z.If.Group:return S.visitGroup(E,y);case Z.If.Animate:return S.visitAnimate(E,y);case Z.If.Keyframes:return S.visitKeyframes(E,y);case Z.If.Style:return S.visitStyle(E,y);case Z.If.Reference:return S.visitReference(E,y);case Z.If.AnimateChild:return S.visitAnimateChild(E,y);case Z.If.AnimateRef:return S.visitAnimateRef(E,y);case Z.If.Query:return S.visitQuery(E,y);case Z.If.Stagger:return S.visitStagger(E,y);default:throw function mt(){return new D.wOt(3004,!1)}()}}function zn(S,E){return window.getComputedStyle(S)[E]}const di=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vi extends ui{normalizePropertyName(E,y){return Fn(E)}normalizeStyleValue(E,y,A,$){let oe="";const Ie=A.toString().trim();if(di.has(y)&&0!==A&&"0"!==A)if("number"==typeof A)oe="px";else{const Me=A.match(/^[+-]?[\d\.]+([a-z]*)$/);Me&&0==Me[1].length&&$.push(function it(){return new D.wOt(3005,!1)}())}return Ie+oe}}const rn=new Set(["true","1"]),tr=new Set(["false","0"]);function jr(S,E){const y=rn.has(S)||tr.has(S),A=rn.has(E)||tr.has(E);return($,oe)=>{let Ie="*"==S||S==$,Me="*"==E||E==oe;return!Ie&&y&&"boolean"==typeof $&&(Ie=$?rn.has(S):tr.has(S)),!Me&&A&&"boolean"==typeof oe&&(Me=oe?rn.has(E):tr.has(E)),Ie&&Me}}const xi=new RegExp("s*:selfs*,?","g");function gn(S,E,y,A){return new Ta(S).build(E,y,A)}class Ta{_driver;constructor(E){this._driver=E}build(E,y,A){const $=new ks(y);return this._resetContextStyleTimingState($),ln(this,me(E),$)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,y){let A=y.queryCount=0,$=y.depCount=0;const oe=[],Ie=[];return"@"==E.name.charAt(0)&&y.errors.push(function Le(){return new D.wOt(3006,!1)}()),E.definitions.forEach(Me=>{if(this._resetContextStyleTimingState(y),Me.type==Z.If.State){const We=Me,He=We.name;He.toString().split(/\s*,\s*/).forEach(Ft=>{We.name=Ft,oe.push(this.visitState(We,y))}),We.name=He}else if(Me.type==Z.If.Transition){const We=this.visitTransition(Me,y);A+=We.queryCount,$+=We.depCount,Ie.push(We)}else y.errors.push(function ht(){return new D.wOt(3007,!1)}())}),{type:Z.If.Trigger,name:E.name,states:oe,transitions:Ie,queryCount:A,depCount:$,options:null}}visitState(E,y){const A=this.visitStyle(E.styles,y),$=E.options&&E.options.params||null;if(A.containsDynamicStyles){const oe=new Set,Ie=$||{};A.styles.forEach(Me=>{Me instanceof Map&&Me.forEach(We=>{Tt(We).forEach(He=>{Ie.hasOwnProperty(He)||oe.add(He)})})}),oe.size&&y.errors.push(function Mt(){return new D.wOt(3008,!1)}(0,oe.values()))}return{type:Z.If.State,name:E.name,style:A,options:$?{params:$}:null}}visitTransition(E,y){y.queryCount=0,y.depCount=0;const A=ln(this,me(E.animation),y),$=function Ge(S,E){const y=[];return"string"==typeof S?S.split(/\s*,\s*/).forEach(A=>function dt(S,E,y){if(":"==S[0]){const We=function Zt(S,E){switch(S){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,A)=>parseFloat(A)>parseFloat(y);case":decrement":return(y,A)=>parseFloat(A)<parseFloat(y);default:return E.push(function sr(){return new D.wOt(3016,!1)}()),"* => *"}}(S,y);if("function"==typeof We)return void E.push(We);S=We}const A=S.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return y.push(function ei(){return new D.wOt(3015,!1)}()),E;const $=A[1],oe=A[2],Ie=A[3];E.push(jr($,Ie)),"<"==oe[0]&&("*"!=$||"*"!=Ie)&&E.push(jr(Ie,$))}(A,y,E)):y.push(S),y}(E.expr,y.errors);return{type:Z.If.Transition,matchers:$,animation:A,queryCount:y.queryCount,depCount:y.depCount,options:cr(E.options)}}visitSequence(E,y){return{type:Z.If.Sequence,steps:E.steps.map(A=>ln(this,A,y)),options:cr(E.options)}}visitGroup(E,y){const A=y.currentTime;let $=0;const oe=E.steps.map(Ie=>{y.currentTime=A;const Me=ln(this,Ie,y);return $=Math.max($,y.currentTime),Me});return y.currentTime=$,{type:Z.If.Group,steps:oe,options:cr(E.options)}}visitAnimate(E,y){const A=function rs(S,E){if(S.hasOwnProperty("duration"))return S;if("number"==typeof S)return Ui(Ds(S,E).duration,0,"");const y=S;if(y.split(/\s+/).some(oe=>"{"==oe.charAt(0)&&"{"==oe.charAt(1))){const oe=Ui(0,0,"");return oe.dynamic=!0,oe.strValue=y,oe}const $=Ds(y,E);return Ui($.duration,$.delay,$.easing)}(E.timings,y.errors);y.currentAnimateTimings=A;let $,oe=E.styles?E.styles:(0,Z.iF)({});if(oe.type==Z.If.Keyframes)$=this.visitKeyframes(oe,y);else{let Ie=E.styles,Me=!1;if(!Ie){Me=!0;const He={};A.easing&&(He.easing=A.easing),Ie=(0,Z.iF)(He)}y.currentTime+=A.duration+A.delay;const We=this.visitStyle(Ie,y);We.isEmptyStep=Me,$=We}return y.currentAnimateTimings=null,{type:Z.If.Animate,timings:A,style:$,options:null}}visitStyle(E,y){const A=this._makeStyleAst(E,y);return this._validateStyleAst(A,y),A}_makeStyleAst(E,y){const A=[],$=Array.isArray(E.styles)?E.styles:[E.styles];for(let Me of $)"string"==typeof Me?Me===Z.kp?A.push(Me):y.errors.push(new D.wOt(3002,!1)):A.push(new Map(Object.entries(Me)));let oe=!1,Ie=null;return A.forEach(Me=>{if(Me instanceof Map&&(Me.has("easing")&&(Ie=Me.get("easing"),Me.delete("easing")),!oe))for(let We of Me.values())if(We.toString().indexOf("{{")>=0){oe=!0;break}}),{type:Z.If.Style,styles:A,easing:Ie,offset:E.offset,containsDynamicStyles:oe,options:null}}_validateStyleAst(E,y){const A=y.currentAnimateTimings;let $=y.currentTime,oe=y.currentTime;A&&oe>0&&(oe-=A.duration+A.delay),E.styles.forEach(Ie=>{"string"!=typeof Ie&&Ie.forEach((Me,We)=>{const He=y.collectedStyles.get(y.currentQuerySelector),Ft=He.get(We);let Dt=!0;Ft&&(oe!=$&&oe>=Ft.startTime&&$<=Ft.endTime&&(y.errors.push(function ir(){return new D.wOt(3010,!1)}()),Dt=!1),oe=Ft.startTime),Dt&&He.set(We,{startTime:oe,endTime:$}),y.options&&function we(S,E,y){const A=E.params||{},$=Tt(S);$.length&&$.forEach(oe=>{A.hasOwnProperty(oe)||y.push(function At(){return new D.wOt(3001,!1)}())})}(Me,y.options,y.errors)})})}visitKeyframes(E,y){const A={type:Z.If.Keyframes,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function vr(){return new D.wOt(3011,!1)}()),A;let oe=0;const Ie=[];let Me=!1,We=!1,He=0;const Ft=E.steps.map($r=>{const Ar=this._makeStyleAst($r,y);let Ei=null!=Ar.offset?Ar.offset:function Hi(S){if("string"==typeof S)return null;let E=null;if(Array.isArray(S))S.forEach(y=>{if(y instanceof Map&&y.has("offset")){const A=y;E=parseFloat(A.get("offset")),A.delete("offset")}});else if(S instanceof Map&&S.has("offset")){const y=S;E=parseFloat(y.get("offset")),y.delete("offset")}return E}(Ar.styles),xr=0;return null!=Ei&&(oe++,xr=Ar.offset=Ei),We=We||xr<0||xr>1,Me=Me||xr<He,He=xr,Ie.push(xr),Ar});We&&y.errors.push(function Vr(){return new D.wOt(3012,!1)}()),Me&&y.errors.push(function Ai(){return new D.wOt(3200,!1)}());const Dt=E.steps.length;let vn=0;oe>0&&oe<Dt?y.errors.push(function Cs(){return new D.wOt(3202,!1)}()):0==oe&&(vn=1/(Dt-1));const Nn=Dt-1,Ht=y.currentTime,Kt=y.currentAnimateTimings,Br=Kt.duration;return Ft.forEach(($r,Ar)=>{const Ei=vn>0?Ar==Nn?1:vn*Ar:Ie[Ar],xr=Ei*Br;y.currentTime=Ht+Kt.delay+xr,Kt.duration=xr,this._validateStyleAst($r,y),$r.offset=Ei,A.styles.push($r)}),A}visitReference(E,y){return{type:Z.If.Reference,animation:ln(this,me(E.animation),y),options:cr(E.options)}}visitAnimateChild(E,y){return y.depCount++,{type:Z.If.AnimateChild,options:cr(E.options)}}visitAnimateRef(E,y){return{type:Z.If.AnimateRef,animation:this.visitReference(E.animation,y),options:cr(E.options)}}visitQuery(E,y){const A=y.currentQuerySelector,$=E.options||{};y.queryCount++,y.currentQuery=E;const[oe,Ie]=function Ps(S){const E=!!S.split(/\s*,\s*/).find(y=>":self"==y);return E&&(S=S.replace(xi,"")),S=S.replace(/@\*/g,_r).replace(/@\w+/g,y=>_r+"-"+y.slice(1)).replace(/:animating/g,ni),[S,E]}(E.selector);y.currentQuerySelector=A.length?A+" "+oe:oe,De(y.collectedStyles,y.currentQuerySelector,new Map);const Me=ln(this,me(E.animation),y);return y.currentQuery=null,y.currentQuerySelector=A,{type:Z.If.Query,selector:oe,limit:$.limit||0,optional:!!$.optional,includeSelf:Ie,animation:Me,originalSelector:E.selector,options:cr(E.options)}}visitStagger(E,y){y.currentQuery||y.errors.push(function Qt(){return new D.wOt(3013,!1)}());const A="full"===E.timings?{duration:0,delay:0,easing:"full"}:Ds(E.timings,y.errors,!0);return{type:Z.If.Stagger,animation:ln(this,me(E.animation),y),timings:A,options:null}}}class ks{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(E){this.errors=E}}function cr(S){return S?(S={...S}).params&&(S.params=function Ii(S){return S?{...S}:null}(S.params)):S={},S}function Ui(S,E,y){return{duration:S,delay:E,easing:y}}function Bs(S,E,y,A,$,oe,Ie=null,Me=!1){return{type:1,element:S,keyframes:E,preStyleProps:y,postStyleProps:A,duration:$,delay:oe,totalTime:$+oe,easing:Ie,subTimeline:Me}}class ws{_map=new Map;get(E){return this._map.get(E)||[]}append(E,y){let A=this._map.get(E);A||this._map.set(E,A=[]),A.push(...y)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const Wi=new RegExp(":enter","g"),hi=new RegExp(":leave","g");function tc(S,E,y,A,$,oe=new Map,Ie=new Map,Me,We,He=[]){return(new dn).buildKeyframes(S,E,y,A,$,oe,Ie,Me,We,He)}class dn{buildKeyframes(E,y,A,$,oe,Ie,Me,We,He,Ft=[]){He=He||new ws;const Dt=new qi(E,y,He,$,oe,Ft,[]);Dt.options=We;const vn=We.delay?ai(We.delay):0;Dt.currentTimeline.delayNextStep(vn),Dt.currentTimeline.setStyles([Ie],null,Dt.errors,We),ln(this,A,Dt);const Nn=Dt.timelines.filter(Ht=>Ht.containsAnimation());if(Nn.length&&Me.size){let Ht;for(let Kt=Nn.length-1;Kt>=0;Kt--){const Br=Nn[Kt];if(Br.element===y){Ht=Br;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([Me],null,Dt.errors,We)}return Nn.length?Nn.map(Ht=>Ht.buildKeyframes()):[Bs(y,[],[],[],0,vn,"",!1)]}visitTrigger(E,y){}visitState(E,y){}visitTransition(E,y){}visitAnimateChild(E,y){const A=y.subInstructions.get(y.element);if(A){const $=y.createSubContext(E.options),oe=y.currentTimeline.currentTime,Ie=this._visitSubInstructions(A,$,$.options);oe!=Ie&&y.transformIntoNewTimeline(Ie)}y.previousNode=E}visitAnimateRef(E,y){const A=y.createSubContext(E.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],y,A),this.visitReference(E.animation,A),y.transformIntoNewTimeline(A.currentTimeline.currentTime),y.previousNode=E}_applyAnimationRefDelays(E,y,A){for(const $ of E){const oe=$?.delay;if(oe){const Ie="number"==typeof oe?oe:ai(Rt(oe,$?.params??{},y.errors));A.delayNextStep(Ie)}}}_visitSubInstructions(E,y,A){let oe=y.currentTimeline.currentTime;const Ie=null!=A.duration?ai(A.duration):null,Me=null!=A.delay?ai(A.delay):null;return 0!==Ie&&E.forEach(We=>{const He=y.appendInstructionToTimeline(We,Ie,Me);oe=Math.max(oe,He.duration+He.delay)}),oe}visitReference(E,y){y.updateOptions(E.options,!0),ln(this,E.animation,y),y.previousNode=E}visitSequence(E,y){const A=y.subContextCount;let $=y;const oe=E.options;if(oe&&(oe.params||oe.delay)&&($=y.createSubContext(oe),$.transformIntoNewTimeline(),null!=oe.delay)){$.previousNode.type==Z.If.Style&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=is);const Ie=ai(oe.delay);$.delayNextStep(Ie)}E.steps.length&&(E.steps.forEach(Ie=>ln(this,Ie,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>A&&$.transformIntoNewTimeline()),y.previousNode=E}visitGroup(E,y){const A=[];let $=y.currentTimeline.currentTime;const oe=E.options&&E.options.delay?ai(E.options.delay):0;E.steps.forEach(Ie=>{const Me=y.createSubContext(E.options);oe&&Me.delayNextStep(oe),ln(this,Ie,Me),$=Math.max($,Me.currentTimeline.currentTime),A.push(Me.currentTimeline)}),A.forEach(Ie=>y.currentTimeline.mergeTimelineCollectedStyles(Ie)),y.transformIntoNewTimeline($),y.previousNode=E}_visitTiming(E,y){if(E.dynamic){const A=E.strValue;return Ds(y.params?Rt(A,y.params,y.errors):A,y.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,y){const A=y.currentAnimateTimings=this._visitTiming(E.timings,y),$=y.currentTimeline;A.delay&&(y.incrementTime(A.delay),$.snapshotCurrentStyles());const oe=E.style;oe.type==Z.If.Keyframes?this.visitKeyframes(oe,y):(y.incrementTime(A.duration),this.visitStyle(oe,y),$.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=E}visitStyle(E,y){const A=y.currentTimeline,$=y.currentAnimateTimings;!$&&A.hasCurrentStyleProperties()&&A.forwardFrame();const oe=$&&$.easing||E.easing;E.isEmptyStep?A.applyEmptyStep(oe):A.setStyles(E.styles,oe,y.errors,y.options),y.previousNode=E}visitKeyframes(E,y){const A=y.currentAnimateTimings,$=y.currentTimeline.duration,oe=A.duration,Me=y.createSubContext().currentTimeline;Me.easing=A.easing,E.styles.forEach(We=>{Me.forwardTime((We.offset||0)*oe),Me.setStyles(We.styles,We.easing,y.errors,y.options),Me.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(Me),y.transformIntoNewTimeline($+oe),y.previousNode=E}visitQuery(E,y){const A=y.currentTimeline.currentTime,$=E.options||{},oe=$.delay?ai($.delay):0;oe&&(y.previousNode.type===Z.If.Style||0==A&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=is);let Ie=A;const Me=y.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!$.optional,y.errors);y.currentQueryTotal=Me.length;let We=null;Me.forEach((He,Ft)=>{y.currentQueryIndex=Ft;const Dt=y.createSubContext(E.options,He);oe&&Dt.delayNextStep(oe),He===y.element&&(We=Dt.currentTimeline),ln(this,E.animation,Dt),Dt.currentTimeline.applyStylesToKeyframe(),Ie=Math.max(Ie,Dt.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(Ie),We&&(y.currentTimeline.mergeTimelineCollectedStyles(We),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=E}visitStagger(E,y){const A=y.parentContext,$=y.currentTimeline,oe=E.timings,Ie=Math.abs(oe.duration),Me=Ie*(y.currentQueryTotal-1);let We=Ie*y.currentQueryIndex;switch(oe.duration<0?"reverse":oe.easing){case"reverse":We=Me-We;break;case"full":We=A.currentStaggerTime}const Ft=y.currentTimeline;We&&Ft.delayNextStep(We);const Dt=Ft.currentTime;ln(this,E.animation,y),y.previousNode=E,A.currentStaggerTime=$.currentTime-Dt+($.startTime-A.currentTimeline.startTime)}}const is={};class qi{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=is;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(E,y,A,$,oe,Ie,Me,We){this._driver=E,this.element=y,this.subInstructions=A,this._enterClassName=$,this._leaveClassName=oe,this.errors=Ie,this.timelines=Me,this.currentTimeline=We||new Js(this._driver,y,0),Me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,y){if(!E)return;const A=E;let $=this.options;null!=A.duration&&($.duration=ai(A.duration)),null!=A.delay&&($.delay=ai(A.delay));const oe=A.params;if(oe){let Ie=$.params;Ie||(Ie=this.options.params={}),Object.keys(oe).forEach(Me=>{(!y||!Ie.hasOwnProperty(Me))&&(Ie[Me]=Rt(oe[Me],Ie,this.errors))})}}_copyOptions(){const E={};if(this.options){const y=this.options.params;if(y){const A=E.params={};Object.keys(y).forEach($=>{A[$]=y[$]})}}return E}createSubContext(E=null,y,A){const $=y||this.element,oe=new qi(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,A||0));return oe.previousNode=this.previousNode,oe.currentAnimateTimings=this.currentAnimateTimings,oe.options=this._copyOptions(),oe.updateOptions(E),oe.currentQueryIndex=this.currentQueryIndex,oe.currentQueryTotal=this.currentQueryTotal,oe.parentContext=this,this.subContextCount++,oe}transformIntoNewTimeline(E){return this.previousNode=is,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,y,A){const $={duration:y??E.duration,delay:this.currentTimeline.currentTime+(A??0)+E.delay,easing:""},oe=new si(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,$,E.stretchStartingKeyframe);return this.timelines.push(oe),$}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,y,A,$,oe,Ie){let Me=[];if($&&Me.push(this.element),E.length>0){E=(E=E.replace(Wi,"."+this._enterClassName)).replace(hi,"."+this._leaveClassName);let He=this._driver.query(this.element,E,1!=A);0!==A&&(He=A<0?He.slice(He.length+A,He.length):He.slice(0,A)),Me.push(...He)}return!oe&&0==Me.length&&Ie.push(function Zr(){return new D.wOt(3014,!1)}()),Me}}class Js{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(E,y,A,$){this._driver=E,this.element=y,this.startTime=A,this._elementTimelineStylesLookup=$,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+E),y&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,y){return this.applyStylesToKeyframe(),new Js(this._driver,E,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,y){this._localTimelineStyles.set(E,y),this._globalTimelineStyles.set(E,y),this._styleSummary.set(E,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[y,A]of this._globalTimelineStyles)this._backFill.set(y,A||Z.kp),this._currentKeyframe.set(y,Z.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,y,A,$){y&&this._previousKeyframe.set("easing",y);const oe=$&&$.params||{},Ie=function Sa(S,E){const y=new Map;let A;return S.forEach($=>{if("*"===$){A??=E.keys();for(let oe of A)y.set(oe,Z.kp)}else for(let[oe,Ie]of $)y.set(oe,Ie)}),y}(E,this._globalTimelineStyles);for(let[Me,We]of Ie){const He=Rt(We,oe,A);this._pendingStyles.set(Me,He),this._localTimelineStyles.has(Me)||this._backFill.set(Me,this._globalTimelineStyles.get(Me)??Z.kp),this._updateStyle(Me,He)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,y)=>{this._currentKeyframe.set(y,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,E)}))}snapshotCurrentStyles(){for(let[E,y]of this._localTimelineStyles)this._pendingStyles.set(E,y),this._updateStyle(E,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let y in this._currentKeyframe)E.push(y);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((y,A)=>{const $=this._styleSummary.get(A);(!$||y.time>$.time)&&this._updateStyle(A,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,y=new Set,A=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((Me,We)=>{const He=new Map([...this._backFill,...Me]);He.forEach((Ft,Dt)=>{Ft===Z.FX?E.add(Dt):Ft===Z.kp&&y.add(Dt)}),A||He.set("offset",We/this.duration),$.push(He)});const oe=[...E.values()],Ie=[...y.values()];if(A){const Me=$[0],We=new Map(Me);Me.set("offset",0),We.set("offset",1),$=[Me,We]}return Bs(this.element,$,oe,Ie,this.duration,this.startTime,this.easing,!1)}}class si extends Js{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(E,y,A,$,oe,Ie,Me=!1){super(E,y,Ie.delay),this.keyframes=A,this.preStyleProps=$,this.postStyleProps=oe,this._stretchStartingKeyframe=Me,this.timings={duration:Ie.duration,delay:Ie.delay,easing:Ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:y,duration:A,easing:$}=this.timings;if(this._stretchStartingKeyframe&&y){const oe=[],Ie=A+y,Me=y/Ie,We=new Map(E[0]);We.set("offset",0),oe.push(We);const He=new Map(E[0]);He.set("offset",xo(Me)),oe.push(He);const Ft=E.length-1;for(let Dt=1;Dt<=Ft;Dt++){let vn=new Map(E[Dt]);const Nn=vn.get("offset");vn.set("offset",xo((y+Nn*A)/Ie)),oe.push(vn)}A=Ie,y=0,$="",E=oe}return Bs(this.element,E,this.preStyleProps,this.postStyleProps,A,y,$,!0)}}function xo(S,E=3){const y=Math.pow(10,E-1);return Math.round(S*y)/y}function To(S,E,y,A,$,oe,Ie,Me,We,He,Ft,Dt,vn){return{type:0,element:S,triggerName:E,isRemovalTransition:$,fromState:y,fromStyles:oe,toState:A,toStyles:Ie,timelines:Me,queriedElements:We,preStyleProps:He,postStyleProps:Ft,totalTime:Dt,errors:vn}}const eo={};class ba{_triggerName;ast;_stateStyles;constructor(E,y,A){this._triggerName=E,this.ast=y,this._stateStyles=A}match(E,y,A,$){return function Ts(S,E,y,A,$){return S.some(oe=>oe(E,y,A,$))}(this.ast.matchers,E,y,A,$)}buildStyles(E,y,A){let $=this._stateStyles.get("*");return void 0!==E&&($=this._stateStyles.get(E?.toString())||$),$?$.buildStyles(y,A):new Map}build(E,y,A,$,oe,Ie,Me,We,He,Ft){const Dt=[],vn=this.ast.options&&this.ast.options.params||eo,Ht=this.buildStyles(A,Me&&Me.params||eo,Dt),Kt=We&&We.params||eo,Br=this.buildStyles($,Kt,Dt),$r=new Set,Ar=new Map,Ei=new Map,xr="void"===$,Gi={params:Un(Kt,vn),delay:this.ast.options?.delay},Yr=Ft?[]:tc(E,y,this.ast.animation,oe,Ie,Ht,Br,Gi,He,Dt);let ns=0;return Yr.forEach(us=>{ns=Math.max(us.duration+us.delay,ns)}),Dt.length?To(y,this._triggerName,A,$,xr,Ht,Br,[],[],Ar,Ei,ns,Dt):(Yr.forEach(us=>{const f=us.element,u=De(Ar,f,new Set);us.preStyleProps.forEach(_=>u.add(_));const h=De(Ei,f,new Set);us.postStyleProps.forEach(_=>h.add(_)),f!==y&&$r.add(f)}),To(y,this._triggerName,A,$,xr,Ht,Br,Yr,[...$r.values()],Ar,Ei,ns))}}function Un(S,E){const y={...E};return Object.entries(S).forEach(([A,$])=>{null!=$&&(y[A]=$)}),y}class So{styles;defaultParams;normalizer;constructor(E,y,A){this.styles=E,this.defaultParams=y,this.normalizer=A}buildStyles(E,y){const A=new Map,$=Un(E,this.defaultParams);return this.styles.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((Ie,Me)=>{Ie&&(Ie=Rt(Ie,$,y));const We=this.normalizer.normalizePropertyName(Me,y);Ie=this.normalizer.normalizeStyleValue(Me,We,Ie,y),A.set(Me,Ie)})}),A}}class bo{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(E,y,A){this.name=E,this.ast=y,this._normalizer=A,y.states.forEach($=>{this.states.set($.name,new So($.style,$.options&&$.options.params||{},A))}),Po(this.states,"true","1"),Po(this.states,"false","0"),y.transitions.forEach($=>{this.transitionFactories.push(new ba(E,$,this.states))}),this.fallbackTransition=function Gr(S,E){return new ba(S,{type:Z.If.Transition,animation:{type:Z.If.Sequence,steps:[],options:null},matchers:[(Ie,Me)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,y,A,$){return this.transitionFactories.find(Ie=>Ie.match(E,y,A,$))||null}matchStyles(E,y,A){return this.fallbackTransition.buildStyles(E,y,A)}}function Po(S,E,y){S.has(E)?S.has(y)||S.set(y,S.get(E)):S.has(y)&&S.set(E,S.get(y))}const ao=new ws;class ko{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(E,y,A){this.bodyNode=E,this._driver=y,this._normalizer=A}register(E,y){const A=[],oe=gn(this._driver,y,A,[]);if(A.length)throw function Er(){return new D.wOt(3503,!1)}();this._animations.set(E,oe)}_buildPlayer(E,y,A){const $=E.element,oe=gr(this._normalizer,E.keyframes,y,A);return this._driver.animate($,oe,E.duration,E.delay,E.easing,[],!0)}create(E,y,A={}){const $=[],oe=this._animations.get(E);let Ie;const Me=new Map;if(oe?(Ie=tc(this._driver,y,oe,cn,On,new Map,new Map,A,ao,$),Ie.forEach(Ft=>{const Dt=De(Me,Ft.element,new Map);Ft.postStyleProps.forEach(vn=>Dt.set(vn,null))})):($.push(function oi(){return new D.wOt(3300,!1)}()),Ie=[]),$.length)throw function Oi(){return new D.wOt(3504,!1)}();Me.forEach((Ft,Dt)=>{Ft.forEach((vn,Nn)=>{Ft.set(Nn,this._driver.computeStyle(Dt,Nn,Z.kp))})});const He=or(Ie.map(Ft=>{const Dt=Me.get(Ft.element);return this._buildPlayer(Ft,new Map,Dt)}));return this._playersById.set(E,He),He.onDestroy(()=>this.destroy(E)),this.players.push(He),He}destroy(E){const y=this._getPlayer(E);y.destroy(),this._playersById.delete(E);const A=this.players.indexOf(y);A>=0&&this.players.splice(A,1)}_getPlayer(E){const y=this._playersById.get(E);if(!y)throw function li(){return new D.wOt(3301,!1)}();return y}listen(E,y,A,$){const oe=zi(y,"","","");return Pr(this._getPlayer(E),A,oe,$),()=>{}}command(E,y,A,$){if("register"==A)return void this.register(E,$[0]);if("create"==A)return void this.create(E,y,$[0]||{});const oe=this._getPlayer(E);switch(A){case"play":oe.play();break;case"pause":oe.pause();break;case"reset":oe.reset();break;case"restart":oe.restart();break;case"finish":oe.finish();break;case"init":oe.init();break;case"setPosition":oe.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(E)}}}const La="ng-animate-queued",co="ng-animate-disabled",uo=[],ca={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed";class ss{namespaceId;value;options;get params(){return this.options.params}constructor(E,y=""){this.namespaceId=y;const A=E&&E.hasOwnProperty("value");if(this.value=function Xi(S){return S??null}(A?E.value:E),A){const{value:oe,...Ie}=E;this.options=Ie}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const y=E.params;if(y){const A=this.options.params;Object.keys(y).forEach($=>{null==A[$]&&(A[$]=y[$])})}}}const ho="void",Lo=new ss(ho);class Va{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(E,y,A){this.id=E,this.hostElement=y,this._engine=A,this._hostClassName="ng-tns-"+E,ys(y,this._hostClassName)}listen(E,y,A,$){if(!this._triggers.has(y))throw function fs(){return new D.wOt(3302,!1)}();if(null==A||0==A.length)throw function Zn(){return new D.wOt(3303,!1)}();if(!function $s(S){return"start"==S||"done"==S}(A))throw function Us(){return new D.wOt(3400,!1)}();const oe=De(this._elementListeners,E,[]),Ie={name:y,phase:A,callback:$};oe.push(Ie);const Me=De(this._engine.statesByElement,E,new Map);return Me.has(y)||(ys(E,hn),ys(E,hn+"-"+y),Me.set(y,Lo)),()=>{this._engine.afterFlush(()=>{const We=oe.indexOf(Ie);We>=0&&oe.splice(We,1),this._triggers.has(y)||Me.delete(y)})}}register(E,y){return!this._triggers.has(E)&&(this._triggers.set(E,y),!0)}_getTrigger(E){const y=this._triggers.get(E);if(!y)throw function Mn(){return new D.wOt(3401,!1)}();return y}trigger(E,y,A,$=!0){const oe=this._getTrigger(y),Ie=new nr(this.id,y,E);let Me=this._engine.statesByElement.get(E);Me||(ys(E,hn),ys(E,hn+"-"+y),this._engine.statesByElement.set(E,Me=new Map));let We=Me.get(y);const He=new ss(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&We&&He.absorbOptions(We.options),Me.set(y,He),We||(We=Lo),He.value!==ho&&We.value===He.value){if(!function ue(S,E){const y=Object.keys(S),A=Object.keys(E);if(y.length!=A.length)return!1;for(let $=0;$<y.length;$++){const oe=y[$];if(!E.hasOwnProperty(oe)||S[oe]!==E[oe])return!1}return!0}(We.params,He.params)){const Kt=[],Br=oe.matchStyles(We.value,We.params,Kt),$r=oe.matchStyles(He.value,He.params,Kt);Kt.length?this._engine.reportError(Kt):this._engine.afterFlush(()=>{ge(E,Br),Mr(E,$r)})}return}const vn=De(this._engine.playersByElement,E,[]);vn.forEach(Kt=>{Kt.namespaceId==this.id&&Kt.triggerName==y&&Kt.queued&&Kt.destroy()});let Nn=oe.matchTransition(We.value,He.value,E,He.params),Ht=!1;if(!Nn){if(!$)return;Nn=oe.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:y,transition:Nn,fromState:We,toState:He,player:Ie,isFallbackTransition:Ht}),Ht||(ys(E,La),Ie.onStart(()=>{Hs(E,La)})),Ie.onDone(()=>{let Kt=this.players.indexOf(Ie);Kt>=0&&this.players.splice(Kt,1);const Br=this._engine.playersByElement.get(E);if(Br){let $r=Br.indexOf(Ie);$r>=0&&Br.splice($r,1)}}),this.players.push(Ie),vn.push(Ie),Ie}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(y=>y.delete(E)),this._elementListeners.forEach((y,A)=>{this._elementListeners.set(A,y.filter($=>$.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const y=this._engine.playersByElement.get(E);y&&(y.forEach(A=>A.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,y){const A=this._engine.driver.query(E,_r,!0);A.forEach($=>{if($[hr])return;const oe=this._engine.fetchNamespacesByElement($);oe.size?oe.forEach(Ie=>Ie.triggerLeaveAnimation($,y,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>A.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(E,y,A,$){const oe=this._engine.statesByElement.get(E),Ie=new Map;if(oe){const Me=[];if(oe.forEach((We,He)=>{if(Ie.set(He,We.value),this._triggers.has(He)){const Ft=this.trigger(E,He,ho,$);Ft&&Me.push(Ft)}}),Me.length)return this._engine.markElementAsRemoved(this.id,E,!0,y,Ie),A&&or(Me).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const y=this._elementListeners.get(E),A=this._engine.statesByElement.get(E);if(y&&A){const $=new Set;y.forEach(oe=>{const Ie=oe.name;if($.has(Ie))return;$.add(Ie);const We=this._triggers.get(Ie).fallbackTransition,He=A.get(Ie)||Lo,Ft=new ss(ho),Dt=new nr(this.id,Ie,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:Ie,transition:We,fromState:He,toState:Ft,player:Dt,isFallbackTransition:!0})})}}removeNode(E,y){const A=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,y),this.triggerLeaveAnimation(E,y,!0))return;let $=!1;if(A.totalAnimations){const oe=A.players.length?A.playersByQueriedElement.get(E):[];if(oe&&oe.length)$=!0;else{let Ie=E;for(;Ie=Ie.parentNode;)if(A.statesByElement.get(Ie)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(E),$)A.markElementAsRemoved(this.id,E,!1,y);else{const oe=E[hr];(!oe||oe===ca)&&(A.afterFlush(()=>this.clearElementCache(E)),A.destroyInnerAnimations(E),A._onRemovalComplete(E,y))}}insertNode(E,y){ys(E,this._hostClassName)}drainQueuedTransitions(E){const y=[];return this._queue.forEach(A=>{const $=A.player;if($.destroyed)return;const oe=A.element,Ie=this._elementListeners.get(oe);Ie&&Ie.forEach(Me=>{if(Me.name==A.triggerName){const We=zi(oe,A.triggerName,A.fromState.value,A.toState.value);We._data=E,Pr(A.player,Me.phase,We,Me.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):y.push(A)}),this._queue=[],y.sort((A,$)=>{const oe=A.transition.ast.depCount,Ie=$.transition.ast.depCount;return 0==oe||0==Ie?oe-Ie:this._engine.driver.containsElement(A.element,$.element)?1:-1})}destroy(E){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class os{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(E,y)=>{};_onRemovalComplete(E,y){this.onRemovalComplete(E,y)}constructor(E,y,A){this.bodyNode=E,this.driver=y,this._normalizer=A}get queuedPlayers(){const E=[];return this._namespaceList.forEach(y=>{y.players.forEach(A=>{A.queued&&E.push(A)})}),E}createNamespace(E,y){const A=new Va(E,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(A,y):(this.newHostElements.set(y,A),this.collectEnterElement(y)),this._namespaceLookup[E]=A}_balanceNamespaceList(E,y){const A=this._namespaceList,$=this.namespacesByHostElement;if(A.length-1>=0){let Ie=!1,Me=this.driver.getParentElement(y);for(;Me;){const We=$.get(Me);if(We){const He=A.indexOf(We);A.splice(He+1,0,E),Ie=!0;break}Me=this.driver.getParentElement(Me)}Ie||A.unshift(E)}else A.push(E);return $.set(y,E),E}register(E,y){let A=this._namespaceLookup[E];return A||(A=this.createNamespace(E,y)),A}registerTrigger(E,y,A){let $=this._namespaceLookup[E];$&&$.register(y,A)&&this.totalAnimations++}destroy(E,y){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const A=this._fetchNamespace(E);this.namespacesByHostElement.delete(A.hostElement);const $=this._namespaceList.indexOf(A);$>=0&&this._namespaceList.splice($,1),A.destroy(y),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const y=new Set,A=this.statesByElement.get(E);if(A)for(let $ of A.values())if($.namespaceId){const oe=this._fetchNamespace($.namespaceId);oe&&y.add(oe)}return y}trigger(E,y,A,$){if(Yi(y)){const oe=this._fetchNamespace(E);if(oe)return oe.trigger(y,A,$),!0}return!1}insertNode(E,y,A,$){if(!Yi(y))return;const oe=y[hr];if(oe&&oe.setForRemoval){oe.setForRemoval=!1,oe.setForMove=!0;const Ie=this.collectedLeaveElements.indexOf(y);Ie>=0&&this.collectedLeaveElements.splice(Ie,1)}if(E){const Ie=this._fetchNamespace(E);Ie&&Ie.insertNode(y,A)}$&&this.collectEnterElement(y)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,y){y?this.disabledNodes.has(E)||(this.disabledNodes.add(E),ys(E,co)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),Hs(E,co))}removeNode(E,y,A){if(Yi(y)){const $=E?this._fetchNamespace(E):null;$?$.removeNode(y,A):this.markElementAsRemoved(E,y,!1,A);const oe=this.namespacesByHostElement.get(y);oe&&oe.id!==E&&oe.removeNode(y,A)}else this._onRemovalComplete(y,A)}markElementAsRemoved(E,y,A,$,oe){this.collectedLeaveElements.push(y),y[hr]={namespaceId:E,setForRemoval:$,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:oe}}listen(E,y,A,$,oe){return Yi(y)?this._fetchNamespace(E).listen(y,A,$,oe):()=>{}}_buildInstruction(E,y,A,$,oe){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,A,$,E.fromState.options,E.toState.options,y,oe)}destroyInnerAnimations(E){let y=this.driver.query(E,_r,!0);y.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(E,ni,!0),y.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(E){const y=this.playersByElement.get(E);y&&y.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(E){const y=this.playersByQueriedElement.get(E);y&&y.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return or(this.players).onDone(()=>E());E()})}processLeaveNode(E){const y=E[hr];if(y&&y.setForRemoval){if(E[hr]=ca,y.namespaceId){this.destroyInnerAnimations(E);const A=this._fetchNamespace(y.namespaceId);A&&A.clearElementCache(E)}this._onRemovalComplete(E,y.setForRemoval)}E.classList?.contains(co)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(E=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,$)=>this._balanceNamespaceList(A,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)ys(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{y=this._flushAnimations(A,E)}finally{for(let $=0;$<A.length;$++)A[$]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],y.length?or(y).onDone(()=>{A.forEach($=>$())}):A.forEach($=>$())}}reportError(E){throw function ps(){return new D.wOt(3402,!1)}()}_flushAnimations(E,y){const A=new ws,$=[],oe=new Map,Ie=[],Me=new Map,We=new Map,He=new Map,Ft=new Set;this.disabledNodes.forEach(ae=>{Ft.add(ae);const Ce=this.driver.query(ae,".ng-animate-queued",!0);for(let Ne=0;Ne<Ce.length;Ne++)Ft.add(Ce[Ne])});const Dt=this.bodyNode,vn=Array.from(this.statesByElement.keys()),Nn=fo(vn,this.collectedEnterElements),Ht=new Map;let Kt=0;Nn.forEach((ae,Ce)=>{const Ne=cn+Kt++;Ht.set(Ce,Ne),ae.forEach(ot=>ys(ot,Ne))});const Br=[],$r=new Set,Ar=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){const Ce=this.collectedLeaveElements[ae],Ne=Ce[hr];Ne&&Ne.setForRemoval&&(Br.push(Ce),$r.add(Ce),Ne.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(ot=>$r.add(ot)):Ar.add(Ce))}const Ei=new Map,xr=fo(vn,Array.from($r));xr.forEach((ae,Ce)=>{const Ne=On+Kt++;Ei.set(Ce,Ne),ae.forEach(ot=>ys(ot,Ne))}),E.push(()=>{Nn.forEach((ae,Ce)=>{const Ne=Ht.get(Ce);ae.forEach(ot=>Hs(ot,Ne))}),xr.forEach((ae,Ce)=>{const Ne=Ei.get(Ce);ae.forEach(ot=>Hs(ot,Ne))}),Br.forEach(ae=>{this.processLeaveNode(ae)})});const Gi=[],Yr=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(y).forEach(Ne=>{const ot=Ne.player,Ct=Ne.element;if(Gi.push(ot),this.collectedEnterElements.length){const Lr=Ct[hr];if(Lr&&Lr.setForMove){if(Lr.previousTriggersValues&&Lr.previousTriggersValues.has(Ne.triggerName)){const vc=Lr.previousTriggersValues.get(Ne.triggerName),Ca=this.statesByElement.get(Ne.element);if(Ca&&Ca.has(Ne.triggerName)){const Qu=Ca.get(Ne.triggerName);Qu.value=vc,Ca.set(Ne.triggerName,Qu)}}return void ot.destroy()}}const kt=!Dt||!this.driver.containsElement(Dt,Ct),fn=Ei.get(Ct),Vn=Ht.get(Ct),ur=this._buildInstruction(Ne,A,Vn,fn,kt);if(ur.errors&&ur.errors.length)return void Yr.push(ur);if(kt)return ot.onStart(()=>ge(Ct,ur.fromStyles)),ot.onDestroy(()=>Mr(Ct,ur.toStyles)),void $.push(ot);if(Ne.isFallbackTransition)return ot.onStart(()=>ge(Ct,ur.fromStyles)),ot.onDestroy(()=>Mr(Ct,ur.toStyles)),void $.push(ot);const Co=[];ur.timelines.forEach(Lr=>{Lr.stretchStartingKeyframe=!0,this.disabledNodes.has(Lr.element)||Co.push(Lr)}),ur.timelines=Co,A.append(Ct,ur.timelines),Ie.push({instruction:ur,player:ot,element:Ct}),ur.queriedElements.forEach(Lr=>De(Me,Lr,[]).push(ot)),ur.preStyleProps.forEach((Lr,vc)=>{if(Lr.size){let Ca=We.get(vc);Ca||We.set(vc,Ca=new Set),Lr.forEach((Qu,Nl)=>Ca.add(Nl))}}),ur.postStyleProps.forEach((Lr,vc)=>{let Ca=He.get(vc);Ca||He.set(vc,Ca=new Set),Lr.forEach((Qu,Nl)=>Ca.add(Nl))})});if(Yr.length){const ae=[];Yr.forEach(Ce=>{ae.push(function Gn(){return new D.wOt(3505,!1)}())}),Gi.forEach(Ce=>Ce.destroy()),this.reportError(ae)}const ns=new Map,us=new Map;Ie.forEach(ae=>{const Ce=ae.element;A.has(Ce)&&(us.set(Ce,Ce),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,ns))}),$.forEach(ae=>{const Ce=ae.element;this._getPreviousPlayers(Ce,!1,ae.namespaceId,ae.triggerName,null).forEach(ot=>{De(ns,Ce,[]).push(ot),ot.destroy()})});const f=Br.filter(ae=>ke(ae,We,He)),u=new Map;to(u,this.driver,Ar,He,Z.kp).forEach(ae=>{ke(ae,We,He)&&f.push(ae)});const _=new Map;Nn.forEach((ae,Ce)=>{to(_,this.driver,new Set(ae),We,Z.FX)}),f.forEach(ae=>{const Ce=u.get(ae),Ne=_.get(ae);u.set(ae,new Map([...Ce?.entries()??[],...Ne?.entries()??[]]))});const O=[],B=[],Q={};Ie.forEach(ae=>{const{element:Ce,player:Ne,instruction:ot}=ae;if(A.has(Ce)){if(Ft.has(Ce))return Ne.onDestroy(()=>Mr(Ce,ot.toStyles)),Ne.disabled=!0,Ne.overrideTotalTime(ot.totalTime),void $.push(Ne);let Ct=Q;if(us.size>1){let fn=Ce;const Vn=[];for(;fn=fn.parentNode;){const ur=us.get(fn);if(ur){Ct=ur;break}Vn.push(fn)}Vn.forEach(ur=>us.set(ur,Ct))}const kt=this._buildAnimation(Ne.namespaceId,ot,ns,oe,_,u);if(Ne.setRealPlayer(kt),Ct===Q)O.push(Ne);else{const fn=this.playersByElement.get(Ct);fn&&fn.length&&(Ne.parentPlayer=or(fn)),$.push(Ne)}}else ge(Ce,ot.fromStyles),Ne.onDestroy(()=>Mr(Ce,ot.toStyles)),B.push(Ne),Ft.has(Ce)&&$.push(Ne)}),B.forEach(ae=>{const Ce=oe.get(ae.element);if(Ce&&Ce.length){const Ne=or(Ce);ae.setRealPlayer(Ne)}}),$.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<Br.length;ae++){const Ce=Br[ae],Ne=Ce[hr];if(Hs(Ce,On),Ne&&Ne.hasAnimation)continue;let ot=[];if(Me.size){let kt=Me.get(Ce);kt&&kt.length&&ot.push(...kt);let fn=this.driver.query(Ce,ni,!0);for(let Vn=0;Vn<fn.length;Vn++){let ur=Me.get(fn[Vn]);ur&&ur.length&&ot.push(...ur)}}const Ct=ot.filter(kt=>!kt.destroyed);Ct.length?z(this,Ce,Ct):this.processLeaveNode(Ce)}return Br.length=0,O.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();const Ce=this.players.indexOf(ae);this.players.splice(Ce,1)}),ae.play()}),O}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,y,A,$,oe){let Ie=[];if(y){const Me=this.playersByQueriedElement.get(E);Me&&(Ie=Me)}else{const Me=this.playersByElement.get(E);if(Me){const We=!oe||oe==ho;Me.forEach(He=>{He.queued||!We&&He.triggerName!=$||Ie.push(He)})}}return(A||$)&&(Ie=Ie.filter(Me=>!(A&&A!=Me.namespaceId||$&&$!=Me.triggerName))),Ie}_beforeAnimationBuild(E,y,A){const oe=y.element,Ie=y.isRemovalTransition?void 0:E,Me=y.isRemovalTransition?void 0:y.triggerName;for(const We of y.timelines){const He=We.element,Ft=He!==oe,Dt=De(A,He,[]);this._getPreviousPlayers(He,Ft,Ie,Me,y.toState).forEach(Nn=>{const Ht=Nn.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),Nn.destroy(),Dt.push(Nn)})}ge(oe,y.fromStyles)}_buildAnimation(E,y,A,$,oe,Ie){const Me=y.triggerName,We=y.element,He=[],Ft=new Set,Dt=new Set,vn=y.timelines.map(Ht=>{const Kt=Ht.element;Ft.add(Kt);const Br=Kt[hr];if(Br&&Br.removedBeforeQueried)return new Z.sf(Ht.duration,Ht.delay);const $r=Kt!==We,Ar=function G(S){const E=[];return V(S,E),E}((A.get(Kt)||uo).map(ns=>ns.getRealPlayer())).filter(ns=>!!ns.element&&ns.element===Kt),Ei=oe.get(Kt),xr=Ie.get(Kt),Gi=gr(this._normalizer,Ht.keyframes,Ei,xr),Yr=this._buildPlayer(Ht,Gi,Ar);if(Ht.subTimeline&&$&&Dt.add(Kt),$r){const ns=new nr(E,Me,Kt);ns.setRealPlayer(Yr),He.push(ns)}return Yr});He.forEach(Ht=>{De(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function Pi(S,E,y){let A=S.get(E);if(A){if(A.length){const $=A.indexOf(y);A.splice($,1)}0==A.length&&S.delete(E)}return A}(this.playersByQueriedElement,Ht.element,Ht))}),Ft.forEach(Ht=>ys(Ht,Hr));const Nn=or(vn);return Nn.onDestroy(()=>{Ft.forEach(Ht=>Hs(Ht,Hr)),Mr(We,y.toStyles)}),Dt.forEach(Ht=>{De($,Ht,[]).push(Nn)}),Nn}_buildPlayer(E,y,A){return y.length>0?this.driver.animate(E.element,y,E.duration,E.delay,E.easing,A):new Z.sf(E.duration,E.delay)}}class nr{namespaceId;triggerName;element;_player=new Z.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(E,y,A){this.namespaceId=E,this.triggerName=y,this.element=A}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((y,A)=>{y.forEach($=>Pr(E,A,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const y=this._player;y.triggerCallback&&E.onStart(()=>y.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,y){De(this._queuedCallbacks,E,[]).push(y)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const y=this._player;y.triggerCallback&&y.triggerCallback(E)}}function Yi(S){return S&&1===S.nodeType}function cc(S,E){const y=S.style.display;return S.style.display=E??"none",y}function to(S,E,y,A,$){const oe=[];y.forEach(We=>oe.push(cc(We)));const Ie=[];A.forEach((We,He)=>{const Ft=new Map;We.forEach(Dt=>{const vn=E.computeStyle(He,Dt,$);Ft.set(Dt,vn),(!vn||0==vn.length)&&(He[hr]=Dr,Ie.push(He))}),S.set(He,Ft)});let Me=0;return y.forEach(We=>cc(We,oe[Me++])),Ie}function fo(S,E){const y=new Map;if(S.forEach(Me=>y.set(Me,[])),0==E.length)return y;const $=new Set(E),oe=new Map;function Ie(Me){if(!Me)return 1;let We=oe.get(Me);if(We)return We;const He=Me.parentNode;return We=y.has(He)?He:$.has(He)?1:Ie(He),oe.set(Me,We),We}return E.forEach(Me=>{const We=Ie(Me);1!==We&&y.get(We).push(Me)}),y}function ys(S,E){S.classList?.add(E)}function Hs(S,E){S.classList?.remove(E)}function z(S,E,y){or(y).onDone(()=>S.processLeaveNode(E))}function V(S,E){for(let y=0;y<S.length;y++){const A=S[y];A instanceof Z.ui?V(A.players,E):E.push(A)}}function ke(S,E,y){const A=y.get(S);if(!A)return!1;let $=E.get(S);return $?A.forEach(oe=>$.add(oe)):E.set(S,A),y.delete(S),!0}class mn{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(E,y)=>{};constructor(E,y,A){this._driver=y,this._normalizer=A,this._transitionEngine=new os(E.body,y,A),this._timelineEngine=new ko(E.body,y,A),this._transitionEngine.onRemovalComplete=($,oe)=>this.onRemovalComplete($,oe)}registerTrigger(E,y,A,$,oe){const Ie=E+"-"+$;let Me=this._triggerCache[Ie];if(!Me){const We=[],Ft=gn(this._driver,oe,We,[]);if(We.length)throw function Wn(){return new D.wOt(3404,!1)}();Me=function fi(S,E,y){return new bo(S,E,y)}($,Ft,this._normalizer),this._triggerCache[Ie]=Me}this._transitionEngine.registerTrigger(y,$,Me)}register(E,y){this._transitionEngine.register(E,y)}destroy(E,y){this._transitionEngine.destroy(E,y)}onInsert(E,y,A,$){this._transitionEngine.insertNode(E,y,A,$)}onRemove(E,y,A){this._transitionEngine.removeNode(E,y,A)}disableAnimations(E,y){this._transitionEngine.markElementAsDisabled(E,y)}process(E,y,A,$){if("@"==A.charAt(0)){const[oe,Ie]=Oe(A);this._timelineEngine.command(oe,y,Ie,$)}else this._transitionEngine.trigger(E,y,A,$)}listen(E,y,A,$,oe){if("@"==A.charAt(0)){const[Ie,Me]=Oe(A);return this._timelineEngine.listen(Ie,y,Me,oe)}return this._transitionEngine.listen(E,y,A,$,oe)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}let _o=(()=>{class S{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(y,A,$){this._element=y,this._startStyles=A,this._endStyles=$;let oe=S.initialStylesByElement.get(y);oe||S.initialStylesByElement.set(y,oe=new Map),this._initialStyles=oe}start(){this._state<1&&(this._startStyles&&Mr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mr(this._element,this._initialStyles),this._endStyles&&(Mr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(S.initialStylesByElement.delete(this._element),this._startStyles&&(ge(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ge(this._element,this._endStyles),this._endStyles=null),Mr(this._element,this._initialStyles),this._state=3)}}return S})();function no(S){let E=null;return S.forEach((y,A)=>{(function Eo(S){return"display"===S||"position"===S})(A)&&(E=E||new Map,E.set(A,y))}),E}class Qo{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(E,y,A,$){this.element=E,this.keyframes=y,this.options=A,this._specialStyles=$,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const y=()=>this._onFinish();this.domPlayer.addEventListener("finish",y),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",y)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const y=[];return E.forEach(A=>{y.push(Object.fromEntries(A))}),y}_triggerWebAnimation(E,y,A){return E.animate(this._convertKeyframesToObject(y),A)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,$)=>{"offset"!==$&&E.set($,this._finished?A:zn(this.element,$))}),this.currentSnapshot=E}triggerCallback(E){const y="start"===E?this._onStartFns:this._onDoneFns;y.forEach(A=>A()),y.length=0}}class po{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}containsElement(E,y){return ar(E,y)}getParentElement(E){return be(E)}query(E,y,A){return Cn(E,y,A)}computeStyle(E,y,A){return zn(E,y)}animate(E,y,A,$,oe,Ie=[]){const We={duration:A,delay:$,fill:0==$?"both":"forwards"};oe&&(We.easing=oe);const He=new Map,Ft=Ie.filter(Nn=>Nn instanceof Qo);(function Qr(S,E){return 0===S||0===E})(A,$)&&Ft.forEach(Nn=>{Nn.currentSnapshot.forEach((Ht,Kt)=>He.set(Kt,Ht))});let Dt=function Qi(S){return S.length?S[0]instanceof Map?S:S.map(E=>new Map(Object.entries(E))):[]}(y).map(Nn=>new Map(Nn));Dt=function Kn(S,E,y){if(y.size&&E.length){let A=E[0],$=[];if(y.forEach((oe,Ie)=>{A.has(Ie)||$.push(Ie),A.set(Ie,oe)}),$.length)for(let oe=1;oe<E.length;oe++){let Ie=E[oe];$.forEach(Me=>Ie.set(Me,zn(S,Me)))}}return E}(E,Dt,He);const vn=function Ln(S,E){let y=null,A=null;return Array.isArray(E)&&E.length?(y=no(E[0]),E.length>1&&(A=no(E[E.length-1]))):E instanceof Map&&(y=no(E)),y||A?new _o(S,y,A):null}(E,Dt);return new Qo(E,Dt,We,vn)}}const Ic="@.disabled";class la{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(E,y,A,$){this.namespaceId=E,this.delegate=y,this.engine=A,this._onDestroy=$}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,y){return this.delegate.createElement(E,y)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,y){this.delegate.appendChild(E,y),this.engine.onInsert(this.namespaceId,y,E,!1)}insertBefore(E,y,A,$=!0){this.delegate.insertBefore(E,y,A),this.engine.onInsert(this.namespaceId,y,E,$)}removeChild(E,y,A){this.parentNode(y)&&this.engine.onRemove(this.namespaceId,y,this.delegate)}selectRootElement(E,y){return this.delegate.selectRootElement(E,y)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,y,A,$){this.delegate.setAttribute(E,y,A,$)}removeAttribute(E,y,A){this.delegate.removeAttribute(E,y,A)}addClass(E,y){this.delegate.addClass(E,y)}removeClass(E,y){this.delegate.removeClass(E,y)}setStyle(E,y,A,$){this.delegate.setStyle(E,y,A,$)}removeStyle(E,y,A){this.delegate.removeStyle(E,y,A)}setProperty(E,y,A){"@"==y.charAt(0)&&y==Ic?this.disableAnimations(E,!!A):this.delegate.setProperty(E,y,A)}setValue(E,y){this.delegate.setValue(E,y)}listen(E,y,A){return this.delegate.listen(E,y,A)}disableAnimations(E,y){this.engine.disableAnimations(E,y)}}class ua extends la{factory;constructor(E,y,A,$,oe){super(y,A,$,oe),this.factory=E,this.namespaceId=y}setProperty(E,y,A){"@"==y.charAt(0)?"."==y.charAt(1)&&y==Ic?this.disableAnimations(E,A=void 0===A||!!A):this.engine.process(this.namespaceId,E,y.slice(1),A):this.delegate.setProperty(E,y,A)}listen(E,y,A){if("@"==y.charAt(0)){const $=function tl(S){switch(S){case"body":return document.body;case"document":return document;case"window":return window;default:return S}}(E);let oe=y.slice(1),Ie="";return"@"!=oe.charAt(0)&&([oe,Ie]=function Aa(S){const E=S.indexOf(".");return[S.substring(0,E),S.slice(E+1)]}(oe)),this.engine.listen(this.namespaceId,$,oe,Ie,Me=>{this.factory.scheduleListenerCallback(Me._data||-1,A,Me)})}return this.delegate.listen(E,y,A)}}class ki{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(E,y,A){this.delegate=E,this.engine=y,this._zone=A,y.onRemovalComplete=($,oe)=>{oe?.removeChild(null,$)}}createRenderer(E,y){const $=this.delegate.createRenderer(E,y);if(!E||!y?.data?.animation){const He=this._rendererCache;let Ft=He.get($);return Ft||(Ft=new la("",$,this.engine,()=>He.delete($)),He.set($,Ft)),Ft}const oe=y.id,Ie=y.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,E);const Me=He=>{Array.isArray(He)?He.forEach(Me):this.engine.registerTrigger(oe,Ie,E,He.name,He)};return y.data.animation.forEach(Me),new ua(this,Ie,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,y,A){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>y(A));const $=this._animationCallbacksBuffer;0==$.length&&queueMicrotask(()=>{this._zone.run(()=>{$.forEach(oe=>{const[Ie,Me]=oe;Ie(Me)}),this._animationCallbacksBuffer=[]})}),$.push([y,A])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Ua=(()=>{class S extends mn{constructor(y,A,$){super(y,A,$)}ngOnDestroy(){this.flush()}static \u0275fac=function(A){return new(A||S)(D.KVO(Te.qQ),D.KVO(Vi),D.KVO(ui))};static \u0275prov=D.jDH({token:S,factory:S.\u0275fac})}return S})();const ha=[{provide:ui,useFactory:function Ba(){return new vi}},{provide:mn,useClass:Ua},{provide:D._9s,useFactory:function da(S,E,y){return new ki(S,E,y)},deps:[p.B7,mn,D.SKi]}],Ao=[{provide:Vi,useFactory:()=>new po},{provide:D.bc$,useValue:"BrowserAnimations"},...ha],nc=[{provide:Vi,useClass:ti},{provide:D.bc$,useValue:"NoopAnimations"},...ha];let qr=(()=>{class S{static withConfig(y){return{ngModule:S,providers:y.disableAnimations?nc:Ao}}static \u0275fac=function(A){return new(A||S)};static \u0275mod=D.$C({type:S});static \u0275inj=D.G2t({providers:Ao,imports:[p.Bb]})}return S})(),Zi=(()=>{class S{constructor(y){this.router=y,this.loadCount=0,this.loadState=new Bt.t(!1),this.router.events.subscribe(A=>{this.navigationInterceptor(A)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(y){y instanceof H.Z&&this.showLoader(),y instanceof H.wF&&this.hideLoader(),y instanceof H.j5&&this.hideLoader(),y instanceof H.L6&&this.hideLoader()}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(H.Ix))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Vc=(()=>{class S{constructor(y){this.loaderService=y}intercept(y,A){return this.loaderService.showLoader(),A.handle(y).pipe((0,on.M)($=>{$ instanceof qe.cS&&this.loaderService.hideLoader()},$=>{this.loaderService.hideLoader()}))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Zi))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();const Ma={provide:qe.a7,useClass:Vc,multi:!0};var ts=w(9030),Ws=w(3726),fa=w(8793),Vo=w(1413),Xo=w(1985),zt=w(5343);const Fi=new Xo.c(zt.l);var Yo=w(7786),Yt=w(2806),Ye=w(5964),xn=w(3319),$t=w(6697),at=w(5335);const Ot="Service workers are disabled or not supported by this browser";class Uo{serviceWorker;worker;registration;events;constructor(E){if(this.serviceWorker=E,E){const A=(0,Ws.R)(E,"controllerchange").pipe((0,Jt.T)(()=>E.controller)),$=(0,ts.v)(()=>(0,Lt.of)(E.controller)),oe=(0,fa.x)($,A);this.worker=oe.pipe((0,Ye.p)(Ft=>!!Ft)),this.registration=this.worker.pipe((0,Gt.n)(()=>E.getRegistration()));const He=(0,Ws.R)(E,"message").pipe((0,Jt.T)(Ft=>Ft.data)).pipe((0,Ye.p)(Ft=>Ft&&Ft.type)).pipe((0,xn.m)());He.connect(),this.events=He}else this.worker=this.events=this.registration=function Ur(S){return(0,ts.v)(()=>(0,Ze.$)(new Error(S)))}(Ot)}postMessage(E,y){return this.worker.pipe((0,$t.s)(1),(0,on.M)(A=>{A.postMessage({action:E,...y})})).toPromise().then(()=>{})}postMessageWithOperation(E,y,A){const $=this.waitForOperationCompleted(A),oe=this.postMessage(E,y);return Promise.all([oe,$]).then(([,Ie])=>Ie)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(E){let y;return y="string"==typeof E?A=>A.type===E:A=>E.includes(A.type),this.events.pipe((0,Ye.p)(y))}nextEventOfType(E){return this.eventsOfType(E).pipe((0,$t.s)(1))}waitForOperationCompleted(E){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ye.p)(y=>y.nonce===E),(0,$t.s)(1),(0,Jt.T)(y=>{if(void 0!==y.result)return y.result;throw new Error(y.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let wi=(()=>{class S{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Vo.B;constructor(y){if(this.sw=y,!y.isEnabled)return this.messages=Fi,this.notificationClicks=Fi,void(this.subscription=Fi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Jt.T)($=>$.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Jt.T)($=>$.data)),this.pushManager=this.sw.registration.pipe((0,Jt.T)($=>$.pushManager));const A=this.pushManager.pipe((0,Gt.n)($=>$.getSubscription()));this.subscription=(0,Yo.h)(A,this.subscriptionChanges)}requestSubscription(y){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Ot));const A={userVisibleOnly:!0};let $=this.decodeBase64(y.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),oe=new Uint8Array(new ArrayBuffer($.length));for(let Ie=0;Ie<$.length;Ie++)oe[Ie]=$.charCodeAt(Ie);return A.applicationServerKey=oe,this.pushManager.pipe((0,Gt.n)(Ie=>Ie.subscribe(A)),(0,$t.s)(1)).toPromise().then(Ie=>(this.subscriptionChanges.next(Ie),Ie))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,$t.s)(1),(0,Gt.n)(A=>{if(null===A)throw new Error("Not subscribed to push notifications.");return A.unsubscribe().then($=>{if(!$)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ot))}decodeBase64(y){return atob(y)}static \u0275fac=function(A){return new(A||S)(D.KVO(Uo))};static \u0275prov=D.jDH({token:S,factory:S.\u0275fac})}return S})(),as=(()=>{class S{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(y){if(this.sw=y,!y.isEnabled)return this.versionUpdates=Fi,void(this.unrecoverable=Fi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ot));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:y},y)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ot));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:y},y)}static \u0275fac=function(A){return new(A||S)(D.KVO(Uo))};static \u0275prov=D.jDH({token:S,factory:S.\u0275fac})}return S})();const Bo=new D.nKC("");function lr(S,E,y,A){return()=>{if(!(0,Te.UE)(A)||!("serviceWorker"in navigator)||!1===y.enabled)return;const $=S.get(D.SKi),oe=S.get(D.o8S);let Ie;if($.runOutsideAngular(()=>{const Me=navigator.serviceWorker,We=()=>Me.controller?.postMessage({action:"INITIALIZE"});Me.addEventListener("controllerchange",We),oe.onDestroy(()=>{Me.removeEventListener("controllerchange",We)})}),"function"==typeof y.registrationStrategy)Ie=y.registrationStrategy();else{const[Me,...We]=(y.registrationStrategy||"registerWhenStable:30000").split(":");switch(Me){case"registerImmediately":Ie=(0,Lt.of)(null);break;case"registerWithDelay":Ie=jo(+We[0]||0);break;case"registerWhenStable":const He=(0,Yt.H)(S.get(D.o8S).whenStable());Ie=We[0]?(0,Yo.h)(He,jo(+We[0])):He;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${y.registrationStrategy}`)}}$.runOutsideAngular(()=>Ie.pipe((0,$t.s)(1)).subscribe(()=>navigator.serviceWorker.register(E,{scope:y.scope}).catch(Me=>console.error("Service worker registration failed with:",Me))))}}function jo(S){return(0,Lt.of)(null).pipe((0,at.c)(S))}function Ha(S,E){return new Uo((0,Te.UE)(E)&&!1!==S.enabled?navigator.serviceWorker:void 0)}class pa{enabled;scope;registrationStrategy}function ci(S,E={}){return(0,D.EmA)([wi,as,{provide:Bo,useValue:S},{provide:pa,useValue:E},{provide:Uo,useFactory:Ha,deps:[pa,D.Agw]},{provide:D.hnV,useFactory:lr,deps:[D.zZn,Bo,pa,D.Agw],multi:!0}])}let rc=(()=>{class S{static register(y,A={}){return{ngModule:S,providers:[ci(y,A)]}}static \u0275fac=function(A){return new(A||S)};static \u0275mod=D.$C({type:S});static \u0275inj=D.G2t({providers:[wi,as]})}return S})();var Xr=w(5312);let Pn=(()=>{class S{constructor(y){this.injector=y}handleError(y){const A=this.injector.get(br.J);this.injector.get(H.Ix),y instanceof qe.yz?(navigator.onLine||A.notify("No Internet Connection"),A.notify(`${y.status} - ${y.message}`)):A.notify(y),console.error(y)}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(D.zZn))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();function Io(S,E){if(1&S&&(D.j41(0,"div")(1,"h1"),D.EFF(2),D.k0s(),D.j41(3,"a",2)(4,"h5"),D.EFF(5,"Go to Home"),D.k0s()()()),2&S){const y=D.XpG();D.R7$(2),D.SpI("ERROR ",null==y.routeParams?null:y.routeParams.error,""),D.R7$(),D.Y8G("routerLink","/")}}const N=[{path:"error",component:(()=>{class S{constructor(y){this.activatedRoute=y}ngOnInit(){this.routeParams=this.activatedRoute.snapshot.queryParams}static{this.\u0275fac=function(A){return new(A||S)(D.rXU(H.nX))}}static{this.\u0275cmp=D.VBU({type:S,selectors:[["app-errors"]],standalone:!1,decls:2,vars:1,consts:[[1,"error-container"],[4,"ngIf"],[3,"routerLink"]],template:function(A,$){1&A&&(D.j41(0,"div",0),D.DNE(1,Io,6,2,"div",1),D.k0s()),2&A&&(D.R7$(),D.Y8G("ngIf",null==$.routeParams?null:$.routeParams.error))},dependencies:[Te.bT,H.Wk],styles:[".error-container[_ngcontent-%COMP%]{width:220px;margin:50% auto 0;transform:translateY(-50%);text-align:center}"]})}}return S})()}];let q=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({imports:[H.iI.forChild(N),H.iI]})}}return S})();var U=w(2498);const ve={provide:qe.a7,useClass:class W{intercept(E,y){return y.handle(E).pipe((0,U.L)(0),(0,et.W)(this.handleError))}handleError(E){let y="";return y=E.error instanceof ErrorEvent?`Error: ${E.error.message}`:`Error Code: ${E.status}\\nMessage: ${E.message}`,(0,Ze.$)(E)}},multi:!0};let nt=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[{provide:D.zcH,useClass:Pn},ve],imports:[Te.MD,q]})}}return S})();var je=w(3887);let un=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[Ma],imports:[Te.MD]})}}return S})();var Qn=w(8603);const kr={todos:[]},er=(S=kr,E)=>{switch(E.type){case"ADD":return{todos:[...S.todos,{index:S.todos.length,text:E.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:S.todos.map((y,A)=>A===E.index?{...y,done:!y.done}:y)};case"REMOVE":return{todos:S.todos.splice(S.todos.findIndex(y=>y.index===E.index),1)};case"SAVED":return{todos:S.todos.map((y,A)=>A===E.index?{...y,saved:!0}:y)};default:return S}};var Yn=w(1397),fr=w(3386);let qn=(()=>{class S{constructor(){this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const y=this.getLastActiveFromLocalStorage()??new Date;this.lastActive=new Bt.t(y),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,Yt.H)(this.events).pipe((0,Yn.Z)(y=>(0,Ws.R)(document,y)),(0,fr.c)(this.recordTimeoutMs)).subscribe(y=>this.recordLastActiveDate()),(0,Ws.R)(window,"storage").pipe((0,Ye.p)(y=>y.storageArea===localStorage&&y.key===this.localStorageKey&&!!y.newValue),(0,Jt.T)(y=>new Date(y.newValue))).subscribe(y=>this.lastActive.next(y))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var y=new Date;localStorage.setItem(this.localStorageKey,y.toString()),this.lastActive.next(y)}getLastActiveFromLocalStorage(){const y=localStorage.getItem(this.localStorageKey);return y?new Date(y):null}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Mi={provide:D.hnV,multi:!0,deps:[qn],useFactory:S=>()=>S.setUp()};let Gs=1;class Li{constructor(){this.userName="Philip Marlowe"}}let vs=(()=>{class S{constructor(y){this.id=Gs++,this._userName="Sherlock Holmes",y&&(this._userName=y.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Li,8))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})(),go=(()=>{class S{constructor(y){if(y)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(y){return{ngModule:S,providers:[{provide:Li,useValue:y}]}}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(S,12))}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[vs],imports:[Te.MD]})}}return S})();var Ra=w(3234),Fr=w(9310),mo=w(3529),ct=w(2661);let ga=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[ct.l],imports:[Fr.md.forFeature(mo.cp,mo.Jv)]})}}return S})();var Mo=w(2830),Cu=w(3557),Cc=w(983),ma=w(8071);class Fs{constructor(E,y,A){this.kind=E,this.value=y,this.error=A,this.hasValue="N"===E}observe(E){return jl(this,E)}do(E,y,A){const{kind:$,value:oe,error:Ie}=this;return"N"===$?E?.(oe):"E"===$?y?.(Ie):A?.()}accept(E,y,A){var $;return(0,ma.T)(null===($=E)||void 0===$?void 0:$.next)?this.observe(E):this.do(E,y,A)}toObservable(){const{kind:E,value:y,error:A}=this,$="N"===E?(0,Lt.of)(y):"E"===E?(0,Ze.$)(()=>A):"C"===E?Cc.w:0;if(!$)throw new TypeError(`Unexpected notification kind ${E}`);return $}static createNext(E){return new Fs("N",E)}static createError(E){return new Fs("E",void 0,E)}static createComplete(){return Fs.completeNotification}}function jl(S,E){var y,A,$;const{kind:oe,value:Ie,error:Me}=S;if("string"!=typeof oe)throw new TypeError('Invalid notification, missing "kind"');"N"===oe?null===(y=E.next)||void 0===y||y.call(E,Ie):"E"===oe?null===(A=E.error)||void 0===A||A.call(E,Me):null===($=E.complete)||void 0===$||$.call(E)}Fs.completeNotification=new Fs("C");var Uc=w(9974),Bc=w(4360),$o=w(8750);function Du(S,E,y,A){return(0,Uc.N)(($,oe)=>{let Ie;E&&"function"!=typeof E?({duration:y,element:Ie,connector:A}=E):Ie=E;const Me=new Map,We=Ht=>{Me.forEach(Ht),Ht(oe)},He=Ht=>We(Kt=>Kt.error(Ht));let Ft=0,Dt=!1;const vn=new Bc.H(oe,Ht=>{try{const Kt=S(Ht);let Br=Me.get(Kt);if(!Br){Me.set(Kt,Br=A?A():new Vo.B);const $r=function Nn(Ht,Kt){const Br=new Xo.c($r=>{Ft++;const Ar=Kt.subscribe($r);return()=>{Ar.unsubscribe(),0==--Ft&&Dt&&vn.unsubscribe()}});return Br.key=Ht,Br}(Kt,Br);if(oe.next($r),y){const Ar=(0,Bc._)(Br,()=>{Br.complete(),Ar?.unsubscribe()},void 0,void 0,()=>Me.delete(Kt));vn.add((0,$o.Tg)(y($r)).subscribe(Ar))}}Br.next(Ie?Ie(Ht):Ht)}catch(Kt){He(Kt)}},()=>We(Ht=>Ht.complete()),He,()=>Me.clear(),()=>(Dt=!0,0===Ft));$.subscribe(vn)})}var Dc=w(786);const Ga={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},wc="__@ngrx/effects_create__";function Ks(S,E={}){const y=E.functional?S:S(),A={...Ga,...E};return Object.defineProperty(y,wc,{value:A}),y}function bs(S){return Object.getPrototypeOf(S)}function ya(S){return"function"==typeof S}function Ri(S){return S.filter(ya)}function Ro(S,E,y){const A=bs(S),oe=A&&"Object"!==A.constructor.name?A.constructor.name:null,Ie=function Cl(S){return function uc(S){return Object.getOwnPropertyNames(S).filter(A=>!(!S[A]||!S[A].hasOwnProperty(wc))&&S[A][wc].hasOwnProperty("dispatch")).map(A=>({propertyName:A,...S[A][wc]}))}(S)}(S).map(({propertyName:Me,dispatch:We,useEffectsErrorHandler:He})=>{const Ft="function"==typeof S[Me]?S[Me]():S[Me],Dt=He?y(Ft,E):Ft;return!1===We?Dt.pipe((0,Cu.w)()):Dt.pipe(function rl(){return(0,Uc.N)((S,E)=>{S.subscribe((0,Bc._)(E,y=>{E.next(Fs.createNext(y))},()=>{E.next(Fs.createComplete()),E.complete()},y=>{E.next(Fs.createError(y)),E.complete()}))})}()).pipe((0,Jt.T)(Nn=>({effect:S[Me],notification:Nn,propertyName:Me,sourceName:oe,sourceInstance:S})))});return(0,Yo.h)(...Ie)}function dc(S,E,y=10){return S.pipe((0,et.W)(A=>(E&&E.handleError(A),y<=1?S:dc(S,E,y-1))))}let Zo=(()=>{class S extends Xo.c{constructor(y){super(),y&&(this.source=y)}lift(y){const A=new S;return A.source=this,A.operator=y,A}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Fr.sA))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Ho(...S){return(0,Ye.p)(E=>S.some(y=>"string"==typeof y?y===E.type:y.type===E.type))}const zs=new D.nKC("@ngrx/effects Internal Root Guard"),As=new D.nKC("@ngrx/effects User Provided Effects"),za=new D.nKC("@ngrx/effects Internal Root Effects"),wr=new D.nKC("@ngrx/effects Internal Root Effects Instances"),b=new D.nKC("@ngrx/effects Internal Feature Effects"),F=new D.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),R=new D.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>dc}),L="@ngrx/effects/init";function Ls(S){return Vs(S,"ngrxOnInitEffects")}function Vs(S,E){return S&&E in S&&"function"==typeof S[E]}(0,Fr.VP)(L);let cs=(()=>{class S extends Vo.B{constructor(y,A){super(),this.errorHandler=y,this.effectsErrorHandler=A}addEffects(y){this.next(y)}toActions(){return this.pipe(Du(y=>function il(S){return!!S.constructor&&"Object"!==S.constructor.name&&"Function"!==S.constructor.name}(y)?bs(y):y),(0,Yn.Z)(y=>y.pipe(Du(Wo))),(0,Yn.Z)(y=>{const A=y.pipe((0,Dc.p)(oe=>function Sc(S,E){return y=>{const A=Ro(y,S,E);return function _i(S){return Vs(S,"ngrxOnRunEffects")}(y)?y.ngrxOnRunEffects(A):A}}(this.errorHandler,this.effectsErrorHandler)(oe)),(0,Jt.T)(oe=>(function he(S,E){if("N"===S.notification.kind){const y=S.notification.value;!function Se(S){return"function"!=typeof S&&S&&S.type&&"string"==typeof S.type}(y)&&E.handleError(new Error(`Effect ${function gt({propertyName:S,sourceInstance:E,sourceName:y}){const A="function"==typeof E[S];return y?`"${y}.${String(S)}${A?"()":""}"`:`"${String(S)}()"`}(S)} dispatched an invalid action: ${function ze(S){try{return JSON.stringify(S)}catch{return S}}(y)}`))}}(oe,this.errorHandler),oe.notification)),(0,Ye.p)(oe=>"N"===oe.kind&&null!=oe.value),function Wa(){return(0,Uc.N)((S,E)=>{S.subscribe((0,Bc._)(E,y=>jl(y,E)))})}()),$=y.pipe((0,$t.s)(1),(0,Ye.p)(Ls),(0,Jt.T)(oe=>oe.ngrxOnInitEffects()));return(0,Yo.h)(A,$)}))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(D.zcH),D.KVO(R))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Wo(S){return function An(S){return Vs(S,"ngrxOnIdentifyEffects")}(S)?S.ngrxOnIdentifyEffects():""}let pr=(()=>{class S{get isStarted(){return!!this.effectsSubscription}constructor(y,A){this.effectSources=y,this.store=A,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(cs),D.KVO(Fr.il))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),yn=(()=>{class S{constructor(y,A,$,oe,Ie,Me,We){this.sources=y,A.start();for(const He of oe)y.addEffects(He);$.dispatch({type:L})}addEffects(y){this.sources.addEffects(y)}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(cs),D.KVO(pr),D.KVO(Fr.il),D.KVO(wr),D.KVO(Fr.wc,8),D.KVO(Fr.ae,8),D.KVO(zs,8))}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({})}}return S})(),ic=(()=>{class S{constructor(y,A,$,oe){const Ie=A.flat();for(const Me of Ie)y.addEffects(Me)}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(yn),D.KVO(F),D.KVO(Fr.wc,8),D.KVO(Fr.ae,8))}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({})}}return S})(),Qa=(()=>{class S{static forFeature(...y){const A=y.flat(),$=Ri(A);return{ngModule:ic,providers:[$,{provide:b,multi:!0,useValue:A},{provide:As,multi:!0,useValue:[]},{provide:F,multi:!0,useFactory:jc,deps:[b,As]}]}}static forRoot(...y){const A=y.flat(),$=Ri(A);return{ngModule:yn,providers:[$,{provide:za,useValue:[A]},{provide:zs,useFactory:nu},{provide:As,multi:!0,useValue:[]},{provide:wr,useFactory:jc,deps:[za,As]}]}}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({})}}return S})();function jc(S,E){const y=[];for(const A of S)y.push(...A);for(const A of E)y.push(...A);return y.map(A=>function Tc(S){return S instanceof D.nKC||ya(S)}(A)?(0,D.WQX)(A):A)}function nu(){const S=(0,D.WQX)(pr,{optional:!0,skipSelf:!0}),E=(0,D.WQX)(za,{self:!0});if((1!==E.length||0!==E[0].length)&&S)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var hc=w(4413);let $c=(()=>{class S{loadCounter(){return(0,Lt.of)(1999)}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Hc=(()=>{class S{constructor(y,A){this.actions$=y,this.counterService=A,this.loadData$=Ks(()=>this.actions$.pipe(Ho(hc.m5),(0,Yn.Z)(()=>this.counterService.loadCounter().pipe((0,Jt.T)($=>hc.Co({newValue:$}))))))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Zo),D.KVO($c))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();var Hu=w(9072);let Wc=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[Hu.M],imports:[Fr.md.forFeature(Mo.cp,Mo.FW),Qa.forFeature([Hc])]})}}return S})();var $l=w(8964),ol=w(2503);let Gc=(()=>{class S{constructor(y,A){this.actions$=y,this.http=A,this.loadData$=Ks(()=>this.actions$.pipe(Ho(ol.Ze),(0,Gt.n)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,Jt.T)($=>ol.aE({payload:$})),(0,et.W)($=>(0,Lt.of)(ol.Ny({payload:$})))))))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Zo),D.KVO(qe.Qq))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();var Et=w(8320);let yr=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[Et.T],imports:[Fr.md.forFeature($l.cp,$l.b4),Qa.forFeature([Gc])]})}}return S})();var sc=w(459),Hl=w(965);let kn=(()=>{class S{constructor(y){this.actions$=y,this.getUser$=Ks(()=>this.actions$.pipe(Ho(Hl.wz),(0,Yn.Z)(()=>(0,Lt.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,Jt.T)(A=>Hl.bI({user:A})),(0,et.W)(A=>(console.error("An error occurred while getting user information.",A.message),(0,Lt.of)(Hl.VA({error:"Unable to retrieve user information."}))))))))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Zo))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();var fc=w(8066);let _s=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[fc.w],imports:[Fr.md.forFeature(sc.c,sc.o),Qa.forFeature([kn])]})}}return S})();var Kr=w(8721),bc=w(5696),Ms=w(8193),io=w(8515);let No=(()=>{class S{set(y,A){try{localStorage.setItem(y,JSON.stringify(A))}catch($){console.error("Error saving to localStorage",$)}}get(y){try{return JSON.parse(localStorage.getItem(y))}catch(A){return console.error("Error getting data from localStorage",A),null}}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),wu=(()=>{class S{constructor(y,A,$,oe){this.actions$=y,this.registerService=A,this.persistenceService=$,this.router=oe,this.register$=Ks(()=>this.actions$.pipe(Ho(Ms.Sl),(0,Gt.n)(({request:Ie})=>this.registerService.register(Ie).pipe((0,Jt.T)(Me=>(this.persistenceService.set("accessToken1",Me.token),(0,Ms.NW)({currentUser:Me}))),(0,et.W)(Me=>(console.log(Me),(0,Lt.of)((0,Ms.gt)({errors:Me.error.errors})))))))),this.redirectAfterSubmit$=Ks(()=>this.actions$.pipe(Ho(Ms.NW),(0,on.M)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Zo),D.KVO(io.h),D.KVO(No),D.KVO(H.Ix))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})(),Ni=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({providers:[bc.E],imports:[Fr.md.forFeature(Kr.cp,Kr.Km),Qa.forFeature([wu])]})}}return S})();var al=w(4745),Oo=w(1550),Es=w(152),Rs=w(2282);let pc=(()=>{class S{constructor(y){this.http=y,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(y){return this.http.post(this.url,y)}getArticleById(y){return this.http.get(this.url+"/"+y)}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Rs.k))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),Go=(()=>{class S{constructor(y,A){this.actions$=y,this.fruitsService=A,this.loadAllArticles$=Ks(()=>this.actions$.pipe(Ho(Oo.j1),(0,Gt.n)(()=>this.fruitsService.getAllArticles().pipe((0,Jt.T)($=>Oo.op({payload:$})))))),this.createArticle$=Ks(()=>this.actions$.pipe(Ho(Oo.n8),(0,Jt.T)($=>$.payload),(0,Yn.Z)($=>this.fruitsService.createArticle($).pipe((0,Jt.T)(oe=>Oo.om({payload:oe})),(0,et.W)(oe=>(0,Lt.of)(Oo.VZ({payload:oe}))))))),this.searchArticleById$=Ks(()=>this.actions$.pipe(Ho(Oo.vV),(0,Es.B)(500),(0,Jt.T)($=>$.payload),(0,Gt.n)($=>this.fruitsService.getArticleById($).pipe((0,Jt.T)(oe=>Oo.i8({payload:oe})))))),this.loadProducts$=Ks(()=>this.actions$.pipe(Ho(Oo.fM),(0,Yn.Z)(()=>this.fruitsService.getAll().pipe((0,Jt.T)($=>Oo.iQ({payload:$}))))))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Zo),D.KVO(pc))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();var va=w(7242),iu=w(2771),Ns=w(7647),su=w(274),cl=w(3236),Dl=w(8211),wl=w(1853),Ac=w(5225);const ll=(0,wl.L)(S=>function(y=null){S(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=y});function Qs(S){throw new ll(S)}var Rc=w(6977),Kc=w(941),Tl=w(3993),zc=w(2816),Qc=w(9079);const Nc="PERFORM_ACTION",Ci="ROLLBACK",dl="TOGGLE_ACTION",Wl="JUMP_TO_STATE",hl="JUMP_TO_ACTION",_a="IMPORT_STATE",Os="LOCK_CHANGES",oc="PAUSE_RECORDING";class Ea{constructor(E,y){if(this.action=E,this.timestamp=y,this.type=Nc,typeof E.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class qc{constructor(){this.type="REFRESH"}}class Na{constructor(E){this.timestamp=E,this.type="RESET"}}class bl{constructor(E){this.timestamp=E,this.type=Ci}}class xc{constructor(E){this.timestamp=E,this.type="COMMIT"}}class fl{constructor(){this.type="SWEEP"}}class x{constructor(E){this.id=E,this.type=dl}}class I{constructor(E){this.index=E,this.type=Wl}}class k{constructor(E){this.actionId=E,this.type=hl}}class se{constructor(E){this.nextLiftedState=E,this.type=_a}}class Ee{constructor(E){this.status=E,this.type=Os}}class ut{constructor(E){this.status=E,this.type=oc}}const En=new D.nKC("@ngrx/store-devtools Options"),Xn=new D.nKC("@ngrx/store-devtools Initial Config");function Tr(){return null}function Ia(S){const E={maxAge:!1,monitor:Tr,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},y="function"==typeof S?S():S,$=y.features||!!y.logOnly&&{pause:!0,export:!0,test:!0}||E.features;!0===$.import&&($.import="custom");const oe=Object.assign({},E,{features:$},y);if(oe.maxAge&&oe.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${oe.maxAge}`);return oe}function Oa(S,E){return S.filter(y=>E.indexOf(y)<0)}function xa(S){const{computedStates:E,currentStateIndex:y}=S;if(y>=E.length){const{state:$}=E[E.length-1];return $}const{state:A}=E[y];return A}function Is(S){return new Ea(S,+Date.now())}function qa(S,E){return Object.keys(E).reduce((y,A)=>{const $=Number(A);return y[$]=Ti(S,E[$],$),y},{})}function Ti(S,E,y){return{...E,action:S(E.action,y)}}function Or(S,E){return E.map((y,A)=>({state:Jo(S,y.state,A),error:y.error}))}function Jo(S,E,y){return S(E,y)}function ea(S){return S.predicate||S.actionsSafelist||S.actionsBlocklist}function Al(S,E,y,A,$){const oe=y&&!y(S,E.action),Ie=A&&!E.action.type.match(A.map(We=>ls(We)).join("|")),Me=$&&E.action.type.match($.map(We=>ls(We)).join("|"));return oe||Ie||Me}function ls(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gl(S){return{ngZone:S?(0,D.WQX)(D.SKi):null,connectInZone:S}}let gc=(()=>{class S extends Fr.SS{static{this.\u0275fac=(()=>{let y;return function($){return(y||(y=D.xGo(S)))($||S)}})()}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();const Pa=new D.nKC("@ngrx/store-devtools Redux Devtools Extension");let mc=(()=>{class S{constructor(y,A,$){this.config=A,this.dispatcher=$,this.zoneConfig=Gl(this.config.connectInZone),this.devtoolsExtension=y,this.createActionStreams()}notify(y,A){if(this.devtoolsExtension)if(y.type===Nc){if(A.isLocked||A.isPaused)return;const $=xa(A);if(ea(this.config)&&Al($,y,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const oe=this.config.stateSanitizer?Jo(this.config.stateSanitizer,$,A.currentStateIndex):$,Ie=this.config.actionSanitizer?Ti(this.config.actionSanitizer,y,A.nextActionId):y;this.sendToReduxDevtools(()=>this.extensionConnection.send(Ie,oe))}else{const $={...A,stagedActionIds:A.stagedActionIds,actionsById:this.config.actionSanitizer?qa(this.config.actionSanitizer,A.actionsById):A.actionsById,computedStates:this.config.stateSanitizer?Or(this.config.stateSanitizer,A.computedStates):A.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,$,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Xo.c(y=>{const A=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=A,A.init(),A.subscribe($=>y.next($)),A.unsubscribe}):Cc.w}createActionStreams(){const y=this.createChangesObservable().pipe((0,Ns.u)()),A=y.pipe((0,Ye.p)(He=>"START"===He.type)),$=y.pipe((0,Ye.p)(He=>"STOP"===He.type)),oe=y.pipe((0,Ye.p)(He=>"DISPATCH"===He.type),(0,Jt.T)(He=>this.unwrapAction(He.payload)),(0,su.H)(He=>He.type===_a?this.dispatcher.pipe((0,Ye.p)(Ft=>Ft.type===Fr.q6),function Mc(S,E){const{first:y,each:A,with:$=Qs,scheduler:oe=E??cl.E,meta:Ie=null}=(0,Dl.v)(S)?{first:S}:"number"==typeof S?{each:S}:S;if(null==y&&null==A)throw new TypeError("No timeout provided.");return(0,Uc.N)((Me,We)=>{let He,Ft,Dt=null,vn=0;const Nn=Ht=>{Ft=(0,Ac.N)(We,oe,()=>{try{He.unsubscribe(),(0,$o.Tg)($({meta:Ie,lastValue:Dt,seen:vn})).subscribe(We)}catch(Kt){We.error(Kt)}},Ht)};He=Me.subscribe((0,Bc._)(We,Ht=>{Ft?.unsubscribe(),vn++,We.next(Dt=Ht),A>0&&Nn(A)},void 0,void 0,()=>{Ft?.closed||Ft?.unsubscribe(),Dt=null})),!vn&&Nn(null!=y?"number"==typeof y?y:+y-oe.now():A)})}(1e3),(0,Es.B)(1e3),(0,Jt.T)(()=>He),(0,et.W)(()=>(0,Lt.of)(He)),(0,$t.s)(1)):(0,Lt.of)(He))),Me=y.pipe((0,Ye.p)(He=>"ACTION"===He.type),(0,Jt.T)(He=>this.unwrapAction(He.payload))).pipe((0,Rc.Q)($)),We=oe.pipe((0,Rc.Q)($));this.start$=A.pipe((0,Rc.Q)($)),this.actions$=this.start$.pipe((0,Gt.n)(()=>Me)),this.liftedActions$=this.start$.pipe((0,Gt.n)(()=>We))}unwrapAction(y){return"string"==typeof y?(0,eval)(`(${y})`):y}getExtensionConfig(y){const A={name:y.name,features:y.features,serialize:y.serialize,autoPause:y.autoPause??!1,trace:y.trace??!1,traceLimit:y.traceLimit??75};return!1!==y.maxAge&&(A.maxAge=y.maxAge),A}sendToReduxDevtools(y){try{y()}catch(A){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",A)}}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(Pa),D.KVO(En),D.KVO(gc))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();const Ml={type:Fr.Zz},Gu={type:"@ngrx/store-devtools/recompute"};function Sr(S,E,y,A,$){if(A)return{state:y,error:"Interrupted by an error up the chain"};let Ie,oe=y;try{oe=S(y,E)}catch(Me){Ie=Me.toString(),$.handleError(Me)}return{state:oe,error:Ie}}function Pc(S,E,y,A,$,oe,Ie,Me,We){if(E>=S.length&&S.length===oe.length)return S;const He=S.slice(0,E),Ft=oe.length-(We?1:0);for(let Dt=E;Dt<Ft;Dt++){const vn=oe[Dt],Nn=$[vn].action,Ht=He[Dt-1],Kt=Ht?Ht.state:A,Br=Ht?Ht.error:void 0,Ar=Ie.indexOf(vn)>-1?Ht:Sr(y,Nn,Kt,Br,Me);He.push(Ar)}return We&&He.push(S[S.length-1]),He}let Ql=(()=>{class S{constructor(y,A,$,oe,Ie,Me,We,He){const Ft=function kc(S,E){return{monitorState:E(void 0,{}),nextActionId:1,actionsById:{0:Is(Ml)},stagedActionIds:[0],skippedActionIds:[],committedState:S,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(We,He.monitor),Dt=function zl(S,E,y,A,$={}){return oe=>(Ie,Me)=>{let{monitorState:We,actionsById:He,nextActionId:Ft,stagedActionIds:Dt,skippedActionIds:vn,committedState:Nn,currentStateIndex:Ht,computedStates:Kt,isLocked:Br,isPaused:$r}=Ie||E;function Ar(Gi){let Yr=Gi,ns=Dt.slice(1,Yr+1);for(let us=0;us<ns.length;us++){if(Kt[us+1].error){Yr=us,ns=Dt.slice(1,Yr+1);break}delete He[ns[us]]}vn=vn.filter(us=>-1===ns.indexOf(us)),Dt=[0,...Dt.slice(Yr+1)],Nn=Kt[Yr].state,Kt=Kt.slice(Yr),Ht=Ht>Yr?Ht-Yr:0}function Ei(){He={0:Is(Ml)},Ft=1,Dt=[0],vn=[],Nn=Kt[Ht].state,Ht=0,Kt=[]}Ie||(He=Object.create(He));let xr=0;switch(Me.type){case Os:Br=Me.status,xr=1/0;break;case oc:$r=Me.status,$r?(Dt=[...Dt,Ft],He[Ft]=new Ea({type:"@ngrx/devtools/pause"},+Date.now()),Ft++,xr=Dt.length-1,Kt=Kt.concat(Kt[Kt.length-1]),Ht===Dt.length-2&&Ht++,xr=1/0):Ei();break;case"RESET":He={0:Is(Ml)},Ft=1,Dt=[0],vn=[],Nn=S,Ht=0,Kt=[];break;case"COMMIT":Ei();break;case Ci:He={0:Is(Ml)},Ft=1,Dt=[0],vn=[],Ht=0,Kt=[];break;case dl:{const{id:Gi}=Me;vn=-1===vn.indexOf(Gi)?[Gi,...vn]:vn.filter(ns=>ns!==Gi),xr=Dt.indexOf(Gi);break}case"SET_ACTIONS_ACTIVE":{const{start:Gi,end:Yr,active:ns}=Me,us=[];for(let f=Gi;f<Yr;f++)us.push(f);vn=ns?Oa(vn,us):[...vn,...us],xr=Dt.indexOf(Gi);break}case Wl:Ht=Me.index,xr=1/0;break;case hl:{const Gi=Dt.indexOf(Me.actionId);-1!==Gi&&(Ht=Gi),xr=1/0;break}case"SWEEP":Dt=Oa(Dt,vn),vn=[],Ht=Math.min(Ht,Dt.length-1);break;case Nc:{if(Br)return Ie||E;if($r||Ie&&Al(Ie.computedStates[Ht],Me,$.predicate,$.actionsSafelist,$.actionsBlocklist)){const Yr=Kt[Kt.length-1];Kt=[...Kt.slice(0,-1),Sr(oe,Me.action,Yr.state,Yr.error,y)],xr=1/0;break}$.maxAge&&Dt.length===$.maxAge&&Ar(1),Ht===Dt.length-1&&Ht++;const Gi=Ft++;He[Gi]=Me,Dt=[...Dt,Gi],xr=Dt.length-1;break}case _a:({monitorState:We,actionsById:He,nextActionId:Ft,stagedActionIds:Dt,skippedActionIds:vn,committedState:Nn,currentStateIndex:Ht,computedStates:Kt,isLocked:Br,isPaused:$r}=Me.nextLiftedState);break;case Fr.Zz:xr=0,$.maxAge&&Dt.length>$.maxAge&&(Kt=Pc(Kt,xr,oe,Nn,He,Dt,vn,y,$r),Ar(Dt.length-$.maxAge),xr=1/0);break;case Fr.q6:if(Kt.filter(Yr=>Yr.error).length>0)xr=0,$.maxAge&&Dt.length>$.maxAge&&(Kt=Pc(Kt,xr,oe,Nn,He,Dt,vn,y,$r),Ar(Dt.length-$.maxAge),xr=1/0);else{if(!$r&&!Br){Ht===Dt.length-1&&Ht++;const Yr=Ft++;He[Yr]=new Ea(Me,+Date.now()),Dt=[...Dt,Yr],xr=Dt.length-1,Kt=Pc(Kt,xr,oe,Nn,He,Dt,vn,y,$r)}Kt=Kt.map(Yr=>({...Yr,state:oe(Yr.state,Gu)})),Ht=Dt.length-1,$.maxAge&&Dt.length>$.maxAge&&Ar(Dt.length-$.maxAge),xr=1/0}break;default:xr=1/0}return Kt=Pc(Kt,xr,oe,Nn,He,Dt,vn,y,$r),We=A(We,Me),{monitorState:We,actionsById:He,nextActionId:Ft,stagedActionIds:Dt,skippedActionIds:vn,committedState:Nn,currentStateIndex:Ht,computedStates:Kt,isLocked:Br,isPaused:$r}}}(We,Ft,Me,He.monitor,He),vn=(0,Yo.h)((0,Yo.h)(A.asObservable().pipe(function ul(S){return(0,Ye.p)((E,y)=>S<=y)}(1)),oe.actions$).pipe((0,Jt.T)(Is)),y,oe.liftedActions$).pipe((0,Kc.Q)(va.T)),Nn=$.pipe((0,Jt.T)(Dt)),Ht=Gl(He.connectInZone),Kt=new iu.m(1);this.liftedStateSubscription=vn.pipe((0,Tl.E)(Nn),cu(Ht),(0,zc.S)(({state:Ar},[Ei,xr])=>{let Gi=xr(Ar,Ei);return Ei.type!==Nc&&ea(He)&&(Gi=function Xa(S,E,y,A){const $=[],oe={},Ie=[];return S.stagedActionIds.forEach((Me,We)=>{const He=S.actionsById[Me];He&&(We&&Al(S.computedStates[We],He,E,y,A)||(oe[Me]=He,$.push(Me),Ie.push(S.computedStates[We])))}),{...S,stagedActionIds:$,actionsById:oe,computedStates:Ie}}(Gi,He.predicate,He.actionsSafelist,He.actionsBlocklist)),oe.notify(Ei,Gi),{state:Gi,action:Ei}},{state:Ft,action:null})).subscribe(({state:Ar,action:Ei})=>{Kt.next(Ar),Ei.type===Nc&&Ie.next(Ei.action)}),this.extensionStartSubscription=oe.start$.pipe(cu(Ht)).subscribe(()=>{this.refresh()});const Br=Kt.asObservable(),$r=Br.pipe((0,Jt.T)(xa));Object.defineProperty($r,"state",{value:(0,Qc.ot)($r,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=y,this.liftedState=Br,this.state=$r}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(y){this.dispatcher.next(y)}next(y){this.dispatcher.next(y)}error(y){}complete(){}performAction(y){this.dispatch(new Ea(y,+Date.now()))}refresh(){this.dispatch(new qc)}reset(){this.dispatch(new Na(+Date.now()))}rollback(){this.dispatch(new bl(+Date.now()))}commit(){this.dispatch(new xc(+Date.now()))}sweep(){this.dispatch(new fl)}toggleAction(y){this.dispatch(new x(y))}jumpToAction(y){this.dispatch(new k(y))}jumpToState(y){this.dispatch(new I(y))}importState(y){this.dispatch(new se(y))}lockChanges(y){this.dispatch(new Ee(y))}pauseRecording(y){this.dispatch(new ut(y))}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(gc),D.KVO(Fr.SS),D.KVO(Fr.QU),D.KVO(mc),D.KVO(Fr.sA),D.KVO(D.zcH),D.KVO(Fr.N_),D.KVO(En))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();function cu({ngZone:S,connectInZone:E}){return y=>E?new Xo.c(A=>y.subscribe({next:$=>S.run(()=>A.next($)),error:$=>S.run(()=>A.error($)),complete:()=>S.run(()=>A.complete())})):y}const _d=new D.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Ed(S,E){return!!S||E.monitor!==Tr}function Id(){const S="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[S]<"u"?window[S]:null}function yc(S={}){return(0,D.EmA)([mc,gc,Ql,{provide:Xn,useValue:S},{provide:_d,deps:[Pa,En],useFactory:Ed},{provide:Pa,useFactory:Id},{provide:En,deps:[Xn],useFactory:Ia},{provide:Fr.h1,deps:[Ql],useFactory:Yc},{provide:Fr.Bh,useExisting:gc}])}function Yc(S){return S.state}let ch=(()=>{class S{static instrument(y={}){return{ngModule:S,providers:[yc(y)]}}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({})}}return S})(),Cd=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({imports:[Fr.md.forRoot(al.gz),Qa.forRoot([Go]),ga,Wc,yr,_s,Ni,ch.instrument({maxAge:25,logOnly:!Xr.c.production,connectInZone:!0})]})}}return S})();const Dd="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let Rl=(()=>{class S{constructor(){}intercept(y,A){const{url:$,method:oe,headers:Ie}=y;return $.endsWith("login")&&"POST"===oe?function We(){return(0,Lt.of)(new qe.cS({status:200,body:{id:"1",username:"profanis",token:Dd}}))}():$.endsWith("products")&&"GET"===oe?function He(){if(!function Me(){return Ie.get("authorization")===Dd}())return(0,Ze.$)({status:401,error:{message:"Unauthorized"}});const Ft=[...new Array(20).keys()].map(Dt=>({id:Dt,name:`Product ${Dt}`,weight:30,symbol:"ngf"}));return(0,Lt.of)(new qe.cS({status:200,body:Ft}))}():A.handle(y)}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();const lu={provide:qe.a7,useClass:Rl,multi:!0};w(6570);let qs=(()=>{class S{static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275mod=D.$C({type:S})}static{this.\u0275inj=D.G2t({})}}return S})();var uu=w(8990);let wd=(()=>{class S{constructor(y){this.realtimeDbService=y}handleError(y){console.log(y),Xr.c.production&&this.realtimeDbService.post("2023/logging.json",y).subscribe()}handleError1(y){y instanceof qe.yz?y.error instanceof ErrorEvent?console.error("Error Event"):console.log(`error status : ${y.status} ${y.statusText}`):console.error("some thing else happened")}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(uu.A))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();const pl={provide:D.zcH,useClass:wd};class Zc{static get injector(){return this._injector}static set injector(E){this._injector=E}}var du=w(8910),Tu=w(7539);const gl=[{provide:du.B,useClass:Tu.J},{provide:du.W,useClass:Tu.J},{provide:uu.A,useClass:uu.d}];var Ku=w(2749),zu=w(5364);let dh=(()=>{class S{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}static{this.\u0275fac=function(A){return new(A||S)}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),hh=(()=>{class S extends Ku.y{constructor(y,A){super(),this.http=y,this.config=A}getCurrentWeather(y,A){const oe=this.getParams(y,A);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:oe}).pipe((0,Jt.T)(Ie=>({temperature:Ie.main.temp,temperatureMin:Ie.main.temp_min,temperatureMax:Ie.main.temp_max,city:Ie.name,conditions:(0,zu.vp)(Ie.weather[0]),date:new Date(Ie.dt),zipCode:y,countryCode:A})))}getWeatherForecast(y,A){const oe=this.getParams(y,A);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:oe}).pipe((0,Jt.T)(Ie=>Ie.list.map(Me=>({temperature:Me.temp.day,temperatureMin:Me.temp.min,temperatureMax:Me.temp.max,city:Ie.city.name,conditions:(0,zu.vp)(Me.weather[0]),date:new Date(1e3*Me.dt),zipCode:y,countryCode:A}))))}getParams(y,A="us"){return new qe.Nl({fromObject:{zip:`${y},${A}`,appid:this.config.apiKey}})}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(qe.Qq),D.KVO(dh))}}static{this.\u0275prov=D.jDH({token:S,factory:S.\u0275fac})}}return S})();var fh=w(1111);let Su=(()=>{class S{constructor(y){this.injector=y,Zc.injector=y}static{this.\u0275fac=function(A){return new(A||S)(D.KVO(D.zZn))}}static{this.\u0275mod=D.$C({type:S,bootstrap:[Je]})}static{this.\u0275inj=D.G2t({providers:[Ma,{provide:Ku.y,useClass:hh},Te.vh,qe.q1,{provide:Qn.i,useValue:new Qn.i(er)},Mi,lu,pl,gl],imports:[p.Bb,qr,qe.q1,qe.uA,je.G,lt,nt,rc.register("ngsw-worker.js",{enabled:Xr.c.production,registrationStrategy:"registerWhenStable:30000"}),Cd,un,go.forRoot({userName:"Trilok Singh"}),Ra.aU.initializeApp(Xr.c.firebaseConfig),Ra.aU.initialize({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0}),qs,fh.MB,qr]})}}return S})();Xr.c.production&&(0,D.SmG)(),p.sG().bootstrapModule(Su).catch(S=>console.error(S))},4412:(St,Re,w)=>{w.d(Re,{t:()=>D});var p=w(1413);class D extends p.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const Z=super._subscribe(H);return!Z.closed&&H.next(this._value),Z}getValue(){const{hasError:H,thrownError:Z,_value:ie}=this;if(H)throw Z;return this._throwIfClosed(),ie}next(H){super.next(this._value=H)}}},1985:(St,Re,w)=>{w.d(Re,{c:()=>Y});var p=w(7707),D=w(8359),ce=w(3494),H=w(1203),Z=w(1026),ie=w(8071),te=w(9786);let Y=(()=>{class Te{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Qe=new Te;return Qe.source=this,Qe.operator=Ve,Qe}subscribe(Ve,Qe,st){const bt=function le(Te){return Te&&Te instanceof p.vU||function ne(Te){return Te&&(0,ie.T)(Te.next)&&(0,ie.T)(Te.error)&&(0,ie.T)(Te.complete)}(Te)&&(0,D.Uv)(Te)}(Ve)?Ve:new p.Ms(Ve,Qe,st);return(0,te.Y)(()=>{const{operator:vt,source:wt}=this;bt.add(vt?vt.call(bt,wt):wt?this._subscribe(bt):this._trySubscribe(bt))}),bt}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Qe){Ve.error(Qe)}}forEach(Ve,Qe){return new(Qe=fe(Qe))((st,bt)=>{const vt=new p.Ms({next:wt=>{try{Ve(wt)}catch(qt){bt(qt),vt.unsubscribe()}},error:bt,complete:st});this.subscribe(vt)})}_subscribe(Ve){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Ve)}[ce.s](){return this}pipe(...Ve){return(0,H.m)(Ve)(this)}toPromise(Ve){return new(Ve=fe(Ve))((Qe,st)=>{let bt;this.subscribe(vt=>bt=vt,vt=>st(vt),()=>Qe(bt))})}}return Te.create=Ue=>new Te(Ue),Te})();function fe(Te){var Ue;return null!==(Ue=Te??Z.$.Promise)&&void 0!==Ue?Ue:Promise}},2771:(St,Re,w)=>{w.d(Re,{m:()=>ce});var p=w(1413),D=w(6129);class ce extends p.B{constructor(Z=1/0,ie=1/0,te=D.U){super(),this._bufferSize=Z,this._windowTime=ie,this._timestampProvider=te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ie===1/0,this._bufferSize=Math.max(1,Z),this._windowTime=Math.max(1,ie)}next(Z){const{isStopped:ie,_buffer:te,_infiniteTimeWindow:Y,_timestampProvider:fe,_windowTime:ne}=this;ie||(te.push(Z),!Y&&te.push(fe.now()+ne)),this._trimBuffer(),super.next(Z)}_subscribe(Z){this._throwIfClosed(),this._trimBuffer();const ie=this._innerSubscribe(Z),{_infiniteTimeWindow:te,_buffer:Y}=this,fe=Y.slice();for(let ne=0;ne<fe.length&&!Z.closed;ne+=te?1:2)Z.next(fe[ne]);return this._checkFinalizedStatuses(Z),ie}_trimBuffer(){const{_bufferSize:Z,_timestampProvider:ie,_buffer:te,_infiniteTimeWindow:Y}=this,fe=(Y?1:2)*Z;if(Z<1/0&&fe<te.length&&te.splice(0,te.length-fe),!Y){const ne=ie.now();let le=0;for(let Te=1;Te<te.length&&te[Te]<=ne;Te+=2)le=Te;le&&te.splice(0,le+1)}}}},1413:(St,Re,w)=>{w.d(Re,{B:()=>te});var p=w(1985),D=w(8359);const H=(0,w(1853).L)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=w(7908),ie=w(9786);let te=(()=>{class fe extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Te=new Y(this,this);return Te.operator=le,Te}_throwIfClosed(){if(this.closed)throw new H}next(le){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(le)}})}error(le){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Te}=this;for(;Te.length;)Te.shift().error(le)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Te,isStopped:Ue,observers:Ve}=this;return Te||Ue?D.Kn:(this.currentObservers=null,Ve.push(le),new D.yU(()=>{this.currentObservers=null,(0,Z.o)(Ve,le)}))}_checkFinalizedStatuses(le){const{hasError:Te,thrownError:Ue,isStopped:Ve}=this;Te?le.error(Ue):Ve&&le.complete()}asObservable(){const le=new p.c;return le.source=this,le}}return fe.create=(ne,le)=>new Y(ne,le),fe})();class Y extends te{constructor(ne,le){super(),this.destination=ne,this.source=le}next(ne){var le,Te;null===(Te=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Te||Te.call(le,ne)}error(ne){var le,Te;null===(Te=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Te||Te.call(le,ne)}complete(){var ne,le;null===(le=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===le||le.call(ne)}_subscribe(ne){var le,Te;return null!==(Te=null===(le=this.source)||void 0===le?void 0:le.subscribe(ne))&&void 0!==Te?Te:D.Kn}}},7707:(St,Re,w)=>{w.d(Re,{Ms:()=>st,vU:()=>Te});var p=w(8071),D=w(8359),ce=w(1026),H=w(5334),Z=w(5343);const ie=fe("C",void 0,void 0);function fe(lt,qe,nn){return{kind:lt,value:qe,error:nn}}var ne=w(9270),le=w(9786);class Te extends D.yU{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,D.Uv)(qe)&&qe.add(this)):this.destination=qt}static create(qe,nn,Bt){return new st(qe,nn,Bt)}next(qe){this.isStopped?wt(function Y(lt){return fe("N",lt,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?wt(function te(lt){return fe("E",void 0,lt)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?wt(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ve(lt,qe){return Ue.call(lt,qe)}class Qe{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:nn}=this;if(nn.next)try{nn.next(qe)}catch(Bt){bt(Bt)}}error(qe){const{partialObserver:nn}=this;if(nn.error)try{nn.error(qe)}catch(Bt){bt(Bt)}else bt(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(nn){bt(nn)}}}class st extends Te{constructor(qe,nn,Bt){let Ze;if(super(),(0,p.T)(qe)||!qe)Ze={next:qe??void 0,error:nn??void 0,complete:Bt??void 0};else{let Gt;this&&ce.$.useDeprecatedNextContext?(Gt=Object.create(qe),Gt.unsubscribe=()=>this.unsubscribe(),Ze={next:qe.next&&Ve(qe.next,Gt),error:qe.error&&Ve(qe.error,Gt),complete:qe.complete&&Ve(qe.complete,Gt)}):Ze=qe}this.destination=new Qe(Ze)}}function bt(lt){ce.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(lt):(0,H.m)(lt)}function wt(lt,qe){const{onStoppedNotification:nn}=ce.$;nn&&ne.f.setTimeout(()=>nn(lt,qe))}const qt={closed:!0,next:Z.l,error:function vt(lt){throw lt},complete:Z.l}},8359:(St,Re,w)=>{w.d(Re,{Kn:()=>ie,yU:()=>Z,Uv:()=>te});var p=w(8071);const ce=(0,w(1853).L)(fe=>function(le){fe(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Te,Ue)=>`${Ue+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var H=w(7908);class Z{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Ve of le)Ve.remove(this);else le.remove(this);const{initialTeardown:Te}=this;if((0,p.T)(Te))try{Te()}catch(Ve){ne=Ve instanceof ce?Ve.errors:[Ve]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ve of Ue)try{Y(Ve)}catch(Qe){ne=ne??[],Qe instanceof ce?ne=[...ne,...Qe.errors]:ne.push(Qe)}}if(ne)throw new ce(ne)}}add(ne){var le;if(ne&&ne!==this)if(this.closed)Y(ne);else{if(ne instanceof Z){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ne)}}_hasParent(ne){const{_parentage:le}=this;return le===ne||Array.isArray(le)&&le.includes(ne)}_addParent(ne){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ne),le):le?[le,ne]:ne}_removeParent(ne){const{_parentage:le}=this;le===ne?this._parentage=null:Array.isArray(le)&&(0,H.o)(le,ne)}remove(ne){const{_finalizers:le}=this;le&&(0,H.o)(le,ne),ne instanceof Z&&ne._removeParent(this)}}Z.EMPTY=(()=>{const fe=new Z;return fe.closed=!0,fe})();const ie=Z.EMPTY;function te(fe){return fe instanceof Z||fe&&"closed"in fe&&(0,p.T)(fe.remove)&&(0,p.T)(fe.add)&&(0,p.T)(fe.unsubscribe)}function Y(fe){(0,p.T)(fe)?fe():fe.unsubscribe()}},1026:(St,Re,w)=>{w.d(Re,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(St,Re,w)=>{w.d(Re,{G:()=>ie});var p=w(1985),D=w(8359),ce=w(9898),H=w(4360),Z=w(9974);class ie extends p.c{constructor(Y,fe){super(),this.source=Y,this.subjectFactory=fe,this._subject=null,this._refCount=0,this._connection=null,(0,Z.S)(Y)&&(this.lift=Y.lift)}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Y}=this;this._subject=this._connection=null,Y?.unsubscribe()}connect(){let Y=this._connection;if(!Y){Y=this._connection=new D.yU;const fe=this.getSubject();Y.add(this.source.subscribe((0,H._)(fe,void 0,()=>{this._teardown(),fe.complete()},ne=>{this._teardown(),fe.error(ne)},()=>this._teardown()))),Y.closed&&(this._connection=null,Y=D.yU.EMPTY)}return Y}refCount(){return(0,ce.B)()(this)}}},4572:(St,Re,w)=>{w.d(Re,{z:()=>ne});var p=w(1985),D=w(3073),ce=w(2806),H=w(3669),Z=w(6450),ie=w(9326),te=w(8496),Y=w(4360),fe=w(5225);function ne(...Ue){const Ve=(0,ie.lI)(Ue),Qe=(0,ie.ms)(Ue),{args:st,keys:bt}=(0,D.D)(Ue);if(0===st.length)return(0,ce.H)([],Ve);const vt=new p.c(function le(Ue,Ve,Qe=H.D){return st=>{Te(Ve,()=>{const{length:bt}=Ue,vt=new Array(bt);let wt=bt,qt=bt;for(let lt=0;lt<bt;lt++)Te(Ve,()=>{const qe=(0,ce.H)(Ue[lt],Ve);let nn=!1;qe.subscribe((0,Y._)(st,Bt=>{vt[lt]=Bt,nn||(nn=!0,qt--),qt||st.next(Qe(vt.slice()))},()=>{--wt||st.complete()}))},st)},st)}}(st,Ve,bt?wt=>(0,te.e)(bt,wt):H.D));return Qe?vt.pipe((0,Z.I)(Qe)):vt}function Te(Ue,Ve,Qe){Ue?(0,fe.N)(Qe,Ue,Ve):Ve()}},8793:(St,Re,w)=>{w.d(Re,{x:()=>Z});var p=w(6365),ce=w(9326),H=w(2806);function Z(...ie){return function D(){return(0,p.U)(1)}()((0,H.H)(ie,(0,ce.lI)(ie)))}},9030:(St,Re,w)=>{w.d(Re,{v:()=>ce});var p=w(1985),D=w(8750);function ce(H){return new p.c(Z=>{(0,D.Tg)(H()).subscribe(Z)})}},983:(St,Re,w)=>{w.d(Re,{I:()=>ce,w:()=>D});var p=w(1985);const D=new p.c(Z=>Z.complete());function ce(Z){return Z?function H(Z){return new p.c(ie=>Z.schedule(()=>ie.complete()))}(Z):D}},7468:(St,Re,w)=>{w.d(Re,{p:()=>Y});var p=w(1985),D=w(3073),ce=w(8750),H=w(9326),Z=w(4360),ie=w(6450),te=w(8496);function Y(...fe){const ne=(0,H.ms)(fe),{args:le,keys:Te}=(0,D.D)(fe),Ue=new p.c(Ve=>{const{length:Qe}=le;if(!Qe)return void Ve.complete();const st=new Array(Qe);let bt=Qe,vt=Qe;for(let wt=0;wt<Qe;wt++){let qt=!1;(0,ce.Tg)(le[wt]).subscribe((0,Z._)(Ve,lt=>{qt||(qt=!0,vt--),st[wt]=lt},()=>bt--,void 0,()=>{(!bt||!qt)&&(vt||Ve.next(Te?(0,te.e)(Te,st):st),Ve.complete())}))}});return ne?Ue.pipe((0,ie.I)(ne)):Ue}},2806:(St,Re,w)=>{w.d(Re,{H:()=>nn});var p=w(8750),D=w(941),ce=w(9974);function H(Bt,Ze=0){return(0,ce.N)((Gt,Lt)=>{Lt.add(Bt.schedule(()=>Gt.subscribe(Lt),Ze))})}var te=w(1985),fe=w(4761),ne=w(8071),le=w(5225);function Ue(Bt,Ze){if(!Bt)throw new Error("Iterable cannot be null");return new te.c(Gt=>{(0,le.N)(Gt,Ze,()=>{const Lt=Bt[Symbol.asyncIterator]();(0,le.N)(Gt,Ze,()=>{Lt.next().then(wn=>{wn.done?Gt.complete():Gt.next(wn.value)})},0,!0)})})}var Ve=w(5055),Qe=w(9858),st=w(7441),bt=w(5397),vt=w(7953),wt=w(591),qt=w(5196);function nn(Bt,Ze){return Ze?function qe(Bt,Ze){if(null!=Bt){if((0,Ve.l)(Bt))return function Z(Bt,Ze){return(0,p.Tg)(Bt).pipe(H(Ze),(0,D.Q)(Ze))}(Bt,Ze);if((0,st.X)(Bt))return function Y(Bt,Ze){return new te.c(Gt=>{let Lt=0;return Ze.schedule(function(){Lt===Bt.length?Gt.complete():(Gt.next(Bt[Lt++]),Gt.closed||this.schedule())})})}(Bt,Ze);if((0,Qe.y)(Bt))return function ie(Bt,Ze){return(0,p.Tg)(Bt).pipe(H(Ze),(0,D.Q)(Ze))}(Bt,Ze);if((0,vt.T)(Bt))return Ue(Bt,Ze);if((0,bt.x)(Bt))return function Te(Bt,Ze){return new te.c(Gt=>{let Lt;return(0,le.N)(Gt,Ze,()=>{Lt=Bt[fe.l](),(0,le.N)(Gt,Ze,()=>{let wn,Nt;try{({value:wn,done:Nt}=Lt.next())}catch(et){return void Gt.error(et)}Nt?Gt.complete():Gt.next(wn)},0,!0)}),()=>(0,ne.T)(Lt?.return)&&Lt.return()})}(Bt,Ze);if((0,qt.U)(Bt))return function lt(Bt,Ze){return Ue((0,qt.C)(Bt),Ze)}(Bt,Ze)}throw(0,wt.L)(Bt)}(Bt,Ze):(0,p.Tg)(Bt)}},3726:(St,Re,w)=>{w.d(Re,{R:()=>ne});var p=w(8750),D=w(1985),ce=w(1397),H=w(7441),Z=w(8071),ie=w(6450);const te=["addListener","removeListener"],Y=["addEventListener","removeEventListener"],fe=["on","off"];function ne(Qe,st,bt,vt){if((0,Z.T)(bt)&&(vt=bt,bt=void 0),vt)return ne(Qe,st,bt).pipe((0,ie.I)(vt));const[wt,qt]=function Ve(Qe){return(0,Z.T)(Qe.addEventListener)&&(0,Z.T)(Qe.removeEventListener)}(Qe)?Y.map(lt=>qe=>Qe[lt](st,qe,bt)):function Te(Qe){return(0,Z.T)(Qe.addListener)&&(0,Z.T)(Qe.removeListener)}(Qe)?te.map(le(Qe,st)):function Ue(Qe){return(0,Z.T)(Qe.on)&&(0,Z.T)(Qe.off)}(Qe)?fe.map(le(Qe,st)):[];if(!wt&&(0,H.X)(Qe))return(0,ce.Z)(lt=>ne(lt,st,bt))((0,p.Tg)(Qe));if(!wt)throw new TypeError("Invalid event target");return new D.c(lt=>{const qe=(...nn)=>lt.next(1<nn.length?nn:nn[0]);return wt(qe),()=>qt(qe)})}function le(Qe,st){return bt=>vt=>Qe[bt](st,vt)}},8750:(St,Re,w)=>{w.d(Re,{Tg:()=>Ue});var p=w(1635),D=w(7441),ce=w(9858),H=w(1985),Z=w(5055),ie=w(7953),te=w(591),Y=w(5397),fe=w(5196),ne=w(8071),le=w(5334),Te=w(3494);function Ue(lt){if(lt instanceof H.c)return lt;if(null!=lt){if((0,Z.l)(lt))return function Ve(lt){return new H.c(qe=>{const nn=lt[Te.s]();if((0,ne.T)(nn.subscribe))return nn.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(lt);if((0,D.X)(lt))return function Qe(lt){return new H.c(qe=>{for(let nn=0;nn<lt.length&&!qe.closed;nn++)qe.next(lt[nn]);qe.complete()})}(lt);if((0,ce.y)(lt))return function st(lt){return new H.c(qe=>{lt.then(nn=>{qe.closed||(qe.next(nn),qe.complete())},nn=>qe.error(nn)).then(null,le.m)})}(lt);if((0,ie.T)(lt))return vt(lt);if((0,Y.x)(lt))return function bt(lt){return new H.c(qe=>{for(const nn of lt)if(qe.next(nn),qe.closed)return;qe.complete()})}(lt);if((0,fe.U)(lt))return function wt(lt){return vt((0,fe.C)(lt))}(lt)}throw(0,te.L)(lt)}function vt(lt){return new H.c(qe=>{(function qt(lt,qe){var nn,Bt,Ze,Gt;return(0,p.sH)(this,void 0,void 0,function*(){try{for(nn=(0,p.xN)(lt);!(Bt=yield nn.next()).done;)if(qe.next(Bt.value),qe.closed)return}catch(Lt){Ze={error:Lt}}finally{try{Bt&&!Bt.done&&(Gt=nn.return)&&(yield Gt.call(nn))}finally{if(Ze)throw Ze.error}}qe.complete()})})(lt,qe).catch(nn=>qe.error(nn))})}},7786:(St,Re,w)=>{w.d(Re,{h:()=>ie});var p=w(6365),D=w(8750),ce=w(983),H=w(9326),Z=w(2806);function ie(...te){const Y=(0,H.lI)(te),fe=(0,H.R0)(te,1/0),ne=te;return ne.length?1===ne.length?(0,D.Tg)(ne[0]):(0,p.U)(fe)((0,Z.H)(ne,Y)):ce.w}},7673:(St,Re,w)=>{w.d(Re,{of:()=>ce});var p=w(9326),D=w(2806);function ce(...H){const Z=(0,p.lI)(H);return(0,D.H)(H,Z)}},8810:(St,Re,w)=>{w.d(Re,{$:()=>ce});var p=w(1985),D=w(8071);function ce(H,Z){const ie=(0,D.T)(H)?H:()=>H,te=Y=>Y.error(ie());return new p.c(Z?Y=>Z.schedule(te,0,Y):te)}},1807:(St,Re,w)=>{w.d(Re,{O:()=>Z});var p=w(1985),D=w(3236),ce=w(9470),H=w(8211);function Z(ie=0,te,Y=D.b){let fe=-1;return null!=te&&((0,ce.m)(te)?Y=te:fe=te),new p.c(ne=>{let le=(0,H.v)(ie)?+ie-Y.now():ie;le<0&&(le=0);let Te=0;return Y.schedule(function(){ne.closed||(ne.next(Te++),0<=fe?this.schedule(void 0,fe):ne.complete())},le)})}},4360:(St,Re,w)=>{w.d(Re,{H:()=>ce,_:()=>D});var p=w(7707);function D(H,Z,ie,te,Y){return new ce(H,Z,ie,te,Y)}class ce extends p.vU{constructor(Z,ie,te,Y,fe,ne){super(Z),this.onFinalize=fe,this.shouldUnsubscribe=ne,this._next=ie?function(le){try{ie(le)}catch(Te){Z.error(Te)}}:super._next,this._error=Y?function(le){try{Y(le)}catch(Te){Z.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(le){Z.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},9437:(St,Re,w)=>{w.d(Re,{W:()=>H});var p=w(8750),D=w(4360),ce=w(9974);function H(Z){return(0,ce.N)((ie,te)=>{let ne,Y=null,fe=!1;Y=ie.subscribe((0,D._)(te,void 0,void 0,le=>{ne=(0,p.Tg)(Z(le,H(Z)(ie))),Y?(Y.unsubscribe(),Y=null,ne.subscribe(te)):fe=!0})),fe&&(Y.unsubscribe(),Y=null,ne.subscribe(te))})}},274:(St,Re,w)=>{w.d(Re,{H:()=>ce});var p=w(1397),D=w(8071);function ce(H,Z){return(0,D.T)(Z)?(0,p.Z)(H,Z,1):(0,p.Z)(H,1)}},152:(St,Re,w)=>{w.d(Re,{B:()=>H});var p=w(3236),D=w(9974),ce=w(4360);function H(Z,ie=p.E){return(0,D.N)((te,Y)=>{let fe=null,ne=null,le=null;const Te=()=>{if(fe){fe.unsubscribe(),fe=null;const Ve=ne;ne=null,Y.next(Ve)}};function Ue(){const Ve=le+Z,Qe=ie.now();if(Qe<Ve)return fe=this.schedule(void 0,Ve-Qe),void Y.add(fe);Te()}te.subscribe((0,ce._)(Y,Ve=>{ne=Ve,le=ie.now(),fe||(fe=ie.schedule(Ue,Z),Y.add(fe))},()=>{Te(),Y.complete()},void 0,()=>{ne=fe=null}))})}},9901:(St,Re,w)=>{w.d(Re,{U:()=>ce});var p=w(9974),D=w(4360);function ce(H){return(0,p.N)((Z,ie)=>{let te=!1;Z.subscribe((0,D._)(ie,Y=>{te=!0,ie.next(Y)},()=>{te||ie.next(H),ie.complete()}))})}},5335:(St,Re,w)=>{w.d(Re,{c:()=>ne});var p=w(3236),D=w(8793),ce=w(6697),H=w(3557),Z=w(3703),ie=w(1397),te=w(8750);function Y(le,Te){return Te?Ue=>(0,D.x)(Te.pipe((0,ce.s)(1),(0,H.w)()),Ue.pipe(Y(le))):(0,ie.Z)((Ue,Ve)=>(0,te.Tg)(le(Ue,Ve)).pipe((0,ce.s)(1),(0,Z.u)(Ue)))}var fe=w(1807);function ne(le,Te=p.E){const Ue=(0,fe.O)(le,Te);return Y(()=>Ue)}},3294:(St,Re,w)=>{w.d(Re,{F:()=>H});var p=w(3669),D=w(9974),ce=w(4360);function H(ie,te=p.D){return ie=ie??Z,(0,D.N)((Y,fe)=>{let ne,le=!0;Y.subscribe((0,ce._)(fe,Te=>{const Ue=te(Te);(le||!ie(ne,Ue))&&(le=!1,ne=Ue,fe.next(Te))}))})}function Z(ie,te){return ie===te}},786:(St,Re,w)=>{w.d(Re,{p:()=>Z});var p=w(6354),D=w(8750),ce=w(9974),H=w(4360);function Z(ie,te){return te?Y=>Y.pipe(Z((fe,ne)=>(0,D.Tg)(ie(fe,ne)).pipe((0,p.T)((le,Te)=>te(fe,le,ne,Te))))):(0,ce.N)((Y,fe)=>{let ne=0,le=null,Te=!1;Y.subscribe((0,H._)(fe,Ue=>{le||(le=(0,H._)(fe,void 0,()=>{le=null,Te&&fe.complete()}),(0,D.Tg)(ie(Ue,ne++)).subscribe(le))},()=>{Te=!0,!le&&fe.complete()}))})}},5964:(St,Re,w)=>{w.d(Re,{p:()=>ce});var p=w(9974),D=w(4360);function ce(H,Z){return(0,p.N)((ie,te)=>{let Y=0;ie.subscribe((0,D._)(te,fe=>H.call(Z,fe,Y++)&&te.next(fe)))})}},980:(St,Re,w)=>{w.d(Re,{j:()=>D});var p=w(9974);function D(ce){return(0,p.N)((H,Z)=>{try{H.subscribe(Z)}finally{Z.add(ce)}})}},1594:(St,Re,w)=>{w.d(Re,{$:()=>te});var p=w(9350),D=w(5964),ce=w(6697),H=w(9901),Z=w(3774),ie=w(3669);function te(Y,fe){const ne=arguments.length>=2;return le=>le.pipe(Y?(0,D.p)((Te,Ue)=>Y(Te,Ue,le)):ie.D,(0,ce.s)(1),ne?(0,H.U)(fe):(0,Z.v)(()=>new p.G))}},3557:(St,Re,w)=>{w.d(Re,{w:()=>H});var p=w(9974),D=w(4360),ce=w(5343);function H(){return(0,p.N)((Z,ie)=>{Z.subscribe((0,D._)(ie,ce.l))})}},7018:(St,Re,w)=>{w.d(Re,{H:()=>te});var p=w(9350),D=w(5964),ce=w(5109),H=w(3774),Z=w(9901),ie=w(3669);function te(Y,fe){const ne=arguments.length>=2;return le=>le.pipe(Y?(0,D.p)((Te,Ue)=>Y(Te,Ue,le)):ie.D,(0,ce.o)(1),ne?(0,Z.U)(fe):(0,H.v)(()=>new p.G))}},6354:(St,Re,w)=>{w.d(Re,{T:()=>ce});var p=w(9974),D=w(4360);function ce(H,Z){return(0,p.N)((ie,te)=>{let Y=0;ie.subscribe((0,D._)(te,fe=>{te.next(H.call(Z,fe,Y++))}))})}},3703:(St,Re,w)=>{w.d(Re,{u:()=>D});var p=w(6354);function D(ce){return(0,p.T)(()=>ce)}},6365:(St,Re,w)=>{w.d(Re,{U:()=>ce});var p=w(1397),D=w(3669);function ce(H=1/0){return(0,p.Z)(D.D,H)}},1397:(St,Re,w)=>{w.d(Re,{Z:()=>Y});var p=w(6354),D=w(8750),ce=w(9974),H=w(5225),Z=w(4360),te=w(8071);function Y(fe,ne,le=1/0){return(0,te.T)(ne)?Y((Te,Ue)=>(0,p.T)((Ve,Qe)=>ne(Te,Ve,Ue,Qe))((0,D.Tg)(fe(Te,Ue))),le):("number"==typeof ne&&(le=ne),(0,ce.N)((Te,Ue)=>function ie(fe,ne,le,Te,Ue,Ve,Qe,st){const bt=[];let vt=0,wt=0,qt=!1;const lt=()=>{qt&&!bt.length&&!vt&&ne.complete()},qe=Bt=>vt<Te?nn(Bt):bt.push(Bt),nn=Bt=>{Ve&&ne.next(Bt),vt++;let Ze=!1;(0,D.Tg)(le(Bt,wt++)).subscribe((0,Z._)(ne,Gt=>{Ue?.(Gt),Ve?qe(Gt):ne.next(Gt)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(vt--;bt.length&&vt<Te;){const Gt=bt.shift();Qe?(0,H.N)(ne,Qe,()=>nn(Gt)):nn(Gt)}lt()}catch(Gt){ne.error(Gt)}}))};return fe.subscribe((0,Z._)(ne,qe,()=>{qt=!0,lt()})),()=>{st?.()}}(Te,Ue,fe,le)))}},941:(St,Re,w)=>{w.d(Re,{Q:()=>H});var p=w(5225),D=w(9974),ce=w(4360);function H(Z,ie=0){return(0,D.N)((te,Y)=>{te.subscribe((0,ce._)(Y,fe=>(0,p.N)(Y,Z,()=>Y.next(fe),ie),()=>(0,p.N)(Y,Z,()=>Y.complete(),ie),fe=>(0,p.N)(Y,Z,()=>Y.error(fe),ie)))})}},9085:(St,Re,w)=>{w.d(Re,{E:()=>D});var p=w(6354);function D(...ce){const H=ce.length;if(0===H)throw new Error("list of properties cannot be empty.");return(0,p.T)(Z=>{let ie=Z;for(let te=0;te<H;te++){const Y=ie?.[ce[te]];if(!(typeof Y<"u"))return;ie=Y}return ie})}},3319:(St,Re,w)=>{w.d(Re,{m:()=>le});var p=w(1413),D=w(17),ce=w(8071),H=w(8750),Z=w(9974),ie=w(1985);const Y={connector:()=>new p.B};function fe(Te,Ue=Y){const{connector:Ve}=Ue;return(0,Z.N)((Qe,st)=>{const bt=Ve();(0,H.Tg)(Te(function te(Te){return new ie.c(Ue=>Te.subscribe(Ue))}(bt))).subscribe(st),st.add(Qe.subscribe(bt))})}function le(Te){return Te?Ue=>fe(Te)(Ue):Ue=>function ne(Te,Ue){const Ve=(0,ce.T)(Te)?Te:()=>Te;return(0,ce.T)(Ue)?fe(Ue,{connector:Ve}):Qe=>new D.G(Qe,Ve)}(new p.B)(Ue)}},9898:(St,Re,w)=>{w.d(Re,{B:()=>ce});var p=w(9974),D=w(4360);function ce(){return(0,p.N)((H,Z)=>{let ie=null;H._refCount++;const te=(0,D._)(Z,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(ie=null);const Y=H._connection,fe=ie;ie=null,Y&&(!fe||Y===fe)&&Y.unsubscribe(),Z.unsubscribe()});H.subscribe(te),te.closed||(ie=H.connect())})}},2498:(St,Re,w)=>{w.d(Re,{L:()=>ie});var p=w(9974),D=w(4360),ce=w(3669),H=w(1807),Z=w(8750);function ie(te=1/0){let Y;Y=te&&"object"==typeof te?te:{count:te};const{count:fe=1/0,delay:ne,resetOnSuccess:le=!1}=Y;return fe<=0?ce.D:(0,p.N)((Te,Ue)=>{let Qe,Ve=0;const st=()=>{let bt=!1;Qe=Te.subscribe((0,D._)(Ue,vt=>{le&&(Ve=0),Ue.next(vt)},void 0,vt=>{if(Ve++<fe){const wt=()=>{Qe?(Qe.unsubscribe(),Qe=null,st()):bt=!0};if(null!=ne){const qt="number"==typeof ne?(0,H.O)(ne):(0,Z.Tg)(ne(vt,Ve)),lt=(0,D._)(Ue,()=>{lt.unsubscribe(),wt()},()=>{Ue.complete()});qt.subscribe(lt)}else wt()}else Ue.error(vt)})),bt&&(Qe.unsubscribe(),Qe=null,st())};st()})}},2816:(St,Re,w)=>{w.d(Re,{S:()=>H});var p=w(9974),D=w(4360);function H(Z,ie){return(0,p.N)(function ce(Z,ie,te,Y,fe){return(ne,le)=>{let Te=te,Ue=ie,Ve=0;ne.subscribe((0,D._)(le,Qe=>{const st=Ve++;Ue=Te?Z(Ue,Qe,st):(Te=!0,Qe),Y&&le.next(Ue)},fe&&(()=>{Te&&le.next(Ue),le.complete()})))}}(Z,ie,arguments.length>=2,!0))}},7647:(St,Re,w)=>{w.d(Re,{u:()=>Z});var p=w(8750),D=w(1413),ce=w(7707),H=w(9974);function Z(te={}){const{connector:Y=()=>new D.B,resetOnError:fe=!0,resetOnComplete:ne=!0,resetOnRefCountZero:le=!0}=te;return Te=>{let Ue,Ve,Qe,st=0,bt=!1,vt=!1;const wt=()=>{Ve?.unsubscribe(),Ve=void 0},qt=()=>{wt(),Ue=Qe=void 0,bt=vt=!1},lt=()=>{const qe=Ue;qt(),qe?.unsubscribe()};return(0,H.N)((qe,nn)=>{st++,!vt&&!bt&&wt();const Bt=Qe=Qe??Y();nn.add(()=>{st--,0===st&&!vt&&!bt&&(Ve=ie(lt,le))}),Bt.subscribe(nn),!Ue&&st>0&&(Ue=new ce.Ms({next:Ze=>Bt.next(Ze),error:Ze=>{vt=!0,wt(),Ve=ie(qt,fe,Ze),Bt.error(Ze)},complete:()=>{bt=!0,wt(),Ve=ie(qt,ne),Bt.complete()}}),(0,p.Tg)(qe).subscribe(Ue))})(Te)}}function ie(te,Y,...fe){if(!0===Y)return void te();if(!1===Y)return;const ne=new ce.Ms({next:()=>{ne.unsubscribe(),te()}});return(0,p.Tg)(Y(...fe)).subscribe(ne)}},4668:(St,Re,w)=>{w.d(Re,{t:()=>ce});var p=w(2771),D=w(7647);function ce(H,Z,ie){let te,Y=!1;return H&&"object"==typeof H?({bufferSize:te=1/0,windowTime:Z=1/0,refCount:Y=!1,scheduler:ie}=H):te=H??1/0,(0,D.u)({connector:()=>new p.m(te,Z,ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Y})}},9172:(St,Re,w)=>{w.d(Re,{Z:()=>H});var p=w(8793),D=w(9326),ce=w(9974);function H(...Z){const ie=(0,D.lI)(Z);return(0,ce.N)((te,Y)=>{(ie?(0,p.x)(Z,te,ie):(0,p.x)(Z,te)).subscribe(Y)})}},5558:(St,Re,w)=>{w.d(Re,{n:()=>H});var p=w(8750),D=w(9974),ce=w(4360);function H(Z,ie){return(0,D.N)((te,Y)=>{let fe=null,ne=0,le=!1;const Te=()=>le&&!fe&&Y.complete();te.subscribe((0,ce._)(Y,Ue=>{fe?.unsubscribe();let Ve=0;const Qe=ne++;(0,p.Tg)(Z(Ue,Qe)).subscribe(fe=(0,ce._)(Y,st=>Y.next(ie?ie(Ue,st,Qe,Ve++):st),()=>{fe=null,Te()}))},()=>{le=!0,Te()}))})}},6697:(St,Re,w)=>{w.d(Re,{s:()=>H});var p=w(983),D=w(9974),ce=w(4360);function H(Z){return Z<=0?()=>p.w:(0,D.N)((ie,te)=>{let Y=0;ie.subscribe((0,ce._)(te,fe=>{++Y<=Z&&(te.next(fe),Z<=Y&&te.complete())}))})}},5109:(St,Re,w)=>{w.d(Re,{o:()=>H});var p=w(983),D=w(9974),ce=w(4360);function H(Z){return Z<=0?()=>p.w:(0,D.N)((ie,te)=>{let Y=[];ie.subscribe((0,ce._)(te,fe=>{Y.push(fe),Z<Y.length&&Y.shift()},()=>{for(const fe of Y)te.next(fe);te.complete()},void 0,()=>{Y=null}))})}},6977:(St,Re,w)=>{w.d(Re,{Q:()=>Z});var p=w(9974),D=w(4360),ce=w(8750),H=w(5343);function Z(ie){return(0,p.N)((te,Y)=>{(0,ce.Tg)(ie).subscribe((0,D._)(Y,()=>Y.complete(),H.l)),!Y.closed&&te.subscribe(Y)})}},8141:(St,Re,w)=>{w.d(Re,{M:()=>Z});var p=w(8071),D=w(9974),ce=w(4360),H=w(3669);function Z(ie,te,Y){const fe=(0,p.T)(ie)||te||Y?{next:ie,error:te,complete:Y}:ie;return fe?(0,D.N)((ne,le)=>{var Te;null===(Te=fe.subscribe)||void 0===Te||Te.call(fe);let Ue=!0;ne.subscribe((0,ce._)(le,Ve=>{var Qe;null===(Qe=fe.next)||void 0===Qe||Qe.call(fe,Ve),le.next(Ve)},()=>{var Ve;Ue=!1,null===(Ve=fe.complete)||void 0===Ve||Ve.call(fe),le.complete()},Ve=>{var Qe;Ue=!1,null===(Qe=fe.error)||void 0===Qe||Qe.call(fe,Ve),le.error(Ve)},()=>{var Ve,Qe;Ue&&(null===(Ve=fe.unsubscribe)||void 0===Ve||Ve.call(fe)),null===(Qe=fe.finalize)||void 0===Qe||Qe.call(fe)}))}):H.D}},3386:(St,Re,w)=>{w.d(Re,{c:()=>te});var p=w(3236),D=w(9974),ce=w(4360),H=w(8750),ie=w(1807);function te(Y,fe=p.E,ne){const le=(0,ie.O)(Y,fe);return function Z(Y,fe){return(0,D.N)((ne,le)=>{const{leading:Te=!0,trailing:Ue=!1}=fe??{};let Ve=!1,Qe=null,st=null,bt=!1;const vt=()=>{st?.unsubscribe(),st=null,Ue&&(lt(),bt&&le.complete())},wt=()=>{st=null,bt&&le.complete()},qt=qe=>st=(0,H.Tg)(Y(qe)).subscribe((0,ce._)(le,vt,wt)),lt=()=>{if(Ve){Ve=!1;const qe=Qe;Qe=null,le.next(qe),!bt&&qt(qe)}};ne.subscribe((0,ce._)(le,qe=>{Ve=!0,Qe=qe,(!st||st.closed)&&(Te?lt():qt(qe))},()=>{bt=!0,(!(Ue&&Ve&&st)||st.closed)&&le.complete()}))})}(()=>le,ne)}},3774:(St,Re,w)=>{w.d(Re,{v:()=>H});var p=w(9350),D=w(9974),ce=w(4360);function H(ie=Z){return(0,D.N)((te,Y)=>{let fe=!1;te.subscribe((0,ce._)(Y,ne=>{fe=!0,Y.next(ne)},()=>fe?Y.complete():Y.error(ie())))})}function Z(){return new p.G}},3993:(St,Re,w)=>{w.d(Re,{E:()=>te});var p=w(9974),D=w(4360),ce=w(8750),H=w(3669),Z=w(5343),ie=w(9326);function te(...Y){const fe=(0,ie.ms)(Y);return(0,p.N)((ne,le)=>{const Te=Y.length,Ue=new Array(Te);let Ve=Y.map(()=>!1),Qe=!1;for(let st=0;st<Te;st++)(0,ce.Tg)(Y[st]).subscribe((0,D._)(le,bt=>{Ue[st]=bt,!Qe&&!Ve[st]&&(Ve[st]=!0,(Qe=Ve.every(H.D))&&(Ve=null))},Z.l));ne.subscribe((0,D._)(le,st=>{if(Qe){const bt=[st,...Ue];le.next(fe?fe(...bt):bt)}}))})}},6780:(St,Re,w)=>{w.d(Re,{R:()=>Z});var p=w(8359);class D extends p.yU{constructor(te,Y){super()}schedule(te,Y=0){return this}}const ce={setInterval(ie,te,...Y){const{delegate:fe}=ce;return fe?.setInterval?fe.setInterval(ie,te,...Y):setInterval(ie,te,...Y)},clearInterval(ie){const{delegate:te}=ce;return(te?.clearInterval||clearInterval)(ie)},delegate:void 0};var H=w(7908);class Z extends D{constructor(te,Y){super(te,Y),this.scheduler=te,this.work=Y,this.pending=!1}schedule(te,Y=0){var fe;if(this.closed)return this;this.state=te;const ne=this.id,le=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(le,ne,Y)),this.pending=!0,this.delay=Y,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(le,this.id,Y),this}requestAsyncId(te,Y,fe=0){return ce.setInterval(te.flush.bind(te,this),fe)}recycleAsyncId(te,Y,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Y;null!=Y&&ce.clearInterval(Y)}execute(te,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(te,Y);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Y){let ne,fe=!1;try{this.work(te)}catch(le){fe=!0,ne=le||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:te,scheduler:Y}=this,{actions:fe}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(fe,this),null!=te&&(this.id=this.recycleAsyncId(Y,te,null)),this.delay=null,super.unsubscribe()}}}},9687:(St,Re,w)=>{w.d(Re,{q:()=>ce});var p=w(6129);class D{constructor(Z,ie=D.now){this.schedulerActionCtor=Z,this.now=ie}schedule(Z,ie=0,te){return new this.schedulerActionCtor(this,Z).schedule(te,ie)}}D.now=p.U.now;class ce extends D{constructor(Z,ie=D.now){super(Z,ie),this.actions=[],this._active=!1}flush(Z){const{actions:ie}=this;if(this._active)return void ie.push(Z);let te;this._active=!0;do{if(te=Z.execute(Z.state,Z.delay))break}while(Z=ie.shift());if(this._active=!1,te){for(;Z=ie.shift();)Z.unsubscribe();throw te}}}},3236:(St,Re,w)=>{w.d(Re,{E:()=>ce,b:()=>H});var p=w(6780);const ce=new(w(9687).q)(p.R),H=ce},6129:(St,Re,w)=>{w.d(Re,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7242:(St,Re,w)=>{w.d(Re,{T:()=>Z});var p=w(6780),ce=w(9687);const Z=new class H extends ce.q{}(class D extends p.R{constructor(Y,fe){super(Y,fe),this.scheduler=Y,this.work=fe}schedule(Y,fe=0){return fe>0?super.schedule(Y,fe):(this.delay=fe,this.state=Y,this.scheduler.flush(this),this)}execute(Y,fe){return fe>0||this.closed?super.execute(Y,fe):this._execute(Y,fe)}requestAsyncId(Y,fe,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(Y,fe,ne):(Y.flush(this),0)}})},9270:(St,Re,w)=>{w.d(Re,{f:()=>p});const p={setTimeout(D,ce,...H){const{delegate:Z}=p;return Z?.setTimeout?Z.setTimeout(D,ce,...H):setTimeout(D,ce,...H)},clearTimeout(D){const{delegate:ce}=p;return(ce?.clearTimeout||clearTimeout)(D)},delegate:void 0}},4761:(St,Re,w)=>{w.d(Re,{l:()=>D});const D=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(St,Re,w)=>{w.d(Re,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(St,Re,w)=>{w.d(Re,{G:()=>D});const D=(0,w(1853).L)(ce=>function(){ce(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(St,Re,w)=>{w.d(Re,{R0:()=>ie,lI:()=>Z,ms:()=>H});var p=w(8071),D=w(9470);function ce(te){return te[te.length-1]}function H(te){return(0,p.T)(ce(te))?te.pop():void 0}function Z(te){return(0,D.m)(ce(te))?te.pop():void 0}function ie(te,Y){return"number"==typeof ce(te)?te.pop():Y}},3073:(St,Re,w)=>{w.d(Re,{D:()=>Z});const{isArray:p}=Array,{getPrototypeOf:D,prototype:ce,keys:H}=Object;function Z(te){if(1===te.length){const Y=te[0];if(p(Y))return{args:Y,keys:null};if(function ie(te){return te&&"object"==typeof te&&D(te)===ce}(Y)){const fe=H(Y);return{args:fe.map(ne=>Y[ne]),keys:fe}}}return{args:te,keys:null}}},7908:(St,Re,w)=>{function p(D,ce){if(D){const H=D.indexOf(ce);0<=H&&D.splice(H,1)}}w.d(Re,{o:()=>p})},1853:(St,Re,w)=>{function p(D){const H=D(Z=>{Error.call(Z),Z.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}w.d(Re,{L:()=>p})},8496:(St,Re,w)=>{function p(D,ce){return D.reduce((H,Z,ie)=>(H[Z]=ce[ie],H),{})}w.d(Re,{e:()=>p})},9786:(St,Re,w)=>{w.d(Re,{Y:()=>ce,l:()=>H});var p=w(1026);let D=null;function ce(Z){if(p.$.useDeprecatedSynchronousErrorHandling){const ie=!D;if(ie&&(D={errorThrown:!1,error:null}),Z(),ie){const{errorThrown:te,error:Y}=D;if(D=null,te)throw Y}}else Z()}function H(Z){p.$.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=Z)}},5225:(St,Re,w)=>{function p(D,ce,H,Z=0,ie=!1){const te=ce.schedule(function(){H(),ie?D.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(D.add(te),!ie)return te}w.d(Re,{N:()=>p})},3669:(St,Re,w)=>{function p(D){return D}w.d(Re,{D:()=>p})},7441:(St,Re,w)=>{w.d(Re,{X:()=>p});const p=D=>D&&"number"==typeof D.length&&"function"!=typeof D},7953:(St,Re,w)=>{w.d(Re,{T:()=>D});var p=w(8071);function D(ce){return Symbol.asyncIterator&&(0,p.T)(ce?.[Symbol.asyncIterator])}},8211:(St,Re,w)=>{function p(D){return D instanceof Date&&!isNaN(D)}w.d(Re,{v:()=>p})},8071:(St,Re,w)=>{function p(D){return"function"==typeof D}w.d(Re,{T:()=>p})},5055:(St,Re,w)=>{w.d(Re,{l:()=>ce});var p=w(3494),D=w(8071);function ce(H){return(0,D.T)(H[p.s])}},5397:(St,Re,w)=>{w.d(Re,{x:()=>ce});var p=w(4761),D=w(8071);function ce(H){return(0,D.T)(H?.[p.l])}},9858:(St,Re,w)=>{w.d(Re,{y:()=>D});var p=w(8071);function D(ce){return(0,p.T)(ce?.then)}},5196:(St,Re,w)=>{w.d(Re,{C:()=>ce,U:()=>H});var p=w(1635),D=w(8071);function ce(Z){return(0,p.AQ)(this,arguments,function*(){const te=Z.getReader();try{for(;;){const{value:Y,done:fe}=yield(0,p.N3)(te.read());if(fe)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(Y)}}finally{te.releaseLock()}})}function H(Z){return(0,D.T)(Z?.getReader)}},9470:(St,Re,w)=>{w.d(Re,{m:()=>D});var p=w(8071);function D(ce){return ce&&(0,p.T)(ce.schedule)}},9974:(St,Re,w)=>{w.d(Re,{N:()=>ce,S:()=>D});var p=w(8071);function D(H){return(0,p.T)(H?.lift)}function ce(H){return Z=>{if(D(Z))return Z.lift(function(ie){try{return H(ie,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(St,Re,w)=>{w.d(Re,{I:()=>H});var p=w(6354);const{isArray:D}=Array;function H(Z){return(0,p.T)(ie=>function ce(Z,ie){return D(ie)?Z(...ie):Z(ie)}(Z,ie))}},5343:(St,Re,w)=>{function p(){}w.d(Re,{l:()=>p})},1203:(St,Re,w)=>{w.d(Re,{F:()=>D,m:()=>ce});var p=w(3669);function D(...H){return ce(H)}function ce(H){return 0===H.length?p.D:1===H.length?H[0]:function(ie){return H.reduce((te,Y)=>Y(te),ie)}}},5334:(St,Re,w)=>{w.d(Re,{m:()=>ce});var p=w(1026),D=w(9270);function ce(H){D.f.setTimeout(()=>{const{onUnhandledError:Z}=p.$;if(!Z)throw H;Z(H)})}},591:(St,Re,w)=>{function p(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(Re,{L:()=>p})},9969:(St,Re,w)=>{w.d(Re,{FX:()=>wn,If:()=>ce,K2:()=>Y,MA:()=>Ve,Os:()=>te,P:()=>st,S6:()=>vt,hZ:()=>Z,i0:()=>ie,i7:()=>le,iF:()=>fe,kY:()=>Te,kp:()=>H,sf:()=>Gt,ui:()=>Lt,wk:()=>ne,yc:()=>bt});var p=w(177),D=w(4438),ce=function(Nt){return Nt[Nt.State=0]="State",Nt[Nt.Transition=1]="Transition",Nt[Nt.Sequence=2]="Sequence",Nt[Nt.Group=3]="Group",Nt[Nt.Animate=4]="Animate",Nt[Nt.Keyframes=5]="Keyframes",Nt[Nt.Style=6]="Style",Nt[Nt.Trigger=7]="Trigger",Nt[Nt.Reference=8]="Reference",Nt[Nt.AnimateChild=9]="AnimateChild",Nt[Nt.AnimateRef=10]="AnimateRef",Nt[Nt.Query=11]="Query",Nt[Nt.Stagger=12]="Stagger",Nt}(ce||{});const H="*";function Z(Nt,et){return{type:ce.Trigger,name:Nt,definitions:et,options:{}}}function ie(Nt,et=null){return{type:ce.Animate,styles:et,timings:Nt}}function te(Nt,et=null){return{type:ce.Group,steps:Nt,options:et}}function Y(Nt,et=null){return{type:ce.Sequence,steps:Nt,options:et}}function fe(Nt){return{type:ce.Style,styles:Nt,offset:null}}function ne(Nt,et,on){return{type:ce.State,name:Nt,styles:et,options:on}}function le(Nt){return{type:ce.Keyframes,steps:Nt}}function Te(Nt,et,on=null){return{type:ce.Transition,expr:Nt,animation:et,options:on}}function Ve(Nt=null){return{type:ce.AnimateChild,options:Nt}}function st(Nt,et,on=null){return{type:ce.Query,selector:Nt,animation:et,options:on}}function bt(Nt,et){return{type:ce.Stagger,timings:Nt,animation:et}}let vt=(()=>{class Nt{static \u0275fac=function(Jt){return new(Jt||Nt)};static \u0275prov=D.jDH({token:Nt,factory:()=>(0,D.WQX)(qt),providedIn:"root"})}return Nt})();class wt{}let qt=(()=>{class Nt extends vt{animationModuleType=(0,D.WQX)(D.bc$,{optional:!0});_nextAnimationId=0;_renderer;constructor(on,Jt){if(super(),this._renderer=on.createRenderer(Jt.body,{id:"0",encapsulation:D.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function Ze(Nt){const et=Nt.\u0275type;return 0===et||1===et}(this._renderer))throw new D.wOt(3600,!1)}build(on){const Jt=this._nextAnimationId;this._nextAnimationId++;const $n=Array.isArray(on)?Y(on):on;return nn(this._renderer,null,Jt,"register",[$n]),new lt(Jt,this._renderer)}static \u0275fac=function(Jt){return new(Jt||Nt)(D.KVO(D._9s),D.KVO(p.qQ))};static \u0275prov=D.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})();class lt extends wt{_id;_renderer;constructor(et,on){super(),this._id=et,this._renderer=on}create(et,on){return new qe(this._id,et,on||{},this._renderer)}}class qe{id;element;_renderer;parentPlayer=null;_started=!1;constructor(et,on,Jt,$n){this.id=et,this.element=on,this._renderer=$n,this._command("create",Jt)}_listen(et,on){return this._renderer.listen(this.element,`@@${this.id}:${et}`,on)}_command(et,...on){nn(this._renderer,this.element,this.id,et,on)}onDone(et){this._listen("done",et)}onStart(et){this._listen("start",et)}onDestroy(et){this._listen("destroy",et)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(et){this._command("setPosition",et)}getPosition(){return function Bt(Nt){const et=Nt.\u0275type;return 0===et?Nt:1===et?Nt.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function nn(Nt,et,on,Jt,$n){Nt.setProperty(et,`@@${on}:${Jt}`,$n)}class Gt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(et=0,on=0){this.totalTime=et+on}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(et=>et()),this._onDoneFns=[])}onStart(et){this._originalOnStartFns.push(et),this._onStartFns.push(et)}onDone(et){this._originalOnDoneFns.push(et),this._onDoneFns.push(et)}onDestroy(et){this._onDestroyFns.push(et)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(et=>et()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(et=>et()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(et){this._position=this.totalTime?et*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(et){const on="start"==et?this._onStartFns:this._onDoneFns;on.forEach(Jt=>Jt()),on.length=0}}class Lt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(et){this.players=et;let on=0,Jt=0,$n=0;const br=this.players.length;0==br?queueMicrotask(()=>this._onFinish()):this.players.forEach(Nr=>{Nr.onDone(()=>{++on==br&&this._onFinish()}),Nr.onDestroy(()=>{++Jt==br&&this._onDestroy()}),Nr.onStart(()=>{++$n==br&&this._onStart()})}),this.totalTime=this.players.reduce((Nr,bi)=>Math.max(Nr,bi.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(et=>et()),this._onDoneFns=[])}init(){this.players.forEach(et=>et.init())}onStart(et){this._onStartFns.push(et)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(et=>et()),this._onStartFns=[])}onDone(et){this._onDoneFns.push(et)}onDestroy(et){this._onDestroyFns.push(et)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(et=>et.play())}pause(){this.players.forEach(et=>et.pause())}restart(){this.players.forEach(et=>et.restart())}finish(){this._onFinish(),this.players.forEach(et=>et.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(et=>et.destroy()),this._onDestroyFns.forEach(et=>et()),this._onDestroyFns=[])}reset(){this.players.forEach(et=>et.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(et){const on=et*this.totalTime;this.players.forEach(Jt=>{const $n=Jt.totalTime?Math.min(1,on/Jt.totalTime):1;Jt.setPosition($n)})}getPosition(){const et=this.players.reduce((on,Jt)=>null===on||Jt.totalTime>on.totalTime?Jt:on,null);return null!=et?et.getPosition():0}beforeDestroy(){this.players.forEach(et=>{et.beforeDestroy&&et.beforeDestroy()})}triggerCallback(et){const on="start"==et?this._onStartFns:this._onDoneFns;on.forEach(Jt=>Jt()),on.length=0}}const wn="!"},177:(St,Re,w)=>{w.d(Re,{AJ:()=>is,B3:()=>ri,GH:()=>tr,Jj:()=>rn,MD:()=>dn,N0:()=>ms,P9:()=>hi,PV:()=>bn,Pc:()=>xi,QT:()=>H,QX:()=>ws,Sm:()=>bt,Sq:()=>Be,T3:()=>Di,TG:()=>rs,UE:()=>Js,VF:()=>ie,Vy:()=>si,Xr:()=>Sa,YU:()=>Mr,ZD:()=>Z,_b:()=>Zs,aZ:()=>wt,bT:()=>Xt,e1:()=>ln,fG:()=>zn,fw:()=>vt,hb:()=>Qe,hj:()=>ne,jo:()=>ks,lG:()=>Ui,m1:()=>oa,nd:()=>Hi,oe:()=>aa,qQ:()=>Y,ux:()=>Kn,vh:()=>Ps});var p=w(4438),D=w(1413);let ce=null;function H(){return ce}function Z(N){ce??=N}class ie{}const Y=new p.nKC("");let fe=(()=>{class N{historyGo(U){throw new Error("")}static \u0275fac=function(W){return new(W||N)};static \u0275prov=p.jDH({token:N,factory:()=>(0,p.WQX)(le),providedIn:"platform"})}return N})();const ne=new p.nKC("");let le=(()=>{class N extends fe{_location;_history;_doc=(0,p.WQX)(Y);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(U){const W=H().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",U,!1),()=>W.removeEventListener("popstate",U)}onHashChange(U){const W=H().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",U,!1),()=>W.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,W,ve){this._history.pushState(U,W,ve)}replaceState(U,W,ve){this._history.replaceState(U,W,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static \u0275fac=function(W){return new(W||N)};static \u0275prov=p.jDH({token:N,factory:()=>new N,providedIn:"platform"})}return N})();function Te(N,q){if(0==N.length)return q;if(0==q.length)return N;let U=0;return N.endsWith("/")&&U++,q.startsWith("/")&&U++,2==U?N+q.substring(1):1==U?N+q:N+"/"+q}function Ue(N){const q=N.match(/#|\?|$/),U=q&&q.index||N.length;return N.slice(0,U-("/"===N[U-1]?1:0))+N.slice(U)}function Ve(N){return N&&"?"!==N[0]?"?"+N:N}let Qe=(()=>{class N{historyGo(U){throw new Error("")}static \u0275fac=function(W){return new(W||N)};static \u0275prov=p.jDH({token:N,factory:()=>(0,p.WQX)(bt),providedIn:"root"})}return N})();const st=new p.nKC("");let bt=(()=>{class N extends Qe{_platformLocation;_baseHref;_removeListenerFns=[];constructor(U,W){super(),this._platformLocation=U,this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Te(this._baseHref,U)}path(U=!1){const W=this._platformLocation.pathname+Ve(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&U?`${W}${ve}`:W}pushState(U,W,ve,nt){const je=this.prepareExternalUrl(ve+Ve(nt));this._platformLocation.pushState(U,W,je)}replaceState(U,W,ve,nt){const je=this.prepareExternalUrl(ve+Ve(nt));this._platformLocation.replaceState(U,W,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static \u0275fac=function(W){return new(W||N)(p.KVO(fe),p.KVO(st,8))};static \u0275prov=p.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})(),vt=(()=>{class N extends Qe{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(U,W){super(),this._platformLocation=U,null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){const W=this._platformLocation.hash??"#";return W.length>0?W.substring(1):W}prepareExternalUrl(U){const W=Te(this._baseHref,U);return W.length>0?"#"+W:W}pushState(U,W,ve,nt){let je=this.prepareExternalUrl(ve+Ve(nt));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.pushState(U,W,je)}replaceState(U,W,ve,nt){let je=this.prepareExternalUrl(ve+Ve(nt));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.replaceState(U,W,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static \u0275fac=function(W){return new(W||N)(p.KVO(fe),p.KVO(st,8))};static \u0275prov=p.jDH({token:N,factory:N.\u0275fac})}return N})(),wt=(()=>{class N{_subject=new D.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(U){this._locationStrategy=U;const W=this._locationStrategy.getBaseHref();this._basePath=function nn(N){if(new RegExp("^(https?:)?//").test(N)){const[,U]=N.split(/\/\/[^\/]+/);return U}return N}(Ue(qe(W))),this._locationStrategy.onPopState(ve=>{this._subject.next({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,W=""){return this.path()==this.normalize(U+Ve(W))}normalize(U){return N.stripTrailingSlash(function lt(N,q){if(!N||!q.startsWith(N))return q;const U=q.substring(N.length);return""===U||["/",";","?","#"].includes(U[0])?U:q}(this._basePath,qe(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,W="",ve=null){this._locationStrategy.pushState(ve,"",U,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ve(W)),ve)}replaceState(U,W="",ve=null){this._locationStrategy.replaceState(ve,"",U,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ve(W)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription??=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)}),()=>{const W=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",W){this._urlChangeListeners.forEach(ve=>ve(U,W))}subscribe(U,W,ve){return this._subject.subscribe({next:U,error:W??void 0,complete:ve??void 0})}static normalizeQueryParams=Ve;static joinWithSlash=Te;static stripTrailingSlash=Ue;static \u0275fac=function(W){return new(W||N)(p.KVO(Qe))};static \u0275prov=p.jDH({token:N,factory:()=>function qt(){return new wt((0,p.KVO)(Qe))}(),providedIn:"root"})}return N})();function qe(N){return N.replace(/\/index.html$/,"")}const Bt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ze=function(N){return N[N.Decimal=0]="Decimal",N[N.Percent=1]="Percent",N[N.Currency=2]="Currency",N[N.Scientific=3]="Scientific",N}(Ze||{}),Gt=function(N){return N[N.Zero=0]="Zero",N[N.One=1]="One",N[N.Two=2]="Two",N[N.Few=3]="Few",N[N.Many=4]="Many",N[N.Other=5]="Other",N}(Gt||{}),Lt=function(N){return N[N.Format=0]="Format",N[N.Standalone=1]="Standalone",N}(Lt||{}),wn=function(N){return N[N.Narrow=0]="Narrow",N[N.Abbreviated=1]="Abbreviated",N[N.Wide=2]="Wide",N[N.Short=3]="Short",N}(wn||{}),Nt=function(N){return N[N.Short=0]="Short",N[N.Medium=1]="Medium",N[N.Long=2]="Long",N[N.Full=3]="Full",N}(Nt||{});function $e(N,q){return vr((0,p.H5H)(N)[p.KH2.DateFormat],q)}function pt(N,q){return vr((0,p.H5H)(N)[p.KH2.TimeFormat],q)}function _t(N,q){return vr((0,p.H5H)(N)[p.KH2.DateTimeFormat],q)}function It(N,q){const U=(0,p.H5H)(N),W=U[p.KH2.NumberSymbols][q];if(typeof W>"u"){if(12===q)return U[p.KH2.NumberSymbols][0];if(13===q)return U[p.KH2.NumberSymbols][1]}return W}function At(N,q){return(0,p.H5H)(N)[p.KH2.NumberFormats][q]}const ht=p.mq5;function Mt(N){if(!N[p.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[p.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vr(N,q){for(let U=q;U>-1;U--)if(typeof N[U]<"u")return N[U];throw new Error("Locale data API: locale data undefined")}function Vr(N){const[q,U]=N.split(":");return{hours:+q,minutes:+U}}const Zr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ei={},sr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zr=function(N){return N[N.Short=0]="Short",N[N.ShortGMT=1]="ShortGMT",N[N.Long=2]="Long",N[N.Extended=3]="Extended",N}(zr||{}),Hn=function(N){return N[N.FullYear=0]="FullYear",N[N.Month=1]="Month",N[N.Date=2]="Date",N[N.Hours=3]="Hours",N[N.Minutes=4]="Minutes",N[N.Seconds=5]="Seconds",N[N.FractionalSeconds=6]="FractionalSeconds",N[N.Day=7]="Day",N}(Hn||{}),Wn=function(N){return N[N.DayPeriods=0]="DayPeriods",N[N.Days=1]="Days",N[N.Months=2]="Months",N[N.Eras=3]="Eras",N}(Wn||{});function Ki(N,q,U,W){let ve=function re(N){if(Ke(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[ve,nt=1,je=1]=N.split("-").map(un=>+un);return Er(ve,nt-1,je)}const U=parseFloat(N);if(!isNaN(N-U))return new Date(U);let W;if(W=N.match(Zr))return function Ae(N){const q=new Date(0);let U=0,W=0;const ve=N[8]?q.setUTCFullYear:q.setFullYear,nt=N[8]?q.setUTCHours:q.setHours;N[9]&&(U=Number(N[9]+N[10]),W=Number(N[9]+N[11])),ve.call(q,Number(N[1]),Number(N[2])-1,Number(N[3]));const je=Number(N[4]||0)-U,un=Number(N[5]||0)-W,Qn=Number(N[6]||0),kr=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return nt.call(q,je,un,Qn,kr),q}(W)}const q=new Date(N);if(!Ke(q))throw new Error(`Unable to convert "${N}" into a date`);return q}(N);q=oi(U,q)||q;let un,je=[];for(;q;){if(un=sr.exec(q),!un){je.push(q);break}{je=je.concat(un.slice(1));const er=je.pop();if(!er)break;q=er}}let Qn=ve.getTimezoneOffset();W&&(Qn=Oe(W,Qn),ve=function be(N,q,U){const W=U?-1:1,ve=N.getTimezoneOffset();return function de(N,q){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+q),N}(N,W*(Oe(q,ve)-ve))}(ve,W,!0));let kr="";return je.forEach(er=>{const Yn=function De(N){if(zi[N])return zi[N];let q;switch(N){case"G":case"GG":case"GGG":q=Mn(Wn.Eras,wn.Abbreviated);break;case"GGGG":q=Mn(Wn.Eras,wn.Wide);break;case"GGGGG":q=Mn(Wn.Eras,wn.Narrow);break;case"y":q=Zn(Hn.FullYear,1,0,!1,!0);break;case"yy":q=Zn(Hn.FullYear,2,0,!0,!0);break;case"yyy":q=Zn(Hn.FullYear,3,0,!1,!0);break;case"yyyy":q=Zn(Hn.FullYear,4,0,!1,!0);break;case"Y":q=yi(1);break;case"YY":q=yi(2,!0);break;case"YYY":q=yi(3);break;case"YYYY":q=yi(4);break;case"M":case"L":q=Zn(Hn.Month,1,1);break;case"MM":case"LL":q=Zn(Hn.Month,2,1);break;case"MMM":q=Mn(Wn.Months,wn.Abbreviated);break;case"MMMM":q=Mn(Wn.Months,wn.Wide);break;case"MMMMM":q=Mn(Wn.Months,wn.Narrow);break;case"LLL":q=Mn(Wn.Months,wn.Abbreviated,Lt.Standalone);break;case"LLLL":q=Mn(Wn.Months,wn.Wide,Lt.Standalone);break;case"LLLLL":q=Mn(Wn.Months,wn.Narrow,Lt.Standalone);break;case"w":q=Pr(1);break;case"ww":q=Pr(2);break;case"W":q=Pr(1,!0);break;case"d":q=Zn(Hn.Date,1);break;case"dd":q=Zn(Hn.Date,2);break;case"c":case"cc":q=Zn(Hn.Day,1);break;case"ccc":q=Mn(Wn.Days,wn.Abbreviated,Lt.Standalone);break;case"cccc":q=Mn(Wn.Days,wn.Wide,Lt.Standalone);break;case"ccccc":q=Mn(Wn.Days,wn.Narrow,Lt.Standalone);break;case"cccccc":q=Mn(Wn.Days,wn.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":q=Mn(Wn.Days,wn.Abbreviated);break;case"EEEE":q=Mn(Wn.Days,wn.Wide);break;case"EEEEE":q=Mn(Wn.Days,wn.Narrow);break;case"EEEEEE":q=Mn(Wn.Days,wn.Short);break;case"a":case"aa":case"aaa":q=Mn(Wn.DayPeriods,wn.Abbreviated);break;case"aaaa":q=Mn(Wn.DayPeriods,wn.Wide);break;case"aaaaa":q=Mn(Wn.DayPeriods,wn.Narrow);break;case"b":case"bb":case"bbb":q=Mn(Wn.DayPeriods,wn.Abbreviated,Lt.Standalone,!0);break;case"bbbb":q=Mn(Wn.DayPeriods,wn.Wide,Lt.Standalone,!0);break;case"bbbbb":q=Mn(Wn.DayPeriods,wn.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":q=Mn(Wn.DayPeriods,wn.Abbreviated,Lt.Format,!0);break;case"BBBB":q=Mn(Wn.DayPeriods,wn.Wide,Lt.Format,!0);break;case"BBBBB":q=Mn(Wn.DayPeriods,wn.Narrow,Lt.Format,!0);break;case"h":q=Zn(Hn.Hours,1,-12);break;case"hh":q=Zn(Hn.Hours,2,-12);break;case"H":q=Zn(Hn.Hours,1);break;case"HH":q=Zn(Hn.Hours,2);break;case"m":q=Zn(Hn.Minutes,1);break;case"mm":q=Zn(Hn.Minutes,2);break;case"s":q=Zn(Hn.Seconds,1);break;case"ss":q=Zn(Hn.Seconds,2);break;case"S":q=Zn(Hn.FractionalSeconds,1);break;case"SS":q=Zn(Hn.FractionalSeconds,2);break;case"SSS":q=Zn(Hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=mi(zr.Short);break;case"ZZZZZ":q=mi(zr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=mi(zr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=mi(zr.Long);break;default:return null}return zi[N]=q,q}(er);kr+=Yn?Yn(ve,U,Qn):"''"===er?"'":er.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),kr}function Er(N,q,U){const W=new Date(0);return W.setFullYear(N,q,U),W.setHours(0,0,0),W}function oi(N,q){const U=function Jt(N){return(0,p.H5H)(N)[p.KH2.LocaleId]}(N);if(ei[U]??={},ei[U][q])return ei[U][q];let W="";switch(q){case"shortDate":W=$e(N,Nt.Short);break;case"mediumDate":W=$e(N,Nt.Medium);break;case"longDate":W=$e(N,Nt.Long);break;case"fullDate":W=$e(N,Nt.Full);break;case"shortTime":W=pt(N,Nt.Short);break;case"mediumTime":W=pt(N,Nt.Medium);break;case"longTime":W=pt(N,Nt.Long);break;case"fullTime":W=pt(N,Nt.Full);break;case"short":const ve=oi(N,"shortTime"),nt=oi(N,"shortDate");W=Oi(_t(N,Nt.Short),[ve,nt]);break;case"medium":const je=oi(N,"mediumTime"),un=oi(N,"mediumDate");W=Oi(_t(N,Nt.Medium),[je,un]);break;case"long":const Qn=oi(N,"longTime"),kr=oi(N,"longDate");W=Oi(_t(N,Nt.Long),[Qn,kr]);break;case"full":const er=oi(N,"fullTime"),Yn=oi(N,"fullDate");W=Oi(_t(N,Nt.Full),[er,Yn])}return W&&(ei[U][q]=W),W}function Oi(N,q){return q&&(N=N.replace(/\{([^}]+)}/g,function(U,W){return null!=q&&W in q?q[W]:U})),N}function li(N,q,U="-",W,ve){let nt="";(N<0||ve&&N<=0)&&(ve?N=1-N:(N=-N,nt=U));let je=String(N);for(;je.length<q;)je="0"+je;return W&&(je=je.slice(je.length-q)),nt+je}function Zn(N,q,U=0,W=!1,ve=!1){return function(nt,je){let un=function Us(N,q){switch(N){case Hn.FullYear:return q.getFullYear();case Hn.Month:return q.getMonth();case Hn.Date:return q.getDate();case Hn.Hours:return q.getHours();case Hn.Minutes:return q.getMinutes();case Hn.Seconds:return q.getSeconds();case Hn.FractionalSeconds:return q.getMilliseconds();case Hn.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,nt);if((U>0||un>-U)&&(un+=U),N===Hn.Hours)0===un&&-12===U&&(un=12);else if(N===Hn.FractionalSeconds)return function fs(N,q){return li(N,3).substring(0,q)}(un,q);const Qn=It(je,5);return li(un,q,Qn,W,ve)}}function Mn(N,q,U=Lt.Format,W=!1){return function(ve,nt){return function ps(N,q,U,W,ve,nt){switch(U){case Wn.Months:return function Nr(N,q,U){const W=(0,p.H5H)(N),nt=vr([W[p.KH2.MonthsFormat],W[p.KH2.MonthsStandalone]],q);return vr(nt,U)}(q,ve,W)[N.getMonth()];case Wn.Days:return function br(N,q,U){const W=(0,p.H5H)(N),nt=vr([W[p.KH2.DaysFormat],W[p.KH2.DaysStandalone]],q);return vr(nt,U)}(q,ve,W)[N.getDay()];case Wn.DayPeriods:const je=N.getHours(),un=N.getMinutes();if(nt){const kr=function Bn(N){const q=(0,p.H5H)(N);return Mt(q),(q[p.KH2.ExtraData][2]||[]).map(W=>"string"==typeof W?Vr(W):[Vr(W[0]),Vr(W[1])])}(q),er=function In(N,q,U){const W=(0,p.H5H)(N);Mt(W);const nt=vr([W[p.KH2.ExtraData][0],W[p.KH2.ExtraData][1]],q)||[];return vr(nt,U)||[]}(q,ve,W),Yn=kr.findIndex(fr=>{if(Array.isArray(fr)){const[qn,Mi]=fr,Gs=je>=qn.hours&&un>=qn.minutes,Li=je<Mi.hours||je===Mi.hours&&un<Mi.minutes;if(qn.hours<Mi.hours){if(Gs&&Li)return!0}else if(Gs||Li)return!0}else if(fr.hours===je&&fr.minutes===un)return!0;return!1});if(-1!==Yn)return er[Yn]}return function $n(N,q,U){const W=(0,p.H5H)(N),nt=vr([W[p.KH2.DayPeriodsFormat],W[p.KH2.DayPeriodsStandalone]],q);return vr(nt,U)}(q,ve,W)[je<12?0:1];case Wn.Eras:return function bi(N,q){return vr((0,p.H5H)(N)[p.KH2.Eras],q)}(q,W)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(ve,nt,N,q,U,W)}}function mi(N){return function(q,U,W){const ve=-1*W,nt=It(U,5),je=ve>0?Math.floor(ve/60):Math.ceil(ve/60);switch(N){case zr.Short:return(ve>=0?"+":"")+li(je,2,nt)+li(Math.abs(ve%60),2,nt);case zr.ShortGMT:return"GMT"+(ve>=0?"+":"")+li(je,1,nt);case zr.Long:return"GMT"+(ve>=0?"+":"")+li(je,2,nt)+":"+li(Math.abs(ve%60),2,nt);case zr.Extended:return 0===W?"Z":(ve>=0?"+":"")+li(je,2,nt)+":"+li(Math.abs(ve%60),2,nt);default:throw new Error(`Unknown zone width "${N}"`)}}}const Gn=0,$i=4;function gr(N){const q=N.getDay(),U=0===q?-3:$i-q;return Er(N.getFullYear(),N.getMonth(),N.getDate()+U)}function Pr(N,q=!1){return function(U,W){let ve;if(q){const nt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,je=U.getDate();ve=1+Math.floor((je+nt)/7)}else{const nt=gr(U),je=function or(N){const q=Er(N,Gn,1).getDay();return Er(N,0,1+(q<=$i?$i:$i+7)-q)}(nt.getFullYear()),un=nt.getTime()-je.getTime();ve=1+Math.round(un/6048e5)}return li(ve,N,It(W,5))}}function yi(N,q=!1){return function(U,W){return li(gr(U).getFullYear(),N,It(W,5),q)}}const zi={};function Oe(N,q){N=N.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(U)?q:U}function Ke(N){return N instanceof Date&&!isNaN(N.valueOf())}const Vt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Sn(N,q,U,W,ve,nt,je=!1){let un="",Qn=!1;if(isFinite(N)){let kr=function hn(N){let W,ve,nt,je,un,q=Math.abs(N)+"",U=0;for((ve=q.indexOf("."))>-1&&(q=q.replace(".","")),(nt=q.search(/e/i))>0?(ve<0&&(ve=nt),ve+=+q.slice(nt+1),q=q.substring(0,nt)):ve<0&&(ve=q.length),nt=0;"0"===q.charAt(nt);nt++);if(nt===(un=q.length))W=[0],ve=1;else{for(un--;"0"===q.charAt(un);)un--;for(ve-=nt,W=[],je=0;nt<=un;nt++,je++)W[je]=Number(q.charAt(nt))}return ve>22&&(W=W.splice(0,21),U=ve-1,ve=1),{digits:W,exponent:U,integerLen:ve}}(N);je&&(kr=function On(N){if(0===N.digits[0])return N;const q=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===q?N.digits.push(0,0):1===q&&N.digits.push(0),N.integerLen+=2),N}(kr));let er=q.minInt,Yn=q.minFrac,fr=q.maxFrac;if(nt){const go=nt.match(Vt);if(null===go)throw new Error(`${nt} is not a valid digit info`);const Ra=go[1],Fr=go[3],mo=go[5];null!=Ra&&(er=Hr(Ra)),null!=Fr&&(Yn=Hr(Fr)),null!=mo?fr=Hr(mo):null!=Fr&&Yn>fr&&(fr=Yn)}!function _r(N,q,U){if(q>U)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${U}).`);let W=N.digits,ve=W.length-N.integerLen;const nt=Math.min(Math.max(q,ve),U);let je=nt+N.integerLen,un=W[je];if(je>0){W.splice(Math.max(N.integerLen,je));for(let Yn=je;Yn<W.length;Yn++)W[Yn]=0}else{ve=Math.max(0,ve),N.integerLen=1,W.length=Math.max(1,je=nt+1),W[0]=0;for(let Yn=1;Yn<je;Yn++)W[Yn]=0}if(un>=5)if(je-1<0){for(let Yn=0;Yn>je;Yn--)W.unshift(0),N.integerLen++;W.unshift(1),N.integerLen++}else W[je-1]++;for(;ve<Math.max(0,nt);ve++)W.push(0);let Qn=0!==nt;const kr=q+N.integerLen,er=W.reduceRight(function(Yn,fr,qn,Mi){return Mi[qn]=(fr+=Yn)<10?fr:fr-10,Qn&&(0===Mi[qn]&&qn>=kr?Mi.pop():Qn=!1),fr>=10?1:0},0);er&&(W.unshift(er),N.integerLen++)}(kr,Yn,fr);let qn=kr.digits,Mi=kr.integerLen;const Gs=kr.exponent;let Li=[];for(Qn=qn.every(go=>!go);Mi<er;Mi++)qn.unshift(0);for(;Mi<0;Mi++)qn.unshift(0);Mi>0?Li=qn.splice(Mi,qn.length):(Li=qn,qn=[0]);const vs=[];for(qn.length>=q.lgSize&&vs.unshift(qn.splice(-q.lgSize,qn.length).join(""));qn.length>q.gSize;)vs.unshift(qn.splice(-q.gSize,qn.length).join(""));qn.length&&vs.unshift(qn.join("")),un=vs.join(It(U,W)),Li.length&&(un+=It(U,ve)+Li.join("")),Gs&&(un+=It(U,6)+"+"+Gs)}else un=It(U,9);return un=N<0&&!Qn?q.negPre+un+q.negSuf:q.posPre+un+q.posSuf,un}function cn(N,q="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},W=N.split(";"),ve=W[0],nt=W[1],je=-1!==ve.indexOf(".")?ve.split("."):[ve.substring(0,ve.lastIndexOf("0")+1),ve.substring(ve.lastIndexOf("0")+1)],un=je[0],Qn=je[1]||"";U.posPre=un.substring(0,un.indexOf("#"));for(let er=0;er<Qn.length;er++){const Yn=Qn.charAt(er);"0"===Yn?U.minFrac=U.maxFrac=er+1:"#"===Yn?U.maxFrac=er+1:U.posSuf+=Yn}const kr=un.split(",");if(U.gSize=kr[1]?kr[1].length:0,U.lgSize=kr[2]||kr[1]?(kr[2]||kr[1]).length:0,nt){const er=ve.length-U.posPre.length-U.posSuf.length,Yn=nt.indexOf("#");U.negPre=nt.substring(0,Yn).replace(/'/g,""),U.negSuf=nt.slice(Yn+er).replace(/'/g,"")}else U.negPre=q+U.posPre,U.negSuf=U.posSuf;return U}function Hr(N){const q=parseInt(N);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+N);return q}let ni=(()=>{class N{static \u0275fac=function(W){return new(W||N)};static \u0275prov=p.jDH({token:N,factory:function(W){let ve=null;return W?ve=new W:(nt=p.KVO(p.xe9),ve=new gs(nt)),ve;var nt},providedIn:"root"})}return N})();let gs=(()=>{class N extends ni{locale;constructor(U){super(),this.locale=U}getPluralCategory(U,W){switch(ht(W||this.locale)(U)){case Gt.Zero:return"zero";case Gt.One:return"one";case Gt.Two:return"two";case Gt.Few:return"few";case Gt.Many:return"many";default:return"other"}}static \u0275fac=function(W){return new(W||N)(p.KVO(p.xe9))};static \u0275prov=p.jDH({token:N,factory:N.\u0275fac})}return N})();function Zs(N,q){q=encodeURIComponent(q);for(const U of N.split(";")){const W=U.indexOf("="),[ve,nt]=-1==W?[U,""]:[U.slice(0,W),U.slice(W+1)];if(ve.trim()===q)return decodeURIComponent(nt)}return null}const Qi=/\s+/,Jn=[];let Mr=(()=>{class N{_ngEl;_renderer;initialClasses=Jn;rawClass;stateMap=new Map;constructor(U,W){this._ngEl=U,this._renderer=W}set klass(U){this.initialClasses=null!=U?U.trim().split(Qi):Jn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Qi):U}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const W of U)this._updateState(W,!0);else if(null!=U)for(const W of Object.keys(U))this._updateState(W,!!U[W]);this._applyStateDiff()}_updateState(U,W){const ve=this.stateMap.get(U);void 0!==ve?(ve.enabled!==W&&(ve.changed=!0,ve.enabled=W),ve.touched=!0):this.stateMap.set(U,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const W=U[0],ve=U[1];ve.changed?(this._toggleClass(W,ve.enabled),ve.changed=!1):ve.touched||(ve.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),ve.touched=!1}}_toggleClass(U,W){(U=U.trim()).length>0&&U.split(Qi).forEach(ve=>{W?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}static \u0275fac=function(W){return new(W||N)(p.rXU(p.aKT),p.rXU(p.sFG))};static \u0275dir=p.FsC({type:N,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return N})();class we{$implicit;ngForOf;index;count;constructor(q,U,W,ve){this.$implicit=q,this.ngForOf=U,this.index=W,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Be=(()=>{class N{_viewContainer;_template;_differs;set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(U,W,ve){this._viewContainer=U,this._template=W,this._differs=ve}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const W=this._viewContainer;U.forEachOperation((ve,nt,je)=>{if(null==ve.previousIndex)W.createEmbeddedView(this._template,new we(ve.item,this._ngForOf,-1,-1),null===je?void 0:je);else if(null==je)W.remove(null===nt?void 0:nt);else if(null!==nt){const un=W.get(nt);W.move(un,je),Tt(un,ve)}});for(let ve=0,nt=W.length;ve<nt;ve++){const un=W.get(ve).context;un.index=ve,un.count=nt,un.ngForOf=this._ngForOf}U.forEachIdentityChange(ve=>{Tt(W.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(U,W){return!0}static \u0275fac=function(W){return new(W||N)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(p._q3))};static \u0275dir=p.FsC({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return N})();function Tt(N,q){N.context.$implicit=q.item}let Xt=(()=>{class N{_viewContainer;_context=new Fn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(U,W){this._viewContainer=U,this._thenTemplateRef=W}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Dn("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Dn("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(U,W){return!0}static \u0275fac=function(W){return new(W||N)(p.rXU(p.c1b),p.rXU(p.C4Q))};static \u0275dir=p.FsC({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return N})();class Fn{$implicit=null;ngIf=null}function Dn(N,q){if(q&&!q.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,p.Tbb)(q)}'.`)}class Qr{_viewContainerRef;_templateRef;_created=!1;constructor(q,U){this._viewContainerRef=q,this._templateRef=U}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let Kn=(()=>{class N{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews.push(U)}_matchCase(U){const W=U===this._ngSwitch;return this._lastCasesMatched||=W,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),W}_updateDefaultCases(U){if(this._defaultViews.length>0&&U!==this._defaultUsed){this._defaultUsed=U;for(const W of this._defaultViews)W.enforceState(U)}}static \u0275fac=function(W){return new(W||N)};static \u0275dir=p.FsC({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return N})(),ln=(()=>{class N{ngSwitch;_view;ngSwitchCase;constructor(U,W,ve){this.ngSwitch=ve,ve._addCase(),this._view=new Qr(U,W)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(W){return new(W||N)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(Kn,9))};static \u0275dir=p.FsC({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return N})(),zn=(()=>{class N{constructor(U,W,ve){ve._addDefault(new Qr(U,W))}static \u0275fac=function(W){return new(W||N)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(Kn,9))};static \u0275dir=p.FsC({type:N,selectors:[["","ngSwitchDefault",""]]})}return N})(),ri=(()=>{class N{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(U,W,ve){this._ngEl=U,this._differs=W,this._renderer=ve}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,W){const[ve,nt]=U.split("."),je=-1===ve.indexOf("-")?void 0:p.czy.DashCase;null!=W?this._renderer.setStyle(this._ngEl.nativeElement,ve,nt?`${W}${nt}`:W,je):this._renderer.removeStyle(this._ngEl.nativeElement,ve,je)}_applyChanges(U){U.forEachRemovedItem(W=>this._setStyle(W.key,null)),U.forEachAddedItem(W=>this._setStyle(W.key,W.currentValue)),U.forEachChangedItem(W=>this._setStyle(W.key,W.currentValue))}static \u0275fac=function(W){return new(W||N)(p.rXU(p.aKT),p.rXU(p.MKu),p.rXU(p.sFG))};static \u0275dir=p.FsC({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return N})(),Di=(()=>{class N{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(U){this._viewContainerRef=U}ngOnChanges(U){if(this._shouldRecreateView(U)){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ve=this._createContextForwardProxy();this._viewRef=W.createEmbeddedView(this.ngTemplateOutlet,ve,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(U){return!!U.ngTemplateOutlet||!!U.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(U,W,ve)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,W,ve),get:(U,W,ve)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,W,ve)}})}static \u0275fac=function(W){return new(W||N)(p.rXU(p.c1b))};static \u0275dir=p.FsC({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[p.OA$]})}return N})();function ye(N,q){return new p.wOt(2100,!1)}class tt{createSubscription(q,U){return(0,p.O8t)(()=>q.subscribe({next:U,error:W=>{throw W}}))}dispose(q){(0,p.O8t)(()=>q.unsubscribe())}}class Ge{createSubscription(q,U){return q.then(U,W=>{throw W})}dispose(q){}}const dt=new Ge,Zt=new tt;let rn=(()=>{class N{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(U){this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){if(!this._obj){if(U)try{this.markForCheckOnValueUpdate=!1,this._subscribe(U)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,W=>this._updateLatestValue(U,W))}_selectStrategy(U){if((0,p.jNT)(U))return dt;if((0,p.zjR)(U))return Zt;throw ye()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,W){U===this._obj&&(this._latestValue=W,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(W){return new(W||N)(p.rXU(p.gRc,16))};static \u0275pipe=p.EJ8({name:"async",type:N,pure:!1})}return N})(),tr=(()=>{class N{transform(U){if(null==U)return null;if("string"!=typeof U)throw ye();return U.toLowerCase()}static \u0275fac=function(W){return new(W||N)};static \u0275pipe=p.EJ8({name:"lowercase",type:N,pure:!0})}return N})();const jr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bn=(()=>{class N{transform(U){if(null==U)return null;if("string"!=typeof U)throw ye();return U.replace(jr,W=>W[0].toUpperCase()+W.slice(1).toLowerCase())}static \u0275fac=function(W){return new(W||N)};static \u0275pipe=p.EJ8({name:"titlecase",type:N,pure:!0})}return N})(),xi=(()=>{class N{transform(U){if(null==U)return null;if("string"!=typeof U)throw ye();return U.toUpperCase()}static \u0275fac=function(W){return new(W||N)};static \u0275pipe=p.EJ8({name:"uppercase",type:N,pure:!0})}return N})();const dr=new p.nKC(""),Ta=new p.nKC("");let Ps=(()=>{class N{locale;defaultTimezone;defaultOptions;constructor(U,W,ve){this.locale=U,this.defaultTimezone=W,this.defaultOptions=ve}transform(U,W,ve,nt){if(null==U||""===U||U!=U)return null;try{return Ki(U,W??this.defaultOptions?.dateFormat??"mediumDate",nt||this.locale,ve??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(je){throw ye()}}static \u0275fac=function(W){return new(W||N)(p.rXU(p.xe9,16),p.rXU(dr,24),p.rXU(Ta,24))};static \u0275pipe=p.EJ8({name:"date",type:N,pure:!0})}return N})();const Ii=/#/g;let ks=(()=>{class N{_localization;constructor(U){this._localization=U}transform(U,W,ve){if(null==U)return"";if("object"!=typeof W||null===W)throw ye();return W[function ai(N,q,U,W){let ve=`=${N}`;if(q.indexOf(ve)>-1||(ve=U.getPluralCategory(N,W),q.indexOf(ve)>-1))return ve;if(q.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${N}"`)}(U,Object.keys(W),this._localization,ve)].replace(Ii,U.toString())}static \u0275fac=function(W){return new(W||N)(p.rXU(ni,16))};static \u0275pipe=p.EJ8({name:"i18nPlural",type:N,pure:!0})}return N})(),Hi=(()=>{class N{transform(U,W){if(null==U)return"";if("object"!=typeof W||"string"!=typeof U)throw ye();return W.hasOwnProperty(U)?W[U]:W.hasOwnProperty("other")?W.other:""}static \u0275fac=function(W){return new(W||N)};static \u0275pipe=p.EJ8({name:"i18nSelect",type:N,pure:!0})}return N})(),rs=(()=>{class N{transform(U){return JSON.stringify(U,null,2)}static \u0275fac=function(W){return new(W||N)};static \u0275pipe=p.EJ8({name:"json",type:N,pure:!1})}return N})(),Ui=(()=>{class N{differs;constructor(U){this.differs=U}differ;keyValues=[];compareFn=Bs;transform(U,W=Bs){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ??=this.differs.find(U).create();const ve=this.differ.diff(U),nt=W!==this.compareFn;return ve&&(this.keyValues=[],ve.forEachItem(je=>{this.keyValues.push(function cr(N,q){return{key:N,value:q}}(je.key,je.currentValue))})),(ve||nt)&&(W&&this.keyValues.sort(W),this.compareFn=W),this.keyValues}static \u0275fac=function(W){return new(W||N)(p.rXU(p.MKu,16))};static \u0275pipe=p.EJ8({name:"keyvalue",type:N,pure:!1})}return N})();function Bs(N,q){const U=N.key,W=q.key;if(U===W)return 0;if(void 0===U)return 1;if(void 0===W)return-1;if(null===U)return 1;if(null===W)return-1;if("string"==typeof U&&"string"==typeof W)return U<W?-1:1;if("number"==typeof U&&"number"==typeof W)return U-W;if("boolean"==typeof U&&"boolean"==typeof W)return U<W?-1:1;const ve=String(U),nt=String(W);return ve==nt?0:ve<nt?-1:1}let ws=(()=>{class N{_locale;constructor(U){this._locale=U}transform(U,W,ve){if(!Wi(U))return null;ve||=this._locale;try{return function jt(N,q,U){return Sn(N,cn(At(q,Ze.Decimal),It(q,5)),q,1,0,U)}(wo(U),ve,W)}catch(nt){throw ye()}}static \u0275fac=function(W){return new(W||N)(p.rXU(p.xe9,16))};static \u0275pipe=p.EJ8({name:"number",type:N,pure:!0})}return N})(),oa=(()=>{class N{_locale;constructor(U){this._locale=U}transform(U,W,ve){if(!Wi(U))return null;ve||=this._locale;try{return function rt(N,q,U){return Sn(N,cn(At(q,Ze.Percent),It(q,5)),q,1,0,U,!0).replace(new RegExp("%","g"),It(q,3))}(wo(U),ve,W)}catch(nt){throw ye()}}static \u0275fac=function(W){return new(W||N)(p.rXU(p.xe9,16))};static \u0275pipe=p.EJ8({name:"percent",type:N,pure:!0})}return N})(),aa=(()=>{class N{_locale;_defaultCurrencyCode;constructor(U,W="USD"){this._locale=U,this._defaultCurrencyCode=W}transform(U,W=this._defaultCurrencyCode,ve="symbol",nt,je){if(!Wi(U))return null;je||=this._locale,"boolean"==typeof ve&&(ve=ve?"symbol":"code");let un=W||this._defaultCurrencyCode;"code"!==ve&&(un="symbol"===ve||"symbol-narrow"===ve?function Ai(N,q,U="en"){const W=function Le(N){return(0,p.H5H)(N)[p.KH2.Currencies]}(U)[N]||Bt[N]||[],ve=W[1];return"narrow"===q&&"string"==typeof ve?ve:W[0]||N}(un,"symbol"===ve?"wide":"narrow",je):ve);try{return function yt(N,q,U,W,ve){const je=cn(At(q,Ze.Currency),It(q,5));return je.minFrac=function Qt(N){let q;const U=Bt[N];return U&&(q=U[2]),"number"==typeof q?q:2}(W),je.maxFrac=je.minFrac,Sn(N,je,q,13,12,ve).replace("\xa4",U).replace("\xa4","").trim()}(wo(U),je,un,W,nt)}catch(Qn){throw ye()}}static \u0275fac=function(W){return new(W||N)(p.rXU(p.xe9,16),p.rXU(p.Ocv,16))};static \u0275pipe=p.EJ8({name:"currency",type:N,pure:!0})}return N})();function Wi(N){return!(null==N||""===N||N!=N)}function wo(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}let hi=(()=>{class N{transform(U,W,ve){if(null==U)return null;if(!this.supports(U))throw ye();return U.slice(W,ve)}supports(U){return"string"==typeof U||Array.isArray(U)}static \u0275fac=function(W){return new(W||N)};static \u0275pipe=p.EJ8({name:"slice",type:N,pure:!1})}return N})(),dn=(()=>{class N{static \u0275fac=function(W){return new(W||N)};static \u0275mod=p.$C({type:N});static \u0275inj=p.G2t({})}return N})();const is="browser",qi="server";function Js(N){return N===is}function si(N){return N===qi}let Sa=(()=>{class N{static \u0275prov=(0,p.jDH)({token:N,providedIn:"root",factory:()=>Js((0,p.WQX)(p.Agw))?new To((0,p.WQX)(Y),window):new ba})}return N})();class To{document;window;offset=()=>[0,0];constructor(q,U){this.document=q,this.window=U}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(q){this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){const U=function eo(N,q){const U=N.getElementById(q)||N.getElementsByName(q)[0];if(U)return U;if("function"==typeof N.createTreeWalker&&N.body&&"function"==typeof N.body.attachShadow){const W=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let ve=W.currentNode;for(;ve;){const nt=ve.shadowRoot;if(nt){const je=nt.getElementById(q)||nt.querySelector(`[name="${q}"]`);if(je)return je}ve=W.nextNode()}}return null}(this.document,q);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(q){this.window.history.scrollRestoration=q}scrollToElement(q){const U=q.getBoundingClientRect(),W=U.left+this.window.pageXOffset,ve=U.top+this.window.pageYOffset,nt=this.offset();this.window.scrollTo(W-nt[0],ve-nt[1])}}class ba{setOffset(q){}getScrollPosition(){return[0,0]}scrollToPosition(q){}scrollToAnchor(q){}setHistoryScrollRestoration(q){}}class ms{}},1626:(St,Re,w)=>{w.d(Re,{Lr:()=>Ve,Nl:()=>qe,Qq:()=>pt,a7:()=>In,cS:()=>br,q1:()=>Jr,uA:()=>ti,yz:()=>Nr});var p=w(467),D=w(4438),ce=w(7673),H=w(1985),Z=w(2806),ie=w(274),te=w(5964),Y=w(6354),fe=w(980),ne=w(5558),le=w(177);class Te{}class Ue{}class Ve{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(me){me?"string"==typeof me?this.lazyInit=()=>{this.headers=new Map,me.split("\n").forEach(we=>{const Be=we.indexOf(":");if(Be>0){const Tt=we.slice(0,Be),Rt=we.slice(Be+1).trim();this.addHeaderEntry(Tt,Rt)}})}:typeof Headers<"u"&&me instanceof Headers?(this.headers=new Map,me.forEach((we,Be)=>{this.addHeaderEntry(Be,we)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(me).forEach(([we,Be])=>{this.setHeaderEntries(we,Be)})}:this.headers=new Map}has(me){return this.init(),this.headers.has(me.toLowerCase())}get(me){this.init();const we=this.headers.get(me.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(me){return this.init(),this.headers.get(me.toLowerCase())||null}append(me,we){return this.clone({name:me,value:we,op:"a"})}set(me,we){return this.clone({name:me,value:we,op:"s"})}delete(me,we){return this.clone({name:me,value:we,op:"d"})}maybeSetNormalizedName(me,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,me)}init(){this.lazyInit&&(this.lazyInit instanceof Ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(me=>this.applyUpdate(me)),this.lazyUpdate=null))}copyFrom(me){me.init(),Array.from(me.headers.keys()).forEach(we=>{this.headers.set(we,me.headers.get(we)),this.normalizedNames.set(we,me.normalizedNames.get(we))})}clone(me){const we=new Ve;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof Ve?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([me]),we}applyUpdate(me){const we=me.name.toLowerCase();switch(me.op){case"a":case"s":let Be=me.value;if("string"==typeof Be&&(Be=[Be]),0===Be.length)return;this.maybeSetNormalizedName(me.name,we);const Tt=("a"===me.op?this.headers.get(we):void 0)||[];Tt.push(...Be),this.headers.set(we,Tt);break;case"d":const Rt=me.value;if(Rt){let Xt=this.headers.get(we);if(!Xt)return;Xt=Xt.filter(Fn=>-1===Rt.indexOf(Fn)),0===Xt.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,Xt)}else this.headers.delete(we),this.normalizedNames.delete(we)}}addHeaderEntry(me,we){const Be=me.toLowerCase();this.maybeSetNormalizedName(me,Be),this.headers.has(Be)?this.headers.get(Be).push(we):this.headers.set(Be,[we])}setHeaderEntries(me,we){const Be=(Array.isArray(we)?we:[we]).map(Rt=>Rt.toString()),Tt=me.toLowerCase();this.headers.set(Tt,Be),this.maybeSetNormalizedName(me,Tt)}forEach(me){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>me(this.normalizedNames.get(we),this.headers.get(we)))}}class st{encodeKey(me){return qt(me)}encodeValue(me){return qt(me)}decodeKey(me){return decodeURIComponent(me)}decodeValue(me){return decodeURIComponent(me)}}const vt=/%(\d[a-f0-9])/gi,wt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qt(ge){return encodeURIComponent(ge).replace(vt,(me,we)=>wt[we]??me)}function lt(ge){return`${ge}`}class qe{map;encoder;updates=null;cloneFrom=null;constructor(me={}){if(this.encoder=me.encoder||new st,me.fromString){if(me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bt(ge,me){const we=new Map;return ge.length>0&&ge.replace(/^\?/,"").split("&").forEach(Tt=>{const Rt=Tt.indexOf("="),[Xt,Fn]=-1==Rt?[me.decodeKey(Tt),""]:[me.decodeKey(Tt.slice(0,Rt)),me.decodeValue(Tt.slice(Rt+1))],Dn=we.get(Xt)||[];Dn.push(Fn),we.set(Xt,Dn)}),we}(me.fromString,this.encoder)}else me.fromObject?(this.map=new Map,Object.keys(me.fromObject).forEach(we=>{const Be=me.fromObject[we],Tt=Array.isArray(Be)?Be.map(lt):[lt(Be)];this.map.set(we,Tt)})):this.map=null}has(me){return this.init(),this.map.has(me)}get(me){this.init();const we=this.map.get(me);return we?we[0]:null}getAll(me){return this.init(),this.map.get(me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(me,we){return this.clone({param:me,value:we,op:"a"})}appendAll(me){const we=[];return Object.keys(me).forEach(Be=>{const Tt=me[Be];Array.isArray(Tt)?Tt.forEach(Rt=>{we.push({param:Be,value:Rt,op:"a"})}):we.push({param:Be,value:Tt,op:"a"})}),this.clone(we)}set(me,we){return this.clone({param:me,value:we,op:"s"})}delete(me,we){return this.clone({param:me,value:we,op:"d"})}toString(){return this.init(),this.keys().map(me=>{const we=this.encoder.encodeKey(me);return this.map.get(me).map(Be=>we+"="+this.encoder.encodeValue(Be)).join("&")}).filter(me=>""!==me).join("&")}clone(me){const we=new qe({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(me),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(me=>this.map.set(me,this.cloneFrom.map.get(me))),this.updates.forEach(me=>{switch(me.op){case"a":case"s":const we=("a"===me.op?this.map.get(me.param):void 0)||[];we.push(lt(me.value)),this.map.set(me.param,we);break;case"d":if(void 0===me.value){this.map.delete(me.param);break}{let Be=this.map.get(me.param)||[];const Tt=Be.indexOf(lt(me.value));-1!==Tt&&Be.splice(Tt,1),Be.length>0?this.map.set(me.param,Be):this.map.delete(me.param)}}}),this.cloneFrom=this.updates=null)}}class Bt{map=new Map;set(me,we){return this.map.set(me,we),this}get(me){return this.map.has(me)||this.map.set(me,me.defaultValue()),this.map.get(me)}delete(me){return this.map.delete(me),this}has(me){return this.map.has(me)}keys(){return this.map.keys()}}function Gt(ge){return typeof ArrayBuffer<"u"&&ge instanceof ArrayBuffer}function Lt(ge){return typeof Blob<"u"&&ge instanceof Blob}function wn(ge){return typeof FormData<"u"&&ge instanceof FormData}class et{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(me,we,Be,Tt){let Rt;if(this.url=we,this.method=me.toUpperCase(),function Ze(ge){switch(ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Tt?(this.body=void 0!==Be?Be:null,Rt=Tt):Rt=Be,Rt&&(this.reportProgress=!!Rt.reportProgress,this.withCredentials=!!Rt.withCredentials,Rt.responseType&&(this.responseType=Rt.responseType),Rt.headers&&(this.headers=Rt.headers),Rt.context&&(this.context=Rt.context),Rt.params&&(this.params=Rt.params),this.transferCache=Rt.transferCache),this.headers??=new Ve,this.context??=new Bt,this.params){const Xt=this.params.toString();if(0===Xt.length)this.urlWithParams=we;else{const Fn=we.indexOf("?");this.urlWithParams=we+(-1===Fn?"?":Fn<we.length-1?"&":"")+Xt}}else this.params=new qe,this.urlWithParams=we}serializeBody(){return null===this.body?null:"string"==typeof this.body||Gt(this.body)||Lt(this.body)||wn(this.body)||function Nt(ge){return typeof URLSearchParams<"u"&&ge instanceof URLSearchParams}(this.body)?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wn(this.body)?null:Lt(this.body)?this.body.type||null:Gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(me={}){const we=me.method||this.method,Be=me.url||this.url,Tt=me.responseType||this.responseType,Rt=me.transferCache??this.transferCache,Xt=void 0!==me.body?me.body:this.body,Fn=me.withCredentials??this.withCredentials,Dn=me.reportProgress??this.reportProgress;let Qr=me.headers||this.headers,Kn=me.params||this.params;const ln=me.context??this.context;return void 0!==me.setHeaders&&(Qr=Object.keys(me.setHeaders).reduce((zn,di)=>zn.set(di,me.setHeaders[di]),Qr)),me.setParams&&(Kn=Object.keys(me.setParams).reduce((zn,di)=>zn.set(di,me.setParams[di]),Kn)),new et(we,Be,Xt,{params:Kn,headers:Qr,context:ln,reportProgress:Dn,responseType:Tt,withCredentials:Fn,transferCache:Rt})}}var on=function(ge){return ge[ge.Sent=0]="Sent",ge[ge.UploadProgress=1]="UploadProgress",ge[ge.ResponseHeader=2]="ResponseHeader",ge[ge.DownloadProgress=3]="DownloadProgress",ge[ge.Response=4]="Response",ge[ge.User=5]="User",ge}(on||{});class Jt{headers;status;statusText;url;ok;type;constructor(me,we=200,Be="OK"){this.headers=me.headers||new Ve,this.status=void 0!==me.status?me.status:we,this.statusText=me.statusText||Be,this.url=me.url||null,this.ok=this.status>=200&&this.status<300}}class $n extends Jt{constructor(me={}){super(me)}type=on.ResponseHeader;clone(me={}){return new $n({headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class br extends Jt{body;constructor(me={}){super(me),this.body=void 0!==me.body?me.body:null}type=on.Response;clone(me={}){return new br({body:void 0!==me.body?me.body:this.body,headers:me.headers||this.headers,status:void 0!==me.status?me.status:this.status,statusText:me.statusText||this.statusText,url:me.url||this.url||void 0})}}class Nr extends Jt{name="HttpErrorResponse";message;error;ok=!1;constructor(me){super(me,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${me.url||"(unknown url)"}`:`Http failure response for ${me.url||"(unknown url)"}: ${me.status} ${me.statusText}`,this.error=me.error||null}}function $e(ge,me){return{body:me,headers:ge.headers,context:ge.context,observe:ge.observe,params:ge.params,reportProgress:ge.reportProgress,responseType:ge.responseType,withCredentials:ge.withCredentials,transferCache:ge.transferCache}}let pt=(()=>{class ge{handler;constructor(we){this.handler=we}request(we,Be,Tt={}){let Rt;if(we instanceof et)Rt=we;else{let Dn,Qr;Dn=Tt.headers instanceof Ve?Tt.headers:new Ve(Tt.headers),Tt.params&&(Qr=Tt.params instanceof qe?Tt.params:new qe({fromObject:Tt.params})),Rt=new et(we,Be,void 0!==Tt.body?Tt.body:null,{headers:Dn,context:Tt.context,params:Qr,reportProgress:Tt.reportProgress,responseType:Tt.responseType||"json",withCredentials:Tt.withCredentials,transferCache:Tt.transferCache})}const Xt=(0,ce.of)(Rt).pipe((0,ie.H)(Dn=>this.handler.handle(Dn)));if(we instanceof et||"events"===Tt.observe)return Xt;const Fn=Xt.pipe((0,te.p)(Dn=>Dn instanceof br));switch(Tt.observe||"body"){case"body":switch(Rt.responseType){case"arraybuffer":return Fn.pipe((0,Y.T)(Dn=>{if(null!==Dn.body&&!(Dn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dn.body}));case"blob":return Fn.pipe((0,Y.T)(Dn=>{if(null!==Dn.body&&!(Dn.body instanceof Blob))throw new Error("Response is not a Blob.");return Dn.body}));case"text":return Fn.pipe((0,Y.T)(Dn=>{if(null!==Dn.body&&"string"!=typeof Dn.body)throw new Error("Response is not a string.");return Dn.body}));default:return Fn.pipe((0,Y.T)(Dn=>Dn.body))}case"response":return Fn;default:throw new Error(`Unreachable: unhandled observe type ${Tt.observe}}`)}}delete(we,Be={}){return this.request("DELETE",we,Be)}get(we,Be={}){return this.request("GET",we,Be)}head(we,Be={}){return this.request("HEAD",we,Be)}jsonp(we,Be){return this.request("JSONP",we,{params:(new qe).append(Be,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,Be={}){return this.request("OPTIONS",we,Be)}patch(we,Be,Tt={}){return this.request("PATCH",we,$e(Tt,Be))}post(we,Be,Tt={}){return this.request("POST",we,$e(Tt,Be))}put(we,Be,Tt={}){return this.request("PUT",we,$e(Tt,Be))}static \u0275fac=function(Be){return new(Be||ge)(D.KVO(Te))};static \u0275prov=D.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const _t=/^\)\]\}',?\n/;function At(ge){if(ge.url)return ge.url;const me="X-Request-URL".toLocaleLowerCase();return ge.headers.get(me)}let pn=(()=>{class ge{fetchImpl=(0,D.WQX)(mt,{optional:!0})?.fetch??((...we)=>globalThis.fetch(...we));ngZone=(0,D.WQX)(D.SKi);handle(we){return new H.c(Be=>{const Tt=new AbortController;return this.doRequest(we,Tt.signal,Be).then(it,Rt=>Be.error(new Nr({error:Rt}))),()=>Tt.abort()})}doRequest(we,Be,Tt){var Rt=this;return(0,p.A)(function*(){const Xt=Rt.createRequestInit(we);let Fn;try{const vi=Rt.ngZone.runOutsideAngular(()=>Rt.fetchImpl(we.urlWithParams,{signal:Be,...Xt}));(function Le(ge){ge.then(it,it)})(vi),Tt.next({type:on.Sent}),Fn=yield vi}catch(vi){return void Tt.error(new Nr({error:vi,status:vi.status??0,statusText:vi.statusText,url:we.urlWithParams,headers:vi.headers}))}const Dn=new Ve(Fn.headers),Qr=Fn.statusText,Kn=At(Fn)??we.urlWithParams;let ln=Fn.status,zn=null;if(we.reportProgress&&Tt.next(new $n({headers:Dn,status:ln,statusText:Qr,url:Kn})),Fn.body){const vi=Fn.headers.get("content-length"),jn=[],Wr=Fn.body.getReader();let Di,ii,ri=0;const ye=typeof Zone<"u"&&Zone.current;yield Rt.ngZone.runOutsideAngular((0,p.A)(function*(){for(;;){const{done:Ge,value:dt}=yield Wr.read();if(Ge)break;if(jn.push(dt),ri+=dt.length,we.reportProgress){ii="text"===we.responseType?(ii??"")+(Di??=new TextDecoder).decode(dt,{stream:!0}):void 0;const Zt=()=>Tt.next({type:on.DownloadProgress,total:vi?+vi:void 0,loaded:ri,partialText:ii});ye?ye.run(Zt):Zt()}}}));const tt=Rt.concatChunks(jn,ri);try{const Ge=Fn.headers.get("Content-Type")??"";zn=Rt.parseBody(we,tt,Ge)}catch(Ge){return void Tt.error(new Nr({error:Ge,headers:new Ve(Fn.headers),status:Fn.status,statusText:Fn.statusText,url:At(Fn)??we.urlWithParams}))}}0===ln&&(ln=zn?200:0),ln>=200&&ln<300?(Tt.next(new br({body:zn,headers:Dn,status:ln,statusText:Qr,url:Kn})),Tt.complete()):Tt.error(new Nr({error:zn,headers:Dn,status:ln,statusText:Qr,url:Kn}))})()}parseBody(we,Be,Tt){switch(we.responseType){case"json":const Rt=(new TextDecoder).decode(Be).replace(_t,"");return""===Rt?null:JSON.parse(Rt);case"text":return(new TextDecoder).decode(Be);case"blob":return new Blob([Be],{type:Tt});case"arraybuffer":return Be.buffer}}createRequestInit(we){const Be={},Tt=we.withCredentials?"include":void 0;if(we.headers.forEach((Rt,Xt)=>Be[Rt]=Xt.join(",")),we.headers.has("Accept")||(Be.Accept="application/json, text/plain, */*"),!we.headers.has("Content-Type")){const Rt=we.detectContentTypeHeader();null!==Rt&&(Be["Content-Type"]=Rt)}return{body:we.serializeBody(),method:we.method,headers:Be,credentials:Tt}}concatChunks(we,Be){const Tt=new Uint8Array(Be);let Rt=0;for(const Xt of we)Tt.set(Xt,Rt),Rt+=Xt.length;return Tt}static \u0275fac=function(Be){return new(Be||ge)};static \u0275prov=D.jDH({token:ge,factory:ge.\u0275fac})}return ge})();class mt{}function it(){}function ht(ge,me){return me(ge)}function Mt(ge,me){return(we,Be)=>me.intercept(we,{handle:Tt=>ge(Tt,Be)})}const In=new D.nKC(""),ir=new D.nKC(""),vr=new D.nKC(""),Vr=new D.nKC("",{providedIn:"root",factory:()=>!0});function Ai(){let ge=null;return(me,we)=>{null===ge&&(ge=((0,D.WQX)(In,{optional:!0})??[]).reduceRight(Mt,ht));const Be=(0,D.WQX)(D.Ua0);if((0,D.WQX)(Vr)){const Rt=Be.add();return ge(me,we).pipe((0,fe.j)(()=>Be.remove(Rt)))}return ge(me,we)}}let sr,Zr=(()=>{class ge extends Te{backend;injector;chain=null;pendingTasks=(0,D.WQX)(D.Ua0);contributeToStability=(0,D.WQX)(Vr);constructor(we,Be){super(),this.backend=we,this.injector=Be}handle(we){if(null===this.chain){const Be=Array.from(new Set([...this.injector.get(ir),...this.injector.get(vr,[])]));this.chain=Be.reduceRight((Tt,Rt)=>function Bn(ge,me,we){return(Be,Tt)=>(0,D.N4e)(we,()=>me(Be,Rt=>ge(Rt,Tt)))}(Tt,Rt,this.injector),ht)}if(this.contributeToStability){const Be=this.pendingTasks.add();return this.chain(we,Tt=>this.backend.handle(Tt)).pipe((0,fe.j)(()=>this.pendingTasks.remove(Be)))}return this.chain(we,Be=>this.backend.handle(Be))}static \u0275fac=function(Be){return new(Be||ge)(D.KVO(Ue),D.KVO(D.uvJ))};static \u0275prov=D.jDH({token:ge,factory:ge.\u0275fac})}return ge})(),ei=0;class Er{}function oi(){return"object"==typeof window?window:{}}let Oi=(()=>{class ge{callbackMap;document;resolvedPromise=Promise.resolve();constructor(we,Be){this.callbackMap=we,this.document=Be}nextCallback(){return"ng_jsonp_callback_"+ei++}handle(we){if("JSONP"!==we.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==we.responseType)throw new Error("JSONP requests must use Json response type.");if(we.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new H.c(Be=>{const Tt=this.nextCallback(),Rt=we.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${Tt}$1`),Xt=this.document.createElement("script");Xt.src=Rt;let Fn=null,Dn=!1;this.callbackMap[Tt]=zn=>{delete this.callbackMap[Tt],Fn=zn,Dn=!0};const Qr=()=>{Xt.removeEventListener("load",Kn),Xt.removeEventListener("error",ln),Xt.remove(),delete this.callbackMap[Tt]},Kn=zn=>{this.resolvedPromise.then(()=>{Qr(),Dn?(Be.next(new br({body:Fn,status:200,statusText:"OK",url:Rt})),Be.complete()):Be.error(new Nr({url:Rt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},ln=zn=>{Qr(),Be.error(new Nr({error:zn,status:0,statusText:"JSONP Error",url:Rt}))};return Xt.addEventListener("load",Kn),Xt.addEventListener("error",ln),this.document.body.appendChild(Xt),Be.next({type:on.Sent}),()=>{Dn||this.removeListeners(Xt),Qr()}})}removeListeners(we){sr??=this.document.implementation.createHTMLDocument(),sr.adoptNode(we)}static \u0275fac=function(Be){return new(Be||ge)(D.KVO(Er),D.KVO(le.qQ))};static \u0275prov=D.jDH({token:ge,factory:ge.\u0275fac})}return ge})();function li(ge,me){return"JSONP"===ge.method?(0,D.WQX)(Oi).handle(ge):me(ge)}const Zn=/^\)\]\}',?\n/;let Mn=(()=>{class ge{xhrFactory;constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new D.wOt(-2800,!1);const Be=this.xhrFactory;return(Be.\u0275loadImpl?(0,Z.H)(Be.\u0275loadImpl()):(0,ce.of)(null)).pipe((0,ne.n)(()=>new H.c(Rt=>{const Xt=Be.build();if(Xt.open(we.method,we.urlWithParams),we.withCredentials&&(Xt.withCredentials=!0),we.headers.forEach((jn,Wr)=>Xt.setRequestHeader(jn,Wr.join(","))),we.headers.has("Accept")||Xt.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const jn=we.detectContentTypeHeader();null!==jn&&Xt.setRequestHeader("Content-Type",jn)}if(we.responseType){const jn=we.responseType.toLowerCase();Xt.responseType="json"!==jn?jn:"text"}const Fn=we.serializeBody();let Dn=null;const Qr=()=>{if(null!==Dn)return Dn;const jn=Xt.statusText||"OK",Wr=new Ve(Xt.getAllResponseHeaders()),ri=function Us(ge){return"responseURL"in ge&&ge.responseURL?ge.responseURL:/^X-Request-URL:/m.test(ge.getAllResponseHeaders())?ge.getResponseHeader("X-Request-URL"):null}(Xt)||we.url;return Dn=new $n({headers:Wr,status:Xt.status,statusText:jn,url:ri}),Dn},Kn=()=>{let{headers:jn,status:Wr,statusText:ri,url:Di}=Qr(),ii=null;204!==Wr&&(ii=typeof Xt.response>"u"?Xt.responseText:Xt.response),0===Wr&&(Wr=ii?200:0);let ye=Wr>=200&&Wr<300;if("json"===we.responseType&&"string"==typeof ii){const tt=ii;ii=ii.replace(Zn,"");try{ii=""!==ii?JSON.parse(ii):null}catch(Ge){ii=tt,ye&&(ye=!1,ii={error:Ge,text:ii})}}ye?(Rt.next(new br({body:ii,headers:jn,status:Wr,statusText:ri,url:Di||void 0})),Rt.complete()):Rt.error(new Nr({error:ii,headers:jn,status:Wr,statusText:ri,url:Di||void 0}))},ln=jn=>{const{url:Wr}=Qr(),ri=new Nr({error:jn,status:Xt.status||0,statusText:Xt.statusText||"Unknown Error",url:Wr||void 0});Rt.error(ri)};let zn=!1;const di=jn=>{zn||(Rt.next(Qr()),zn=!0);let Wr={type:on.DownloadProgress,loaded:jn.loaded};jn.lengthComputable&&(Wr.total=jn.total),"text"===we.responseType&&Xt.responseText&&(Wr.partialText=Xt.responseText),Rt.next(Wr)},vi=jn=>{let Wr={type:on.UploadProgress,loaded:jn.loaded};jn.lengthComputable&&(Wr.total=jn.total),Rt.next(Wr)};return Xt.addEventListener("load",Kn),Xt.addEventListener("error",ln),Xt.addEventListener("timeout",ln),Xt.addEventListener("abort",ln),we.reportProgress&&(Xt.addEventListener("progress",di),null!==Fn&&Xt.upload&&Xt.upload.addEventListener("progress",vi)),Xt.send(Fn),Rt.next({type:on.Sent}),()=>{Xt.removeEventListener("error",ln),Xt.removeEventListener("abort",ln),Xt.removeEventListener("load",Kn),Xt.removeEventListener("timeout",ln),we.reportProgress&&(Xt.removeEventListener("progress",di),null!==Fn&&Xt.upload&&Xt.upload.removeEventListener("progress",vi)),Xt.readyState!==Xt.DONE&&Xt.abort()}})))}static \u0275fac=function(Be){return new(Be||ge)(D.KVO(le.N0))};static \u0275prov=D.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const ps=new D.nKC(""),Gn=new D.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),or=new D.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gr{}let Pr=(()=>{class ge{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(we,Be,Tt){this.doc=we,this.platform=Be,this.cookieName=Tt}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,le._b)(we,this.cookieName),this.lastCookieString=we),this.lastToken}static \u0275fac=function(Be){return new(Be||ge)(D.KVO(le.qQ),D.KVO(D.Agw),D.KVO(Gn))};static \u0275prov=D.jDH({token:ge,factory:ge.\u0275fac})}return ge})();function yi(ge,me){const we=ge.url.toLowerCase();if(!(0,D.WQX)(ps)||"GET"===ge.method||"HEAD"===ge.method||we.startsWith("http://")||we.startsWith("https://"))return me(ge);const Be=(0,D.WQX)(gr).getToken(),Tt=(0,D.WQX)(or);return null!=Be&&!ge.headers.has(Tt)&&(ge=ge.clone({headers:ge.headers.set(Tt,Be)})),me(ge)}var De=function(ge){return ge[ge.Interceptors=0]="Interceptors",ge[ge.LegacyInterceptors=1]="LegacyInterceptors",ge[ge.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ge[ge.NoXsrfProtection=3]="NoXsrfProtection",ge[ge.JsonpSupport=4]="JsonpSupport",ge[ge.RequestsMadeViaParent=5]="RequestsMadeViaParent",ge[ge.Fetch=6]="Fetch",ge}(De||{});function Oe(ge,me){return{\u0275kind:ge,\u0275providers:me}}function de(...ge){const me=[pt,Mn,Zr,{provide:Te,useExisting:Zr},{provide:Ue,useFactory:()=>(0,D.WQX)(pn,{optional:!0})??(0,D.WQX)(Mn)},{provide:ir,useValue:yi,multi:!0},{provide:ps,useValue:!0},{provide:gr,useClass:Pr}];for(const we of ge)me.push(...we.\u0275providers);return(0,D.EmA)(me)}const re=new D.nKC("");function Ae(){return Oe(De.LegacyInterceptors,[{provide:re,useFactory:Ai},{provide:ir,useExisting:re,multi:!0}])}function Rn(){return Oe(De.JsonpSupport,[Oi,{provide:Er,useFactory:oi},{provide:ir,useValue:li,multi:!0}])}let Jr=(()=>{class ge{static \u0275fac=function(Be){return new(Be||ge)};static \u0275mod=D.$C({type:ge});static \u0275inj=D.G2t({providers:[de(Ae())]})}return ge})(),ti=(()=>{class ge{static \u0275fac=function(Be){return new(Be||ge)};static \u0275mod=D.$C({type:ge});static \u0275inj=D.G2t({providers:[Rn().\u0275providers]})}return ge})()},4438:(St,Re,w)=>{function D(e,n){return Object.is(e,n)}w.d(Re,{bc$:()=>Dh,iLQ:()=>Vm,sZ2:()=>Ch,hnV:()=>WE,Hbi:()=>jx,o8S:()=>Ul,BIS:()=>uy,gRc:()=>nS,Ql9:()=>cx,OM3:()=>Rm,Ocv:()=>gx,abz:()=>Dt,Z63:()=>ss,aKT:()=>Ol,uvJ:()=>Ss,zcH:()=>Lr,bkB:()=>Yr,y_5:()=>To,$GK:()=>bn,nKC:()=>me,zZn:()=>Ie,_q3:()=>W0,MKu:()=>G0,xe9:()=>V0,Co$:()=>NC,Vns:()=>rf,SKi:()=>B,Xx1:()=>eo,Agw:()=>_f,PLl:()=>Yp,rOR:()=>Fp,sFG:()=>rA,_9s:()=>yE,czy:()=>eu,WPN:()=>hd,kdw:()=>ms,C4Q:()=>Cm,NYb:()=>HM,giA:()=>cD,xvI:()=>ox,RxE:()=>WT,c1b:()=>gv,gXe:()=>Zl,mal:()=>sd,Af3:()=>qr,tdH:()=>Tf,L39:()=>IP,EWP:()=>q0,a0P:()=>GP,Ol2:()=>xE,w6W:()=>VA,oH4:()=>ZT,QZP:()=>Y0,SmG:()=>Sx,Rfq:()=>zi,WQX:()=>dn,hFB:()=>ey,naY:()=>Tx,QuC:()=>Yi,EmA:()=>$s,fpN:()=>Bx,HJs:()=>KP,N4e:()=>Ao,vPA:()=>gp,O8t:()=>xp,H3F:()=>eD,H8p:()=>no,KH2:()=>Rp,Ua0:()=>Ei,wOt:()=>Qt,WHO:()=>oD,e01:()=>aD,lNU:()=>Cs,h9k:()=>jg,$MX:()=>Kd,ZF7:()=>Gd,Kcf:()=>R_,e5t:()=>by,UyX:()=>Sy,cWb:()=>Ng,osQ:()=>Og,H5H:()=>h0,Zy3:()=>Zr,mq5:()=>iw,JZv:()=>Mn,LfX:()=>ai,plB:()=>th,jNT:()=>HE,zjR:()=>lD,hVU:()=>$M,TL$:()=>vf,Tbb:()=>or,rcV:()=>Fl,Vt3:()=>kE,GFd:()=>WC,OA$:()=>il,Jv_:()=>uT,R7$:()=>Yy,BMQ:()=>qE,HbH:()=>LD,ZvI:()=>WD,STu:()=>GD,ZWY:()=>KD,ZBM:()=>zD,AVh:()=>n0,vxM:()=>YD,wni:()=>Uw,nv$:()=>_D,T$4:()=>ZC,qhs:()=>ED,VBU:()=>xC,FsC:()=>kC,jDH:()=>hn,G2t:()=>Hr,$C:()=>PE,EJ8:()=>FC,rXU:()=>Zd,fuf:()=>ol,nrm:()=>c0,eu8:()=>l0,bVm:()=>Ov,qex:()=>Nv,k0s:()=>Rv,j41:()=>Mv,cSN:()=>Wc,RV6:()=>rw,xGo:()=>uh,Mr5:()=>u0,KVO:()=>hi,kS0:()=>pl,QTQ:()=>vu,bIt:()=>g0,lsd:()=>$w,joV:()=>dl,qSk:()=>Sl,XpG:()=>Aw,nI1:()=>DT,bMT:()=>wT,i5U:()=>TT,brH:()=>ST,iJd:()=>bT,SdG:()=>Rw,NAR:()=>Mw,Y8G:()=>JE,FS9:()=>y0,Mz_:()=>Lv,lJ4:()=>fT,eq3:()=>pT,l_i:()=>gT,sMw:()=>mT,s1E:()=>yT,mGM:()=>jw,sdS:()=>Hw,Dyx:()=>ew,Z7z:()=>JD,Vm6:()=>ZD,Njj:()=>Hl,EBC:()=>tm,tSv:()=>zo,eBV:()=>sc,npT:()=>k_,f$h:()=>Hg,B4B:()=>$g,n$t:()=>Kg,wjB:()=>dT,Aen:()=>_u,muq:()=>Ww,xc7:()=>t0,zvX:()=>d0,DNE:()=>VE,C5r:()=>AT,EFF:()=>eT,JRh:()=>_0,SpI:()=>Vv,Lme:()=>E0,E5c:()=>I0,LHq:()=>C0,ZXR:()=>D0,wXG:()=>Wg,DH7:()=>oT,mxI:()=>T0,R50:()=>w0,GBs:()=>Bw}),w(467);let ce=null,H=!1,Z=1;const ie=Symbol("SIGNAL");function te(e){const n=ce;return ce=e,n}function Y(){return ce}const le={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Te(e){if(H)throw new Error("");if(null===ce)return;ce.consumerOnSignalRead(e);const n=ce.nextProducerIndex++;Gt(ce),n<ce.producerNode.length&&ce.producerNode[n]!==e&&Ze(ce)&&Bt(ce.producerNode[n],ce.producerIndexOfThis[n]),ce.producerNode[n]!==e&&(ce.producerNode[n]=e,ce.producerIndexOfThis[n]=Ze(ce)?nn(e,ce,n):0),ce.producerLastReadVersion[n]=e.version}function Ve(e){if((!Ze(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Z)){if(!e.producerMustRecompute(e)&&!lt(e))return void vt(e);e.producerRecomputeValue(e),vt(e)}}function Qe(e){if(void 0===e.liveConsumerNode)return;const n=H;H=!0;try{for(const r of e.liveConsumerNode)r.dirty||bt(r)}finally{H=n}}function st(){return!1!==ce?.consumerAllowSignalWrites}function bt(e){e.dirty=!0,Qe(e),e.consumerMarkedDirty?.(e)}function vt(e){e.dirty=!1,e.lastCleanEpoch=Z}function wt(e){return e&&(e.nextProducerIndex=0),te(e)}function qt(e,n){if(te(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ze(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Bt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function lt(e){Gt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(Ve(r),o!==r.version))return!0}return!1}function qe(e){if(Gt(e),Ze(e))for(let n=0;n<e.producerNode.length;n++)Bt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function nn(e,n,r){if(Lt(e),0===e.liveConsumerNode.length&&wn(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=nn(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function Bt(e,n){if(Lt(e),1===e.liveConsumerNode.length&&wn(e))for(let o=0;o<e.producerNode.length;o++)Bt(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],c=e.liveConsumerNode[n];Gt(c),c.producerIndexOfThis[o]=n}}function Ze(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Lt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wn(e){return void 0!==e.producerNode}const et=Symbol("UNSET"),on=Symbol("COMPUTING"),Jt=Symbol("ERRORED"),$n={...le,value:et,dirty:!0,error:null,equal:D,producerMustRecompute:e=>e.value===et||e.value===on,producerRecomputeValue(e){if(e.value===on)throw new Error("Detected cycle in computations.");const n=e.value;e.value=on;const r=wt(e);let o;try{o=e.computation()}catch(c){o=Jt,e.error=c}finally{qt(e,r)}n!==et&&n!==Jt&&o!==Jt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let Nr=function br(){throw new Error};function bi(){Nr()}let Je=null;function It(e,n){st()||bi(),e.equal(e.value,n)||(e.value=n,function it(e){e.version++,function Ue(){Z++}(),Qe(e),Je?.()}(e))}const mt={...le,equal:D,value:void 0};const ht=()=>{},Mt={...le,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:ht};var In=w(4412),ir=w(1413),vr=w(8359),Vr=w(6354);const Cs="https://g.co/ng/security#xss";class Qt extends Error{code;constructor(n,r){super(Zr(n,r)),this.code=n}}function Zr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}const ei=Symbol("InputSignalNode#UNSET"),sr={...mt,transformFn:void 0,applyValueToInputSignal(e,n){It(e,n)}};function Wn(e,n){const r=Object.create(sr);function o(){if(Te(r),r.value===ei)throw new Qt(-950,!1);return r.value}return r.value=e,r.transformFn=n?.transform,o[ie]=r,o}function Ki(e){return{toString:e}.toString()}const oi="__parameters__";function Zn(e,n,r){return Ki(()=>{const o=function fs(e){return function(...r){if(e){const o=e(...r);for(const c in o)this[c]=o[c]}}}(n);function c(...d){if(this instanceof c)return o.apply(this,d),this;const m=new c(...d);return T.annotation=m,T;function T(M,j,J){const pe=M.hasOwnProperty(oi)?M[oi]:Object.defineProperty(M,oi,{value:[]})[oi];for(;pe.length<=J;)pe.push(null);return(pe[J]=pe[J]||[]).push(m),M}}return r&&(c.prototype=Object.create(r.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}const Mn=globalThis;function Gn(e){for(let n in e)if(e[n]===Gn)return n;throw Error("Could not find renamed property on target object.")}function $i(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function or(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(or).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function gr(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const yi=Gn({__forward_ref__:Gn});function zi(e){return e.__forward_ref__=zi,e.toString=function(){return or(this())},e}function De(e){return Oe(e)?e():e}function Oe(e){return"function"==typeof e&&e.hasOwnProperty(yi)&&e.__forward_ref__===zi}function hn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Hr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ni(e){return gs(e,Qi)||gs(e,Mr)}function ai(e){return null!==ni(e)}function gs(e,n){return e.hasOwnProperty(n)?e[n]:null}function Zs(e){return e&&(e.hasOwnProperty(Jn)||e.hasOwnProperty(ge))?e[Jn]:null}const Qi=Gn({\u0275prov:Gn}),Jn=Gn({\u0275inj:Gn}),Mr=Gn({ngInjectableDef:Gn}),ge=Gn({ngInjectorDef:Gn});class me{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,r){this._desc=n,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=hn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zn(e){return e&&!!e.\u0275providers}const di=Gn({\u0275cmp:Gn}),vi=Gn({\u0275dir:Gn}),jn=Gn({\u0275pipe:Gn}),Wr=Gn({\u0275mod:Gn}),ri=Gn({\u0275fac:Gn}),Di=Gn({__NG_ELEMENT_ID__:Gn}),ii=Gn({__NG_ENV_ID__:Gn});function ye(e){return"string"==typeof e?e:null==e?"":String(e)}function jr(e,n){throw new Qt(-201,!1)}var bn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(bn||{});let xi;function gn(){return xi}function dr(e){const n=xi;return xi=e,n}function Ta(e,n,r){const o=ni(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&bn.Optional?null:void 0!==n?n:void jr()}const ks={},Hi="__NG_DI_FLAG__",rs="ngTempTokenPath",Ui=/\n/gm,ws="__source";let oa;function Wi(e){const n=oa;return oa=e,n}function wo(e,n=bn.Default){if(void 0===oa)throw new Qt(-203,!1);return null===oa?Ta(e,void 0,n):oa.get(e,n&bn.Optional?null:void 0,n)}function hi(e,n=bn.Default){return(gn()||wo)(De(e),n)}function dn(e,n=bn.Default){return hi(e,is(n))}function is(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qi(e){const n=[];for(let r=0;r<e.length;r++){const o=De(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Qt(900,!1);let c,d=bn.Default;for(let m=0;m<o.length;m++){const T=o[m],M=si(T);"number"==typeof M?-1===M?c=T.token:d|=M:c=T}n.push(hi(c,d))}else n.push(hi(o))}return n}function Js(e,n){return e[Hi]=n,e.prototype[Hi]=n,e}function si(e){return e[Hi]}const To=Js(Zn("Inject",e=>({token:e})),-1),eo=Js(Zn("Optional"),8),ms=Js(Zn("SkipSelf"),4);function Un(e,n){return e.hasOwnProperty(ri)?e[ri]:null}function bo(e,n){e.forEach(r=>Array.isArray(r)?bo(r,n):n(r))}function Gr(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Po(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ko(e,n,r){const o=e.length-r;for(;n<o;)e[n]=e[n+r],n++;for(;r--;)e.pop()}function js(e,n,r,o){let c=e.length;if(c==n)e.push(r,o);else if(1===c)e.push(o,e[0]),e[0]=r;else{for(c--,e.push(e[c-1],e[c]);c>n;)e[c]=e[c-2],c--;e[n]=r,e[n+1]=o}}function es(e,n,r){let o=lo(e,n);return o>=0?e[1|o]=r:(o=~o,js(e,o,n,r)),o}function Fo(e,n){const r=lo(e,n);if(r>=0)return e[1|r]}function lo(e,n){return function ca(e,n,r){let o=0,c=e.length>>r;for(;c!==o;){const d=o+(c-o>>1),m=e[d<<r];if(n===m)return d<<r;m>n?c=d:o=d+1}return~(c<<r)}(e,n,1)}const Dr={},hr=[],ss=new me(""),ho=new me("",-1),Lo=new me("");class Va{get(n,r=ks){if(r===ks){const o=new Error(`NullInjectorError: No provider for ${or(n)}!`);throw o.name="NullInjectorError",o}return r}}function os(e,n){const r=e[Wr]||null;if(!r&&!0===n)throw new Error(`Type ${or(e)} does not have '\u0275mod' property.`);return r}function nr(e){return e[di]||null}function Pi(e){return e[vi]||null}function Xi(e){return e[jn]||null}function Yi(e){const n=nr(e)||Pi(e)||Xi(e);return null!==n&&n.standalone}function $s(e){return{\u0275providers:e}}function to(...e){return{\u0275providers:fo(0,e),\u0275fromNgModule:!0}}function fo(e,...n){const r=[],o=new Set;let c;const d=m=>{r.push(m)};return bo(n,m=>{const T=m;Hs(T,d,[],o)&&(c||=[],c.push(T))}),void 0!==c&&ys(c,d),r}function ys(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:c}=e[r];G(c,d=>{n(d,o)})}}function Hs(e,n,r,o){if(!(e=De(e)))return!1;let c=null,d=Zs(e);const m=!d&&nr(e);if(d||m){if(m&&!m.standalone)return!1;c=e}else{const M=e.ngModule;if(d=Zs(M),!d)return!1;c=M}const T=o.has(c);if(m){if(T)return!1;if(o.add(c),m.dependencies){const M="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const j of M)Hs(j,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!T){let j;o.add(c);try{bo(d.imports,J=>{Hs(J,n,r,o)&&(j||=[],j.push(J))})}finally{}void 0!==j&&ys(j,n)}if(!T){const j=Un(c)||(()=>new c);n({provide:c,useFactory:j,deps:hr},c),n({provide:Lo,useValue:c,multi:!0},c),n({provide:ss,useValue:()=>hi(c),multi:!0},c)}const M=d.providers;if(null!=M&&!T){const j=e;G(M,J=>{n(J,j)})}}}return c!==e&&void 0!==e.providers}function G(e,n){for(let r of e)zn(r)&&(r=r.\u0275providers),Array.isArray(r)?G(r,n):n(r)}const V=Gn({provide:String,useValue:Gn});function ue(e){return null!==e&&"object"==typeof e&&V in e}function Ln(e){return"function"==typeof e}const no=new me(""),Eo={},Qo={};let po;function qo(){return void 0===po&&(po=new Va),po}class Ss{}class Bi extends Ss{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,r,o,c){super(),this.parent=r,this.source=o,this.scopes=c,ha(n,m=>this.processProvider(m)),this.records.set(ho,ki(void 0,this)),c.has("environment")&&this.records.set(Ss,ki(void 0,this));const d=this.records.get(no);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Lo,hr,bn.Self))}destroy(){Aa(this),this._destroyed=!0;const n=te(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(n)}}onDestroy(n){return Aa(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Aa(this);const r=Wi(this),o=dr(void 0);try{return n()}finally{Wi(r),dr(o)}}get(n,r=ks,o=bn.Default){if(Aa(this),n.hasOwnProperty(ii))return n[ii](this);o=is(o);const d=Wi(this),m=dr(void 0);try{if(!(o&bn.SkipSelf)){let M=this.records.get(n);if(void 0===M){const j=function da(e){return"function"==typeof e||"object"==typeof e&&e instanceof me}(n)&&ni(n);M=j&&this.injectableDefInScope(j)?ki(Ic(n),Eo):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(o&bn.Self?qo():this.parent).get(n,r=o&bn.Optional&&r===ks?null:r)}catch(T){if("NullInjectorError"===T.name){if((T[rs]=T[rs]||[]).unshift(or(n)),d)throw T;return function xo(e,n,r,o){const c=e[rs];throw n[ws]&&c.unshift(n[ws]),e.message=function Sa(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=or(n);if(Array.isArray(n))c=n.map(or).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let T=n[m];d.push(m+":"+("string"==typeof T?JSON.stringify(T):or(T)))}c=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${c}]: ${e.replace(Ui,"\n  ")}`}("\n"+e.message,c,r,o),e.ngTokenPath=c,e[rs]=null,e}(T,n,"R3InjectorError",this.source)}throw T}finally{dr(m),Wi(d)}}resolveInjectorInitializers(){const n=te(null),r=Wi(this),o=dr(void 0);try{const d=this.get(ss,hr,bn.Self);for(const m of d)m()}finally{Wi(r),dr(o),te(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(or(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){let r=Ln(n=De(n))?n:De(n&&n.provide);const o=function ua(e){return ue(e)?ki(void 0,e.useValue):ki(tl(e),Eo)}(n);if(!Ln(n)&&!0===n.multi){let c=this.records.get(r);c||(c=ki(void 0,Eo,!0),c.factory=()=>qi(c.multi),this.records.set(r,c)),r=n,c.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=te(null);try{return r.value===Eo&&(r.value=Qo,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Ba(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{te(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=De(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ic(e){const n=ni(e),r=null!==n?n.factory:Un(e);if(null!==r)return r;if(e instanceof me)throw new Qt(204,!1);if(e instanceof Function)return function la(e){if(e.length>0)throw new Qt(204,!1);const r=function Ds(e){return e&&(e[Qi]||e[Mr])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Qt(204,!1)}function tl(e,n,r){let o;if(Ln(e)){const c=De(e);return Un(c)||Ic(c)}if(ue(e))o=()=>De(e.useValue);else if(function mn(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...qi(e.deps||[]));else if(function ke(e){return!(!e||!e.useExisting)}(e))o=()=>hi(De(e.useExisting));else{const c=De(e&&(e.useClass||e.provide));if(!function Ua(e){return!!e.deps}(e))return Un(c)||Ic(c);o=()=>new c(...qi(e.deps))}return o}function Aa(e){if(e.destroyed)throw new Qt(205,!1)}function ki(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function ha(e,n){for(const r of e)Array.isArray(r)?ha(r,n):r&&zn(r)?ha(r.\u0275providers,n):n(r)}function Ao(e,n){e instanceof Bi&&Aa(e);const o=Wi(e),c=dr(void 0);try{return n()}finally{Wi(o),dr(c)}}function nc(){return void 0!==gn()||null!=function aa(){return oa}()}function qr(e){if(!nc())throw new Qt(-203,!1)}const Yt=0,Ye=1,xn=2,$t=3,at=4,Ot=5,Ur=6,Uo=7,wi=8,as=9,Bo=10,lr=11,jo=12,Ha=13,pa=14,ci=15,rc=16,Xr=17,Pn=18,Io=19,nl=20,N=21,q=22,U=23,W=24,ve=25,nt=1,je=6,un=7,kr=9,er=10;var Yn=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Yn||{});function fr(e){return Array.isArray(e)&&"object"==typeof e[nt]}function qn(e){return Array.isArray(e)&&!0===e[nt]}function Mi(e){return!!(4&e.flags)}function Gs(e){return e.componentOffset>-1}function Li(e){return!(1&~e.flags)}function vs(e){return!!e.template}function go(e){return!!(512&e[xn])}function mo(e){return!(256&~e[xn])}class Cl{previousValue;currentValue;firstChange;constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function bs(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}const il=(()=>{const e=()=>ya;return e.ngInherit=!0,e})();function ya(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tc),Ri}function Ri(){const e=Ka(this),n=e?.current;if(n){const r=e.previous;if(r===Dr)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Tc(e,n,r,o,c){const d=this.declaredInputs[o],m=Ka(e)||function dc(e,n){return e[Ro]=n}(e,{previous:Dr,current:null}),T=m.current||(m.current={}),M=m.previous,j=M[d];T[d]=new Cl(j&&j.currentValue,r,M===Dr),bs(e,n,c,r)}const Ro="__ngSimpleChanges__";function Ka(e){return e[Ro]||null}const zs=function(e,n,r){},As="svg";function wr(e){for(;Array.isArray(e);)e=e[Yt];return e}function F(e,n){return wr(n[e])}function R(e,n){return wr(n[e.index])}function X(e,n){return e.data[n]}function he(e,n){return e[n]}function Se(e,n){const r=n[e];return fr(r)?r:r[Yt]}function ze(e){return!(128&~e[xn])}function An(e,n){return null==n?null:e[n]}function Ir(e){e[Xr]=0}function _i(e){1024&e[xn]||(e[xn]|=1024,ze(e)&&cs(e))}function yo(e,n){for(;e>0;)n=n[pa],e--;return n}function Ls(e){return!!(9216&e[xn]||e[W]?.dirty)}function Vs(e){e[Bo].changeDetectionScheduler?.notify(9),64&e[xn]&&(e[xn]|=1024),Ls(e)&&cs(e)}function cs(e){e[Bo].changeDetectionScheduler?.notify(0);let n=pr(e);for(;null!==n&&!(8192&n[xn])&&(n[xn]|=8192,ze(n));)n=pr(n)}function Wo(e,n){if(!(256&~e[xn]))throw new Qt(911,!1);null===e[N]&&(e[N]=[]),e[N].push(n)}function Sc(e,n){if(null===e[N])return;const r=e[N].indexOf(n);-1!==r&&e[N].splice(r,1)}function pr(e){const n=e[$t];return qn(n)?n[$t]:n}const yn={lFrame:Kc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let jc=!1;function $c(){return yn.bindingsEnabled}function Hc(){return null!==yn.skipHydrationRootTNode}function Wc(){yn.bindingsEnabled=!0}function ol(){yn.bindingsEnabled=!1}function Et(){return yn.lFrame.lView}function yr(){return yn.lFrame.tView}function sc(e){return yn.lFrame.contextLView=e,e[wi]}function Hl(e){return yn.lFrame.contextLView=null,e}function kn(){let e=fc();for(;null!==e&&64===e.type;)e=e.parent;return e}function fc(){return yn.lFrame.currentTNode}function Kr(e,n){const r=yn.lFrame;r.currentTNode=e,r.isParent=n}function bc(){return yn.lFrame.isParent}function Ms(){yn.lFrame.isParent=!1}function al(){return jc}function Oo(e){const n=jc;return jc=e,n}function Es(){const e=yn.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Rs(){return yn.lFrame.bindingIndex}function Go(){return yn.lFrame.bindingIndex++}function va(e){const n=yn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function su(e,n){const r=yn.lFrame;r.bindingIndex=r.bindingRootIndex=e,Dl(n)}function Dl(e){yn.lFrame.currentDirectiveIndex=e}function wl(e){const n=yn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Ac(){return yn.lFrame.currentQueryIndex}function ll(e){yn.lFrame.currentQueryIndex=e}function Mc(e){const n=e[Ye];return 2===n.type?n.declTNode:1===n.type?e[Ot]:null}function Qs(e,n,r){if(r&bn.SkipSelf){let c=n,d=e;for(;!(c=c.parent,null!==c||r&bn.Host||(c=Mc(d),null===c||(d=d[pa],10&c.type))););if(null===c)return!1;n=c,e=d}const o=yn.lFrame=ul();return o.currentTNode=n,o.lView=e,!0}function Rc(e){const n=ul(),r=e[Ye];yn.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function ul(){const e=yn.lFrame,n=null===e?null:e.child;return null===n?Kc(e):n}function Kc(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Tl(){const e=yn.lFrame;return yn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zc=Tl;function Qc(){const e=Tl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function so(){return yn.lFrame.selectedIndex}function Oc(e){yn.lFrame.selectedIndex=e}function Ci(){const e=yn.lFrame;return X(e.tView,e.selectedIndex)}function Sl(){yn.lFrame.currentNamespace=As}function dl(){!function au(){yn.lFrame.currentNamespace=null}()}let hl=!0;function _a(){return hl}function Os(e){hl=e}function Ea(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:T,ngAfterViewInit:M,ngAfterViewChecked:j,ngOnDestroy:J}=d;m&&(e.contentHooks??=[]).push(-r,m),T&&((e.contentHooks??=[]).push(r,T),(e.contentCheckHooks??=[]).push(r,T)),M&&(e.viewHooks??=[]).push(-r,M),j&&((e.viewHooks??=[]).push(r,j),(e.viewCheckHooks??=[]).push(r,j)),null!=J&&(e.destroyHooks??=[]).push(r,J)}}function qc(e,n,r){xc(e,n,3,r)}function Na(e,n,r,o){(3&e[xn])===r&&xc(e,n,r,o)}function bl(e,n){let r=e[xn];(3&r)===n&&(r&=16383,r+=1,e[xn]=r)}function xc(e,n,r,o){const d=o??-1,m=n.length-1;let T=0;for(let M=void 0!==o?65535&e[Xr]:0;M<m;M++)if("number"==typeof n[M+1]){if(T=n[M],null!=o&&T>=o)break}else n[M]<0&&(e[Xr]+=65536),(T<d||-1==d)&&(x(e,r,n,M),e[Xr]=(4294901760&e[Xr])+M+2),M++}function fl(e,n){zs(4,e,n);const r=te(null);try{n.call(e)}finally{te(r),zs(5,e,n)}}function x(e,n,r,o){const c=r[o]<0,d=r[o+1],T=e[c?-r[o]:r[o]];c?e[xn]>>14<e[Xr]>>16&&(3&e[xn])===n&&(e[xn]+=16384,fl(T,d)):fl(T,d)}const v=-1;class I{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,r,o){this.factory=n,this.canSeeViewProviders=r,this.injectImpl=o}}function pi(e,n,r){let o=0;for(;o<r.length;){const c=r[o];if("number"==typeof c){if(0!==c)break;o++;const d=r[o++],m=r[o++],T=r[o++];e.setAttribute(n,m,T,d)}else{const d=c,m=r[++o];Oa(d)?e.setProperty(n,d,m):e.setAttribute(n,d,m),o++}}return o}function Ia(e){return 3===e||4===e||6===e}function Oa(e){return 64===e.charCodeAt(0)}function xa(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?r=c:0===r||Xc(e,r,c,null,-1===r||2===r?n[++o]:null)}}return e}function Xc(e,n,r,o,c){let d=0,m=e.length;if(-1===n)m=-1;else for(;d<e.length;){const T=e[d++];if("number"==typeof T){if(T===n){m=-1;break}if(T>n){m=d-1;break}}}for(;d<e.length;){const T=e[d];if("number"==typeof T)break;if(T===r){if(null===o)return void(null!==c&&(e[d+1]=c));if(o===e[d+1])return void(e[d+2]=c)}d++,null!==o&&d++,null!==c&&d++}-1!==m&&(e.splice(m,0,n),d=m+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==c&&e.splice(d++,0,c)}const Is={};class qa{injector;parentInjector;constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=is(o);const c=this.injector.get(n,Is,o);return c!==Is||r===Is?c:this.parentInjector.get(n,r,o)}}function Ti(e){return e!==v}function Or(e){return 32767&e}function ea(e,n){let r=function Jo(e){return e>>16}(e),o=n;for(;r>0;)o=o[pa],r--;return o}let Al=!0;function ls(e){const n=Al;return Al=e,n}const gc=255,Kl=5;let Pa=0;const mc={};function Wu(e,n){const r=Sr(e,n);if(-1!==r)return r;const o=n[Ye];o.firstCreatePass&&(e.injectorIndex=n.length,Gu(o.data,e),Gu(n,null),Gu(o.blueprint,null));const c=Pc(e,n),d=e.injectorIndex;if(Ti(c)){const m=Or(c),T=ea(c,n),M=T[Ye].data;for(let j=0;j<8;j++)n[d+j]=T[m+j]|M[m+j]}return n[d+8]=c,d}function Gu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Sr(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Pc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,c=n;for(;null!==c;){if(o=wd(c),null===o)return v;if(r++,c=c[pa],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return v}function kc(e,n,r){!function Ml(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Di)&&(o=r[Di]),null==o&&(o=r[Di]=Pa++);const c=o&gc;n.data[e+(c>>Kl)]|=1<<c}(e,n,r)}function Ql(e,n,r){if(r&bn.Optional||void 0!==e)return e;jr()}function cu(e,n,r,o){if(r&bn.Optional&&void 0===o&&(o=null),!(r&(bn.Self|bn.Host))){const c=e[as],d=dr(void 0);try{return c?c.get(n,o,r&bn.Optional):Ta(n,o,r&bn.Optional)}finally{dr(d)}}return Ql(o,0,r)}function _d(e,n,r,o=bn.Default,c){if(null!==e){if(2048&n[xn]&&!(o&bn.Self)){const m=function uu(e,n,r,o,c){let d=e,m=n;for(;null!==d&&null!==m&&2048&m[xn]&&!(512&m[xn]);){const T=Ed(d,m,r,o|bn.Self,mc);if(T!==mc)return T;let M=d.parent;if(!M){const j=m[nl];if(j){const J=j.get(r,mc,o);if(J!==mc)return J}M=wd(m),m=m[pa]}d=M}return c}(e,n,r,o,mc);if(m!==mc)return m}const d=Ed(e,n,r,o,mc);if(d!==mc)return d}return cu(n,r,o,c)}function Ed(e,n,r,o,c){const d=function ch(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Di)?e[Di]:void 0;return"number"==typeof n?n>=0?n&gc:lh:n}(r);if("function"==typeof d){if(!Qs(n,e,o))return o&bn.Host?Ql(c,0,o):cu(n,r,o,c);try{let m;if(m=d(o),null!=m||o&bn.Optional)return m;jr()}finally{zc()}}else if("number"==typeof d){let m=null,T=Sr(e,n),M=v,j=o&bn.Host?n[ci][Ot]:null;for((-1===T||o&bn.SkipSelf)&&(M=-1===T?Pc(e,n):n[T+8],M!==v&&Dd(o,!1)?(m=n[Ye],T=Or(M),n=ea(M,n)):T=-1);-1!==T;){const J=n[Ye];if(Cd(d,T,J.data)){const pe=Id(T,n,r,m,o,j);if(pe!==mc)return pe}M=n[T+8],M!==v&&Dd(o,n[Ye].data[T+8]===j)&&Cd(d,T,n)?(m=J,T=Or(M),n=ea(M,n)):T=-1}}return c}function Id(e,n,r,o,c,d){const m=n[Ye],T=m.data[e+8],J=yc(T,m,r,null==o?Gs(T)&&Al:o!=m&&!!(3&T.type),c&bn.Host&&d===T);return null!==J?Yc(n,m,J,T):mc}function yc(e,n,r,o,c){const d=e.providerIndexes,m=n.data,T=1048575&d,M=e.directiveStart,J=d>>20,xe=c?T+J:e.directiveEnd;for(let Pe=o?T:T+J;Pe<xe;Pe++){const Xe=m[Pe];if(Pe<M&&r===Xe||Pe>=M&&Xe.type===r)return Pe}if(c){const Pe=m[M];if(Pe&&vs(Pe)&&Pe.type===r)return M}return null}function Yc(e,n,r,o){let c=e[r];const d=n.data;if(function k(e){return e instanceof I}(c)){const m=c;m.resolving&&function Zt(e,n){throw n&&n.join(" > "),new Qt(-200,e)}(function tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ye(e)}(d[r]));const T=ls(m.canSeeViewProviders);m.resolving=!0;const j=m.injectImpl?dr(m.injectImpl):null;Qs(e,o,bn.Default);try{c=e[r]=m.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function oc(e,n,r){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:d}=n.type.prototype;if(o){const m=ya(n);(r.preOrderHooks??=[]).push(e,m),(r.preOrderCheckHooks??=[]).push(e,m)}c&&(r.preOrderHooks??=[]).push(0-e,c),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==j&&dr(j),ls(T),m.resolving=!1,zc()}}return c}function Cd(e,n,r){return!!(r[n+(e>>Kl)]&1<<e)}function Dd(e,n){return!(e&bn.Self||e&bn.Host&&n)}class xs{_tNode;_lView;constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return _d(this._tNode,this._lView,n,is(o),r)}}function lh(){return new xs(kn(),Et())}function uh(e){return Ki(()=>{const n=e.prototype.constructor,r=n[ri]||qs(n),o=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==o;){const d=c[ri]||qs(c);if(d&&d!==r)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function qs(e){return Oe(e)?()=>{const n=qs(De(e));return n&&n()}:Un(e)}function wd(e){const n=e[Ye],r=n.type;return 2===r?n.declTNode:1===r?e[Ot]:null}function pl(e){return function zl(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let c=0;for(;c<o;){const d=r[c];if(Ia(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<o&&"string"==typeof r[c];)c++;else{if(d===n)return r[c+1];c+=2}}}return null}(kn(),e)}function $(e,n=null,r=null,o){const c=oe(e,n,r,o);return c.resolveInjectorInitializers(),c}function oe(e,n=null,r=null,o,c=new Set){const d=[r||hr,to(e)];return o=o||("object"==typeof e?void 0:or(e)),new Bi(d,n||qo(),o||null,c)}class Ie{static THROW_IF_NOT_FOUND=ks;static NULL=new Va;static create(n,r){if(Array.isArray(n))return $({name:""},r,n,"");{const o=n.name??"";return $({name:o},n.parent,n.providers,o)}}static \u0275prov=hn({token:Ie,providedIn:"any",factory:()=>hi(ho)});static __NG_ELEMENT_ID__=-1}new me("").__NG_ELEMENT_ID__=e=>{const n=kn();if(null===n)throw new Qt(204,!1);if(2&n.type)return n.value;if(e&bn.Optional)return null;throw new Qt(204,!1)};const Ft=!1;let Dt=(()=>class e{static __NG_ELEMENT_ID__=Nn;static __NG_ENV_ID__=r=>r})();class vn extends Dt{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Wo(this._lView,n),()=>Sc(this._lView,n)}}function Nn(){return new vn(Et())}class Ht{}const Kt=new me("",{providedIn:"root",factory:()=>!1}),$r=new me(""),Ar=new me("");let Ei=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new In.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=hn({token:e,providedIn:"root",factory:()=>new e})}return e})();const Yr=class Gi extends ir.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,nc()&&(this.destroyRef=dn(Dt,{optional:!0})??void 0,this.pendingTasks=dn(Ei,{optional:!0})??void 0)}emit(n){const r=te(null);try{super.next(n)}finally{te(r)}}subscribe(n,r,o){let c=n,d=r||(()=>null),m=o;if(n&&"object"==typeof n){const M=n;c=M.next?.bind(M),d=M.error?.bind(M),m=M.complete?.bind(M)}this.__isAsync&&(d=this.wrapInTimeout(d),c&&(c=this.wrapInTimeout(c)),m&&(m=this.wrapInTimeout(m)));const T=super.subscribe({next:c,error:d,complete:m});return n instanceof vr.yU&&n.add(T),T}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function ns(...e){}function us(e){let n,r;function o(){e=ns;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function f(e){return queueMicrotask(()=>e()),()=>{e=ns}}const h="isAngularZone",_=h+"_ID";let O=0;class B{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Yr(!1);onMicrotaskEmpty=new Yr(!1);onStable=new Yr(!1);onError=new Yr(!1);constructor(n){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:d=Ft}=n;if(typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!c&&o,m.shouldCoalesceRunChangeDetection=c,m.callbackScheduled=!1,m.scheduleInRootZone=d,function Ne(e){const n=()=>{!function Ce(e){function n(){us(()=>{e.callbackScheduled=!1,ot(e),e.isCheckStableRunning=!0,ae(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),ot(e))}(e)},r=O++;e._inner=e._inner.fork({name:"angular",properties:{[h]:!0,[_]:r,[_+r]:!0},onInvokeTask:(o,c,d,m,T,M)=>{if(function Vn(e){return Co(e,"__ignore_ng_zone__")}(M))return o.invokeTask(d,m,T,M);try{return Ct(e),o.invokeTask(d,m,T,M)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&n(),kt(e)}},onInvoke:(o,c,d,m,T,M,j)=>{try{return Ct(e),o.invoke(d,m,T,M,j)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function ur(e){return Co(e,"__scheduler_tick__")}(M)&&n(),kt(e)}},onHasTask:(o,c,d,m)=>{o.hasTask(d,m),c===d&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,ot(e),ae(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,c,d,m)=>(o.handleError(d,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(h)}static assertInAngularZone(){if(!B.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(B.isInAngularZone())throw new Qt(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,n,Q,ns,ns);try{return d.runTask(m,r,o)}finally{d.cancelTask(m)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const Q={};function ae(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ot(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Ct(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kt(e){e._nesting--,ae(e)}class fn{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Yr;onMicrotaskEmpty=new Yr;onStable=new Yr;onError=new Yr;run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,c){return n.apply(r,o)}}function Co(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Lr{_console=console;handleError(n){this._console.error("ERROR",n)}}const vc=new me("",{providedIn:"root",factory:()=>{const e=dn(B),n=dn(Lr);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function kp(e,n){return Wn(e,n)}const ey=(kp.required=function Zv(e){return Wn(ei,e)},kp);function df(){return yl(kn(),Et())}function yl(e,n){return new Ol(R(e,n))}let Ol=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=df})();function bu(e){return e instanceof Ol?e.nativeElement:e}function ph(){return this._results[Symbol.iterator]()}class Fp{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ir.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function fi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function So(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let c=e[o],d=n[o];if(r&&(c=r(c),d=r(d)),d!==c)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ph}function gh(e){return!(128&~e.flags)}var Xu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xu||{});const Au=new Map;let Yu=0;function Bp(e){Au.delete(e[Io])}const ff="__ngContext__";function ka(e,n){fr(n)?(e[ff]=n[Io],function ty(e){Au.set(e[Io],e)}(n)):e[ff]=n}function Sd(e){return Kp(e[jo])}function Gp(e){return Kp(e[at])}function Kp(e){for(;null!==e&&!qn(e);)e=e[at];return e}let Xp;function vf(e){Xp=e}function xl(){if(void 0!==Xp)return Xp;if(typeof document<"u")return document;throw new Qt(210,!1)}const Ch=new me("",{providedIn:"root",factory:()=>ly}),ly="ng",Yp=new me(""),_f=new me("",{providedIn:"platform",factory:()=>"unknown"}),Dh=new me(""),uy=new me("",{providedIn:"root",factory:()=>xl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),td="di",nd="s",rg=new me("",{providedIn:"root",factory:()=>!1}),hy=new me("");var og=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(og||{});const Xl=new me(""),rd=new Set;function ra(e){rd.has(e)||(rd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Tf(e,n){if(null!==Y())throw new Qt(-602,!1)}var id=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(id||{});let Sf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=hn({token:e,providedIn:"root",factory:()=>new e})}return e})();const ag=[id.EarlyRead,id.Write,id.MixedReadWrite,id.Read];let fy=(()=>{class e{ngZone=dn(B);scheduler=dn(Ht);errorHandler=dn(Lr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){dn(Xl,{optional:!0})}execute(){this.executing=!0;for(const r of ag)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>o.hooks[r](o.pipelinedValue),o.snapshot))}catch(c){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(7))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(og.AFTER_NEXT_RENDER,r):r()}static \u0275prov=hn({token:e,providedIn:"root",factory:()=>new e})}return e})();class bf{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,r,o,c,d=null){this.impl=n,this.hooks=r,this.once=o,this.snapshot=d,this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function sd(e,n){!n?.injector&&qr();const r=n?.injector??dn(Ie);return ra("NgAfterNextRender"),function cg(e,n,r,o){const c=n.get(Sf);c.impl??=n.get(fy);const d=n.get(Xl,null,{optional:!0}),m=r?.phase??id.MixedReadWrite,T=!0!==r?.manualCleanup?n.get(Dt):null,M=new bf(c.impl,function py(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,m),o,T,d?.snapshot(null));return c.impl.register(M),M}(e,r,n,!0)}var vo=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(vo||{});const Od=0,Af=1;var oo=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(oo||{}),od=function(e){return e[e.Initial=-1]="Initial",e}(od||{});const Ou=0,xu=1,bh=2,Ah=3,l_=4,u_=5,Mf=6,my=7,hu=8,Mh=9;var Rf=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(Rf||{});function xd(e,n,r){const o=vy(e);null===n[o]&&(n[o]=[]),n[o].push(r)}function Nf(e,n){const r=vy(e),o=n[r];if(null!==o){for(const c of o)c();n[r]=null}}function yy(e){Nf(1,e),Nf(0,e),Nf(2,e)}function vy(e){let n=l_;return 1===e?n=u_:2===e&&(n=Mh),n}function Rh(e){return e+1}function _c(e,n){return e[Rh(n.index)]}function Za(e,n){const r=Rh(n.index);return e.data[r]}function Pu(e,n){return n===oo.Placeholder?e.placeholderBlockConfig?.[Od]??null:n===oo.Loading?e.loadingBlockConfig?.[Od]??null:null}function Of(e){return e.loadingBlockConfig?.[Af]??null}function Oh(e,n){if(!e||0===e.length)return n;const r=new Set(e);for(const o of n)r.add(o);return e.length===r.size?e:Array.from(r)}const kd=new WeakMap;let ku=null,hg=0;class Ph{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}function Ff(e,n,r){const o=r.get(B);let c=kd.get(e);return ku=ku||o.runOutsideAngular(()=>new IntersectionObserver(d=>{for(const m of d)m.isIntersecting&&kd.has(m.target)&&o.run(kd.get(m.target).listener)})),c||(c=new Ph,o.runOutsideAngular(()=>ku.observe(e)),kd.set(e,c),hg++),c.callbacks.add(n),()=>{kd.has(e)&&(c.callbacks.delete(n),0===c.callbacks.size&&(ku?.unobserve(e),kd.delete(e),hg--),0===hg&&(ku?.disconnect(),ku=null))}}const ad=new me("");let Bf=()=>null;function jf(e,n,r=!1){return Bf(e,n,r)}var Zl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zl||{});let Gf,Wd;function Bh(){if(void 0===Gf&&(Gf=null,Mn.trustedTypes))try{Gf=Mn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Gf}function Lu(e){return Bh()?.createHTML(e)||e}function bg(){if(void 0===Wd&&(Wd=null,Mn.trustedTypes))try{Wd=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wd}function Kf(e){return bg()?.createHTML(e)||e}function zf(e){return bg()?.createScriptURL(e)||e}class dd{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cs})`}}class Ag extends dd{getTypeName(){return"HTML"}}class b_ extends dd{getTypeName(){return"Style"}}class A_ extends dd{getTypeName(){return"Script"}}class Mg extends dd{getTypeName(){return"URL"}}class M_ extends dd{getTypeName(){return"ResourceURL"}}function Fl(e){return e instanceof dd?e.changingThisBreaksApplicationSecurity:e}function Gd(e,n){const r=function Rg(e){return e instanceof dd&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Cs})`)}return r===n}function R_(e){return new Ag(e)}function Ng(e){return new b_(e)}function Sy(e){return new A_(e)}function Og(e){return new Mg(e)}function by(e){return new M_(e)}class N_{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Lu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class xg{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Lu(n),r}}const Pg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kd(e){return(e=String(e)).match(Pg)?e:"unsafe:"+e}function Ll(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function jh(...e){const n={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const kg=Ll("area,br,col,hr,img,wbr"),Fg=Ll("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),My=Ll("rp,rt"),Qf=jh(kg,jh(Fg,Ll("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jh(My,Ll("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jh(My,Fg)),qf=Ll("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vg=jh(qf,Ll("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ll("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Oy=Ll("script,style,template");class xy{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let r=n.firstChild,o=!0,c=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)c.push(r),r=Ko(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=x_(r);if(d){r=d;break}r=c.pop()}return this.buf.join("")}startElement(n){const r=Fa(n).toLowerCase();if(!Qf.hasOwnProperty(r))return this.sanitizedSomething=!0,!Oy.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let c=0;c<o.length;c++){const d=o.item(c),m=d.name,T=m.toLowerCase();if(!Vg.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let M=d.value;qf[T]&&(M=Kd(M)),this.buf.push(" ",m,'="',Ug(M),'"')}return this.buf.push(">"),!0}endElement(n){const r=Fa(n).toLowerCase();Qf.hasOwnProperty(r)&&!kg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Ug(n))}}function x_(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw Vl(n);return n}function Ko(e){const n=e.firstChild;if(n&&function $h(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw Vl(n);return n}function Fa(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function Vl(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const P_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sI=/([^\#-~ |!])/g;function Ug(e){return e.replace(/&/g,"&amp;").replace(P_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(sI,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bg;function jg(e,n){let r=null;try{Bg=Bg||function Ay(e){const n=new xg(e);return function O_(){try{return!!(new window.DOMParser).parseFromString(Lu(""),"text/html")}catch{return!1}}()?new N_(n):n}(e);let o=n?String(n):"";r=Bg.getInertBodyElement(o);let c=5,d=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=d,d=r.innerHTML,r=Bg.getInertBodyElement(o)}while(o!==d);return Lu((new xy).sanitizeChildren(Xf(r)||r))}finally{if(r){const o=Xf(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function Xf(e){return"content"in e&&function Yf(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(hd||{});function k_(e){const n=fd();return n?Kf(n.sanitize(hd.HTML,e)||""):Gd(e,"HTML")?Kf(Fl(e)):jg(xl(),ye(e))}function $g(e){const n=fd();return n?n.sanitize(hd.URL,e)||"":Gd(e,"URL")?Fl(e):Kd(ye(e))}function Hg(e){const n=fd();if(n)return zf(n.sanitize(hd.RESOURCE_URL,e)||"");if(Gd(e,"ResourceURL"))return zf(Fl(e));throw new Qt(904,!1)}function Wg(e){return function Hd(e){return Bh()?.createScriptURL(e)||e}(e[0])}function Kg(e,n,r){return function Gg(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Hg:$g}(n,r)(e)}function fd(){const e=Et();return e&&e[Bo].sanitizer}const Zf=/^>|^->|<!--|-->|--!>|<!-$/g,zg=/(<|>)/g;function zo(e){return e.ownerDocument.defaultView}function tm(e){return e.ownerDocument}function Fc(e){return e instanceof Function?e():e}var Lc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Lc||{}),eu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(eu||{});let By;function pu(e,n){return By(e,n)}function Qd(e,n,r,o,c){if(null!=o){let d,m=!1;qn(o)?d=o:fr(o)&&(m=!0,o=o[Yt]);const T=wr(o);0===e&&null!==r?null==c?np(n,r,T):Vu(n,r,T,c||null,!0):1===e&&null!==r?Vu(n,r,T,c||null,!0):2===e?function yu(e,n,r){e.removeChild(null,n,r)}(n,T,m):3===e&&n.destroyNode(T),null!=d&&function Q_(e,n,r,o,c){const d=r[un];d!==wr(r)&&Qd(n,e,o,d,c);for(let T=er;T<r.length;T++){const M=r[T];hm(M[Ye],M,e,n,o,d)}}(n,e,d,r,c)}}function ep(e,n){return e.createComment(function Hh(e){return e.replace(Zf,n=>n.replace(zg,"\u200b$1\u200b"))}(n))}function pd(e,n,r){return e.createElement(n,r)}function Gh(e,n){n[Bo].changeDetectionScheduler?.notify(10),hm(e,n,n[lr],2,null,null)}function tp(e,n){const r=e[kr],o=n[$t];(fr(o)||n[ci]!==o[$t][ci])&&(e[xn]|=Yn.HasTransplantedViews),null===r?e[kr]=[n]:r.push(n)}function sm(e,n){const r=e[kr],o=r.indexOf(n);r.splice(o,1)}function zh(e,n){if(e.length<=er)return;const r=er+n,o=e[r];if(o){const c=o[rc];null!==c&&c!==e&&sm(c,o),n>0&&(e[r-1][at]=o[at]);const d=Po(e,er+n);!function jy(e,n){Gh(e,n),n[Yt]=null,n[Ot]=null}(o[Ye],o);const m=d[Pn];null!==m&&m.detachView(d[Ye]),o[$t]=null,o[at]=null,o[xn]&=-129}return o}function Qh(e,n){if(!(256&n[xn])){const r=n[lr];r.destroyNode&&hm(e,n,r,3,null,null),function Kh(e){let n=e[jo];if(!n)return qh(e[Ye],e);for(;n;){let r=null;if(fr(n))r=n[jo];else{const o=n[er];o&&(r=o)}if(!r){for(;n&&!n[at]&&n!==e;)fr(n)&&qh(n[Ye],n),n=n[$t];null===n&&(n=e),fr(n)&&qh(n[Ye],n),r=n&&n[at]}n=r}}(n)}}function qh(e,n){if(256&n[xn])return;const r=te(null);try{n[xn]&=-129,n[xn]|=256,n[W]&&qe(n[W]),function Hy(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const c=n[r[o]];if(!(c instanceof I)){const d=r[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const T=c[d[m]],M=d[m+1];zs(4,T,M);try{M.call(T)}finally{zs(5,T,M)}}else{zs(4,c,d);try{d.call(c)}finally{zs(5,c,d)}}}}}(e,n),function om(e,n){const r=e.cleanup,o=n[Uo];if(null!==r)for(let m=0;m<r.length-1;m+=2)if("string"==typeof r[m]){const T=r[m+3];T>=0?o[T]():o[-T].unsubscribe(),m+=2}else r[m].call(o[r[m+1]]);null!==o&&(n[Uo]=null);const c=n[N];if(null!==c){n[N]=null;for(let m=0;m<c.length;m++)(0,c[m])()}const d=n[U];if(null!==d){n[U]=null;for(const m of d)m.destroy()}}(e,n),1===n[Ye].type&&n[lr].destroy();const o=n[rc];if(null!==o&&qn(n[$t])){o!==n[$t]&&sm(o,n);const c=n[Pn];null!==c&&c.detachView(e)}Bp(n)}finally{te(r)}}function gu(e,n,r){return function am(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[Yt];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:d}=e.data[o.directiveStart+c];if(d===Zl.None||d===Zl.Emulated)return null}return R(o,r)}}(e,n.parent,r)}function Vu(e,n,r,o,c){e.insertBefore(n,r,o,c)}function np(e,n,r){e.appendChild(n,r)}function rp(e,n,r,o,c){null!==o?Vu(e,n,r,o,c):np(e,n,r)}function cm(e,n){return e.parentNode(n)}function Xh(e,n,r){return qd(e,n,r)}let um,qd=function lm(e,n,r){return 40&e.type?R(e,r):null};function Zh(e,n,r,o){const c=gu(e,o,n),d=n[lr],T=Xh(o.parent||n[Ot],o,n);if(null!=c)if(Array.isArray(r))for(let M=0;M<r.length;M++)rp(d,c,r[M],T,!1);else rp(d,c,r,T,!1);void 0!==um&&um(d,o,n,r,c)}function mu(e,n){if(null!==n){const r=n.type;if(3&r)return R(n,e);if(4&r)return dm(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return mu(e,o);{const c=e[n.index];return qn(c)?dm(-1,c):wr(c)}}if(128&r)return mu(e,n.next);if(32&r)return pu(n,e)()||wr(e[n.index]);{const o=Xd(e,n);return null!==o?Array.isArray(o)?o[0]:mu(pr(e[ci]),o):mu(e,n.next)}}return null}function Xd(e,n){return null!==n?e[ci][Ot].projection[n.projection]:null}function dm(e,n){const r=er+e+1;if(r<n.length){const o=n[r],c=o[Ye].firstChild;if(null!==c)return mu(o,c)}return n[un]}function Uu(e,n,r,o,c,d,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const T=o[r.index],M=r.type;if(m&&0===n&&(T&&ka(wr(T),o),r.flags|=2),32&~r.flags)if(8&M)Uu(e,n,r.child,o,c,d,!1),Qd(n,e,c,T,d);else if(32&M){const j=pu(r,o);let J;for(;J=j();)Qd(n,e,c,J,d);Qd(n,e,c,T,d)}else 16&M?sp(e,n,o,r,c,d):Qd(n,e,c,T,d);r=m?r.projectionNext:r.next}}function hm(e,n,r,o,c,d){Uu(r,o,e.firstChild,n,c,d,!1)}function sp(e,n,r,o,c,d){const m=r[ci],M=m[Ot].projection[o.projection];if(Array.isArray(M))for(let j=0;j<M.length;j++)Qd(n,e,c,M[j],d);else{let j=M;const J=m[$t];gh(o)&&(j.flags|=128),Uu(e,n,j,J,c,d,!0)}}function X_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function Jh(e,n,r){const{mergedAttrs:o,classes:c,styles:d}=r;null!==o&&pi(e,n,o),null!==c&&X_(e,n,c),null!==d&&function q_(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}function fI(e,n,r){let o=e.length;for(;;){const c=e.indexOf(n,r);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const d=n.length;if(c+d===o||e.charCodeAt(c+d)<=32)return c}r=c+1}}const Wy="ng-template";function ap(e,n,r,o){let c=0;if(o){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==fI(n[c+1].toLowerCase(),r,0))return!0}else if(fm(e))return!1;if(c=n.indexOf(1,c),c>-1){let d;for(;++c<n.length&&"string"==typeof(d=n[c]);)if(d.toLowerCase()===r)return!0}return!1}function fm(e){return 4===e.type&&e.value!==Wy}function pI(e,n,r){return n===(4!==e.type||r?e.value:Wy)}function Gy(e,n,r){let o=4;const c=e.attrs,d=null!==c?function Qy(e){for(let n=0;n<e.length;n++)if(Ia(e[n]))return n;return e.length}(c):0;let m=!1;for(let T=0;T<n.length;T++){const M=n[T];if("number"!=typeof M){if(!m)if(4&o){if(o=2|1&o,""!==M&&!pI(e,M,r)||""===M&&1===n.length){if(vl(o))return!1;m=!0}}else if(8&o){if(null===c||!ap(e,c,M,r)){if(vl(o))return!1;m=!0}}else{const j=n[++T],J=Ky(M,c,fm(e),r);if(-1===J){if(vl(o))return!1;m=!0;continue}if(""!==j){let pe;if(pe=J>d?"":c[J+1].toLowerCase(),2&o&&j!==pe){if(vl(o))return!1;m=!0}}}}else{if(!m&&!vl(o)&&!vl(M))return!1;if(m&&vl(M))continue;m=!1,o=M|1&o}}return vl(o)||m}function vl(e){return!(1&e)}function Ky(e,n,r,o){if(null===n)return-1;let c=0;if(o||!r){let d=!1;for(;c<n.length;){const m=n[c];if(m===e)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let T=n[++c];for(;"string"==typeof T;)T=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function qy(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function pm(e,n,r=!1){for(let o=0;o<n.length;o++)if(Gy(e,n[o],r))return!0;return!1}function cp(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let c=0;c<e.length;c++)if(e[c]!==o[c])continue e;return!0}}return!1}function Xy(e,n){return e?":not("+n.trim()+")":n}function md(e){let n=e[0],r=1,o=2,c="",d=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const T=e[++r];c+="["+m+(T.length>0?'="'+T+'"':"")+"]"}else 8&o?c+="."+m:4&o&&(c+=" "+m);else""!==c&&!vl(m)&&(n+=Xy(d,c),c=""),o=m,d=d||!vl(o);r++}return""!==c&&(n+=Xy(d,c)),n}const Rr={};function Yy(e=1){Y_(yr(),Et(),so()+e,!1)}function Y_(e,n,r,o){if(!o)if(3&~n[xn]){const d=e.preOrderHooks;null!==d&&Na(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&qc(n,d,r)}Oc(r)}function Zd(e,n=bn.Default){const r=Et();return null===r?hi(e,n):_d(kn(),r,De(e),n)}function vu(){throw new Error("invalid")}function Zy(e,n,r,o,c,d){const m=te(null);try{let T=null;c&Lc.SignalBased&&(T=n[o][ie]),null!==T&&void 0!==T.transformFn&&(d=T.transformFn(d)),c&Lc.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,T,d,r,o):bs(n,T,o,d)}finally{te(m)}}function ef(e,n,r,o,c,d,m,T,M,j,J){const pe=n.blueprint.slice();return pe[Yt]=c,pe[xn]=1228|o,(null!==j||e&&2048&e[xn])&&(pe[xn]|=2048),Ir(pe),pe[$t]=pe[pa]=e,pe[wi]=r,pe[Bo]=m||e&&e[Bo],pe[lr]=T||e&&e[lr],pe[as]=M||e&&e[as]||null,pe[Ot]=d,pe[Io]=function Jv(){return Yu++}(),pe[Ur]=J,pe[nl]=j,pe[ci]=2==n.type?e[ci]:pe,pe}function Jd(e,n,r,o,c){let d=e.data[n];if(null===d)d=function Jy(e,n,r,o,c){const d=fc(),m=bc(),M=e.data[n]=function vI(e,n,r,o,c,d){let m=n?n.injectorIndex:-1,T=0;return Hc()&&(T|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,r,n,o,c);return null===e.firstChild&&(e.firstChild=M),null!==d&&(m?null==d.child&&null!==M.parent&&(d.child=M):null===d.next&&(d.next=M,M.prev=d)),M}(e,n,r,o,c),function iu(){return yn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=c;const m=function _s(){const e=yn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Kr(d,!0),d}function up(e,n,r,o){if(0===r)return-1;const c=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return c}function ev(e,n,r,o,c){const d=so(),m=2&o;try{Oc(-1),m&&n.length>ve&&Y_(e,n,ve,!1),zs(m?2:0,c),r(o,c)}finally{Oc(d),zs(m?3:1,c)}}function gm(e,n,r){if(Mi(n)){const o=te(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const T=e.data[m];T.contentQueries&&T.contentQueries(1,r[m],m)}}finally{te(o)}}}function mm(e,n,r){$c()&&(function l(e,n,r,o){const c=r.directiveStart,d=r.directiveEnd;Gs(r)&&function en(e,n,r){const o=R(n,e),c=tv(r),d=e[Bo].rendererFactory,m=hs(e,ef(e,c,null,Ut(r),o,n,null,d.createRenderer(o,r),null,null,null));e[n.index]=m}(n,r,e.data[c+r.componentOffset]),e.firstCreatePass||Wu(r,n),ka(o,n);const m=r.initialInputs;for(let T=c;T<d;T++){const M=e.data[T],j=Yc(n,e,T,r);ka(j,n),null!==m&&Ys(0,T-c,j,M,0,m),vs(M)&&(Se(r.index,n)[wi]=Yc(n,e,T,r))}}(e,n,r,R(r,n)),!(64&~r.flags)&&g(e,n,r))}function ym(e,n,r=R){const o=n.localNames;if(null!==o){let c=n.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],T=-1===m?r(n,e):e[m];e[c++]=T}}}function tv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=yd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function yd(e,n,r,o,c,d,m,T,M,j,J){const pe=ve+o,xe=pe+c,Pe=function vm(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Rr);return r}(pe,xe),Xe="function"==typeof j?j():j;return Pe[Ye]={type:e,blueprint:Pe,template:r,queries:null,viewQuery:T,declTNode:n,data:Pe.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:M,consts:Xe,incompleteFirstPass:!1,ssrId:J}}let nv=()=>null;function eE(e,n,r,o,c){for(let d in n){if(!n.hasOwnProperty(d))continue;const m=n[d];if(void 0===m)continue;o??={};let T,M=Lc.None;Array.isArray(m)?(T=m[0],M=m[1]):T=m;let j=d;if(null!==c){if(!c.hasOwnProperty(d))continue;j=c[d]}0===e?rv(o,r,j,T,M):rv(o,r,j,T)}return o}function rv(e,n,r,o,c){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==c&&d.push(c)}function Jc(e,n,r,o,c,d,m,T){const M=R(n,r);let J,j=n.inputs;!T&&null!=j&&(J=j[o])?(nE(e,r,J,o,c),Gs(n)&&function II(e,n){const r=Se(n,e);16&r[xn]||(r[xn]|=64)}(r,n.index)):3&n.type&&(o=function EI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),c=null!=m?m(c,n.value||"",o):c,d.setProperty(M,o,c))}function s(e,n,r,o){if($c()){const c=null===o?null:{"":-1},d=function P(e,n){const r=e.directiveRegistry;let o=null,c=null;if(r)for(let d=0;d<r.length;d++){const m=r[d];if(pm(n,m.selectors,!1))if(o||(o=[]),vs(m))if(null!==m.findHostDirectiveDefs){const T=[];c=c||new Map,m.findHostDirectiveDefs(m,T,c),o.unshift(...T,m),K(e,n,T.length)}else o.unshift(m),K(e,n,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,o,c),o.push(m)}return null===o?null:[o,c]}(e,r);let m,T;null===d?m=T=null:[m,T]=d,null!==m&&t(e,n,r,m,c,T),c&&function ee(e,n,r){if(n){const o=e.localNames=[];for(let c=0;c<n.length;c+=2){const d=r[n[c+1]];if(null==d)throw new Qt(-301,!1);o.push(n[c],d)}}}(r,o,c)}r.mergedAttrs=xa(r.mergedAttrs,r.attrs)}function t(e,n,r,o,c,d){for(let j=0;j<o.length;j++)kc(Wu(r,n),e,o[j].type);!function Fe(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let j=0;j<o.length;j++){const J=o[j];J.providersResolver&&J.providersResolver(J)}let m=!1,T=!1,M=up(e,n,o.length,null);for(let j=0;j<o.length;j++){const J=o[j];r.mergedAttrs=xa(r.mergedAttrs,J.hostAttrs),ft(e,r,n,M,J),_e(M,J,c),null!==J.contentQueries&&(r.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(r.flags|=64);const pe=J.type.prototype;!m&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),m=!0),!T&&(pe.ngOnChanges||pe.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),T=!0),M++}!function _I(e,n,r){const c=n.directiveEnd,d=e.data,m=n.attrs,T=[];let M=null,j=null;for(let J=n.directiveStart;J<c;J++){const pe=d[J],xe=r?r.get(pe):null,Xe=xe?xe.outputs:null;M=eE(0,pe.inputs,J,M,xe?xe.inputs:null),j=eE(1,pe.outputs,J,j,Xe);const xt=null===M||null===m||fm(n)?null:Do(M,J,m);T.push(xt)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=M,n.outputs=j}(e,r,d)}function g(e,n,r){const o=r.directiveStart,c=r.directiveEnd,d=r.index,m=function cl(){return yn.lFrame.currentDirectiveIndex}();try{Oc(d);for(let T=o;T<c;T++){const M=e.data[T],j=n[T];Dl(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&C(M,j)}}finally{Oc(-1),Dl(m)}}function C(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function K(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function _e(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;vs(n)&&(r[""]=e)}}function ft(e,n,r,o,c){e.data[o]=c;const d=c.factory||(c.factory=Un(c.type)),m=new I(d,vs(c),Zd);e.blueprint[o]=m,r[o]=m,function i(e,n,r,o,c){const d=c.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const T=~n.index;(function a(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=T&&m.push(T),m.push(r,o,d)}}(e,n,o,up(e,r,c.hostVars,Rr),c)}function Ut(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function _n(e,n,r,o,c,d){const m=R(e,n);!function rr(e,n,r,o,c,d,m){if(null==d)e.removeAttribute(n,c,r);else{const T=null==m?ye(d):m(d,o||"",c);e.setAttribute(n,c,T,r)}}(n[lr],m,d,e.value,r,o,c)}function Ys(e,n,r,o,c,d){const m=d[n];if(null!==m)for(let T=0;T<m.length;)Zy(o,r,m[T++],m[T++],m[T++],m[T++])}function Do(e,n,r){let o=null,c=0;for(;c<r.length;){const d=r[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const m=e[d];for(let T=0;T<m.length;T+=3)if(m[T]===n){o.push(d,m[T+1],m[T+2],r[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function ds(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function Da(e,n){const r=e.contentQueries;if(null!==r){const o=te(null);try{for(let c=0;c<r.length;c+=2){const m=r[c+1];if(-1!==m){const T=e.data[m];ll(r[c]),T.contentQueries(2,n[m],m)}}}finally{te(o)}}}function hs(e,n){return e[jo]?e[Ha][at]=n:e[jo]=n,e[Ha]=n,n}function Ji(e,n,r){ll(0);const o=te(null);try{n(e,r)}finally{te(o)}}function eh(e){return e[Uo]??=[]}function DI(e){return e.cleanup??=[]}function wI(e,n,r){return(null===e||vs(e))&&(r=function b(e){for(;Array.isArray(e);){if("object"==typeof e[nt])return e;e=e[Yt]}return null}(r[n.index])),r[lr]}function iv(e,n){const r=e[as],o=r?r.get(Lr,null):null;o&&o.handleError(n)}function nE(e,n,r,o,c){for(let d=0;d<r.length;){const m=r[d++],T=r[d++],M=r[d++];Zy(e.data[m],n[m],o,T,M,c)}}function vd(e,n,r){const o=F(n,e);!function im(e,n,r){e.setValue(n,r)}(e[lr],o,r)}function KS(e,n){const r=Se(n,e),o=r[Ye];!function zS(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const c=r[Yt];null!==c&&null===r[Ur]&&(r[Ur]=jf(c,r[as])),sv(o,r,r[wi])}function sv(e,n,r){Rc(n);try{const o=e.viewQuery;null!==o&&Ji(1,o,r);const c=e.template;null!==c&&ev(e,n,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Pn]?.finishViewCreation(e),e.staticContentQueries&&Da(e,n),e.staticViewQueries&&Ji(2,e.viewQuery,r);const d=e.components;null!==d&&function QS(e,n){for(let r=0;r<n.length;r++)KS(e,n[r])}(n,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[xn]&=-5,Qc()}}function dp(e,n,r,o){const c=te(null);try{const d=n.tView,M=ef(e,d,r,4096&e[xn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);M[rc]=e[n.index];const J=e[Pn];return null!==J&&(M[Pn]=J.createEmbeddedView(d)),sv(d,M,r),M}finally{te(c)}}function TI(e,n){const r=er+n;if(r<e.length)return e[r]}function tf(e,n){return!n||null===n.firstChild||gh(e)}function hp(e,n,r,o=!0){const c=n[Ye];if(function $y(e,n,r,o){const c=er+o,d=r.length;o>0&&(r[c-1][at]=n),o<d-er?(n[at]=r[c],Gr(r,er+o,n)):(r.push(n),n[at]=null),n[$t]=r;const m=n[rc];null!==m&&r!==m&&tp(m,n);const T=n[Pn];null!==T&&T.insertView(e),Vs(n),n[xn]|=128}(c,n,e,r),o){const m=dm(r,e),T=n[lr],M=cm(T,e[un]);null!==M&&function gd(e,n,r,o,c,d){o[Yt]=c,o[Ot]=n,hm(e,o,r,1,c,d)}(c,e[Ot],T,n,M,m)}const d=n[Ur];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function rE(e,n){const r=zh(e,n);return void 0!==r&&Qh(r[Ye],r),r}function _m(e,n,r,o,c=!1){for(;null!==r;){if(128===r.type){r=c?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(wr(d)),qn(d)&&iE(d,o);const m=r.type;if(8&m)_m(e,n,r.child,o);else if(32&m){const T=pu(r,n);let M;for(;M=T();)o.push(M)}else if(16&m){const T=Xd(n,r);if(Array.isArray(T))o.push(...T);else{const M=pr(n[ci]);_m(M[Ye],M,T,o,!0)}}r=c?r.projectionNext:r.next}return o}function iE(e,n){for(let r=er;r<e.length;r++){const o=e[r],c=o[Ye].firstChild;null!==c&&_m(o[Ye],o,c,n)}e[un]!==e[Yt]&&n.push(e[un])}let SI=[];const ZS={...le,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{cs(e.lView)},consumerOnSignalRead(){this.lView[W]=this}},eb={...le,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=pr(e.lView);for(;n&&!bI(n[Ye]);)n=pr(n);n&&_i(n)},consumerOnSignalRead(){this.lView[W]=this}};function bI(e){return 2!==e.type}function AI(e){if(null===e[U])return;let n=!0;for(;n;){let r=!1;for(const o of e[U])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=r&&!!(8192&e[xn])}}function ov(e,n=!0,r=0){const c=e[Bo].rendererFactory;c.begin?.();try{!function nb(e,n){const r=al();try{Oo(!0),sE(e,n);let o=0;for(;Ls(e);){if(100===o)throw new Qt(103,!1);o++,sE(e,1)}}finally{Oo(r)}}(e,r)}catch(m){throw n&&iv(e,m),m}finally{c.end?.()}}function RI(e,n,r,o){const c=n[xn];if(!(256&~c))return;Rc(n);let T=!0,M=null,j=null;bI(e)?(j=function qS(e){return e[W]??function XS(e){const n=SI.pop()??Object.create(ZS);return n.lView=e,n}(e)}(n),M=wt(j)):null===Y()?(T=!1,j=function JS(e){const n=e[W]??Object.create(eb);return n.lView=e,n}(n),M=wt(j)):n[W]&&(qe(n[W]),n[W]=null);try{Ir(n),function pc(e){return yn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&ev(e,n,r,2,o);const J=!(3&~c);if(J){const Pe=e.preOrderCheckHooks;null!==Pe&&qc(n,Pe,null)}else{const Pe=e.preOrderHooks;null!==Pe&&Na(n,Pe,0,null),bl(n,0)}if(function rb(e){for(let n=Sd(e);null!==n;n=Gp(n)){if(!(n[xn]&Yn.HasTransplantedViews))continue;const r=n[kr];for(let o=0;o<r.length;o++)_i(r[o])}}(n),AI(n),NI(n,0),null!==e.contentQueries&&Da(e,n),J){const Pe=e.contentCheckHooks;null!==Pe&&qc(n,Pe)}else{const Pe=e.contentHooks;null!==Pe&&Na(n,Pe,1),bl(n,1)}!function gI(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const c=r[o];if(c<0)Oc(~c);else{const d=c,m=r[++o],T=r[++o];su(m,d),T(2,n[d])}}}finally{Oc(-1)}}(e,n);const pe=e.components;null!==pe&&xI(n,pe,0);const xe=e.viewQuery;if(null!==xe&&Ji(2,xe,o),J){const Pe=e.viewCheckHooks;null!==Pe&&qc(n,Pe)}else{const Pe=e.viewHooks;null!==Pe&&Na(n,Pe,2),bl(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[q]){for(const Pe of n[q])Pe();n[q]=null}n[xn]&=-73}catch(J){throw cs(n),J}finally{null!==j&&(qt(j,M),T&&function YS(e){e.lView[W]!==e&&(e.lView=null,SI.push(e))}(j)),Qc()}}function NI(e,n){for(let r=Sd(e);null!==r;r=Gp(r))for(let o=er;o<r.length;o++)OI(r[o],n)}function ib(e,n,r){OI(Se(n,e),r)}function OI(e,n){ze(e)&&sE(e,n)}function sE(e,n){const o=e[Ye],c=e[xn],d=e[W];let m=!!(0===n&&16&c);if(m||=!!(64&c&&0===n),m||=!!(1024&c),m||=!(!d?.dirty||!lt(d)),m||=!1,d&&(d.dirty=!1),e[xn]&=-9217,m)RI(o,e,o.template,e[wi]);else if(8192&c){AI(e),NI(e,1);const T=o.components;null!==T&&xI(e,T,1)}}function xI(e,n,r){for(let o=0;o<n.length;o++)ib(e,n[o],r)}function Em(e,n){const r=al()?64:1088;for(e[Bo].changeDetectionScheduler?.notify(n);e;){e[xn]|=r;const o=pr(e);if(go(e)&&!o)return e;e=o}return null}class Im{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,r=n[Ye];return _m(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[wi]}get dirty(){return!!(9280&this._lView[xn])||!!this._lView[W]?.dirty}set context(n){this._lView[wi]=n}get destroyed(){return!(256&~this._lView[xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$t];if(qn(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(zh(n,o),Po(r,o))}this._attachedToViewContainer=!1}Qh(this._lView[Ye],this._lView)}onDestroy(n){Wo(this._lView,n)}markForCheck(){Em(this._cdRefInjectingView||this._lView,4)}markForRefresh(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[xn]&=-129}reattach(){Vs(this._lView),this._lView[xn]|=128}detectChanges(){this._lView[xn]|=1024,ov(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=go(this._lView),r=this._lView[rc];null!==r&&!n&&sm(r,this._lView),Gh(this._lView[Ye],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=n;const r=go(this._lView),o=this._lView[rc];null!==o&&!r&&tp(o,this._lView),Vs(this._lView)}}let Cm=(()=>class e{static __NG_ELEMENT_ID__=ab})();const sb=Cm,ob=class extends sb{_declarationLView;_declarationTContainer;elementRef;constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const c=dp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Im(c)}};function ab(){return av(kn(),Et())}function av(e,n){return 4&e.type?new ob(n,e,yl(e,n)):null}let eC=()=>null;function pp(e,n){return eC(e,n)}class tA{}class tC{}class nA{resolveComponentFactory(n){throw Error(`No component factory found for ${or(n)}.`)}}class Rm{static NULL=new nA}class yE{}let rA=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function iA(){const e=Et(),r=Se(kn().index,e);return(fr(r)?r:e)[lr]}()})(),sA=(()=>{class e{static \u0275prov=hn({token:e,providedIn:"root",factory:()=>null})}return e})();function th(e){return!!os(e)}function pv(e,n,r){let o=r?e.styles:null,c=r?e.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?d=T:1==d?c=gr(c,T):2==d&&(o=gr(o,T+": "+n[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=c:e.classesWithoutHost=c}class iC extends Rm{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=nr(n);return new xm(r,this.ngModule)}}function sC(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const c=e[o];if(void 0===c)continue;const d=Array.isArray(c),m=d?c[0]:c;r.push(n?{propName:m,templateName:o,isSignal:!!((d?c[1]:Lc.None)&Lc.SignalBased)}:{propName:m,templateName:o})}return r}class xm extends tC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){const n=this.componentDef,r=n.inputTransforms,o=sC(n.inputs,!0);if(null!==r)for(const c of o)r.hasOwnProperty(c.propName)&&(c.transform=r[c.propName]);return o}get outputs(){return sC(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Yd(e){return e.map(md).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,c){const d=te(null);try{let m=(c=c||this.ngModule)instanceof Ss?c:c?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new qa(n,m):n,M=T.get(yE,null);if(null===M)throw new Qt(407,!1);const pe={rendererFactory:M,sanitizer:T.get(sA,null),changeDetectionScheduler:T.get(Ht,null)},xe=M.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",Xe=o?function mI(e,n,r,o){const d=o.get(rg,!1)||r===Zl.ShadowDom,m=e.selectRootElement(n,d);return function yI(e){nv(e)}(m),m}(xe,o,this.componentDef.encapsulation,T):pd(xe,Pe,function cA(e){const n=e.toLowerCase();return"svg"===n?As:"math"===n?"math":null}(Pe));let xt=512;this.componentDef.signals?xt|=4096:this.componentDef.onPush||(xt|=16);let tn=null;null!==Xe&&(tn=jf(Xe,T,!0));const sn=yd(0,null,null,1,0,null,null,null,null,null,null),Pt=ef(null,sn,null,xt,null,null,pe,xe,T,null,tn);Rc(Pt);let Cr,gi,Si=null;try{const wa=this.componentDef;let El,Pp=null;wa.findHostDirectiveDefs?(El=[],Pp=new Map,wa.findHostDirectiveDefs(wa,El,Pp),El.push(wa)):El=[wa];const $S=function uA(e,n){const r=e[Ye],o=ve;return e[o]=n,Jd(r,o,2,"#host",null)}(Pt,Xe);Si=function dA(e,n,r,o,c,d,m){const T=c[Ye];!function hA(e,n,r,o){for(const c of e)n.mergedAttrs=xa(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(pv(n,n.mergedAttrs,!0),null!==r&&Jh(o,r,n))}(o,e,n,m);let M=null;null!==n&&(M=jf(n,c[as]));const j=d.rendererFactory.createRenderer(n,r),J=ef(c,tv(r),null,Ut(r),c[e.index],e,d,j,null,null,M);return T.firstCreatePass&&K(T,e,o.length-1),hs(c,J),c[e.index]=J}($S,Xe,wa,El,Pt,pe,xe),gi=X(sn,ve),Xe&&function pA(e,n,r,o){if(o)pi(e,r,["ng-version","19.0.5"]);else{const{attrs:c,classes:d}=function lp(e){const n=[],r=[];let o=1,c=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===c?""!==d&&n.push(d,e[++o]):8===c&&r.push(d);else{if(!vl(c))break;c=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);c&&pi(e,r,c),d&&d.length>0&&X_(e,r,d.join(" "))}}(xe,wa,Xe,o),void 0!==r&&function gA(e,n,r){const o=e.projection=[];for(let c=0;c<n.length;c++){const d=r[c];o.push(null!=d&&d.length?Array.from(d):null)}}(gi,this.ngContentSelectors,r),Cr=function fA(e,n,r,o,c,d){const m=kn(),T=c[Ye],M=R(m,c);t(T,c,m,r,null,o);for(let J=0;J<r.length;J++)ka(Yc(c,T,m.directiveStart+J,m),c);g(T,c,m),M&&ka(M,c);const j=Yc(c,T,m.directiveStart+m.componentOffset,m);if(e[wi]=c[wi]=j,null!==d)for(const J of d)J(j,n);return gm(T,m,c),j}(Si,wa,El,Pp,Pt,[mA]),sv(sn,Pt,null)}catch(wa){throw null!==Si&&Bp(Si),Bp(Pt),wa}finally{Qc()}return new lA(this.componentType,Cr,yl(gi,Pt),Pt,gi)}finally{te(d)}}}class lA extends tA{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,r,o,c,d){super(),this.location=o,this._rootLView=c,this._tNode=d,this.instance=r,this.hostView=this.changeDetectorRef=new Im(c,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;nE(d[Ye],d,c,n,r),this.previousInputValues.set(n,r),Em(Se(this._tNode.index,d),1)}}get injector(){return new xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function mA(){const e=kn();Ea(Et()[Ye],e)}let gv=(()=>class e{static __NG_ELEMENT_ID__=yA})();function yA(){return cC(kn(),Et())}const vA=gv,oC=class extends vA{_lContainer;_hostTNode;_hostLView;constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new xs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pc(this._hostTNode,this._hostLView);if(Ti(n)){const r=ea(n,this._hostLView),o=Or(n);return new xs(r[Ye].data[o+8],r)}return new xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=aC(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-er}createEmbeddedView(n,r,o){let c,d;"number"==typeof o?c=o:null!=o&&(c=o.index,d=o.injector);const m=pp(this._lContainer,n.ssrId),T=n.createEmbeddedViewImpl(r||{},d,m);return this.insertImpl(T,c,tf(this._hostTNode,m)),T}createComponent(n,r,o,c,d){const m=n&&!function ts(e){return"function"==typeof e}(n);let T;if(m)T=r;else{const Xe=r||{};T=Xe.index,o=Xe.injector,c=Xe.projectableNodes,d=Xe.environmentInjector||Xe.ngModuleRef}const M=m?n:new xm(nr(n)),j=o||this.parentInjector;if(!d&&null==M.ngModule){const xt=(m?j:this.parentInjector).get(Ss,null);xt&&(d=xt)}const J=nr(M.componentType??{}),pe=pp(this._lContainer,J?.id??null),Pe=M.create(j,c,pe?.firstChild??null,d);return this.insertImpl(Pe.hostView,T,tf(this._hostTNode,pe)),Pe}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const c=n._lView;if(function an(e){return qn(e[$t])}(c)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const M=c[$t],j=new oC(M,M[Ot],M[$t]);j.detach(j.indexOf(n))}}const d=this._adjustIndex(r),m=this._lContainer;return hp(m,c,d,o),n.attachToViewContainerRef(),Gr(EE(m),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=aC(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=zh(this._lContainer,r);o&&(Po(EE(this._lContainer),r),Qh(o[Ye],o))}detach(n){const r=this._adjustIndex(n,-1),o=zh(this._lContainer,r);return o&&null!=Po(EE(this._lContainer),r)?new Im(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function aC(e){return e[8]}function EE(e){return e[8]||(e[8]=[])}function cC(e,n){let r;const o=n[e.index];return qn(o)?r=o:(r=ds(o,n,null,e),n[e.index]=r,hs(n,r)),lC(r,n,e,o),new oC(r,e,n)}let lC=function dC(e,n,r,o){if(e[un])return;let c;c=8&r.type?wr(o):function _A(e,n){const r=e[lr],o=r.createComment(""),c=R(n,e);return Vu(r,cm(r,c),o,function ip(e,n){return e.nextSibling(n)}(r,c),!1),o}(n,r),e[un]=c},IE=()=>!1;function uC(e,n,r){return IE(e,n,r)}class CE{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new CE(this.queryList)}setDirty(){this.queryList.setDirty()}}class DE{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,c=[];for(let d=0;d<o;d++){const m=r.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new DE(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==AE(n,r).matches&&this.queries[r].setDirty()}}class hC{flags;read;predicate;constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function bA(e){return e.split(",").map(n=>n.trim())}(n):n}}class wE{queries;constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const c=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,c);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new wE(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class TE{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,r=-1){this.metadata=n,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new TE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const d=o[c];this.matchTNodeWithReadOption(n,r,DA(r,d)),this.matchTNodeWithReadOption(n,r,yc(r,n,d,!1,!1))}else o===Cm?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,yc(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Ol||c===gv||c===Cm&&4&r.type)this.addMatch(r.index,-2);else{const d=yc(r,n,c,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function DA(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function TA(e,n,r,o){return-1===r?function wA(e,n){return 11&e.type?yl(e,n):4&e.type?av(e,n):null}(n,e):-2===r?function SA(e,n,r){return r===Ol?yl(n,e):r===Cm?av(n,e):r===gv?cC(n,e):void 0}(e,n,o):Yc(e,e[Ye],r,n)}function fC(e,n,r,o){const c=n[Pn].queries[o];if(null===c.matches){const d=e.data,m=r.matches,T=[];for(let M=0;null!==m&&M<m.length;M+=2){const j=m[M];T.push(j<0?null:TA(n,d[j],m[M+1],r.metadata.read))}c.matches=T}return c.matches}function SE(e,n,r,o){const c=e.queries.getByIndex(r),d=c.matches;if(null!==d){const m=fC(e,n,c,r);for(let T=0;T<d.length;T+=2){const M=d[T];if(M>0)o.push(m[T/2]);else{const j=d[T+1],J=n[-M];for(let pe=er;pe<J.length;pe++){const xe=J[pe];xe[rc]===xe[$t]&&SE(xe[Ye],xe,j,o)}if(null!==J[kr]){const pe=J[kr];for(let xe=0;xe<pe.length;xe++){const Pe=pe[xe];SE(Pe[Ye],Pe,j,o)}}}}}return o}function pC(e,n,r){const o=new Fp(!(4&~r));return function J_(e,n,r,o){const c=eh(n);c.push(r),e.firstCreatePass&&DI(e).push(o,c.length-1)}(e,n,o,o.destroy),(n[Pn]??=new DE).queries.push(new CE(o))-1}function yC(e,n,r){null===e.queries&&(e.queries=new wE),e.queries.track(new TE(n,r))}function AE(e,n){return e.queries.getByIndex(n)}function vC(e,n){const r=e[Ye],o=AE(r,n);return o.crossesNgTemplate?SE(r,e,n,[]):fC(r,e,o,n)}function gp(e,n){ra("NgSignals");const r=function $e(e){const n=Object.create(mt);n.value=e;const r=()=>(Te(n),n.value);return r[ie]=n,r}(e),o=r[ie];return n?.equal&&(o.equal=n.equal),r.set=c=>It(o,c),r.update=c=>function At(e,n){st()||bi(),It(e,n(e.value))}(o,c),r.asReadonly=ME.bind(r),r}function ME(){const e=this[ie];if(void 0===e.readonlyFn){const n=()=>this();n[ie]=e,e.readonlyFn=n}return e.readonlyFn}function EC(e){return function _C(e){return"function"==typeof e&&void 0!==e[ie]}(e)&&"function"==typeof e.set}class rf{}class NC{}function VA(e,n){return new NE(e,n??null,[])}class NE extends rf{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new iC(this);constructor(n,r,o,c=!0){super(),this.ngModuleType=n,this._parent=r;const d=os(n);this._bootstrapComponents=Fc(d.bootstrap),this._r3Injector=oe(n,r,[{provide:rf,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...o],or(n),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class OE extends NC{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new NE(this.moduleType,n,[])}}class OC extends rf{injector;componentFactoryResolver=new iC(this);instance=null;constructor(n){super();const r=new Bi([...n.providers,{provide:rf,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],n.parent||qo(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function xE(e,n,r=null){return new OC({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let BA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=fo(0,r.type),c=o.length>0?xE([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,c)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=hn({token:e,providedIn:"environment",factory:()=>new e(hi(Ss))})}return e})();function xC(e){return Ki(()=>{const n=LC(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?c=>c.get(BA).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zl.Emulated,styles:e.styles||hr,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&ra("NgStandalone"),VC(r);const o=e.dependencies;return r.directiveDefs=yv(o,!1),r.pipeDefs=yv(o,!0),r.id=function WA(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const d of o.join("|"))n=Math.imul(31,n)+d.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function jA(e){return nr(e)||Pi(e)}function $A(e){return null!==e}function PE(e){return Ki(()=>({type:e.type,bootstrap:e.bootstrap||hr,declarations:e.declarations||hr,imports:e.imports||hr,exports:e.exports||hr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function PC(e,n){if(null==e)return Dr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];let d,m,T=Lc.None;Array.isArray(c)?(T=c[0],d=c[1],m=c[2]??d):(d=c,m=c),n?(r[d]=T!==Lc.None?[o,T]:o,n[d]=m):r[d]=o}return r}function kC(e){return Ki(()=>{const n=LC(e);return VC(n),n})}function FC(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function LC(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Dr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||hr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PC(e.inputs,n),outputs:PC(e.outputs),debugInfo:null}}function VC(e){e.features?.forEach(n=>n(e))}function yv(e,n){if(!e)return null;const r=n?Xi:jA;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter($A)}function kE(e){let n=function UC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let c;if(vs(e))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Qt(903,!1);c=n.\u0275dir}if(c){if(r){o.push(c);const m=e;m.inputs=vv(e.inputs),m.inputTransforms=vv(e.inputTransforms),m.declaredInputs=vv(e.declaredInputs),m.outputs=vv(e.outputs);const T=c.hostBindings;T&&qA(e,T);const M=c.viewQuery,j=c.contentQueries;if(M&&zA(e,M),j&&QA(e,j),GA(e,c),$i(e.outputs,c.outputs),vs(c)&&c.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const T=d[m];T&&T.ngInherit&&T(e),T===kE&&(r=!1)}}n=Object.getPrototypeOf(n)}!function KA(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const c=e[o];c.hostVars=n+=c.hostVars,c.hostAttrs=xa(c.hostAttrs,r=xa(r,c.hostAttrs))}}(o)}function GA(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const c=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(c))continue;e.inputTransforms??={},e.inputTransforms[c]=n.inputTransforms[c]}}}function vv(e){return e===Dr?{}:e===hr?[]:e}function zA(e,n){const r=e.viewQuery;e.viewQuery=r?(o,c)=>{n(o,c),r(o,c)}:n}function QA(e,n){const r=e.contentQueries;e.contentQueries=r?(o,c,d)=>{n(o,c,d),r(o,c,d)}:n}function qA(e,n){const r=e.hostBindings;e.hostBindings=r?(o,c)=>{n(o,c),r(o,c)}:n}function WC(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[3]&&(r[o]=c[3])}e.inputTransforms=r}function _v(e){return!!LE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function LE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ju(e,n,r){return e[n]=r}function km(e,n){return e[n]}function ia(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function sf(e,n,r,o){const c=ia(e,n,r);return ia(e,n+1,o)||c}function Ev(e,n,r,o,c){const d=sf(e,n,r,o);return ia(e,n+2,c)||d}function tu(e,n,r,o,c,d){const m=sf(e,n,r,o);return sf(e,n+2,c,d)||m}function Fm(e,n,r,o,c,d,m,T,M,j){const J=r+ve,pe=n.firstCreatePass?function iM(e,n,r,o,c,d,m,T,M){const j=n.consts,J=Jd(n,e,4,m||null,T||null);s(n,r,J,An(j,M)),Ea(n,J);const pe=J.tView=yd(2,J,o,c,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,J),pe.queries=n.queries.embeddedTView(J)),J}(J,n,e,o,c,d,m,T,M):n.data[J];Kr(pe,!1);const xe=GC(n,e,pe,r);_a()&&Zh(n,e,xe,pe),ka(xe,e);const Pe=ds(xe,e,xe,pe);return e[J]=Pe,hs(e,Pe),uC(Pe,pe,e),Li(pe)&&mm(n,e,pe),null!=M&&ym(e,pe,j),pe}function VE(e,n,r,o,c,d,m,T){const M=Et(),j=yr();return Fm(M,j,e,n,r,o,c,An(j.consts,d),m,T),VE}let GC=function KC(e,n,r,o){return Os(!0),n[lr].createComment("")};let uM=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(r,o){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+r,o),this.scheduleTimer()}remove(r){const{current:o,deferred:c}=this;-1===this.removeFromQueue(o,r)&&this.removeFromQueue(c,r),0===o.length&&0===c.length&&this.clearTimeout()}addToQueue(r,o,c){let d=r.length;for(let m=0;m<r.length;m+=2)if(r[m]>o){d=m;break}js(r,d,o,c)}removeFromQueue(r,o){let c=-1;for(let d=0;d<r.length;d+=2)if(r[d+1]===o){c=d;break}return c>-1&&ko(r,c,2),c}scheduleTimer(){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const c=[...this.current],d=Date.now();for(let T=0;T<c.length;T+=2){const j=c[T+1];if(!(c[T]<=d))break;j()}let m=-1;for(let T=0;T<this.current.length&&this.current[T]<=d;T+=2)m=T+1;if(m>=0&&ko(this.current,0,m+1),this.executingCallbacks=!1,this.deferred.length>0){for(let T=0;T<this.deferred.length;T+=2)this.addToQueue(this.current,this.deferred[T],this.deferred[T+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const c=Date.now(),d=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-d>16){this.clearTimeout();const m=Math.max(d-c,16);this.invokeTimerAt=d,this.timeoutId=setTimeout(r,m)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=hn({token:e,providedIn:"root",factory:()=>new e})}return e})(),dM=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(r,o,c,d){if(!this.cachedInjectors.has(r)){const m=c.length>0?xE(c,o,d):null;this.cachedInjectors.set(r,m)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=hn({token:e,providedIn:"environment",factory:()=>new e})}return e})();const hM=new me("");function UE(e,n,r){return e.get(dM).getOrCreateInjector(n,e,r,"")}function rh(e,n,r,o=!1){const c=r[$t],d=c[Ye];if(mo(c))return;const m=_c(c,n),M=m[my];if(!(null!==M&&e<M)&&XC(m[xu],e)&&XC(m[Ou]??-1,e)){const j=Za(d,n),pe=o||null===Of(j)&&null===Pu(j,oo.Loading)&&!Pu(j,oo.Placeholder)?QC:BE;try{pe(e,m,r,n,c)}catch(xe){iv(c,xe)}}}function QC(e,n,r,o,c){const d=function lg(e,n,r){const c=Za(n[Ye],r);switch(e){case oo.Complete:return c.primaryTmplIndex;case oo.Loading:return c.loadingTmplIndex;case oo.Error:return c.errorTmplIndex;case oo.Placeholder:return c.placeholderTmplIndex;default:return null}}(e,c,o);if(null!==d){n[xu]=e;const m=c[Ye],M=X(m,d+ve),j=0;let J;if(rE(r,j),e===oo.Complete){const Pe=Za(m,o),Xe=Pe.providers;Xe&&Xe.length>0&&(J=function fM(e,n,r){if(e instanceof qa){const c=e.injector,m=UE(e.parentInjector,n,r);return new qa(c,m)}const o=e.get(Ss);if(o!==e){const c=UE(o,n,r);return new qa(e,c)}return UE(e,n,r)}(c[as],Pe,Xe))}const pe=function pM(e,n){return e[je]?.find(r=>r.data[nd]===n[xu])??null}(r,n);r[je]=null;const xe=dp(c,M,null,{injector:J,dehydratedView:pe});if(hp(r,xe,j,tf(M,pe)),Em(xe,2),(e===oo.Complete||e===oo.Error)&&Array.isArray(n[hu])){for(const Pe of n[hu])Pe();n[hu]=null}}}function gM(e,n,r,o,c){const d=Date.now(),T=Za(c[Ye],o);if(null===n[bh]||n[bh]<=d){n[bh]=null;const M=Of(T),j=null!==n[Ah];if(e!==oo.Loading||null===M||j){e>oo.Loading&&j&&(n[Ah](),n[Ah]=null,n[Ou]=null),QC(e,n,r,o,c);const J=Pu(T,e);null!==J&&(n[bh]=d+J,qC(J,n,o,r,c))}else{n[Ou]=e;const J=qC(M,n,o,r,c);n[Ah]=J}}else n[Ou]=e}function qC(e,n,r,o,c){return function zC(e,n,r){const o=r.get(uM);return o.add(e,n),()=>o.remove(n)}(e,()=>{const m=n[Ou];n[bh]=null,n[Ou]=null,null!==m&&rh(m,r,o)},c[as])}function XC(e,n){return e<n}function YC(e,n,r){e.loadingPromise.then(()=>{e.loadingState===vo.COMPLETE?rh(oo.Complete,n,r):e.loadingState===vo.FAILED&&rh(oo.Error,n,r)})}let BE=null;function ZC(e,n,r,o){const c=e.consts;null!=r&&(n.placeholderBlockConfig=An(c,r)),null!=o&&(n.loadingBlockConfig=An(c,o)),null===BE&&(BE=gM)}let eD=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const rD="ng";function $M(e,n){!function sD(e,n){if(typeof COMPILED>"u"||!COMPILED){const r=Mn;r[rD]??={},r[rD][e]=n}}(e,n)}const oD=new me(""),aD=new me("");let $E,HM=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(r,o,c){this._ngZone=r,this.registry=o,$E||(function WM(e){$E=e}(c),c.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,c){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:c})}whenStable(r,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,c),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,c){return[]}static \u0275fac=function(o){return new(o||e)(hi(B),hi(cD),hi(aD))};static \u0275prov=hn({token:e,factory:e.\u0275fac})}return e})(),cD=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return $E?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function HE(e){return!!e&&"function"==typeof e.then}function lD(e){return!!e&&"function"==typeof e.subscribe}const WE=new me("");let uD=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=dn(WE,{optional:!0})??[];injector=dn(Ie);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const c of this.appInits){const d=Ao(this.injector,c);if(HE(d))r.push(d);else if(lD(d)){const m=new Promise((T,M)=>{d.subscribe({complete:T,error:M})});r.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(c=>{this.reject(c)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GE=(()=>{class e{static \u0275prov=hn({token:e,providedIn:"root",factory:()=>new dD})}return e})();class dD{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}enqueue(n){const r=n.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}const Vm=new me("");function fD(e,n){return Array.isArray(n)?n.reduce(fD,e):{...e,...n}}let Ul=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=dn(vc);afterRenderManager=dn(Sf);zonelessEnabled=dn(Kt);rootEffectScheduler=dn(GE);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ir.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=dn(Ei).hasPendingTasks.pipe((0,Vr.T)(r=>!r));constructor(){dn(Xl,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:c=>{c&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=dn(Ss);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){const c=r instanceof tC;if(!this._injector.get(uD).done)throw!c&&Yi(r),new Qt(405,!1);let m;m=c?r:this._injector.get(Rm).resolveComponentFactory(r),this.componentTypes.push(m.componentType);const T=function GM(e){return e.isBoundToModule}(m)?void 0:this._injector.get(rf),j=m.create(Ie.NULL,[],o||m.selector,T),J=j.location.nativeElement,pe=j.injector.get(oD,null);return pe?.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),Tv(this.components,j),pe?.unregisterApplication(J)}),this._loadComponent(j),j}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(null!==this.tracingSnapshot){const o=this.tracingSnapshot;return this.tracingSnapshot=null,o.run(og.CHANGE_DETECTION,this._tick),void o.dispose()}if(this._runningTick)throw new Qt(101,!1);const r=te(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,te(r),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(yE,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:c}of this.allViews)QM(o,c,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Ls(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Tv(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Vm,[]).forEach(c=>c(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Tv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Qt(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tv(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function QM(e,n,r,o){(r||Ls(e))&&ov(e,n,r&&!o?0:1)}function af(e,n,r){const o=n[Ye],c=n[r.index];if(!function yD(e,n){return n[as].get(hM,null,{optional:!0})?.behavior!==Rf.Manual}(0,n))return;const d=_c(n,r),m=Za(o,r);switch(yy(d),m.loadingState){case vo.NOT_STARTED:rh(oo.Loading,r,c),function KE(e,n,r){const o=n[as],c=n[Ye];if(e.loadingState!==vo.NOT_STARTED)return e.loadingPromise??Promise.resolve();const d=_c(n,r),m=function xh(e,n){return X(e,n.primaryTmplIndex+ve)}(c,e);e.loadingState=vo.IN_PROGRESS,Nf(1,d);let T=e.dependencyResolverFn;const M=o.get(Ei),j=M.add();return T?(e.loadingPromise=Promise.allSettled(T()).then(J=>{let pe=!1;const xe=[],Pe=[];for(const Xe of J){if("fulfilled"!==Xe.status){pe=!0;break}{const xt=Xe.value,tn=nr(xt)||Pi(xt);if(tn)xe.push(tn);else{const sn=Xi(xt);sn&&Pe.push(sn)}}}if(e.loadingPromise=null,M.remove(j),pe){if(e.loadingState=vo.FAILED,null===e.errorTmplIndex){const xt=new Qt(750,!1);iv(n,xt)}}else{e.loadingState=vo.COMPLETE;const Xe=m.tView;if(xe.length>0){Xe.directiveRegistry=Oh(Xe.directiveRegistry,xe);const tn=fo(!1,...xe.map(sn=>sn.type));e.providers=tn}Pe.length>0&&(Xe.pipeRegistry=Oh(Xe.pipeRegistry,Pe))}}),e.loadingPromise):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=vo.COMPLETE,M.remove(j)}),e.loadingPromise)}(m,n,r),m.loadingState===vo.IN_PROGRESS&&YC(m,r,c);break;case vo.IN_PROGRESS:rh(oo.Loading,r,c),YC(m,r,c);break;case vo.COMPLETE:rh(oo.Complete,r,c);break;case vo.FAILED:rh(oo.Error,r,c)}}function vD(e,n){const r=e[as],o=Za(e[Ye],n),c=function $d(e){return e.get(hy,!1,{optional:!0})}(r),d=null!==o.flags&&!(1&~o.flags),T=null!==_c(e,n)[Mf];return!(d&&T&&c)}function _D(e,n,r,o,c,d,m,T,M,j){const J=Et(),pe=yr(),xe=e+ve,Pe=Fm(J,pe,e,null,0,0),Xe=J[as];if(pe.firstCreatePass){ra("NgDefer");const Si={primaryTmplIndex:n,loadingTmplIndex:o??null,placeholderTmplIndex:c??null,errorTmplIndex:d??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:r??null,loadingState:vo.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,prefetchTriggers:null,flags:j??0};M?.(pe,Si,T,m),function Nh(e,n,r){const o=Rh(n);e.data[o]=r}(pe,xe,Si)}const xt=J[xe];uC(xt,Pe,J);let tn=null,sn=null;if(xt[je]?.length>0){const Si=xt[je][0].data;sn=Si[td]??null,tn=Si[nd]}const Pt=[null,od.Initial,null,null,null,null,sn,tn,null,null];!function d_(e,n,r){e[Rh(n)]=r}(J,xe,Pt);let Cr=null;null!==sn&&(Cr=Xe.get(ad),Cr.add(sn,{lView:J,tNode:Pe,lContainer:xt}));const gi=()=>{yy(Pt),null!==sn&&Cr?.cleanup([sn])};xd(0,Pt,()=>Sc(J,gi)),Wo(J,gi)}function ED(e,n){const r=Et(),o=kn();(function sa(e,n,r){return 0===e?vD(n,r):2!==e||!vD(n,r)})(0,r,o)&&(function vp(e,n){rh(oo.Placeholder,n,e[n.index])}(r,o),function Vd(e,n,r,o,c,d,m){const T=e[as],M=T.get(B);sd({read:function j(){if(mo(e))return;const J=_c(e,n),pe=J[xu];if(pe!==od.Initial&&pe!==oo.Placeholder)return;const xe=function Ld(e,n,r){return null==r?e:r>=0?yo(r,e):e[n.index][er]??null}(e,n,o);if(!xe)return void sd({read:j},{injector:T});if(mo(xe))return;const Pe=function fg(e,n){return F(ve+n,e)}(xe,r),Xe=c(Pe,()=>{M.run(()=>{e!==xe&&Sc(xe,Xe),d()})},T);e!==xe&&Wo(xe,Xe),xd(m,J,Xe)}},{injector:T})}(r,o,e,n,Ff,()=>af(0,r,o),0))}function qE(e,n,r,o){const c=Et();return ia(c,Go(),n)&&(yr(),_n(Ci(),c,e,n,r,o)),qE}function Ep(e,n,r,o){return ia(e,Go(),r)?n+ye(r)+o:Rr}function Ip(e,n,r,o,c,d){const T=sf(e,Rs(),r,c);return va(2),T?n+ye(r)+o+ye(c)+d:Rr}function Cp(e,n,r,o,c,d,m,T){const j=Ev(e,Rs(),r,c,m);return va(3),j?n+ye(r)+o+ye(c)+d+ye(m)+T:Rr}function Sv(e,n){return e<<17|n<<2}function oh(e){return e>>17&32767}function XE(e){return 2|e}function cf(e){return(131068&e)>>2}function YE(e,n){return-131069&e|n<<2}function ZE(e){return 1|e}function RD(e,n,r,o){const c=e[r+1],d=null===n;let m=o?oh(c):cf(c),T=!1;for(;0!==m&&(!1===T||d);){const j=e[m+1];RR(e[m],n)&&(T=!0,e[m+1]=o?ZE(j):XE(j)),m=o?oh(j):cf(j)}T&&(e[r+1]=o?XE(c):ZE(c))}function RR(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&lo(e,n)>=0}const Ja={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ND(e){return e.substring(Ja.key,Ja.keyEnd)}function NR(e){return e.substring(Ja.value,Ja.valueEnd)}function OD(e,n){const r=Ja.textEnd;return r===n?-1:(n=Ja.keyEnd=function PR(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}(e,Ja.key=n,r),Ap(e,n,r))}function xD(e,n){const r=Ja.textEnd;let o=Ja.key=Ap(e,n,r);return r===o?-1:(o=Ja.keyEnd=function kR(e,n,r){let o;for(;n<r&&(45===(o=e.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(e,o,r),o=kD(e,o,r),o=Ja.value=Ap(e,o,r),o=Ja.valueEnd=function FR(e,n,r){let o=-1,c=-1,d=-1,m=n,T=m;for(;m<r;){const M=e.charCodeAt(m++);if(59===M)return T;34===M||39===M?T=m=FD(e,M,m,r):n===m-4&&85===d&&82===c&&76===o&&40===M?T=m=FD(e,41,m,r):M>32&&(T=m),d=c,c=o,o=-33&M}return T}(e,o,r),kD(e,o,r))}function PD(e){Ja.key=0,Ja.keyEnd=0,Ja.value=0,Ja.valueEnd=0,Ja.textEnd=e.length}function Ap(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function kD(e,n,r,o){return(n=Ap(e,n,r))<r&&n++,n}function FD(e,n,r,o){let c=-1,d=r;for(;d<o;){const m=e.charCodeAt(d++);if(m==n&&92!==c)return d;c=92==m&&92===c?0:m}throw new Error}function JE(e,n,r){const o=Et();return ia(o,Go(),n)&&Jc(yr(),Ci(),o,e,n,o[lr],r,!1),JE}function e0(e,n,r,o,c){const m=c?"class":"style";nE(e,r,n.inputs[m],m,o)}function t0(e,n,r){return Eu(e,n,r,!1),t0}function n0(e,n){return Eu(e,n,null,!0),n0}function _u(e){Iu(BD,LR,e,!1)}function LR(e,n){for(let r=function xR(e){return PD(e),xD(e,Ap(e,0,Ja.textEnd))}(n);r>=0;r=xD(n,r))BD(e,ND(n),NR(n))}function LD(e){Iu(HR,$u,e,!0)}function $u(e,n){for(let r=function OR(e){return PD(e),OD(e,Ap(e,0,Ja.textEnd))}(n);r>=0;r=OD(n,r))es(e,ND(n),!0)}function Eu(e,n,r,o){const c=Et(),d=yr(),m=va(2);d.firstUpdatePass&&UD(d,e,m,o),n!==Rr&&ia(c,m,n)&&jD(d,d.data[so()],c,c[lr],e,c[m+1]=function GR(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=or(Fl(e)))),e}(n,r),o,m)}function Iu(e,n,r,o){const c=yr(),d=va(2);c.firstUpdatePass&&UD(c,null,d,o);const m=Et();if(r!==Rr&&ia(m,d,r)){const T=c.data[so()];if(HD(T,o)&&!VD(c,d)){let M=o?T.classesWithoutHost:T.stylesWithoutHost;null!==M&&(r=gr(M,r||"")),e0(c,T,m,r,o)}else!function WR(e,n,r,o,c,d,m,T){c===Rr&&(c=hr);let M=0,j=0,J=0<c.length?c[0]:null,pe=0<d.length?d[0]:null;for(;null!==J||null!==pe;){const xe=M<c.length?c[M+1]:void 0,Pe=j<d.length?d[j+1]:void 0;let xt,Xe=null;J===pe?(M+=2,j+=2,xe!==Pe&&(Xe=pe,xt=Pe)):null===pe||null!==J&&J<pe?(M+=2,Xe=J):(j+=2,Xe=pe,xt=Pe),null!==Xe&&jD(e,n,r,o,Xe,xt,m,T),J=M<c.length?c[M]:null,pe=j<d.length?d[j]:null}}(c,T,m,m[lr],m[d+1],m[d+1]=function $R(e,n,r){if(null==r||""===r)return hr;const o=[],c=Fl(r);if(Array.isArray(c))for(let d=0;d<c.length;d++)e(o,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&e(o,d,c[d]);else"string"==typeof c&&n(o,c);return o}(e,n,r),o,d)}}function VD(e,n){return n>=e.expandoStartIndex}function UD(e,n,r,o){const c=e.data;if(null===c[r+1]){const d=c[so()],m=VD(e,r);HD(d,o)&&null===n&&!m&&(n=!1),n=function VR(e,n,r,o){const c=wl(e);let d=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(r=Bm(r=r0(null,e,n,r,o),n.attrs,o),d=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==c)if(r=r0(c,e,n,r,o),null===d){let M=function UR(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==cf(o))return e[oh(o)]}(e,n,o);void 0!==M&&Array.isArray(M)&&(M=r0(null,e,n,M[1],o),M=Bm(M,n.attrs,o),function BR(e,n,r,o){e[oh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,M))}else d=function jR(e,n,r){let o;const c=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<c;d++)o=Bm(o,e[d].hostAttrs,r);return Bm(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(c,d,n,o),function AR(e,n,r,o,c,d){let m=d?n.classBindings:n.styleBindings,T=oh(m),M=cf(m);e[o]=r;let J,j=!1;if(Array.isArray(r)?(J=r[1],(null===J||lo(r,J)>0)&&(j=!0)):J=r,c)if(0!==M){const xe=oh(e[T+1]);e[o+1]=Sv(xe,T),0!==xe&&(e[xe+1]=YE(e[xe+1],o)),e[T+1]=function SR(e,n){return 131071&e|n<<17}(e[T+1],o)}else e[o+1]=Sv(T,0),0!==T&&(e[T+1]=YE(e[T+1],o)),T=o;else e[o+1]=Sv(M,0),0===T?T=o:e[M+1]=YE(e[M+1],o),M=o;j&&(e[o+1]=XE(e[o+1])),RD(e,J,o,!0),RD(e,J,o,!1),function MR(e,n,r,o,c){const d=c?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&lo(d,n)>=0&&(r[o+1]=ZE(r[o+1]))}(n,J,e,o,d),m=Sv(T,M),d?n.classBindings=m:n.styleBindings=m}(c,d,n,r,m,o)}}function r0(e,n,r,o,c){let d=null;const m=r.directiveEnd;let T=r.directiveStylingLast;for(-1===T?T=r.directiveStart:T++;T<m&&(d=n[T],o=Bm(o,d.hostAttrs,c),d!==e);)T++;return null!==e&&(r.directiveStylingLast=T),o}function Bm(e,n,r){const o=r?1:2;let c=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?c=m:c===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),es(e,m,!!r||n[++d]))}return void 0===e?null:e}function BD(e,n,r){es(e,n,Fl(r))}function HR(e,n,r){const o=String(n);""!==o&&!o.includes(" ")&&es(e,o,r)}function jD(e,n,r,o,c,d,m,T){if(!(3&n.type))return;const M=e.data,j=M[T+1],J=function bR(e){return!(1&~e)}(j)?$D(M,n,r,c,cf(j),m):void 0;bv(J)||(bv(d)||function TR(e){return!(2&~e)}(j)&&(d=$D(M,null,r,c,T,m)),function op(e,n,r,o,c){if(n)c?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:eu.DashCase;null==c?e.removeStyle(r,o,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=eu.Important),e.setStyle(r,o,c,d))}}(o,m,F(so(),r),c,d))}function $D(e,n,r,o,c,d){const m=null===n;let T;for(;c>0;){const M=e[c],j=Array.isArray(M),J=j?M[1]:M,pe=null===J;let xe=r[c+1];xe===Rr&&(xe=pe?hr:void 0);let Pe=pe?Fo(xe,o):J===o?xe:void 0;if(j&&!bv(Pe)&&(Pe=Fo(M,o)),bv(Pe)&&(T=Pe,m))return T;const Xe=e[c+1];c=m?oh(Xe):cf(Xe)}if(null!==n){let M=d?n.residualClasses:n.residualStyles;null!=M&&(T=Fo(M,o))}return T}function bv(e){return void 0!==e}function HD(e,n){return!!(e.flags&(n?8:16))}function WD(e,n,r){Iu(es,$u,Ep(Et(),e,n,r),!0)}function GD(e,n,r,o,c){Iu(es,$u,Ip(Et(),e,n,r,o,c),!0)}function KD(e,n,r,o,c,d,m){Iu(es,$u,Cp(Et(),e,n,r,o,c,d,m),!0)}function zD(e,n,r,o,c,d,m,T,M,j,J){Iu(es,$u,function wp(e,n,r,o,c,d,m,T,M,j,J,pe){const xe=Rs();let Pe=tu(e,xe,r,c,m,M);return Pe=ia(e,xe+4,J)||Pe,va(5),Pe?n+ye(r)+o+ye(c)+d+ye(m)+T+ye(M)+j+ye(J)+pe:Rr}(Et(),e,n,r,o,c,d,m,T,M,j,J),!0)}class ZR{destroy(n){}updateValue(n,r){}swap(n,r){const o=Math.min(n,r),c=Math.max(n,r),d=this.detach(c);if(c-o>1){const m=this.detach(o);this.attach(o,d),this.attach(c,m)}else this.attach(o,d)}move(n,r){this.attach(r,this.detach(n))}}function s0(e,n,r,o,c){return e===r&&Object.is(n,o)?1:Object.is(c(e,n),c(r,o))?-1:0}function o0(e,n,r,o){return!(void 0===n||!n.has(o)||(e.attach(r,n.get(o)),n.delete(o),0))}function QD(e,n,r,o,c){if(o0(e,n,o,r(o,c)))e.updateValue(o,c);else{const d=e.create(o,c);e.attach(o,d)}}function qD(e,n,r,o){const c=new Set;for(let d=n;d<=r;d++)c.add(o(d,e.at(d)));return c}class XD{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const r=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(n,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,r){if(this.kvMap.has(n)){let o=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const c=this._vMap;for(;c.has(o);)o=c.get(o);c.set(o,r)}else this.kvMap.set(n,r)}forEach(n){for(let[r,o]of this.kvMap)if(n(o,r),void 0!==this._vMap){const c=this._vMap;for(;c.has(o);)o=c.get(o),n(o,r)}}}function YD(e,n){ra("NgControlFlow");const r=Et(),o=Go(),c=r[o]!==Rr?r[o]:-1,d=-1!==c?Av(r,ve+c):void 0;if(ia(r,o,e)){const T=te(null);try{if(void 0!==d&&rE(d,0),-1!==e){const M=ve+e,j=Av(r,M),J=a0(r[Ye],M),pe=pp(j,J.tView.ssrId);hp(j,dp(r,J,n,{dehydratedView:pe}),0,tf(J,pe))}}finally{te(T)}}else if(void 0!==d){const T=TI(d,0);void 0!==T&&(T[wi]=n)}}class eN{lContainer;$implicit;$index;constructor(n,r,o){this.lContainer=n,this.$implicit=r,this.$index=o}get $count(){return this.lContainer.length-er}}function ZD(e){return e}class nN{hasEmptyBlock;trackByFn;liveCollection;constructor(n,r,o){this.hasEmptyBlock=n,this.trackByFn=r,this.liveCollection=o}}function JD(e,n,r,o,c,d,m,T,M,j,J,pe,xe){ra("NgControlFlow");const Pe=Et(),Xe=yr(),xt=void 0!==M,tn=Et(),sn=T?m.bind(tn[ci][wi]):m,Pt=new nN(xt,sn);tn[ve+e]=Pt,Fm(Pe,Xe,e+1,n,r,o,c,An(Xe.consts,d)),xt&&Fm(Pe,Xe,e+2,M,j,J,pe,An(Xe.consts,xe))}class rN extends ZR{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,r,o){super(),this.lContainer=n,this.hostLView=r,this.templateTNode=o}get length(){return this.lContainer.length-er}at(n){return this.getLView(n)[wi].$implicit}attach(n,r){const o=r[Ur];this.needsIndexUpdate||=n!==this.length,hp(this.lContainer,r,n,tf(this.templateTNode,o))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function iN(e,n){return zh(e,n)}(this.lContainer,n)}create(n,r){const o=pp(this.lContainer,this.templateTNode.tView.ssrId),c=dp(this.hostLView,this.templateTNode,new eN(this.lContainer,r,n),{dehydratedView:o});return this.operationsCounter?.recordCreate(),c}destroy(n){Qh(n[Ye],n),this.operationsCounter?.recordDestroy()}updateValue(n,r){this.getLView(n)[wi].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[wi].$index=n}getLView(n){return function sN(e,n){return TI(e,n)}(this.lContainer,n)}}function ew(e){const n=te(null),r=so();try{const o=Et(),c=o[Ye],d=o[r],m=r+1,T=Av(o,m);if(void 0===d.liveCollection){const j=a0(c,m);d.liveCollection=new rN(T,o,j)}else d.liveCollection.reset();const M=d.liveCollection;if(function JR(e,n,r){let o,c,d=0,m=e.length-1;if(Array.isArray(n)){let M=n.length-1;for(;d<=m&&d<=M;){const j=e.at(d),J=n[d],pe=s0(d,j,d,J,r);if(0!==pe){pe<0&&e.updateValue(d,J),d++;continue}const xe=e.at(m),Pe=n[M],Xe=s0(m,xe,M,Pe,r);if(0!==Xe){Xe<0&&e.updateValue(m,Pe),m--,M--;continue}const xt=r(d,j),tn=r(m,xe),sn=r(d,J);if(Object.is(sn,tn)){const Pt=r(M,Pe);Object.is(Pt,xt)?(e.swap(d,m),e.updateValue(m,Pe),M--,m--):e.move(m,d),e.updateValue(d,J),d++}else if(o??=new XD,c??=qD(e,d,m,r),o0(e,o,d,sn))e.updateValue(d,J),d++,m++;else if(c.has(sn))o.set(xt,e.detach(d)),m--;else{const Pt=e.create(d,n[d]);e.attach(d,Pt),d++,m++}}for(;d<=M;)QD(e,o,r,d,n[d]),d++}else if(null!=n){const M=n[Symbol.iterator]();let j=M.next();for(;!j.done&&d<=m;){const J=e.at(d),pe=j.value,xe=s0(d,J,d,pe,r);if(0!==xe)xe<0&&e.updateValue(d,pe),d++,j=M.next();else{o??=new XD,c??=qD(e,d,m,r);const Pe=r(d,pe);if(o0(e,o,d,Pe))e.updateValue(d,pe),d++,m++,j=M.next();else if(c.has(Pe)){const Xe=r(d,J);o.set(Xe,e.detach(d)),m--}else e.attach(d,e.create(d,pe)),d++,m++,j=M.next()}}for(;!j.done;)QD(e,o,r,e.length,j.value),j=M.next()}for(;d<=m;)e.destroy(e.detach(m--));o?.forEach(M=>{e.destroy(M)})}(M,e,d.trackByFn),M.updateIndexes(),d.hasEmptyBlock){const j=Go(),J=0===M.length;if(ia(o,j,J)){const pe=r+2,xe=Av(o,pe);if(J){const Pe=a0(c,pe),Xe=pp(xe,Pe.tView.ssrId);hp(xe,dp(o,Pe,void 0,{dehydratedView:Xe}),0,tf(Pe,Xe))}else rE(xe,0)}}}finally{te(n)}}function Av(e,n){return e[n]}function a0(e,n){return X(e,n)}function Mv(e,n,r,o){const c=Et(),d=yr(),m=ve+e,T=c[lr],M=d.firstCreatePass?function oN(e,n,r,o,c,d){const m=n.consts,M=Jd(n,e,2,o,An(m,c));return s(n,r,M,An(m,d)),null!==M.attrs&&pv(M,M.attrs,!1),null!==M.mergedAttrs&&pv(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(m,d,c,n,r,o):d.data[m],j=tw(d,c,M,T,n,e);c[m]=j;const J=Li(M);return Kr(M,!0),Jh(T,j,M),!function yp(e){return!(32&~e.flags)}(M)&&_a()&&Zh(d,c,j,M),0===function sl(){return yn.lFrame.elementDepthCount}()&&ka(j,c),function ru(){yn.lFrame.elementDepthCount++}(),J&&(mm(d,c,M),gm(d,M,c)),null!==o&&ym(c,M),Mv}function Rv(){let e=kn();bc()?Ms():(e=e.parent,Kr(e,!1));const n=e;(function Hu(e){return yn.skipHydrationRootTNode===e})(n)&&function Gc(){yn.skipHydrationRootTNode=null}(),function hc(){yn.lFrame.elementDepthCount--}();const r=yr();return r.firstCreatePass&&(Ea(r,e),Mi(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Wt(e){return!!(8&e.flags)}(n)&&e0(r,n,Et(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function En(e){return!!(16&e.flags)}(n)&&e0(r,n,Et(),n.stylesWithoutHost,!1),Rv}function c0(e,n,r,o){return Mv(e,n,r,o),Rv(),c0}let tw=(e,n,r,o,c,d)=>(Os(!0),pd(o,c,function Wl(){return yn.lFrame.currentNamespace}()));function Nv(e,n,r){const o=Et(),c=yr(),d=e+ve,m=c.firstCreatePass?function lN(e,n,r,o,c){const d=n.consts,m=An(d,o),T=Jd(n,e,8,"ng-container",m);return null!==m&&pv(T,m,!0),s(n,r,T,An(d,c)),null!==n.queries&&n.queries.elementStart(n,T),T}(d,c,o,n,r):c.data[d];Kr(m,!0);const T=nw(c,o,m,e);return o[d]=T,_a()&&Zh(c,o,T,m),ka(T,o),Li(m)&&(mm(c,o,m),gm(c,m,o)),null!=r&&ym(o,m),Nv}function Ov(){let e=kn();const n=yr();return bc()?Ms():(e=e.parent,Kr(e,!1)),n.firstCreatePass&&(Ea(n,e),Mi(e)&&n.queries.elementEnd(e)),Ov}function l0(e,n,r){return Nv(e,n,r),Ov(),l0}let nw=(e,n,r,o)=>(Os(!0),ep(n[lr],""));function rw(){return Et()}function u0(e,n,r){const o=Et();return ia(o,Go(),n)&&Jc(yr(),Ci(),o,e,n,o[lr],r,!0),u0}function d0(e,n,r){const o=Et();if(ia(o,Go(),n)){const d=yr(),m=Ci();Jc(d,m,o,e,n,wI(wl(d.data),m,o),r,!0)}return d0}const lf=void 0;var fN=["en",[["a","p"],["AM","PM"],lf],[["AM","PM"],lf,lf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lf,"{1} 'at' {0}",lf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hN(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Mp={};function h0(e){const n=function pN(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=sw(n);if(r)return r;const o=n.split("-")[0];if(r=sw(o),r)return r;if("en"===o)return fN;throw new Qt(701,!1)}function iw(e){return h0(e)[Rp.PluralCase]}function sw(e){return e in Mp||(Mp[e]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[e]),Mp[e]}var Rp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Rp||{});const xv="en-US";let ow=xv,ww=(e,n,r)=>{};function g0(e,n,r,o){const c=Et(),d=yr(),m=kn();return m0(d,c,c[lr],m,e,n,o),g0}function m0(e,n,r,o,c,d,m){const T=Li(o),j=e.firstCreatePass&&DI(e),J=n[wi],pe=eh(n);let xe=!0;if(3&o.type||m){const xt=R(o,n),tn=m?m(xt):xt,sn=pe.length,Pt=m?gi=>m(wr(gi[o.index])):o.index;let Cr=null;if(!m&&T&&(Cr=function rO(e,n,r,o){const c=e.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===r&&c[d+1]===o){const T=n[Uo],M=c[d+2];return T.length>M?T[M]:null}"string"==typeof m&&(d+=2)}return null}(e,n,c,o.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=d,Cr.__ngLastListenerFn__=d,xe=!1;else{d=bw(o,n,J,d),ww(xt,c,d);const gi=r.listen(tn,c,d);pe.push(d,gi),j&&j.push(c,Pt,sn,sn+1)}}else d=bw(o,n,J,d);const Pe=o.outputs;let Xe;if(xe&&null!==Pe&&(Xe=Pe[c])){const xt=Xe.length;if(xt)for(let tn=0;tn<xt;tn+=2){const Si=n[Xe[tn]][Xe[tn+1]].subscribe(d),wa=pe.length;pe.push(d,Si),j&&j.push(c,o.index,wa,-(wa+1))}}}function Sw(e,n,r,o){const c=te(null);try{return zs(6,n,r),!1!==r(o)}catch(d){return iv(e,d),!1}finally{zs(7,n,r),te(c)}}function bw(e,n,r,o){return function c(d){if(d===Function)return o;Em(e.componentOffset>-1?Se(e.index,n):n,5);let T=Sw(n,r,o,d),M=c.__ngNextListenerFn__;for(;M;)T=Sw(n,r,M,d)&&T,M=M.__ngNextListenerFn__;return T}}function Aw(e=1){return function Nc(e){return(yn.lFrame.contextLView=yo(e,yn.lFrame.contextLView))[wi]}(e)}function iO(e,n){let r=null;const o=function zy(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let c=0;c<n.length;c++){const d=n[c];if("*"!==d){if(null===o?pm(e,d,!0):cp(o,d))return c}else r=c}return r}function Mw(e){const n=Et()[ci][Ot];if(!n.projection){const o=n.projection=function ao(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),c=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const m=e?iO(d,e):0;null!==m&&(c[m]?c[m].projectionNext=d:o[m]=d,c[m]=d)}d=d.next}}}function Rw(e,n=0,r,o,c,d){const m=Et(),T=yr(),M=o?e+1:null;null!==M&&Fm(m,T,M,o,c,d,null,r);const j=Jd(T,ve+e,16,null,r||null);null===j.projection&&(j.projection=n),Ms();const pe=!m[Ur]||Hc();null===m[ci][Ot].projection[j.projection]&&null!==M?function sO(e,n,r){const o=ve+r,c=n.data[o],d=e[o],m=pp(d,c.tView.ssrId);hp(d,dp(e,c,void 0,{dehydratedView:m}),0,tf(c,m))}(m,T,M):pe&&32&~j.flags&&function hI(e,n,r){sp(n[lr],0,n,r,gu(e,r,n),Xh(r.parent||n[Ot],r,n))}(T,m,j)}function y0(e,n,r){return Lv(e,"",n,"",r),y0}function Lv(e,n,r,o,c){const d=Et(),m=Ep(d,n,r,o);return m!==Rr&&Jc(yr(),Ci(),d,e,m,d[lr],c,!1),Lv}function Uw(e,n,r,o){!function mC(e,n,r,o){const c=yr();if(c.firstCreatePass){const d=kn();yC(c,new hC(n,r,o),d.index),function AA(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(c,e),!(2&~r)&&(c.staticContentQueries=!0)}return pC(c,Et(),r)}(e,n,r,o)}function Bw(e,n,r){!function gC(e,n,r){const o=yr();return o.firstCreatePass&&(yC(o,new hC(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),pC(o,Et(),n)}(e,n,r)}function jw(e){const n=Et(),r=yr(),o=Ac();ll(o+1);const c=AE(r,o);if(e.dirty&&function gt(e){return!(4&~e[xn])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)e.reset([]);else{const d=vC(n,o);e.reset(d,bu),e.notifyOnChanges()}return!0}return!1}function $w(){return function bE(e,n){return e[Pn].queries[n].queryList}(Et(),Ac())}function Hw(e){return he(function io(){return yn.lFrame.contextLView}(),ve+e)}function Ww(e,n,r){_u(Ep(Et(),e,n,r))}function eT(e,n=""){const r=Et(),o=yr(),c=e+ve,d=o.firstCreatePass?Jd(o,c,1,n,null):o.data[c],m=tT(o,r,d,n,e);r[c]=m,_a()&&Zh(o,r,m,d),Kr(d,!1)}let tT=(e,n,r,o,c)=>(Os(!0),function rm(e,n){return e.createText(n)}(n[lr],o));function _0(e){return Vv("",e,""),_0}function Vv(e,n,r){const o=Et(),c=Ep(o,e,n,r);return c!==Rr&&vd(o,so(),c),Vv}function E0(e,n,r,o,c){const d=Et(),m=Ip(d,e,n,r,o,c);return m!==Rr&&vd(d,so(),m),E0}function I0(e,n,r,o,c,d,m){const T=Et(),M=Cp(T,e,n,r,o,c,d,m);return M!==Rr&&vd(T,so(),M),I0}function C0(e,n,r,o,c,d,m,T,M){const j=Et(),J=function Dp(e,n,r,o,c,d,m,T,M,j){const pe=tu(e,Rs(),r,c,m,M);return va(4),pe?n+ye(r)+o+ye(c)+d+ye(m)+T+ye(M)+j:Rr}(j,e,n,r,o,c,d,m,T,M);return J!==Rr&&vd(j,so(),J),C0}function D0(e,n,r,o,c,d,m,T,M,j,J,pe,xe){const Pe=Et(),Xe=function Tp(e,n,r,o,c,d,m,T,M,j,J,pe,xe,Pe){const Xe=Rs();let xt=tu(e,Xe,r,c,m,M);return xt=sf(e,Xe+4,J,xe)||xt,va(6),xt?n+ye(r)+o+ye(c)+d+ye(m)+T+ye(M)+j+ye(J)+pe+ye(xe)+Pe:Rr}(Pe,e,n,r,o,c,d,m,T,M,j,J,pe,xe);return Xe!==Rr&&vd(Pe,so(),Xe),D0}function w0(e,n,r){EC(n)&&(n=n());const o=Et();return ia(o,Go(),n)&&Jc(yr(),Ci(),o,e,n,o[lr],r,!1),w0}function oT(e,n){const r=EC(e);return r&&e.set(n),r}function T0(e,n){const r=Et(),o=yr(),c=kn();return m0(o,r,r[lr],c,e,n),T0}function S0(e,n,r,o,c){if(e=De(e),Array.isArray(e))for(let d=0;d<e.length;d++)S0(e[d],n,r,o,c);else{const d=yr(),m=Et(),T=kn();let M=Ln(e)?e:De(e.provide);const j=tl(e),J=1048575&T.providerIndexes,pe=T.directiveStart,xe=T.providerIndexes>>20;if(Ln(e)||!e.multi){const Pe=new I(j,c,Zd),Xe=A0(M,n,c?J:J+xe,pe);-1===Xe?(kc(Wu(T,m),d,M),b0(d,e,n.length),n.push(M),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),r.push(Pe),m.push(Pe)):(r[Xe]=Pe,m[Xe]=Pe)}else{const Pe=A0(M,n,J+xe,pe),Xe=A0(M,n,J,J+xe),tn=Xe>=0&&r[Xe];if(c&&!tn||!c&&!(Pe>=0&&r[Pe])){kc(Wu(T,m),d,M);const sn=function wO(e,n,r,o,c){const d=new I(e,r,Zd);return d.multi=[],d.index=n,d.componentProviders=0,lT(d,c,o&&!r),d}(c?DO:CO,r.length,c,o,j);!c&&tn&&(r[Xe].providerFactory=sn),b0(d,e,n.length,0),n.push(M),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),r.push(sn),m.push(sn)}else b0(d,e,Pe>-1?Pe:Xe,lT(r[c?Xe:Pe],j,!c&&o));!c&&o&&tn&&r[Xe].componentProviders++}}}function b0(e,n,r,o){const c=Ln(n),d=function _o(e){return!!e.useClass}(n);if(c||d){const M=(d?De(n.useClass):n).prototype.ngOnDestroy;if(M){const j=e.destroyHooks||(e.destroyHooks=[]);if(!c&&n.multi){const J=j.indexOf(r);-1===J?j.push(r,[o,M]):j[J+1].push(o,M)}else j.push(r,M)}}}function lT(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function A0(e,n,r,o){for(let c=r;c<o;c++)if(n[c]===e)return c;return-1}function CO(e,n,r,o){return M0(this.multi,[])}function DO(e,n,r,o){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,T=Yc(r,r[Ye],this.providerFactory.index,o);d=T.slice(0,m),M0(c,d);for(let M=m;M<T.length;M++)d.push(T[M])}else d=[],M0(c,d);return d}function M0(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function uT(e,n=[]){return r=>{r.providersResolver=(o,c)=>function IO(e,n,r){const o=yr();if(o.firstCreatePass){const c=vs(e);S0(r,o.data,o.blueprint,c,!0),S0(n,o.data,o.blueprint,c,!1)}}(o,c?c(e):e,n)}}function dT(e,n,r){const o=e.\u0275cmp;o.directiveDefs=yv(n,!1),o.pipeDefs=yv(r,!0)}function fT(e,n,r){const o=Es()+e,c=Et();return c[o]===Rr?ju(c,o,r?n.call(r):n()):km(c,o)}function pT(e,n,r,o){return vT(Et(),Es(),e,n,r,o)}function gT(e,n,r,o,c){return _T(Et(),Es(),e,n,r,o,c)}function mT(e,n,r,o,c,d){return ET(Et(),Es(),e,n,r,o,c,d)}function yT(e,n,r,o,c,d,m,T){const M=Es()+e,j=Et(),J=tu(j,M,r,o,c,d);return ia(j,M+4,m)||J?ju(j,M+5,T?n.call(T,r,o,c,d,m):n(r,o,c,d,m)):km(j,M+5)}function Km(e,n){const r=e[n];return r===Rr?void 0:r}function vT(e,n,r,o,c,d){const m=n+r;return ia(e,m,c)?ju(e,m+1,d?o.call(d,c):o(c)):Km(e,m+1)}function _T(e,n,r,o,c,d,m){const T=n+r;return sf(e,T,c,d)?ju(e,T+2,m?o.call(m,c,d):o(c,d)):Km(e,T+2)}function ET(e,n,r,o,c,d,m,T){const M=n+r;return Ev(e,M,c,d,m)?ju(e,M+3,T?o.call(T,c,d,m):o(c,d,m)):Km(e,M+3)}function DT(e,n){const r=yr();let o;const c=e+ve;r.firstCreatePass?(o=function OO(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[c]=o,o.onDestroy&&(r.destroyHooks??=[]).push(c,o.onDestroy)):o=r.data[c];const d=o.factory||(o.factory=Un(o.type)),T=dr(Zd);try{const M=ls(!1),j=d();return ls(M),function v0(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}(r,Et(),c,j),j}finally{dr(T)}}function wT(e,n,r){const o=e+ve,c=Et(),d=he(c,o);return zm(c,o)?vT(c,Es(),n,d.transform,r,d):d.transform(r)}function TT(e,n,r,o){const c=e+ve,d=Et(),m=he(d,c);return zm(d,c)?_T(d,Es(),n,m.transform,r,o,m):m.transform(r,o)}function ST(e,n,r,o,c){const d=e+ve,m=Et(),T=he(m,d);return zm(m,d)?ET(m,Es(),n,T.transform,r,o,c,T):T.transform(r,o,c)}function bT(e,n,r){const o=e+ve,c=Et(),d=he(c,o);return zm(c,o)?function CT(e,n,r,o,c,d){let m=n+r,T=!1;for(let M=0;M<c.length;M++)ia(e,m++,c[M])&&(T=!0);return T?ju(e,m,o.apply(d,c)):Km(e,m)}(c,Es(),n,d.transform,r,d):d.transform.apply(d,r)}function zm(e,n){return e[Ye].data[n].pure}function AT(e,n){return av(e,n)}class WT{full;major;minor;patch;constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const ox=new WT("19.0.5");class ax{ngModuleFactory;componentFactories;constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let cx=(()=>{class e{compileModuleSync(r){return new OE(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=Fc(os(r).declarations).reduce((m,T)=>{const M=nr(T);return M&&m.push(new xm(M)),m},[]);return new ax(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dx=(()=>{class e{zone=dn(B);changeDetectionScheduler=dn(Ht);applicationRef=dn(Ul);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function k0({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new B({...F0(),scheduleInRootZone:r}),[{provide:B,useFactory:e},{provide:ss,multi:!0,useFactory:()=>{const o=dn(dx,{optional:!0});return()=>o.initialize()}},{provide:ss,multi:!0,useFactory:()=>{const o=dn(fx);return()=>{o.initialize()}}},!0===n?{provide:$r,useValue:!0}:[],{provide:Ar,useValue:r??Ft}]}function F0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let fx=(()=>{class e{subscription=new vr.yU;initialized=!1;zone=dn(B);pendingTasks=dn(Ei);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{B.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qm=(()=>{class e{appRef=dn(Ul);taskService=dn(Ei);ngZone=dn(B);zonelessEnabled=dn(Kt);tracing=dn(Xl,{optional:!0});disableScheduling=dn($r,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new vr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(dn(Ar,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fn||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 8:this.appRef.deferredDirtyFlags|=8;break;case 6:case 14:this.appRef.dirtyFlags|=2,o=!0;break;case 13:this.appRef.dirtyFlags|=16,o=!0;break;case 12:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const c=this.useMicrotaskScheduler?f:us;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>c(()=>this.tick())):this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const V0=new me("",{providedIn:"root",factory:()=>dn(V0,bn.Optional|bn.SkipSelf)||function px(){return typeof $localize<"u"&&$localize.locale||xv}()}),gx=new me("",{providedIn:"root",factory:()=>"USD"}),jv=new me(""),Ex=new me("");function Xm(e){return!e.moduleRef}let XT=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(r){this._injector=r}bootstrapModuleFactory(r,o){const c=o?.scheduleInRootZone,m=o?.ignoreChangesOutsideZone,T=[k0({ngZoneFactory:()=>function ml(e="zone.js",n){return"noop"===e?new fn:"zone.js"===e?new B(n):e}(o?.ngZone,{...F0({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:m}),{provide:Ht,useExisting:qm}],M=function UA(e,n,r){return new NE(e,n,r,!1)}(r.moduleType,this.injector,T);return function qT(e){const n=Xm(e)?e.r3Injector:e.moduleRef.injector,r=n.get(B);return r.run(()=>{Xm(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Lr,null);let c;if(r.runOutsideAngular(()=>{c=r.onError.subscribe({next:d=>{o.handleError(d)}})}),Xm(e)){const d=()=>n.destroy(),m=e.platformInjector.get(jv);m.add(d),n.onDestroy(()=>{c.unsubscribe(),m.delete(d)})}else{const d=()=>e.moduleRef.destroy(),m=e.platformInjector.get(jv);m.add(d),e.moduleRef.onDestroy(()=>{Tv(e.allPlatformModules,e.moduleRef),c.unsubscribe(),m.delete(d)})}return function zM(e,n,r){try{const o=r();return HE(o)?o.catch(c=>{throw n.runOutsideAngular(()=>e.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get(uD);return d.runInitializers(),d.donePromise.then(()=>{if(function vN(e){"string"==typeof e&&(ow=e.toLowerCase().replace(/_/g,"-"))}(n.get(V0,xv)||xv),!n.get(Ex,!0))return Xm(e)?n.get(Ul):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Xm(e)){const M=n.get(Ul);return void 0!==e.rootComponent&&M.bootstrap(e.rootComponent),M}return function Ix(e,n){const r=e.injector.get(Ul);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Qt(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:M,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,o=[]){const c=fD({},o);return function ux(e,n,r){const o=new OE(r);return Promise.resolve(o)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,c))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qt(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(jv,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(o){return new(o||e)(hi(Ie))};static \u0275prov=hn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ah=null;const YT=new me("");function ZT(e,n,r=[]){const o=`Platform: ${n}`,c=new me(o);return(d=[])=>{let m=U0();if(!m||m.injector.get(YT,!1)){const T=[...r,...d,{provide:c,useValue:!0}];e?e(T):function Cx(e){if(ah&&!ah.get(YT,!1))throw new Qt(400,!1);(function hD(){!function mr(e){Nr=e}(()=>{throw new Qt(600,!1)})})(),ah=e;const n=e.get(XT);(function eS(e){const n=e.get(Yp,null);Ao(e,()=>{n?.forEach(r=>r())})})(e)}(function JT(e=[],n){return Ie.create({name:n,providers:[{provide:no,useValue:"platform"},{provide:jv,useValue:new Set([()=>ah=null])},...e]})}(T,o))}return function Dx(){const n=U0();if(!n)throw new Qt(401,!1);return n}()}}function U0(){return ah?.get(XT)??null}function Tx(){return!1}function Sx(){}let nS=(()=>class e{static __NG_ELEMENT_ID__=bx})();function bx(e){return function Ax(e,n,r){if(Gs(e)&&!r){const o=Se(e.index,n);return new Im(o,o)}return 175&e.type?new Im(n[ci],n):null}(kn(),Et(),!(16&~e))}class oS{constructor(){}supports(n){return _v(n)}create(n){return new xx(n)}}const Ox=(e,n)=>n;class xx{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Ox}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,c=0,d=null;for(;r||o;){const m=!o||r&&r.currentIndex<cS(o,c,d)?r:o,T=cS(m,c,d),M=m.currentIndex;if(m===o)c--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)c++;else{d||(d=[]);const j=T-c,J=M-c;if(j!=J){for(let xe=0;xe<j;xe++){const Pe=xe<d.length?d[xe]:d[xe]=0,Xe=Pe+xe;J<=Xe&&Xe<j&&(d[xe]=Pe+1)}d[m.previousIndex]=J-j}}T!==M&&n(m,T,M)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!_v(n))throw new Qt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,d,m,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)d=n[T],m=this._trackByFn(T,d),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,d,m,T)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,m,T),o=!0),r=r._next}else c=0,function nM(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,T=>{m=this._trackByFn(c,T),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,T,m,c)),Object.is(r.item,T)||this._addIdentityChange(r,T)):(r=this._mismatch(r,T,m,c),o=!0),r=r._next,c++}),this.length=c;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,c){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,c)):n=this._addAfter(new Px(r,o),d,c),n}_verifyReinsertion(n,r,o,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,d=n._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const c=null===r?this._itHead:r._next;return n._next=c,n._prev=r,null===c?this._itTail=n:c._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new aS),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Px{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,r){this.item=n,this.trackById=r}}class kx{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class aS{map=new Map;put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new kx,this.map.set(r,o)),o.add(n)}get(n,r){const c=this.map.get(n);return c?c.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cS(e,n,r){const o=e.previousIndex;if(null===o)return o;let c=0;return r&&o<r.length&&(c=r[o]),o+n+c}class lS{constructor(){}supports(n){return n instanceof Map||LE(n)}create(){return new Fx}}class Fx{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||LE(n)))throw new Qt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(r&&r.key===c)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(c,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,r);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const o=new Lx(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class Lx{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function uS(){return new W0([new oS])}let W0=(()=>{class e{factories;static \u0275prov=hn({token:e,providedIn:"root",factory:uS});constructor(r){this.factories=r}static create(r,o){if(null!=o){const c=o.factories.slice();r=r.concat(c)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||uS()),deps:[[e,new ms,new eo]]}}find(r){const o=this.factories.find(c=>c.supports(r));if(null!=o)return o;throw new Qt(901,!1)}}return e})();function dS(){return new G0([new lS])}let G0=(()=>{class e{static \u0275prov=hn({token:e,providedIn:"root",factory:dS});factories;constructor(r){this.factories=r}static create(r,o){if(o){const c=o.factories.slice();r=r.concat(c)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||dS()),deps:[[e,new ms,new eo]]}}find(r){const o=this.factories.find(c=>c.supports(r));if(o)return o;throw new Qt(901,!1)}}return e})();const Bx=ZT(null,"core",[]);let jx=(()=>{class e{constructor(r){}static \u0275fac=function(o){return new(o||e)(hi(Ul))};static \u0275mod=PE({type:e});static \u0275inj=Hr({})}return e})();function IP(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function q0(e,n){ra("NgSignals");const r=function Nt(e){const n=Object.create($n);n.computation=e;const r=()=>{if(Ve(n),Te(n),n.value===Jt)throw n.error;return n.value};return r[ie]=n,r}(e);return n?.equal&&(r[ie].equal=n.equal),r}function xp(e){const n=te(null);try{return e()}finally{te(n)}}let US=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=bP})();function bP(){return new US(Et(),kn())}let MP=(()=>{class e extends dD{pendingTasks=dn(Ei);taskId=null;schedule(r){super.schedule(r),null===this.taskId&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{null!==this.taskId&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=hn({token:e,providedIn:"root",factory:()=>new e})}return e})();class RP{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(n,r,o,c,d,m){this.scheduler=n,this.effectFn=r,this.zone=o,this.injector=d,this.watcher=function Le(e,n,r){const o=Object.create(Mt);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;const c=M=>{o.cleanupFn=M};return o.ref={notify:()=>bt(o),run:()=>{if(null===o.fn)return;if(function fe(){return H}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!lt(o))return;o.hasRun=!0;const M=wt(o);try{o.cleanupFn(),o.cleanupFn=ht,o.fn(c)}finally{qt(o,M)}},cleanup:()=>o.cleanupFn(),destroy:()=>function m(M){(function d(M){return null===M.fn&&null===M.schedule})(M)||(qe(M),M.cleanupFn(),M.fn=null,M.schedule=null,M.cleanupFn=ht)}(o),[ie]:o},o.ref}(T=>this.runEffect(T),()=>this.schedule(),m),this.unregisterOnDestroy=c?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(Lr,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let X0=!1;class xP{[ie];constructor(n){this[ie]=n}destroy(){this[ie].destroy()}}function Y0(e,n){if(X0)return function OP(e,n){ra("NgSignals"),!n?.injector&&qr();const r=n?.injector??dn(Ie),o=!0!==n?.manualCleanup?r.get(Dt):null,c=new RP(r.get(MP),e,typeof Zone>"u"?null:Zone.current,o,r,n?.allowSignalWrites??!1),d=r.get(nS,null,{optional:!0});return d&&8&d._lView[xn]?(d._lView[q]??=[]).push(c.watcher.notify):c.watcher.notify(),c}(e,n);ra("NgSignals"),!n?.injector&&qr();const r=n?.injector??dn(Ie);let c,o=!0!==n?.manualCleanup?r.get(Dt):null;const d=r.get(US,null,{optional:!0}),m=r.get(Ht);return null===d||n?.forceRoot?c=function LP(e,n,r){const o=Object.create(PP);return o.fn=e,o.scheduler=n,o.notifier=r,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(13),o}(e,r.get(GE),m):(c=function FP(e,n,r){const o=Object.create(kP);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=n,o.fn=r,e[U]??=new Set,e[U].add(o),o.consumerMarkedDirty(o),o}(d.view,m,e),o instanceof vn&&o._lView===d.view&&(o=null)),c.injector=r,null!==o&&(c.onDestroyFn=o.onDestroy(()=>c.destroy())),new xP(c)}const BS={...le,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,onDestroyFn:ns,run(){if(this.dirty=!1,this.hasRun&&!lt(this))return;this.hasRun=!0;const e=o=>(this.cleanupFns??=[]).push(o),n=wt(this),r=Oo(!1);try{this.maybeCleanup(),this.fn(e)}finally{Oo(r),qt(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},PP={...BS,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){qe(this),this.onDestroyFn(),this.maybeCleanup()}},kP={...BS,consumerMarkedDirty(){this.view[xn]|=8192,cs(this.view),this.notifier.notify(14)},destroy(){qe(this),this.onDestroyFn(),this.maybeCleanup(),this.view[U]?.delete(this)}};function GP(e,n){const r=nr(e),o=n.elementInjector||qo();return new xm(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function KP(e){const n=nr(e);if(!n)return null;const r=new xm(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9079:(St,Re,w)=>{w.d(Re,{ot:()=>Y});var p=w(4438);function Y(Te,Ue){const Ve=!Ue?.manualCleanup;Ve&&!Ue?.injector&&(0,p.Af3)(Y);const Qe=Ve?Ue?.injector?.get(p.abz)??(0,p.WQX)(p.abz):null,st=function fe(Te=Object.is){return(Ue,Ve)=>1===Ue.kind&&1===Ve.kind&&Te(Ue.value,Ve.value)}(Ue?.equal);let bt;bt=(0,p.vPA)(Ue?.requireSync?{kind:0}:{kind:1,value:Ue?.initialValue},{equal:st});const vt=Te.subscribe({next:wt=>bt.set({kind:1,value:wt}),error:wt=>{if(Ue?.rejectErrors)throw wt;bt.set({kind:2,error:wt})}});if(Ue?.requireSync&&0===bt().kind)throw new p.wOt(601,!1);return Qe?.onDestroy(vt.unsubscribe.bind(vt)),(0,p.EWP)(()=>{const wt=bt();switch(wt.kind){case 1:return wt.value;case 2:throw wt.error;case 0:throw new p.wOt(601,!1)}},{equal:Ue?.equal})}},9417:(St,Re,w)=>{w.d(Re,{$R:()=>aa,BC:()=>Vr,Fm:()=>Ii,JD:()=>dn,MJ:()=>jn,MR:()=>Hi,Q0:()=>gn,R_:()=>ss,VZ:()=>ao,W0:()=>ms,X1:()=>Hs,Y4:()=>Zt,YN:()=>ys,YS:()=>js,Yp:()=>nr,ZU:()=>Mt,Zm:()=>le,cV:()=>zn,cb:()=>Ai,cz:()=>vt,gE:()=>Cn,j4:()=>ws,k0:()=>lt,kq:()=>fe,l_:()=>Ui,me:()=>Qe,ok:()=>$s,qT:()=>bn,tU:()=>Dr,v8:()=>wo,vO:()=>Bn,vS:()=>jr,wz:()=>si,xH:()=>xo,xh:()=>uo,y7:()=>Ts,zX:()=>Gr});var p=w(4438),D=w(177),ce=w(2806),H=w(7468),Z=w(1413),ie=w(6354);let te=(()=>{class z{_renderer;_elementRef;onChange=V=>{};onTouched=()=>{};constructor(V,ue){this._renderer=V,this._elementRef=ue}setProperty(V,ue){this._renderer.setProperty(this._elementRef.nativeElement,V,ue)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(p.sFG),p.rXU(p.aKT))};static \u0275dir=p.FsC({type:z})}return z})(),Y=(()=>{class z extends te{static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,features:[p.Vt3]})}return z})();const fe=new p.nKC(""),ne={provide:fe,useExisting:(0,p.Rfq)(()=>le),multi:!0};let le=(()=>{class z extends Y{writeValue(V){this.setProperty("checked",V)}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("change",function(Ln){return ke.onChange(Ln.target.checked)})("blur",function(){return ke.onTouched()})},standalone:!1,features:[p.Jv_([ne]),p.Vt3]})}return z})();const Te={provide:fe,useExisting:(0,p.Rfq)(()=>Qe),multi:!0},Ve=new p.nKC("");let Qe=(()=>{class z extends te{_compositionMode;_composing=!1;constructor(V,ue,ke){super(V,ue),this._compositionMode=ke,null==this._compositionMode&&(this._compositionMode=!function Ue(){const z=(0,D.QT)()?(0,D.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(Ve,8))};static \u0275dir=p.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("input",function(Ln){return ke._handleInput(Ln.target.value)})("blur",function(){return ke.onTouched()})("compositionstart",function(){return ke._compositionStart()})("compositionend",function(Ln){return ke._compositionEnd(Ln.target.value)})},standalone:!1,features:[p.Jv_([Te]),p.Vt3]})}return z})();function st(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function bt(z){return null!=z&&"number"==typeof z.length}const vt=new p.nKC(""),wt=new p.nKC(""),qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(G){return qe(G)}static max(G){return nn(G)}static required(G){return Bt(G)}static requiredTrue(G){return function Ze(z){return!0===z.value?null:{required:!0}}(G)}static email(G){return function Gt(z){return st(z.value)||qt.test(z.value)?null:{email:!0}}(G)}static minLength(G){return Lt(G)}static maxLength(G){return wn(G)}static pattern(G){return Nt(G)}static nullValidator(G){return null}static compose(G){return mr(G)}static composeAsync(G){return $e(G)}}function qe(z){return G=>{if(st(G.value)||st(z))return null;const V=parseFloat(G.value);return!isNaN(V)&&V<z?{min:{min:z,actual:G.value}}:null}}function nn(z){return G=>{if(st(G.value)||st(z))return null;const V=parseFloat(G.value);return!isNaN(V)&&V>z?{max:{max:z,actual:G.value}}:null}}function Bt(z){return st(z.value)?{required:!0}:null}function Lt(z){return G=>st(G.value)||!bt(G.value)?null:G.value.length<z?{minlength:{requiredLength:z,actualLength:G.value.length}}:null}function wn(z){return G=>bt(G.value)&&G.value.length>z?{maxlength:{requiredLength:z,actualLength:G.value.length}}:null}function Nt(z){if(!z)return et;let G,V;return"string"==typeof z?(V="","^"!==z.charAt(0)&&(V+="^"),V+=z,"$"!==z.charAt(z.length-1)&&(V+="$"),G=new RegExp(V)):(V=z.toString(),G=z),ue=>{if(st(ue.value))return null;const ke=ue.value;return G.test(ke)?null:{pattern:{requiredPattern:V,actualValue:ke}}}}function et(z){return null}function on(z){return null!=z}function Jt(z){return(0,p.jNT)(z)?(0,ce.H)(z):z}function $n(z){let G={};return z.forEach(V=>{G=null!=V?{...G,...V}:G}),0===Object.keys(G).length?null:G}function br(z,G){return G.map(V=>V(z))}function bi(z){return z.map(G=>function Nr(z){return!z.validate}(G)?G:V=>G.validate(V))}function mr(z){if(!z)return null;const G=z.filter(on);return 0==G.length?null:function(V){return $n(br(V,G))}}function Je(z){return null!=z?mr(bi(z)):null}function $e(z){if(!z)return null;const G=z.filter(on);return 0==G.length?null:function(V){const ue=br(V,G).map(Jt);return(0,H.p)(ue).pipe((0,ie.T)($n))}}function pt(z){return null!=z?$e(bi(z)):null}function _t(z,G){return null===z?[G]:Array.isArray(z)?[...z,G]:[z,G]}function It(z){return z._rawValidators}function At(z){return z._rawAsyncValidators}function pn(z){return z?Array.isArray(z)?z:[z]:[]}function mt(z,G){return Array.isArray(z)?z.includes(G):z===G}function it(z,G){const V=pn(G);return pn(z).forEach(ke=>{mt(V,ke)||V.push(ke)}),V}function Le(z,G){return pn(G).filter(V=>!mt(z,V))}class ht{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=Je(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,V){return!!this.control&&this.control.hasError(G,V)}getError(G,V){return this.control?this.control.getError(G,V):null}}class Mt extends ht{name;get formDirective(){return null}get path(){return null}}class Bn extends ht{_parent=null;name=null;valueAccessor=null}class In{_cd;constructor(G){this._cd=G}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Vr=(()=>{class z extends In{constructor(V){super(V)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Bn,2))};static \u0275dir=p.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,ke){2&ue&&p.AVh("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)},standalone:!1,features:[p.Vt3]})}return z})(),Ai=(()=>{class z extends In{constructor(V){super(V)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Mt,10))};static \u0275dir=p.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,ke){2&ue&&p.AVh("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)("ng-submitted",ke.isSubmitted)},standalone:!1,features:[p.Vt3]})}return z})();const mi="VALID",Gn="INVALID",$i="PENDING",or="DISABLED";class gr{}class Pr extends gr{value;source;constructor(G,V){super(),this.value=G,this.source=V}}class yi extends gr{pristine;source;constructor(G,V){super(),this.pristine=G,this.source=V}}class zi extends gr{touched;source;constructor(G,V){super(),this.touched=G,this.source=V}}class De extends gr{status;source;constructor(G,V){super(),this.status=G,this.source=V}}class Oe extends gr{source;constructor(G){super(),this.source=G}}class de extends gr{source;constructor(G){super(),this.source=G}}function be(z){return(Vt(z)?z.validators:z)||null}function Ae(z,G){return(Vt(G)?G.asyncValidators:z)||null}function Vt(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function Rn(z,G,V){const ue=z.controls;if(!(G?Object.keys(ue):ue).length)throw new p.wOt(1e3,"");if(!ue[V])throw new p.wOt(1001,"")}function Tn(z,G,V){z._forEachChild((ue,ke)=>{if(void 0===V[ke])throw new p.wOt(1002,"")})}class ar{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(G,V){this._assignValidators(G),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get status(){return(0,p.O8t)(this.statusReactive)}set status(G){(0,p.O8t)(()=>this.statusReactive.set(G))}_status=(0,p.EWP)(()=>this.statusReactive());statusReactive=(0,p.vPA)(void 0);get valid(){return this.status===mi}get invalid(){return this.status===Gn}get pending(){return this.status==$i}get disabled(){return this.status===or}get enabled(){return this.status!==or}errors;get pristine(){return(0,p.O8t)(this.pristineReactive)}set pristine(G){(0,p.O8t)(()=>this.pristineReactive.set(G))}_pristine=(0,p.EWP)(()=>this.pristineReactive());pristineReactive=(0,p.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,p.O8t)(this.touchedReactive)}set touched(G){(0,p.O8t)(()=>this.touchedReactive.set(G))}_touched=(0,p.EWP)(()=>this.touchedReactive());touchedReactive=(0,p.vPA)(!1);get untouched(){return!this.touched}_events=new Z.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(it(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(it(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Le(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Le(G,this._rawAsyncValidators))}hasValidator(G){return mt(this._rawValidators,G)}hasAsyncValidator(G){return mt(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){const V=!1===this.touched;this.touched=!0;const ue=G.sourceControl??this;this._parent&&!G.onlySelf&&this._parent.markAsTouched({...G,sourceControl:ue}),V&&!1!==G.emitEvent&&this._events.next(new zi(!0,ue))}markAllAsTouched(G={}){this.markAsTouched({onlySelf:!0,emitEvent:G.emitEvent,sourceControl:this}),this._forEachChild(V=>V.markAllAsTouched(G))}markAsUntouched(G={}){const V=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ue=G.sourceControl??this;this._forEachChild(ke=>{ke.markAsUntouched({onlySelf:!0,emitEvent:G.emitEvent,sourceControl:ue})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G,ue),V&&!1!==G.emitEvent&&this._events.next(new zi(!1,ue))}markAsDirty(G={}){const V=!0===this.pristine;this.pristine=!1;const ue=G.sourceControl??this;this._parent&&!G.onlySelf&&this._parent.markAsDirty({...G,sourceControl:ue}),V&&!1!==G.emitEvent&&this._events.next(new yi(!1,ue))}markAsPristine(G={}){const V=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ue=G.sourceControl??this;this._forEachChild(ke=>{ke.markAsPristine({onlySelf:!0,emitEvent:G.emitEvent})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G,ue),V&&!1!==G.emitEvent&&this._events.next(new yi(!0,ue))}markAsPending(G={}){this.status=$i;const V=G.sourceControl??this;!1!==G.emitEvent&&(this._events.next(new De(this.status,V)),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.markAsPending({...G,sourceControl:V})}disable(G={}){const V=this._parentMarkedDirty(G.onlySelf);this.status=or,this.errors=null,this._forEachChild(ke=>{ke.disable({...G,onlySelf:!0})}),this._updateValue();const ue=G.sourceControl??this;!1!==G.emitEvent&&(this._events.next(new Pr(this.value,ue)),this._events.next(new De(this.status,ue)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:V},this),this._onDisabledChange.forEach(ke=>ke(!0))}enable(G={}){const V=this._parentMarkedDirty(G.onlySelf);this.status=mi,this._forEachChild(ue=>{ue.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:V},this),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(G,V){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine({},V),this._parent._updateTouched({},V))}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ue=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mi||this.status===$i)&&this._runAsyncValidator(ue,G.emitEvent)}const V=G.sourceControl??this;!1!==G.emitEvent&&(this._events.next(new Pr(this.value,V)),this._events.next(new De(this.status,V)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity({...G,sourceControl:V})}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G,V){if(this.asyncValidator){this.status=$i,this._hasOwnPendingAsyncValidator={emitEvent:!1!==V};const ue=Jt(this.asyncValidator(this));this._asyncValidationSubscription=ue.subscribe(ke=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ke,{emitEvent:V,shouldHaveEmitted:G})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const G=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,G}return!1}setErrors(G,V={}){this.errors=G,this._updateControlsErrors(!1!==V.emitEvent,this,V.shouldHaveEmitted)}get(G){let V=G;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ue,ke)=>ue&&ue._find(ke),this)}getError(G,V){const ue=V?this.get(V):this;return ue&&ue.errors?ue.errors[G]:null}hasError(G,V){return!!this.getError(G,V)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G,V,ue){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),(G||ue)&&this._events.next(new De(this.status,V)),this._parent&&this._parent._updateControlsErrors(G,V,ue)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?Gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($i)?$i:this._anyControlsHaveStatus(Gn)?Gn:mi}_anyControlsHaveStatus(G){return this._anyControls(V=>V.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G,V){const ue=!this._anyControlsDirty(),ke=this.pristine!==ue;this.pristine=ue,this._parent&&!G.onlySelf&&this._parent._updatePristine(G,V),ke&&this._events.next(new yi(this.pristine,V))}_updateTouched(G={},V){this.touched=this._anyControlsTouched(),this._events.next(new zi(this.touched,V)),this._parent&&!G.onlySelf&&this._parent._updateTouched(G,V)}_onDisabledChange=[];_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){Vt(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function re(z){return Array.isArray(z)?Je(z):z||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function Ke(z){return Array.isArray(z)?pt(z):z||null}(this._rawAsyncValidators)}}class Cn extends ar{constructor(G,V,ue){super(be(V),Ae(ue,V)),this.controls=G,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(G,V){return this.controls[G]?this.controls[G]:(this.controls[G]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(G,V,ue={}){this.registerControl(G,V),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(G,V={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(G,V,ue={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],V&&this.registerControl(G,V),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,V={}){Tn(this,0,G),Object.keys(G).forEach(ue=>{Rn(this,!0,ue),this.controls[ue].setValue(G[ue],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(G,V={}){null!=G&&(Object.keys(G).forEach(ue=>{const ke=this.controls[ue];ke&&ke.patchValue(G[ue],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(G={},V={}){this._forEachChild((ue,ke)=>{ue.reset(G?G[ke]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V,this),this._updateTouched(V,this),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(G,V,ue)=>(G[ue]=V.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(V,ue)=>!!ue._syncPendingControls()||V);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(V=>{const ue=this.controls[V];ue&&G(ue,V)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[V,ue]of Object.entries(this.controls))if(this.contains(V)&&G(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ue,ke)=>((ue.enabled||this.disabled)&&(V[ke]=ue.value),V))}_reduceChildren(G,V){let ue=G;return this._forEachChild((ke,mn)=>{ue=V(ue,ke,mn)}),ue}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class ui extends Cn{}const yt=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>rt}),rt="always";function jt(z,G){return[...G.path,z]}function cn(z,G,V=rt){Hr(z,G),G.valueAccessor.writeValue(z.value),(z.disabled||"always"===V)&&G.valueAccessor.setDisabledState?.(z.disabled),function ai(z,G){G.valueAccessor.registerOnChange(V=>{z._pendingValue=V,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Ds(z,G)})}(z,G),function Zs(z,G){const V=(ue,ke)=>{G.valueAccessor.writeValue(ue),ke&&G.viewToModelUpdate(ue)};z.registerOnChange(V),G._registerOnDestroy(()=>{z._unregisterOnChange(V)})}(z,G),function gs(z,G){G.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Ds(z,G),"submit"!==z.updateOn&&z.markAsTouched()})}(z,G),function _r(z,G){if(G.valueAccessor.setDisabledState){const V=ue=>{G.valueAccessor.setDisabledState(ue)};z.registerOnDisabledChange(V),G._registerOnDestroy(()=>{z._unregisterOnDisabledChange(V)})}}(z,G)}function On(z,G,V=!0){const ue=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(ue),G.valueAccessor.registerOnTouched(ue)),ni(z,G),z&&(G._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function hn(z,G){z.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(G)})}function Hr(z,G){const V=It(z);null!==G.validator?z.setValidators(_t(V,G.validator)):"function"==typeof V&&z.setValidators([V]);const ue=At(z);null!==G.asyncValidator?z.setAsyncValidators(_t(ue,G.asyncValidator)):"function"==typeof ue&&z.setAsyncValidators([ue]);const ke=()=>z.updateValueAndValidity();hn(G._rawValidators,ke),hn(G._rawAsyncValidators,ke)}function ni(z,G){let V=!1;if(null!==z){if(null!==G.validator){const ke=It(z);if(Array.isArray(ke)&&ke.length>0){const mn=ke.filter(Ln=>Ln!==G.validator);mn.length!==ke.length&&(V=!0,z.setValidators(mn))}}if(null!==G.asyncValidator){const ke=At(z);if(Array.isArray(ke)&&ke.length>0){const mn=ke.filter(Ln=>Ln!==G.asyncValidator);mn.length!==ke.length&&(V=!0,z.setAsyncValidators(mn))}}}const ue=()=>{};return hn(G._rawValidators,ue),hn(G._rawAsyncValidators,ue),V}function Ds(z,G){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Qi(z,G){Hr(z,G)}function Tt(z,G){if(!z.hasOwnProperty("model"))return!1;const V=z.model;return!!V.isFirstChange()||!Object.is(G,V.currentValue)}function Xt(z,G){z._syncPendingControls(),G.forEach(V=>{const ue=V.control;"submit"===ue.updateOn&&ue._pendingChange&&(V.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function Fn(z,G){if(!G)return null;let V,ue,ke;return Array.isArray(G),G.forEach(mn=>{mn.constructor===Qe?V=mn:function Rt(z){return Object.getPrototypeOf(z.constructor)===Y}(mn)?ue=mn:ke=mn}),ke||ue||V||null}const Kn={provide:Mt,useExisting:(0,p.Rfq)(()=>zn)},ln=Promise.resolve();let zn=(()=>{class z extends Mt{callSetDisabledState;get submitted(){return(0,p.O8t)(this.submittedReactive)}_submitted=(0,p.EWP)(()=>this.submittedReactive());submittedReactive=(0,p.vPA)(!1);_directives=new Set;form;ngSubmit=new p.bkB;options;constructor(V,ue,ke){super(),this.callSetDisabledState=ke,this.form=new Cn({},Je(V),pt(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){ln.then(()=>{const ue=this._findContainer(V.path);V.control=ue.registerControl(V.name,V.control),cn(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){ln.then(()=>{const ue=this._findContainer(V.path);ue&&ue.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){ln.then(()=>{const ue=this._findContainer(V.path),ke=new Cn({});Qi(ke,V),ue.registerControl(V.name,ke),ke.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){ln.then(()=>{const ue=this._findContainer(V.path);ue&&ue.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ue){ln.then(()=>{this.form.get(V.path).setValue(ue)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submittedReactive.set(!0),Xt(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static \u0275fac=function(ue){return new(ue||z)(p.rXU(vt,10),p.rXU(wt,10),p.rXU(yt,8))};static \u0275dir=p.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("submit",function(Ln){return ke.onSubmit(Ln)})("reset",function(){return ke.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[p.Jv_([Kn]),p.Vt3]})}return z})();function di(z,G){const V=z.indexOf(G);V>-1&&z.splice(V,1)}function vi(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const jn=class extends ar{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(G=null,V,ue){super(be(V),Ae(ue,V)),this._applyFormState(G),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vt(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=vi(G)?G.value:G)}setValue(G,V={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(G,V={}){this.setValue(G,V)}reset(G=this.defaultValue,V={}){this._applyFormState(G),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){di(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){di(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){vi(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Di=(()=>{class z extends Mt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,standalone:!1,features:[p.Vt3]})}return z})();const dt={provide:Mt,useExisting:(0,p.Rfq)(()=>Zt)};let Zt=(()=>{class z extends Di{name="";constructor(V,ue,ke){super(),this._parent=V,this._setValidators(ue),this._setAsyncValidators(ke)}_checkParentType(){}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Mt,5),p.rXU(vt,10),p.rXU(wt,10))};static \u0275dir=p.FsC({type:z,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],standalone:!1,features:[p.Jv_([dt]),p.Vt3]})}return z})();const rn={provide:Bn,useExisting:(0,p.Rfq)(()=>jr)},tr=Promise.resolve();let jr=(()=>{class z extends Bn{_changeDetectorRef;callSetDisabledState;control=new jn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new p.bkB;constructor(V,ue,ke,mn,Ln,_o){super(),this._changeDetectorRef=Ln,this.callSetDisabledState=_o,this._parent=V,this._setValidators(ue),this._setAsyncValidators(ke),this.valueAccessor=Fn(0,mn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ue=V.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Tt(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){tr.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ue=V.isDisabled.currentValue,ke=0!==ue&&(0,p.L39)(ue);tr.then(()=>{ke&&!this.control.disabled?this.control.disable():!ke&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?jt(V,this._parent):[V]}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Mt,9),p.rXU(vt,10),p.rXU(wt,10),p.rXU(fe,10),p.rXU(p.gRc,8),p.rXU(yt,8))};static \u0275dir=p.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[p.Jv_([rn]),p.Vt3,p.OA$]})}return z})(),bn=(()=>{class z{static \u0275fac=function(ue){return new(ue||z)};static \u0275dir=p.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return z})();const xi={provide:fe,useExisting:(0,p.Rfq)(()=>gn),multi:!0};let gn=(()=>{class z extends Y{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=ue=>{V(""==ue?null:parseFloat(ue))}}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("input",function(Ln){return ke.onChange(Ln.target.value)})("blur",function(){return ke.onTouched()})},standalone:!1,features:[p.Jv_([xi]),p.Vt3]})}return z})();const dr={provide:fe,useExisting:(0,p.Rfq)(()=>Ii),multi:!0};let Ps=(()=>{class z{_accessors=[];add(V,ue){this._accessors.push([V,ue])}remove(V){for(let ue=this._accessors.length-1;ue>=0;--ue)if(this._accessors[ue][1]===V)return void this._accessors.splice(ue,1)}select(V){this._accessors.forEach(ue=>{this._isSameGroup(ue,V)&&ue[1]!==V&&ue[1].fireUncheck(V.value)})}_isSameGroup(V,ue){return!!V[0].control&&V[0]._parent===ue._control._parent&&V[1].name===ue.name}static \u0275fac=function(ue){return new(ue||z)};static \u0275prov=p.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),Ii=(()=>{class z extends Y{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,p.WQX)(yt,{optional:!0})??rt;constructor(V,ue,ke,mn){super(V,ue),this._registry=ke,this._injector=mn}ngOnInit(){this._control=this._injector.get(Bn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(Ps),p.rXU(p.zZn))};static \u0275dir=p.FsC({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("change",function(){return ke.onChange()})("blur",function(){return ke.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[p.Jv_([dr]),p.Vt3]})}return z})();const ks={provide:fe,useExisting:(0,p.Rfq)(()=>Hi),multi:!0};let Hi=(()=>{class z extends Y{writeValue(V){this.setProperty("value",parseFloat(V))}registerOnChange(V){this.onChange=ue=>{V(""==ue?null:parseFloat(ue))}}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("change",function(Ln){return ke.onChange(Ln.target.value)})("input",function(Ln){return ke.onChange(Ln.target.value)})("blur",function(){return ke.onTouched()})},standalone:!1,features:[p.Jv_([ks]),p.Vt3]})}return z})();const rs=new p.nKC(""),cr={provide:Bn,useExisting:(0,p.Rfq)(()=>Ui)};let Ui=(()=>{class z extends Bn{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(V){}model;update=new p.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(V,ue,ke,mn,Ln){super(),this._ngModelWarningConfig=mn,this.callSetDisabledState=Ln,this._setValidators(V),this._setAsyncValidators(ue),this.valueAccessor=Fn(0,ke)}ngOnChanges(V){if(this._isControlChanged(V)){const ue=V.form.previousValue;ue&&On(ue,this,!1),cn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Tt(V,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&On(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_isControlChanged(V){return V.hasOwnProperty("form")}static \u0275fac=function(ue){return new(ue||z)(p.rXU(vt,10),p.rXU(wt,10),p.rXU(fe,10),p.rXU(rs,8),p.rXU(yt,8))};static \u0275dir=p.FsC({type:z,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[p.Jv_([cr]),p.Vt3,p.OA$]})}return z})();const Bs={provide:Mt,useExisting:(0,p.Rfq)(()=>ws)};let ws=(()=>{class z extends Mt{callSetDisabledState;get submitted(){return(0,p.O8t)(this._submittedReactive)}set submitted(V){this._submittedReactive.set(V)}_submitted=(0,p.EWP)(()=>this._submittedReactive());_submittedReactive=(0,p.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new p.bkB;constructor(V,ue,ke){super(),this.callSetDisabledState=ke,this._setValidators(V),this._setAsyncValidators(ue)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ni(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ue=this.form.get(V.path);return cn(ue,V,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ue}getControl(V){return this.form.get(V.path)}removeControl(V){On(V.control||null,V,!1),function Dn(z,G){const V=z.indexOf(G);V>-1&&z.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ue){this.form.get(V.path).setValue(ue)}onSubmit(V){return this._submittedReactive.set(!0),Xt(this.form,this.directives),this.ngSubmit.emit(V),this.form._events.next(new Oe(this.control)),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this._submittedReactive.set(!1),this.form._events.next(new de(this.form))}_updateDomValue(){this.directives.forEach(V=>{const ue=V.control,ke=this.form.get(V.path);ue!==ke&&(On(ue||null,V),(z=>z instanceof jn)(ke)&&(cn(ke,V,this.callSetDisabledState),V.control=ke))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ue=this.form.get(V.path);Qi(ue,V),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ue=this.form.get(V.path);ue&&function Jn(z,G){return ni(z,G)}(ue,V)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hr(this.form,this),this._oldForm&&ni(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(ue){return new(ue||z)(p.rXU(vt,10),p.rXU(wt,10),p.rXU(yt,8))};static \u0275dir=p.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("submit",function(Ln){return ke.onSubmit(Ln)})("reset",function(){return ke.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[p.Jv_([Bs]),p.Vt3,p.OA$]})}return z})();const oa={provide:Mt,useExisting:(0,p.Rfq)(()=>aa)};let aa=(()=>{class z extends Di{name=null;constructor(V,ue,ke){super(),this._parent=V,this._setValidators(ue),this._setAsyncValidators(ke)}_checkParentType(){hi(this._parent)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Mt,13),p.rXU(vt,10),p.rXU(wt,10))};static \u0275dir=p.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[p.Jv_([oa]),p.Vt3]})}return z})();const Wi={provide:Mt,useExisting:(0,p.Rfq)(()=>wo)};let wo=(()=>{class z extends Mt{_parent;name=null;constructor(V,ue,ke){super(),this._parent=V,this._setValidators(ue),this._setAsyncValidators(ke)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){hi(this._parent)}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Mt,13),p.rXU(vt,10),p.rXU(wt,10))};static \u0275dir=p.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[p.Jv_([Wi]),p.Vt3]})}return z})();function hi(z){return!(z instanceof aa||z instanceof ws||z instanceof wo)}const tc={provide:Bn,useExisting:(0,p.Rfq)(()=>dn)};let dn=(()=>{class z extends Bn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(V){}model;update=new p.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(V,ue,ke,mn,Ln){super(),this._ngModelWarningConfig=Ln,this._parent=V,this._setValidators(ue),this._setAsyncValidators(ke),this.valueAccessor=Fn(0,mn)}ngOnChanges(V){this._added||this._setUpControl(),Tt(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(ue){return new(ue||z)(p.rXU(Mt,13),p.rXU(vt,10),p.rXU(wt,10),p.rXU(fe,10),p.rXU(rs,8))};static \u0275dir=p.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[p.Jv_([tc]),p.Vt3,p.OA$]})}return z})();const is={provide:fe,useExisting:(0,p.Rfq)(()=>si),multi:!0};function qi(z,G){return null==z?`${G}`:(G&&"object"==typeof G&&(G="Object"),`${z}: ${G}`.slice(0,50))}let si=(()=>{class z extends Y{value;_optionMap=new Map;_idCounter=0;set compareWith(V){this._compareWith=V}_compareWith=Object.is;writeValue(V){this.value=V;const ke=qi(this._getOptionId(V),V);this.setProperty("value",ke)}registerOnChange(V){this.onChange=ue=>{this.value=this._getOptionValue(ue),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue),V))return ue;return null}_getOptionValue(V){const ue=function Js(z){return z.split(":")[0]}(V);return this._optionMap.has(ue)?this._optionMap.get(ue):V}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("change",function(Ln){return ke.onChange(Ln.target.value)})("blur",function(){return ke.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[p.Jv_([is]),p.Vt3]})}return z})(),xo=(()=>{class z{_element;_renderer;_select;id;constructor(V,ue,ke){this._element=V,this._renderer=ue,this._select=ke,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(qi(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(ue){return new(ue||z)(p.rXU(p.aKT),p.rXU(p.sFG),p.rXU(si,9))};static \u0275dir=p.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return z})();const Sa={provide:fe,useExisting:(0,p.Rfq)(()=>ms),multi:!0};function To(z,G){return null==z?`${G}`:("string"==typeof G&&(G=`'${G}'`),G&&"object"==typeof G&&(G="Object"),`${z}: ${G}`.slice(0,50))}let ms=(()=>{class z extends Y{value;_optionMap=new Map;_idCounter=0;set compareWith(V){this._compareWith=V}_compareWith=Object.is;writeValue(V){let ue;if(this.value=V,Array.isArray(V)){const ke=V.map(mn=>this._getOptionId(mn));ue=(mn,Ln)=>{mn._setSelected(ke.indexOf(Ln.toString())>-1)}}else ue=(ke,mn)=>{ke._setSelected(!1)};this._optionMap.forEach(ue)}registerOnChange(V){this.onChange=ue=>{const ke=[],mn=ue.selectedOptions;if(void 0!==mn){const Ln=mn;for(let _o=0;_o<Ln.length;_o++){const Eo=this._getOptionValue(Ln[_o].value);ke.push(Eo)}}else{const Ln=ue.options;for(let _o=0;_o<Ln.length;_o++){const no=Ln[_o];if(no.selected){const Eo=this._getOptionValue(no.value);ke.push(Eo)}}}this.value=ke,V(ke)}}_registerOption(V){const ue=(this._idCounter++).toString();return this._optionMap.set(ue,V),ue}_getOptionId(V){for(const ue of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ue)._value,V))return ue;return null}_getOptionValue(V){const ue=function eo(z){return z.split(":")[0]}(V);return this._optionMap.has(ue)?this._optionMap.get(ue)._value:V}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ue,ke){1&ue&&p.bIt("change",function(Ln){return ke.onChange(Ln.target)})("blur",function(){return ke.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[p.Jv_([Sa]),p.Vt3]})}return z})(),Ts=(()=>{class z{_element;_renderer;_select;id;_value;constructor(V,ue,ke){this._element=V,this._renderer=ue,this._select=ke,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(To(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(To(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(ue){return new(ue||z)(p.rXU(p.aKT),p.rXU(p.sFG),p.rXU(ms,9))};static \u0275dir=p.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return z})();function Un(z){return"number"==typeof z?z:parseInt(z,10)}function So(z){return"number"==typeof z?z:parseFloat(z)}let fi=(()=>{class z{_validator=et;_onChange;_enabled;ngOnChanges(V){if(this.inputName in V){const ue=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):et,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static \u0275fac=function(ue){return new(ue||z)};static \u0275dir=p.FsC({type:z,features:[p.OA$]})}return z})();const bo={provide:vt,useExisting:(0,p.Rfq)(()=>Gr),multi:!0};let Gr=(()=>{class z extends fi{max;inputName="max";normalizeInput=V=>So(V);createValidator=V=>nn(V);static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ue,ke){2&ue&&p.BMQ("max",ke._enabled?ke.max:null)},inputs:{max:"max"},standalone:!1,features:[p.Jv_([bo]),p.Vt3]})}return z})();const Po={provide:vt,useExisting:(0,p.Rfq)(()=>ao),multi:!0};let ao=(()=>{class z extends fi{min;inputName="min";normalizeInput=V=>So(V);createValidator=V=>qe(V);static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ue,ke){2&ue&&p.BMQ("min",ke._enabled?ke.min:null)},inputs:{min:"min"},standalone:!1,features:[p.Jv_([Po]),p.Vt3]})}return z})();const ko={provide:vt,useExisting:(0,p.Rfq)(()=>js),multi:!0};let js=(()=>{class z extends fi{required;inputName="required";normalizeInput=p.L39;createValidator=V=>Bt;enabled(V){return V}static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,ke){2&ue&&p.BMQ("required",ke._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[p.Jv_([ko]),p.Vt3]})}return z})();const lo={provide:vt,useExisting:(0,p.Rfq)(()=>uo),multi:!0};let uo=(()=>{class z extends fi{minlength;inputName="minlength";normalizeInput=V=>Un(V);createValidator=V=>Lt(V);static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ue,ke){2&ue&&p.BMQ("minlength",ke._enabled?ke.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[p.Jv_([lo]),p.Vt3]})}return z})();const ca={provide:vt,useExisting:(0,p.Rfq)(()=>Dr),multi:!0};let Dr=(()=>{class z extends fi{maxlength;inputName="maxlength";normalizeInput=V=>Un(V);createValidator=V=>wn(V);static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ue,ke){2&ue&&p.BMQ("maxlength",ke._enabled?ke.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[p.Jv_([ca]),p.Vt3]})}return z})();const hr={provide:vt,useExisting:(0,p.Rfq)(()=>ss),multi:!0};let ss=(()=>{class z extends fi{pattern;inputName="pattern";normalizeInput=V=>V;createValidator=V=>Nt(V);static \u0275fac=(()=>{let V;return function(ke){return(V||(V=p.xGo(z)))(ke||z)}})();static \u0275dir=p.FsC({type:z,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(ue,ke){2&ue&&p.BMQ("pattern",ke._enabled?ke.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[p.Jv_([hr]),p.Vt3]})}return z})(),os=(()=>{class z{static \u0275fac=function(ue){return new(ue||z)};static \u0275mod=p.$C({type:z});static \u0275inj=p.G2t({})}return z})();class nr extends ar{constructor(G,V,ue){super(be(V),Ae(ue,V)),this.controls=G,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(G){return this.controls[this._adjustIndex(G)]}push(G,V={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(G,V,ue={}){this.controls.splice(G,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(G,V={}){let ue=this._adjustIndex(G);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(G,V,ue={}){let ke=this._adjustIndex(G);ke<0&&(ke=0),this.controls[ke]&&this.controls[ke]._registerOnCollectionChange(()=>{}),this.controls.splice(ke,1),V&&(this.controls.splice(ke,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,V={}){Tn(this,0,G),G.forEach((ue,ke)=>{Rn(this,!1,ke),this.at(ke).setValue(ue,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(G,V={}){null!=G&&(G.forEach((ue,ke)=>{this.at(ke)&&this.at(ke).patchValue(ue,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(G=[],V={}){this._forEachChild((ue,ke)=>{ue.reset(G[ke],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V,this),this._updateTouched(V,this),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((V,ue)=>!!ue._syncPendingControls()||V,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((V,ue)=>{G(V,ue)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(V=>V.enabled&&G(V))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function Yi(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let $s=(()=>{class z{useNonNullable=!1;get nonNullable(){const V=new z;return V.useNonNullable=!0,V}group(V,ue=null){const ke=this._reduceControls(V);let mn={};return Yi(ue)?mn=ue:null!==ue&&(mn.validators=ue.validator,mn.asyncValidators=ue.asyncValidator),new Cn(ke,mn)}record(V,ue=null){const ke=this._reduceControls(V);return new ui(ke,ue)}control(V,ue,ke){let mn={};return this.useNonNullable?(Yi(ue)?mn=ue:(mn.validators=ue,mn.asyncValidators=ke),new jn(V,{...mn,nonNullable:!0})):new jn(V,ue,ke)}array(V,ue,ke){const mn=V.map(Ln=>this._createControl(Ln));return new nr(mn,ue,ke)}_reduceControls(V){const ue={};return Object.keys(V).forEach(ke=>{ue[ke]=this._createControl(V[ke])}),ue}_createControl(V){return V instanceof jn||V instanceof ar?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static \u0275fac=function(ue){return new(ue||z)};static \u0275prov=p.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),ys=(()=>{class z{static withConfig(V){return{ngModule:z,providers:[{provide:yt,useValue:V.callSetDisabledState??rt}]}}static \u0275fac=function(ue){return new(ue||z)};static \u0275mod=p.$C({type:z});static \u0275inj=p.G2t({imports:[os]})}return z})(),Hs=(()=>{class z{static withConfig(V){return{ngModule:z,providers:[{provide:rs,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:yt,useValue:V.callSetDisabledState??rt}]}}static \u0275fac=function(ue){return new(ue||z)};static \u0275mod=p.$C({type:z});static \u0275inj=p.G2t({imports:[os]})}return z})()},345:(St,Re,w)=>{w.d(Re,{B7:()=>Nt,Bb:()=>Vr,W8:()=>Ai,hE:()=>Qt,sG:()=>Bn,up:()=>Mn});var p=w(177),D=w(4438);class ce extends p.VF{supportsDOMEvents=!0}class H extends ce{static makeCurrent(){(0,p.ZD)(new H)}onAndCancel(be,re,Ae){return be.addEventListener(re,Ae),()=>{be.removeEventListener(re,Ae)}}dispatchEvent(be,re){be.dispatchEvent(re)}remove(be){be.remove()}createElement(be,re){return(re=re||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,re){return"window"===re?window:"document"===re?be:"body"===re?be.body:null}getBaseHref(be){const re=function ie(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==re?null:function te(de){return new URL(de,document.baseURI).pathname}(re)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,p._b)(document.cookie,be)}}let Z=null,fe=(()=>{class de{build(){return new XMLHttpRequest}static \u0275fac=function(Ae){return new(Ae||de)};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac})}return de})();const ne=new D.nKC("");let le=(()=>{class de{_zone;_plugins;_eventNameToPlugin=new Map;constructor(re,Ae){this._zone=Ae,re.forEach(Ke=>{Ke.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,Ae,Ke){return this._findPluginFor(Ae).addEventListener(re,Ae,Ke)}getZone(){return this._zone}_findPluginFor(re){let Ae=this._eventNameToPlugin.get(re);if(Ae)return Ae;if(Ae=this._plugins.find(Vt=>Vt.supports(re)),!Ae)throw new D.wOt(5101,!1);return this._eventNameToPlugin.set(re,Ae),Ae}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(ne),D.KVO(D.SKi))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac})}return de})();class Te{_doc;constructor(be){this._doc=be}manager}const Ue="ng-app-id";function Ve(de){for(const be of de)be.remove()}function Qe(de,be){const re=be.createElement("style");return re.textContent=de,re}function bt(de,be){const re=be.createElement("link");return re.setAttribute("rel","stylesheet"),re.setAttribute("href",de),re}let vt=(()=>{class de{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(re,Ae,Ke,Vt={}){this.doc=re,this.appId=Ae,this.nonce=Ke,this.isServer=(0,p.Vy)(Vt),function st(de,be,re,Ae){const Ke=de.head?.querySelectorAll(`style[${Ue}="${be}"],link[${Ue}="${be}"]`);if(Ke)for(const Vt of Ke)Vt.removeAttribute(Ue),Vt instanceof HTMLLinkElement?Ae.set(Vt.href.slice(Vt.href.lastIndexOf("/")+1),{usage:0,elements:[Vt]}):Vt.textContent&&re.set(Vt.textContent,{usage:0,elements:[Vt]})}(re,Ae,this.inline,this.external),this.hosts.add(re.head)}addStyles(re,Ae){for(const Ke of re)this.addUsage(Ke,this.inline,Qe);Ae?.forEach(Ke=>this.addUsage(Ke,this.external,bt))}removeStyles(re,Ae){for(const Ke of re)this.removeUsage(Ke,this.inline);Ae?.forEach(Ke=>this.removeUsage(Ke,this.external))}addUsage(re,Ae,Ke){const Vt=Ae.get(re);Vt?Vt.usage++:Ae.set(re,{usage:1,elements:[...this.hosts].map(Rn=>this.addElement(Rn,Ke(re,this.doc)))})}removeUsage(re,Ae){const Ke=Ae.get(re);Ke&&(Ke.usage--,Ke.usage<=0&&(Ve(Ke.elements),Ae.delete(re)))}ngOnDestroy(){for(const[,{elements:re}]of[...this.inline,...this.external])Ve(re);this.hosts.clear()}addHost(re){this.hosts.add(re);for(const[Ae,{elements:Ke}]of this.inline)Ke.push(this.addElement(re,Qe(Ae,this.doc)));for(const[Ae,{elements:Ke}]of this.external)Ke.push(this.addElement(re,bt(Ae,this.doc)))}removeHost(re){this.hosts.delete(re)}addElement(re,Ae){return this.nonce&&Ae.setAttribute("nonce",this.nonce),this.isServer&&Ae.setAttribute(Ue,this.appId),re.appendChild(Ae)}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(p.qQ),D.KVO(D.sZ2),D.KVO(D.BIS,8),D.KVO(D.Agw))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac})}return de})();const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qt=/%COMP%/g,Ze=new D.nKC("",{providedIn:"root",factory:()=>!0});function wn(de,be){return be.map(re=>re.replace(qt,de))}let Nt=(()=>{class de{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(re,Ae,Ke,Vt,Rn,Tn,ar,Cn=null){this.eventManager=re,this.sharedStylesHost=Ae,this.appId=Ke,this.removeStylesOnCompDestroy=Vt,this.doc=Rn,this.platformId=Tn,this.ngZone=ar,this.nonce=Cn,this.platformIsServer=(0,p.Vy)(Tn),this.defaultRenderer=new et(re,Rn,ar,this.platformIsServer)}createRenderer(re,Ae){if(!re||!Ae)return this.defaultRenderer;this.platformIsServer&&Ae.encapsulation===D.gXe.ShadowDom&&(Ae={...Ae,encapsulation:D.gXe.Emulated});const Ke=this.getOrCreateRenderer(re,Ae);return Ke instanceof bi?Ke.applyToHost(re):Ke instanceof Nr&&Ke.applyStyles(),Ke}getOrCreateRenderer(re,Ae){const Ke=this.rendererByCompId;let Vt=Ke.get(Ae.id);if(!Vt){const Rn=this.doc,Tn=this.ngZone,ar=this.eventManager,Cn=this.sharedStylesHost,Jr=this.removeStylesOnCompDestroy,ti=this.platformIsServer;switch(Ae.encapsulation){case D.gXe.Emulated:Vt=new bi(ar,Cn,Ae,this.appId,Jr,Rn,Tn,ti);break;case D.gXe.ShadowDom:return new br(ar,Cn,re,Ae,Rn,Tn,this.nonce,ti);default:Vt=new Nr(ar,Cn,Ae,Jr,Rn,Tn,ti)}Ke.set(Ae.id,Vt)}return Vt}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(le),D.KVO(vt),D.KVO(D.sZ2),D.KVO(Ze),D.KVO(p.qQ),D.KVO(D.Agw),D.KVO(D.SKi),D.KVO(D.BIS))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac})}return de})();class et{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(be,re,Ae,Ke){this.eventManager=be,this.doc=re,this.ngZone=Ae,this.platformIsServer=Ke}destroy(){}destroyNode=null;createElement(be,re){return re?this.doc.createElementNS(wt[re]||re,be):this.doc.createElement(be)}createComment(be){return this.doc.createComment(be)}createText(be){return this.doc.createTextNode(be)}appendChild(be,re){($n(be)?be.content:be).appendChild(re)}insertBefore(be,re,Ae){be&&($n(be)?be.content:be).insertBefore(re,Ae)}removeChild(be,re){re.remove()}selectRootElement(be,re){let Ae="string"==typeof be?this.doc.querySelector(be):be;if(!Ae)throw new D.wOt(-5104,!1);return re||(Ae.textContent=""),Ae}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,re,Ae,Ke){if(Ke){re=Ke+":"+re;const Vt=wt[Ke];Vt?be.setAttributeNS(Vt,re,Ae):be.setAttribute(re,Ae)}else be.setAttribute(re,Ae)}removeAttribute(be,re,Ae){if(Ae){const Ke=wt[Ae];Ke?be.removeAttributeNS(Ke,re):be.removeAttribute(`${Ae}:${re}`)}else be.removeAttribute(re)}addClass(be,re){be.classList.add(re)}removeClass(be,re){be.classList.remove(re)}setStyle(be,re,Ae,Ke){Ke&(D.czy.DashCase|D.czy.Important)?be.style.setProperty(re,Ae,Ke&D.czy.Important?"important":""):be.style[re]=Ae}removeStyle(be,re,Ae){Ae&D.czy.DashCase?be.style.removeProperty(re):be.style[re]=""}setProperty(be,re,Ae){null!=be&&(be[re]=Ae)}setValue(be,re){be.nodeValue=re}listen(be,re,Ae){if("string"==typeof be&&!(be=(0,p.QT)().getGlobalEventTarget(this.doc,be)))throw new Error(`Unsupported event target ${be} for event ${re}`);return this.eventManager.addEventListener(be,re,this.decoratePreventDefault(Ae))}decoratePreventDefault(be){return re=>{if("__ngUnwrap__"===re)return be;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>be(re)):be(re))&&re.preventDefault()}}}function $n(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class br extends et{sharedStylesHost;hostEl;shadowRoot;constructor(be,re,Ae,Ke,Vt,Rn,Tn,ar){super(be,Vt,Rn,ar),this.sharedStylesHost=re,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Cn=wn(Ke.id,Ke.styles);for(const ti of Cn){const Vi=document.createElement("style");Tn&&Vi.setAttribute("nonce",Tn),Vi.textContent=ti,this.shadowRoot.appendChild(Vi)}const Jr=Ke.getExternalStyles?.();if(Jr)for(const ti of Jr){const Vi=bt(ti,Vt);Tn&&Vi.setAttribute("nonce",Tn),this.shadowRoot.appendChild(Vi)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}appendChild(be,re){return super.appendChild(this.nodeOrShadowRoot(be),re)}insertBefore(be,re,Ae){return super.insertBefore(this.nodeOrShadowRoot(be),re,Ae)}removeChild(be,re){return super.removeChild(null,re)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nr extends et{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(be,re,Ae,Ke,Vt,Rn,Tn,ar){super(be,Vt,Rn,Tn),this.sharedStylesHost=re,this.removeStylesOnCompDestroy=Ke,this.styles=ar?wn(ar,Ae.styles):Ae.styles,this.styleUrls=Ae.getExternalStyles?.(ar)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class bi extends Nr{contentAttr;hostAttr;constructor(be,re,Ae,Ke,Vt,Rn,Tn,ar){const Cn=Ke+"-"+Ae.id;super(be,re,Ae,Vt,Rn,Tn,ar,Cn),this.contentAttr=function Gt(de){return"_ngcontent-%COMP%".replace(qt,de)}(Cn),this.hostAttr=function Lt(de){return"_nghost-%COMP%".replace(qt,de)}(Cn)}applyToHost(be){this.applyStyles(),this.setAttribute(be,this.hostAttr,"")}createElement(be,re){const Ae=super.createElement(be,re);return super.setAttribute(Ae,this.contentAttr,""),Ae}}let mr=(()=>{class de extends Te{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Ae,Ke){return re.addEventListener(Ae,Ke,!1),()=>this.removeEventListener(re,Ae,Ke)}removeEventListener(re,Ae,Ke){return re.removeEventListener(Ae,Ke)}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(p.qQ))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac})}return de})();const Je=["alt","control","meta","shift"],$e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let _t=(()=>{class de extends Te{constructor(re){super(re)}supports(re){return null!=de.parseEventName(re)}addEventListener(re,Ae,Ke){const Vt=de.parseEventName(Ae),Rn=de.eventCallback(Vt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.QT)().onAndCancel(re,Vt.domEventName,Rn))}static parseEventName(re){const Ae=re.toLowerCase().split("."),Ke=Ae.shift();if(0===Ae.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const Vt=de._normalizeKey(Ae.pop());let Rn="",Tn=Ae.indexOf("code");if(Tn>-1&&(Ae.splice(Tn,1),Rn="code."),Je.forEach(Cn=>{const Jr=Ae.indexOf(Cn);Jr>-1&&(Ae.splice(Jr,1),Rn+=Cn+".")}),Rn+=Vt,0!=Ae.length||0===Vt.length)return null;const ar={};return ar.domEventName=Ke,ar.fullKey=Rn,ar}static matchEventFullKeyCode(re,Ae){let Ke=$e[re.key]||re.key,Vt="";return Ae.indexOf("code.")>-1&&(Ke=re.code,Vt="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),Je.forEach(Rn=>{Rn!==Ke&&(0,pt[Rn])(re)&&(Vt+=Rn+".")}),Vt+=Ke,Vt===Ae)}static eventCallback(re,Ae,Ke){return Vt=>{de.matchEventFullKeyCode(Vt,re)&&Ke.runGuarded(()=>Ae(Vt))}}static _normalizeKey(re){return"esc"===re?"escape":re}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(p.qQ))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac})}return de})();const Bn=(0,D.oH4)(D.fpN,"browser",[{provide:D.Agw,useValue:p.AJ},{provide:D.PLl,useValue:function it(){H.makeCurrent()},multi:!0},{provide:p.qQ,useFactory:function ht(){return(0,D.TL$)(document),document},deps:[]}]),In=new D.nKC(""),ir=[{provide:D.e01,useClass:class Y{addToWindow(be){D.JZv.getAngularTestability=(Ae,Ke=!0)=>{const Vt=be.findTestabilityInTree(Ae,Ke);if(null==Vt)throw new D.wOt(5103,!1);return Vt},D.JZv.getAllAngularTestabilities=()=>be.getAllTestabilities(),D.JZv.getAllAngularRootElements=()=>be.getAllRootElements(),D.JZv.frameworkStabilizers||(D.JZv.frameworkStabilizers=[]),D.JZv.frameworkStabilizers.push(Ae=>{const Ke=D.JZv.getAllAngularTestabilities();let Vt=Ke.length;const Rn=function(){Vt--,0==Vt&&Ae()};Ke.forEach(Tn=>{Tn.whenStable(Rn)})})}findTestabilityInTree(be,re,Ae){return null==re?null:be.getTestability(re)??(Ae?(0,p.QT)().isShadowRoot(re)?this.findTestabilityInTree(be,re.host,!0):this.findTestabilityInTree(be,re.parentElement,!0):null)}},deps:[]},{provide:D.WHO,useClass:D.NYb,deps:[D.SKi,D.giA,D.e01]},{provide:D.NYb,useClass:D.NYb,deps:[D.SKi,D.giA,D.e01]}],vr=[{provide:D.H8p,useValue:"root"},{provide:D.zcH,useFactory:function Le(){return new D.zcH},deps:[]},{provide:ne,useClass:mr,multi:!0,deps:[p.qQ,D.SKi,D.Agw]},{provide:ne,useClass:_t,multi:!0,deps:[p.qQ]},Nt,vt,le,{provide:D._9s,useExisting:Nt},{provide:p.N0,useClass:fe,deps:[]},[]];let Vr=(()=>{class de{constructor(re){}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(In,12))};static \u0275mod=D.$C({type:de});static \u0275inj=D.G2t({providers:[...vr,...ir],imports:[p.MD,D.Hbi]})}return de})(),Ai=(()=>{class de{_doc;_dom;constructor(re){this._doc=re,this._dom=(0,p.QT)()}addTag(re,Ae=!1){return re?this._getOrCreateElement(re,Ae):null}addTags(re,Ae=!1){return re?re.reduce((Ke,Vt)=>(Vt&&Ke.push(this._getOrCreateElement(Vt,Ae)),Ke),[]):[]}getTag(re){return re&&this._doc.querySelector(`meta[${re}]`)||null}getTags(re){if(!re)return[];const Ae=this._doc.querySelectorAll(`meta[${re}]`);return Ae?[].slice.call(Ae):[]}updateTag(re,Ae){if(!re)return null;Ae=Ae||this._parseSelector(re);const Ke=this.getTag(Ae);return Ke?this._setMetaElementAttributes(re,Ke):this._getOrCreateElement(re,!0)}removeTag(re){this.removeTagElement(this.getTag(re))}removeTagElement(re){re&&this._dom.remove(re)}_getOrCreateElement(re,Ae=!1){if(!Ae){const Rn=this._parseSelector(re),Tn=this.getTags(Rn).filter(ar=>this._containsAttributes(re,ar))[0];if(void 0!==Tn)return Tn}const Ke=this._dom.createElement("meta");return this._setMetaElementAttributes(re,Ke),this._doc.getElementsByTagName("head")[0].appendChild(Ke),Ke}_setMetaElementAttributes(re,Ae){return Object.keys(re).forEach(Ke=>Ae.setAttribute(this._getMetaKeyMap(Ke),re[Ke])),Ae}_parseSelector(re){const Ae=re.name?"name":"property";return`${Ae}="${re[Ae]}"`}_containsAttributes(re,Ae){return Object.keys(re).every(Ke=>Ae.getAttribute(this._getMetaKeyMap(Ke))===re[Ke])}_getMetaKeyMap(re){return Cs[re]||re}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(p.qQ))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const Cs={httpEquiv:"http-equiv"};let Qt=(()=>{class de{_doc;constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(p.qQ))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Mn=(()=>{class de{static \u0275fac=function(Ae){return new(Ae||de)};static \u0275prov=D.jDH({token:de,factory:function(Ae){let Ke=null;return Ke=Ae?new(Ae||de):D.KVO(ps),Ke},providedIn:"root"})}return de})(),ps=(()=>{class de extends Mn{_doc;constructor(re){super(),this._doc=re}sanitize(re,Ae){if(null==Ae)return null;switch(re){case D.WPN.NONE:return Ae;case D.WPN.HTML:return(0,D.ZF7)(Ae,"HTML")?(0,D.rcV)(Ae):(0,D.h9k)(this._doc,String(Ae)).toString();case D.WPN.STYLE:return(0,D.ZF7)(Ae,"Style")?(0,D.rcV)(Ae):Ae;case D.WPN.SCRIPT:if((0,D.ZF7)(Ae,"Script"))return(0,D.rcV)(Ae);throw new D.wOt(5200,!1);case D.WPN.URL:return(0,D.ZF7)(Ae,"URL")?(0,D.rcV)(Ae):(0,D.$MX)(String(Ae));case D.WPN.RESOURCE_URL:if((0,D.ZF7)(Ae,"ResourceURL"))return(0,D.rcV)(Ae);throw new D.wOt(5201,!1);default:throw new D.wOt(5202,!1)}}bypassSecurityTrustHtml(re){return(0,D.Kcf)(re)}bypassSecurityTrustStyle(re){return(0,D.cWb)(re)}bypassSecurityTrustScript(re){return(0,D.UyX)(re)}bypassSecurityTrustUrl(re){return(0,D.osQ)(re)}bypassSecurityTrustResourceUrl(re){return(0,D.e5t)(re)}static \u0275fac=function(Ae){return new(Ae||de)(D.KVO(p.qQ))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})()},884:(St,Re,w)=>{w.d(Re,{nX:()=>Wi,j5:()=>Tt,wF:()=>me,L6:()=>Xt,Z:()=>ge,b:()=>nl,Ix:()=>Qn,Wk:()=>Yn,wQ:()=>fr,$T:()=>Yn,iI:()=>Cl,n3:()=>Sa});var p=w(4438),D=w(1985),ce=w(8071),Z=w(2806),ie=w(7673),te=w(4412),Y=w(4572),fe=w(9350),ne=w(8793),le=w(9030),Te=w(1203),Ue=w(8810),Ve=w(983),Qe=w(17),st=w(1413),bt=w(8359),vt=w(177),wt=w(6354),qt=w(5558),lt=w(6697),qe=w(9172),nn=w(5964),Bt=w(1397),Ze=w(1594),Gt=w(274),Lt=w(8141),wn=w(9437),Nt=w(2816),et=w(9901),on=w(7018),Jt=w(5109),$n=w(3703),br=w(980),Nr=w(9898),bi=w(6977),mr=w(6365),Je=w(345);const $e="primary",pt=Symbol("RouteTitle");class _t{params;constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const R=this.params[F];return Array.isArray(R)?R[0]:R}return null}getAll(F){if(this.has(F)){const R=this.params[F];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function It(b){return new _t(b)}function At(b,F,R){const L=R.path.split("/");if(L.length>b.length||"full"===R.pathMatch&&(F.hasChildren()||L.length<b.length))return null;const X={};for(let he=0;he<L.length;he++){const Se=L[he],gt=b[he];if(":"===Se[0])X[Se.substring(1)]=gt;else if(Se!==gt.path)return null}return{consumed:b.slice(0,L.length),posParams:X}}function mt(b,F){const R=b?it(b):void 0,L=F?it(F):void 0;if(!R||!L||R.length!=L.length)return!1;let X;for(let he=0;he<R.length;he++)if(X=R[he],!Le(b[X],F[X]))return!1;return!0}function it(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function Le(b,F){if(Array.isArray(b)&&Array.isArray(F)){if(b.length!==F.length)return!1;const R=[...b].sort(),L=[...F].sort();return R.every((X,he)=>L[he]===X)}return b===F}function ht(b){return b.length>0?b[b.length-1]:null}function Mt(b){return function H(b){return!!b&&(b instanceof D.c||(0,ce.T)(b.lift)&&(0,ce.T)(b.subscribe))}(b)?b:(0,p.jNT)(b)?(0,Z.H)(Promise.resolve(b)):(0,ie.of)(b)}const Bn={exact:function Vr(b,F,R){if(!Wn(b.segments,F.segments)||!Zr(b.segments,F.segments,R)||b.numberOfChildren!==F.numberOfChildren)return!1;for(const L in F.children)if(!b.children[L]||!Vr(b.children[L],F.children[L],R))return!1;return!0},subset:Cs},In={exact:function vr(b,F){return mt(b,F)},subset:function Ai(b,F){return Object.keys(F).length<=Object.keys(b).length&&Object.keys(F).every(R=>Le(b[R],F[R]))},ignored:()=>!0};function ir(b,F,R){return Bn[R.paths](b.root,F.root,R.matrixParams)&&In[R.queryParams](b.queryParams,F.queryParams)&&!("exact"===R.fragment&&b.fragment!==F.fragment)}function Cs(b,F,R){return Qt(b,F,F.segments,R)}function Qt(b,F,R,L){if(b.segments.length>R.length){const X=b.segments.slice(0,R.length);return!(!Wn(X,R)||F.hasChildren()||!Zr(X,R,L))}if(b.segments.length===R.length){if(!Wn(b.segments,R)||!Zr(b.segments,R,L))return!1;for(const X in F.children)if(!b.children[X]||!Cs(b.children[X],F.children[X],L))return!1;return!0}{const X=R.slice(0,b.segments.length),he=R.slice(b.segments.length);return!!(Wn(b.segments,X)&&Zr(b.segments,X,L)&&b.children[$e])&&Qt(b.children[$e],F,he,L)}}function Zr(b,F,R){return F.every((L,X)=>In[R](b[X].parameters,L.parameters))}class ei{root;queryParams;fragment;_queryParamMap;constructor(F=new sr([],{}),R={},L=null){this.root=F,this.queryParams=R,this.fragment=L}get queryParamMap(){return this._queryParamMap??=It(this.queryParams),this._queryParamMap}toString(){return Oi.serialize(this)}}class sr{segments;children;parent=null;constructor(F,R){this.segments=F,this.children=R,Object.values(R).forEach(L=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return li(this)}}class zr{path;parameters;_parameterMap;constructor(F,R){this.path=F,this.parameters=R}get parameterMap(){return this._parameterMap??=It(this.parameters),this._parameterMap}toString(){return $i(this)}}function Wn(b,F){return b.length===F.length&&b.every((R,L)=>R.path===F[L].path)}let Er=(()=>{class b{static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:()=>new oi,providedIn:"root"})}return b})();class oi{parse(F){const R=new Ae(F);return new ei(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(F){const R=`/${fs(F.root,!0)}`,L=function gr(b){const F=Object.entries(b).map(([R,L])=>Array.isArray(L)?L.map(X=>`${Us(R)}=${Us(X)}`).join("&"):`${Us(R)}=${Us(L)}`).filter(R=>R);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${R}${L}${"string"==typeof F.fragment?`#${function Mn(b){return encodeURI(b)}(F.fragment)}`:""}`}}const Oi=new oi;function li(b){return b.segments.map(F=>$i(F)).join("/")}function fs(b,F){if(!b.hasChildren())return li(b);if(F){const R=b.children[$e]?fs(b.children[$e],!1):"",L=[];return Object.entries(b.children).forEach(([X,he])=>{X!==$e&&L.push(`${X}:${fs(he,!1)}`)}),L.length>0?`${R}(${L.join("//")})`:R}{const R=function Ki(b,F){let R=[];return Object.entries(b.children).forEach(([L,X])=>{L===$e&&(R=R.concat(F(X,L)))}),Object.entries(b.children).forEach(([L,X])=>{L!==$e&&(R=R.concat(F(X,L)))}),R}(b,(L,X)=>X===$e?[fs(b.children[$e],!1)]:[`${X}:${fs(L,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[$e]?`${li(b)}/${R[0]}`:`${li(b)}/(${R.join("//")})`}}function Zn(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Us(b){return Zn(b).replace(/%3B/gi,";")}function ps(b){return Zn(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mi(b){return decodeURIComponent(b)}function Gn(b){return mi(b.replace(/\+/g,"%20"))}function $i(b){return`${ps(b.path)}${function or(b){return Object.entries(b).map(([F,R])=>`;${ps(F)}=${ps(R)}`).join("")}(b.parameters)}`}const Pr=/^[^\/()?;#]+/;function yi(b){const F=b.match(Pr);return F?F[0]:""}const zi=/^[^\/()?;=#]+/,Oe=/^[^=?&#]+/,be=/^[^&#]+/;class Ae{url;remaining;constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(F.length>0||Object.keys(R).length>0)&&(L[$e]=new sr(F,R)),L}parseSegment(){const F=yi(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(F),new zr(mi(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const R=function De(b){const F=b.match(zi);return F?F[0]:""}(this.remaining);if(!R)return;this.capture(R);let L="";if(this.consumeOptional("=")){const X=yi(this.remaining);X&&(L=X,this.capture(L))}F[mi(R)]=mi(L)}parseQueryParam(F){const R=function de(b){const F=b.match(Oe);return F?F[0]:""}(this.remaining);if(!R)return;this.capture(R);let L="";if(this.consumeOptional("=")){const Se=function re(b){const F=b.match(be);return F?F[0]:""}(this.remaining);Se&&(L=Se,this.capture(L))}const X=Gn(R),he=Gn(L);if(F.hasOwnProperty(X)){let Se=F[X];Array.isArray(Se)||(Se=[Se],F[X]=Se),Se.push(he)}else F[X]=he}parseParens(F){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=yi(this.remaining),X=this.remaining[L.length];if("/"!==X&&")"!==X&&";"!==X)throw new p.wOt(4010,!1);let he;L.indexOf(":")>-1?(he=L.slice(0,L.indexOf(":")),this.capture(he),this.capture(":")):F&&(he=$e);const Se=this.parseChildren();R[he]=1===Object.keys(Se).length?Se[$e]:new sr([],Se),this.consumeOptional("//")}return R}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new p.wOt(4011,!1)}}function Ke(b){return b.segments.length>0?new sr([],{[$e]:b}):b}function Vt(b){const F={};for(const[L,X]of Object.entries(b.children)){const he=Vt(X);if(L===$e&&0===he.segments.length&&he.hasChildren())for(const[Se,gt]of Object.entries(he.children))F[Se]=gt;else(he.segments.length>0||he.hasChildren())&&(F[L]=he)}return function Rn(b){if(1===b.numberOfChildren&&b.children[$e]){const F=b.children[$e];return new sr(b.segments.concat(F.segments),F.children)}return b}(new sr(b.segments,F))}function Tn(b){return b instanceof ei}function Cn(b){let F;const X=Ke(function R(he){const Se={};for(const ze of he.children){const an=R(ze);Se[ze.outlet]=an}const gt=new sr(he.url,Se);return he===b&&(F=gt),gt}(b.root));return F??X}function Jr(b,F,R,L){let X=b;for(;X.parent;)X=X.parent;if(0===F.length)return ui(X,X,X,R,L);const he=function rt(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new yt(!0,0,b);let F=0,R=!1;const L=b.reduce((X,he,Se)=>{if("object"==typeof he&&null!=he){if(he.outlets){const gt={};return Object.entries(he.outlets).forEach(([ze,an])=>{gt[ze]="string"==typeof an?an.split("/"):an}),[...X,{outlets:gt}]}if(he.segmentPath)return[...X,he.segmentPath]}return"string"!=typeof he?[...X,he]:0===Se?(he.split("/").forEach((gt,ze)=>{0==ze&&"."===gt||(0==ze&&""===gt?R=!0:".."===gt?F++:""!=gt&&X.push(gt))}),X):[...X,he]},[]);return new yt(R,F,L)}(F);if(he.toRoot())return ui(X,X,new sr([],{}),R,L);const Se=function cn(b,F,R){if(b.isAbsolute)return new jt(F,!0,0);if(!R)return new jt(F,!1,NaN);if(null===R.parent)return new jt(R,!0,0);const L=ti(b.commands[0])?0:1;return function On(b,F,R){let L=b,X=F,he=R;for(;he>X;){if(he-=X,L=L.parent,!L)throw new p.wOt(4005,!1);X=L.segments.length}return new jt(L,!1,X-he)}(R,R.segments.length-1+L,b.numberOfDoubleDots)}(he,X,b),gt=Se.processChildren?Hr(Se.segmentGroup,Se.index,he.commands):_r(Se.segmentGroup,Se.index,he.commands);return ui(X,Se.segmentGroup,gt,R,L)}function ti(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Vi(b){return"object"==typeof b&&null!=b&&b.outlets}function ui(b,F,R,L,X){let Se,he={};L&&Object.entries(L).forEach(([ze,an])=>{he[ze]=Array.isArray(an)?an.map(An=>`${An}`):`${an}`}),Se=b===F?R:Sn(b,F,R);const gt=Ke(Vt(Se));return new ei(gt,he,X)}function Sn(b,F,R){const L={};return Object.entries(b.children).forEach(([X,he])=>{L[X]=he===F?R:Sn(he,F,R)}),new sr(b.segments,L)}class yt{isAbsolute;numberOfDoubleDots;commands;constructor(F,R,L){if(this.isAbsolute=F,this.numberOfDoubleDots=R,this.commands=L,F&&L.length>0&&ti(L[0]))throw new p.wOt(4003,!1);const X=L.find(Vi);if(X&&X!==ht(L))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jt{segmentGroup;processChildren;index;constructor(F,R,L){this.segmentGroup=F,this.processChildren=R,this.index=L}}function _r(b,F,R){if(b??=new sr([],{}),0===b.segments.length&&b.hasChildren())return Hr(b,F,R);const L=function ni(b,F,R){let L=0,X=F;const he={match:!1,pathIndex:0,commandIndex:0};for(;X<b.segments.length;){if(L>=R.length)return he;const Se=b.segments[X],gt=R[L];if(Vi(gt))break;const ze=`${gt}`,an=L<R.length-1?R[L+1]:null;if(X>0&&void 0===ze)break;if(ze&&an&&"object"==typeof an&&void 0===an.outlets){if(!Zs(ze,an,Se))return he;L+=2}else{if(!Zs(ze,{},Se))return he;L++}X++}return{match:!0,pathIndex:X,commandIndex:L}}(b,F,R),X=R.slice(L.commandIndex);if(L.match&&L.pathIndex<b.segments.length){const he=new sr(b.segments.slice(0,L.pathIndex),{});return he.children[$e]=new sr(b.segments.slice(L.pathIndex),b.children),Hr(he,0,X)}return L.match&&0===X.length?new sr(b.segments,{}):L.match&&!b.hasChildren()?ai(b,F,R):L.match?Hr(b,0,X):ai(b,F,R)}function Hr(b,F,R){if(0===R.length)return new sr(b.segments,{});{const L=function hn(b){return Vi(b[0])?b[0].outlets:{[$e]:b}}(R),X={};if(Object.keys(L).some(he=>he!==$e)&&b.children[$e]&&1===b.numberOfChildren&&0===b.children[$e].segments.length){const he=Hr(b.children[$e],F,R);return new sr(b.segments,he.children)}return Object.entries(L).forEach(([he,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(X[he]=_r(b.children[he],F,Se))}),Object.entries(b.children).forEach(([he,Se])=>{void 0===L[he]&&(X[he]=Se)}),new sr(b.segments,X)}}function ai(b,F,R){const L=b.segments.slice(0,F);let X=0;for(;X<R.length;){const he=R[X];if(Vi(he)){const ze=gs(he.outlets);return new sr(L,ze)}if(0===X&&ti(R[0])){L.push(new zr(b.segments[F].path,Ds(R[0]))),X++;continue}const Se=Vi(he)?he.outlets[$e]:`${he}`,gt=X<R.length-1?R[X+1]:null;Se&&gt&&ti(gt)?(L.push(new zr(Se,Ds(gt))),X+=2):(L.push(new zr(Se,{})),X++)}return new sr(L,{})}function gs(b){const F={};return Object.entries(b).forEach(([R,L])=>{"string"==typeof L&&(L=[L]),null!==L&&(F[R]=ai(new sr([],{}),0,L))}),F}function Ds(b){const F={};return Object.entries(b).forEach(([R,L])=>F[R]=`${L}`),F}function Zs(b,F,R){return b==R.path&&mt(F,R.parameters)}const Qi="imperative";var Jn=function(b){return b[b.NavigationStart=0]="NavigationStart",b[b.NavigationEnd=1]="NavigationEnd",b[b.NavigationCancel=2]="NavigationCancel",b[b.NavigationError=3]="NavigationError",b[b.RoutesRecognized=4]="RoutesRecognized",b[b.ResolveStart=5]="ResolveStart",b[b.ResolveEnd=6]="ResolveEnd",b[b.GuardsCheckStart=7]="GuardsCheckStart",b[b.GuardsCheckEnd=8]="GuardsCheckEnd",b[b.RouteConfigLoadStart=9]="RouteConfigLoadStart",b[b.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",b[b.ChildActivationStart=11]="ChildActivationStart",b[b.ChildActivationEnd=12]="ChildActivationEnd",b[b.ActivationStart=13]="ActivationStart",b[b.ActivationEnd=14]="ActivationEnd",b[b.Scroll=15]="Scroll",b[b.NavigationSkipped=16]="NavigationSkipped",b}(Jn||{});class Mr{id;url;constructor(F,R){this.id=F,this.url=R}}class ge extends Mr{type=Jn.NavigationStart;navigationTrigger;restoredState;constructor(F,R,L="imperative",X=null){super(F,R),this.navigationTrigger=L,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class me extends Mr{urlAfterRedirects;type=Jn.NavigationEnd;constructor(F,R,L){super(F,R),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var we=function(b){return b[b.Redirect=0]="Redirect",b[b.SupersededByNewNavigation=1]="SupersededByNewNavigation",b[b.NoDataFromResolver=2]="NoDataFromResolver",b[b.GuardRejected=3]="GuardRejected",b}(we||{}),Be=function(b){return b[b.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",b[b.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",b}(Be||{});class Tt extends Mr{reason;code;type=Jn.NavigationCancel;constructor(F,R,L,X){super(F,R),this.reason=L,this.code=X}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rt extends Mr{reason;code;type=Jn.NavigationSkipped;constructor(F,R,L,X){super(F,R),this.reason=L,this.code=X}}class Xt extends Mr{error;target;type=Jn.NavigationError;constructor(F,R,L,X){super(F,R),this.error=L,this.target=X}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fn extends Mr{urlAfterRedirects;state;type=Jn.RoutesRecognized;constructor(F,R,L,X){super(F,R),this.urlAfterRedirects=L,this.state=X}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends Mr{urlAfterRedirects;state;type=Jn.GuardsCheckStart;constructor(F,R,L,X){super(F,R),this.urlAfterRedirects=L,this.state=X}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends Mr{urlAfterRedirects;state;shouldActivate;type=Jn.GuardsCheckEnd;constructor(F,R,L,X,he){super(F,R),this.urlAfterRedirects=L,this.state=X,this.shouldActivate=he}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kn extends Mr{urlAfterRedirects;state;type=Jn.ResolveStart;constructor(F,R,L,X){super(F,R),this.urlAfterRedirects=L,this.state=X}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends Mr{urlAfterRedirects;state;type=Jn.ResolveEnd;constructor(F,R,L,X){super(F,R),this.urlAfterRedirects=L,this.state=X}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn{route;type=Jn.RouteConfigLoadStart;constructor(F){this.route=F}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class di{route;type=Jn.RouteConfigLoadEnd;constructor(F){this.route=F}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vi{snapshot;type=Jn.ChildActivationStart;constructor(F){this.snapshot=F}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{snapshot;type=Jn.ChildActivationEnd;constructor(F){this.snapshot=F}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{snapshot;type=Jn.ActivationStart;constructor(F){this.snapshot=F}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{snapshot;type=Jn.ActivationEnd;constructor(F){this.snapshot=F}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{routerEvent;position;anchor;type=Jn.Scroll;constructor(F,R,L){this.routerEvent=F,this.position=R,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ii{}class ye{url;navigationBehaviorOptions;constructor(F,R){this.url=F,this.navigationBehaviorOptions=R}}function dr(b){return b.outlet||$e}function Ps(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let F=b.parent;F;F=F.parent){const R=F.routeConfig;if(R?._loadedInjector)return R._loadedInjector;if(R?._injector)return R._injector}return null}class Ii{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ps(this.route?.snapshot)??this.rootInjector}constructor(F){this.rootInjector=F,this.children=new ks(this.rootInjector)}}let ks=(()=>{class b{rootInjector;contexts=new Map;constructor(R){this.rootInjector=R}onChildOutletCreated(R,L){const X=this.getOrCreateContext(R);X.outlet=L,this.contexts.set(R,X)}onChildOutletDestroyed(R){const L=this.getContext(R);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let L=this.getContext(R);return L||(L=new Ii(this.rootInjector),this.contexts.set(R,L)),L}getContext(R){return this.contexts.get(R)||null}static \u0275fac=function(L){return new(L||b)(p.KVO(p.uvJ))};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();class Hi{_root;constructor(F){this._root=F}get root(){return this._root.value}parent(F){const R=this.pathFromRoot(F);return R.length>1?R[R.length-2]:null}children(F){const R=rs(F,this._root);return R?R.children.map(L=>L.value):[]}firstChild(F){const R=rs(F,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(F){const R=cr(F,this._root);return R.length<2?[]:R[R.length-2].children.map(X=>X.value).filter(X=>X!==F)}pathFromRoot(F){return cr(F,this._root).map(R=>R.value)}}function rs(b,F){if(b===F.value)return F;for(const R of F.children){const L=rs(b,R);if(L)return L}return null}function cr(b,F){if(b===F.value)return[F];for(const R of F.children){const L=cr(b,R);if(L.length)return L.unshift(F),L}return[]}class Ui{value;children;constructor(F,R){this.value=F,this.children=R}toString(){return`TreeNode(${this.value})`}}function Bs(b){const F={};return b&&b.children.forEach(R=>F[R.value.outlet]=R),F}class ws extends Hi{snapshot;constructor(F,R){super(F),this.snapshot=R,dn(this,F)}toString(){return this.snapshot.toString()}}function oa(b){const F=function aa(b){const he=new hi([],{},{},"",{},$e,b,null,{});return new tc("",new Ui(he,[]))}(b),R=new te.t([new zr("",{})]),L=new te.t({}),X=new te.t({}),he=new te.t({}),Se=new te.t(""),gt=new Wi(R,L,he,Se,X,$e,b,F.root);return gt.snapshot=F.root,new ws(new Ui(gt,[]),F)}class Wi{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(F,R,L,X,he,Se,gt,ze){this.urlSubject=F,this.paramsSubject=R,this.queryParamsSubject=L,this.fragmentSubject=X,this.dataSubject=he,this.outlet=Se,this.component=gt,this._futureSnapshot=ze,this.title=this.dataSubject?.pipe((0,wt.T)(an=>an[pt]))??(0,ie.of)(void 0),this.url=F,this.params=R,this.queryParams=L,this.fragment=X,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,wt.T)(F=>It(F))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,wt.T)(F=>It(F))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wo(b,F,R="emptyOnly"){let L;const{routeConfig:X}=b;return L=null===F||"always"!==R&&""!==X?.path&&(F.component||F.routeConfig?.loadComponent)?{params:{...b.params},data:{...b.data},resolve:{...b.data,...b._resolvedData??{}}}:{params:{...F.params,...b.params},data:{...F.data,...b.data},resolve:{...b.data,...F.data,...X?.data,...b._resolvedData}},X&&si(X)&&(L.resolve[pt]=X.title),L}class hi{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pt]}constructor(F,R,L,X,he,Se,gt,ze,an){this.url=F,this.params=R,this.queryParams=L,this.fragment=X,this.data=he,this.outlet=Se,this.component=gt,this.routeConfig=ze,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=It(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=It(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tc extends Hi{url;constructor(F,R){super(R),this.url=F,dn(this,R)}toString(){return is(this._root)}}function dn(b,F){F.value._routerState=b,F.children.forEach(R=>dn(b,R))}function is(b){const F=b.children.length>0?` { ${b.children.map(is).join(", ")} } `:"";return`${b.value}${F}`}function qi(b){if(b.snapshot){const F=b.snapshot,R=b._futureSnapshot;b.snapshot=R,mt(F.queryParams,R.queryParams)||b.queryParamsSubject.next(R.queryParams),F.fragment!==R.fragment&&b.fragmentSubject.next(R.fragment),mt(F.params,R.params)||b.paramsSubject.next(R.params),function pn(b,F){if(b.length!==F.length)return!1;for(let R=0;R<b.length;++R)if(!mt(b[R],F[R]))return!1;return!0}(F.url,R.url)||b.urlSubject.next(R.url),mt(F.data,R.data)||b.dataSubject.next(R.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function Js(b,F){const R=mt(b.params,F.params)&&function Hn(b,F){return Wn(b,F)&&b.every((R,L)=>mt(R.parameters,F[L].parameters))}(b.url,F.url);return R&&!(!b.parent!=!F.parent)&&(!b.parent||Js(b.parent,F.parent))}function si(b){return"string"==typeof b.title||null===b.title}const xo=new p.nKC("");let Sa=(()=>{class b{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$e;activateEvents=new p.bkB;deactivateEvents=new p.bkB;attachEvents=new p.bkB;detachEvents=new p.bkB;routerOutletData=(0,p.hFB)(void 0);parentContexts=(0,p.WQX)(ks);location=(0,p.WQX)(p.c1b);changeDetector=(0,p.WQX)(p.gRc);inputBinder=(0,p.WQX)(eo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(R){if(R.name){const{firstChange:L,previousValue:X}=R.name;if(L)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){return this.parentContexts.getContext(R)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);R?.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,L){this.activated=R,this._activatedRoute=L,this.location.insert(R.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,L){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=R;const X=this.location,Se=R.snapshot.component,gt=this.parentContexts.getOrCreateContext(this.name).children,ze=new To(R,gt,X.injector,this.routerOutletData);this.activated=X.createComponent(Se,{index:X.length,injector:ze,environmentInjector:L}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(L){return new(L||b)};static \u0275dir=p.FsC({type:b,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[p.OA$]})}return b})();class To{route;childContexts;parent;outletData;__ngOutletInjector(F){return new To(this.route,this.childContexts,F,this.outletData)}constructor(F,R,L,X){this.route=F,this.childContexts=R,this.parent=L,this.outletData=X}get(F,R){return F===Wi?this.route:F===ks?this.childContexts:F===xo?this.outletData:this.parent.get(F,R)}}const eo=new p.nKC("");let ba=(()=>{class b{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){this.outletDataSubscriptions.get(R)?.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:L}=R,X=(0,Y.z)([L.queryParams,L.params,L.data]).pipe((0,qt.n)(([he,Se,gt],ze)=>(gt={...he,...Se,...gt},0===ze?(0,ie.of)(gt):Promise.resolve(gt)))).subscribe(he=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==L||null===L.component)return void this.unsubscribeFromRouteData(R);const Se=(0,p.HJs)(L.component);if(Se)for(const{templateName:gt}of Se.inputs)R.activatedComponentRef.setInput(gt,he[gt]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,X)}static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac})}return b})();function Ts(b,F,R){if(R&&b.shouldReuseRoute(F.value,R.value.snapshot)){const L=R.value;L._futureSnapshot=F.value;const X=function Un(b,F,R){return F.children.map(L=>{for(const X of R.children)if(b.shouldReuseRoute(L.value,X.value.snapshot))return Ts(b,L,X);return Ts(b,L)})}(b,F,R);return new Ui(L,X)}{if(b.shouldAttach(F.value)){const he=b.retrieve(F.value);if(null!==he){const Se=he.route;return Se.value._futureSnapshot=F.value,Se.children=F.children.map(gt=>Ts(b,gt)),Se}}const L=function So(b){return new Wi(new te.t(b.url),new te.t(b.params),new te.t(b.queryParams),new te.t(b.fragment),new te.t(b.data),b.outlet,b.component,b)}(F.value),X=F.children.map(he=>Ts(b,he));return new Ui(L,X)}}class fi{redirectTo;navigationBehaviorOptions;constructor(F,R){this.redirectTo=F,this.navigationBehaviorOptions=R}}const bo="ngNavigationCancelingError";function Gr(b,F){const{redirectTo:R,navigationBehaviorOptions:L}=Tn(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,X=Po(!1,we.Redirect);return X.url=R,X.navigationBehaviorOptions=L,X}function Po(b,F){const R=new Error(`NavigationCancelingError: ${b||""}`);return R[bo]=!0,R.cancellationCode=F,R}function ko(b){return!!b&&b[bo]}class co{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(F,R,L,X,he){this.routeReuseStrategy=F,this.futureState=R,this.currState=L,this.forwardEvent=X,this.inputBindingEnabled=he}activate(F){const R=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,L,F),qi(this.futureState.root),this.activateChildRoutes(R,L,F)}deactivateChildRoutes(F,R,L){const X=Bs(R);F.children.forEach(he=>{const Se=he.value.outlet;this.deactivateRoutes(he,X[Se],L),delete X[Se]}),Object.values(X).forEach(he=>{this.deactivateRouteAndItsChildren(he,L)})}deactivateRoutes(F,R,L){const X=F.value,he=R?R.value:null;if(X===he)if(X.component){const Se=L.getContext(X.outlet);Se&&this.deactivateChildRoutes(F,R,Se.children)}else this.deactivateChildRoutes(F,R,L);else he&&this.deactivateRouteAndItsChildren(R,L)}deactivateRouteAndItsChildren(F,R){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,R):this.deactivateRouteAndOutlet(F,R)}detachAndStoreRouteSubtree(F,R){const L=R.getContext(F.value.outlet),X=L&&F.value.component?L.children:R,he=Bs(F);for(const Se of Object.values(he))this.deactivateRouteAndItsChildren(Se,X);if(L&&L.outlet){const Se=L.outlet.detach(),gt=L.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:Se,route:F,contexts:gt})}}deactivateRouteAndOutlet(F,R){const L=R.getContext(F.value.outlet),X=L&&F.value.component?L.children:R,he=Bs(F);for(const Se of Object.values(he))this.deactivateRouteAndItsChildren(Se,X);L&&(L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated()),L.attachRef=null,L.route=null)}activateChildRoutes(F,R,L){const X=Bs(R);F.children.forEach(he=>{this.activateRoutes(he,X[he.value.outlet],L),this.forwardEvent(new ri(he.value.snapshot))}),F.children.length&&this.forwardEvent(new jn(F.value.snapshot))}activateRoutes(F,R,L){const X=F.value,he=R?R.value:null;if(qi(X),X===he)if(X.component){const Se=L.getOrCreateContext(X.outlet);this.activateChildRoutes(F,R,Se.children)}else this.activateChildRoutes(F,R,L);else if(X.component){const Se=L.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const gt=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Se.children.onOutletReAttached(gt.contexts),Se.attachRef=gt.componentRef,Se.route=gt.route.value,Se.outlet&&Se.outlet.attach(gt.componentRef,gt.route.value),qi(gt.route.value),this.activateChildRoutes(F,null,Se.children)}else Se.attachRef=null,Se.route=X,Se.outlet&&Se.outlet.activateWith(X,Se.injector),this.activateChildRoutes(F,null,Se.children)}else this.activateChildRoutes(F,null,L)}}class es{path;route;constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class Fo{component;route;constructor(F,R){this.component=F,this.route=R}}function lo(b,F,R){const L=b._root;return Dr(L,F?F._root:null,R,[L.value])}function ca(b,F){const R=Symbol(),L=F.get(b,R);return L===R?"function"!=typeof b||(0,p.LfX)(b)?F.get(b):b:L}function Dr(b,F,R,L,X={canDeactivateChecks:[],canActivateChecks:[]}){const he=Bs(F);return b.children.forEach(Se=>{(function hr(b,F,R,L,X={canDeactivateChecks:[],canActivateChecks:[]}){const he=b.value,Se=F?F.value:null,gt=R?R.getContext(b.value.outlet):null;if(Se&&he.routeConfig===Se.routeConfig){const ze=function ss(b,F,R){if("function"==typeof R)return R(b,F);switch(R){case"pathParamsChange":return!Wn(b.url,F.url);case"pathParamsOrQueryParamsChange":return!Wn(b.url,F.url)||!mt(b.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Js(b,F)||!mt(b.queryParams,F.queryParams);default:return!Js(b,F)}}(Se,he,he.routeConfig.runGuardsAndResolvers);ze?X.canActivateChecks.push(new es(L)):(he.data=Se.data,he._resolvedData=Se._resolvedData),Dr(b,F,he.component?gt?gt.children:null:R,L,X),ze&&gt&&gt.outlet&&gt.outlet.isActivated&&X.canDeactivateChecks.push(new Fo(gt.outlet.component,Se))}else Se&&ho(F,gt,X),X.canActivateChecks.push(new es(L)),Dr(b,null,he.component?gt?gt.children:null:R,L,X)})(Se,he[Se.value.outlet],R,L.concat([Se.value]),X),delete he[Se.value.outlet]}),Object.entries(he).forEach(([Se,gt])=>ho(gt,R.getContext(Se),X)),X}function ho(b,F,R){const L=Bs(b),X=b.value;Object.entries(L).forEach(([he,Se])=>{ho(Se,X.component?F?F.children.getContext(he):null:F,R)}),R.canDeactivateChecks.push(new Fo(X.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,X))}function Lo(b){return"function"==typeof b}function $s(b){return b instanceof fe.G||"EmptyError"===b?.name}const cc=Symbol("INITIAL_VALUE");function to(){return(0,qt.n)(b=>(0,Y.z)(b.map(F=>F.pipe((0,lt.s)(1),(0,qe.Z)(cc)))).pipe((0,wt.T)(F=>{for(const R of F)if(!0!==R){if(R===cc)return cc;if(!1===R||fo(R))return R}return!0}),(0,nn.p)(F=>F!==cc),(0,lt.s)(1)))}function fo(b){return Tn(b)||b instanceof fi}function _o(b){return(0,Te.F)((0,Lt.M)(F=>{if("boolean"!=typeof F)throw Gr(0,F)}),(0,wt.T)(F=>!0===F))}class Eo{segmentGroup;constructor(F){this.segmentGroup=F||null}}class Qo extends Error{urlTree;constructor(F){super(),this.urlTree=F}}function po(b){return(0,Ue.$)(new Eo(b))}class Ic{urlSerializer;urlTree;constructor(F,R){this.urlSerializer=F,this.urlTree=R}lineralizeSegments(F,R){let L=[],X=R.root;for(;;){if(L=L.concat(X.segments),0===X.numberOfChildren)return(0,ie.of)(L);if(X.numberOfChildren>1||!X.children[$e])return(0,Ue.$)(new p.wOt(4e3,!1));X=X.children[$e]}}applyRedirectCommands(F,R,L,X,he){if("string"!=typeof R){const gt=R,{queryParams:ze,fragment:an,routeConfig:An,url:Ir,outlet:_i,params:yo,data:Ls,title:Vs}=X,cs=(0,p.N4e)(he,()=>gt({params:yo,data:Ls,queryParams:ze,fragment:an,routeConfig:An,url:Ir,outlet:_i,title:Vs}));if(cs instanceof ei)throw new Qo(cs);R=cs}const Se=this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),F,L);if("/"===R[0])throw new Qo(Se);return Se}applyRedirectCreateUrlTree(F,R,L,X){const he=this.createSegmentGroup(F,R.root,L,X);return new ei(he,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(F,R){const L={};return Object.entries(F).forEach(([X,he])=>{if("string"==typeof he&&":"===he[0]){const gt=he.substring(1);L[X]=R[gt]}else L[X]=he}),L}createSegmentGroup(F,R,L,X){const he=this.createSegments(F,R.segments,L,X);let Se={};return Object.entries(R.children).forEach(([gt,ze])=>{Se[gt]=this.createSegmentGroup(F,ze,L,X)}),new sr(he,Se)}createSegments(F,R,L,X){return R.map(he=>":"===he.path[0]?this.findPosParam(F,he,X):this.findOrReturn(he,L))}findPosParam(F,R,L){const X=L[R.path.substring(1)];if(!X)throw new p.wOt(4001,!1);return X}findOrReturn(F,R){let L=0;for(const X of R){if(X.path===F.path)return R.splice(L),X;L++}return F}}const la={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ua(b,F,R,L,X){const he=tl(b,F,R);return he.matched?(L=function Ge(b,F){return b.providers&&!b._injector&&(b._injector=(0,p.Ol2)(b.providers,F,`Route: ${b.path}`)),b._injector??F}(F,L),function no(b,F,R,L){const X=F.canMatch;if(!X||0===X.length)return(0,ie.of)(!0);const he=X.map(Se=>{const gt=ca(Se,b);return Mt(function Yi(b){return b&&Lo(b.canMatch)}(gt)?gt.canMatch(F,R):(0,p.N4e)(b,()=>gt(F,R)))});return(0,ie.of)(he).pipe(to(),_o())}(L,F,R).pipe((0,wt.T)(Se=>!0===Se?he:{...la}))):(0,ie.of)(he)}function tl(b,F,R){if("**"===F.path)return function Aa(b){return{matched:!0,parameters:b.length>0?ht(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}(R);if(""===F.path)return"full"===F.pathMatch&&(b.hasChildren()||R.length>0)?{...la}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const X=(F.matcher||At)(R,b,F);if(!X)return{...la};const he={};Object.entries(X.posParams??{}).forEach(([gt,ze])=>{he[gt]=ze.path});const Se=X.consumed.length>0?{...he,...X.consumed[X.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:X.consumed,remainingSegments:R.slice(X.consumed.length),parameters:Se,positionalParamSegments:X.posParams??{}}}function ki(b,F,R,L){return R.length>0&&function da(b,F,R){return R.some(L=>Ao(b,F,L)&&dr(L)!==$e)}(b,R,L)?{segmentGroup:new sr(F,Ba(L,new sr(R,b.children))),slicedSegments:[]}:0===R.length&&function ha(b,F,R){return R.some(L=>Ao(b,F,L))}(b,R,L)?{segmentGroup:new sr(b.segments,Ua(b,R,L,b.children)),slicedSegments:R}:{segmentGroup:new sr(b.segments,b.children),slicedSegments:R}}function Ua(b,F,R,L){const X={};for(const he of R)if(Ao(b,F,he)&&!L[dr(he)]){const Se=new sr([],{});X[dr(he)]=Se}return{...L,...X}}function Ba(b,F){const R={};R[$e]=F;for(const L of b)if(""===L.path&&dr(L)!==$e){const X=new sr([],{});R[dr(L)]=X}return R}function Ao(b,F,R){return(!(b.hasChildren()||F.length>0)||"full"!==R.pathMatch)&&""===R.path}class qr{}class ja{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(F,R,L,X,he,Se,gt){this.injector=F,this.configLoader=R,this.rootComponentType=L,this.config=X,this.urlTree=he,this.paramsInheritanceStrategy=Se,this.urlSerializer=gt,this.applyRedirects=new Ic(this.urlSerializer,this.urlTree)}noMatchError(F){return new p.wOt(4002,`'${F.segmentGroup}'`)}recognize(){const F=ki(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(F).pipe((0,wt.T)(({children:R,rootSnapshot:L})=>{const X=new Ui(L,R),he=new tc("",X),Se=function ar(b,F,R=null,L=null){return Jr(Cn(b),F,R,L)}(L,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(Se),{state:he,tree:Se}}))}match(F){const R=new hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),$e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,F,$e,R).pipe((0,wt.T)(L=>({children:L,rootSnapshot:R})),(0,wn.W)(L=>{if(L instanceof Qo)return this.urlTree=L.urlTree,this.match(L.urlTree.root);throw L instanceof Eo?this.noMatchError(L):L}))}processSegmentGroup(F,R,L,X,he){return 0===L.segments.length&&L.hasChildren()?this.processChildren(F,R,L,he):this.processSegment(F,R,L,L.segments,X,!0,he).pipe((0,wt.T)(Se=>Se instanceof Ui?[Se]:[]))}processChildren(F,R,L,X){const he=[];for(const Se of Object.keys(L.children))"primary"===Se?he.unshift(Se):he.push(Se);return(0,Z.H)(he).pipe((0,Gt.H)(Se=>{const gt=L.children[Se],ze=function Ta(b,F){const R=b.filter(L=>dr(L)===F);return R.push(...b.filter(L=>dr(L)!==F)),R}(R,Se);return this.processSegmentGroup(F,ze,gt,Se,X)}),(0,Nt.S)((Se,gt)=>(Se.push(...gt),Se)),(0,et.U)(null),(0,on.H)(),(0,Bt.Z)(Se=>{if(null===Se)return po(L);const gt=Ma(Se);return function Zi(b){b.sort((F,R)=>F.value.outlet===$e?-1:R.value.outlet===$e?1:F.value.outlet.localeCompare(R.value.outlet))}(gt),(0,ie.of)(gt)}))}processSegment(F,R,L,X,he,Se,gt){return(0,Z.H)(R).pipe((0,Gt.H)(ze=>this.processSegmentAgainstRoute(ze._injector??F,R,ze,L,X,he,Se,gt).pipe((0,wn.W)(an=>{if(an instanceof Eo)return(0,ie.of)(null);throw an}))),(0,Ze.$)(ze=>!!ze),(0,wn.W)(ze=>{if($s(ze))return function nc(b,F,R){return 0===F.length&&!b.children[R]}(L,X,he)?(0,ie.of)(new qr):po(L);throw ze}))}processSegmentAgainstRoute(F,R,L,X,he,Se,gt,ze){return dr(L)===Se||Se!==$e&&Ao(X,he,L)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(F,X,L,he,Se,ze):this.allowRedirects&&gt?this.expandSegmentAgainstRouteUsingRedirect(F,X,R,L,he,Se,ze):po(X):po(X)}expandSegmentAgainstRouteUsingRedirect(F,R,L,X,he,Se,gt){const{matched:ze,parameters:an,consumedSegments:An,positionalParamSegments:Ir,remainingSegments:_i}=tl(R,X,he);if(!ze)return po(R);"string"==typeof X.redirectTo&&"/"===X.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const yo=new hi(he,an,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ws(X),dr(X),X.component??X._loadedComponent??null,X,fa(X)),Ls=wo(yo,gt,this.paramsInheritanceStrategy);yo.params=Object.freeze(Ls.params),yo.data=Object.freeze(Ls.data);const Vs=this.applyRedirects.applyRedirectCommands(An,X.redirectTo,Ir,yo,F);return this.applyRedirects.lineralizeSegments(X,Vs).pipe((0,Bt.Z)(cs=>this.processSegment(F,L,R,cs.concat(_i),Se,!1,gt)))}matchSegmentAgainstRoute(F,R,L,X,he,Se){const gt=ua(R,L,X,F);return"**"===L.path&&(R.children={}),gt.pipe((0,qt.n)(ze=>ze.matched?this.getChildConfig(F=L._injector??F,L,X).pipe((0,qt.n)(({routes:an})=>{const An=L._loadedInjector??F,{parameters:Ir,consumedSegments:_i,remainingSegments:yo}=ze,Ls=new hi(_i,Ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ws(L),dr(L),L.component??L._loadedComponent??null,L,fa(L)),Vs=wo(Ls,Se,this.paramsInheritanceStrategy);Ls.params=Object.freeze(Vs.params),Ls.data=Object.freeze(Vs.data);const{segmentGroup:cs,slicedSegments:Wo}=ki(R,_i,yo,an);if(0===Wo.length&&cs.hasChildren())return this.processChildren(An,an,cs,Ls).pipe((0,wt.T)(pr=>new Ui(Ls,pr)));if(0===an.length&&0===Wo.length)return(0,ie.of)(new Ui(Ls,[]));const Sc=dr(L)===he;return this.processSegment(An,an,cs,Wo,Sc?$e:he,!0,Ls).pipe((0,wt.T)(pr=>new Ui(Ls,pr instanceof Ui?[pr]:[])))})):po(R)))}getChildConfig(F,R,L){return R.children?(0,ie.of)({routes:R.children,injector:F}):R.loadChildren?void 0!==R._loadedRoutes?(0,ie.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function Ln(b,F,R,L){const X=F.canLoad;if(void 0===X||0===X.length)return(0,ie.of)(!0);const he=X.map(Se=>{const gt=ca(Se,b);return Mt(function os(b){return b&&Lo(b.canLoad)}(gt)?gt.canLoad(F,R):(0,p.N4e)(b,()=>gt(F,R)))});return(0,ie.of)(he).pipe(to(),_o())}(F,R,L).pipe((0,Bt.Z)(X=>X?this.configLoader.loadChildren(F,R).pipe((0,Lt.M)(he=>{R._loadedRoutes=he.routes,R._loadedInjector=he.injector})):function Bi(){return(0,Ue.$)(Po(!1,we.GuardRejected))}())):(0,ie.of)({routes:[],injector:F})}}function Vc(b){const F=b.value.routeConfig;return F&&""===F.path}function Ma(b){const F=[],R=new Set;for(const L of b){if(!Vc(L)){F.push(L);continue}const X=F.find(he=>L.value.routeConfig===he.value.routeConfig);void 0!==X?(X.children.push(...L.children),R.add(X)):F.push(L)}for(const L of R){const X=Ma(L.children);F.push(new Ui(L.value,X))}return F.filter(L=>!R.has(L))}function Ws(b){return b.data||{}}function fa(b){return b.resolve||{}}function zt(b){const F=b.children.map(R=>zt(R)).flat();return[b,...F]}function Yt(b){return(0,qt.n)(F=>{const R=b(F);return R?(0,Z.H)(R).pipe((0,wt.T)(()=>F)):(0,ie.of)(F)})}let Ye=(()=>{class b{buildTitle(R){let L,X=R.root;for(;void 0!==X;)L=this.getResolvedTitleForRoute(X)??L,X=X.children.find(he=>he.outlet===$e);return L}getResolvedTitleForRoute(R){return R.data[pt]}static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(xn),providedIn:"root"})}return b})(),xn=(()=>{class b extends Ye{title;constructor(R){super(),this.title=R}updateTitle(R){const L=this.buildTitle(R);void 0!==L&&this.title.setTitle(L)}static \u0275fac=function(L){return new(L||b)(p.KVO(Je.hE))};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const $t=new p.nKC("",{providedIn:"root",factory:()=>({})});let at=(()=>{class b{static \u0275fac=function(L){return new(L||b)};static \u0275cmp=p.VBU({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(L,X){1&L&&p.nrm(0,"router-outlet")},dependencies:[Sa],encapsulation:2})}return b})();function Ot(b){const F=b.children&&b.children.map(Ot),R=F?{...b,children:F}:{...b};return!R.component&&!R.loadComponent&&(F||R.loadChildren)&&R.outlet&&R.outlet!==$e&&(R.component=at),R}const Ur=new p.nKC("");let Uo=(()=>{class b{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,p.WQX)(p.Ql9);loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,ie.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const L=Mt(R.loadComponent()).pipe((0,wt.T)(Bo),(0,Lt.M)(he=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=he}),(0,br.j)(()=>{this.componentLoaders.delete(R)})),X=new Qe.G(L,()=>new st.B).pipe((0,Nr.B)());return this.componentLoaders.set(R,X),X}loadChildren(R,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,ie.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const he=function wi(b,F,R,L){return Mt(b.loadChildren()).pipe((0,wt.T)(Bo),(0,Bt.Z)(X=>X instanceof p.Co$||Array.isArray(X)?(0,ie.of)(X):(0,Z.H)(F.compileModuleAsync(X))),(0,wt.T)(X=>{L&&L(b);let he,Se,gt=!1;return Array.isArray(X)?(Se=X,!0):(he=X.create(R).injector,Se=he.get(Ur,[],{optional:!0,self:!0}).flat()),{routes:Se.map(Ot),injector:he}}))}(L,this.compiler,R,this.onLoadEndListener).pipe((0,br.j)(()=>{this.childrenLoaders.delete(L)})),Se=new Qe.G(he,()=>new st.B).pipe((0,Nr.B)());return this.childrenLoaders.set(L,Se),Se}static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function Bo(b){return function as(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let lr=(()=>{class b{static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(jo),providedIn:"root"})}return b})(),jo=(()=>{class b{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,L){return R}static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const Ha=new p.nKC(""),pa=new p.nKC("");function ci(b,F,R){const L=b.get(pa),X=b.get(vt.qQ);return b.get(p.SKi).runOutsideAngular(()=>{if(!X.startViewTransition||L.skipNextTransition)return L.skipNextTransition=!1,new Promise(an=>setTimeout(an));let he;const Se=new Promise(an=>{he=an}),gt=X.startViewTransition(()=>(he(),function rc(b){return new Promise(F=>{(0,p.mal)({read:()=>setTimeout(F)},{injector:b})})}(b))),{onViewTransitionCreated:ze}=L;return ze&&(0,p.N4e)(b,()=>ze({transition:gt,from:F,to:R})),Se})}const Xr=new p.nKC("");let Pn=(()=>{class b{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new st.B;transitionAbortSubject=new st.B;configLoader=(0,p.WQX)(Uo);environmentInjector=(0,p.WQX)(p.uvJ);urlSerializer=(0,p.WQX)(Er);rootContexts=(0,p.WQX)(ks);location=(0,p.WQX)(vt.aZ);inputBindingEnabled=null!==(0,p.WQX)(eo,{optional:!0});titleStrategy=(0,p.WQX)(Ye);options=(0,p.WQX)($t,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,p.WQX)(lr);createViewTransition=(0,p.WQX)(Ha,{optional:!0});navigationErrorHandler=(0,p.WQX)(Xr,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,ie.of)(void 0);rootComponentType=null;constructor(){this.configLoader.onLoadEndListener=X=>this.events.next(new di(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new zn(X))}complete(){this.transitions?.complete()}handleNavigationRequest(R){const L=++this.navigationId;this.transitions?.next({...this.transitions.value,...R,id:L})}setupNavigations(R,L,X){return this.transitions=new te.t({id:0,currentUrlTree:L,currentRawUrl:L,extractedUrl:this.urlHandlingStrategy.extract(L),urlAfterRedirects:this.urlHandlingStrategy.extract(L),rawUrl:L,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qi,restoredState:null,currentSnapshot:X.snapshot,targetSnapshot:null,currentRouterState:X,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nn.p)(he=>0!==he.id),(0,wt.T)(he=>({...he,extractedUrl:this.urlHandlingStrategy.extract(he.rawUrl)})),(0,qt.n)(he=>{let Se=!1,gt=!1;return(0,ie.of)(he).pipe((0,qt.n)(ze=>{if(this.navigationId>he.id)return this.cancelNavigationTransition(he,"",we.SupersededByNewNavigation),Ve.w;this.currentTransition=he,this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,targetBrowserUrl:"string"==typeof ze.extras.browserUrl?this.urlSerializer.parse(ze.extras.browserUrl):ze.extras.browserUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const an=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!an&&"reload"!==(ze.extras.onSameUrlNavigation??R.onSameUrlNavigation)){const Ir="";return this.events.next(new Rt(ze.id,this.urlSerializer.serialize(ze.rawUrl),Ir,Be.IgnoredSameUrlNavigation)),ze.resolve(!1),Ve.w}if(this.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return(0,ie.of)(ze).pipe((0,qt.n)(Ir=>{const _i=this.transitions?.getValue();return this.events.next(new ge(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),Ir.source,Ir.restoredState)),_i!==this.transitions?.getValue()?Ve.w:Promise.resolve(Ir)}),function Vo(b,F,R,L,X,he){return(0,Bt.Z)(Se=>function ro(b,F,R,L,X,he,Se="emptyOnly"){return new ja(b,F,R,L,X,Se,he).recognize()}(b,F,R,L,Se.extractedUrl,X,he).pipe((0,wt.T)(({state:gt,tree:ze})=>({...Se,targetSnapshot:gt,urlAfterRedirects:ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Lt.M)(Ir=>{he.targetSnapshot=Ir.targetSnapshot,he.urlAfterRedirects=Ir.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ir.urlAfterRedirects};const _i=new Fn(Ir.id,this.urlSerializer.serialize(Ir.extractedUrl),this.urlSerializer.serialize(Ir.urlAfterRedirects),Ir.targetSnapshot);this.events.next(_i)}));if(an&&this.urlHandlingStrategy.shouldProcessUrl(ze.currentRawUrl)){const{id:Ir,extractedUrl:_i,source:yo,restoredState:Ls,extras:Vs}=ze,cs=new ge(Ir,this.urlSerializer.serialize(_i),yo,Ls);this.events.next(cs);const Wo=oa(this.rootComponentType).snapshot;return this.currentTransition=he={...ze,targetSnapshot:Wo,urlAfterRedirects:_i,extras:{...Vs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_i,(0,ie.of)(he)}{const Ir="";return this.events.next(new Rt(ze.id,this.urlSerializer.serialize(ze.extractedUrl),Ir,Be.IgnoredByUrlHandlingStrategy)),ze.resolve(!1),Ve.w}}),(0,Lt.M)(ze=>{const an=new Dn(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(an)}),(0,wt.T)(ze=>(this.currentTransition=he={...ze,guards:lo(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)},he)),function ys(b,F){return(0,Bt.Z)(R=>{const{targetSnapshot:L,currentSnapshot:X,guards:{canActivateChecks:he,canDeactivateChecks:Se}}=R;return 0===Se.length&&0===he.length?(0,ie.of)({...R,guardsResult:!0}):function Hs(b,F,R,L){return(0,Z.H)(b).pipe((0,Bt.Z)(X=>function mn(b,F,R,L,X){const he=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,ie.of)(!0);const Se=he.map(gt=>{const ze=Ps(F)??X,an=ca(gt,ze);return Mt(function Xi(b){return b&&Lo(b.canDeactivate)}(an)?an.canDeactivate(b,F,R,L):(0,p.N4e)(ze,()=>an(b,F,R,L))).pipe((0,Ze.$)())});return(0,ie.of)(Se).pipe(to())}(X.component,X.route,R,F,L)),(0,Ze.$)(X=>!0!==X,!0))}(Se,L,X,b).pipe((0,Bt.Z)(gt=>gt&&function Va(b){return"boolean"==typeof b}(gt)?function z(b,F,R,L){return(0,Z.H)(F).pipe((0,Gt.H)(X=>(0,ne.x)(function V(b,F){return null!==b&&F&&F(new vi(b)),(0,ie.of)(!0)}(X.route.parent,L),function G(b,F){return null!==b&&F&&F(new Wr(b)),(0,ie.of)(!0)}(X.route,L),function ke(b,F,R){const L=F[F.length-1],he=F.slice(0,F.length-1).reverse().map(Se=>function uo(b){const F=b.routeConfig?b.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:b,guards:F}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,le.v)(()=>{const gt=Se.guards.map(ze=>{const an=Ps(Se.node)??R,An=ca(ze,an);return Mt(function Pi(b){return b&&Lo(b.canActivateChild)}(An)?An.canActivateChild(L,b):(0,p.N4e)(an,()=>An(L,b))).pipe((0,Ze.$)())});return(0,ie.of)(gt).pipe(to())}));return(0,ie.of)(he).pipe(to())}(b,X.path,R),function ue(b,F,R){const L=F.routeConfig?F.routeConfig.canActivate:null;if(!L||0===L.length)return(0,ie.of)(!0);const X=L.map(he=>(0,le.v)(()=>{const Se=Ps(F)??R,gt=ca(he,Se);return Mt(function nr(b){return b&&Lo(b.canActivate)}(gt)?gt.canActivate(F,b):(0,p.N4e)(Se,()=>gt(F,b))).pipe((0,Ze.$)())}));return(0,ie.of)(X).pipe(to())}(b,X.route,R))),(0,Ze.$)(X=>!0!==X,!0))}(L,he,b,F):(0,ie.of)(gt)),(0,wt.T)(gt=>({...R,guardsResult:gt})))})}(this.environmentInjector,ze=>this.events.next(ze)),(0,Lt.M)(ze=>{if(he.guardsResult=ze.guardsResult,ze.guardsResult&&"boolean"!=typeof ze.guardsResult)throw Gr(0,ze.guardsResult);const an=new Qr(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.events.next(an)}),(0,nn.p)(ze=>!!ze.guardsResult||(this.cancelNavigationTransition(ze,"",we.GuardRejected),!1)),Yt(ze=>{if(ze.guards.canActivateChecks.length)return(0,ie.of)(ze).pipe((0,Lt.M)(an=>{const An=new Kn(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(An)}),(0,qt.n)(an=>{let An=!1;return(0,ie.of)(an).pipe(function Xo(b,F){return(0,Bt.Z)(R=>{const{targetSnapshot:L,guards:{canActivateChecks:X}}=R;if(!X.length)return(0,ie.of)(R);const he=new Set(X.map(ze=>ze.route)),Se=new Set;for(const ze of he)if(!Se.has(ze))for(const an of zt(ze))Se.add(an);let gt=0;return(0,Z.H)(Se).pipe((0,Gt.H)(ze=>he.has(ze)?function Fi(b,F,R,L){const X=b.routeConfig,he=b._resolve;return void 0!==X?.title&&!si(X)&&(he[pt]=X.title),function $a(b,F,R,L){const X=it(b);if(0===X.length)return(0,ie.of)({});const he={};return(0,Z.H)(X).pipe((0,Bt.Z)(Se=>function Yo(b,F,R,L){const X=Ps(F)??L,he=ca(b,X);return Mt(he.resolve?he.resolve(F,R):(0,p.N4e)(X,()=>he(F,R)))}(b[Se],F,R,L).pipe((0,Ze.$)(),(0,Lt.M)(gt=>{if(gt instanceof fi)throw Gr(new oi,gt);he[Se]=gt}))),(0,Jt.o)(1),(0,$n.u)(he),(0,wn.W)(Se=>$s(Se)?Ve.w:(0,Ue.$)(Se)))}(he,b,F,L).pipe((0,wt.T)(Se=>(b._resolvedData=Se,b.data=wo(b,b.parent,R).resolve,null)))}(ze,L,b,F):(ze.data=wo(ze,ze.parent,b).resolve,(0,ie.of)(void 0))),(0,Lt.M)(()=>gt++),(0,Jt.o)(1),(0,Bt.Z)(ze=>gt===Se.size?(0,ie.of)(R):Ve.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Lt.M)({next:()=>An=!0,complete:()=>{An||this.cancelNavigationTransition(an,"",we.NoDataFromResolver)}}))}),(0,Lt.M)(an=>{const An=new ln(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(An)}))}),Yt(ze=>{const an=An=>{const Ir=[];An.routeConfig?.loadComponent&&!An.routeConfig._loadedComponent&&Ir.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,Lt.M)(_i=>{An.component=_i}),(0,wt.T)(()=>{})));for(const _i of An.children)Ir.push(...an(_i));return Ir};return(0,Y.z)(an(ze.targetSnapshot.root)).pipe((0,et.U)(null),(0,lt.s)(1))}),Yt(()=>this.afterPreactivation()),(0,qt.n)(()=>{const{currentSnapshot:ze,targetSnapshot:an}=he,An=this.createViewTransition?.(this.environmentInjector,ze.root,an.root);return An?(0,Z.H)(An).pipe((0,wt.T)(()=>he)):(0,ie.of)(he)}),(0,wt.T)(ze=>{const an=function ms(b,F,R){const L=Ts(b,F._root,R?R._root:void 0);return new ws(L,F)}(R.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return this.currentTransition=he={...ze,targetRouterState:an},this.currentNavigation.targetRouterState=an,he}),(0,Lt.M)(()=>{this.events.next(new ii)}),((b,F,R,L)=>(0,wt.T)(X=>(new co(F,X.targetRouterState,X.currentRouterState,R,L).activate(b),X)))(this.rootContexts,R.routeReuseStrategy,ze=>this.events.next(ze),this.inputBindingEnabled),(0,lt.s)(1),(0,Lt.M)({next:ze=>{Se=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new me(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects))),this.titleStrategy?.updateTitle(ze.targetRouterState.snapshot),ze.resolve(!0)},complete:()=>{Se=!0}}),(0,bi.Q)(this.transitionAbortSubject.pipe((0,Lt.M)(ze=>{throw ze}))),(0,br.j)(()=>{!Se&&!gt&&this.cancelNavigationTransition(he,"",we.SupersededByNewNavigation),this.currentTransition?.id===he.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,wn.W)(ze=>{if(gt=!0,ko(ze))this.events.next(new Tt(he.id,this.urlSerializer.serialize(he.extractedUrl),ze.message,ze.cancellationCode)),function ao(b){return ko(b)&&Tn(b.url)}(ze)?this.events.next(new ye(ze.url,ze.navigationBehaviorOptions)):he.resolve(!1);else{const an=new Xt(he.id,this.urlSerializer.serialize(he.extractedUrl),ze,he.targetSnapshot??void 0);try{const An=(0,p.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(an));if(!(An instanceof fi))throw this.events.next(an),ze;{const{message:Ir,cancellationCode:_i}=Gr(0,An);this.events.next(new Tt(he.id,this.urlSerializer.serialize(he.extractedUrl),Ir,_i)),this.events.next(new ye(An.redirectTo,An.navigationBehaviorOptions))}}catch(An){this.options.resolveNavigationPromiseOnError?he.resolve(!1):he.reject(An)}}return Ve.w}))}))}cancelNavigationTransition(R,L,X){const he=new Tt(R.id,this.urlSerializer.serialize(R.extractedUrl),L,X);this.events.next(he),R.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const R=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),L=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return R.toString()!==L?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function Io(b){return b!==Qi}let nl=(()=>{class b{static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(q),providedIn:"root"})}return b})();class N{shouldDetach(F){return!1}store(F,R){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,R){return F.routeConfig===R.routeConfig}}let q=(()=>{class b extends N{static \u0275fac=(()=>{let R;return function(X){return(R||(R=p.xGo(b)))(X||b)}})();static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),U=(()=>{class b{static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(W),providedIn:"root"})}return b})(),W=(()=>{class b extends U{location=(0,p.WQX)(vt.aZ);urlSerializer=(0,p.WQX)(Er);options=(0,p.WQX)($t,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=(0,p.WQX)(lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ei;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=oa(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe(L=>{"popstate"===L.type&&R(L.url,L.state)})}handleRouterEvent(R,L){if(R instanceof ge)this.stateMemento=this.createStateMemento();else if(R instanceof Rt)this.rawUrlTree=L.initialUrl;else if(R instanceof Fn){if("eager"===this.urlUpdateStrategy&&!L.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(L.finalUrl,L.initialUrl);this.setBrowserUrl(L.targetBrowserUrl??X,L)}}else R instanceof ii?(this.currentUrlTree=L.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(L.finalUrl,L.initialUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&!L.extras.skipLocationChange&&this.setBrowserUrl(L.targetBrowserUrl??this.rawUrlTree,L)):R instanceof Tt&&(R.code===we.GuardRejected||R.code===we.NoDataFromResolver)?this.restoreHistory(L):R instanceof Xt?this.restoreHistory(L,!0):R instanceof me&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,L){const X=R instanceof ei?this.urlSerializer.serialize(R):R;if(this.location.isCurrentPathEqualTo(X)||L.extras.replaceUrl){const Se={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId)};this.location.replaceState(X,"",Se)}else{const he={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId+1)};this.location.go(X,"",he)}}restoreHistory(R,L=!1){if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-this.browserPageId;0!==he?this.location.historyGo(he):this.currentUrlTree===R.finalUrl&&0===he&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,L){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:L}:{navigationId:R}}static \u0275fac=(()=>{let R;return function(X){return(R||(R=p.xGo(b)))(X||b)}})();static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();var ve=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(ve||{});function nt(b,F){b.events.pipe((0,nn.p)(R=>R instanceof me||R instanceof Tt||R instanceof Xt||R instanceof Rt),(0,wt.T)(R=>R instanceof me||R instanceof Rt?ve.COMPLETE:R instanceof Tt&&(R.code===we.Redirect||R.code===we.SupersededByNewNavigation)?ve.REDIRECTING:ve.FAILED),(0,nn.p)(R=>R!==ve.REDIRECTING),(0,lt.s)(1)).subscribe(()=>{F()})}const je={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},un={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qn=(()=>{class b{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,p.WQX)(p.H3F);stateManager=(0,p.WQX)(U);options=(0,p.WQX)($t,{optional:!0})||{};pendingTasks=(0,p.WQX)(p.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,p.WQX)(Pn);urlSerializer=(0,p.WQX)(Er);location=(0,p.WQX)(vt.aZ);urlHandlingStrategy=(0,p.WQX)(lr);_events=new st.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,p.WQX)(nl);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,p.WQX)(Ur,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,p.WQX)(eo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:R=>{this.console.warn(R)}}),this.subscribeToNavigationEvents()}eventsSubscription=new bt.yU;subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(L=>{try{const X=this.navigationTransitions.currentTransition,he=this.navigationTransitions.currentNavigation;if(null!==X&&null!==he)if(this.stateManager.handleRouterEvent(L,he),L instanceof Tt&&L.code!==we.Redirect&&L.code!==we.SupersededByNewNavigation)this.navigated=!0;else if(L instanceof me)this.navigated=!0;else if(L instanceof ye){const Se=L.navigationBehaviorOptions,gt=this.urlHandlingStrategy.merge(L.url,X.currentRawUrl),ze={browserUrl:X.extras.browserUrl,info:X.extras.info,skipLocationChange:X.extras.skipLocationChange,replaceUrl:X.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Io(X.source),...Se};this.scheduleNavigation(gt,Qi,null,ze,{resolve:X.resolve,reject:X.reject,promise:X.promise})}(function er(b){return!(b instanceof ii||b instanceof ye)})(L)&&this._events.next(L)}catch(X){this.navigationTransitions.transitionAbortSubject.next(X)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((R,L)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(R,"popstate",L)},0)})}navigateToSyncWithBrowser(R,L,X){const he={replaceUrl:!0},Se=X?.navigationId?X:null;if(X){const ze={...X};delete ze.navigationId,delete ze.\u0275routerPageId,0!==Object.keys(ze).length&&(he.state=ze)}const gt=this.parseUrl(R);this.scheduleNavigation(gt,L,Se,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Ot),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,L={}){const{relativeTo:X,queryParams:he,fragment:Se,queryParamsHandling:gt,preserveFragment:ze}=L,an=ze?this.currentUrlTree.fragment:Se;let Ir,An=null;switch(gt??this.options.defaultQueryParamsHandling){case"merge":An={...this.currentUrlTree.queryParams,...he};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=he||null}null!==An&&(An=this.removeEmptyProps(An));try{Ir=Cn(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||"/"!==R[0][0])&&(R=[]),Ir=this.currentUrlTree.root}return Jr(Ir,R,An,an??null)}navigateByUrl(R,L={skipLocationChange:!1}){const X=Tn(R)?R:this.parseUrl(R),he=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(he,Qi,null,L)}navigate(R,L={skipLocationChange:!1}){return function kr(b){for(let F=0;F<b.length;F++)if(null==b[F])throw new p.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,L),L)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,L){let X;if(X=!0===L?{...je}:!1===L?{...un}:L,Tn(R))return ir(this.currentUrlTree,R,X);const he=this.parseUrl(R);return ir(this.currentUrlTree,he,X)}removeEmptyProps(R){return Object.entries(R).reduce((L,[X,he])=>(null!=he&&(L[X]=he),L),{})}scheduleNavigation(R,L,X,he,Se){if(this.disposed)return Promise.resolve(!1);let gt,ze,an;Se?(gt=Se.resolve,ze=Se.reject,an=Se.promise):an=new Promise((Ir,_i)=>{gt=Ir,ze=_i});const An=this.pendingTasks.add();return nt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(An))}),this.navigationTransitions.handleNavigationRequest({source:L,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:he,resolve:gt,reject:ze,promise:an,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),an.catch(Ir=>Promise.reject(Ir))}static \u0275fac=function(L){return new(L||b)};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),Yn=(()=>{class b{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st.B;constructor(R,L,X,he,Se,gt){this.router=R,this.route=L,this.tabIndexAttribute=X,this.renderer=he,this.el=Se,this.locationStrategy=gt;const ze=Se.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ze||"area"===ze,this.isAnchorElement?this.subscription=R.events.subscribe(an=>{an instanceof me&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(R){null==R?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Tn(R)||Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0"))}onClick(R,L,X,he,Se){const gt=this.urlTree;return!!(null===gt||this.isAnchorElement&&(0!==R||L||X||he||Se||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(gt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const R=this.urlTree;this.href=null!==R&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(R)):null;const L=null===this.href?null:(0,p.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",L)}applyAttributeValue(R,L){const X=this.renderer,he=this.el.nativeElement;null!==L?X.setAttribute(he,R,L):X.removeAttribute(he,R)}get urlTree(){return null===this.routerLinkInput?null:Tn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(L){return new(L||b)(p.rXU(Qn),p.rXU(Wi),p.kS0("tabindex"),p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(vt.hb))};static \u0275dir=p.FsC({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(L,X){1&L&&p.bIt("click",function(Se){return X.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&L&&p.BMQ("target",X.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",p.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",p.L39],replaceUrl:[2,"replaceUrl","replaceUrl",p.L39],routerLink:"routerLink"},features:[p.GFd,p.OA$]})}return b})(),fr=(()=>{class b{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new p.bkB;constructor(R,L,X,he,Se){this.router=R,this.element=L,this.renderer=X,this.cdr=he,this.link=Se,this.routerEventsSubscription=R.events.subscribe(gt=>{gt instanceof me&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,(0,ie.of)(null)).pipe((0,mr.U)()).subscribe(R=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const R=[...this.links.toArray(),this.link].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,Z.H)(R).pipe((0,mr.U)()).subscribe(L=>{this._isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(R){const L=Array.isArray(R)?R:R.split(" ");this.classes=L.filter(X=>!!X)}ngOnChanges(R){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const R=this.hasActiveLinks();this.classes.forEach(L=>{R?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),R&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==R&&(this._isActive=R,this.cdr.markForCheck(),this.isActiveChange.emit(R))})}isLinkActive(R){const L=function qn(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return X=>{const he=X.urlTree;return!!he&&R.isActive(he,L)}}hasActiveLinks(){const R=this.isLinkActive(this.router);return this.link&&R(this.link)||this.links.some(R)}static \u0275fac=function(L){return new(L||b)(p.rXU(Qn),p.rXU(p.aKT),p.rXU(p.sFG),p.rXU(p.gRc),p.rXU(Yn,8))};static \u0275dir=p.FsC({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(L,X,he){if(1&L&&p.wni(he,Yn,5),2&L){let Se;p.mGM(Se=p.lsd())&&(X.links=Se)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[p.OA$]})}return b})();class Mi{}let vs=(()=>{class b{router;injector;preloadingStrategy;loader;subscription;constructor(R,L,X,he,Se){this.router=R,this.injector=X,this.preloadingStrategy=he,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,nn.p)(R=>R instanceof me),(0,Gt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,L){const X=[];for(const he of L){he.providers&&!he._injector&&(he._injector=(0,p.Ol2)(he.providers,R,`Route: ${he.path}`));const Se=he._injector??R,gt=he._loadedInjector??Se;(he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent)&&X.push(this.preloadConfig(Se,he)),(he.children||he._loadedRoutes)&&X.push(this.processRoutes(gt,he.children??he._loadedRoutes))}return(0,Z.H)(X).pipe((0,mr.U)())}preloadConfig(R,L){return this.preloadingStrategy.preload(L,()=>{let X;X=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(R,L):(0,ie.of)(null);const he=X.pipe((0,Bt.Z)(Se=>null===Se?(0,ie.of)(void 0):(L._loadedRoutes=Se.routes,L._loadedInjector=Se.injector,this.processRoutes(Se.injector??R,Se.routes))));if(L.loadComponent&&!L._loadedComponent){const Se=this.loader.loadComponent(L);return(0,Z.H)([he,Se]).pipe((0,mr.U)())}return he})}static \u0275fac=function(L){return new(L||b)(p.KVO(Qn),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(Mi),p.KVO(Uo))};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const go=new p.nKC("");let Ra=(()=>{class b{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(R,L,X,he,Se={}){this.urlSerializer=R,this.transitions=L,this.viewportScroller=X,this.zone=he,this.options=Se,Se.scrollPositionRestoration||="disabled",Se.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof me?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof Rt&&R.code===Be.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Di&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,L){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Di(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(L){p.QTQ()};static \u0275prov=p.jDH({token:b,factory:b.\u0275fac})}return b})();function ct(b,F){return{\u0275kind:b,\u0275providers:F}}function ma(){const b=(0,p.WQX)(p.zZn);return F=>{const R=b.get(p.o8S);if(F!==R.components[0])return;const L=b.get(Qn),X=b.get(Bl);1===b.get(Fs)&&L.initialNavigation(),b.get(rl,null,p.$GK.Optional)?.setUpPreloading(),b.get(go,null,p.$GK.Optional)?.init(),L.resetRootComponentType(R.componentTypes[0]),X.closed||(X.next(),X.complete(),X.unsubscribe())}}const Bl=new p.nKC("",{factory:()=>new st.B}),Fs=new p.nKC("",{providedIn:"root",factory:()=>1}),rl=new p.nKC("");function $o(b){return ct(0,[{provide:rl,useExisting:vs},{provide:Mi,useExisting:b}])}function wc(b){return ct(9,[{provide:Ha,useValue:ci},{provide:pa,useValue:{skipNextTransition:!!b?.skipInitialTransition,...b}}])}const uc=new p.nKC("ROUTER_FORROOT_GUARD"),Il=[vt.aZ,{provide:Er,useClass:oi},Qn,ks,{provide:Wi,useFactory:function mo(b){return b.routerState.root},deps:[Qn]},Uo,[]];let Cl=(()=>{class b{constructor(R){}static forRoot(R,L){return{ngModule:b,providers:[Il,[],{provide:Ur,multi:!0,useValue:R},{provide:uc,useFactory:Ri,deps:[[Qn,new p.Xx1,new p.kdw]]},L?.errorHandler?{provide:Xr,useValue:L.errorHandler}:[],{provide:$t,useValue:L||{}},L?.useHash?{provide:vt.hb,useClass:vt.fw}:{provide:vt.hb,useClass:vt.Sm},{provide:go,useFactory:()=>{const b=(0,p.WQX)(vt.Xr),F=(0,p.WQX)(p.SKi),R=(0,p.WQX)($t),L=(0,p.WQX)(Pn),X=(0,p.WQX)(Er);return R.scrollOffset&&b.setOffset(R.scrollOffset),new Ra(X,L,b,F,R)}},L?.preloadingStrategy?$o(L.preloadingStrategy).\u0275providers:[],L?.initialNavigation?Tc(L):[],L?.bindToComponentInputs?ct(8,[ba,{provide:eo,useExisting:ba}]).\u0275providers:[],L?.enableViewTransitions?wc().\u0275providers:[],[{provide:Ro,useFactory:ma},{provide:p.iLQ,multi:!0,useExisting:Ro}]]}}static forChild(R){return{ngModule:b,providers:[{provide:Ur,multi:!0,useValue:R}]}}static \u0275fac=function(L){return new(L||b)(p.KVO(uc,8))};static \u0275mod=p.$C({type:b});static \u0275inj=p.G2t({})}return b})();function Ri(b){return"guarded"}function Tc(b){return["disabled"===b.initialNavigation?ct(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const F=(0,p.WQX)(Qn);return()=>{F.setUpLocationChangeListener()}}},{provide:Fs,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?ct(2,[{provide:Fs,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:F=>{const R=F.get(vt.hj,Promise.resolve());return()=>R.then(()=>new Promise(L=>{const X=F.get(Qn),he=F.get(Bl);nt(X,()=>{L(!0)}),F.get(Pn).afterPreactivation=()=>(L(!0),he.closed?(0,ie.of)(void 0):he),X.initialNavigation()}))}}]).\u0275providers:[]]}const Ro=new p.nKC("")},7852:(St,Re,w)=>{w.d(Re,{MF:()=>Mn,j6:()=>oi,om:()=>Er,Sx:()=>mi,Dk:()=>Gn,Wp:()=>ps,KO:()=>gr});var p=w(467),D=w(1362),ce=w(8041),H=w(1076);let ie,te;const ne=new WeakMap,le=new WeakMap,Te=new WeakMap,Ue=new WeakMap,Ve=new WeakMap;let bt={get(yt,rt,jt){if(yt instanceof IDBTransaction){if("done"===rt)return le.get(yt);if("objectStoreNames"===rt)return yt.objectStoreNames||Te.get(yt);if("store"===rt)return jt.objectStoreNames[1]?void 0:jt.objectStore(jt.objectStoreNames[0])}return lt(yt[rt])},set:(yt,rt,jt)=>(yt[rt]=jt,!0),has:(yt,rt)=>yt instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in yt};function qt(yt){return"function"==typeof yt?function wt(yt){return yt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(yt)?function(...rt){return yt.apply(qe(this),rt),lt(ne.get(this))}:function(...rt){return lt(yt.apply(qe(this),rt))}:function(rt,...jt){const cn=yt.call(qe(this),rt,...jt);return Te.set(cn,rt.sort?rt.sort():[rt]),lt(cn)}}(yt):(yt instanceof IDBTransaction&&function st(yt){if(le.has(yt))return;const rt=new Promise((jt,cn)=>{const On=()=>{yt.removeEventListener("complete",hn),yt.removeEventListener("error",_r),yt.removeEventListener("abort",_r)},hn=()=>{jt(),On()},_r=()=>{cn(yt.error||new DOMException("AbortError","AbortError")),On()};yt.addEventListener("complete",hn),yt.addEventListener("error",_r),yt.addEventListener("abort",_r)});le.set(yt,rt)}(yt),((yt,rt)=>rt.some(jt=>yt instanceof jt))(yt,function Y(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(yt,bt):yt)}function lt(yt){if(yt instanceof IDBRequest)return function Qe(yt){const rt=new Promise((jt,cn)=>{const On=()=>{yt.removeEventListener("success",hn),yt.removeEventListener("error",_r)},hn=()=>{jt(lt(yt.result)),On()},_r=()=>{cn(yt.error),On()};yt.addEventListener("success",hn),yt.addEventListener("error",_r)});return rt.then(jt=>{jt instanceof IDBCursor&&ne.set(jt,yt)}).catch(()=>{}),Ve.set(rt,yt),rt}(yt);if(Ue.has(yt))return Ue.get(yt);const rt=qt(yt);return rt!==yt&&(Ue.set(yt,rt),Ve.set(rt,yt)),rt}const qe=yt=>Ve.get(yt),Ze=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Lt=new Map;function wn(yt,rt){if(!(yt instanceof IDBDatabase)||rt in yt||"string"!=typeof rt)return;if(Lt.get(rt))return Lt.get(rt);const jt=rt.replace(/FromIndex$/,""),cn=rt!==jt,On=Gt.includes(jt);if(!(jt in(cn?IDBIndex:IDBObjectStore).prototype)||!On&&!Ze.includes(jt))return;const hn=function(){var _r=(0,p.A)(function*(Hr,...ni){const ai=this.transaction(Hr,On?"readwrite":"readonly");let gs=ai.store;return cn&&(gs=gs.index(ni.shift())),(yield Promise.all([gs[jt](...ni),On&&ai.done]))[0]});return function(ni){return _r.apply(this,arguments)}}();return Lt.set(rt,hn),hn}!function vt(yt){bt=yt(bt)}(yt=>({...yt,get:(rt,jt,cn)=>wn(rt,jt)||yt.get(rt,jt,cn),has:(rt,jt)=>!!wn(rt,jt)||yt.has(rt,jt)}));class Nt{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function et(yt){const rt=yt.getComponent();return"VERSION"===rt?.type}(jt)){const cn=jt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(jt=>jt).join(" ")}}const on="@firebase/app",$n=new ce.Vy("@firebase/app"),br="@firebase/app-compat",Nr="@firebase/analytics-compat",bi="@firebase/analytics",mr="@firebase/app-check-compat",Je="@firebase/app-check",$e="@firebase/auth",pt="@firebase/auth-compat",_t="@firebase/database",It="@firebase/database-compat",At="@firebase/functions",pn="@firebase/functions-compat",mt="@firebase/installations",it="@firebase/installations-compat",Le="@firebase/messaging",ht="@firebase/messaging-compat",Mt="@firebase/performance",Bn="@firebase/performance-compat",In="@firebase/remote-config",ir="@firebase/remote-config-compat",vr="@firebase/storage",Vr="@firebase/storage-compat",Ai="@firebase/firestore",Cs="@firebase/firestore-compat",Qt="firebase",ei="[DEFAULT]",sr={[on]:"fire-core",[br]:"fire-core-compat",[bi]:"fire-analytics",[Nr]:"fire-analytics-compat",[Je]:"fire-app-check",[mr]:"fire-app-check-compat",[$e]:"fire-auth",[pt]:"fire-auth-compat",[_t]:"fire-rtdb",[It]:"fire-rtdb-compat",[At]:"fire-fn",[pn]:"fire-fn-compat",[mt]:"fire-iid",[it]:"fire-iid-compat",[Le]:"fire-fcm",[ht]:"fire-fcm-compat",[Mt]:"fire-perf",[Bn]:"fire-perf-compat",[In]:"fire-rc",[ir]:"fire-rc-compat",[vr]:"fire-gcs",[Vr]:"fire-gcs-compat",[Ai]:"fire-fst",[Cs]:"fire-fst-compat","fire-js":"fire-js",[Qt]:"fire-js-all"},zr=new Map,Hn=new Map;function Wn(yt,rt){try{yt.container.addComponent(rt)}catch(jt){$n.debug(`Component ${rt.name} failed to register with FirebaseApp ${yt.name}`,jt)}}function Er(yt){const rt=yt.name;if(Hn.has(rt))return $n.debug(`There were multiple attempts to register component ${rt}.`),!1;Hn.set(rt,yt);for(const jt of zr.values())Wn(jt,yt);return!0}function oi(yt,rt){const jt=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),yt.container.getProvider(rt)}const Zn=new H.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Us{constructor(rt,jt,cn){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new D.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const Mn="9.17.1";function ps(yt,rt={}){let jt=yt;"object"!=typeof rt&&(rt={name:rt});const cn=Object.assign({name:ei,automaticDataCollectionEnabled:!1},rt),On=cn.name;if("string"!=typeof On||!On)throw Zn.create("bad-app-name",{appName:String(On)});if(jt||(jt=(0,H.T9)()),!jt)throw Zn.create("no-options");const hn=zr.get(On);if(hn){if((0,H.bD)(jt,hn.options)&&(0,H.bD)(cn,hn.config))return hn;throw Zn.create("duplicate-app",{appName:On})}const _r=new D.h1(On);for(const ni of Hn.values())_r.addComponent(ni);const Hr=new Us(jt,cn,_r);return zr.set(On,Hr),Hr}function mi(yt=ei){const rt=zr.get(yt);if(!rt&&yt===ei)return ps();if(!rt)throw Zn.create("no-app",{appName:yt});return rt}function Gn(){return Array.from(zr.values())}function gr(yt,rt,jt){var cn;let On=null!==(cn=sr[yt])&&void 0!==cn?cn:yt;jt&&(On+=`-${jt}`);const hn=On.match(/\s|\//),_r=rt.match(/\s|\//);if(hn||_r){const Hr=[`Unable to register library "${On}" with version "${rt}":`];return hn&&Hr.push(`library name "${On}" contains illegal characters (whitespace or "/")`),hn&&_r&&Hr.push("and"),_r&&Hr.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void $n.warn(Hr.join(" "))}Er(new D.uA(`${On}-version`,()=>({library:On,version:rt}),"VERSION"))}const Oe="firebase-heartbeat-store";let de=null;function be(){return de||(de=function nn(yt,rt,{blocked:jt,upgrade:cn,blocking:On,terminated:hn}={}){const _r=indexedDB.open(yt,rt),Hr=lt(_r);return cn&&_r.addEventListener("upgradeneeded",ni=>{cn(lt(_r.result),ni.oldVersion,ni.newVersion,lt(_r.transaction))}),jt&&_r.addEventListener("blocked",()=>jt()),Hr.then(ni=>{hn&&ni.addEventListener("close",()=>hn()),On&&ni.addEventListener("versionchange",()=>On())}).catch(()=>{}),Hr}("firebase-heartbeat-database",1,{upgrade:(yt,rt)=>{0===rt&&yt.createObjectStore(Oe)}}).catch(yt=>{throw Zn.create("idb-open",{originalErrorMessage:yt.message})})),de}function Ae(){return(Ae=(0,p.A)(function*(yt){try{return(yield be()).transaction(Oe).objectStore(Oe).get(Rn(yt))}catch(rt){if(rt instanceof H.g)$n.warn(rt.message);else{const jt=Zn.create("idb-get",{originalErrorMessage:rt?.message});$n.warn(jt.message)}}})).apply(this,arguments)}function Ke(yt,rt){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,p.A)(function*(yt,rt){try{const cn=(yield be()).transaction(Oe,"readwrite");return yield cn.objectStore(Oe).put(rt,Rn(yt)),cn.done}catch(jt){if(jt instanceof H.g)$n.warn(jt.message);else{const cn=Zn.create("idb-set",{originalErrorMessage:jt?.message});$n.warn(cn.message)}}})).apply(this,arguments)}function Rn(yt){return`${yt.name}!${yt.options.appId}`}class Cn{constructor(rt){this.container=rt,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new Vi(jt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var rt=this;return(0,p.A)(function*(){const cn=rt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=Jr();if(null===rt._heartbeatsCache&&(rt._heartbeatsCache=yield rt._heartbeatsCachePromise),rt._heartbeatsCache.lastSentHeartbeatDate!==On&&!rt._heartbeatsCache.heartbeats.some(hn=>hn.date===On))return rt._heartbeatsCache.heartbeats.push({date:On,agent:cn}),rt._heartbeatsCache.heartbeats=rt._heartbeatsCache.heartbeats.filter(hn=>{const _r=new Date(hn.date).valueOf();return Date.now()-_r<=2592e6}),rt._storage.overwrite(rt._heartbeatsCache)})()}getHeartbeatsHeader(){var rt=this;return(0,p.A)(function*(){if(null===rt._heartbeatsCache&&(yield rt._heartbeatsCachePromise),null===rt._heartbeatsCache||0===rt._heartbeatsCache.heartbeats.length)return"";const jt=Jr(),{heartbeatsToSend:cn,unsentEntries:On}=function ti(yt,rt=1024){const jt=[];let cn=yt.slice();for(const On of yt){const hn=jt.find(_r=>_r.agent===On.agent);if(hn){if(hn.dates.push(On.date),ui(jt)>rt){hn.dates.pop();break}}else if(jt.push({agent:On.agent,dates:[On.date]}),ui(jt)>rt){jt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:jt,unsentEntries:cn}}(rt._heartbeatsCache.heartbeats),hn=(0,H.Uj)(JSON.stringify({version:2,heartbeats:cn}));return rt._heartbeatsCache.lastSentHeartbeatDate=jt,On.length>0?(rt._heartbeatsCache.heartbeats=On,yield rt._storage.overwrite(rt._heartbeatsCache)):(rt._heartbeatsCache.heartbeats=[],rt._storage.overwrite(rt._heartbeatsCache)),hn})()}}function Jr(){return(new Date).toISOString().substring(0,10)}class Vi{constructor(rt){this.app=rt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.A)(function*(){return!!(0,H.zW)()&&(0,H.eX)().then(()=>!0).catch(()=>!1)})()}read(){var rt=this;return(0,p.A)(function*(){return(yield rt._canUseIndexedDBPromise)&&(yield function re(yt){return Ae.apply(this,arguments)}(rt.app))||{heartbeats:[]}})()}overwrite(rt){var jt=this;return(0,p.A)(function*(){var cn;if(yield jt._canUseIndexedDBPromise){const hn=yield jt.read();return Ke(jt.app,{lastSentHeartbeatDate:null!==(cn=rt.lastSentHeartbeatDate)&&void 0!==cn?cn:hn.lastSentHeartbeatDate,heartbeats:rt.heartbeats})}})()}add(rt){var jt=this;return(0,p.A)(function*(){var cn;if(yield jt._canUseIndexedDBPromise){const hn=yield jt.read();return Ke(jt.app,{lastSentHeartbeatDate:null!==(cn=rt.lastSentHeartbeatDate)&&void 0!==cn?cn:hn.lastSentHeartbeatDate,heartbeats:[...hn.heartbeats,...rt.heartbeats]})}})()}}function ui(yt){return(0,H.Uj)(JSON.stringify({version:2,heartbeats:yt})).length}!function Sn(yt){Er(new D.uA("platform-logger",rt=>new Nt(rt),"PRIVATE")),Er(new D.uA("heartbeat",rt=>new Cn(rt),"PRIVATE")),gr(on,"0.9.3",yt),gr(on,"0.9.3","esm2017"),gr("fire-js","")}("")},1362:(St,Re,w)=>{w.d(Re,{h1:()=>Y,uA:()=>ce});var p=w(467),D=w(1076);class ce{constructor(ne,le,Te){this.name=ne,this.instanceFactory=le,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const H="[DEFAULT]";class Z{constructor(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){const Te=new D.cY;if(this.instancesDeferred.set(le,Te),this.isInitialized(le)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:le});Ue&&Te.resolve(Ue)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ne){var le;const Te=this.normalizeInstanceIdentifier(ne?.identifier),Ue=null!==(le=ne?.optional)&&void 0!==le&&le;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Ve){if(Ue)return null;throw Ve}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function te(fe){return"EAGER"===fe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:H})}catch{}for(const[le,Te]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(le);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ue});Te.resolve(Ve)}catch{}}}}clearInstance(ne=H){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,p.A)(function*(){const le=Array.from(ne.instances.values());yield Promise.all([...le.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...le.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=H){return this.instances.has(ne)}getOptions(ne=H){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:le={}}=ne,Te=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Te,options:le});for(const[Ve,Qe]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Ve)&&Qe.resolve(Ue);return Ue}onInit(ne,le){var Te;const Ue=this.normalizeInstanceIdentifier(le),Ve=null!==(Te=this.onInitCallbacks.get(Ue))&&void 0!==Te?Te:new Set;Ve.add(ne),this.onInitCallbacks.set(Ue,Ve);const Qe=this.instances.get(Ue);return Qe&&ne(Qe,Ue),()=>{Ve.delete(ne)}}invokeOnInitCallbacks(ne,le){const Te=this.onInitCallbacks.get(le);if(Te)for(const Ue of Te)try{Ue(ne,le)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:le={}}){let Te=this.instances.get(ne);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=ne,fe===H?void 0:fe),options:le}),this.instances.set(ne,Te),this.instancesOptions.set(ne,le),this.invokeOnInitCallbacks(Te,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Te)}catch{}var fe;return Te||null}normalizeInstanceIdentifier(ne=H){return this.component?this.component.multipleInstances?ne:H:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);le.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const le=new Z(ne,this);return this.providers.set(ne,le),le}getProviders(){return Array.from(this.providers.values())}}},8041:(St,Re,w)=>{w.d(Re,{$b:()=>D,Vy:()=>te});const p=[];var D=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(D||{});const ce={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},H=D.INFO,Z={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},ie=(ne,le,...Te)=>{if(le<ne.logLevel)return;const Ue=(new Date).toISOString(),Ve=Z[le];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Ve](`[${Ue}]  ${ne.name}:`,...Te)};class te{constructor(le){this.name=le,this._logLevel=H,this._logHandler=ie,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in D))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?ce[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...le),this._logHandler(this,D.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...le),this._logHandler(this,D.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,D.INFO,...le),this._logHandler(this,D.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,D.WARN,...le),this._logHandler(this,D.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...le),this._logHandler(this,D.ERROR,...le)}}},9310:(St,Re,w)=>{w.d(Re,{Bh:()=>Zr,Lt:()=>Zn,Mz:()=>ar,N_:()=>on,QU:()=>Qt,SS:()=>Lt,UX:()=>ti,VP:()=>Qe,Zz:()=>Gt,ae:()=>Wr,h1:()=>Ki,il:()=>li,md:()=>ri,on:()=>Di,q6:()=>ei,sA:()=>Hn,vy:()=>ii,wc:()=>jn,xk:()=>st});var p=w(4438),D=w(4412),ce=w(1985),H=w(1413),Z=w(7242),ie=w(941),te=w(3993),Y=w(2816),fe=w(9085),ne=w(6354),le=w(3294),Te=w(9079);const Ue={};function Qe(ye,tt){if(Ue[ye]=(Ue[ye]||0)+1,"function"==typeof tt)return vt(ye,(...dt)=>({...tt(...dt),type:ye}));switch(tt?tt._as:"empty"){case"empty":return vt(ye,()=>({type:ye}));case"props":return vt(ye,dt=>({...dt,type:ye}));default:throw new Error("Unexpected config.")}}function st(){return{_as:"props",_p:void 0}}function vt(ye,tt){return Object.defineProperty(tt,"type",{value:ye,writable:!1})}const Gt="@ngrx/store/init";let Lt=(()=>{class ye extends D.t{constructor(){super({type:Gt})}next(Ge){if("function"==typeof Ge)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ge>"u")throw new TypeError("Actions must be objects");if(typeof Ge.type>"u")throw new TypeError("Actions must have a type property");super.next(Ge)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(dt){return new(dt||ye)}}static{this.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();const wn=[Lt],Nt=new p.nKC("@ngrx/store Internal Root Guard"),et=new p.nKC("@ngrx/store Internal Initial State"),on=new p.nKC("@ngrx/store Initial State"),Jt=new p.nKC("@ngrx/store Reducer Factory"),$n=new p.nKC("@ngrx/store Internal Reducer Factory Provider"),br=new p.nKC("@ngrx/store Initial Reducers"),Nr=new p.nKC("@ngrx/store Internal Initial Reducers"),bi=new p.nKC("@ngrx/store Store Features"),mr=new p.nKC("@ngrx/store Internal Store Reducers"),Je=new p.nKC("@ngrx/store Internal Feature Reducers"),$e=new p.nKC("@ngrx/store Internal Feature Configs"),pt=new p.nKC("@ngrx/store Internal Store Features"),_t=new p.nKC("@ngrx/store Internal Feature Reducers Token"),It=new p.nKC("@ngrx/store Feature Reducers"),At=new p.nKC("@ngrx/store User Provided Meta Reducers"),pn=new p.nKC("@ngrx/store Meta Reducers"),mt=new p.nKC("@ngrx/store Internal Resolved Meta Reducers"),it=new p.nKC("@ngrx/store User Runtime Checks Config"),Le=new p.nKC("@ngrx/store Internal User Runtime Checks Config"),ht=new p.nKC("@ngrx/store Internal Runtime Checks"),Mt=new p.nKC("@ngrx/store Check if Action types are unique");function ir(ye,tt={}){const Ge=Object.keys(ye),dt={};for(let rn=0;rn<Ge.length;rn++){const tr=Ge[rn];"function"==typeof ye[tr]&&(dt[tr]=ye[tr])}const Zt=Object.keys(dt);return function(tr,jr){tr=void 0===tr?tt:tr;let bn=!1;const xi={};for(let gn=0;gn<Zt.length;gn++){const dr=Zt[gn],Ps=tr[dr],Ii=(0,dt[dr])(Ps,jr);xi[dr]=Ii,bn=bn||Ii!==Ps}return bn?xi:tr}}function Vr(...ye){return function(tt){if(0===ye.length)return tt;const Ge=ye[ye.length-1];return ye.slice(0,-1).reduceRight((Zt,rn)=>rn(Zt),Ge(tt))}}function Ai(ye,tt){return Array.isArray(tt)&&tt.length>0&&(ye=Vr.apply(null,[...tt,ye])),(Ge,dt)=>{const Zt=ye(Ge);return(rn,tr)=>Zt(rn=void 0===rn?dt:rn,tr)}}new p.nKC("@ngrx/store Root Store Provider"),new p.nKC("@ngrx/store Feature State Provider");class Qt extends ce.c{}class Zr extends Lt{}const ei="@ngrx/store/update-reducers";let sr=(()=>{class ye extends D.t{get currentReducers(){return this.reducers}constructor(Ge,dt,Zt,rn){super(rn(Zt,dt)),this.dispatcher=Ge,this.initialState=dt,this.reducers=Zt,this.reducerFactory=rn}addFeature(Ge){this.addFeatures([Ge])}addFeatures(Ge){const dt=Ge.reduce((Zt,{reducers:rn,reducerFactory:tr,metaReducers:jr,initialState:bn,key:xi})=>{const gn="function"==typeof rn?function Cs(ye){const tt=Array.isArray(ye)&&ye.length>0?Vr(...ye):Ge=>Ge;return(Ge,dt)=>(Ge=tt(Ge),(Zt,rn)=>Ge(Zt=void 0===Zt?dt:Zt,rn))}(jr)(rn,bn):Ai(tr,jr)(rn,bn);return Zt[xi]=gn,Zt},{});this.addReducers(dt)}removeFeature(Ge){this.removeFeatures([Ge])}removeFeatures(Ge){this.removeReducers(Ge.map(dt=>dt.key))}addReducer(Ge,dt){this.addReducers({[Ge]:dt})}addReducers(Ge){this.reducers={...this.reducers,...Ge},this.updateReducers(Object.keys(Ge))}removeReducer(Ge){this.removeReducers([Ge])}removeReducers(Ge){Ge.forEach(dt=>{this.reducers=function vr(ye,tt){return Object.keys(ye).filter(Ge=>Ge!==tt).reduce((Ge,dt)=>Object.assign(Ge,{[dt]:ye[dt]}),{})}(this.reducers,dt)}),this.updateReducers(Ge)}updateReducers(Ge){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ei,features:Ge})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(dt){return new(dt||ye)(p.KVO(Zr),p.KVO(on),p.KVO(br),p.KVO(Jt))}}static{this.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();const zr=[sr,{provide:Qt,useExisting:sr},{provide:Zr,useExisting:Lt}];let Hn=(()=>{class ye extends H.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let Ge;return function(Zt){return(Ge||(Ge=p.xGo(ye)))(Zt||ye)}})()}static{this.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();const Wn=[Hn];class Ki extends ce.c{}let Er=(()=>{class ye extends D.t{static{this.INIT=Gt}constructor(Ge,dt,Zt,rn){super(rn);const xi=Ge.pipe((0,ie.Q)(Z.T)).pipe((0,te.E)(dt)).pipe((0,Y.S)(oi,{state:rn}));this.stateSubscription=xi.subscribe(({state:gn,action:dr})=>{this.next(gn),Zt.next(dr)}),this.state=(0,Te.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(dt){return new(dt||ye)(p.KVO(Lt),p.KVO(Qt),p.KVO(Hn),p.KVO(on))}}static{this.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();function oi(ye={state:void 0},[tt,Ge]){const{state:dt}=ye;return{state:Ge(dt,tt),action:tt}}const Oi=[Er,{provide:Ki,useExisting:Er}];let li=(()=>{class ye extends ce.c{constructor(Ge,dt,Zt,rn){super(),this.actionsObserver=dt,this.reducerManager=Zt,this.injector=rn,this.source=Ge,this.state=Ge.state}select(Ge,...dt){return Zn.call(null,Ge,...dt)(this)}selectSignal(Ge,dt){return(0,p.EWP)(()=>Ge(this.state()),dt)}lift(Ge){const dt=new ye(this,this.actionsObserver,this.reducerManager);return dt.operator=Ge,dt}dispatch(Ge,dt){if("function"==typeof Ge)return this.processDispatchFn(Ge,dt);this.actionsObserver.next(Ge)}next(Ge){this.actionsObserver.next(Ge)}error(Ge){this.actionsObserver.error(Ge)}complete(){this.actionsObserver.complete()}addReducer(Ge,dt){this.reducerManager.addReducer(Ge,dt)}removeReducer(Ge){this.reducerManager.removeReducer(Ge)}processDispatchFn(Ge,dt){!function lt(ye,tt){if(null==ye)throw new Error(`${tt} must be defined.`)}(this.injector,"Store Injector");const Zt=dt?.injector??function Us(){try{return(0,p.WQX)(p.zZn)}catch{return}}()??this.injector;return(0,p.QZP)(()=>{const rn=Ge();(0,p.O8t)(()=>this.dispatch(rn))},{injector:Zt})}static{this.\u0275fac=function(dt){return new(dt||ye)(p.KVO(Ki),p.KVO(Lt),p.KVO(sr),p.KVO(p.zZn))}}static{this.\u0275prov=p.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();const fs=[li];function Zn(ye,tt,...Ge){return function(Zt){let rn;if("string"==typeof ye){const tr=[tt,...Ge].filter(Boolean);rn=Zt.pipe((0,fe.E)(ye,...tr))}else{if("function"!=typeof ye)throw new TypeError(`Unexpected type '${typeof ye}' in select operator, expected 'string' or 'function'`);rn=Zt.pipe((0,ne.T)(tr=>ye(tr,tt)))}return rn.pipe((0,le.F)())}}const Mn="https://ngrx.io/guide/store/configuration/runtime-checks";function ps(ye){return void 0===ye}function mi(ye){return null===ye}function Gn(ye){return Array.isArray(ye)}function Pr(ye){return"object"==typeof ye&&null!==ye}function De(ye){return"function"==typeof ye}let be=!1;function Ke(ye,tt){return ye===tt}function Tn(ye,tt=Ke,Ge=Ke){let rn,dt=null,Zt=null;return{memoized:function xi(){if(void 0!==rn)return rn.result;if(!dt)return Zt=ye.apply(null,arguments),dt=arguments,Zt;if(!function Vt(ye,tt,Ge){for(let dt=0;dt<ye.length;dt++)if(!Ge(ye[dt],tt[dt]))return!0;return!1}(arguments,dt,tt))return Zt;const gn=ye.apply(null,arguments);return dt=arguments,Ge(Zt,gn)?Zt:(Zt=gn,gn)},reset:function tr(){dt=null,Zt=null},setResult:function jr(gn=void 0){rn={result:gn}},clearResult:function bn(){rn=void 0}}}function ar(...ye){return function Jr(ye,tt={stateFn:Cn}){return function(...Ge){let dt=Ge;if(Array.isArray(dt[0])){const[gn,...dr]=dt;dt=[...gn,...dr]}else 1===dt.length&&function Vi(ye){return!!ye&&"object"==typeof ye&&Object.values(ye).every(tt=>"function"==typeof tt)}(dt[0])&&(dt=function ui(ye){const tt=Object.values(ye),Ge=Object.keys(ye);return[...tt,(...Zt)=>Ge.reduce((rn,tr,jr)=>({...rn,[tr]:Zt[jr]}),{})]}(dt[0]));const Zt=dt.slice(0,dt.length-1),rn=dt[dt.length-1],tr=Zt.filter(gn=>gn.release&&"function"==typeof gn.release),jr=ye(function(...gn){return rn.apply(null,gn)}),bn=Tn(function(gn,dr){return tt.stateFn.apply(null,[gn,Zt,dr,jr])});return Object.assign(bn.memoized,{release:function xi(){bn.reset(),jr.reset(),tr.forEach(gn=>gn.release())},projector:jr.memoized,setResult:bn.setResult,clearResult:bn.clearResult})}}(Tn)(...ye)}function Cn(ye,tt,Ge,dt){if(void 0===Ge){const rn=tt.map(tr=>tr(ye));return dt.memoized.apply(null,rn)}const Zt=tt.map(rn=>rn(ye,Ge));return dt.memoized.apply(null,[...Zt,Ge])}function ti(ye){return ar(tt=>{const Ge=tt[ye];return!function Ae(){return be}()&&(0,p.naY)()&&!(ye in tt)&&console.warn(`@ngrx/store: The feature name "${ye}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ye}', ...) or StoreModule.forFeature('${ye}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ge},tt=>tt)}function jt(ye){return ye instanceof p.nKC?(0,p.WQX)(ye):ye}function cn(ye,tt){return tt.map((Ge,dt)=>{if(ye[dt]instanceof p.nKC){const Zt=(0,p.WQX)(ye[dt]);return{key:Ge.key,reducerFactory:Zt.reducerFactory?Zt.reducerFactory:ir,metaReducers:Zt.metaReducers?Zt.metaReducers:[],initialState:Zt.initialState}}return Ge})}function On(ye){return ye.map(tt=>tt instanceof p.nKC?(0,p.WQX)(tt):tt)}function hn(ye){return"function"==typeof ye?ye():ye}function _r(ye,tt){return ye.concat(tt)}function Hr(){if((0,p.WQX)(li,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ai(ye){Object.freeze(ye);const tt=De(ye);return Object.getOwnPropertyNames(ye).forEach(Ge=>{if(!Ge.startsWith("\u0275")&&function de(ye,tt){return Object.prototype.hasOwnProperty.call(ye,tt)}(ye,Ge)&&(!tt||"caller"!==Ge&&"callee"!==Ge&&"arguments"!==Ge)){const dt=ye[Ge];(Pr(dt)||De(dt))&&!Object.isFrozen(dt)&&ai(dt)}}),ye}function Ds(ye,tt=[]){return(ps(ye)||mi(ye))&&0===tt.length?{path:["root"],value:ye}:Object.keys(ye).reduce((dt,Zt)=>{if(dt)return dt;const rn=ye[Zt];return function Oe(ye){return De(ye)&&ye.hasOwnProperty("\u0275cmp")}(rn)?dt:!(ps(rn)||mi(rn)||function gr(ye){return"number"==typeof ye}(rn)||function or(ye){return"boolean"==typeof ye}(rn)||function $i(ye){return"string"==typeof ye}(rn)||Gn(rn))&&(function zi(ye){if(!function yi(ye){return Pr(ye)&&!Gn(ye)}(ye))return!1;const tt=Object.getPrototypeOf(ye);return tt===Object.prototype||null===tt}(rn)?Ds(rn,[...tt,Zt]):{path:[...tt,Zt],value:rn})},!1)}function Zs(ye,tt){if(!1===ye)return;const Ge=ye.path.join("."),dt=new Error(`Detected unserializable ${tt} at "${Ge}". ${Mn}#strict${tt}serializability`);throw dt.value=ye.value,dt.unserializablePath=Ge,dt}function Jn(ye){return(0,p.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ye}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Mr({strictActionSerializability:ye,strictStateSerializability:tt}){return Ge=>ye||tt?function gs(ye,tt){return function(Ge,dt){tt.action(dt)&&Zs(Ds(dt),"action");const Zt=ye(Ge,dt);return tt.state()&&Zs(Ds(Zt),"state"),Zt}}(Ge,{action:dt=>ye&&!me(dt),state:()=>tt}):Ge}function ge({strictActionImmutability:ye,strictStateImmutability:tt}){return Ge=>ye||tt?function ni(ye,tt){return function(Ge,dt){const Zt=tt.action(dt)?ai(dt):dt,rn=ye(Ge,Zt);return tt.state()?ai(rn):rn}}(Ge,{action:dt=>ye&&!me(dt),state:()=>tt}):Ge}function me(ye){return ye.type.startsWith("@ngrx")}function we({strictActionWithinNgZone:ye}){return tt=>ye?function Qi(ye,tt){return function(Ge,dt){if(tt.action(dt)&&!p.SKi.isInAngularZone())throw new Error(`Action '${dt.type}' running outside NgZone. ${Mn}#strictactionwithinngzone`);return ye(Ge,dt)}}(tt,{action:Ge=>ye&&!me(Ge)}):tt}function Be(ye){return[{provide:Le,useValue:ye},{provide:it,useFactory:Rt,deps:[Le]},{provide:ht,deps:[it],useFactory:Jn},{provide:pn,multi:!0,deps:[ht],useFactory:ge},{provide:pn,multi:!0,deps:[ht],useFactory:Mr},{provide:pn,multi:!0,deps:[ht],useFactory:we}]}function Tt(){return[{provide:Mt,multi:!0,deps:[ht],useFactory:Xt}]}function Rt(ye){return ye}function Xt(ye){if(!ye.strictActionTypeUniqueness)return;const tt=Object.entries(Ue).filter(([,Ge])=>Ge>1).map(([Ge])=>Ge);if(tt.length)throw new Error(`Action types are registered more than once, ${tt.map(Ge=>`"${Ge}"`).join(", ")}. ${Mn}#strictactiontypeuniqueness`)}function Dn(ye={},tt={}){return[{provide:Nt,useFactory:Hr},{provide:et,useValue:tt.initialState},{provide:on,useFactory:hn,deps:[et]},{provide:Nr,useValue:ye},{provide:mr,useExisting:ye instanceof p.nKC?ye:Nr},{provide:br,deps:[Nr,[new p.y_5(mr)]],useFactory:jt},{provide:At,useValue:tt.metaReducers?tt.metaReducers:[]},{provide:mt,deps:[pn,At],useFactory:_r},{provide:$n,useValue:tt.reducerFactory?tt.reducerFactory:ir},{provide:Jt,deps:[$n,mt],useFactory:Ai},wn,zr,Wn,Oi,fs,Be(tt.runtimeChecks),Tt()]}function vi(ye,tt,Ge={}){return[{provide:$e,multi:!0,useValue:ye instanceof Object?{}:Ge},{provide:bi,multi:!0,useValue:{key:ye instanceof Object?ye.name:ye,reducerFactory:Ge instanceof p.nKC||!Ge.reducerFactory?ir:Ge.reducerFactory,metaReducers:Ge instanceof p.nKC||!Ge.metaReducers?[]:Ge.metaReducers,initialState:Ge instanceof p.nKC||!Ge.initialState?void 0:Ge.initialState}},{provide:pt,deps:[$e,bi],useFactory:cn},{provide:Je,multi:!0,useValue:ye instanceof Object?ye.reducer:tt},{provide:_t,multi:!0,useExisting:tt instanceof p.nKC?tt:Je},{provide:It,multi:!0,deps:[Je,[new p.y_5(_t)]],useFactory:On},Tt()]}let jn=(()=>{class ye{constructor(Ge,dt,Zt,rn,tr,jr){}static{this.\u0275fac=function(dt){return new(dt||ye)(p.KVO(Lt),p.KVO(Qt),p.KVO(Hn),p.KVO(li),p.KVO(Nt,8),p.KVO(Mt,8))}}static{this.\u0275mod=p.$C({type:ye})}static{this.\u0275inj=p.G2t({})}}return ye})(),Wr=(()=>{class ye{constructor(Ge,dt,Zt,rn,tr){this.features=Ge,this.featureReducers=dt,this.reducerManager=Zt;const jr=Ge.map((bn,xi)=>{const dr=dt.shift()[xi];return{...bn,reducers:dr,initialState:hn(bn.initialState)}});Zt.addFeatures(jr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(dt){return new(dt||ye)(p.KVO(pt),p.KVO(It),p.KVO(sr),p.KVO(jn),p.KVO(Mt,8))}}static{this.\u0275mod=p.$C({type:ye})}static{this.\u0275inj=p.G2t({})}}return ye})(),ri=(()=>{class ye{static forRoot(Ge,dt){return{ngModule:jn,providers:[...Dn(Ge,dt)]}}static forFeature(Ge,dt,Zt={}){return{ngModule:Wr,providers:[...vi(Ge,dt,Zt)]}}static{this.\u0275fac=function(dt){return new(dt||ye)}}static{this.\u0275mod=p.$C({type:ye})}static{this.\u0275inj=p.G2t({})}}return ye})();function Di(...ye){return{reducer:ye.pop(),types:ye.map(dt=>dt.type)}}function ii(ye,...tt){const Ge=new Map;for(const dt of tt)for(const Zt of dt.types){const rn=Ge.get(Zt);Ge.set(Zt,rn?(jr,bn)=>dt.reducer(rn(jr,bn),bn):dt.reducer)}return function(dt=ye,Zt){const rn=Ge.get(Zt.type);return rn?rn(dt,Zt):dt}}},3234:(St,Re,w)=>{w.d(Re,{Bi:()=>pn,aU:()=>pt,dI:()=>At});var p=w(467),D=w(4438),ce=w(5891),H=w(1985),Z=w(6354),ie=w(177),te=w(884),Y=w(1626),fe=w(2214),ne=w(2431),le=w(1777);class wn{constructor(){this.db=(0,ce.C3)()}create(it,Le={}){let ht=(0,ce.VC)((0,ce.KR)(this.db,it));return(0,ce.hZ)(ht,{key:ht.key,...Le}).then(),Promise.resolve({key:ht.key})}set(it,Le={}){var ht=this;return(0,p.A)(function*(){const Mt=(0,ce.KR)(ht.db,it);yield(0,ce.hZ)(Mt,Le)})()}update(it,Le={}){var ht=this;return(0,p.A)(function*(){const Mt=(0,ce.KR)(ht.db,it);yield(0,ce.yo)(Mt,Le)})()}remove(it){var Le=this;return(0,p.A)(function*(){const ht=(0,ce.KR)(Le.db,it);yield(0,ce.TF)(ht)})()}readRealTime(it){return new H.c(Le=>{(0,ce.Zy)((0,ce.KR)(this.db,it),ht=>{let Mt=[];ht.exists()?(ht.forEach(Bn=>{Mt.push({key:Bn.key,...Bn.val()})}),Le.next(Mt)):Le.next([])})})}readOnceWithObserver(it){return(0,ce.Zy)((0,ce.KR)(this.db,it),Le=>Le.val(),{onlyOnce:!0})}readOnce(it){return new Promise((Le,ht)=>{(0,ce.Jt)((0,ce.KR)(this.db,it)).then(Mt=>{Mt.exists()?Le({key:Mt.key,...Mt.val()}):Le([])}).catch(Mt=>{ht(Mt)})})}readReal(it){return new H.c(Le=>{(0,ce.Zy)((0,ce.KR)(this.db,it),ht=>{ht.exists()?Le.next(ht.val()):Le.next(null)})})}updateCounter(it,Le=!0){return new Promise((ht,Mt)=>{const Bn=(0,ce.KR)(this.db);(0,ce.Jt)((0,ce.jf)(Bn,"counter")).then(In=>{(0,ce.yo)((0,ce.KR)(this.db,it),{counter:(0,ce.GV)(Le?1:-1)}).then(ir=>{ht(ir)})})})}others(){}checkPresence(it){const Le=(0,ce.KR)(this.db,`${it}/connections`),ht=(0,ce.KR)(this.db,`${it}/lastOnline`),Mt=(0,ce.KR)(this.db,".info/connected");(0,ce.Zy)(Mt,Bn=>{if(!0===Bn.val()){const In=(0,ce.VC)(Le);(0,ce.yX)(In).remove().then(),(0,ce.hZ)(In,!0).then(),(0,ce.yX)(ht).set((0,ce.O5)()).then()}})}onDisconnect(it){const Le=(0,ce.KR)(this.db,it);return(0,ce.yX)(Le)}detectingConnectionState(){return new H.c(it=>{const Le=(0,ce.KR)(this.db,".info/connected");(0,ce.Zy)(Le,ht=>{it.next(ht.val())})})}}let Nt=(()=>{class mt extends wn{constructor(){super()}get timestamp(){return(new Date).getTime()}getPresence(Le){return this.readReal(`status/${Le}`)}getUserOnlineCounts(){return this.readRealTime("status").pipe((0,Z.T)(Le=>Le.reduce((ht,Mt)=>"online"===Mt.status?++ht:ht,0)))}getTotalUserCounts(){return this.readRealTime("status").pipe((0,Z.T)(Le=>Le))}setPresence(Le,ht){return this.set(`status/${Le}`,{status:ht,timestamp:this.timestamp})}updateOnAway(Le){document.onvisibilitychange=ht=>{"hidden"===document.visibilityState?this.setPresence(Le,"away"):this.setPresence(Le,"online")}}updateOnUser(Le){this.detectingConnectionState().pipe((0,Z.T)(Mt=>Mt?"online":"offline")).subscribe(Mt=>this.setPresence(Le,Mt))}updateOnDisconnect(Le){this.onDisconnect(`status/${Le}`).update({status:"offline",timestamp:this.timestamp})}configure(Le){this.updateOnAway(Le),this.updateOnUser(Le),this.updateOnDisconnect(Le)}configureUserPresenceByLocal(){let Le=localStorage.getItem("uid");this.checkingUser(Le)}configureUserPresenceByLogin(Le,ht={}){this.checkingUser(Le,ht)}checkingUser(Le,ht={}){Le?this.configure(Le):this.create("status",{uid:Le,...ht}).then(Mt=>{localStorage.setItem("uid",Mt.key),this.configure(Mt.key)})}}return mt.\u0275fac=function(Le){return new(Le||mt)},mt.\u0275prov=D.jDH({token:mt,factory:mt.\u0275fac}),mt})();const on={provide:D.hnV,useFactory:function et(mt){return()=>new Promise(function(){var it=(0,p.A)(function*(Le,ht){yield mt.configureUserPresenceByLocal(),Le("done")});return function(Le,ht){return it.apply(this,arguments)}}())},deps:[Nt],multi:!0};let $n=(()=>{class mt extends wn{constructor(Le){super(),this.router=Le}config(){this.router.events.subscribe(Le=>{Le instanceof te.wF&&(/[#$\[\]'?]/g.test(Le.url)||this.updateCounter(`router-activities${Le.url}`).then())})}}return mt.\u0275fac=function(Le){return new(Le||mt)(D.KVO(te.Ix))},mt.\u0275prov=D.jDH({token:mt,factory:mt.\u0275fac}),mt})();const Nr={provide:D.hnV,useFactory:mt=>()=>mt.config(),multi:!0,deps:[$n]},mr={provide:Y.a7,useClass:(()=>{class mt extends wn{constructor(){super()}intercept(Le,ht){return this.updateCounter("server-activities").then(),ht.handle(Le)}}return mt.\u0275fac=function(Le){return new(Le||mt)},mt.\u0275prov=D.jDH({token:mt,factory:mt.\u0275fac}),mt})(),multi:!0},Je=new D.nKC(null);function $e(mt){return()=>{const it=(0,fe.Wp)(mt);(0,ce.C3)(it),(0,ne.aU)(it),console.log(`no of Firebase app:: ${(0,fe.Dk)().length}`)}}let pt=(()=>{class mt{constructor(Le){this.config=Le}static initializeApp(Le){return{ngModule:mt,providers:[{provide:Je,useFactory:$e(Le)}]}}static initialize(Le){let ht=[];return Le.activityInHttp&&ht.push(mr),Le.activityInRouter&&ht.push(Nr),Le.activityOfAnonymousUser&&ht.push(on),{ngModule:mt,providers:ht}}}return mt.\u0275fac=function(Le){return new(Le||mt)(D.KVO(Je))},mt.\u0275mod=D.$C({type:mt}),mt.\u0275inj=D.G2t({providers:[$n,Nt],imports:[ie.MD]}),mt})();const _t="https://rktect-rest-default-rtdb.firebaseio.com/users.json",It="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let At=(()=>{class mt{constructor(Le){this.http=Le}getUsers(){return this.http.get(_t,{params:{auth:It}})}createUser(Le){return this.http.post(_t,Le,{params:{auth:It}})}}return mt.\u0275fac=function(Le){return new(Le||mt)(D.KVO(Y.Qq))},mt.\u0275prov=D.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();class pn{constructor(){this.db=(0,ne.aU)(),this.auth=(0,le.xI)(),(0,ne.ol)(this.db).catch(it=>{"failed-precondition"==it.code?console.log("persistance failed"):"unimplemented"==it.code&&console.log("persistance not available")})}get colRef(){return(0,ne.rJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((it,Le)=>{(0,ne.GG)(this.colRef).then(ht=>{let Mt=this.setData2(ht);it(Mt)}).catch(ht=>{Le(ht.message)})})}getSingleDoc(it){const Le=(0,ne.H9)(this.db,this.collectionPath,it);return new Promise((ht,Mt)=>(0,ne.x7)(Le).then(Bn=>{let In=this.transformSingleDoc(Bn);ht(In)}).catch(Bn=>{Mt(Bn.message)}))}getSingleDocFromCache(it){var Le=this;return(0,p.A)(function*(){const ht=(0,ne.H9)(Le.db,Le.collectionPath,it);try{const Mt=yield(0,ne.nY)(ht);console.log("Cached document data:",Mt.data())}catch(Mt){console.log("Error getting cached document:",Mt)}})()}getCollectionRealTime(it){return this.unsubscribe=(0,ne.aQ)(this.colRef,Le=>{it(this.setData2(Le))})}getDocRealTime(it,Le){const ht=(0,ne.H9)(this.db,this.collectionPath,it);return(0,ne.aQ)(ht,Mt=>{Le(this.transformSingleDoc(Mt))})}g(){(0,ne.aQ)(void 0,Le=>{Le.docChanges().forEach(ht=>{"added"===ht.type&&console.log("New city: ",ht.doc.data()),"modified"===ht.type&&console.log("Modified city: ",ht.doc.data()),"removed"===ht.type&&console.log("Removed city: ",ht.doc.data())})})}addingDoc(it={}){return(0,ne.gS)(this.colRef,{createdAt:(0,ne.O5)(),updatedAt:(0,ne.O5)(),...it})}deletingDoc(it){const Le=(0,ne.H9)(this.db,this.collectionPath,it);return(0,ne.kd)(Le)}updatingDoc(it,Le){const ht=(0,ne.H9)(this.db,this.collectionPath,it);return(0,ne.mZ)(ht,{updatedAt:(0,ne.O5)(),...Le})}signUpWithEmailPass({email:it,password:Le}){return(0,le.eJ)(this.auth,it,Le).then(ht=>Promise.resolve(ht.user)).catch(ht=>Promise.reject(ht.message))}signInWithEmailPass({email:it,password:Le}){return(0,le.x9)(this.auth,it,Le).then(ht=>Promise.resolve(ht.user)).catch(ht=>Promise.reject(ht.message))}onSignOut(){return(0,le.CI)(this.auth).then(it=>Promise.resolve(it)).catch(it=>Promise.reject(it.message))}subscribingAuthChangedRealTime(it){return(0,le.hg)(this.auth,Le=>{it(Le)})}getPaginationData1(it={latestDoc:null,empty:!1,data:[]},Le=5){return new Promise((ht,Mt)=>{const Bn=(0,ne.P)(this.colRef,(0,ne.My)("createdAt"),(0,ne.HM)(it.latestDoc||0),(0,ne.AB)(Le));(0,ne.GG)(Bn).then(In=>{let ir=this.setData2(In);it.latestDoc=In.docs[In.docs.length-1],it.data=[...it.data,...ir],it.empty=In.empty,ht(it)}).catch(In=>{Mt(In.message)})})}getPaginationData(it={latestDoc:null,empty:!1,data:[],size:0},Le=5){var ht=this;return(0,p.A)(function*(){if(!it.empty)try{const Mt=(0,ne.P)(ht.colRef,(0,ne.My)("createdAt"),(0,ne.HM)(it.latestDoc||0),(0,ne.AB)(Le)),Bn=yield(0,ne.GG)(Mt);let In=ht.setData2(Bn);return it.latestDoc=Bn.docs[Bn.docs.length-1],it.data=[...it.data,...In],it.empty=Bn.empty,it.size=Bn.size,it}catch(Mt){return Mt}})()}unsubscribeRealTime(){this.unsubscribe()}nextPage(it={latestDoc:null,empty:!1,data:[],size:0},Le=5){var ht=this;return(0,p.A)(function*(){const Mt=(0,ne.P)(ht.colRef,(0,ne.My)("createdAt"),(0,ne.HM)(it.latestDoc||0),(0,ne.AB)(Le));return yield ht.handlePagination(Mt)})()}prePage(it={latestDoc:null,empty:!1,data:[],size:0},Le=5){var ht=this;return(0,p.A)(function*(){const Mt=(0,ne.P)(ht.colRef,(0,ne.My)("createdAt"),(0,ne.rf)(it.latestDoc||0),(0,ne.AB)(Le));return yield ht.handlePagination(Mt,!1)})()}setData(it){return it.docs.map(Le=>({id:Le.id,...Le.data()}))}setData2(it){let Le=[];return it.docs.forEach(ht=>{Le.push({...ht.data(),id:ht.id})}),Le}transformSingleDoc(it){return{...it.data(),id:it.id}}handlePagination(it,Le=!0){var ht=this;return(0,p.A)(function*(){try{const Mt=yield(0,ne.GG)(it);let Bn=ht.setData2(Mt);return{latestDoc:Le?Mt.docs[Mt.docs.length-1]:Mt.docs[0],data:Bn,empty:Mt.empty,size:Mt.size}}catch(Mt){return Mt}})()}}},2214:(St,Re,w)=>{w.d(Re,{Dk:()=>p.Dk,Wp:()=>p.Wp});var p=w(7852);(0,p.KO)("firebase","9.17.1","app")},1777:(St,Re,w)=>{w.d(Re,{HF:()=>ws,eJ:()=>fo,B8:()=>ro,xI:()=>fl,Q4:()=>$l,hg:()=>Vc,x9:()=>Hs,df:()=>he,CI:()=>Ws});var p=w(467),D=w(1076),ce=w(7852),H=w(8041),Z=w(1635),ie=w(1362);const Qe=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new D.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new H.Vy("@firebase/auth");function wt(x,...v){vt.logLevel<=H.$b.ERROR&&vt.error(`Auth (${ce.MF}): ${x}`,...v)}function qt(x,...v){throw Bt(x,...v)}function lt(x,...v){return Bt(x,...v)}function qe(x,v,I){const k=Object.assign(Object.assign({},Qe()),{[v]:I});return new D.FA("auth","Firebase",k).create(v,{appName:x.name})}function Bt(x,...v){if("string"!=typeof x){const I=v[0],k=[...v.slice(1)];return k[0]&&(k[0].appName=x.name),x._errorFactory.create(I,...k)}return st.create(x,...v)}function Ze(x,v,...I){if(!x)throw Bt(v,...I)}function Gt(x){const v="INTERNAL ASSERTION FAILED: "+x;throw wt(v),new Error(v)}function Lt(x,v){x||Gt(v)}const wn=new Map;function Nt(x){Lt(x instanceof Function,"Expected a class definition");let v=wn.get(x);return v?(Lt(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,wn.set(x,v),v)}function Jt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function br(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class mr{constructor(v,I){this.shortDelay=v,this.longDelay=I,Lt(I>v,"Short delay should be less than long delay!"),this.isMobile=(0,D.jZ)()||(0,D.lV)()}get(){return function Nr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $n(){return"http:"===br()||"https:"===br()}()||(0,D.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(x,v){Lt(x.emulator,"Emulator should always be set here");const{url:I}=x.emulator;return v?`${I}${v.startsWith("/")?v.slice(1):v}`:I}class $e{static initialize(v,I,k){this.fetchImpl=v,I&&(this.headersImpl=I),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_t=new mr(3e4,6e4);function It(x,v){return x.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:x.tenantId}):v}function At(x,v,I,k){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.A)(function*(x,v,I,k,se={}){return mt(x,se,(0,p.A)(function*(){let Ee={},ut={};k&&("GET"===v?ut=k:Ee={body:JSON.stringify(k)});const Wt=(0,D.Am)(Object.assign({key:x.config.apiKey},ut)).slice(1),En=yield x._getAdditionalHeaders();return En["Content-Type"]="application/json",x.languageCode&&(En["X-Firebase-Locale"]=x.languageCode),$e.fetch()(Mt(x,x.config.apiHost,I,Wt),Object.assign({method:v,headers:En,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function mt(x,v,I){return it.apply(this,arguments)}function it(){return(it=(0,p.A)(function*(x,v,I){x._canInitEmulator=!1;const k=Object.assign(Object.assign({},pt),v);try{const se=new Bn(x),Ee=yield Promise.race([I(),se.promise]);se.clearNetworkTimeout();const ut=yield Ee.json();if("needConfirmation"in ut)throw In(x,"account-exists-with-different-credential",ut);if(Ee.ok&&!("errorMessage"in ut))return ut;{const Wt=Ee.ok?ut.errorMessage:ut.error.message,[En,Xn]=Wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===En)throw In(x,"credential-already-in-use",ut);if("EMAIL_EXISTS"===En)throw In(x,"email-already-in-use",ut);if("USER_DISABLED"===En)throw In(x,"user-disabled",ut);const Tr=k[En]||En.toLowerCase().replace(/[_\s]+/g,"-");if(Xn)throw qe(x,Tr,Xn);qt(x,Tr)}}catch(se){if(se instanceof D.g)throw se;qt(x,"network-request-failed")}})).apply(this,arguments)}function Le(x,v,I,k){return ht.apply(this,arguments)}function ht(){return(ht=(0,p.A)(function*(x,v,I,k,se={}){const Ee=yield At(x,v,I,k,se);return"mfaPendingCredential"in Ee&&qt(x,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function Mt(x,v,I,k){const se=`${v}${I}?${k}`;return x.config.emulator?Je(x.config,se):`${x.config.apiScheme}://${se}`}class Bn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((I,k)=>{this.timer=setTimeout(()=>k(lt(this.auth,"network-request-failed")),_t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(x,v,I){const k={appName:x.name};I.email&&(k.email=I.email),I.phoneNumber&&(k.phoneNumber=I.phoneNumber);const se=lt(x,v,k);return se.customData._tokenResponse=I,se}function vr(){return(vr=(0,p.A)(function*(x,v){return At(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Qt(){return(Qt=(0,p.A)(function*(x,v){return At(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Zr(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function zr(){return(zr=(0,p.A)(function*(x,v=!1){const I=(0,D.Ku)(x),k=yield I.getIdToken(v),se=Wn(k);Ze(se&&se.exp&&se.auth_time&&se.iat,I.auth,"internal-error");const Ee="object"==typeof se.firebase?se.firebase:void 0,ut=Ee?.sign_in_provider;return{claims:se,token:k,authTime:Zr(Hn(se.auth_time)),issuedAtTime:Zr(Hn(se.iat)),expirationTime:Zr(Hn(se.exp)),signInProvider:ut||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Hn(x){return 1e3*Number(x)}function Wn(x){const[v,I,k]=x.split(".");if(void 0===v||void 0===I||void 0===k)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,D.u)(I);return se?JSON.parse(se):(wt("Failed to decode base64 JWT payload"),null)}catch(se){return wt("Caught error parsing JWT payload as JSON",se?.toString()),null}}function Er(x,v){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.A)(function*(x,v,I=!1){if(I)return v;try{return yield v}catch(k){throw k instanceof D.g&&function Oi({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(k)&&x.auth.currentUser===x&&(yield x.auth.signOut()),k}})).apply(this,arguments)}class li{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var I;if(v){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const se=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(v=!1){var I=this;if(!this.isRunning)return;const k=this.getInterval(v);this.timerId=setTimeout((0,p.A)(function*(){yield I.iteration()}),k)}iteration(){var v=this;return(0,p.A)(function*(){try{yield v.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&v.schedule(!0))}v.schedule()})()}}class fs{constructor(v,I){this.createdAt=v,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(x){return Us.apply(this,arguments)}function Us(){return Us=(0,p.A)(function*(x){var v;const I=x.auth,k=yield x.getIdToken(),se=yield Er(x,function Cs(x,v){return Qt.apply(this,arguments)}(I,{idToken:k}));Ze(se?.users.length,I,"internal-error");const Ee=se.users[0];x._notifyReloadListener(Ee);const ut=null!==(v=Ee.providerUserInfo)&&void 0!==v&&v.length?function Gn(x){return x.map(v=>{var{providerId:I}=v,k=(0,Z.Tt)(v,["providerId"]);return{providerId:I,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(Ee.providerUserInfo):[],Wt=function mi(x,v){return[...x.filter(k=>!v.some(se=>se.providerId===k.providerId)),...v]}(x.providerData,ut),Tr=!!x.isAnonymous&&!(x.email&&Ee.passwordHash||Wt?.length),pi={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:Wt,metadata:new fs(Ee.createdAt,Ee.lastLoginAt),isAnonymous:Tr};Object.assign(x,pi)}),Us.apply(this,arguments)}function ps(){return(ps=(0,p.A)(function*(x){const v=(0,D.Ku)(x);yield Zn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function or(){return(or=(0,p.A)(function*(x,v){const I=yield mt(x,{},(0,p.A)(function*(){const k=(0,D.Am)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:se,apiKey:Ee}=x.config,ut=Mt(x,se,"/v1/token",`key=${Ee}`),Wt=yield x._getAdditionalHeaders();return Wt["Content-Type"]="application/x-www-form-urlencoded",$e.fetch()(ut,{method:"POST",headers:Wt,body:k})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){Ze(v.idToken,"internal-error"),Ze(typeof v.idToken<"u","internal-error"),Ze(typeof v.refreshToken<"u","internal-error");const I="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function Ki(x){const v=Wn(x);return Ze(v,"internal-error"),Ze(typeof v.exp<"u","internal-error"),Ze(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,I)}getToken(v,I=!1){var k=this;return(0,p.A)(function*(){return Ze(!k.accessToken||k.refreshToken,v,"user-token-expired"),I||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(v,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,I){var k=this;return(0,p.A)(function*(){const{accessToken:se,refreshToken:Ee,expiresIn:ut}=yield function $i(x,v){return or.apply(this,arguments)}(v,I);k.updateTokensAndExpiration(se,Ee,Number(ut))})()}updateTokensAndExpiration(v,I,k){this.refreshToken=I||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(v,I){const{refreshToken:k,accessToken:se,expirationTime:Ee}=I,ut=new gr;return k&&(Ze("string"==typeof k,"internal-error",{appName:v}),ut.refreshToken=k),se&&(Ze("string"==typeof se,"internal-error",{appName:v}),ut.accessToken=se),Ee&&(Ze("number"==typeof Ee,"internal-error",{appName:v}),ut.expirationTime=Ee),ut}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function Pr(x,v){Ze("string"==typeof x||typeof x>"u","internal-error",{appName:v})}class yi{constructor(v){var{uid:I,auth:k,stsTokenManager:se}=v,Ee=(0,Z.Tt)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=k,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new fs(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(v){var I=this;return(0,p.A)(function*(){const k=yield Er(I,I.stsTokenManager.getToken(I.auth,v));return Ze(k,I.auth,"internal-error"),I.accessToken!==k&&(I.accessToken=k,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),k})()}getIdTokenResult(v){return function sr(x){return zr.apply(this,arguments)}(this,v)}reload(){return function Mn(x){return ps.apply(this,arguments)}(this)}_assign(v){this!==v&&(Ze(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(I=>Object.assign({},I)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new yi(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,I=!1){var k=this;return(0,p.A)(function*(){let se=!1;v.idToken&&v.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(v),se=!0),I&&(yield Zn(k)),yield k.auth._persistUserIfCurrent(k),se&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var v=this;return(0,p.A)(function*(){const I=yield v.getIdToken();return yield Er(v,function ir(x,v){return vr.apply(this,arguments)}(v.auth,{idToken:I})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,I){var k,se,Ee,ut,Wt,En,Xn,Tr;const pi=null!==(k=I.displayName)&&void 0!==k?k:void 0,Ia=null!==(se=I.email)&&void 0!==se?se:void 0,Oa=null!==(Ee=I.phoneNumber)&&void 0!==Ee?Ee:void 0,xa=null!==(ut=I.photoURL)&&void 0!==ut?ut:void 0,Xc=null!==(Wt=I.tenantId)&&void 0!==Wt?Wt:void 0,Is=null!==(En=I._redirectEventId)&&void 0!==En?En:void 0,qa=null!==(Xn=I.createdAt)&&void 0!==Xn?Xn:void 0,Ti=null!==(Tr=I.lastLoginAt)&&void 0!==Tr?Tr:void 0,{uid:Or,emailVerified:Jo,isAnonymous:ea,providerData:Xa,stsTokenManager:Al}=I;Ze(Or&&Al,v,"internal-error");const ls=gr.fromJSON(this.name,Al);Ze("string"==typeof Or,v,"internal-error"),Pr(pi,v.name),Pr(Ia,v.name),Ze("boolean"==typeof Jo,v,"internal-error"),Ze("boolean"==typeof ea,v,"internal-error"),Pr(Oa,v.name),Pr(xa,v.name),Pr(Xc,v.name),Pr(Is,v.name),Pr(qa,v.name),Pr(Ti,v.name);const Gl=new yi({uid:Or,auth:v,email:Ia,emailVerified:Jo,displayName:pi,isAnonymous:ea,photoURL:xa,phoneNumber:Oa,tenantId:Xc,stsTokenManager:ls,createdAt:qa,lastLoginAt:Ti});return Xa&&Array.isArray(Xa)&&(Gl.providerData=Xa.map(gc=>Object.assign({},gc))),Is&&(Gl._redirectEventId=Is),Gl}static _fromIdTokenResponse(v,I,k=!1){return(0,p.A)(function*(){const se=new gr;se.updateFromServerResponse(I);const Ee=new yi({uid:I.localId,auth:v,stsTokenManager:se,isAnonymous:k});return yield Zn(Ee),Ee})()}}const De=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.A)(function*(){return!0})()}_set(I,k){var se=this;return(0,p.A)(function*(){se.storage[I]=k})()}_get(I){var k=this;return(0,p.A)(function*(){const se=k.storage[I];return void 0===se?null:se})()}_remove(I){var k=this;return(0,p.A)(function*(){delete k.storage[I]})()}_addListener(I,k){}_removeListener(I,k){}}return x.type="NONE",x})();function Oe(x,v,I){return`firebase:${x}:${v}:${I}`}class de{constructor(v,I,k){this.persistence=v,this.auth=I,this.userKey=k;const{config:se,name:Ee}=this.auth;this.fullUserKey=Oe(this.userKey,se.apiKey,Ee),this.fullPersistenceKey=Oe("persistence",se.apiKey,Ee),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,p.A)(function*(){const I=yield v.persistence._get(v.fullUserKey);return I?yi._fromJSON(v.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var I=this;return(0,p.A)(function*(){if(I.persistence===v)return;const k=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=v,k?I.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,I,k="authUser"){return(0,p.A)(function*(){if(!I.length)return new de(Nt(De),v,k);const se=(yield Promise.all(I.map(function(){var Xn=(0,p.A)(function*(Tr){if(yield Tr._isAvailable())return Tr});return function(Tr){return Xn.apply(this,arguments)}}()))).filter(Xn=>Xn);let Ee=se[0]||Nt(De);const ut=Oe(k,v.config.apiKey,v.name);let Wt=null;for(const Xn of I)try{const Tr=yield Xn._get(ut);if(Tr){const pi=yi._fromJSON(v,Tr);Xn!==Ee&&(Wt=pi),Ee=Xn;break}}catch{}const En=se.filter(Xn=>Xn._shouldAllowMigration);return Ee._shouldAllowMigration&&En.length?(Ee=En[0],Wt&&(yield Ee._set(ut,Wt.toJSON())),yield Promise.all(I.map(function(){var Xn=(0,p.A)(function*(Tr){if(Tr!==Ee)try{yield Tr._remove(ut)}catch{}});return function(Tr){return Xn.apply(this,arguments)}}())),new de(Ee,v,k)):new de(Ee,v,k)})()}}function be(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Vt(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(re(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(Tn(v))return"Blackberry";if(ar(v))return"Webos";if(Ae(v))return"Safari";if((v.includes("chrome/")||Ke(v))&&!v.includes("edge/"))return"Chrome";if(Rn(v))return"Android";{const k=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function re(x=(0,D.ZQ)()){return/firefox\//i.test(x)}function Ae(x=(0,D.ZQ)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Ke(x=(0,D.ZQ)()){return/crios\//i.test(x)}function Vt(x=(0,D.ZQ)()){return/iemobile/i.test(x)}function Rn(x=(0,D.ZQ)()){return/android/i.test(x)}function Tn(x=(0,D.ZQ)()){return/blackberry/i.test(x)}function ar(x=(0,D.ZQ)()){return/webos/i.test(x)}function Cn(x=(0,D.ZQ)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function ui(x=(0,D.ZQ)()){return Cn(x)||Rn(x)||ar(x)||Tn(x)||/windows phone/i.test(x)||Vt(x)}function yt(x,v=[]){let I;switch(x){case"Browser":I=be((0,D.ZQ)());break;case"Worker":I=`${be((0,D.ZQ)())}-${x}`;break;default:I=x}const k=v.length?v.join(","):"FirebaseCore-web";return`${I}/JsCore/${ce.MF}/${k}`}class rt{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,I){const k=Ee=>new Promise((ut,Wt)=>{try{ut(v(Ee))}catch(En){Wt(En)}});k.onAbort=I,this.queue.push(k);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(v){var I=this;return(0,p.A)(function*(){if(I.auth.currentUser===v)return;const k=[];try{for(const se of I.queue)yield se(v),se.onAbort&&k.push(se.onAbort)}catch(se){k.reverse();for(const Ee of k)try{Ee()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class jt{constructor(v,I,k){this.app=v,this.heartbeatServiceProvider=I,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new On(this),this.idTokenSubscription=new On(this),this.beforeStateQueue=new rt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(v,I){var k=this;return I&&(this._popupRedirectResolver=Nt(I)),this._initializationPromise=this.queue((0,p.A)(function*(){var se,Ee;if(!k._deleted&&(k.persistenceManager=yield de.create(k,v),!k._deleted)){if(null!==(se=k._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(I),k.lastNotifiedUid=(null===(Ee=k.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,p.A)(function*(){if(v._deleted)return;const I=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||I){if(v.currentUser&&I&&v.currentUser.uid===I.uid)return v._currentUser._assign(I),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(I,!0)}})()}initializeCurrentUser(v){var I=this;return(0,p.A)(function*(){var k;const se=yield I.assertedPersistence.getCurrentUser();let Ee=se,ut=!1;if(v&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Wt=null===(k=I.redirectUser)||void 0===k?void 0:k._redirectEventId,En=Ee?._redirectEventId,Xn=yield I.tryRedirectSignIn(v);(!Wt||Wt===En)&&Xn?.user&&(Ee=Xn.user,ut=!0)}if(!Ee)return I.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(ut)try{yield I.beforeStateQueue.runMiddleware(Ee)}catch(Wt){Ee=se,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Wt))}return Ee?I.reloadAndSetCurrentUserOrClear(Ee):I.directlySetCurrentUser(null)}return Ze(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===Ee._redirectEventId?I.directlySetCurrentUser(Ee):I.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(v){var I=this;return(0,p.A)(function*(){let k=null;try{k=yield I._popupRedirectResolver._completeRedirectFn(I,v,!0)}catch{yield I._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(v){var I=this;return(0,p.A)(function*(){try{yield Zn(v)}catch(k){if("auth/network-request-failed"!==k?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function bi(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,p.A)(function*(){v._deleted=!0})()}updateCurrentUser(v){var I=this;return(0,p.A)(function*(){const k=v?(0,D.Ku)(v):null;return k&&Ze(k.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(k&&k._clone(I))})()}_updateCurrentUser(v,I=!1){var k=this;return(0,p.A)(function*(){if(!k._deleted)return v&&Ze(k.tenantId===v.tenantId,k,"tenant-id-mismatch"),I||(yield k.beforeStateQueue.runMiddleware(v)),k.queue((0,p.A)(function*(){yield k.directlySetCurrentUser(v),k.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,p.A)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var I=this;return this.queue((0,p.A)(function*(){yield I.assertedPersistence.setPersistence(Nt(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new D.FA("auth","Firebase",v())}onAuthStateChanged(v,I,k){return this.registerStateListener(this.authStateSubscription,v,I,k)}beforeAuthStateChanged(v,I){return this.beforeStateQueue.pushCallback(v,I)}onIdTokenChanged(v,I,k){return this.registerStateListener(this.idTokenSubscription,v,I,k)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,I){var k=this;return(0,p.A)(function*(){const se=yield k.getOrInitRedirectPersistenceManager(I);return null===v?se.removeCurrentUser():se.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var I=this;return(0,p.A)(function*(){if(!I.redirectPersistenceManager){const k=v&&Nt(v)||I._popupRedirectResolver;Ze(k,I,"argument-error"),I.redirectPersistenceManager=yield de.create(I,[Nt(k._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(v){var I=this;return(0,p.A)(function*(){var k,se;return I._isInitialized&&(yield I.queue((0,p.A)(function*(){}))),(null===(k=I._currentUser)||void 0===k?void 0:k._redirectEventId)===v?I._currentUser:(null===(se=I.redirectUser)||void 0===se?void 0:se._redirectEventId)===v?I.redirectUser:null})()}_persistUserIfCurrent(v){var I=this;return(0,p.A)(function*(){if(v===I.currentUser)return I.queue((0,p.A)(function*(){return I.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(I=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,I,k,se){if(this._deleted)return()=>{};const Ee="function"==typeof I?I:I.next.bind(I),ut=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(ut,this,"internal-error"),ut.then(()=>Ee(this.currentUser)),"function"==typeof I?v.addObserver(I,k,se):v.addObserver(I)}directlySetCurrentUser(v){var I=this;return(0,p.A)(function*(){I.currentUser&&I.currentUser!==v&&I._currentUser._stopProactiveRefresh(),v&&I.isProactiveRefreshEnabled&&v._startProactiveRefresh(),I.currentUser=v,v?yield I.assertedPersistence.setCurrentUser(v):yield I.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=yt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,p.A)(function*(){var I;const k={"X-Client-Version":v.clientVersion};v.app.options.appId&&(k["X-Firebase-gmpid"]=v.app.options.appId);const se=yield null===(I=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();return se&&(k["X-Firebase-Client"]=se),k})()}}function cn(x){return(0,D.Ku)(x)}class On{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,D.tD)(I=>this.observer=I)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _r(x){const v=x.indexOf(":");return v<0?"":x.substr(0,v+1)}function ni(x){if(!x)return null;const v=Number(x);return isNaN(v)?null:v}class gs{constructor(v,I){this.providerId=v,this.signInMethod=I}toJSON(){return Gt("not implemented")}_getIdTokenResponse(v){return Gt("not implemented")}_linkToIdToken(v,I){return Gt("not implemented")}_getReauthenticationResolver(v){return Gt("not implemented")}}function Jn(){return(Jn=(0,p.A)(function*(x,v){return At(x,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function we(){return(we=(0,p.A)(function*(x,v){return Le(x,"POST","/v1/accounts:signInWithPassword",It(x,v))})).apply(this,arguments)}function vi(){return(vi=(0,p.A)(function*(x,v){return Le(x,"POST","/v1/accounts:signInWithEmailLink",It(x,v))})).apply(this,arguments)}function Wr(){return(Wr=(0,p.A)(function*(x,v){return Le(x,"POST","/v1/accounts:signInWithEmailLink",It(x,v))})).apply(this,arguments)}class ri extends gs{constructor(v,I,k,se=null){super("password",k),this._email=v,this._password=I,this._tenantId=se}static _fromEmailAndPassword(v,I){return new ri(v,I,"password")}static _fromEmailAndCode(v,I,k=null){return new ri(v,I,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const I="string"==typeof v?JSON.parse(v):v;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(v){var I=this;return(0,p.A)(function*(){switch(I.signInMethod){case"password":return function me(x,v){return we.apply(this,arguments)}(v,{returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function di(x,v){return vi.apply(this,arguments)}(v,{email:I._email,oobCode:I._password});default:qt(v,"internal-error")}})()}_linkToIdToken(v,I){var k=this;return(0,p.A)(function*(){switch(k.signInMethod){case"password":return function Qi(x,v){return Jn.apply(this,arguments)}(v,{idToken:I,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function jn(x,v){return Wr.apply(this,arguments)}(v,{idToken:I,email:k._email,oobCode:k._password});default:qt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Di(x,v){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.A)(function*(x,v){return Le(x,"POST","/v1/accounts:signInWithIdp",It(x,v))})).apply(this,arguments)}class tt extends gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const I=new tt(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(I.idToken=v.idToken),v.accessToken&&(I.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(I.nonce=v.nonce),v.pendingToken&&(I.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(I.accessToken=v.oauthToken,I.secret=v.oauthTokenSecret):qt("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const I="string"==typeof v?JSON.parse(v):v,{providerId:k,signInMethod:se}=I,Ee=(0,Z.Tt)(I,["providerId","signInMethod"]);if(!k||!se)return null;const ut=new tt(k,se);return ut.idToken=Ee.idToken||void 0,ut.accessToken=Ee.accessToken||void 0,ut.secret=Ee.secret,ut.nonce=Ee.nonce,ut.pendingToken=Ee.pendingToken||null,ut}_getIdTokenResponse(v){return Di(v,this.buildRequest())}_linkToIdToken(v,I){const k=this.buildRequest();return k.idToken=I,Di(v,k)}_getReauthenticationResolver(v){const I=this.buildRequest();return I.autoCreate=!1,Di(v,I)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),v.postBody=(0,D.Am)(I)}return v}}class Ii{constructor(v){var I,k,se,Ee,ut,Wt;const En=(0,D.I9)((0,D.hp)(v)),Xn=null!==(I=En.apiKey)&&void 0!==I?I:null,Tr=null!==(k=En.oobCode)&&void 0!==k?k:null,pi=function Ta(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=En.mode)&&void 0!==se?se:null);Ze(Xn&&Tr&&pi,"argument-error"),this.apiKey=Xn,this.operation=pi,this.code=Tr,this.continueUrl=null!==(Ee=En.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(ut=En.languageCode)&&void 0!==ut?ut:null,this.tenantId=null!==(Wt=En.tenantId)&&void 0!==Wt?Wt:null}static parseLink(v){const I=function Ps(x){const v=(0,D.I9)((0,D.hp)(x)).link,I=v?(0,D.I9)((0,D.hp)(v)).deep_link_id:null,k=(0,D.I9)((0,D.hp)(x)).deep_link_id;return(k?(0,D.I9)((0,D.hp)(k)).link:null)||k||I||v||x}(v);try{return new Ii(I)}catch{return null}}}let Hi=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(I,k){return ri._fromEmailAndPassword(I,k)}static credentialWithLink(I,k){const se=Ii.parseLink(k);return Ze(se,"argument-error"),ri._fromEmailAndCode(I,se.code,se.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class rs{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class cr extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}let ws=(()=>{class x extends cr{constructor(){super("google.com"),this.addScope("profile")}static credential(I,k){return tt._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:k})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:k,oauthAccessToken:se}=I;if(!k&&!se)return null;try{return x.credential(k,se)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})();function is(){return(is=(0,p.A)(function*(x,v){return Le(x,"POST","/v1/accounts:signUp",It(x,v))})).apply(this,arguments)}class qi{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,I,k,se=!1){return(0,p.A)(function*(){const Ee=yield yi._fromIdTokenResponse(v,k,se),ut=Js(k);return new qi({user:Ee,providerId:ut,_tokenResponse:k,operationType:I})})()}static _forOperation(v,I,k){return(0,p.A)(function*(){yield v._updateTokensIfNecessary(k,!0);const se=Js(k);return new qi({user:v,providerId:se,_tokenResponse:k,operationType:I})})()}}function Js(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}class Sa extends D.g{constructor(v,I,k,se){var Ee;super(I.code,I.message),this.operationType=k,this.user=se,Object.setPrototypeOf(this,Sa.prototype),this.customData={appName:v.name,tenantId:null!==(Ee=v.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:I.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(v,I,k,se){return new Sa(v,I,k,se)}}function To(x,v,I,k){return("reauthenticate"===v?I._getReauthenticationResolver(x):I._getIdTokenResponse(x)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?Sa._fromErrorAndOperation(x,Ee,v,k):Ee})}function Un(){return(Un=(0,p.A)(function*(x,v,I=!1){const k=yield Er(x,v._linkToIdToken(x.auth,yield x.getIdToken()),I);return qi._forOperation(x,"link",k)})).apply(this,arguments)}function Gr(){return(Gr=(0,p.A)(function*(x,v,I=!1){const{auth:k}=x,se="reauthenticate";try{const Ee=yield Er(x,To(k,se,v,x),I);Ze(Ee.idToken,k,"internal-error");const ut=Wn(Ee.idToken);Ze(ut,k,"internal-error");const{sub:Wt}=ut;return Ze(x.uid===Wt,k,"user-mismatch"),qi._forOperation(x,se,Ee)}catch(Ee){throw"auth/user-not-found"===Ee?.code&&qt(k,"user-mismatch"),Ee}})).apply(this,arguments)}function Po(x,v){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.A)(function*(x,v,I=!1){const k="signIn",se=yield To(x,k,v),Ee=yield qi._fromIdTokenResponse(x,k,se);return I||(yield x._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function La(){return(La=(0,p.A)(function*(x,v){return Po(cn(x),v)})).apply(this,arguments)}function fo(x,v,I){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.A)(function*(x,v,I){const k=cn(x),se=yield function dn(x,v){return is.apply(this,arguments)}(k,{returnSecureToken:!0,email:v,password:I}),Ee=yield qi._fromIdTokenResponse(k,"signIn",se);return yield k._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function Hs(x,v,I){return function ko(x,v){return La.apply(this,arguments)}((0,D.Ku)(x),Hi.credential(v,I))}class Ba{constructor(v,I,k={}){this.isNewUser=v,this.providerId=I,this.profile=k}}class da extends Ba{constructor(v,I,k,se){super(v,I,k),this.username=se}}class ha extends Ba{constructor(v,I){super(v,"facebook.com",I)}}class Ao extends da{constructor(v,I){super(v,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class nc extends Ba{constructor(v,I){super(v,"google.com",I)}}class qr extends da{constructor(v,I,k){super(v,"twitter.com",I,k)}}function ro(x){const{user:v,_tokenResponse:I}=x;return v.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Ua(x){var v,I;if(!x)return null;const{providerId:k}=x,se=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},Ee=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!k&&x?.idToken){const ut=null===(I=null===(v=Wn(x.idToken))||void 0===v?void 0:v.firebase)||void 0===I?void 0:I.sign_in_provider;if(ut)return new Ba(Ee,"anonymous"!==ut&&"custom"!==ut?ut:null)}if(!k)return null;switch(k){case"facebook.com":return new ha(Ee,se);case"github.com":return new Ao(Ee,se);case"google.com":return new nc(Ee,se);case"twitter.com":return new qr(Ee,se,x.screenName||null);case"custom":case"anonymous":return new Ba(Ee,null);default:return new Ba(Ee,k,se)}}(I)}function Vc(x,v,I,k){return(0,D.Ku)(x).onAuthStateChanged(v,I,k)}function Ws(x){return(0,D.Ku)(x).signOut()}const at="__sak";class Ot{constructor(v,I){this.storageRetriever=v,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(at,"1"),this.storage.removeItem(at),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,I){return this.storage.setItem(v,JSON.stringify(I)),Promise.resolve()}_get(v){const I=this.storage.getItem(v);return Promise.resolve(I?JSON.parse(I):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bo=(()=>{class x extends Ot{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,k)=>this.onStorageEvent(I,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ur(){const x=(0,D.ZQ)();return Ae(x)||Cn(x)}()&&function Sn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const k of Object.keys(this.listeners)){const se=this.storage.getItem(k),Ee=this.localCache[k];se!==Ee&&I(k,Ee,se)}}onStorageEvent(I,k=!1){if(!I.key)return void this.forAllChangedKeys((Wt,En,Xn)=>{this.notifyListeners(Wt,Xn)});const se=I.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Wt=this.storage.getItem(se);if(I.newValue!==Wt)null!==I.newValue?this.storage.setItem(se,I.newValue):this.storage.removeItem(se);else if(this.localCache[se]===I.newValue&&!k)return}const Ee=()=>{const Wt=this.storage.getItem(se);!k&&this.localCache[se]===Wt||this.notifyListeners(se,Wt)},ut=this.storage.getItem(se);!function Vi(){return(0,D.lT)()&&10===document.documentMode}()||ut===I.newValue||I.newValue===I.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(I,k){this.localCache[I]=k;const se=this.listeners[I];if(se)for(const Ee of Array.from(se))Ee(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,k,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:k,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(k)}_removeListener(I,k){this.listeners[I]&&(this.listeners[I].delete(k),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,k){var se=()=>super._set,Ee=this;return(0,p.A)(function*(){yield se().call(Ee,I,k),Ee.localCache[I]=JSON.stringify(k)})()}_get(I){var k=()=>super._get,se=this;return(0,p.A)(function*(){const Ee=yield k().call(se,I);return se.localCache[I]=JSON.stringify(Ee),Ee})()}_remove(I){var k=()=>super._remove,se=this;return(0,p.A)(function*(){yield k().call(se,I),delete se.localCache[I]})()}}return x.type="LOCAL",x})(),jo=(()=>{class x extends Ot{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,k){}_removeListener(I,k){}}return x.type="SESSION",x})();let pa=(()=>{class x{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const k=this.receivers.find(Ee=>Ee.isListeningto(I));if(k)return k;const se=new x(I);return this.receivers.push(se),se}isListeningto(I){return this.eventTarget===I}handleEvent(I){var k=this;return(0,p.A)(function*(){const se=I,{eventId:Ee,eventType:ut,data:Wt}=se.data,En=k.handlersMap[ut];if(!En?.size)return;se.ports[0].postMessage({status:"ack",eventId:Ee,eventType:ut});const Xn=Array.from(En).map(function(){var pi=(0,p.A)(function*(Ia){return Ia(se.origin,Wt)});return function(Ia){return pi.apply(this,arguments)}}()),Tr=yield function Ha(x){return Promise.all(x.map(function(){var v=(0,p.A)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(k){return{fulfilled:!1,reason:k}}});return function(I){return v.apply(this,arguments)}}()))}(Xn);se.ports[0].postMessage({status:"done",eventId:Ee,eventType:ut,response:Tr})})()}_subscribe(I,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(k)}_unsubscribe(I,k){this.handlersMap[I]&&k&&this.handlersMap[I].delete(k),(!k||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function ci(x="",v=10){let I="";for(let k=0;k<v;k++)I+=Math.floor(10*Math.random());return x+I}class rc{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,I,k=50){var se=this;return(0,p.A)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let ut,Wt;return new Promise((En,Xn)=>{const Tr=ci("",20);Ee.port1.start();const pi=setTimeout(()=>{Xn(new Error("unsupported_event"))},k);Wt={messageChannel:Ee,onMessage(Ia){const Oa=Ia;if(Oa.data.eventId===Tr)switch(Oa.data.status){case"ack":clearTimeout(pi),ut=setTimeout(()=>{Xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),En(Oa.data.response);break;default:clearTimeout(pi),clearTimeout(ut),Xn(new Error("invalid_response"))}}},se.handlers.add(Wt),Ee.port1.addEventListener("message",Wt.onMessage),se.target.postMessage({eventType:v,eventId:Tr,data:I},[Ee.port2])}).finally(()=>{Wt&&se.removeMessageHandler(Wt)})})()}}function Xr(){return window}function Io(){return typeof Xr().WorkerGlobalScope<"u"&&"function"==typeof Xr().importScripts}function N(){return(N=(0,p.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const W="firebaseLocalStorageDb",nt="firebaseLocalStorage",je="fbase_key";class un{constructor(v){this.request=v}toPromise(){return new Promise((v,I)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Qn(x,v){return x.transaction([nt],v?"readwrite":"readonly").objectStore(nt)}function er(){const x=indexedDB.open(W,1);return new Promise((v,I)=>{x.addEventListener("error",()=>{I(x.error)}),x.addEventListener("upgradeneeded",()=>{const k=x.result;try{k.createObjectStore(nt,{keyPath:je})}catch(se){I(se)}}),x.addEventListener("success",(0,p.A)(function*(){const k=x.result;k.objectStoreNames.contains(nt)?v(k):(k.close(),yield function kr(){const x=indexedDB.deleteDatabase(W);return new un(x).toPromise()}(),v(yield er()))}))})}function Yn(x,v,I){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.A)(function*(x,v,I){const k=Qn(x,!0).put({[je]:v,value:I});return new un(k).toPromise()})).apply(this,arguments)}function Mi(){return(Mi=(0,p.A)(function*(x,v){const I=Qn(x,!1).get(v),k=yield new un(I).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Gs(x,v){const I=Qn(x,!0).delete(v);return new un(I).toPromise()}const Ra=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,p.A)(function*(){return I.db||(I.db=yield er()),I.db})()}_withRetries(I){var k=this;return(0,p.A)(function*(){let se=0;for(;;)try{const Ee=yield k._openDb();return yield I(Ee)}catch(Ee){if(se++>3)throw Ee;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,p.A)(function*(){return Io()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,p.A)(function*(){I.receiver=pa._getInstance(function U(){return Io()?self:null}()),I.receiver._subscribe("keyChanged",function(){var k=(0,p.A)(function*(se,Ee){return{keyProcessed:(yield I._poll()).includes(Ee.key)}});return function(se,Ee){return k.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var k=(0,p.A)(function*(se,Ee){return["keyChanged"]});return function(se,Ee){return k.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,p.A)(function*(){var k,se;if(I.activeServiceWorker=yield function nl(){return N.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new rc(I.activeServiceWorker);const Ee=yield I.sender._send("ping",{},800);Ee&&null!==(k=Ee[0])&&void 0!==k&&k.fulfilled&&null!==(se=Ee[0])&&void 0!==se&&se.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var k=this;return(0,p.A)(function*(){if(k.sender&&k.activeServiceWorker&&function q(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:I},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.A)(function*(){try{if(!indexedDB)return!1;const I=yield er();return yield Yn(I,at,"1"),yield Gs(I,at),!0}catch{}return!1})()}_withPendingWrite(I){var k=this;return(0,p.A)(function*(){k.pendingWrites++;try{yield I()}finally{k.pendingWrites--}})()}_set(I,k){var se=this;return(0,p.A)(function*(){return se._withPendingWrite((0,p.A)(function*(){return yield se._withRetries(Ee=>Yn(Ee,I,k)),se.localCache[I]=k,se.notifyServiceWorker(I)}))})()}_get(I){var k=this;return(0,p.A)(function*(){const se=yield k._withRetries(Ee=>function qn(x,v){return Mi.apply(this,arguments)}(Ee,I));return k.localCache[I]=se,se})()}_remove(I){var k=this;return(0,p.A)(function*(){return k._withPendingWrite((0,p.A)(function*(){return yield k._withRetries(se=>Gs(se,I)),delete k.localCache[I],k.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,p.A)(function*(){const k=yield I._withRetries(ut=>{const Wt=Qn(ut,!1).getAll();return new un(Wt).toPromise()});if(!k)return[];if(0!==I.pendingWrites)return[];const se=[],Ee=new Set;for(const{fbase_key:ut,value:Wt}of k)Ee.add(ut),JSON.stringify(I.localCache[ut])!==JSON.stringify(Wt)&&(I.notifyListeners(ut,Wt),se.push(ut));for(const ut of Object.keys(I.localCache))I.localCache[ut]&&!Ee.has(ut)&&(I.notifyListeners(ut,null),se.push(ut));return se})()}notifyListeners(I,k){this.localCache[I]=k;const se=this.listeners[I];if(se)for(const Ee of Array.from(se))Ee(k)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,p.A)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(k)}_removeListener(I,k){this.listeners[I]&&(this.listeners[I].delete(k),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Cc(x){return`__${x}${Math.floor(1e6*Math.random())}`}function As(x,v){return v?Nt(v):(Ze(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}Cc("rcb"),new mr(3e4,6e4);class za extends gs{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Di(v,this._buildIdpRequest())}_linkToIdToken(v,I){return Di(v,this._buildIdpRequest(I))}_getReauthenticationResolver(v){return Di(v,this._buildIdpRequest())}_buildIdpRequest(v){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(I.idToken=v),I}}function wr(x){return Po(x.auth,new za(x),x.bypassAuthState)}function b(x){const{auth:v,user:I}=x;return Ze(I,v,"internal-error"),function bo(x,v){return Gr.apply(this,arguments)}(I,new za(x),x.bypassAuthState)}function F(x){return R.apply(this,arguments)}function R(){return(R=(0,p.A)(function*(x){const{auth:v,user:I}=x;return Ze(I,v,"internal-error"),function Ts(x,v){return Un.apply(this,arguments)}(I,new za(x),x.bypassAuthState)})).apply(this,arguments)}class L{constructor(v,I,k,se,Ee=!1){this.auth=v,this.resolver=k,this.user=se,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var v=this;return new Promise(function(){var I=(0,p.A)(function*(k,se){v.pendingPromise={resolve:k,reject:se};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(Ee){v.reject(Ee)}});return function(k,se){return I.apply(this,arguments)}}())}onAuthEvent(v){var I=this;return(0,p.A)(function*(){const{urlResponse:k,sessionId:se,postBody:Ee,tenantId:ut,error:Wt,type:En}=v;if(Wt)return void I.reject(Wt);const Xn={auth:I.auth,requestUri:k,sessionId:se,tenantId:ut||void 0,postBody:Ee||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(En)(Xn))}catch(Tr){I.reject(Tr)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return wr;case"linkViaPopup":case"linkViaRedirect":return F;case"reauthViaPopup":case"reauthViaRedirect":return b;default:qt(this.auth,"internal-error")}}resolve(v){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X=new mr(2e3,1e4);function he(x,v,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,p.A)(function*(x,v,I){const k=cn(x);!function nn(x,v,I){if(!(v instanceof I))throw I.name!==v.constructor.name&&qt(x,"argument-error"),qe(x,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(x,v,rs);const se=As(k,I);return new Ir(k,"signInViaPopup",v,se).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class x extends L{constructor(I,k,se,Ee,ut){super(I,k,Ee,ut),this.provider=se,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var I=this;return(0,p.A)(function*(){const k=yield I.execute();return Ze(k,I.auth,"internal-error"),k})()}onExecution(){var I=this;return(0,p.A)(function*(){Lt(1===I.filter.length,"Popup operations only handle one event");const k=ci();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],k),I.authWindow.associatedEvent=k,I.resolver._originValidation(I.auth).catch(se=>{I.reject(se)}),I.resolver._isIframeWebStorageSupported(I.auth,se=>{se||I.reject(lt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const I=()=>{var k,se;this.pollId=null!==(se=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(lt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(I,X.get())};I()}}return x.currentPopupAction=null,x})();const yo=new Map;class Ls extends L{constructor(v,I,k=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,k),this.eventId=null}execute(){var v=()=>super.execute,I=this;return(0,p.A)(function*(){let k=yo.get(I.auth._key());if(!k){try{const Ee=(yield function Vs(x,v){return cs.apply(this,arguments)}(I.resolver,I.auth))?yield v().call(I):null;k=()=>Promise.resolve(Ee)}catch(se){k=()=>Promise.reject(se)}yo.set(I.auth._key(),k)}return I.bypassAuthState||yo.set(I.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(v){var I=()=>super.onAuthEvent,k=this;return(0,p.A)(function*(){if("signInViaRedirect"===v.type)return I().call(k,v);if("unknown"!==v.type){if(v.eventId){const se=yield k.auth._redirectUserForId(v.eventId);if(se)return k.user=se,I().call(k,v);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,p.A)(function*(){})()}cleanUp(){}}function cs(){return(cs=(0,p.A)(function*(x,v){const I=function Qa(x){return Oe("pendingRedirect",x.config.apiKey,x.name)}(v),k=function ic(x){return Nt(x._redirectPersistence)}(x);if(!(yield k._isAvailable()))return!1;const se="true"===(yield k._get(I));return yield k._remove(I),se})).apply(this,arguments)}function yn(x,v){yo.set(x._key(),v)}function $l(x,v){return ol.apply(this,arguments)}function ol(){return(ol=(0,p.A)(function*(x,v){return yield cn(x)._initializationPromise,Gc(x,v,!1)})).apply(this,arguments)}function Gc(x,v){return Et.apply(this,arguments)}function Et(){return(Et=(0,p.A)(function*(x,v,I=!1){const k=cn(x),se=As(k,v),ut=yield new Ls(k,se,I).execute();return ut&&!I&&(delete ut.user._redirectEventId,yield k._persistUserIfCurrent(ut.user),yield k._setRedirectUser(null,v)),ut})).apply(this,arguments)}class kn{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let I=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(v,k)&&(I=!0,this.sendToConsumer(v,k),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Kr(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _s(x);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=v,I=!0)),I}sendToConsumer(v,I){var k;if(v.error&&!_s(v)){const se=(null===(k=v.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";I.onError(lt(this.auth,se))}else I.onAuthEvent(v)}isEventForConsumer(v,I){const k=null===I.eventId||!!v.eventId&&v.eventId===I.eventId;return I.filter.includes(v.type)&&k}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fc(v))}saveEventToCache(v){this.cachedEventUids.add(fc(v)),this.lastProcessedEventTime=Date.now()}}function fc(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(v=>v).join("-")}function _s({type:x,error:v}){return"unknown"===x&&"auth/no-auth-event"===v?.code}function Ms(){return(Ms=(0,p.A)(function*(x,v={}){return At(x,"GET","/v1/projects",v)})).apply(this,arguments)}const io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,No=/^https?/;function Ni(){return Ni=(0,p.A)(function*(x){if(x.config.emulator)return;const{authorizedDomains:v}=yield function bc(x){return Ms.apply(this,arguments)}(x);for(const I of v)try{if(al(I))return}catch{}qt(x,"unauthorized-domain")}),Ni.apply(this,arguments)}function al(x){const v=Jt(),{protocol:I,hostname:k}=new URL(v);if(x.startsWith("chrome-extension://")){const ut=new URL(x);return""===ut.hostname&&""===k?"chrome-extension:"===I&&x.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===I&&ut.hostname===k}if(!No.test(I))return!1;if(io.test(x))return k===x;const se=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(k)}const Oo=new mr(3e4,6e4);function Es(){const x=Xr().___jsl;if(x?.H)for(const v of Object.keys(x.H))if(x.H[v].r=x.H[v].r||[],x.H[v].L=x.H[v].L||[],x.H[v].r=[...x.H[v].L],x.CP)for(let I=0;I<x.CP.length;I++)x.CP[I]=null}let pc=null;function Go(x){return pc=pc||function Rs(x){return new Promise((v,I)=>{var k,se,Ee;function ut(){Es(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Es(),I(lt(x,"network-request-failed"))},timeout:Oo.get()})}if(null!==(se=null===(k=Xr().gapi)||void 0===k?void 0:k.iframes)&&void 0!==se&&se.Iframe)v(gapi.iframes.getContext());else{if(null===(Ee=Xr().gapi)||void 0===Ee||!Ee.load){const Wt=Cc("iframefcb");return Xr()[Wt]=()=>{gapi.load?ut():I(lt(x,"network-request-failed"))},function Cu(x){return new Promise((v,I)=>{const k=document.createElement("script");k.setAttribute("src",x),k.onload=v,k.onerror=se=>{const Ee=lt("internal-error");Ee.customData=se,I(Ee)},k.type="text/javascript",k.charset="UTF-8",function Mo(){var x,v;return null!==(v=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==v?v:document}().appendChild(k)})}(`https://apis.google.com/js/api.js?onload=${Wt}`).catch(En=>I(En))}ut()}}).catch(v=>{throw pc=null,v})}(x),pc}const va=new mr(5e3,15e3),su={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dl(x){const v=x.config;Ze(v.authDomain,x,"auth-domain-config-required");const I=v.emulator?Je(v,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,k={apiKey:v.apiKey,appName:x.name,v:ce.MF},se=cl.get(x.config.apiHost);se&&(k.eid=se);const Ee=x._getFrameworks();return Ee.length&&(k.fw=Ee.join(",")),`${I}?${(0,D.Am)(k).slice(1)}`}function Ac(){return Ac=(0,p.A)(function*(x){const v=yield Go(x),I=Xr().gapi;return Ze(I,x,"internal-error"),v.open({where:document.body,url:Dl(x),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:su,dontclear:!0},k=>new Promise(function(){var se=(0,p.A)(function*(Ee,ut){yield k.restyle({setHideOnLeave:!1});const Wt=lt(x,"network-request-failed"),En=Xr().setTimeout(()=>{ut(Wt)},va.get());function Xn(){Xr().clearTimeout(En),Ee(k)}k.ping(Xn).then(Xn,()=>{ut(Wt)})});return function(Ee,ut){return se.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kc{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function so(x,v,I,k,se,Ee){Ze(x.config.authDomain,x,"auth-domain-config-required"),Ze(x.config.apiKey,x,"invalid-api-key");const ut={apiKey:x.config.apiKey,appName:x.name,authType:I,redirectUrl:k,v:ce.MF,eventId:se};if(v instanceof rs){v.setDefaultLanguage(x.languageCode),ut.providerId=v.providerId||"",(0,D.Im)(v.getCustomParameters())||(ut.customParameters=JSON.stringify(v.getCustomParameters()));for(const[En,Xn]of Object.entries(Ee||{}))ut[En]=Xn}if(v instanceof cr){const En=v.getScopes().filter(Xn=>""!==Xn);En.length>0&&(ut.scopes=En.join(","))}x.tenantId&&(ut.tid=x.tenantId);const Wt=ut;for(const En of Object.keys(Wt))void 0===Wt[En]&&delete Wt[En];return`${function Oc({config:x}){return x.emulator?Je(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,D.Am)(Wt).slice(1)}`}const Ci="webStorageSupport",ou=class Sl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=Gc,this._overrideRedirectResult=yn}_openPopup(v,I,k,se){var Ee=this;return(0,p.A)(function*(){var ut;Lt(null===(ut=Ee.eventManagers[v._key()])||void 0===ut?void 0:ut.manager,"_initialize() not called before _openPopup()");const Wt=so(v,I,k,Jt(),se);return function Tl(x,v,I,k=500,se=600){const Ee=Math.max((window.screen.availHeight-se)/2,0).toString(),ut=Math.max((window.screen.availWidth-k)/2,0).toString();let Wt="";const En=Object.assign(Object.assign({},ll),{width:k.toString(),height:se.toString(),top:Ee,left:ut}),Xn=(0,D.ZQ)().toLowerCase();I&&(Wt=Ke(Xn)?"_blank":I),re(Xn)&&(v=v||"http://localhost",En.scrollbars="yes");const Tr=Object.entries(En).reduce((Ia,[Oa,xa])=>`${Ia}${Oa}=${xa},`,"");if(function ti(x=(0,D.ZQ)()){var v;return Cn(x)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(Xn)&&"_self"!==Wt)return function zc(x,v){const I=document.createElement("a");I.href=x,I.target=v;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(k)}(v||"",Wt),new Kc(null);const pi=window.open(v||"",Wt,Tr);Ze(pi,x,"popup-blocked");try{pi.focus()}catch{}return new Kc(pi)}(v,Wt,ci())})()}_openRedirect(v,I,k,se){var Ee=this;return(0,p.A)(function*(){return yield Ee._originValidation(v),function Pn(x){Xr().location.href=x}(so(v,I,k,Jt(),se)),new Promise(()=>{})})()}_initialize(v){const I=v._key();if(this.eventManagers[I]){const{manager:se,promise:Ee}=this.eventManagers[I];return se?Promise.resolve(se):(Lt(Ee,"If manager is not set, promise should be"),Ee)}const k=this.initAndGetManager(v);return this.eventManagers[I]={promise:k},k.catch(()=>{delete this.eventManagers[I]}),k}initAndGetManager(v){var I=this;return(0,p.A)(function*(){const k=yield function wl(x){return Ac.apply(this,arguments)}(v),se=new kn(v);return k.register("authEvent",Ee=>(Ze(Ee?.authEvent,v,"invalid-auth-event"),{status:se.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[v._key()]={manager:se},I.iframes[v._key()]=k,se})()}_isIframeWebStorageSupported(v,I){this.iframes[v._key()].send(Ci,{type:Ci},se=>{var Ee;const ut=null===(Ee=se?.[0])||void 0===Ee?void 0:Ee[Ci];void 0!==ut&&I(!!ut),qt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const I=v._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function wu(x){return Ni.apply(this,arguments)}(v)),this.originValidationPromises[I]}get _shouldInitProactively(){return ui()||Ae()||Cn()}};var hl="@firebase/auth";class Os{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var I=this;return(0,p.A)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const I=this.auth.onIdTokenChanged(k=>{v(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,I),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const I=this.internalListeners.get(v);I&&(this.internalListeners.delete(v),I(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Na=(0,D.XA)("authIdTokenMaxAge")||300;let bl=null;const xc=x=>function(){var v=(0,p.A)(function*(I){const k=I&&(yield I.getIdTokenResult()),se=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(se&&se>Na)return;const Ee=k?.token;bl!==Ee&&(bl=Ee,yield fetch(x,{method:Ee?"POST":"DELETE",headers:Ee?{Authorization:`Bearer ${Ee}`}:{}}))});return function(I){return v.apply(this,arguments)}}();function fl(x=(0,ce.Sx)()){const v=(0,ce.j6)(x,"auth");if(v.isInitialized())return v.getImmediate();const I=function et(x,v){const I=(0,ce.j6)(x,"auth");if(I.isInitialized()){const se=I.getImmediate(),Ee=I.getOptions();if((0,D.bD)(Ee,v??{}))return se;qt(se,"already-initialized")}return I.initialize({options:v})}(x,{popupRedirectResolver:ou,persistence:[Ra,Bo,jo]}),k=(0,D.XA)("authTokenSyncURL");if(k){const Ee=xc(k);(function Zi(x,v,I){(0,D.Ku)(x).beforeAuthStateChanged(v,I)})(I,Ee,()=>Ee(I.currentUser)),function ja(x,v,I,k){(0,D.Ku)(x).onIdTokenChanged(v,I,k)}(I,ut=>Ee(ut))}const se=(0,D.Tj)("auth");return se&&function hn(x,v,I){const k=cn(x);Ze(k._canInitEmulator,k,"emulator-config-failed"),Ze(/^https?:\/\//.test(v),k,"invalid-emulator-scheme");const se=!!I?.disableWarnings,Ee=_r(v),{host:ut,port:Wt}=function Hr(x){const v=_r(x),I=/(\/\/)?([^?#/]+)/.exec(x.substr(v.length));if(!I)return{host:"",port:null};const k=I[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(k);if(se){const Ee=se[1];return{host:Ee,port:ni(k.substr(Ee.length+1))}}{const[Ee,ut]=k.split(":");return{host:Ee,port:ni(ut)}}}(v);k.config.emulator={url:`${Ee}//${ut}${null===Wt?"":`:${Wt}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:ut,port:Wt,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function ai(){function x(){const v=document.createElement("p"),I=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(I,`http://${se}`),I}!function Ea(x){(0,ce.om)(new ie.uA("auth",(v,{options:I})=>{const k=v.getProvider("app").getImmediate(),se=v.getProvider("heartbeat"),{apiKey:Ee,authDomain:ut}=k.options;return((Wt,En)=>{Ze(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:Wt.name}),Ze(!ut?.includes(":"),"argument-error",{appName:Wt.name});const Xn={apiKey:Ee,authDomain:ut,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yt(x)},Tr=new jt(Wt,En,Xn);return function on(x,v){const I=v?.persistence||[],k=(Array.isArray(I)?I:[I]).map(Nt);v?.errorMap&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(k,v?.popupRedirectResolver)}(Tr,I),Tr})(k,se)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,I,k)=>{v.getProvider("auth-internal").initialize()})),(0,ce.om)(new ie.uA("auth-internal",v=>{const I=cn(v.getProvider("auth").getImmediate());return new Os(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.KO)(hl,"0.21.3",function oc(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,ce.KO)(hl,"0.21.3","esm2017")}("Browser")},5891:(St,Re,w)=>{w.d(Re,{jf:()=>ls,Jt:()=>Gu,C3:()=>vn,GV:()=>xr,AU:()=>Id,yX:()=>Gl,Zy:()=>zl,VC:()=>gc,KR:()=>Xa,TF:()=>Kl,O5:()=>Ei,hZ:()=>Pa,yo:()=>Wu});var p=w(467),D=w(7852),ce=w(1362),H=w(1076),Z=w(8041);const ie="@firebase/database";let Y="";class ne{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,h){null==h?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,H.As)(h))}get(u){const h=this.domStorage_.getItem(this.prefixedName_(u));return null==h?null:(0,H.$L)(h)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class le{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,h){null==h?delete this.cache_[u]:this.cache_[u]=h}get(u){return(0,H.gR)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const Te=function(f){try{if(typeof window<"u"&&typeof window[f]<"u"){const u=window[f];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new ne(u)}}catch{}return new le},Ue=Te("localStorage"),Ve=Te("sessionStorage"),Qe=new Z.Vy("@firebase/database"),st=function(){let f=1;return function(){return f++}}(),bt=function(f){const u=(0,H.kj)(f),h=new H.gz;h.update(u);const _=h.digest();return H.K3.encodeByteArray(_)},vt=function(...f){let u="";for(let h=0;h<f.length;h++){const _=f[h];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?u+=vt.apply(null,_):u+="object"==typeof _?(0,H.As)(_):_,u+=" "}return u};let wt=null,qt=!0;const qe=function(...f){if(!0===qt&&(qt=!1,null===wt&&!0===Ve.get("logging_enabled")&&function(f,u){(0,H.vA)(!u||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Qe.logLevel=Z.$b.VERBOSE,wt=Qe.log.bind(Qe),u&&Ve.set("logging_enabled",!0)):"function"==typeof f?wt=f:(wt=null,Ve.remove("logging_enabled"))}(!0)),wt){const u=vt.apply(null,f);wt(u)}},nn=function(f){return function(...u){qe(f,...u)}},Bt=function(...f){const u="FIREBASE INTERNAL ERROR: "+vt(...f);Qe.error(u)},Ze=function(...f){const u=`FIREBASE FATAL ERROR: ${vt(...f)}`;throw Qe.error(u),new Error(u)},Gt=function(...f){const u="FIREBASE WARNING: "+vt(...f);Qe.warn(u)},wn=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},et="[MIN_NAME]",on="[MAX_NAME]",Jt=function(f,u){if(f===u)return 0;if(f===et||u===on)return-1;if(u===et||f===on)return 1;{const h=mt(f),_=mt(u);return null!==h?null!==_?h-_==0?f.length-u.length:h-_:-1:null!==_?1:f<u?-1:1}},$n=function(f,u){return f===u?0:f<u?-1:1},br=function(f,u){if(u&&f in u)return u[f];throw new Error("Missing required key ("+f+") in object: "+(0,H.As)(u))},Nr=function(f){if("object"!=typeof f||null===f)return(0,H.As)(f);const u=[];for(const _ in f)u.push(_);u.sort();let h="{";for(let _=0;_<u.length;_++)0!==_&&(h+=","),h+=(0,H.As)(u[_]),h+=":",h+=Nr(f[u[_]]);return h+="}",h},bi=function(f,u){const h=f.length;if(h<=u)return[f];const _=[];for(let O=0;O<h;O+=u)_.push(f.substring(O,O+u>h?h:O+u));return _};function mr(f,u){for(const h in f)f.hasOwnProperty(h)&&u(h,f[h])}const Je=function(f){(0,H.vA)(!wn(f),"Invalid JSON number");const _=1023;let O,B,Q,ae,Ce;0===f?(B=0,Q=0,O=1/f==-1/0?1:0):(O=f<0,(f=Math.abs(f))>=Math.pow(2,1-_)?(ae=Math.min(Math.floor(Math.log(f)/Math.LN2),_),B=ae+_,Q=Math.round(f*Math.pow(2,52-ae)-Math.pow(2,52))):(B=0,Q=Math.round(f/Math.pow(2,-1074))));const Ne=[];for(Ce=52;Ce;Ce-=1)Ne.push(Q%2?1:0),Q=Math.floor(Q/2);for(Ce=11;Ce;Ce-=1)Ne.push(B%2?1:0),B=Math.floor(B/2);Ne.push(O?1:0),Ne.reverse();const ot=Ne.join("");let Ct="";for(Ce=0;Ce<64;Ce+=8){let kt=parseInt(ot.substr(Ce,8),2).toString(16);1===kt.length&&(kt="0"+kt),Ct+=kt}return Ct.toLowerCase()},It=new RegExp("^-?(0*)\\d{1,10}$"),mt=function(f){if(It.test(f)){const u=Number(f);if(u>=-2147483648&&u<=2147483647)return u}return null},it=function(f){try{f()}catch(u){setTimeout(()=>{throw Gt("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},ht=function(f,u){const h=setTimeout(f,u);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class Mt{constructor(u,h){this.appName_=u,this.appCheckProvider=h,this.appCheck=h?.getImmediate({optional:!0}),this.appCheck||h?.get().then(_=>this.appCheck=_)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((h,_)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(h,_):h(null)},0)})}addTokenChangeListener(u){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(_=>_.addTokenListener(u))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bn{constructor(u,h,_){this.appName_=u,this.firebaseOptions_=h,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(O=>this.auth_=O)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(h=>h&&"auth/token-not-initialized"===h.code?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,_)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(h,_):h(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(h=>h.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(h=>h.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(u)}}let In=(()=>{class f{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return f.OWNER="owner",f})();const Qt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zr="websocket",Hn="long_polling";class Wn{constructor(u,h,_,O,B=!1,Q="",ae=!1,Ce=!1){this.secure=h,this.namespace=_,this.webSocketOnly=O,this.nodeAdmin=B,this.persistenceKey=Q,this.includeNamespaceInQueryParams=ae,this.isUsingEmulator=Ce,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ue.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Ue.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Er(f,u,h){let _;if((0,H.vA)("string"==typeof u,"typeof type must == string"),(0,H.vA)("object"==typeof h,"typeof params must == object"),u===zr)_=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(u!==Hn)throw new Error("Unknown connection type: "+u);_=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function Ki(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(h.ns=f.namespace);const O=[];return mr(h,(B,Q)=>{O.push(B+"="+Q)}),_+O.join("&")}class oi{constructor(){this.counters_={}}incrementCounter(u,h=1){(0,H.gR)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=h}get(){return(0,H.A4)(this.counters_)}}const Oi={},li={};function fs(f){const u=f.toString();return Oi[u]||(Oi[u]=new oi),Oi[u]}class Us{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,h){this.closeAfterResponse=u,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,h){for(this.pendingResponses[u]=h;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let O=0;O<_.length;++O)_[O]&&it(()=>{this.onMessage_(_[O])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vt{constructor(u,h,_,O,B,Q,ae){this.connId=u,this.repoInfo=h,this.applicationId=_,this.appCheckToken=O,this.authToken=B,this.transportSessionId=Q,this.lastSessionId=ae,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nn(u),this.stats_=fs(h),this.urlFn=Ce=>(this.appCheckToken&&(Ce.ac=this.appCheckToken),Er(h,Hn,Ce))}open(u,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new Us(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,H.$g)()||"complete"===document.readyState)f();else{let u=!1;const h=function(){document.body?u||(u=!0,f()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rn((...B)=>{const[Q,ae,Ce,Ne,ot]=B;if(this.incrementIncomingBytes_(B),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Q)this.id=ae,this.password=Ce;else{if("close"!==Q)throw new Error("Unrecognized command received: "+Q);ae?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ae,()=>{this.onClosed_()})):this.onClosed_()}},(...B)=>{const[Q,ae]=B;this.incrementIncomingBytes_(B),this.myPacketOrderer.handleResponse(Q,ae)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Qt.test(location.hostname)&&(_.r="f");const O=this.urlFn(_);this.log_("Connecting via long-poll to "+O),this.scriptTagHolder.addTag(O,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vt.forceAllow_=!0}static forceDisallow(){Vt.forceDisallow_=!0}static isAvailable(){return!((0,H.$g)()||!Vt.forceAllow_&&(Vt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const h=(0,H.As)(u);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const _=(0,H.KA)(h),O=bi(_,1840);for(let B=0;B<O.length;B++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,O.length,O[B]),this.curSegmentNum++}addDisconnectPingFrame(u,h){if((0,H.$g)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=u,_.pw=h,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const h=(0,H.As)(u).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class Rn{constructor(u,h,_,O){if(this.onDisconnect=_,this.urlFn=O,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.$g)())this.commandCB=u,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=st(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=Rn.createIFrame_();let B="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(B='<script>document.domain="'+document.domain+'";<\/script>');const Q="<html><body>"+B+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Q),this.myIFrame.doc.close()}catch(ae){qe("frame writing exception"),ae.stack&&qe(ae.stack),qe(ae)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||qe("No IE domain setting required")}catch{const _=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,h){for(this.myID=u,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let h=this.urlFn(u),_="",O=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const Q=this.pendingSegs.shift();_=_+"&seg"+O+"="+Q.seg+"&ts"+O+"="+Q.ts+"&d"+O+"="+Q.d,O++}return h+=_,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(u,h,_){this.pendingSegs.push({seg:u,ts:h,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(u,h){this.outstandingRequests.add(h);const _=()=>{this.outstandingRequests.delete(h),this.newRequest_()},O=setTimeout(_,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(O),_()})}addTag(u,h){(0,H.$g)()?this.doNodeLongPoll(u,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=u,_.onload=_.onreadystatechange=function(){const O=_.readyState;(!O||"loaded"===O||"complete"===O)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),h())},_.onerror=()=>{qe("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let Cn=null;typeof MozWebSocket<"u"?Cn=MozWebSocket:typeof WebSocket<"u"&&(Cn=WebSocket);let Jr=(()=>{class f{constructor(h,_,O,B,Q,ae,Ce){this.connId=h,this.applicationId=O,this.appCheckToken=B,this.authToken=Q,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nn(this.connId),this.stats_=fs(_),this.connURL=f.connectionURL_(_,ae,Ce,B,O),this.nodeAdmin=_.nodeAdmin}static connectionURL_(h,_,O,B,Q){const ae={v:"5"};return!(0,H.$g)()&&typeof location<"u"&&location.hostname&&Qt.test(location.hostname)&&(ae.r="f"),_&&(ae.s=_),O&&(ae.ls=O),B&&(ae.ac=B),Q&&(ae.p=Q),Er(h,zr,ae)}open(h,_){this.onDisconnect=_,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ue.set("previous_websocket_failure",!0);try{let O;if((0,H.$g)()){O={headers:{"User-Agent":`Firebase/5/${Y}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(O.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(O.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Q=process.env,ae=0===this.connURL.indexOf("wss://")?Q.HTTPS_PROXY||Q.https_proxy:Q.HTTP_PROXY||Q.http_proxy;ae&&(O.proxy={origin:ae})}this.mySock=new Cn(this.connURL,[],O)}catch(O){this.log_("Error instantiating WebSocket.");const B=O.message||O.data;return B&&this.log_(B),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=O=>{this.handleIncomingFrame(O)},this.mySock.onerror=O=>{this.log_("WebSocket error.  Closing connection.");const B=O.message||O.data;B&&this.log_(B),this.onClosed_()}}start(){}static forceDisallow(){f.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const O=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);O&&O.length>1&&parseFloat(O[1])<4.4&&(h=!0)}return!h&&null!==Cn&&!f.forceDisallow_}static previouslyFailed(){return Ue.isInMemoryStorage||!0===Ue.get("previous_websocket_failure")}markConnectionHealthy(){Ue.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const O=(0,H.$L)(_);this.onMessage(O)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,H.vA)(null===this.frames,"We already have a frame buffer"),h.length<=6){const _=Number(h);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const _=h.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const O=this.extractFrameCount_(_);null!==O&&this.appendFrame_(O)}}send(h){this.resetKeepAlive();const _=(0,H.As)(h);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const O=bi(_,16384);O.length>1&&this.sendString_(String(O.length));for(let B=0;B<O.length;B++)this.sendString_(O[B])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f})(),ti=(()=>{class f{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[Vt,Jr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const _=Jr&&Jr.isAvailable();let O=_&&!Jr.previouslyFailed();if(h.webSocketOnly&&(_||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),O=!0),O)this.transports_=[Jr];else{const B=this.transports_=[];for(const Q of f.ALL_TRANSPORTS)Q&&Q.isAvailable()&&B.push(Q);f.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return f.globalTransportInitialized_=!1,f})();class Ds{constructor(u,h,_,O,B,Q,ae,Ce,Ne,ot){this.id=u,this.repoInfo_=h,this.applicationId_=_,this.appCheckToken_=O,this.authToken_=B,this.onMessage_=Q,this.onReady_=ae,this.onDisconnect_=Ce,this.onKill_=Ne,this.lastSessionId=ot,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nn("c:"+this.id+":"),this.transportManager_=new ti(h),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,_)},Math.floor(0));const O=u.healthyTimeout||0;O>0&&(this.healthyTimeout_=ht(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(O)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return h=>{u===this.conn_?this.onConnectionLost_(h):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return h=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(h):u===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const h=u.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const h=br("t",u),_=br("d",u);if("c"===h)this.onSecondaryControl_(_);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const h=br("t",u),_=br("d",u);"c"===h?this.onControl_(_):"d"===h&&this.onDataMessage_(_)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const h=br("t",u);if("d"in u){const _=u.d;if("h"===h){const O=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(O.h=this.repoInfo_.host),this.onHandshake_(O)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let O=0;O<this.pendingDataMessages.length;++O)this.onDataMessage_(this.pendingDataMessages[O]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(_):"r"===h?this.onReset_(_):"e"===h?Bt("Server Error: "+_):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bt("Unknown control packet command: "+h)}}onHandshake_(u){const h=u.ts,_=u.v,O=u.h;this.sessionId=u.s,this.repoInfo_.host=O,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==_&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,_),ht(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,h){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ht(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ue.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Zs{put(u,h,_,O){}merge(u,h,_,O){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,h,_){}onDisconnectMerge(u,h,_){}onDisconnectCancel(u,h){}reportStats(u){}}class Qi{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,H.vA)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...h){if(Array.isArray(this.listeners_[u])){const _=[...this.listeners_[u]];for(let O=0;O<_.length;O++)_[O].callback.apply(_[O].context,h)}}on(u,h,_){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:h,context:_});const O=this.getInitialEvent(u);O&&h.apply(_,O)}off(u,h,_){this.validateEventType_(u);const O=this.listeners_[u]||[];for(let B=0;B<O.length;B++)if(O[B].callback===h&&(!_||_===O[B].context))return void O.splice(B,1)}validateEventType_(u){(0,H.vA)(this.allowedEvents_.find(h=>h===u),"Unknown event: "+u)}}class Jn extends Qi{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jn}getInitialEvent(u){return(0,H.vA)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class me{constructor(u,h){if(void 0===h){this.pieces_=u.split("/");let _=0;for(let O=0;O<this.pieces_.length;O++)this.pieces_[O].length>0&&(this.pieces_[_]=this.pieces_[O],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=h}toString(){let u="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(u+="/"+this.pieces_[h]);return u||"/"}}function we(){return new me("")}function Be(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function Tt(f){return f.pieces_.length-f.pieceNum_}function Rt(f){let u=f.pieceNum_;return u<f.pieces_.length&&u++,new me(f.pieces_,u)}function Xt(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function Dn(f,u=0){return f.pieces_.slice(f.pieceNum_+u)}function Qr(f){if(f.pieceNum_>=f.pieces_.length)return null;const u=[];for(let h=f.pieceNum_;h<f.pieces_.length-1;h++)u.push(f.pieces_[h]);return new me(u,0)}function Kn(f,u){const h=[];for(let _=f.pieceNum_;_<f.pieces_.length;_++)h.push(f.pieces_[_]);if(u instanceof me)for(let _=u.pieceNum_;_<u.pieces_.length;_++)h.push(u.pieces_[_]);else{const _=u.split("/");for(let O=0;O<_.length;O++)_[O].length>0&&h.push(_[O])}return new me(h,0)}function ln(f){return f.pieceNum_>=f.pieces_.length}function zn(f,u){const h=Be(f),_=Be(u);if(null===h)return u;if(h===_)return zn(Rt(f),Rt(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+f+")")}function di(f,u){const h=Dn(f,0),_=Dn(u,0);for(let O=0;O<h.length&&O<_.length;O++){const B=Jt(h[O],_[O]);if(0!==B)return B}return h.length===_.length?0:h.length<_.length?-1:1}function vi(f,u){if(Tt(f)!==Tt(u))return!1;for(let h=f.pieceNum_,_=u.pieceNum_;h<=f.pieces_.length;h++,_++)if(f.pieces_[h]!==u.pieces_[_])return!1;return!0}function jn(f,u){let h=f.pieceNum_,_=u.pieceNum_;if(Tt(f)>Tt(u))return!1;for(;h<f.pieces_.length;){if(f.pieces_[h]!==u.pieces_[_])return!1;++h,++_}return!0}class Wr{constructor(u,h){this.errorPrefix_=h,this.parts_=Dn(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,H.OE)(this.parts_[_]);ii(this)}}function ii(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ye(f))}function ye(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}class tt extends Qi{constructor(){let u,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const _=!document[u];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new tt}getInitialEvent(u){return(0,H.vA)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Ge=1e3;let Ta,xi=(()=>{class f extends Zs{constructor(h,_,O,B,Q,ae,Ce,Ne){if(super(),this.repoInfo_=h,this.applicationId_=_,this.onDataUpdate_=O,this.onConnectStatus_=B,this.onServerInfoUpdate_=Q,this.authTokenProvider_=ae,this.appCheckTokenProvider_=Ce,this.authOverride_=Ne,this.id=f.nextPersistentConnectionId_++,this.log_=nn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ge,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ne&&!(0,H.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tt.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&Jn.getInstance().on("online",this.onOnline_,this)}sendRequest(h,_,O){const B=++this.requestNumber_,Q={r:B,a:h,b:_};this.log_((0,H.As)(Q)),(0,H.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Q),O&&(this.requestCBHash_[B]=O)}get(h){this.initConnection_();const _=new H.cY,B={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:ae=>{const Ce=ae.d;"ok"===ae.s?_.resolve(Ce):_.reject(Ce)}};return this.outstandingGets_.push(B),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(h,_,O,B){this.initConnection_();const Q=h._queryIdentifier,ae=h._path.toString();this.log_("Listen called for "+ae+" "+Q),this.listens.has(ae)||this.listens.set(ae,new Map),(0,H.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.vA)(!this.listens.get(ae).has(Q),"listen() called twice for same path/queryId.");const Ce={onComplete:B,hashFn:_,query:h,tag:O};this.listens.get(ae).set(Q,Ce),this.connected_&&this.sendListen_(Ce)}sendGet_(h){const _=this.outstandingGets_[h];this.sendRequest("g",_.request,O=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(O)})}sendListen_(h){const _=h.query,O=_._path.toString(),B=_._queryIdentifier;this.log_("Listen on "+O+" for "+B);const Q={p:O};h.tag&&(Q.q=_._queryObject,Q.t=h.tag),Q.h=h.hashFn(),this.sendRequest("q",Q,Ce=>{const Ne=Ce.d,ot=Ce.s;f.warnOnListenWarnings_(Ne,_),(this.listens.get(O)&&this.listens.get(O).get(B))===h&&(this.log_("listen response",Ce),"ok"!==ot&&this.removeListen_(O,B),h.onComplete&&h.onComplete(ot,Ne))})}static warnOnListenWarnings_(h,_){if(h&&"object"==typeof h&&(0,H.gR)(h,"w")){const O=(0,H.yw)(h,"w");if(Array.isArray(O)&&~O.indexOf("no_index")){const B='".indexOn": "'+_._queryParams.getIndex().toString()+'"',Q=_._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${B} at ${Q} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,H.qc)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,_=(0,H.Cv)(h)?"auth":"gauth",O={cred:h};null===this.authOverride_?O.noauth=!0:"object"==typeof this.authOverride_&&(O.authvar=this.authOverride_),this.sendRequest(_,O,B=>{const Q=B.s,ae=B.d||"error";this.authToken_===h&&("ok"===Q?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Q,ae))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const _=h.s,O=h.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,O)})}unlisten(h,_){const O=h._path.toString(),B=h._queryIdentifier;this.log_("Unlisten called for "+O+" "+B),(0,H.vA)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(O,B)&&this.connected_&&this.sendUnlisten_(O,B,h._queryObject,_)}sendUnlisten_(h,_,O,B){this.log_("Unlisten on "+h+" for "+_);const Q={p:h};B&&(Q.q=O,Q.t=B),this.sendRequest("n",Q)}onDisconnectPut(h,_,O){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,_,O):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:_,onComplete:O})}onDisconnectMerge(h,_,O){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,_,O):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:_,onComplete:O})}onDisconnectCancel(h,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,_):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(h,_,O,B){const Q={p:_,d:O};this.log_("onDisconnect "+h,Q),this.sendRequest(h,Q,ae=>{B&&setTimeout(()=>{B(ae.s,ae.d)},Math.floor(0))})}put(h,_,O,B){this.putInternal("p",h,_,O,B)}merge(h,_,O,B){this.putInternal("m",h,_,O,B)}putInternal(h,_,O,B,Q){this.initConnection_();const ae={p:_,d:O};void 0!==Q&&(ae.h=Q),this.outstandingPuts_.push({action:h,request:ae,onComplete:B}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(h){const _=this.outstandingPuts_[h].action,O=this.outstandingPuts_[h].request,B=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(_,O,Q=>{this.log_(_+" response",Q),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),B&&B(Q.s,Q.d)})}reportStats(h){if(this.connected_){const _={c:h};this.log_("reportStats",_),this.sendRequest("s",_,O=>{"ok"!==O.s&&this.log_("reportStats","Error sending stats: "+O.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,H.As)(h));const _=h.r,O=this.requestCBHash_[_];O&&(delete this.requestCBHash_[_],O(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,_){this.log_("handleServerMessage",h,_),"d"===h?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===h?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===h?this.onListenRevoked_(_.p,_.q):"ac"===h?this.onAuthRevoked_(_.s,_.d):"apc"===h?this.onAppCheckRevoked_(_.s,_.d):"sd"===h?this.onSecurityDebugPacket_(_):Bt("Unrecognized action received from server: "+(0,H.As)(h)+"\nAre you using the latest client?")}onReady_(h,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,H.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ge,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=Ge,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ge),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-h);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,p.A)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const _=h.onDataMessage_.bind(h),O=h.onReady_.bind(h),B=h.onRealtimeDisconnect_.bind(h),Q=h.id+":"+f.nextConnectionId_++,ae=h.lastSessionId;let Ce=!1,Ne=null;const ot=function(){Ne?Ne.close():(Ce=!0,B())};h.realtime_={close:ot,sendRequest:function(fn){(0,H.vA)(Ne,"sendRequest call when we're not connected not allowed."),Ne.sendRequest(fn)}};const kt=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[fn,Vn]=yield Promise.all([h.authTokenProvider_.getToken(kt),h.appCheckTokenProvider_.getToken(kt)]);Ce?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),h.authToken_=fn&&fn.accessToken,h.appCheckToken_=Vn&&Vn.token,Ne=new Ds(Q,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,_,O,B,ur=>{Gt(ur+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},ae))}catch(fn){h.log_("Failed to get token: "+fn),Ce||(h.repoInfo_.nodeAdmin&&Gt(fn),ot())}}})()}interrupt(h){qe("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){qe("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,H.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Ge,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const _=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const _=this.outstandingPuts_[h];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,_){let O;O=_?_.map(Q=>Nr(Q)).join("$"):"default";const B=this.removeListen_(h,O);B&&B.onComplete&&B.onComplete("permission_denied")}removeListen_(h,_){const O=new me(h).toString();let B;if(this.listens.has(O)){const Q=this.listens.get(O);B=Q.get(_),Q.delete(_),0===Q.size&&this.listens.delete(O)}else B=void 0;return B}onAuthRevoked_(h,_){qe("Auth token revoked: "+h+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,_){qe("App check token revoked: "+h+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const _ of h.values())this.sendListen_(_);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let _="js";(0,H.$g)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+_+"."+Y.replace(/\./g,"-")]=1,(0,H.jZ)()?h["framework.cordova"]=1:(0,H.lV)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=Jn.getInstance().currentlyOnline();return(0,H.Im)(this.interruptReasons_)&&h}}return f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f})();class gn{constructor(u,h){this.name=u,this.node=h}static Wrap(u,h){return new gn(u,h)}}class dr{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,h){const _=new gn(et,u),O=new gn(et,h);return 0!==this.compare(_,O)}minPost(){return gn.MIN}}class Ps extends dr{static get __EMPTY_NODE(){return Ta}static set __EMPTY_NODE(u){Ta=u}compare(u,h){return Jt(u.name,h.name)}isDefinedOn(u){throw(0,H.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,h){return!1}minPost(){return gn.MIN}maxPost(){return new gn(on,Ta)}makePost(u,h){return(0,H.vA)("string"==typeof u,"KeyIndex indexValue must always be a string."),new gn(u,Ta)}toString(){return".key"}}const Ii=new Ps;class ks{constructor(u,h,_,O,B=null){this.isReverse_=O,this.resultGenerator_=B,this.nodeStack_=[];let Q=1;for(;!u.isEmpty();)if(Q=h?_(u.key,h):1,O&&(Q*=-1),Q<0)u=this.isReverse_?u.left:u.right;else{if(0===Q){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,u=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let ws,Hi=(()=>{class f{constructor(h,_,O,B,Q){this.key=h,this.value=_,this.color=O??f.RED,this.left=B??cr.EMPTY_NODE,this.right=Q??cr.EMPTY_NODE}copy(h,_,O,B,Q){return new f(h??this.key,_??this.value,O??this.color,B??this.left,Q??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,_,O){let B=this;const Q=O(h,B.key);return B=Q<0?B.copy(null,null,null,B.left.insert(h,_,O),null):0===Q?B.copy(null,_,null,null,null):B.copy(null,null,null,null,B.right.insert(h,_,O)),B.fixUp_()}removeMin_(){if(this.left.isEmpty())return cr.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,_){let O,B;if(O=this,_(h,O.key)<0)!O.left.isEmpty()&&!O.left.isRed_()&&!O.left.left.isRed_()&&(O=O.moveRedLeft_()),O=O.copy(null,null,null,O.left.remove(h,_),null);else{if(O.left.isRed_()&&(O=O.rotateRight_()),!O.right.isEmpty()&&!O.right.isRed_()&&!O.right.left.isRed_()&&(O=O.moveRedRight_()),0===_(h,O.key)){if(O.right.isEmpty())return cr.EMPTY_NODE;B=O.right.min_(),O=O.copy(B.key,B.value,null,null,O.right.removeMin_())}O=O.copy(null,null,null,null,O.right.remove(h,_))}return O.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,_)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return f.RED=!0,f.BLACK=!1,f})();class cr{constructor(u,h=cr.EMPTY_NODE){this.comparator_=u,this.root_=h}insert(u,h){return new cr(this.comparator_,this.root_.insert(u,h,this.comparator_).copy(null,null,Hi.BLACK,null,null))}remove(u){return new cr(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Hi.BLACK,null,null))}get(u){let h,_=this.root_;for(;!_.isEmpty();){if(h=this.comparator_(u,_.key),0===h)return _.value;h<0?_=_.left:h>0&&(_=_.right)}return null}getPredecessorKey(u){let h,_=this.root_,O=null;for(;!_.isEmpty();){if(h=this.comparator_(u,_.key),0===h){if(_.left.isEmpty())return O?O.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}h<0?_=_.left:h>0&&(O=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new ks(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,h){return new ks(this.root_,u,this.comparator_,!1,h)}getReverseIteratorFrom(u,h){return new ks(this.root_,u,this.comparator_,!0,h)}getReverseIterator(u){return new ks(this.root_,null,this.comparator_,!0,u)}}function Ui(f,u){return Jt(f.name,u.name)}function Bs(f,u){return Jt(f,u)}cr.EMPTY_NODE=new class rs{copy(u,h,_,O,B){return this}insert(u,h,_){return new Hi(u,h,null)}remove(u,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const aa=function(f){return"number"==typeof f?"number:"+Je(f):"string:"+f},Wi=function(f){if(f.isLeafNode()){const u=f.val();(0,H.vA)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,H.gR)(u,".sv"),"Priority must be a string or number.")}else(0,H.vA)(f===ws||f.isEmpty(),"priority of unexpected type.");(0,H.vA)(f===ws||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wo,tc,dn,hi=(()=>{class f{constructor(h,_=f.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=_,this.lazyHash_=null,(0,H.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Wi(this.priorityNode_)}static set __childrenNodeConstructor(h){wo=h}static get __childrenNodeConstructor(){return wo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new f(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return ln(h)?this:".priority"===Be(h)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,_){return null}updateImmediateChild(h,_){return".priority"===h?this.updatePriority(_):_.isEmpty()&&".priority"!==h?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,_).updatePriority(this.priorityNode_)}updateChild(h,_){const O=Be(h);return null===O?_:_.isEmpty()&&".priority"!==O?this:((0,H.vA)(".priority"!==O||1===Tt(h),".priority must be the last token in a path"),this.updateImmediateChild(O,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rt(h),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,_){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+aa(this.priorityNode_.val())+":");const _=typeof this.value_;h+=_+":",h+="number"===_?Je(this.value_):this.value_,this.lazyHash_=bt(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===f.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof f.__childrenNodeConstructor?-1:((0,H.vA)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const _=typeof h.value_,O=typeof this.value_,B=f.VALUE_TYPE_ORDER.indexOf(_),Q=f.VALUE_TYPE_ORDER.indexOf(O);return(0,H.vA)(B>=0,"Unknown leaf type: "+_),(0,H.vA)(Q>=0,"Unknown leaf type: "+O),B===Q?"object"===O?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:Q-B}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f})();const si=new class Js extends dr{compare(u,h){const _=u.node.getPriority(),O=h.node.getPriority(),B=_.compareTo(O);return 0===B?Jt(u.name,h.name):B}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,h){return!u.getPriority().equals(h.getPriority())}minPost(){return gn.MIN}maxPost(){return new gn(on,new hi("[PRIORITY-POST]",dn))}makePost(u,h){const _=tc(u);return new gn(h,new hi("[PRIORITY-POST]",_))}toString(){return".priority"}},xo=Math.log(2);class Sa{constructor(u){this.count=parseInt(Math.log(u+1)/xo,10),this.current_=this.count-1;const O=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&O}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const To=function(f,u,h,_){f.sort(u);const O=function(Ce,Ne){const ot=Ne-Ce;let Ct,kt;if(0===ot)return null;if(1===ot)return Ct=f[Ce],kt=h?h(Ct):Ct,new Hi(kt,Ct.node,Hi.BLACK,null,null);{const fn=parseInt(ot/2,10)+Ce,Vn=O(Ce,fn),ur=O(fn+1,Ne);return Ct=f[fn],kt=h?h(Ct):Ct,new Hi(kt,Ct.node,Hi.BLACK,Vn,ur)}},ae=function(Ce){let Ne=null,ot=null,Ct=f.length;const kt=function(Vn,ur){const Co=Ct-Vn,ml=Ct;Ct-=Vn;const Lr=O(Co+1,ml),vc=f[Co],Ca=h?h(vc):vc;fn(new Hi(Ca,vc.node,ur,null,Lr))},fn=function(Vn){Ne?(Ne.left=Vn,Ne=Vn):(ot=Vn,Ne=Vn)};for(let Vn=0;Vn<Ce.count;++Vn){const ur=Ce.nextBitIsOne(),Co=Math.pow(2,Ce.count-(Vn+1));ur?kt(Co,Hi.BLACK):(kt(Co,Hi.BLACK),kt(Co,Hi.RED))}return ot}(new Sa(f.length));return new cr(_||u,ae)};let eo;const ba={};class ms{constructor(u,h){this.indexes_=u,this.indexSet_=h}static get Default(){return(0,H.vA)(ba&&si,"ChildrenNode.ts has not been loaded"),eo=eo||new ms({".priority":ba},{".priority":si}),eo}get(u){const h=(0,H.yw)(this.indexes_,u);if(!h)throw new Error("No index defined for "+u);return h instanceof cr?h:null}hasIndex(u){return(0,H.gR)(this.indexSet_,u.toString())}addIndex(u,h){(0,H.vA)(u!==Ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let O=!1;const B=h.getIterator(gn.Wrap);let ae,Q=B.getNext();for(;Q;)O=O||u.isDefinedOn(Q.node),_.push(Q),Q=B.getNext();ae=O?To(_,u.getCompare()):ba;const Ce=u.toString(),Ne=Object.assign({},this.indexSet_);Ne[Ce]=u;const ot=Object.assign({},this.indexes_);return ot[Ce]=ae,new ms(ot,Ne)}addToIndexes(u,h){const _=(0,H.kH)(this.indexes_,(O,B)=>{const Q=(0,H.yw)(this.indexSet_,B);if((0,H.vA)(Q,"Missing index implementation for "+B),O===ba){if(Q.isDefinedOn(u.node)){const ae=[],Ce=h.getIterator(gn.Wrap);let Ne=Ce.getNext();for(;Ne;)Ne.name!==u.name&&ae.push(Ne),Ne=Ce.getNext();return ae.push(u),To(ae,Q.getCompare())}return ba}{const ae=h.get(u.name);let Ce=O;return ae&&(Ce=Ce.remove(new gn(u.name,ae))),Ce.insert(u,u.node)}});return new ms(_,this.indexSet_)}removeFromIndexes(u,h){const _=(0,H.kH)(this.indexes_,O=>{if(O===ba)return O;{const B=h.get(u.name);return B?O.remove(new gn(u.name,B)):O}});return new ms(_,this.indexSet_)}}let Ts,Un=(()=>{class f{constructor(h,_,O){this.children_=h,this.priorityNode_=_,this.indexMap_=O,this.lazyHash_=null,this.priorityNode_&&Wi(this.priorityNode_),this.children_.isEmpty()&&(0,H.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ts||(Ts=new f(new cr(Bs),null,ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ts}updatePriority(h){return this.children_.isEmpty()?this:new f(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const _=this.children_.get(h);return null===_?Ts:_}}getChild(h){const _=Be(h);return null===_?this:this.getImmediateChild(_).getChild(Rt(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,_){if((0,H.vA)(_,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(_);{const O=new gn(h,_);let B,Q;_.isEmpty()?(B=this.children_.remove(h),Q=this.indexMap_.removeFromIndexes(O,this.children_)):(B=this.children_.insert(h,_),Q=this.indexMap_.addToIndexes(O,this.children_));const ae=B.isEmpty()?Ts:this.priorityNode_;return new f(B,ae,Q)}}updateChild(h,_){const O=Be(h);if(null===O)return _;{(0,H.vA)(".priority"!==Be(h)||1===Tt(h),".priority must be the last token in a path");const B=this.getImmediateChild(O).updateChild(Rt(h),_);return this.updateImmediateChild(O,B)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const _={};let O=0,B=0,Q=!0;if(this.forEachChild(si,(ae,Ce)=>{_[ae]=Ce.val(h),O++,Q&&f.INTEGER_REGEXP_.test(ae)?B=Math.max(B,Number(ae)):Q=!1}),!h&&Q&&B<2*O){const ae=[];for(const Ce in _)ae[Ce]=_[Ce];return ae}return h&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+aa(this.getPriority().val())+":"),this.forEachChild(si,(_,O)=>{const B=O.hash();""!==B&&(h+=":"+_+":"+B)}),this.lazyHash_=""===h?"":bt(h)}return this.lazyHash_}getPredecessorChildName(h,_,O){const B=this.resolveIndex_(O);if(B){const Q=B.getPredecessorKey(new gn(h,_));return Q?Q.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const _=this.resolveIndex_(h);if(_){const O=_.minKey();return O&&O.name}return this.children_.minKey()}getFirstChild(h){const _=this.getFirstChildName(h);return _?new gn(_,this.children_.get(_)):null}getLastChildName(h){const _=this.resolveIndex_(h);if(_){const O=_.maxKey();return O&&O.name}return this.children_.maxKey()}getLastChild(h){const _=this.getLastChildName(h);return _?new gn(_,this.children_.get(_)):null}forEachChild(h,_){const O=this.resolveIndex_(h);return O?O.inorderTraversal(B=>_(B.name,B.node)):this.children_.inorderTraversal(_)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,_){const O=this.resolveIndex_(_);if(O)return O.getIteratorFrom(h,B=>B);{const B=this.children_.getIteratorFrom(h.name,gn.Wrap);let Q=B.peek();for(;null!=Q&&_.compare(Q,h)<0;)B.getNext(),Q=B.peek();return B}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,_){const O=this.resolveIndex_(_);if(O)return O.getReverseIteratorFrom(h,B=>B);{const B=this.children_.getReverseIteratorFrom(h.name,gn.Wrap);let Q=B.peek();for(;null!=Q&&_.compare(Q,h)>0;)B.getNext(),Q=B.peek();return B}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===fi?-1:0}withIndex(h){if(h===Ii||this.indexMap_.hasIndex(h))return this;{const _=this.indexMap_.addIndex(h,this.children_);return new f(this.children_,this.priorityNode_,_)}}isIndexed(h){return h===Ii||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const _=h;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const O=this.getIterator(si),B=_.getIterator(si);let Q=O.getNext(),ae=B.getNext();for(;Q&&ae;){if(Q.name!==ae.name||!Q.node.equals(ae.node))return!1;Q=O.getNext(),ae=B.getNext()}return null===Q&&null===ae}return!1}return!1}}resolveIndex_(h){return h===Ii?null:this.indexMap_.get(h.toString())}}return f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f})();const fi=new class So extends Un{constructor(){super(new cr(Bs),Un.EMPTY_NODE,ms.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return Un.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gn,{MIN:{value:new gn(et,Un.EMPTY_NODE)},MAX:{value:new gn(on,fi)}}),Ps.__EMPTY_NODE=Un.EMPTY_NODE,hi.__childrenNodeConstructor=Un,function oa(f){ws=f}(fi),function qi(f){dn=f}(fi);const bo=!0;function Gr(f,u=null){if(null===f)return Un.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(u=f[".priority"]),(0,H.vA)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new hi(f,Gr(u));if(f instanceof Array||!bo){let h=Un.EMPTY_NODE;return mr(f,(_,O)=>{if((0,H.gR)(f,_)&&"."!==_.substring(0,1)){const B=Gr(O);(B.isLeafNode()||!B.isEmpty())&&(h=h.updateImmediateChild(_,B))}}),h.updatePriority(Gr(u))}{const h=[];let _=!1;if(mr(f,(Q,ae)=>{if("."!==Q.substring(0,1)){const Ce=Gr(ae);Ce.isEmpty()||(_=_||!Ce.getPriority().isEmpty(),h.push(new gn(Q,Ce)))}}),0===h.length)return Un.EMPTY_NODE;const B=To(h,Ui,Q=>Q.name,Bs);if(_){const Q=To(h,si.getCompare());return new Un(B,Gr(u),new ms({".priority":Q},{".priority":si}))}return new Un(B,Gr(u),ms.Default)}}!function is(f){tc=f}(Gr);class Po extends dr{constructor(u){super(),this.indexPath_=u,(0,H.vA)(!ln(u)&&".priority"!==Be(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,h){const _=this.extractChild(u.node),O=this.extractChild(h.node),B=_.compareTo(O);return 0===B?Jt(u.name,h.name):B}makePost(u,h){const _=Gr(u),O=Un.EMPTY_NODE.updateChild(this.indexPath_,_);return new gn(h,O)}maxPost(){const u=Un.EMPTY_NODE.updateChild(this.indexPath_,fi);return new gn(on,u)}toString(){return Dn(this.indexPath_,0).join("/")}}const ko=new class ao extends dr{compare(u,h){const _=u.node.compareTo(h.node);return 0===_?Jt(u.name,h.name):_}isDefinedOn(u){return!0}indexedValueChanged(u,h){return!u.equals(h)}minPost(){return gn.MIN}maxPost(){return gn.MAX}makePost(u,h){const _=Gr(u);return new gn(h,_)}toString(){return".value"}};function La(f){return{type:"value",snapshotNode:f}}function js(f,u){return{type:"child_added",snapshotNode:u,childName:f}}function co(f,u){return{type:"child_removed",snapshotNode:u,childName:f}}function es(f,u,h){return{type:"child_changed",snapshotNode:u,childName:f,oldSnap:h}}class lo{constructor(u){this.index_=u}updateChild(u,h,_,O,B,Q){(0,H.vA)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ae=u.getImmediateChild(h);return ae.getChild(O).equals(_.getChild(O))&&ae.isEmpty()===_.isEmpty()||(null!=Q&&(_.isEmpty()?u.hasChild(h)?Q.trackChildChange(co(h,ae)):(0,H.vA)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ae.isEmpty()?Q.trackChildChange(js(h,_)):Q.trackChildChange(es(h,_,ae))),u.isLeafNode()&&_.isEmpty())?u:u.updateImmediateChild(h,_).withIndex(this.index_)}updateFullNode(u,h,_){return null!=_&&(u.isLeafNode()||u.forEachChild(si,(O,B)=>{h.hasChild(O)||_.trackChildChange(co(O,B))}),h.isLeafNode()||h.forEachChild(si,(O,B)=>{if(u.hasChild(O)){const Q=u.getImmediateChild(O);Q.equals(B)||_.trackChildChange(es(O,B,Q))}else _.trackChildChange(js(O,B))})),h.withIndex(this.index_)}updatePriority(u,h){return u.isEmpty()?Un.EMPTY_NODE:u.updatePriority(h)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class uo{constructor(u){this.indexedFilter_=new lo(u.getIndex()),this.index_=u.getIndex(),this.startPost_=uo.getStartPost_(u),this.endPost_=uo.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const h=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,_=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return h&&_}updateChild(u,h,_,O,B,Q){return this.matches(new gn(h,_))||(_=Un.EMPTY_NODE),this.indexedFilter_.updateChild(u,h,_,O,B,Q)}updateFullNode(u,h,_){h.isLeafNode()&&(h=Un.EMPTY_NODE);let O=h.withIndex(this.index_);O=O.updatePriority(Un.EMPTY_NODE);const B=this;return h.forEachChild(si,(Q,ae)=>{B.matches(new gn(Q,ae))||(O=O.updateImmediateChild(Q,Un.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,O,_)}updatePriority(u,h){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const h=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),h)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const h=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),h)}return u.getIndex().maxPost()}}class ca{constructor(u){this.withinDirectionalStart=h=>this.reverse_?this.withinEndPost(h):this.withinStartPost(h),this.withinDirectionalEnd=h=>this.reverse_?this.withinStartPost(h):this.withinEndPost(h),this.withinStartPost=h=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),h);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=h=>{const _=this.index_.compare(h,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new uo(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,h,_,O,B,Q){return this.rangedFilter_.matches(new gn(h,_))||(_=Un.EMPTY_NODE),u.getImmediateChild(h).equals(_)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,h,_,O,B,Q):this.fullLimitUpdateChild_(u,h,_,B,Q)}updateFullNode(u,h,_){let O;if(h.isLeafNode()||h.isEmpty())O=Un.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){let B;O=Un.EMPTY_NODE.withIndex(this.index_),B=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Q=0;for(;B.hasNext()&&Q<this.limit_;){const ae=B.getNext();if(this.withinDirectionalStart(ae)){if(!this.withinDirectionalEnd(ae))break;O=O.updateImmediateChild(ae.name,ae.node),Q++}}}else{let B;O=h.withIndex(this.index_),O=O.updatePriority(Un.EMPTY_NODE),B=this.reverse_?O.getReverseIterator(this.index_):O.getIterator(this.index_);let Q=0;for(;B.hasNext();){const ae=B.getNext();Q<this.limit_&&this.withinDirectionalStart(ae)&&this.withinDirectionalEnd(ae)?Q++:O=O.updateImmediateChild(ae.name,Un.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,O,_)}updatePriority(u,h){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,h,_,O,B){let Q;if(this.reverse_){const Ct=this.index_.getCompare();Q=(kt,fn)=>Ct(fn,kt)}else Q=this.index_.getCompare();const ae=u;(0,H.vA)(ae.numChildren()===this.limit_,"");const Ce=new gn(h,_),Ne=this.reverse_?ae.getFirstChild(this.index_):ae.getLastChild(this.index_),ot=this.rangedFilter_.matches(Ce);if(ae.hasChild(h)){const Ct=ae.getImmediateChild(h);let kt=O.getChildAfterChild(this.index_,Ne,this.reverse_);for(;null!=kt&&(kt.name===h||ae.hasChild(kt.name));)kt=O.getChildAfterChild(this.index_,kt,this.reverse_);const fn=null==kt?1:Q(kt,Ce);if(ot&&!_.isEmpty()&&fn>=0)return B?.trackChildChange(es(h,_,Ct)),ae.updateImmediateChild(h,_);{B?.trackChildChange(co(h,Ct));const ur=ae.updateImmediateChild(h,Un.EMPTY_NODE);return null!=kt&&this.rangedFilter_.matches(kt)?(B?.trackChildChange(js(kt.name,kt.node)),ur.updateImmediateChild(kt.name,kt.node)):ur}}return _.isEmpty()?u:ot&&Q(Ne,Ce)>=0?(null!=B&&(B.trackChildChange(co(Ne.name,Ne.node)),B.trackChildChange(js(h,_))),ae.updateImmediateChild(h,_).updateImmediateChild(Ne.name,Un.EMPTY_NODE)):u}}class Dr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=si}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:et}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:on}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===si}copy(){const u=new Dr;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function Xi(f){const u={};if(f.isDefault())return u;let h;if(f.index_===si?h="$priority":f.index_===ko?h="$value":f.index_===Ii?h="$key":((0,H.vA)(f.index_ instanceof Po,"Unrecognized index type!"),h=f.index_.toString()),u.orderBy=(0,H.As)(h),f.startSet_){const _=f.startAfterSet_?"startAfter":"startAt";u[_]=(0,H.As)(f.indexStartValue_),f.startNameSet_&&(u[_]+=","+(0,H.As)(f.indexStartName_))}if(f.endSet_){const _=f.endBeforeSet_?"endBefore":"endAt";u[_]=(0,H.As)(f.indexEndValue_),f.endNameSet_&&(u[_]+=","+(0,H.As)(f.indexEndName_))}return f.limitSet_&&(f.isViewFromLeft()?u.limitToFirst=f.limit_:u.limitToLast=f.limit_),u}function Yi(f){const u={};if(f.startSet_&&(u.sp=f.indexStartValue_,f.startNameSet_&&(u.sn=f.indexStartName_),u.sin=!f.startAfterSet_),f.endSet_&&(u.ep=f.indexEndValue_,f.endNameSet_&&(u.en=f.indexEndName_),u.ein=!f.endBeforeSet_),f.limitSet_){u.l=f.limit_;let h=f.viewFrom_;""===h&&(h=f.isViewFromLeft()?"l":"r"),u.vf=h}return f.index_!==si&&(u.i=f.index_.toString()),u}class $s extends Zs{constructor(u,h,_,O){super(),this.repoInfo_=u,this.onDataUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=O,this.log_=nn("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,h){return void 0!==h?"tag$"+h:((0,H.vA)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,h,_,O){const B=u._path.toString();this.log_("Listen called for "+B+" "+u._queryIdentifier);const Q=$s.getListenId_(u,_),ae={};this.listens_[Q]=ae;const Ce=Xi(u._queryParams);this.restRequest_(B+".json",Ce,(Ne,ot)=>{let Ct=ot;if(404===Ne&&(Ct=null,Ne=null),null===Ne&&this.onDataUpdate_(B,Ct,!1,_),(0,H.yw)(this.listens_,Q)===ae){let kt;kt=Ne?401===Ne?"permission_denied":"rest_error:"+Ne:"ok",O(kt,null)}})}unlisten(u,h){const _=$s.getListenId_(u,h);delete this.listens_[_]}get(u){const h=Xi(u._queryParams),_=u._path.toString(),O=new H.cY;return this.restRequest_(_+".json",h,(B,Q)=>{let ae=Q;404===B&&(ae=null,B=null),null===B?(this.onDataUpdate_(_,ae,!1,null),O.resolve(ae)):O.reject(new Error(ae))}),O.promise}refreshAuthToken(u){}restRequest_(u,h={},_){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([O,B])=>{O&&O.accessToken&&(h.auth=O.accessToken),B&&B.token&&(h.ac=B.token);const Q=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,H.Am)(h);this.log_("Sending REST request for "+Q);const ae=new XMLHttpRequest;ae.onreadystatechange=()=>{if(_&&4===ae.readyState){this.log_("REST Response for "+Q+" received. status:",ae.status,"response:",ae.responseText);let Ce=null;if(ae.status>=200&&ae.status<300){try{Ce=(0,H.$L)(ae.responseText)}catch{Gt("Failed to parse JSON response for "+Q+": "+ae.responseText)}_(null,Ce)}else 401!==ae.status&&404!==ae.status&&Gt("Got unsuccessful REST response for "+Q+" Status: "+ae.status),_(ae.status);_=null}},ae.open("GET",Q,!0),ae.send()})}}class cc{constructor(){this.rootNode_=Un.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,h){this.rootNode_=this.rootNode_.updateChild(u,h)}}function to(){return{value:null,children:new Map}}function fo(f,u,h){if(ln(u))f.value=h,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(u,h);else{const _=Be(u);f.children.has(_)||f.children.set(_,to()),fo(f.children.get(_),u=Rt(u),h)}}function ys(f,u){if(ln(u))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const h=f.value;return f.value=null,h.forEachChild(si,(_,O)=>{fo(f,new me(_),O)}),ys(f,u)}}if(f.children.size>0){const h=Be(u);return u=Rt(u),f.children.has(h)&&ys(f.children.get(h),u)&&f.children.delete(h),0===f.children.size}return!0}function Hs(f,u,h){null!==f.value?h(u,f.value):function z(f,u){f.children.forEach((h,_)=>{u(_,h)})}(f,(_,O)=>{Hs(O,new me(u.toString()+"/"+_),h)})}class G{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),h=Object.assign({},u);return this.last_&&mr(this.last_,(_,O)=>{h[_]=h[_]-O}),this.last_=u,h}}class mn{constructor(u,h){this.server_=h,this.statsToReport_={},this.statsListener_=new G(u);const _=1e4+2e4*Math.random();ht(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const u=this.statsListener_.get(),h={};let _=!1;mr(u,(O,B)=>{B>0&&(0,H.gR)(this.statsToReport_,O)&&(h[O]=B,_=!0)}),_&&this.server_.reportStats(h),ht(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ln=function(f){return f[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",f}(Ln||{});function Eo(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}class Qo{constructor(u,h,_){this.path=u,this.affectedTree=h,this.revert=_,this.type=Ln.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,H.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new me(u));return new Qo(we(),h,this.revert)}}return(0,H.vA)(Be(this.path)===u,"operationForChild called for unrelated child."),new Qo(Rt(this.path),this.affectedTree,this.revert)}}class po{constructor(u,h){this.source=u,this.path=h,this.type=Ln.LISTEN_COMPLETE}operationForChild(u){return ln(this.path)?new po(this.source,we()):new po(this.source,Rt(this.path))}}class qo{constructor(u,h,_){this.source=u,this.path=h,this.snap=_,this.type=Ln.OVERWRITE}operationForChild(u){return ln(this.path)?new qo(this.source,we(),this.snap.getImmediateChild(u)):new qo(this.source,Rt(this.path),this.snap)}}class Ss{constructor(u,h,_){this.source=u,this.path=h,this.children=_,this.type=Ln.MERGE}operationForChild(u){if(ln(this.path)){const h=this.children.subtree(new me(u));return h.isEmpty()?null:h.value?new qo(this.source,we(),h.value):new Ss(this.source,we(),h)}return(0,H.vA)(Be(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Ss(this.source,Rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bi{constructor(u,h,_){this.node_=u,this.fullyInitialized_=h,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(ln(u))return this.isFullyInitialized()&&!this.filtered_;const h=Be(u);return this.isCompleteForChild(h)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class Ic{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function ua(f,u,h,_,O,B){const Q=_.filter(ae=>ae.type===h);Q.sort((ae,Ce)=>function Aa(f,u,h){if(null==u.childName||null==h.childName)throw(0,H.Hk)("Should only compare child_ events.");const _=new gn(u.childName,u.snapshotNode),O=new gn(h.childName,h.snapshotNode);return f.index_.compare(_,O)}(f,ae,Ce)),Q.forEach(ae=>{const Ce=function tl(f,u,h){return"value"===u.type||"child_removed"===u.type||(u.prevName=h.getPredecessorChildName(u.childName,u.snapshotNode,f.index_)),u}(f,ae,B);O.forEach(Ne=>{Ne.respondsTo(ae.type)&&u.push(Ne.createEvent(Ce,f.query_))})})}function ki(f,u){return{eventCache:f,serverCache:u}}function Ua(f,u,h,_){return ki(new Bi(u,h,_),f.serverCache)}function Ba(f,u,h,_){return ki(f.eventCache,new Bi(u,h,_))}function da(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function ha(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}let Ao;class qr{constructor(u,h=(()=>(Ao||(Ao=new cr($n)),Ao))()){this.value=u,this.children=h}static fromObject(u){let h=new qr(null);return mr(u,(_,O)=>{h=h.set(new me(_),O)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,h){if(null!=this.value&&h(this.value))return{path:we(),value:this.value};if(ln(u))return null;{const _=Be(u),O=this.children.get(_);if(null!==O){const B=O.findRootMostMatchingPathAndValue(Rt(u),h);return null!=B?{path:Kn(new me(_),B.path),value:B.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(ln(u))return this;{const h=Be(u),_=this.children.get(h);return null!==_?_.subtree(Rt(u)):new qr(null)}}set(u,h){if(ln(u))return new qr(h,this.children);{const _=Be(u),B=(this.children.get(_)||new qr(null)).set(Rt(u),h),Q=this.children.insert(_,B);return new qr(this.value,Q)}}remove(u){if(ln(u))return this.children.isEmpty()?new qr(null):new qr(null,this.children);{const h=Be(u),_=this.children.get(h);if(_){const O=_.remove(Rt(u));let B;return B=O.isEmpty()?this.children.remove(h):this.children.insert(h,O),null===this.value&&B.isEmpty()?new qr(null):new qr(this.value,B)}return this}}get(u){if(ln(u))return this.value;{const h=Be(u),_=this.children.get(h);return _?_.get(Rt(u)):null}}setTree(u,h){if(ln(u))return h;{const _=Be(u),B=(this.children.get(_)||new qr(null)).setTree(Rt(u),h);let Q;return Q=B.isEmpty()?this.children.remove(_):this.children.insert(_,B),new qr(this.value,Q)}}fold(u){return this.fold_(we(),u)}fold_(u,h){const _={};return this.children.inorderTraversal((O,B)=>{_[O]=B.fold_(Kn(u,O),h)}),h(u,this.value,_)}findOnPath(u,h){return this.findOnPath_(u,we(),h)}findOnPath_(u,h,_){const O=!!this.value&&_(h,this.value);if(O)return O;if(ln(u))return null;{const B=Be(u),Q=this.children.get(B);return Q?Q.findOnPath_(Rt(u),Kn(h,B),_):null}}foreachOnPath(u,h){return this.foreachOnPath_(u,we(),h)}foreachOnPath_(u,h,_){if(ln(u))return this;{this.value&&_(h,this.value);const O=Be(u),B=this.children.get(O);return B?B.foreachOnPath_(Rt(u),Kn(h,O),_):new qr(null)}}foreach(u){this.foreach_(we(),u)}foreach_(u,h){this.children.inorderTraversal((_,O)=>{O.foreach_(Kn(u,_),h)}),this.value&&h(u,this.value)}foreachChild(u){this.children.inorderTraversal((h,_)=>{_.value&&u(h,_.value)})}}class ro{constructor(u){this.writeTree_=u}static empty(){return new ro(new qr(null))}}function lc(f,u,h){if(ln(u))return new ro(new qr(h));{const _=f.writeTree_.findRootMostValueAndPath(u);if(null!=_){const O=_.path;let B=_.value;const Q=zn(O,u);return B=B.updateChild(Q,h),new ro(f.writeTree_.set(O,B))}{const O=new qr(h),B=f.writeTree_.setTree(u,O);return new ro(B)}}}function ja(f,u,h){let _=f;return mr(h,(O,B)=>{_=lc(_,Kn(u,O),B)}),_}function Zi(f,u){if(ln(u))return ro.empty();{const h=f.writeTree_.setTree(u,new qr(null));return new ro(h)}}function Vc(f,u){return null!=Ma(f,u)}function Ma(f,u){const h=f.writeTree_.findRootMostValueAndPath(u);return null!=h?f.writeTree_.get(h.path).getChild(zn(h.path,u)):null}function ts(f){const u=[],h=f.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(si,(_,O)=>{u.push(new gn(_,O))}):f.writeTree_.children.inorderTraversal((_,O)=>{null!=O.value&&u.push(new gn(_,O.value))}),u}function Ws(f,u){if(ln(u))return f;{const h=Ma(f,u);return new ro(null!=h?new qr(h):f.writeTree_.subtree(u))}}function fa(f){return f.writeTree_.isEmpty()}function Vo(f,u){return Xo(we(),f.writeTree_,u)}function Xo(f,u,h){if(null!=u.value)return h.updateChild(f,u.value);{let _=null;return u.children.inorderTraversal((O,B)=>{".priority"===O?((0,H.vA)(null!==B.value,"Priority writes must always be leaf nodes"),_=B.value):h=Xo(Kn(f,O),B,h)}),!h.getChild(f).isEmpty()&&null!==_&&(h=h.updateChild(Kn(f,".priority"),_)),h}}function zt(f,u){return Io(u,f)}function Ye(f,u){if(f.snap)return jn(f.path,u);for(const h in f.children)if(f.children.hasOwnProperty(h)&&jn(Kn(f.path,h),u))return!0;return!1}function $t(f){return f.visible}function at(f,u,h){let _=ro.empty();for(let O=0;O<f.length;++O){const B=f[O];if(u(B)){const Q=B.path;let ae;if(B.snap)jn(h,Q)?(ae=zn(h,Q),_=lc(_,ae,B.snap)):jn(Q,h)&&(ae=zn(Q,h),_=lc(_,we(),B.snap.getChild(ae)));else{if(!B.children)throw(0,H.Hk)("WriteRecord should have .snap or .children");if(jn(h,Q))ae=zn(h,Q),_=ja(_,ae,B.children);else if(jn(Q,h))if(ae=zn(Q,h),ln(ae))_=ja(_,we(),B.children);else{const Ce=(0,H.yw)(B.children,Be(ae));if(Ce){const Ne=Ce.getChild(Rt(ae));_=lc(_,we(),Ne)}}}}}return _}function Ot(f,u,h,_,O){if(_||O){const B=Ws(f.visibleWrites,u);return!O&&fa(B)?h:O||null!=h||Vc(B,we())?Vo(at(f.allWrites,function(Ne){return(Ne.visible||O)&&(!_||!~_.indexOf(Ne.writeId))&&(jn(Ne.path,u)||jn(u,Ne.path))},u),h||Un.EMPTY_NODE):null}{const B=Ma(f.visibleWrites,u);if(null!=B)return B;{const Q=Ws(f.visibleWrites,u);return fa(Q)?h:null!=h||Vc(Q,we())?Vo(Q,h||Un.EMPTY_NODE):null}}}function jo(f,u,h,_){return Ot(f.writeTree,f.treePath,u,h,_)}function Ha(f,u){return function Ur(f,u,h){let _=Un.EMPTY_NODE;const O=Ma(f.visibleWrites,u);if(O)return O.isLeafNode()||O.forEachChild(si,(B,Q)=>{_=_.updateImmediateChild(B,Q)}),_;if(h){const B=Ws(f.visibleWrites,u);return h.forEachChild(si,(Q,ae)=>{const Ce=Vo(Ws(B,new me(Q)),ae);_=_.updateImmediateChild(Q,Ce)}),ts(B).forEach(Q=>{_=_.updateImmediateChild(Q.name,Q.node)}),_}return ts(Ws(f.visibleWrites,u)).forEach(Q=>{_=_.updateImmediateChild(Q.name,Q.node)}),_}(f.writeTree,f.treePath,u)}function pa(f,u,h,_){return function Uo(f,u,h,_,O){(0,H.vA)(_||O,"Either existingEventSnap or existingServerSnap must exist");const B=Kn(u,h);if(Vc(f.visibleWrites,B))return null;{const Q=Ws(f.visibleWrites,B);return fa(Q)?O.getChild(h):Vo(Q,O.getChild(h))}}(f.writeTree,f.treePath,u,h,_)}function ci(f,u){return function as(f,u){return Ma(f.visibleWrites,u)}(f.writeTree,Kn(f.treePath,u))}function Xr(f,u,h){return function wi(f,u,h,_){const O=Kn(u,h),B=Ma(f.visibleWrites,O);return null!=B?B:_.isCompleteForChild(h)?Vo(Ws(f.visibleWrites,O),_.getNode().getImmediateChild(h)):null}(f.writeTree,f.treePath,u,h)}function Pn(f,u){return Io(Kn(f.treePath,u),f.writeTree)}function Io(f,u){return{treePath:f,writeTree:u}}class nl{constructor(){this.changeMap=new Map}trackChildChange(u){const h=u.type,_=u.childName;(0,H.vA)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,H.vA)(".priority"!==_,"Only non-priority child changes can be tracked.");const O=this.changeMap.get(_);if(O){const B=O.type;if("child_added"===h&&"child_removed"===B)this.changeMap.set(_,es(_,u.snapshotNode,O.snapshotNode));else if("child_removed"===h&&"child_added"===B)this.changeMap.delete(_);else if("child_removed"===h&&"child_changed"===B)this.changeMap.set(_,co(_,O.oldSnap));else if("child_changed"===h&&"child_added"===B)this.changeMap.set(_,js(_,u.snapshotNode));else{if("child_changed"!==h||"child_changed"!==B)throw(0,H.Hk)("Illegal combination of changes: "+u+" occurred after "+O);this.changeMap.set(_,es(_,u.snapshotNode,O.oldSnap))}}else this.changeMap.set(_,u)}getChanges(){return Array.from(this.changeMap.values())}}const q=new class N{getCompleteChild(u){return null}getChildAfterChild(u,h,_){return null}};class U{constructor(u,h,_=null){this.writes_=u,this.viewCache_=h,this.optCompleteServerCache_=_}getCompleteChild(u){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(u))return h.getNode().getImmediateChild(u);{const _=null!=this.optCompleteServerCache_?new Bi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xr(this.writes_,u,_)}}getChildAfterChild(u,h,_){const O=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ha(this.viewCache_),B=function rc(f,u,h,_,O,B){return function Bo(f,u,h,_,O,B,Q){let ae;const Ce=Ws(f.visibleWrites,u),Ne=Ma(Ce,we());if(null!=Ne)ae=Ne;else{if(null==h)return[];ae=Vo(Ce,h)}if(ae=ae.withIndex(Q),ae.isEmpty()||ae.isLeafNode())return[];{const ot=[],Ct=Q.getCompare(),kt=B?ae.getReverseIteratorFrom(_,Q):ae.getIteratorFrom(_,Q);let fn=kt.getNext();for(;fn&&ot.length<O;)0!==Ct(fn,_)&&ot.push(fn),fn=kt.getNext();return ot}}(f.writeTree,f.treePath,u,h,_,O,B)}(this.writes_,O,h,1,_,u);return 0===B.length?null:B[0]}}function un(f,u,h,_,O,B){const Q=u.eventCache;if(null!=ci(_,h))return u;{let ae,Ce;if(ln(h))if((0,H.vA)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Ne=ha(u),Ct=Ha(_,Ne instanceof Un?Ne:Un.EMPTY_NODE);ae=f.filter.updateFullNode(u.eventCache.getNode(),Ct,B)}else{const Ne=jo(_,ha(u));ae=f.filter.updateFullNode(u.eventCache.getNode(),Ne,B)}else{const Ne=Be(h);if(".priority"===Ne){(0,H.vA)(1===Tt(h),"Can't have a priority with additional path components");const ot=Q.getNode();Ce=u.serverCache.getNode();const Ct=pa(_,h,ot,Ce);ae=null!=Ct?f.filter.updatePriority(ot,Ct):Q.getNode()}else{const ot=Rt(h);let Ct;if(Q.isCompleteForChild(Ne)){Ce=u.serverCache.getNode();const kt=pa(_,h,Q.getNode(),Ce);Ct=null!=kt?Q.getNode().getImmediateChild(Ne).updateChild(ot,kt):Q.getNode().getImmediateChild(Ne)}else Ct=Xr(_,Ne,u.serverCache);ae=null!=Ct?f.filter.updateChild(Q.getNode(),Ne,Ct,ot,O,B):Q.getNode()}}return Ua(u,ae,Q.isFullyInitialized()||ln(h),f.filter.filtersNodes())}}function Qn(f,u,h,_,O,B,Q,ae){const Ce=u.serverCache;let Ne;const ot=Q?f.filter:f.filter.getIndexedFilter();if(ln(h))Ne=ot.updateFullNode(Ce.getNode(),_,null);else if(ot.filtersNodes()&&!Ce.isFiltered()){const fn=Ce.getNode().updateChild(h,_);Ne=ot.updateFullNode(Ce.getNode(),fn,null)}else{const fn=Be(h);if(!Ce.isCompleteForPath(h)&&Tt(h)>1)return u;const Vn=Rt(h),Co=Ce.getNode().getImmediateChild(fn).updateChild(Vn,_);Ne=".priority"===fn?ot.updatePriority(Ce.getNode(),Co):ot.updateChild(Ce.getNode(),fn,Co,Vn,q,null)}const Ct=Ba(u,Ne,Ce.isFullyInitialized()||ln(h),ot.filtersNodes());return un(f,Ct,h,O,new U(O,Ct,B),ae)}function kr(f,u,h,_,O,B,Q){const ae=u.eventCache;let Ce,Ne;const ot=new U(O,u,B);if(ln(h))Ne=f.filter.updateFullNode(u.eventCache.getNode(),_,Q),Ce=Ua(u,Ne,!0,f.filter.filtersNodes());else{const Ct=Be(h);if(".priority"===Ct)Ne=f.filter.updatePriority(u.eventCache.getNode(),_),Ce=Ua(u,Ne,ae.isFullyInitialized(),ae.isFiltered());else{const kt=Rt(h),fn=ae.getNode().getImmediateChild(Ct);let Vn;if(ln(kt))Vn=_;else{const ur=ot.getCompleteChild(Ct);Vn=null!=ur?".priority"===Xt(kt)&&ur.getChild(Qr(kt)).isEmpty()?ur:ur.updateChild(kt,_):Un.EMPTY_NODE}Ce=fn.equals(Vn)?u:Ua(u,f.filter.updateChild(ae.getNode(),Ct,Vn,kt,ot,Q),ae.isFullyInitialized(),f.filter.filtersNodes())}}return Ce}function er(f,u){return f.eventCache.isCompleteForChild(u)}function fr(f,u,h){return h.foreach((_,O)=>{u=u.updateChild(_,O)}),u}function qn(f,u,h,_,O,B,Q,ae){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Ne,Ce=u;Ne=ln(h)?_:new qr(null).setTree(h,_);const ot=u.serverCache.getNode();return Ne.children.inorderTraversal((Ct,kt)=>{if(ot.hasChild(Ct)){const Vn=fr(0,u.serverCache.getNode().getImmediateChild(Ct),kt);Ce=Qn(f,Ce,new me(Ct),Vn,O,B,Q,ae)}}),Ne.children.inorderTraversal((Ct,kt)=>{const fn=!u.serverCache.isCompleteForChild(Ct)&&null===kt.value;if(!ot.hasChild(Ct)&&!fn){const ur=fr(0,u.serverCache.getNode().getImmediateChild(Ct),kt);Ce=Qn(f,Ce,new me(Ct),ur,O,B,Q,ae)}}),Ce}class vs{constructor(u,h){this.query_=u,this.eventRegistrations_=[];const _=this.query_._queryParams,O=new lo(_.getIndex()),B=function hr(f){return f.loadsAllData()?new lo(f.getIndex()):f.hasLimit()?new ca(f):new uo(f)}(_);this.processor_=function W(f){return{filter:f}}(B);const Q=h.serverCache,ae=h.eventCache,Ce=O.updateFullNode(Un.EMPTY_NODE,Q.getNode(),null),Ne=B.updateFullNode(Un.EMPTY_NODE,ae.getNode(),null),ot=new Bi(Ce,Q.isFullyInitialized(),O.filtersNodes()),Ct=new Bi(Ne,ae.isFullyInitialized(),B.filtersNodes());this.viewCache_=ki(Ct,ot),this.eventGenerator_=new Ic(this.query_)}get query(){return this.query_}}function Fr(f,u){const h=ha(f.viewCache_);return h&&(f.query._queryParams.loadsAllData()||!ln(u)&&!h.getImmediateChild(Be(u)).isEmpty())?h.getChild(u):null}function mo(f){return 0===f.eventRegistrations_.length}function ga(f,u,h){const _=[];if(h){(0,H.vA)(null==u,"A cancel should cancel all event registrations.");const O=f.query._path;f.eventRegistrations_.forEach(B=>{const Q=B.createCancelEvent(h,O);Q&&_.push(Q)})}if(u){let O=[];for(let B=0;B<f.eventRegistrations_.length;++B){const Q=f.eventRegistrations_[B];if(Q.matches(u)){if(u.hasAnyCallback()){O=O.concat(f.eventRegistrations_.slice(B+1));break}}else O.push(Q)}f.eventRegistrations_=O}else f.eventRegistrations_=[];return _}function Mo(f,u,h,_){u.type===Ln.MERGE&&null!==u.source.queryId&&((0,H.vA)(ha(f.viewCache_),"We should always have a full cache before handling merges"),(0,H.vA)(da(f.viewCache_),"Missing event cache, even though we have a server cache"));const O=f.viewCache_,B=function nt(f,u,h,_,O){const B=new nl;let Q,ae;if(h.type===Ln.OVERWRITE){const Ne=h;Ne.source.fromUser?Q=kr(f,u,Ne.path,Ne.snap,_,O,B):((0,H.vA)(Ne.source.fromServer,"Unknown source."),ae=Ne.source.tagged||u.serverCache.isFiltered()&&!ln(Ne.path),Q=Qn(f,u,Ne.path,Ne.snap,_,O,ae,B))}else if(h.type===Ln.MERGE){const Ne=h;Ne.source.fromUser?Q=function Yn(f,u,h,_,O,B,Q){let ae=u;return _.foreach((Ce,Ne)=>{const ot=Kn(h,Ce);er(u,Be(ot))&&(ae=kr(f,ae,ot,Ne,O,B,Q))}),_.foreach((Ce,Ne)=>{const ot=Kn(h,Ce);er(u,Be(ot))||(ae=kr(f,ae,ot,Ne,O,B,Q))}),ae}(f,u,Ne.path,Ne.children,_,O,B):((0,H.vA)(Ne.source.fromServer,"Unknown source."),ae=Ne.source.tagged||u.serverCache.isFiltered(),Q=qn(f,u,Ne.path,Ne.children,_,O,ae,B))}else if(h.type===Ln.ACK_USER_WRITE){const Ne=h;Q=Ne.revert?function Li(f,u,h,_,O,B){let Q;if(null!=ci(_,h))return u;{const ae=new U(_,u,O),Ce=u.eventCache.getNode();let Ne;if(ln(h)||".priority"===Be(h)){let ot;if(u.serverCache.isFullyInitialized())ot=jo(_,ha(u));else{const Ct=u.serverCache.getNode();(0,H.vA)(Ct instanceof Un,"serverChildren would be complete if leaf node"),ot=Ha(_,Ct)}Ne=f.filter.updateFullNode(Ce,ot,B)}else{const ot=Be(h);let Ct=Xr(_,ot,u.serverCache);null==Ct&&u.serverCache.isCompleteForChild(ot)&&(Ct=Ce.getImmediateChild(ot)),Ne=null!=Ct?f.filter.updateChild(Ce,ot,Ct,Rt(h),ae,B):u.eventCache.getNode().hasChild(ot)?f.filter.updateChild(Ce,ot,Un.EMPTY_NODE,Rt(h),ae,B):Ce,Ne.isEmpty()&&u.serverCache.isFullyInitialized()&&(Q=jo(_,ha(u)),Q.isLeafNode()&&(Ne=f.filter.updateFullNode(Ne,Q,B)))}return Q=u.serverCache.isFullyInitialized()||null!=ci(_,we()),Ua(u,Ne,Q,f.filter.filtersNodes())}}(f,u,Ne.path,_,O,B):function Mi(f,u,h,_,O,B,Q){if(null!=ci(O,h))return u;const ae=u.serverCache.isFiltered(),Ce=u.serverCache;if(null!=_.value){if(ln(h)&&Ce.isFullyInitialized()||Ce.isCompleteForPath(h))return Qn(f,u,h,Ce.getNode().getChild(h),O,B,ae,Q);if(ln(h)){let Ne=new qr(null);return Ce.getNode().forEachChild(Ii,(ot,Ct)=>{Ne=Ne.set(new me(ot),Ct)}),qn(f,u,h,Ne,O,B,ae,Q)}return u}{let Ne=new qr(null);return _.foreach((ot,Ct)=>{const kt=Kn(h,ot);Ce.isCompleteForPath(kt)&&(Ne=Ne.set(ot,Ce.getNode().getChild(kt)))}),qn(f,u,h,Ne,O,B,ae,Q)}}(f,u,Ne.path,Ne.affectedTree,_,O,B)}else{if(h.type!==Ln.LISTEN_COMPLETE)throw(0,H.Hk)("Unknown operation type: "+h.type);Q=function Gs(f,u,h,_,O){const B=u.serverCache;return un(f,Ba(u,B.getNode(),B.isFullyInitialized()||ln(h),B.isFiltered()),h,_,q,O)}(f,u,h.path,_,B)}const Ce=B.getChanges();return function je(f,u,h){const _=u.eventCache;if(_.isFullyInitialized()){const O=_.getNode().isLeafNode()||_.getNode().isEmpty(),B=da(f);(h.length>0||!f.eventCache.isFullyInitialized()||O&&!_.getNode().equals(B)||!_.getNode().getPriority().equals(B.getPriority()))&&h.push(La(da(u)))}}(u,Q,Ce),{viewCache:Q,changes:Ce}}(f.processor_,O,u,h,_);return function ve(f,u){(0,H.vA)(u.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,H.vA)(u.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,B.viewCache),(0,H.vA)(B.viewCache.serverCache.isFullyInitialized()||!O.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=B.viewCache,Cc(f,B.changes,B.viewCache.eventCache.getNode(),null)}function Cc(f,u,h,_){return function la(f,u,h,_){const O=[],B=[];return u.forEach(Q=>{"child_changed"===Q.type&&f.index_.indexedValueChanged(Q.oldSnap,Q.snapshotNode)&&B.push(function Fo(f,u){return{type:"child_moved",snapshotNode:u,childName:f}}(Q.childName,Q.snapshotNode))}),ua(f,O,"child_removed",u,_,h),ua(f,O,"child_added",u,_,h),ua(f,O,"child_moved",B,_,h),ua(f,O,"child_changed",u,_,h),ua(f,O,"value",u,_,h),O}(f.eventGenerator_,u,h,_?[_]:f.eventRegistrations_)}let ma,Il;class Bl{constructor(){this.views=new Map}}function Bc(f,u,h,_){const O=u.source.queryId;if(null!==O){const B=f.views.get(O);return(0,H.vA)(null!=B,"SyncTree gave us an op for an invalid query."),Mo(B,u,h,_)}{let B=[];for(const Q of f.views.values())B=B.concat(Mo(Q,u,h,_));return B}}function rl(f,u,h,_,O){const Q=f.views.get(u._queryIdentifier);if(!Q){let ae=jo(h,O?_:null),Ce=!1;ae?Ce=!0:_ instanceof Un?(ae=Ha(h,_),Ce=!1):(ae=Un.EMPTY_NODE,Ce=!1);const Ne=ki(new Bi(ae,Ce,!1),new Bi(_,O,!1));return new vs(u,Ne)}return Q}function Dc(f){const u=[];for(const h of f.views.values())h.query._queryParams.loadsAllData()||u.push(h);return u}function Wa(f,u){let h=null;for(const _ of f.views.values())h=h||Fr(_,u);return h}function Ga(f,u){return u._queryParams.loadsAllData()?uc(f):f.views.get(u._queryIdentifier)}function wc(f,u){return null!=Ga(f,u)}function Ks(f){return null!=uc(f)}function uc(f){for(const u of f.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let il=1;class ya{constructor(u){this.listenProvider_=u,this.syncPointTree_=new qr(null),this.pendingWriteTree_=function lr(){return{visibleWrites:ro.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ri(f,u,h,_,O){return function Fi(f,u,h,_,O){(0,H.vA)(_>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===O&&(O=!0),f.allWrites.push({path:u,snap:h,writeId:_,visible:O}),O&&(f.visibleWrites=lc(f.visibleWrites,u,h)),f.lastWriteId=_}(f.pendingWriteTree_,u,h,_,O),O?R(f,new qo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,h)):[]}function Ro(f,u,h=!1){const _=function Yo(f,u){for(let h=0;h<f.allWrites.length;h++){const _=f.allWrites[h];if(_.writeId===u)return _}return null}(f.pendingWriteTree_,u);if(function Yt(f,u){const h=f.allWrites.findIndex(ae=>ae.writeId===u);(0,H.vA)(h>=0,"removeWrite called with nonexistent writeId.");const _=f.allWrites[h];f.allWrites.splice(h,1);let O=_.visible,B=!1,Q=f.allWrites.length-1;for(;O&&Q>=0;){const ae=f.allWrites[Q];ae.visible&&(Q>=h&&Ye(ae,_.path)?O=!1:jn(_.path,ae.path)&&(B=!0)),Q--}return!!O&&(B?(function xn(f){f.visibleWrites=at(f.allWrites,$t,we()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(_.snap?f.visibleWrites=Zi(f.visibleWrites,_.path):mr(_.children,Ce=>{f.visibleWrites=Zi(f.visibleWrites,Kn(_.path,Ce))}),!0))}(f.pendingWriteTree_,u)){let B=new qr(null);return null!=_.snap?B=B.set(we(),!0):mr(_.children,Q=>{B=B.set(new me(Q),!0)}),R(f,new Qo(_.path,B,h))}return[]}function Ka(f,u,h){return R(f,new qo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,h))}function zs(f,u,h,_,O=!1){const B=u._path,Q=f.syncPointTree_.get(B);let ae=[];if(Q&&("default"===u._queryIdentifier||wc(Q,u))){const Ce=function Du(f,u,h,_){const O=u._queryIdentifier,B=[];let Q=[];const ae=Ks(f);if("default"===O)for(const[Ce,Ne]of f.views.entries())Q=Q.concat(ga(Ne,h,_)),mo(Ne)&&(f.views.delete(Ce),Ne.query._queryParams.loadsAllData()||B.push(Ne.query));else{const Ce=f.views.get(O);Ce&&(Q=Q.concat(ga(Ce,h,_)),mo(Ce)&&(f.views.delete(O),Ce.query._queryParams.loadsAllData()||B.push(Ce.query)))}return ae&&!Ks(f)&&B.push(new(function jl(){return(0,H.vA)(ma,"Reference.ts has not been loaded"),ma}())(u._repo,u._path)),{removed:B,events:Q}}(Q,u,h,_);(function Uc(f){return 0===f.views.size})(Q)&&(f.syncPointTree_=f.syncPointTree_.remove(B));const Ne=Ce.removed;if(ae=Ce.events,!O){const ot=-1!==Ne.findIndex(kt=>kt._queryParams.loadsAllData()),Ct=f.syncPointTree_.findOnPath(B,(kt,fn)=>Ks(fn));if(ot&&!Ct){const kt=f.syncPointTree_.subtree(B);if(!kt.isEmpty()){const fn=function Ir(f){return f.fold((u,h,_)=>{if(h&&Ks(h))return[uc(h)];{let O=[];return h&&(O=Dc(h)),mr(_,(B,Q)=>{O=O.concat(Q)}),O}})}(kt);for(let Vn=0;Vn<fn.length;++Vn){const ur=fn[Vn],Co=ur.query,ml=he(f,ur);f.listenProvider_.startListening(_i(Co),Se(f,Co),ml.hashFn,ml.onComplete)}}}!Ct&&Ne.length>0&&!_&&(ot?f.listenProvider_.stopListening(_i(u),null):Ne.forEach(kt=>{const fn=f.queryToTagMap.get(gt(kt));f.listenProvider_.stopListening(_i(kt),fn)}))}!function yo(f,u){for(let h=0;h<u.length;++h){const _=u[h];if(!_._queryParams.loadsAllData()){const O=gt(_),B=f.queryToTagMap.get(O);f.queryToTagMap.delete(O),f.tagToQueryMap.delete(B)}}}(f,Ne)}return ae}function As(f,u,h,_){const O=ze(f,_);if(null!=O){const B=an(O),Q=B.path,ae=B.queryId,Ce=zn(Q,u);return An(f,Q,new qo(Eo(ae),Ce,h))}return[]}function wr(f,u,h,_=!1){const O=u._path;let B=null,Q=!1;f.syncPointTree_.foreachOnPath(O,(kt,fn)=>{const Vn=zn(kt,O);B=B||Wa(fn,Vn),Q=Q||Ks(fn)});let Ce,ae=f.syncPointTree_.get(O);ae?(Q=Q||Ks(ae),B=B||Wa(ae,we())):(ae=new Bl,f.syncPointTree_=f.syncPointTree_.set(O,ae)),null!=B?Ce=!0:(Ce=!1,B=Un.EMPTY_NODE,f.syncPointTree_.subtree(O).foreachChild((fn,Vn)=>{const ur=Wa(Vn,we());ur&&(B=B.updateImmediateChild(fn,ur))}));const Ne=wc(ae,u);if(!Ne&&!u._queryParams.loadsAllData()){const kt=gt(u);(0,H.vA)(!f.queryToTagMap.has(kt),"View does not exist, but we have a tag");const fn=function Ls(){return il++}();f.queryToTagMap.set(kt,fn),f.tagToQueryMap.set(fn,kt)}let Ct=function $o(f,u,h,_,O,B){const Q=rl(f,u,_,O,B);return f.views.has(u._queryIdentifier)||f.views.set(u._queryIdentifier,Q),function ct(f,u){f.eventRegistrations_.push(u)}(Q,h),function Cu(f,u){const h=f.viewCache_.eventCache,_=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(si,(B,Q)=>{_.push(js(B,Q))}),h.isFullyInitialized()&&_.push(La(h.getNode())),Cc(f,_,h.getNode(),u)}(Q,h)}(ae,u,h,zt(f.pendingWriteTree_,O),B,Ce);if(!Ne&&!Q&&!_){const kt=Ga(ae,u);Ct=Ct.concat(function Vs(f,u,h){const _=u._path,O=Se(f,u),B=he(f,h),Q=f.listenProvider_.startListening(_i(u),O,B.hashFn,B.onComplete),ae=f.syncPointTree_.subtree(_);if(O)(0,H.vA)(!Ks(ae.value),"If we're adding a query, it shouldn't be shadowed");else{const Ce=ae.fold((Ne,ot,Ct)=>{if(!ln(Ne)&&ot&&Ks(ot))return[uc(ot).query];{let kt=[];return ot&&(kt=kt.concat(Dc(ot).map(fn=>fn.query))),mr(Ct,(fn,Vn)=>{kt=kt.concat(Vn)}),kt}});for(let Ne=0;Ne<Ce.length;++Ne){const ot=Ce[Ne];f.listenProvider_.stopListening(_i(ot),Se(f,ot))}}return Q}(f,u,kt))}return Ct}function b(f,u,h){const O=f.pendingWriteTree_,B=f.syncPointTree_.findOnPath(u,(Q,ae)=>{const Ne=Wa(ae,zn(Q,u));if(Ne)return Ne});return Ot(O,u,B,h,!0)}function R(f,u){return L(u,f.syncPointTree_,null,zt(f.pendingWriteTree_,we()))}function L(f,u,h,_){if(ln(f.path))return X(f,u,h,_);{const O=u.get(we());null==h&&null!=O&&(h=Wa(O,we()));let B=[];const Q=Be(f.path),ae=f.operationForChild(Q),Ce=u.children.get(Q);if(Ce&&ae){const Ne=h?h.getImmediateChild(Q):null,ot=Pn(_,Q);B=B.concat(L(ae,Ce,Ne,ot))}return O&&(B=B.concat(Bc(O,f,_,h))),B}}function X(f,u,h,_){const O=u.get(we());null==h&&null!=O&&(h=Wa(O,we()));let B=[];return u.children.inorderTraversal((Q,ae)=>{const Ce=h?h.getImmediateChild(Q):null,Ne=Pn(_,Q),ot=f.operationForChild(Q);ot&&(B=B.concat(X(ot,ae,Ce,Ne)))}),O&&(B=B.concat(Bc(O,f,_,h))),B}function he(f,u){const h=u.query,_=Se(f,h);return{hashFn:()=>(function go(f){return f.viewCache_.serverCache.getNode()}(u)||Un.EMPTY_NODE).hash(),onComplete:O=>{if("ok"===O)return _?function Ho(f,u,h){const _=ze(f,h);if(_){const O=an(_),B=O.path,Q=O.queryId,ae=zn(B,u);return An(f,B,new po(Eo(Q),ae))}return[]}(f,h._path,_):function Zo(f,u){return R(f,new po({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(f,h._path);{const B=function _t(f,u){let h="Unknown Error";"too_big"===f?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?h="Client doesn't have permission to access the desired data.":"unavailable"===f&&(h="The service is unavailable");const _=new Error(f+" at "+u._path.toString()+": "+h);return _.code=f.toUpperCase(),_}(O,h);return zs(f,h,null,B)}}}}function Se(f,u){const h=gt(u);return f.queryToTagMap.get(h)}function gt(f){return f._path.toString()+"$"+f._queryIdentifier}function ze(f,u){return f.tagToQueryMap.get(u)}function an(f){const u=f.indexOf("$");return(0,H.vA)(-1!==u&&u<f.length-1,"Bad queryKey."),{queryId:f.substr(u+1),path:new me(f.substr(0,u))}}function An(f,u,h){const _=f.syncPointTree_.get(u);return(0,H.vA)(_,"Missing sync point for query tag that we're tracking"),Bc(_,h,zt(f.pendingWriteTree_,u),null)}function _i(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function bs(){return(0,H.vA)(Il,"Reference.ts has not been loaded"),Il}())(f._repo,f._path):f}class cs{constructor(u){this.node_=u}getImmediateChild(u){const h=this.node_.getImmediateChild(u);return new cs(h)}node(){return this.node_}}class Wo{constructor(u,h){this.syncTree_=u,this.path_=h}getImmediateChild(u){const h=Kn(this.path_,u);return new Wo(this.syncTree_,h)}node(){return b(this.syncTree_,this.path_)}}const Sc=function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f},pr=function(f,u,h){return f&&"object"==typeof f?((0,H.vA)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?yn(f[".sv"],u,h):"object"==typeof f[".sv"]?ic(f[".sv"],u):void(0,H.vA)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},yn=function(f,u,h){if("timestamp"===f)return h.timestamp;(0,H.vA)(!1,"Unexpected server value: "+f)},ic=function(f,u,h){f.hasOwnProperty("increment")||(0,H.vA)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const _=f.increment;"number"!=typeof _&&(0,H.vA)(!1,"Unexpected increment value: "+_);const O=u.node();if((0,H.vA)(null!==O&&typeof O<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!O.isLeafNode())return _;const Q=O.getValue();return"number"!=typeof Q?_:Q+_},Qa=function(f,u,h,_){return nu(u,new Wo(h,f),_)},jc=function(f,u,h){return nu(f,new cs(u),h)};function nu(f,u,h){const _=f.getPriority().val(),O=pr(_,u.getImmediateChild(".priority"),h);let B;if(f.isLeafNode()){const Q=f,ae=pr(Q.getValue(),u,h);return ae!==Q.getValue()||O!==Q.getPriority().val()?new hi(ae,Gr(O)):f}{const Q=f;return B=Q,O!==Q.getPriority().val()&&(B=B.updatePriority(new hi(O))),Q.forEachChild(si,(ae,Ce)=>{const Ne=nu(Ce,u.getImmediateChild(ae),h);Ne!==Ce&&(B=B.updateImmediateChild(ae,Ne))}),B}}class sl{constructor(u="",h=null,_={children:{},childCount:0}){this.name=u,this.parent=h,this.node=_}}function ru(f,u){let h=u instanceof me?u:new me(u),_=f,O=Be(h);for(;null!==O;){const B=(0,H.yw)(_.node.children,O)||{children:{},childCount:0};_=new sl(O,_,B),h=Rt(h),O=Be(h)}return _}function hc(f){return f.node.value}function $c(f,u){f.node.value=u,Et(f)}function Hc(f){return f.node.childCount>0}function Wc(f,u){mr(f.node.children,(h,_)=>{u(new sl(h,f,_))})}function $l(f,u,h,_){h&&!_&&u(f),Wc(f,O=>{$l(O,u,!0,_)}),h&&_&&u(f)}function Gc(f){return new me(null===f.parent?f.name:Gc(f.parent)+"/"+f.name)}function Et(f){null!==f.parent&&function yr(f,u,h){const _=function Hu(f){return void 0===hc(f)&&!Hc(f)}(h),O=(0,H.gR)(f.node.children,u);_&&O?(delete f.node.children[u],f.node.childCount--,Et(f)):!_&&!O&&(f.node.children[u]=h.node,f.node.childCount++,Et(f))}(f.parent,f.name,f)}const sc=/[\[\].#$\/\u0000-\u001F\u007F]/,Hl=/[\[\].#$\u0000-\u001F\u007F]/,kn=10485760,fc=function(f){return"string"==typeof f&&0!==f.length&&!sc.test(f)},_s=function(f){return"string"==typeof f&&0!==f.length&&!Hl.test(f)},bc=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!wn(f)||f&&"object"==typeof f&&(0,H.gR)(f,".sv")},Ms=function(f,u,h,_){_&&void 0===u||io((0,H.dI)(f,"value"),u,h)},io=function(f,u,h){const _=h instanceof me?new Wr(h,f):h;if(void 0===u)throw new Error(f+"contains undefined "+ye(_));if("function"==typeof u)throw new Error(f+"contains a function "+ye(_)+" with contents = "+u.toString());if(wn(u))throw new Error(f+"contains "+u.toString()+" "+ye(_));if("string"==typeof u&&u.length>kn/3&&(0,H.OE)(u)>kn)throw new Error(f+"contains a string greater than "+kn+" utf8 bytes "+ye(_)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let O=!1,B=!1;if(mr(u,(Q,ae)=>{if(".value"===Q)O=!0;else if(".priority"!==Q&&".sv"!==Q&&(B=!0,!fc(Q)))throw new Error(f+" contains an invalid key ("+Q+") "+ye(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ri(f,u){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(u),f.byteLength_+=(0,H.OE)(u),ii(f)})(_,Q),io(f,ae,_),function Di(f){const u=f.parts_.pop();f.byteLength_-=(0,H.OE)(u),f.parts_.length>0&&(f.byteLength_-=1)}(_)}),O&&B)throw new Error(f+' contains ".value" child '+ye(_)+" in addition to actual children.")}},wu=function(f,u,h,_){if(_&&void 0===u)return;const O=(0,H.dI)(f,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(O+" must be an object containing the children to replace.");const B=[];mr(u,(Q,ae)=>{const Ce=new me(Q);if(io(O,ae,Kn(h,Ce)),".priority"===Xt(Ce)&&!bc(ae))throw new Error(O+"contains an invalid value for '"+Ce.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");B.push(Ce)}),function(f,u){let h,_;for(h=0;h<u.length;h++){_=u[h];const B=Dn(_);for(let Q=0;Q<B.length;Q++)if((".priority"!==B[Q]||Q!==B.length-1)&&!fc(B[Q]))throw new Error(f+"contains an invalid key ("+B[Q]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(di);let O=null;for(h=0;h<u.length;h++){if(_=u[h],null!==O&&jn(O,_))throw new Error(f+"contains a path "+O.toString()+" that is ancestor of another path "+_.toString());O=_}}(O,B)},Oo=function(f,u,h,_){if(!(_&&void 0===h||_s(h)))throw new Error((0,H.dI)(f,u)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Es=function(f,u,h,_){h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Oo(f,u,h,_)},Rs=function(f,u){if(".info"===Be(u))throw new Error(f+" failed = Can't modify data under /.info/")};class Go{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function va(f,u){let h=null;for(let _=0;_<u.length;_++){const O=u[_],B=O.getPath();null!==h&&!vi(B,h.path)&&(f.eventLists_.push(h),h=null),null===h&&(h={events:[],path:B}),h.events.push(O)}h&&f.eventLists_.push(h)}function iu(f,u,h){va(f,h),su(f,_=>vi(_,u))}function Ns(f,u,h){va(f,h),su(f,_=>jn(_,u)||jn(u,_))}function su(f,u){f.recursionDepth_++;let h=!0;for(let _=0;_<f.eventLists_.length;_++){const O=f.eventLists_[_];O&&(u(O.path)?(cl(f.eventLists_[_]),f.eventLists_[_]=null):h=!1)}h&&(f.eventLists_=[]),f.recursionDepth_--}function cl(f){for(let u=0;u<f.events.length;u++){const h=f.events[u];if(null!==h){f.events[u]=null;const _=h.getEventRunner();wt&&qe("event: "+h.toString()),it(_)}}}const wl=25;class Ac{constructor(u,h,_,O){this.repoInfo_=u,this.forceRestClient_=h,this.authTokenProvider_=_,this.appCheckProvider_=O,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Go,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=to(),this.transactionQueueTree_=new sl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Mc(f){const h=f.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function Qs(f){return Sc({timestamp:Mc(f)})}function Rc(f,u,h,_,O){f.dataUpdateCount++;const B=new me(u);h=f.interceptServerDataCallback_?f.interceptServerDataCallback_(u,h):h;let Q=[];if(O)if(_){const Ce=(0,H.kH)(h,Ne=>Gr(Ne));Q=function za(f,u,h,_){const O=ze(f,_);if(O){const B=an(O),Q=B.path,ae=B.queryId,Ce=zn(Q,u),Ne=qr.fromObject(h);return An(f,Q,new Ss(Eo(ae),Ce,Ne))}return[]}(f.serverSyncTree_,B,Ce,O)}else{const Ce=Gr(h);Q=As(f.serverSyncTree_,B,Ce,O)}else if(_){const Ce=(0,H.kH)(h,Ne=>Gr(Ne));Q=function dc(f,u,h){const _=qr.fromObject(h);return R(f,new Ss({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,_))}(f.serverSyncTree_,B,Ce)}else{const Ce=Gr(h);Q=Ka(f.serverSyncTree_,B,Ce)}let ae=B;Q.length>0&&(ae=xc(f,B)),Ns(f.eventQueue_,ae,Q)}function ul(f,u){Tl(f,"connected",u),!1===u&&function Oc(f){Os(f,"onDisconnectEvents");const u=Qs(f),h=to();Hs(f.onDisconnect_,we(),(O,B)=>{const Q=Qa(O,B,f.serverSyncTree_,u);fo(h,O,Q)});let _=[];Hs(h,we(),(O,B)=>{_=_.concat(Ka(f.serverSyncTree_,O,B));const Q=se(f,O);xc(f,Q)}),f.onDisconnect_=to(),Ns(f.eventQueue_,we(),_)}(f)}function Tl(f,u,h){const _=new me("/.info/"+u),O=Gr(h);f.infoData_.updateSnapshot(_,O);const B=Ka(f.infoSyncTree_,_,O);Ns(f.eventQueue_,_,B)}function zc(f){return f.nextWriteId_++}function Ci(f,u,h){f.server_.onDisconnectCancel(u.toString(),(_,O)=>{"ok"===_&&ys(f.onDisconnect_,u),oc(0,h,_,O)})}function Sl(f,u,h,_){const O=Gr(h);f.server_.onDisconnectPut(u.toString(),O.val(!0),(B,Q)=>{"ok"===B&&fo(f.onDisconnect_,u,O),oc(0,_,B,Q)})}function Wl(f,u,h){let _;_=".info"===Be(u._path)?zs(f.infoSyncTree_,u,h):zs(f.serverSyncTree_,u,h),iu(f.eventQueue_,u._path,_)}function Os(f,...u){let h="";f.persistentConnection_&&(h=f.persistentConnection_.id+":"),qe(h,...u)}function oc(f,u,h,_){u&&it(()=>{if("ok"===h)u(null);else{const O=(h||"error").toUpperCase();let B=O;_&&(B+=": "+_);const Q=new Error(B);Q.code=O,u(Q)}})}function qc(f,u,h){return b(f.serverSyncTree_,u,h)||Un.EMPTY_NODE}function Na(f,u=f.transactionQueueTree_){if(u||k(f,u),hc(u)){const h=v(f,u);(0,H.vA)(h.length>0,"Sending zero length transaction queue"),h.every(O=>0===O.status)&&function bl(f,u,h){const _=h.map(Ne=>Ne.currentWriteId),O=qc(f,u,_);let B=O;const Q=O.hash();for(let Ne=0;Ne<h.length;Ne++){const ot=h[Ne];(0,H.vA)(0===ot.status,"tryToSendTransactionQueue_: items in queue should all be run."),ot.status=1,ot.retryCount++;const Ct=zn(u,ot.path);B=B.updateChild(Ct,ot.currentOutputSnapshotRaw)}const ae=B.val(!0),Ce=u;f.server_.put(Ce.toString(),ae,Ne=>{Os(f,"transaction put response",{path:Ce.toString(),status:Ne});let ot=[];if("ok"===Ne){const Ct=[];for(let kt=0;kt<h.length;kt++)h[kt].status=2,ot=ot.concat(Ro(f.serverSyncTree_,h[kt].currentWriteId)),h[kt].onComplete&&Ct.push(()=>h[kt].onComplete(null,!0,h[kt].currentOutputSnapshotResolved)),h[kt].unwatcher();k(f,ru(f.transactionQueueTree_,u)),Na(f,f.transactionQueueTree_),Ns(f.eventQueue_,u,ot);for(let kt=0;kt<Ct.length;kt++)it(Ct[kt])}else{if("datastale"===Ne)for(let Ct=0;Ct<h.length;Ct++)h[Ct].status=3===h[Ct].status?4:0;else{Gt("transaction at "+Ce.toString()+" failed: "+Ne);for(let Ct=0;Ct<h.length;Ct++)h[Ct].status=4,h[Ct].abortReason=Ne}xc(f,u)}},Q)}(f,Gc(u),h)}else Hc(u)&&Wc(u,h=>{Na(f,h)})}function xc(f,u){const h=x(f,u),_=Gc(h);return function fl(f,u,h){if(0===u.length)return;const _=[];let O=[];const Q=u.filter(ae=>0===ae.status).map(ae=>ae.currentWriteId);for(let ae=0;ae<u.length;ae++){const Ce=u[ae],Ne=zn(h,Ce.path);let Ct,ot=!1;if((0,H.vA)(null!==Ne,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ce.status)ot=!0,Ct=Ce.abortReason,O=O.concat(Ro(f.serverSyncTree_,Ce.currentWriteId,!0));else if(0===Ce.status)if(Ce.retryCount>=wl)ot=!0,Ct="maxretry",O=O.concat(Ro(f.serverSyncTree_,Ce.currentWriteId,!0));else{const kt=qc(f,Ce.path,Q);Ce.currentInputSnapshot=kt;const fn=u[ae].update(kt.val());if(void 0!==fn){io("transaction failed: Data returned ",fn,Ce.path);let Vn=Gr(fn);"object"==typeof fn&&null!=fn&&(0,H.gR)(fn,".priority")||(Vn=Vn.updatePriority(kt.getPriority()));const Co=Ce.currentWriteId,ml=Qs(f),Lr=jc(Vn,kt,ml);Ce.currentOutputSnapshotRaw=Vn,Ce.currentOutputSnapshotResolved=Lr,Ce.currentWriteId=zc(f),Q.splice(Q.indexOf(Co),1),O=O.concat(Ri(f.serverSyncTree_,Ce.path,Lr,Ce.currentWriteId,Ce.applyLocally)),O=O.concat(Ro(f.serverSyncTree_,Co,!0))}else ot=!0,Ct="nodata",O=O.concat(Ro(f.serverSyncTree_,Ce.currentWriteId,!0))}Ns(f.eventQueue_,h,O),O=[],ot&&(u[ae].status=2,setTimeout(u[ae].unwatcher,Math.floor(0)),u[ae].onComplete&&_.push("nodata"===Ct?()=>u[ae].onComplete(null,!1,u[ae].currentInputSnapshot):()=>u[ae].onComplete(new Error(Ct),!1,null)))}k(f,f.transactionQueueTree_);for(let ae=0;ae<_.length;ae++)it(_[ae]);Na(f,f.transactionQueueTree_)}(f,v(f,h),_),_}function x(f,u){let h,_=f.transactionQueueTree_;for(h=Be(u);null!==h&&void 0===hc(_);)_=ru(_,h),h=Be(u=Rt(u));return _}function v(f,u){const h=[];return I(f,u,h),h.sort((_,O)=>_.order-O.order),h}function I(f,u,h){const _=hc(u);if(_)for(let O=0;O<_.length;O++)h.push(_[O]);Wc(u,O=>{I(f,O,h)})}function k(f,u){const h=hc(u);if(h){let _=0;for(let O=0;O<h.length;O++)2!==h[O].status&&(h[_]=h[O],_++);h.length=_,$c(u,h.length>0?h:void 0)}Wc(u,_=>{k(f,_)})}function se(f,u){const h=Gc(x(f,u)),_=ru(f.transactionQueueTree_,u);return function ol(f,u,h){let _=h?f:f.parent;for(;null!==_;){if(u(_))return!0;_=_.parent}}(_,O=>{Ee(f,O)}),Ee(f,_),$l(_,O=>{Ee(f,O)}),h}function Ee(f,u){const h=hc(u);if(h){const _=[];let O=[],B=-1;for(let Q=0;Q<h.length;Q++)3===h[Q].status||(1===h[Q].status?((0,H.vA)(B===Q-1,"All SENT items should be at beginning of queue."),B=Q,h[Q].status=3,h[Q].abortReason="set"):((0,H.vA)(0===h[Q].status,"Unexpected transaction status in abort"),h[Q].unwatcher(),O=O.concat(Ro(f.serverSyncTree_,h[Q].currentWriteId,!0)),h[Q].onComplete&&_.push(h[Q].onComplete.bind(null,new Error("set"),!1,null))));-1===B?$c(u,void 0):h.length=B+1,Ns(f.eventQueue_,Gc(u),O);for(let Q=0;Q<_.length;Q++)it(_[Q])}}const En=function(f,u){const h=Xn(f),_=h.namespace;return"firebase.com"===h.domain&&Ze(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==h.domain&&Ze("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wn(h.host,h.secure,_,"ws"===h.scheme||"wss"===h.scheme,u,"",_!==h.subdomain),path:new me(h.pathString)}},Xn=function(f){let u="",h="",_="",O="",B="",Q=!0,ae="https",Ce=443;if("string"==typeof f){let Ne=f.indexOf("//");Ne>=0&&(ae=f.substring(0,Ne-1),f=f.substring(Ne+2));let ot=f.indexOf("/");-1===ot&&(ot=f.length);let Ct=f.indexOf("?");-1===Ct&&(Ct=f.length),u=f.substring(0,Math.min(ot,Ct)),ot<Ct&&(O=function ut(f){let u="";const h=f.split("/");for(let _=0;_<h.length;_++)if(h[_].length>0){let O=h[_];try{O=decodeURIComponent(O.replace(/\+/g," "))}catch{}u+="/"+O}return u}(f.substring(ot,Ct)));const kt=function Wt(f){const u={};"?"===f.charAt(0)&&(f=f.substring(1));for(const h of f.split("&")){if(0===h.length)continue;const _=h.split("=");2===_.length?u[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):Gt(`Invalid query segment '${h}' in query '${f}'`)}return u}(f.substring(Math.min(f.length,Ct)));Ne=u.indexOf(":"),Ne>=0?(Q="https"===ae||"wss"===ae,Ce=parseInt(u.substring(Ne+1),10)):Ne=u.length;const fn=u.slice(0,Ne);if("localhost"===fn.toLowerCase())h="localhost";else if(fn.split(".").length<=2)h=fn;else{const Vn=u.indexOf(".");_=u.substring(0,Vn).toLowerCase(),h=u.substring(Vn+1),B=_}"ns"in kt&&(B=kt.ns)}return{host:u,port:Ce,domain:h,subdomain:_,secure:Q,scheme:ae,pathString:O,namespace:B}},Tr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pi=function(){let f=0;const u=[];return function(h){const _=h===f;let O;f=h;const B=new Array(8);for(O=7;O>=0;O--)B[O]=Tr.charAt(h%64),h=Math.floor(h/64);(0,H.vA)(0===h,"Cannot push at time == 0");let Q=B.join("");if(_){for(O=11;O>=0&&63===u[O];O--)u[O]=0;u[O]++}else for(O=0;O<12;O++)u[O]=Math.floor(64*Math.random());for(O=0;O<12;O++)Q+=Tr.charAt(u[O]);return(0,H.vA)(20===Q.length,"nextPushId: Length should be 20."),Q}}();class Ia{constructor(u,h,_,O){this.eventType=u,this.eventRegistration=h,this.snapshot=_,this.prevName=O}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.As)(this.snapshot.exportVal())}}class Oa{constructor(u,h,_){this.eventRegistration=u,this.error=h,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xa{constructor(u,h){this.snapshotCallback=u,this.cancelCallback=h}onValue(u,h){this.snapshotCallback.call(null,u,h)}onCancel(u){return(0,H.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Xc{constructor(u,h){this._repo=u,this._path=h}cancel(){const u=new H.cY;return Ci(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Rs("OnDisconnect.remove",this._path);const u=new H.cY;return Sl(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Rs("OnDisconnect.set",this._path),Ms("OnDisconnect.set",u,this._path,!1);const h=new H.cY;return Sl(this._repo,this._path,u,h.wrapCallback(()=>{})),h.promise}setWithPriority(u,h){Rs("OnDisconnect.setWithPriority",this._path),Ms("OnDisconnect.setWithPriority",u,this._path,!1),function(f,u,h){if(!h||void 0!==u){if(wn(u))throw new Error((0,H.dI)(f,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bc(u))throw new Error((0,H.dI)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",h,!1);const _=new H.cY;return function ou(f,u,h,_,O){const B=Gr(h,_);f.server_.onDisconnectPut(u.toString(),B.val(!0),(Q,ae)=>{"ok"===Q&&fo(f.onDisconnect_,u,B),oc(0,O,Q,ae)})}(this._repo,this._path,u,h,_.wrapCallback(()=>{})),_.promise}update(u){Rs("OnDisconnect.update",this._path),wu("OnDisconnect.update",u,this._path,!1);const h=new H.cY;return function dl(f,u,h,_){if((0,H.Im)(h))return qe("onDisconnect().update() called with empty data.  Don't do anything."),void oc(0,_,"ok",void 0);f.server_.onDisconnectMerge(u.toString(),h,(O,B)=>{"ok"===O&&mr(h,(Q,ae)=>{const Ce=Gr(ae);fo(f.onDisconnect_,Kn(u,Q),Ce)}),oc(0,_,O,B)})}(this._repo,this._path,u,h.wrapCallback(()=>{})),h.promise}}class Is{constructor(u,h,_,O){this._repo=u,this._path=h,this._queryParams=_,this._orderByCalled=O}get key(){return ln(this._path)?null:Xt(this._path)}get ref(){return new Jo(this._repo,this._path)}get _queryIdentifier(){const u=Yi(this._queryParams),h=Nr(u);return"{}"===h?"default":h}get _queryObject(){return Yi(this._queryParams)}isEqual(u){if(!((u=(0,H.Ku)(u))instanceof Is))return!1;const h=this._repo===u._repo,_=vi(this._path,u._path);return h&&_&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Fn(f){let u="";for(let h=f.pieceNum_;h<f.pieces_.length;h++)""!==f.pieces_[h]&&(u+="/"+encodeURIComponent(String(f.pieces_[h])));return u||"/"}(this._path)}}class Jo extends Is{constructor(u,h){super(u,h,new Dr,!1)}get parent(){const u=Qr(this._path);return null===u?null:new Jo(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class ea{constructor(u,h,_){this._node=u,this.ref=h,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const h=new me(u),_=ls(this.ref,u);return new ea(this._node.getChild(h),_,si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,O)=>u(new ea(O,ls(this.ref,_),si)))}hasChild(u){const h=new me(u);return!this._node.getChild(h).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xa(f,u){return(f=(0,H.Ku)(f))._checkNotDeleted("ref"),void 0!==u?ls(f._root,u):f._root}function ls(f,u){return null===Be((f=(0,H.Ku)(f))._path)?Es("child","path",u,!1):Oo("child","path",u,!1),new Jo(f._repo,Kn(f._path,u))}function Gl(f){return f=(0,H.Ku)(f),new Xc(f._repo,f._path)}function gc(f,u){f=(0,H.Ku)(f),Rs("push",f._path),Ms("push",u,f._path,!0);const h=Mc(f._repo),_=pi(h),O=ls(f,_),B=ls(f,_);let Q;return Q=null!=u?Pa(B,u).then(()=>B):Promise.resolve(B),O.then=Q.then.bind(Q),O.catch=Q.then.bind(Q,void 0),O}function Kl(f){return Rs("remove",f._path),Pa(f,null)}function Pa(f,u){f=(0,H.Ku)(f),Rs("set",f._path),Ms("set",u,f._path,!1);const h=new H.cY;return function Nc(f,u,h,_,O){Os(f,"set",{path:u.toString(),value:h,priority:_});const B=Qs(f),Q=Gr(h,_),ae=b(f.serverSyncTree_,u),Ce=jc(Q,ae,B),Ne=zc(f),ot=Ri(f.serverSyncTree_,u,Ce,Ne,!0);va(f.eventQueue_,ot),f.server_.put(u.toString(),Q.val(!0),(kt,fn)=>{const Vn="ok"===kt;Vn||Gt("set at "+u+" failed: "+kt);const ur=Ro(f.serverSyncTree_,Ne,!Vn);Ns(f.eventQueue_,u,ur),oc(0,O,kt,fn)});const Ct=se(f,u);xc(f,Ct),Ns(f.eventQueue_,Ct,[])}(f._repo,f._path,u,null,h.wrapCallback(()=>{})),h.promise}function Wu(f,u){wu("update",u,f._path,!1);const h=new H.cY;return function so(f,u,h,_){Os(f,"update",{path:u.toString(),value:h});let O=!0;const B=Qs(f),Q={};if(mr(h,(ae,Ce)=>{O=!1,Q[ae]=Qa(Kn(u,ae),Gr(Ce),f.serverSyncTree_,B)}),O)qe("update() called with empty data.  Don't do anything."),oc(0,_,"ok",void 0);else{const ae=zc(f),Ce=function Tc(f,u,h,_){!function $a(f,u,h,_){(0,H.vA)(_>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:u,children:h,writeId:_,visible:!0}),f.visibleWrites=ja(f.visibleWrites,u,h),f.lastWriteId=_}(f.pendingWriteTree_,u,h,_);const O=qr.fromObject(h);return R(f,new Ss({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,O))}(f.serverSyncTree_,u,Q,ae);va(f.eventQueue_,Ce),f.server_.merge(u.toString(),h,(Ne,ot)=>{const Ct="ok"===Ne;Ct||Gt("update at "+u+" failed: "+Ne);const kt=Ro(f.serverSyncTree_,ae,!Ct),fn=kt.length>0?xc(f,u):u;Ns(f.eventQueue_,fn,kt),oc(0,_,Ne,ot)}),mr(h,Ne=>{const ot=se(f,Kn(u,Ne));xc(f,ot)}),Ns(f.eventQueue_,u,[])}}(f._repo,f._path,u,h.wrapCallback(()=>{})),h.promise}function Gu(f){f=(0,H.Ku)(f);const u=new xa(()=>{}),h=new Sr(u);return function Qc(f,u,h){const _=function F(f,u){const h=u._path;let _=null;f.syncPointTree_.foreachOnPath(h,(Ne,ot)=>{const Ct=zn(Ne,h);_=_||Wa(ot,Ct)});let O=f.syncPointTree_.get(h);O?_=_||Wa(O,we()):(O=new Bl,f.syncPointTree_=f.syncPointTree_.set(h,O));const B=null!=_,Q=B?new Bi(_,!0,!1):null;return function Ra(f){return da(f.viewCache_)}(rl(O,u,zt(f.pendingWriteTree_,u._path),B?Q.getNode():Un.EMPTY_NODE,B))}(f.serverSyncTree_,u);return null!=_?Promise.resolve(_):f.server_.get(u).then(O=>{const B=Gr(O).withIndex(u._queryParams.getIndex());let Q;if(wr(f.serverSyncTree_,u,h,!0),u._queryParams.loadsAllData())Q=Ka(f.serverSyncTree_,u._path,B);else{const ae=Se(f.serverSyncTree_,u);Q=As(f.serverSyncTree_,u._path,B,ae)}return Ns(f.eventQueue_,u._path,Q),zs(f.serverSyncTree_,u,h,null,!0),B},O=>(Os(f,"get for query "+(0,H.As)(u)+" failed: "+O),Promise.reject(new Error(O))))}(f._repo,f,h).then(_=>new ea(_,new Jo(f._repo,f._path),f._queryParams.getIndex()))}class Sr{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,h){const _=h._queryParams.getIndex();return new Ia("value",this,new ea(u.snapshotNode,new Jo(h._repo,h._path),_))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,h){return this.callbackContext.hasCancelCallback?new Oa(this,u,h):null}matches(u){return u instanceof Sr&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Pc{constructor(u,h){this.eventType=u,this.callbackContext=h}respondsTo(u){let h="children_added"===u?"child_added":u;return h="children_removed"===h?"child_removed":h,this.eventType===h}createCancelEvent(u,h){return this.callbackContext.hasCancelCallback?new Oa(this,u,h):null}createEvent(u,h){(0,H.vA)(null!=u.childName,"Child events should have a childName.");const _=ls(new Jo(h._repo,h._path),u.childName),O=h._queryParams.getIndex();return new Ia(u.type,this,new ea(u.snapshotNode,_,O),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof Pc&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function zl(f,u,h,_){return function kc(f,u,h,_,O){let B;if("object"==typeof _&&(B=void 0,O=_),"function"==typeof _&&(B=_),O&&O.onlyOnce){const Ce=h,Ne=(ot,Ct)=>{Wl(f._repo,f,ae),Ce(ot,Ct)};Ne.userCallback=h.userCallback,Ne.context=h.context,h=Ne}const Q=new xa(h,B||void 0),ae="value"===u?new Sr(Q):new Pc(u,Q);return function au(f,u,h){let _;_=".info"===Be(u._path)?wr(f.infoSyncTree_,u,h):wr(f.serverSyncTree_,u,h),iu(f.eventQueue_,u._path,_)}(f._repo,f,ae),()=>Wl(f._repo,f,ae)}(f,"value",u,h,_)}function Id(f,u,h){let _=null;const O=h?new xa(h):null;"value"===u?_=new Sr(O):u&&(_=new Pc(u,O)),Wl(f._repo,f,_)}(function Fs(f){(0,H.vA)(!ma,"__referenceConstructor has already been defined"),ma=f})(Jo),function Cl(f){(0,H.vA)(!Il,"__referenceConstructor has already been defined"),Il=f}(Jo);const E={};function $(f,u,h,_,O){let B=_||f.options.databaseURL;void 0===B&&(f.options.projectId||Ze("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",f.options.projectId),B=`${f.options.projectId}-default-rtdb.firebaseio.com`);let Ce,Ne,Q=En(B,O),ae=Q.repoInfo;typeof process<"u"&&process.env&&(Ne=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ne?(Ce=!0,B=`http://${Ne}?ns=${ae.namespace}`,Q=En(B,O),ae=Q.repoInfo):Ce=!Q.repoInfo.secure;const ot=O&&Ce?new In(In.OWNER):new Bn(f.name,f.options,u);(function(f,u){const h=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!fc(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==h.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),_s(f)}(h))throw new Error((0,H.dI)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",Q),ln(Q.path)||Ze("Database URL must point to the root of a Firebase Database (not including a child path).");const Ct=function Ie(f,u,h,_){let O=E[u.name];O||(O={},E[u.name]=O);let B=O[f.toURLString()];return B&&Ze("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),B=new Ac(f,false,h,_),O[f.toURLString()]=B,B}(ae,f,ot,new Mt(f.name,h));return new We(Ct,f)}class We{constructor(u,h){this._repoInternal=u,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ll(f,u,h){if(f.stats_=fs(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new $s(f.repoInfo_,(_,O,B,Q)=>{Rc(f,_,O,B,Q)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>ul(f,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.As)(h)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}f.persistentConnection_=new xi(f.repoInfo_,u,(_,O,B,Q)=>{Rc(f,_,O,B,Q)},_=>{ul(f,_)},_=>{!function Kc(f,u){mr(u,(h,_)=>{Tl(f,h,_)})}(f,_)},f.authTokenProvider_,f.appCheckProvider_,h),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(_=>{f.server_.refreshAuthToken(_)}),f.appCheckProvider_.addTokenChangeListener(_=>{f.server_.refreshAppCheckToken(_.token)}),f.statsReporter_=function Zn(f,u){const h=f.toString();return li[h]||(li[h]=u()),li[h]}(f.repoInfo_,()=>new mn(f.stats_,f.server_)),f.infoData_=new cc,f.infoSyncTree_=new ya({startListening:(_,O,B,Q)=>{let ae=[];const Ce=f.infoData_.getNode(_._path);return Ce.isEmpty()||(ae=Ka(f.infoSyncTree_,_._path,Ce),setTimeout(()=>{Q("ok")},0)),ae},stopListening:()=>{}}),Tl(f,"connected",!1),f.serverSyncTree_=new ya({startListening:(_,O,B,Q)=>(f.server_.listen(_,B,O,(ae,Ce)=>{const Ne=Q(ae,Ce);Ns(f.eventQueue_,_._path,Ne)}),[]),stopListening:(_,O)=>{f.server_.unlisten(_,O)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jo(this._repo,we())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oe(f,u){const h=E[u];(!h||h[f.key]!==f)&&Ze(`Database ${u}(${f.repoInfo_}) has already been deleted.`),function hl(f){f.persistentConnection_&&f.persistentConnection_.interrupt("repo_interrupt")}(f),delete h[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Ze("Cannot call "+u+" on a deleted database.")}}function vn(f=(0,D.Sx)(),u){const h=(0,D.j6)(f,"database").getImmediate({identifier:u});if(!h._instanceStarted){const _=(0,H.yU)("database");_&&function Nn(f,u,h,_={}){(f=(0,H.Ku)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&Ze("Cannot call useEmulator() after instance has already been initialized.");const O=f._repoInternal;let B;if(O.repoInfo_.nodeAdmin)_.mockUserToken&&Ze('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),B=new In(In.OWNER);else if(_.mockUserToken){const Q="string"==typeof _.mockUserToken?_.mockUserToken:(0,H.Fy)(_.mockUserToken,f.app.options.projectId);B=new In(Q)}!function A(f,u,h,_){f.repoInfo_=new Wn(`${u}:${h}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams,!0),_&&(f.authTokenProvider_=_)}(O,u,h,B)}(h,..._)}return h}const Ar={".sv":"timestamp"};function Ei(){return Ar}function xr(f){return{".sv":{increment:f}}}xi.prototype.simpleListen=function(f,u){this.sendRequest("q",{p:f},u)},xi.prototype.echo=function(f,u){this.sendRequest("echo",{d:f},u)},function $r(f){(function fe(f){Y=f})(D.MF),(0,D.om)(new ce.uA("database",(u,{instanceIdentifier:h})=>$(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,D.KO)(ie,"0.14.3",f),(0,D.KO)(ie,"0.14.3","esm2017")}()},2431:(St,Re,w)=>{w.d(Re,{gS:()=>mm,rJ:()=>P_,kd:()=>gm,H9:()=>Ug,ol:()=>Uy,rf:()=>fm,x7:()=>Zd,nY:()=>Zy,GG:()=>ef,aU:()=>Vy,AB:()=>q_,aQ:()=>ym,My:()=>Q_,P:()=>dm,O5:()=>rv,HM:()=>Wy,mZ:()=>ev});var Y,p=w(467),D=w(7852),ce=w(1362),H=w(8041),Z=w(1076),ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te={},fe=fe||{},ne=ie||self;function le(){}function Te(s){var t=typeof s;return"array"==(t="object"!=t?t:s?Array.isArray(s)?"array":t:"null")||"object"==t&&"number"==typeof s.length}function Ue(s){var t=typeof s;return"object"==t&&null!=s||"function"==t}var Qe="closure_uid_"+(1e9*Math.random()>>>0),st=0;function bt(s,t,i){return s.call.apply(s.bind,arguments)}function vt(s,t,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),s.apply(t,l)}}return function(){return s.apply(t,arguments)}}function wt(s,t,i){return(wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:vt).apply(null,arguments)}function qt(s,t){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function lt(s,t){function i(){}i.prototype=t.prototype,s.X=t.prototype,s.prototype=new i,s.prototype.constructor=s,s.Wb=function(a,l,g){for(var C=Array(arguments.length-2),P=2;P<arguments.length;P++)C[P-2]=arguments[P];return t.prototype[l].apply(a,C)}}function qe(){this.s=this.s,this.o=this.o}qe.prototype.s=!1,qe.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ve(s){Object.prototype.hasOwnProperty.call(s,Qe)&&s[Qe]||(s[Qe]=++st)}(this)},qe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bt=Array.prototype.indexOf?function(s,t){return Array.prototype.indexOf.call(s,t,void 0)}:function(s,t){if("string"==typeof s)return"string"!=typeof t||1!=t.length?-1:s.indexOf(t,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===t)return i;return-1};function Ze(s){const t=s.length;if(0<t){const i=Array(t);for(let a=0;a<t;a++)i[a]=s[a];return i}return[]}function Gt(s,t){for(let i=1;i<arguments.length;i++){const a=arguments[i];if(Te(a)){const l=s.length||0,g=a.length||0;s.length=l+g;for(let C=0;C<g;C++)s[l+C]=a[C]}else s.push(a)}}function Lt(s,t){this.type=s,this.g=this.target=t,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var wn=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var s=!1,t=Object.defineProperty({},"passive",{get:function(){s=!0}});try{ne.addEventListener("test",le,t),ne.removeEventListener("test",le,t)}catch{}return s}();function Nt(s){return/^[\s\xa0]*$/.test(s)}var et=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function on(s,t){return s<t?-1:s>t?1:0}function Jt(){var s=ne.navigator;return s&&(s=s.userAgent)?s:""}function $n(s){return-1!=Jt().indexOf(s)}function br(s){return br[" "](s),s}br[" "]=le;var At,s,bi=$n("Opera"),mr=$n("Trident")||$n("MSIE"),Je=$n("Edge"),$e=Je||mr,pt=$n("Gecko")&&!(-1!=Jt().toLowerCase().indexOf("webkit")&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),_t=-1!=Jt().toLowerCase().indexOf("webkit")&&!$n("Edge");function It(){var s=ne.document;return s?s.documentMode:void 0}e:{var pn="",mt=(s=Jt(),pt?/rv:([^\);]+)(\)|;)/.exec(s):Je?/Edge\/([\d\.]+)/.exec(s):mr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):_t?/WebKit\/(\S+)/.exec(s):bi?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(mt&&(pn=mt?mt[1]:""),mr){var it=It();if(null!=it&&it>parseFloat(pn)){At=String(it);break e}}At=pn}var Le={};var In=ne.document&&mr&&(It()||parseInt(At,10))||void 0;function ir(s,t){if(Lt.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=t,t=s.relatedTarget){if(pt){e:{try{br(t.nodeName);var l=!0;break e}catch{}l=!1}l||(t=null)}}else"mouseover"==i?t=s.fromElement:"mouseout"==i&&(t=s.toElement);this.relatedTarget=t,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:vr[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ir.X.h.call(this)}}lt(ir,Lt);var vr={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Vr="closure_listenable_"+(1e6*Math.random()|0),Ai=0;function Cs(s,t,i,a,l){this.listener=s,this.proxy=null,this.src=t,this.type=i,this.capture=!!a,this.ha=l,this.key=++Ai,this.ba=this.ea=!1}function Qt(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Zr(s,t,i){for(const a in s)t.call(i,s[a],a,s)}function ei(s){const t={};for(const i in s)t[i]=s[i];return t}const sr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zr(s,t){let i,a;for(let l=1;l<arguments.length;l++){for(i in a=arguments[l],a)s[i]=a[i];for(let g=0;g<sr.length;g++)i=sr[g],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function Hn(s){this.src=s,this.g={},this.h=0}function Wn(s,t){var i=t.type;if(i in s.g){var g,a=s.g[i],l=Bt(a,t);(g=0<=l)&&Array.prototype.splice.call(a,l,1),g&&(Qt(t),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Ki(s,t,i,a){for(var l=0;l<s.length;++l){var g=s[l];if(!g.ba&&g.listener==t&&g.capture==!!i&&g.ha==a)return l}return-1}Hn.prototype.add=function(s,t,i,a,l){var g=s.toString();(s=this.g[g])||(s=this.g[g]=[],this.h++);var C=Ki(s,t,a,l);return-1<C?(t=s[C],i||(t.ea=!1)):((t=new Cs(t,this.src,g,!!a,l)).ea=i,s.push(t)),t};var Er="closure_lm_"+(1e6*Math.random()|0),oi={};function Oi(s,t,i,a,l){if(a&&a.once)return Zn(s,t,i,a,l);if(Array.isArray(t)){for(var g=0;g<t.length;g++)Oi(s,t[g],i,a,l);return null}return i=or(i),s&&s[Vr]?s.N(t,i,Ue(a)?!!a.capture:!!a,l):li(s,t,i,!1,a,l)}function li(s,t,i,a,l,g){if(!t)throw Error("Invalid event type");var C=Ue(l)?!!l.capture:!!l,P=Gn(s);if(P||(s[Er]=P=new Hn(s)),(i=P.add(t,i,a,C,g)).proxy)return i;if(a=function fs(){const t=mi;return function s(i){return t.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)wn||(l=C),void 0===l&&(l=!1),s.addEventListener(t.toString(),a,l);else if(s.attachEvent)s.attachEvent(ps(t.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function Zn(s,t,i,a,l){if(Array.isArray(t)){for(var g=0;g<t.length;g++)Zn(s,t[g],i,a,l);return null}return i=or(i),s&&s[Vr]?s.O(t,i,Ue(a)?!!a.capture:!!a,l):li(s,t,i,!0,a,l)}function Us(s,t,i,a,l){if(Array.isArray(t))for(var g=0;g<t.length;g++)Us(s,t[g],i,a,l);else a=Ue(a)?!!a.capture:!!a,i=or(i),s&&s[Vr]?(s=s.i,(t=String(t).toString())in s.g&&-1<(i=Ki(g=s.g[t],i,a,l))&&(Qt(g[i]),Array.prototype.splice.call(g,i,1),0==g.length&&(delete s.g[t],s.h--))):s&&(s=Gn(s))&&(t=s.g[t.toString()],s=-1,t&&(s=Ki(t,i,a,l)),(i=-1<s?t[s]:null)&&Mn(i))}function Mn(s){if("number"!=typeof s&&s&&!s.ba){var t=s.src;if(t&&t[Vr])Wn(t.i,s);else{var i=s.type,a=s.proxy;t.removeEventListener?t.removeEventListener(i,a,s.capture):t.detachEvent?t.detachEvent(ps(i),a):t.addListener&&t.removeListener&&t.removeListener(a),(i=Gn(t))?(Wn(i,s),0==i.h&&(i.src=null,t[Er]=null)):Qt(s)}}}function ps(s){return s in oi?oi[s]:oi[s]="on"+s}function mi(s,t){if(s.ba)s=!0;else{t=new ir(t,this);var i=s.listener,a=s.ha||s.src;s.ea&&Mn(s),s=i.call(a,t)}return s}function Gn(s){return(s=s[Er])instanceof Hn?s:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(s){return"function"==typeof s?s:(s[$i]||(s[$i]=function(t){return s.handleEvent(t)}),s[$i])}function gr(){qe.call(this),this.i=new Hn(this),this.P=this,this.I=null}function Pr(s,t){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=t.type||t,"string"==typeof t)t=new Lt(t,s);else if(t instanceof Lt)t.target=t.target||s;else{var l=t;zr(t=new Lt(a,s),l)}if(l=!0,i)for(var g=i.length-1;0<=g;g--){var C=t.g=i[g];l=yi(C,a,!0,t)&&l}if(l=yi(C=t.g=s,a,!0,t)&&l,l=yi(C,a,!1,t)&&l,i)for(g=0;g<i.length;g++)l=yi(C=t.g=i[g],a,!1,t)&&l}function yi(s,t,i,a){if(!(t=s.i.g[String(t)]))return!0;t=t.concat();for(var l=!0,g=0;g<t.length;++g){var C=t[g];if(C&&!C.ba&&C.capture==i){var P=C.listener,K=C.ha||C.src;C.ea&&Wn(s.i,C),l=!1!==P.call(K,a)&&l}}return l&&!a.defaultPrevented}lt(gr,qe),gr.prototype[Vr]=!0,gr.prototype.removeEventListener=function(s,t,i,a){Us(this,s,t,i,a)},gr.prototype.M=function(){if(gr.X.M.call(this),this.i){var t,s=this.i;for(t in s.g){for(var i=s.g[t],a=0;a<i.length;a++)Qt(i[a]);delete s.g[t],s.h--}}this.I=null},gr.prototype.N=function(s,t,i,a){return this.i.add(String(s),t,!1,i,a)},gr.prototype.O=function(s,t,i,a){return this.i.add(String(s),t,!0,i,a)};var zi=ne.JSON.stringify;function De(){var s=Tn;let t=null;return s.g&&(t=s.g,s.g=s.g.next,s.g||(s.h=null),t.next=null),t}var Ke,de=new class{constructor(s,t){this.i=s,this.j=t,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new be,s=>s.reset());class be{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function re(s){ne.setTimeout(()=>{throw s},0)}function Ae(s,t){Ke||function Vt(){var s=ne.Promise.resolve(void 0);Ke=function(){s.then(ar)}}(),Rn||(Ke(),Rn=!0),Tn.add(s,t)}var Rn=!1,Tn=new class Oe{constructor(){this.h=this.g=null}add(t,i){const a=de.get();a.set(t,i),this.h?this.h.next=a:this.g=a,this.h=a}};function ar(){for(var s;s=De();){try{s.h.call(s.g)}catch(i){re(i)}var t=de;t.j(s),100>t.h&&(t.h++,s.next=t.g,t.g=s)}Rn=!1}function Cn(s,t){gr.call(this),this.h=s||1,this.g=t||ne,this.j=wt(this.lb,this),this.l=Date.now()}function Jr(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function ti(s,t,i){if("function"==typeof s)i&&(s=wt(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=wt(s.handleEvent,s)}return 2147483647<Number(t)?-1:ne.setTimeout(s,t||0)}function Vi(s){s.g=ti(()=>{s.g=null,s.i&&(s.i=!1,Vi(s))},s.j);const t=s.h;s.h=null,s.m.apply(null,t)}lt(Cn,gr),(Y=Cn.prototype).ca=!1,Y.R=null,Y.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pr(this,"tick"),this.ca&&(Jr(this),this.start()))}},Y.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){Cn.X.M.call(this),Jr(this),delete this.g};class ui extends qe{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Vi(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(s){qe.call(this),this.h=s,this.g={}}lt(Sn,qe);var yt=[];function rt(s,t,i,a){Array.isArray(i)||(i&&(yt[0]=i.toString()),i=yt);for(var l=0;l<i.length;l++){var g=Oi(t,i[l],a||s.handleEvent,!1,s.h||s);if(!g)break;s.g[g.key]=g}}function jt(s){Zr(s.g,function(t,i){this.g.hasOwnProperty(i)&&Mn(t)},s),s.g={}}function cn(){this.g=!0}function _r(s,t,i,a){s.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ni(s,t){if(!s.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var g=l[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var C=1;C<l.length;C++)l[C]=""}}}return zi(i)}catch{return t}}(s,i)+(a?" "+a:"")})}Sn.prototype.M=function(){Sn.X.M.call(this),jt(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cn.prototype.Aa=function(){this.g=!1},cn.prototype.info=function(){};var ai={},gs=null;function Ds(){return gs=gs||new gr}function Zs(s){Lt.call(this,ai.Pa,s)}function Qi(s){const t=Ds();Pr(t,new Zs(t))}function Jn(s,t){Lt.call(this,ai.STAT_EVENT,s),this.stat=t}function Mr(s){const t=Ds();Pr(t,new Jn(t,s))}function ge(s,t){Lt.call(this,ai.Qa,s),this.size=t}function me(s,t){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){s()},t)}ai.Pa="serverreachability",lt(Zs,Lt),ai.STAT_EVENT="statevent",lt(Jn,Lt),ai.Qa="timingevent",lt(ge,Lt);var we={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Be={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Tt(){}function Xt(){}Tt.prototype.h=null;var Kn,Fn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dn(){Lt.call(this,"d")}function Qr(){Lt.call(this,"c")}function ln(){}function zn(s,t,i,a){this.l=s,this.j=t,this.m=i,this.U=a||1,this.S=new Sn(this),this.O=vi,this.T=new Cn(s=$e?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}lt(Dn,Lt),lt(Qr,Lt),lt(ln,Tt),ln.prototype.g=function(){return new XMLHttpRequest},ln.prototype.i=function(){return{}},Kn=new ln;var vi=45e3,jn={},Wr={};function ri(s,t,i){s.K=1,s.v=Ui(Ii(t)),s.s=i,s.P=!0,Di(s,null)}function Di(s,t){s.F=Date.now(),Ge(s),s.A=Ii(s.v);var i=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),si(i.i,"t",a),s.C=0,i=s.l.H,s.h=new di,s.g=ua(s.l,i?t:null,!s.s),0<s.N&&(s.L=new ui(wt(s.La,s,s.g),s.N)),rt(s.S,s.g,"readystatechange",s.ib),t=s.H?ei(s.H):{},s.s?(s.u||(s.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,t)):(s.u="GET",s.g.da(s.A,s.u,null,t)),Qi(),function On(s,t,i,a,l,g){s.info(function(){if(s.g)if(g)for(var C="",P=g.split("&"),K=0;K<P.length;K++){var ee=P[K].split("=");if(1<ee.length){var _e=ee[0];ee=ee[1];var Fe=_e.split("_");C=2<=Fe.length&&"type"==Fe[1]?C+(_e+"=")+ee+"&":C+(_e+"=redacted&")}}else C=null;else C=g;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+t+"\n"+i+"\n"+C})}(s.j,s.u,s.A,s.m,s.U,s.s)}function ii(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function ye(s,t,i){let l,a=!0;for(;!s.I&&s.C<i.length;){if(l=tt(s,i),l==Wr){4==t&&(s.o=4,Mr(14),a=!1),_r(s.j,s.m,null,"[Incomplete Response]");break}if(l==jn){s.o=4,Mr(15),_r(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}_r(s.j,s.m,l,null),jr(s,l)}ii(s)&&l!=Wr&&l!=jn&&(s.h.g="",s.C=0),4!=t||0!=i.length||s.h.h||(s.o=1,Mr(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.$&&(s.$=!0,(t=s.l).g==s&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Eo(t),t.K=!0,Mr(11))):(_r(s.j,s.m,i,"[Invalid Chunked Response]"),tr(s),rn(s))}function tt(s,t){var i=s.C,a=t.indexOf("\n",i);return-1==a?Wr:(i=Number(t.substring(i,a)),isNaN(i)?jn:(a+=1)+i>t.length?Wr:(t=t.substr(a,i),s.C=a+i,t))}function Ge(s){s.V=Date.now()+s.O,dt(s,s.O)}function dt(s,t){if(null!=s.B)throw Error("WatchDog timer not null");s.B=me(wt(s.gb,s),t)}function Zt(s){s.B&&(ne.clearTimeout(s.B),s.B=null)}function rn(s){0==s.l.G||s.I||qo(s.l,s)}function tr(s){Zt(s);var t=s.L;t&&"function"==typeof t.na&&t.na(),s.L=null,Jr(s.T),jt(s.S),s.g&&(t=s.g,s.g=null,t.abort(),t.na())}function jr(s,t){try{var i=s.l;if(0!=i.G&&(i.g==s||Un(i.h,s)))if(!s.J&&Un(i.h,s)&&3==i.G){try{var a=i.Fa.g.parse(t)}catch{a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0]){e:if(!i.u){if(i.g){if(!(i.g.F+3e3<s.F))break e;po(i),z(i)}no(i),Mr(18)}}else i.Ba=l[1],0<i.Ba-i.T&&37500>l[2]&&i.L&&0==i.A&&!i.v&&(i.v=me(wt(i.cb,i),6e3));if(1>=Ts(i.h)&&i.ja){try{i.ja()}catch{}i.ja=void 0}}else Bi(i,11)}else if((s.J||i.g==s)&&po(i),!Nt(t))for(l=i.Fa.g.parse(t),t=0;t<l.length;t++){let ee=l[t];if(i.T=ee[0],ee=ee[1],2==i.G)if("c"==ee[0]){i.I=ee[1],i.ka=ee[2];const _e=ee[3];null!=_e&&(i.ma=_e,i.j.info("VER="+i.ma));const Fe=ee[4];null!=Fe&&(i.Ca=Fe,i.j.info("SVER="+i.Ca));const ft=ee[5];null!=ft&&"number"==typeof ft&&0<ft&&(i.J=a=1.5*ft,i.j.info("backChannelRequestTimeoutMs_="+a)),a=i;const Ut=s.g;if(Ut){const en=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var g=a.h;g.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(So(g,g.h),g.h=null))}if(a.D){const _n=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;_n&&(a.za=_n,cr(a.F,a.D,_n))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-s.F,i.j.info("Handshake RTT: "+i.P+"ms"));var C=s;if((a=i).sa=la(a,a.H?a.ka:null,a.V),C.J){fi(a.h,C);var P=C,K=a.J;K&&P.setTimeout(K),P.B&&(Zt(P),Ge(P)),a.g=C}else _o(a);0<i.i.length&&V(i)}else"stop"!=ee[0]&&"close"!=ee[0]||Bi(i,7);else 3==i.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Bi(i,7):Hs(i):"noop"!=ee[0]&&i.l&&i.l.wa(ee),i.A=0)}Qi()}catch{}}function gn(s,t){if(s.forEach&&"function"==typeof s.forEach)s.forEach(t,void 0);else if(Te(s)||"string"==typeof s)Array.prototype.forEach.call(s,t,void 0);else for(var i=function xi(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Te(s)||"string"==typeof s){var t=[];s=s.length;for(var i=0;i<s;i++)t.push(i);return t}t=[],i=0;for(const a in s)t[i++]=a;return t}}}(s),a=function bn(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Te(s)){for(var t=[],i=s.length,a=0;a<i;a++)t.push(s[a]);return t}for(a in t=[],i=0,s)t[i++]=s[a];return t}(s),l=a.length,g=0;g<l;g++)t.call(void 0,a[g],i&&i[g],s)}(Y=zn.prototype).setTimeout=function(s){this.O=s},Y.ib=function(s){s=s.target;const t=this.L;t&&3==Yi(s)?t.l():this.La(s)},Y.La=function(s){try{if(s==this.g)e:{const _e=Yi(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>_e)&&(3!=_e||$e||this.g&&(this.h.h||this.g.fa()||$s(this.g)))){this.I||4!=_e||7==t||Qi(),Zt(this);var i=this.g.aa();this.Y=i;t:if(ii(this)){var a=$s(this.g);s="";var l=a.length,g=4==Yi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),rn(this);var C="";break t}this.h.i=new ne.TextDecoder}for(t=0;t<l;t++)this.h.h=!0,s+=this.h.i.decode(a[t],{stream:g&&t==l-1});a.splice(0,l),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==i,function hn(s,t,i,a,l,g,C){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+t+"\n"+i+"\n"+g+" "+C})}(this.j,this.u,this.A,this.m,this.U,_e,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nt(P)){var ee=P;break t}}ee=null}if(!(i=ee)){this.i=!1,this.o=3,Mr(12),tr(this),rn(this);break e}_r(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jr(this,i)}this.P?(ye(this,_e,C),$e&&this.i&&3==_e&&(rt(this.S,this.T,"tick",this.hb),this.T.start())):(_r(this.j,this.m,C,null),jr(this,C)),4==_e&&tr(this),this.i&&!this.I&&(4==_e?qo(this.l,this):(this.i=!1,Ge(this)))}else 400==i&&0<C.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),tr(this),rn(this)}}}catch{}},Y.hb=function(){if(this.g){var s=Yi(this.g),t=this.g.fa();this.C<t.length&&(Zt(this),ye(this,s,t),this.i&&4!=s&&Ge(this))}},Y.cancel=function(){this.I=!0,tr(this)},Y.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function Hr(s,t){s.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qi(),Mr(17)),tr(this),this.o=2,rn(this)):dt(this,this.V-s)};var dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(s,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof Ps){this.h=void 0!==t?t:s.h,ks(this,s.j),this.s=s.s,this.g=s.g,Hi(this,s.m),this.l=s.l,t=s.i;var i=new dn;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),rs(this,i),this.o=s.o}else s&&(i=String(s).match(dr))?(this.h=!!t,ks(this,i[1]||"",!0),this.s=Bs(i[2]||""),this.g=Bs(i[3]||"",!0),Hi(this,i[4]),this.l=Bs(i[5]||"",!0),rs(this,i[6]||"",!0),this.o=Bs(i[7]||"")):(this.h=!!t,this.i=new dn(null,this.h))}function Ii(s){return new Ps(s)}function ks(s,t,i){s.j=i?Bs(t,!0):t,s.j&&(s.j=s.j.replace(/:$/,""))}function Hi(s,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);s.m=t}else s.m=null}function rs(s,t,i){t instanceof dn?(s.i=t,function Sa(s,t){t&&!s.j&&(is(s),s.i=null,s.g.forEach(function(i,a){var l=a.toLowerCase();a!=l&&(qi(this,a),si(this,l,i))},s)),s.j=t}(s.i,s.h)):(i||(t=ws(t,hi)),s.i=new dn(t,s.h))}function cr(s,t,i){s.i.set(t,i)}function Ui(s){return cr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Bs(s,t){return s?t?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function ws(s,t,i){return"string"==typeof s?(s=encodeURI(s).replace(t,oa),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function oa(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Ps.prototype.toString=function(){var s=[],t=this.j;t&&s.push(ws(t,aa,!0),":");var i=this.g;return(i||"file"==t)&&(s.push("//"),(t=this.s)&&s.push(ws(t,aa,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&s.push("/"),s.push(ws(i,"/"==i.charAt(0)?wo:Wi,!0))),(i=this.i.toString())&&s.push("?",i),(i=this.o)&&s.push("#",ws(i,tc)),s.join("")};var aa=/[#\/\?@]/g,Wi=/[#\?:]/g,wo=/[#\?]/g,hi=/[#\?@]/g,tc=/#/g;function dn(s,t){this.h=this.g=null,this.i=s||null,this.j=!!t}function is(s){s.g||(s.g=new Map,s.h=0,s.i&&function Ta(s,t){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),l=null;if(0<=a){var g=s[i].substring(0,a);l=s[i].substring(a+1)}else g=s[i];t(g,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(s.i,function(t,i){s.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function qi(s,t){is(s),t=xo(s,t),s.g.has(t)&&(s.i=null,s.h-=s.g.get(t).length,s.g.delete(t))}function Js(s,t){return is(s),t=xo(s,t),s.g.has(t)}function si(s,t,i){qi(s,t),0<i.length&&(s.i=null,s.g.set(xo(s,t),Ze(i)),s.h+=i.length)}function xo(s,t){return t=String(t),s.j&&(t=t.toLowerCase()),t}(Y=dn.prototype).add=function(s,t){is(this),this.i=null,s=xo(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(t),this.h+=1,this},Y.forEach=function(s,t){is(this),this.g.forEach(function(i,a){i.forEach(function(l){s.call(t,l,a,this)},this)},this)},Y.oa=function(){is(this);const s=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let a=0;a<t.length;a++){const l=s[a];for(let g=0;g<l.length;g++)i.push(t[a])}return i},Y.W=function(s){is(this);let t=[];if("string"==typeof s)Js(this,s)&&(t=t.concat(this.g.get(xo(this,s))));else{s=Array.from(this.g.values());for(let i=0;i<s.length;i++)t=t.concat(s[i])}return t},Y.set=function(s,t){return is(this),this.i=null,Js(this,s=xo(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[t]),this.h+=1,this},Y.get=function(s,t){return s&&0<(s=this.W(s)).length?String(s[0]):t},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var a=t[i];const g=encodeURIComponent(String(a)),C=this.W(a);for(a=0;a<C.length;a++){var l=g;""!==C[a]&&(l+="="+encodeURIComponent(String(C[a]))),s.push(l)}}return this.i=s.join("&")};var To=class{constructor(s,t){this.h=s,this.g=t}};function eo(s){this.l=s||ba,s=ne.PerformanceNavigationTiming?0<(s=ne.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(ne.g&&ne.g.Ga&&ne.g.Ga()&&ne.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ba=10;function ms(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Ts(s){return s.h?1:s.g?s.g.size:0}function Un(s,t){return s.h?s.h==t:!!s.g&&s.g.has(t)}function So(s,t){s.g?s.g.add(t):s.h=t}function fi(s,t){s.h&&s.h==t?s.h=null:s.g&&s.g.has(t)&&s.g.delete(t)}function bo(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let t=s.i;for(const i of s.g.values())t=t.concat(i.D);return t}return Ze(s.i)}function Gr(){}function Po(){this.g=new Gr}function ao(s,t,i){const a=i||"";try{gn(s,function(l,g){let C=l;Ue(l)&&(C=zi(l)),t.push(a+g+"="+encodeURIComponent(C))})}catch(l){throw t.push(a+"type="+encodeURIComponent("_badmap")),l}}function La(s,t,i,a,l){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,l(a)}catch{}}function js(s){this.l=s.ac||null,this.j=s.jb||!1}function co(s,t){gr.call(this),this.D=s,this.u=t,this.m=void 0,this.readyState=es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Gr.prototype.stringify=function(s){return ne.JSON.stringify(s,void 0)},Gr.prototype.parse=function(s){return ne.JSON.parse(s,void 0)},lt(js,Tt),js.prototype.g=function(){return new co(this.l,this.j)},js.prototype.i=function(s){return function(){return s}}({}),lt(co,gr);var es=0;function Fo(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function lo(s){s.readyState=4,s.l=null,s.j=null,s.A=null,uo(s)}function uo(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Y=co.prototype).open=function(s,t){if(this.readyState!=es)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=t,this.readyState=1,uo(this)},Y.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(t.body=s),(this.D||ne).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=es},Y.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fo(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},Y.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var t=s.value?s.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!s.done}))&&(this.response=this.responseText+=t)}s.done?lo(this):uo(this),3==this.readyState&&Fo(this)}},Y.Va=function(s){this.g&&(this.response=this.responseText=s,lo(this))},Y.Ua=function(s){this.g&&(this.response=s,lo(this))},Y.ga=function(){this.g&&lo(this)},Y.setRequestHeader=function(s,t){this.v.append(s,t)},Y.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],t=this.h.entries();for(var i=t.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=t.next();return s.join("\r\n")},Object.defineProperty(co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ca=ne.JSON.parse;function Dr(s){gr.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hr,this.K=this.L=!1}lt(Dr,gr);var hr="",ss=/^https?$/i,ho=["POST","PUT"];function Va(s,t){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=t,s.m=5,os(s),Pi(s)}function os(s){s.D||(s.D=!0,Pr(s,"complete"),Pr(s,"error"))}function nr(s){if(s.h&&typeof fe<"u"&&(!s.C[1]||4!=Yi(s)||2!=s.aa()))if(s.v&&4==Yi(s))ti(s.Ha,0,s);else if(Pr(s,"readystatechange"),4==Yi(s)){s.h=!1;try{const P=s.aa();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var a;if(a=0===P){var l=String(s.H).match(dr)[1]||null;if(!l&&ne.self&&ne.self.location){var g=ne.self.location.protocol;l=g.substr(0,g.length-1)}a=!ss.test(l?l.toLowerCase():"")}i=a}if(i)Pr(s,"complete"),Pr(s,"success");else{s.m=6;try{var C=2<Yi(s)?s.g.statusText:""}catch{C=""}s.j=C+" ["+s.aa()+"]",os(s)}}finally{Pi(s)}}}function Pi(s,t){if(s.g){Xi(s);const i=s.g,a=s.C[0]?le:null;s.g=null,s.C=null,t||Pr(s,"ready");try{i.onreadystatechange=a}catch{}}}function Xi(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(ne.clearTimeout(s.A),s.A=null)}function Yi(s){return s.g?s.g.readyState:0}function $s(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case hr:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function cc(s){let t="";return Zr(s,function(i,a){t+=a,t+=":",t+=i,t+="\r\n"}),t}function to(s,t,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=cc(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):cr(s,t,i))}function fo(s,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||t}function ys(s){this.Ca=0,this.i=[],this.j=new cn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fo("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fo("baseRetryDelayMs",5e3,s),this.bb=fo("retryDelaySeedMs",1e4,s),this.$a=fo("forwardChannelMaxRetries",2,s),this.ta=fo("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new eo(s&&s.concurrentRequestLimit),this.Fa=new Po,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Hs(s){if(G(s),3==s.G){var t=s.U++,i=Ii(s.F);cr(i,"SID",s.I),cr(i,"RID",t),cr(i,"TYPE","terminate"),mn(s,i),(t=new zn(s,s.j,t,void 0)).K=2,t.v=Ui(Ii(i)),i=!1,ne.navigator&&ne.navigator.sendBeacon&&(i=ne.navigator.sendBeacon(t.v.toString(),"")),!i&&ne.Image&&((new Image).src=t.v,i=!0),i||(t.g=ua(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ge(t)}Ic(s)}function z(s){s.g&&(Eo(s),s.g.cancel(),s.g=null)}function G(s){z(s),s.u&&(ne.clearTimeout(s.u),s.u=null),po(s),s.h.cancel(),s.m&&("number"==typeof s.m&&ne.clearTimeout(s.m),s.m=null)}function V(s){ms(s.h)||s.m||(s.m=!0,Ae(s.Ja,s),s.C=0)}function ke(s,t){var i;i=t?t.m:s.U++;const a=Ii(s.F);cr(a,"SID",s.I),cr(a,"RID",i),cr(a,"AID",s.T),mn(s,a),s.o&&s.s&&to(a,s.o,s.s),i=new zn(s,s.j,i,s.C+1),null===s.o&&(i.H=s.s),t&&(s.i=t.D.concat(s.i)),t=Ln(s,i,1e3),i.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),So(s.h,i),ri(i,a,t)}function mn(s,t){s.ia&&Zr(s.ia,function(i,a){cr(t,a,i)}),s.l&&gn({},function(i,a){cr(t,a,i)})}function Ln(s,t,i){i=Math.min(s.i.length,i);var a=s.l?wt(s.l.Ra,s.l,s):null;e:{var l=s.i;let g=-1;for(;;){const C=["count="+i];-1==g?0<i?(g=l[0].h,C.push("ofs="+g)):g=0:C.push("ofs="+g);let P=!0;for(let K=0;K<i;K++){let ee=l[K].h;const _e=l[K].g;if(ee-=g,0>ee)g=Math.max(0,l[K].h-100),P=!1;else try{ao(_e,C,"req"+ee+"_")}catch{a&&a(_e)}}if(P){a=C.join("&");break e}}}return s=s.i.splice(0,i),t.D=s,a}function _o(s){s.g||s.u||(s.Z=1,Ae(s.Ia,s),s.A=0)}function no(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=me(wt(s.Ia,s),Ss(s,s.A)),s.A++,0))}function Eo(s){null!=s.B&&(ne.clearTimeout(s.B),s.B=null)}function Qo(s){s.g=new zn(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var t=Ii(s.sa);cr(t,"RID","rpc"),cr(t,"SID",s.I),cr(t,"CI",s.L?"0":"1"),cr(t,"AID",s.T),cr(t,"TYPE","xmlhttp"),mn(s,t),s.o&&s.s&&to(t,s.o,s.s),s.J&&s.g.setTimeout(s.J);var i=s.g;s=s.ka,i.K=1,i.v=Ui(Ii(t)),i.s=null,i.P=!0,Di(i,s)}function po(s){null!=s.v&&(ne.clearTimeout(s.v),s.v=null)}function qo(s,t){var i=null;if(s.g==t){po(s),Eo(s),s.g=null;var a=2}else{if(!Un(s.h,t))return;i=t.D,fi(s.h,t),a=1}if(0!=s.G)if(s.pa=t.Y,t.i)if(1==a){i=t.s?t.s.length:0,t=Date.now()-t.F;var l=s.C;Pr(a=Ds(),new ge(a,i)),V(s)}else _o(s);else if(3==(l=t.o)||0==l&&0<s.pa||!(1==a&&function ue(s,t){return!(Ts(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=t.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=me(wt(s.Ja,s,t),Ss(s,s.C)),s.C++,0)))}(s,t)||2==a&&no(s)))switch(i&&0<i.length&&(t=s.h,t.i=t.i.concat(i)),l){case 1:Bi(s,5);break;case 4:Bi(s,10);break;case 3:Bi(s,6);break;default:Bi(s,2)}}function Ss(s,t){let i=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(i*=2),i*t}function Bi(s,t){if(s.j.info("Error code "+t),2==t){var i=null;s.l&&(i=null);var a=wt(s.kb,s);i||(i=new Ps("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||ks(i,"https"),Ui(i)),function ko(s,t){const i=new cn;if(ne.Image){const a=new Image;a.onload=qt(La,i,a,"TestLoadImage: loaded",!0,t),a.onerror=qt(La,i,a,"TestLoadImage: error",!1,t),a.onabort=qt(La,i,a,"TestLoadImage: abort",!1,t),a.ontimeout=qt(La,i,a,"TestLoadImage: timeout",!1,t),ne.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else t(!1)}(i.toString(),a)}else Mr(2);s.G=0,s.l&&s.l.va(t),Ic(s),G(s)}function Ic(s){if(s.G=0,s.la=[],s.l){const t=bo(s.h);(0!=t.length||0!=s.i.length)&&(Gt(s.la,t),Gt(s.la,s.i),s.h.i.length=0,Ze(s.i),s.i.length=0),s.l.ua()}}function la(s,t,i){var a=i instanceof Ps?Ii(i):new Ps(i,void 0);if(""!=a.g)t&&(a.g=t+"."+a.g),Hi(a,a.m);else{var l=ne.location;a=l.protocol,t=t?t+"."+l.hostname:l.hostname,l=+l.port;var g=new Ps(null,void 0);a&&ks(g,a),t&&(g.g=t),l&&Hi(g,l),i&&(g.l=i),a=g}return t=s.za,(i=s.D)&&t&&cr(a,i,t),cr(a,"VER",s.ma),mn(s,a),a}function ua(s,t,i){if(t&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Dr(i&&s.Da&&!s.ra?new js({jb:!0}):s.ra)).Ka(s.H),t}function tl(){}function Aa(){if(mr&&!(10<=Number(In)))throw Error("Environmental error: no available transport.")}function ki(s,t){gr.call(this),this.g=new ys(t),this.l=s,this.h=t&&t.messageUrlParams||null,s=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(s?s["X-WebChannel-Content-Type"]=t.messageContentType:s={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(s?s["X-WebChannel-Client-Profile"]=t.ya:s={"X-WebChannel-Client-Profile":t.ya}),this.g.S=s,(s=t&&t.Yb)&&!Nt(s)&&(this.g.o=s),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nt(t)&&(this.g.D=t,null!==(s=this.h)&&t in s&&t in(s=this.h)&&delete s[t]),this.j=new da(this)}function Ua(s){Dn.call(this);var t=s.__sm__;if(t){e:{for(const i in t){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,t=null!==t&&s in t?t[s]:void 0),this.data=t}else this.data=s}function Ba(){Qr.call(this),this.status=1}function da(s){this.g=s}(Y=Dr.prototype).Ka=function(s){this.L=s},Y.da=function(s,t,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);t=t?t.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kn.g(),this.C=function Rt(s){return s.h||(s.h=s.i())}(this.u?this.u:Kn),this.g.onreadystatechange=wt(this.Ha,this);try{this.F=!0,this.g.open(t,String(s),!0),this.F=!1}catch(g){return void Va(this,g)}if(s=i||"",i=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var l in a)i.set(l,a[l]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const g of a.keys())i.set(g,a.get(g))}a=Array.from(i.keys()).find(g=>"content-type"==g.toLowerCase()),l=ne.FormData&&s instanceof ne.FormData,!(0<=Bt(ho,t))||a||l||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,C]of i)this.g.setRequestHeader(g,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xi(this),0<this.B&&((this.K=function Lo(s){return mr&&function ht(){return function Nr(s){var t=Le;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=s(9)}(function(){let s=0;const t=et(String(At)).split("."),i=et("9").split("."),a=Math.max(t.length,i.length);for(let C=0;0==s&&C<a;C++){var l=t[C]||"",g=i[C]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;s=on(0==l[1].length?0:parseInt(l[1],10),0==g[1].length?0:parseInt(g[1],10))||on(0==l[2].length,0==g[2].length)||on(l[2],g[2]),l=l[3],g=g[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.qa,this)):this.A=ti(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(g){Va(this,g)}},Y.qa=function(){typeof fe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},Y.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Pr(this,"complete"),Pr(this,"abort"),Pi(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pi(this,!0)),Dr.X.M.call(this)},Y.Ha=function(){this.s||(this.F||this.v||this.l?nr(this):this.fb())},Y.fb=function(){nr(this)},Y.aa=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}},Y.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Sa=function(s){if(this.g){var t=this.g.responseText;return s&&0==t.indexOf(s)&&(t=t.substring(s.length)),ca(t)}},Y.Ea=function(){return this.m},Y.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=ys.prototype).ma=8,Y.G=1,Y.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const l=new zn(this,this.j,s,void 0);let g=this.s;if(this.S&&(g?(g=ei(g),zr(g,this.S)):g=this.S),null!==this.o||this.N||(l.H=g,g=null),this.O)e:{for(var t=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(t+=a)){t=i;break e}if(4096===t||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Ln(this,l,t),cr(i=Ii(this.F),"RID",s),cr(i,"CVER",22),this.D&&cr(i,"X-HTTP-Session-Id",this.D),mn(this,i),g&&(this.N?t="headers="+encodeURIComponent(String(cc(g)))+"&"+t:this.o&&to(i,this.o,g)),So(this.h,l),this.Ya&&cr(i,"TYPE","init"),this.O?(cr(i,"$req",t),cr(i,"SID","null"),l.Z=!0,ri(l,i,null)):ri(l,i,t),this.G=2}}else 3==this.G&&(s?ke(this,s):0==this.i.length||ms(this.h)||ke(this))},Y.Ia=function(){if(this.u=null,Qo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=me(wt(this.eb,this),s)}},Y.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Mr(10),z(this),Qo(this))},Y.cb=function(){null!=this.v&&(this.v=null,z(this),no(this),Mr(19))},Y.kb=function(s){s?(this.j.info("Successfully pinged google.com"),Mr(2)):(this.j.info("Failed to ping google.com"),Mr(1))},(Y=tl.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Ra=function(){},Aa.prototype.g=function(s,t){return new ki(s,t)},lt(ki,gr),ki.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,t=this.l,i=this.h||void 0;Mr(0),s.V=t,s.ia=i||{},s.L=s.Y,s.F=la(s,null,s.V),V(s)},ki.prototype.close=function(){Hs(this.g)},ki.prototype.u=function(s){var t=this.g;if("string"==typeof s){var i={};i.__data__=s,s=i}else this.v&&((i={}).__data__=zi(s),s=i);t.i.push(new To(t.ab++,s)),3==t.G&&V(t)},ki.prototype.M=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,ki.X.M.call(this)},lt(Ua,Dn),lt(Ba,Qr),lt(da,tl),da.prototype.xa=function(){Pr(this.g,"a")},da.prototype.wa=function(s){Pr(this.g,new Ua(s))},da.prototype.va=function(s){Pr(this.g,new Ba)},da.prototype.ua=function(){Pr(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,ki.prototype.send=ki.prototype.u,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Be.COMPLETE="complete",Xt.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",gr.prototype.listen=gr.prototype.N,Dr.prototype.listenOnce=Dr.prototype.O,Dr.prototype.getLastError=Dr.prototype.Oa,Dr.prototype.getLastErrorCode=Dr.prototype.Ea,Dr.prototype.getStatus=Dr.prototype.aa,Dr.prototype.getResponseJson=Dr.prototype.Sa,Dr.prototype.getResponseText=Dr.prototype.fa,Dr.prototype.send=Dr.prototype.da,Dr.prototype.setWithCredentials=Dr.prototype.Ka;var ha=te.createWebChannelTransport=function(){return new Aa},Ao=te.getStatEventTarget=function(){return Ds()},nc=te.ErrorCode=we,qr=te.EventType=Be,ro=te.Event=ai,lc=te.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ja=te.FetchXmlHttpFactory=js,Zi=te.WebChannel=Xt,Vc=te.XhrIo=Dr;const Ma="@firebase/firestore";class ts{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");let Ws="9.17.1";const fa=new H.Vy("@firebase/firestore");function Vo(){return fa.logLevel}function zt(s,...t){if(fa.logLevel<=H.$b.DEBUG){const i=t.map(Yo);fa.debug(`Firestore (${Ws}): ${s}`,...i)}}function Fi(s,...t){if(fa.logLevel<=H.$b.ERROR){const i=t.map(Yo);fa.error(`Firestore (${Ws}): ${s}`,...i)}}function $a(s,...t){if(fa.logLevel<=H.$b.WARN){const i=t.map(Yo);fa.warn(`Firestore (${Ws}): ${s}`,...i)}}function Yo(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Yt(s="Unexpected state"){const t=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+s;throw Fi(t),new Error(t)}function Ye(s,t){s||Yt()}function $t(s,t){return s}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Z.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class Uo{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ts.UNAUTHENTICATED))}shutdown(){}}class as{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Bo{constructor(t){this.t=t,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var a=this;let l=this.i;const g=ee=>this.i!==l?(l=this.i,i(ee)):Promise.resolve();let C=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Ur,t.enqueueRetryable(()=>g(this.currentUser))};const P=()=>{const ee=C;t.enqueueRetryable((0,p.A)(function*(){yield ee.promise,yield g(a.currentUser)}))},K=ee=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(ee=>K(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?K(ee):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Ur)}},0),P()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye("string"==typeof a.accessToken),new Uo(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ye(null===t||"string"==typeof t),new ts(t)}}class lr{constructor(t,i,a,l){this.h=t,this.l=i,this.m=a,this.g=l,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ye(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jo{constructor(t,i,a,l){this.h=t,this.l=i,this.m=a,this.g=l}getToken(){return Promise.resolve(new lr(this.h,this.l,this.m,this.g))}start(t,i){t.enqueueRetryable(()=>i(ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ha{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pa{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,i){const a=g=>{null!=g.error&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const C=g.token!==this.A;return this.A=g.token,zt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?i(g.token):Promise.resolve()};this.o=g=>{t.enqueueRetryable(()=>a(g))};const l=g=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>l(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?l(g):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ye("string"==typeof i.token),this.A=i.token,new Ha(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rc(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Xr{static R(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const l=rc(40);for(let g=0;g<l.length;++g)a.length<20&&l[g]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[g]%62))}return a}}function Pn(s,t){return s<t?-1:s>t?1:0}function Io(s,t,i){return s.length===t.length&&s.every((a,l)=>i(a,t[l]))}function nl(s){return s+"\0"}class N{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Ot(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ot(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new Ot(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ot(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return N.fromMillis(Date.now())}static fromDate(t){return N.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new N(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new q(t)}static min(){return new q(new N(0,0))}static max(){return new q(new N(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class U{constructor(t,i,a){void 0===i?i=0:i>t.length&&Yt(),void 0===a?a=t.length-i:a>t.length-i&&Yt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return 0===U.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof U?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const g=t.get(l),C=i.get(l);if(g<C)return-1;if(g>C)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class W extends U{construct(t,i,a){return new W(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new Ot(at.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new W(i)}static emptyPath(){return new W([])}}const ve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends U{construct(t,i,a){return new nt(t,i,a)}static isValidIdentifier(t){return ve.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const g=()=>{if(0===a.length)throw new Ot(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let C=!1;for(;l<t.length;){const P=t[l];if("\\"===P){if(l+1===t.length)throw new Ot(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const K=t[l+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new Ot(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=K,l+=2}else"`"===P?(C=!C,l++):"."!==P||C?(a+=P,l++):(g(),l++)}if(g(),C)throw new Ot(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nt(i)}static emptyPath(){return new nt([])}}class je{constructor(t){this.path=t}static fromPath(t){return new je(W.fromString(t))}static fromName(t){return new je(W.fromString(t).popFirst(5))}static empty(){return new je(W.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===W.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return W.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new je(new W(t.slice()))}}class un{constructor(t,i,a,l){this.indexId=t,this.collectionGroup=i,this.fields=a,this.indexState=l}}function Qn(s){return s.fields.find(t=>2===t.kind)}function kr(s){return s.fields.filter(t=>2!==t.kind)}un.UNKNOWN_ID=-1;class Yn{constructor(t,i){this.fieldPath=t,this.kind=i}}class qn{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new qn(0,Li.min())}}function Gs(s){return new Li(s.readTime,s.key,-1)}class Li{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Li(q.min(),je.empty(),-1)}static max(){return new Li(q.max(),je.empty(),-1)}}function vs(s,t){let i=s.readTime.compareTo(t.readTime);return 0!==i?i:(i=je.comparator(s.documentKey,t.documentKey),0!==i?i:Pn(s.largestBatchId,t.largestBatchId))}const go="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ra{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Fr(s){return mo.apply(this,arguments)}function mo(){return mo=(0,p.A)(function*(s){if(s.code!==at.FAILED_PRECONDITION||s.message!==go)throw s;zt("LocalStore","Unexpectedly lost primary lease")}),mo.apply(this,arguments)}class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new ct((a,l)=>{this.nextCallback=g=>{this.wrapSuccess(t,g).next(a,l)},this.catchCallback=g=>{this.wrapFailure(i,g).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof ct?i:ct.resolve(i)}catch(i){return ct.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):ct.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):ct.reject(i)}static resolve(t){return new ct((i,a)=>{i(t)})}static reject(t){return new ct((i,a)=>{a(t)})}static waitFor(t){return new ct((i,a)=>{let l=0,g=0,C=!1;t.forEach(P=>{++l,P.next(()=>{++g,C&&g===l&&i()},K=>a(K))}),C=!0,g===l&&i()})}static or(t){let i=ct.resolve(!1);for(const a of t)i=i.next(l=>l?ct.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,g)=>{a.push(i.call(this,l,g))}),this.waitFor(a)}static mapArray(t,i){return new ct((a,l)=>{const g=t.length,C=new Array(g);let P=0;for(let K=0;K<g;K++){const ee=K;i(t[ee]).next(_e=>{C[ee]=_e,++P,P===g&&a(C)},_e=>l(_e))}})}static doWhile(t,i){return new ct((a,l)=>{const g=()=>{!0===t()?i().next(()=>{g()},l):a()};g()})}}class ga{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.P=new Ur,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{i.error?this.P.reject(new Cc(t,i.error)):this.P.resolve()},this.transaction.onerror=a=>{const l=Uc(a.target.error);this.P.reject(new Cc(t,l))}}static open(t,i,a,l){try{return new ga(i,t.transaction(l,a))}catch(g){throw new Cc(i,g)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(zt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Bl(i)}}class Mo{constructor(t,i,a){this.name=t,this.version=i,this.S=a,12.2===Mo.D((0,Z.ZQ)())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return zt("SimpleDb","Removing database:",t),Fs(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,Z.zW)())return!1;if(Mo.N())return!0;const t=(0,Z.ZQ)(),i=Mo.D(t),a=0<i&&i<10,l=Mo.k(t),g=0<l&&l<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||a||g)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,i){return t.store(i)}static D(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(t){const i=t.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(t){var i=this;return(0,p.A)(function*(){return i.db||(zt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,l)=>{const g=indexedDB.open(i.name,i.version);g.onsuccess=C=>{a(C.target.result)},g.onblocked=()=>{l(new Cc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=C=>{const P=C.target.error;l("VersionError"===P.name?new Ot(at.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Ot(at.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Cc(t,P))},g.onupgradeneeded=C=>{zt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.S.$(C.target.result,g.transaction,C.oldVersion,i.version).next(()=>{zt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.B&&(i.db.onversionchange=a=>i.B(a)),i.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,a,l){var g=this;return(0,p.A)(function*(){const C="readonly"===i;let P=0;for(;;){++P;try{g.db=yield g.F(t);const K=ga.open(g.db,t,C?"readonly":"readwrite",a),ee=l(K).next(_e=>(K.V(),_e)).catch(_e=>(K.abort(_e),ct.reject(_e))).toPromise();return ee.catch(()=>{}),yield K.v,ee}catch(K){const ee=K,_e="FirebaseError"!==ee.name&&P<3;if(zt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",_e),g.close(),!_e)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Cu{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return Fs(this.q.delete())}}class Cc extends Ot{constructor(t,i){super(at.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function ma(s){return"IndexedDbTransactionError"===s.name}class Bl{constructor(t){this.store=t}put(t,i){let a;return void 0!==i?(zt("SimpleDb","PUT",this.store.name,t,i),a=this.store.put(i,t)):(zt("SimpleDb","PUT",this.store.name,"<auto-key>",t),a=this.store.put(t)),Fs(a)}add(t){return zt("SimpleDb","ADD",this.store.name,t,t),Fs(this.store.add(t))}get(t){return Fs(this.store.get(t)).next(i=>(void 0===i&&(i=null),zt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return zt("SimpleDb","DELETE",this.store.name,t),Fs(this.store.delete(t))}count(){return zt("SimpleDb","COUNT",this.store.name),Fs(this.store.count())}W(t,i){const a=this.options(t,i);if(a.index||"function"!=typeof this.store.getAll){const l=this.cursor(a),g=[];return this.H(l,(C,P)=>{g.push(P)}).next(()=>g)}{const l=this.store.getAll(a.range);return new ct((g,C)=>{l.onerror=P=>{C(P.target.error)},l.onsuccess=P=>{g(P.target.result)}})}}J(t,i){const a=this.store.getAll(t,null===i?void 0:i);return new ct((l,g)=>{a.onerror=C=>{g(C.target.error)},a.onsuccess=C=>{l(C.target.result)}})}Y(t,i){zt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(t,i);a.X=!1;const l=this.cursor(a);return this.H(l,(g,C,P)=>P.delete())}Z(t,i){let a;i?a=t:(a={},i=t);const l=this.cursor(a);return this.H(l,i)}tt(t){const i=this.cursor({});return new ct((a,l)=>{i.onerror=g=>{const C=Uc(g.target.error);l(C)},i.onsuccess=g=>{const C=g.target.result;C?t(C.primaryKey,C.value).next(P=>{P?C.continue():a()}):a()}})}H(t,i){const a=[];return new ct((l,g)=>{t.onerror=C=>{g(C.target.error)},t.onsuccess=C=>{const P=C.target.result;if(!P)return void l();const K=new Cu(P),ee=i(P.primaryKey,P.value,K);if(ee instanceof ct){const _e=ee.catch(Fe=>(K.done(),ct.reject(Fe)));a.push(_e)}K.isDone?l():null===K.G?P.continue():P.continue(K.G)}}).next(()=>ct.waitFor(a))}options(t,i){let a;return void 0!==t&&("string"==typeof t?a=t:i=t),{index:a,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const a=this.store.index(t.index);return t.X?a.openKeyCursor(t.range,i):a.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function Fs(s){return new ct((t,i)=>{s.onsuccess=a=>{t(a.target.result)},s.onerror=a=>{const l=Uc(a.target.error);i(l)}})}let jl=!1;function Uc(s){const t=Mo.D((0,Z.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new Ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jl||(jl=!0,setTimeout(()=>{throw a},0)),a}}return s}class Bc{constructor(t,i){this.asyncQueue=t,this.et=i,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var i=this;zt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,p.A)(function*(){i.task=null;try{zt("IndexBackiller",`Documents written: ${yield i.et.st()}`)}catch(a){ma(a)?zt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Fr(a)}yield i.nt(6e4)}))}}class rl{constructor(t,i){this.localStore=t,this.persistence=i}st(t=50){var i=this;return(0,p.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.it(a,t))})()}it(t,i){const a=new Set;let l=i,g=!0;return ct.doWhile(()=>!0===g&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(C=>{if(null!==C&&!a.has(C))return zt("IndexBackiller",`Processing collection: ${C}`),this.rt(t,C,l).next(P=>{l-=P,a.add(C)});g=!1})).next(()=>i-l)}rt(t,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(l=>this.localStore.localDocuments.getNextDocuments(t,i,l,a).next(g=>{const C=g.changes;return this.localStore.indexManager.updateIndexEntries(t,C).next(()=>this.ot(l,g)).next(P=>(zt("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(t,i,P))).next(()=>C.size)}))}ot(t,i){let a=t;return i.changes.forEach((l,g)=>{const C=Gs(g);vs(C,a)>0&&(a=C)}),new Li(a.readTime,a.documentKey,Math.max(i.batchId,t.largestBatchId))}}let $o=(()=>{class s{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>a.writeSequenceNumber(l))}ut(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ct&&this.ct(i),i}}return s.at=-1,s})();class Du{constructor(t,i,a,l,g,C,P,K){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=g,this.forceLongPolling=C,this.autoDetectLongPolling=P,this.useFetchStreams=K}}class Dc{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Dc&&t.projectId===this.projectId&&t.database===this.database}}function Wa(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ga(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function wc(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ks(s){return null==s}function uc(s){return 0===s&&1/s==-1/0}class bs{constructor(t){this.binaryString=t}static fromBase64String(t){const i=atob(t);return new bs(i)}static fromUint8Array(t){const i=function(a){let l="";for(let g=0;g<a.length;++g)l+=String.fromCharCode(a[g]);return l}(t);return new bs(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const il=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(s){if(Ye(!!s),"string"==typeof s){let t=0;const i=il.exec(s);if(Ye(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ri(s.seconds),nanos:Ri(s.nanos)}}function Ri(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Tc(s){return"string"==typeof s?bs.fromBase64String(s):bs.fromUint8Array(s)}function Ro(s){var t,i;return"server_timestamp"===(null===(i=((null===(t=s?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Ka(s){const t=s.mapValue.fields.__previous_value__;return Ro(t)?Ka(t):t}function dc(s){const t=ya(s.mapValue.fields.__local_write_time__.timestampValue);return new N(t.seconds,t.nanos)}const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ho={nullValue:"NULL_VALUE"};function zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ro(s)?4:An(s)?9007199254740991:10:Yt()}function As(s,t){if(s===t)return!0;const i=zs(s);if(i!==zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return dc(s).isEqual(dc(t));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const g=ya(a.timestampValue),C=ya(l.timestampValue);return g.seconds===C.seconds&&g.nanos===C.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return l=t,Tc(s.bytesValue).isEqual(Tc(l.bytesValue));case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,l){return Ri(a.geoPointValue.latitude)===Ri(l.geoPointValue.latitude)&&Ri(a.geoPointValue.longitude)===Ri(l.geoPointValue.longitude)}(s,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ri(a.integerValue)===Ri(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const g=Ri(a.doubleValue),C=Ri(l.doubleValue);return g===C?uc(g)===uc(C):isNaN(g)&&isNaN(C)}return!1}(s,t);case 9:return Io(s.arrayValue.values||[],t.arrayValue.values||[],As);case 10:return function(a,l){const g=a.mapValue.fields||{},C=l.mapValue.fields||{};if(Wa(g)!==Wa(C))return!1;for(const P in g)if(g.hasOwnProperty(P)&&(void 0===C[P]||!As(g[P],C[P])))return!1;return!0}(s,t);default:return Yt()}var l}function za(s,t){return void 0!==(s.values||[]).find(i=>As(i,t))}function wr(s,t){if(s===t)return 0;const i=zs(s),a=zs(t);if(i!==a)return Pn(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pn(s.booleanValue,t.booleanValue);case 2:return function(l,g){const C=Ri(l.integerValue||l.doubleValue),P=Ri(g.integerValue||g.doubleValue);return C<P?-1:C>P?1:C===P?0:isNaN(C)?isNaN(P)?0:-1:1}(s,t);case 3:return b(s.timestampValue,t.timestampValue);case 4:return b(dc(s),dc(t));case 5:return Pn(s.stringValue,t.stringValue);case 6:return function(l,g){const C=Tc(l),P=Tc(g);return C.compareTo(P)}(s.bytesValue,t.bytesValue);case 7:return function(l,g){const C=l.split("/"),P=g.split("/");for(let K=0;K<C.length&&K<P.length;K++){const ee=Pn(C[K],P[K]);if(0!==ee)return ee}return Pn(C.length,P.length)}(s.referenceValue,t.referenceValue);case 8:return function(l,g){const C=Pn(Ri(l.latitude),Ri(g.latitude));return 0!==C?C:Pn(Ri(l.longitude),Ri(g.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return function(l,g){const C=l.values||[],P=g.values||[];for(let K=0;K<C.length&&K<P.length;++K){const ee=wr(C[K],P[K]);if(ee)return ee}return Pn(C.length,P.length)}(s.arrayValue,t.arrayValue);case 10:return function(l,g){if(l===Zo.mapValue&&g===Zo.mapValue)return 0;if(l===Zo.mapValue)return 1;if(g===Zo.mapValue)return-1;const C=l.fields||{},P=Object.keys(C),K=g.fields||{},ee=Object.keys(K);P.sort(),ee.sort();for(let _e=0;_e<P.length&&_e<ee.length;++_e){const Fe=Pn(P[_e],ee[_e]);if(0!==Fe)return Fe;const ft=wr(C[P[_e]],K[ee[_e]]);if(0!==ft)return ft}return Pn(P.length,ee.length)}(s.mapValue,t.mapValue);default:throw Yt()}}function b(s,t){if("string"==typeof s&&"string"==typeof t&&s.length===t.length)return Pn(s,t);const i=ya(s),a=ya(t),l=Pn(i.seconds,a.seconds);return 0!==l?l:Pn(i.nanos,a.nanos)}function F(s){return R(s)}function R(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const l=ya(a);return`time(${l.seconds},${l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Tc(s.bytesValue).toBase64():"referenceValue"in s?je.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(t=s.geoPointValue).latitude},${t.longitude})`:"arrayValue"in s?function(a){let l="[",g=!0;for(const C of a.values||[])g?g=!1:l+=",",l+=R(C);return l+"]"}(s.arrayValue):"mapValue"in s?function(a){const l=Object.keys(a.fields||{}).sort();let g="{",C=!0;for(const P of l)C?C=!1:g+=",",g+=`${P}:${R(a.fields[P])}`;return g+"}"}(s.mapValue):Yt();var t}function L(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function X(s){return!!s&&"integerValue"in s}function he(s){return!!s&&"arrayValue"in s}function Se(s){return!!s&&"nullValue"in s}function gt(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ze(s){return!!s&&"mapValue"in s}function an(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ga(s.mapValue.fields,(i,a)=>t.mapValue.fields[i]=an(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=an(s.arrayValue.values[i]);return t}return Object.assign({},s)}function An(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ir(s){return"nullValue"in s?Ho:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?L(Dc.empty(),je.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Yt()}function _i(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?L(Dc.empty(),je.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Zo:Yt()}function yo(s,t){const i=wr(s.value,t.value);return 0!==i?i:s.inclusive&&!t.inclusive?-1:!s.inclusive&&t.inclusive?1:0}function Ls(s,t){const i=wr(s.value,t.value);return 0!==i?i:s.inclusive&&!t.inclusive?1:!s.inclusive&&t.inclusive?-1:0}class Vs{constructor(t,i){this.position=t,this.inclusive=i}}function cs(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const g=t[l],C=s.position[l];if(a=g.field.isKeyField()?je.comparator(je.fromName(C.referenceValue),i.key):wr(C,i.data.field(g.field)),"desc"===g.dir&&(a*=-1),0!==a)break}return a}function Wo(s,t){if(null===s)return null===t;if(null===t||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!As(s.position[i],t.position[i]))return!1;return!0}class Sc{}class pr extends Sc{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,a):new Hc(t,i,a):"array-contains"===i?new ol(t,a):"in"===i?new Gc(t,a):"not-in"===i?new Et(t,a):"array-contains-any"===i?new yr(t,a):new pr(t,i,a)}static createKeyFieldInFilter(t,i,a){return"in"===i?new Hu(t,a):new Wc(t,a)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(wr(i,this.value)):null!==i&&zs(this.value)===zs(i)&&this.matchesComparison(wr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends Sc{constructor(t,i){super(),this.filters=t,this.op=i,this.ht=null}static create(t,i){return new yn(t,i)}matches(t){return ic(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(i=>i.isInequality());return null!==t?t.field:null}lt(t){for(const i of this.getFlattenedFilters())if(t(i))return i;return null}}function ic(s){return"and"===s.op}function Qa(s){return"or"===s.op}function jc(s){return nu(s)&&ic(s)}function nu(s){for(const t of s.filters)if(t instanceof yn)return!1;return!0}function sl(s){if(s instanceof pr)return s.field.canonicalString()+s.op.toString()+F(s.value);if(jc(s))return s.filters.map(t=>sl(t)).join(",");{const t=s.filters.map(i=>sl(i)).join(",");return`${s.op}(${t})`}}function ru(s,t){return s instanceof pr?(i=s,(a=t)instanceof pr&&i.op===a.op&&i.field.isEqual(a.field)&&As(i.value,a.value)):s instanceof yn?function(i,a){return a instanceof yn&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((l,g,C)=>l&&ru(g,a.filters[C]),!0)}(s,t):void Yt();var i,a}function hc(s,t){const i=s.filters.concat(t);return yn.create(i,s.op)}function $c(s){return s instanceof pr?`${(t=s).field.canonicalString()} ${t.op} ${F(t.value)}`:s instanceof yn?function(t){return t.op.toString()+" {"+t.getFilters().map($c).join(" ,")+"}"}(s):"Filter";var t}class Hc extends pr{constructor(t,i,a){super(t,i,a),this.key=je.fromName(a.referenceValue)}matches(t){const i=je.comparator(t.key,this.key);return this.matchesComparison(i)}}class Hu extends pr{constructor(t,i){super(t,"in",i),this.keys=$l(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Wc extends pr{constructor(t,i){super(t,"not-in",i),this.keys=$l(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function $l(s,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>je.fromName(a.referenceValue))}class ol extends pr{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return he(i)&&za(i.arrayValue,this.value)}}class Gc extends pr{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&za(this.value.arrayValue,i)}}class Et extends pr{constructor(t,i){super(t,"not-in",i)}matches(t){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!za(this.value.arrayValue,i)}}class yr extends pr{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!he(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>za(this.value.arrayValue,a))}}class sc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Hl(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class kn{constructor(t,i){this.comparator=t,this.root=i||_s.EMPTY}insert(t,i){return new kn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(t){return new kn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_s.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(0===l)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fc(this.root,t,this.comparator,!0)}}class fc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let g=1;for(;!t.isEmpty();)if(g=i?a(t.key,i):1,i&&l&&(g*=-1),g<0)t=this.isReverse?t.left:t.right;else{if(0===g){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _s{constructor(t,i,a,l,g){this.key=t,this.value=i,this.color=a??_s.RED,this.left=l??_s.EMPTY,this.right=g??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,g){return new _s(t??this.key,i??this.value,a??this.color,l??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const g=a(t,l.key);return l=g<0?l.copy(null,null,null,l.left.insert(t,i,a),null):0===g?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===i(t,l.key)){if(l.right.isEmpty())return _s.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const t=this.left.check();if(t!==this.right.check())throw Yt();return t+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(s,t,i,a,l){return this}insert(s,t,i){return new _s(s,t)}remove(s,t){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kr{constructor(t){this.comparator=t,this.data=new kn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new bc(this.data.getIterator())}getIteratorFrom(t){return new bc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Kr)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,g=a.getNext().key;if(0!==this.comparator(l,g))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Kr(this.comparator);return i.data=t,i}}class bc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ms(s){return s.hasNext()?s.getNext():void 0}class io{constructor(t){this.fields=t,t.sort(nt.comparator)}static empty(){return new io([])}unionWith(t){let i=new Kr(nt.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new io(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,(i,a)=>i.isEqual(a))}}class No{constructor(t){this.value=t}static empty(){return new No({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!ze(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=an(i)}setAll(t){let i=nt.emptyPath(),a={},l=[];t.forEach((C,P)=>{if(!i.isImmediateParentOf(P)){const K=this.getFieldsMap(i);this.applyChanges(K,a,l),a={},l=[],i=P.popLast()}C?a[P.lastSegment()]=an(C):l.push(P.lastSegment())});const g=this.getFieldsMap(i);this.applyChanges(g,a,l)}delete(t){const i=this.field(t.popLast());ze(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return As(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];ze(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ga(i,(l,g)=>t[l]=g);for(const l of a)delete t[l]}clone(){return new No(an(this.value))}}function wu(s){const t=[];return Ga(s.fields,(i,a)=>{const l=new nt([i]);if(ze(a)){const g=wu(a.mapValue).fields;if(0===g.length)t.push(l);else for(const C of g)t.push(l.child(C))}else t.push(l)}),new io(t)}class Ni{constructor(t,i,a,l,g,C,P){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=g,this.data=C,this.documentState=P}static newInvalidDocument(t){return new Ni(t,0,q.min(),q.min(),q.min(),No.empty(),0)}static newFoundDocument(t,i,a,l){return new Ni(t,1,i,q.min(),a,l,0)}static newNoDocument(t,i){return new Ni(t,2,i,q.min(),q.min(),No.empty(),0)}static newUnknownDocument(t,i){return new Ni(t,3,i,q.min(),q.min(),No.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=No.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=No.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class al{constructor(t,i=null,a=[],l=[],g=null,C=null,P=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=g,this.startAt=C,this.endAt=P,this.ft=null}}function Oo(s,t=null,i=[],a=[],l=null,g=null,C=null){return new al(s,t,i,a,l,g,C)}function Es(s){const t=$t(s);if(null===t.ft){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>sl(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),Ks(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>F(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>F(a)).join(",")),t.ft=i}return t.ft}function Rs(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Hl(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ru(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Wo(s.startAt,t.startAt)&&Wo(s.endAt,t.endAt)}function pc(s){return je.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Go(s,t){return s.filters.filter(i=>i instanceof pr&&i.field.isEqual(t))}function va(s,t,i){let a=Ho,l=!0;for(const g of Go(s,t)){let C=Ho,P=!0;switch(g.op){case"<":case"<=":C=Ir(g.value);break;case"==":case"in":case">=":C=g.value;break;case">":C=g.value,P=!1;break;case"!=":case"not-in":C=Ho}yo({value:a,inclusive:l},{value:C,inclusive:P})<0&&(a=C,l=P)}if(null!==i)for(let g=0;g<s.orderBy.length;++g)if(s.orderBy[g].field.isEqual(t)){const C=i.position[g];yo({value:a,inclusive:l},{value:C,inclusive:i.inclusive})<0&&(a=C,l=i.inclusive);break}return{value:a,inclusive:l}}function iu(s,t,i){let a=Zo,l=!0;for(const g of Go(s,t)){let C=Zo,P=!0;switch(g.op){case">=":case">":C=_i(g.value),P=!1;break;case"==":case"in":case"<=":C=g.value;break;case"<":C=g.value,P=!1;break;case"!=":case"not-in":C=Zo}Ls({value:a,inclusive:l},{value:C,inclusive:P})>0&&(a=C,l=P)}if(null!==i)for(let g=0;g<s.orderBy.length;++g)if(s.orderBy[g].field.isEqual(t)){const C=i.position[g];Ls({value:a,inclusive:l},{value:C,inclusive:i.inclusive})>0&&(a=C,l=i.inclusive);break}return{value:a,inclusive:l}}class Ns{constructor(t,i=null,a=[],l=[],g=null,C="F",P=null,K=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=g,this.limitType=C,this.startAt=P,this.endAt=K,this.dt=null,this._t=null}}function cl(s){return new Ns(s)}function Dl(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function wl(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Ac(s){for(const t of s.filters){const i=t.getFirstInequalityField();if(null!==i)return i}return null}function ll(s){return null!==s.collectionGroup}function Mc(s){const t=$t(s);if(null===t.dt){t.dt=[];const i=Ac(t),a=wl(t);if(null!==i&&null===a)i.isKeyField()||t.dt.push(new sc(i)),t.dt.push(new sc(nt.keyField(),"asc"));else{let l=!1;for(const g of t.explicitOrderBy)t.dt.push(g),g.field.isKeyField()&&(l=!0);if(!l){const g=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new sc(nt.keyField(),g))}}}return t.dt}function Qs(s){const t=$t(s);if(!t._t)if("F"===t.limitType)t._t=Oo(t.path,t.collectionGroup,Mc(t),t.filters,t.limit,t.startAt,t.endAt);else{const i=[];for(const g of Mc(t))i.push(new sc(g.field,"desc"===g.dir?"asc":"desc"));const a=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,l=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;t._t=Oo(t.path,t.collectionGroup,i,t.filters,t.limit,a,l)}return t._t}function Rc(s,t){t.getFirstInequalityField(),Ac(s);const i=s.filters.concat([t]);return new Ns(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ul(s,t,i){return new Ns(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Kc(s,t){return Rs(Qs(s),Qs(t))&&s.limitType===t.limitType}function Tl(s){return`${Es(Qs(s))}|lt:${s.limitType}`}function zc(s){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>$c(a)).join(", ")}]`),Ks(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(l=a).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>F(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>F(a)).join(",")),`Target(${i})`}(Qs(s))}; limitType=${s.limitType})`}function Qc(s,t){return t.isFoundDocument()&&function(i,a){const l=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):je.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(s,t)&&function(i,a){for(const l of Mc(i))if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(s,t)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(s,t)&&(a=t,!((i=s).startAt&&!function(l,g,C){const P=cs(l,g,C);return l.inclusive?P<=0:P<0}(i.startAt,Mc(i),a)||i.endAt&&!function(l,g,C){const P=cs(l,g,C);return l.inclusive?P>=0:P>0}(i.endAt,Mc(i),a)));var i,a}function so(s){return(t,i)=>{let a=!1;for(const l of Mc(s)){const g=Oc(l,t,i);if(0!==g)return g;a=a||l.field.isKeyField()}return 0}}function Oc(s,t,i){const a=s.field.isKeyField()?je.comparator(t.key,i.key):function(l,g,C){const P=g.data.field(l),K=C.data.field(l);return null!==P&&null!==K?wr(P,K):Yt()}(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Yt()}}function Ci(s,t){if(s.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(t)?"-0":t}}function Sl(s){return{integerValue:""+s}}function ou(s,t){return function Il(s){return"number"==typeof s&&Number.isInteger(s)&&!uc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(t)?Sl(t):Ci(s,t)}class dl{constructor(){this._=void 0}}function au(s,t,i){return s instanceof _a?function(a,l){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(g.fields.__previous_value__=l),{mapValue:g}}(i,t):s instanceof Os?oc(s,t):s instanceof Ea?qc(s,t):function(a,l){const g=hl(a,l),C=bl(g)+bl(a.gt);return X(g)&&X(a.gt)?Sl(C):Ci(a.yt,C)}(s,t)}function Wl(s,t,i){return s instanceof Os?oc(s,t):s instanceof Ea?qc(s,t):i}function hl(s,t){return s instanceof Na?X(i=t)||(a=i)&&"doubleValue"in a?t:{integerValue:0}:null;var a,i}class _a extends dl{}class Os extends dl{constructor(t){super(),this.elements=t}}function oc(s,t){const i=xc(t);for(const a of s.elements)i.some(l=>As(l,a))||i.push(a);return{arrayValue:{values:i}}}class Ea extends dl{constructor(t){super(),this.elements=t}}function qc(s,t){let i=xc(t);for(const a of s.elements)i=i.filter(l=>!As(l,a));return{arrayValue:{values:i}}}class Na extends dl{constructor(t,i){super(),this.yt=t,this.gt=i}}function bl(s){return Ri(s.integerValue||s.doubleValue)}function xc(s){return he(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class fl{constructor(t,i){this.field=t,this.transform=i}}class v{constructor(t,i){this.version=t,this.transformResults=i}}class I{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new I}static exists(t){return new I(void 0,t)}static updateTime(t){return new I(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function k(s,t){return void 0!==s.updateTime?t.isFoundDocument()&&t.version.isEqual(s.updateTime):void 0===s.exists||s.exists===t.isFoundDocument()}class se{}function Ee(s,t){if(!s.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return s.isNoDocument()?new Xc(s.key,I.none()):new Tr(s.key,s.data,I.none());{const i=s.data,a=No.empty();let l=new Kr(nt.comparator);for(let g of t.fields)if(!l.has(g)){let C=i.field(g);null===C&&g.length>1&&(g=g.popLast(),C=i.field(g)),null===C?a.delete(g):a.set(g,C),l=l.add(g)}return new pi(s.key,a,new io(l.toArray()),I.none())}}function ut(s,t,i){s instanceof Tr?function(a,l,g){const C=a.value.clone(),P=Oa(a.fieldTransforms,l,g.transformResults);C.setAll(P),l.convertToFoundDocument(g.version,C).setHasCommittedMutations()}(s,t,i):s instanceof pi?function(a,l,g){if(!k(a.precondition,l))return void l.convertToUnknownDocument(g.version);const C=Oa(a.fieldTransforms,l,g.transformResults),P=l.data;P.setAll(Ia(a)),P.setAll(C),l.convertToFoundDocument(g.version,P).setHasCommittedMutations()}(s,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function Wt(s,t,i,a){return s instanceof Tr?function(l,g,C,P){if(!k(l.precondition,g))return C;const K=l.value.clone(),ee=xa(l.fieldTransforms,P,g);return K.setAll(ee),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null}(s,t,i,a):s instanceof pi?function(l,g,C,P){if(!k(l.precondition,g))return C;const K=xa(l.fieldTransforms,P,g),ee=g.data;return ee.setAll(Ia(l)),ee.setAll(K),g.convertToFoundDocument(g.version,ee).setHasLocalMutations(),null===C?null:C.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_e=>_e.field))}(s,t,i,a):(C=i,k(s.precondition,g=t)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):C);var g,C}function En(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),g=hl(a.transform,l||null);null!=g&&(null===i&&(i=No.empty()),i.set(a.field,g))}return i||null}function Xn(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&(a=t.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&Io(i,a,(l,g)=>function x(s,t){return s.field.isEqual(t.field)&&(a=t.transform,(i=s.transform)instanceof Os&&a instanceof Os||i instanceof Ea&&a instanceof Ea?Io(i.elements,a.elements,As):i instanceof Na&&a instanceof Na?As(i.gt,a.gt):i instanceof _a&&a instanceof _a);var i,a}(l,g))))&&(0===s.type?s.value.isEqual(t.value):1!==s.type||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask));var i,a}class Tr extends se{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pi extends se{constructor(t,i,a,l,g=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Ia(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}}),t}function Oa(s,t,i){const a=new Map;Ye(s.length===i.length);for(let l=0;l<i.length;l++){const g=s[l],C=g.transform,P=t.data.field(g.field);a.set(g.field,Wl(C,P,i[l]))}return a}function xa(s,t,i){const a=new Map;for(const l of s){const g=l.transform,C=i.data.field(l.field);a.set(l.field,au(g,C,t))}return a}class Xc extends se{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Is extends se{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qa{constructor(t){this.count=t}}var Ti,Or;function ea(s){if(void 0===s)return Fi("GRPC error has no .code"),at.UNKNOWN;switch(s){case Ti.OK:return at.OK;case Ti.CANCELLED:return at.CANCELLED;case Ti.UNKNOWN:return at.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return at.INTERNAL;case Ti.UNAVAILABLE:return at.UNAVAILABLE;case Ti.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ti.NOT_FOUND:return at.NOT_FOUND;case Ti.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ti.ABORTED:return at.ABORTED;case Ti.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ti.DATA_LOSS:return at.DATA_LOSS;default:return Yt()}}(Or=Ti||(Ti={}))[Or.OK=0]="OK",Or[Or.CANCELLED=1]="CANCELLED",Or[Or.UNKNOWN=2]="UNKNOWN",Or[Or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Or[Or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Or[Or.NOT_FOUND=5]="NOT_FOUND",Or[Or.ALREADY_EXISTS=6]="ALREADY_EXISTS",Or[Or.PERMISSION_DENIED=7]="PERMISSION_DENIED",Or[Or.UNAUTHENTICATED=16]="UNAUTHENTICATED",Or[Or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Or[Or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Or[Or.ABORTED=10]="ABORTED",Or[Or.OUT_OF_RANGE=11]="OUT_OF_RANGE",Or[Or.UNIMPLEMENTED=12]="UNIMPLEMENTED",Or[Or.INTERNAL=13]="INTERNAL",Or[Or.UNAVAILABLE=14]="UNAVAILABLE",Or[Or.DATA_LOSS=15]="DATA_LOSS";class Xa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(void 0!==a)for(const[l,g]of a)if(this.equalsFn(l,t))return g}has(t){return void 0!==this.get(t)}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(void 0===l)return this.inner[a]=[[t,i]],void this.innerSize++;for(let g=0;g<l.length;g++)if(this.equalsFn(l[g][0],t))return void(l[g]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return 1===a.length?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ga(this.inner,(i,a)=>{for(const[l,g]of a)t(l,g)})}isEmpty(){return wc(this.inner)}size(){return this.innerSize}}const Al=new kn(je.comparator);function ls(){return Al}const Gl=new kn(je.comparator);function gc(...s){let t=Gl;for(const i of s)t=t.insert(i.key,i);return t}function Kl(s){let t=Gl;return s.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Pa(){return Ml()}function mc(){return Ml()}function Ml(){return new Xa(s=>s.toString(),(s,t)=>s.isEqual(t))}const Wu=new kn(je.comparator),Gu=new Kr(je.comparator);function Sr(...s){let t=Gu;for(const i of s)t=t.add(i);return t}const Pc=new Kr(Pn);function kc(){return Pc}class zl{constructor(t,i,a,l,g){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new zl(q.min(),l,kc(),ls(),Sr())}}class Ql{constructor(t,i,a,l,g){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Sr(),Sr(),Sr())}}class cu{constructor(t,i,a,l){this.It=t,this.removedTargetIds=i,this.key=a,this.Tt=l}}class _d{constructor(t,i){this.targetId=t,this.Et=i}}class Ed{constructor(t,i,a=bs.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Id{constructor(){this.At=0,this.Rt=ch(),this.bt=bs.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Sr(),i=Sr(),a=Sr();return this.Rt.forEach((l,g)=>{switch(g){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Yt()}}),new Ql(this.bt,this.Pt,t,i,a)}xt(){this.vt=!1,this.Rt=ch()}Nt(t,i){this.vt=!0,this.Rt=this.Rt.insert(t,i)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class yc{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=ls(),this.qt=Yc(),this.Ut=new Kr(Pn)}Kt(t){for(const i of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(i,t.Tt):this.Qt(i,t.key,t.Tt);for(const i of t.removedTargetIds)this.Qt(i,t.key,t.Tt)}jt(t){this.forEachTarget(t,i=>{const a=this.Wt(i);switch(t.state){case 0:this.zt(i)&&a.Dt(t.resumeToken);break;case 1:a.Mt(),a.Vt||a.xt(),a.Dt(t.resumeToken);break;case 2:a.Mt(),a.Vt||this.removeTarget(i);break;case 3:this.zt(i)&&(a.Ft(),a.Dt(t.resumeToken));break;case 4:this.zt(i)&&(this.Ht(i),a.Dt(t.resumeToken));break;default:Yt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Bt.forEach((a,l)=>{this.zt(l)&&i(l)})}Jt(t){const i=t.targetId,a=t.Et.count,l=this.Yt(i);if(l){const g=l.target;if(pc(g))if(0===a){const C=new je(g.path);this.Qt(i,C,Ni.newNoDocument(C,q.min()))}else Ye(1===a);else this.Xt(i)!==a&&(this.Ht(i),this.Ut=this.Ut.add(i))}}Zt(t){const i=new Map;this.Bt.forEach((g,C)=>{const P=this.Yt(C);if(P){if(g.current&&pc(P.target)){const K=new je(P.target.path);null!==this.Lt.get(K)||this.te(C,K)||this.Qt(C,K,Ni.newNoDocument(K,t))}g.St&&(i.set(C,g.Ct()),g.xt())}});let a=Sr();this.qt.forEach((g,C)=>{let P=!0;C.forEachWhile(K=>{const ee=this.Yt(K);return!ee||2===ee.purpose||(P=!1,!1)}),P&&(a=a.add(g))}),this.Lt.forEach((g,C)=>C.setReadTime(t));const l=new zl(t,i,this.Ut,this.Lt,a);return this.Lt=ls(),this.qt=Yc(),this.Ut=new Kr(Pn),l}Gt(t,i){if(!this.zt(t))return;const a=this.te(t,i.key)?2:0;this.Wt(t).Nt(i.key,a),this.Lt=this.Lt.insert(i.key,i),this.qt=this.qt.insert(i.key,this.ee(i.key).add(t))}Qt(t,i,a){if(!this.zt(t))return;const l=this.Wt(t);this.te(t,i)?l.Nt(i,1):l.kt(i),this.qt=this.qt.insert(i,this.ee(i).delete(t)),a&&(this.Lt=this.Lt.insert(i,a))}removeTarget(t){this.Bt.delete(t)}Xt(t){const i=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let i=this.Bt.get(t);return i||(i=new Id,this.Bt.set(t,i)),i}ee(t){let i=this.qt.get(t);return i||(i=new Kr(Pn),this.qt=this.qt.insert(t,i)),i}zt(t){const i=null!==this.Yt(t);return i||zt("WatchChangeAggregator","Detected inactive target",t),i}Yt(t){const i=this.Bt.get(t);return i&&i.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new Id),this.$t.getRemoteKeysForTarget(t).forEach(i=>{this.Qt(t,i,null)})}te(t,i){return this.$t.getRemoteKeysForTarget(t).has(i)}}function Yc(){return new kn(je.comparator)}function ch(){return new kn(je.comparator)}const Cd={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rl={and:"AND",or:"OR"};class lu{constructor(t,i){this.databaseId=t,this.wt=i}}function xs(s,t){return s.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lh(s,t){return s.wt?t.toBase64():t.toUint8Array()}function uh(s,t){return xs(s,t.toTimestamp())}function qs(s){return Ye(!!s),q.fromTimestamp(function(t){const i=ya(t);return new N(i.seconds,i.nanos)}(s))}function uu(s,t){return(i=s,new W(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function wd(s){const t=W.fromString(s);return Ye(Ht(t)),t}function pl(s,t){return uu(s.databaseId,t.path)}function Zc(s,t){const i=wd(t);if(i.get(1)!==s.databaseId.projectId)throw new Ot(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Ot(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new je(Ku(i))}function du(s,t){return uu(s.databaseId,t)}function Tu(s){const t=wd(s);return 4===t.length?W.emptyPath():Ku(t)}function gl(s){return new W(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ku(s){return Ye(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function zu(s,t,i){return{name:pl(s,t),fields:i.value.mapValue.fields}}function Su(s,t){let i;if(t instanceof Tr)i={update:zu(s,t.key,t.value)};else if(t instanceof Xc)i={delete:pl(s,t.key)};else if(t instanceof pi)i={update:zu(s,t.key,t.data),updateMask:Nn(t.fieldMask)};else{if(!(t instanceof Is))return Yt();i={verify:pl(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(l,g){const C=g.transform;if(C instanceof _a)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Os)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ea)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Na)return{fieldPath:g.field.canonicalString(),increment:C.gt};throw Yt()}(0,a))),t.precondition.isNone||(i.currentDocument=void 0!==(l=t.precondition).updateTime?{updateTime:uh(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Yt()),i;var l}function S(s,t){const i=t.currentDocument?void 0!==(l=t.currentDocument).updateTime?I.updateTime(qs(l.updateTime)):void 0!==l.exists?I.exists(l.exists):I.none():I.none(),a=t.updateTransforms?t.updateTransforms.map(l=>function(g,C){let P=null;"setToServerValue"in C?(Ye("REQUEST_TIME"===C.setToServerValue),P=new _a):"appendMissingElements"in C?P=new Os(C.appendMissingElements.values||[]):"removeAllFromArray"in C?P=new Ea(C.removeAllFromArray.values||[]):"increment"in C?P=new Na(g,C.increment):Yt();const K=nt.fromServerFormat(C.fieldPath);return new fl(K,P)}(s,l)):[];var l;if(t.update){const l=Zc(s,t.update.name),g=new No({mapValue:{fields:t.update.fields}});if(t.updateMask){const C=new io((t.updateMask.fieldPaths||[]).map(ee=>nt.fromServerFormat(ee)));return new pi(l,g,C,i,a)}return new Tr(l,g,i,a)}if(t.delete){const l=Zc(s,t.delete);return new Xc(l,i)}if(t.verify){const l=Zc(s,t.verify);return new Is(l,i)}return Yt()}function y(s,t){return{documents:[du(s,t.path)]}}function A(s,t){const i={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i.parent=du(s,a),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=du(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(K){if(0!==K.length)return vn(yn.create(K,"and"))}(t.filters);l&&(i.structuredQuery.where=l);const g=function(K){if(0!==K.length)return K.map(ee=>{return{field:Ft((_e=ee).field),direction:Me(_e.dir)};var _e})}(t.orderBy);g&&(i.structuredQuery.orderBy=g);const C=(ee=t.limit,s.wt||Ks(ee)?ee:{value:ee});var ee,P,K;return null!==C&&(i.structuredQuery.limit=C),t.startAt&&(i.structuredQuery.startAt={before:(P=t.startAt).inclusive,values:P.position}),t.endAt&&(i.structuredQuery.endAt={before:!(K=t.endAt).inclusive,values:K.position}),i}function $(s){let t=Tu(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ye(1===a);const _e=i.from[0];_e.allDescendants?l=_e.collectionId:t=t.child(_e.collectionId)}let g=[];i.where&&(g=function(_e){const Fe=Ie(_e);return Fe instanceof yn&&jc(Fe)?Fe.getFilters():[Fe]}(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(_e=>{return new sc(Dt((Fe=_e).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fe.direction));var Fe}));let P=null;i.limit&&(P=function(_e){let Fe;return Fe="object"==typeof _e?_e.value:_e,Ks(Fe)?null:Fe}(i.limit));let K=null;var _e;i.startAt&&(K=new Vs((_e=i.startAt).values||[],!!_e.before));let ee=null;return i.endAt&&(ee=function(_e){return new Vs(_e.values||[],!_e.before)}(i.endAt)),function su(s,t,i,a,l,g,C,P){return new Ns(s,t,i,a,l,g,C,P)}(t,l,C,g,P,"F",K,ee)}function Ie(s){return void 0!==s.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Dt(t.unaryFilter.field);return pr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Dt(t.unaryFilter.field);return pr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Dt(t.unaryFilter.field);return pr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Dt(t.unaryFilter.field);return pr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}(s):void 0!==s.fieldFilter?pr.create(Dt((t=s).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==s.compositeFilter?function(t){return yn.create(t.compositeFilter.filters.map(i=>Ie(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Yt()}}(t.compositeFilter.op))}(s):Yt();var t}function Me(s){return Cd[s]}function We(s){return Dd[s]}function He(s){return Rl[s]}function Ft(s){return{fieldPath:s.canonicalString()}}function Dt(s){return nt.fromServerFormat(s.fieldPath)}function vn(s){return s instanceof pr?function(t){if("=="===t.op){if(gt(t.value))return{unaryFilter:{field:Ft(t.field),op:"IS_NAN"}};if(Se(t.value))return{unaryFilter:{field:Ft(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gt(t.value))return{unaryFilter:{field:Ft(t.field),op:"IS_NOT_NAN"}};if(Se(t.value))return{unaryFilter:{field:Ft(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ft(t.field),op:We(t.op),value:t.value}}}(s):s instanceof yn?function(t){const i=t.getFilters().map(a=>vn(a));return 1===i.length?i[0]:{compositeFilter:{op:He(t.op),filters:i}}}(s):Yt()}function Nn(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Ht(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Kt(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=$r(t)),t=Br(s.get(i),t);return $r(t)}function Br(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const g=s.charAt(l);switch(g){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=g}}return i}function $r(s){return s+"\x01\x01"}function Ar(s){const t=s.length;if(Ye(t>=2),2===t)return Ye("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),W.emptyPath();const i=t-2,a=[];let l="";for(let g=0;g<t;){const C=s.indexOf("\x01",g);switch((C<0||C>i)&&Yt(),s.charAt(C+1)){case"\x01":const P=s.substring(g,C);let K;0===l.length?K=P:(l+=P,K=l,l=""),a.push(K);break;case"\x10":l+=s.substring(g,C),l+="\0";break;case"\x11":l+=s.substring(g,C+1);break;default:Yt()}g=C+2}return new W(a)}const Ei=["userId","batchId"];function xr(s,t){return[s,Kt(t)]}function Gi(s,t,i){return[s,Kt(t),i]}const Yr={},ns=["prefixPath","collectionGroup","readTime","documentId"],us=["prefixPath","collectionGroup","documentId"],f=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],h=["targetId","path"],_=["path","targetId"],O=["collectionId","parent"],B=["indexId","uid"],Q=["uid","sequenceNumber"],ae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ce=["indexId","uid","orderedDocumentKey"],Ne=["userId","collectionPath","documentId"],ot=["userId","collectionPath","largestBatchId"],Ct=["userId","collectionGroup","largestBatchId"],kt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fn=[...kt,"documentOverlays"],Vn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ur=Vn,Co=[...ur,"indexConfiguration","indexState","indexEntries"];class ml extends Ra{constructor(t,i){super(),this.se=t,this.currentSequenceNumber=i}}function Lr(s,t){const i=$t(s);return Mo.M(i.se,t)}class vc{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const g=this.mutations[l];g.key.isEqual(t.key)&&ut(g,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Wt(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Wt(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=mc();return this.mutations.forEach(l=>{const g=t.get(l.key),C=g.overlayedDocument;let P=this.applyToLocalView(C,g.mutatedFields);P=i.has(l.key)?null:P;const K=Ee(C,P);null!==K&&a.set(l.key,K),C.isValidDocument()||C.convertToNoDocument(q.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Sr())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,(i,a)=>Xn(i,a))&&Io(this.baseMutations,t.baseMutations,(i,a)=>Xn(i,a))}}class Ca{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ye(t.mutations.length===a.length);let l=Wu;const g=t.mutations;for(let C=0;C<g.length;C++)l=l.insert(g[C].key,a[C].version);return new Ca(t,i,a,l)}}class Qu{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nl{constructor(t,i,a,l,g=q.min(),C=q.min(),P=bs.EMPTY_BYTE_STRING){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=P}withSequenceNumber(t){return new Nl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,i){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class kp{constructor(t){this.ie=t}}function ey(s,t){const i=t.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:df(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())a.document={name:pl(l=s.ie,(g=t).key),fields:g.data.value.mapValue.fields,updateTime:xs(l,g.version.toTimestamp()),createTime:xs(l,g.createTime.toTimestamp())};else if(t.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:yl(t.version)};else{if(!t.isUnknownDocument())return Yt();a.unknownDocument={path:i.path.toArray(),version:yl(t.version)}}var l,g;return a}function df(s){const t=s.toTimestamp();return[t.seconds,t.nanoseconds]}function yl(s){const t=s.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ol(s){const t=new N(s.seconds,s.nanoseconds);return q.fromTimestamp(t)}function bu(s,t){const i=(t.baseMutations||[]).map(g=>S(s.ie,g));for(let g=0;g<t.mutations.length-1;++g)g+1<t.mutations.length&&void 0!==t.mutations[g+1].transform&&(t.mutations[g].updateTransforms=t.mutations[g+1].transform.fieldTransforms,t.mutations.splice(g+1,1),++g);const a=t.mutations.map(g=>S(s.ie,g)),l=N.fromMillis(t.localWriteTimeMs);return new vc(t.batchId,l,i,a)}function ph(s){const t=Ol(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Ol(s.lastLimboFreeSnapshotVersion):q.min();let a;var l;return void 0!==s.query.documents?(Ye(1===(l=s.query).documents.length),a=Qs(cl(Tu(l.documents[0])))):a=Qs($(s.query)),new Nl(a,s.targetId,0,s.lastListenSequenceNumber,t,i,bs.fromBase64String(s.resumeToken))}function Fp(s,t){const i=yl(t.snapshotVersion),a=yl(t.lastLimboFreeSnapshotVersion);let l;l=pc(t.target)?y(s.ie,t.target):A(s.ie,t.target);const g=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Es(t.target),readTime:i,resumeToken:g,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:l}}function qu(s){const t=$({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?ul(t,t.limit,"L"):t}function Lp(s,t){return new Qu(t.largestBatchId,S(s.ie,t.overlayMutation))}function hf(s,t){const i=t.path.lastSegment();return[s,Kt(t.path.popLast()),i]}function Vp(s,t,i,a){return{indexId:s,uid:t.uid||"",sequenceNumber:i,readTime:yl(a.readTime),documentKey:Kt(a.documentKey.path),largestBatchId:a.largestBatchId}}class gh{getBundleMetadata(t,i){return Td(t).get(i).next(a=>{if(a)return{id:(l=a).bundleId,createTime:Ol(l.createTime),version:l.version};var l})}saveBundleMetadata(t,i){return Td(t).put({bundleId:(a=i).id,createTime:yl(qs(a.createTime)),version:a.version});var a}getNamedQuery(t,i){return Up(t).get(i).next(a=>{if(a)return{name:(l=a).name,query:qu(l.bundledQuery),readTime:Ol(l.readTime)};var l})}saveNamedQuery(t,i){return Up(t).put({name:(a=i).name,readTime:yl(qs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Td(s){return Lr(s,"bundles")}function Up(s){return Lr(s,"namedQueries")}class Xu{constructor(t,i){this.yt=t,this.userId=i}static re(t,i){return new Xu(t,i.uid||"")}getOverlay(t,i){return Au(t).get(hf(this.userId,i)).next(a=>a?Lp(this.yt,a):null)}getOverlays(t,i){const a=Pa();return ct.forEach(i,l=>this.getOverlay(t,l).next(g=>{null!==g&&a.set(l,g)})).next(()=>a)}saveOverlays(t,i,a){const l=[];return a.forEach((g,C)=>{const P=new Qu(i,C);l.push(this.oe(t,P))}),ct.waitFor(l)}removeOverlaysForBatchId(t,i,a){const l=new Set;i.forEach(C=>l.add(Kt(C.getCollectionPath())));const g=[];return l.forEach(C=>{const P=IDBKeyRange.bound([this.userId,C,a],[this.userId,C,a+1],!1,!0);g.push(Au(t).Y("collectionPathOverlayIndex",P))}),ct.waitFor(g)}getOverlaysForCollection(t,i,a){const l=Pa(),g=Kt(i),C=IDBKeyRange.bound([this.userId,g,a],[this.userId,g,Number.POSITIVE_INFINITY],!0);return Au(t).W("collectionPathOverlayIndex",C).next(P=>{for(const K of P){const ee=Lp(this.yt,K);l.set(ee.getKey(),ee)}return l})}getOverlaysForCollectionGroup(t,i,a,l){const g=Pa();let C;const P=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Au(t).Z({index:"collectionGroupOverlayIndex",range:P},(K,ee,_e)=>{const Fe=Lp(this.yt,ee);g.size()<l||Fe.largestBatchId===C?(g.set(Fe.getKey(),Fe),C=Fe.largestBatchId):_e.done()}).next(()=>g)}oe(t,i){return Au(t).put(function(a,l,g){const[C,P,K]=hf(l,g.mutation.key);return{userId:l,collectionPath:P,documentId:K,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Su(a.ie,g.mutation)}}(this.yt,this.userId,i))}}function Au(s){return Lr(s,"documentOverlays")}class Yu{constructor(){}ue(t,i){this.ce(t,i),i.ae()}ce(t,i){if("nullValue"in t)this.he(i,5);else if("booleanValue"in t)this.he(i,10),i.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(i,15),i.le(Ri(t.integerValue));else if("doubleValue"in t){const a=Ri(t.doubleValue);isNaN(a)?this.he(i,13):(this.he(i,15),uc(a)?i.le(0):i.le(a))}else if("timestampValue"in t){const a=t.timestampValue;this.he(i,20),"string"==typeof a?i.fe(a):(i.fe(`${a.seconds||""}`),i.le(a.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,i),this._e(i);else if("bytesValue"in t)this.he(i,30),i.we(Tc(t.bytesValue)),this._e(i);else if("referenceValue"in t)this.me(t.referenceValue,i);else if("geoPointValue"in t){const a=t.geoPointValue;this.he(i,45),i.le(a.latitude||0),i.le(a.longitude||0)}else"mapValue"in t?An(t)?this.he(i,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,i),this._e(i)):"arrayValue"in t?(this.ye(t.arrayValue,i),this._e(i)):Yt()}de(t,i){this.he(i,25),this.pe(t,i)}pe(t,i){i.fe(t)}ge(t,i){const a=t.fields||{};this.he(i,55);for(const l of Object.keys(a))this.de(l,i),this.ce(a[l],i)}ye(t,i){const a=t.values||[];this.he(i,50);for(const l of a)this.ce(l,i)}me(t,i){this.he(i,37),je.fromName(t).path.forEach(a=>{this.he(i,60),this.pe(a,i)})}he(t,i){t.le(i)}_e(t){t.le(2)}}function Jv(s){if(0===s)return 8;let t=0;return!(s>>4)&&(t+=4,s<<=4),!(s>>6)&&(t+=2,s<<=2),!(s>>7)&&(t+=1),t}function ty(s){const t=64-function(i){let a=0;for(let l=0;l<8;++l){const g=Jv(255&i[l]);if(a+=g,8!==g)break}return a}(s);return Math.ceil(t/8)}Yu.Ie=new Yu;class ny{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const i=t[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ee(a.value),a=i.next();this.Ae()}Re(t){const i=t[Symbol.iterator]();let a=i.next();for(;!a.done;)this.be(a.value),a=i.next();this.Pe()}ve(t){for(const i of t){const a=i.charCodeAt(0);if(a<128)this.Ee(a);else if(a<2048)this.Ee(960|a>>>6),this.Ee(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ee(480|a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a);else{const l=i.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(t){for(const i of t){const a=i.charCodeAt(0);if(a<128)this.be(a);else if(a<2048)this.be(960|a>>>6),this.be(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.be(480|a>>>12),this.be(128|63&a>>>6),this.be(128|63&a);else{const l=i.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(t){const i=this.De(t),a=ty(i);this.Ce(1+a),this.buffer[this.position++]=255&a;for(let l=i.length-a;l<i.length;++l)this.buffer[this.position++]=255&i[l]}xe(t){const i=this.De(t),a=ty(i);this.Ce(1+a),this.buffer[this.position++]=~(255&a);for(let l=i.length-a;l<i.length;++l)this.buffer[this.position++]=~(255&i[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const i=function(l){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,l,!1),new Uint8Array(g.buffer)}(t),a=!!(128&i[0]);i[0]^=a?255:128;for(let l=1;l<i.length;++l)i[l]^=a?255:0;return i}Ee(t){const i=255&t;0===i?(this.ke(0),this.ke(255)):255===i?(this.ke(255),this.ke(0)):this.ke(i)}be(t){const i=255&t;0===i?(this.Me(0),this.Me(255)):255===i?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const i=t+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const l=new Uint8Array(a);l.set(this.buffer),this.buffer=l}}class Bp{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class e_{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class mh{constructor(){this.$e=new ny,this.Be=new Bp(this.$e),this.Le=new e_(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class ta{constructor(t,i,a,l){this.indexId=t,this.documentKey=i,this.arrayValue=a,this.directionalValue=l}Ue(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==t?a.set([0],this.directionalValue.length):++a[a.length-1],new ta(this.indexId,this.documentKey,this.arrayValue,a)}}function ql(s,t){let i=s.indexId-t.indexId;return 0!==i?i:(i=jp(s.arrayValue,t.arrayValue),0!==i?i:(i=jp(s.directionalValue,t.directionalValue),0!==i?i:je.comparator(s.documentKey,t.documentKey)))}function jp(s,t){for(let i=0;i<s.length&&i<t.length;++i){const a=s[i]-t[i];if(0!==a)return a}return s.length-t.length}class ff{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const i of t.filters){const a=i;a.isInequality()?this.Qe=a:this.Ge.push(a)}}je(t){Ye(t.collectionGroup===this.collectionId);const i=Qn(t);if(void 0!==i&&!this.We(i))return!1;const a=kr(t);let l=0,g=0;for(;l<a.length&&this.We(a[l]);++l);if(l===a.length)return!0;if(void 0!==this.Qe){const C=a[l];if(!this.ze(this.Qe,C)||!this.He(this.Ke[g++],C))return!1;++l}for(;l<a.length;++l)if(g>=this.Ke.length||!this.He(this.Ke[g++],a[l]))return!1;return!0}We(t){for(const i of this.Ge)if(this.ze(i,t))return!0;return!1}ze(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function t_(s){var t,i;if(Ye(s instanceof pr||s instanceof yn),s instanceof pr){if(s instanceof Gc){const l=(null===(i=null===(t=s.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(g=>pr.create(s.field,"==",g)))||[];return yn.create(l,"or")}return s}const a=s.filters.map(l=>t_(l));return yn.create(a,s.op)}function J0(s){if(0===s.getFilters().length)return[];const t=gf(t_(s));return Ye(pf(t)),ka(t)||Mu(t)?[t]:t.getFilters()}function ka(s){return s instanceof pr}function Mu(s){return s instanceof yn&&jc(s)}function pf(s){return ka(s)||Mu(s)||function(t){if(t instanceof yn&&Qa(t)){for(const i of t.getFilters())if(!ka(i)&&!Mu(i))return!1;return!0}return!1}(s)}function gf(s){if(Ye(s instanceof pr||s instanceof yn),s instanceof pr)return s;if(1===s.filters.length)return gf(s.filters[0]);const t=s.filters.map(a=>gf(a));let i=yn.create(t,s.op);return i=mf(i),pf(i)?i:(Ye(i instanceof yn),Ye(ic(i)),Ye(i.filters.length>1),i.filters.reduce((a,l)=>$p(a,l)))}function $p(s,t){let i;return Ye(s instanceof pr||s instanceof yn),Ye(t instanceof pr||t instanceof yn),i=s instanceof pr?t instanceof pr?yn.create([s,t],"and"):Hp(s,t):t instanceof pr?Hp(t,s):function(a,l){if(Ye(a.filters.length>0&&l.filters.length>0),ic(a)&&ic(l))return hc(a,l.getFilters());const g=Qa(a)?a:l,C=Qa(a)?l:a,P=g.filters.map(K=>$p(K,C));return yn.create(P,"or")}(s,t),mf(i)}function Hp(s,t){if(ic(t))return hc(t,s.getFilters());{const i=t.filters.map(a=>$p(s,a));return yn.create(i,"or")}}function mf(s){if(Ye(s instanceof pr||s instanceof yn),s instanceof pr)return s;const t=s.getFilters();if(1===t.length)return mf(t[0]);if(nu(s))return s;const i=t.map(l=>mf(l)),a=[];return i.forEach(l=>{l instanceof pr?a.push(l):l instanceof yn&&(l.op===s.op?a.push(...l.filters):a.push(l))}),1===a.length?a[0]:yn.create(a,s.op)}class ry{constructor(){this.Je=new Wp}addToCollectionParentIndex(t,i){return this.Je.add(i),ct.resolve()}getCollectionParents(t,i){return ct.resolve(this.Je.getEntries(i))}addFieldIndex(t,i){return ct.resolve()}deleteFieldIndex(t,i){return ct.resolve()}getDocumentsMatchingTarget(t,i){return ct.resolve(null)}getIndexType(t,i){return ct.resolve(0)}getFieldIndexes(t,i){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,i){return ct.resolve(Li.min())}getMinOffsetFromCollectionGroup(t,i){return ct.resolve(Li.min())}updateCollectionGroup(t,i,a){return ct.resolve()}updateIndexEntries(t,i){return ct.resolve()}}class Wp{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Kr(W.comparator),g=!l.has(a);return this.index[i]=l.add(a),g}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Kr(W.comparator)).toArray()}}const yh=new Uint8Array(0);class n_{constructor(t,i){this.user=t,this.databaseId=i,this.Ye=new Wp,this.Xe=new Xa(a=>Es(a),(a,l)=>Rs(a,l)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.Ye.has(i)){const a=i.lastSegment(),l=i.popLast();t.addOnCommittedListener(()=>{this.Ye.add(i)});const g={collectionId:a,parent:Kt(l)};return iy(t).put(g)}return ct.resolve()}getCollectionParents(t,i){const a=[],l=IDBKeyRange.bound([i,""],[nl(i),""],!1,!0);return iy(t).W(l).next(g=>{for(const C of g){if(C.collectionId!==i)break;a.push(Ar(C.parent))}return a})}addFieldIndex(t,i){const a=yf(t),l={indexId:(C=i).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var C;delete l.indexId;const g=a.add(l);if(i.indexState){const C=Sd(t);return g.next(P=>{C.put(Vp(P,this.user,i.indexState.sequenceNumber,i.indexState.offset))})}return g.next()}deleteFieldIndex(t,i){const a=yf(t),l=Sd(t),g=vh(t);return a.delete(i.indexId).next(()=>l.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,i){const a=vh(t);let l=!0;const g=new Map;return ct.forEach(this.Ze(i),C=>this.tn(t,C).next(P=>{l&&(l=!!P),g.set(C,P)})).next(()=>{if(l){let C=Sr();const P=[];return ct.forEach(g,(K,ee)=>{var _e;zt("IndexedDbIndexManager",`Using index ${_e=K,`id=${_e.indexId}|cg=${_e.collectionGroup}|f=${_e.fields.map(ds=>`${ds.fieldPath}:${ds.kind}`).join(",")}`} to execute ${Es(i)}`);const Fe=function(ds,Da){const hs=Qn(Da);if(void 0===hs)return null;for(const Ji of Go(ds,hs.fieldPath))switch(Ji.op){case"array-contains-any":return Ji.value.arrayValue.values||[];case"array-contains":return[Ji.value]}return null}(ee,K),ft=function(ds,Da){const hs=new Map;for(const Ji of kr(Da))for(const ac of Go(ds,Ji.fieldPath))switch(ac.op){case"==":case"in":hs.set(Ji.fieldPath.canonicalString(),ac.value);break;case"not-in":case"!=":return hs.set(Ji.fieldPath.canonicalString(),ac.value),Array.from(hs.values())}return null}(ee,K),Ut=function(ds,Da){const hs=[];let Ji=!0;for(const ac of kr(Da)){const eh=0===ac.kind?va(ds,ac.fieldPath,ds.startAt):iu(ds,ac.fieldPath,ds.startAt);hs.push(eh.value),Ji&&(Ji=eh.inclusive)}return new Vs(hs,Ji)}(ee,K),en=function(ds,Da){const hs=[];let Ji=!0;for(const ac of kr(Da)){const eh=0===ac.kind?iu(ds,ac.fieldPath,ds.endAt):va(ds,ac.fieldPath,ds.endAt);hs.push(eh.value),Ji&&(Ji=eh.inclusive)}return new Vs(hs,Ji)}(ee,K),_n=this.en(K,ee,Ut),rr=this.en(K,ee,en),Ys=this.nn(K,ee,ft),Do=this.sn(K.indexId,Fe,_n,Ut.inclusive,rr,en.inclusive,Ys);return ct.forEach(Do,ds=>a.J(ds,i.limit).next(Da=>{Da.forEach(hs=>{const Ji=je.fromSegments(hs.documentKey);C.has(Ji)||(C=C.add(Ji),P.push(Ji))})}))}).next(()=>P)}return ct.resolve(null)})}Ze(t){let i=this.Xe.get(t);return i||(i=0===t.filters.length?[t]:J0(yn.create(t.filters,"and")).map(a=>Oo(t.path,t.collectionGroup,t.orderBy,a.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,i),i)}sn(t,i,a,l,g,C,P){const K=(null!=i?i.length:1)*Math.max(a.length,g.length),ee=K/(null!=i?i.length:1),_e=[];for(let Fe=0;Fe<K;++Fe){const ft=i?this.rn(i[Fe/ee]):yh,Ut=this.on(t,ft,a[Fe%ee],l),en=this.un(t,ft,g[Fe%ee],C),_n=P.map(rr=>this.on(t,ft,rr,!0));_e.push(...this.createRange(Ut,en,_n))}return _e}on(t,i,a,l){const g=new ta(t,je.empty(),i,a);return l?g:g.Ue()}un(t,i,a,l){const g=new ta(t,je.empty(),i,a);return l?g.Ue():g}tn(t,i){const a=new ff(i),l=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,l).next(g=>{let C=null;for(const P of g)a.je(P)&&(!C||P.fields.length>C.fields.length)&&(C=P);return C})}getIndexType(t,i){let a=2;const l=this.Ze(i);return ct.forEach(l,g=>this.tn(t,g).next(C=>{C?0!==a&&C.fields.length<function(P){let K=new Kr(nt.comparator),ee=!1;for(const _e of P.filters)for(const Fe of _e.getFlattenedFilters())Fe.field.isKeyField()||("array-contains"===Fe.op||"array-contains-any"===Fe.op?ee=!0:K=K.add(Fe.field));for(const _e of P.orderBy)_e.field.isKeyField()||(K=K.add(_e.field));return K.size+(ee?1:0)}(g)&&(a=1):a=0})).next(()=>null!==i.limit&&l.length>1&&2===a?1:a)}cn(t,i){const a=new mh;for(const l of kr(t)){const g=i.data.field(l.fieldPath);if(null==g)return null;const C=a.qe(l.kind);Yu.Ie.ue(g,C)}return a.Fe()}rn(t){const i=new mh;return Yu.Ie.ue(t,i.qe(0)),i.Fe()}an(t,i){const a=new mh;return Yu.Ie.ue(L(this.databaseId,i),a.qe(function(l){const g=kr(l);return 0===g.length?0:g[g.length-1].kind}(t))),a.Fe()}nn(t,i,a){if(null===a)return[];let l=[];l.push(new mh);let g=0;for(const C of kr(t)){const P=a[g++];for(const K of l)if(this.hn(i,C.fieldPath)&&he(P))l=this.ln(l,C,P);else{const ee=K.qe(C.kind);Yu.Ie.ue(P,ee)}}return this.fn(l)}en(t,i,a){return this.nn(t,i,a.position)}fn(t){const i=[];for(let a=0;a<t.length;++a)i[a]=t[a].Fe();return i}ln(t,i,a){const l=[...t],g=[];for(const C of a.arrayValue.values||[])for(const P of l){const K=new mh;K.seed(P.Fe()),Yu.Ie.ue(C,K.qe(i.kind)),g.push(K)}return g}hn(t,i){return!!t.filters.find(a=>a instanceof pr&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(t,i){const a=yf(t),l=Sd(t);return(i?a.W("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.W()).next(g=>{const C=[];return ct.forEach(g,P=>l.get([P.indexId,this.uid]).next(K=>{C.push(function(ee,_e){const Fe=_e?new qn(_e.sequenceNumber,new Li(Ol(_e.readTime),new je(Ar(_e.documentKey)),_e.largestBatchId)):qn.empty(),ft=ee.fields.map(([Ut,en])=>new Yn(nt.fromServerFormat(Ut),en));return new un(ee.indexId,ee.collectionGroup,ft,Fe)}(P,K))})).next(()=>C)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((a,l)=>{const g=a.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==g?g:Pn(a.collectionGroup,l.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,a){const l=yf(t),g=Sd(t);return this.dn(t).next(C=>l.W("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(P=>ct.forEach(P,K=>g.put(Vp(K.indexId,this.user,C,a)))))}updateIndexEntries(t,i){const a=new Map;return ct.forEach(i,(l,g)=>{const C=a.get(l.collectionGroup);return(C?ct.resolve(C):this.getFieldIndexes(t,l.collectionGroup)).next(P=>(a.set(l.collectionGroup,P),ct.forEach(P,K=>this._n(t,l,K).next(ee=>{const _e=this.wn(g,K);return ee.isEqual(_e)?ct.resolve():this.mn(t,g,K,ee,_e)}))))})}gn(t,i,a,l){return vh(t).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(a,i.key),documentKey:i.key.path.toArray()})}yn(t,i,a,l){return vh(t).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(a,i.key),i.key.path.toArray()])}_n(t,i,a){const l=vh(t);let g=new Kr(ql);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.an(a,i)])},(C,P)=>{g=g.add(new ta(a.indexId,i,P.arrayValue,P.directionalValue))}).next(()=>g)}wn(t,i){let a=new Kr(ql);const l=this.cn(i,t);if(null==l)return a;const g=Qn(i);if(null!=g){const C=t.data.field(g.fieldPath);if(he(C))for(const P of C.arrayValue.values||[])a=a.add(new ta(i.indexId,t.key,this.rn(P),l))}else a=a.add(new ta(i.indexId,t.key,yh,l));return a}mn(t,i,a,l,g){zt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const C=[];return function(P,K,ee,_e,Fe){const ft=P.getIterator(),Ut=K.getIterator();let en=Ms(ft),_n=Ms(Ut);for(;en||_n;){let rr=!1,Ys=!1;if(en&&_n){const Do=ee(en,_n);Do<0?Ys=!0:Do>0&&(rr=!0)}else null!=en?Ys=!0:rr=!0;rr?(_e(_n),_n=Ms(Ut)):Ys?(Fe(en),en=Ms(ft)):(en=Ms(ft),_n=Ms(Ut))}}(l,g,ql,P=>{C.push(this.gn(t,i,a,P))},P=>{C.push(this.yn(t,i,a,P))}),ct.waitFor(C)}dn(t){let i=1;return Sd(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,l,g)=>{g.done(),i=l.sequenceNumber+1}).next(()=>i)}createRange(t,i,a){a=a.sort((C,P)=>ql(C,P)).filter((C,P,K)=>!P||0!==ql(C,K[P-1]));const l=[];l.push(t);for(const C of a){const P=ql(C,t),K=ql(C,i);if(0===P)l[0]=t.Ue();else if(P>0&&K<0)l.push(C),l.push(C.Ue());else if(K>0)break}l.push(i);const g=[];for(let C=0;C<l.length;C+=2){if(this.pn(l[C],l[C+1]))return[];g.push(IDBKeyRange.bound([l[C].indexId,this.uid,l[C].arrayValue,l[C].directionalValue,yh,[]],[l[C+1].indexId,this.uid,l[C+1].arrayValue,l[C+1].directionalValue,yh,[]]))}return g}pn(t,i){return ql(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Gp)}getMinOffset(t,i){return ct.mapArray(this.Ze(i),a=>this.tn(t,a).next(l=>l||Yt())).next(Gp)}}function iy(s){return Lr(s,"collectionParents")}function vh(s){return Lr(s,"indexEntries")}function yf(s){return Lr(s,"indexConfiguration")}function Sd(s){return Lr(s,"indexState")}function Gp(s){Ye(0!==s.length);let t=s[0].indexState.offset,i=t.largestBatchId;for(let a=1;a<s.length;a++){const l=s[a].indexState.offset;vs(l,t)<0&&(t=l),i<l.largestBatchId&&(i=l.largestBatchId)}return new Li(t.readTime,t.documentKey,i)}const Kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ya{constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(t){return new Ya(t,Ya.DEFAULT_COLLECTION_PERCENTILE,Ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zp(s,t,i){const a=s.store("mutations"),l=s.store("documentMutations"),g=[],C=IDBKeyRange.only(i.batchId);let P=0;const K=a.Z({range:C},(_e,Fe,ft)=>(P++,ft.delete()));g.push(K.next(()=>{Ye(1===P)}));const ee=[];for(const _e of i.mutations){const Fe=Gi(t,_e.key.path,i.batchId);g.push(l.delete(Fe)),ee.push(_e.key)}return ct.waitFor(g).next(()=>ee)}function _h(s){if(!s)return 0;let t;if(s.document)t=s.document;else if(s.unknownDocument)t=s.unknownDocument;else{if(!s.noDocument)throw Yt();t=s.noDocument}return JSON.stringify(t).length}Ya.DEFAULT_COLLECTION_PERCENTILE=10,Ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ya.DEFAULT=new Ya(41943040,Ya.DEFAULT_COLLECTION_PERCENTILE,Ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ya.DISABLED=new Ya(-1,0,0);class Eh{constructor(t,i,a,l){this.userId=t,this.yt=i,this.indexManager=a,this.referenceDelegate=l,this.In={}}static re(t,i,a,l){Ye(""!==t.uid);const g=t.isAuthenticated()?t.uid:"";return new Eh(g,i,a,l)}checkEmpty(t){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(t).Z({index:"userMutationsIndex",range:a},(l,g,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(t,i,a,l){const g=bd(t),C=Ru(t);return C.add({}).next(P=>{Ye("number"==typeof P);const K=new vc(P,i,a,l),ee=function(ft,Ut,en){const _n=en.baseMutations.map(Ys=>Su(ft.ie,Ys)),rr=en.mutations.map(Ys=>Su(ft.ie,Ys));return{userId:Ut,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:_n,mutations:rr}}(this.yt,this.userId,K),_e=[];let Fe=new Kr((ft,Ut)=>Pn(ft.canonicalString(),Ut.canonicalString()));for(const ft of l){const Ut=Gi(this.userId,ft.key.path,P);Fe=Fe.add(ft.key.path.popLast()),_e.push(C.put(ee)),_e.push(g.put(Ut,Yr))}return Fe.forEach(ft=>{_e.push(this.indexManager.addToCollectionParentIndex(t,ft))}),t.addOnCommittedListener(()=>{this.In[P]=K.keys()}),ct.waitFor(_e).next(()=>K)})}lookupMutationBatch(t,i){return Ru(t).get(i).next(a=>a?(Ye(a.userId===this.userId),bu(this.yt,a)):null)}Tn(t,i){return this.In[i]?ct.resolve(this.In[i]):this.lookupMutationBatch(t,i).next(a=>{if(a){const l=a.keys();return this.In[i]=l,l}return null})}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=IDBKeyRange.lowerBound([this.userId,a]);let g=null;return Ru(t).Z({index:"userMutationsIndex",range:l},(C,P,K)=>{P.userId===this.userId&&(Ye(P.batchId>=a),g=bu(this.yt,P)),K.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ru(t).Z({index:"userMutationsIndex",range:i,reverse:!0},(l,g,C)=>{a=g.batchId,C.done()}).next(()=>a)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(t).W("userMutationsIndex",i).next(a=>a.map(l=>bu(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(t,i){const a=xr(this.userId,i.path),l=IDBKeyRange.lowerBound(a),g=[];return bd(t).Z({range:l},(C,P,K)=>{const[ee,_e,Fe]=C,ft=Ar(_e);if(ee===this.userId&&i.path.isEqual(ft))return Ru(t).get(Fe).next(Ut=>{if(!Ut)throw Yt();Ye(Ut.userId===this.userId),g.push(bu(this.yt,Ut))});K.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Kr(Pn);const l=[];return i.forEach(g=>{const C=xr(this.userId,g.path),P=IDBKeyRange.lowerBound(C),K=bd(t).Z({range:P},(ee,_e,Fe)=>{const[ft,Ut,en]=ee,_n=Ar(Ut);ft===this.userId&&g.path.isEqual(_n)?a=a.add(en):Fe.done()});l.push(K)}),ct.waitFor(l).next(()=>this.En(t,a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1,g=xr(this.userId,a),C=IDBKeyRange.lowerBound(g);let P=new Kr(Pn);return bd(t).Z({range:C},(K,ee,_e)=>{const[Fe,ft,Ut]=K,en=Ar(ft);Fe===this.userId&&a.isPrefixOf(en)?en.length===l&&(P=P.add(Ut)):_e.done()}).next(()=>this.En(t,P))}En(t,i){const a=[],l=[];return i.forEach(g=>{l.push(Ru(t).get(g).next(C=>{if(null===C)throw Yt();Ye(C.userId===this.userId),a.push(bu(this.yt,C))}))}),ct.waitFor(l).next(()=>a)}removeMutationBatch(t,i){return zp(t.se,this.userId,i).next(a=>(t.addOnCommittedListener(()=>{this.An(i.batchId)}),ct.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(t,l))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return ct.resolve();const a=IDBKeyRange.lowerBound([this.userId]),l=[];return bd(t).Z({range:a},(g,C,P)=>{if(g[0]===this.userId){const K=Ar(g[1]);l.push(K)}else P.done()}).next(()=>{Ye(0===l.length)})})}containsKey(t,i){return Qp(t,this.userId,i)}Rn(t){return sy(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Qp(s,t,i){const a=xr(t,i.path),l=a[1],g=IDBKeyRange.lowerBound(a);let C=!1;return bd(s).Z({range:g,X:!0},(P,K,ee)=>{const[_e,Fe,ft]=P;_e===t&&Fe===l&&(C=!0),ee.done()}).next(()=>C)}function Ru(s){return Lr(s,"mutations")}function bd(s){return Lr(s,"documentMutations")}function sy(s){return Lr(s,"mutationQueues")}class Zu{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Zu(0)}static vn(){return new Zu(-1)}}class oy{constructor(t,i){this.referenceDelegate=t,this.yt=i}allocateTargetId(t){return this.Vn(t).next(i=>{const a=new Zu(i.highestTargetId);return i.highestTargetId=a.next(),this.Sn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(i=>q.fromTimestamp(new N(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,a){return this.Vn(t).next(l=>(l.highestListenSequenceNumber=i,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),i>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=i),this.Sn(t,l)))}addTargetData(t,i){return this.Dn(t,i).next(()=>this.Vn(t).next(a=>(a.targetCount+=1,this.Cn(i,a),this.Sn(t,a))))}updateTargetData(t,i){return this.Dn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Ih(t).delete(i.targetId)).next(()=>this.Vn(t)).next(a=>(Ye(a.targetCount>0),a.targetCount-=1,this.Sn(t,a)))}removeTargets(t,i,a){let l=0;const g=[];return Ih(t).Z((C,P)=>{const K=ph(P);K.sequenceNumber<=i&&null===a.get(K.targetId)&&(l++,g.push(this.removeTargetData(t,K)))}).next(()=>ct.waitFor(g)).next(()=>l)}forEachTarget(t,i){return Ih(t).Z((a,l)=>{const g=ph(l);i(g)})}Vn(t){return qp(t).get("targetGlobalKey").next(i=>(Ye(null!==i),i))}Sn(t,i){return qp(t).put("targetGlobalKey",i)}Dn(t,i){return Ih(t).put(Fp(this.yt,i))}Cn(t,i){let a=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,a=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,a=!0),a}getTargetCount(t){return this.Vn(t).next(i=>i.targetCount)}getTargetData(t,i){const a=Es(i),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let g=null;return Ih(t).Z({range:l,index:"queryTargetsIndex"},(C,P,K)=>{const ee=ph(P);Rs(i,ee.target)&&(g=ee,K.done())}).next(()=>g)}addMatchingKeys(t,i,a){const l=[],g=Nu(t);return i.forEach(C=>{const P=Kt(C.path);l.push(g.put({targetId:a,path:P})),l.push(this.referenceDelegate.addReference(t,a,C))}),ct.waitFor(l)}removeMatchingKeys(t,i,a){const l=Nu(t);return ct.forEach(i,g=>{const C=Kt(g.path);return ct.waitFor([l.delete([a,C]),this.referenceDelegate.removeReference(t,a,g)])})}removeMatchingKeysForTargetId(t,i){const a=Nu(t),l=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(t,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),l=Nu(t);let g=Sr();return l.Z({range:a,X:!0},(C,P,K)=>{const ee=Ar(C[1]),_e=new je(ee);g=g.add(_e)}).next(()=>g)}containsKey(t,i){const a=Kt(i.path),l=IDBKeyRange.bound([a],[nl(a)],!1,!0);let g=0;return Nu(t).Z({index:"documentTargetsIndex",X:!0,range:l},([C,P],K,ee)=>{0!==C&&(g++,ee.done())}).next(()=>g>0)}ne(t,i){return Ih(t).get(i).next(a=>a?ph(a):null)}}function Ih(s){return Lr(s,"targets")}function qp(s){return Lr(s,"targetGlobal")}function Nu(s){return Lr(s,"targetDocuments")}function ay([s,t],[i,a]){const l=Pn(s,i);return 0===l?Pn(t,a):l}class eI{constructor(t){this.xn=t,this.buffer=new Kr(ay),this.Nn=0}kn(){return++this.Nn}On(t){const i=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ay(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class r_{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var i=this;zt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,p.A)(function*(){i.Mn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){ma(a)?zt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Fr(a)}yield i.Fn(3e5)}))}}class cy{constructor(t,i){this.$n=t,this.params=i}calculateTargetCount(t,i){return this.$n.Bn(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(0===i)return ct.resolve($o.at);const a=new eI(i);return this.$n.forEachTarget(t,l=>a.On(l.sequenceNumber)).next(()=>this.$n.Ln(t,l=>a.On(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.$n.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.$n.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Kp)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kp):this.qn(t,i))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,i){let a,l,g,C,P,K,ee;const _e=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),l=this.params.maximumSequenceNumbersToCollect):l=Fe,C=Date.now(),this.nthSequenceNumber(t,l))).next(Fe=>(a=Fe,P=Date.now(),this.removeTargets(t,a,i))).next(Fe=>(g=Fe,K=Date.now(),this.removeOrphanedDocuments(t,a))).next(Fe=>(ee=Date.now(),Vo()<=H.$b.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-_e}ms\n\tDetermined least recently used ${l} in `+(P-C)+`ms\n\tRemoved ${g} targets in `+(K-P)+`ms\n\tRemoved ${Fe} documents in `+(ee-K)+`ms\nTotal Duration: ${ee-_e}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:g,documentsRemoved:Fe})))}}class Xp{constructor(t,i){this.db=t,this.garbageCollector=new cy(this,i)}Bn(t){const i=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}Un(t){let i=0;return this.Ln(t,a=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Ln(t,i){return this.Kn(t,(a,l)=>i(l))}addReference(t,i,a){return vf(t,a)}removeReference(t,i,a){return vf(t,a)}removeTargets(t,i,a){return this.db.getTargetCache().removeTargets(t,i,a)}markPotentiallyOrphaned(t,i){return vf(t,i)}Gn(t,i){return function(a,l){let g=!1;return sy(a).tt(C=>Qp(a,C,l).next(P=>(P&&(g=!0),ct.resolve(!P)))).next(()=>g)}(t,i)}removeOrphanedDocuments(t,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let g=0;return this.Kn(t,(C,P)=>{if(P<=i){const K=this.Gn(t,C).next(ee=>{if(!ee)return g++,a.getEntry(t,C).next(()=>(a.removeEntry(C,q.min()),Nu(t).delete([0,Kt(C.path)])))});l.push(K)}}).next(()=>ct.waitFor(l)).next(()=>a.apply(t)).next(()=>g)}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,a)}updateLimboDocument(t,i){return vf(t,i)}Kn(t,i){const a=Nu(t);let l,g=$o.at;return a.Z({index:"documentTargetsIndex"},([C,P],{path:K,sequenceNumber:ee})=>{0===C?(g!==$o.at&&i(new je(Ar(l)),g),g=ee,l=K):g=$o.at}).next(()=>{g!==$o.at&&i(new je(Ar(l)),g)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function vf(s,t){return Nu(s).put((a=s.currentSequenceNumber,{targetId:0,path:Kt(t.path),sequenceNumber:a}));var a}class xl{constructor(){this.changes=new Xa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ni.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?ct.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ch{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,a){return Ad(t).put(a)}removeEntry(t,i,a){return Ad(t).delete(function(l,g){const C=l.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],df(g),C[C.length-1]]}(i,a))}updateMetadata(t,i){return this.getMetadata(t).next(a=>(a.byteSize+=i,this.Qn(t,a)))}getEntry(t,i){let a=Ni.newInvalidDocument(i);return Ad(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(i))},(l,g)=>{a=this.jn(i,g)}).next(()=>a)}Wn(t,i){let a={size:0,document:Ni.newInvalidDocument(i)};return Ad(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(i))},(l,g)=>{a={document:this.jn(i,g),size:_h(g)}}).next(()=>a)}getEntries(t,i){let a=ls();return this.zn(t,i,(l,g)=>{const C=this.jn(l,g);a=a.insert(l,C)}).next(()=>a)}Hn(t,i){let a=ls(),l=new kn(je.comparator);return this.zn(t,i,(g,C)=>{const P=this.jn(g,C);a=a.insert(g,P),l=l.insert(g,_h(C))}).next(()=>({documents:a,Jn:l}))}zn(t,i,a){if(i.isEmpty())return ct.resolve();let l=new Kr(dy);i.forEach(K=>l=l.add(K));const g=IDBKeyRange.bound(Dh(l.first()),Dh(l.last())),C=l.getIterator();let P=C.getNext();return Ad(t).Z({index:"documentKeyIndex",range:g},(K,ee,_e)=>{const Fe=je.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;P&&dy(P,Fe)<0;)a(P,null),P=C.getNext();P&&P.isEqual(Fe)&&(a(P,ee),P=C.hasNext()?C.getNext():null),P?_e.j(Dh(P)):_e.done()}).next(()=>{for(;P;)a(P,null),P=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(t,i,a,l){const g=i.path,C=[g.popLast().toArray(),g.lastSegment(),df(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],P=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ad(t).W(IDBKeyRange.bound(C,P,!0)).next(K=>{let ee=ls();for(const _e of K){const Fe=this.jn(je.fromSegments(_e.prefixPath.concat(_e.collectionGroup,_e.documentId)),_e);Fe.isFoundDocument()&&(Qc(i,Fe)||l.has(Fe.key))&&(ee=ee.insert(Fe.key,Fe))}return ee})}getAllFromCollectionGroup(t,i,a,l){let g=ls();const C=uy(i,a),P=uy(i,Li.max());return Ad(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,P,!0)},(K,ee,_e)=>{const Fe=this.jn(je.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);g=g.insert(Fe.key,Fe),g.size===l&&_e.done()}).next(()=>g)}newChangeBuffer(t){return new Yp(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return _f(t).get("remoteDocumentGlobalKey").next(i=>(Ye(!!i),i))}Qn(t,i){return _f(t).put("remoteDocumentGlobalKey",i)}jn(t,i){if(i){const a=function Zv(s,t){let i;if(t.document)i=function dh(s,t,i){const a=Zc(s,t.name),l=qs(t.updateTime),g=t.createTime?qs(t.createTime):q.min(),C=new No({mapValue:{fields:t.fields}}),P=Ni.newFoundDocument(a,l,g,C);return i&&P.setHasCommittedMutations(),i?P.setHasCommittedMutations():P}(s.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const a=je.fromSegments(t.noDocument.path),l=Ol(t.noDocument.readTime);i=Ni.newNoDocument(a,l),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yt();{const a=je.fromSegments(t.unknownDocument.path),l=Ol(t.unknownDocument.version);i=Ni.newUnknownDocument(a,l)}}return t.readTime&&i.setReadTime(function(a){const l=new N(a[0],a[1]);return q.fromTimestamp(l)}(t.readTime)),i}(this.yt,i);if(!a.isNoDocument()||!a.version.isEqual(q.min()))return a}return Ni.newInvalidDocument(t)}}function ly(s){return new Ch(s)}class Yp extends xl{constructor(t,i){super(),this.Yn=t,this.trackRemovals=i,this.Xn=new Xa(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(t){const i=[];let a=0,l=new Kr((g,C)=>Pn(g.canonicalString(),C.canonicalString()));return this.changes.forEach((g,C)=>{const P=this.Xn.get(g);if(i.push(this.Yn.removeEntry(t,g,P.readTime)),C.isValidDocument()){const K=ey(this.Yn.yt,C);l=l.add(g.path.popLast());const ee=_h(K);a+=ee-P.size,i.push(this.Yn.addEntry(t,g,K))}else if(a-=P.size,this.trackRemovals){const K=ey(this.Yn.yt,C.convertToNoDocument(q.min()));i.push(this.Yn.addEntry(t,g,K))}}),l.forEach(g=>{i.push(this.Yn.indexManager.addToCollectionParentIndex(t,g))}),i.push(this.Yn.updateMetadata(t,a)),ct.waitFor(i)}getFromCache(t,i){return this.Yn.Wn(t,i).next(a=>(this.Xn.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(t,i){return this.Yn.Hn(t,i).next(({documents:a,Jn:l})=>(l.forEach((g,C)=>{this.Xn.set(g,{size:C,readTime:a.get(g).readTime})}),a))}}function _f(s){return Lr(s,"remoteDocumentGlobal")}function Ad(s){return Lr(s,"remoteDocumentsV14")}function Dh(s){const t=s.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uy(s,t){const i=t.documentKey.path.toArray();return[s,df(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function dy(s,t){const i=s.path.toArray(),a=t.path.toArray();let l=0;for(let g=0;g<i.length-2&&g<a.length-2;++g)if(l=Pn(i[g],a[g]),l)return l;return l=Pn(i.length,a.length),l||(l=Pn(i[i.length-2],a[a.length-2]),l||Pn(i[i.length-1],a[a.length-1]))}class i_{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class s_{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(null!==a&&Wt(a.mutation,l,io.empty(),N.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Sr()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Sr()){const l=Pa();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(g=>{let C=gc();return g.forEach((P,K)=>{C=C.insert(P,K.overlayedDocument)}),C}))}getOverlayedDocuments(t,i){const a=Pa();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Sr()))}populateOverlays(t,i,a){const l=[];return a.forEach(g=>{i.has(g)||l.push(g)}),this.documentOverlayCache.getOverlays(t,l).next(g=>{g.forEach((C,P)=>{i.set(C,P)})})}computeViews(t,i,a,l){let g=ls();const C=Ml(),P=Ml();return i.forEach((K,ee)=>{const _e=a.get(ee.key);l.has(ee.key)&&(void 0===_e||_e.mutation instanceof pi)?g=g.insert(ee.key,ee):void 0!==_e?(C.set(ee.key,_e.mutation.getFieldMask()),Wt(_e.mutation,ee,_e.mutation.getFieldMask(),N.now())):C.set(ee.key,io.empty())}),this.recalculateAndSaveOverlays(t,g).next(K=>(K.forEach((ee,_e)=>C.set(ee,_e)),i.forEach((ee,_e)=>{var Fe;return P.set(ee,new i_(_e,null!==(Fe=C.get(ee))&&void 0!==Fe?Fe:null))}),P))}recalculateAndSaveOverlays(t,i){const a=Ml();let l=new kn((C,P)=>C-P),g=Sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(C=>{for(const P of C)P.keys().forEach(K=>{const ee=i.get(K);if(null===ee)return;let _e=a.get(K)||io.empty();_e=P.applyToLocalView(ee,_e),a.set(K,_e);const Fe=(l.get(P.batchId)||Sr()).add(K);l=l.insert(P.batchId,Fe)})}).next(()=>{const C=[],P=l.getReverseIterator();for(;P.hasNext();){const K=P.getNext(),ee=K.key,_e=K.value,Fe=mc();_e.forEach(ft=>{if(!g.has(ft)){const Ut=Ee(i.get(ft),a.get(ft));null!==Ut&&Fe.set(ft,Ut),g=g.add(ft)}}),C.push(this.documentOverlayCache.saveOverlays(t,ee,Fe))}return ct.waitFor(C)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a){return je.isDocumentKey((l=i).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):ll(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a):this.getDocumentsMatchingCollectionQuery(t,i,a);var l}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(g=>{const C=l-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-g.size):ct.resolve(Pa());let P=-1,K=g;return C.next(ee=>ct.forEach(ee,(_e,Fe)=>(P<Fe.largestBatchId&&(P=Fe.largestBatchId),g.get(_e)?ct.resolve():this.remoteDocumentCache.getEntry(t,_e).next(ft=>{K=K.insert(_e,ft)}))).next(()=>this.populateOverlays(t,ee,g)).next(()=>this.computeViews(t,K,ee,Sr())).next(_e=>({batchId:P,changes:Kl(_e)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new je(i)).next(a=>{let l=gc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a){const l=i.collectionGroup;let g=gc();return this.indexManager.getCollectionParents(t,l).next(C=>ct.forEach(C,P=>{const K=(ee=i,_e=P.child(l),new Ns(_e,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,_e;return this.getDocumentsMatchingCollectionQuery(t,K,a).next(ee=>{ee.forEach((_e,Fe)=>{g=g.insert(_e,Fe)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(g=>(l=g,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,l))).next(g=>{l.forEach((P,K)=>{const ee=K.getKey();null===g.get(ee)&&(g=g.insert(ee,Ni.newInvalidDocument(ee)))});let C=gc();return g.forEach((P,K)=>{const ee=l.get(P);void 0!==ee&&Wt(ee.mutation,K,io.empty(),N.now()),Qc(i,K)&&(C=C.insert(P,K))}),C})}}class o_{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,i){return ct.resolve(this.Zn.get(i))}saveBundleMetadata(t,i){var a;return this.Zn.set(i.id,{id:(a=i).id,version:a.version,createTime:qs(a.createTime)}),ct.resolve()}getNamedQuery(t,i){return ct.resolve(this.ts.get(i))}saveNamedQuery(t,i){return this.ts.set(i.name,{name:(a=i).name,query:qu(a.bundledQuery),readTime:qs(a.readTime)}),ct.resolve();var a}}class Ju{constructor(){this.overlays=new kn(je.comparator),this.es=new Map}getOverlay(t,i){return ct.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Pa();return ct.forEach(i,l=>this.getOverlay(t,l).next(g=>{null!==g&&a.set(l,g)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,g)=>{this.oe(t,i,g)}),ct.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.es.get(a);return void 0!==l&&(l.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(a)),ct.resolve()}getOverlaysForCollection(t,i,a){const l=Pa(),g=i.length+1,C=new je(i.child("")),P=this.overlays.getIteratorFrom(C);for(;P.hasNext();){const K=P.getNext().value,ee=K.getKey();if(!i.isPrefixOf(ee.path))break;ee.path.length===g&&K.largestBatchId>a&&l.set(K.getKey(),K)}return ct.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let g=new kn((ee,_e)=>ee-_e);const C=this.overlays.getIterator();for(;C.hasNext();){const ee=C.getNext().value;if(ee.getKey().getCollectionGroup()===i&&ee.largestBatchId>a){let _e=g.get(ee.largestBatchId);null===_e&&(_e=Pa(),g=g.insert(ee.largestBatchId,_e)),_e.set(ee.getKey(),ee)}}const P=Pa(),K=g.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((ee,_e)=>P.set(ee,_e)),!(P.size()>=l)););return ct.resolve(P)}oe(t,i,a){const l=this.overlays.get(a.key);if(null!==l){const C=this.es.get(l.largestBatchId).delete(a.key);this.es.set(l.largestBatchId,C)}this.overlays=this.overlays.insert(a.key,new Qu(i,a));let g=this.es.get(i);void 0===g&&(g=Sr(),this.es.set(i,g)),this.es.set(i,g.add(a.key))}}class Zp{constructor(){this.ns=new Kr(na.ss),this.rs=new Kr(na.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,i){const a=new na(t,i);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.cs(new na(t,i))}hs(t,i){t.forEach(a=>this.removeReference(a,i))}ls(t){const i=new je(new W([])),a=new na(i,t),l=new na(i,t+1),g=[];return this.rs.forEachInRange([a,l],C=>{this.cs(C),g.push(C.key)}),g}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const i=new je(new W([])),a=new na(i,t),l=new na(i,t+1);let g=Sr();return this.rs.forEachInRange([a,l],C=>{g=g.add(C.key)}),g}containsKey(t){const i=new na(t,0),a=this.ns.firstAfterOrEqual(i);return null!==a&&t.isEqual(a.key)}}class na{constructor(t,i){this.key=t,this._s=i}static ss(t,i){return je.comparator(t.key,i.key)||Pn(t._s,i._s)}static os(t,i){return Pn(t._s,i._s)||je.comparator(t.key,i.key)}}class Jp{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.ws=1,this.gs=new Kr(na.ss)}checkEmpty(t){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,a,l){const g=this.ws;this.ws++;const C=new vc(g,i,a,l);this.mutationQueue.push(C);for(const P of l)this.gs=this.gs.add(new na(P.key,g)),this.indexManager.addToCollectionParentIndex(t,P.key.path.popLast());return ct.resolve(C)}lookupMutationBatch(t,i){return ct.resolve(this.ys(i))}getNextMutationBatchAfterBatchId(t,i){const l=this.ps(i+1),g=l<0?0:l;return ct.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new na(i,0),l=new na(i,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([a,l],C=>{const P=this.ys(C._s);g.push(P)}),ct.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Kr(Pn);return i.forEach(l=>{const g=new na(l,0),C=new na(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,C],P=>{a=a.add(P._s)})}),ct.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let g=a;je.isDocumentKey(g)||(g=g.child(""));const C=new na(new je(g),0);let P=new Kr(Pn);return this.gs.forEachWhile(K=>{const ee=K.key.path;return!!a.isPrefixOf(ee)&&(ee.length===l&&(P=P.add(K._s)),!0)},C),ct.resolve(this.Is(P))}Is(t){const i=[];return t.forEach(a=>{const l=this.ys(a);null!==l&&i.push(l)}),i}removeMutationBatch(t,i){Ye(0===this.Ts(i.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return ct.forEach(i.mutations,l=>{const g=new na(l.key,i.batchId);return a=a.delete(g),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.gs=a})}An(t){}containsKey(t,i){const a=new na(i,0),l=this.gs.firstAfterOrEqual(a);return ct.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return ct.resolve()}Ts(t,i){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const i=this.ps(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Md{constructor(t){this.Es=t,this.docs=new kn(je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),g=l?l.size:0,C=this.Es(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:C}),this.size+=C-g,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return ct.resolve(a?a.document.mutableCopy():Ni.newInvalidDocument(i))}getEntries(t,i){let a=ls();return i.forEach(l=>{const g=this.docs.get(l);a=a.insert(l,g?g.document.mutableCopy():Ni.newInvalidDocument(l))}),ct.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let g=ls();const C=i.path,P=new je(C.child("")),K=this.docs.getIteratorFrom(P);for(;K.hasNext();){const{key:ee,value:{document:_e}}=K.getNext();if(!C.isPrefixOf(ee.path))break;ee.path.length>C.length+1||vs(Gs(_e),a)<=0||(l.has(_e.key)||Qc(i,_e))&&(g=g.insert(_e.key,_e.mutableCopy()))}return ct.resolve(g)}getAllFromCollectionGroup(t,i,a,l){Yt()}As(t,i){return ct.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new Ef(this)}getSize(t){return ct.resolve(this.size)}}class Ef extends xl{constructor(t){super(),this.Yn=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Yn.addEntry(t,l)):this.Yn.removeEntry(a)}),ct.waitFor(i)}getFromCache(t,i){return this.Yn.getEntry(t,i)}getAllFromCache(t,i){return this.Yn.getEntries(t,i)}}class eg{constructor(t){this.persistence=t,this.Rs=new Xa(i=>Es(i),Rs),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Zp,this.targetCount=0,this.vs=Zu.Pn()}forEachTarget(t,i){return this.Rs.forEach((a,l)=>i(l)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.bs&&(this.bs=i),ct.resolve()}Dn(t){this.Rs.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.vs=new Zu(i),this.highestTargetId=i),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,i){return this.Dn(i),this.targetCount+=1,ct.resolve()}updateTargetData(t,i){return this.Dn(i),ct.resolve()}removeTargetData(t,i){return this.Rs.delete(i.target),this.Ps.ls(i.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,i,a){let l=0;const g=[];return this.Rs.forEach((C,P)=>{P.sequenceNumber<=i&&null===a.get(P.targetId)&&(this.Rs.delete(C),g.push(this.removeMatchingKeysForTargetId(t,P.targetId)),l++)}),ct.waitFor(g).next(()=>l)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,i){const a=this.Rs.get(i)||null;return ct.resolve(a)}addMatchingKeys(t,i,a){return this.Ps.us(i,a),ct.resolve()}removeMatchingKeys(t,i,a){this.Ps.hs(i,a);const l=this.persistence.referenceDelegate,g=[];return l&&i.forEach(C=>{g.push(l.markPotentiallyOrphaned(t,C))}),ct.waitFor(g)}removeMatchingKeysForTargetId(t,i){return this.Ps.ls(i),ct.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Ps.ds(i);return ct.resolve(a)}containsKey(t,i){return ct.resolve(this.Ps.containsKey(i))}}class Rd{constructor(t,i){this.Vs={},this.overlays={},this.Ss=new $o(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new eg(this),this.indexManager=new ry,this.remoteDocumentCache=new Md(a=>this.referenceDelegate.xs(a)),this.yt=new kp(i),this.Ns=new o_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ju,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Vs[t.toKey()];return a||(a=new Jp(i,this.referenceDelegate),this.Vs[t.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,i,a){zt("MemoryPersistence","Starting transaction:",t);const l=new If(this.Ss.next());return this.referenceDelegate.ks(),a(l).next(g=>this.referenceDelegate.Os(l).next(()=>g)).toPromise().then(g=>(l.raiseOnCommittedEvent(),g))}Ms(t,i){return ct.or(Object.values(this.Vs).map(a=>()=>a.containsKey(t,i)))}}class If extends Ra{constructor(t){super(),this.currentSequenceNumber=t}}class Pl{constructor(t){this.persistence=t,this.Fs=new Zp,this.$s=null}static Bs(t){return new Pl(t)}get Ls(){if(this.$s)return this.$s;throw Yt()}addReference(t,i,a){return this.Fs.addReference(a,i),this.Ls.delete(a.toString()),ct.resolve()}removeReference(t,i,a){return this.Fs.removeReference(a,i),this.Ls.add(a.toString()),ct.resolve()}markPotentiallyOrphaned(t,i){return this.Ls.add(i.toString()),ct.resolve()}removeTarget(t,i){this.Fs.ls(i.targetId).forEach(l=>this.Ls.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(g=>this.Ls.add(g.toString()))}).next(()=>a.removeTargetData(t,i))}ks(){this.$s=new Set}Os(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ls,a=>{const l=je.fromPath(a);return this.qs(t,l).next(g=>{g||i.removeEntry(l,q.min())})}).next(()=>(this.$s=null,i.apply(t)))}updateLimboDocument(t,i){return this.qs(t,i).next(a=>{a?this.Ls.delete(i.toString()):this.Ls.add(i.toString())})}xs(t){return 0}qs(t,i){return ct.or([()=>ct.resolve(this.Fs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ms(t,i)])}}class tg{constructor(t){this.yt=t}$(t,i,a,l){const g=new ga("createOrUpgrade",i);var P;a<1&&l>=1&&(t.createObjectStore("owner"),(P=t).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ei,{unique:!0}),P.createObjectStore("documentMutations"),wh(t),function(P){P.createObjectStore("remoteDocuments")}(t));let C=ct.resolve();return a<3&&l>=3&&(0!==a&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(t),wh(t)),C=C.next(()=>function(P){const K=P.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:q.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ee)}(g))),a<4&&l>=4&&(0!==a&&(C=C.next(()=>function(P,K){return K.store("mutations").W().next(ee=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ei,{unique:!0});const _e=K.store("mutations"),Fe=ee.map(ft=>_e.put(ft));return ct.waitFor(Fe)})}(t,g))),C=C.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),a<5&&l>=5&&(C=C.next(()=>this.Us(g))),a<6&&l>=6&&(C=C.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(g)))),a<7&&l>=7&&(C=C.next(()=>this.Gs(g))),a<8&&l>=8&&(C=C.next(()=>this.Qs(t,g))),a<9&&l>=9&&(C=C.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(t)})),a<10&&l>=10&&(C=C.next(()=>this.js(g))),a<11&&l>=11&&(C=C.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),a<12&&l>=12&&(C=C.next(()=>{!function(P){const K=P.createObjectStore("documentOverlays",{keyPath:Ne});K.createIndex("collectionPathOverlayIndex",ot,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Ct,{unique:!1})}(t)})),a<13&&l>=13&&(C=C.next(()=>function(P){const K=P.createObjectStore("remoteDocumentsV14",{keyPath:ns});K.createIndex("documentKeyIndex",us),K.createIndex("collectionGroupIndex",f)}(t)).next(()=>this.Ws(t,g)).next(()=>t.deleteObjectStore("remoteDocuments"))),a<14&&l>=14&&(C=C.next(()=>this.zs(t,g))),a<15&&l>=15&&(C=C.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:B}).createIndex("sequenceNumberIndex",Q,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:ae}).createIndex("documentKeyIndex",Ce,{unique:!1})}(t))),C}Ks(t){let i=0;return t.store("remoteDocuments").Z((a,l)=>{i+=_h(l)}).next(()=>{const a={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Us(t){const i=t.store("mutationQueues"),a=t.store("mutations");return i.W().next(l=>ct.forEach(l,g=>{const C=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",C).next(P=>ct.forEach(P,K=>{Ye(K.userId===g.userId);const ee=bu(this.yt,K);return zp(t,g.userId,ee).next(()=>{})}))}))}Gs(t){const i=t.store("targetDocuments"),a=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(l=>{const g=[];return a.Z((C,P)=>{const K=new W(C),ee=[0,Kt(K)];g.push(i.get(ee).next(_e=>_e?ct.resolve():i.put({targetId:0,path:Kt(K),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ct.waitFor(g))})}Qs(t,i){t.createObjectStore("collectionParents",{keyPath:O});const a=i.store("collectionParents"),l=new Wp,g=C=>{if(l.add(C)){const P=C.lastSegment(),K=C.popLast();return a.put({collectionId:P,parent:Kt(K)})}};return i.store("remoteDocuments").Z({X:!0},(C,P)=>{const K=new W(C);return g(K.popLast())}).next(()=>i.store("documentMutations").Z({X:!0},([C,P,K],ee)=>{const _e=Ar(P);return g(_e.popLast())}))}js(t){const i=t.store("targets");return i.Z((a,l)=>{const g=ph(l),C=Fp(this.yt,g);return i.put(C)})}Ws(t,i){const a=i.store("remoteDocuments"),l=[];return a.Z((g,C)=>{const P=i.store("remoteDocumentsV14"),K=(ee=C,ee.document?new je(W.fromString(ee.document.name).popFirst(5)):ee.noDocument?je.fromSegments(ee.noDocument.path):ee.unknownDocument?je.fromSegments(ee.unknownDocument.path):Yt()).path.toArray();var ee;const _e={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};l.push(P.put(_e))}).next(()=>ct.waitFor(l))}zs(t,i){const a=i.store("mutations"),l=ly(this.yt),g=new Rd(Pl.Bs,this.yt.ie);return a.W().next(C=>{const P=new Map;return C.forEach(K=>{var ee;let _e=null!==(ee=P.get(K.userId))&&void 0!==ee?ee:Sr();bu(this.yt,K).keys().forEach(Fe=>_e=_e.add(Fe)),P.set(K.userId,_e)}),ct.forEach(P,(K,ee)=>{const _e=new ts(ee),Fe=Xu.re(this.yt,_e),ft=g.getIndexManager(_e),Ut=Eh.re(_e,this.yt,ft,g.referenceDelegate);return new s_(l,Ut,Fe,ft).recalculateAndSaveOverlaysForDocumentKeys(new ml(i,$o.at),K).next()})})}}function wh(s){s.createObjectStore("targetDocuments",{keyPath:h}).createIndex("documentTargetsIndex",_,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),s.createObjectStore("targetGlobal")}const ed="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Th{constructor(t,i,a,l,g,C,P,K,ee,_e,Fe=15){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=a,this.Hs=g,this.window=C,this.document=P,this.Js=ee,this.Ys=_e,this.Xs=Fe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ft=>Promise.resolve(),!Th.C())throw new Ot(at.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xp(this,l),this.ii=i+"main",this.yt=new kp(K),this.ri=new Mo(this.ii,this.Xs,new tg(this.yt)),this.Cs=new oy(this.referenceDelegate,this.yt),this.remoteDocumentCache=ly(this.yt),this.Ns=new gh,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===_e&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ot(at.FAILED_PRECONDITION,ed);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new $o(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var i=this;return this.si=function(){var a=(0,p.A)(function*(l){if(i.started)return t(l)});return function(l){return a.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var i=(0,p.A)(function*(a){null===a.newVersion&&(yield t())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,p.A)(function*(){i.started&&(yield i.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>nd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(i=>{i||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(i=>this.isPrimary&&!i?this._i(t).next(()=>!1):!!i&&this.wi(t).next(()=>!0))).catch(t=>{if(ma(t))return zt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return zt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return td(t).get("owner").next(i=>ct.resolve(this.mi(i)))}gi(t){return nd(t).delete(this.clientId)}yi(){var t=this;return(0,p.A)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=Lr(a,"clientMetadata");return l.W().next(g=>{const C=t.Ii(g,18e5),P=g.filter(K=>-1===C.indexOf(K));return ct.forEach(P,K=>l.delete(K.clientId)).next(()=>P)})}).catch(()=>[]);if(t.oi)for(const a of i)t.oi.removeItem(t.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ct.resolve(!0):td(t).get("owner").next(i=>{if(null!==i&&this.pi(i.leaseTimestampMs,5e3)&&!this.Ei(i.ownerId)){if(this.mi(i)&&this.networkEnabled)return!0;if(!this.mi(i)){if(!i.allowTabSynchronization)throw new Ot(at.FAILED_PRECONDITION,ed);return!1}}return!(!this.networkEnabled||!this.inForeground)||nd(t).W().next(a=>void 0===this.Ii(a,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(i=>(this.isPrimary!==i&&zt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,p.A)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new ml(i,$o.at);return t._i(a).next(()=>t.gi(a))}),t.ri.close(),t.Pi()})()}Ii(t,i){return t.filter(a=>this.pi(a.updateTimeMs,i)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>nd(t).W().next(i=>this.Ii(i,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(t,i){return Eh.re(t,this.yt,i,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new n_(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return Xu.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,i,a){zt("IndexedDbPersistence","Starting transaction:",t);const l="readonly"===i?"readonly":"readwrite",g=15===(C=this.Xs)?Co:14===C?ur:13===C?Vn:12===C?fn:11===C?kt:void Yt();var C;let P;return this.ri.runTransaction(t,l,g,K=>(P=new ml(K,this.Ss?this.Ss.next():$o.at),"readwrite-primary"===i?this.fi(P).next(ee=>!!ee||this.di(P)).next(ee=>{if(!ee)throw Fi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ot(at.FAILED_PRECONDITION,go);return a(P)}).next(ee=>this.wi(P).next(()=>ee)):this.Vi(P).next(()=>a(P)))).then(K=>(P.raiseOnCommittedEvent(),K))}Vi(t){return td(t).get("owner").next(i=>{if(null!==i&&this.pi(i.leaseTimestampMs,5e3)&&!this.Ei(i.ownerId)&&!this.mi(i)&&!(this.Ys||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ot(at.FAILED_PRECONDITION,ed)})}wi(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return td(t).put("owner",i)}static C(){return Mo.C()}_i(t){const i=td(t);return i.get("owner").next(a=>this.mi(a)?(zt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ct.resolve())}pi(t,i){const a=Date.now();return!(t<a-i||t>a&&(Fi(`Detected an update time that is in the future: ${t} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Z.nr)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var i;try{const a=null!==(null===(i=this.oi)||void 0===i?void 0:i.getItem(this.Ti(t)));return zt("IndexedDbPersistence",`Client '${t}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Fi("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Fi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function td(s){return Lr(s,"owner")}function nd(s){return Lr(s,"clientMetadata")}class Sh{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Si=a,this.Di=l}static Ci(t,i){let a=Sr(),l=Sr();for(const g of i.docChanges)switch(g.type){case 0:a=a.add(g.doc.key);break;case 1:l=l.add(g.doc.key)}return new Sh(t,i.fromCache,a,l)}}class a_{constructor(){this.xi=!1}initialize(t,i){this.Ni=t,this.indexManager=i,this.xi=!0}getDocumentsMatchingQuery(t,i,a,l){return this.ki(t,i).next(g=>g||this.Oi(t,i,l,a)).next(g=>g||this.Mi(t,i))}ki(t,i){if(Dl(i))return ct.resolve(null);let a=Qs(i);return this.indexManager.getIndexType(t,a).next(l=>0===l?null:(null!==i.limit&&1===l&&(i=ul(i,null,"F"),a=Qs(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(g=>{const C=Sr(...g);return this.Ni.getDocuments(t,C).next(P=>this.indexManager.getMinOffset(t,a).next(K=>{const ee=this.Fi(i,P);return this.$i(i,ee,C,K.readTime)?this.ki(t,ul(i,null,"F")):this.Bi(t,ee,i,K)}))})))}Oi(t,i,a,l){return Dl(i)||l.isEqual(q.min())?this.Mi(t,i):this.Ni.getDocuments(t,a).next(g=>{const C=this.Fi(i,g);return this.$i(i,C,a,l)?this.Mi(t,i):(Vo()<=H.$b.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),zc(i)),this.Bi(t,C,i,function Mi(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=q.fromTimestamp(1e9===a?new N(i+1,0):new N(i,a));return new Li(l,je.empty(),t)}(l,-1)))})}Fi(t,i){let a=new Kr(so(t));return i.forEach((l,g)=>{Qc(t,g)&&(a=a.add(g))}),a}$i(t,i,a,l){if(null===t.limit)return!1;if(a.size!==i.size)return!0;const g="F"===t.limitType?i.last():i.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(l)>0)}Mi(t,i){return Vo()<=H.$b.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",zc(i)),this.Ni.getDocumentsMatchingQuery(t,i,Li.min())}Bi(t,i,a,l){return this.Ni.getDocumentsMatchingQuery(t,a,l).next(g=>(i.forEach(C=>{g=g.insert(C.key,C)}),g))}}class Nd{constructor(t,i,a,l){this.persistence=t,this.Li=i,this.yt=l,this.qi=new kn(Pn),this.Ui=new Xa(g=>Es(g),Rs),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(a)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.qi))}}function ng(s,t,i,a){return new Nd(s,t,i,a)}function rg(s,t){return Df.apply(this,arguments)}function Df(){return Df=(0,p.A)(function*(s,t){const i=$t(s);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(g=>(l=g,i.Qi(t),i.mutationQueue.getAllMutationBatches(a))).next(g=>{const C=[],P=[];let K=Sr();for(const ee of l){C.push(ee.batchId);for(const _e of ee.mutations)K=K.add(_e.key)}for(const ee of g){P.push(ee.batchId);for(const _e of ee.mutations)K=K.add(_e.key)}return i.localDocuments.getDocuments(a,K).next(ee=>({ji:ee,removedBatchIds:C,addedBatchIds:P}))})})}),Df.apply(this,arguments)}function sg(s){const t=$t(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Cs.getLastRemoteSnapshotVersion(i))}function og(s,t){const i=$t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function rd(s,t,i){return ra.apply(this,arguments)}function ra(){return ra=(0,p.A)(function*(s,t,i){const a=$t(s),l=a.qi.get(t),g=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",g,C=>a.persistence.referenceDelegate.removeTarget(C,l)))}catch(C){if(!ma(C))throw C;zt("LocalStore",`Failed to update sequence numbers for target ${t}: ${C}`)}a.qi=a.qi.remove(t),a.Ui.delete(l.target)}),ra.apply(this,arguments)}function Tf(s,t,i){const a=$t(s);let l=q.min(),g=Sr();return a.persistence.runTransaction("Execute query","readonly",C=>function(P,K,ee){const _e=$t(P),Fe=_e.Ui.get(ee);return void 0!==Fe?ct.resolve(_e.qi.get(Fe)):_e.Cs.getTargetData(K,ee)}(a,C,Qs(t)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(C,P.targetId).next(K=>{g=K})}).next(()=>a.Li.getDocumentsMatchingQuery(C,t,i?l:q.min(),i?g:Sr())).next(P=>(function ag(s,t,i){let a=s.Ki.get(t)||q.min();i.forEach((l,g)=>{g.readTime.compareTo(a)>0&&(a=g.readTime)}),s.Ki.set(t,a)}(a,function Nc(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}(t),P),{documents:P,Hi:g})))}class od{constructor(){this.activeTargetIds=kc()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xu{constructor(){this.Lr=new od,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,i,a){this.qr[t]=i}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new od,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bh{Ur(t){}shutdown(){}}class Ah{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const l_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u_{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Mf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,i,a,l,g){const C=this.ho(t,i);zt("RestConnection","Sending: ",C,a);const P={};return this.lo(P,l,g),this.fo(t,C,P,a).then(K=>(zt("RestConnection","Received: ",K),K),K=>{throw $a("RestConnection",`${t} failed with error: `,K,"url: ",C,"request:",a),K})}_o(t,i,a,l,g,C){return this.ao(t,i,a,l,g)}lo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ws,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,g)=>t[g]=l),a&&a.headers.forEach((l,g)=>t[g]=l)}ho(t,i){return`${this.oo}/v1/${i}:${l_[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,i,a,l){return new Promise((g,C)=>{const P=new Vc;P.setWithCredentials(!0),P.listenOnce(qr.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case nc.NO_ERROR:const ee=P.getResponseJson();zt("Connection","XHR received:",JSON.stringify(ee)),g(ee);break;case nc.TIMEOUT:zt("Connection",'RPC "'+t+'" timed out'),C(new Ot(at.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const _e=P.getStatus();if(zt("Connection",'RPC "'+t+'" failed with status:',_e,"response text:",P.getResponseText()),_e>0){let Fe=P.getResponseJson();Array.isArray(Fe)&&(Fe=Fe[0]);const ft=Fe?.error;if(ft&&ft.status&&ft.message){const Ut=function(en){const _n=en.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(_n)>=0?_n:at.UNKNOWN}(ft.status);C(new Ot(Ut,ft.message))}else C(new Ot(at.UNKNOWN,"Server responded with status "+P.getStatus()))}else C(new Ot(at.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{zt("Connection",'RPC "'+t+'" completed.')}});const K=JSON.stringify(l);P.send(i,"POST",K,a,15)})}wo(t,i,a){const l=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],g=ha(),C=Ao(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new ja({})),this.lo(P.initMessageHeaders,i,a),P.encodeInitMessageHeaders=!0;const K=l.join("");zt("Connection","Creating WebChannel: "+K,P);const ee=g.createWebChannel(K,P);let _e=!1,Fe=!1;const ft=new u_({Hr:en=>{Fe?zt("Connection","Not sending because WebChannel is closed:",en):(_e||(zt("Connection","Opening WebChannel transport."),ee.open(),_e=!0),zt("Connection","WebChannel sending:",en),ee.send(en))},Jr:()=>ee.close()}),Ut=(en,_n,rr)=>{en.listen(_n,Ys=>{try{rr(Ys)}catch(Do){setTimeout(()=>{throw Do},0)}})};return Ut(ee,Zi.EventType.OPEN,()=>{Fe||zt("Connection","WebChannel transport opened.")}),Ut(ee,Zi.EventType.CLOSE,()=>{Fe||(Fe=!0,zt("Connection","WebChannel transport closed"),ft.io())}),Ut(ee,Zi.EventType.ERROR,en=>{Fe||(Fe=!0,$a("Connection","WebChannel transport errored:",en),ft.io(new Ot(at.UNAVAILABLE,"The operation could not be completed")))}),Ut(ee,Zi.EventType.MESSAGE,en=>{var _n;if(!Fe){const rr=en.data[0];Ye(!!rr);const Do=rr.error||(null===(_n=rr[0])||void 0===_n?void 0:_n.error);if(Do){zt("Connection","WebChannel received error:",Do);const ds=Do.status;let Da=function(Ji){const ac=Ti[Ji];if(void 0!==ac)return ea(ac)}(ds),hs=Do.message;void 0===Da&&(Da=at.INTERNAL,hs="Unknown error status: "+ds+" with message "+Do.message),Fe=!0,ft.io(new Ot(Da,hs)),ee.close()}else zt("Connection","WebChannel received:",rr),ft.ro(rr)}}),Ut(C,ro.STAT_EVENT,en=>{en.stat===lc.PROXY?zt("Connection","Detected buffering proxy"):en.stat===lc.NOPROXY&&zt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ft.so()},0),ft}}function hu(){return typeof document<"u"?document:null}function Mh(s){return new lu(s,!0)}class Rf{constructor(t,i,a=1e3,l=1.5,g=6e4){this.Hs=t,this.timerId=i,this.mo=a,this.yo=l,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const i=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),l=Math.max(0,i-a);l>0&&zt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class xd{constructor(t,i,a,l,g,C,P,K){this.Hs=t,this.vo=a,this.Vo=l,this.connection=g,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=P,this.listener=K,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Rf(t,i)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,p.A)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,p.A)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,i){var a=this;return(0,p.A)(function*(){a.Lo(),a.qo(),a.xo.cancel(),a.So++,4!==t?a.xo.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):i&&i.code===at.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Uo(),a.stream.close(),a.stream=null),a.state=t,yield a.listener.Zr(i)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),i=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.So===i&&this.Go(a,l)},a=>{t(()=>{const l=new Ot(at.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(l)})})}Go(t,i){const a=this.Ko(this.So);this.stream=this.jo(t,i),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{a(()=>this.Qo(l))}),this.stream.onMessage(l=>{a(()=>this.onMessage(l))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,p.A)(function*(){t.state=0,t.start()}))}Qo(t){return zt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return i=>{this.Hs.enqueueAndForget(()=>this.So===t?i():(zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nf extends xd{constructor(t,i,a,l,g,C){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,C),this.yt=g}jo(t,i){return this.connection.wo("Listen",t,i)}onMessage(t){this.xo.reset();const i=function fh(s,t){let i;if("targetChange"in t){const a="NO_CHANGE"===(K=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Yt(),l=t.targetChange.targetIds||[],g=function(K,ee){return K.wt?(Ye(void 0===ee||"string"==typeof ee),bs.fromBase64String(ee||"")):(Ye(void 0===ee||ee instanceof Uint8Array),bs.fromUint8Array(ee||new Uint8Array))}(s,t.targetChange.resumeToken),C=t.targetChange.cause,P=C&&function(K){const ee=void 0===K.code?at.UNKNOWN:ea(K.code);return new Ot(ee,K.message||"")}(C);i=new Ed(a,l,g,P||null)}else if("documentChange"in t){const a=t.documentChange,l=Zc(s,a.document.name),g=qs(a.document.updateTime),C=a.document.createTime?qs(a.document.createTime):q.min(),P=new No({mapValue:{fields:a.document.fields}}),K=Ni.newFoundDocument(l,g,C,P);i=new cu(a.targetIds||[],a.removedTargetIds||[],K.key,K)}else if("documentDelete"in t){const a=t.documentDelete,l=Zc(s,a.document),g=a.readTime?qs(a.readTime):q.min(),C=Ni.newNoDocument(l,g);i=new cu([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in t){const a=t.documentRemove,l=Zc(s,a.document);i=new cu([],a.removedTargetIds||[],l,null)}else{if(!("filter"in t))return Yt();{const a=t.filter,g=new qa(a.count||0);i=new _d(a.targetId,g)}}var K;return i}(this.yt,t),a=function(l){if(!("targetChange"in l))return q.min();const g=l.targetChange;return g.targetIds&&g.targetIds.length?q.min():g.readTime?qs(g.readTime):q.min()}(t);return this.listener.Wo(i,a)}zo(t){const i={};i.database=gl(this.yt),i.addTarget=function(l,g){let C;const P=g.target;return C=pc(P)?{documents:y(l,P)}:{query:A(l,P)},C.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?C.resumeToken=lh(l,g.resumeToken):g.snapshotVersion.compareTo(q.min())>0&&(C.readTime=xs(l,g.snapshotVersion.toTimestamp())),C}(this.yt,t);const a=function oe(s,t){const i=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yt()}}(0,t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);a&&(i.labels=a),this.Bo(i)}Ho(t){const i={};i.database=gl(this.yt),i.removeTarget=t,this.Bo(i)}}class yy extends xd{constructor(t,i,a,l,g,C){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,C),this.yt=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,i){return this.connection.wo("Write",t,i)}onMessage(t){if(Ye(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const i=function E(s,t){return s&&s.length>0?(Ye(void 0!==t),s.map(i=>function(a,l){let g=qs(a.updateTime?a.updateTime:l);return g.isEqual(q.min())&&(g=qs(l)),new v(g,a.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),a=qs(t.commitTime);return this.listener.Zo(a,i)}return Ye(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=gl(this.yt),this.Bo(t)}Xo(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>Su(this.yt,a))};this.Bo(i)}}class vy extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.yt=l,this.nu=!1}su(){if(this.nu)throw new Ot(at.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,i,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,g])=>this.connection.ao(t,i,a,l,g)).catch(l=>{throw"FirebaseError"===l.name?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ot(at.UNKNOWN,l.toString())})}_o(t,i,a,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,C])=>this.connection._o(t,i,a,g,C,l)).catch(g=>{throw"FirebaseError"===g.name?(g.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ot(at.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class d_{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Fi(i),this.ou=!1):zt("OnlineStateTracker",i)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Za{constructor(t,i,a,l,g){var C=this;this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.Ur(P=>{a.enqueueAndForget((0,p.A)(function*(){var K;kl(C)&&(zt("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,p.A)(function*(ee){const _e=$t(ee);_e._u.add(4),yield Pu(_e),_e.gu.set("Unknown"),_e._u.delete(4),yield Nh(_e)}),function(ee){return K.apply(this,arguments)})(C))}))}),this.gu=new d_(a,l)}}function Nh(s){return lg.apply(this,arguments)}function lg(){return lg=(0,p.A)(function*(s){if(kl(s))for(const t of s.wu)yield t(!0)}),lg.apply(this,arguments)}function Pu(s){return Of.apply(this,arguments)}function Of(){return Of=(0,p.A)(function*(s){for(const t of s.wu)yield t(!1)}),Of.apply(this,arguments)}function Oh(s,t){const i=$t(s);i.du.has(t.targetId)||(i.du.set(t.targetId,t),Pd(i)?dg(i):Yl(i).ko()&&_y(i,t))}function xh(s,t){const i=$t(s),a=Yl(i);i.du.delete(t),a.ko()&&ug(i,t),0===i.du.size&&(a.ko()?a.Fo():kl(i)&&i.gu.set("Unknown"))}function _y(s,t){s.yu.Ot(t.targetId),Yl(s).zo(t)}function ug(s,t){s.yu.Ot(t),Yl(s).Ho(t)}function dg(s){s.yu=new yc({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>s.du.get(t)||null}),Yl(s).start(),s.gu.uu()}function Pd(s){return kl(s)&&!Yl(s).No()&&s.du.size>0}function kl(s){return 0===$t(s)._u.size}function xf(s){s.yu=void 0}function kd(s){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,p.A)(function*(s){s.du.forEach((t,i)=>{_y(s,t)})}),Fd.apply(this,arguments)}function Pf(s,t){return ku.apply(this,arguments)}function ku(){return ku=(0,p.A)(function*(s,t){xf(s),Pd(s)?(s.gu.hu(t),dg(s)):s.gu.set("Unknown")}),ku.apply(this,arguments)}function hg(s,t,i){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,p.A)(function*(s,t,i){if(s.gu.set("Online"),t instanceof Ed&&2===t.state&&t.cause)try{yield(a=(0,p.A)(function*(l,g){const C=g.cause;for(const P of g.targetIds)l.du.has(P)&&(yield l.remoteSyncer.rejectListen(P,C),l.du.delete(P),l.yu.removeTarget(P))}),function(l,g){return a.apply(this,arguments)})(s,t)}catch(a){zt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),yield kh(s,a)}else if(t instanceof cu?s.yu.Kt(t):t instanceof _d?s.yu.Jt(t):s.yu.jt(t),!i.isEqual(q.min()))try{const a=yield sg(s.localStore);i.compareTo(a)>=0&&(yield function(l,g){const C=l.yu.Zt(g);return C.targetChanges.forEach((P,K)=>{if(P.resumeToken.approximateByteSize()>0){const ee=l.du.get(K);ee&&l.du.set(K,ee.withResumeToken(P.resumeToken,g))}}),C.targetMismatches.forEach(P=>{const K=l.du.get(P);if(!K)return;l.du.set(P,K.withResumeToken(bs.EMPTY_BYTE_STRING,K.snapshotVersion)),ug(l,P);const ee=new Nl(K.target,P,1,K.sequenceNumber);_y(l,ee)}),l.remoteSyncer.applyRemoteEvent(C)}(s,i))}catch(a){zt("RemoteStore","Failed to raise snapshot:",a),yield kh(s,a)}var a}),Ph.apply(this,arguments)}function kh(s,t,i){return kf.apply(this,arguments)}function kf(){return kf=(0,p.A)(function*(s,t,i){if(!ma(t))throw t;s._u.add(1),yield Pu(s),s.gu.set("Offline"),i||(i=()=>sg(s.localStore)),s.asyncQueue.enqueueRetryable((0,p.A)(function*(){zt("RemoteStore","Retrying IndexedDB access"),yield i(),s._u.delete(1),yield Nh(s)}))}),kf.apply(this,arguments)}function Ff(s,t){return t().catch(i=>kh(s,i,t))}function Ld(s){return fg.apply(this,arguments)}function fg(){return fg=(0,p.A)(function*(s){const t=$t(s),i=Fu(t);let a=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Vd(t);)try{const l=yield og(t.localStore,a);if(null===l){0===t.fu.length&&i.Fo();break}a=l.batchId,Fh(t,l)}catch(l){yield kh(t,l)}h_(t)&&pg(t)}),fg.apply(this,arguments)}function Vd(s){return kl(s)&&s.fu.length<10}function Fh(s,t){s.fu.push(t);const i=Fu(s);i.ko()&&i.Yo&&i.Xo(t.mutations)}function h_(s){return kl(s)&&!Fu(s).No()&&s.fu.length>0}function pg(s){Fu(s).start()}function f_(s){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,p.A)(function*(s){Fu(s).eu()}),Lf.apply(this,arguments)}function tI(s){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,p.A)(function*(s){const t=Fu(s);for(const i of s.fu)t.Xo(i.mutations)}),Vf.apply(this,arguments)}function p_(s,t,i){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,p.A)(function*(s,t,i){const a=s.fu.shift(),l=Ca.from(a,t,i);yield Ff(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),yield Ld(s)}),Uf.apply(this,arguments)}function ad(s,t){return gg.apply(this,arguments)}function gg(){return gg=(0,p.A)(function*(s,t){var i;t&&Fu(s).Yo&&(yield(i=(0,p.A)(function*(a,l){if(function Jo(s){switch(s){default:return Yt();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}(g=l.code)&&g!==at.ABORTED){const C=a.fu.shift();Fu(a).Mo(),yield Ff(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,l)),yield Ld(a)}var g}),function(a,l){return i.apply(this,arguments)})(s,t)),h_(s)&&pg(s)}),gg.apply(this,arguments)}function g_(s,t){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,p.A)(function*(s,t){const i=$t(s);i.asyncQueue.verifyOperationInProgress(),zt("RemoteStore","RemoteStore received new credentials");const a=kl(i);i._u.add(3),yield Pu(i),a&&i.gu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i._u.delete(3),yield Nh(i)}),Lh.apply(this,arguments)}function Ud(){return Ud=(0,p.A)(function*(s,t){const i=$t(s);t?(i._u.delete(2),yield Nh(i)):t||(i._u.add(2),yield Pu(i),i.gu.set("Unknown"))}),Ud.apply(this,arguments)}function Yl(s){return s.pu||(s.pu=function(t,i,a){const l=$t(t);return l.su(),new Nf(i,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,a)}(s.datastore,s.asyncQueue,{Yr:kd.bind(null,s),Zr:Pf.bind(null,s),Wo:hg.bind(null,s)}),s.wu.push(function(){var t=(0,p.A)(function*(i){i?(s.pu.Mo(),Pd(s)?dg(s):s.gu.set("Unknown")):(yield s.pu.stop(),xf(s))});return function(i){return t.apply(this,arguments)}}())),s.pu}function Fu(s){return s.Iu||(s.Iu=function(t,i,a){const l=$t(t);return l.su(),new yy(i,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,a)}(s.datastore,s.asyncQueue,{Yr:f_.bind(null,s),Zr:ad.bind(null,s),tu:tI.bind(null,s),Zo:p_.bind(null,s)}),s.wu.push(function(){var t=(0,p.A)(function*(i){i?(s.Iu.Mo(),yield Ld(s)):(yield s.Iu.stop(),s.fu.length>0&&(zt("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(i){return t.apply(this,arguments)}}())),s.Iu}class Bf{constructor(t,i,a,l,g){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=g,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(t,i,a,l,g){const C=Date.now()+a,P=new Bf(t,i,C,l,g);return P.start(a),P}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(s,t){if(Fi("AsyncQueue",`${t}: ${s}`),ma(s))return new Ot(at.UNAVAILABLE,`${t}: ${s}`);throw s}class jd{constructor(t){this.comparator=t?(i,a)=>t(i,a)||je.comparator(i.key,a.key):(i,a)=>je.comparator(i.key,a.key),this.keyedMap=gc(),this.sortedSet=new kn(this.comparator)}static emptySet(t){return new jd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof jd)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,g=a.getNext().key;if(!l.isEqual(g))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const a=new jd;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class jf{constructor(){this.Tu=new kn(je.comparator)}track(t){const i=t.doc.key,a=this.Tu.get(i);a?0!==t.type&&3===a.type?this.Tu=this.Tu.insert(i,t):3===t.type&&1!==a.type?this.Tu=this.Tu.insert(i,{type:a.type,doc:t.doc}):2===t.type&&2===a.type?this.Tu=this.Tu.insert(i,{type:2,doc:t.doc}):2===t.type&&0===a.type?this.Tu=this.Tu.insert(i,{type:0,doc:t.doc}):1===t.type&&0===a.type?this.Tu=this.Tu.remove(i):1===t.type&&2===a.type?this.Tu=this.Tu.insert(i,{type:1,doc:a.doc}):0===t.type&&1===a.type?this.Tu=this.Tu.insert(i,{type:2,doc:t.doc}):Yt():this.Tu=this.Tu.insert(i,t)}Eu(){const t=[];return this.Tu.inorderTraversal((i,a)=>{t.push(a)}),t}}class cd{constructor(t,i,a,l,g,C,P,K,ee){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=g,this.fromCache=C,this.syncStateChanged=P,this.excludesMetadataChanges=K,this.hasCachedResults=ee}static fromInitialDocuments(t,i,a,l,g){const C=[];return i.forEach(P=>{C.push({type:0,doc:P})}),new cd(t,i,jd.emptySet(i),C,a,l,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class m_{constructor(){this.Au=void 0,this.listeners=[]}}class y_{constructor(){this.queries=new Xa(t=>Tl(t),Kc),this.onlineState="Unknown",this.Ru=new Set}}function ld(s,t){return $f.apply(this,arguments)}function $f(){return $f=(0,p.A)(function*(s,t){const i=$t(s),a=t.query;let l=!1,g=i.queries.get(a);if(g||(l=!0,g=new m_),l)try{g.Au=yield i.onListen(a)}catch(C){const P=Bd(C,`Initialization of query '${zc(t.query)}' failed`);return void t.onError(P)}i.queries.set(a,g),g.listeners.push(t),t.bu(i.onlineState),g.Au&&t.Pu(g.Au)&&Iy(i)}),$f.apply(this,arguments)}function Vh(s,t){return mg.apply(this,arguments)}function mg(){return mg=(0,p.A)(function*(s,t){const i=$t(s),a=t.query;let l=!1;const g=i.queries.get(a);if(g){const C=g.listeners.indexOf(t);C>=0&&(g.listeners.splice(C,1),l=0===g.listeners.length)}if(l)return i.queries.delete(a),i.onUnlisten(a)}),mg.apply(this,arguments)}function nI(s,t){const i=$t(s);let a=!1;for(const l of t){const C=i.queries.get(l.query);if(C){for(const P of C.listeners)P.Pu(l)&&(a=!0);C.Au=l}}a&&Iy(i)}function rI(s,t,i){const a=$t(s),l=a.queries.get(t);if(l)for(const g of l.listeners)g.onError(i);a.queries.delete(t)}function Iy(s){s.Ru.forEach(t=>{t.next()})}class ud{constructor(t,i,a){this.query=t,this.vu=i,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)3!==l.type&&a.push(l);t=new cd(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),i=!0):this.Cu(t,this.onlineState)&&(this.xu(t),i=!0),this.Su=t,i}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let i=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),i=!0),i}Cu(t,i){return!t.fromCache||(!this.options.Nu||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=cd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class __{constructor(t){this.key=t}}class E_{constructor(t){this.key=t}}class vg{constructor(t,i){this.query=t,this.qu=i,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Sr(),this.mutatedKeys=Sr(),this.Gu=so(t),this.Qu=new jd(this.Gu)}get ju(){return this.qu}Wu(t,i){const a=i?i.zu:new jf,l=i?i.Qu:this.Qu;let g=i?i.mutatedKeys:this.mutatedKeys,C=l,P=!1;const K="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ee="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((_e,Fe)=>{const ft=l.get(_e),Ut=Qc(this.query,Fe)?Fe:null,en=!!ft&&this.mutatedKeys.has(ft.key),_n=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let rr=!1;ft&&Ut?ft.data.isEqual(Ut.data)?en!==_n&&(a.track({type:3,doc:Ut}),rr=!0):this.Hu(ft,Ut)||(a.track({type:2,doc:Ut}),rr=!0,(K&&this.Gu(Ut,K)>0||ee&&this.Gu(Ut,ee)<0)&&(P=!0)):!ft&&Ut?(a.track({type:0,doc:Ut}),rr=!0):ft&&!Ut&&(a.track({type:1,doc:ft}),rr=!0,(K||ee)&&(P=!0)),rr&&(Ut?(C=C.add(Ut),g=_n?g.add(_e):g.delete(_e)):(C=C.delete(_e),g=g.delete(_e)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const _e="F"===this.query.limitType?C.last():C.first();C=C.delete(_e.key),g=g.delete(_e.key),a.track({type:1,doc:_e})}return{Qu:C,zu:a,$i:P,mutatedKeys:g}}Hu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a){const l=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const g=t.zu.Eu();g.sort((ee,_e)=>function(Fe,ft){const Ut=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return Ut(Fe)-Ut(ft)}(ee.type,_e.type)||this.Gu(ee.doc,_e.doc)),this.Ju(a);const C=i?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,K=P!==this.Uu;return this.Uu=P,0!==g.length||K?{snapshot:new cd(this.query,t.Qu,l,g,t.mutatedKeys,0===P,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:C}:{Xu:C}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new jf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(i=>this.qu=this.qu.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qu=this.qu.delete(i)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Sr(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const i=[];return t.forEach(a=>{this.Ku.has(a)||i.push(new E_(a))}),this.Ku.forEach(a=>{t.has(a)||i.push(new __(a))}),i}tc(t){this.qu=t.Hi,this.Ku=Sr();const i=this.Wu(t.documents);return this.applyChanges(i,!0)}ec(){return cd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class I_{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Cy{constructor(t){this.key=t,this.nc=!1}}class _g{constructor(t,i,a,l,g,C){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=g,this.maxConcurrentLimboResolutions=C,this.sc={},this.ic=new Xa(P=>Tl(P),Kc),this.rc=new Map,this.oc=new Set,this.uc=new kn(je.comparator),this.cc=new Map,this.ac=new Zp,this.hc={},this.lc=new Map,this.fc=Zu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Dy(s,t){return fu.apply(this,arguments)}function fu(){return fu=(0,p.A)(function*(s,t){const i=function Kd(s){const t=$t(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=wy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=b_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w_.bind(null,t),t.sc.Wo=nI.bind(null,t.eventManager),t.sc.wc=rI.bind(null,t.eventManager),t}(s);let a,l;const g=i.ic.get(t);if(g)a=g.targetId,i.sharedClientState.addLocalQueryTarget(a),l=g.view.ec();else{const C=yield function Xl(s,t){const i=$t(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Cs.getTargetData(a,t).next(g=>g?(l=g,ct.resolve(l)):i.Cs.allocateTargetId(a).next(C=>(l=new Nl(t,C,0,a.currentSequenceNumber),i.Cs.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.qi.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.qi=i.qi.insert(a.targetId,a),i.Ui.set(t,a.targetId)),a})}(i.localStore,Qs(t));i.isPrimaryClient&&Oh(i.remoteStore,C);const P=i.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,l=yield function Hf(s,t,i,a,l){return Eg.apply(this,arguments)}(i,t,a,"current"===P,C.resumeToken)}return l}),fu.apply(this,arguments)}function Eg(){return Eg=(0,p.A)(function*(s,t,i,a,l){s._c=(Fe,ft,Ut)=>{return(en=(0,p.A)(function*(_n,rr,Ys,Do){let ds=rr.view.Wu(Ys);ds.$i&&(ds=yield Tf(_n.localStore,rr.query,!1).then(({documents:Ji})=>rr.view.Wu(Ji,ds)));const Da=Do&&Do.targetChanges.get(rr.targetId),hs=rr.view.applyChanges(ds,_n.isPrimaryClient,Da);return Wd(_n,rr.targetId,hs.Xu),hs.snapshot}),function(_n,rr,Ys,Do){return en.apply(this,arguments)})(s,Fe,ft,Ut);var en};const g=yield Tf(s.localStore,t,!0),C=new vg(t,g.Hi),P=C.Wu(g.documents),K=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState,l),ee=C.applyChanges(P,s.isPrimaryClient,K);Wd(s,i,ee.Xu);const _e=new I_(t,i,C);return s.ic.set(t,_e),s.rc.has(i)?s.rc.get(i).push(t):s.rc.set(i,[t]),ee.snapshot}),Eg.apply(this,arguments)}function C_(s,t){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,p.A)(function*(s,t){const i=$t(s),a=i.ic.get(t),l=i.rc.get(a.targetId);if(l.length>1)return i.rc.set(a.targetId,l.filter(g=>!Kc(g,t))),void i.ic.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield rd(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),xh(i.remoteStore,a.targetId),Hd(i,a.targetId)}).catch(Fr))):(Hd(i,a.targetId),yield rd(i.localStore,a.targetId,!0))}),Ig.apply(this,arguments)}function Wf(){return Wf=(0,p.A)(function*(s,t,i){const a=Ll(s);try{const l=yield function(g,C){const P=$t(g),K=N.now(),ee=C.reduce((ft,Ut)=>ft.add(Ut.key),Sr());let _e,Fe;return P.persistence.runTransaction("Locally write mutations","readwrite",ft=>{let Ut=ls(),en=Sr();return P.Gi.getEntries(ft,ee).next(_n=>{Ut=_n,Ut.forEach((rr,Ys)=>{Ys.isValidDocument()||(en=en.add(rr))})}).next(()=>P.localDocuments.getOverlayedDocuments(ft,Ut)).next(_n=>{_e=_n;const rr=[];for(const Ys of C){const Do=En(Ys,_e.get(Ys.key).overlayedDocument);null!=Do&&rr.push(new pi(Ys.key,Do,wu(Do.value.mapValue),I.exists(!0)))}return P.mutationQueue.addMutationBatch(ft,K,rr,C)}).next(_n=>{Fe=_n;const rr=_n.applyToLocalDocumentSet(_e,en);return P.documentOverlayCache.saveOverlays(ft,_n.batchId,rr)})}).then(()=>({batchId:Fe.batchId,changes:Kl(_e)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(g,C,P){let K=g.hc[g.currentUser.toKey()];K||(K=new kn(Pn)),K=K.insert(C,P),g.hc[g.currentUser.toKey()]=K}(a,l.batchId,i),yield Jl(a,l.changes),yield Ld(a.remoteStore)}catch(l){const g=Bd(l,"Failed to persist write");i.reject(g)}}),Wf.apply(this,arguments)}function wy(s,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,p.A)(function*(s,t){const i=$t(s);try{const a=yield function hy(s,t){const i=$t(s),a=t.snapshotVersion;let l=i.qi;return i.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const C=i.Gi.newChangeBuffer({trackRemovals:!0});l=i.qi;const P=[];t.targetChanges.forEach((_e,Fe)=>{const ft=l.get(Fe);if(!ft)return;P.push(i.Cs.removeMatchingKeys(g,_e.removedDocuments,Fe).next(()=>i.Cs.addMatchingKeys(g,_e.addedDocuments,Fe)));let Ut=ft.withSequenceNumber(g.currentSequenceNumber);var en,_n,rr;t.targetMismatches.has(Fe)?Ut=Ut.withResumeToken(bs.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):_e.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(_e.resumeToken,a)),l=l.insert(Fe,Ut),_n=Ut,rr=_e,(0===(en=ft).resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||rr.addedDocuments.size+rr.modifiedDocuments.size+rr.removedDocuments.size>0)&&P.push(i.Cs.updateTargetData(g,Ut))});let K=ls(),ee=Sr();if(t.documentUpdates.forEach(_e=>{t.resolvedLimboDocuments.has(_e)&&P.push(i.persistence.referenceDelegate.updateLimboDocument(g,_e))}),P.push(function wf(s,t,i){let a=Sr(),l=Sr();return i.forEach(g=>a=a.add(g)),t.getEntries(s,a).next(g=>{let C=ls();return i.forEach((P,K)=>{const ee=g.get(P);K.isFoundDocument()!==ee.isFoundDocument()&&(l=l.add(P)),K.isNoDocument()&&K.version.isEqual(q.min())?(t.removeEntry(P,K.readTime),C=C.insert(P,K)):!ee.isValidDocument()||K.version.compareTo(ee.version)>0||0===K.version.compareTo(ee.version)&&ee.hasPendingWrites?(t.addEntry(K),C=C.insert(P,K)):zt("LocalStore","Ignoring outdated watch update for ",P,". Current version:",ee.version," Watch version:",K.version)}),{Wi:C,zi:l}})}(g,C,t.documentUpdates).next(_e=>{K=_e.Wi,ee=_e.zi})),!a.isEqual(q.min())){const _e=i.Cs.getLastRemoteSnapshotVersion(g).next(Fe=>i.Cs.setTargetsMetadata(g,g.currentSequenceNumber,a));P.push(_e)}return ct.waitFor(P).next(()=>C.apply(g)).next(()=>i.localDocuments.getLocalViewOfDocuments(g,K,ee)).next(()=>K)}).then(g=>(i.qi=l,g))}(i.localStore,t);t.targetChanges.forEach((l,g)=>{const C=i.cc.get(g);C&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?C.nc=!0:l.modifiedDocuments.size>0?Ye(C.nc):l.removedDocuments.size>0&&(Ye(C.nc),C.nc=!1))}),yield Jl(i,a,t)}catch(a){yield Fr(a)}}),Cg.apply(this,arguments)}function Ty(s,t,i){const a=$t(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const l=[];a.ic.forEach((g,C)=>{const P=C.view.bu(t);P.snapshot&&l.push(P.snapshot)}),function(g,C){const P=$t(g);P.onlineState=C;let K=!1;P.queries.forEach((ee,_e)=>{for(const Fe of _e.listeners)Fe.bu(C)&&(K=!0)}),K&&Iy(P)}(a.eventManager,t),l.length&&a.sc.Wo(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}function w_(s,t,i){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,p.A)(function*(s,t,i){const a=$t(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.cc.get(t),g=l&&l.key;if(g){let C=new kn(je.comparator);C=C.insert(g,Ni.newNoDocument(g,q.min()));const P=Sr().add(g),K=new zl(q.min(),new Map,new Kr(Pn),C,P);yield wy(a,K),a.uc=a.uc.remove(g),a.cc.delete(t),Kf(a)}else yield rd(a.localStore,t,!1).then(()=>Hd(a,t,i)).catch(Fr)}),Dg.apply(this,arguments)}function wg(s,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,p.A)(function*(s,t){const i=$t(s),a=t.batch.batchId;try{const l=yield function ig(s,t){const i=$t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),g=i.Gi.newChangeBuffer({trackRemovals:!0});return function(C,P,K,ee){const _e=K.batch,Fe=_e.keys();let ft=ct.resolve();return Fe.forEach(Ut=>{ft=ft.next(()=>ee.getEntry(P,Ut)).next(en=>{const _n=K.docVersions.get(Ut);Ye(null!==_n),en.version.compareTo(_n)<0&&(_e.applyToRemoteDocument(en,K),en.isValidDocument()&&(en.setReadTime(K.commitVersion),ee.addEntry(en)))})}),ft.next(()=>C.mutationQueue.removeMutationBatch(P,_e))}(i,a,t,g).next(()=>g.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(C){let P=Sr();for(let K=0;K<C.mutationResults.length;++K)C.mutationResults[K].transformResults.length>0&&(P=P.add(C.batch.mutations[K].key));return P}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}(i.localStore,t);Sg(i,a,null),Lu(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Jl(i,l)}catch(l){yield Fr(l)}}),Tg.apply(this,arguments)}function T_(s,t,i){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,p.A)(function*(s,t,i){const a=$t(s);try{const l=yield function(g,C){const P=$t(g);return P.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ee;return P.mutationQueue.lookupMutationBatch(K,C).next(_e=>(Ye(null!==_e),ee=_e.keys(),P.mutationQueue.removeMutationBatch(K,_e))).next(()=>P.mutationQueue.performConsistencyCheck(K)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(K,ee,C)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ee)).next(()=>P.localDocuments.getDocuments(K,ee))})}(a.localStore,t);Sg(a,t,i),Lu(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),yield Jl(a,l)}catch(l){yield Fr(l)}}),Zl.apply(this,arguments)}function Lu(s,t){(s.lc.get(t)||[]).forEach(i=>{i.resolve()}),s.lc.delete(t)}function Sg(s,t,i){const a=$t(s);let l=a.hc[a.currentUser.toKey()];if(l){const g=l.get(t);g&&(i?g.reject(i):g.resolve(),l=l.remove(t)),a.hc[a.currentUser.toKey()]=l}}function Hd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.rc.get(t))s.ic.delete(a),i&&s.sc.wc(a,i);s.rc.delete(t),s.isPrimaryClient&&s.ac.ls(t).forEach(a=>{s.ac.containsKey(a)||S_(s,a)})}function S_(s,t){s.oc.delete(t.path.canonicalString());const i=s.uc.get(t);null!==i&&(xh(s.remoteStore,i),s.uc=s.uc.remove(t),s.cc.delete(i),Kf(s))}function Wd(s,t,i){for(const a of i)a instanceof __?(s.ac.addReference(a.key,t),bg(s,a)):a instanceof E_?(zt("SyncEngine","Document no longer in limbo: "+a.key),s.ac.removeReference(a.key,t),s.ac.containsKey(a.key)||S_(s,a.key)):Yt()}function bg(s,t){const i=t.key,a=i.path.canonicalString();s.uc.get(i)||s.oc.has(a)||(zt("SyncEngine","New document in limbo: "+i),s.oc.add(a),Kf(s))}function Kf(s){for(;s.oc.size>0&&s.uc.size<s.maxConcurrentLimboResolutions;){const t=s.oc.values().next().value;s.oc.delete(t);const i=new je(W.fromString(t)),a=s.fc.next();s.cc.set(a,new Cy(i)),s.uc=s.uc.insert(i,a),Oh(s.remoteStore,new Nl(Qs(cl(i.path)),a,2,$o.at))}}function Jl(s,t,i){return zf.apply(this,arguments)}function zf(){return zf=(0,p.A)(function*(s,t,i){const a=$t(s),l=[],g=[],C=[];var P;a.ic.isEmpty()||(a.ic.forEach((P,K)=>{C.push(a._c(K,t,i).then(ee=>{if((ee||i)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(K.targetId,ee?.fromCache?"not-current":"current"),ee){l.push(ee);const _e=Sh.Ci(K.targetId,ee);g.push(_e)}}))}),yield Promise.all(C),a.sc.Wo(l),yield(P=(0,p.A)(function*(K,ee){const _e=$t(K);try{yield _e.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>ct.forEach(ee,ft=>ct.forEach(ft.Si,Ut=>_e.persistence.referenceDelegate.addReference(Fe,ft.targetId,Ut)).next(()=>ct.forEach(ft.Di,Ut=>_e.persistence.referenceDelegate.removeReference(Fe,ft.targetId,Ut)))))}catch(Fe){if(!ma(Fe))throw Fe;zt("LocalStore","Failed to update sequence numbers: "+Fe)}for(const Fe of ee){const ft=Fe.targetId;if(!Fe.fromCache){const Ut=_e.qi.get(ft),_n=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);_e.qi=_e.qi.insert(ft,_n)}}}),function(K,ee){return P.apply(this,arguments)})(a.localStore,g))}),zf.apply(this,arguments)}function dd(s,t){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,p.A)(function*(s,t){const i=$t(s);if(!i.currentUser.isEqual(t)){zt("SyncEngine","User change. New user:",t.toKey());const a=yield rg(i.localStore,t);i.currentUser=t,(l=i).lc.forEach(C=>{C.forEach(P=>{P.reject(new Ot(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),yield Jl(i,a.ji)}var l}),Ag.apply(this,arguments)}function b_(s,t){const i=$t(s),a=i.cc.get(t);if(a&&a.nc)return Sr().add(a.key);{let l=Sr();const g=i.rc.get(t);if(!g)return l;for(const C of g){const P=i.ic.get(C);l=l.unionWith(P.view.ju)}return l}}function Ll(s){const t=$t(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=T_.bind(null,t),t}class kg{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,p.A)(function*(){i.yt=Mh(t.databaseInfo.databaseId),i.sharedClientState=i.gc(t),i.persistence=i.yc(t),yield i.persistence.start(),i.localStore=i.Ic(t),i.gcScheduler=i.Tc(t,i.localStore),i.indexBackfillerScheduler=i.Ec(t,i.localStore)})()}Tc(t,i){return null}Ec(t,i){return null}Ic(t){return ng(this.persistence,new a_,t.initialUser,this.yt)}yc(t){return new Rd(Pl.Bs,this.yt)}gc(t){return new xu}terminate(){var t=this;return(0,p.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Fg extends kg{constructor(t,i,a){super(),this.Ac=t,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,a=this;return(0,p.A)(function*(){yield i().call(a,t),yield a.Ac.initialize(a,t),yield Ll(a.Ac.syncEngine),yield Ld(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return ng(this.persistence,new a_,t.initialUser,this.yt)}Tc(t,i){return new r_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}Ec(t,i){const a=new rl(i,this.persistence);return new Bc(t.asyncQueue,a)}yc(t){const i=function Cf(s,t){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+t+"/"+i+"/"}(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ya.withCacheSize(this.cacheSizeBytes):Ya.DEFAULT;return new Th(this.synchronizeTabs,i,t.clientId,a,t.asyncQueue,function my(){return typeof window<"u"?window:null}(),hu(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new xu}}class Ry{initialize(t,i){var a=this;return(0,p.A)(function*(){a.localStore||(a.localStore=t.localStore,a.sharedClientState=t.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!t.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>Ty(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=dd.bind(null,a.syncEngine),yield function Ey(s,t){return Ud.apply(this,arguments)}(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(t){return new y_}createDatastore(t){const i=Mh(t.databaseInfo.databaseId),a=new Mf(t.databaseInfo);return new vy(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return i=this.localStore,a=this.datastore,l=t.asyncQueue,g=P=>Ty(this.syncEngine,P,0),C=Ah.C()?new Ah:new bh,new Za(i,a,l,g,C);var i,a,l,g,C}createSyncEngine(t,i){return function(a,l,g,C,P,K,ee){const _e=new _g(a,l,g,C,P,K);return ee&&(_e.dc=!0),_e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return(t=(0,p.A)(function*(i){const a=$t(i);zt("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Pu(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function Ny(s,t,i){if(!i)throw new Ot(at.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Qf(s){if(!je.isDocumentKey(s))throw new Ot(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function qf(s){if(je.isDocumentKey(s))throw new Ot(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Lg(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const t=(i=s).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof s?"a function":Yt()}function ji(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Ot(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lg(s);throw new Ot(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}const Oy=new Map;class xy{constructor(t){var i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ot(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ot(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function iI(s,t,i,a){if(!0===t&&!0===a)throw new Ot(at.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $h{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ot(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ot(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xy(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new wi;switch(i.type){case"gapi":return new jo(i.client,i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ot(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Oy.get(t);i&&(zt("ComponentProvider","Removing Datastore"),Oy.delete(t),i.terminate())}(this),Promise.resolve()}}class Ko{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ko(this.firestore,t,this._key)}}class Fa{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fa(this.firestore,t,this._query)}}class Vl extends Fa{constructor(t,i,a){super(t,i,cl(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ko(this.firestore,null,new je(t))}withConverter(t){return new Vl(this.firestore,t,this._path)}}function P_(s,t,...i){if(s=(0,Z.Ku)(s),Ny("collection","path",t),s instanceof $h){const a=W.fromString(t,...i);return qf(a),new Vl(s,null,a)}{if(!(s instanceof Ko||s instanceof Vl))throw new Ot(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(W.fromString(t,...i));return qf(a),new Vl(s.firestore,null,a)}}function Ug(s,t,...i){if(s=(0,Z.Ku)(s),1===arguments.length&&(t=Xr.R()),Ny("doc","path",t),s instanceof $h){const a=W.fromString(t,...i);return Qf(a),new Ko(s,null,new je(a))}{if(!(s instanceof Ko||s instanceof Vl))throw new Ot(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(W.fromString(t,...i));return Qf(a),new Ko(s.firestore,s instanceof Vl?s.converter:null,new je(a))}}class Yf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class V_{constructor(t,i,a,l){var g=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ts.UNAUTHENTICATED,this.clientId=Xr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var C=(0,p.A)(function*(P){zt("FirestoreClient","Received user=",P.uid),yield g.authCredentialListener(P),g.user=P});return function(P){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(a,C=>(zt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var t=this;return(0,p.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.A)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(a){const l=Bd(a,"Failed to shutdown persistence");i.reject(l)}})),i.promise}}function Wg(s,t){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,p.A)(function*(s,t){s.asyncQueue.verifyOperationInProgress(),zt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var l=(0,p.A)(function*(g){a.isEqual(g)||(yield rg(t.localStore,g),a=g)});return function(g){return l.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=t}),Gg.apply(this,arguments)}function Kg(s,t){return Py.apply(this,arguments)}function Py(){return Py=(0,p.A)(function*(s,t){s.asyncQueue.verifyOperationInProgress();const i=yield ky(s);zt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield t.initialize(i,a),s.setCredentialChangeListener(l=>g_(t.remoteStore,l)),s.setAppCheckTokenChangeListener((l,g)=>g_(t.remoteStore,g)),s.onlineComponents=t}),Py.apply(this,arguments)}function ky(s){return fd.apply(this,arguments)}function fd(){return fd=(0,p.A)(function*(s){return s.offlineComponents||(zt("FirestoreClient","Using default OfflineComponentProvider"),yield Wg(s,new kg)),s.offlineComponents}),fd.apply(this,arguments)}function Zf(s){return zg.apply(this,arguments)}function zg(){return zg=(0,p.A)(function*(s){return s.onlineComponents||(zt("FirestoreClient","Using default OnlineComponentProvider"),yield Kg(s,new Ry)),s.onlineComponents}),zg.apply(this,arguments)}function zd(s){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,p.A)(function*(s){const t=yield Zf(s),i=t.eventManager;return i.onListen=Dy.bind(null,t.syncEngine),i.onUnlisten=C_.bind(null,t.syncEngine),i}),Xg.apply(this,arguments)}class uI{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Rf(this,"async_queue_retry"),this.Wc=()=>{const i=hu();i&&zt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.xo.Po()};const t=hu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const i=hu();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const i=new Ur;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,p.A)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(i){if(!ma(i))throw i;zt("AsyncQueue","Operation failed with retryable error: "+i)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const i=this.Bc.then(()=>(this.Gc=!0,t().catch(a=>{throw this.Kc=a,this.Gc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(g){let C=g.message||"";return g.stack&&(C=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),C}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=i,i}enqueueAfterDelay(t,i,a){this.zc(),this.jc.indexOf(t)>-1&&(i=0);const l=Bf.createAndSchedule(this,t,i,a,g=>this.Yc(g));return this.Uc.push(l),l}zc(){this.Kc&&Yt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,p.A)(function*(){let i;do{i=t.Bc,yield i}while(i!==t.Bc)})()}Zc(t){for(const i of this.Uc)if(i.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Uc)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const i=this.Uc.indexOf(t);this.Uc.splice(i,1)}}function Jg(s){return function(t){if("object"!=typeof t||null===t)return!1;const a=t;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(s)}class Xs extends $h{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new uI,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tm(this),this._firestoreClient.terminate()}}function Vy(s,t){const i="object"==typeof s?s:(0,D.Sx)(),a="string"==typeof s?s:t||"(default)",l=(0,D.j6)(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const g=(0,Z.yU)("firestore");g&&function x_(s,t,i,a={}){var l;const g=(s=ji(s,$h))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==t&&$a("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},g),{host:`${t}:${i}`,ssl:!1})),a.mockUserToken){let C,P;if("string"==typeof a.mockUserToken)C=a.mockUserToken,P=ts.MOCK_USER;else{C=(0,Z.Fy)(a.mockUserToken,null===(l=s._app)||void 0===l?void 0:l.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new Ot(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ts(K)}s._authCredentials=new as(new Uo(C,P))}}(l,...g)}return l}function zo(s){return s._firestoreClient||tm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function tm(s){var t;const i=s._freezeSettings(),a=(g=(null===(t=s._app)||void 0===t?void 0:t.options.appId)||"",new Du(s._databaseId,g,s._persistenceKey,(P=i).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var g,P;s._firestoreClient=new V_(s._authCredentials,s._appCheckCredentials,s._queue,a)}function Uy(s,t){!function K_(s){if(s._initialized||s._terminated)throw new Ot(at.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(s=ji(s,Xs));const i=zo(s),a=s._freezeSettings(),l=new Ry;return function Fc(s,t,i){const a=new Ur;return s.asyncQueue.enqueue((0,p.A)(function*(){try{yield Wg(s,i),yield Kg(s,t),a.resolve()}catch(l){const g=l;if(!("FirebaseError"===(C=g).name?C.code===at.FAILED_PRECONDITION||C.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw g;$a("Error enabling offline persistence. Falling back to persistence disabled: "+g),a.reject(g)}var C})).then(()=>a.promise)}(i,l,new Fg(l,a.cacheSizeBytes,t?.forceOwnership))}class Lc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lc(bs.fromBase64String(t))}catch(i){throw new Ot(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Lc(bs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class eu{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Ot(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pu{constructor(t){this._methodName=t}}class nm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Ot(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Ot(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}}const Qd=/^__.*__$/;class rm{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return null!==this.fieldMask?new pi(t,this.data,this.fieldMask,i,this.fieldTransforms):new Tr(t,this.data,i,this.fieldTransforms)}}class im{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new pi(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ep(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class pd{constructor(t,i,a,l,g,C){this.settings=t,this.databaseId=i,this.yt=a,this.ignoreUndefinedProperties=l,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=C||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new pd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(t),l=this.ia({path:a,oa:!1});return l.ua(t),l}ca(t){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(t),l=this.ia({path:a,oa:!1});return l.na(),l}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Xh(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(ep(this.sa)&&Qd.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class jy{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.yt=a||Mh(t)}da(t,i,a,l=!1){return new pd({sa:t,methodName:i,fa:a,path:nt.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function gd(s){const t=s._freezeSettings(),i=Mh(s._databaseId);return new jy(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Gh(s,t,i,a,l,g={}){const C=s.da(g.merge||g.mergeFields?2:0,t,i,l);np("Data must be an object, but it was:",C,a);const P=am(a,C);let K,ee;if(g.merge)K=new io(C.fieldMask),ee=C.fieldTransforms;else if(g.mergeFields){const _e=[];for(const Fe of g.mergeFields){const ft=rp(t,Fe,i);if(!C.contains(ft))throw new Ot(at.INVALID_ARGUMENT,`Field '${ft}' is specified in your field mask but missing from your input data.`);lm(_e,ft)||_e.push(ft)}K=new io(_e),ee=C.fieldTransforms.filter(Fe=>K.covers(Fe.field))}else K=null,ee=C.fieldTransforms;return new rm(new No(P),K,ee)}class Kh extends pu{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}class tp extends pu{_toFieldTransform(t){return new fl(t.path,new _a)}isEqual(t){return t instanceof tp}}function Hy(s,t,i,a=!1){return gu(i,s.da(a?4:3,t))}function gu(s,t){if(Vu(s=(0,Z.Ku)(s)))return np("Unsupported field value:",t,s),am(s,t);if(s instanceof pu)return function(i,a){if(!ep(a.sa))throw a.ha(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,t),null;if(void 0===s&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(i,a){const l=[];let g=0;for(const C of i){let P=gu(C,a.aa(g));null==P&&(P={nullValue:"NULL_VALUE"}),l.push(P),g++}return{arrayValue:{values:l}}}(s,t)}return function(i,a){if(null===(i=(0,Z.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return ou(a.yt,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const l=N.fromDate(i);return{timestampValue:xs(a.yt,l)}}if(i instanceof N){const l=new N(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xs(a.yt,l)}}if(i instanceof nm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Lc)return{bytesValue:lh(a.yt,i._byteString)};if(i instanceof Ko){const l=a.databaseId,g=i.firestore._databaseId;if(!g.isEqual(l))throw a.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uu(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.ha(`Unsupported field value: ${Lg(i)}`)}(s,t)}function am(s,t){const i={};return wc(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ga(s,(a,l)=>{const g=gu(l,t.ra(a));null!=g&&(i[a]=g)}),{mapValue:{fields:i}}}function Vu(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof N||s instanceof nm||s instanceof Lc||s instanceof Ko||s instanceof pu)}function np(s,t,i){if(!Vu(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Lg(i);throw t.ha("an object"===a?s+" a custom object":s+" "+a)}var a}function rp(s,t,i){if((t=(0,Z.Ku)(t))instanceof eu)return t._internalPath;if("string"==typeof t)return ip(s,t);throw Xh("Field path arguments must be of type string or ",s,!1,void 0,i)}const cm=new RegExp("[~\\*/\\[\\]]");function ip(s,t,i){if(t.search(cm)>=0)throw Xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new eu(...t.split("."))._internalPath}catch{throw Xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xh(s,t,i,a,l){const g=a&&!a.isEmpty(),C=void 0!==l;let P=`Function ${t}() called with invalid data`;i&&(P+=" (via `toFirestore()`)"),P+=". ";let K="";return(g||C)&&(K+=" (found",g&&(K+=` in field ${a}`),C&&(K+=` in document ${l}`),K+=")"),new Ot(at.INVALID_ARGUMENT,P+s+K)}function lm(s,t){return s.some(i=>i.isEqual(t))}class qd{constructor(t,i,a,l,g){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Yh("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class um extends qd{data(){return super.data()}}function Yh(s,t){return"string"==typeof t?ip(s,t):t instanceof eu?t._internalPath:t._delegate._internalPath}function Zh(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Ot(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mu{}class Xd extends mu{}function dm(s,t,...i){let a=[];t instanceof mu&&a.push(t),a=a.concat(i),function(l){const g=l.filter(P=>P instanceof Uu).length,C=l.filter(P=>P instanceof yu).length;if(g>1||g>0&&C>0)throw new Ot(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class yu extends Xd{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new yu(t,i,a)}_apply(t){const i=this._parse(t);return pm(t._query,i),new Fa(t.firestore,t.converter,Rc(t._query,i))}_parse(t){const i=gd(t.firestore);return function(l,g,C,P,K,ee,_e){let Fe;if(K.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new Ot(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){Ky(_e,ee);const ft=[];for(const Ut of _e)ft.push(vl(P,l,Ut));Fe={arrayValue:{values:ft}}}else Fe=vl(P,l,_e)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||Ky(_e,ee),Fe=Hy(C,"where",_e,"in"===ee||"not-in"===ee);return pr.create(K,ee,Fe)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class Uu extends mu{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Uu(t,i)}_parse(t){const i=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:yn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(a,l){let g=a;const C=l.getFlattenedFilters();for(const P of C)pm(g,P),g=Rc(g,P)}(t._query,i),new Fa(t.firestore,t.converter,Rc(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sp extends Xd{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new sp(t,i)}_apply(t){const i=function(a,l,g){if(null!==a.startAt)throw new Ot(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Ot(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new sc(l,g);return function(P,K){if(null===wl(P)){const ee=Ac(P);null!==ee&&zy(0,ee,K.field)}}(a,C),C}(t._query,this._field,this._direction);return new Fa(t.firestore,t.converter,function(a,l){const g=a.explicitOrderBy.concat([l]);return new Ns(a.path,a.collectionGroup,g,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,i))}}function Q_(s,t="asc"){const i=t,a=Yh("orderBy",s);return sp._create(a,i)}class op extends Xd{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new op(t,i,a)}_apply(t){return new Fa(t.firestore,t.converter,ul(t._query,this._limit,this._limitType))}}function q_(s){return function Vg(s,t){if(t<=0)throw new Ot(at.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}("limit",s),op._create("limit",s,"F")}class Jh extends Xd{constructor(t,i,a){super(),this.type=t,this._docOrFields=i,this._inclusive=a}static _create(t,i,a){return new Jh(t,i,a)}_apply(t){const i=Gy(t,this.type,this._docOrFields,this._inclusive);return new Fa(t.firestore,t.converter,(l=i,new Ns((a=t._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}function Wy(...s){return Jh._create("startAfter",s,!1)}class ap extends Xd{constructor(t,i,a){super(),this.type=t,this._docOrFields=i,this._inclusive=a}static _create(t,i,a){return new ap(t,i,a)}_apply(t){const i=Gy(t,this.type,this._docOrFields,this._inclusive);return new Fa(t.firestore,t.converter,(l=i,new Ns((a=t._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function fm(...s){return ap._create("endBefore",s,!1)}function Gy(s,t,i,a){if(i[0]=(0,Z.Ku)(i[0]),i[0]instanceof qd)return function(l,g,C,P,K){if(!P)throw new Ot(at.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ee=[];for(const _e of Mc(l))if(_e.field.isKeyField())ee.push(L(g,P.key));else{const Fe=P.data.field(_e.field);if(Ro(Fe))throw new Ot(at.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Fe){const ft=_e.field.canonicalString();throw new Ot(at.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ft}' (used as the orderBy) does not exist.`)}ee.push(Fe)}return new Vs(ee,K)}(s._query,s.firestore._databaseId,t,i[0]._document,a);{const l=gd(s.firestore);return function(g,C,P,K,ee,_e){const Fe=g.explicitOrderBy;if(ee.length>Fe.length)throw new Ot(at.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ft=[];for(let Ut=0;Ut<ee.length;Ut++){const en=ee[Ut];if(Fe[Ut].field.isKeyField()){if("string"!=typeof en)throw new Ot(at.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof en}`);if(!ll(g)&&-1!==en.indexOf("/"))throw new Ot(at.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${en}' contains a slash.`);const _n=g.path.child(W.fromString(en));if(!je.isDocumentKey(_n))throw new Ot(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const rr=new je(_n);ft.push(L(C,rr))}else{const _n=Hy(P,K,en);ft.push(_n)}}return new Vs(ft,_e)}(s._query,s.firestore._databaseId,l,t,i,a)}}function vl(s,t,i){if("string"==typeof(i=(0,Z.Ku)(i))){if(""===i)throw new Ot(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ll(t)&&-1!==i.indexOf("/"))throw new Ot(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(W.fromString(i));if(!je.isDocumentKey(a))throw new Ot(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return L(s,new je(a))}if(i instanceof Ko)return L(s,i._key);throw new Ot(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(i)}.`)}function Ky(s,t){if(!Array.isArray(s)||0===s.length)throw new Ot(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(s.length>10)throw new Ot(at.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function pm(s,t){if(t.isInequality()){const a=Ac(s),l=t.field;if(null!==a&&!a.isEqual(l))throw new Ot(at.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${l.toString()}'`);const g=wl(s);null!==g&&zy(0,l,g)}const i=function(a,l){for(const g of a)for(const C of g.getFlattenedFilters())if(l.indexOf(C.op)>=0)return C.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Ot(at.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function zy(s,t,i){if(!i.isEqual(t))throw new Ot(at.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class qy{convertValue(t,i="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Tc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw Yt()}}convertObject(t,i){const a={};return Ga(t.fields,(l,g)=>{a[l]=this.convertValue(g,i)}),a}convertGeoPoint(t){return new nm(Ri(t.latitude),Ri(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ka(t);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(dc(t));default:return null}}convertTimestamp(t){const i=ya(t);return new N(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=W.fromString(t);Ye(Ht(a));const l=new Dc(a.get(1),a.get(3)),g=new je(a.popFirst(5));return l.isEqual(i)||Fi(`Document ${g} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),g}}class md{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yd extends qd{constructor(t,i,a,l,g,C){super(t,i,a,l,C),this._firestore=t,this._firestoreImpl=t,this.metadata=g}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Yh("DocumentSnapshot.get",t));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class lp extends Yd{data(t={}){return super.data(t)}}class Rr{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new md(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new lp(this._firestore,this._userDataWriter,a.key,a,new md(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ot(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let g=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new lp(a._firestore,a._userDataWriter,C.doc.key,C.doc,new md(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:g++}))}{let g=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>l||3!==C.type).map(C=>{const P=new lp(a._firestore,a._userDataWriter,C.doc.key,C.doc,new md(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let K=-1,ee=-1;return 0!==C.type&&(K=g.indexOf(C.doc.key),g=g.delete(C.doc.key)),1!==C.type&&(g=g.add(C.doc),ee=g.indexOf(C.doc.key)),{type:Yy(C.type),doc:P,oldIndex:K,newIndex:ee}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Yy(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function Zd(s){s=ji(s,Ko);const t=ji(s.firestore,Xs);return function B_(s,t,i={}){const a=new Ur;return s.asyncQueue.enqueueAndForget((0,p.A)(function*(){return function(l,g,C,P,K){const ee=new Yf({next:Fe=>{g.enqueueAndForget(()=>Vh(l,_e));const ft=Fe.docs.has(C);!ft&&Fe.fromCache?K.reject(new Ot(at.UNAVAILABLE,"Failed to get document because the client is offline.")):ft&&Fe.fromCache&&P&&"server"===P.source?K.reject(new Ot(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Fe)},error:Fe=>K.reject(Fe)}),_e=new ud(cl(C.path),ee,{includeMetadataChanges:!0,Nu:!0});return ld(l,_e)}(yield zd(s),s.asyncQueue,t,i,a)})),a.promise}(zo(t),s._key).then(i=>vm(t,s,i))}class vu extends qy{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ko(this.firestore,null,i)}}function Zy(s){s=ji(s,Ko);const t=ji(s.firestore,Xs),i=zo(t),a=new vu(t);return function oI(s,t){const i=new Ur;return s.asyncQueue.enqueueAndForget((0,p.A)(function*(){return(a=(0,p.A)(function*(l,g,C){try{const P=yield function(K,ee){const _e=$t(K);return _e.persistence.runTransaction("read document","readonly",Fe=>_e.localDocuments.getDocument(Fe,ee))}(l,g);P.isFoundDocument()?C.resolve(P):P.isNoDocument()?C.resolve(null):C.reject(new Ot(at.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const K=Bd(P,`Failed to get document '${g} from cache`);C.reject(K)}}),function(l,g,C){return a.apply(this,arguments)})(yield function Hh(s){return ky(s).then(t=>t.localStore)}(s),t,i);var a})),i.promise}(i,s._key).then(l=>new Yd(t,a,s._key,l,new md(null!==l&&l.hasLocalMutations,!0),s.converter))}function ef(s){s=ji(s,Fa);const t=ji(s.firestore,Xs),i=zo(t),a=new vu(t);return Zh(s._query),function j_(s,t,i={}){const a=new Ur;return s.asyncQueue.enqueueAndForget((0,p.A)(function*(){return function(l,g,C,P,K){const ee=new Yf({next:Fe=>{g.enqueueAndForget(()=>Vh(l,_e)),Fe.fromCache&&"server"===P.source?K.reject(new Ot(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Fe)},error:Fe=>K.reject(Fe)}),_e=new ud(C,ee,{includeMetadataChanges:!0,Nu:!0});return ld(l,_e)}(yield zd(s),s.asyncQueue,t,i,a)})),a.promise}(i,s._query).then(l=>new Rr(t,a,s,l))}function ev(s,t,i,...a){s=ji(s,Ko);const l=ji(s.firestore,Xs),g=gd(l);let C;return C="string"==typeof(t=(0,Z.Ku)(t))||t instanceof eu?function om(s,t,i,a,l,g){const C=s.da(1,t,i),P=[rp(t,a,i)],K=[l];if(g.length%2!=0)throw new Ot(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ft=0;ft<g.length;ft+=2)P.push(rp(t,g[ft])),K.push(g[ft+1]);const ee=[],_e=No.empty();for(let ft=P.length-1;ft>=0;--ft)if(!lm(ee,P[ft])){const Ut=P[ft];let en=K[ft];en=(0,Z.Ku)(en);const _n=C.ca(Ut);if(en instanceof Kh)ee.push(Ut);else{const rr=gu(en,_n);null!=rr&&(ee.push(Ut),_e.set(Ut,rr))}}const Fe=new io(ee);return new im(_e,Fe,C.fieldTransforms)}(g,"updateDoc",s._key,t,i,a):function qh(s,t,i,a){const l=s.da(1,t,i);np("Data must be an object, but it was:",l,a);const g=[],C=No.empty();Ga(a,(K,ee)=>{const _e=ip(t,K,i);ee=(0,Z.Ku)(ee);const Fe=l.ca(_e);if(ee instanceof Kh)g.push(_e);else{const ft=gu(ee,Fe);null!=ft&&(g.push(_e),C.set(_e,ft))}});const P=new io(g);return new im(C,P,l.fieldTransforms)}(g,"updateDoc",s._key,t),yd(l,[C.toMutation(s._key,I.exists(!0))])}function gm(s){return yd(ji(s.firestore,Xs),[new Xc(s._key,I.none())])}function mm(s,t){const i=ji(s.firestore,Xs),a=Ug(s),l=function cp(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}(s.converter,t);return yd(i,[Gh(gd(s.firestore),"addDoc",a._key,l,null!==s.converter,{}).toMutation(a._key,I.exists(!1))]).then(()=>a)}function ym(s,...t){var i,a,l;s=(0,Z.Ku)(s);let g={includeMetadataChanges:!1},C=0;"object"!=typeof t[C]||Jg(t[C])||(g=t[C],C++);const P={includeMetadataChanges:g.includeMetadataChanges};if(Jg(t[C])){const Fe=t[C];t[C]=null===(i=Fe.next)||void 0===i?void 0:i.bind(Fe),t[C+1]=null===(a=Fe.error)||void 0===a?void 0:a.bind(Fe),t[C+2]=null===(l=Fe.complete)||void 0===l?void 0:l.bind(Fe)}let K,ee,_e;if(s instanceof Ko)ee=ji(s.firestore,Xs),_e=cl(s._key.path),K={next:Fe=>{t[C]&&t[C](vm(ee,s,Fe))},error:t[C+1],complete:t[C+2]};else{const Fe=ji(s,Fa);ee=ji(Fe.firestore,Xs),_e=Fe._query;const ft=new vu(ee);K={next:Ut=>{t[C]&&t[C](new Rr(ee,ft,Fe,Ut))},error:t[C+1],complete:t[C+2]},Zh(s._query)}return function(Fe,ft,Ut,en){const _n=new Yf(en),rr=new ud(ft,_n,Ut);return Fe.asyncQueue.enqueueAndForget((0,p.A)(function*(){return ld(yield zd(Fe),rr)})),()=>{_n.bc(),Fe.asyncQueue.enqueueAndForget((0,p.A)(function*(){return Vh(yield zd(Fe),rr)}))}}(zo(ee),_e,P,K)}function yd(s,t){return function(i,a){const l=new Ur;return i.asyncQueue.enqueueAndForget((0,p.A)(function*(){return function D_(s,t,i){return Wf.apply(this,arguments)}(yield function qg(s){return Zf(s).then(t=>t.syncEngine)}(i),a,l)})),l.promise}(zo(s),t)}function vm(s,t,i){const a=i.docs.get(t._key),l=new vu(s);return new Yd(s,l,t._key,a,new md(i.hasPendingWrites,i.fromCache),t.converter)}function rv(){return new tp("serverTimestamp")}!function(s,t=!0){Ws=D.MF,(0,D.om)(new ce.uA("firestore",(i,{instanceIdentifier:a,options:l})=>{const g=i.getProvider("app").getImmediate(),C=new Xs(new Bo(i.getProvider("auth-internal")),new pa(i.getProvider("app-check-internal")),function(P,K){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new Ot(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(P.options.projectId,K)}(g,a),g);return l=Object.assign({useFetchStreams:t},l),C._setSettings(l),C},"PUBLIC").setMultipleInstances(!0)),(0,D.KO)(Ma,"3.8.3",s),(0,D.KO)(Ma,"3.8.3","esm2017")}()},467:(St,Re,w)=>{function p(ce,H,Z,ie,te,Y,fe){try{var ne=ce[Y](fe),le=ne.value}catch(Te){return void Z(Te)}ne.done?H(le):Promise.resolve(le).then(ie,te)}function D(ce){return function(){var H=this,Z=arguments;return new Promise(function(ie,te){var Y=ce.apply(H,Z);function fe(le){p(Y,ie,te,fe,ne,"next",le)}function ne(le){p(Y,ie,te,fe,ne,"throw",le)}fe(void 0)})}}w.d(Re,{A:()=>D})},1635:(St,Re,w)=>{function H(Je,$e){var pt={};for(var _t in Je)Object.prototype.hasOwnProperty.call(Je,_t)&&$e.indexOf(_t)<0&&(pt[_t]=Je[_t]);if(null!=Je&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(_t=Object.getOwnPropertySymbols(Je);It<_t.length;It++)$e.indexOf(_t[It])<0&&Object.prototype.propertyIsEnumerable.call(Je,_t[It])&&(pt[_t[It]]=Je[_t[It]])}return pt}function Z(Je,$e,pt,_t){var pn,It=arguments.length,At=It<3?$e:null===_t?_t=Object.getOwnPropertyDescriptor($e,pt):_t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)At=Reflect.decorate(Je,$e,pt,_t);else for(var mt=Je.length-1;mt>=0;mt--)(pn=Je[mt])&&(At=(It<3?pn(At):It>3?pn($e,pt,At):pn($e,pt))||At);return It>3&&At&&Object.defineProperty($e,pt,At),At}function Te(Je,$e,pt,_t){return new(pt||(pt=Promise))(function(At,pn){function mt(ht){try{Le(_t.next(ht))}catch(Mt){pn(Mt)}}function it(ht){try{Le(_t.throw(ht))}catch(Mt){pn(Mt)}}function Le(ht){ht.done?At(ht.value):function It(At){return At instanceof pt?At:new pt(function(pn){pn(At)})}(ht.value).then(mt,it)}Le((_t=_t.apply(Je,$e||[])).next())})}function lt(Je){return this instanceof lt?(this.v=Je,this):new lt(Je)}function qe(Je,$e,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,_t=pt.apply(Je,$e||[]),At=[];return It=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),mt("next"),mt("throw"),mt("return",function pn(In){return function(ir){return Promise.resolve(ir).then(In,Mt)}}),It[Symbol.asyncIterator]=function(){return this},It;function mt(In,ir){_t[In]&&(It[In]=function(vr){return new Promise(function(Vr,Ai){At.push([In,vr,Vr,Ai])>1||it(In,vr)})},ir&&(It[In]=ir(It[In])))}function it(In,ir){try{!function Le(In){In.value instanceof lt?Promise.resolve(In.value.v).then(ht,Mt):Bn(At[0][2],In)}(_t[In](ir))}catch(vr){Bn(At[0][3],vr)}}function ht(In){it("next",In)}function Mt(In){it("throw",In)}function Bn(In,ir){In(ir),At.shift(),At.length&&it(At[0][0],At[0][1])}}function Bt(Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,$e=Je[Symbol.asyncIterator];return $e?$e.call(Je):(Je=function st(Je){var $e="function"==typeof Symbol&&Symbol.iterator,pt=$e&&Je[$e],_t=0;if(pt)return pt.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&_t>=Je.length&&(Je=void 0),{value:Je&&Je[_t++],done:!Je}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Je),pt={},_t("next"),_t("throw"),_t("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function _t(At){pt[At]=Je[At]&&function(pn){return new Promise(function(mt,it){!function It(At,pn,mt,it){Promise.resolve(it).then(function(Le){At({value:Le,done:mt})},pn)}(mt,it,(pn=Je[At](pn)).done,pn.value)})}}}w.d(Re,{AQ:()=>qe,Cg:()=>Z,N3:()=>lt,Tt:()=>H,sH:()=>Te,xN:()=>Bt}),"function"==typeof SuppressedError&&SuppressedError},8330:St=>{St.exports={rE:"0.0.227"}}},St=>{St(St.s=9589)}]);