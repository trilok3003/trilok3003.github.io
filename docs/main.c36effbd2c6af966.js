"use strict";var PI=Object.defineProperty,RI=Object.defineProperties,xI=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,NI=Object.prototype.hasOwnProperty,LI=Object.prototype.propertyIsEnumerable,V0=(Ie,ae,C)=>ae in Ie?PI(Ie,ae,{enumerable:!0,configurable:!0,writable:!0,value:C}):Ie[ae]=C,B0=(Ie,ae)=>{for(var C in ae||(ae={}))NI.call(ae,C)&&V0(Ie,C,ae[C]);if(U0)for(var C of U0(ae))LI.call(ae,C)&&V0(Ie,C,ae[C]);return Ie},j0=(Ie,ae)=>RI(Ie,xI(ae));(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[179],{2090:(Ie,ae,C)=>{C.d(ae,{BH:()=>Be,DV:()=>lr,G6:()=>ht,GJ:()=>Wr,L:()=>J,LL:()=>Ir,P0:()=>gt,Pz:()=>Ge,Sg:()=>Dt,UI:()=>ds,US:()=>de,Wl:()=>Ei,Yr:()=>bt,ZR:()=>Vr,aH:()=>xt,b$:()=>Ze,cI:()=>dr,dS:()=>zn,eu:()=>Kt,g5:()=>te,gK:()=>rn,gQ:()=>wr,h$:()=>oe,hl:()=>Vn,hu:()=>S,m9:()=>Gr,ne:()=>$e,p$:()=>Q,pd:()=>ai,q4:()=>je,r3:()=>xr,ru:()=>tt,tV:()=>he,uI:()=>Wt,ug:()=>Kr,vZ:()=>zt,w1:()=>et,w9:()=>ni,xO:()=>yr,xb:()=>_r,z$:()=>Tt,zd:()=>Zi});const S=function(Ne,Ae){if(!Ne)throw te(Ae)},te=function(Ne){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ne)},V=function(Ne){const Ae=[];let Ve=0;for(let Et=0;Et<Ne.length;Et++){let Ke=Ne.charCodeAt(Et);Ke<128?Ae[Ve++]=Ke:Ke<2048?(Ae[Ve++]=Ke>>6|192,Ae[Ve++]=63&Ke|128):55296==(64512&Ke)&&Et+1<Ne.length&&56320==(64512&Ne.charCodeAt(Et+1))?(Ke=65536+((1023&Ke)<<10)+(1023&Ne.charCodeAt(++Et)),Ae[Ve++]=Ke>>18|240,Ae[Ve++]=Ke>>12&63|128,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128):(Ae[Ve++]=Ke>>12|224,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128)}return Ae},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,Ae){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let Ke=0;Ke<Ne.length;Ke+=3){const Ht=Ne[Ke],Xt=Ke+1<Ne.length,Nn=Xt?Ne[Ke+1]:0,ir=Ke+2<Ne.length,Lr=ir?Ne[Ke+2]:0;let me=(15&Nn)<<2|Lr>>6,ke=63&Lr;ir||(ke=64,Xt||(me=64)),Et.push(Ve[Ht>>2],Ve[(3&Ht)<<4|Nn>>4],Ve[me],Ve[ke])}return Et.join("")},encodeString(Ne,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(Ne):this.encodeByteArray(V(Ne),Ae)},decodeString(Ne,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(Ne):function(Ne){const Ae=[];let Ve=0,Et=0;for(;Ve<Ne.length;){const Ke=Ne[Ve++];if(Ke<128)Ae[Et++]=String.fromCharCode(Ke);else if(Ke>191&&Ke<224){const Ht=Ne[Ve++];Ae[Et++]=String.fromCharCode((31&Ke)<<6|63&Ht)}else if(Ke>239&&Ke<365){const ir=((7&Ke)<<18|(63&Ne[Ve++])<<12|(63&Ne[Ve++])<<6|63&Ne[Ve++])-65536;Ae[Et++]=String.fromCharCode(55296+(ir>>10)),Ae[Et++]=String.fromCharCode(56320+(1023&ir))}else{const Ht=Ne[Ve++],Xt=Ne[Ve++];Ae[Et++]=String.fromCharCode((15&Ke)<<12|(63&Ht)<<6|63&Xt)}}return Ae.join("")}(this.decodeStringToByteArray(Ne,Ae))},decodeStringToByteArray(Ne,Ae){this.init_();const Ve=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let Ke=0;Ke<Ne.length;){const Ht=Ve[Ne.charAt(Ke++)],Nn=Ke<Ne.length?Ve[Ne.charAt(Ke)]:0;++Ke;const Lr=Ke<Ne.length?Ve[Ne.charAt(Ke)]:64;++Ke;const be=Ke<Ne.length?Ve[Ne.charAt(Ke)]:64;if(++Ke,null==Ht||null==Nn||null==Lr||null==be)throw Error();Et.push(Ht<<2|Nn>>4),64!==Lr&&(Et.push(Nn<<4&240|Lr>>2),64!==be&&Et.push(Lr<<6&192|be))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},oe=function(Ne){const Ae=V(Ne);return de.encodeByteArray(Ae,!0)},J=function(Ne){return oe(Ne).replace(/\./g,"")},he=function(Ne){try{return de.decodeString(Ne,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function Q(Ne){return Z(void 0,Ne)}function Z(Ne,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return Ae}for(const Ve in Ae)!Ae.hasOwnProperty(Ve)||!ce(Ve)||(Ne[Ve]=Z(Ne[Ve],Ae[Ve]));return Ne}function ce(Ne){return"__proto__"!==Ne}const We=()=>{try{return function Le(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Ne=process.env.__FIREBASE_DEFAULTS__;return Ne?JSON.parse(Ne):void 0})()||(()=>{if("undefined"==typeof document)return;let Ne;try{Ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ve){return}const Ae=Ne&&he(Ne[1]);return Ae&&JSON.parse(Ae)})()}catch(Ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ne}`)}},je=Ne=>{var Ae,Ve;return null===(Ve=null===(Ae=We())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===Ve?void 0:Ve[Ne]},gt=Ne=>{const Ae=je(Ne);if(!Ae)return;const Ve=Ae.lastIndexOf(":");if(Ve<=0||Ve+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const Et=parseInt(Ae.substring(Ve+1),10);return"["===Ae[0]?[Ae.substring(1,Ve-1),Et]:[Ae.substring(0,Ve),Et]},xt=()=>{var Ne;return null===(Ne=We())||void 0===Ne?void 0:Ne.config},Ge=Ne=>{var Ae;return null===(Ae=We())||void 0===Ae?void 0:Ae[`_${Ne}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,Ve)=>{this.resolve=Ae,this.reject=Ve})}wrapCallback(Ae){return(Ve,Et)=>{Ve?this.reject(Ve):this.resolve(Et),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(Ve):Ae(Ve,Et))}}}function Dt(Ne,Ae){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=Ae||"demo-project",Ke=Ne.iat||0,Ht=Ne.sub||Ne.user_id;if(!Ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xt=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:Ke,exp:Ke+3600,auth_time:Ke,sub:Ht,user_id:Ht,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(Xt)),""].join(".")}function Tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Wt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function tt(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const Ne=Tt();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function bt(){return!1}function ht(){return!function $t(){var Ne;const Ae=null===(Ne=We())||void 0===Ne?void 0:Ne.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ve){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vn(){try{return"object"==typeof indexedDB}catch(Ne){return!1}}function Kt(){return new Promise((Ne,Ae)=>{try{let Ve=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",Ke=self.indexedDB.open(Et);Ke.onsuccess=()=>{Ke.result.close(),Ve||self.indexedDB.deleteDatabase(Et),Ne(!0)},Ke.onupgradeneeded=()=>{Ve=!1},Ke.onerror=()=>{var Ht;Ae((null===(Ht=Ke.error)||void 0===Ht?void 0:Ht.message)||"")}}catch(Ve){Ae(Ve)}})}class Vr extends Error{constructor(Ae,Ve,Et){super(Ve),this.code=Ae,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}}class Ir{constructor(Ae,Ve,Et){this.service=Ae,this.serviceName=Ve,this.errors=Et}create(Ae,...Ve){const Et=Ve[0]||{},Ke=`${this.service}/${Ae}`,Ht=this.errors[Ae],Xt=Ht?function tr(Ne,Ae){return Ne.replace(Fr,(Ve,Et)=>{const Ke=Ae[Et];return null!=Ke?String(Ke):`<${Et}?>`})}(Ht,Et):"Error";return new Vr(Ke,`${this.serviceName}: ${Xt} (${Ke}).`,Et)}}const Fr=/\{\$([^}]+)}/g;function dr(Ne){return JSON.parse(Ne)}function Ei(Ne){return JSON.stringify(Ne)}const gi=function(Ne){let Ae={},Ve={},Et={},Ke="";try{const Ht=Ne.split(".");Ae=dr(he(Ht[0])||""),Ve=dr(he(Ht[1])||""),Ke=Ht[2],Et=Ve.d||{},delete Ve.d}catch(Ht){}return{header:Ae,claims:Ve,data:Et,signature:Ke}},ni=function(Ne){const Ve=gi(Ne).claims;return!!Ve&&"object"==typeof Ve&&Ve.hasOwnProperty("iat")},Wr=function(Ne){const Ae=gi(Ne).claims;return"object"==typeof Ae&&!0===Ae.admin};function xr(Ne,Ae){return Object.prototype.hasOwnProperty.call(Ne,Ae)}function lr(Ne,Ae){if(Object.prototype.hasOwnProperty.call(Ne,Ae))return Ne[Ae]}function _r(Ne){for(const Ae in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Ae))return!1;return!0}function ds(Ne,Ae,Ve){const Et={};for(const Ke in Ne)Object.prototype.hasOwnProperty.call(Ne,Ke)&&(Et[Ke]=Ae.call(Ve,Ne[Ke],Ke,Ne));return Et}function zt(Ne,Ae){if(Ne===Ae)return!0;const Ve=Object.keys(Ne),Et=Object.keys(Ae);for(const Ke of Ve){if(!Et.includes(Ke))return!1;const Ht=Ne[Ke],Xt=Ae[Ke];if(mi(Ht)&&mi(Xt)){if(!zt(Ht,Xt))return!1}else if(Ht!==Xt)return!1}for(const Ke of Et)if(!Ve.includes(Ke))return!1;return!0}function mi(Ne){return null!==Ne&&"object"==typeof Ne}function yr(Ne){const Ae=[];for(const[Ve,Et]of Object.entries(Ne))Array.isArray(Et)?Et.forEach(Ke=>{Ae.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Ke))}):Ae.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Et));return Ae.length?"&"+Ae.join("&"):""}function Zi(Ne){const Ae={};return Ne.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[Ke,Ht]=Et.split("=");Ae[decodeURIComponent(Ke)]=decodeURIComponent(Ht)}}),Ae}function ai(Ne){const Ae=Ne.indexOf("?");if(!Ae)return"";const Ve=Ne.indexOf("#",Ae);return Ne.substring(Ae,Ve>0?Ve:void 0)}class wr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ae=1;Ae<this.blockSize;++Ae)this.pad_[Ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ae,Ve){Ve||(Ve=0);const Et=this.W_;if("string"==typeof Ae)for(let be=0;be<16;be++)Et[be]=Ae.charCodeAt(Ve)<<24|Ae.charCodeAt(Ve+1)<<16|Ae.charCodeAt(Ve+2)<<8|Ae.charCodeAt(Ve+3),Ve+=4;else for(let be=0;be<16;be++)Et[be]=Ae[Ve]<<24|Ae[Ve+1]<<16|Ae[Ve+2]<<8|Ae[Ve+3],Ve+=4;for(let be=16;be<80;be++){const me=Et[be-3]^Et[be-8]^Et[be-14]^Et[be-16];Et[be]=4294967295&(me<<1|me>>>31)}let Lr,He,Ke=this.chain_[0],Ht=this.chain_[1],Xt=this.chain_[2],Nn=this.chain_[3],ir=this.chain_[4];for(let be=0;be<80;be++){be<40?be<20?(Lr=Nn^Ht&(Xt^Nn),He=1518500249):(Lr=Ht^Xt^Nn,He=1859775393):be<60?(Lr=Ht&Xt|Nn&(Ht|Xt),He=2400959708):(Lr=Ht^Xt^Nn,He=3395469782);const me=(Ke<<5|Ke>>>27)+Lr+ir+He+Et[be]&4294967295;ir=Nn,Nn=Xt,Xt=4294967295&(Ht<<30|Ht>>>2),Ht=Ke,Ke=me}this.chain_[0]=this.chain_[0]+Ke&4294967295,this.chain_[1]=this.chain_[1]+Ht&4294967295,this.chain_[2]=this.chain_[2]+Xt&4294967295,this.chain_[3]=this.chain_[3]+Nn&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295}update(Ae,Ve){if(null==Ae)return;void 0===Ve&&(Ve=Ae.length);const Et=Ve-this.blockSize;let Ke=0;const Ht=this.buf_;let Xt=this.inbuf_;for(;Ke<Ve;){if(0===Xt)for(;Ke<=Et;)this.compress_(Ae,Ke),Ke+=this.blockSize;if("string"==typeof Ae){for(;Ke<Ve;)if(Ht[Xt]=Ae.charCodeAt(Ke),++Xt,++Ke,Xt===this.blockSize){this.compress_(Ht),Xt=0;break}}else for(;Ke<Ve;)if(Ht[Xt]=Ae[Ke],++Xt,++Ke,Xt===this.blockSize){this.compress_(Ht),Xt=0;break}}this.inbuf_=Xt,this.total_+=Ve}digest(){const Ae=[];let Ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ke=this.blockSize-1;Ke>=56;Ke--)this.buf_[Ke]=255&Ve,Ve/=256;this.compress_(this.buf_);let Et=0;for(let Ke=0;Ke<5;Ke++)for(let Ht=24;Ht>=0;Ht-=8)Ae[Et]=this.chain_[Ke]>>Ht&255,++Et;return Ae}}function $e(Ne,Ae){const Ve=new Oe(Ne,Ae);return Ve.subscribe.bind(Ve)}class Oe{constructor(Ae,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{Ae(this)}).catch(Et=>{this.error(Et)})}next(Ae){this.forEachObserver(Ve=>{Ve.next(Ae)})}error(Ae){this.forEachObserver(Ve=>{Ve.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,Ve,Et){let Ke;if(void 0===Ae&&void 0===Ve&&void 0===Et)throw new Error("Missing Observer.");Ke=function nt(Ne,Ae){if("object"!=typeof Ne||null===Ne)return!1;for(const Ve of Ae)if(Ve in Ne&&"function"==typeof Ne[Ve])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:Ve,complete:Et},void 0===Ke.next&&(Ke.next=pt),void 0===Ke.error&&(Ke.error=pt),void 0===Ke.complete&&(Ke.complete=pt);const Ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ke.error(this.finalError):Ke.complete()}catch(Xt){}}),this.observers.push(Ke),Ht}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,Ae)}sendOne(Ae,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{Ve(this.observers[Ae])}catch(Et){"undefined"!=typeof console&&console.error&&console.error(Et)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pt(){}function rn(Ne,Ae){return`${Ne} failed: ${Ae} argument `}const zn=function(Ne){const Ae=[];let Ve=0;for(let Et=0;Et<Ne.length;Et++){let Ke=Ne.charCodeAt(Et);if(Ke>=55296&&Ke<=56319){const Ht=Ke-55296;Et++,S(Et<Ne.length,"Surrogate pair missing trail surrogate."),Ke=65536+(Ht<<10)+(Ne.charCodeAt(Et)-56320)}Ke<128?Ae[Ve++]=Ke:Ke<2048?(Ae[Ve++]=Ke>>6|192,Ae[Ve++]=63&Ke|128):Ke<65536?(Ae[Ve++]=Ke>>12|224,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128):(Ae[Ve++]=Ke>>18|240,Ae[Ve++]=Ke>>12&63|128,Ae[Ve++]=Ke>>6&63|128,Ae[Ve++]=63&Ke|128)}return Ae},Kr=function(Ne){let Ae=0;for(let Ve=0;Ve<Ne.length;Ve++){const Et=Ne.charCodeAt(Ve);Et<128?Ae++:Et<2048?Ae+=2:Et>=55296&&Et<=56319?(Ae+=4,Ve++):Ae+=3}return Ae};function Gr(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}},2348:(Ie,ae,C)=>{C.d(ae,{t:()=>ce});var f=C(1135),S=C(2843),te=C(3900),V=C(9646),le=C(6805),oe=C(262),J=C(8505),he=C(4004),Q=C(5e3),Z=C(520);let ce=(()=>{class Le{constructor(we){this.http=we,this.alertSubject=new f.X(null),this.alertObservable=this.alertSubject.asObservable()}getUser(we){return this.http.get(`https://jsonplaceholder.typicode.com/users/${we}`).pipe((0,oe.K)(Ye=>(0,S._)(Ye)))}getToDo(we){return this.http.get(`https://jsonplaceholder.typicode.com/todos?userId=${we}`).pipe((0,oe.K)(Ye=>(0,S._)(Ye)))}setUser(we){console.log(we)}setToDos(we){console.log(we)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,te.w)(we=>(this.setUser(we),this.getToDo(we.id).pipe((0,J.b)(Ye=>this.setToDos(Ye))))),(0,oe.K)(we=>(this.alertSubject.next(we),(0,V.of)(we))))}initialiseAppUsingPromises(){return function de(Le,ze){const we="object"==typeof ze;return new Promise((Ye,We)=>{let gt,je=!1;Le.subscribe({next:xt=>{gt=xt,je=!0},error:We,complete:()=>{je?Ye(gt):we?Ye(ze.defaultValue):We(new le.K)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,he.U)(we=>we))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,he.U)(we=>we))}getComments(){return this.http.get("https://jsonplaceholder.typicode.com/comments").pipe((0,he.U)(we=>we))}deleteToDo(){return this.http.delete("https://jsonplaceholder.typicode.com/todos/2").pipe((0,he.U)(we=>we))}getToDos(){return this.http.get("https://jsonplaceholder.typicode.com/todos").pipe((0,he.U)(we=>we))}}return Le.\u0275fac=function(we){return new(we||Le)(Q.LFG(Z.eN))},Le.\u0275prov=Q.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},4070:(Ie,ae,C)=>{C.d(ae,{g:()=>le});var f=C(1135),S=C(8646),te=C(8343),V=C(5e3);let le=(()=>{class de{constructor(){this._notification=new f.X(null),this.notification$=this._notification.asObservable().pipe((0,S.n)(),(0,te.x)())}notify(J){this._notification.next(J),setTimeout(()=>this._notification.next(null),3e3)}}return de.\u0275fac=function(J){return new(J||de)},de.\u0275prov=V.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},8285:(Ie,ae,C)=>{C.d(ae,{Y:()=>te});var f=C(5e3),S=(()=>{return(V=S||(S={}))[V.slideToLeft=1]="slideToLeft",V[V.slideToRight=2]="slideToRight",V[V.slideToTop=3]="slideToTop",V[V.slideToBottom=4]="slideToBottom",S;var V})();let te=(()=>{class V{constructor(){this.routeAnimation=null}setRouteAnimation(de){this.routeAnimation=S[de]}get currentRouteAnimation(){return this.routeAnimation}}return V.\u0275fac=function(de){return new(de||V)},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},2088:(Ie,ae,C)=>{C.d(ae,{s:()=>te});var f=C(5e3),S=C(520);let te=(()=>{class V{constructor(de){this.http=de}login(de,oe){return this.http.post("login",{username:de,password:oe})}getProducts(){return this.http.get("products",{headers:{}})}}return V.\u0275fac=function(de){return new(de||V)(f.LFG(S.eN))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},4657:(Ie,ae,C)=>{C.d(ae,{e:()=>le});var f=C(1135),S=C(8505),te=C(5e3),V=C(2088);let le=(()=>{class de{constructor(J){this.apiService=J,this._isLoggedIn$=new f.X(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(J,he){return this.apiService.login(J,he).pipe((0,S.b)(Q=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,Q.token),this.user=this.getUser(Q.token)}))}getUser(J){return J?JSON.parse(atob(J.split(".")[1])):null}hasRole(J){var he;return(null===(he=this.user)||void 0===he?void 0:he.Role.includes(J))||!1}}return de.\u0275fac=function(J){return new(J||de)(te.LFG(V.s))},de.\u0275prov=te.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},3922:(Ie,ae,C)=>{C.d(ae,{b:()=>S});const S=new(C(5e3).OlP)("logger",{factory:()=>({log:te=>console.log(`DEFAULT ${te}`),info:te=>console.info(`DEFAULT ${te}`)})})},7637:(Ie,ae,C)=>{C.d(ae,{u:()=>f});class f{}},9155:(Ie,ae,C)=>{C.d(ae,{Yk:()=>f,wJ:()=>S});var f=(()=>{return(V=f||(f={})).Clear="Clear",V.Snow="Snow",V.Rain="Rain",V.Clouds="Clouds",V.Thunderstorm="Thunderstorm",V.Atmosphere="Atmosphere",V.Drizzle="Drizzle",V.Unknown="Unknown",f;var V})();function S(V){return(new Map).set("Thunderstorm",f.Thunderstorm).set("Drizzle",f.Drizzle).set("Rain",f.Rain).set("Snow",f.Snow).set("Atmosphere",f.Atmosphere).set("Clouds",f.Clouds).set("Clear",f.Clear).get(V.main)||f.Unknown}},6222:(Ie,ae,C)=>{C.d(ae,{$0:()=>de,$f:()=>V,$s:()=>le,GO:()=>S,HD:()=>oe,JW:()=>Z,Xt:()=>Le,hS:()=>ce,m0:()=>te,mm:()=>Q,n3:()=>J,rc:()=>he});var f=C(5094);const S=(0,f.PH)("[ARTICLE] Show All"),te=(0,f.PH)("[ARTICLE] Show All Success",(0,f.Ky)()),V=(0,f.PH)("[ARTICLE] Create",(0,f.Ky)()),le=(0,f.PH)("[ARTICLE] Create Success",(0,f.Ky)()),de=(0,f.PH)("[ARTICLE] Create Failure",(0,f.Ky)()),oe=(0,f.PH)("[ARTICLE] Get by Id",(0,f.Ky)()),J=(0,f.PH)("[ARTICLE] Get by Id Success",(0,f.Ky)()),he=(0,f.PH)("[ARTICLE] Reset"),Q=(0,f.PH)("[Product] Add to cart",(0,f.Ky)()),Z=(0,f.PH)("[Product] Remove from cart",(0,f.Ky)()),ce=(0,f.PH)("[Products] Load items from server"),Le=(0,f.PH)("[Products] Load success",(0,f.Ky)())},8716:(Ie,ae,C)=>{C.d(ae,{FC:()=>he,N5:()=>ze,Zz:()=>J,kk:()=>Le,ll:()=>we});var f=C(5094),S=C(6222);const le=(0,f.Lq)({articles:[],message:""},(0,f.on)(S.m0,(Ye,{payload:We})=>({articles:We,message:"Success"})),(0,f.on)(S.$s,(Ye,{payload:We})=>({articles:[We],message:"Article Created."})),(0,f.on)(S.$0,(Ye,{payload:We})=>({articles:[],message:We})),(0,f.on)(S.n3,(Ye,{payload:We})=>({articles:We,message:"Success"})),(0,f.on)(S.rc,Ye=>({articles:[],message:""}))),oe=(0,f.ZF)("articleState"),J=(0,f.P1)(oe,Ye=>Ye.articles),he=(0,f.P1)(oe,Ye=>Ye.message),Q=(0,f.Lq)({products:[],cart:[]},(0,f.on)(S.Xt,(Ye,{payload:We})=>Object.assign(Object.assign({},Ye),{products:We})),(0,f.on)(S.mm,(Ye,{payload:We})=>Object.assign(Object.assign({},Ye),{cart:[...Ye.cart,We]})),(0,f.on)(S.JW,(Ye,{payload:We})=>Object.assign(Object.assign({},Ye),{cart:[...Ye.cart.filter(je=>je.name!==We.name)]}))),ce=(0,f.ZF)("productState1"),Le=(0,f.P1)(ce,Ye=>Ye.products),ze=(0,f.P1)(ce,Ye=>Ye.cart),we={articleState:function de(Ye,We){return le(Ye,We)},productState1:function Z(Ye,We){return Q(Ye,We)}}},4466:(Ie,ae,C)=>{C.d(ae,{m:()=>le});var f=C(9808),S=C(3075),te=C(4202),V=C(5e3);let le=(()=>{class de{}return de.\u0275fac=function(J){return new(J||de)},de.\u0275mod=V.oAB({type:de}),de.\u0275inj=V.cJS({imports:[f.ez,te.Bz,S.u5,S.UX,S.u5,S.UX]}),de})()},9884:(Ie,ae,C)=>{C.d(ae,{y:()=>te});var f=C(7579),S=C(1135);class te{constructor(le){this.reducer=le,this.action=new f.x;const de={type:"@ngrx/store/init"},oe=le(void 0,de);this.state=new S.X(oe),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(de)}dispatch(le){const de=this.state.getValue(),oe=this.reducer(de,le);this.state.next(oe),this.action.next(le)}}},8625:(Ie,ae,C)=>{C.d(ae,{IH:()=>le,Mj:()=>V,nP:()=>te,zD:()=>de});var f=C(5094),S=(()=>{return(oe=S||(S={})).INCREMENT="Increment Article",oe.DECREMENT="Decrememnt Article",oe.ADD="Add Article",oe.LOAD="Load Articles",S;var oe})();const te=(0,f.PH)(S.INCREMENT,(0,f.Ky)()),V=(0,f.PH)(S.DECREMENT,(0,f.Ky)()),le=(0,f.PH)(S.ADD,(0,f.Ky)()),de=(0,f.PH)(S.LOAD)},7369:(Ie,ae,C)=>{C.d(ae,{Jl:()=>de,UN:()=>te});var f=C(5094),S=C(8625);const te="article",le=(0,f.Lq)({articles:[]},(0,f.on)(S.nP,(oe,J)=>Object.assign(Object.assign({},oe),{articles:oe.articles.map(he=>he.id==J.id?Object.assign(Object.assign({},he),{points:he.points+1}):he)})),(0,f.on)(S.Mj,(oe,J)=>Object.assign(Object.assign({},oe),{articles:oe.articles.map(he=>he.id==J.id?Object.assign(Object.assign({},he),{points:he.points-1}):he)})),(0,f.on)(S.IH,(oe,{payload:J})=>Object.assign(Object.assign({},oe),{articles:[...oe.articles,J]})));function de(oe,J){return le(oe,J)}},3550:(Ie,ae,C)=>{C.d(ae,{T:()=>J});var f=C(5094),S=C(8625),te=C(7369);const V=(0,f.ZF)(te.UN),le=(0,f.P1)(V,he=>he.articles);class de{constructor(Q,Z,ce,Le){this.id=Q,this.title=Z,this.link=ce,this.points=Le||0,this.time=new Date}}var oe=C(5e3);let J=(()=>{class he{constructor(Z){this.store=Z,this.id=0}getArticle(){return this.store.pipe((0,f.Ys)(le))}incArticle(Z){this.store.dispatch(S.nP(Z))}decArticle(Z){this.store.dispatch(S.Mj(Z))}addArticle(Z){let ce=new de(++this.id,Z.title,Z.link,0);this.store.dispatch(S.IH({payload:ce}))}loadArticle(Z){this.store.dispatch(S.zD())}}return he.\u0275fac=function(Z){return new(Z||he)(oe.LFG(f.yh))},he.\u0275prov=oe.Yz7({token:he,factory:he.\u0275fac}),he})()},5054:(Ie,ae,C)=>{C.d(ae,{e:()=>oe});var f=C(5094),S=C(4579),te=C(2852);const V=(0,f.ZF)(te.UN),le=(0,f.P1)(V,J=>J.count);var de=C(5e3);let oe=(()=>{class J{constructor(Q){this.store=Q}getCount(){return this.store.pipe((0,f.Ys)(le))}incrementCount(){this.store.dispatch(S.nP())}decrementCount(){this.store.dispatch(S.Mj())}resetCount(){this.store.dispatch(S.mc())}setValue(Q){this.store.dispatch(S.Zf({newValue:Q}))}loadValue(){this.store.dispatch(S.zK())}}return J.\u0275fac=function(Q){return new(Q||J)(de.LFG(f.yh))},J.\u0275prov=de.Yz7({token:J,factory:J.\u0275fac}),J})()},4579:(Ie,ae,C)=>{C.d(ae,{Mj:()=>V,Zf:()=>de,mc:()=>le,nP:()=>te,zK:()=>oe});var f=C(5094),S=(()=>{return(J=S||(S={})).INCREMENT="[Counter Component] Increment",J.DECREMENT="[Counter Component] Decrement",J.RESET="[Counter Component] Reset",J.SETVALUE="[Counter Component] Set Value",J.LOADVALUE="[Counter Component] Load Value",S;var J})();const te=(0,f.PH)(S.INCREMENT),V=(0,f.PH)(S.DECREMENT),le=(0,f.PH)(S.RESET),de=(0,f.PH)(S.SETVALUE,(0,f.Ky)()),oe=(0,f.PH)(S.LOADVALUE)},2852:(Ie,ae,C)=>{C.d(ae,{UN:()=>te,jX:()=>de});var f=C(5094),S=C(4579);const te="counter",le=(0,f.Lq)({count:0},(0,f.on)(S.nP,oe=>Object.assign(Object.assign({},oe),{count:oe.count+1})),(0,f.on)(S.Mj,oe=>Object.assign(Object.assign({},oe),{count:oe.count-1})),(0,f.on)(S.mc,oe=>Object.assign(Object.assign({},oe),{count:0})),(0,f.on)(S.Zf,(oe,J)=>Object.assign(Object.assign({},oe),{count:J.newValue})));function de(oe,J){return le(oe,J)}},2542:(Ie,ae,C)=>{C.d(ae,{F3:()=>V,WU:()=>le,mu:()=>te});var f=C(5094),S=(()=>{return(de=S||(S={})).loadData="[loadData] load",de.loadDataSuccess="[loadData] success",de.loadDataFailure="[loadData] failure",S;var de})();const te=(0,f.PH)(S.loadData),V=(0,f.PH)(S.loadDataSuccess,(0,f.Ky)()),le=(0,f.PH)(S.loadDataFailure,(0,f.Ky)())},3880:(Ie,ae,C)=>{C.d(ae,{B5:()=>de,UN:()=>te});var f=C(5094),S=C(2542);const te="load-data",le=(0,f.Lq)({data:null,loading:!1,error:null},(0,f.on)(S.mu,oe=>Object.assign(Object.assign({},oe),{loading:!0})),(0,f.on)(S.F3,(oe,{payload:J})=>Object.assign(Object.assign({},oe),{loading:!1,data:J})),(0,f.on)(S.WU,(oe,{payload:J})=>Object.assign(Object.assign({},oe),{loading:!1,error:J})));function de(oe,J){return le(oe,J)}},9610:(Ie,ae,C)=>{C.d(ae,{L:()=>oe});var f=C(5094),S=C(3880);const te=(0,f.ZF)(S.UN),V=(0,f.P1)(te,J=>J.data);var le=C(2542),de=C(5e3);let oe=(()=>{class J{constructor(Q){this.store=Q}getData(){return this.store.pipe((0,f.Ys)(V))}loadData(){this.store.dispatch(le.mu())}loadDataSuccess(Q){this.store.dispatch(le.F3(Q))}loadDataFailure(Q){this.store.dispatch(le.WU(Q))}}return J.\u0275fac=function(Q){return new(Q||J)(de.LFG(f.yh))},J.\u0275prov=de.Yz7({token:J,factory:J.\u0275fac}),J})()},7403:(Ie,ae,C)=>{C.d(ae,{a:()=>le});var f=C(4004),S=C(5e3),te=C(520);let le=(()=>{class de{constructor(J){this.http=J}register(J){return this.http.post("https://conduit.productionready.io/api/users",J).pipe((0,f.U)(he=>he.user))}}return de.\u0275fac=function(J){return new(J||de)(S.LFG(te.eN))},de.\u0275prov=S.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},2766:(Ie,ae,C)=>{C.d(ae,{Pw:()=>V,_0:()=>te,zH:()=>le});var f=C(5094),S=(()=>{return(de=S||(S={})).REGISTER="[AUTH] REGISTER",de.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",de.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",S;var de})();const te=(0,f.PH)(S.REGISTER,(0,f.Ky)()),V=(0,f.PH)(S.REGISTER_SUCCESS,(0,f.Ky)()),le=(0,f.PH)(S.REGISTER_FAILURE,(0,f.Ky)())},5650:(Ie,ae,C)=>{C.d(ae,{UN:()=>V,xw:()=>de});var f=C(5094),S=C(2766);const V="Register",le=(0,f.Lq)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,f.on)(S._0,oe=>Object.assign(Object.assign({},oe),{isSubmitting:!0,validationErrors:null})),(0,f.on)(S.Pw,(oe,J)=>Object.assign(Object.assign({},oe),{isSubmitting:!1,isLoggedIn:!0,currentUser:J.currentUser})),(0,f.on)(S.zH,(oe,J)=>Object.assign(Object.assign({},oe),{isSubmitting:!1,validationErrors:J.errors})));function de(oe,J){return le(oe,J)}},4964:(Ie,ae,C)=>{C.d(ae,{q:()=>J});var f=C(5094),S=C(2766),te=C(5650);const V=(0,f.ZF)(te.UN),le=(0,f.P1)(V,he=>he.isSubmitting),de=(0,f.P1)(V,he=>he.validationErrors);var oe=C(5e3);let J=(()=>{class he{constructor(Z){this.store=Z}register(Z){this.store.dispatch((0,S._0)(Z))}isSubmitting(){return this.store.pipe((0,f.Ys)(le))}backendErrors(){return this.store.pipe((0,f.Ys)(de))}}return he.\u0275fac=function(Z){return new(Z||he)(oe.LFG(f.yh))},he.\u0275prov=oe.Yz7({token:he,factory:he.\u0275fac}),he})()},817:(Ie,ae,C)=>{C.d(ae,{N2:()=>le,Ni:()=>V,PR:()=>te});var f=C(5094),S=(()=>{return(de=S||(S={})).GET_USER="[User] Get User",de.GET_USER_SUCCESS="[User] Get User Success",de.GET_USER_FAILED="[User] Get User Failed",S;var de})();const te=(0,f.PH)(S.GET_USER),V=(0,f.PH)(S.GET_USER_SUCCESS,(0,f.Ky)()),le=(0,f.PH)(S.GET_USER_FAILED,(0,f.Ky)())},173:(Ie,ae,C)=>{C.d(ae,{U:()=>V,M:()=>de});var f=C(5094),te=C(817);const V="user_info",le=(0,f.Lq)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,f.on)(te.Ni,(oe,{user:J})=>Object.assign(Object.assign({},oe),{user:J,error:null})),(0,f.on)(te.N2,(oe,{error:J})=>Object.assign(Object.assign({},oe),{user:{userId:null,name:null,lastName:null,email:null},error:J})));function de(oe,J){return le(oe,J)}},2842:(Ie,ae,C)=>{C.d(ae,{p:()=>oe});var f=C(5094),S=C(817),te=C(173);const V=(0,f.ZF)(te.U),le=(0,f.P1)(V,J=>J.user);var de=C(5e3);let oe=(()=>{class J{constructor(Q){this.store=Q}userInfo$(){return this.store.pipe((0,f.Ys)(le))}getUserInfo(){this.store.dispatch(S.PR())}}return J.\u0275fac=function(Q){return new(Q||J)(de.LFG(f.yh))},J.\u0275prov=de.Yz7({token:J,factory:J.\u0275fac}),J})()},5159:(Ie,ae,C)=>{C.d(ae,{N:()=>S});const S={production:!0,version:C(4147).i8,firebaseConfig:{apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432"}}},3308:(Ie,ae,C)=>{var f=C(2313),S=C(5e3),te=C(4202),V=C(1777);const le=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateX(100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(-100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(0%)"}))],{optional:!0})])],de=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateX(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateX(-100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateX(0%)"}))],{optional:!0})])],oe=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateY(100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(-100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(0%)"}))],{optional:!0})])],J=[(0,V.IO)(":enter, :leave",(0,V.oB)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,V.IO)(":leave",(0,V.oB)({transform:"translateY(0%)"}),{optional:!0}),(0,V.IO)(":enter",(0,V.oB)({transform:"translateY(-100%)"}),{optional:!0}),(0,V.ru)([(0,V.IO)(":leave",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(100%)"}))],{optional:!0}),(0,V.IO)(":enter",[(0,V.jt)(".3s ease-in-out",(0,V.oB)({transform:"translateY(0%)"}))],{optional:!0})])],he=(0,V.X$)("slideTransition",[(0,V.eR)("* => slideToLeft",le),(0,V.eR)("* => slideToRight",de),(0,V.eR)("* => slideToTop",oe),(0,V.eR)("* => slideToBottom",J)]);var Q=C(8285),Z=C(9808);function ce(I,E){if(1&I&&(S.TgZ(0,"li",11)(1,"a",12),S._uU(2),S.qZA()()),2&I){const _=E.$implicit;S.xp6(1),S.Q6J("routerLink",null==_?null:_.path),S.xp6(1),S.Oqu((null==_?null:_.name)||(null==_?null:_.path))}}function Le(I,E){if(1&I&&(S.TgZ(0,"a",13),S._uU(1),S.qZA()),2&I){const _=E.$implicit;S.xp6(1),S.Oqu(_)}}const ze=function(){return["navbar-dark","bg-dark"]},we=function(){return["navbar-light","bg-light"]},Ye=function(I){return{show:I}};let We=(()=>{class I{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(_,x){1&_&&(S.TgZ(0,"nav",0)(1,"a",1),S._uU(2,"Navbar"),S.qZA(),S.TgZ(3,"button",2),S.NdJ("click",function(){return x.toggleNavbar()}),S._UZ(4,"span",3),S.qZA(),S.TgZ(5,"div",4)(6,"ul",5),S.YNc(7,ce,3,2,"li",6),S.TgZ(8,"li",7),S.NdJ("click",function(){return x.show=!x.show}),S.TgZ(9,"a",8),S._uU(10,"Language"),S.qZA(),S.TgZ(11,"div",9),S.YNc(12,Le,2,1,"a",10),S.qZA()()()()()),2&_&&(S.Q6J("ngClass","DARK"===x.template?S.DdM(6,ze):S.DdM(7,we)),S.xp6(5),S.Q6J("ngClass",S.VKq(8,Ye,x.isCollapsed)),S.xp6(2),S.Q6J("ngForOf",x.routes),S.xp6(4),S.ekj("show",x.show),S.xp6(1),S.Q6J("ngForOf",x.languages))},dependencies:[Z.mk,Z.sg,te.yS,te.Od],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0deg,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]}),I})();const gt=[{path:"application",loadChildren:()=>Promise.all([C.e(8592),C.e(612)]).then(C.bind(C,612)).then(I=>I.ApplicationModule)},{path:"personal",loadChildren:()=>Promise.all([C.e(2821),C.e(8592),C.e(3747)]).then(C.bind(C,3747)).then(I=>I.PersonalModule)},{path:"rktect",loadChildren:()=>Promise.all([C.e(8771),C.e(5)]).then(C.bind(C,6946)).then(I=>I.RktectModule)},{path:"audios",loadChildren:()=>Promise.all([C.e(4331),C.e(4859)]).then(C.bind(C,870)).then(I=>I.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([C.e(4331),C.e(1839)]).then(C.bind(C,1839)).then(I=>I.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([C.e(4331),C.e(433),C.e(8521)]).then(C.bind(C,8521)).then(I=>I.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([C.e(4331),C.e(7539)]).then(C.bind(C,7539)).then(I=>I.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([C.e(4331),C.e(3261)]).then(C.bind(C,3261)).then(I=>I.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([C.e(4331),C.e(8592),C.e(2672)]).then(C.bind(C,5682)).then(I=>I.CovidModule)},{path:"github",loadChildren:()=>Promise.all([C.e(4331),C.e(8592),C.e(8580)]).then(C.bind(C,8580)).then(I=>I.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([C.e(7807),C.e(8592),C.e(2737)]).then(C.bind(C,2737)).then(I=>I.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([C.e(4331),C.e(94)]).then(C.bind(C,94)).then(I=>I.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([C.e(4331),C.e(9045)]).then(C.bind(C,9045)).then(I=>I.MoviesModule)},{path:"ngrx-store",loadChildren:()=>C.e(9167).then(C.bind(C,9167)).then(I=>I.NgrxStoreModule)},{path:"shop",loadChildren:()=>Promise.all([C.e(8592),C.e(4425)]).then(C.bind(C,4425)).then(I=>I.ShopModule)},{path:"encapsulating",loadChildren:()=>C.e(2792).then(C.bind(C,2792)).then(I=>I.EncapsulatingModule)},{path:"sports",loadChildren:()=>Promise.all([C.e(4331),C.e(7968)]).then(C.bind(C,7968)).then(I=>I.SportsModule)},{path:"store",loadChildren:()=>C.e(1738).then(C.bind(C,1738)).then(I=>I.StoreModule)},{path:"survey",loadChildren:()=>C.e(6475).then(C.bind(C,6475)).then(I=>I.SurveyPollVoterPridictionModule)},{path:"abstract-animation",loadChildren:()=>C.e(9396).then(C.bind(C,9396)).then(I=>I.AbstractAnimationModule)},{path:"animation-game",loadChildren:()=>C.e(6295).then(C.bind(C,6295)).then(I=>I.AnimationGameModule)},{path:"responsive-site",loadChildren:()=>C.e(210).then(C.bind(C,210)).then(I=>I.ResponsiveSiteModule)},{path:"mockApi",loadChildren:()=>C.e(7784).then(C.bind(C,7784)).then(I=>I.MockapiModule)},{path:"routeReuse",loadChildren:()=>C.e(772).then(C.bind(C,772)).then(I=>I.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>C.e(5517).then(C.bind(C,5517)).then(I=>I.SampleModule)},{path:"navigations",component:(()=>{class I{constructor(_){this.animationService=_,this.routes=[{path:"website"},{path:"resume"},{path:"portfolio"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(_){return _.activatedRouteData.animation}}return I.\u0275fac=function(_){return new(_||I)(S.Y36(Q.Y))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-navigations"]],decls:3,vars:2,consts:[[3,"routes","template"]],template:function(_,x){1&_&&(S._UZ(0,"app-navbar",0),S.TgZ(1,"main"),S._UZ(2,"router-outlet"),S.qZA()),2&_&&S.Q6J("routes",x.routes)("template","LIGHT")},dependencies:[te.lC,We],data:{animation:[he]}}),I})(),children:[{path:"website",loadChildren:()=>Promise.all([C.e(8592),C.e(5545)]).then(C.bind(C,5545)).then(I=>I.LayoutOneModule)},{path:"resume",loadChildren:()=>Promise.all([C.e(8592),C.e(6564)]).then(C.bind(C,6564)).then(I=>I.ResumeModule)},{path:"portfolio",loadChildren:()=>C.e(9682).then(C.bind(C,9682)).then(I=>I.PortfolioModule)},{path:"my-site",loadChildren:()=>C.e(7391).then(C.bind(C,7391)).then(I=>I.MysiteModule)},{path:"form",loadChildren:()=>Promise.all([C.e(433),C.e(7807),C.e(5394),C.e(8592),C.e(6026)]).then(C.bind(C,6026)).then(I=>I.FormModule)},{path:"svg",loadChildren:()=>C.e(3971).then(C.bind(C,3971)).then(I=>I.SvgRendererModule)},{path:"task",loadChildren:()=>Promise.all([C.e(7807),C.e(8771),C.e(2821),C.e(3538),C.e(8592),C.e(7176)]).then(C.bind(C,4501)).then(I=>I.TaskModule)},{path:"unit-testing",loadChildren:()=>C.e(4376).then(C.bind(C,4376)).then(I=>I.UnitTestingModule)}]},{path:"useFullApps",loadChildren:()=>Promise.all([C.e(433),C.e(3919),C.e(8592),C.e(1307)]).then(C.bind(C,1307)).then(I=>I.UsefullAppsModule)},{path:"library-ex",loadChildren:()=>Promise.all([C.e(433),C.e(7807),C.e(3919),C.e(3538),C.e(9534)]).then(C.bind(C,9534)).then(I=>I.LibraryExModule)},{path:"firebase",loadChildren:()=>C.e(7378).then(C.bind(C,7378)).then(I=>I.FirebaseTutsModule)},{path:"tutorials",loadChildren:()=>Promise.all([C.e(433),C.e(5394)]).then(C.bind(C,5394)).then(I=>I.TutorialsModule)},{path:"css",loadChildren:()=>Promise.all([C.e(8592),C.e(1941)]).then(C.bind(C,1941)).then(I=>I.CssLearnModule)},{path:"code-task",loadChildren:()=>C.e(2133).then(C.bind(C,2133)).then(I=>I.CodeTaskModule)},{path:"",redirectTo:"personal",pathMatch:"full"},{path:"**",redirectTo:"personal"}];let xt=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({imports:[te.Bz.forRoot(gt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),te.Bz]}),I})();var Ge=C(520);let Be=(()=>{class I{constructor(_){this.http=_,this.CONFIGURATION_URL="assets/config/configuration.json"}loadConfiguration(){return this.http.get(this.CONFIGURATION_URL).toPromise().then(_=>(this.configuration=_,_)).catch(_=>{console.error(_)})}getConfiguration(){return this.configuration}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Ge.eN))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var Dt=C(2348),Tt=C(4070);function Wt(I,E){if(1&I){const _=S.EpF();S.TgZ(0,"div",1),S.NdJ("click",function(){S.CHM(_);const K=S.oxw();return S.KtG(K.showNotification=!K.showNotification)}),S.TgZ(1,"p"),S._uU(2),S.qZA()()}if(2&I){const _=S.oxw();S.xp6(2),S.Oqu(_.notification)}}let $t=(()=>{class I{constructor(_){this.notificationService=_,this.notificationService.notification$.subscribe(x=>{this.notification=x,this.showNotification=!0})}ngOnInit(){}}return I.\u0275fac=function(_){return new(_||I)(S.Y36(Tt.g))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"]],template:function(_,x){1&_&&S.YNc(0,Wt,3,1,"div",0),2&_&&S.Q6J("ngIf",x.notification&&x.showNotification)},dependencies:[Z.O5],styles:[".notification[_ngcontent-%COMP%]{position:absolute;z-index:1;top:5px;line-height:20px;text-align:center;right:5px;background:linear-gradient(-90deg,#cb5cd2,#cc3fa0);color:#fff;font-style:oblique;text-transform:capitalize;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;min-height:20px;min-width:160px;max-width:300px;padding:15px;cursor:pointer}"]}),I})(),Rt=(()=>{class I{constructor(_,x,K,ne){this.configurationService=_,this.jsonPlaceholderService=x,this.routeReuseStrategy=K,this.route=ne,this.title="portfolio-all-in-one",this.version=S.q4F.major}ngOnInit(){}clearStoredRoute(){this.routeReuseStrategy.deactivateAllHandles()}}return I.\u0275fac=function(_){return new(_||I)(S.Y36(Be),S.Y36(Dt.t),S.Y36(te.wN),S.Y36(te.gz))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-root"]],decls:2,vars:0,template:function(_,x){1&_&&S._UZ(0,"app-notification")(1,"router-outlet")},dependencies:[te.lC,$t],changeDetection:0}),I})();function Ze(I){return new S.vHH(3e3,!1)}function un(){return"undefined"!=typeof window&&void 0!==window.document}function rn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Kn(I){switch(I.length){case 0:return new V.ZN;case 1:return I[0];default:return new V.ZE(I)}}function Vt(I,E,_,x,K=new Map,ne=new Map){const ye=[],Se=[];let Je=-1,_t=null;if(x.forEach(Ut=>{const sn=Ut.get("offset"),kn=sn==Je,On=kn&&_t||new Map;Ut.forEach((on,Wn)=>{let Hr=Wn,yi=on;if("offset"!==Wn)switch(Hr=E.normalizePropertyName(Hr,ye),yi){case V.k1:yi=K.get(Wn);break;case V.l3:yi=ne.get(Wn);break;default:yi=E.normalizeStyleValue(Wn,Hr,yi,ye)}On.set(Hr,yi)}),kn||Se.push(On),_t=On,Je=sn}),ye.length)throw function ds(I){return new S.vHH(3502,!1)}();return Se}function Bn(I,E,_,x){switch(E){case"start":I.onStart(()=>x(_&&zn(_,"start",I)));break;case"done":I.onDone(()=>x(_&&zn(_,"done",I)));break;case"destroy":I.onDestroy(()=>x(_&&zn(_,"destroy",I)))}}function zn(I,E,_){const x=_.totalTime,ne=Kr(I.element,I.triggerName,I.fromState,I.toState,E||I.phaseName,null==x?I.totalTime:x,!!_.disabled),ye=I._data;return null!=ye&&(ne._data=ye),ne}function Kr(I,E,_,x,K="",ne=0,ye){return{element:I,triggerName:E,fromState:_,toState:x,phaseName:K,totalTime:ne,disabled:!!ye}}function pn(I,E,_){let x=I.get(E);return x||I.set(E,x=_),x}function yn(I){const E=I.indexOf(":");return[I.substring(1,E),I.slice(E+1)]}let jn=(I,E)=>!1,li=(I,E,_)=>[],zr=null;function Fn(I){const E=I.parentNode||I.host;return E===zr?null:E}(rn()||"undefined"!=typeof Element)&&(un()?(zr=(()=>document.documentElement)(),jn=(I,E)=>{for(;E;){if(E===I)return!0;E=Fn(E)}return!1}):jn=(I,E)=>I.contains(E),li=(I,E,_)=>{if(_)return Array.from(I.querySelectorAll(E));const x=I.querySelector(E);return x?[x]:[]});let Gr=null,Ne=!1;const Ke=jn,Ht=li;let Nn=(()=>{class I{validateStyleProperty(_){return function Ae(I){Gr||(Gr=function Et(){return"undefined"!=typeof document?document.body:null}()||{},Ne=!!Gr.style&&"WebkitAppearance"in Gr.style);let E=!0;return Gr.style&&!function ji(I){return"ebkit"==I.substring(1,6)}(I)&&(E=I in Gr.style,!E&&Ne&&(E="Webkit"+I.charAt(0).toUpperCase()+I.slice(1)in Gr.style)),E}(_)}matchesElement(_,x){return!1}containsElement(_,x){return Ke(_,x)}getParentElement(_){return Fn(_)}query(_,x,K){return Ht(_,x,K)}computeStyle(_,x,K){return K||""}animate(_,x,K,ne,ye,Se=[],Je){return new V.ZN(K,ne)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),ir=(()=>{class I{}return I.NOOP=new Nn,I})();const me="ng-enter",ke="ng-leave",lt="ng-trigger",an=".ng-trigger",cn="ng-animating",Pe=".ng-animating";function xe(I){if("number"==typeof I)return I;const E=I.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:yt(parseFloat(E[1]),E[2])}function yt(I,E){return"s"===E?1e3*I:I}function Gt(I,E,_){return I.hasOwnProperty("duration")?I:function An(I,E,_){let K,ne=0,ye="";if("string"==typeof I){const Se=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return E.push(Ze()),{duration:0,delay:0,easing:""};K=yt(parseFloat(Se[1]),Se[2]);const Je=Se[3];null!=Je&&(ne=yt(parseFloat(Je),Se[4]));const _t=Se[5];_t&&(ye=_t)}else K=I;if(!_){let Se=!1,Je=E.length;K<0&&(E.push(function at(){return new S.vHH(3100,!1)}()),Se=!0),ne<0&&(E.push(function et(){return new S.vHH(3101,!1)}()),Se=!0),Se&&E.splice(Je,0,Ze())}return{duration:K,delay:ne,easing:ye}}(I,E,_)}function gn(I,E={}){return Object.keys(I).forEach(_=>{E[_]=I[_]}),E}function Jn(I){const E=new Map;return Object.keys(I).forEach(_=>{E.set(_,I[_])}),E}function Ar(I,E=new Map,_){if(_)for(let[x,K]of _)E.set(x,K);for(let[x,K]of I)E.set(x,K);return E}function $n(I,E,_){return _?E+":"+_+";":""}function hs(I){let E="";for(let _=0;_<I.style.length;_++){const x=I.style.item(_);E+=$n(0,x,I.style.getPropertyValue(x))}for(const _ in I.style)I.style.hasOwnProperty(_)&&!_.startsWith("_")&&(E+=$n(0,wo(_),I.style[_]));I.setAttribute("style",E)}function Mr(I,E,_){I.style&&(E.forEach((x,K)=>{const ne=wn(K);_&&!_.has(K)&&_.set(K,I.style[ne]),I.style[ne]=x}),rn()&&hs(I))}function Ji(I,E){I.style&&(E.forEach((_,x)=>{const K=wn(x);I.style[K]=""}),rn()&&hs(I))}function Hi(I){return Array.isArray(I)?1==I.length?I[0]:(0,V.vP)(I):I}const $i=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rn(I){let E=[];if("string"==typeof I){let _;for(;_=$i.exec(I);)E.push(_[1]);$i.lastIndex=0}return E}function In(I,E,_){const x=I.toString(),K=x.replace($i,(ne,ye)=>{let Se=E[ye];return null==Se&&(_.push(function bt(I){return new S.vHH(3003,!1)}()),Se=""),Se.toString()});return K==x?I:K}function bn(I){const E=[];let _=I.next();for(;!_.done;)E.push(_.value),_=I.next();return E}const Ri=/-+([a-z0-9])/g;function wn(I){return I.replace(Ri,(...E)=>E[1].toUpperCase())}function wo(I){return I.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Or(I,E,_){switch(E.type){case 7:return I.visitTrigger(E,_);case 0:return I.visitState(E,_);case 1:return I.visitTransition(E,_);case 2:return I.visitSequence(E,_);case 3:return I.visitGroup(E,_);case 4:return I.visitAnimate(E,_);case 5:return I.visitKeyframes(E,_);case 6:return I.visitStyle(E,_);case 8:return I.visitReference(E,_);case 9:return I.visitAnimateChild(E,_);case 10:return I.visitAnimateRef(E,_);case 11:return I.visitQuery(E,_);case 12:return I.visitStagger(E,_);default:throw function ht(I){return new S.vHH(3004,!1)}()}}function Tr(I,E){return window.getComputedStyle(I)[E]}function kt(I,E){const _=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(x=>function Gn(I,E,_){if(":"==I[0]){const Je=function Yr(I,E){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,x)=>parseFloat(x)>parseFloat(_);case":decrement":return(_,x)=>parseFloat(x)<parseFloat(_);default:return E.push(function Wr(I){return new S.vHH(3016,!1)}()),"* => *"}}(I,_);if("function"==typeof Je)return void E.push(Je);I=Je}const x=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return _.push(function ni(I){return new S.vHH(3015,!1)}()),E;const K=x[1],ne=x[2],ye=x[3];E.push(Sr(K,ye));"<"==ne[0]&&!("*"==K&&"*"==ye)&&E.push(Sr(ye,K))}(x,_,E)):_.push(I),_}const Dr=new Set(["true","1"]),xi=new Set(["false","0"]);function Sr(I,E){const _=Dr.has(I)||xi.has(I),x=Dr.has(E)||xi.has(E);return(K,ne)=>{let ye="*"==I||I==K,Se="*"==E||E==ne;return!ye&&_&&"boolean"==typeof K&&(ye=K?Dr.has(I):xi.has(I)),!Se&&x&&"boolean"==typeof ne&&(Se=ne?Dr.has(E):xi.has(E)),ye&&Se}}const Es=new RegExp("s*:selfs*,?","g");function Xi(I,E,_,x){return new ho(I).build(E,_,x)}class ho{constructor(E){this._driver=E}build(E,_,x){const K=new eo(_);return this._resetContextStyleTimingState(K),Or(this,Hi(E),K)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,_){let x=_.queryCount=0,K=_.depCount=0;const ne=[],ye=[];return"@"==E.name.charAt(0)&&_.errors.push(function Kt(){return new S.vHH(3006,!1)}()),E.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(_),0==Se.type){const Je=Se,_t=Je.name;_t.toString().split(/\s*,\s*/).forEach(Ut=>{Je.name=Ut,ne.push(this.visitState(Je,_))}),Je.name=_t}else if(1==Se.type){const Je=this.visitTransition(Se,_);x+=Je.queryCount,K+=Je.depCount,ye.push(Je)}else _.errors.push(function Mt(){return new S.vHH(3007,!1)}())}),{type:7,name:E.name,states:ne,transitions:ye,queryCount:x,depCount:K,options:null}}visitState(E,_){const x=this.visitStyle(E.styles,_),K=E.options&&E.options.params||null;if(x.containsDynamicStyles){const ne=new Set,ye=K||{};x.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(Je=>{Rn(Je).forEach(_t=>{ye.hasOwnProperty(_t)||ne.add(_t)})})}),ne.size&&(bn(ne.values()),_.errors.push(function pr(I,E){return new S.vHH(3008,!1)}()))}return{type:0,name:E.name,style:x,options:K?{params:K}:null}}visitTransition(E,_){_.queryCount=0,_.depCount=0;const x=Or(this,Hi(E.animation),_);return{type:1,matchers:kt(E.expr,_.errors),animation:x,queryCount:_.queryCount,depCount:_.depCount,options:Gi(E.options)}}visitSequence(E,_){return{type:2,steps:E.steps.map(x=>Or(this,x,_)),options:Gi(E.options)}}visitGroup(E,_){const x=_.currentTime;let K=0;const ne=E.steps.map(ye=>{_.currentTime=x;const Se=Or(this,ye,_);return K=Math.max(K,_.currentTime),Se});return _.currentTime=K,{type:3,steps:ne,options:Gi(E.options)}}visitAnimate(E,_){const x=function Ni(I,E){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return Wi(Gt(I,E).duration,0,"");const _=I;if(_.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=Wi(0,0,"");return ne.dynamic=!0,ne.strValue=_,ne}const K=Gt(_,E);return Wi(K.duration,K.delay,K.easing)}(E.timings,_.errors);_.currentAnimateTimings=x;let K,ne=E.styles?E.styles:(0,V.oB)({});if(5==ne.type)K=this.visitKeyframes(ne,_);else{let ye=E.styles,Se=!1;if(!ye){Se=!0;const _t={};x.easing&&(_t.easing=x.easing),ye=(0,V.oB)(_t)}_.currentTime+=x.duration+x.delay;const Je=this.visitStyle(ye,_);Je.isEmptyStep=Se,K=Je}return _.currentAnimateTimings=null,{type:4,timings:x,style:K,options:null}}visitStyle(E,_){const x=this._makeStyleAst(E,_);return this._validateStyleAst(x,_),x}_makeStyleAst(E,_){const x=[],K=Array.isArray(E.styles)?E.styles:[E.styles];for(let Se of K)"string"==typeof Se?Se===V.l3?x.push(Se):_.errors.push(new S.vHH(3002,!1)):x.push(Jn(Se));let ne=!1,ye=null;return x.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(ye=Se.get("easing"),Se.delete("easing")),!ne))for(let Je of Se.values())if(Je.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:x,easing:ye,offset:E.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(E,_){const x=_.currentAnimateTimings;let K=_.currentTime,ne=_.currentTime;x&&ne>0&&(ne-=x.duration+x.delay),E.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((Se,Je)=>{const _t=_.collectedStyles.get(_.currentQuerySelector),Ut=_t.get(Je);let sn=!0;Ut&&(ne!=K&&ne>=Ut.startTime&&K<=Ut.endTime&&(_.errors.push(function tr(I,E,_,x,K){return new S.vHH(3010,!1)}()),sn=!1),ne=Ut.startTime),sn&&_t.set(Je,{startTime:ne,endTime:K}),_.options&&function or(I,E,_){const x=E.params||{},K=Rn(I);K.length&&K.forEach(ne=>{x.hasOwnProperty(ne)||_.push(function Nt(I){return new S.vHH(3001,!1)}())})}(Se,_.options,_.errors)})})}visitKeyframes(E,_){const x={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Fr(){return new S.vHH(3011,!1)}()),x;let ne=0;const ye=[];let Se=!1,Je=!1,_t=0;const Ut=E.steps.map(yi=>{const cs=this._makeStyleAst(yi,_);let vi=null!=cs.offset?cs.offset:function fs(I){if("string"==typeof I)return null;let E=null;if(Array.isArray(I))I.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const x=_;E=parseFloat(x.get("offset")),x.delete("offset")}});else if(I instanceof Map&&I.has("offset")){const _=I;E=parseFloat(_.get("offset")),_.delete("offset")}return E}(cs.styles),As=0;return null!=vi&&(ne++,As=cs.offset=vi),Je=Je||As<0||As>1,Se=Se||As<_t,_t=As,ye.push(As),cs});Je&&_.errors.push(function dr(){return new S.vHH(3012,!1)}()),Se&&_.errors.push(function Ei(){return new S.vHH(3200,!1)}());const sn=E.steps.length;let kn=0;ne>0&&ne<sn?_.errors.push(function gi(){return new S.vHH(3202,!1)}()):0==ne&&(kn=1/(sn-1));const On=sn-1,on=_.currentTime,Wn=_.currentAnimateTimings,Hr=Wn.duration;return Ut.forEach((yi,cs)=>{const vi=kn>0?cs==On?1:kn*cs:ye[cs],As=vi*Hr;_.currentTime=on+Wn.delay+As,Wn.duration=As,this._validateStyleAst(yi,_),yi.offset=vi,x.styles.push(yi)}),x}visitReference(E,_){return{type:8,animation:Or(this,Hi(E.animation),_),options:Gi(E.options)}}visitAnimateChild(E,_){return _.depCount++,{type:9,options:Gi(E.options)}}visitAnimateRef(E,_){return{type:10,animation:this.visitReference(E.animation,_),options:Gi(E.options)}}visitQuery(E,_){const x=_.currentQuerySelector,K=E.options||{};_.queryCount++,_.currentQuery=E;const[ne,ye]=function Xn(I){const E=!!I.split(/\s*,\s*/).find(_=>":self"==_);return E&&(I=I.replace(Es,"")),I=I.replace(/@\*/g,an).replace(/@\w+/g,_=>an+"-"+_.slice(1)).replace(/:animating/g,Pe),[I,E]}(E.selector);_.currentQuerySelector=x.length?x+" "+ne:ne,pn(_.collectedStyles,_.currentQuerySelector,new Map);const Se=Or(this,Hi(E.animation),_);return _.currentQuery=null,_.currentQuerySelector=x,{type:11,selector:ne,limit:K.limit||0,optional:!!K.optional,includeSelf:ye,animation:Se,originalSelector:E.selector,options:Gi(E.options)}}visitStagger(E,_){_.currentQuery||_.errors.push(function ti(){return new S.vHH(3013,!1)}());const x="full"===E.timings?{duration:0,delay:0,easing:"full"}:Gt(E.timings,_.errors,!0);return{type:12,animation:Or(this,Hi(E.animation),_),timings:x,options:null}}}class eo{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gi(I){return I?(I=gn(I)).params&&(I.params=function To(I){return I?gn(I):null}(I.params)):I={},I}function Wi(I,E,_){return{duration:I,delay:E,easing:_}}function Ys(I,E,_,x,K,ne,ye=null,Se=!1){return{type:1,element:I,keyframes:E,preStyleProps:_,postStyleProps:x,duration:K,delay:ne,totalTime:K+ne,easing:ye,subTimeline:Se}}class er{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,_){let x=this._map.get(E);x||this._map.set(E,x=[]),x.push(..._)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const no=new RegExp(":enter","g"),ro=new RegExp(":leave","g");function Vo(I,E,_,x,K,ne=new Map,ye=new Map,Se,Je,_t=[]){return(new Bo).buildKeyframes(I,E,_,x,K,ne,ye,Se,Je,_t)}class Bo{buildKeyframes(E,_,x,K,ne,ye,Se,Je,_t,Ut=[]){_t=_t||new er;const sn=new qa(E,_,_t,K,ne,Ut,[]);sn.options=Je;const kn=Je.delay?xe(Je.delay):0;sn.currentTimeline.delayNextStep(kn),sn.currentTimeline.setStyles([ye],null,sn.errors,Je),Or(this,x,sn);const On=sn.timelines.filter(on=>on.containsAnimation());if(On.length&&Se.size){let on;for(let Wn=On.length-1;Wn>=0;Wn--){const Hr=On[Wn];if(Hr.element===_){on=Hr;break}}on&&!on.allowOnlyTimelineStyles()&&on.setStyles([Se],null,sn.errors,Je)}return On.length?On.map(on=>on.buildKeyframes()):[Ys(_,[],[],[],0,kn,"",!1)]}visitTrigger(E,_){}visitState(E,_){}visitTransition(E,_){}visitAnimateChild(E,_){const x=_.subInstructions.get(_.element);if(x){const K=_.createSubContext(E.options),ne=_.currentTimeline.currentTime,ye=this._visitSubInstructions(x,K,K.options);ne!=ye&&_.transformIntoNewTimeline(ye)}_.previousNode=E}visitAnimateRef(E,_){const x=_.createSubContext(E.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],_,x),this.visitReference(E.animation,x),_.transformIntoNewTimeline(x.currentTimeline.currentTime),_.previousNode=E}_applyAnimationRefDelays(E,_,x){var K;for(const ne of E){const ye=null==ne?void 0:ne.delay;if(ye){const Se="number"==typeof ye?ye:xe(In(ye,null!==(K=null==ne?void 0:ne.params)&&void 0!==K?K:{},_.errors));x.delayNextStep(Se)}}}_visitSubInstructions(E,_,x){let ne=_.currentTimeline.currentTime;const ye=null!=x.duration?xe(x.duration):null,Se=null!=x.delay?xe(x.delay):null;return 0!==ye&&E.forEach(Je=>{const _t=_.appendInstructionToTimeline(Je,ye,Se);ne=Math.max(ne,_t.duration+_t.delay)}),ne}visitReference(E,_){_.updateOptions(E.options,!0),Or(this,E.animation,_),_.previousNode=E}visitSequence(E,_){const x=_.subContextCount;let K=_;const ne=E.options;if(ne&&(ne.params||ne.delay)&&(K=_.createSubContext(ne),K.transformIntoNewTimeline(),null!=ne.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=Si);const ye=xe(ne.delay);K.delayNextStep(ye)}E.steps.length&&(E.steps.forEach(ye=>Or(this,ye,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>x&&K.transformIntoNewTimeline()),_.previousNode=E}visitGroup(E,_){const x=[];let K=_.currentTimeline.currentTime;const ne=E.options&&E.options.delay?xe(E.options.delay):0;E.steps.forEach(ye=>{const Se=_.createSubContext(E.options);ne&&Se.delayNextStep(ne),Or(this,ye,Se),K=Math.max(K,Se.currentTimeline.currentTime),x.push(Se.currentTimeline)}),x.forEach(ye=>_.currentTimeline.mergeTimelineCollectedStyles(ye)),_.transformIntoNewTimeline(K),_.previousNode=E}_visitTiming(E,_){if(E.dynamic){const x=E.strValue;return Gt(_.params?In(x,_.params,_.errors):x,_.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,_){const x=_.currentAnimateTimings=this._visitTiming(E.timings,_),K=_.currentTimeline;x.delay&&(_.incrementTime(x.delay),K.snapshotCurrentStyles());const ne=E.style;5==ne.type?this.visitKeyframes(ne,_):(_.incrementTime(x.duration),this.visitStyle(ne,_),K.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=E}visitStyle(E,_){const x=_.currentTimeline,K=_.currentAnimateTimings;!K&&x.hasCurrentStyleProperties()&&x.forwardFrame();const ne=K&&K.easing||E.easing;E.isEmptyStep?x.applyEmptyStep(ne):x.setStyles(E.styles,ne,_.errors,_.options),_.previousNode=E}visitKeyframes(E,_){const x=_.currentAnimateTimings,K=_.currentTimeline.duration,ne=x.duration,Se=_.createSubContext().currentTimeline;Se.easing=x.easing,E.styles.forEach(Je=>{Se.forwardTime((Je.offset||0)*ne),Se.setStyles(Je.styles,Je.easing,_.errors,_.options),Se.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Se),_.transformIntoNewTimeline(K+ne),_.previousNode=E}visitQuery(E,_){const x=_.currentTimeline.currentTime,K=E.options||{},ne=K.delay?xe(K.delay):0;ne&&(6===_.previousNode.type||0==x&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Si);let ye=x;const Se=_.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!K.optional,_.errors);_.currentQueryTotal=Se.length;let Je=null;Se.forEach((_t,Ut)=>{_.currentQueryIndex=Ut;const sn=_.createSubContext(E.options,_t);ne&&sn.delayNextStep(ne),_t===_.element&&(Je=sn.currentTimeline),Or(this,E.animation,sn),sn.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,sn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(ye),Je&&(_.currentTimeline.mergeTimelineCollectedStyles(Je),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=E}visitStagger(E,_){const x=_.parentContext,K=_.currentTimeline,ne=E.timings,ye=Math.abs(ne.duration),Se=ye*(_.currentQueryTotal-1);let Je=ye*_.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Je=Se-Je;break;case"full":Je=x.currentStaggerTime}const Ut=_.currentTimeline;Je&&Ut.delayNextStep(Je);const sn=Ut.currentTime;Or(this,E.animation,_),_.previousNode=E,x.currentStaggerTime=K.currentTime-sn+(K.startTime-x.currentTimeline.startTime)}}const Si={};class qa{constructor(E,_,x,K,ne,ye,Se,Je){this._driver=E,this.element=_,this.subInstructions=x,this._enterClassName=K,this._leaveClassName=ne,this.errors=ye,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Si,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new ri(this._driver,_,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,_){if(!E)return;const x=E;let K=this.options;null!=x.duration&&(K.duration=xe(x.duration)),null!=x.delay&&(K.delay=xe(x.delay));const ne=x.params;if(ne){let ye=K.params;ye||(ye=this.options.params={}),Object.keys(ne).forEach(Se=>{(!_||!ye.hasOwnProperty(Se))&&(ye[Se]=In(ne[Se],ye,this.errors))})}}_copyOptions(){const E={};if(this.options){const _=this.options.params;if(_){const x=E.params={};Object.keys(_).forEach(K=>{x[K]=_[K]})}}return E}createSubContext(E=null,_,x){const K=_||this.element,ne=new qa(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,x||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(E),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(E){return this.previousNode=Si,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,_,x){const K={duration:null!=_?_:E.duration,delay:this.currentTimeline.currentTime+(null!=x?x:0)+E.delay,easing:""},ne=new Bs(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,K,E.stretchStartingKeyframe);return this.timelines.push(ne),K}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,_,x,K,ne,ye){let Se=[];if(K&&Se.push(this.element),E.length>0){E=(E=E.replace(no,"."+this._enterClassName)).replace(ro,"."+this._leaveClassName);let _t=this._driver.query(this.element,E,1!=x);0!==x&&(_t=x<0?_t.slice(_t.length+x,_t.length):_t.slice(0,x)),Se.push(..._t)}return!ne&&0==Se.length&&ye.push(function $r(I){return new S.vHH(3014,!1)}()),Se}}class ri{constructor(E,_,x,K){this._driver=E,this.element=_,this.startTime=x,this._elementTimelineStylesLookup=K,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+E),_&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,_){return this.applyStylesToKeyframe(),new ri(this._driver,E,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,_){this._localTimelineStyles.set(E,_),this._globalTimelineStyles.set(E,_),this._styleSummary.set(E,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[_,x]of this._globalTimelineStyles)this._backFill.set(_,x||V.l3),this._currentKeyframe.set(_,V.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,_,x,K){var ne;_&&this._previousKeyframe.set("easing",_);const ye=K&&K.params||{},Se=function ll(I,E){const _=new Map;let x;return I.forEach(K=>{if("*"===K){x=x||E.keys();for(let ne of x)_.set(ne,V.l3)}else Ar(K,_)}),_}(E,this._globalTimelineStyles);for(let[Je,_t]of Se){const Ut=In(_t,ye,x);this._pendingStyles.set(Je,Ut),this._localTimelineStyles.has(Je)||this._backFill.set(Je,null!==(ne=this._globalTimelineStyles.get(Je))&&void 0!==ne?ne:V.l3),this._updateStyle(Je,Ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,_)=>{this._currentKeyframe.set(_,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,E)}))}snapshotCurrentStyles(){for(let[E,_]of this._localTimelineStyles)this._pendingStyles.set(E,_),this._updateStyle(E,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let _ in this._currentKeyframe)E.push(_);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((_,x)=>{const K=this._styleSummary.get(x);(!K||_.time>K.time)&&this._updateStyle(x,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,_=new Set,x=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((Se,Je)=>{const _t=Ar(Se,new Map,this._backFill);_t.forEach((Ut,sn)=>{Ut===V.k1?E.add(sn):Ut===V.l3&&_.add(sn)}),x||_t.set("offset",Je/this.duration),K.push(_t)});const ne=E.size?bn(E.values()):[],ye=_.size?bn(_.values()):[];if(x){const Se=K[0],Je=new Map(Se);Se.set("offset",0),Je.set("offset",1),K=[Se,Je]}return Ys(this.element,K,ne,ye,this.duration,this.startTime,this.easing,!1)}}class Bs extends ri{constructor(E,_,x,K,ne,ye,Se=!1){super(E,_,ye.delay),this.keyframes=x,this.preStyleProps=K,this.postStyleProps=ne,this._stretchStartingKeyframe=Se,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:_,duration:x,easing:K}=this.timings;if(this._stretchStartingKeyframe&&_){const ne=[],ye=x+_,Se=_/ye,Je=Ar(E[0]);Je.set("offset",0),ne.push(Je);const _t=Ar(E[0]);_t.set("offset",Ra(Se)),ne.push(_t);const Ut=E.length-1;for(let sn=1;sn<=Ut;sn++){let kn=Ar(E[sn]);const On=kn.get("offset");kn.set("offset",Ra((_+On*x)/ye)),ne.push(kn)}x=ye,_=0,K="",E=ne}return Ys(this.element,E,this.preStyleProps,this.postStyleProps,x,_,K,!0)}}function Ra(I,E=3){const _=Math.pow(10,E-1);return Math.round(I*_)/_}class fo{}const So=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xa extends fo{normalizePropertyName(E,_){return wn(E)}normalizeStyleValue(E,_,x,K){let ne="";const ye=x.toString().trim();if(So.has(_)&&0!==x&&"0"!==x)if("number"==typeof x)ne="px";else{const Se=x.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&K.push(function Vn(I,E){return new S.vHH(3005,!1)}())}return ye+ne}}function js(I,E,_,x,K,ne,ye,Se,Je,_t,Ut,sn,kn){return{type:0,element:I,triggerName:E,isRemovalTransition:K,fromState:_,fromStyles:ne,toState:x,toStyles:ye,timelines:Se,queriedElements:Je,preStyleProps:_t,postStyleProps:Ut,totalTime:sn,errors:kn}}const oi={};class Ci{constructor(E,_,x){this._triggerName=E,this.ast=_,this._stateStyles=x}match(E,_,x,K){return function jo(I,E,_,x,K){return I.some(ne=>ne(E,_,x,K))}(this.ast.matchers,E,_,x,K)}buildStyles(E,_,x){let K=this._stateStyles.get("*");return void 0!==E&&(K=this._stateStyles.get(null==E?void 0:E.toString())||K),K?K.buildStyles(_,x):new Map}build(E,_,x,K,ne,ye,Se,Je,_t,Ut){var sn;const kn=[],On=this.ast.options&&this.ast.options.params||oi,Wn=this.buildStyles(x,Se&&Se.params||oi,kn),Hr=Je&&Je.params||oi,yi=this.buildStyles(K,Hr,kn),cs=new Set,vi=new Map,As=new Map,ei="void"===K,fr={params:ur(Hr,On),delay:null===(sn=this.ast.options)||void 0===sn?void 0:sn.delay},Ui=Ut?[]:Vo(E,_,this.ast.animation,ne,ye,Wn,yi,fr,_t,kn);let ys=0;if(Ui.forEach(ha=>{ys=Math.max(ha.duration+ha.delay,ys)}),kn.length)return js(_,this._triggerName,x,K,ei,Wn,yi,[],[],vi,As,ys,kn);Ui.forEach(ha=>{const is=ha.element,hi=pn(vi,is,new Set);ha.preStyleProps.forEach(Ll=>hi.add(Ll));const Zo=pn(As,is,new Set);ha.postStyleProps.forEach(Ll=>Zo.add(Ll)),is!==_&&cs.add(is)});const qo=bn(cs.values());return js(_,this._triggerName,x,K,ei,Wn,yi,Ui,qo,vi,As,ys)}}function ur(I,E){const _=gn(E);for(const x in I)I.hasOwnProperty(x)&&null!=I[x]&&(_[x]=I[x]);return _}class Na{constructor(E,_,x){this.styles=E,this.defaultParams=_,this.normalizer=x}buildStyles(E,_){const x=new Map,K=gn(this.defaultParams);return Object.keys(E).forEach(ne=>{const ye=E[ne];null!==ye&&(K[ne]=ye)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((ye,Se)=>{ye&&(ye=In(ye,K,_));const Je=this.normalizer.normalizePropertyName(Se,_);ye=this.normalizer.normalizeStyleValue(Se,Je,ye,_),x.set(Je,ye)})}),x}}class La{constructor(E,_,x){this.name=E,this.ast=_,this._normalizer=x,this.transitionFactories=[],this.states=new Map,_.states.forEach(K=>{this.states.set(K.name,new Na(K.style,K.options&&K.options.params||{},x))}),Ho(this.states,"true","1"),Ho(this.states,"false","0"),_.transitions.forEach(K=>{this.transitionFactories.push(new Ci(E,K,this.states))}),this.fallbackTransition=function Hs(I,E,_){return new Ci(I,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,Se)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,_,x,K){return this.transitionFactories.find(ye=>ye.match(E,_,x,K))||null}matchStyles(E,_,x){return this.fallbackTransition.buildStyles(E,_,x)}}function Ho(I,E,_){I.has(E)?I.has(_)||I.set(_,I.get(E)):I.has(_)&&I.set(E,I.get(_))}const Qs=new er;class Dn{constructor(E,_,x){this.bodyNode=E,this._driver=_,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,_){const x=[],ne=Xi(this._driver,_,x,[]);if(x.length)throw function zt(I){return new S.vHH(3503,!1)}();this._animations.set(E,ne)}_buildPlayer(E,_,x){const K=E.element,ne=Vt(0,this._normalizer,0,E.keyframes,_,x);return this._driver.animate(K,ne,E.duration,E.delay,E.easing,[],!0)}create(E,_,x={}){const K=[],ne=this._animations.get(E);let ye;const Se=new Map;if(ne?(ye=Vo(this._driver,_,ne,me,ke,new Map,new Map,x,Qs,K),ye.forEach(Ut=>{const sn=pn(Se,Ut.element,new Map);Ut.postStyleProps.forEach(kn=>sn.set(kn,null))})):(K.push(function mi(){return new S.vHH(3300,!1)}()),ye=[]),K.length)throw function Di(I){return new S.vHH(3504,!1)}();Se.forEach((Ut,sn)=>{Ut.forEach((kn,On)=>{Ut.set(On,this._driver.computeStyle(sn,On,V.l3))})});const _t=Kn(ye.map(Ut=>{const sn=Se.get(Ut.element);return this._buildPlayer(Ut,new Map,sn)}));return this._playersById.set(E,_t),_t.onDestroy(()=>this.destroy(E)),this.players.push(_t),_t}destroy(E){const _=this._getPlayer(E);_.destroy(),this._playersById.delete(E);const x=this.players.indexOf(_);x>=0&&this.players.splice(x,1)}_getPlayer(E){const _=this._playersById.get(E);if(!_)throw function yr(I){return new S.vHH(3301,!1)}();return _}listen(E,_,x,K){const ne=Kr(_,"","","");return Bn(this._getPlayer(E),x,ne,K),()=>{}}command(E,_,x,K){if("register"==x)return void this.register(E,K[0]);if("create"==x)return void this.create(E,_,K[0]||{});const ne=this._getPlayer(E);switch(x){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(E)}}}const Cs="ng-animate-queued",sa="ng-animate-disabled",ii=[],ma={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ot={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yn="__ng_removed";class Fa{constructor(E,_=""){this.namespaceId=_;const x=E&&E.hasOwnProperty("value");if(this.value=function dt(I){return null!=I?I:null}(x?E.value:E),x){const ne=gn(E);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(E){const _=E.params;if(_){const x=this.options.params;Object.keys(_).forEach(K=>{null==x[K]&&(x[K]=_[K])})}}}const $o="void",Ii=new Fa($o);class G{constructor(E,_,x){this.id=E,this.hostElement=_,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Ai(_,this._hostClassName)}listen(E,_,x,K){if(!this._triggers.has(_))throw function Zi(I,E){return new S.vHH(3302,!1)}();if(null==x||0==x.length)throw function ai(I){return new S.vHH(3303,!1)}();if(!function bi(I){return"start"==I||"done"==I}(x))throw function wr(I,E){return new S.vHH(3400,!1)}();const ne=pn(this._elementListeners,E,[]),ye={name:_,phase:x,callback:K};ne.push(ye);const Se=pn(this._engine.statesByElement,E,new Map);return Se.has(_)||(Ai(E,lt),Ai(E,lt+"-"+_),Se.set(_,Ii)),()=>{this._engine.afterFlush(()=>{const Je=ne.indexOf(ye);Je>=0&&ne.splice(Je,1),this._triggers.has(_)||Se.delete(_)})}}register(E,_){return!this._triggers.has(E)&&(this._triggers.set(E,_),!0)}_getTrigger(E){const _=this._triggers.get(E);if(!_)throw function $e(I){return new S.vHH(3401,!1)}();return _}trigger(E,_,x,K=!0){const ne=this._getTrigger(_),ye=new L(this.id,_,E);let Se=this._engine.statesByElement.get(E);Se||(Ai(E,lt),Ai(E,lt+"-"+_),this._engine.statesByElement.set(E,Se=new Map));let Je=Se.get(_);const _t=new Fa(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Je&&_t.absorbOptions(Je.options),Se.set(_,_t),Je||(Je=Ii),_t.value!==$o&&Je.value===_t.value){if(!function oa(I,E){const _=Object.keys(I),x=Object.keys(E);if(_.length!=x.length)return!1;for(let K=0;K<_.length;K++){const ne=_[K];if(!E.hasOwnProperty(ne)||I[ne]!==E[ne])return!1}return!0}(Je.params,_t.params)){const Wn=[],Hr=ne.matchStyles(Je.value,Je.params,Wn),yi=ne.matchStyles(_t.value,_t.params,Wn);Wn.length?this._engine.reportError(Wn):this._engine.afterFlush(()=>{Ji(E,Hr),Mr(E,yi)})}return}const kn=pn(this._engine.playersByElement,E,[]);kn.forEach(Wn=>{Wn.namespaceId==this.id&&Wn.triggerName==_&&Wn.queued&&Wn.destroy()});let On=ne.matchTransition(Je.value,_t.value,E,_t.params),on=!1;if(!On){if(!K)return;On=ne.fallbackTransition,on=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:_,transition:On,fromState:Je,toState:_t,player:ye,isFallbackTransition:on}),on||(Ai(E,Cs),ye.onStart(()=>{go(E,Cs)})),ye.onDone(()=>{let Wn=this.players.indexOf(ye);Wn>=0&&this.players.splice(Wn,1);const Hr=this._engine.playersByElement.get(E);if(Hr){let yi=Hr.indexOf(ye);yi>=0&&Hr.splice(yi,1)}}),this.players.push(ye),kn.push(ye),ye}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(_=>_.delete(E)),this._elementListeners.forEach((_,x)=>{this._elementListeners.set(x,_.filter(K=>K.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const _=this._engine.playersByElement.get(E);_&&(_.forEach(x=>x.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,_){const x=this._engine.driver.query(E,an,!0);x.forEach(K=>{if(K[Yn])return;const ne=this._engine.fetchNamespacesByElement(K);ne.size?ne.forEach(ye=>ye.triggerLeaveAnimation(K,_,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(E,_,x,K){const ne=this._engine.statesByElement.get(E),ye=new Map;if(ne){const Se=[];if(ne.forEach((Je,_t)=>{if(ye.set(_t,Je.value),this._triggers.has(_t)){const Ut=this.trigger(E,_t,$o,K);Ut&&Se.push(Ut)}}),Se.length)return this._engine.markElementAsRemoved(this.id,E,!0,_,ye),x&&Kn(Se).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const _=this._elementListeners.get(E),x=this._engine.statesByElement.get(E);if(_&&x){const K=new Set;_.forEach(ne=>{const ye=ne.name;if(K.has(ye))return;K.add(ye);const Je=this._triggers.get(ye).fallbackTransition,_t=x.get(ye)||Ii,Ut=new Fa($o),sn=new L(this.id,ye,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:ye,transition:Je,fromState:_t,toState:Ut,player:sn,isFallbackTransition:!0})})}}removeNode(E,_){const x=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,_),this.triggerLeaveAnimation(E,_,!0))return;let K=!1;if(x.totalAnimations){const ne=x.players.length?x.playersByQueriedElement.get(E):[];if(ne&&ne.length)K=!0;else{let ye=E;for(;ye=ye.parentNode;)if(x.statesByElement.get(ye)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(E),K)x.markElementAsRemoved(this.id,E,!1,_);else{const ne=E[Yn];(!ne||ne===ma)&&(x.afterFlush(()=>this.clearElementCache(E)),x.destroyInnerAnimations(E),x._onRemovalComplete(E,_))}}insertNode(E,_){Ai(E,this._hostClassName)}drainQueuedTransitions(E){const _=[];return this._queue.forEach(x=>{const K=x.player;if(K.destroyed)return;const ne=x.element,ye=this._elementListeners.get(ne);ye&&ye.forEach(Se=>{if(Se.name==x.triggerName){const Je=Kr(ne,x.triggerName,x.fromState.value,x.toState.value);Je._data=E,Bn(x.player,Se.phase,Je,Se.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):_.push(x)}),this._queue=[],_.sort((x,K)=>{const ne=x.transition.ast.depCount,ye=K.transition.ast.depCount;return 0==ne||0==ye?ne-ye:this._engine.driver.containsElement(x.element,K.element)?1:-1})}destroy(E){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}elementContainsData(E){let _=!1;return this._elementListeners.has(E)&&(_=!0),_=!!this._queue.find(x=>x.element===E)||_,_}}class j{constructor(E,_,x){this.bodyNode=E,this.driver=_,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,ne)=>{}}_onRemovalComplete(E,_){this.onRemovalComplete(E,_)}get queuedPlayers(){const E=[];return this._namespaceList.forEach(_=>{_.players.forEach(x=>{x.queued&&E.push(x)})}),E}createNamespace(E,_){const x=new G(E,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(x,_):(this.newHostElements.set(_,x),this.collectEnterElement(_)),this._namespaceLookup[E]=x}_balanceNamespaceList(E,_){const x=this._namespaceList,K=this.namespacesByHostElement;if(x.length-1>=0){let ye=!1,Se=this.driver.getParentElement(_);for(;Se;){const Je=K.get(Se);if(Je){const _t=x.indexOf(Je);x.splice(_t+1,0,E),ye=!0;break}Se=this.driver.getParentElement(Se)}ye||x.unshift(E)}else x.push(E);return K.set(_,E),E}register(E,_){let x=this._namespaceLookup[E];return x||(x=this.createNamespace(E,_)),x}registerTrigger(E,_,x){let K=this._namespaceLookup[E];K&&K.register(_,x)&&this.totalAnimations++}destroy(E,_){if(!E)return;const x=this._fetchNamespace(E);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[E];const K=this._namespaceList.indexOf(x);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>x.destroy(_))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const _=new Set,x=this.statesByElement.get(E);if(x)for(let K of x.values())if(K.namespaceId){const ne=this._fetchNamespace(K.namespaceId);ne&&_.add(ne)}return _}trigger(E,_,x,K){if(en(_)){const ne=this._fetchNamespace(E);if(ne)return ne.trigger(_,x,K),!0}return!1}insertNode(E,_,x,K){if(!en(_))return;const ne=_[Yn];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(_);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(E){const ye=this._fetchNamespace(E);ye&&ye.insertNode(_,x)}K&&this.collectEnterElement(_)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,_){_?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Ai(E,sa)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),go(E,sa))}removeNode(E,_,x,K){if(en(_)){const ne=E?this._fetchNamespace(E):null;if(ne?ne.removeNode(_,K):this.markElementAsRemoved(E,_,!1,K),x){const ye=this.namespacesByHostElement.get(_);ye&&ye.id!==E&&ye.removeNode(_,K)}}else this._onRemovalComplete(_,K)}markElementAsRemoved(E,_,x,K,ne){this.collectedLeaveElements.push(_),_[Yn]={namespaceId:E,setForRemoval:K,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(E,_,x,K,ne){return en(_)?this._fetchNamespace(E).listen(_,x,K,ne):()=>{}}_buildInstruction(E,_,x,K,ne){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,x,K,E.fromState.options,E.toState.options,_,ne)}destroyInnerAnimations(E){let _=this.driver.query(E,an,!0);_.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(E,Pe,!0),_.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(E){const _=this.playersByElement.get(E);_&&_.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(E){const _=this.playersByQueriedElement.get(E);_&&_.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return Kn(this.players).onDone(()=>E());E()})}processLeaveNode(E){var _;const x=E[Yn];if(x&&x.setForRemoval){if(E[Yn]=ma,x.namespaceId){this.destroyInnerAnimations(E);const K=this._fetchNamespace(x.namespaceId);K&&K.clearElementCache(E)}this._onRemovalComplete(E,x.setForRemoval)}!(null===(_=E.classList)||void 0===_)&&_.contains(sa)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(K=>{this.markElementAsDisabled(K,!1)})}flush(E=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,K)=>this._balanceNamespaceList(x,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Ai(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{_=this._flushAnimations(x,E)}finally{for(let K=0;K<x.length;K++)x[K]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],_.length?Kn(_).onDone(()=>{x.forEach(K=>K())}):x.forEach(K=>K())}}reportError(E){throw function Oe(I){return new S.vHH(3402,!1)}()}_flushAnimations(E,_){const x=new er,K=[],ne=new Map,ye=[],Se=new Map,Je=new Map,_t=new Map,Ut=new Set;this.disabledNodes.forEach(Cn=>{Ut.add(Cn);const xn=this.driver.query(Cn,".ng-animate-queued",!0);for(let rr=0;rr<xn.length;rr++)Ut.add(xn[rr])});const sn=this.bodyNode,kn=Array.from(this.statesByElement.keys()),On=Qr(kn,this.collectedEnterElements),on=new Map;let Wn=0;On.forEach((Cn,xn)=>{const rr=me+Wn++;on.set(xn,rr),Cn.forEach(Ur=>Ai(Ur,rr))});const Hr=[],yi=new Set,cs=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const xn=this.collectedLeaveElements[Cn],rr=xn[Yn];rr&&rr.setForRemoval&&(Hr.push(xn),yi.add(xn),rr.hasAnimation?this.driver.query(xn,".ng-star-inserted",!0).forEach(Ur=>yi.add(Ur)):cs.add(xn))}const vi=new Map,As=Qr(kn,Array.from(yi));As.forEach((Cn,xn)=>{const rr=ke+Wn++;vi.set(xn,rr),Cn.forEach(Ur=>Ai(Ur,rr))}),E.push(()=>{On.forEach((Cn,xn)=>{const rr=on.get(xn);Cn.forEach(Ur=>go(Ur,rr))}),As.forEach((Cn,xn)=>{const rr=vi.get(xn);Cn.forEach(Ur=>go(Ur,rr))}),Hr.forEach(Cn=>{this.processLeaveNode(Cn)})});const ei=[],fr=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(_).forEach(rr=>{const Ur=rr.player,mn=rr.element;if(ei.push(Ur),this.collectedEnterElements.length){const Js=mn[Yn];if(Js&&Js.setForMove){if(Js.previousTriggersValues&&Js.previousTriggersValues.has(rr.triggerName)){const ol=Js.previousTriggersValues.get(rr.triggerName),b=this.statesByElement.get(rr.element);if(b&&b.has(rr.triggerName)){const p=b.get(rr.triggerName);p.value=ol,b.set(rr.triggerName,p)}}return void Ur.destroy()}}const Jo=!sn||!this.driver.containsElement(sn,mn),Ns=vi.get(mn),fa=on.get(mn),fi=this._buildInstruction(rr,x,fa,Ns,Jo);if(fi.errors&&fi.errors.length)return void fr.push(fi);if(Jo)return Ur.onStart(()=>Ji(mn,fi.fromStyles)),Ur.onDestroy(()=>Mr(mn,fi.toStyles)),void K.push(Ur);if(rr.isFallbackTransition)return Ur.onStart(()=>Ji(mn,fi.fromStyles)),Ur.onDestroy(()=>Mr(mn,fi.toStyles)),void K.push(Ur);const Fl=[];fi.timelines.forEach(Js=>{Js.stretchStartingKeyframe=!0,this.disabledNodes.has(Js.element)||Fl.push(Js)}),fi.timelines=Fl,x.append(mn,fi.timelines),ye.push({instruction:fi,player:Ur,element:mn}),fi.queriedElements.forEach(Js=>pn(Se,Js,[]).push(Ur)),fi.preStyleProps.forEach((Js,ol)=>{if(Js.size){let b=Je.get(ol);b||Je.set(ol,b=new Set),Js.forEach((p,y)=>b.add(y))}}),fi.postStyleProps.forEach((Js,ol)=>{let b=_t.get(ol);b||_t.set(ol,b=new Set),Js.forEach((p,y)=>b.add(y))})});if(fr.length){const Cn=[];fr.forEach(xn=>{Cn.push(function nt(I,E){return new S.vHH(3505,!1)}())}),ei.forEach(xn=>xn.destroy()),this.reportError(Cn)}const Ui=new Map,ys=new Map;ye.forEach(Cn=>{const xn=Cn.element;x.has(xn)&&(ys.set(xn,xn),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,Ui))}),K.forEach(Cn=>{const xn=Cn.element;this._getPreviousPlayers(xn,!1,Cn.namespaceId,Cn.triggerName,null).forEach(Ur=>{pn(Ui,xn,[]).push(Ur),Ur.destroy()})});const qo=Hr.filter(Cn=>Fs(Cn,Je,_t)),ha=new Map;io(ha,this.driver,cs,_t,V.l3).forEach(Cn=>{Fs(Cn,Je,_t)&&qo.push(Cn)});const hi=new Map;On.forEach((Cn,xn)=>{io(hi,this.driver,new Set(Cn),Je,V.k1)}),qo.forEach(Cn=>{var xn,rr;const Ur=ha.get(Cn),mn=hi.get(Cn);ha.set(Cn,new Map([...Array.from(null!==(xn=null==Ur?void 0:Ur.entries())&&void 0!==xn?xn:[]),...Array.from(null!==(rr=null==mn?void 0:mn.entries())&&void 0!==rr?rr:[])]))});const Zo=[],Ll=[],Co={};ye.forEach(Cn=>{const{element:xn,player:rr,instruction:Ur}=Cn;if(x.has(xn)){if(Ut.has(xn))return rr.onDestroy(()=>Mr(xn,Ur.toStyles)),rr.disabled=!0,rr.overrideTotalTime(Ur.totalTime),void K.push(rr);let mn=Co;if(ys.size>1){let Ns=xn;const fa=[];for(;Ns=Ns.parentNode;){const fi=ys.get(Ns);if(fi){mn=fi;break}fa.push(Ns)}fa.forEach(fi=>ys.set(fi,mn))}const Jo=this._buildAnimation(rr.namespaceId,Ur,Ui,ne,hi,ha);if(rr.setRealPlayer(Jo),mn===Co)Zo.push(rr);else{const Ns=this.playersByElement.get(mn);Ns&&Ns.length&&(rr.parentPlayer=Kn(Ns)),K.push(rr)}}else Ji(xn,Ur.fromStyles),rr.onDestroy(()=>Mr(xn,Ur.toStyles)),Ll.push(rr),Ut.has(xn)&&K.push(rr)}),Ll.forEach(Cn=>{const xn=ne.get(Cn.element);if(xn&&xn.length){const rr=Kn(xn);Cn.setRealPlayer(rr)}}),K.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<Hr.length;Cn++){const xn=Hr[Cn],rr=xn[Yn];if(go(xn,ke),rr&&rr.hasAnimation)continue;let Ur=[];if(Se.size){let Jo=Se.get(xn);Jo&&Jo.length&&Ur.push(...Jo);let Ns=this.driver.query(xn,Pe,!0);for(let fa=0;fa<Ns.length;fa++){let fi=Se.get(Ns[fa]);fi&&fi.length&&Ur.push(...fi)}}const mn=Ur.filter(Jo=>!Jo.destroyed);mn.length?bo(this,xn,mn):this.processLeaveNode(xn)}return Hr.length=0,Zo.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const xn=this.players.indexOf(Cn);this.players.splice(xn,1)}),Cn.play()}),Zo}elementContainsData(E,_){let x=!1;const K=_[Yn];return K&&K.setForRemoval&&(x=!0),this.playersByElement.has(_)&&(x=!0),this.playersByQueriedElement.has(_)&&(x=!0),this.statesByElement.has(_)&&(x=!0),this._fetchNamespace(E).elementContainsData(_)||x}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,_,x,K,ne){let ye=[];if(_){const Se=this.playersByQueriedElement.get(E);Se&&(ye=Se)}else{const Se=this.playersByElement.get(E);if(Se){const Je=!ne||ne==$o;Se.forEach(_t=>{_t.queued||!Je&&_t.triggerName!=K||ye.push(_t)})}}return(x||K)&&(ye=ye.filter(Se=>!(x&&x!=Se.namespaceId||K&&K!=Se.triggerName))),ye}_beforeAnimationBuild(E,_,x){const ne=_.element,ye=_.isRemovalTransition?void 0:E,Se=_.isRemovalTransition?void 0:_.triggerName;for(const Je of _.timelines){const _t=Je.element,Ut=_t!==ne,sn=pn(x,_t,[]);this._getPreviousPlayers(_t,Ut,ye,Se,_.toState).forEach(On=>{const on=On.getRealPlayer();on.beforeDestroy&&on.beforeDestroy(),On.destroy(),sn.push(On)})}Ji(ne,_.fromStyles)}_buildAnimation(E,_,x,K,ne,ye){const Se=_.triggerName,Je=_.element,_t=[],Ut=new Set,sn=new Set,kn=_.timelines.map(on=>{const Wn=on.element;Ut.add(Wn);const Hr=Wn[Yn];if(Hr&&Hr.removedBeforeQueried)return new V.ZN(on.duration,on.delay);const yi=Wn!==Je,cs=function Ao(I){const E=[];return Il(I,E),E}((x.get(Wn)||ii).map(Ui=>Ui.getRealPlayer())).filter(Ui=>!!Ui.element&&Ui.element===Wn),vi=ne.get(Wn),As=ye.get(Wn),ei=Vt(0,this._normalizer,0,on.keyframes,vi,As),fr=this._buildPlayer(on,ei,cs);if(on.subTimeline&&K&&sn.add(Wn),yi){const Ui=new L(E,Se,Wn);Ui.setRealPlayer(fr),_t.push(Ui)}return fr});_t.forEach(on=>{pn(this.playersByQueriedElement,on.element,[]).push(on),on.onDone(()=>function ie(I,E,_){let x=I.get(E);if(x){if(x.length){const K=x.indexOf(_);x.splice(K,1)}0==x.length&&I.delete(E)}return x}(this.playersByQueriedElement,on.element,on))}),Ut.forEach(on=>Ai(on,cn));const On=Kn(kn);return On.onDestroy(()=>{Ut.forEach(on=>go(on,cn)),Mr(Je,_.toStyles)}),sn.forEach(on=>{pn(K,on,[]).push(On)}),On}_buildPlayer(E,_,x){return _.length>0?this.driver.animate(E.element,_,E.duration,E.delay,E.easing,x):new V.ZN(E.duration,E.delay)}}class L{constructor(E,_,x){this.namespaceId=E,this.triggerName=_,this.element=x,this._player=new V.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((_,x)=>{_.forEach(K=>Bn(E,x,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const _=this._player;_.triggerCallback&&E.onStart(()=>_.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,_){pn(this._queuedCallbacks,E,[]).push(_)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const _=this._player;_.triggerCallback&&_.triggerCallback(E)}}function en(I){return I&&1===I.nodeType}function es(I,E){const _=I.style.display;return I.style.display=null!=E?E:"none",_}function io(I,E,_,x,K){const ne=[];_.forEach(Je=>ne.push(es(Je)));const ye=[];x.forEach((Je,_t)=>{const Ut=new Map;Je.forEach(sn=>{const kn=E.computeStyle(_t,sn,K);Ut.set(sn,kn),(!kn||0==kn.length)&&(_t[Yn]=Ot,ye.push(_t))}),I.set(_t,Ut)});let Se=0;return _.forEach(Je=>es(Je,ne[Se++])),ye}function Qr(I,E){const _=new Map;if(I.forEach(Se=>_.set(Se,[])),0==E.length)return _;const K=new Set(E),ne=new Map;function ye(Se){if(!Se)return 1;let Je=ne.get(Se);if(Je)return Je;const _t=Se.parentNode;return Je=_.has(_t)?_t:K.has(_t)?1:ye(_t),ne.set(Se,Je),Je}return E.forEach(Se=>{const Je=ye(Se);1!==Je&&_.get(Je).push(Se)}),_}function Ai(I,E){var _;null===(_=I.classList)||void 0===_||_.add(E)}function go(I,E){var _;null===(_=I.classList)||void 0===_||_.remove(E)}function bo(I,E,_){Kn(_).onDone(()=>I.processLeaveNode(E))}function Il(I,E){for(let _=0;_<I.length;_++){const x=I[_];x instanceof V.ZE?Il(x.players,E):E.push(x)}}function Fs(I,E,_){const x=_.get(I);if(!x)return!1;let K=E.get(I);return K?x.forEach(ne=>K.add(ne)):E.set(I,x),_.delete(I),!0}class mo{constructor(E,_,x){this.bodyNode=E,this._driver=_,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(K,ne)=>{},this._transitionEngine=new j(E,_,x),this._timelineEngine=new Dn(E,_,x),this._transitionEngine.onRemovalComplete=(K,ne)=>this.onRemovalComplete(K,ne)}registerTrigger(E,_,x,K,ne){const ye=E+"-"+K;let Se=this._triggerCache[ye];if(!Se){const Je=[],Ut=Xi(this._driver,ne,Je,[]);if(Je.length)throw function _r(I,E){return new S.vHH(3404,!1)}();Se=function Pr(I,E,_){return new La(I,E,_)}(K,Ut,this._normalizer),this._triggerCache[ye]=Se}this._transitionEngine.registerTrigger(_,K,Se)}register(E,_){this._transitionEngine.register(E,_)}destroy(E,_){this._transitionEngine.destroy(E,_)}onInsert(E,_,x,K){this._transitionEngine.insertNode(E,_,x,K)}onRemove(E,_,x,K){this._transitionEngine.removeNode(E,_,K||!1,x)}disableAnimations(E,_){this._transitionEngine.markElementAsDisabled(E,_)}process(E,_,x,K){if("@"==x.charAt(0)){const[ne,ye]=yn(x);this._timelineEngine.command(ne,_,ye,K)}else this._transitionEngine.trigger(E,_,x,K)}listen(E,_,x,K,ne){if("@"==x.charAt(0)){const[ye,Se]=yn(x);return this._timelineEngine.listen(ye,_,Se,ne)}return this._transitionEngine.listen(E,_,x,K,ne)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ua=(()=>{class I{constructor(_,x,K){this._element=_,this._startStyles=x,this._endStyles=K,this._state=0;let ne=I.initialStylesByElement.get(_);ne||I.initialStylesByElement.set(_,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&Mr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mr(this._element,this._initialStyles),this._endStyles&&(Mr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(Ji(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ji(this._element,this._endStyles),this._endStyles=null),Mr(this._element,this._initialStyles),this._state=3)}}return I.initialStylesByElement=new WeakMap,I})();function Go(I){let E=null;return I.forEach((_,x)=>{(function Wo(I){return"display"===I||"position"===I})(x)&&(E=E||new Map,E.set(x,_))}),E}class _o{constructor(E,_,x,K){this.element=E,this.keyframes=_,this.options=x,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const _=[];return E.forEach(x=>{_.push(Object.fromEntries(x))}),_}_triggerWebAnimation(E,_,x){return E.animate(this._convertKeyframesToObject(_),x)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,K)=>{"offset"!==K&&E.set(K,this._finished?x:Tr(this.element,K))}),this.currentSnapshot=E}triggerCallback(E){const _="start"===E?this._onStartFns:this._onDoneFns;_.forEach(x=>x()),_.length=0}}class Mo{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,_){return!1}containsElement(E,_){return Ke(E,_)}getParentElement(E){return Fn(E)}query(E,_,x){return Ht(E,_,x)}computeStyle(E,_,x){return window.getComputedStyle(E)[_]}animate(E,_,x,K,ne,ye=[]){const Je={duration:x,delay:K,fill:0==K?"both":"forwards"};ne&&(Je.easing=ne);const _t=new Map,Ut=ye.filter(On=>On instanceof _o);(function Xs(I,E){return 0===I||0===E})(x,K)&&Ut.forEach(On=>{On.currentSnapshot.forEach((on,Wn)=>_t.set(Wn,on))});let sn=function sr(I){return I.length?I[0]instanceof Map?I:I.map(E=>Jn(E)):[]}(_).map(On=>Ar(On));sn=function _i(I,E,_){if(_.size&&E.length){let x=E[0],K=[];if(_.forEach((ne,ye)=>{x.has(ye)||K.push(ye),x.set(ye,ne)}),K.length)for(let ne=1;ne<E.length;ne++){let ye=E[ne];K.forEach(Se=>ye.set(Se,Tr(I,Se)))}}return E}(E,sn,_t);const kn=function ka(I,E){let _=null,x=null;return Array.isArray(E)&&E.length?(_=Go(E[0]),E.length>1&&(x=Go(E[E.length-1]))):E instanceof Map&&(_=Go(E)),_||x?new Ua(I,_,x):null}(E,sn);return new _o(E,sn,Je,kn)}}let Ps=(()=>{class I extends V._j{constructor(_,x){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(x.body,{id:"0",encapsulation:S.ifc.None,styles:[],data:{animation:[]}})}build(_){const x=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(_)?(0,V.vP)(_):_;return Oo(this._renderer,null,x,"register",[K]),new _a(x,this._renderer)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(S.FYo),S.LFG(Z.K0))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();class _a extends V.LC{constructor(E,_){super(),this._id=E,this._renderer=_}create(E,_){return new ul(this._id,E,_||{},this._renderer)}}class ul{constructor(E,_,x,K){this.id=E,this.element=_,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(E,_){return this._renderer.listen(this.element,`@@${this.id}:${E}`,_)}_command(E,..._){return Oo(this._renderer,this.element,this.id,E,_)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){var E,_;return null!==(_=null===(E=this._renderer.engine.players[+this.id])||void 0===E?void 0:E.getPosition())&&void 0!==_?_:0}}function Oo(I,E,_,x,K){return I.setProperty(E,`@@${_}:${x}`,K)}const k="@",q="@.disabled";let B=(()=>{class I{constructor(_,x,K){this.delegate=_,this.engine=x,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(ne,ye)=>{const Se=null==ye?void 0:ye.parentNode(ne);Se&&ye.removeChild(Se,ne)}}createRenderer(_,x){const ne=this.delegate.createRenderer(_,x);if(!(_&&x&&x.data&&x.data.animation)){let Ut=this._rendererCache.get(ne);return Ut||(Ut=new se("",ne,this.engine),this._rendererCache.set(ne,Ut)),Ut}const ye=x.id,Se=x.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,_);const Je=Ut=>{Array.isArray(Ut)?Ut.forEach(Je):this.engine.registerTrigger(ye,Se,_,Ut.name,Ut)};return x.data.animation.forEach(Je),new De(this,Se,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,x,K){_>=0&&_<this._microtaskId?this._zone.run(()=>x(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[ye,Se]=ne;ye(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(S.FYo),S.LFG(mo),S.LFG(S.R0b))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();class se{constructor(E,_,x){this.namespaceId=E,this.delegate=_,this.engine=x,this.destroyNode=this.delegate.destroyNode?K=>_.destroyNode(K):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(E,_){return this.delegate.createElement(E,_)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,_){this.delegate.appendChild(E,_),this.engine.onInsert(this.namespaceId,_,E,!1)}insertBefore(E,_,x,K=!0){this.delegate.insertBefore(E,_,x),this.engine.onInsert(this.namespaceId,_,E,K)}removeChild(E,_,x){this.engine.onRemove(this.namespaceId,_,this.delegate,x)}selectRootElement(E,_){return this.delegate.selectRootElement(E,_)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,_,x,K){this.delegate.setAttribute(E,_,x,K)}removeAttribute(E,_,x){this.delegate.removeAttribute(E,_,x)}addClass(E,_){this.delegate.addClass(E,_)}removeClass(E,_){this.delegate.removeClass(E,_)}setStyle(E,_,x,K){this.delegate.setStyle(E,_,x,K)}removeStyle(E,_,x){this.delegate.removeStyle(E,_,x)}setProperty(E,_,x){_.charAt(0)==k&&_==q?this.disableAnimations(E,!!x):this.delegate.setProperty(E,_,x)}setValue(E,_){this.delegate.setValue(E,_)}listen(E,_,x){return this.delegate.listen(E,_,x)}disableAnimations(E,_){this.engine.disableAnimations(E,_)}}class De extends se{constructor(E,_,x,K){super(_,x,K),this.factory=E,this.namespaceId=_}setProperty(E,_,x){_.charAt(0)==k?"."==_.charAt(1)&&_==q?this.disableAnimations(E,x=void 0===x||!!x):this.engine.process(this.namespaceId,E,_.slice(1),x):this.delegate.setProperty(E,_,x)}listen(E,_,x){if(_.charAt(0)==k){const K=function rt(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(E);let ne=_.slice(1),ye="";return ne.charAt(0)!=k&&([ne,ye]=function ft(I){const E=I.indexOf(".");return[I.substring(0,E),I.slice(E+1)]}(ne)),this.engine.listen(this.namespaceId,K,ne,ye,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,x,Se)})}return this.delegate.listen(E,_,x)}}const hr=[{provide:V._j,useClass:Ps},{provide:fo,useFactory:function jr(){return new xa}},{provide:mo,useClass:(()=>{class I extends mo{constructor(_,x,K,ne){super(_.body,x,K)}ngOnDestroy(){this.flush()}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Z.K0),S.LFG(ir),S.LFG(fo),S.LFG(S.z2F))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})()},{provide:S.FYo,useFactory:function Mn(I,E,_){return new B(I,E,_)},deps:[f.se,mo,S.R0b]}],ar=[{provide:ir,useFactory:()=>new Mo},{provide:S.QbO,useValue:"BrowserAnimations"},...hr],Li=[{provide:ir,useClass:Nn},{provide:S.QbO,useValue:"NoopAnimations"},...hr];let br=(()=>{class I{static withConfig(_){return{ngModule:I,providers:_.disableAnimations?Li:ar}}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:ar,imports:[f.b2]}),I})();var Mi=C(8505),ls=C(1135);let ps=(()=>{class I{constructor(_){this.router=_,this.loadCount=0,this.loadState=new ls.X(!1),this.router.events.subscribe(x=>{this.navigationInterceptor(x)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(_){_ instanceof te.OD&&this.showLoader(),_ instanceof te.m2&&this.hideLoader(),_ instanceof te.gk&&this.hideLoader(),_ instanceof te.Q3&&this.hideLoader()}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(te.F0))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Lt={provide:Ge.TP,useClass:(()=>{class I{constructor(_){this.loaderService=_}intercept(_,x){return this.loaderService.showLoader(),x.handle(_).pipe((0,Mi.b)(K=>{K instanceof Ge.Zn&&this.loaderService.hideLoader()},K=>{this.loaderService.hideLoader()}))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(ps))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),multi:!0};var ns=C(9770),yo=C(2843),Za=C(4968),nn=C(9646),Tn=C(7272),zu=C(7579),Zt=C(9751),ut=C(5032);const wt=new Zt.y(ut.Z);var Ja=C(6451),Oi=C(4004),Ko=C(9300),qs=C(3900),Zl=C(8646),ks=C(5698),aa=C(4086);const Po="Service workers are disabled or not supported by this browser";class wl{constructor(E){if(this.serviceWorker=E,E){const x=(0,Za.R)(E,"controllerchange").pipe((0,Oi.U)(()=>E.controller)),K=(0,ns.P)(()=>(0,nn.of)(E.controller)),ne=(0,Tn.z)(K,x);this.worker=ne.pipe((0,Ko.h)(Ut=>!!Ut)),this.registration=this.worker.pipe((0,qs.w)(()=>E.getRegistration()));const _t=(0,Za.R)(E,"message").pipe((0,Oi.U)(Ut=>Ut.data)).pipe((0,Ko.h)(Ut=>Ut&&Ut.type)).pipe((0,Zl.n)());_t.connect(),this.events=_t}else this.worker=this.events=this.registration=function Bl(I){return(0,ns.P)(()=>(0,yo._)(new Error(I)))}(Po)}postMessage(E,_){return this.worker.pipe((0,ks.q)(1),(0,Mi.b)(x=>{x.postMessage(Object.assign({action:E},_))})).toPromise().then(()=>{})}postMessageWithOperation(E,_,x){const K=this.waitForOperationCompleted(x),ne=this.postMessage(E,_);return Promise.all([ne,K]).then(([,ye])=>ye)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(E){let _;return _="string"==typeof E?x=>x.type===E:x=>E.includes(x.type),this.events.pipe((0,Ko.h)(_))}nextEventOfType(E){return this.eventsOfType(E).pipe((0,ks.q)(1))}waitForOperationCompleted(E){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ko.h)(_=>_.nonce===E),(0,ks.q)(1),(0,Oi.U)(_=>{if(void 0!==_.result)return _.result;throw new Error(_.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Tl=(()=>{class I{constructor(_){if(this.sw=_,this.subscriptionChanges=new zu.x,!_.isEnabled)return this.messages=wt,this.notificationClicks=wt,void(this.subscription=wt);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Oi.U)(K=>K.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Oi.U)(K=>K.data)),this.pushManager=this.sw.registration.pipe((0,Oi.U)(K=>K.pushManager));const x=this.pushManager.pipe((0,qs.w)(K=>K.getSubscription()));this.subscription=(0,Ja.T)(x,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(_){if(!this.sw.isEnabled)return Promise.reject(new Error(Po));const x={userVisibleOnly:!0};let K=this.decodeBase64(_.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),ne=new Uint8Array(new ArrayBuffer(K.length));for(let ye=0;ye<K.length;ye++)ne[ye]=K.charCodeAt(ye);return x.applicationServerKey=ne,this.pushManager.pipe((0,qs.w)(ye=>ye.subscribe(x)),(0,ks.q)(1)).toPromise().then(ye=>(this.subscriptionChanges.next(ye),ye))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,ks.q)(1),(0,qs.w)(x=>{if(null===x)throw new Error("Not subscribed to push notifications.");return x.unsubscribe().then(K=>{if(!K)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Po))}decodeBase64(_){return atob(_)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(wl))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),nr=(()=>{class I{constructor(_){if(this.sw=_,!_.isEnabled)return this.versionUpdates=wt,this.available=wt,this.activated=wt,void(this.unrecoverable=wt);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ko.h)(x=>"VERSION_READY"===x.type),(0,Oi.U)(x=>({type:"UPDATE_AVAILABLE",current:x.currentVersion,available:x.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Po));const _=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:_},_)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Po));const _=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:_},_)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(wl))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();class Rs{}const _u=new S.OlP("NGSW_REGISTER_SCRIPT");function ui(I,E,_,x){return()=>{if(!(0,Z.NF)(x)||!("serviceWorker"in navigator)||!1===_.enabled)return;let K;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof _.registrationStrategy)K=_.registrationStrategy();else{const[ye,...Se]=(_.registrationStrategy||"registerWhenStable:30000").split(":");switch(ye){case"registerImmediately":K=(0,nn.of)(null);break;case"registerWithDelay":K=Sn(+Se[0]||0);break;case"registerWhenStable":K=Se[0]?(0,Ja.T)(la(I),Sn(+Se[0])):la(I);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${_.registrationStrategy}`)}}I.get(S.R0b).runOutsideAngular(()=>K.pipe((0,ks.q)(1)).subscribe(()=>navigator.serviceWorker.register(E,{scope:_.scope}).catch(ye=>console.error("Service worker registration failed with:",ye))))}}function Sn(I){return(0,nn.of)(null).pipe((0,aa.g)(I))}function la(I){return I.get(S.z2F).isStable.pipe((0,Ko.h)(_=>_))}function vr(I,E){return new wl((0,Z.NF)(E)&&!1!==I.enabled?navigator.serviceWorker:void 0)}let us=(()=>{class I{static register(_,x={}){return{ngModule:I,providers:[{provide:_u,useValue:_},{provide:Rs,useValue:x},{provide:wl,useFactory:vr,deps:[Rs,S.Lbi]},{provide:S.ip1,useFactory:ui,deps:[S.zs3,_u,Rs,S.Lbi],multi:!0}]}}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Tl,nr]}),I})();var gr=C(5159);let Jt=(()=>{class I{constructor(_){this.injector=_}handleError(_){const x=this.injector.get(Tt.g);this.injector.get(te.F0),_ instanceof Ge.UA?(navigator.onLine||x.notify("No Internet Connection"),x.notify(`${_.status} - ${_.message}`)):x.notify(_),console.error(_)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(S.zs3))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();function zo(I,E){if(1&I&&(S.TgZ(0,"div")(1,"h1"),S._uU(2),S.qZA(),S.TgZ(3,"a",2)(4,"h5"),S._uU(5,"Go to Home"),S.qZA()()()),2&I){const _=S.oxw();S.xp6(2),S.hij("ERROR ",null==_.routeParams?null:_.routeParams.error,""),S.xp6(1),S.Q6J("routerLink","/")}}const vo=[{path:"error",component:(()=>{class I{constructor(_){this.activatedRoute=_}ngOnInit(){this.routeParams=this.activatedRoute.snapshot.queryParams}}return I.\u0275fac=function(_){return new(_||I)(S.Y36(te.gz))},I.\u0275cmp=S.Xpm({type:I,selectors:[["app-errors"]],decls:2,vars:1,consts:[[1,"error-container"],[4,"ngIf"],[3,"routerLink"]],template:function(_,x){1&_&&(S.TgZ(0,"div",0),S.YNc(1,zo,6,2,"div",1),S.qZA()),2&_&&(S.xp6(1),S.Q6J("ngIf",null==x.routeParams?null:x.routeParams.error))},dependencies:[Z.O5,te.yS],styles:[".error-container[_ngcontent-%COMP%]{width:220px;margin:50% auto 0;transform:translateY(-50%);text-align:center}"]}),I})()}];let yu=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({imports:[te.Bz.forChild(vo),te.Bz]}),I})();var Va=C(5625),Yo=C(262);const dl={provide:Ge.TP,useClass:class cl{intercept(E,_){return _.handle(E).pipe((0,Va.X)(0),(0,Yo.K)(this.handleError))}handleError(E){let _="";return _=E.error instanceof ErrorEvent?`Error: ${E.error.message}`:`Error Code: ${E.status}\\nMessage: ${E.message}`,(0,yo._)(E)}},multi:!0};let hl=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[{provide:S.qLn,useClass:Jt},dl],imports:[Z.ez,yu]}),I})();var zi=C(4466),Jl=C(7637),Ba=C(9155);let so=(()=>{class I{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Da=(()=>{class I extends Jl.u{constructor(_,x){super(),this.http=_,this.config=x}getCurrentWeather(_,x){const ne=this.getParams(_,x);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:ne}).pipe((0,Oi.U)(ye=>({temperature:ye.main.temp,temperatureMin:ye.main.temp_min,temperatureMax:ye.main.temp_max,city:ye.name,conditions:(0,Ba.wJ)(ye.weather[0]),date:new Date(ye.dt),zipCode:_,countryCode:x})))}getWeatherForecast(_,x){const ne=this.getParams(_,x);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:ne}).pipe((0,Oi.U)(ye=>ye.list.map(Se=>({temperature:Se.temp.day,temperatureMin:Se.temp.min,temperatureMax:Se.temp.max,city:ye.city.name,conditions:(0,Ba.wJ)(Se.weather[0]),date:new Date(1e3*Se.dt),zipCode:_,countryCode:x}))))}getParams(_,x="us"){return new Ge.LE({fromObject:{zip:`${_},${x}`,appid:this.config.apiKey}})}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Ge.eN),S.LFG(so))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),ct=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Lt],imports:[Z.ez]}),I})();const Ss={provide:te.wN,useClass:class Eo{constructor(){this.handlers=new Map}shouldDetach(E){return!0}store(E,_){!E.routeConfig||this.handlers.set(E.routeConfig,_)}shouldAttach(E){return!!E.routeConfig&&!!this.handlers.get(E.routeConfig)}retrieve(E){return E.routeConfig&&this.handlers.has(E.routeConfig)?this.handlers.get(E.routeConfig):null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}clearSavedHandle(E){const _=this.handlers.get(E);_&&_.componentRef.destroy(),this.handlers.delete(E)}deactivateAllHandles(){for(const E in this.handlers)this.clearSavedHandle(this.handlers[E]);this.handlers=new Map}getUrl(E){if(E.routeConfig){const _=E.routeConfig.path;return console.log("returning url",_),_}}}};var Ca=C(9884);const Xa={todos:[]},Ro=(I=Xa,E)=>{switch(E.type){case"ADD":return{todos:[...I.todos,{index:I.todos.length,text:E.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:I.todos.map((_,x)=>x===E.index?Object.assign(Object.assign({},_),{done:!_.done}):_)};case"REMOVE":return{todos:I.todos.splice(I.todos.findIndex(_=>_.index===E.index),1)};case"SAVED":return{todos:I.todos.map((_,x)=>x===E.index?Object.assign(Object.assign({},_),{saved:!0}):_)};default:return I}};var el=C(457),Do=C(5577),vu=C(9468);const tl={provide:S.ip1,multi:!0,deps:[(()=>{class I{constructor(){var _;this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const x=null!==(_=this.getLastActiveFromLocalStorage())&&void 0!==_?_:new Date;this.lastActive=new ls.X(x),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,el.D)(this.events).pipe((0,Do.z)(_=>(0,Za.R)(document,_)),(0,vu.p)(this.recordTimeoutMs)).subscribe(_=>this.recordLastActiveDate()),(0,Za.R)(window,"storage").pipe((0,Ko.h)(_=>_.storageArea===localStorage&&_.key===this.localStorageKey&&!!_.newValue),(0,Oi.U)(_=>new Date(_.newValue))).subscribe(_=>this.lastActive.next(_))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var _=new Date;localStorage.setItem(this.localStorageKey,_.toString()),this.lastActive.next(_)}getLastActiveFromLocalStorage(){const _=localStorage.getItem(this.localStorageKey);return _?new Date(_):null}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()],useFactory:I=>()=>I.setUp()};let Yu=1;class Zs{constructor(){this.userName="Philip Marlowe"}}let Pu=(()=>{class I{constructor(_){this.id=Yu++,this._userName="Sherlock Holmes",_&&(this._userName=_.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Zs,8))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),nl=(()=>{class I{constructor(_){if(_)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(_){return{ngModule:I,providers:[{provide:Zs,useValue:_}]}}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(I,12))},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Pu],imports:[Z.ez]}),I})();var Ia=C(2713),Fi=C(5094),ja=C(7369),Qo=C(3550);let rl=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Qo.T],imports:[Fi.Aw.forFeature(ja.UN,ja.Jl)]}),I})();var wi=C(2852),Xl=C(8502),Yi=C(515),yc=C(576);class O{constructor(E,_,x){this.kind=E,this.value=_,this.error=x,this.hasValue="N"===E}observe(E){return T(this,E)}do(E,_,x){const{kind:K,value:ne,error:ye}=this;return"N"===K?null==E?void 0:E(ne):"E"===K?null==_?void 0:_(ye):null==x?void 0:x()}accept(E,_,x){var K;return(0,yc.m)(null===(K=E)||void 0===K?void 0:K.next)?this.observe(E):this.do(E,_,x)}toObservable(){const{kind:E,value:_,error:x}=this,K="N"===E?(0,nn.of)(_):"E"===E?(0,yo._)(()=>x):"C"===E?Yi.E:0;if(!K)throw new TypeError(`Unexpected notification kind ${E}`);return K}static createNext(E){return new O("N",E)}static createError(E){return new O("E",void 0,E)}static createComplete(){return O.completeNotification}}function T(I,E){var _,x,K;const{kind:ne,value:ye,error:Se}=I;if("string"!=typeof ne)throw new TypeError('Invalid notification, missing "kind"');"N"===ne?null===(_=E.next)||void 0===_||_.call(E,ye):"E"===ne?null===(x=E.error)||void 0===x||x.call(E,Se):null===(K=E.complete)||void 0===K||K.call(E)}O.completeNotification=new O("C");var F=C(4482),$=C(5403),ve=C(8421);function Ce(I,E,_,x){return(0,F.e)((K,ne)=>{let ye;E&&"function"!=typeof E?({duration:_,element:ye,connector:x}=E):ye=E;const Se=new Map,Je=kn=>{Se.forEach(kn),kn(ne)},_t=kn=>Je(On=>On.error(kn)),Ut=new Xe(ne,kn=>{try{const On=I(kn);let on=Se.get(On);if(!on){Se.set(On,on=x?x():new zu.x);const Wn=function sn(kn,On){const on=new Zt.y(Wn=>{Ut.activeGroups++;const Hr=On.subscribe(Wn);return()=>{Hr.unsubscribe(),0==--Ut.activeGroups&&Ut.teardownAttempted&&Ut.unsubscribe()}});return on.key=kn,on}(On,on);if(ne.next(Wn),_){const Hr=new $.Q(on,()=>{on.complete(),null==Hr||Hr.unsubscribe()},void 0,void 0,()=>Se.delete(On));Ut.add((0,ve.Xf)(_(Wn)).subscribe(Hr))}}on.next(ye?ye(kn):kn)}catch(On){_t(On)}},()=>Je(kn=>kn.complete()),_t,()=>Se.clear());K.subscribe(Ut)})}class Xe extends $.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var jt=C(6129);const Yt={dispatch:!0,useEffectsErrorHandler:!0},vn="__@ngrx/effects_create__";function Zn(I,E){const _=I(),x=Object.assign(Object.assign({},Yt),E);return Object.defineProperty(_,vn,{value:x}),_}function Jr(I){return Object.getOwnPropertyNames(I).filter(x=>!(!I[x]||!I[x].hasOwnProperty(vn))&&I[x][vn].hasOwnProperty("dispatch")).map(x=>Object.assign({propertyName:x},I[x][vn]))}function bs(I){return Object.getPrototypeOf(I)}const gs="__@ngrx/effects__";function xs(I){return(0,Fi.qC)(il,bs)(I)}function il(I){return function wa(I){return I.constructor.hasOwnProperty(gs)}(I)?I.constructor[gs]:[]}function fl(I,E,_){const x=bs(I).constructor.name,K=function jl(I){return[xs,Jr].reduce((_,x)=>_.concat(x(I)),[])}(I).map(({propertyName:ne,dispatch:ye,useEffectsErrorHandler:Se})=>{const Je="function"==typeof I[ne]?I[ne]():I[ne],_t=Se?_(Je,E):Je;return!1===ye?_t.pipe((0,Xl.l)()):_t.pipe(function re(){return(0,F.e)((I,E)=>{I.subscribe(new $.Q(E,_=>{E.next(O.createNext(_))},()=>{E.next(O.createComplete()),E.complete()},_=>{E.next(O.createError(_)),E.complete()}))})}()).pipe((0,Oi.U)(sn=>({effect:I[ne],notification:sn,propertyName:ne,sourceName:x,sourceInstance:I})))});return(0,Ja.T)(...K)}function Hl(I,E,_=10){return I.pipe((0,Yo.K)(x=>(E&&E.handleError(x),_<=1?I:Hl(I,E,_-1))))}let oo=(()=>{class I extends Zt.y{constructor(_){super(),_&&(this.source=_)}lift(_){const x=new I;return x.source=this,x.operator=_,x}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Fi.Y$))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function No(...I){return(0,Ko.h)(E=>I.some(_=>"string"==typeof _?_===E.type:_.type===E.type))}const Sl=new S.OlP("@ngrx/effects Internal Root Guard"),Eu=new S.OlP("@ngrx/effects User Provided Effects"),Cr=new S.OlP("@ngrx/effects Internal Root Effects"),Xr=new S.OlP("@ngrx/effects Root Effects"),Ta=new S.OlP("@ngrx/effects Internal Feature Effects"),Lo=new S.OlP("@ngrx/effects Feature Effects"),eu=new S.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Hl}),rs="@ngrx/effects/init";function $l(I){return xu(I,"ngrxOnInitEffects")}function xu(I,E){return I&&E in I&&"function"==typeof I[E]}(0,Fi.PH)(rs);let Sa=(()=>{class I extends zu.x{constructor(_,x){super(),this.errorHandler=_,this.effectsErrorHandler=x}addEffects(_){this.next(_)}toActions(){return this.pipe(Ce(bs),(0,Do.z)(_=>_.pipe(Ce(Du))),(0,Do.z)(_=>{const x=_.pipe((0,jt.z)(ne=>function Pi(I,E){return _=>{const x=fl(_,I,E);return function ru(I){return xu(I,"ngrxOnRunEffects")}(_)?_.ngrxOnRunEffects(x):x}}(this.errorHandler,this.effectsErrorHandler)(ne)),(0,Oi.U)(ne=>(function gl(I,E){if("N"===I.notification.kind){const _=I.notification.value;!function ua(I){return"function"!=typeof I&&I&&I.type&&"string"==typeof I.type}(_)&&E.handleError(new Error(`Effect ${function bl({propertyName:I,sourceInstance:E,sourceName:_}){const x="function"==typeof E[I];return`"${_}.${String(I)}${x?"()":""}"`}(I)} dispatched an invalid action: ${function Qu(I){try{return JSON.stringify(I)}catch(E){return I}}(_)}`))}}(ne,this.errorHandler),ne.notification)),(0,Ko.h)(ne=>"N"===ne.kind&&null!=ne.value),function hn(){return(0,F.e)((I,E)=>{I.subscribe(new $.Q(E,_=>T(_,E)))})}()),K=_.pipe((0,ks.q)(1),(0,Ko.h)($l),(0,Oi.U)(ne=>ne.ngrxOnInitEffects()));return(0,Ja.T)(x,K)}))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(S.qLn),S.LFG(eu))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Du(I){return function tu(I){return xu(I,"ngrxOnIdentifyEffects")}(I)?I.ngrxOnIdentifyEffects():""}let ca=(()=>{class I{constructor(_,x){this.effectSources=_,this.store=x,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Sa),S.LFG(Fi.yh))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Gs=(()=>{class I{constructor(_,x,K,ne,ye,Se,Je){this.sources=_,x.start(),ne.forEach(_t=>_.addEffects(_t)),K.dispatch({type:rs})}addEffects(_){this.sources.addEffects(_)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Sa),S.LFG(ca),S.LFG(Fi.yh),S.LFG(Xr),S.LFG(Fi.cr,8),S.LFG(Fi.CK,8),S.LFG(Sl,8))},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})(),di=(()=>{class I{constructor(_,x,K,ne){x.forEach(ye=>ye.forEach(Se=>_.addEffects(Se)))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Gs),S.LFG(Lo),S.LFG(Fi.cr,8),S.LFG(Fi.CK,8))},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})(),ao=(()=>{class I{static forFeature(_=[]){return{ngModule:di,providers:[_,{provide:Ta,multi:!0,useValue:_},{provide:Eu,multi:!0,useValue:[]},{provide:Lo,multi:!0,useFactory:ms,deps:[S.zs3,Ta,Eu]}]}}static forRoot(_=[]){return{ngModule:Gs,providers:[_,{provide:Cr,useValue:[_]},{provide:Sl,useFactory:Ws,deps:[[ca,new S.FiY,new S.tp0],[Cr,new S.PiD]]},{provide:Eu,multi:!0,useValue:[]},{provide:Xr,useFactory:ms,deps:[S.zs3,Cr,Eu]}]}}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({}),I})();function ms(I,E,_){const x=[];for(const K of E)x.push(...K);for(const K of _)x.push(...K);return function Us(I,E){return E.map(_=>I.get(_))}(I,x)}function Ws(I,E){if((1!==E.length||0!==E[0].length)&&I)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Al=C(4579);let Ml=(()=>{class I{loadCounter(){return(0,nn.of)(1999)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Fo=(()=>{class I{constructor(_,x){this.actions$=_,this.counterService=x,this.loadData$=Zn(()=>this.actions$.pipe(No(Al.zK),(0,Do.z)(()=>this.counterService.loadCounter().pipe((0,Oi.U)(K=>Al.Zf({newValue:K}))))))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(oo),S.LFG(Ml))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var $a=C(5054);let iu=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[$a.e],imports:[Fi.Aw.forFeature(wi.UN,wi.jX),ao.forFeature([Fo])]}),I})();var Gl=C(3880),Wl=C(2542);let _s=(()=>{class I{constructor(_,x){this.actions$=_,this.http=x,this.loadData$=Zn(()=>this.actions$.pipe(No(Wl.mu),(0,qs.w)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,Oi.U)(K=>Wl.F3({payload:K})),(0,Yo.K)(K=>(0,nn.of)(Wl.WU({payload:K})))))))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(oo),S.LFG(Ge.eN))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var Iu=C(9610);let su=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Iu.L],imports:[Fi.Aw.forFeature(Gl.UN,Gl.B5),ao.forFeature([_s])]}),I})();var Ol=C(173),ou=C(817);let ml=(()=>{class I{constructor(_){this.actions$=_,this.getUser$=Zn(()=>this.actions$.pipe(No(ou.PR),(0,Do.z)(()=>(0,nn.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,Oi.U)(x=>ou.Ni({user:x})),(0,Yo.K)(x=>(console.error("An error occurred while getting user information.",x.message),(0,nn.of)(ou.N2({error:"Unable to retrieve user information."}))))))))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(oo))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var Kl=C(2842);let Ga=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[Kl.p],imports:[Fi.Aw.forFeature(Ol.U,Ol.M),ao.forFeature([ml])]}),I})();var Qi=C(5650),wu=C(4964),_l=C(2766),Tu=C(7403);let Pl=(()=>{class I{set(_,x){try{localStorage.setItem(_,JSON.stringify(x))}catch(K){console.error("Error saving to localStorage",K)}}get(_){try{return JSON.parse(localStorage.getItem(_))}catch(x){return console.error("Error getting data from localStorage",x),null}}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),yl=(()=>{class I{constructor(_,x,K,ne){this.actions$=_,this.registerService=x,this.persistenceService=K,this.router=ne,this.register$=Zn(()=>this.actions$.pipe(No(_l._0),(0,qs.w)(({request:ye})=>this.registerService.register(ye).pipe((0,Oi.U)(Se=>(this.persistenceService.set("accessToken1",Se.token),(0,_l.Pw)({currentUser:Se}))),(0,Yo.K)(Se=>(console.log(Se),(0,nn.of)((0,_l.zH)({errors:Se.error.errors})))))))),this.redirectAfterSubmit$=Zn(()=>this.actions$.pipe(No(_l.Pw),(0,Mi.b)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(oo),S.LFG(Tu.a),S.LFG(Pl),S.LFG(te.F0))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),vl=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({providers:[wu.q],imports:[Fi.Aw.forFeature(Qi.UN,Qi.xw),ao.forFeature([yl])]}),I})();var au=C(8716),ba=C(6222),Rl=C(8372);let Zu=(()=>{class I{constructor(_){this.http=_,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(_){return this.http.post(this.url,_)}getArticleById(_){return this.http.get(this.url+"/"+_)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Ge.eN))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Lu=(()=>{class I{constructor(_,x){this.actions$=_,this.fruitsService=x,this.loadAllArticles$=Zn(()=>this.actions$.pipe(No(ba.GO),(0,qs.w)(()=>this.fruitsService.getAllArticles().pipe((0,Oi.U)(K=>ba.m0({payload:K})))))),this.createArticle$=Zn(()=>this.actions$.pipe(No(ba.$f),(0,Oi.U)(K=>K.payload),(0,Do.z)(K=>this.fruitsService.createArticle(K).pipe((0,Oi.U)(ne=>ba.$s({payload:ne})),(0,Yo.K)(ne=>(0,nn.of)(ba.$0({payload:ne}))))))),this.searchArticleById$=Zn(()=>this.actions$.pipe(No(ba.HD),(0,Rl.b)(500),(0,Oi.U)(K=>K.payload),(0,qs.w)(K=>this.fruitsService.getArticleById(K).pipe((0,Oi.U)(ne=>ba.n3({payload:ne})))))),this.loadProducts$=Zn(()=>this.actions$.pipe(No(ba.hS),(0,Do.z)(()=>this.fruitsService.getAll().pipe((0,Oi.U)(K=>ba.Xt({payload:K}))))))}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(oo),S.LFG(Zu))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();var Fu=C(9565);let Su=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275mod=S.oAB({type:I}),I.\u0275inj=S.cJS({imports:[Fi.Aw.forRoot(au.ll),ao.forRoot([Lu]),rl,iu,su,Ga,vl,Fu.FT.instrument({maxAge:25,logOnly:!gr.N.production})]}),I})();var vc=C(3922);let Aa=(()=>{class I{info(_){console.info(`Local Logger Service:: ${_}`)}log(_){console.log(`Local Logger Service:: ${_}`)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const sl="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let xl=(()=>{class I{constructor(){}intercept(_,x){const{url:K,method:ne,headers:ye}=_;return K.endsWith("login")&&"POST"===ne?function Je(){return(0,nn.of)(new Ge.Zn({status:200,body:{id:"1",username:"profanis",token:sl}}))}():K.endsWith("products")&&"GET"===ne?function _t(){if(!function Se(){return ye.get("authorization")===sl}())return(0,yo._)({status:401,error:{message:"Unauthorized"}});const Ut=[...new Array(20).keys()].map(sn=>({id:sn,name:`Product ${sn}`,weight:30,symbol:"ngf"}));return(0,nn.of)(new Ge.Zn({status:200,body:Ut}))}():x.handle(_)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})();const da={provide:Ge.TP,useClass:xl,multi:!0};var Ma=C(4657);const bu={provide:Ge.TP,useClass:(()=>{class I{constructor(_){this.authService=_}intercept(_,x){return _=_.clone({headers:_.headers.set("authorization",this.authService.token)}),x.handle(_)}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(Ma.e))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac}),I})(),multi:!0};let El=(()=>{class I{constructor(_){this.injector=_}}return I.\u0275fac=function(_){return new(_||I)(S.LFG(S.zs3))},I.\u0275mod=S.oAB({type:I,bootstrap:[Rt]}),I.\u0275inj=S.cJS({providers:[Lt,Z.uU,{provide:Jl.u,useClass:Da},Ge.JF,Ss,{provide:Ca.y,useValue:new Ca.y(Ro)},tl,{provide:vc.b,useClass:Aa},bu,da],imports:[f.b2,br,Ge.JF,Ge.Ed,zi.m,xt,hl,us.register("ngsw-worker.js",{enabled:gr.N.production,registrationStrategy:"registerWhenStable:30000"}),Su,ct,nl.forRoot({userName:"Trilok Singh"}),Ia.G2.initializeApp(gr.N.firebaseConfig),Ia.G2.initialize({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0}),br]}),I})();gr.N.production&&(0,S.G48)(),f.q6().bootstrapModule(El).catch(I=>console.error(I))},1135:(Ie,ae,C)=>{C.d(ae,{X:()=>S});var f=C(7579);class S extends f.x{constructor(V){super(),this._value=V}get value(){return this.getValue()}_subscribe(V){const le=super._subscribe(V);return!le.closed&&V.next(this._value),le}getValue(){const{hasError:V,thrownError:le,_value:de}=this;if(V)throw le;return this._throwIfClosed(),de}next(V){super.next(this._value=V)}}},9751:(Ie,ae,C)=>{C.d(ae,{y:()=>J});var f=C(930),S=C(727),te=C(8822),V=C(9635),le=C(2416),de=C(576),oe=C(2806);let J=(()=>{class ce{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const we=new ce;return we.source=this,we.operator=ze,we}subscribe(ze,we,Ye){const We=function Z(ce){return ce&&ce instanceof f.Lv||function Q(ce){return ce&&(0,de.m)(ce.next)&&(0,de.m)(ce.error)&&(0,de.m)(ce.complete)}(ce)&&(0,S.Nn)(ce)}(ze)?ze:new f.Hp(ze,we,Ye);return(0,oe.x)(()=>{const{operator:je,source:gt}=this;We.add(je?je.call(We,gt):gt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(ze){try{return this._subscribe(ze)}catch(we){ze.error(we)}}forEach(ze,we){return new(we=he(we))((Ye,We)=>{const je=new f.Hp({next:gt=>{try{ze(gt)}catch(xt){We(xt),je.unsubscribe()}},error:We,complete:Ye});this.subscribe(je)})}_subscribe(ze){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(ze)}[te.L](){return this}pipe(...ze){return(0,V.U)(ze)(this)}toPromise(ze){return new(ze=he(ze))((we,Ye)=>{let We;this.subscribe(je=>We=je,je=>Ye(je),()=>we(We))})}}return ce.create=Le=>new ce(Le),ce})();function he(ce){var Le;return null!==(Le=null!=ce?ce:le.v.Promise)&&void 0!==Le?Le:Promise}},4707:(Ie,ae,C)=>{C.d(ae,{t:()=>te});var f=C(7579),S=C(6063);class te extends f.x{constructor(le=1/0,de=1/0,oe=S.l){super(),this._bufferSize=le,this._windowTime=de,this._timestampProvider=oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=de===1/0,this._bufferSize=Math.max(1,le),this._windowTime=Math.max(1,de)}next(le){const{isStopped:de,_buffer:oe,_infiniteTimeWindow:J,_timestampProvider:he,_windowTime:Q}=this;de||(oe.push(le),!J&&oe.push(he.now()+Q)),this._trimBuffer(),super.next(le)}_subscribe(le){this._throwIfClosed(),this._trimBuffer();const de=this._innerSubscribe(le),{_infiniteTimeWindow:oe,_buffer:J}=this,he=J.slice();for(let Q=0;Q<he.length&&!le.closed;Q+=oe?1:2)le.next(he[Q]);return this._checkFinalizedStatuses(le),de}_trimBuffer(){const{_bufferSize:le,_timestampProvider:de,_buffer:oe,_infiniteTimeWindow:J}=this,he=(J?1:2)*le;if(le<1/0&&he<oe.length&&oe.splice(0,oe.length-he),!J){const Q=de.now();let Z=0;for(let ce=1;ce<oe.length&&oe[ce]<=Q;ce+=2)Z=ce;Z&&oe.splice(0,Z+1)}}}},7579:(Ie,ae,C)=>{C.d(ae,{x:()=>oe});var f=C(9751),S=C(727);const V=(0,C(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=C(8737),de=C(2806);let oe=(()=>{class he extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ce=new J(this,this);return ce.operator=Z,ce}_throwIfClosed(){if(this.closed)throw new V}next(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ce=this.observers.slice();for(const Le of ce)Le.next(Z)}})}error(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ce}=this;for(;ce.length;)ce.shift().error(Z)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ce,isStopped:Le,observers:ze}=this;return ce||Le?S.Lc:(ze.push(Z),new S.w0(()=>(0,le.P)(ze,Z)))}_checkFinalizedStatuses(Z){const{hasError:ce,thrownError:Le,isStopped:ze}=this;ce?Z.error(Le):ze&&Z.complete()}asObservable(){const Z=new f.y;return Z.source=this,Z}}return he.create=(Q,Z)=>new J(Q,Z),he})();class J extends oe{constructor(Q,Z){super(),this.destination=Q,this.source=Z}next(Q){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ce||ce.call(Z,Q)}error(Q){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ce||ce.call(Z,Q)}complete(){var Q,Z;null===(Z=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===Z||Z.call(Q)}_subscribe(Q){var Z,ce;return null!==(ce=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Q))&&void 0!==ce?ce:S.Lc}}},930:(Ie,ae,C)=>{C.d(ae,{Hp:()=>Le,Lv:()=>ce});var f=C(576),S=C(727),te=C(2416),V=C(7849),le=C(5032);const de=he("C",void 0,void 0);function he(je,gt,xt){return{kind:je,value:gt,error:xt}}var Q=C(3410),Z=C(2806);class ce extends S.w0{constructor(gt){super(),this.isStopped=!1,gt?(this.destination=gt,(0,S.Nn)(gt)&&gt.add(this)):this.destination=We}static create(gt,xt,Ge){return new Le(gt,xt,Ge)}next(gt){this.isStopped?Ye(function J(je){return he("N",je,void 0)}(gt),this):this._next(gt)}error(gt){this.isStopped?Ye(function oe(je){return he("E",void 0,je)}(gt),this):(this.isStopped=!0,this._error(gt))}complete(){this.isStopped?Ye(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(gt){this.destination.next(gt)}_error(gt){try{this.destination.error(gt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends ce{constructor(gt,xt,Ge){let Be;if(super(),(0,f.m)(gt))Be=gt;else if(gt){let Dt;({next:Be,error:xt,complete:Ge}=gt),this&&te.v.useDeprecatedNextContext?(Dt=Object.create(gt),Dt.unsubscribe=()=>this.unsubscribe()):Dt=gt,Be=null==Be?void 0:Be.bind(Dt),xt=null==xt?void 0:xt.bind(Dt),Ge=null==Ge?void 0:Ge.bind(Dt)}this.destination={next:Be?ze(Be):le.Z,error:ze(null!=xt?xt:we),complete:Ge?ze(Ge):le.Z}}}function ze(je,gt){return(...xt)=>{try{je(...xt)}catch(Ge){te.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ge):(0,V.h)(Ge)}}}function we(je){throw je}function Ye(je,gt){const{onStoppedNotification:xt}=te.v;xt&&Q.z.setTimeout(()=>xt(je,gt))}const We={closed:!0,next:le.Z,error:we,complete:le.Z}},727:(Ie,ae,C)=>{C.d(ae,{Lc:()=>de,w0:()=>le,Nn:()=>oe});var f=C(576);const te=(0,C(3888).d)(he=>function(Z){he(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ce,Le)=>`${Le+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var V=C(8737);class le{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ze of Z)ze.remove(this);else Z.remove(this);const{initialTeardown:ce}=this;if((0,f.m)(ce))try{ce()}catch(ze){Q=ze instanceof te?ze.errors:[ze]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const ze of Le)try{J(ze)}catch(we){Q=null!=Q?Q:[],we instanceof te?Q=[...Q,...we.errors]:Q.push(we)}}if(Q)throw new te(Q)}}add(Q){var Z;if(Q&&Q!==this)if(this.closed)J(Q);else{if(Q instanceof le){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._teardowns=null!==(Z=this._teardowns)&&void 0!==Z?Z:[]).push(Q)}}_hasParent(Q){const{_parentage:Z}=this;return Z===Q||Array.isArray(Z)&&Z.includes(Q)}_addParent(Q){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Q),Z):Z?[Z,Q]:Q}_removeParent(Q){const{_parentage:Z}=this;Z===Q?this._parentage=null:Array.isArray(Z)&&(0,V.P)(Z,Q)}remove(Q){const{_teardowns:Z}=this;Z&&(0,V.P)(Z,Q),Q instanceof le&&Q._removeParent(this)}}le.EMPTY=(()=>{const he=new le;return he.closed=!0,he})();const de=le.EMPTY;function oe(he){return he instanceof le||he&&"closed"in he&&(0,f.m)(he.remove)&&(0,f.m)(he.add)&&(0,f.m)(he.unsubscribe)}function J(he){(0,f.m)(he)?he():he.unsubscribe()}},2416:(Ie,ae,C)=>{C.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Ie,ae,C)=>{C.d(ae,{c:()=>de});var f=C(9751),S=C(727),te=C(8343),V=C(5403),le=C(4482);class de extends f.y{constructor(J,he){super(),this.source=J,this.subjectFactory=he,this._subject=null,this._refCount=0,this._connection=null,(0,le.A)(J)&&(this.lift=J.lift)}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:J}=this;this._subject=this._connection=null,null==J||J.unsubscribe()}connect(){let J=this._connection;if(!J){J=this._connection=new S.w0;const he=this.getSubject();J.add(this.source.subscribe(new V.Q(he,void 0,()=>{this._teardown(),he.complete()},Q=>{this._teardown(),he.error(Q)},()=>this._teardown()))),J.closed&&(this._connection=null,J=S.w0.EMPTY)}return J}refCount(){return(0,te.x)()(this)}}},9841:(Ie,ae,C)=>{C.d(ae,{a:()=>Q});var f=C(9751),S=C(4742),te=C(457),V=C(4671),le=C(3268),de=C(3269),oe=C(1810),J=C(5403),he=C(9672);function Q(...Le){const ze=(0,de.yG)(Le),we=(0,de.jO)(Le),{args:Ye,keys:We}=(0,S.D)(Le);if(0===Ye.length)return(0,te.D)([],ze);const je=new f.y(function Z(Le,ze,we=V.y){return Ye=>{ce(ze,()=>{const{length:We}=Le,je=new Array(We);let gt=We,xt=We;for(let Ge=0;Ge<We;Ge++)ce(ze,()=>{const Be=(0,te.D)(Le[Ge],ze);let Dt=!1;Be.subscribe(new J.Q(Ye,Tt=>{je[Ge]=Tt,Dt||(Dt=!0,xt--),xt||Ye.next(we(je.slice()))},()=>{--gt||Ye.complete()}))},Ye)},Ye)}}(Ye,ze,We?gt=>(0,oe.n)(We,gt):V.y));return we?je.pipe((0,le.Z)(we)):je}function ce(Le,ze,we){Le?(0,he.f)(we,Le,ze):ze()}},7272:(Ie,ae,C)=>{C.d(ae,{z:()=>le});var f=C(8189),te=C(3269),V=C(457);function le(...de){return function S(){return(0,f.J)(1)}()((0,V.D)(de,(0,te.yG)(de)))}},9770:(Ie,ae,C)=>{C.d(ae,{P:()=>te});var f=C(9751),S=C(8421);function te(V){return new f.y(le=>{(0,S.Xf)(V()).subscribe(le)})}},515:(Ie,ae,C)=>{C.d(ae,{E:()=>S,c:()=>te});var f=C(9751);const S=new f.y(le=>le.complete());function te(le){return le?function V(le){return new f.y(de=>le.schedule(()=>de.complete()))}(le):S}},4128:(Ie,ae,C)=>{C.d(ae,{D:()=>J});var f=C(9751),S=C(4742),te=C(8421),V=C(3269),le=C(5403),de=C(3268),oe=C(1810);function J(...he){const Q=(0,V.jO)(he),{args:Z,keys:ce}=(0,S.D)(he),Le=new f.y(ze=>{const{length:we}=Z;if(!we)return void ze.complete();const Ye=new Array(we);let We=we,je=we;for(let gt=0;gt<we;gt++){let xt=!1;(0,te.Xf)(Z[gt]).subscribe(new le.Q(ze,Ge=>{xt||(xt=!0,je--),Ye[gt]=Ge},()=>We--,void 0,()=>{(!We||!xt)&&(je||ze.next(ce?(0,oe.n)(ce,Ye):Ye),ze.complete())}))}});return Q?Le.pipe((0,de.Z)(Q)):Le}},457:(Ie,ae,C)=>{C.d(ae,{D:()=>Dt});var f=C(8421),S=C(5363),te=C(4482);function V(Tt,Wt=0){return(0,te.e)(($t,Rt)=>{Rt.add(Tt.schedule(()=>$t.subscribe(Rt),Wt))})}var oe=C(9751),he=C(2202),Q=C(576),Z=C(9672);function Le(Tt,Wt){if(!Tt)throw new Error("Iterable cannot be null");return new oe.y($t=>{(0,Z.f)($t,Wt,()=>{const Rt=Tt[Symbol.asyncIterator]();(0,Z.f)($t,Wt,()=>{Rt.next().then(tt=>{tt.done?$t.complete():$t.next(tt.value)})},0,!0)})})}var ze=C(3670),we=C(8239),Ye=C(1144),We=C(6495),je=C(2206),gt=C(4532),xt=C(3260);function Dt(Tt,Wt){return Wt?function Be(Tt,Wt){if(null!=Tt){if((0,ze.c)(Tt))return function le(Tt,Wt){return(0,f.Xf)(Tt).pipe(V(Wt),(0,S.Q)(Wt))}(Tt,Wt);if((0,Ye.z)(Tt))return function J(Tt,Wt){return new oe.y($t=>{let Rt=0;return Wt.schedule(function(){Rt===Tt.length?$t.complete():($t.next(Tt[Rt++]),$t.closed||this.schedule())})})}(Tt,Wt);if((0,we.t)(Tt))return function de(Tt,Wt){return(0,f.Xf)(Tt).pipe(V(Wt),(0,S.Q)(Wt))}(Tt,Wt);if((0,je.D)(Tt))return Le(Tt,Wt);if((0,We.T)(Tt))return function ce(Tt,Wt){return new oe.y($t=>{let Rt;return(0,Z.f)($t,Wt,()=>{Rt=Tt[he.h](),(0,Z.f)($t,Wt,()=>{let tt,Ze;try{({value:tt,done:Ze}=Rt.next())}catch(at){return void $t.error(at)}Ze?$t.complete():$t.next(tt)},0,!0)}),()=>(0,Q.m)(null==Rt?void 0:Rt.return)&&Rt.return()})}(Tt,Wt);if((0,xt.L)(Tt))return function Ge(Tt,Wt){return Le((0,xt.Q)(Tt),Wt)}(Tt,Wt)}throw(0,gt.z)(Tt)}(Tt,Wt):(0,f.Xf)(Tt)}},4968:(Ie,ae,C)=>{C.d(ae,{R:()=>Q});var f=C(8421),S=C(9751),te=C(5577),V=C(1144),le=C(576),de=C(3268);const oe=["addListener","removeListener"],J=["addEventListener","removeEventListener"],he=["on","off"];function Q(we,Ye,We,je){if((0,le.m)(We)&&(je=We,We=void 0),je)return Q(we,Ye,We).pipe((0,de.Z)(je));const[gt,xt]=function ze(we){return(0,le.m)(we.addEventListener)&&(0,le.m)(we.removeEventListener)}(we)?J.map(Ge=>Be=>we[Ge](Ye,Be,We)):function ce(we){return(0,le.m)(we.addListener)&&(0,le.m)(we.removeListener)}(we)?oe.map(Z(we,Ye)):function Le(we){return(0,le.m)(we.on)&&(0,le.m)(we.off)}(we)?he.map(Z(we,Ye)):[];if(!gt&&(0,V.z)(we))return(0,te.z)(Ge=>Q(Ge,Ye,We))((0,f.Xf)(we));if(!gt)throw new TypeError("Invalid event target");return new S.y(Ge=>{const Be=(...Dt)=>Ge.next(1<Dt.length?Dt:Dt[0]);return gt(Be),()=>xt(Be)})}function Z(we,Ye){return We=>je=>we[We](Ye,je)}},8421:(Ie,ae,C)=>{C.d(ae,{Xf:()=>Le});var f=C(655),S=C(1144),te=C(8239),V=C(9751),le=C(3670),de=C(2206),oe=C(4532),J=C(6495),he=C(3260),Q=C(576),Z=C(7849),ce=C(8822);function Le(Ge){if(Ge instanceof V.y)return Ge;if(null!=Ge){if((0,le.c)(Ge))return function ze(Ge){return new V.y(Be=>{const Dt=Ge[ce.L]();if((0,Q.m)(Dt.subscribe))return Dt.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,S.z)(Ge))return function we(Ge){return new V.y(Be=>{for(let Dt=0;Dt<Ge.length&&!Be.closed;Dt++)Be.next(Ge[Dt]);Be.complete()})}(Ge);if((0,te.t)(Ge))return function Ye(Ge){return new V.y(Be=>{Ge.then(Dt=>{Be.closed||(Be.next(Dt),Be.complete())},Dt=>Be.error(Dt)).then(null,Z.h)})}(Ge);if((0,de.D)(Ge))return je(Ge);if((0,J.T)(Ge))return function We(Ge){return new V.y(Be=>{for(const Dt of Ge)if(Be.next(Dt),Be.closed)return;Be.complete()})}(Ge);if((0,he.L)(Ge))return function gt(Ge){return je((0,he.Q)(Ge))}(Ge)}throw(0,oe.z)(Ge)}function je(Ge){return new V.y(Be=>{(function xt(Ge,Be){var Dt,Tt,Wt,$t;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Dt=(0,f.KL)(Ge);!(Tt=yield Dt.next()).done;)if(Be.next(Tt.value),Be.closed)return}catch(Rt){Wt={error:Rt}}finally{try{Tt&&!Tt.done&&($t=Dt.return)&&(yield $t.call(Dt))}finally{if(Wt)throw Wt.error}}Be.complete()})})(Ge,Be).catch(Dt=>Be.error(Dt))})}},6451:(Ie,ae,C)=>{C.d(ae,{T:()=>de});var f=C(8189),S=C(8421),te=C(515),V=C(3269),le=C(457);function de(...oe){const J=(0,V.yG)(oe),he=(0,V._6)(oe,1/0),Q=oe;return Q.length?1===Q.length?(0,S.Xf)(Q[0]):(0,f.J)(he)((0,le.D)(Q,J)):te.E}},9646:(Ie,ae,C)=>{C.d(ae,{of:()=>te});var f=C(3269),S=C(457);function te(...V){const le=(0,f.yG)(V);return(0,S.D)(V,le)}},2843:(Ie,ae,C)=>{C.d(ae,{_:()=>te});var f=C(9751),S=C(576);function te(V,le){const de=(0,S.m)(V)?V:()=>V,oe=J=>J.error(de());return new f.y(le?J=>le.schedule(oe,0,J):oe)}},2805:(Ie,ae,C)=>{C.d(ae,{H:()=>le});var f=C(9751),S=C(4986),te=C(3532),V=C(1165);function le(de=0,oe,J=S.P){let he=-1;return null!=oe&&((0,te.K)(oe)?J=oe:he=oe),new f.y(Q=>{let Z=(0,V.q)(de)?+de-J.now():de;Z<0&&(Z=0);let ce=0;return J.schedule(function(){Q.closed||(Q.next(ce++),0<=he?this.schedule(void 0,he):Q.complete())},Z)})}},5403:(Ie,ae,C)=>{C.d(ae,{Q:()=>S});var f=C(930);class S extends f.Lv{constructor(V,le,de,oe,J){super(V),this.onFinalize=J,this._next=le?function(he){try{le(he)}catch(Q){V.error(Q)}}:super._next,this._error=oe?function(he){try{oe(he)}catch(Q){V.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(he){V.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;const{closed:le}=this;super.unsubscribe(),!le&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}},262:(Ie,ae,C)=>{C.d(ae,{K:()=>V});var f=C(8421),S=C(5403),te=C(4482);function V(le){return(0,te.e)((de,oe)=>{let Q,J=null,he=!1;J=de.subscribe(new S.Q(oe,void 0,void 0,Z=>{Q=(0,f.Xf)(le(Z,V(le)(de))),J?(J.unsubscribe(),J=null,Q.subscribe(oe)):he=!0})),he&&(J.unsubscribe(),J=null,Q.subscribe(oe))})}},4351:(Ie,ae,C)=>{C.d(ae,{b:()=>te});var f=C(5577),S=C(576);function te(V,le){return(0,S.m)(le)?(0,f.z)(V,le,1):(0,f.z)(V,1)}},8372:(Ie,ae,C)=>{C.d(ae,{b:()=>V});var f=C(4986),S=C(4482),te=C(5403);function V(le,de=f.z){return(0,S.e)((oe,J)=>{let he=null,Q=null,Z=null;const ce=()=>{if(he){he.unsubscribe(),he=null;const ze=Q;Q=null,J.next(ze)}};function Le(){const ze=Z+le,we=de.now();if(we<ze)return he=this.schedule(void 0,ze-we),void J.add(he);ce()}oe.subscribe(new te.Q(J,ze=>{Q=ze,Z=de.now(),he||(he=de.schedule(Le,le),J.add(he))},()=>{ce(),J.complete()},void 0,()=>{Q=he=null}))})}},6590:(Ie,ae,C)=>{C.d(ae,{d:()=>te});var f=C(4482),S=C(5403);function te(V){return(0,f.e)((le,de)=>{let oe=!1;le.subscribe(new S.Q(de,J=>{oe=!0,de.next(J)},()=>{oe||de.next(V),de.complete()}))})}},4086:(Ie,ae,C)=>{C.d(ae,{g:()=>he});var f=C(4986),S=C(7272),te=C(5698),V=C(8502),le=C(9718),de=C(5577);function oe(Q,Z){return Z?ce=>(0,S.z)(Z.pipe((0,te.q)(1),(0,V.l)()),ce.pipe(oe(Q))):(0,de.z)((ce,Le)=>Q(ce,Le).pipe((0,te.q)(1),(0,le.h)(ce)))}var J=C(2805);function he(Q,Z=f.z){const ce=(0,J.H)(Q,Z);return oe(()=>ce)}},1884:(Ie,ae,C)=>{C.d(ae,{x:()=>V});var f=C(4671),S=C(4482),te=C(5403);function V(de,oe=f.y){return de=null!=de?de:le,(0,S.e)((J,he)=>{let Q,Z=!0;J.subscribe(new te.Q(he,ce=>{const Le=oe(ce);(Z||!de(Q,Le))&&(Z=!1,Q=Le,he.next(ce))}))})}function le(de,oe){return de===oe}},6129:(Ie,ae,C)=>{C.d(ae,{z:()=>le});var f=C(4004),S=C(8421),te=C(4482),V=C(5403);function le(de,oe){return oe?J=>J.pipe(le((he,Q)=>(0,S.Xf)(de(he,Q)).pipe((0,f.U)((Z,ce)=>oe(he,Z,Q,ce))))):(0,te.e)((J,he)=>{let Q=0,Z=null,ce=!1;J.subscribe(new V.Q(he,Le=>{Z||(Z=new V.Q(he,void 0,()=>{Z=null,ce&&he.complete()}),(0,S.Xf)(de(Le,Q++)).subscribe(Z))},()=>{ce=!0,!Z&&he.complete()}))})}},9300:(Ie,ae,C)=>{C.d(ae,{h:()=>te});var f=C(4482),S=C(5403);function te(V,le){return(0,f.e)((de,oe)=>{let J=0;de.subscribe(new S.Q(oe,he=>V.call(le,he,J++)&&oe.next(he)))})}},8746:(Ie,ae,C)=>{C.d(ae,{x:()=>S});var f=C(4482);function S(te){return(0,f.e)((V,le)=>{try{V.subscribe(le)}finally{le.add(te)}})}},590:(Ie,ae,C)=>{C.d(ae,{P:()=>oe});var f=C(6805),S=C(9300),te=C(5698),V=C(6590),le=C(8068),de=C(4671);function oe(J,he){const Q=arguments.length>=2;return Z=>Z.pipe(J?(0,S.h)((ce,Le)=>J(ce,Le,Z)):de.y,(0,te.q)(1),Q?(0,V.d)(he):(0,le.T)(()=>new f.K))}},8502:(Ie,ae,C)=>{C.d(ae,{l:()=>V});var f=C(4482),S=C(5403),te=C(5032);function V(){return(0,f.e)((le,de)=>{le.subscribe(new S.Q(de,te.Z))})}},3103:(Ie,ae,C)=>{C.d(ae,{Z:()=>oe});var f=C(6805),S=C(9300),te=C(2035),V=C(8068),le=C(6590),de=C(4671);function oe(J,he){const Q=arguments.length>=2;return Z=>Z.pipe(J?(0,S.h)((ce,Le)=>J(ce,Le,Z)):de.y,(0,te.h)(1),Q?(0,le.d)(he):(0,V.T)(()=>new f.K))}},4004:(Ie,ae,C)=>{C.d(ae,{U:()=>te});var f=C(4482),S=C(5403);function te(V,le){return(0,f.e)((de,oe)=>{let J=0;de.subscribe(new S.Q(oe,he=>{oe.next(V.call(le,he,J++))}))})}},9718:(Ie,ae,C)=>{C.d(ae,{h:()=>S});var f=C(4004);function S(te){return(0,f.U)(()=>te)}},8189:(Ie,ae,C)=>{C.d(ae,{J:()=>te});var f=C(5577),S=C(4671);function te(V=1/0){return(0,f.z)(S.y,V)}},5577:(Ie,ae,C)=>{C.d(ae,{z:()=>J});var f=C(4004),S=C(8421),te=C(4482),V=C(9672),le=C(5403),oe=C(576);function J(he,Q,Z=1/0){return(0,oe.m)(Q)?J((ce,Le)=>(0,f.U)((ze,we)=>Q(ce,ze,Le,we))((0,S.Xf)(he(ce,Le))),Z):("number"==typeof Q&&(Z=Q),(0,te.e)((ce,Le)=>function de(he,Q,Z,ce,Le,ze,we,Ye){const We=[];let je=0,gt=0,xt=!1;const Ge=()=>{xt&&!We.length&&!je&&Q.complete()},Be=Tt=>je<ce?Dt(Tt):We.push(Tt),Dt=Tt=>{ze&&Q.next(Tt),je++;let Wt=!1;(0,S.Xf)(Z(Tt,gt++)).subscribe(new le.Q(Q,$t=>{null==Le||Le($t),ze?Be($t):Q.next($t)},()=>{Wt=!0},void 0,()=>{if(Wt)try{for(je--;We.length&&je<ce;){const $t=We.shift();we?(0,V.f)(Q,we,()=>Dt($t)):Dt($t)}Ge()}catch($t){Q.error($t)}}))};return he.subscribe(new le.Q(Q,Be,()=>{xt=!0,Ge()})),()=>{null==Ye||Ye()}}(ce,Le,he,Z)))}},5363:(Ie,ae,C)=>{C.d(ae,{Q:()=>V});var f=C(9672),S=C(4482),te=C(5403);function V(le,de=0){return(0,S.e)((oe,J)=>{oe.subscribe(new te.Q(J,he=>(0,f.f)(J,le,()=>J.next(he),de),()=>(0,f.f)(J,le,()=>J.complete(),de),he=>(0,f.f)(J,le,()=>J.error(he),de)))})}},4813:(Ie,ae,C)=>{C.d(ae,{j:()=>S});var f=C(4004);function S(...te){const V=te.length;if(0===V)throw new Error("list of properties cannot be empty.");return(0,f.U)(le=>{let de=le;for(let oe=0;oe<V;oe++){const J=null==de?void 0:de[te[oe]];if(void 0===J)return;de=J}return de})}},8646:(Ie,ae,C)=>{C.d(ae,{n:()=>Z});var f=C(7579),S=C(4033),te=C(576),V=C(457),le=C(4482),de=C(9751);const J={connector:()=>new f.x};function he(ce,Le=J){const{connector:ze}=Le;return(0,le.e)((we,Ye)=>{const We=ze();(0,V.D)(ce(function oe(ce){return new de.y(Le=>ce.subscribe(Le))}(We))).subscribe(Ye),Ye.add(we.subscribe(We))})}function Z(ce){return ce?Le=>he(ce)(Le):Le=>function Q(ce,Le){const ze=(0,te.m)(ce)?ce:()=>ce;return(0,te.m)(Le)?he(Le,{connector:ze}):we=>new S.c(we,ze)}(new f.x)(Le)}},8343:(Ie,ae,C)=>{C.d(ae,{x:()=>te});var f=C(4482),S=C(5403);function te(){return(0,f.e)((V,le)=>{let de=null;V._refCount++;const oe=new S.Q(le,void 0,void 0,void 0,()=>{if(!V||V._refCount<=0||0<--V._refCount)return void(de=null);const J=V._connection,he=de;de=null,J&&(!he||J===he)&&J.unsubscribe(),le.unsubscribe()});V.subscribe(oe),oe.closed||(de=V.connect())})}},5625:(Ie,ae,C)=>{C.d(ae,{X:()=>de});var f=C(4482),S=C(5403),te=C(4671),V=C(2805),le=C(8421);function de(oe=1/0){let J;J=oe&&"object"==typeof oe?oe:{count:oe};const{count:he=1/0,delay:Q,resetOnSuccess:Z=!1}=J;return he<=0?te.y:(0,f.e)((ce,Le)=>{let we,ze=0;const Ye=()=>{let We=!1;we=ce.subscribe(new S.Q(Le,je=>{Z&&(ze=0),Le.next(je)},void 0,je=>{if(ze++<he){const gt=()=>{we?(we.unsubscribe(),we=null,Ye()):We=!0};if(null!=Q){const xt="number"==typeof Q?(0,V.H)(Q):(0,le.Xf)(Q(je,ze)),Ge=new S.Q(Le,()=>{Ge.unsubscribe(),gt()},()=>{Le.complete()});xt.subscribe(Ge)}else gt()}else Le.error(je)})),We&&(we.unsubscribe(),we=null,Ye())};Ye()})}},5026:(Ie,ae,C)=>{C.d(ae,{R:()=>V});var f=C(4482),S=C(5403);function te(le,de,oe,J,he){return(Q,Z)=>{let ce=oe,Le=de,ze=0;Q.subscribe(new S.Q(Z,we=>{const Ye=ze++;Le=ce?le(Le,we,Ye):(ce=!0,we),J&&Z.next(Le)},he&&(()=>{ce&&Z.next(Le),Z.complete()})))}}function V(le,de){return(0,f.e)(te(le,de,arguments.length>=2,!0))}},3099:(Ie,ae,C)=>{C.d(ae,{B:()=>de});var f=C(457),S=C(5698),te=C(7579),V=C(930),le=C(4482);function de(J={}){const{connector:he=(()=>new te.x),resetOnError:Q=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ce=!0}=J;return Le=>{let ze=null,we=null,Ye=null,We=0,je=!1,gt=!1;const xt=()=>{null==we||we.unsubscribe(),we=null},Ge=()=>{xt(),ze=Ye=null,je=gt=!1},Be=()=>{const Dt=ze;Ge(),null==Dt||Dt.unsubscribe()};return(0,le.e)((Dt,Tt)=>{We++,!gt&&!je&&xt();const Wt=Ye=null!=Ye?Ye:he();Tt.add(()=>{We--,0===We&&!gt&&!je&&(we=oe(Be,ce))}),Wt.subscribe(Tt),ze||(ze=new V.Hp({next:$t=>Wt.next($t),error:$t=>{gt=!0,xt(),we=oe(Ge,Q,$t),Wt.error($t)},complete:()=>{je=!0,xt(),we=oe(Ge,Z),Wt.complete()}}),(0,f.D)(Dt).subscribe(ze))})(Le)}}function oe(J,he,...Q){return!0===he?(J(),null):!1===he?null:he(...Q).pipe((0,S.q)(1)).subscribe(()=>J())}},5684:(Ie,ae,C)=>{C.d(ae,{T:()=>S});var f=C(9300);function S(te){return(0,f.h)((V,le)=>te<=le)}},8675:(Ie,ae,C)=>{C.d(ae,{O:()=>V});var f=C(7272),S=C(3269),te=C(4482);function V(...le){const de=(0,S.yG)(le);return(0,te.e)((oe,J)=>{(de?(0,f.z)(le,oe,de):(0,f.z)(le,oe)).subscribe(J)})}},3900:(Ie,ae,C)=>{C.d(ae,{w:()=>V});var f=C(8421),S=C(4482),te=C(5403);function V(le,de){return(0,S.e)((oe,J)=>{let he=null,Q=0,Z=!1;const ce=()=>Z&&!he&&J.complete();oe.subscribe(new te.Q(J,Le=>{null==he||he.unsubscribe();let ze=0;const we=Q++;(0,f.Xf)(le(Le,we)).subscribe(he=new te.Q(J,Ye=>J.next(de?de(Le,Ye,we,ze++):Ye),()=>{he=null,ce()}))},()=>{Z=!0,ce()}))})}},5698:(Ie,ae,C)=>{C.d(ae,{q:()=>V});var f=C(515),S=C(4482),te=C(5403);function V(le){return le<=0?()=>f.E:(0,S.e)((de,oe)=>{let J=0;de.subscribe(new te.Q(oe,he=>{++J<=le&&(oe.next(he),le<=J&&oe.complete())}))})}},2035:(Ie,ae,C)=>{C.d(ae,{h:()=>V});var f=C(515),S=C(4482),te=C(5403);function V(le){return le<=0?()=>f.E:(0,S.e)((de,oe)=>{let J=[];de.subscribe(new te.Q(oe,he=>{J.push(he),le<J.length&&J.shift()},()=>{for(const he of J)oe.next(he);oe.complete()},void 0,()=>{J=null}))})}},2722:(Ie,ae,C)=>{C.d(ae,{R:()=>le});var f=C(4482),S=C(5403),te=C(8421),V=C(5032);function le(de){return(0,f.e)((oe,J)=>{(0,te.Xf)(de).subscribe(new S.Q(J,()=>J.complete(),V.Z)),!J.closed&&oe.subscribe(J)})}},2529:(Ie,ae,C)=>{C.d(ae,{o:()=>te});var f=C(4482),S=C(5403);function te(V,le=!1){return(0,f.e)((de,oe)=>{let J=0;de.subscribe(new S.Q(oe,he=>{const Q=V(he,J++);(Q||le)&&oe.next(he),!Q&&oe.complete()}))})}},8505:(Ie,ae,C)=>{C.d(ae,{b:()=>le});var f=C(576),S=C(4482),te=C(5403),V=C(4671);function le(de,oe,J){const he=(0,f.m)(de)||oe||J?{next:de,error:oe,complete:J}:de;return he?(0,S.e)((Q,Z)=>{var ce;null===(ce=he.subscribe)||void 0===ce||ce.call(he);let Le=!0;Q.subscribe(new te.Q(Z,ze=>{var we;null===(we=he.next)||void 0===we||we.call(he,ze),Z.next(ze)},()=>{var ze;Le=!1,null===(ze=he.complete)||void 0===ze||ze.call(he),Z.complete()},ze=>{var we;Le=!1,null===(we=he.error)||void 0===we||we.call(he,ze),Z.error(ze)},()=>{var ze,we;Le&&(null===(ze=he.unsubscribe)||void 0===ze||ze.call(he)),null===(we=he.finalize)||void 0===we||we.call(he)}))}):V.y}},9468:(Ie,ae,C)=>{C.d(ae,{p:()=>J});var f=C(4986),S=C(4482),te=C(5403),V=C(8421);const le={leading:!0,trailing:!1};var oe=C(2805);function J(he,Q=f.z,Z=le){const ce=(0,oe.H)(he,Q);return function de(he,Q=le){return(0,S.e)((Z,ce)=>{const{leading:Le,trailing:ze}=Q;let we=!1,Ye=null,We=null,je=!1;const gt=()=>{null==We||We.unsubscribe(),We=null,ze&&(Be(),je&&ce.complete())},xt=()=>{We=null,je&&ce.complete()},Ge=Dt=>We=(0,V.Xf)(he(Dt)).subscribe(new te.Q(ce,gt,xt)),Be=()=>{if(we){we=!1;const Dt=Ye;Ye=null,ce.next(Dt),!je&&Ge(Dt)}};Z.subscribe(new te.Q(ce,Dt=>{we=!0,Ye=Dt,(!We||We.closed)&&(Le?Be():Ge(Dt))},()=>{je=!0,(!(ze&&we&&We)||We.closed)&&ce.complete()}))})}(()=>ce,Z)}},8068:(Ie,ae,C)=>{C.d(ae,{T:()=>V});var f=C(6805),S=C(4482),te=C(5403);function V(de=le){return(0,S.e)((oe,J)=>{let he=!1;oe.subscribe(new te.Q(J,Q=>{he=!0,J.next(Q)},()=>he?J.complete():J.error(de())))})}function le(){return new f.K}},7414:(Ie,ae,C)=>{C.d(ae,{V:()=>he});var f=C(4986),S=C(1165),te=C(4482),V=C(8421),le=C(3888),de=C(5403),oe=C(9672);const J=(0,le.d)(Z=>function(Le=null){Z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Le});function he(Z,ce){const{first:Le,each:ze,with:we=Q,scheduler:Ye=(null!=ce?ce:f.z),meta:We=null}=(0,S.q)(Z)?{first:Z}:"number"==typeof Z?{each:Z}:Z;if(null==Le&&null==ze)throw new TypeError("No timeout provided.");return(0,te.e)((je,gt)=>{let xt,Ge,Be=null,Dt=0;const Tt=Wt=>{Ge=(0,oe.f)(gt,Ye,()=>{try{xt.unsubscribe(),(0,V.Xf)(we({meta:We,lastValue:Be,seen:Dt})).subscribe(gt)}catch($t){gt.error($t)}},Wt)};xt=je.subscribe(new de.Q(gt,Wt=>{null==Ge||Ge.unsubscribe(),Dt++,gt.next(Be=Wt),ze>0&&Tt(ze)},void 0,void 0,()=>{null!=Ge&&Ge.closed||null==Ge||Ge.unsubscribe(),Be=null})),Tt(null!=Le?"number"==typeof Le?Le:+Le-Ye.now():ze)})}function Q(Z){throw new J(Z)}},1365:(Ie,ae,C)=>{C.d(ae,{M:()=>oe});var f=C(4482),S=C(5403),te=C(8421),V=C(4671),le=C(5032),de=C(3269);function oe(...J){const he=(0,de.jO)(J);return(0,f.e)((Q,Z)=>{const ce=J.length,Le=new Array(ce);let ze=J.map(()=>!1),we=!1;for(let Ye=0;Ye<ce;Ye++)(0,te.Xf)(J[Ye]).subscribe(new S.Q(Z,We=>{Le[Ye]=We,!we&&!ze[Ye]&&(ze[Ye]=!0,(we=ze.every(V.y))&&(ze=null))},le.Z));Q.subscribe(new S.Q(Z,Ye=>{if(we){const We=[Ye,...Le];Z.next(he?he(...We):We)}}))})}},4408:(Ie,ae,C)=>{C.d(ae,{o:()=>le});var f=C(727);class S extends f.w0{constructor(oe,J){super()}schedule(oe,J=0){return this}}const te={setInterval(...de){const{delegate:oe}=te;return((null==oe?void 0:oe.setInterval)||setInterval)(...de)},clearInterval(de){const{delegate:oe}=te;return((null==oe?void 0:oe.clearInterval)||clearInterval)(de)},delegate:void 0};var V=C(8737);class le extends S{constructor(oe,J){super(oe,J),this.scheduler=oe,this.work=J,this.pending=!1}schedule(oe,J=0){if(this.closed)return this;this.state=oe;const he=this.id,Q=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(Q,he,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(Q,this.id,J),this}requestAsyncId(oe,J,he=0){return te.setInterval(oe.flush.bind(oe,this),he)}recycleAsyncId(oe,J,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return J;te.clearInterval(J)}execute(oe,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(oe,J);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,J){let Q,he=!1;try{this.work(oe)}catch(Z){he=!0,Q=Z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:oe,scheduler:J}=this,{actions:he}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,V.P)(he,this),null!=oe&&(this.id=this.recycleAsyncId(J,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,ae,C)=>{C.d(ae,{v:()=>te});var f=C(6063);class S{constructor(le,de=S.now){this.schedulerActionCtor=le,this.now=de}schedule(le,de=0,oe){return new this.schedulerActionCtor(this,le).schedule(oe,de)}}S.now=f.l.now;class te extends S{constructor(le,de=S.now){super(le,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:de}=this;if(this._active)return void de.push(le);let oe;this._active=!0;do{if(oe=le.execute(le.state,le.delay))break}while(le=de.shift());if(this._active=!1,oe){for(;le=de.shift();)le.unsubscribe();throw oe}}}},4986:(Ie,ae,C)=>{C.d(ae,{P:()=>V,z:()=>te});var f=C(4408);const te=new(C(7565).v)(f.o),V=te},6063:(Ie,ae,C)=>{C.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Ie,ae,C)=>{C.d(ae,{N:()=>le});var f=C(4408),te=C(7565);const le=new class V extends te.v{}(class S extends f.o{constructor(J,he){super(J,he),this.scheduler=J,this.work=he}schedule(J,he=0){return he>0?super.schedule(J,he):(this.delay=he,this.state=J,this.scheduler.flush(this),this)}execute(J,he){return he>0||this.closed?super.execute(J,he):this._execute(J,he)}requestAsyncId(J,he,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(J,he,Q):J.flush(this)}})},3410:(Ie,ae,C)=>{C.d(ae,{z:()=>f});const f={setTimeout(...S){const{delegate:te}=f;return((null==te?void 0:te.setTimeout)||setTimeout)(...S)},clearTimeout(S){const{delegate:te}=f;return((null==te?void 0:te.clearTimeout)||clearTimeout)(S)},delegate:void 0}},2202:(Ie,ae,C)=>{C.d(ae,{h:()=>S});const S=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,ae,C)=>{C.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ie,ae,C)=>{C.d(ae,{K:()=>S});const S=(0,C(3888).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ie,ae,C)=>{C.d(ae,{_6:()=>de,jO:()=>V,yG:()=>le});var f=C(576),S=C(3532);function te(oe){return oe[oe.length-1]}function V(oe){return(0,f.m)(te(oe))?oe.pop():void 0}function le(oe){return(0,S.K)(te(oe))?oe.pop():void 0}function de(oe,J){return"number"==typeof te(oe)?oe.pop():J}},4742:(Ie,ae,C)=>{C.d(ae,{D:()=>le});const{isArray:f}=Array,{getPrototypeOf:S,prototype:te,keys:V}=Object;function le(oe){if(1===oe.length){const J=oe[0];if(f(J))return{args:J,keys:null};if(function de(oe){return oe&&"object"==typeof oe&&S(oe)===te}(J)){const he=V(J);return{args:he.map(Q=>J[Q]),keys:he}}}return{args:oe,keys:null}}},8737:(Ie,ae,C)=>{function f(S,te){if(S){const V=S.indexOf(te);0<=V&&S.splice(V,1)}}C.d(ae,{P:()=>f})},3888:(Ie,ae,C)=>{function f(S){const V=S(le=>{Error.call(le),le.stack=(new Error).stack});return V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V}C.d(ae,{d:()=>f})},1810:(Ie,ae,C)=>{function f(S,te){return S.reduce((V,le,de)=>(V[le]=te[de],V),{})}C.d(ae,{n:()=>f})},2806:(Ie,ae,C)=>{C.d(ae,{O:()=>V,x:()=>te});var f=C(2416);let S=null;function te(le){if(f.v.useDeprecatedSynchronousErrorHandling){const de=!S;if(de&&(S={errorThrown:!1,error:null}),le(),de){const{errorThrown:oe,error:J}=S;if(S=null,oe)throw J}}else le()}function V(le){f.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=le)}},9672:(Ie,ae,C)=>{function f(S,te,V,le=0,de=!1){const oe=te.schedule(function(){V(),de?S.add(this.schedule(null,le)):this.unsubscribe()},le);if(S.add(oe),!de)return oe}C.d(ae,{f:()=>f})},4671:(Ie,ae,C)=>{function f(S){return S}C.d(ae,{y:()=>f})},1144:(Ie,ae,C)=>{C.d(ae,{z:()=>f});const f=S=>S&&"number"==typeof S.length&&"function"!=typeof S},2206:(Ie,ae,C)=>{C.d(ae,{D:()=>S});var f=C(576);function S(te){return Symbol.asyncIterator&&(0,f.m)(null==te?void 0:te[Symbol.asyncIterator])}},1165:(Ie,ae,C)=>{function f(S){return S instanceof Date&&!isNaN(S)}C.d(ae,{q:()=>f})},576:(Ie,ae,C)=>{function f(S){return"function"==typeof S}C.d(ae,{m:()=>f})},3670:(Ie,ae,C)=>{C.d(ae,{c:()=>te});var f=C(8822),S=C(576);function te(V){return(0,S.m)(V[f.L])}},6495:(Ie,ae,C)=>{C.d(ae,{T:()=>te});var f=C(2202),S=C(576);function te(V){return(0,S.m)(null==V?void 0:V[f.h])}},8239:(Ie,ae,C)=>{C.d(ae,{t:()=>S});var f=C(576);function S(te){return(0,f.m)(null==te?void 0:te.then)}},3260:(Ie,ae,C)=>{C.d(ae,{L:()=>V,Q:()=>te});var f=C(655),S=C(576);function te(le){return(0,f.FC)(this,arguments,function*(){const oe=le.getReader();try{for(;;){const{value:J,done:he}=yield(0,f.qq)(oe.read());if(he)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(J)}}finally{oe.releaseLock()}})}function V(le){return(0,S.m)(null==le?void 0:le.getReader)}},3532:(Ie,ae,C)=>{C.d(ae,{K:()=>S});var f=C(576);function S(te){return te&&(0,f.m)(te.schedule)}},4482:(Ie,ae,C)=>{C.d(ae,{A:()=>S,e:()=>te});var f=C(576);function S(V){return(0,f.m)(null==V?void 0:V.lift)}function te(V){return le=>{if(S(le))return le.lift(function(de){try{return V(de,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ie,ae,C)=>{C.d(ae,{Z:()=>V});var f=C(4004);const{isArray:S}=Array;function V(le){return(0,f.U)(de=>function te(le,de){return S(de)?le(...de):le(de)}(le,de))}},5032:(Ie,ae,C)=>{function f(){}C.d(ae,{Z:()=>f})},9635:(Ie,ae,C)=>{C.d(ae,{U:()=>te,z:()=>S});var f=C(4671);function S(...V){return te(V)}function te(V){return 0===V.length?f.y:1===V.length?V[0]:function(de){return V.reduce((oe,J)=>J(oe),de)}}},7849:(Ie,ae,C)=>{C.d(ae,{h:()=>te});var f=C(2416),S=C(3410);function te(V){S.z.setTimeout(()=>{const{onUnhandledError:le}=f.v;if(!le)throw V;le(V)})}},4532:(Ie,ae,C)=>{function f(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ae,{z:()=>f})},655:(Ie,ae,C)=>{function V(tt,Ze){var at={};for(var et in tt)Object.prototype.hasOwnProperty.call(tt,et)&&Ze.indexOf(et)<0&&(at[et]=tt[et]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var Nt=0;for(et=Object.getOwnPropertySymbols(tt);Nt<et.length;Nt++)Ze.indexOf(et[Nt])<0&&Object.prototype.propertyIsEnumerable.call(tt,et[Nt])&&(at[et[Nt]]=tt[et[Nt]])}return at}function le(tt,Ze,at,et){var ht,Nt=arguments.length,bt=Nt<3?Ze:null===et?et=Object.getOwnPropertyDescriptor(Ze,at):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bt=Reflect.decorate(tt,Ze,at,et);else for(var Vn=tt.length-1;Vn>=0;Vn--)(ht=tt[Vn])&&(bt=(Nt<3?ht(bt):Nt>3?ht(Ze,at,bt):ht(Ze,at))||bt);return Nt>3&&bt&&Object.defineProperty(Ze,at,bt),bt}function J(tt,Ze,at,et){return new(at||(at=Promise))(function(bt,ht){function Vn(pr){try{Mt(et.next(pr))}catch(Vr){ht(Vr)}}function Kt(pr){try{Mt(et.throw(pr))}catch(Vr){ht(Vr)}}function Mt(pr){pr.done?bt(pr.value):function Nt(bt){return bt instanceof at?bt:new at(function(ht){ht(bt)})}(pr.value).then(Vn,Kt)}Mt((et=et.apply(tt,Ze||[])).next())})}function We(tt){return this instanceof We?(this.v=tt,this):new We(tt)}function je(tt,Ze,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,et=at.apply(tt,Ze||[]),bt=[];return Nt={},ht("next"),ht("throw"),ht("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt;function ht(Ir){et[Ir]&&(Nt[Ir]=function(tr){return new Promise(function(Fr,dr){bt.push([Ir,tr,Fr,dr])>1||Vn(Ir,tr)})})}function Vn(Ir,tr){try{!function Kt(Ir){Ir.value instanceof We?Promise.resolve(Ir.value.v).then(Mt,pr):Vr(bt[0][2],Ir)}(et[Ir](tr))}catch(Fr){Vr(bt[0][3],Fr)}}function Mt(Ir){Vn("next",Ir)}function pr(Ir){Vn("throw",Ir)}function Vr(Ir,tr){Ir(tr),bt.shift(),bt.length&&Vn(bt[0][0],bt[0][1])}}function xt(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Ze=tt[Symbol.asyncIterator];return Ze?Ze.call(tt):(tt=function ce(tt){var Ze="function"==typeof Symbol&&Symbol.iterator,at=Ze&&tt[Ze],et=0;if(at)return at.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&et>=tt.length&&(tt=void 0),{value:tt&&tt[et++],done:!tt}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),at={},et("next"),et("throw"),et("return"),at[Symbol.asyncIterator]=function(){return this},at);function et(bt){at[bt]=tt[bt]&&function(ht){return new Promise(function(Vn,Kt){!function Nt(bt,ht,Vn,Kt){Promise.resolve(Kt).then(function(Mt){bt({value:Mt,done:Vn})},ht)}(Vn,Kt,(ht=tt[bt](ht)).done,ht.value)})}}}function Wt(tt,Ze,at,et){if("a"===at&&!et)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ze?tt!==Ze||!et:!Ze.has(tt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===at?et:"a"===at?et.call(tt):et?et.value:Ze.get(tt)}function $t(tt,Ze,at,et,Nt){if("m"===et)throw new TypeError("Private method is not writable");if("a"===et&&!Nt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ze?tt!==Ze||!Nt:!Ze.has(tt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===et?Nt.call(tt,at):Nt?Nt.value=at:Ze.set(tt,at),at}C.d(ae,{FC:()=>je,KL:()=>xt,Q_:()=>Wt,YH:()=>$t,_T:()=>V,gn:()=>le,mG:()=>J,qq:()=>We})},1777:(Ie,ae,C)=>{C.d(ae,{EY:()=>Ye,F4:()=>Q,IO:()=>we,LC:()=>S,SB:()=>he,X$:()=>V,ZE:()=>gt,ZN:()=>je,_j:()=>f,eR:()=>Z,jt:()=>le,k1:()=>xt,l3:()=>te,oB:()=>J,pV:()=>Le,ru:()=>de,vP:()=>oe});class f{}class S{}const te="*";function V(Ge,Be){return{type:7,name:Ge,definitions:Be,options:{}}}function le(Ge,Be=null){return{type:4,styles:Be,timings:Ge}}function de(Ge,Be=null){return{type:3,steps:Ge,options:Be}}function oe(Ge,Be=null){return{type:2,steps:Ge,options:Be}}function J(Ge){return{type:6,styles:Ge,offset:null}}function he(Ge,Be,Dt){return{type:0,name:Ge,styles:Be,options:Dt}}function Q(Ge){return{type:5,steps:Ge}}function Z(Ge,Be,Dt=null){return{type:1,expr:Ge,animation:Be,options:Dt}}function Le(Ge=null){return{type:9,options:Ge}}function we(Ge,Be,Dt=null){return{type:11,selector:Ge,animation:Be,options:Dt}}function Ye(Ge,Be){return{type:12,timings:Ge,animation:Be}}function We(Ge){Promise.resolve().then(Ge)}class je{constructor(Be=0,Dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Be+Dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}onStart(Be){this._originalOnStartFns.push(Be),this._onStartFns.push(Be)}onDone(Be){this._originalOnDoneFns.push(Be),this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){We(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Be=>Be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Be){this._position=this.totalTime?Be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Be){const Dt="start"==Be?this._onStartFns:this._onDoneFns;Dt.forEach(Tt=>Tt()),Dt.length=0}}class gt{constructor(Be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Be;let Dt=0,Tt=0,Wt=0;const $t=this.players.length;0==$t?We(()=>this._onFinish()):this.players.forEach(Rt=>{Rt.onDone(()=>{++Dt==$t&&this._onFinish()}),Rt.onDestroy(()=>{++Tt==$t&&this._onDestroy()}),Rt.onStart(()=>{++Wt==$t&&this._onStart()})}),this.totalTime=this.players.reduce((Rt,tt)=>Math.max(Rt,tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}init(){this.players.forEach(Be=>Be.init())}onStart(Be){this._onStartFns.push(Be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Be=>Be()),this._onStartFns=[])}onDone(Be){this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Be=>Be.play())}pause(){this.players.forEach(Be=>Be.pause())}restart(){this.players.forEach(Be=>Be.restart())}finish(){this._onFinish(),this.players.forEach(Be=>Be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Be=>Be.destroy()),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this.players.forEach(Be=>Be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Be){const Dt=Be*this.totalTime;this.players.forEach(Tt=>{const Wt=Tt.totalTime?Math.min(1,Dt/Tt.totalTime):1;Tt.setPosition(Wt)})}getPosition(){const Be=this.players.reduce((Dt,Tt)=>null===Dt||Tt.totalTime>Dt.totalTime?Tt:Dt,null);return null!=Be?Be.getPosition():0}beforeDestroy(){this.players.forEach(Be=>{Be.beforeDestroy&&Be.beforeDestroy()})}triggerCallback(Be){const Dt="start"==Be?this._onStartFns:this._onDoneFns;Dt.forEach(Tt=>Tt()),Dt.length=0}}const xt="!"},9808:(Ie,ae,C)=>{C.d(ae,{Do:()=>xt,ED:()=>kr,EM:()=>So,Gx:()=>eo,H9:()=>Ds,HT:()=>le,JF:()=>En,JJ:()=>er,K0:()=>oe,Mx:()=>Ji,NF:()=>Ra,Nd:()=>Wi,O5:()=>wo,OU:()=>ro,Ov:()=>Sr,PC:()=>qe,RF:()=>Tr,S$:()=>We,Ts:()=>Ni,V_:()=>Q,Ye:()=>Ge,Zx:()=>to,_K:()=>fs,b0:()=>gt,bD:()=>Si,ez:()=>Bo,gd:()=>zs,i8:()=>qr,mk:()=>Hi,n9:()=>Ln,q:()=>te,rS:()=>Xi,sg:()=>bn,tP:()=>mt,uU:()=>Xn,w_:()=>de});var f=C(5e3);let S=null;function te(){return S}function le(k){S||(S=k)}class de{}const oe=new f.OlP("DocumentToken");let J=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return function he(){return(0,f.LFG)(Z)}()},providedIn:"platform"}),k})();const Q=new f.OlP("Location Initialized");let Z=(()=>{class k extends J{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(B){const se=te().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",B,!1),()=>se.removeEventListener("popstate",B)}onHashChange(B){const se=te().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",B,!1),()=>se.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,se,De){ce()?this._history.pushState(B,se,De):this.location.hash=De}replaceState(B,se,De){ce()?this._history.replaceState(B,se,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(oe))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function Le(){return new Z((0,f.LFG)(oe))}()},providedIn:"platform"}),k})();function ce(){return!!window.history.pushState}function ze(k,q){if(0==k.length)return q;if(0==q.length)return k;let B=0;return k.endsWith("/")&&B++,q.startsWith("/")&&B++,2==B?k+q.substring(1):1==B?k+q:k+"/"+q}function we(k){const q=k.match(/#|\?|$/),B=q&&q.index||k.length;return k.slice(0,B-("/"===k[B-1]?1:0))+k.slice(B)}function Ye(k){return k&&"?"!==k[0]?"?"+k:k}let We=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(){return(0,f.f3M)(gt)},providedIn:"root"}),k})();const je=new f.OlP("appBaseHref");let gt=(()=>{class k extends We{constructor(B,se){var De,rt,ft;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(ft=null!==(De=null!=se?se:this._platformLocation.getBaseHrefFromDOM())&&void 0!==De?De:null===(rt=(0,f.f3M)(oe).location)||void 0===rt?void 0:rt.origin)&&void 0!==ft?ft:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ze(this._baseHref,B)}path(B=!1){const se=this._platformLocation.pathname+Ye(this._platformLocation.search),De=this._platformLocation.hash;return De&&B?`${se}${De}`:se}pushState(B,se,De,rt){const ft=this.prepareExternalUrl(De+Ye(rt));this._platformLocation.pushState(B,se,ft)}replaceState(B,se,De,rt){const ft=this.prepareExternalUrl(De+Ye(rt));this._platformLocation.replaceState(B,se,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var se,De;null===(De=(se=this._platformLocation).historyGo)||void 0===De||De.call(se,B)}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(J),f.LFG(je,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xt=(()=>{class k extends We{constructor(B,se){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(B){const se=ze(this._baseHref,B);return se.length>0?"#"+se:se}pushState(B,se,De,rt){let ft=this.prepareExternalUrl(De+Ye(rt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(B,se,ft)}replaceState(B,se,De,rt){let ft=this.prepareExternalUrl(De+Ye(rt));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(B,se,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var se,De;null===(De=(se=this._platformLocation).historyGo)||void 0===De||De.call(se,B)}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(J),f.LFG(je,8))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})(),Ge=(()=>{class k{constructor(B){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const se=this._locationStrategy.getBaseHref();this._baseHref=we(Tt(se)),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,se=""){return this.path()==this.normalize(B+Ye(se))}normalize(B){return k.stripTrailingSlash(function Dt(k,q){return k&&q.startsWith(k)?q.substring(k.length):q}(this._baseHref,Tt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,se="",De=null){this._locationStrategy.pushState(De,"",B,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ye(se)),De)}replaceState(B,se="",De=null){this._locationStrategy.replaceState(De,"",B,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ye(se)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var se,De;null===(De=(se=this._locationStrategy).historyGo)||void 0===De||De.call(se,B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{var se;const De=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(De,1),0===this._urlChangeListeners.length&&(null===(se=this._urlChangeSubscription)||void 0===se||se.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",se){this._urlChangeListeners.forEach(De=>De(B,se))}subscribe(B,se,De){return this._subject.subscribe({next:B,error:se,complete:De})}}return k.normalizeQueryParams=Ye,k.joinWithSlash=ze,k.stripTrailingSlash=we,k.\u0275fac=function(B){return new(B||k)(f.LFG(We))},k.\u0275prov=f.Yz7({token:k,factory:function(){return function Be(){return new Ge((0,f.LFG)(We))}()},providedIn:"root"}),k})();function Tt(k){return k.replace(/\/index.html$/,"")}const Wt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var $t=(()=>(($t=$t||{})[$t.Decimal=0]="Decimal",$t[$t.Percent=1]="Percent",$t[$t.Currency=2]="Currency",$t[$t.Scientific=3]="Scientific",$t))(),Rt=(()=>((Rt=Rt||{})[Rt.Zero=0]="Zero",Rt[Rt.One=1]="One",Rt[Rt.Two=2]="Two",Rt[Rt.Few=3]="Few",Rt[Rt.Many=4]="Many",Rt[Rt.Other=5]="Other",Rt))(),tt=(()=>((tt=tt||{})[tt.Format=0]="Format",tt[tt.Standalone=1]="Standalone",tt))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),at=(()=>((at=at||{})[at.Short=0]="Short",at[at.Medium=1]="Medium",at[at.Long=2]="Long",at[at.Full=3]="Full",at))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function Ir(k,q){return zt((0,f.cg1)(k)[f.wAp.DateFormat],q)}function tr(k,q){return zt((0,f.cg1)(k)[f.wAp.TimeFormat],q)}function Fr(k,q){return zt((0,f.cg1)(k)[f.wAp.DateTimeFormat],q)}function dr(k,q){const B=(0,f.cg1)(k),se=B[f.wAp.NumberSymbols][q];if(void 0===se){if(q===et.CurrencyDecimal)return B[f.wAp.NumberSymbols][et.Decimal];if(q===et.CurrencyGroup)return B[f.wAp.NumberSymbols][et.Group]}return se}function Ei(k,q){return(0,f.cg1)(k)[f.wAp.NumberFormats][q]}const Wr=f.kL8;function xr(k){if(!k[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zt(k,q){for(let B=q;B>-1;B--)if(void 0!==k[B])return k[B];throw new Error("Locale data API: locale data undefined")}function mi(k){const[q,B]=k.split(":");return{hours:+q,minutes:+B}}const ai=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wr={},$e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.ShortGMT=1]="ShortGMT",Oe[Oe.Long=2]="Long",Oe[Oe.Extended=3]="Extended",Oe))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function pt(k,q,B,se){let De=function Ht(k){if(Nn(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[De,rt=1,ft=1]=k.split("-").map(tn=>+tn);return un(De,rt-1,ft)}const B=parseFloat(k);if(!isNaN(k-B))return new Date(B);let se;if(se=k.match(ai))return function Xt(k){const q=new Date(0);let B=0,se=0;const De=k[8]?q.setUTCFullYear:q.setFullYear,rt=k[8]?q.setUTCHours:q.setHours;k[9]&&(B=Number(k[9]+k[10]),se=Number(k[9]+k[11])),De.call(q,Number(k[1]),Number(k[2])-1,Number(k[3]));const ft=Number(k[4]||0)-B,tn=Number(k[5]||0)-se,jr=Number(k[6]||0),Mn=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return rt.call(q,ft,tn,jr,Mn),q}(se)}const q=new Date(k);if(!Nn(q))throw new Error(`Unable to convert "${k}" into a date`);return q}(k);q=rn(B,q)||q;let tn,ft=[];for(;q;){if(tn=$e.exec(q),!tn){ft.push(q);break}{ft=ft.concat(tn.slice(1));const hr=ft.pop();if(!hr)break;q=hr}}let jr=De.getTimezoneOffset();se&&(jr=Ve(se,jr),De=function Ke(k,q,B){const se=B?-1:1,De=k.getTimezoneOffset();return function Et(k,q){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+q),k}(k,se*(Ve(q,De)-De))}(De,se,!0));let Mn="";return ft.forEach(hr=>{const ar=function Ae(k){if(Ne[k])return Ne[k];let q;switch(k){case"G":case"GG":case"GGG":q=pn(nt.Eras,Ze.Abbreviated);break;case"GGGG":q=pn(nt.Eras,Ze.Wide);break;case"GGGGG":q=pn(nt.Eras,Ze.Narrow);break;case"y":q=zn(Ee.FullYear,1,0,!1,!0);break;case"yy":q=zn(Ee.FullYear,2,0,!0,!0);break;case"yyy":q=zn(Ee.FullYear,3,0,!1,!0);break;case"yyyy":q=zn(Ee.FullYear,4,0,!1,!0);break;case"Y":q=Gr(1);break;case"YY":q=Gr(2,!0);break;case"YYY":q=Gr(3);break;case"YYYY":q=Gr(4);break;case"M":case"L":q=zn(Ee.Month,1,1);break;case"MM":case"LL":q=zn(Ee.Month,2,1);break;case"MMM":q=pn(nt.Months,Ze.Abbreviated);break;case"MMMM":q=pn(nt.Months,Ze.Wide);break;case"MMMMM":q=pn(nt.Months,Ze.Narrow);break;case"LLL":q=pn(nt.Months,Ze.Abbreviated,tt.Standalone);break;case"LLLL":q=pn(nt.Months,Ze.Wide,tt.Standalone);break;case"LLLLL":q=pn(nt.Months,Ze.Narrow,tt.Standalone);break;case"w":q=ji(1);break;case"ww":q=ji(2);break;case"W":q=ji(1,!0);break;case"d":q=zn(Ee.Date,1);break;case"dd":q=zn(Ee.Date,2);break;case"c":case"cc":q=zn(Ee.Day,1);break;case"ccc":q=pn(nt.Days,Ze.Abbreviated,tt.Standalone);break;case"cccc":q=pn(nt.Days,Ze.Wide,tt.Standalone);break;case"ccccc":q=pn(nt.Days,Ze.Narrow,tt.Standalone);break;case"cccccc":q=pn(nt.Days,Ze.Short,tt.Standalone);break;case"E":case"EE":case"EEE":q=pn(nt.Days,Ze.Abbreviated);break;case"EEEE":q=pn(nt.Days,Ze.Wide);break;case"EEEEE":q=pn(nt.Days,Ze.Narrow);break;case"EEEEEE":q=pn(nt.Days,Ze.Short);break;case"a":case"aa":case"aaa":q=pn(nt.DayPeriods,Ze.Abbreviated);break;case"aaaa":q=pn(nt.DayPeriods,Ze.Wide);break;case"aaaaa":q=pn(nt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":q=pn(nt.DayPeriods,Ze.Abbreviated,tt.Standalone,!0);break;case"bbbb":q=pn(nt.DayPeriods,Ze.Wide,tt.Standalone,!0);break;case"bbbbb":q=pn(nt.DayPeriods,Ze.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":q=pn(nt.DayPeriods,Ze.Abbreviated,tt.Format,!0);break;case"BBBB":q=pn(nt.DayPeriods,Ze.Wide,tt.Format,!0);break;case"BBBBB":q=pn(nt.DayPeriods,Ze.Narrow,tt.Format,!0);break;case"h":q=zn(Ee.Hours,1,-12);break;case"hh":q=zn(Ee.Hours,2,-12);break;case"H":q=zn(Ee.Hours,1);break;case"HH":q=zn(Ee.Hours,2);break;case"m":q=zn(Ee.Minutes,1);break;case"mm":q=zn(Ee.Minutes,2);break;case"s":q=zn(Ee.Seconds,1);break;case"ss":q=zn(Ee.Seconds,2);break;case"S":q=zn(Ee.FractionalSeconds,1);break;case"SS":q=zn(Ee.FractionalSeconds,2);break;case"SSS":q=zn(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=jn(Oe.Short);break;case"ZZZZZ":q=jn(Oe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=jn(Oe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=jn(Oe.Long);break;default:return null}return Ne[k]=q,q}(hr);Mn+=ar?ar(De,B,jr):"''"===hr?"'":hr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Mn}function un(k,q,B){const se=new Date(0);return se.setFullYear(k,q,B),se.setHours(0,0,0),se}function rn(k,q){const B=function bt(k){return(0,f.cg1)(k)[f.wAp.LocaleId]}(k);if(wr[B]=wr[B]||{},wr[B][q])return wr[B][q];let se="";switch(q){case"shortDate":se=Ir(k,at.Short);break;case"mediumDate":se=Ir(k,at.Medium);break;case"longDate":se=Ir(k,at.Long);break;case"fullDate":se=Ir(k,at.Full);break;case"shortTime":se=tr(k,at.Short);break;case"mediumTime":se=tr(k,at.Medium);break;case"longTime":se=tr(k,at.Long);break;case"fullTime":se=tr(k,at.Full);break;case"short":const De=rn(k,"shortTime"),rt=rn(k,"shortDate");se=Kn(Fr(k,at.Short),[De,rt]);break;case"medium":const ft=rn(k,"mediumTime"),tn=rn(k,"mediumDate");se=Kn(Fr(k,at.Medium),[ft,tn]);break;case"long":const jr=rn(k,"longTime"),Mn=rn(k,"longDate");se=Kn(Fr(k,at.Long),[jr,Mn]);break;case"full":const hr=rn(k,"fullTime"),ar=rn(k,"fullDate");se=Kn(Fr(k,at.Full),[hr,ar])}return se&&(wr[B][q]=se),se}function Kn(k,q){return q&&(k=k.replace(/\{([^}]+)}/g,function(B,se){return null!=q&&se in q?q[se]:B})),k}function Vt(k,q,B="-",se,De){let rt="";(k<0||De&&k<=0)&&(De?k=1-k:(k=-k,rt=B));let ft=String(k);for(;ft.length<q;)ft="0"+ft;return se&&(ft=ft.slice(ft.length-q)),rt+ft}function zn(k,q,B=0,se=!1,De=!1){return function(rt,ft){let tn=function Kr(k,q){switch(k){case Ee.FullYear:return q.getFullYear();case Ee.Month:return q.getMonth();case Ee.Date:return q.getDate();case Ee.Hours:return q.getHours();case Ee.Minutes:return q.getMinutes();case Ee.Seconds:return q.getSeconds();case Ee.FractionalSeconds:return q.getMilliseconds();case Ee.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,rt);if((B>0||tn>-B)&&(tn+=B),k===Ee.Hours)0===tn&&-12===B&&(tn=12);else if(k===Ee.FractionalSeconds)return function Bn(k,q){return Vt(k,3).substring(0,q)}(tn,q);const jr=dr(ft,et.MinusSign);return Vt(tn,q,jr,se,De)}}function pn(k,q,B=tt.Format,se=!1){return function(De,rt){return function yn(k,q,B,se,De,rt){switch(B){case nt.Months:return function Kt(k,q,B){const se=(0,f.cg1)(k),rt=zt([se[f.wAp.MonthsFormat],se[f.wAp.MonthsStandalone]],q);return zt(rt,B)}(q,De,se)[k.getMonth()];case nt.Days:return function Vn(k,q,B){const se=(0,f.cg1)(k),rt=zt([se[f.wAp.DaysFormat],se[f.wAp.DaysStandalone]],q);return zt(rt,B)}(q,De,se)[k.getDay()];case nt.DayPeriods:const ft=k.getHours(),tn=k.getMinutes();if(rt){const Mn=function lr(k){const q=(0,f.cg1)(k);return xr(q),(q[f.wAp.ExtraData][2]||[]).map(se=>"string"==typeof se?mi(se):[mi(se[0]),mi(se[1])])}(q),hr=function _r(k,q,B){const se=(0,f.cg1)(k);xr(se);const rt=zt([se[f.wAp.ExtraData][0],se[f.wAp.ExtraData][1]],q)||[];return zt(rt,B)||[]}(q,De,se),ar=Mn.findIndex(Li=>{if(Array.isArray(Li)){const[br,ts]=Li,ws=ft>=br.hours&&tn>=br.minutes,Zr=ft<ts.hours||ft===ts.hours&&tn<ts.minutes;if(br.hours<ts.hours){if(ws&&Zr)return!0}else if(ws||Zr)return!0}else if(Li.hours===ft&&Li.minutes===tn)return!0;return!1});if(-1!==ar)return hr[ar]}return function ht(k,q,B){const se=(0,f.cg1)(k),rt=zt([se[f.wAp.DayPeriodsFormat],se[f.wAp.DayPeriodsStandalone]],q);return zt(rt,B)}(q,De,se)[ft<12?0:1];case nt.Eras:return function Mt(k,q){return zt((0,f.cg1)(k)[f.wAp.Eras],q)}(q,se)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(De,rt,k,q,B,se)}}function jn(k){return function(q,B,se){const De=-1*se,rt=dr(B,et.MinusSign),ft=De>0?Math.floor(De/60):Math.ceil(De/60);switch(k){case Oe.Short:return(De>=0?"+":"")+Vt(ft,2,rt)+Vt(Math.abs(De%60),2,rt);case Oe.ShortGMT:return"GMT"+(De>=0?"+":"")+Vt(ft,1,rt);case Oe.Long:return"GMT"+(De>=0?"+":"")+Vt(ft,2,rt)+":"+Vt(Math.abs(De%60),2,rt);case Oe.Extended:return 0===se?"Z":(De>=0?"+":"")+Vt(ft,2,rt)+":"+Vt(Math.abs(De%60),2,rt);default:throw new Error(`Unknown zone width "${k}"`)}}}function Nr(k){return un(k.getFullYear(),k.getMonth(),k.getDate()+(4-k.getDay()))}function ji(k,q=!1){return function(B,se){let De;if(q){const rt=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,ft=B.getDate();De=1+Math.floor((ft+rt)/7)}else{const rt=Nr(B),ft=function Fn(k){const q=un(k,0,1).getDay();return un(k,0,1+(q<=4?4:11)-q)}(rt.getFullYear()),tn=rt.getTime()-ft.getTime();De=1+Math.round(tn/6048e5)}return Vt(De,k,dr(se,et.MinusSign))}}function Gr(k,q=!1){return function(B,se){return Vt(Nr(B).getFullYear(),k,dr(se,et.MinusSign),q)}}const Ne={};function Ve(k,q){k=k.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(B)?q:B}function Nn(k){return k instanceof Date&&!isNaN(k.valueOf())}const ir=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pe(k,q,B,se,De,rt,ft=!1){let tn="",jr=!1;if(isFinite(k)){let Mn=function Jn(k){let se,De,rt,ft,tn,q=Math.abs(k)+"",B=0;for((De=q.indexOf("."))>-1&&(q=q.replace(".","")),(rt=q.search(/e/i))>0?(De<0&&(De=rt),De+=+q.slice(rt+1),q=q.substring(0,rt)):De<0&&(De=q.length),rt=0;"0"===q.charAt(rt);rt++);if(rt===(tn=q.length))se=[0],De=1;else{for(tn--;"0"===q.charAt(tn);)tn--;for(De-=rt,se=[],ft=0;rt<=tn;rt++,ft++)se[ft]=Number(q.charAt(rt))}return De>22&&(se=se.splice(0,21),B=De-1,De=1),{digits:se,exponent:B,integerLen:De}}(k);ft&&(Mn=function gn(k){if(0===k.digits[0])return k;const q=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===q?k.digits.push(0,0):1===q&&k.digits.push(0),k.integerLen+=2),k}(Mn));let hr=q.minInt,ar=q.minFrac,Li=q.maxFrac;if(rt){const ls=rt.match(ir);if(null===ls)throw new Error(`${rt} is not a valid digit info`);const ps=ls[1],ya=ls[3],Lt=ls[5];null!=ps&&(hr=si(ps)),null!=ya&&(ar=si(ya)),null!=Lt?Li=si(Lt):null!=ya&&ar>Li&&(Li=ar)}!function sr(k,q,B){if(q>B)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${B}).`);let se=k.digits,De=se.length-k.integerLen;const rt=Math.min(Math.max(q,De),B);let ft=rt+k.integerLen,tn=se[ft];if(ft>0){se.splice(Math.max(k.integerLen,ft));for(let ar=ft;ar<se.length;ar++)se[ar]=0}else{De=Math.max(0,De),k.integerLen=1,se.length=Math.max(1,ft=rt+1),se[0]=0;for(let ar=1;ar<ft;ar++)se[ar]=0}if(tn>=5)if(ft-1<0){for(let ar=0;ar>ft;ar--)se.unshift(0),k.integerLen++;se.unshift(1),k.integerLen++}else se[ft-1]++;for(;De<Math.max(0,rt);De++)se.push(0);let jr=0!==rt;const Mn=q+k.integerLen,hr=se.reduceRight(function(ar,Li,br,ts){return ts[br]=(Li+=ar)<10?Li:Li-10,jr&&(0===ts[br]&&br>=Mn?ts.pop():jr=!1),Li>=10?1:0},0);hr&&(se.unshift(hr),k.integerLen++)}(Mn,ar,Li);let br=Mn.digits,ts=Mn.integerLen;const ws=Mn.exponent;let Zr=[];for(jr=br.every(ls=>!ls);ts<hr;ts++)br.unshift(0);for(;ts<0;ts++)br.unshift(0);ts>0?Zr=br.splice(ts,br.length):(Zr=br,br=[0]);const Mi=[];for(br.length>=q.lgSize&&Mi.unshift(br.splice(-q.lgSize,br.length).join(""));br.length>q.gSize;)Mi.unshift(br.splice(-q.gSize,br.length).join(""));br.length&&Mi.unshift(br.join("")),tn=Mi.join(dr(B,se)),Zr.length&&(tn+=dr(B,De)+Zr.join("")),ws&&(tn+=dr(B,et.Exponential)+"+"+ws)}else tn=dr(B,et.Infinity);return tn=k<0&&!jr?q.negPre+tn+q.negSuf:q.posPre+tn+q.posSuf,tn}function An(k,q="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},se=k.split(";"),De=se[0],rt=se[1],ft=-1!==De.indexOf(".")?De.split("."):[De.substring(0,De.lastIndexOf("0")+1),De.substring(De.lastIndexOf("0")+1)],tn=ft[0],jr=ft[1]||"";B.posPre=tn.substring(0,tn.indexOf("#"));for(let hr=0;hr<jr.length;hr++){const ar=jr.charAt(hr);"0"===ar?B.minFrac=B.maxFrac=hr+1:"#"===ar?B.maxFrac=hr+1:B.posSuf+=ar}const Mn=tn.split(",");if(B.gSize=Mn[1]?Mn[1].length:0,B.lgSize=Mn[2]||Mn[1]?(Mn[2]||Mn[1]).length:0,rt){const hr=De.length-B.posPre.length-B.posSuf.length,ar=rt.indexOf("#");B.negPre=rt.substring(0,ar).replace(/'/g,""),B.negSuf=rt.slice(ar+hr).replace(/'/g,"")}else B.negPre=q+B.posPre,B.negSuf=B.posSuf;return B}function si(k){const q=parseInt(k);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+k);return q}let Ar=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=f.Yz7({token:k,factory:function(B){let se=null;return B?se=new B:(De=f.LFG(f.soG),se=new hs(De)),se;var De},providedIn:"root"}),k})();let hs=(()=>{class k extends Ar{constructor(B){super(),this.locale=B}getPluralCategory(B,se){switch(Wr(se||this.locale)(B)){case Rt.Zero:return"zero";case Rt.One:return"one";case Rt.Two:return"two";case Rt.Few:return"few";case Rt.Many:return"many";default:return"other"}}}return k.\u0275fac=function(B){return new(B||k)(f.LFG(f.soG))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac}),k})();function Ji(k,q){q=encodeURIComponent(q);for(const B of k.split(";")){const se=B.indexOf("="),[De,rt]=-1==se?[B,""]:[B.slice(0,se),B.slice(se+1)];if(De.trim()===q)return decodeURIComponent(rt)}return null}let Hi=(()=>{class k{constructor(B,se,De,rt){this._iterableDiffers=B,this._keyValueDiffers=se,this._ngEl=De,this._renderer=rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(se=>this._toggleClass(se.key,se.currentValue)),B.forEachChangedItem(se=>this._toggleClass(se.key,se.currentValue)),B.forEachRemovedItem(se=>{se.previousValue&&this._toggleClass(se.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(se=>{if("string"!=typeof se.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(se.item)}`);this._toggleClass(se.item,!0)}),B.forEachRemovedItem(se=>this._toggleClass(se.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(se=>this._toggleClass(se,!0)):Object.keys(B).forEach(se=>this._toggleClass(se,!!B[se])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(se=>this._toggleClass(se,!1)):Object.keys(B).forEach(se=>this._toggleClass(se,!1)))}_toggleClass(B,se){(B=B.trim())&&B.split(/\s+/g).forEach(De=>{se?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class In{constructor(q,B,se,De){this.$implicit=q,this.ngForOf=B,this.index=se,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bn=(()=>{class k{constructor(B,se,De){this._viewContainer=B,this._template=se,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const se=this._viewContainer;B.forEachOperation((De,rt,ft)=>{if(null==De.previousIndex)se.createEmbeddedView(this._template,new In(De.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)se.remove(null===rt?void 0:rt);else if(null!==rt){const tn=se.get(rt);se.move(tn,ft),Ri(tn,De)}});for(let De=0,rt=se.length;De<rt;De++){const tn=se.get(De).context;tn.index=De,tn.count=rt,tn.ngForOf=this._ngForOf}B.forEachIdentityChange(De=>{Ri(se.get(De.currentIndex),De)})}static ngTemplateContextGuard(B,se){return!0}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Ri(k,q){k.context.$implicit=q.item}let wo=(()=>{class k{constructor(B,se){this._viewContainer=B,this._context=new Xs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){_i("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){_i("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,se){return!0}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class Xs{constructor(){this.$implicit=null,this.ngIf=null}}function _i(k,q){if(q&&!q.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,f.AaK)(q)}'.`)}class Or{constructor(q,B){this._viewContainerRef=q,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let Tr=(()=>{class k{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const se=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||se,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),se}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let se=0;se<this._defaultViews.length;se++)this._defaultViews[se].enforceState(B)}}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),k})(),Ln=(()=>{class k{constructor(B,se,De){this.ngSwitch=De,De._addCase(),this._view=new Or(B,se)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Tr,9))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),k})(),kr=(()=>{class k{constructor(B,se,De){De._addDefault(new Or(B,se))}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Tr,9))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngSwitchDefault",""]],standalone:!0}),k})(),qe=(()=>{class k{constructor(B,se,De){this._ngEl=B,this._differs=se,this._renderer=De,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,se){const[De,rt]=B.split("."),ft=-1===De.indexOf("-")?void 0:f.JOm.DashCase;null!=se?this._renderer.setStyle(this._ngEl.nativeElement,De,rt?`${se}${rt}`:se,ft):this._renderer.removeStyle(this._ngEl.nativeElement,De,ft)}_applyChanges(B){B.forEachRemovedItem(se=>this._setStyle(se.key,null)),B.forEachAddedItem(se=>this._setStyle(se.key,se.currentValue)),B.forEachChangedItem(se=>this._setStyle(se.key,se.currentValue))}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),k})(),mt=(()=>{class k{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:De,ngTemplateOutletContext:rt,ngTemplateOutletInjector:ft}=this;this._viewRef=se.createEmbeddedView(De,rt,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.s_b))},k.\u0275dir=f.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),k})();function kt(k,q){return new f.vHH(2100,!1)}class Gn{createSubscription(q,B){return q.subscribe({next:B,error:se=>{throw se}})}dispose(q){q.unsubscribe()}}class Yr{createSubscription(q,B){return q.then(B,se=>{throw se})}dispose(q){}}const Dr=new Yr,xi=new Gn;let Sr=(()=>{class k{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,se=>this._updateLatestValue(B,se))}_selectStrategy(B){if((0,f.QGY)(B))return Dr;if((0,f.F4k)(B))return xi;throw kt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,se){B===this._obj&&(this._latestValue=se,this._ref.markForCheck())}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.sBO,16))},k.\u0275pipe=f.Yjl({name:"async",type:k,pure:!1,standalone:!0}),k})(),qr=(()=>{class k{transform(B){if(null==B)return null;if("string"!=typeof B)throw kt();return B.toLowerCase()}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"lowercase",type:k,pure:!0,standalone:!0}),k})();const Es=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Xi=(()=>{class k{transform(B){if(null==B)return null;if("string"!=typeof B)throw kt();return B.replace(Es,se=>se[0].toUpperCase()+se.slice(1).toLowerCase())}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"titlecase",type:k,pure:!0,standalone:!0}),k})(),zs=(()=>{class k{transform(B){if(null==B)return null;if("string"!=typeof B)throw kt();return B.toUpperCase()}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"uppercase",type:k,pure:!0,standalone:!0}),k})();const ho=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xn=(()=>{class k{constructor(B,se){this.locale=B,this.defaultTimezone=se}transform(B,se="mediumDate",De,rt){var ft;if(null==B||""===B||B!=B)return null;try{return pt(B,se,rt||this.locale,null!==(ft=null!=De?De:this.defaultTimezone)&&void 0!==ft?ft:void 0)}catch(tn){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16),f.Y36(ho,24))},k.\u0275pipe=f.Yjl({name:"date",type:k,pure:!0,standalone:!0}),k})();const To=/#/g;let eo=(()=>{class k{constructor(B){this._localization=B}transform(B,se,De){if(null==B)return"";if("object"!=typeof se||null===se)throw kt();return se[function $n(k,q,B,se){let De=`=${k}`;if(q.indexOf(De)>-1||(De=B.getPluralCategory(k,se),q.indexOf(De)>-1))return De;if(q.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${k}"`)}(B,Object.keys(se),this._localization,De)].replace(To,B.toString())}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(Ar,16))},k.\u0275pipe=f.Yjl({name:"i18nPlural",type:k,pure:!0,standalone:!0}),k})(),fs=(()=>{class k{transform(B,se){if(null==B)return"";if("object"!=typeof se||"string"!=typeof B)throw kt();return se.hasOwnProperty(B)?se[B]:se.hasOwnProperty("other")?se.other:""}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"i18nSelect",type:k,pure:!0,standalone:!0}),k})(),Ni=(()=>{class k{transform(B){return JSON.stringify(B,null,2)}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"json",type:k,pure:!1,standalone:!0}),k})(),Wi=(()=>{class k{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Ys}transform(B,se=Ys){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const De=this.differ.diff(B),rt=se!==this.compareFn;return De&&(this.keyValues=[],De.forEachItem(ft=>{this.keyValues.push(function Gi(k,q){return{key:k,value:q}}(ft.key,ft.currentValue))})),(De||rt)&&(this.keyValues.sort(se),this.compareFn=se),this.keyValues}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.aQg,16))},k.\u0275pipe=f.Yjl({name:"keyvalue",type:k,pure:!1,standalone:!0}),k})();function Ys(k,q){const B=k.key,se=q.key;if(B===se)return 0;if(void 0===B)return 1;if(void 0===se)return-1;if(null===B)return 1;if(null===se)return-1;if("string"==typeof B&&"string"==typeof se)return B<se?-1:1;if("number"==typeof B&&"number"==typeof se)return B-se;if("boolean"==typeof B&&"boolean"==typeof se)return B<se?-1:1;const De=String(B),rt=String(se);return De==rt?0:De<rt?-1:1}let er=(()=>{class k{constructor(B){this._locale=B}transform(B,se,De){if(!no(B))return null;De=De||this._locale;try{return function Gt(k,q,B){return Pe(k,An(Ei(q,$t.Decimal),dr(q,et.MinusSign)),q,et.Group,et.Decimal,B)}(Uo(B),De,se)}catch(rt){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16))},k.\u0275pipe=f.Yjl({name:"number",type:k,pure:!0,standalone:!0}),k})(),to=(()=>{class k{constructor(B){this._locale=B}transform(B,se,De){if(!no(B))return null;De=De||this._locale;try{return function yt(k,q,B){return Pe(k,An(Ei(q,$t.Percent),dr(q,et.MinusSign)),q,et.Group,et.Decimal,B,!0).replace(new RegExp("%","g"),dr(q,et.PercentSign))}(Uo(B),De,se)}catch(rt){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16))},k.\u0275pipe=f.Yjl({name:"percent",type:k,pure:!0,standalone:!0}),k})(),Ds=(()=>{class k{constructor(B,se="USD"){this._locale=B,this._defaultCurrencyCode=se}transform(B,se=this._defaultCurrencyCode,De="symbol",rt,ft){if(!no(B))return null;ft=ft||this._locale,"boolean"==typeof De&&(De=De?"symbol":"code");let tn=se||this._defaultCurrencyCode;"code"!==De&&(tn="symbol"===De||"symbol-narrow"===De?function Di(k,q,B="en"){const se=function ni(k){return(0,f.cg1)(k)[f.wAp.Currencies]}(B)[k]||Wt[k]||[],De=se[1];return"narrow"===q&&"string"==typeof De?De:se[0]||k}(tn,"symbol"===De?"wide":"narrow",ft):De);try{return function xe(k,q,B,se,De){const ft=An(Ei(q,$t.Currency),dr(q,et.MinusSign));return ft.minFrac=function Zi(k){let q;const B=Wt[k];return B&&(q=B[2]),"number"==typeof q?q:2}(se),ft.maxFrac=ft.minFrac,Pe(k,ft,q,et.CurrencyGroup,et.CurrencyDecimal,De).replace("\xa4",B).replace("\xa4","").trim()}(Uo(B),ft,tn,se,rt)}catch(jr){throw kt()}}}return k.\u0275fac=function(B){return new(B||k)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},k.\u0275pipe=f.Yjl({name:"currency",type:k,pure:!0,standalone:!0}),k})();function no(k){return!(null==k||""===k||k!=k)}function Uo(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}let ro=(()=>{class k{transform(B,se,De){if(null==B)return null;if(!this.supports(B))throw kt();return B.slice(se,De)}supports(B){return"string"==typeof B||Array.isArray(B)}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275pipe=f.Yjl({name:"slice",type:k,pure:!1,standalone:!0}),k})(),Bo=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=f.oAB({type:k}),k.\u0275inj=f.cJS({}),k})();const Si="browser";function Ra(k){return k===Si}let So=(()=>{class k{}return k.\u0275prov=(0,f.Yz7)({token:k,providedIn:"root",factory:()=>new xa((0,f.LFG)(oe),window)}),k})();class xa{constructor(q,B){this.document=q,this.window=B,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const B=function oi(k,q){const B=k.getElementById(q)||k.getElementsByName(q)[0];if(B)return B;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const se=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let De=se.currentNode;for(;De;){const rt=De.shadowRoot;if(rt){const ft=rt.getElementById(q)||rt.querySelector(`[name="${q}"]`);if(ft)return ft}De=se.nextNode()}}return null}(this.document,q);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=q)}}scrollToElement(q){const B=q.getBoundingClientRect(),se=B.left+this.window.pageXOffset,De=B.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(se-rt[0],De-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=js(this.window.history)||js(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function js(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class En{}},520:(Ie,ae,C)=>{C.d(ae,{Ed:()=>ai,JF:()=>Zi,LE:()=>je,TP:()=>Vn,UA:()=>et,WM:()=>Q,Zn:()=>at,eN:()=>bt});var f=C(9808),S=C(5e3),te=C(9646),V=C(9751),le=C(4351),de=C(9300),oe=C(4004);class J{}class he{}class Q{constructor(Oe){this.normalizedNames=new Map,this.lazyUpdate=null,Oe?this.lazyInit="string"==typeof Oe?()=>{this.headers=new Map,Oe.split("\n").forEach(Ee=>{const nt=Ee.indexOf(":");if(nt>0){const pt=Ee.slice(0,nt),un=pt.toLowerCase(),rn=Ee.slice(nt+1).trim();this.maybeSetNormalizedName(pt,un),this.headers.has(un)?this.headers.get(un).push(rn):this.headers.set(un,[rn])}})}:()=>{this.headers=new Map,Object.keys(Oe).forEach(Ee=>{let nt=Oe[Ee];const pt=Ee.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(pt,nt),this.maybeSetNormalizedName(Ee,pt))})}:this.headers=new Map}has(Oe){return this.init(),this.headers.has(Oe.toLowerCase())}get(Oe){this.init();const Ee=this.headers.get(Oe.toLowerCase());return Ee&&Ee.length>0?Ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Oe){return this.init(),this.headers.get(Oe.toLowerCase())||null}append(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"a"})}set(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"s"})}delete(Oe,Ee){return this.clone({name:Oe,value:Ee,op:"d"})}maybeSetNormalizedName(Oe,Ee){this.normalizedNames.has(Ee)||this.normalizedNames.set(Ee,Oe)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Oe=>this.applyUpdate(Oe)),this.lazyUpdate=null))}copyFrom(Oe){Oe.init(),Array.from(Oe.headers.keys()).forEach(Ee=>{this.headers.set(Ee,Oe.headers.get(Ee)),this.normalizedNames.set(Ee,Oe.normalizedNames.get(Ee))})}clone(Oe){const Ee=new Q;return Ee.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,Ee.lazyUpdate=(this.lazyUpdate||[]).concat([Oe]),Ee}applyUpdate(Oe){const Ee=Oe.name.toLowerCase();switch(Oe.op){case"a":case"s":let nt=Oe.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(Oe.name,Ee);const pt=("a"===Oe.op?this.headers.get(Ee):void 0)||[];pt.push(...nt),this.headers.set(Ee,pt);break;case"d":const un=Oe.value;if(un){let rn=this.headers.get(Ee);if(!rn)return;rn=rn.filter(Kn=>-1===un.indexOf(Kn)),0===rn.length?(this.headers.delete(Ee),this.normalizedNames.delete(Ee)):this.headers.set(Ee,rn)}else this.headers.delete(Ee),this.normalizedNames.delete(Ee)}}forEach(Oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ee=>Oe(this.normalizedNames.get(Ee),this.headers.get(Ee)))}}class ce{encodeKey(Oe){return Ye(Oe)}encodeValue(Oe){return Ye(Oe)}decodeKey(Oe){return decodeURIComponent(Oe)}decodeValue(Oe){return decodeURIComponent(Oe)}}const ze=/%(\d[a-f0-9])/gi,we={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye($e){return encodeURIComponent($e).replace(ze,(Oe,Ee)=>{var nt;return null!==(nt=we[Ee])&&void 0!==nt?nt:Oe})}function We($e){return`${$e}`}class je{constructor(Oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Oe.encoder||new ce,Oe.fromString){if(Oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Le($e,Oe){const Ee=new Map;return $e.length>0&&$e.replace(/^\?/,"").split("&").forEach(pt=>{const un=pt.indexOf("="),[rn,Kn]=-1==un?[Oe.decodeKey(pt),""]:[Oe.decodeKey(pt.slice(0,un)),Oe.decodeValue(pt.slice(un+1))],Vt=Ee.get(rn)||[];Vt.push(Kn),Ee.set(rn,Vt)}),Ee}(Oe.fromString,this.encoder)}else Oe.fromObject?(this.map=new Map,Object.keys(Oe.fromObject).forEach(Ee=>{const nt=Oe.fromObject[Ee],pt=Array.isArray(nt)?nt.map(We):[We(nt)];this.map.set(Ee,pt)})):this.map=null}has(Oe){return this.init(),this.map.has(Oe)}get(Oe){this.init();const Ee=this.map.get(Oe);return Ee?Ee[0]:null}getAll(Oe){return this.init(),this.map.get(Oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"a"})}appendAll(Oe){const Ee=[];return Object.keys(Oe).forEach(nt=>{const pt=Oe[nt];Array.isArray(pt)?pt.forEach(un=>{Ee.push({param:nt,value:un,op:"a"})}):Ee.push({param:nt,value:pt,op:"a"})}),this.clone(Ee)}set(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"s"})}delete(Oe,Ee){return this.clone({param:Oe,value:Ee,op:"d"})}toString(){return this.init(),this.keys().map(Oe=>{const Ee=this.encoder.encodeKey(Oe);return this.map.get(Oe).map(nt=>Ee+"="+this.encoder.encodeValue(nt)).join("&")}).filter(Oe=>""!==Oe).join("&")}clone(Oe){const Ee=new je({encoder:this.encoder});return Ee.cloneFrom=this.cloneFrom||this,Ee.updates=(this.updates||[]).concat(Oe),Ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Oe=>this.map.set(Oe,this.cloneFrom.map.get(Oe))),this.updates.forEach(Oe=>{switch(Oe.op){case"a":case"s":const Ee=("a"===Oe.op?this.map.get(Oe.param):void 0)||[];Ee.push(We(Oe.value)),this.map.set(Oe.param,Ee);break;case"d":if(void 0===Oe.value){this.map.delete(Oe.param);break}{let nt=this.map.get(Oe.param)||[];const pt=nt.indexOf(We(Oe.value));-1!==pt&&nt.splice(pt,1),nt.length>0?this.map.set(Oe.param,nt):this.map.delete(Oe.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(Oe,Ee){return this.map.set(Oe,Ee),this}get(Oe){return this.map.has(Oe)||this.map.set(Oe,Oe.defaultValue()),this.map.get(Oe)}delete(Oe){return this.map.delete(Oe),this}has(Oe){return this.map.has(Oe)}keys(){return this.map.keys()}}function Be($e){return"undefined"!=typeof ArrayBuffer&&$e instanceof ArrayBuffer}function Dt($e){return"undefined"!=typeof Blob&&$e instanceof Blob}function Tt($e){return"undefined"!=typeof FormData&&$e instanceof FormData}class $t{constructor(Oe,Ee,nt,pt){let un;if(this.url=Ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Oe.toUpperCase(),function Ge($e){switch($e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pt?(this.body=void 0!==nt?nt:null,un=pt):un=nt,un&&(this.reportProgress=!!un.reportProgress,this.withCredentials=!!un.withCredentials,un.responseType&&(this.responseType=un.responseType),un.headers&&(this.headers=un.headers),un.context&&(this.context=un.context),un.params&&(this.params=un.params)),this.headers||(this.headers=new Q),this.context||(this.context=new xt),this.params){const rn=this.params.toString();if(0===rn.length)this.urlWithParams=Ee;else{const Kn=Ee.indexOf("?");this.urlWithParams=Ee+(-1===Kn?"?":Kn<Ee.length-1?"&":"")+rn}}else this.params=new je,this.urlWithParams=Ee}serializeBody(){return null===this.body?null:Be(this.body)||Dt(this.body)||Tt(this.body)||function Wt($e){return"undefined"!=typeof URLSearchParams&&$e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tt(this.body)?null:Dt(this.body)?this.body.type||null:Be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Oe={}){var Ee;const nt=Oe.method||this.method,pt=Oe.url||this.url,un=Oe.responseType||this.responseType,rn=void 0!==Oe.body?Oe.body:this.body,Kn=void 0!==Oe.withCredentials?Oe.withCredentials:this.withCredentials,Vt=void 0!==Oe.reportProgress?Oe.reportProgress:this.reportProgress;let Bn=Oe.headers||this.headers,zn=Oe.params||this.params;const Kr=null!==(Ee=Oe.context)&&void 0!==Ee?Ee:this.context;return void 0!==Oe.setHeaders&&(Bn=Object.keys(Oe.setHeaders).reduce((pn,yn)=>pn.set(yn,Oe.setHeaders[yn]),Bn)),Oe.setParams&&(zn=Object.keys(Oe.setParams).reduce((pn,yn)=>pn.set(yn,Oe.setParams[yn]),zn)),new $t(nt,pt,rn,{params:zn,headers:Bn,context:Kr,reportProgress:Vt,responseType:un,withCredentials:Kn})}}var Rt=(()=>((Rt=Rt||{})[Rt.Sent=0]="Sent",Rt[Rt.UploadProgress=1]="UploadProgress",Rt[Rt.ResponseHeader=2]="ResponseHeader",Rt[Rt.DownloadProgress=3]="DownloadProgress",Rt[Rt.Response=4]="Response",Rt[Rt.User=5]="User",Rt))();class tt{constructor(Oe,Ee=200,nt="OK"){this.headers=Oe.headers||new Q,this.status=void 0!==Oe.status?Oe.status:Ee,this.statusText=Oe.statusText||nt,this.url=Oe.url||null,this.ok=this.status>=200&&this.status<300}}class Ze extends tt{constructor(Oe={}){super(Oe),this.type=Rt.ResponseHeader}clone(Oe={}){return new Ze({headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class at extends tt{constructor(Oe={}){super(Oe),this.type=Rt.Response,this.body=void 0!==Oe.body?Oe.body:null}clone(Oe={}){return new at({body:void 0!==Oe.body?Oe.body:this.body,headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class et extends tt{constructor(Oe){super(Oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Oe.url||"(unknown url)"}`:`Http failure response for ${Oe.url||"(unknown url)"}: ${Oe.status} ${Oe.statusText}`,this.error=Oe.error||null}}function Nt($e,Oe){return{body:Oe,headers:$e.headers,context:$e.context,observe:$e.observe,params:$e.params,reportProgress:$e.reportProgress,responseType:$e.responseType,withCredentials:$e.withCredentials}}let bt=(()=>{class $e{constructor(Ee){this.handler=Ee}request(Ee,nt,pt={}){let un;if(Ee instanceof $t)un=Ee;else{let Vt,Bn;Vt=pt.headers instanceof Q?pt.headers:new Q(pt.headers),pt.params&&(Bn=pt.params instanceof je?pt.params:new je({fromObject:pt.params})),un=new $t(Ee,nt,void 0!==pt.body?pt.body:null,{headers:Vt,context:pt.context,params:Bn,reportProgress:pt.reportProgress,responseType:pt.responseType||"json",withCredentials:pt.withCredentials})}const rn=(0,te.of)(un).pipe((0,le.b)(Vt=>this.handler.handle(Vt)));if(Ee instanceof $t||"events"===pt.observe)return rn;const Kn=rn.pipe((0,de.h)(Vt=>Vt instanceof at));switch(pt.observe||"body"){case"body":switch(un.responseType){case"arraybuffer":return Kn.pipe((0,oe.U)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vt.body}));case"blob":return Kn.pipe((0,oe.U)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof Blob))throw new Error("Response is not a Blob.");return Vt.body}));case"text":return Kn.pipe((0,oe.U)(Vt=>{if(null!==Vt.body&&"string"!=typeof Vt.body)throw new Error("Response is not a string.");return Vt.body}));default:return Kn.pipe((0,oe.U)(Vt=>Vt.body))}case"response":return Kn;default:throw new Error(`Unreachable: unhandled observe type ${pt.observe}}`)}}delete(Ee,nt={}){return this.request("DELETE",Ee,nt)}get(Ee,nt={}){return this.request("GET",Ee,nt)}head(Ee,nt={}){return this.request("HEAD",Ee,nt)}jsonp(Ee,nt){return this.request("JSONP",Ee,{params:(new je).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ee,nt={}){return this.request("OPTIONS",Ee,nt)}patch(Ee,nt,pt={}){return this.request("PATCH",Ee,Nt(pt,nt))}post(Ee,nt,pt={}){return this.request("POST",Ee,Nt(pt,nt))}put(Ee,nt,pt={}){return this.request("PUT",Ee,Nt(pt,nt))}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(J))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ht{constructor(Oe,Ee){this.next=Oe,this.interceptor=Ee}handle(Oe){return this.interceptor.intercept(Oe,this.next)}}const Vn=new S.OlP("HTTP_INTERCEPTORS");let pr,Kt=(()=>{class $e{intercept(Ee,nt){return nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),Mt=0;class dr{}let Ei=(()=>{class $e{constructor(Ee,nt){this.callbackMap=Ee,this.document=nt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Mt++}handle(Ee){if("JSONP"!==Ee.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ee.responseType)throw new Error("JSONP requests must use Json response type.");if(Ee.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new V.y(nt=>{const pt=this.nextCallback(),un=Ee.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${pt}$1`),rn=this.document.createElement("script");rn.src=un;let Kn=null,Vt=!1;this.callbackMap[pt]=pn=>{delete this.callbackMap[pt],Kn=pn,Vt=!0};const Bn=()=>{rn.parentNode&&rn.parentNode.removeChild(rn),delete this.callbackMap[pt]};return rn.addEventListener("load",pn=>{this.resolvedPromise.then(()=>{Bn(),Vt?(nt.next(new at({body:Kn,status:200,statusText:"OK",url:un})),nt.complete()):nt.error(new et({url:un,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),rn.addEventListener("error",pn=>{Bn(),nt.error(new et({error:pn,status:0,statusText:"JSONP Error",url:un}))}),this.document.body.appendChild(rn),nt.next({type:Rt.Sent}),()=>{Vt||this.removeListeners(rn),Bn()}})}removeListeners(Ee){pr||(pr=this.document.implementation.createHTMLDocument()),pr.adoptNode(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(dr),S.LFG(f.K0))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),gi=(()=>{class $e{constructor(Ee){this.jsonp=Ee}intercept(Ee,nt){return"JSONP"===Ee.method?this.jsonp.handle(Ee):nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(Ei))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const ti=/^\)\]\}',?\n/;let ni=(()=>{class $e{constructor(Ee){this.xhrFactory=Ee}handle(Ee){if("JSONP"===Ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new V.y(nt=>{const pt=this.xhrFactory.build();if(pt.open(Ee.method,Ee.urlWithParams),Ee.withCredentials&&(pt.withCredentials=!0),Ee.headers.forEach((yn,jn)=>pt.setRequestHeader(yn,jn.join(","))),Ee.headers.has("Accept")||pt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ee.headers.has("Content-Type")){const yn=Ee.detectContentTypeHeader();null!==yn&&pt.setRequestHeader("Content-Type",yn)}if(Ee.responseType){const yn=Ee.responseType.toLowerCase();pt.responseType="json"!==yn?yn:"text"}const un=Ee.serializeBody();let rn=null;const Kn=()=>{if(null!==rn)return rn;const yn=pt.statusText||"OK",jn=new Q(pt.getAllResponseHeaders()),li=function $r($e){return"responseURL"in $e&&$e.responseURL?$e.responseURL:/^X-Request-URL:/m.test($e.getAllResponseHeaders())?$e.getResponseHeader("X-Request-URL"):null}(pt)||Ee.url;return rn=new Ze({headers:jn,status:pt.status,statusText:yn,url:li}),rn},Vt=()=>{let{headers:yn,status:jn,statusText:li,url:zr}=Kn(),Fn=null;204!==jn&&(Fn=void 0===pt.response?pt.responseText:pt.response),0===jn&&(jn=Fn?200:0);let Nr=jn>=200&&jn<300;if("json"===Ee.responseType&&"string"==typeof Fn){const ji=Fn;Fn=Fn.replace(ti,"");try{Fn=""!==Fn?JSON.parse(Fn):null}catch(Gr){Fn=ji,Nr&&(Nr=!1,Fn={error:Gr,text:Fn})}}Nr?(nt.next(new at({body:Fn,headers:yn,status:jn,statusText:li,url:zr||void 0})),nt.complete()):nt.error(new et({error:Fn,headers:yn,status:jn,statusText:li,url:zr||void 0}))},Bn=yn=>{const{url:jn}=Kn(),li=new et({error:yn,status:pt.status||0,statusText:pt.statusText||"Unknown Error",url:jn||void 0});nt.error(li)};let zn=!1;const Kr=yn=>{zn||(nt.next(Kn()),zn=!0);let jn={type:Rt.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(jn.total=yn.total),"text"===Ee.responseType&&!!pt.responseText&&(jn.partialText=pt.responseText),nt.next(jn)},pn=yn=>{let jn={type:Rt.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(jn.total=yn.total),nt.next(jn)};return pt.addEventListener("load",Vt),pt.addEventListener("error",Bn),pt.addEventListener("timeout",Bn),pt.addEventListener("abort",Bn),Ee.reportProgress&&(pt.addEventListener("progress",Kr),null!==un&&pt.upload&&pt.upload.addEventListener("progress",pn)),pt.send(un),nt.next({type:Rt.Sent}),()=>{pt.removeEventListener("error",Bn),pt.removeEventListener("abort",Bn),pt.removeEventListener("load",Vt),pt.removeEventListener("timeout",Bn),Ee.reportProgress&&(pt.removeEventListener("progress",Kr),null!==un&&pt.upload&&pt.upload.removeEventListener("progress",pn)),pt.readyState!==pt.DONE&&pt.abort()}})}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(f.JF))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Wr=new S.OlP("XSRF_COOKIE_NAME"),xr=new S.OlP("XSRF_HEADER_NAME");class lr{}let _r=(()=>{class $e{constructor(Ee,nt,pt){this.doc=Ee,this.platform=nt,this.cookieName=pt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ee=this.doc.cookie||"";return Ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Ee,this.cookieName),this.lastCookieString=Ee),this.lastToken}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(f.K0),S.LFG(S.Lbi),S.LFG(Wr))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),ds=(()=>{class $e{constructor(Ee,nt){this.tokenService=Ee,this.headerName=nt}intercept(Ee,nt){const pt=Ee.url.toLowerCase();if("GET"===Ee.method||"HEAD"===Ee.method||pt.startsWith("http://")||pt.startsWith("https://"))return nt.handle(Ee);const un=this.tokenService.getToken();return null!==un&&!Ee.headers.has(this.headerName)&&(Ee=Ee.clone({headers:Ee.headers.set(this.headerName,un)})),nt.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(lr),S.LFG(xr))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),zt=(()=>{class $e{constructor(Ee,nt){this.backend=Ee,this.injector=nt,this.chain=null}handle(Ee){if(null===this.chain){const nt=this.injector.get(Vn,[]);this.chain=nt.reduceRight((pt,un)=>new ht(pt,un),this.backend)}return this.chain.handle(Ee)}}return $e.\u0275fac=function(Ee){return new(Ee||$e)(S.LFG(he),S.LFG(S.zs3))},$e.\u0275prov=S.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function Di(){return"object"==typeof window?window:{}}let yr=(()=>{class $e{static disable(){return{ngModule:$e,providers:[{provide:ds,useClass:Kt}]}}static withOptions(Ee={}){return{ngModule:$e,providers:[Ee.cookieName?{provide:Wr,useValue:Ee.cookieName}:[],Ee.headerName?{provide:xr,useValue:Ee.headerName}:[]]}}}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[ds,{provide:Vn,useExisting:ds,multi:!0},{provide:lr,useClass:_r},{provide:Wr,useValue:"XSRF-TOKEN"},{provide:xr,useValue:"X-XSRF-TOKEN"}]}),$e})(),Zi=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[bt,{provide:J,useClass:zt},ni,{provide:he,useExisting:ni}],imports:[yr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),$e})(),ai=(()=>{class $e{}return $e.\u0275fac=function(Ee){return new(Ee||$e)},$e.\u0275mod=S.oAB({type:$e}),$e.\u0275inj=S.cJS({providers:[Ei,{provide:dr,useFactory:Di},{provide:Vn,useClass:gi,multi:!0}]}),$e})()},5e3:(Ie,ae,C)=>{C.d(ae,{$8M:()=>ct,$Z:()=>Vh,AFp:()=>o0,ALo:()=>CE,AaK:()=>J,Akn:()=>Mu,AsE:()=>fg,B6R:()=>Fn,BQk:()=>Zd,CHM:()=>Fa,CRH:()=>LE,CZH:()=>c_,CqO:()=>ig,D6c:()=>MI,DdM:()=>hE,Dn7:()=>TE,EJc:()=>GC,EiD:()=>qo,EpF:()=>Um,F$t:()=>Xd,F4k:()=>Vm,FYo:()=>Rf,FiY:()=>ru,G48:()=>dI,G7q:()=>SE,Gf:()=>xE,GfV:()=>Sc,GkF:()=>Jd,Gpc:()=>Z,Gre:()=>Cy,HOy:()=>pg,HTZ:()=>mE,Hsn:()=>eh,IAx:()=>ma,Ikx:()=>ra,IyS:()=>wy,JOm:()=>Au,JVY:()=>da,Jf7:()=>Uf,Jzz:()=>g,KtG:()=>$o,L6k:()=>Ma,LAX:()=>bu,LFG:()=>rs,LSH:()=>Co,Lbi:()=>BC,Lck:()=>HD,MAs:()=>Fm,MGl:()=>vd,MMx:()=>xy,MT6:()=>Iy,NdJ:()=>mf,O4$:()=>tn,OlP:()=>ci,Oqu:()=>Jm,PXZ:()=>sI,PiD:()=>Ha,Q6J:()=>tg,QGY:()=>rg,QP$:()=>Nn,QbO:()=>jC,Qsj:()=>gh,R0b:()=>Ou,RDi:()=>ou,Rgc:()=>Cg,SBq:()=>Tc,Sil:()=>KC,Suo:()=>NE,TTD:()=>to,TgZ:()=>Hc,Tol:()=>Wc,Udp:()=>dg,VKq:()=>fE,W1O:()=>VE,WLB:()=>pE,X6Q:()=>cI,XFs:()=>zt,Xpm:()=>zr,Xts:()=>Fl,Y36:()=>cd,YKP:()=>rE,YNc:()=>qd,Yjl:()=>Et,Yz7:()=>tr,Z0I:()=>gi,ZZ4:()=>rv,_Bn:()=>nE,_UZ:()=>fc,_Vd:()=>du,_c5:()=>bI,_uU:()=>yy,aQg:()=>iv,c2e:()=>HC,cJS:()=>dr,cg1:()=>Ty,d8E:()=>Kc,dDg:()=>tI,dqk:()=>pt,eBb:()=>Nl,eFA:()=>v0,ekj:()=>sh,eoX:()=>m0,evT:()=>Rg,f3M:()=>gl,fQ9:()=>ii,g9A:()=>l0,gL8:()=>Xm,h0i:()=>Af,hGG:()=>AI,hij:()=>Tf,iGM:()=>RE,ifc:()=>nt,ip1:()=>s0,jDz:()=>sE,kEZ:()=>gE,kL8:()=>Av,kcU:()=>Mn,lG2:()=>Ve,lcZ:()=>IE,lnq:()=>Cd,lqb:()=>kl,lri:()=>p0,mCW:()=>ne,n5z:()=>Jl,oAB:()=>Gr,oJD:()=>Zo,oxw:()=>yf,pB0:()=>El,q3G:()=>hi,q4F:()=>Id,qLn:()=>Ms,qOj:()=>Hd,qZA:()=>gf,qzn:()=>sl,rWj:()=>g0,s9C:()=>vf,sBO:()=>hI,sIi:()=>Wd,s_b:()=>a_,soG:()=>d_,tBr:()=>nu,tb:()=>u0,tp0:()=>$l,uIk:()=>Jp,uOi:()=>Cn,vHH:()=>we,vpe:()=>mc,wAp:()=>mr,xi3:()=>wE,xp6:()=>em,ynx:()=>pc,z2F:()=>h_,z3N:()=>Aa,zSh:()=>Vi,zs3:()=>oc});var f=C(7579),S=C(727),te=C(9751),V=C(6451),le=C(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function oe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function J(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(J).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function he(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Q=de({__forward_ref__:de});function Z(n){return n.__forward_ref__=Z,n.toString=function(){return J(this())},n}function ce(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(Q)&&n.__forward_ref__===Z}class we extends Error{constructor(r,s){super(function Ye(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function We(n){return"string"==typeof n?n:null==n?"":String(n)}function Be(n,r){throw new we(-201,!1)}function Kt(n,r){null==n&&function Mt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function tr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ei(n){return ti(n,xr)||ti(n,_r)}function gi(n){return null!==Ei(n)}function ti(n,r){return n.hasOwnProperty(r)?n[r]:null}function Wr(n){return n&&(n.hasOwnProperty(lr)||n.hasOwnProperty(ds))?n[lr]:null}const xr=de({\u0275prov:de}),lr=de({\u0275inj:de}),_r=de({ngInjectableDef:de}),ds=de({ngInjectorDef:de});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let mi;function yr(n){const r=mi;return mi=n,r}function Zi(n,r,s){const a=Ei(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&zt.Optional?null:void 0!==r?r:void Be(J(n))}function wr(n){return{toString:n}.toString()}var $e=(()=>(($e=$e||{})[$e.OnPush=0]="OnPush",$e[$e.Default=1]="Default",$e))(),nt=(()=>{return(n=nt||(nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",nt;var n})();const pt=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Kn={},Vt=[],Bn=de({\u0275cmp:de}),zn=de({\u0275dir:de}),Kr=de({\u0275pipe:de}),pn=de({\u0275mod:de}),yn=de({\u0275fac:de}),jn=de({__NG_ELEMENT_ID__:de});let li=0;function zr(n){return wr(()=>{const s=!0===n.standalone,a={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$e.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||nt.Emulated,id:"c"+li++,styles:n.styles||Vt,_:null,setInput:null,schemas:n.schemas||null,tView:null},m=n.dependencies,w=n.features;return d.inputs=Ae(n.inputs,a),d.outputs=Ae(n.outputs),w&&w.forEach(R=>R(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(Nr).filter(ji):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(Xt).filter(ji):null,d})}function Fn(n,r,s){const a=n.\u0275cmp;a.directiveDefs=()=>("function"==typeof r?r():r).map(Nr),a.pipeDefs=()=>("function"==typeof s?s():s).map(Xt)}function Nr(n){return Ke(n)||Ht(n)}function ji(n){return null!==n}function Gr(n){return wr(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ae(n,r){if(null==n)return Kn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=a,r&&(r[d]=m)}return s}const Ve=zr;function Et(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ke(n){return n[Bn]||null}function Ht(n){return n[zn]||null}function Xt(n){return n[Kr]||null}function Nn(n){const r=Ke(n)||Ht(n)||Xt(n);return null!==r&&r.standalone}function ir(n,r){const s=n[pn]||null;if(!s&&!0===r)throw new Error(`Type ${J(n)} does not have '\u0275mod' property.`);return s}function _i(n){return Array.isArray(n)&&"object"==typeof n[1]}function Or(n){return Array.isArray(n)&&!0===n[1]}function Tr(n){return 0!=(8&n.flags)}function Ln(n){return 2==(2&n.flags)}function kr(n){return 1==(1&n.flags)}function as(n){return null!==n.template}function Te(n){return 0!=(256&n[2])}function Ys(n,r){return n.hasOwnProperty(yn)?n[yn]:null}class er{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function to(){return Ds}function Ds(n){return n.type.prototype.ngOnChanges&&(n.setInput=Uo),no}function no(){const n=Vo(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Kn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Uo(n,r,s,a){const d=Vo(n)||function Bo(n,r){return n[ro]=r}(n,{previous:Kn,current:null}),m=d.current||(d.current={}),w=d.previous,R=this.declaredInputs[s],U=w[R];m[R]=new er(U&&U.currentValue,r,w===Kn),n[a]=r}to.ngInherit=!0;const ro="__ngSimpleChanges__";function Vo(n){return n[ro]||null}function Ki(n){for(;Array.isArray(n);)n=n[0];return n}function js(n,r){return Ki(r[n])}function oi(n,r){return Ki(r[n.index])}function En(n,r){return n.data[r]}function jo(n,r){return n[r]}function ur(n,r){const s=r[n];return _i(s)?s:s[0]}function Pr(n){return 64==(64&n[2])}function Hs(n,r){return null==r?null:n[r]}function Ho(n){n[18]=0}function Qs(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Dn={lFrame:ul(null),bindingsEnabled:!0};function po(){return Dn.bindingsEnabled}function ii(){Dn.bindingsEnabled=!0}function ma(){Dn.bindingsEnabled=!1}function Ot(){return Dn.lFrame.lView}function Yn(){return Dn.lFrame.tView}function Fa(n){return Dn.lFrame.contextLView=n,n[8]}function $o(n){return Dn.lFrame.contextLView=null,n}function Ii(){let n=G();for(;null!==n&&64===n.type;)n=n.parent;return n}function G(){return Dn.lFrame.currentTNode}function L(n,r){const s=Dn.lFrame;s.currentTNode=n,s.isParent=r}function ie(){return Dn.lFrame.isParent}function dt(){Dn.lFrame.isParent=!1}function Qr(){const n=Dn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ai(){return Dn.lFrame.bindingIndex}function bo(){return Dn.lFrame.bindingIndex++}function Ao(n){const r=Dn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Fs(n,r){const s=Dn.lFrame;s.bindingIndex=s.bindingRootIndex=n,ka(r)}function ka(n){Dn.lFrame.currentDirectiveIndex=n}function Ua(n){const r=Dn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Go(){return Dn.lFrame.currentQueryIndex}function Wo(n){Dn.lFrame.currentQueryIndex=n}function _o(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Mo(n,r,s){if(s&zt.SkipSelf){let d=r,m=n;for(;!(d=d.parent,null!==d||s&zt.Host||(d=_o(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;r=d,n=m}const a=Dn.lFrame=_a();return a.currentTNode=r,a.lView=n,!0}function Ps(n){const r=_a(),s=n[1];Dn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function _a(){const n=Dn.lFrame,r=null===n?null:n.child;return null===r?ul(n):r}function ul(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Oo(){const n=Dn.lFrame;return Dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k=Oo;function q(){const n=Oo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function De(){return Dn.lFrame.selectedIndex}function rt(n){Dn.lFrame.selectedIndex=n}function ft(){const n=Dn.lFrame;return En(n.tView,n.selectedIndex)}function tn(){Dn.lFrame.currentNamespace="svg"}function Mn(){!function hr(){Dn.lFrame.currentNamespace=null}()}function br(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:R,ngAfterViewInit:U,ngAfterViewChecked:z,ngOnDestroy:ue}=m;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),R&&((n.contentHooks||(n.contentHooks=[])).push(s,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,R)),U&&(n.viewHooks||(n.viewHooks=[])).push(-s,U),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=ue&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ue)}}function ts(n,r,s){Mi(n,r,3,s)}function ws(n,r,s,a){(3&n[2])===s&&Mi(n,r,s,a)}function Zr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Mi(n,r,s,a){const m=null!=a?a:-1,w=r.length-1;let R=0;for(let U=void 0!==a?65535&n[18]:0;U<w;U++)if("number"==typeof r[U+1]){if(R=r[U],null!=a&&R>=a)break}else r[U]<0&&(n[18]+=65536),(R<m||-1==m)&&(ls(n,s,r,U),n[18]=(4294901760&n[18])+U+2),U++}function ls(n,r,s,a){const d=s[a]<0,m=s[a+1],R=n[d?-s[a]:s[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{m.call(R)}finally{}}}else try{m.call(R)}finally{}}class ya{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ut(n,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const m=s[a++],w=s[a++],R=s[a++];n.setAttribute(r,w,R,m)}else{const m=d,w=s[++a];Ts(m)?n.setProperty(r,m,w):n.setAttribute(r,m,w),a++}}return a}function wt(n){return 3===n||4===n||6===n}function Ts(n){return 64===n.charCodeAt(0)}function Ja(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||Oi(n,s,d,null,-1===s||2===s?r[++a]:null)}}return n}function Oi(n,r,s,a,d){let m=0,w=n.length;if(-1===r)w=-1;else for(;m<n.length;){const R=n[m++];if("number"==typeof R){if(R===r){w=-1;break}if(R>r){w=m-1;break}}}for(;m<n.length;){const R=n[m];if("number"==typeof R)break;if(R===s){if(null===a)return void(null!==d&&(n[m+1]=d));if(a===n[m+1])return void(n[m+2]=d)}m++,null!==a&&m++,null!==d&&m++}-1!==w&&(n.splice(w,0,r),m=w+1),n.splice(m++,0,s),null!==a&&n.splice(m++,0,a),null!==d&&n.splice(m++,0,d)}function Ko(n){return-1!==n}function qs(n){return 32767&n}function ks(n,r){let s=function Zl(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let aa=!0;function Po(n){const r=aa;return aa=n,r}let nr=0;const Rs={};function ui(n,r){const s=la(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Sn(a.data,n),Sn(r,null),Sn(a.blueprint,null));const d=vr(n,r),m=n.injectorIndex;if(Ko(d)){const w=qs(d),R=ks(d,r),U=R[1].data;for(let z=0;z<8;z++)r[m+z]=R[w+z]|U[w+z]}return r[m+8]=d,m}function Sn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function la(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function vr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=Da(d),null===a)return-1;if(s++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function us(n,r,s){!function _u(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(jn)&&(a=s[jn]),null==a&&(a=s[jn]=nr++);const d=255&a;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function Jt(n,r,s){if(s&zt.Optional||void 0!==n)return n;Be()}function zo(n,r,s,a){if(s&zt.Optional&&void 0===a&&(a=null),0==(s&(zt.Self|zt.Host))){const d=n[9],m=yr(void 0);try{return d?d.get(r,a,s&zt.Optional):Zi(r,a,s&zt.Optional)}finally{yr(m)}}return Jt(a,0,s)}function va(n,r,s,a=zt.Default,d){if(null!==n){if(1024&r[2]){const w=function so(n,r,s,a,d){let m=n,w=r;for(;null!==m&&null!==w&&1024&w[2]&&!(256&w[2]);){const R=vo(m,w,s,a|zt.Self,Rs);if(R!==Rs)return R;let U=m.parent;if(!U){const z=w[21];if(z){const ue=z.get(s,Rs,a);if(ue!==Rs)return ue}U=Da(w),w=w[15]}m=U}return d}(n,r,s,a,Rs);if(w!==Rs)return w}const m=vo(n,r,s,a,Rs);if(m!==Rs)return m}return zo(r,s,a,d)}function vo(n,r,s,a,d){const m=function cl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(jn)?n[jn]:void 0;return"number"==typeof r?r>=0?255&r:Ea:r}(s);if("function"==typeof m){if(!Mo(r,n,a))return a&zt.Host?Jt(d,0,a):zo(r,s,a,d);try{const w=m(a);if(null!=w||a&zt.Optional)return w;Be()}finally{k()}}else if("number"==typeof m){let w=null,R=la(n,r),U=-1,z=a&zt.Host?r[16][6]:null;for((-1===R||a&zt.SkipSelf)&&(U=-1===R?vr(n,r):r[R+8],-1!==U&&hl(a,!1)?(w=r[1],R=qs(U),r=ks(U,r)):R=-1);-1!==R;){const ue=r[1];if(dl(m,R,ue.data)){const _e=yu(R,r,s,w,a,z);if(_e!==Rs)return _e}U=r[R+8],-1!==U&&hl(a,r[1].data[R+8]===z)&&dl(m,R,r)?(w=ue,R=qs(U),r=ks(U,r)):R=-1}}return d}function yu(n,r,s,a,d,m){const w=r[1],R=w.data[n+8],ue=Va(R,w,s,null==a?Ln(R)&&aa:a!=w&&0!=(3&R.type),d&zt.Host&&m===R);return null!==ue?Yo(r,w,ue,R):Rs}function Va(n,r,s,a,d){const m=n.providerIndexes,w=r.data,R=1048575&m,U=n.directiveStart,ue=m>>20,Ue=d?R+ue:n.directiveEnd;for(let st=a?R:R+ue;st<Ue;st++){const St=w[st];if(st<U&&s===St||st>=U&&St.type===s)return st}if(d){const st=w[U];if(st&&as(st)&&st.type===s)return U}return null}function Yo(n,r,s,a){let d=n[s];const m=r.data;if(function Lt(n){return n instanceof ya}(d)){const w=d;w.resolving&&function gt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new we(-200,`Circular dependency in DI detected for ${n}${s}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():We(n)}(m[s]));const R=Po(w.canSeeViewProviders);w.resolving=!0;const U=w.injectImpl?yr(w.injectImpl):null;Mo(n,a,zt.Default);try{d=n[s]=w.factory(void 0,m,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Li(n,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:m}=r.type.prototype;if(a){const w=Ds(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],r)}finally{null!==U&&yr(U),Po(R),w.resolving=!1,k()}}return d}function dl(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function hl(n,r){return!(n&zt.Self||n&zt.Host&&r)}class zi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return va(this._tNode,this._lView,r,a,s)}}function Ea(){return new zi(Ii(),Ot())}function Jl(n){return wr(()=>{const r=n.prototype.constructor,s=r[yn]||Ba(r),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const m=d[yn]||Ba(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Ba(n){return Le(n)?()=>{const r=Ba(ce(n));return r&&r()}:Ys(n)}function Da(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function ct(n){return function gr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const m=s[d];if(wt(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(m===r)return s[d+1];d+=2}}}return null}(Ii(),n)}const Ss="__parameters__";function el(n,r,s){return wr(()=>{const a=function Ro(n){return function(...s){if(n){const a=n(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...m){if(this instanceof d)return a.apply(this,m),this;const w=new d(...m);return R.annotation=w,R;function R(U,z,ue){const _e=U.hasOwnProperty(Ss)?U[Ss]:Object.defineProperty(U,Ss,{value:[]})[Ss];for(;_e.length<=ue;)_e.push(null);return(_e[ue]=_e[ue]||[]).push(w),U}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class ci{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=tr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function O(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),O(a,r)):r!==n&&r.push(a)}return r}function T(n,r){n.forEach(s=>Array.isArray(s)?T(s,r):r(s))}function F(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function $(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function re(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function vn(n,r,s){let a=Jr(n,r);return a>=0?n[1|a]=s:(a=~a,function Xe(n,r,s,a){let d=n.length;if(d==r)n.push(s,a);else if(1===d)n.push(a,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Zn(n,r){const s=Jr(n,r);if(s>=0)return n[1|s]}function Jr(n,r){return function gs(n,r,s){let a=0,d=n.length>>s;for(;d!==a;){const m=a+(d-a>>1),w=n[m<<s];if(r===w)return m<<s;w>r?d=m:a=m+1}return~(d<<s)}(n,r,1)}const Hl={},oo="__NG_DI_FLAG__",No="ngTempTokenPath",Eu=/\n/gm,Xr="__source";let Ta;function Lo(n){const r=Ta;return Ta=n,r}function eu(n,r=zt.Default){if(void 0===Ta)throw new we(-203,!1);return null===Ta?Zi(n,void 0,r):Ta.get(n,r&zt.Optional?null:void 0,r)}function rs(n,r=zt.Default){return(function Di(){return mi}()||eu)(ce(n),r)}function gl(n,r=zt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),rs(n,r)}function ua(n){const r=[];for(let s=0;s<n.length;s++){const a=ce(n[s]);if(Array.isArray(a)){if(0===a.length)throw new we(900,!1);let d,m=zt.Default;for(let w=0;w<a.length;w++){const R=a[w],U=Qu(R);"number"==typeof U?-1===U?d=R.token:m|=U:d=R}r.push(rs(d,m))}else r.push(rs(a))}return r}function bl(n,r){return n[oo]=r,n.prototype[oo]=r,n}function Qu(n){return n[oo]}const nu=bl(el("Inject",n=>({token:n})),-1),ru=bl(el("Optional"),8),Ha=bl(el("Self"),2),$l=bl(el("SkipSelf"),4);let Ol,Kl,Pl;function ou(n){Ol=n}function Qi(n){var r;return(null===(r=function Ga(){if(void 0===Kl&&(Kl=null,pt.trustedTypes))try{Kl=pt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Kl}())||void 0===r?void 0:r.createHTML(n))||n}function yl(){if(void 0===Pl&&(Pl=null,pt.trustedTypes))try{Pl=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Pl}function vl(n){var r;return(null===(r=yl())||void 0===r?void 0:r.createHTML(n))||n}function ba(n){var r;return(null===(r=yl())||void 0===r?void 0:r.createScriptURL(n))||n}class Rl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zu extends Rl{getTypeName(){return"HTML"}}class Lu extends Rl{getTypeName(){return"Style"}}class Fu extends Rl{getTypeName(){return"Script"}}class Su extends Rl{getTypeName(){return"URL"}}class vc extends Rl{getTypeName(){return"ResourceURL"}}function Aa(n){return n instanceof Rl?n.changingThisBreaksApplicationSecurity:n}function sl(n,r){const s=function xl(n){return n instanceof Rl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function da(n){return new Zu(n)}function Ma(n){return new Lu(n)}function Nl(n){return new Fu(n)}function bu(n){return new Su(n)}function El(n){return new vc(n)}class E{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Qi(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class _{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Qi(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Qi(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const w=s.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const K=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ne(n){return(n=String(n)).match(K)?n:"unsafe:"+n}function ye(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Se(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Je=ye("area,br,col,hr,img,wbr"),_t=ye("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ut=ye("rp,rt"),on=Se(Je,Se(_t,ye("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Se(Ut,ye("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Se(Ut,_t)),Wn=ye("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cs=Se(Wn,ye("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ye("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vi=ye("script,style,template");class As{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!on.hasOwnProperty(s))return this.sanitizedSomething=!0,!vi.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const m=a.item(d),w=m.name,R=w.toLowerCase();if(!cs.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let U=m.value;Wn[R]&&(U=ne(U)),this.buf.push(" ",w,'="',Ui(U),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();on.hasOwnProperty(s)&&!Je.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Ui(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const ei=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function Ui(n){return n.replace(/&/g,"&amp;").replace(ei,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ys;function qo(n,r){let s=null;try{ys=ys||function I(n){const r=new _(n);return function x(){try{return!!(new window.DOMParser).parseFromString(Qi(""),"text/html")}catch(n){return!1}}()?new E(r):r}(n);let a=r?String(r):"";s=ys.getInertBodyElement(a);let d=5,m=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=m,m=s.innerHTML,s=ys.getInertBodyElement(a)}while(a!==m);return Qi((new As).sanitizeChildren(ha(s)||s))}finally{if(s){const a=ha(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ha(n){return"content"in n&&function is(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function Zo(n){const r=fi();return r?vl(r.sanitize(hi.HTML,n)||""):sl(n,"HTML")?vl(Aa(n)):qo(function ml(){return void 0!==Ol?Ol:"undefined"!=typeof document?document:void 0}(),We(n))}function Co(n){const r=fi();return r?r.sanitize(hi.URL,n)||"":sl(n,"URL")?Aa(n):ne(We(n))}function Cn(n){const r=fi();if(r)return ba(r.sanitize(hi.RESOURCE_URL,n)||"");if(sl(n,"ResourceURL"))return ba(Aa(n));throw new we(904,!1)}function fi(){const n=Ot();return n&&n[12]}const Fl=new ci("ENVIRONMENT_INITIALIZER"),ku=new ci("INJECTOR",-1),Js=new ci("INJECTOR_DEF_TYPES");class ol{get(r,s=Hl){if(s===Hl){const a=new Error(`NullInjectorError: No provider for ${J(r)}!`);throw a.name="NullInjectorError",a}return s}}function b(...n){return{\u0275providers:p(0,n)}}function p(n,...r){const s=[],a=new Set;let d;return T(r,m=>{const w=m;A(w,s,[],a)&&(d||(d=[]),d.push(w))}),void 0!==d&&y(d,s),s}function y(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];T(d,m=>{r.push(m)})}}function A(n,r,s,a){if(!(n=ce(n)))return!1;let d=null,m=Wr(n);const w=!m&&Ke(n);if(m||w){if(w&&!w.standalone)return!1;d=n}else{const U=n.ngModule;if(m=Wr(U),!m)return!1;d=U}const R=a.has(d);if(w){if(R)return!1;if(a.add(d),w.dependencies){const U="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const z of U)A(z,r,s,a)}}else{if(!m)return!1;{if(null!=m.imports&&!R){let z;a.add(d);try{T(m.imports,ue=>{A(ue,r,s,a)&&(z||(z=[]),z.push(ue))})}finally{}void 0!==z&&y(z,r)}if(!R){const z=Ys(d)||(()=>new d);r.push({provide:d,useFactory:z,deps:Vt},{provide:Js,useValue:d,multi:!0},{provide:Fl,useValue:()=>rs(d),multi:!0})}const U=m.providers;null==U||R||T(U,ue=>{r.push(ue)})}}return d!==n&&void 0!==n.providers}const fe=de({provide:String,useValue:de});function Qe(n){return null!==n&&"object"==typeof n&&fe in n}function Pn(n){return"function"==typeof n}const Vi=new ci("Set Injector scope."),Oa={},Wa={};let pa;function lu(){return void 0===pa&&(pa=new ol),pa}class kl{}class uu extends kl{constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ic(r,w=>this.processProvider(w)),this.records.set(ku,cu(void 0,this)),d.has("environment")&&this.records.set(kl,cu(void 0,this));const m=this.records.get(Vi);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Js.multi,Vt,zt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Lo(this),a=yr(void 0);try{return r()}finally{Lo(s),yr(a)}}get(r,s=Hl,a=zt.Default){this.assertNotDestroyed();const d=Lo(this),m=yr(void 0);try{if(!(a&zt.SkipSelf)){let R=this.records.get(r);if(void 0===R){const U=function Vu(n){return"function"==typeof n||"object"==typeof n&&n instanceof ci}(r)&&Ei(r);R=U&&this.injectableDefInScope(U)?cu(Ju(r),Oa):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(a&zt.Self?lu():this.parent).get(r,s=a&zt.Optional&&s===Hl?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[No]=w[No]||[]).unshift(J(r)),d)throw w;return function qu(n,r,s,a){const d=n[No];throw r[Xr]&&d.unshift(r[Xr]),n.message=function tu(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=J(r);if(Array.isArray(r))d=r.map(J).join(" -> ");else if("object"==typeof r){let m=[];for(let w in r)if(r.hasOwnProperty(w)){let R=r[w];m.push(w+":"+("string"==typeof R?JSON.stringify(R):J(R)))}d=`{${m.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${n.replace(Eu,"\n  ")}`}("\n"+n.message,d,s,a),n.ngTokenPath=d,n[No]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{yr(m),Lo(d)}}resolveInjectorInitializers(){const r=Lo(this),s=yr(void 0);try{const a=this.get(Fl.multi,Vt,zt.Self);for(const d of a)d()}finally{Lo(r),yr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(J(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(r){let s=Pn(r=ce(r))?r:ce(r&&r.provide);const a=function Qc(n){return Qe(n)?cu(void 0,n.useValue):cu(Ec(n),Oa)}(r);if(Pn(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=cu(void 0,Oa,!0),d.factory=()=>ua(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Oa&&(s.value=Wa,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Dc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ce(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Ju(n){const r=Ei(n),s=null!==r?r.factory:Ys(n);if(null!==s)return s;if(n instanceof ci)throw new we(204,!1);if(n instanceof Function)return function Xu(n){const r=n.length;if(r>0)throw re(r,"?"),new we(204,!1);const s=function $r(n){const r=n&&(n[xr]||n[_r]);if(r){const s=function ni(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new we(204,!1)}function Ec(n,r,s){let a;if(Pn(n)){const d=ce(n);return Ys(d)||Ju(d)}if(Qe(n))a=()=>ce(n.useValue);else if(function dn(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ua(n.deps||[]));else if(function It(n){return!(!n||!n.useExisting)}(n))a=()=>rs(ce(n.useExisting));else{const d=ce(n&&(n.useClass||n.provide));if(!function Uu(n){return!!n.deps}(n))return Ys(d)||Ju(d);a=()=>new d(...ua(n.deps))}return a}function cu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Cc(n){return!!n.\u0275providers}function Ic(n,r){for(const s of n)Array.isArray(s)?Ic(s,r):Cc(s)?Ic(s.\u0275providers,r):r(s)}class dh{}class ph{resolveComponentFactory(r){throw function hh(n){const r=Error(`No component factory found for ${J(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let du=(()=>{class n{}return n.NULL=new ph,n})();function wc(){return Bu(Ii(),Ot())}function Bu(n,r){return new Tc(oi(n,r))}let Tc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=wc,n})();function Pf(n){return n instanceof Tc?n.nativeElement:n}class Rf{}let gh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zl(){const n=Ot(),s=ur(Ii().index,n);return(_i(s)?s:n)[11]}(),n})(),mh=(()=>{class n{}return n.\u0275prov=tr({token:n,providedIn:"root",factory:()=>null}),n})();class Sc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Id=new Sc("14.2.4"),_h={};function Yl(n){return n.ngOriginalError}class Ms{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Yl(r);for(;s&&Yl(s);)s=Yl(s);return s||null}}const Hu=new Map;let Ac=0;const Eh="__ngContext__";function Pa(n,r){_i(r)?(n[Eh]=r[20],function Td(n){Hu.set(n[20],n)}(r)):n[Eh]=r}function Uf(n){return n.ownerDocument.defaultView}function Rg(n){return n.ownerDocument}function hu(n){return n instanceof Function?n():n}var Au=(()=>((Au=Au||{})[Au.Important=1]="Important",Au[Au.DashCase=2]="DashCase",Au))();function Xc(n,r){return undefined(n,r)}function nc(n){const r=n[3];return Or(r)?r[3]:r}function Dh(n){return $f(n[13])}function za(n){return $f(n[4])}function $f(n){for(;null!==n&&!Or(n);)n=n[4];return n}function $u(n,r,s,a,d){if(null!=a){let m,w=!1;Or(a)?m=a:_i(a)&&(w=!0,a=a[0]);const R=Ki(a);0===n&&null!==s?null==d?Yf(r,s,R):xc(r,s,R,d||null,!0):1===n&&null!==s?xc(r,s,R,d||null,!0):2===n?function Zf(n,r,s){const a=Od(n,r);a&&function Md(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,R,w):3===n&&r.destroyNode(R),null!=m&&function ep(n,r,s,a,d){const m=s[7];m!==Ki(s)&&$u(r,n,a,m,d);for(let R=10;R<s.length;R++){const U=s[R];sc(U[1],U,n,r,a,m)}}(r,n,m,s,d)}}function Ih(n,r,s){return n.createElement(r,s)}function Bg(n,r){const s=n[9],a=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,Qs(d,-1)),s.splice(a,1)}function Wf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const d=a[17];null!==d&&d!==n&&Bg(d,a),r>0&&(n[s-1][4]=a[4]);const m=$(n,10+r);!function Rc(n,r){sc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=m[19];null!==w&&w.detachView(m[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function jg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&sc(n,r,s,3,null,null),function Ug(n){let r=n[13];if(!r)return Kf(n[1],n);for(;r;){let s=null;if(_i(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)_i(r)&&Kf(r[1],r),r=r[3];null===r&&(r=n),_i(r)&&Kf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Kf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Hg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof ya)){const m=s[a+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const R=d[m[w]],U=m[w+1];try{U.call(R)}finally{}}else try{m.call(d)}finally{}}}}(n,r),function wh(n,r){const s=n.cleanup,a=r[7];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const w=s[m+1],R="function"==typeof w?w(r):Ki(r[w]),U=a[d=s[m+2]],z=s[m+3];"boolean"==typeof z?R.removeEventListener(s[m],U,z):z>=0?a[d=z]():a[d=-z].unsubscribe(),m+=2}else{const w=a[d=s[m+1]];s[m].call(w)}if(null!==a){for(let m=d+1;m<a.length;m++)(0,a[m])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Or(r[3])){s!==r[3]&&Bg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Lf(n){Hu.delete(n[20])}(r)}}function $g(n,r,s){return function zf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===nt.None||d===nt.Emulated)return null}return oi(a,s)}(n,r.parent,s)}function xc(n,r,s,a,d){n.insertBefore(r,s,a,d)}function Yf(n,r,s){n.appendChild(r,s)}function ic(n,r,s,a,d){null!==a?xc(n,r,s,a,d):Yf(n,r,s)}function Od(n,r){return n.parentNode(r)}function Qf(n,r,s){return Wg(n,r,s)}let Wg=function Gg(n,r,s){return 40&n.type?oi(n,s):null};function Th(n,r,s,a){const d=$g(n,a,r),m=r[11],R=Qf(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(s))for(let U=0;U<s.length;U++)ic(m,d,s[U],R,!1);else ic(m,d,s,R,!1)}function Sh(n,r){if(null!==r){const s=r.type;if(3&s)return oi(r,n);if(4&s)return qf(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Sh(n,a);{const d=n[r.index];return Or(d)?qf(-1,d):Ki(d)}}if(32&s)return Xc(r,n)()||Ki(n[r.index]);{const a=Kg(n,r);return null!==a?Array.isArray(a)?a[0]:Sh(nc(n[16]),a):Sh(n,r.next)}}return null}function Kg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function qf(n,r){const s=10+n+1;if(s<r.length){const a=r[s],d=a[1].firstChild;if(null!==d)return Sh(a,d)}return r[7]}function Jf(n,r,s,a,d,m,w){for(;null!=s;){const R=a[s.index],U=s.type;if(w&&0===r&&(R&&Pa(Ki(R),a),s.flags|=4),64!=(64&s.flags))if(8&U)Jf(n,r,s.child,a,d,m,!1),$u(r,n,d,R,m);else if(32&U){const z=Xc(s,a);let ue;for(;ue=z();)$u(r,n,d,ue,m);$u(r,n,d,R,m)}else 16&U?Xf(n,r,a,s,d,m):$u(r,n,d,R,m);s=w?s.projectionNext:s.next}}function sc(n,r,s,a,d,m){Jf(s,a,n.firstChild,r,d,m,!1)}function Xf(n,r,s,a,d,m){const w=s[16],U=w[6].projection[a.projection];if(Array.isArray(U))for(let z=0;z<U.length;z++)$u(r,n,d,U[z],m);else Jf(n,r,U,w[3],d,m,!0)}function nd(n,r,s){n.setAttribute(r,"style",s)}function rd(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function bh(n,r,s){let a=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=r.length;if(d+m===a||n.charCodeAt(d+m)<=32)return d}s=d+1}}const np="ng-template";function T_(n,r,s){let a=0;for(;a<n.length;){let d=n[a++];if(s&&"class"===d){if(d=n[a],-1!==bh(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function rp(n){return 4===n.type&&n.value!==np}function Yg(n,r,s){return r===(4!==n.type||s?n.value:np)}function ip(n,r,s){let a=4;const d=n.attrs||[],m=function S_(n){for(let r=0;r<n.length;r++)if(wt(n[r]))return r;return n.length}(d);let w=!1;for(let R=0;R<r.length;R++){const U=r[R];if("number"!=typeof U){if(!w)if(4&a){if(a=2|1&a,""!==U&&!Yg(n,U,s)||""===U&&1===r.length){if(fu(a))return!1;w=!0}}else{const z=8&a?U:r[++R];if(8&a&&null!==n.attrs){if(!T_(n.attrs,z,s)){if(fu(a))return!1;w=!0}continue}const _e=Qg(8&a?"class":U,d,rp(n),s);if(-1===_e){if(fu(a))return!1;w=!0;continue}if(""!==z){let Ue;Ue=_e>m?"":d[_e+1].toLowerCase();const st=8&a?Ue:null;if(st&&-1!==bh(st,z,0)||2&a&&z!==Ue){if(fu(a))return!1;w=!0}}}}else{if(!w&&!fu(a)&&!fu(U))return!1;if(w&&fu(U))continue;w=!1,a=U|1&a}}return fu(a)||w}function fu(n){return 0==(1&n)}function Qg(n,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let m=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)m=!0;else{if(1===w||2===w){let R=r[++d];for(;"string"==typeof R;)R=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=m?1:2}return-1}return function id(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function qg(n,r,s=!1){for(let a=0;a<r.length;a++)if(ip(n,r[a],s))return!0;return!1}function sd(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function Ah(n,r){return n?":not("+r.trim()+")":r}function Mh(n){let r=n[0],s=1,a=2,d="",m=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&a){const R=n[++s];d+="["+w+(R.length>0?'="'+R+'"':"")+"]"}else 8&a?d+="."+w:4&a&&(d+=" "+w);else""!==d&&!fu(w)&&(r+=Ah(m,d),d=""),a=w,m=m||!fu(a);s++}return""!==d&&(r+=Ah(m,d)),r}const Rr={};function em(n){Oh(Yn(),Ot(),De()+n,!1)}function Oh(n,r,s,a){if(!a)if(3==(3&r[2])){const m=n.preOrderCheckHooks;null!==m&&ts(r,m,s)}else{const m=n.preOrderHooks;null!==m&&ws(r,m,0,s)}rt(s)}function Rh(n,r=null,s=null,a){const d=xh(n,r,s,a);return d.resolveInjectorInitializers(),d}function xh(n,r=null,s=null,a,d=new Set){const m=[s||Vt,b(n)];return a=a||("object"==typeof n?void 0:J(n)),new uu(m,r||lu(),a||null,d)}let oc=(()=>{class n{static create(s,a){var d;if(Array.isArray(s))return Rh({name:""},a,s,"");{const m=null!==(d=s.name)&&void 0!==d?d:"";return Rh({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=Hl,n.NULL=new ol,n.\u0275prov=tr({token:n,providedIn:"any",factory:()=>rs(ku)}),n.__NG_ELEMENT_ID__=-1,n})();function cd(n,r=zt.Default){const s=Ot();return null===s?rs(n,r):va(Ii(),s,ce(n),r)}function Vh(){throw new Error("invalid")}function dd(n,r){return n<<17|r<<2}function Dl(n){return n>>17&32767}function lc(n){return 2|n}function pu(n){return(131068&n)>>2}function pp(n,r){return-131069&n|r<<2}function jh(n){return 1|n}function Gh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a],m=s[a+1];if(-1!==m){const w=n.data[m];Wo(d),w.contentQueries(2,r[m],m)}}}function Wh(n,r,s,a,d,m,w,R,U,z,ue){const _e=r.blueprint.slice();return _e[0]=d,_e[2]=76|a,(null!==ue||n&&1024&n[2])&&(_e[2]|=1024),Ho(_e),_e[3]=_e[15]=n,_e[8]=s,_e[10]=w||n&&n[10],_e[11]=R||n&&n[11],_e[12]=U||n&&n[12]||null,_e[9]=z||n&&n[9]||null,_e[6]=m,_e[20]=function Mc(){return Ac++}(),_e[21]=ue,_e[16]=2==r.type?n[16]:_e,_e}function cc(n,r,s,a,d){let m=n.data[r];if(null===m)m=function Kh(n,r,s,a,d){const m=G(),w=ie(),U=n.data[r]=function wm(n,r,s,a,d,m){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,s,r,a,d);return null===n.firstChild&&(n.firstChild=U),null!==m&&(w?null==m.child&&null!==U.parent&&(m.child=U):null===m.next&&(m.next=U)),U}(n,r,s,a,d),function Il(){return Dn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=a,m.attrs=d;const w=function j(){const n=Dn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return L(m,!0),m}function dc(n,r,s,a){if(0===s)return-1;const d=r.length;for(let m=0;m<s;m++)r.push(a),n.blueprint.push(a),n.data.push(null);return d}function zh(n,r,s){Ps(r);try{const a=n.viewQuery;null!==a&&rf(1,a,s);const d=n.template;null!==d&&Qh(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Gh(n,r),n.staticViewQueries&&rf(2,n.viewQuery,s);const m=n.components;null!==m&&function Mp(n,r){for(let s=0;s<r.length;s++)Hp(n,r[s])}(r,m)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,q()}}function Yh(n,r,s,a){const d=r[2];if(128!=(128&d)){Ps(r);try{Ho(r),function go(n){return Dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Qh(n,r,s,2,a);const w=3==(3&d);if(w){const z=n.preOrderCheckHooks;null!==z&&ts(r,z,null)}else{const z=n.preOrderHooks;null!==z&&ws(r,z,0,null),Zr(r,0)}if(function G_(n){for(let r=Dh(n);null!==r;r=za(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const d=s[a],m=d[3];0==(512&d[2])&&Qs(m,1),d[2]|=512}}}(r),function Pm(n){for(let r=Dh(n);null!==r;r=za(r))for(let s=10;s<r.length;s++){const a=r[s],d=a[1];Pr(a)&&Yh(d,a,d.template,a[8])}}(r),null!==n.contentQueries&&Gh(n,r),w){const z=n.contentCheckHooks;null!==z&&ts(r,z)}else{const z=n.contentHooks;null!==z&&ws(r,z,1),Zr(r,1)}!function Ap(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)rt(~d);else{const m=d,w=s[++a],R=s[++a];Fs(w,m),R(2,r[m])}}}finally{rt(-1)}}(n,r);const R=n.components;null!==R&&function k_(n,r){for(let s=0;s<r.length;s++)W_(n,r[s])}(r,R);const U=n.viewQuery;if(null!==U&&rf(2,U,a),w){const z=n.viewCheckHooks;null!==z&&ts(r,z)}else{const z=n.viewHooks;null!==z&&ws(r,z,2),Zr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Qs(r[3],-1))}finally{q()}}}function Qh(n,r,s,a,d){const m=De(),w=2&a;try{rt(-1),w&&r.length>22&&Oh(n,r,22,!1),s(a,d)}finally{rt(m)}}function Cm(n,r,s){if(Tr(r)){const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const w=n.data[m];w.contentQueries&&w.contentQueries(1,s[m],m)}}}function Vd(n,r,s){!po()||(function Fp(n,r,s,a){const d=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||ui(s,r),Pa(a,r);const w=s.initialInputs;for(let R=d;R<m;R++){const U=n.data[R],z=as(U);z&&$_(r,s,U);const ue=Yo(r,n,R,s);Pa(ue,r),null!==w&&Bp(0,R-d,ue,U,0,w),z&&(ur(s.index,r)[8]=ue)}}(n,r,s,oi(s,r)),128==(128&s.flags)&&function j_(n,r,s){const a=s.directiveStart,d=s.directiveEnd,m=s.index,w=function mo(){return Dn.lFrame.currentDirectiveIndex}();try{rt(m);for(let R=a;R<d;R++){const U=n.data[R],z=r[R];ka(R),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&ef(U,z)}}finally{rt(-1),ka(w)}}(n,r,s))}function Op(n,r,s=oi){const a=r.localNames;if(null!==a){let d=r.index+1;for(let m=0;m<a.length;m+=2){const w=a[m+1],R=-1===w?s(r,n):n[w];n[d++]=R}}}function qh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Pp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Pp(n,r,s,a,d,m,w,R,U,z){const ue=22+a,_e=ue+d,Ue=function Rp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Rr);return s}(ue,_e),st="function"==typeof z?z():z;return Ue[1]={type:n,blueprint:Ue,template:s,queries:null,viewQuery:R,declTNode:r,data:Ue.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:U,consts:st,incompleteFirstPass:!1}}function kc(n,r,s,a){const d=$p(r);null===s?d.push(a):(d.push(s),n.firstCreatePass&&pd(n).push(a,d.length-1))}function Zh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,d):s[a]=[r,d]}return s}function Tm(n,r){const a=r.directiveEnd,d=n.data,m=r.attrs,w=[];let R=null,U=null;for(let z=r.directiveStart;z<a;z++){const ue=d[z],_e=ue.inputs,Ue=null===m||rp(r)?null:jp(_e,m);w.push(Ue),R=Zh(_e,z,R),U=Zh(ue.outputs,z,U)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=16),R.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=R,r.outputs=U}function Io(n,r,s,a,d,m,w,R){const U=oi(r,s);let ue,z=r.inputs;!R&&null!=z&&(ue=z[a])?(ta(n,s,ue,a,d),Ln(r)&&Jh(s,r.index)):3&r.type&&(a=function Np(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=w?w(d,r.value||"",a):d,m.setProperty(U,a,d))}function Jh(n,r){const s=ur(r,n);16&s[2]||(s[2]|=32)}function Lp(n,r,s,a){let d=!1;if(po()){const m=function H_(n,r,s){const a=n.directiveRegistry;let d=null;if(a)for(let m=0;m<a.length;m++){const w=a[m];qg(s,w.selectors,!1)&&(d||(d=[]),us(ui(s,r),n,w.type),as(w)?(tf(n,s),d.unshift(w)):d.push(w))}return d}(n,r,s),w=null===a?null:{"":-1};if(null!==m){d=!0,Up(s,n.data.length,m.length);for(let ue=0;ue<m.length;ue++){const _e=m[ue];_e.providersResolver&&_e.providersResolver(_e)}let R=!1,U=!1,z=dc(n,r,m.length,null);for(let ue=0;ue<m.length;ue++){const _e=m[ue];s.mergedAttrs=Ja(s.mergedAttrs,_e.hostAttrs),Am(n,s,r,z,_e),kp(z,_e,w),null!==_e.contentQueries&&(s.flags|=8),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(s.flags|=128);const Ue=_e.type.prototype;!R&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),R=!0),!U&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),U=!0),z++}Tm(n,s)}w&&function bm(n,r,s){if(r){const a=n.localNames=[];for(let d=0;d<r.length;d+=2){const m=s[r[d+1]];if(null==m)throw new we(-301,!1);a.push(r[d],m)}}}(s,a,w)}return s.mergedAttrs=Ja(s.mergedAttrs,s.attrs),d}function Xh(n,r,s,a,d,m){const w=m.hostBindings;if(w){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const U=~r.index;(function B_(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(R)!=U&&R.push(U),R.push(a,d,w)}}function ef(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function tf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function kp(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;as(r)&&(s[""]=n)}}function Up(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Am(n,r,s,a,d){n.data[a]=d;const m=d.factory||(d.factory=Ys(d.type)),w=new ya(m,as(d),cd);n.blueprint[a]=w,s[a]=w,Xh(n,r,0,a,dc(n,s,d.hostVars,Rr),d)}function $_(n,r,s){const a=oi(r,n),d=qh(s),m=n[10],w=jd(n,Wh(n,d,null,s.onPush?32:16,a,r,m,m.createRenderer(a,s),null,null,null));n[r.index]=w}function Ql(n,r,s,a,d,m){const w=oi(n,r);!function Vp(n,r,s,a,d,m,w){if(null==m)n.removeAttribute(r,d,s);else{const R=null==w?We(m):w(m,a||"",d);n.setAttribute(r,d,R,s)}}(r[11],w,m,n.value,s,a,d)}function Bp(n,r,s,a,d,m){const w=m[r];if(null!==w){const R=a.setInput;for(let U=0;U<w.length;){const z=w[U++],ue=w[U++],_e=w[U++];null!==R?a.setInput(s,_e,z,ue):s[ue]=_e}}}function jp(n,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Om(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function W_(n,r){const s=ur(r,n);if(Pr(s)){const a=s[1];48&s[2]?Yh(a,s,a.template,s[8]):s[5]>0&&Bd(s)}}function Bd(n){for(let a=Dh(n);null!==a;a=za(a))for(let d=10;d<a.length;d++){const m=a[d];if(Pr(m))if(512&m[2]){const w=m[1];Yh(w,m,w.template,m[8])}else m[5]>0&&Bd(m)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const d=ur(s[a],n);Pr(d)&&d[5]>0&&Bd(d)}}function Hp(n,r){const s=ur(r,n),a=s[1];(function K_(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),zh(a,s,s[8])}function jd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function nf(n){for(;n;){n[2]|=32;const r=nc(n);if(Te(n)&&!r)return n;n=r}return null}function Uc(n,r,s,a=!0){const d=r[10];d.begin&&d.begin();try{Yh(n,r,n.template,s)}catch(w){throw a&&lo(r,w),w}finally{d.end&&d.end()}}function rf(n,r,s){Wo(0),r(n,s)}function $p(n){return n[7]||(n[7]=[])}function pd(n){return n.cleanup||(n.cleanup=[])}function lo(n,r){const s=n[9],a=s?s.get(Ms,null):null;a&&a.handleError(r)}function ta(n,r,s,a,d){for(let m=0;m<s.length;){const w=s[m++],R=s[m++],U=r[w],z=n.data[w];null!==z.setInput?z.setInput(U,d,a,R):U[R]=d}}function ga(n,r,s){const a=js(r,n);!function Gu(n,r,s){n.setValue(r,s)}(n[11],a,s)}function sf(n,r,s){let a=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==r)for(let w=0;w<r.length;w++){const R=r[w];"number"==typeof R?m=R:1==m?d=he(d,R):2==m&&(a=he(a,R+": "+r[++w]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=d:n.classesWithoutHost=d}function Gp(n,r,s,a,d=!1){for(;null!==s;){const m=r[s.index];if(null!==m&&a.push(Ki(m)),Or(m))for(let R=10;R<m.length;R++){const U=m[R],z=U[1].firstChild;null!==z&&Gp(U[1],U,z,a)}const w=s.type;if(8&w)Gp(n,r,s.child,a);else if(32&w){const R=Xc(s,r);let U;for(;U=R();)a.push(U)}else if(16&w){const R=Kg(r,s);if(Array.isArray(R))a.push(...R);else{const U=nc(r[16]);Gp(U[1],U,R,a,!0)}}s=d?s.projectionNext:s.next}return a}class gd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Gp(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Or(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Wf(r,a),$(s,a))}this._attachedToViewContainer=!1}jg(this._lView[1],this._lView)}onDestroy(r){kc(this._lView[1],this._lView,null,r)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Uc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function td(n,r){sc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=r}}class vv extends gd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Uc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class af extends du{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ke(r);return new uf(s,this.ngModule)}}function Wp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Y_{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const d=this.injector.get(r,_h,a);return d!==_h||s===_h?d:this.parentInjector.get(r,s,a)}}class uf extends dh{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Jg(n){return n.map(Mh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Wp(this.componentDef.inputs)}get outputs(){return Wp(this.componentDef.outputs)}create(r,s,a,d){let m=(d=d||this.ngModule)instanceof kl?d:null==d?void 0:d.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const w=m?new Y_(r,m):r,R=w.get(Rf,null);if(null===R)throw new we(407,!1);const U=w.get(mh,null),z=R.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",_e=a?function xp(n,r,s){return n.selectRootElement(r,s===nt.ShadowDom)}(z,a,this.componentDef.encapsulation):Ih(R.createRenderer(null,this.componentDef),ue,function lf(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ue)),Ue=this.componentDef.onPush?288:272,st=Pp(0,null,null,1,0,null,null,null,null,null),St=Wh(null,st,null,Ue,null,null,R,z,U,w,null);let qt,ln;Ps(St);try{const Hn=function Z_(n,r,s,a,d,m){const w=s[1];s[22]=n;const U=cc(w,22,2,"#host",null),z=U.mergedAttrs=r.hostAttrs;null!==z&&(sf(U,z,!0),null!==n&&(ut(d,n,z),null!==U.classes&&rd(d,n,U.classes),null!==U.styles&&nd(d,n,U.styles)));const ue=a.createRenderer(n,r),_e=Wh(s,qh(r),null,r.onPush?32:16,s[22],U,a,ue,m||null,null,null);return w.firstCreatePass&&(us(ui(U,s),w,r.type),tf(w,U),Up(U,s.length,1)),jd(s,_e),s[22]=_e}(_e,this.componentDef,St,R,z);if(_e)if(a)ut(z,_e,["ng-version",Id.full]);else{const{attrs:cr,classes:Ft}=function Xg(n){const r=[],s=[];let a=1,d=2;for(;a<n.length;){let m=n[a];if("string"==typeof m)2===d?""!==m&&r.push(m,n[++a]):8===d&&s.push(m);else{if(!fu(d))break;d=m}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);cr&&ut(z,_e,cr),Ft&&Ft.length>0&&rd(z,_e,Ft.join(" "))}if(ln=En(st,22),void 0!==s){const cr=ln.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const Er=s[Ft];cr.push(null!=Er?Array.from(Er):null)}}qt=function xm(n,r,s,a){const d=s[1],m=function V_(n,r,s){const a=Ii();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Am(n,a,r,dc(n,r,1,null),s),Tm(n,a));const d=Yo(r,n,a.directiveStart,a);Pa(d,r);const m=oi(a,r);return m&&Pa(m,r),d}(d,s,r);if(n[8]=s[8]=m,null!==a)for(const R of a)R(m,r);if(r.contentQueries){const R=Ii();r.contentQueries(1,m,R.directiveStart)}const w=Ii();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(rt(w.index),Xh(s[1],w,0,w.directiveStart,w.directiveEnd,r),ef(r,m)),m}(Hn,this.componentDef,St,[Kp]),zh(st,St,null)}finally{q()}return new q_(this.componentType,qt,Bu(ln,St),St,ln)}}class q_ extends class ch{}{constructor(r,s,a,d,m){super(),this.location=a,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new vv(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const m=this._rootLView;ta(m[1],m,d,r,s),Jh(m,this._tNode.index)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Kp(){const n=Ii();br(Ot()[1],n)}function Hd(n){let r=function zp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let d;if(as(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new we(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const w=n;w.inputs=$d(n.inputs),w.declaredInputs=$d(n.declaredInputs),w.outputs=$d(n.outputs);const R=d.hostBindings;R&&Nm(n,R);const U=d.viewQuery,z=d.contentQueries;if(U&&cf(n,U),z&&Qp(n,z),oe(n.inputs,d.inputs),oe(n.declaredInputs,d.declaredInputs),oe(n.outputs,d.outputs),as(d)&&d.data.animation){const ue=n.data;ue.animation=(ue.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let w=0;w<m.length;w++){const R=m[w];R&&R.ngInherit&&R(n),R===Hd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Yp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=r+=d.hostVars,d.hostAttrs=Ja(d.hostAttrs,s=Ja(s,d.hostAttrs))}}(a)}function $d(n){return n===Kn?{}:n===Vt?[]:n}function cf(n,r){const s=n.viewQuery;n.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Qp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,d,m)=>{r(a,d,m),s(a,d,m)}:r}function Nm(n,r){const s=n.hostBindings;n.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}let Gd=null;function ql(){if(!Gd){const n=pt.Symbol;if(n&&n.iterator)Gd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gd=a)}}}return Gd}function Wd(n){return!!hf(n)&&(Array.isArray(n)||!(n instanceof Map)&&ql()in n)}function hf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gu(n,r,s){return n[r]=s}function Kd(n,r){return n[r]}function Ya(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Vc(n,r,s,a){const d=Ya(n,r,s);return Ya(n,r+1,a)||d}function ff(n,r,s,a,d){const m=Vc(n,r,s,a);return Ya(n,r+2,d)||m}function Cl(n,r,s,a,d,m){const w=Vc(n,r,s,a);return Vc(n,r+2,d,m)||w}function Jp(n,r,s,a){const d=Ot();return Ya(d,bo(),r)&&(Yn(),Ql(ft(),d,n,r,s,a)),Jp}function ss(n,r,s,a){return Ya(n,bo(),s)?r+We(s)+a:Rr}function Yd(n,r,s,a,d,m){const R=Vc(n,Ai(),s,d);return Ao(2),R?r+We(s)+a+We(d)+m:Rr}function md(n,r,s,a,d,m,w,R){const z=ff(n,Ai(),s,d,w);return Ao(3),z?r+We(s)+a+We(d)+m+We(w)+R:Rr}function qd(n,r,s,a,d,m,w,R){const U=Ot(),z=Yn(),ue=n+22,_e=z.firstCreatePass?function Cv(n,r,s,a,d,m,w,R,U){const z=r.consts,ue=cc(r,n,4,w||null,Hs(z,R));Lp(r,s,ue,Hs(z,U)),br(r,ue);const _e=ue.tViews=Pp(2,ue,a,d,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ue),_e.queries=r.queries.embeddedTView(ue)),ue}(ue,z,U,r,s,a,d,m,w):z.data[ue];L(_e,!1);const Ue=U[11].createComment("");Th(z,U,Ue,_e),Pa(Ue,U),jd(U,U[ue]=Om(Ue,U,Ue,_e)),kr(_e)&&Vd(z,U,_e),null!=w&&Op(U,_e,R)}function Fm(n){return jo(function bi(){return Dn.lFrame.contextLView}(),22+n)}function tg(n,r,s){const a=Ot();return Ya(a,bo(),r)&&Io(Yn(),ft(),a,n,r,a[11],s,!1),tg}function pf(n,r,s,a,d){const w=d?"class":"style";ta(n,s,r.inputs[w],w,a)}function Hc(n,r,s,a){const d=Ot(),m=Yn(),w=22+n,R=d[11],U=d[w]=Ih(R,r,function ar(){return Dn.lFrame.currentNamespace}()),z=m.firstCreatePass?function km(n,r,s,a,d,m,w){const R=r.consts,z=cc(r,n,2,d,Hs(R,m));return Lp(r,s,z,Hs(R,w)),null!==z.attrs&&sf(z,z.attrs,!1),null!==z.mergedAttrs&&sf(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(w,m,d,0,r,s,a):m.data[w];L(z,!0);const ue=z.mergedAttrs;null!==ue&&ut(R,U,ue);const _e=z.classes;null!==_e&&rd(R,U,_e);const Ue=z.styles;return null!==Ue&&nd(R,U,Ue),64!=(64&z.flags)&&Th(m,d,U,z),0===function sa(){return Dn.lFrame.elementDepthCount}()&&Pa(U,d),function Ls(){Dn.lFrame.elementDepthCount++}(),kr(z)&&(Vd(m,d,z),Cm(m,z,d)),null!==a&&Op(d,z),Hc}function gf(){let n=Ii();ie()?dt():(n=n.parent,L(n,!1));const r=n;!function Is(){Dn.lFrame.elementDepthCount--}();const s=Yn();return s.firstCreatePass&&(br(s,n),Tr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function nn(n){return 0!=(16&n.flags)}(r)&&pf(s,r,Ot(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tn(n){return 0!=(32&n.flags)}(r)&&pf(s,r,Ot(),r.stylesWithoutHost,!1),gf}function fc(n,r,s,a){return Hc(n,r,s,a),gf(),fc}function pc(n,r,s){const a=Ot(),d=Yn(),m=n+22,w=d.firstCreatePass?function ng(n,r,s,a,d){const m=r.consts,w=Hs(m,a),R=cc(r,n,8,"ng-container",w);return null!==w&&sf(R,w,!0),Lp(r,s,R,Hs(m,d)),null!==r.queries&&r.queries.elementStart(r,R),R}(m,d,a,r,s):d.data[m];L(w,!0);const R=a[m]=a[11].createComment("");return Th(d,a,R,w),Pa(R,a),kr(w)&&(Vd(d,a,w),Cm(d,w,a)),null!=s&&Op(a,w),pc}function Zd(){let n=Ii();const r=Yn();return ie()?dt():(n=n.parent,L(n,!1)),r.firstCreatePass&&(br(r,n),Tr(n)&&r.queries.elementEnd(n)),Zd}function Jd(n,r,s){return pc(n,r,s),Zd(),Jd}function Um(){return Ot()}function rg(n){return!!n&&"function"==typeof n.then}function Vm(n){return!!n&&"function"==typeof n.subscribe}const ig=Vm;function mf(n,r,s,a){const d=Ot(),m=Yn(),w=Ii();return function og(n,r,s,a,d,m,w,R){const U=kr(a),ue=n.firstCreatePass&&pd(n),_e=r[8],Ue=$p(r);let st=!0;if(3&a.type||R){const ln=oi(a,r),Hn=R?R(ln):ln,cr=Ue.length,Ft=R?Bi=>R(Ki(Bi[a.index])):a.index;let Er=null;if(!R&&U&&(Er=function $c(n,r,s,a){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const w=d[m];if(w===s&&d[m+1]===a){const R=r[7],U=d[m+2];return R.length>U?R[U]:null}"string"==typeof w&&(m+=2)}return null}(n,r,d,a.index)),null!==Er)(Er.__ngLastListenerFn__||Er).__ngNextListenerFn__=m,Er.__ngLastListenerFn__=m,st=!1;else{m=_f(a,r,_e,m,!1);const Bi=s.listen(Hn,d,m);Ue.push(m,Bi),ue&&ue.push(d,Ft,cr,cr+1)}}else m=_f(a,r,_e,m,!1);const St=a.outputs;let qt;if(st&&null!==St&&(qt=St[d])){const ln=qt.length;if(ln)for(let Hn=0;Hn<ln;Hn+=2){const co=r[qt[Hn]][qt[Hn+1]].subscribe(m),uh=Ue.length;Ue.push(m,co),ue&&ue.push(d,a.index,uh,-(uh+1))}}}(m,d,d[11],w,n,r,0,a),mf}function ag(n,r,s,a){try{return!1!==s(a)}catch(d){return lo(n,d),!1}}function _f(n,r,s,a,d){return function m(w){if(w===Function)return a;nf(2&n.flags?ur(n.index,r):r);let U=ag(r,0,a,w),z=m.__ngNextListenerFn__;for(;z;)U=ag(r,0,z,w)&&U,z=z.__ngNextListenerFn__;return d&&!1===U&&(w.preventDefault(),w.returnValue=!1),U}}function yf(n=1){return function B(n){return(Dn.lFrame.contextLView=function se(n,r){for(;n>0;)r=r[15],n--;return r}(n,Dn.lFrame.contextLView))[8]}(n)}function ly(n,r){let s=null;const a=function Zg(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const m=r[d];if("*"!==m){if(null===a?qg(n,m,!0):sd(a,m))return d}else s=d}return s}function Xd(n){const r=Ot()[16][6];if(!r.projection){const a=r.projection=re(n?n.length:1,null),d=a.slice();let m=r.child;for(;null!==m;){const w=n?ly(m,n):0;null!==w&&(d[w]?d[w].projectionNext=m:a[w]=m,d[w]=m),m=m.next}}}function eh(n,r=0,s){const a=Ot(),d=Yn(),m=cc(d,22+n,16,null,s||null);null===m.projection&&(m.projection=r),dt(),64!=(64&m.flags)&&function w_(n,r,s){Xf(r[11],0,r,s,$g(n,s,r),Qf(s.parent||r[6],s,r))}(d,a,m)}function vf(n,r,s){return vd(n,"",r,"",s),vf}function vd(n,r,s,a,d){const m=Ot(),w=ss(m,r,s,a);return w!==Rr&&Io(Yn(),ft(),m,n,w,m[11],d,!1),vd}function Df(n,r,s,a,d){const m=n[s+1],w=null===r;let R=a?Dl(m):pu(m),U=!1;for(;0!==R&&(!1===U||w);){const ue=n[R+1];cy(n[R],r)&&(U=!0,n[R+1]=a?jh(ue):lc(ue)),R=a?Dl(ue):pu(ue)}U&&(n[s+1]=a?lc(m):jh(m))}function cy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Jr(n,r)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hm(n){return n.substring(uo.key,uo.keyEnd)}function Tv(n){return n.substring(uo.value,uo.valueEnd)}function dy(n,r){const s=uo.textEnd;return s===r?-1:(r=uo.keyEnd=function Gm(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,uo.key=r,s),ih(n,r,s))}function rh(n,r){const s=uo.textEnd;let a=uo.key=ih(n,r,s);return s===a?-1:(a=uo.keyEnd=function Wm(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=ug(n,a,s),a=uo.value=ih(n,a,s),a=uo.valueEnd=function Km(n,r,s){let a=-1,d=-1,m=-1,w=r,R=w;for(;w<s;){const U=n.charCodeAt(w++);if(59===U)return R;34===U||39===U?R=w=cg(n,U,w,s):r===w-4&&85===m&&82===d&&76===a&&40===U?R=w=cg(n,41,w,s):U>32&&(R=w),m=d,d=a,a=-33&U}return R}(n,a,s),ug(n,a,s))}function $m(n){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=n.length}function ih(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function ug(n,r,s,a){return(r=ih(n,r,s))<s&&r++,r}function cg(n,r,s,a){let d=-1,m=s;for(;m<a;){const w=n.charCodeAt(m++);if(w==r&&92!==d)return m;d=92==w&&92===d?0:w}throw new Error}function dg(n,r,s){return Qa(n,r,s,!1),dg}function sh(n,r){return Qa(n,r,null,!0),sh}function Mu(n){mu(Qm,Gc,n,!1)}function Gc(n,r){for(let s=function hy(n){return $m(n),rh(n,ih(n,0,uo.textEnd))}(r);s>=0;s=rh(r,s))Qm(n,Hm(r),Tv(r))}function Wc(n){mu(vn,Ul,n,!0)}function Ul(n,r){for(let s=function Cf(n){return $m(n),dy(n,ih(n,0,uo.textEnd))}(r);s>=0;s=dy(r,s))vn(n,Hm(r),!0)}function Qa(n,r,s,a){const d=Ot(),m=Yn(),w=Ao(2);m.firstUpdatePass&&zm(m,n,w,a),r!==Rr&&Ya(d,w,r)&&qm(m,m.data[De()],d,d[11],n,d[w+1]=function oh(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=J(Aa(n)))),n}(r,s),a,w)}function mu(n,r,s,a){const d=Yn(),m=Ao(2);d.firstUpdatePass&&zm(d,null,m,a);const w=Ot();if(s!==Rr&&Ya(w,m,s)){const R=d.data[De()];if(wf(R,a)&&!py(d,m)){let U=a?R.classesWithoutHost:R.stylesWithoutHost;null!==U&&(s=he(U,s||"")),pf(d,R,w,s,a)}else!function _y(n,r,s,a,d,m,w,R){d===Rr&&(d=Vt);let U=0,z=0,ue=0<d.length?d[0]:null,_e=0<m.length?m[0]:null;for(;null!==ue||null!==_e;){const Ue=U<d.length?d[U+1]:void 0,st=z<m.length?m[z+1]:void 0;let qt,St=null;ue===_e?(U+=2,z+=2,Ue!==st&&(St=_e,qt=st)):null===_e||null!==ue&&ue<_e?(U+=2,St=ue):(z+=2,St=_e,qt=st),null!==St&&qm(n,r,s,a,St,qt,w,R),ue=U<d.length?d[U]:null,_e=z<m.length?m[z]:null}}(d,R,w,w[11],w[m+1],w[m+1]=function bv(n,r,s){if(null==s||""===s)return Vt;const a=[],d=Aa(s);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(a,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(a,m,d[m]);else"string"==typeof d&&r(a,d);return a}(n,r,s),a,m)}}function py(n,r){return r>=n.expandoStartIndex}function zm(n,r,s,a){const d=n.data;if(null===d[s+1]){const m=d[De()],w=py(n,s);wf(m,a)&&null===r&&!w&&(r=!1),r=function gc(n,r,s,a){const d=Ua(n);let m=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=If(s=Ym(null,n,r,s,a),r.attrs,a),m=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=Ym(d,n,r,s,a),null===m){let U=function gy(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==pu(a))return n[Dl(a)]}(n,r,a);void 0!==U&&Array.isArray(U)&&(U=Ym(null,n,r,U[1],a),U=If(U,r.attrs,a),function Sv(n,r,s,a){n[Dl(s?r.classBindings:r.styleBindings)]=a}(n,r,a,U))}else m=function my(n,r,s){let a;const d=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<d;m++)a=If(a,n[m].hostAttrs,s);return If(a,r.attrs,s)}(n,r,a)}return void 0!==m&&(a?r.residualClasses=m:r.residualStyles=m),s}(d,m,r,a),function Iv(n,r,s,a,d,m){let w=m?r.classBindings:r.styleBindings,R=Dl(w),U=pu(w);n[a]=s;let ue,z=!1;if(Array.isArray(s)){const _e=s;ue=_e[1],(null===ue||Jr(_e,ue)>0)&&(z=!0)}else ue=s;if(d)if(0!==U){const Ue=Dl(n[R+1]);n[a+1]=dd(Ue,R),0!==Ue&&(n[Ue+1]=pp(n[Ue+1],a)),n[R+1]=function lm(n,r){return 131071&n|r<<17}(n[R+1],a)}else n[a+1]=dd(R,0),0!==R&&(n[R+1]=pp(n[R+1],a)),R=a;else n[a+1]=dd(U,0),0===R?R=a:n[U+1]=pp(n[U+1],a),U=a;z&&(n[a+1]=lc(n[a+1])),Df(n,ue,a,!0),Df(n,ue,a,!1),function wv(n,r,s,a,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof r&&Jr(m,r)>=0&&(s[a+1]=jh(s[a+1]))}(r,ue,n,a,m),w=dd(R,U),m?r.classBindings=w:r.styleBindings=w}(d,m,r,s,w,a)}}function Ym(n,r,s,a,d){let m=null;const w=s.directiveEnd;let R=s.directiveStylingLast;for(-1===R?R=s.directiveStart:R++;R<w&&(m=r[R],a=If(a,m.hostAttrs,d),m!==n);)R++;return null!==n&&(s.directiveStylingLast=R),a}function If(n,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vn(n,w,!!s||r[++m]))}return void 0===n?null:n}function Qm(n,r,s){vn(n,r,Aa(s))}function qm(n,r,s,a,d,m,w,R){if(!(3&r.type))return;const U=n.data,z=U[R+1];hg(function um(n){return 1==(1&n)}(z)?Zm(U,r,s,d,pu(z),w):void 0)||(hg(m)||function Bh(n){return 2==(2&n)}(z)&&(m=Zm(U,null,s,d,R,w)),function tp(n,r,s,a,d){if(r)d?n.addClass(s,a):n.removeClass(s,a);else{let m=-1===a.indexOf("-")?void 0:Au.DashCase;null==d?n.removeStyle(s,a,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=Au.Important),n.setStyle(s,a,d,m))}}(a,w,js(De(),s),d,m))}function Zm(n,r,s,a,d,m){const w=null===r;let R;for(;d>0;){const U=n[d],z=Array.isArray(U),ue=z?U[1]:U,_e=null===ue;let Ue=s[d+1];Ue===Rr&&(Ue=_e?Vt:void 0);let st=_e?Zn(Ue,a):ue===a?Ue:void 0;if(z&&!hg(st)&&(st=Zn(U,a)),hg(st)&&(R=st,w))return R;const St=n[d+1];d=w?Dl(St):pu(St)}if(null!==r){let U=m?r.residualClasses:r.residualStyles;null!=U&&(R=Zn(U,a))}return R}function hg(n){return void 0!==n}function wf(n,r){return 0!=(n.flags&(r?16:32))}function yy(n,r=""){const s=Ot(),a=Yn(),d=n+22,m=a.firstCreatePass?cc(a,d,1,r,null):a.data[d],w=s[d]=function Ch(n,r){return n.createText(r)}(s[11],r);Th(a,s,w,m),L(m,!1)}function Jm(n){return Tf("",n,""),Jm}function Tf(n,r,s){const a=Ot(),d=ss(a,n,r,s);return d!==Rr&&ga(a,De(),d),Tf}function fg(n,r,s,a,d){const m=Ot(),w=Yd(m,n,r,s,a,d);return w!==Rr&&ga(m,De(),w),fg}function Cd(n,r,s,a,d,m,w){const R=Ot(),U=md(R,n,r,s,a,d,m,w);return U!==Rr&&ga(R,De(),U),Cd}function pg(n,r,s,a,d,m,w,R,U){const z=Ot(),ue=function Vs(n,r,s,a,d,m,w,R,U,z){const _e=Cl(n,Ai(),s,d,w,U);return Ao(4),_e?r+We(s)+a+We(d)+m+We(w)+R+We(U)+z:Rr}(z,n,r,s,a,d,m,w,R,U);return ue!==Rr&&ga(z,De(),ue),pg}function Xm(n,r,s,a,d,m,w,R,U,z,ue,_e,Ue){const st=Ot(),St=function _d(n,r,s,a,d,m,w,R,U,z,ue,_e,Ue,st){const St=Ai();let qt=Cl(n,St,s,d,w,U);return qt=Vc(n,St+4,ue,Ue)||qt,Ao(6),qt?r+We(s)+a+We(d)+m+We(w)+R+We(U)+z+We(ue)+_e+We(Ue)+st:Rr}(st,n,r,s,a,d,m,w,R,U,z,ue,_e,Ue);return St!==Rr&&ga(st,De(),St),Xm}function Cy(n,r,s){mu(vn,Ul,ss(Ot(),n,r,s),!0)}function Iy(n,r,s,a,d){mu(vn,Ul,Yd(Ot(),n,r,s,a,d),!0)}function wy(n,r,s,a,d,m,w){mu(vn,Ul,md(Ot(),n,r,s,a,d,m,w),!0)}function g(n,r,s){Mu(ss(Ot(),n,r,s))}function ra(n,r,s){const a=Ot();return Ya(a,bo(),r)&&Io(Yn(),ft(),a,n,r,a[11],s,!0),ra}function Kc(n,r,s){const a=Ot();if(Ya(a,bo(),r)){const m=Yn(),w=ft();Io(m,w,a,n,r,function Rm(n,r,s){return(null===n||as(n))&&(s=function So(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Ua(m.data),w,a),s,!0)}return Kc}const ah=void 0;var $0=["en",[["a","p"],["AM","PM"],ah],[["AM","PM"],ah,ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ah,"{1} 'at' {0}",ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H0(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Sf={};function Ty(n){const r=function G0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Mv(r);if(s)return s;const a=r.split("-")[0];if(s=Mv(a),s)return s;if("en"===a)return $0;throw new we(701,!1)}function Av(n){return Ty(n)[mr.PluralCase]}function Mv(n){return n in Sf||(Sf[n]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[n]),Sf[n]}var mr=(()=>((mr=mr||{})[mr.LocaleId=0]="LocaleId",mr[mr.DayPeriodsFormat=1]="DayPeriodsFormat",mr[mr.DayPeriodsStandalone=2]="DayPeriodsStandalone",mr[mr.DaysFormat=3]="DaysFormat",mr[mr.DaysStandalone=4]="DaysStandalone",mr[mr.MonthsFormat=5]="MonthsFormat",mr[mr.MonthsStandalone=6]="MonthsStandalone",mr[mr.Eras=7]="Eras",mr[mr.FirstDayOfWeek=8]="FirstDayOfWeek",mr[mr.WeekendRange=9]="WeekendRange",mr[mr.DateFormat=10]="DateFormat",mr[mr.TimeFormat=11]="TimeFormat",mr[mr.DateTimeFormat=12]="DateTimeFormat",mr[mr.NumberSymbols=13]="NumberSymbols",mr[mr.NumberFormats=14]="NumberFormats",mr[mr.CurrencyCode=15]="CurrencyCode",mr[mr.CurrencySymbol=16]="CurrencySymbol",mr[mr.CurrencyName=17]="CurrencyName",mr[mr.Currencies=18]="Currencies",mr[mr.Directionality=19]="Directionality",mr[mr.PluralCase=20]="PluralCase",mr[mr.ExtraData=21]="ExtraData",mr))();const bf="en-US";let Ov=bf;function Ay(n,r,s,a,d){if(n=ce(n),Array.isArray(n))for(let m=0;m<n.length;m++)Ay(n[m],r,s,a,d);else{const m=Yn(),w=Ot();let R=Pn(n)?n:ce(n.provide),U=Ec(n);const z=Ii(),ue=1048575&z.providerIndexes,_e=z.directiveStart,Ue=z.providerIndexes>>20;if(Pn(n)||!n.multi){const st=new ya(U,d,cd),St=Oy(R,r,d?ue:ue+Ue,_e);-1===St?(us(ui(z,w),m,R),My(m,n,r.length),r.push(R),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(st),w.push(st)):(s[St]=st,w[St]=st)}else{const st=Oy(R,r,ue+Ue,_e),St=Oy(R,r,ue,ue+Ue),qt=st>=0&&s[st],ln=St>=0&&s[St];if(d&&!ln||!d&&!qt){us(ui(z,w),m,R);const Hn=function jD(n,r,s,a,d){const m=new ya(n,s,cd);return m.multi=[],m.index=r,m.componentProviders=0,tE(m,d,a&&!s),m}(d?BD:VD,s.length,d,a,U);!d&&ln&&(s[St].providerFactory=Hn),My(m,n,r.length,0),r.push(R),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(Hn),w.push(Hn)}else My(m,n,st>-1?st:St,tE(s[d?St:st],U,!d&&a));!d&&a&&ln&&s[St].componentProviders++}}}function My(n,r,s,a){const d=Pn(r),m=function Un(n){return!!n.useClass}(r);if(d||m){const U=(m?ce(r.useClass):r).prototype.ngOnDestroy;if(U){const z=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const ue=z.indexOf(s);-1===ue?z.push(s,[a,U]):z[ue+1].push(a,U)}else z.push(s,U)}}}function tE(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Oy(n,r,s,a){for(let d=s;d<a;d++)if(r[d]===n)return d;return-1}function VD(n,r,s,a){return Py(this.multi,[])}function BD(n,r,s,a){const d=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,R=Yo(s,s[1],this.providerFactory.index,a);m=R.slice(0,w),Py(d,m);for(let U=w;U<R.length;U++)m.push(R[U])}else m=[],Py(d,m);return m}function Py(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function nE(n,r=[]){return s=>{s.providersResolver=(a,d)=>function UD(n,r,s){const a=Yn();if(a.firstCreatePass){const d=as(n);Ay(s,a.data,a.blueprint,d,!0),Ay(r,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,r)}}class Af{}class rE{}function HD(n,r){return new iE(n,null!=r?r:null)}class iE extends Af{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);const a=ir(r);this._bootstrapComponents=hu(a.bootstrap),this._r3Injector=xh(r,s,[{provide:Af,useValue:this},{provide:du,useValue:this.componentFactoryResolver}],J(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Ry extends rE{constructor(r){super(),this.moduleType=r}create(r){return new iE(this.moduleType,r)}}class $D extends Af{constructor(r,s,a){super(),this.componentFactoryResolver=new af(this),this.instance=null;const d=new uu([...r,{provide:Af,useValue:this},{provide:du,useValue:this.componentFactoryResolver}],s||lu(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function xy(n,r,s=null){return new $D(n,r,s).injector}let GD=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=p(0,s.type),d=a.length>0?xy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=tr({token:n,providedIn:"environment",factory:()=>new n(rs(kl))}),n})();function sE(n){n.getStandaloneInjector=r=>r.get(GD).getOrCreateStandaloneInjector(n)}function hE(n,r,s){const a=Qr()+n,d=Ot();return d[a]===Rr?gu(d,a,s?r.call(s):r()):Kd(d,a)}function fE(n,r,s,a){return _E(Ot(),Qr(),n,r,s,a)}function pE(n,r,s,a,d){return yE(Ot(),Qr(),n,r,s,a,d)}function gE(n,r,s,a,d,m){return vE(Ot(),Qr(),n,r,s,a,d,m)}function mE(n,r,s,a,d,m,w,R,U){const z=Qr()+n,ue=Ot(),_e=Cl(ue,z,s,a,d,m);return Vc(ue,z+4,w,R)||_e?gu(ue,z+6,U?r.call(U,s,a,d,m,w,R):r(s,a,d,m,w,R)):Kd(ue,z+6)}function Eg(n,r){const s=n[r];return s===Rr?void 0:s}function _E(n,r,s,a,d,m){const w=r+s;return Ya(n,w,d)?gu(n,w+1,m?a.call(m,d):a(d)):Eg(n,w+1)}function yE(n,r,s,a,d,m,w){const R=r+s;return Vc(n,R,d,m)?gu(n,R+2,w?a.call(w,d,m):a(d,m)):Eg(n,R+2)}function vE(n,r,s,a,d,m,w,R){const U=r+s;return ff(n,U,d,m,w)?gu(n,U+3,R?a.call(R,d,m,w):a(d,m,w)):Eg(n,U+3)}function CE(n,r){const s=Yn();let a;const d=n+22;s.firstCreatePass?(a=function iC(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const m=a.factory||(a.factory=Ys(a.type)),w=yr(cd);try{const R=Po(!1),U=m();return Po(R),function eg(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Ot(),d,U),U}finally{yr(w)}}function IE(n,r,s){const a=n+22,d=Ot(),m=jo(d,a);return Dg(d,a)?_E(d,Qr(),r,m.transform,s,m):m.transform(s)}function wE(n,r,s,a){const d=n+22,m=Ot(),w=jo(m,d);return Dg(m,d)?yE(m,Qr(),r,w.transform,s,a,w):w.transform(s,a)}function TE(n,r,s,a,d){const m=n+22,w=Ot(),R=jo(w,m);return Dg(w,m)?vE(w,Qr(),r,R.transform,s,a,d,R):R.transform(s,a,d)}function SE(n,r,s){const a=n+22,d=Ot(),m=jo(d,a);return Dg(d,a)?function DE(n,r,s,a,d,m){let w=r+s,R=!1;for(let U=0;U<d.length;U++)Ya(n,w++,d[U])&&(R=!0);return R?gu(n,w,a.apply(m,d)):Eg(n,w)}(d,Qr(),r,m.transform,s,m):m.transform.apply(m,s)}function Dg(n,r){return n[1].data[r].pure}function Ly(n){return r=>{setTimeout(n,void 0,r)}}const mc=class oC extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var d,m,w;let R=r,U=s||(()=>null),z=a;if(r&&"object"==typeof r){const _e=r;R=null===(d=_e.next)||void 0===d?void 0:d.bind(_e),U=null===(m=_e.error)||void 0===m?void 0:m.bind(_e),z=null===(w=_e.complete)||void 0===w?void 0:w.bind(_e)}this.__isAsync&&(U=Ly(U),R&&(R=Ly(R)),z&&(z=Ly(z)));const ue=super.subscribe({next:R,error:U,complete:z});return r instanceof S.w0&&r.add(ue),ue}};function aC(){return this._results[ql()]()}class Fy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ql(),a=Fy.prototype;a[s]||(a[s]=aC)}get changes(){return this._changes||(this._changes=new mc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=O(r);(this._changesDetected=!function M(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],m=r[a];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cC,n})();const lC=Cg,uC=class extends lC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,d=Wh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(d[19]=w.createEmbeddedView(a)),zh(a,d,r),new gd(d)}};function cC(){return o_(Ii(),Ot())}function o_(n,r){return 4&n.type?new uC(r,n,Bu(n,r)):null}let a_=(()=>{class n{}return n.__NG_ELEMENT_ID__=dC,n})();function dC(){return ME(Ii(),Ot())}const hC=a_,bE=class extends hC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const r=vr(this._hostTNode,this._hostLView);if(Ko(r)){const s=ks(r,this._hostLView),a=qs(r);return new zi(s[1].data[a+8],s)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=AE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let d,m;"number"==typeof a?d=a:null!=a&&(d=a.index,m=a.injector);const w=r.createEmbeddedView(s||{},m);return this.insert(w,d),w}createComponent(r,s,a,d,m){const w=r&&!function Yi(n){return"function"==typeof n}(r);let R;if(w)R=s;else{const _e=s||{};R=_e.index,a=_e.injector,d=_e.projectableNodes,m=_e.environmentInjector||_e.ngModuleRef}const U=w?r:new uf(Ke(r)),z=a||this.parentInjector;if(!m&&null==U.ngModule){const Ue=(w?z:this.parentInjector).get(kl,null);Ue&&(m=Ue)}const ue=U.create(z,d,void 0,m);return this.insert(ue.hostView,R),ue}insert(r,s){const a=r._lView,d=a[1];if(function La(n){return Or(n[3])}(a)){const ue=this.indexOf(r);if(-1!==ue)this.detach(ue);else{const _e=a[3],Ue=new bE(_e,_e[6],_e[3]);Ue.detach(Ue.indexOf(r))}}const m=this._adjustIndex(s),w=this._lContainer;!function rc(n,r,s,a){const d=10+a,m=s.length;a>0&&(s[d-1][4]=r),a<m-10?(r[4]=s[d],F(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function Vg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const R=r[19];null!==R&&R.insertView(n),r[2]|=64}(d,a,w,m);const R=qf(m,w),U=a[11],z=Od(U,w[7]);return null!==z&&function D_(n,r,s,a,d,m){a[0]=d,a[6]=r,sc(n,a,s,1,d,m)}(d,w[6],U,a,z,R),r.attachToViewContainerRef(),F(ky(w),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=AE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Wf(this._lContainer,s);a&&($(ky(this._lContainer),s),jg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Wf(this._lContainer,s);return a&&null!=$(ky(this._lContainer),s)?new gd(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function AE(n){return n[8]}function ky(n){return n[8]||(n[8]=[])}function ME(n,r){let s;const a=r[n.index];if(Or(a))s=a;else{let d;if(8&n.type)d=Ki(a);else{const m=r[11];d=m.createComment("");const w=oi(n,r);xc(m,Od(m,w),d,function I_(n,r){return n.nextSibling(r)}(m,w),!1)}r[n.index]=s=Om(a,r,d,n),jd(r,s)}return new bE(s,n,r)}class Uy{constructor(r){this.queryList=r,this.matches=null}clone(){return new Uy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let m=0;m<a;m++){const w=s.getByIndex(m);d.push(this.queries[w.indexInDeclarationView].clone())}return new Vy(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==UE(r,s).matches&&this.queries[s].setDirty()}}class OE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class By{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,m=this.getByIndex(a).embeddedTView(r,d);m&&(m.indexInDeclarationView=a,null!==s?s.push(m):s=[m])}return null!==s?new By(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class jy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new jy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const m=a[d];this.matchTNodeWithReadOption(r,s,gC(s,m)),this.matchTNodeWithReadOption(r,s,Va(s,r,m,!1,!1))}else a===Cg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Va(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Tc||d===a_||d===Cg&&4&s.type)this.addMatch(s.index,-2);else{const m=Va(s,r,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gC(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function _C(n,r,s,a){return-1===s?function mC(n,r){return 11&n.type?Bu(n,r):4&n.type?o_(n,r):null}(r,n):-2===s?function yC(n,r,s){return s===Tc?Bu(r,n):s===Cg?o_(r,n):s===a_?ME(r,n):void 0}(n,r,a):Yo(n,n[1],s,r)}function PE(n,r,s,a){const d=r[19].queries[a];if(null===d.matches){const m=n.data,w=s.matches,R=[];for(let U=0;U<w.length;U+=2){const z=w[U];R.push(z<0?null:_C(r,m[z],w[U+1],s.metadata.read))}d.matches=R}return d.matches}function Hy(n,r,s,a){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const w=PE(n,r,d,s);for(let R=0;R<m.length;R+=2){const U=m[R];if(U>0)a.push(w[R/2]);else{const z=m[R+1],ue=r[-U];for(let _e=10;_e<ue.length;_e++){const Ue=ue[_e];Ue[17]===Ue[3]&&Hy(Ue[1],Ue,z,a)}if(null!==ue[9]){const _e=ue[9];for(let Ue=0;Ue<_e.length;Ue++){const st=_e[Ue];Hy(st[1],st,z,a)}}}}}return a}function RE(n){const r=Ot(),s=Yn(),a=Go();Wo(a+1);const d=UE(s,a);if(n.dirty&&function Na(n){return 4==(4&n[2])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?Hy(s,r,a,[]):PE(s,r,d,a);n.reset(m,Pf),n.notifyOnChanges()}return!0}return!1}function xE(n,r,s){const a=Yn();a.firstCreatePass&&(kE(a,new OE(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),FE(a,Ot(),r)}function NE(n,r,s,a){const d=Yn();if(d.firstCreatePass){const m=Ii();kE(d,new OE(r,s,a),m.index),function EC(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}FE(d,Ot(),s)}function LE(){return function vC(n,r){return n[19].queries[r].queryList}(Ot(),Go())}function FE(n,r,s){const a=new Fy(4==(4&s));kc(n,r,a,a.destroy),null===r[19]&&(r[19]=new Vy),r[19].queries.push(new Uy(a))}function kE(n,r,s){null===n.queries&&(n.queries=new By),n.queries.track(new jy(r,s))}function UE(n,r){return n.queries.getByIndex(r)}function VE(n,r){return o_(n,r)}function u_(...n){}const s0=new ci("Application Initializer");let c_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=u_,this.reject=u_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(rg(m))s.push(m);else if(ig(m)){const w=new Promise((R,U)=>{m.subscribe({complete:R,error:U})});s.push(w)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(rs(s0,8))},n.\u0275prov=tr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o0=new ci("AppId",{providedIn:"root",factory:function a0(){return`${zy()}${zy()}${zy()}`}});function zy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l0=new ci("Platform Initializer"),BC=new ci("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new ci("appBootstrapListener"),jC=new ci("AnimationModuleType");let HC=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=tr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const d_=new ci("LocaleId",{providedIn:"root",factory:()=>gl(d_,zt.Optional|zt.SkipSelf)||function $C(){return"undefined"!=typeof $localize&&$localize.locale||bf}()}),GC=new ci("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let KC=(()=>{class n{compileModuleSync(s){return new Ry(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),m=hu(ir(s).declarations).reduce((w,R)=>{const U=Ke(R);return U&&w.push(new uf(U)),w},[]);return new WC(a,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=tr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QC=(()=>Promise.resolve(0))();function Yy(n){"undefined"==typeof Zone?QC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ou{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new we(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function qC(){let n=pt.requestAnimationFrame,r=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XC(n){const r=()=>{!function JC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qy(n),n.isCheckStableRunning=!0,Qy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,m,w,R)=>{try{return h0(n),s.invokeTask(d,m,w,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&r(),f0(n)}},onInvoke:(s,a,d,m,w,R,U)=>{try{return h0(n),s.invoke(d,m,w,R,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),f0(n)}},onHasTask:(s,a,d,m)=>{s.hasTask(d,m),a===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,qy(n),Qy(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,a,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new we(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+d,r,ZC,u_,u_);try{return m.runTask(w,s,a)}finally{m.cancelTask(w)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ZC={};function Qy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function h0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function f0(n){n._nesting--,Qy(n)}class eI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const p0=new ci(""),g0=new ci("");let wg,tI=(()=>{class n{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wg||(function nI(n){wg=n}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),Yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(rs(Ou),rs(m0),rs(g0))},n.\u0275prov=tr({token:n,factory:n.\u0275fac}),n})(),m0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){var d;return null!==(d=null==wg?void 0:wg.findTestabilityInTree(this,s,a))&&void 0!==d?d:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=tr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),_c=null;const _0=new ci("AllowMultipleToken"),Zy=new ci("PlatformDestroyListeners");class sI{constructor(r,s){this.name=r,this.token=s}}function v0(n,r,s=[]){const a=`Platform: ${r}`,d=new ci(a);return(m=[])=>{let w=Jy();if(!w||w.injector.get(_0,!1)){const R=[...s,...m,{provide:d,useValue:!0}];n?n(R):function oI(n){if(_c&&!_c.get(_0,!1))throw new we(400,!1);_c=n;const r=n.get(D0);(function y0(n){const r=n.get(l0,null);r&&r.forEach(s=>s())})(n)}(function E0(n=[],r){return oc.create({name:r,providers:[{provide:Vi,useValue:"platform"},{provide:Zy,useValue:new Set([()=>_c=null])},...n]})}(R,a))}return function lI(n){const r=Jy();if(!r)throw new we(401,!1);return r}()}}function Jy(){var n;return null!==(n=null==_c?void 0:_c.get(D0))&&void 0!==n?n:null}let D0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function I0(n,r){let s;return s="noop"===n?new eI:("zone.js"===n?void 0:n)||new Ou(r),s}(null==a?void 0:a.ngZone,function C0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),m=[{provide:Ou,useValue:d}];return d.run(()=>{const w=oc.create({providers:m,parent:this.injector,name:s.moduleType.name}),R=s.create(w),U=R.injector.get(Ms,null);if(!U)throw new we(402,!1);return d.runOutsideAngular(()=>{const z=d.onError.subscribe({next:ue=>{U.handleError(ue)}});R.onDestroy(()=>{f_(this._modules,R),z.unsubscribe()})}),function w0(n,r,s){try{const a=s();return rg(a)?a.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(U,d,()=>{const z=R.injector.get(c_);return z.runInitializers(),z.donePromise.then(()=>(function Pv(n){Kt(n,"Expected localeId to be defined"),"string"==typeof n&&(Ov=n.toLowerCase().replace(/_/g,"-"))}(R.injector.get(d_,bf)||bf),this._moduleDoBootstrap(R),R))})})}bootstrapModule(s,a=[]){const d=T0({},a);return function rI(n,r,s){const a=new Ry(s);return Promise.resolve(a)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const a=s.injector.get(h_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new we(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Zy,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(rs(oc))},n.\u0275prov=tr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function T0(n,r){return Array.isArray(r)?r.reduce(T0,n):Object.assign(Object.assign({},n),r)}let h_=(()=>{class n{constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new te.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),w=new te.y(R=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),Yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{U.unsubscribe(),z.unsubscribe()}});this.isStable=(0,V.T)(m,w.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof dh;if(!this._injector.get(c_).done)throw!d&&Nn(s),new we(405,false);let w;w=d?s:this._injector.get(du).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const R=function iI(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Af),z=w.create(oc.NULL,[],a||w.selector,R),ue=z.location.nativeElement,_e=z.injector.get(p0,null);return null==_e||_e.registerApplication(ue),z.onDestroy(()=>{this.detachView(z.hostView),f_(this.components,z),null==_e||_e.unregisterApplication(ue)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;f_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(u0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>f_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new we(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(rs(Ou),rs(kl),rs(Ms))},n.\u0275prov=tr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let b0=!0,A0=!1;function cI(){return A0=!0,b0}function dI(){if(A0)throw new Error("Cannot enable prod mode after platform setup.");b0=!1}let hI=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();function fI(n){return function pI(n,r,s){if(Ln(n)&&!s){const a=ur(n.index,r);return new gd(a,a)}return 47&n.type?new gd(r[16],r):null}(Ii(),Ot(),16==(16&n))}class R0{constructor(){}supports(r){return Wd(r)}create(r){return new EI(r)}}const vI=(n,r)=>r;class EI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,m=null;for(;s||a;){const w=!a||s&&s.currentIndex<N0(a,d,m)?s:a,R=N0(w,d,m),U=w.currentIndex;if(w===a)d--,a=a._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{m||(m=[]);const z=R-d,ue=U-d;if(z!=ue){for(let Ue=0;Ue<z;Ue++){const st=Ue<m.length?m[Ue]:m[Ue]=0,St=st+Ue;ue<=St&&St<z&&(m[Ue]=st+1)}m[w.previousIndex]=ue-z}}R!==U&&r(w,R,U)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wd(r))throw new we(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,m,w,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)m=r[R],w=this._trackByFn(R,m),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,m,w,R)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,w,R),a=!0),s=s._next}else d=0,function X_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[ql()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,R=>{w=this._trackByFn(d,R),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,R,w,d)),Object.is(s.item,R)||this._addIdentityChange(s,R)):(s=this._mismatch(s,R,w,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,d)):r=this._addAfter(new DI(s,a),m,d),r}_verifyReinsertion(r,s,a,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?r=this._reinsertAfter(m,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,m=r._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new x0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class x0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new CI,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N0(n,r,s){const a=n.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class L0{constructor(){}supports(r){return r instanceof Map||hf(r)}create(){return new II}}class II{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||hf(r)))throw new we(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const m=d._prev,w=d._next;return m&&(m._next=w),w&&(w._prev=m),d._next=null,d._prev=null,d}const a=new wI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class wI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F0(){return new rv([new R0])}let rv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||F0()),deps:[[n,new $l,new ru]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new we(901,!1)}}return n.\u0275prov=tr({token:n,providedIn:"root",factory:F0}),n})();function k0(){return new iv([new L0])}let iv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||k0()),deps:[[n,new $l,new ru]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new we(901,!1)}}return n.\u0275prov=tr({token:n,providedIn:"root",factory:k0}),n})();const bI=v0(null,"core",[]);let AI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(rs(h_))},n.\u0275mod=Gr({type:n}),n.\u0275inj=dr({}),n})();function MI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3075:(Ie,ae,C)=>{C.d(ae,{CE:()=>Gi,Cf:()=>je,EJ:()=>Uo,F:()=>Rn,Fd:()=>Ki,Fj:()=>ze,JJ:()=>zt,JL:()=>mi,JU:()=>J,K7:()=>ri,Kr:()=>Bs,Mq:()=>as,NI:()=>Ri,Oe:()=>po,On:()=>qe,Q7:()=>Ci,UX:()=>Is,Wl:()=>Q,YN:()=>ro,_:()=>Sr,_Y:()=>mt,a5:()=>Wr,c5:()=>Qs,cw:()=>Ke,eT:()=>Es,kI:()=>Ge,nD:()=>Hs,oH:()=>ho,qQ:()=>xa,qu:()=>Yn,sg:()=>To,u:()=>er,u5:()=>Ls,wO:()=>Pr,wV:()=>kt,x0:()=>fs});var f=C(5e3),S=C(9808),te=C(457),V=C(4128),le=C(4004);let de=(()=>{class G{constructor(L,ie){this._renderer=L,this._elementRef=ie,this.onChange=dt=>{},this.onTouched=()=>{}}setProperty(L,ie){this._renderer.setProperty(this._elementRef.nativeElement,L,ie)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.Qsj),f.Y36(f.SBq))},G.\u0275dir=f.lG2({type:G}),G})(),oe=(()=>{class G extends de{}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,features:[f.qOj]}),G})();const J=new f.OlP("NgValueAccessor"),he={provide:J,useExisting:(0,f.Gpc)(()=>Q),multi:!0};let Q=(()=>{class G extends oe{writeValue(L){this.setProperty("checked",L)}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,ie){1&L&&f.NdJ("change",function(en){return ie.onChange(en.target.checked)})("blur",function(){return ie.onTouched()})},features:[f._Bn([he]),f.qOj]}),G})();const Z={provide:J,useExisting:(0,f.Gpc)(()=>ze),multi:!0},Le=new f.OlP("CompositionEventMode");let ze=(()=>{class G extends de{constructor(L,ie,dt){super(L,ie),this._compositionMode=dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ce(){const G=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Le,8))},G.\u0275dir=f.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,ie){1&L&&f.NdJ("input",function(en){return ie._handleInput(en.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(en){return ie._compositionEnd(en.target.value)})},features:[f._Bn([Z]),f.qOj]}),G})();function Ye(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function We(G){return null!=G&&"number"==typeof G.length}const je=new f.OlP("NgValidators"),gt=new f.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min(j){return Be(j)}static max(j){return Dt(j)}static required(j){return Tt(j)}static requiredTrue(j){return function Wt(G){return!0===G.value?null:{required:!0}}(j)}static email(j){return function $t(G){return Ye(G.value)||xt.test(G.value)?null:{email:!0}}(j)}static minLength(j){return Rt(j)}static maxLength(j){return tt(j)}static pattern(j){return Ze(j)}static nullValidator(j){return null}static compose(j){return Mt(j)}static composeAsync(j){return Vr(j)}}function Be(G){return j=>{if(Ye(j.value)||Ye(G))return null;const L=parseFloat(j.value);return!isNaN(L)&&L<G?{min:{min:G,actual:j.value}}:null}}function Dt(G){return j=>{if(Ye(j.value)||Ye(G))return null;const L=parseFloat(j.value);return!isNaN(L)&&L>G?{max:{max:G,actual:j.value}}:null}}function Tt(G){return Ye(G.value)?{required:!0}:null}function Rt(G){return j=>Ye(j.value)||!We(j.value)?null:j.value.length<G?{minlength:{requiredLength:G,actualLength:j.value.length}}:null}function tt(G){return j=>We(j.value)&&j.value.length>G?{maxlength:{requiredLength:G,actualLength:j.value.length}}:null}function Ze(G){if(!G)return at;let j,L;return"string"==typeof G?(L="","^"!==G.charAt(0)&&(L+="^"),L+=G,"$"!==G.charAt(G.length-1)&&(L+="$"),j=new RegExp(L)):(L=G.toString(),j=G),ie=>{if(Ye(ie.value))return null;const dt=ie.value;return j.test(dt)?null:{pattern:{requiredPattern:L,actualValue:dt}}}}function at(G){return null}function et(G){return null!=G}function Nt(G){return(0,f.QGY)(G)?(0,te.D)(G):G}function bt(G){let j={};return G.forEach(L=>{j=null!=L?Object.assign(Object.assign({},j),L):j}),0===Object.keys(j).length?null:j}function ht(G,j){return j.map(L=>L(G))}function Kt(G){return G.map(j=>function Vn(G){return!G.validate}(j)?j:L=>j.validate(L))}function Mt(G){if(!G)return null;const j=G.filter(et);return 0==j.length?null:function(L){return bt(ht(L,j))}}function pr(G){return null!=G?Mt(Kt(G)):null}function Vr(G){if(!G)return null;const j=G.filter(et);return 0==j.length?null:function(L){const ie=ht(L,j).map(Nt);return(0,V.D)(ie).pipe((0,le.U)(bt))}}function Ir(G){return null!=G?Vr(Kt(G)):null}function tr(G,j){return null===G?[j]:Array.isArray(G)?[...G,j]:[G,j]}function Fr(G){return G._rawValidators}function dr(G){return G._rawAsyncValidators}function Ei(G){return G?Array.isArray(G)?G:[G]:[]}function gi(G,j){return Array.isArray(G)?G.includes(j):G===j}function ti(G,j){const L=Ei(j);return Ei(G).forEach(dt=>{gi(L,dt)||L.push(dt)}),L}function $r(G,j){return Ei(j).filter(L=>!gi(G,L))}class ni{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=pr(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,L){return!!this.control&&this.control.hasError(j,L)}getError(j,L){return this.control?this.control.getError(j,L):null}}class Wr extends ni{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr extends ni{get formDirective(){return null}get path(){return null}}class lr{constructor(j){this._cd=j}get isTouched(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.touched)}get isUntouched(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.untouched)}get isPristine(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.pristine)}get isDirty(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.dirty)}get isValid(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.valid)}get isInvalid(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.invalid)}get isPending(){var j,L;return!(null===(L=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===L||!L.pending)}get isSubmitted(){var j;return!(null===(j=this._cd)||void 0===j||!j.submitted)}}let zt=(()=>{class G extends lr{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(Wr,2))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,ie){2&L&&f.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[f.qOj]}),G})(),mi=(()=>{class G extends lr{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,ie){2&L&&f.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[f.qOj]}),G})();const yn="VALID",jn="INVALID",li="PENDING",zr="DISABLED";function Fn(G){return(Ne(G)?G.validators:G)||null}function Nr(G){return Array.isArray(G)?pr(G):G||null}function ji(G,j){return(Ne(j)?j.asyncValidators:G)||null}function Gr(G){return Array.isArray(G)?Ir(G):G||null}function Ne(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function Ae(G,j,L){const ie=G.controls;if(!(j?Object.keys(ie):ie).length)throw new f.vHH(1e3,"");if(!ie[L])throw new f.vHH(1001,"")}function Ve(G,j,L){G._forEachChild((ie,dt)=>{if(void 0===L[dt])throw new f.vHH(1002,"")})}class Et{constructor(j,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=L,this._composedValidatorFn=Nr(this._rawValidators),this._composedAsyncValidatorFn=Gr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===yn}get invalid(){return this.status===jn}get pending(){return this.status==li}get disabled(){return this.status===zr}get enabled(){return this.status!==zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Nr(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=Gr(j)}addValidators(j){this.setValidators(ti(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(ti(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators($r(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators($r(j,this._rawAsyncValidators))}hasValidator(j){return gi(this._rawValidators,j)}hasAsyncValidator(j){return gi(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=li,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=zr,this.errors=null,this._forEachChild(ie=>{ie.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:L})),this._onDisabledChange.forEach(ie=>ie(!0))}enable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=yn,this._forEachChild(ie=>{ie.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:L})),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yn||this.status===li)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zr:yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=li,this._hasOwnPendingAsyncValidator=!0;const L=Nt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,L={}){this.errors=j,this._updateControlsErrors(!1!==L.emitEvent)}get(j){let L=j;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ie,dt)=>ie&&ie._find(dt),this)}getError(j,L){const ie=L?this.get(L):this;return ie&&ie.errors?ie.errors[j]:null}hasError(j,L){return!!this.getError(j,L)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?zr:this.errors?jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(li)?li:this._anyControlsHaveStatus(jn)?jn:yn}_anyControlsHaveStatus(j){return this._anyControls(L=>L.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Ne(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}}class Ke extends Et{constructor(j,L,ie){super(Fn(L),ji(ie,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,L){return this.controls[j]?this.controls[j]:(this.controls[j]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(j,L,ie={}){this.registerControl(j,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(j,L={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(j,L,ie={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],L&&this.registerControl(j,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,L={}){Ve(this,0,j),Object.keys(j).forEach(ie=>{Ae(this,!0,ie),this.controls[ie].setValue(j[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(Object.keys(j).forEach(ie=>{const dt=this.controls[ie];dt&&dt.patchValue(j[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j={},L={}){this._forEachChild((ie,dt)=>{ie.reset(j[dt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(j,L,ie)=>(j[ie]=L.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(L,ie)=>!!ie._syncPendingControls()||L);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(L=>{const ie=this.controls[L];ie&&j(ie,L)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[L,ie]of Object.entries(this.controls))if(this.contains(L)&&j(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ie,dt)=>((ie.enabled||this.disabled)&&(L[dt]=ie.value),L))}_reduceChildren(j,L){let ie=j;return this._forEachChild((dt,en)=>{ie=L(ie,dt,en)}),ie}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class Nn extends Ke{}function Lr(G,j){return[...j.path,G]}function He(G,j){var L,ie;lt(G,j),j.valueAccessor.writeValue(G.value),G.disabled&&(null===(ie=(L=j.valueAccessor).setDisabledState)||void 0===ie||ie.call(L,!0)),function cn(G,j){j.valueAccessor.registerOnChange(L=>{G._pendingValue=L,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&xe(G,j)})}(G,j),function yt(G,j){const L=(ie,dt)=>{j.valueAccessor.writeValue(ie),dt&&j.viewToModelUpdate(ie)};G.registerOnChange(L),j._registerOnDestroy(()=>{G._unregisterOnChange(L)})}(G,j),function Pe(G,j){j.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&xe(G,j),"submit"!==G.updateOn&&G.markAsTouched()})}(G,j),function ke(G,j){if(j.valueAccessor.setDisabledState){const L=ie=>{j.valueAccessor.setDisabledState(ie)};G.registerOnDisabledChange(L),j._registerOnDestroy(()=>{G._unregisterOnDisabledChange(L)})}}(G,j)}function be(G,j,L=!0){const ie=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(ie),j.valueAccessor.registerOnTouched(ie)),an(G,j),G&&(j._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function me(G,j){G.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(j)})}function lt(G,j){const L=Fr(G);null!==j.validator?G.setValidators(tr(L,j.validator)):"function"==typeof L&&G.setValidators([L]);const ie=dr(G);null!==j.asyncValidator?G.setAsyncValidators(tr(ie,j.asyncValidator)):"function"==typeof ie&&G.setAsyncValidators([ie]);const dt=()=>G.updateValueAndValidity();me(j._rawValidators,dt),me(j._rawAsyncValidators,dt)}function an(G,j){let L=!1;if(null!==G){if(null!==j.validator){const dt=Fr(G);if(Array.isArray(dt)&&dt.length>0){const en=dt.filter(bi=>bi!==j.validator);en.length!==dt.length&&(L=!0,G.setValidators(en))}}if(null!==j.asyncValidator){const dt=dr(G);if(Array.isArray(dt)&&dt.length>0){const en=dt.filter(bi=>bi!==j.asyncValidator);en.length!==dt.length&&(L=!0,G.setAsyncValidators(en))}}}const ie=()=>{};return me(j._rawValidators,ie),me(j._rawAsyncValidators,ie),L}function xe(G,j){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Gt(G,j){lt(G,j)}function Ar(G,j){if(!G.hasOwnProperty("model"))return!1;const L=G.model;return!!L.isFirstChange()||!Object.is(j,L.currentValue)}function hs(G,j){G._syncPendingControls(),j.forEach(L=>{const ie=L.control;"submit"===ie.updateOn&&ie._pendingChange&&(L.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}function Mr(G,j){if(!j)return null;let L,ie,dt;return Array.isArray(j),j.forEach(en=>{en.constructor===ze?L=en:function $n(G){return Object.getPrototypeOf(G.constructor)===oe}(en)?ie=en:dt=en}),dt||ie||L||null}const or={provide:xr,useExisting:(0,f.Gpc)(()=>Rn)},$i=(()=>Promise.resolve())();let Rn=(()=>{class G extends xr{constructor(L,ie){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new Ke({},pr(L),Ir(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){$i.then(()=>{const ie=this._findContainer(L.path);L.control=ie.registerControl(L.name,L.control),He(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){$i.then(()=>{const ie=this._findContainer(L.path);ie&&ie.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){$i.then(()=>{const ie=this._findContainer(L.path),dt=new Ke({});Gt(dt,L),ie.registerControl(L.name,dt),dt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){$i.then(()=>{const ie=this._findContainer(L.path);ie&&ie.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ie){$i.then(()=>{this.form.get(L.path).setValue(ie)})}setValue(L){this.control.setValue(L)}onSubmit(L){var ie;return this.submitted=!0,hs(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===(null===(ie=null==L?void 0:L.target)||void 0===ie?void 0:ie.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(je,10),f.Y36(gt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,ie){1&L&&f.NdJ("submit",function(en){return ie.onSubmit(en)})("reset",function(){return ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([or]),f.qOj]}),G})();function In(G,j){const L=G.indexOf(j);L>-1&&G.splice(L,1)}function bn(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Ri=class extends Et{constructor(j=null,L,ie){super(Fn(L),ji(ie,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ne(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=bn(j)?j.value:j)}setValue(j,L={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(j,L={}){this.setValue(j,L)}reset(j=this.defaultValue,L={}){this._applyFormState(j),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){In(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){In(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){bn(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let Xs=(()=>{class G extends xr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Lr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,features:[f.qOj]}),G})();const kr={provide:xr,useExisting:(0,f.Gpc)(()=>as)};let as=(()=>{class G extends Xs{constructor(L,ie,dt){super(),this._parent=L,this._setValidators(ie),this._setAsyncValidators(dt)}_checkParentType(){}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,5),f.Y36(je,10),f.Y36(gt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[f._Bn([kr]),f.qOj]}),G})();const Te={provide:Wr,useExisting:(0,f.Gpc)(()=>qe)},it=(()=>Promise.resolve())();let qe=(()=>{class G extends Wr{constructor(L,ie,dt,en,bi){super(),this._changeDetectorRef=bi,this.control=new Ri,this._registered=!1,this.update=new f.vpe,this._parent=L,this._setValidators(ie),this._setAsyncValidators(dt),this.valueAccessor=Mr(0,en)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ie=L.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Ar(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){He(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){it.then(()=>{var ie;this.control.setValue(L,{emitViewToModelChange:!1}),null===(ie=this._changeDetectorRef)||void 0===ie||ie.markForCheck()})}_updateDisabled(L){const ie=L.isDisabled.currentValue,dt=0!==ie&&(0,f.D6c)(ie);it.then(()=>{var en;dt&&!this.control.disabled?this.control.disable():!dt&&this.control.disabled&&this.control.enable(),null===(en=this._changeDetectorRef)||void 0===en||en.markForCheck()})}_getPath(L){return this._parent?Lr(L,this._parent):[L]}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,9),f.Y36(je,10),f.Y36(gt,10),f.Y36(J,10),f.Y36(f.sBO,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Te]),f.qOj,f.TTD]}),G})(),mt=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=f.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})();const Qt={provide:J,useExisting:(0,f.Gpc)(()=>kt),multi:!0};let kt=(()=>{class G extends oe{writeValue(L){this.setProperty("value",null==L?"":L)}registerOnChange(L){this.onChange=ie=>{L(""==ie?null:parseFloat(ie))}}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,ie){1&L&&f.NdJ("input",function(en){return ie.onChange(en.target.value)})("blur",function(){return ie.onTouched()})},features:[f._Bn([Qt]),f.qOj]}),G})();const Gn={provide:J,useExisting:(0,f.Gpc)(()=>Sr),multi:!0};let Dr=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({}),G})(),xi=(()=>{class G{constructor(){this._accessors=[]}add(L,ie){this._accessors.push([L,ie])}remove(L){for(let ie=this._accessors.length-1;ie>=0;--ie)if(this._accessors[ie][1]===L)return void this._accessors.splice(ie,1)}select(L){this._accessors.forEach(ie=>{this._isSameGroup(ie,L)&&ie[1]!==L&&ie[1].fireUncheck(L.value)})}_isSameGroup(L,ie){return!!L[0].control&&L[0]._parent===ie._control._parent&&L[1].name===ie.name}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:Dr}),G})(),Sr=(()=>{class G extends oe{constructor(L,ie,dt,en){super(L,ie),this._registry=dt,this._injector=en,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Wr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(xi),f.Y36(f.zs3))},G.\u0275dir=f.lG2({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(L,ie){1&L&&f.NdJ("change",function(){return ie.onChange()})("blur",function(){return ie.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f._Bn([Gn]),f.qOj]}),G})();const qr={provide:J,useExisting:(0,f.Gpc)(()=>Es),multi:!0};let Es=(()=>{class G extends oe{writeValue(L){this.setProperty("value",parseFloat(L))}registerOnChange(L){this.onChange=ie=>{L(""==ie?null:parseFloat(ie))}}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(L,ie){1&L&&f.NdJ("change",function(en){return ie.onChange(en.target.value)})("input",function(en){return ie.onChange(en.target.value)})("blur",function(){return ie.onTouched()})},features:[f._Bn([qr]),f.qOj]}),G})();const Xi=new f.OlP("NgModelWithFormControlWarning"),zs={provide:Wr,useExisting:(0,f.Gpc)(()=>ho)};let ho=(()=>{class G extends Wr{constructor(L,ie,dt,en){super(),this._ngModelWarningConfig=en,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(ie),this.valueAccessor=Mr(0,dt)}set isDisabled(L){}ngOnChanges(L){if(this._isControlChanged(L)){const ie=L.form.previousValue;ie&&be(ie,this,!1),He(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Ar(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&be(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(L){return new(L||G)(f.Y36(je,10),f.Y36(gt,10),f.Y36(J,10),f.Y36(Xi,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([zs]),f.qOj,f.TTD]}),G})();const Xn={provide:xr,useExisting:(0,f.Gpc)(()=>To)};let To=(()=>{class G extends xr{constructor(L,ie){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(L),this._setAsyncValidators(ie)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(an(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ie=this.form.get(L.path);return He(ie,L),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ie}getControl(L){return this.form.get(L.path)}removeControl(L){be(L.control||null,L,!1),function Ji(G,j){const L=G.indexOf(j);L>-1&&G.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ie){this.form.get(L.path).setValue(ie)}onSubmit(L){var ie;return this.submitted=!0,hs(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null===(ie=null==L?void 0:L.target)||void 0===ie?void 0:ie.method)}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ie=L.control,dt=this.form.get(L.path);ie!==dt&&(be(ie||null,L),(G=>G instanceof Ri)(dt)&&(He(dt,L),L.control=dt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ie=this.form.get(L.path);Gt(ie,L),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ie=this.form.get(L.path);ie&&function An(G,j){return an(G,j)}(ie,L)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lt(this.form,this),this._oldForm&&an(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(je,10),f.Y36(gt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(L,ie){1&L&&f.NdJ("submit",function(en){return ie.onSubmit(en)})("reset",function(){return ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Xn]),f.qOj,f.TTD]}),G})();const eo={provide:xr,useExisting:(0,f.Gpc)(()=>fs)};let fs=(()=>{class G extends Xs{constructor(L,ie,dt){super(),this._parent=L,this._setValidators(ie),this._setAsyncValidators(dt)}_checkParentType(){Wi(this._parent)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,13),f.Y36(je,10),f.Y36(gt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([eo]),f.qOj]}),G})();const Ni={provide:xr,useExisting:(0,f.Gpc)(()=>Gi)};let Gi=(()=>{class G extends xr{constructor(L,ie,dt){super(),this._parent=L,this._setValidators(ie),this._setAsyncValidators(dt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Lr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Wi(this._parent)}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,13),f.Y36(je,10),f.Y36(gt,10))},G.\u0275dir=f.lG2({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Ni]),f.qOj]}),G})();function Wi(G){return!(G instanceof fs||G instanceof To||G instanceof Gi)}const Ys={provide:Wr,useExisting:(0,f.Gpc)(()=>er)};let er=(()=>{class G extends Wr{constructor(L,ie,dt,en,bi){super(),this._ngModelWarningConfig=bi,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ie),this._setAsyncValidators(dt),this.valueAccessor=Mr(0,en)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),Ar(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Lr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(L){return new(L||G)(f.Y36(xr,13),f.Y36(je,10),f.Y36(gt,10),f.Y36(J,10),f.Y36(Xi,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Ys]),f.qOj,f.TTD]}),G})();const to={provide:J,useExisting:(0,f.Gpc)(()=>Uo),multi:!0};function Ds(G,j){return null==G?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${G}: ${j}`.slice(0,50))}let Uo=(()=>{class G extends oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const dt=Ds(this._getOptionId(L),L);this.setProperty("value",dt)}registerOnChange(L){this.onChange=ie=>{this.value=this._getOptionValue(ie),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie),L))return ie;return null}_getOptionValue(L){const ie=function no(G){return G.split(":")[0]}(L);return this._optionMap.has(ie)?this._optionMap.get(ie):L}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,ie){1&L&&f.NdJ("change",function(en){return ie.onChange(en.target.value)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([to]),f.qOj]}),G})(),ro=(()=>{class G{constructor(L,ie,dt){this._element=L,this._renderer=ie,this._select=dt,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Ds(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Uo,9))},G.\u0275dir=f.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();const Vo={provide:J,useExisting:(0,f.Gpc)(()=>ri),multi:!0};function Bo(G,j){return null==G?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${G}: ${j}`.slice(0,50))}let ri=(()=>{class G extends oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ie;if(this.value=L,Array.isArray(L)){const dt=L.map(en=>this._getOptionId(en));ie=(en,bi)=>{en._setSelected(dt.indexOf(bi.toString())>-1)}}else ie=(dt,en)=>{dt._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(L){this.onChange=ie=>{const dt=[],en=ie.selectedOptions;if(void 0!==en){const bi=en;for(let es=0;es<bi.length;es++){const Qr=this._getOptionValue(bi[es].value);dt.push(Qr)}}else{const bi=ie.options;for(let es=0;es<bi.length;es++){const io=bi[es];if(io.selected){const Qr=this._getOptionValue(io.value);dt.push(Qr)}}}this.value=dt,L(dt)}}_registerOption(L){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,L),ie}_getOptionId(L){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie)._value,L))return ie;return null}_getOptionValue(L){const ie=function Si(G){return G.split(":")[0]}(L);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:L}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,ie){1&L&&f.NdJ("change",function(en){return ie.onChange(en.target)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Vo]),f.qOj]}),G})(),Bs=(()=>{class G{constructor(L,ie,dt){this._element=L,this._renderer=ie,this._select=dt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Bo(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Bo(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return G.\u0275fac=function(L){return new(L||G)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ri,9))},G.\u0275dir=f.lG2({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),G})();function Ra(G){return"number"==typeof G?G:parseInt(G,10)}function ll(G){return"number"==typeof G?G:parseFloat(G)}let Br=(()=>{class G{constructor(){this._validator=at}ngOnChanges(L){if(this.inputName in L){const ie=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):at,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=f.lG2({type:G,features:[f.TTD]}),G})();const fo={provide:je,useExisting:(0,f.Gpc)(()=>Ki),multi:!0};let Ki=(()=>{class G extends Br{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>ll(L),this.createValidator=L=>Dt(L)}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,ie){2&L&&f.uIk("max",ie._enabled?ie.max:null)},inputs:{max:"max"},features:[f._Bn([fo]),f.qOj]}),G})();const So={provide:je,useExisting:(0,f.Gpc)(()=>xa),multi:!0};let xa=(()=>{class G extends Br{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>ll(L),this.createValidator=L=>Be(L)}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,ie){2&L&&f.uIk("min",ie._enabled?ie.min:null)},inputs:{min:"min"},features:[f._Bn([So]),f.qOj]}),G})();const js={provide:je,useExisting:(0,f.Gpc)(()=>Ci),multi:!0};let Ci=(()=>{class G extends Br{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=L=>Tt}enabled(L){return L}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,ie){2&L&&f.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([js]),f.qOj]}),G})();const Na={provide:je,useExisting:(0,f.Gpc)(()=>Pr),multi:!0};let Pr=(()=>{class G extends Br{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=L=>Ra(L),this.createValidator=L=>Rt(L)}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(L,ie){2&L&&f.uIk("minlength",ie._enabled?ie.minlength:null)},inputs:{minlength:"minlength"},features:[f._Bn([Na]),f.qOj]}),G})();const La={provide:je,useExisting:(0,f.Gpc)(()=>Hs),multi:!0};let Hs=(()=>{class G extends Br{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=L=>Ra(L),this.createValidator=L=>tt(L)}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(L,ie){2&L&&f.uIk("maxlength",ie._enabled?ie.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([La]),f.qOj]}),G})();const Ho={provide:je,useExisting:(0,f.Gpc)(()=>Qs),multi:!0};let Qs=(()=>{class G extends Br{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=L=>L,this.createValidator=L=>Ze(L)}}return G.\u0275fac=function(){let j;return function(ie){return(j||(j=f.n5z(G)))(ie||G)}}(),G.\u0275dir=f.lG2({type:G,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(L,ie){2&L&&f.uIk("pattern",ie._enabled?ie.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([Ho]),f.qOj]}),G})(),sa=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[Dr]}),G})(),Ls=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[sa]}),G})(),Is=(()=>{class G{static withConfig(L){return{ngModule:G,providers:[{provide:Xi,useValue:L.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[sa]}),G})();class po extends Et{constructor(j,L,ie){super(Fn(L),ji(ie,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,L={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(j,L,ie={}){this.controls.splice(j,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(j,L={}){let ie=this._adjustIndex(j);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(j,L,ie={}){let dt=this._adjustIndex(j);dt<0&&(dt=0),this.controls[dt]&&this.controls[dt]._registerOnCollectionChange(()=>{}),this.controls.splice(dt,1),L&&(this.controls.splice(dt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,L={}){Ve(this,0,j),j.forEach((ie,dt)=>{Ae(this,!1,dt),this.at(dt).setValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(j.forEach((ie,dt)=>{this.at(dt)&&this.at(dt).patchValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j=[],L={}){this._forEachChild((ie,dt)=>{ie.reset(j[dt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((L,ie)=>!!ie._syncPendingControls()||L,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((L,ie)=>{j(L,ie)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(L=>L.enabled&&j(L))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){var L;return null!==(L=this.at(j))&&void 0!==L?L:null}}function Ot(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Yn=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new G;return L.useNonNullable=!0,L}group(L,ie=null){const dt=this._reduceControls(L);let en={};return Ot(ie)?en=ie:null!==ie&&(en.validators=ie.validator,en.asyncValidators=ie.asyncValidator),new Ke(dt,en)}record(L,ie=null){const dt=this._reduceControls(L);return new Nn(dt,ie)}control(L,ie,dt){let en={};return this.useNonNullable?(Ot(ie)?en=ie:(en.validators=ie,en.asyncValidators=dt),new Ri(L,Object.assign(Object.assign({},en),{nonNullable:!0}))):new Ri(L,ie,dt)}array(L,ie,dt){const en=L.map(bi=>this._createControl(bi));return new po(en,ie,dt)}_reduceControls(L){const ie={};return Object.keys(L).forEach(dt=>{ie[dt]=this._createControl(L[dt])}),ie}_createControl(L){return L instanceof Ri||L instanceof Et?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return G.\u0275fac=function(L){return new(L||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:Is}),G})()},2313:(Ie,ae,C)=>{C.d(ae,{Dx:()=>$e,H7:()=>Xt,b2:()=>Di,h_:()=>Zi,q6:()=>_r,se:()=>et});var f=C(9808),S=C(5e3);class te extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class V extends te{static makeCurrent(){(0,f.HT)(new V)}onAndCancel(be,me,ke){return be.addEventListener(me,ke,!1),()=>{be.removeEventListener(me,ke,!1)}}dispatchEvent(be,me){be.dispatchEvent(me)}remove(be){be.parentNode&&be.parentNode.removeChild(be)}createElement(be,me){return(me=me||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,me){return"window"===me?window:"document"===me?be:"body"===me?be.body:null}getBaseHref(be){const me=function de(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==me?null:function J(He){oe=oe||document.createElement("a"),oe.setAttribute("href",He);const be=oe.pathname;return"/"===be.charAt(0)?be:`/${be}`}(me)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,f.Mx)(document.cookie,be)}}let oe,le=null;const he=new S.OlP("TRANSITION_ID"),Z=[{provide:S.ip1,useFactory:function Q(He,be,me){return()=>{me.get(S.CZH).donePromise.then(()=>{const ke=(0,f.q)(),lt=be.querySelectorAll(`style[ng-transition="${He}"]`);for(let an=0;an<lt.length;an++)ke.remove(lt[an])})}},deps:[he,f.K0,S.zs3],multi:!0}];let Le=(()=>{class He{build(){return new XMLHttpRequest}}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const ze=new S.OlP("EventManagerPlugins");let we=(()=>{class He{constructor(me,ke){this._zone=ke,this._eventNameToPlugin=new Map,me.forEach(lt=>lt.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,ke,lt){return this._findPluginFor(ke).addEventListener(me,ke,lt)}addGlobalEventListener(me,ke,lt){return this._findPluginFor(ke).addGlobalEventListener(me,ke,lt)}getZone(){return this._zone}_findPluginFor(me){const ke=this._eventNameToPlugin.get(me);if(ke)return ke;const lt=this._plugins;for(let an=0;an<lt.length;an++){const cn=lt[an];if(cn.supports(me))return this._eventNameToPlugin.set(me,cn),cn}throw new Error(`No event manager plugin found for event ${me}`)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(ze),S.LFG(S.R0b))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();class Ye{constructor(be){this._doc=be}addGlobalEventListener(be,me,ke){const lt=(0,f.q)().getGlobalEventTarget(this._doc,be);if(!lt)throw new Error(`Unsupported event target ${lt} for event ${me}`);return this.addEventListener(lt,me,ke)}}let We=(()=>{class He{constructor(){this._stylesSet=new Set}addStyles(me){const ke=new Set;me.forEach(lt=>{this._stylesSet.has(lt)||(this._stylesSet.add(lt),ke.add(lt))}),this.onStylesAdded(ke)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})(),je=(()=>{class He extends We{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,ke,lt){me.forEach(an=>{const cn=this._doc.createElement("style");cn.textContent=an,lt.push(ke.appendChild(cn))})}addHost(me){const ke=[];this._addStylesToHost(this._stylesSet,me,ke),this._hostNodes.set(me,ke)}removeHost(me){const ke=this._hostNodes.get(me);ke&&ke.forEach(gt),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((ke,lt)=>{this._addStylesToHost(me,lt,ke)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(gt))}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();function gt(He){(0,f.q)().remove(He)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function tt(He,be,me){for(let ke=0;ke<be.length;ke++){let lt=be[ke];Array.isArray(lt)?tt(He,lt,me):(lt=lt.replace(Ge,He),me.push(lt))}return me}function Ze(He){return be=>{if("__ngUnwrap__"===be)return He;!1===He(be)&&(be.preventDefault(),be.returnValue=!1)}}let et=(()=>{class He{constructor(me,ke,lt){this.eventManager=me,this.sharedStylesHost=ke,this.appId=lt,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(me)}createRenderer(me,ke){if(!me||!ke)return this.defaultRenderer;switch(ke.encapsulation){case S.ifc.Emulated:{let lt=this.rendererByCompId.get(ke.id);return lt||(lt=new Kt(this.eventManager,this.sharedStylesHost,ke,this.appId),this.rendererByCompId.set(ke.id,lt)),lt.applyToHost(me),lt}case 1:case S.ifc.ShadowDom:return new Mt(this.eventManager,this.sharedStylesHost,me,ke);default:if(!this.rendererByCompId.has(ke.id)){const lt=tt(ke.id,ke.styles,[]);this.sharedStylesHost.addStyles(lt),this.rendererByCompId.set(ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(we),S.LFG(je),S.LFG(S.AFp))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();class Nt{constructor(be){this.eventManager=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(be,me){return me?document.createElementNS(xt[me]||me,be):document.createElement(be)}createComment(be){return document.createComment(be)}createText(be){return document.createTextNode(be)}appendChild(be,me){(Vn(be)?be.content:be).appendChild(me)}insertBefore(be,me,ke){be&&(Vn(be)?be.content:be).insertBefore(me,ke)}removeChild(be,me){be&&be.removeChild(me)}selectRootElement(be,me){let ke="string"==typeof be?document.querySelector(be):be;if(!ke)throw new Error(`The selector "${be}" did not match any elements`);return me||(ke.textContent=""),ke}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,me,ke,lt){if(lt){me=lt+":"+me;const an=xt[lt];an?be.setAttributeNS(an,me,ke):be.setAttribute(me,ke)}else be.setAttribute(me,ke)}removeAttribute(be,me,ke){if(ke){const lt=xt[ke];lt?be.removeAttributeNS(lt,me):be.removeAttribute(`${ke}:${me}`)}else be.removeAttribute(me)}addClass(be,me){be.classList.add(me)}removeClass(be,me){be.classList.remove(me)}setStyle(be,me,ke,lt){lt&(S.JOm.DashCase|S.JOm.Important)?be.style.setProperty(me,ke,lt&S.JOm.Important?"important":""):be.style[me]=ke}removeStyle(be,me,ke){ke&S.JOm.DashCase?be.style.removeProperty(me):be.style[me]=""}setProperty(be,me,ke){be[me]=ke}setValue(be,me){be.nodeValue=me}listen(be,me,ke){return"string"==typeof be?this.eventManager.addGlobalEventListener(be,me,Ze(ke)):this.eventManager.addEventListener(be,me,Ze(ke))}}function Vn(He){return"TEMPLATE"===He.tagName&&void 0!==He.content}class Kt extends Nt{constructor(be,me,ke,lt){super(be),this.component=ke;const an=tt(lt+"-"+ke.id,ke.styles,[]);me.addStyles(an),this.contentAttr=function $t(He){return"_ngcontent-%COMP%".replace(Ge,He)}(lt+"-"+ke.id),this.hostAttr=function Rt(He){return"_nghost-%COMP%".replace(Ge,He)}(lt+"-"+ke.id)}applyToHost(be){super.setAttribute(be,this.hostAttr,"")}createElement(be,me){const ke=super.createElement(be,me);return super.setAttribute(ke,this.contentAttr,""),ke}}class Mt extends Nt{constructor(be,me,ke,lt){super(be),this.sharedStylesHost=me,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=tt(lt.id,lt.styles,[]);for(let cn=0;cn<an.length;cn++){const Pe=document.createElement("style");Pe.textContent=an[cn],this.shadowRoot.appendChild(Pe)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(be,me){return super.appendChild(this.nodeOrShadowRoot(be),me)}insertBefore(be,me,ke){return super.insertBefore(this.nodeOrShadowRoot(be),me,ke)}removeChild(be,me){return super.removeChild(this.nodeOrShadowRoot(be),me)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}}let pr=(()=>{class He extends Ye{constructor(me){super(me)}supports(me){return!0}addEventListener(me,ke,lt){return me.addEventListener(ke,lt,!1),()=>this.removeEventListener(me,ke,lt)}removeEventListener(me,ke,lt){return me.removeEventListener(ke,lt)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const Vr=["alt","control","meta","shift"],Ir={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tr={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let Fr=(()=>{class He extends Ye{constructor(me){super(me)}supports(me){return null!=He.parseEventName(me)}addEventListener(me,ke,lt){const an=He.parseEventName(ke),cn=He.eventCallback(an.fullKey,lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(me,an.domEventName,cn))}static parseEventName(me){const ke=me.toLowerCase().split("."),lt=ke.shift();if(0===ke.length||"keydown"!==lt&&"keyup"!==lt)return null;const an=He._normalizeKey(ke.pop());let cn="",Pe=ke.indexOf("code");if(Pe>-1&&(ke.splice(Pe,1),cn="code."),Vr.forEach(yt=>{const Gt=ke.indexOf(yt);Gt>-1&&(ke.splice(Gt,1),cn+=yt+".")}),cn+=an,0!=ke.length||0===an.length)return null;const xe={};return xe.domEventName=lt,xe.fullKey=cn,xe}static matchEventFullKeyCode(me,ke){let lt=Ir[me.key]||me.key,an="";return ke.indexOf("code.")>-1&&(lt=me.code,an="code."),!(null==lt||!lt)&&(lt=lt.toLowerCase()," "===lt?lt="space":"."===lt&&(lt="dot"),Vr.forEach(cn=>{cn!==lt&&(0,tr[cn])(me)&&(an+=cn+".")}),an+=lt,an===ke)}static eventCallback(me,ke,lt){return an=>{He.matchEventFullKeyCode(an,me)&&lt.runGuarded(()=>ke(an))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:He.\u0275fac}),He})();const _r=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:f.bD},{provide:S.g9A,useValue:function ni(){V.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function xr(){return(0,S.RDi)(document),document},deps:[]}]),ds=new S.OlP(""),zt=[{provide:S.rWj,useClass:class ce{addToWindow(be){S.dqk.getAngularTestability=(ke,lt=!0)=>{const an=be.findTestabilityInTree(ke,lt);if(null==an)throw new Error("Could not find testability for element.");return an},S.dqk.getAllAngularTestabilities=()=>be.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>be.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(ke=>{const lt=S.dqk.getAllAngularTestabilities();let an=lt.length,cn=!1;const Pe=function(xe){cn=cn||xe,an--,0==an&&ke(cn)};lt.forEach(function(xe){xe.whenStable(Pe)})})}findTestabilityInTree(be,me,ke){if(null==me)return null;const lt=be.getTestability(me);return null!=lt?lt:ke?(0,f.q)().isShadowRoot(me)?this.findTestabilityInTree(be,me.host,!0):this.findTestabilityInTree(be,me.parentElement,!0):null}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],mi=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function Wr(){return new S.qLn},deps:[]},{provide:ze,useClass:pr,multi:!0,deps:[f.K0,S.R0b,S.Lbi]},{provide:ze,useClass:Fr,multi:!0,deps:[f.K0]},{provide:et,useClass:et,deps:[we,je,S.AFp]},{provide:S.FYo,useExisting:et},{provide:We,useExisting:je},{provide:je,useClass:je,deps:[f.K0]},{provide:we,useClass:we,deps:[ze,S.R0b]},{provide:f.JF,useClass:Le,deps:[]},[]];let Di=(()=>{class He{constructor(me){}static withServerTransition(me){return{ngModule:He,providers:[{provide:S.AFp,useValue:me.appId},{provide:he,useExisting:S.AFp},Z]}}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(ds,12))},He.\u0275mod=S.oAB({type:He}),He.\u0275inj=S.cJS({providers:[...mi,...zt],imports:[f.ez,S.hGG]}),He})(),Zi=(()=>{class He{constructor(me){this._doc=me,this._dom=(0,f.q)()}addTag(me,ke=!1){return me?this._getOrCreateElement(me,ke):null}addTags(me,ke=!1){return me?me.reduce((lt,an)=>(an&&lt.push(this._getOrCreateElement(an,ke)),lt),[]):[]}getTag(me){return me&&this._doc.querySelector(`meta[${me}]`)||null}getTags(me){if(!me)return[];const ke=this._doc.querySelectorAll(`meta[${me}]`);return ke?[].slice.call(ke):[]}updateTag(me,ke){if(!me)return null;ke=ke||this._parseSelector(me);const lt=this.getTag(ke);return lt?this._setMetaElementAttributes(me,lt):this._getOrCreateElement(me,!0)}removeTag(me){this.removeTagElement(this.getTag(me))}removeTagElement(me){me&&this._dom.remove(me)}_getOrCreateElement(me,ke=!1){if(!ke){const cn=this._parseSelector(me),Pe=this.getTags(cn).filter(xe=>this._containsAttributes(me,xe))[0];if(void 0!==Pe)return Pe}const lt=this._dom.createElement("meta");return this._setMetaElementAttributes(me,lt),this._doc.getElementsByTagName("head")[0].appendChild(lt),lt}_setMetaElementAttributes(me,ke){return Object.keys(me).forEach(lt=>ke.setAttribute(this._getMetaKeyMap(lt),me[lt])),ke}_parseSelector(me){const ke=me.name?"name":"property";return`${ke}="${me[ke]}"`}_containsAttributes(me,ke){return Object.keys(me).every(lt=>ke.getAttribute(this._getMetaKeyMap(lt))===me[lt])}_getMetaKeyMap(me){return ai[me]||me}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new me:function yr(){return new Zi((0,S.LFG)(f.K0))}(),ke},providedIn:"root"}),He})();const ai={httpEquiv:"http-equiv"};let $e=(()=>{class He{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new me:function wr(){return new $e((0,S.LFG)(f.K0))}(),ke},providedIn:"root"}),He})();"undefined"!=typeof window&&window;let Xt=(()=>{class He{}return He.\u0275fac=function(me){return new(me||He)},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new(me||He):S.LFG(ir),ke},providedIn:"root"}),He})(),ir=(()=>{class He extends Xt{constructor(me){super(),this._doc=me}sanitize(me,ke){if(null==ke)return null;switch(me){case S.q3G.NONE:return ke;case S.q3G.HTML:return(0,S.qzn)(ke,"HTML")?(0,S.z3N)(ke):(0,S.EiD)(this._doc,String(ke)).toString();case S.q3G.STYLE:return(0,S.qzn)(ke,"Style")?(0,S.z3N)(ke):ke;case S.q3G.SCRIPT:if((0,S.qzn)(ke,"Script"))return(0,S.z3N)(ke);throw new Error("unsafe value used in a script context");case S.q3G.URL:return(0,S.qzn)(ke,"URL")?(0,S.z3N)(ke):(0,S.mCW)(String(ke));case S.q3G.RESOURCE_URL:if((0,S.qzn)(ke,"ResourceURL"))return(0,S.z3N)(ke);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${me} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(me){return(0,S.JVY)(me)}bypassSecurityTrustStyle(me){return(0,S.L6k)(me)}bypassSecurityTrustScript(me){return(0,S.eBb)(me)}bypassSecurityTrustUrl(me){return(0,S.LAX)(me)}bypassSecurityTrustResourceUrl(me){return(0,S.pB0)(me)}}return He.\u0275fac=function(me){return new(me||He)(S.LFG(f.K0))},He.\u0275prov=S.Yz7({token:He,factory:function(me){let ke=null;return ke=me?new me:function Nn(He){return new ir(He.get(f.K0))}(S.LFG(S.zs3)),ke},providedIn:"root"}),He})()},4202:(Ie,ae,C)=>{C.d(ae,{Bz:()=>Ia,F0:()=>us,OD:()=>$i,Od:()=>vo,Q3:()=>bn,gk:()=>In,gz:()=>qr,lC:()=>Si,m2:()=>Rn,rH:()=>zo,wN:()=>Oi,yS:()=>va});var f=C(5e3),S=C(457),te=C(9646),V=C(1135),le=C(6805),de=C(9841),oe=C(7272),J=C(9770),he=C(9635),Q=C(2843),Z=C(9751),ce=C(515),Le=C(4033),ze=C(7579),we=C(9808),Ye=C(4004),We=C(3900),je=C(5698),gt=C(8675),xt=C(9300),Ge=C(5577),Be=C(590),Dt=C(4351),Tt=C(8505),Wt=C(262),$t=C(5026),Rt=C(3103),tt=C(2529),Ze=C(6590),at=C(2035),et=C(9718),Nt=C(8746),bt=C(8343),ht=C(8189),Vn=C(2313);const Kt="primary",Mt=Symbol("RouteTitle");class pr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T[0]:T}return null}getAll(O){if(this.has(O)){const T=this.params[O];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Vr(M){return new pr(M)}function Ir(M,O,T){const F=T.path.split("/");if(F.length>M.length||"full"===T.pathMatch&&(O.hasChildren()||F.length<M.length))return null;const $={};for(let re=0;re<F.length;re++){const ve=F[re],Ce=M[re];if(ve.startsWith(":"))$[ve.substring(1)]=Ce;else if(ve!==Ce.path)return null}return{consumed:M.slice(0,F.length),posParams:$}}function Fr(M,O){const T=M?Object.keys(M):void 0,F=O?Object.keys(O):void 0;if(!T||!F||T.length!=F.length)return!1;let $;for(let re=0;re<T.length;re++)if($=T[re],!dr(M[$],O[$]))return!1;return!0}function dr(M,O){if(Array.isArray(M)&&Array.isArray(O)){if(M.length!==O.length)return!1;const T=[...M].sort(),F=[...O].sort();return T.every(($,re)=>F[re]===$)}return M===O}function Ei(M){return Array.prototype.concat.apply([],M)}function gi(M){return M.length>0?M[M.length-1]:null}function $r(M,O){for(const T in M)M.hasOwnProperty(T)&&O(M[T],T)}function ni(M){return(0,f.CqO)(M)?M:(0,f.QGY)(M)?(0,S.D)(Promise.resolve(M)):(0,te.of)(M)}const lr={exact:function mi(M,O,T){if(!nt(M.segments,O.segments)||!ai(M.segments,O.segments,T)||M.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!M.children[F]||!mi(M.children[F],O.children[F],T))return!1;return!0},subset:yr},_r={exact:function zt(M,O){return Fr(M,O)},subset:function Di(M,O){return Object.keys(O).length<=Object.keys(M).length&&Object.keys(O).every(T=>dr(M[T],O[T]))},ignored:()=>!0};function ds(M,O,T){return lr[T.paths](M.root,O.root,T.matrixParams)&&_r[T.queryParams](M.queryParams,O.queryParams)&&!("exact"===T.fragment&&M.fragment!==O.fragment)}function yr(M,O,T){return Zi(M,O,O.segments,T)}function Zi(M,O,T,F){if(M.segments.length>T.length){const $=M.segments.slice(0,T.length);return!(!nt($,T)||O.hasChildren()||!ai($,T,F))}if(M.segments.length===T.length){if(!nt(M.segments,T)||!ai(M.segments,T,F))return!1;for(const $ in O.children)if(!M.children[$]||!yr(M.children[$],O.children[$],F))return!1;return!0}{const $=T.slice(0,M.segments.length),re=T.slice(M.segments.length);return!!(nt(M.segments,$)&&ai(M.segments,$,F)&&M.children[Kt])&&Zi(M.children[Kt],O,re,F)}}function ai(M,O,T){return O.every((F,$)=>_r[T](M[$].parameters,F.parameters))}class wr{constructor(O,T,F){this.root=O,this.queryParams=T,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vr(this.queryParams)),this._queryParamMap}toString(){return Kn.serialize(this)}}class $e{constructor(O,T){this.segments=O,this.children=T,this.parent=null,$r(T,(F,$)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vt(this)}}class Oe{constructor(O,T){this.path=O,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Vr(this.parameters)),this._parameterMap}toString(){return zr(this)}}function nt(M,O){return M.length===O.length&&M.every((T,F)=>T.path===O[F].path)}let un=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return new rn},providedIn:"root"}),M})();class rn{parse(O){const T=new Ke(O);return new wr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(O){const T=`/${Bn(O.root,!0)}`,F=function Nr(M){const O=Object.keys(M).map(T=>{const F=M[T];return Array.isArray(F)?F.map($=>`${Kr(T)}=${Kr($)}`).join("&"):`${Kr(T)}=${Kr(F)}`}).filter(T=>!!T);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${T}${F}${"string"==typeof O.fragment?`#${function pn(M){return encodeURI(M)}(O.fragment)}`:""}`}}const Kn=new rn;function Vt(M){return M.segments.map(O=>zr(O)).join("/")}function Bn(M,O){if(!M.hasChildren())return Vt(M);if(O){const T=M.children[Kt]?Bn(M.children[Kt],!1):"",F=[];return $r(M.children,($,re)=>{re!==Kt&&F.push(`${re}:${Bn($,!1)}`)}),F.length>0?`${T}(${F.join("//")})`:T}{const T=function pt(M,O){let T=[];return $r(M.children,(F,$)=>{$===Kt&&(T=T.concat(O(F,$)))}),$r(M.children,(F,$)=>{$!==Kt&&(T=T.concat(O(F,$)))}),T}(M,(F,$)=>$===Kt?[Bn(M.children[Kt],!1)]:[`${$}:${Bn(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Kt]?`${Vt(M)}/${T[0]}`:`${Vt(M)}/(${T.join("//")})`}}function zn(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(M){return zn(M).replace(/%3B/gi,";")}function yn(M){return zn(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(M){return decodeURIComponent(M)}function li(M){return jn(M.replace(/\+/g,"%20"))}function zr(M){return`${yn(M.path)}${function Fn(M){return Object.keys(M).map(O=>`;${yn(O)}=${yn(M[O])}`).join("")}(M.parameters)}`}const ji=/^[^\/()?;=#]+/;function Gr(M){const O=M.match(ji);return O?O[0]:""}const Ne=/^[^=?&#]+/,Ve=/^[^&#]+/;class Ke{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(T).length>0)&&(F[Kt]=new $e(O,T)),F}parseSegment(){const O=Gr(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(O),new Oe(jn(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const T=Gr(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const $=Gr(this.remaining);$&&(F=$,this.capture(F))}O[jn(T)]=jn(F)}parseQueryParam(O){const T=function Ae(M){const O=M.match(Ne);return O?O[0]:""}(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const ve=function Et(M){const O=M.match(Ve);return O?O[0]:""}(this.remaining);ve&&(F=ve,this.capture(F))}const $=li(T),re=li(F);if(O.hasOwnProperty($)){let ve=O[$];Array.isArray(ve)||(ve=[ve],O[$]=ve),ve.push(re)}else O[$]=re}parseParens(O){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Gr(this.remaining),$=this.remaining[F.length];if("/"!==$&&")"!==$&&";"!==$)throw new f.vHH(4010,!1);let re;F.indexOf(":")>-1?(re=F.slice(0,F.indexOf(":")),this.capture(re),this.capture(":")):O&&(re=Kt);const ve=this.parseChildren();T[re]=1===Object.keys(ve).length?ve[Kt]:new $e([],ve),this.consumeOptional("//")}return T}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new f.vHH(4011,!1)}}function Ht(M){return M.segments.length>0?new $e([],{[Kt]:M}):M}function Xt(M){const O={};for(const F of Object.keys(M.children)){const re=Xt(M.children[F]);(re.segments.length>0||re.hasChildren())&&(O[F]=re)}return function Nn(M){if(1===M.numberOfChildren&&M.children[Kt]){const O=M.children[Kt];return new $e(M.segments.concat(O.segments),O.children)}return M}(new $e(M.segments,O))}function ir(M){return M instanceof wr}function ke(M,O,T,F,$){var re;if(0===T.length)return cn(O.root,O.root,O.root,F,$);const Ce=function yt(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new xe(!0,0,M);let O=0,T=!1;const F=M.reduce(($,re,ve)=>{if("object"==typeof re&&null!=re){if(re.outlets){const Ce={};return $r(re.outlets,(Xe,jt)=>{Ce[jt]="string"==typeof Xe?Xe.split("/"):Xe}),[...$,{outlets:Ce}]}if(re.segmentPath)return[...$,re.segmentPath]}return"string"!=typeof re?[...$,re]:0===ve?(re.split("/").forEach((Ce,Xe)=>{0==Xe&&"."===Ce||(0==Xe&&""===Ce?T=!0:".."===Ce?O++:""!=Ce&&$.push(Ce))}),$):[...$,re]},[]);return new xe(T,O,F)}(T);return Ce.toRoot()?cn(O.root,O.root,new $e([],{}),F,$):function Xe(hn){var Yt;const vn=function gn(M,O,T,F){if(M.isAbsolute)return new Gt(O.root,!0,0);if(-1===F)return new Gt(T,T===O.root,0);return function Jn(M,O,T){let F=M,$=O,re=T;for(;re>$;){if(re-=$,F=F.parent,!F)throw new f.vHH(4005,!1);$=F.segments.length}return new Gt(F,!1,$-re)}(T,F+(lt(M.commands[0])?0:1),M.numberOfDoubleDots)}(Ce,O,null===(Yt=M.snapshot)||void 0===Yt?void 0:Yt._urlSegment,hn),Zn=vn.processChildren?Ar(vn.segmentGroup,vn.index,Ce.commands):si(vn.segmentGroup,vn.index,Ce.commands);return cn(O.root,vn.segmentGroup,Zn,F,$)}(null===(re=M.snapshot)||void 0===re?void 0:re._lastPathIndex)}function lt(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function an(M){return"object"==typeof M&&null!=M&&M.outlets}function cn(M,O,T,F,$){let ve,re={};F&&$r(F,(Xe,jt)=>{re[jt]=Array.isArray(Xe)?Xe.map(hn=>`${hn}`):`${Xe}`}),ve=M===O?T:Pe(M,O,T);const Ce=Ht(Xt(ve));return new wr(Ce,re,$)}function Pe(M,O,T){const F={};return $r(M.children,($,re)=>{F[re]=$===O?T:Pe($,O,T)}),new $e(M.segments,F)}class xe{constructor(O,T,F){if(this.isAbsolute=O,this.numberOfDoubleDots=T,this.commands=F,O&&F.length>0&&lt(F[0]))throw new f.vHH(4003,!1);const $=F.find(an);if($&&$!==gi(F))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gt{constructor(O,T,F){this.segmentGroup=O,this.processChildren=T,this.index=F}}function si(M,O,T){if(M||(M=new $e([],{})),0===M.segments.length&&M.hasChildren())return Ar(M,O,T);const F=function $n(M,O,T){let F=0,$=O;const re={match:!1,pathIndex:0,commandIndex:0};for(;$<M.segments.length;){if(F>=T.length)return re;const ve=M.segments[$],Ce=T[F];if(an(Ce))break;const Xe=`${Ce}`,jt=F<T.length-1?T[F+1]:null;if($>0&&void 0===Xe)break;if(Xe&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!Hi(Xe,jt,ve))return re;F+=2}else{if(!Hi(Xe,{},ve))return re;F++}$++}return{match:!0,pathIndex:$,commandIndex:F}}(M,O,T),$=T.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const re=new $e(M.segments.slice(0,F.pathIndex),{});return re.children[Kt]=new $e(M.segments.slice(F.pathIndex),M.children),Ar(re,0,$)}return F.match&&0===$.length?new $e(M.segments,{}):F.match&&!M.hasChildren()?hs(M,O,T):F.match?Ar(M,0,$):hs(M,O,T)}function Ar(M,O,T){if(0===T.length)return new $e(M.segments,{});{const F=function sr(M){return an(M[0])?M[0].outlets:{[Kt]:M}}(T),$={};return $r(F,(re,ve)=>{"string"==typeof re&&(re=[re]),null!==re&&($[ve]=si(M.children[ve],O,re))}),$r(M.children,(re,ve)=>{void 0===F[ve]&&($[ve]=re)}),new $e(M.segments,$)}}function hs(M,O,T){const F=M.segments.slice(0,O);let $=0;for(;$<T.length;){const re=T[$];if(an(re)){const Xe=Mr(re.outlets);return new $e(F,Xe)}if(0===$&&lt(T[0])){F.push(new Oe(M.segments[O].path,Ji(T[0]))),$++;continue}const ve=an(re)?re.outlets[Kt]:`${re}`,Ce=$<T.length-1?T[$+1]:null;ve&&Ce&&lt(Ce)?(F.push(new Oe(ve,Ji(Ce))),$+=2):(F.push(new Oe(ve,{})),$++)}return new $e(F,{})}function Mr(M){const O={};return $r(M,(T,F)=>{"string"==typeof T&&(T=[T]),null!==T&&(O[F]=hs(new $e([],{}),0,T))}),O}function Ji(M){const O={};return $r(M,(T,F)=>O[F]=`${T}`),O}function Hi(M,O,T){return M==T.path&&Fr(O,T.parameters)}class or{constructor(O,T){this.id=O,this.url=T}}class $i extends or{constructor(O,T,F="imperative",$=null){super(O,T),this.type=0,this.navigationTrigger=F,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rn extends or{constructor(O,T,F){super(O,T),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class In extends or{constructor(O,T,F,$){super(O,T),this.reason=F,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bn extends or{constructor(O,T,F,$){super(O,T),this.error=F,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ri extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends or{constructor(O,T,F,$,re){super(O,T),this.urlAfterRedirects=F,this.state=$,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xs extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends or{constructor(O,T,F,$){super(O,T),this.urlAfterRedirects=F,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tr{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ln{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(O,T,F){this.routerEvent=O,this.position=T,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mt{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const T=this.pathFromRoot(O);return T.length>1?T[T.length-2]:null}children(O){const T=Qt(O,this._root);return T?T.children.map(F=>F.value):[]}firstChild(O){const T=Qt(O,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(O){const T=kt(O,this._root);return T.length<2?[]:T[T.length-2].children.map($=>$.value).filter($=>$!==O)}pathFromRoot(O){return kt(O,this._root).map(T=>T.value)}}function Qt(M,O){if(M===O.value)return O;for(const T of O.children){const F=Qt(M,T);if(F)return F}return null}function kt(M,O){if(M===O.value)return[O];for(const T of O.children){const F=kt(M,T);if(F.length)return F.unshift(O),F}return[]}class Gn{constructor(O,T){this.value=O,this.children=T}toString(){return`TreeNode(${this.value})`}}function Yr(M){const O={};return M&&M.children.forEach(T=>O[T.value.outlet]=T),O}class Dr extends mt{constructor(O,T){super(O),this.snapshot=T,Xn(this,O)}toString(){return this.snapshot.toString()}}function xi(M,O){const T=function Sr(M,O){const ve=new zs([],{},{},"",{},Kt,O,null,M.root,-1,{});return new ho("",new Gn(ve,[]))}(M,O),F=new V.X([new Oe("",{})]),$=new V.X({}),re=new V.X({}),ve=new V.X({}),Ce=new V.X(""),Xe=new qr(F,$,ve,Ce,re,Kt,O,T.root);return Xe.snapshot=T.root,new Dr(new Gn(Xe,[]),T)}class qr{constructor(O,T,F,$,re,ve,Ce,Xe){var jt,hn;this.url=O,this.params=T,this.queryParams=F,this.fragment=$,this.data=re,this.outlet=ve,this.component=Ce,this.title=null!==(hn=null===(jt=this.data)||void 0===jt?void 0:jt.pipe((0,Ye.U)(Yt=>Yt[Mt])))&&void 0!==hn?hn:(0,te.of)(void 0),this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(O=>Vr(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(O=>Vr(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Es(M,O="emptyOnly"){const T=M.pathFromRoot;let F=0;if("always"!==O)for(F=T.length-1;F>=1;){const $=T[F],re=T[F-1];if($.routeConfig&&""===$.routeConfig.path)F--;else{if(re.component)break;F--}}return function Xi(M){return M.reduce((O,T)=>{var F;return{params:Object.assign(Object.assign({},O.params),T.params),data:Object.assign(Object.assign({},O.data),T.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},T.data),O.resolve),null===(F=T.routeConfig)||void 0===F?void 0:F.data),T._resolvedData)}},{params:{},data:{},resolve:{}})}(T.slice(F))}class zs{constructor(O,T,F,$,re,ve,Ce,Xe,jt,hn,Yt,vn){var Zn;this.url=O,this.params=T,this.queryParams=F,this.fragment=$,this.data=re,this.outlet=ve,this.component=Ce,this.title=null===(Zn=this.data)||void 0===Zn?void 0:Zn[Mt],this.routeConfig=Xe,this._urlSegment=jt,this._lastPathIndex=hn,this._correctedLastPathIndex=null!=vn?vn:hn,this._resolve=Yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends mt{constructor(O,T){super(T),this.url=O,Xn(this,T)}toString(){return To(this._root)}}function Xn(M,O){O.value._routerState=M,O.children.forEach(T=>Xn(M,T))}function To(M){const O=M.children.length>0?` { ${M.children.map(To).join(", ")} } `:"";return`${M.value}${O}`}function eo(M){if(M.snapshot){const O=M.snapshot,T=M._futureSnapshot;M.snapshot=T,Fr(O.queryParams,T.queryParams)||M.queryParams.next(T.queryParams),O.fragment!==T.fragment&&M.fragment.next(T.fragment),Fr(O.params,T.params)||M.params.next(T.params),function tr(M,O){if(M.length!==O.length)return!1;for(let T=0;T<M.length;++T)if(!Fr(M[T],O[T]))return!1;return!0}(O.url,T.url)||M.url.next(T.url),Fr(O.data,T.data)||M.data.next(T.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function fs(M,O){const T=Fr(M.params,O.params)&&function Ee(M,O){return nt(M,O)&&M.every((T,F)=>Fr(T.parameters,O[F].parameters))}(M.url,O.url);return T&&!(!M.parent!=!O.parent)&&(!M.parent||fs(M.parent,O.parent))}function Gi(M,O,T){if(T&&M.shouldReuseRoute(O.value,T.value.snapshot)){const F=T.value;F._futureSnapshot=O.value;const $=function Wi(M,O,T){return O.children.map(F=>{for(const $ of T.children)if(M.shouldReuseRoute(F.value,$.value.snapshot))return Gi(M,F,$);return Gi(M,F)})}(M,O,T);return new Gn(F,$)}{if(M.shouldAttach(O.value)){const re=M.retrieve(O.value);if(null!==re){const ve=re.route;return ve.value._futureSnapshot=O.value,ve.children=O.children.map(Ce=>Gi(M,Ce)),ve}}const F=function Ys(M){return new qr(new V.X(M.url),new V.X(M.params),new V.X(M.queryParams),new V.X(M.fragment),new V.X(M.data),M.outlet,M.component,M)}(O.value),$=O.children.map(re=>Gi(M,re));return new Gn(F,$)}}const er="ngNavigationCancelingError";function to(M,O){const{redirectTo:T,navigationBehaviorOptions:F}=ir(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,$=Ds(!1,0,O);return $.url=T,$.navigationBehaviorOptions=F,$}function Ds(M,O,T){const F=new Error("NavigationCancelingError: "+(M||""));return F[er]=!0,F.cancellationCode=O,T&&(F.url=T),F}function no(M){return Uo(M)&&ir(M.url)}function Uo(M){return M&&M[er]}class ro{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vo,this.attachRef=null}}let Vo=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const $=this.getOrCreateContext(T);$.outlet=F,this.contexts.set(T,$)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new ro,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Bo=!1;let Si=(()=>{class M{constructor(T,F,$,re,ve){this.parentContexts=T,this.location=F,this.changeDetector=re,this.environmentInjector=ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=$||Kt,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){var T;(null===(T=this.parentContexts.getContext(this.name))||void 0===T?void 0:T.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Bo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Bo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Bo);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){if(this.isActivated)throw new f.vHH(4013,Bo);this._activatedRoute=T;const $=this.location,ve=T._futureSnapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,Xe=new qa(T,Ce,$.injector);if(F&&function ri(M){return!!M.resolveComponentFactory}(F)){const jt=F.resolveComponentFactory(ve);this.activated=$.createComponent(jt,$.length,Xe)}else this.activated=$.createComponent(ve,{index:$.length,injector:Xe,environmentInjector:null!=F?F:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(Vo),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},M.\u0275dir=f.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),M})();class qa{constructor(O,T,F){this.route=O,this.childContexts=T,this.parent=F}get(O,T){return O===qr?this.route:O===Vo?this.childContexts:this.parent.get(O,T)}}let Bs=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(T,F){1&T&&f._UZ(0,"router-outlet")},dependencies:[Si],encapsulation:2}),M})();function Ra(M,O){var T;return M.providers&&!M._injector&&(M._injector=(0,f.MMx)(M.providers,O,`Route: ${M.path}`)),null!==(T=M._injector)&&void 0!==T?T:O}function Ci(M){const O=M.children&&M.children.map(Ci),T=O?Object.assign(Object.assign({},M),{children:O}):Object.assign({},M);return!T.component&&!T.loadComponent&&(O||T.loadChildren)&&T.outlet&&T.outlet!==Kt&&(T.component=Bs),T}function En(M){return M.outlet||Kt}function jo(M,O){const T=M.filter(F=>En(F)===O);return T.push(...M.filter(F=>En(F)!==O)),T}function ur(M){var O;if(!M)return null;if(null!==(O=M.routeConfig)&&void 0!==O&&O._injector)return M.routeConfig._injector;for(let T=M.parent;T;T=T.parent){const F=T.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class Pr{constructor(O,T,F,$){this.routeReuseStrategy=O,this.futureState=T,this.currState=F,this.forwardEvent=$}activate(O){const T=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,F,O),eo(this.futureState.root),this.activateChildRoutes(T,F,O)}deactivateChildRoutes(O,T,F){const $=Yr(T);O.children.forEach(re=>{const ve=re.value.outlet;this.deactivateRoutes(re,$[ve],F),delete $[ve]}),$r($,(re,ve)=>{this.deactivateRouteAndItsChildren(re,F)})}deactivateRoutes(O,T,F){const $=O.value,re=T?T.value:null;if($===re)if($.component){const ve=F.getContext($.outlet);ve&&this.deactivateChildRoutes(O,T,ve.children)}else this.deactivateChildRoutes(O,T,F);else re&&this.deactivateRouteAndItsChildren(T,F)}deactivateRouteAndItsChildren(O,T){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,T):this.deactivateRouteAndOutlet(O,T)}detachAndStoreRouteSubtree(O,T){const F=T.getContext(O.value.outlet),$=F&&O.value.component?F.children:T,re=Yr(O);for(const ve of Object.keys(re))this.deactivateRouteAndItsChildren(re[ve],$);if(F&&F.outlet){const ve=F.outlet.detach(),Ce=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:ve,route:O,contexts:Ce})}}deactivateRouteAndOutlet(O,T){const F=T.getContext(O.value.outlet),$=F&&O.value.component?F.children:T,re=Yr(O);for(const ve of Object.keys(re))this.deactivateRouteAndItsChildren(re[ve],$);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(O,T,F){const $=Yr(T);O.children.forEach(re=>{this.activateRoutes(re,$[re.value.outlet],F),this.forwardEvent(new Te(re.value.snapshot))}),O.children.length&&this.forwardEvent(new kr(O.value.snapshot))}activateRoutes(O,T,F){var $;const re=O.value,ve=T?T.value:null;if(eo(re),re===ve)if(re.component){const Ce=F.getOrCreateContext(re.outlet);this.activateChildRoutes(O,T,Ce.children)}else this.activateChildRoutes(O,T,F);else if(re.component){const Ce=F.getOrCreateContext(re.outlet);if(this.routeReuseStrategy.shouldAttach(re.snapshot)){const Xe=this.routeReuseStrategy.retrieve(re.snapshot);this.routeReuseStrategy.store(re.snapshot,null),Ce.children.onOutletReAttached(Xe.contexts),Ce.attachRef=Xe.componentRef,Ce.route=Xe.route.value,Ce.outlet&&Ce.outlet.attach(Xe.componentRef,Xe.route.value),eo(Xe.route.value),this.activateChildRoutes(O,null,Ce.children)}else{const Xe=ur(re.snapshot),jt=null!==($=null==Xe?void 0:Xe.get(f._Vd))&&void 0!==$?$:null;Ce.attachRef=null,Ce.route=re,Ce.resolver=jt,Ce.injector=Xe,Ce.outlet&&Ce.outlet.activateWith(re,Ce.injector),this.activateChildRoutes(O,null,Ce.children)}}else this.activateChildRoutes(O,null,F)}}class La{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Hs{constructor(O,T){this.component=O,this.route=T}}function Ho(M,O,T){const F=M._root;return Cs(F,O?O._root:null,T,[F.value])}function Dn(M,O){const T=Symbol(),F=O.get(M,T);return F===T?"function"!=typeof M||(0,f.Z0I)(M)?O.get(M):M:F}function Cs(M,O,T,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const re=Yr(O);return M.children.forEach(ve=>{(function ia(M,O,T,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const re=M.value,ve=O?O.value:null,Ce=T?T.getContext(M.value.outlet):null;if(ve&&re.routeConfig===ve.routeConfig){const Xe=function sa(M,O,T){if("function"==typeof T)return T(M,O);switch(T){case"pathParamsChange":return!nt(M.url,O.url);case"pathParamsOrQueryParamsChange":return!nt(M.url,O.url)||!Fr(M.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fs(M,O)||!Fr(M.queryParams,O.queryParams);default:return!fs(M,O)}}(ve,re,re.routeConfig.runGuardsAndResolvers);Xe?$.canActivateChecks.push(new La(F)):(re.data=ve.data,re._resolvedData=ve._resolvedData),Cs(M,O,re.component?Ce?Ce.children:null:T,F,$),Xe&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&$.canDeactivateChecks.push(new Hs(Ce.outlet.component,ve))}else ve&&Ls(O,Ce,$),$.canActivateChecks.push(new La(F)),Cs(M,null,re.component?Ce?Ce.children:null:T,F,$)})(ve,re[ve.value.outlet],T,F.concat([ve.value]),$),delete re[ve.value.outlet]}),$r(re,(ve,Ce)=>Ls(ve,T.getContext(Ce),$)),$}function Ls(M,O,T){const F=Yr(M),$=M.value;$r(F,(re,ve)=>{Ls(re,$.component?O?O.children.getContext(ve):null:O,T)}),T.canDeactivateChecks.push(new Hs($.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,$))}function Is(M){return"function"==typeof M}function G(M){return M instanceof le.K||"EmptyError"===(null==M?void 0:M.name)}const j=Symbol("INITIAL_VALUE");function L(){return(0,We.w)(M=>(0,de.a)(M.map(O=>O.pipe((0,je.q)(1),(0,gt.O)(j)))).pipe((0,Ye.U)(O=>{for(const T of O)if(!0!==T){if(T===j)return j;if(!1===T||T instanceof wr)return T}return!0}),(0,xt.h)(O=>O!==j),(0,je.q)(1)))}function bo(M){return(0,he.z)((0,Tt.b)(O=>{if(ir(O))throw to(0,O)}),(0,Ye.U)(O=>!0===O))}const Il={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oa(M,O,T,F,$){const re=Fs(M,O,T);return re.matched?function Ao(M,O,T,F){const $=O.canMatch;if(!$||0===$.length)return(0,te.of)(!0);const re=$.map(ve=>{const Ce=Dn(ve,M);return ni(function Fa(M){return M&&Is(M.canMatch)}(Ce)?Ce.canMatch(O,T):M.runInContext(()=>Ce(O,T)))});return(0,te.of)(re).pipe(L(),bo())}(F=Ra(O,F),O,T).pipe((0,Ye.U)(ve=>!0===ve?re:Object.assign({},Il))):(0,te.of)(re)}function Fs(M,O,T){var F;if(""===O.path)return"full"===O.pathMatch&&(M.hasChildren()||T.length>0)?Object.assign({},Il):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const re=(O.matcher||Ir)(T,M,O);if(!re)return Object.assign({},Il);const ve={};$r(re.posParams,(Xe,jt)=>{ve[jt]=Xe.path});const Ce=re.consumed.length>0?Object.assign(Object.assign({},ve),re.consumed[re.consumed.length-1].parameters):ve;return{matched:!0,consumedSegments:re.consumed,remainingSegments:T.slice(re.consumed.length),parameters:Ce,positionalParamSegments:null!==(F=re.posParams)&&void 0!==F?F:{}}}function mo(M,O,T,F,$="corrected"){if(T.length>0&&function Go(M,O,T){return T.some(F=>_o(M,O,F)&&En(F)!==Kt)}(M,T,F)){const ve=new $e(O,function Ua(M,O,T,F){const $={};$[Kt]=F,F._sourceSegment=M,F._segmentIndexShift=O.length;for(const re of T)if(""===re.path&&En(re)!==Kt){const ve=new $e([],{});ve._sourceSegment=M,ve._segmentIndexShift=O.length,$[En(re)]=ve}return $}(M,O,F,new $e(T,M.children)));return ve._sourceSegment=M,ve._segmentIndexShift=O.length,{segmentGroup:ve,slicedSegments:[]}}if(0===T.length&&function Wo(M,O,T){return T.some(F=>_o(M,O,F))}(M,T,F)){const ve=new $e(M.segments,function ka(M,O,T,F,$,re){const ve={};for(const Ce of F)if(_o(M,T,Ce)&&!$[En(Ce)]){const Xe=new $e([],{});Xe._sourceSegment=M,Xe._segmentIndexShift="legacy"===re?M.segments.length:O.length,ve[En(Ce)]=Xe}return Object.assign(Object.assign({},$),ve)}(M,O,T,F,M.children,$));return ve._sourceSegment=M,ve._segmentIndexShift=O.length,{segmentGroup:ve,slicedSegments:T}}const re=new $e(M.segments,M.children);return re._sourceSegment=M,re._segmentIndexShift=O.length,{segmentGroup:re,slicedSegments:T}}function _o(M,O,T){return(!(M.hasChildren()||O.length>0)||"full"!==T.pathMatch)&&""===T.path}function Mo(M,O,T,F){return!!(En(M)===F||F!==Kt&&_o(O,T,M))&&("**"===M.path||Fs(O,M,T).matched)}function Ps(M,O,T){return 0===O.length&&!M.children[T]}const _a=!1;class ul{constructor(O){this.segmentGroup=O||null}}class Oo{constructor(O){this.urlTree=O}}function k(M){return(0,Q._)(new ul(M))}function q(M){return(0,Q._)(new Oo(M))}class rt{constructor(O,T,F,$,re){this.injector=O,this.configLoader=T,this.urlSerializer=F,this.urlTree=$,this.config=re,this.allowRedirects=!0}apply(){const O=mo(this.urlTree.root,[],[],this.config).segmentGroup,T=new $e(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,T,Kt).pipe((0,Ye.U)(re=>this.createUrlTree(Xt(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Wt.K)(re=>{if(re instanceof Oo)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof ul?this.noMatchError(re):re}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,Kt).pipe((0,Ye.U)($=>this.createUrlTree(Xt($),O.queryParams,O.fragment))).pipe((0,Wt.K)($=>{throw $ instanceof ul?this.noMatchError($):$}))}noMatchError(O){return new f.vHH(4002,_a)}createUrlTree(O,T,F){const $=Ht(O);return new wr($,T,F)}expandSegmentGroup(O,T,F,$){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(O,T,F).pipe((0,Ye.U)(re=>new $e([],re))):this.expandSegment(O,F,T,F.segments,$,!0)}expandChildren(O,T,F){const $=[];for(const re of Object.keys(F.children))"primary"===re?$.unshift(re):$.push(re);return(0,S.D)($).pipe((0,Dt.b)(re=>{const ve=F.children[re],Ce=jo(T,re);return this.expandSegmentGroup(O,Ce,ve,re).pipe((0,Ye.U)(Xe=>({segment:Xe,outlet:re})))}),(0,$t.R)((re,ve)=>(re[ve.outlet]=ve.segment,re),{}),(0,Rt.Z)())}expandSegment(O,T,F,$,re,ve){return(0,S.D)(F).pipe((0,Dt.b)(Ce=>this.expandSegmentAgainstRoute(O,T,F,Ce,$,re,ve).pipe((0,Wt.K)(jt=>{if(jt instanceof ul)return(0,te.of)(null);throw jt}))),(0,Be.P)(Ce=>!!Ce),(0,Wt.K)((Ce,Xe)=>{if(G(Ce))return Ps(T,$,re)?(0,te.of)(new $e([],{})):k(T);throw Ce}))}expandSegmentAgainstRoute(O,T,F,$,re,ve,Ce){return Mo($,T,re,ve)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(O,T,$,re,ve):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,T,F,$,re,ve):k(T):k(T)}expandSegmentAgainstRouteUsingRedirect(O,T,F,$,re,ve){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,$,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,$,re,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,T,F,$){const re=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?q(re):this.lineralizeSegments(F,re).pipe((0,Ge.z)(ve=>{const Ce=new $e(ve,{});return this.expandSegment(O,Ce,T,ve,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,T,F,$,re,ve){const{matched:Ce,consumedSegments:Xe,remainingSegments:jt,positionalParamSegments:hn}=Fs(T,$,re);if(!Ce)return k(T);const Yt=this.applyRedirectCommands(Xe,$.redirectTo,hn);return $.redirectTo.startsWith("/")?q(Yt):this.lineralizeSegments($,Yt).pipe((0,Ge.z)(vn=>this.expandSegment(O,T,F,vn.concat(jt),ve,!1)))}matchSegmentAgainstRoute(O,T,F,$,re){return"**"===F.path?(O=Ra(F,O),F.loadChildren?(F._loadedRoutes?(0,te.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(O,F)).pipe((0,Ye.U)(Ce=>(F._loadedRoutes=Ce.routes,F._loadedInjector=Ce.injector,new $e($,{})))):(0,te.of)(new $e($,{}))):oa(T,F,$,O).pipe((0,We.w)(({matched:ve,consumedSegments:Ce,remainingSegments:Xe})=>{var jt;return ve?(O=null!==(jt=F._injector)&&void 0!==jt?jt:O,this.getChildConfig(O,F,$).pipe((0,Ge.z)(Yt=>{var vn;const Zn=null!==(vn=Yt.injector)&&void 0!==vn?vn:O,Jr=Yt.routes,{segmentGroup:bs,slicedSegments:gs}=mo(T,Ce,Xe,Jr),xo=new $e(bs.segments,bs.children);if(0===gs.length&&xo.hasChildren())return this.expandChildren(Zn,Jr,xo).pipe((0,Ye.U)(il=>new $e(Ce,il)));if(0===Jr.length&&0===gs.length)return(0,te.of)(new $e(Ce,{}));const xs=En(F)===re;return this.expandSegment(Zn,xo,Jr,gs,xs?Kt:re,!0).pipe((0,Ye.U)($s=>new $e(Ce.concat($s.segments),$s.children)))}))):k(T)}))}getChildConfig(O,T,F){return T.children?(0,te.of)({routes:T.children,injector:O}):T.loadChildren?void 0!==T._loadedRoutes?(0,te.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function go(M,O,T,F){const $=O.canLoad;if(void 0===$||0===$.length)return(0,te.of)(!0);const re=$.map(ve=>{const Ce=Dn(ve,M);return ni(function ii(M){return M&&Is(M.canLoad)}(Ce)?Ce.canLoad(O,T):M.runInContext(()=>Ce(O,T)))});return(0,te.of)(re).pipe(L(),bo())}(O,T,F).pipe((0,Ge.z)($=>$?this.configLoader.loadChildren(O,T).pipe((0,Tt.b)(re=>{T._loadedRoutes=re.routes,T._loadedInjector=re.injector})):function se(M){return(0,Q._)(Ds(_a,3))}())):(0,te.of)({routes:[],injector:O})}lineralizeSegments(O,T){let F=[],$=T.root;for(;;){if(F=F.concat($.segments),0===$.numberOfChildren)return(0,te.of)(F);if($.numberOfChildren>1||!$.children[Kt])return(0,Q._)(new f.vHH(4e3,_a));$=$.children[Kt]}}applyRedirectCommands(O,T,F){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),O,F)}applyRedirectCreateUrlTree(O,T,F,$){const re=this.createSegmentGroup(O,T.root,F,$);return new wr(re,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(O,T){const F={};return $r(O,($,re)=>{if("string"==typeof $&&$.startsWith(":")){const Ce=$.substring(1);F[re]=T[Ce]}else F[re]=$}),F}createSegmentGroup(O,T,F,$){const re=this.createSegments(O,T.segments,F,$);let ve={};return $r(T.children,(Ce,Xe)=>{ve[Xe]=this.createSegmentGroup(O,Ce,F,$)}),new $e(re,ve)}createSegments(O,T,F,$){return T.map(re=>re.path.startsWith(":")?this.findPosParam(O,re,$):this.findOrReturn(re,F))}findPosParam(O,T,F){const $=F[T.path.substring(1)];if(!$)throw new f.vHH(4001,_a);return $}findOrReturn(O,T){let F=0;for(const $ of T){if($.path===O.path)return T.splice(F),$;F++}return O}}class jr{}class ar{constructor(O,T,F,$,re,ve,Ce,Xe){this.injector=O,this.rootComponentType=T,this.config=F,this.urlTree=$,this.url=re,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=Ce,this.urlSerializer=Xe}recognize(){const O=mo(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Kt).pipe((0,Ye.U)(T=>{if(null===T)return null;const F=new zs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Gn(F,T),re=new ho(this.url,$);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(O){const T=O.value,F=Es(T,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),O.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(O,T,F,$){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,T,F):this.processSegment(O,T,F,F.segments,$)}processChildren(O,T,F){return(0,S.D)(Object.keys(F.children)).pipe((0,Dt.b)($=>{const re=F.children[$],ve=jo(T,$);return this.processSegmentGroup(O,ve,re,$)}),(0,$t.R)(($,re)=>$&&re?($.push(...re),$):null),(0,tt.o)($=>null!==$),(0,Ze.d)(null),(0,Rt.Z)(),(0,Ye.U)($=>{if(null===$)return null;const re=ws($);return function Li(M){M.sort((O,T)=>O.value.outlet===Kt?-1:T.value.outlet===Kt?1:O.value.outlet.localeCompare(T.value.outlet))}(re),re}))}processSegment(O,T,F,$,re){return(0,S.D)(T).pipe((0,Dt.b)(ve=>{var Ce;return this.processSegmentAgainstRoute(null!==(Ce=ve._injector)&&void 0!==Ce?Ce:O,ve,F,$,re)}),(0,Be.P)(ve=>!!ve),(0,Wt.K)(ve=>{if(G(ve))return Ps(F,$,re)?(0,te.of)([]):(0,te.of)(null);throw ve}))}processSegmentAgainstRoute(O,T,F,$,re){var ve,Ce;if(T.redirectTo||!Mo(T,F,$,re))return(0,te.of)(null);let Xe;if("**"===T.path){const jt=$.length>0?gi($).parameters:{},hn=ls(F)+$.length,Yt=new zs($,jt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ya(T),En(T),null!==(Ce=null!==(ve=T.component)&&void 0!==ve?ve:T._loadedComponent)&&void 0!==Ce?Ce:null,T,Mi(F),hn,Lt(T),hn);Xe=(0,te.of)({snapshot:Yt,consumedSegments:[],remainingSegments:[]})}else Xe=oa(F,T,$,O).pipe((0,Ye.U)(({matched:jt,consumedSegments:hn,remainingSegments:Yt,parameters:vn})=>{var Zn,Jr;if(!jt)return null;const bs=ls(F)+hn.length;return{snapshot:new zs(hn,vn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ya(T),En(T),null!==(Jr=null!==(Zn=T.component)&&void 0!==Zn?Zn:T._loadedComponent)&&void 0!==Jr?Jr:null,T,Mi(F),bs,Lt(T),bs),consumedSegments:hn,remainingSegments:Yt}}));return Xe.pipe((0,We.w)(jt=>{var hn,Yt;if(null===jt)return(0,te.of)(null);const{snapshot:vn,consumedSegments:Zn,remainingSegments:Jr}=jt;O=null!==(hn=T._injector)&&void 0!==hn?hn:O;const bs=null!==(Yt=T._loadedInjector)&&void 0!==Yt?Yt:O,gs=function br(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(T),{segmentGroup:xo,slicedSegments:xs}=mo(F,Zn,Jr,gs.filter($s=>void 0===$s.redirectTo),this.relativeLinkResolution);if(0===xs.length&&xo.hasChildren())return this.processChildren(bs,gs,xo).pipe((0,Ye.U)($s=>null===$s?null:[new Gn(vn,$s)]));if(0===gs.length&&0===xs.length)return(0,te.of)([new Gn(vn,[])]);const wa=En(T)===re;return this.processSegment(bs,gs,xo,xs,wa?Kt:re).pipe((0,Ye.U)($s=>null===$s?null:[new Gn(vn,$s)]))}))}}function ts(M){const O=M.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function ws(M){const O=[],T=new Set;for(const F of M){if(!ts(F)){O.push(F);continue}const $=O.find(re=>F.value.routeConfig===re.value.routeConfig);void 0!==$?($.children.push(...F.children),T.add($)):O.push(F)}for(const F of T){const $=ws(F.children);O.push(new Gn(F.value,$))}return O.filter(F=>!T.has(F))}function Mi(M){let O=M;for(;O._sourceSegment;)O=O._sourceSegment;return O}function ls(M){var O,T;let F=M,$=null!==(O=F._segmentIndexShift)&&void 0!==O?O:0;for(;F._sourceSegment;)F=F._sourceSegment,$+=null!==(T=F._segmentIndexShift)&&void 0!==T?T:0;return $-1}function ya(M){return M.data||{}}function Lt(M){return M.resolve||{}}function Zt(M){return"string"==typeof M.title||null===M.title}function ut(M){return(0,We.w)(O=>{const T=M(O);return T?(0,S.D)(T).pipe((0,Ye.U)(()=>O)):(0,te.of)(O)})}let wt=(()=>{class M{buildTitle(T){var F;let $,re=T.root;for(;void 0!==re;)$=null!==(F=this.getResolvedTitleForRoute(re))&&void 0!==F?F:$,re=re.children.find(ve=>ve.outlet===Kt);return $}getResolvedTitleForRoute(T){return T.data[Mt]}}return M.\u0275fac=function(T){return new(T||M)},M.\u0275prov=f.Yz7({token:M,factory:function(){return(0,f.f3M)(Ts)},providedIn:"root"}),M})(),Ts=(()=>{class M extends wt{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(Vn.Dx))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Oi{}class qs extends class Ko{shouldDetach(O){return!1}store(O,T){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,T){return O.routeConfig===T.routeConfig}}{}const ks=new f.OlP("",{providedIn:"root",factory:()=>({})}),Po=new f.OlP("ROUTES");let Bl=(()=>{class M{constructor(T,F){this.injector=T,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,te.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=ni(T.loadComponent()).pipe((0,Tt.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=re}),(0,Nt.x)(()=>{this.componentLoaders.delete(T)})),$=new Le.c(F,()=>new ze.x).pipe((0,bt.x)());return this.componentLoaders.set(T,$),$}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,te.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const re=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ye.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Xe,jt,hn=!1;Array.isArray(Ce)?jt=Ce:(Xe=Ce.create(T).injector,jt=Ei(Xe.get(Po,[],f.XFs.Self|f.XFs.Optional)));return{routes:jt.map(Ci),injector:Xe}}),(0,Nt.x)(()=>{this.childrenLoaders.delete(F)})),ve=new Le.c(re,()=>new ze.x).pipe((0,bt.x)());return this.childrenLoaders.set(F,ve),ve}loadModuleFactoryOrRoutes(T){return ni(T()).pipe((0,Ge.z)(F=>F instanceof f.YKP||Array.isArray(F)?(0,te.of)(F):(0,S.D)(this.compiler.compileModuleAsync(F))))}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(f.zs3),f.LFG(f.Sil))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class wl{}class Tl{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,T){return O}}function Rs(M){throw M}function _u(M,O,T){return O.parse("/")}const ui={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function vr(){var M,O;const T=(0,f.f3M)(un),F=(0,f.f3M)(Vo),$=(0,f.f3M)(we.Ye),re=(0,f.f3M)(f.zs3),ve=(0,f.f3M)(f.Sil),Ce=null!==(M=(0,f.f3M)(Po,{optional:!0}))&&void 0!==M?M:[],Xe=null!==(O=(0,f.f3M)(ks,{optional:!0}))&&void 0!==O?O:{},jt=(0,f.f3M)(Ts),hn=(0,f.f3M)(wt,{optional:!0}),Yt=(0,f.f3M)(wl,{optional:!0}),vn=(0,f.f3M)(Oi,{optional:!0}),Zn=new us(null,T,F,$,re,ve,Ei(Ce));return Yt&&(Zn.urlHandlingStrategy=Yt),vn&&(Zn.routeReuseStrategy=vn),Zn.titleStrategy=null!=hn?hn:jt,function la(M,O){M.errorHandler&&(O.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(O.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(O.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(O.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(O.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(O.canceledNavigationResolution=M.canceledNavigationResolution)}(Xe,Zn),Zn}let us=(()=>{class M{constructor(T,F,$,re,ve,Ce,Xe){this.rootComponentType=T,this.urlSerializer=F,this.rootContexts=$,this.location=re,this.config=Xe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.x,this.errorHandler=Rs,this.malformedUriErrorHandler=_u,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,te.of)(void 0),this.urlHandlingStrategy=new Tl,this.routeReuseStrategy=new qs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ve.get(Bl),this.configLoader.onLoadEndListener=vn=>this.triggerEvent(new Tr(vn)),this.configLoader.onLoadStartListener=vn=>this.triggerEvent(new Or(vn)),this.ngModule=ve.get(f.h0i),this.console=ve.get(f.c2e);const Yt=ve.get(f.R0b);this.isNgZoneEnabled=Yt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Xe),this.currentUrlTree=function xr(){return new wr(new $e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xi(this.currentUrlTree,this.rootComponentType),this.transitions=new V.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const F=this.events;return T.pipe((0,xt.h)($=>0!==$.id),(0,Ye.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,We.w)($=>{let re=!1,ve=!1;return(0,te.of)($).pipe((0,Tt.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,We.w)(Ce=>{const Xe=this.browserUrlTree.toString(),jt=!this.navigated||Ce.extractedUrl.toString()!==Xe||Xe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||jt)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return Jt(Ce.source)&&(this.browserUrlTree=Ce.extractedUrl),(0,te.of)(Ce).pipe((0,We.w)(Yt=>{const vn=this.transitions.getValue();return F.next(new $i(Yt.id,this.serializeUrl(Yt.extractedUrl),Yt.source,Yt.restoredState)),vn!==this.transitions.getValue()?ce.E:Promise.resolve(Yt)}),function ft(M,O,T,F){return(0,We.w)($=>function De(M,O,T,F,$){return new rt(M,O,T,F,$).apply()}(M,O,T,$.extractedUrl,F).pipe((0,Ye.U)(re=>Object.assign(Object.assign({},$),{urlAfterRedirects:re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tt.b)(Yt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Yt.urlAfterRedirects}),$.urlAfterRedirects=Yt.urlAfterRedirects}),function ns(M,O,T,F,$,re){return(0,Ge.z)(ve=>function hr(M,O,T,F,$,re,ve="emptyOnly",Ce="legacy"){return new ar(M,O,T,F,$,ve,Ce,re).recognize().pipe((0,We.w)(Xe=>null===Xe?function Mn(M){return new Z.y(O=>O.error(M))}(new jr):(0,te.of)(Xe)))}(M,O,T,ve.urlAfterRedirects,F.serialize(ve.urlAfterRedirects),F,$,re).pipe((0,Ye.U)(Ce=>Object.assign(Object.assign({},ve),{targetSnapshot:Ce}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tt.b)(Yt=>{if($.targetSnapshot=Yt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Yt.extras.skipLocationChange){const Zn=this.urlHandlingStrategy.merge(Yt.urlAfterRedirects,Yt.rawUrl);this.setBrowserUrl(Zn,Yt)}this.browserUrlTree=Yt.urlAfterRedirects}const vn=new Ri(Yt.id,this.serializeUrl(Yt.extractedUrl),this.serializeUrl(Yt.urlAfterRedirects),Yt.targetSnapshot);F.next(vn)}));if(jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:vn,extractedUrl:Zn,source:Jr,restoredState:bs,extras:gs}=Ce,xo=new $i(vn,this.serializeUrl(Zn),Jr,bs);F.next(xo);const xs=xi(Zn,this.rootComponentType).snapshot;return $=Object.assign(Object.assign({},Ce),{targetSnapshot:xs,urlAfterRedirects:Zn,extras:Object.assign(Object.assign({},gs),{skipLocationChange:!1,replaceUrl:!1})}),(0,te.of)($)}return this.rawUrlTree=Ce.rawUrl,Ce.resolve(null),ce.E}),(0,Tt.b)(Ce=>{const Xe=new wn(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(Xe)}),(0,Ye.U)(Ce=>$=Object.assign(Object.assign({},Ce),{guards:Ho(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)})),function ie(M,O){return(0,Ge.z)(T=>{const{targetSnapshot:F,currentSnapshot:$,guards:{canActivateChecks:re,canDeactivateChecks:ve}}=T;return 0===ve.length&&0===re.length?(0,te.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function dt(M,O,T,F){return(0,S.D)(M).pipe((0,Ge.z)($=>function Ai(M,O,T,F,$){const re=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,te.of)(!0);const ve=re.map(Ce=>{var Xe;const jt=null!==(Xe=ur(O))&&void 0!==Xe?Xe:$,hn=Dn(Ce,jt);return ni(function Yn(M){return M&&Is(M.canDeactivate)}(hn)?hn.canDeactivate(M,O,T,F):jt.runInContext(()=>hn(M,O,T,F))).pipe((0,Be.P)())});return(0,te.of)(ve).pipe(L())}($.component,$.route,T,O,F)),(0,Be.P)($=>!0!==$,!0))}(ve,F,$,M).pipe((0,Ge.z)(Ce=>Ce&&function po(M){return"boolean"==typeof M}(Ce)?function en(M,O,T,F){return(0,S.D)(O).pipe((0,Dt.b)($=>(0,oe.z)(function es(M,O){return null!==M&&O&&O(new Ln(M)),(0,te.of)(!0)}($.route.parent,F),function bi(M,O){return null!==M&&O&&O(new as(M)),(0,te.of)(!0)}($.route,F),function Qr(M,O,T){const F=O[O.length-1],re=O.slice(0,O.length-1).reverse().map(ve=>function Qs(M){const O=M.routeConfig?M.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:M,guards:O}:null}(ve)).filter(ve=>null!==ve).map(ve=>(0,J.P)(()=>{const Ce=ve.guards.map(Xe=>{var jt;const hn=null!==(jt=ur(ve.node))&&void 0!==jt?jt:T,Yt=Dn(Xe,hn);return ni(function Ot(M){return M&&Is(M.canActivateChild)}(Yt)?Yt.canActivateChild(F,M):hn.runInContext(()=>Yt(F,M))).pipe((0,Be.P)())});return(0,te.of)(Ce).pipe(L())}));return(0,te.of)(re).pipe(L())}(M,$.path,T),function io(M,O,T){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,te.of)(!0);const $=F.map(re=>(0,J.P)(()=>{var ve;const Ce=null!==(ve=ur(O))&&void 0!==ve?ve:T,Xe=Dn(re,Ce);return ni(function ma(M){return M&&Is(M.canActivate)}(Xe)?Xe.canActivate(O,M):Ce.runInContext(()=>Xe(O,M))).pipe((0,Be.P)())}));return(0,te.of)($).pipe(L())}(M,$.route,T))),(0,Be.P)($=>!0!==$,!0))}(F,re,M,O):(0,te.of)(Ce)),(0,Ye.U)(Ce=>Object.assign(Object.assign({},T),{guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),(0,Tt.b)(Ce=>{if($.guardsResult=Ce.guardsResult,ir(Ce.guardsResult))throw to(0,Ce.guardsResult);const Xe=new wo(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(Xe)}),(0,xt.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",3),!1)),ut(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,te.of)(Ce).pipe((0,Tt.b)(Xe=>{const jt=new Xs(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(jt)}),(0,We.w)(Xe=>{let jt=!1;return(0,te.of)(Xe).pipe(function yo(M,O){return(0,Ge.z)(T=>{const{targetSnapshot:F,guards:{canActivateChecks:$}}=T;if(!$.length)return(0,te.of)(T);let re=0;return(0,S.D)($).pipe((0,Dt.b)(ve=>function Za(M,O,T,F){const $=M.routeConfig,re=M._resolve;return void 0!==(null==$?void 0:$.title)&&!Zt($)&&(re[Mt]=$.title),function nn(M,O,T,F){const $=function Tn(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===$.length)return(0,te.of)({});const re={};return(0,S.D)($).pipe((0,Ge.z)(ve=>function zu(M,O,T,F){var $;const re=null!==($=ur(O))&&void 0!==$?$:F,ve=Dn(M,re);return ni(ve.resolve?ve.resolve(O,T):re.runInContext(()=>ve(O,T)))}(M[ve],O,T,F).pipe((0,Be.P)(),(0,Tt.b)(Ce=>{re[ve]=Ce}))),(0,at.h)(1),(0,et.h)(re),(0,Wt.K)(ve=>G(ve)?ce.E:(0,Q._)(ve)))}(re,M,O,F).pipe((0,Ye.U)(ve=>(M._resolvedData=ve,M.data=Es(M,T).resolve,$&&Zt($)&&(M.data[Mt]=$.title),null)))}(ve.route,F,M,O)),(0,Tt.b)(()=>re++),(0,at.h)(1),(0,Ge.z)(ve=>re===$.length?(0,te.of)(T):ce.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tt.b)({next:()=>jt=!0,complete:()=>{jt||(this.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"",2))}}))}),(0,Tt.b)(Xe=>{const jt=new _i(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(jt)}))}),ut(Ce=>{const Xe=jt=>{var hn;const Yt=[];(null===(hn=jt.routeConfig)||void 0===hn?void 0:hn.loadComponent)&&!jt.routeConfig._loadedComponent&&Yt.push(this.configLoader.loadComponent(jt.routeConfig).pipe((0,Tt.b)(vn=>{jt.component=vn}),(0,Ye.U)(()=>{})));for(const vn of jt.children)Yt.push(...Xe(vn));return Yt};return(0,de.a)(Xe(Ce.targetSnapshot.root)).pipe((0,Ze.d)(),(0,je.q)(1))}),ut(()=>this.afterPreactivation()),(0,Ye.U)(Ce=>{const Xe=function Ni(M,O,T){const F=Gi(M,O._root,T?T._root:void 0);return new Dr(F,O)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return $=Object.assign(Object.assign({},Ce),{targetRouterState:Xe})}),(0,Tt.b)(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((M,O,T)=>(0,Ye.U)(F=>(new Pr(O,F.targetRouterState,F.currentRouterState,T).activate(M),F)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),(0,Tt.b)({next(){re=!0},complete(){re=!0}}),(0,Nt.x)(()=>{var Ce;re||ve||this.cancelNavigationTransition($,"",1),(null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.id)===$.id&&(this.currentNavigation=null)}),(0,Wt.K)(Ce=>{var Xe;if(ve=!0,Uo(Ce)){no(Ce)||(this.navigated=!0,this.restoreHistory($,!0));const jt=new In($.id,this.serializeUrl($.extractedUrl),Ce.message,Ce.cancellationCode);if(F.next(jt),no(Ce)){const hn=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),Yt={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jt($.source)};this.scheduleNavigation(hn,"imperative",null,Yt,{resolve:$.resolve,reject:$.reject,promise:$.promise})}else $.resolve(!1)}else{this.restoreHistory($,!0);const jt=new bn($.id,this.serializeUrl($.extractedUrl),Ce,null!==(Xe=$.targetSnapshot)&&void 0!==Xe?Xe:void 0);F.next(jt);try{$.resolve(this.errorHandler(Ce))}catch(hn){$.reject(hn)}}return ce.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var $;const re={replaceUrl:!0},ve=null!==($=T.state)&&void 0!==$&&$.navigationId?T.state:null;if(ve){const Xe=Object.assign({},ve);delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(re.state=Xe)}const Ce=this.parseUrl(T.url);this.scheduleNavigation(Ce,F,ve,re)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(Ci),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,F={}){const{relativeTo:$,queryParams:re,fragment:ve,queryParamsHandling:Ce,preserveFragment:Xe}=F,jt=$||this.routerState.root,hn=Xe?this.currentUrlTree.fragment:ve;let Yt=null;switch(Ce){case"merge":Yt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),re);break;case"preserve":Yt=this.currentUrlTree.queryParams;break;default:Yt=re||null}return null!==Yt&&(Yt=this.removeEmptyProps(Yt)),ke(jt,this.currentUrlTree,T,Yt,null!=hn?hn:null)}navigateByUrl(T,F={skipLocationChange:!1}){const $=ir(T)?T:this.parseUrl(T),re=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(re,"imperative",null,F)}navigate(T,F={skipLocationChange:!1}){return function gr(M){for(let O=0;O<M.length;O++){if(null==M[O])throw new f.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch($){F=this.malformedUriErrorHandler($,this.urlSerializer,T)}return F}isActive(T,F){let $;if($=!0===F?Object.assign({},ui):!1===F?Object.assign({},Sn):F,ir(T))return ds(this.currentUrlTree,T,$);const re=this.parseUrl(T);return ds(this.currentUrlTree,re,$)}removeEmptyProps(T){return Object.keys(T).reduce((F,$)=>{const re=T[$];return null!=re&&(F[$]=re),F},{})}processNavigations(){this.navigations.subscribe(T=>{var F;this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new Rn(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(F=this.titleStrategy)||void 0===F||F.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,F,$,re,ve){var Ce,Xe;if(this.disposed)return Promise.resolve(!1);let jt,hn,Yt;ve?(jt=ve.resolve,hn=ve.reject,Yt=ve.promise):Yt=new Promise((Jr,bs)=>{jt=Jr,hn=bs});const vn=++this.navigationId;let Zn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Zn=$&&$.\u0275routerPageId?$.\u0275routerPageId:re.replaceUrl||re.skipLocationChange?null!==(Ce=this.browserPageId)&&void 0!==Ce?Ce:0:(null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0)+1):Zn=0,this.setTransition({id:vn,targetPageId:Zn,source:F,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:re,resolve:jt,reject:hn,promise:Yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yt.catch(Jr=>Promise.reject(Jr))}setBrowserUrl(T,F){const $=this.urlSerializer.serialize(T),re=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo($)||F.extras.replaceUrl?this.location.replaceState($,"",re):this.location.go($,"",re)}restoreHistory(T,F=!1){var $,re;if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===ve?this.currentUrlTree===(null===(re=this.currentNavigation)||void 0===re?void 0:re.finalUrl)&&0===ve&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ve)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,F,$){const re=new In(T.id,this.serializeUrl(T.extractedUrl),F,$);this.triggerEvent(re),T.resolve(!1)}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return M.\u0275fac=function(T){f.$Z()},M.\u0275prov=f.Yz7({token:M,factory:function(){return vr()},providedIn:"root"}),M})();function Jt(M){return"imperative"!==M}let zo=(()=>{class M{constructor(T,F,$,re,ve){this.router=T,this.route=F,this.tabIndexAttribute=$,this.renderer=re,this.el=ve,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ze.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const F=this.renderer,$=this.el.nativeElement;null!==T?F.setAttribute($,"tabindex",T):F.removeAttribute($,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(us),f.Y36(qr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},M.\u0275dir=f.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,F){1&T&&f.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),M})(),va=(()=>{class M{constructor(T,F,$){this.router=T,this.route=F,this.locationStrategy=$,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ze.x,this.subscription=T.events.subscribe(re=>{re instanceof Rn&&this.updateTargetUrlAndHref()})}set preserveFragment(T){this._preserveFragment=(0,f.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,f.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,f.D6c)(T)}get replaceUrl(){return this._replaceUrl}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:null}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,F,$,re,ve){return!!(0!==T||F||$||re||ve||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(us),f.Y36(qr),f.Y36(we.S$))},M.\u0275dir=f.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,F){1&T&&f.NdJ("click",function(re){return F.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&T&&f.uIk("target",F.target)("href",F.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),M})(),vo=(()=>{class M{constructor(T,F,$,re,ve,Ce){this.router=T,this.element=F,this.renderer=$,this.cdr=re,this.link=ve,this.linkWithHref=Ce,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=T.events.subscribe(Xe=>{Xe instanceof Rn&&this.update()})}ngAfterContentInit(){(0,te.of)(this.links.changes,this.linksWithHrefs.changes,(0,te.of)(null)).pipe((0,ht.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var T;null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe();const F=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter($=>!!$).map($=>$.onChanges);this.linkInputChangesSubscription=(0,S.D)(F).pipe((0,ht.J)()).subscribe($=>{this.isActive!==this.isLinkActive(this.router)($)&&this.update()})}set routerLinkActive(T){const F=Array.isArray(T)?T:T.split(" ");this.classes=F.filter($=>!!$)}ngOnChanges(T){this.update()}ngOnDestroy(){var T;this.routerEventsSubscription.unsubscribe(),null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this.isActive!==T&&(this.isActive=T,this.cdr.markForCheck(),this.classes.forEach(F=>{T?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const F=function yu(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $=>!!$.urlTree&&T.isActive($.urlTree,F)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.linkWithHref&&T(this.linkWithHref)||this.links.some(T)||this.linksWithHrefs.some(T)}}return M.\u0275fac=function(T){return new(T||M)(f.Y36(us),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(zo,8),f.Y36(va,8))},M.\u0275dir=f.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(T,F,$){if(1&T&&(f.Suo($,zo,5),f.Suo($,va,5)),2&T){let re;f.iGM(re=f.CRH())&&(F.links=re),f.iGM(re=f.CRH())&&(F.linksWithHrefs=re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),M})();class Va{}let dl=(()=>{class M{constructor(T,F,$,re,ve){this.router=T,this.injector=$,this.preloadingStrategy=re,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,xt.h)(T=>T instanceof Rn),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){var $,re,ve;const Ce=[];for(const Xe of F){Xe.providers&&!Xe._injector&&(Xe._injector=(0,f.MMx)(Xe.providers,T,`Route: ${Xe.path}`));const jt=null!==($=Xe._injector)&&void 0!==$?$:T,hn=null!==(re=Xe._loadedInjector)&&void 0!==re?re:jt;Xe.loadChildren&&!Xe._loadedRoutes&&void 0===Xe.canLoad||Xe.loadComponent&&!Xe._loadedComponent?Ce.push(this.preloadConfig(jt,Xe)):(Xe.children||Xe._loadedRoutes)&&Ce.push(this.processRoutes(hn,null!==(ve=Xe.children)&&void 0!==ve?ve:Xe._loadedRoutes))}return(0,S.D)(Ce).pipe((0,ht.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let $;$=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,te.of)(null);const re=$.pipe((0,Ge.z)(ve=>{var Ce;return null===ve?(0,te.of)(void 0):(F._loadedRoutes=ve.routes,F._loadedInjector=ve.injector,this.processRoutes(null!==(Ce=ve.injector)&&void 0!==Ce?Ce:T,ve.routes))}));if(F.loadComponent&&!F._loadedComponent){const ve=this.loader.loadComponent(F);return(0,S.D)([re,ve]).pipe((0,ht.J)())}return re})}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(us),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Va),f.LFG(Bl))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const hl=new f.OlP("");let zi=(()=>{class M{constructor(T,F,$={}){this.router=T,this.viewportScroller=F,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof $i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Rn&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof it&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.router.triggerEvent(new it(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(T){f.$Z()},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();function so(M,O){return{\u0275kind:M,\u0275providers:O}}function Da(M){return[{provide:Po,multi:!0,useValue:M}]}function Eo(){const M=(0,f.f3M)(f.zs3);return O=>{var T,F;const $=M.get(f.z2F);if(O!==$.components[0])return;const re=M.get(us),ve=M.get(Ss);1===M.get(Ca)&&re.initialNavigation(),null===(T=M.get(Do,null,f.XFs.Optional))||void 0===T||T.setUpPreloading(),null===(F=M.get(hl,null,f.XFs.Optional))||void 0===F||F.init(),re.resetRootComponentType($.componentTypes[0]),ve.next(),ve.complete()}}const Ss=new f.OlP("",{factory:()=>new ze.x}),Ca=new f.OlP("",{providedIn:"root",factory:()=>1});const Do=new f.OlP("");function vu(M){return so(0,[{provide:Do,useExisting:dl},{provide:Va,useExisting:M}])}const Zs=new f.OlP("ROUTER_FORROOT_GUARD"),Pu=[we.Ye,{provide:un,useClass:rn},{provide:us,useFactory:vr},Vo,{provide:qr,useFactory:function Ba(M){return M.routerState.root},deps:[us]},Bl];function nl(){return new f.PXZ("Router",us)}let Ia=(()=>{class M{constructor(T){}static forRoot(T,F){return{ngModule:M,providers:[Pu,[],Da(T),{provide:Zs,useFactory:rl,deps:[[us,new f.FiY,new f.tp0]]},{provide:ks,useValue:F||{}},null!=F&&F.useHash?{provide:we.S$,useClass:we.Do}:{provide:we.S$,useClass:we.b0},{provide:hl,useFactory:()=>{const M=(0,f.f3M)(us),O=(0,f.f3M)(we.EM),T=(0,f.f3M)(ks);return T.scrollOffset&&O.setOffset(T.scrollOffset),new zi(M,O,T)}},null!=F&&F.preloadingStrategy?vu(F.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:nl},null!=F&&F.initialNavigation?wi(F):[],[{provide:Xl,useFactory:Eo},{provide:f.tb,multi:!0,useExisting:Xl}]]}}static forChild(T){return{ngModule:M,providers:[Da(T)]}}}return M.\u0275fac=function(T){return new(T||M)(f.LFG(Zs,8))},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({imports:[Bs]}),M})();function rl(M){return"guarded"}function wi(M){return["disabled"===M.initialNavigation?so(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const O=(0,f.f3M)(us);return()=>{O.setUpLocationChangeListener()}}},{provide:Ca,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?so(2,[{provide:Ca,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:O=>{const T=O.get(we.V_,Promise.resolve());let F=!1;return()=>T.then(()=>new Promise(re=>{const ve=O.get(us),Ce=O.get(Ss);(function $(re){O.get(us).events.pipe((0,xt.h)(Ce=>Ce instanceof Rn||Ce instanceof In||Ce instanceof bn),(0,Ye.U)(Ce=>Ce instanceof Rn||Ce instanceof In&&(0===Ce.code||1===Ce.code)&&null),(0,xt.h)(Ce=>null!==Ce),(0,je.q)(1)).subscribe(()=>{re()})})(()=>{re(!0),F=!0}),ve.afterPreactivation=()=>(re(!0),F||Ce.closed?(0,te.of)(void 0):Ce),ve.initialNavigation()}))}}]).\u0275providers:[]]}const Xl=new f.OlP("")},6881:(Ie,ae,C)=>{C.d(ae,{Jn:()=>Kr,qX:()=>un,Xd:()=>pt,Mq:()=>yn,C6:()=>jn,ZF:()=>pn,KN:()=>Fn});var f=C(5861),S=C(4859),te=C(1877),V=C(2090);let de,oe;const Q=new WeakMap,Z=new WeakMap,ce=new WeakMap,Le=new WeakMap,ze=new WeakMap;let We={get(Pe,xe,yt){if(Pe instanceof IDBTransaction){if("done"===xe)return Z.get(Pe);if("objectStoreNames"===xe)return Pe.objectStoreNames||ce.get(Pe);if("store"===xe)return yt.objectStoreNames[1]?void 0:yt.objectStore(yt.objectStoreNames[0])}return Ge(Pe[xe])},set:(Pe,xe,yt)=>(Pe[xe]=yt,!0),has:(Pe,xe)=>Pe instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in Pe};function xt(Pe){return"function"==typeof Pe?function gt(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...xe){return Pe.apply(Be(this),xe),Ge(Q.get(this))}:function(...xe){return Ge(Pe.apply(Be(this),xe))}:function(xe,...yt){const Gt=Pe.call(Be(this),xe,...yt);return ce.set(Gt,xe.sort?xe.sort():[xe]),Ge(Gt)}}(Pe):(Pe instanceof IDBTransaction&&function Ye(Pe){if(Z.has(Pe))return;const xe=new Promise((yt,Gt)=>{const An=()=>{Pe.removeEventListener("complete",gn),Pe.removeEventListener("error",Jn),Pe.removeEventListener("abort",Jn)},gn=()=>{yt(),An()},Jn=()=>{Gt(Pe.error||new DOMException("AbortError","AbortError")),An()};Pe.addEventListener("complete",gn),Pe.addEventListener("error",Jn),Pe.addEventListener("abort",Jn)});Z.set(Pe,xe)}(Pe),((Pe,xe)=>xe.some(yt=>Pe instanceof yt))(Pe,function J(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,We):Pe)}function Ge(Pe){if(Pe instanceof IDBRequest)return function we(Pe){const xe=new Promise((yt,Gt)=>{const An=()=>{Pe.removeEventListener("success",gn),Pe.removeEventListener("error",Jn)},gn=()=>{yt(Ge(Pe.result)),An()},Jn=()=>{Gt(Pe.error),An()};Pe.addEventListener("success",gn),Pe.addEventListener("error",Jn)});return xe.then(yt=>{yt instanceof IDBCursor&&Q.set(yt,Pe)}).catch(()=>{}),ze.set(xe,Pe),xe}(Pe);if(Le.has(Pe))return Le.get(Pe);const xe=xt(Pe);return xe!==Pe&&(Le.set(Pe,xe),ze.set(xe,Pe)),xe}const Be=Pe=>ze.get(Pe),Wt=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],Rt=new Map;function tt(Pe,xe){if(!(Pe instanceof IDBDatabase)||xe in Pe||"string"!=typeof xe)return;if(Rt.get(xe))return Rt.get(xe);const yt=xe.replace(/FromIndex$/,""),Gt=xe!==yt,An=$t.includes(yt);if(!(yt in(Gt?IDBIndex:IDBObjectStore).prototype)||!An&&!Wt.includes(yt))return;const gn=function(){var Jn=(0,f.Z)(function*(sr,...si){const Ar=this.transaction(sr,An?"readwrite":"readonly");let $n=Ar.store;return Gt&&($n=$n.index(si.shift())),(yield Promise.all([$n[yt](...si),An&&Ar.done]))[0]});return function(si){return Jn.apply(this,arguments)}}();return Rt.set(xe,gn),gn}!function je(Pe){We=Pe(We)}(Pe=>j0(B0({},Pe),{get:(xe,yt,Gt)=>tt(xe,yt)||Pe.get(xe,yt,Gt),has:(xe,yt)=>!!tt(xe,yt)||Pe.has(xe,yt)}));class Ze{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function at(Pe){const xe=Pe.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(yt)){const Gt=yt.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(yt=>yt).join(" ")}}const et="@firebase/app",bt=new te.Yd("@firebase/app"),ai="[DEFAULT]",wr={[et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$e=new Map,Oe=new Map;function Ee(Pe,xe){try{Pe.container.addComponent(xe)}catch(yt){bt.debug(`Component ${xe.name} failed to register with FirebaseApp ${Pe.name}`,yt)}}function pt(Pe){const xe=Pe.name;if(Oe.has(xe))return bt.debug(`There were multiple attempts to register component ${xe}.`),!1;Oe.set(xe,Pe);for(const yt of $e.values())Ee(yt,Pe);return!0}function un(Pe,xe){const yt=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return yt&&yt.triggerHeartbeat(),Pe.container.getProvider(xe)}const Bn=new V.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(xe,yt,Gt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const Kr="9.17.1";function pn(Pe,xe={}){let yt=Pe;"object"!=typeof xe&&(xe={name:xe});const Gt=Object.assign({name:ai,automaticDataCollectionEnabled:!1},xe),An=Gt.name;if("string"!=typeof An||!An)throw Bn.create("bad-app-name",{appName:String(An)});if(yt||(yt=(0,V.aH)()),!yt)throw Bn.create("no-options");const gn=$e.get(An);if(gn){if((0,V.vZ)(yt,gn.options)&&(0,V.vZ)(Gt,gn.config))return gn;throw Bn.create("duplicate-app",{appName:An})}const Jn=new S.H0(An);for(const si of Oe.values())Jn.addComponent(si);const sr=new zn(yt,Gt,Jn);return $e.set(An,sr),sr}function yn(Pe=ai){const xe=$e.get(Pe);if(!xe&&Pe===ai)return pn();if(!xe)throw Bn.create("no-app",{appName:Pe});return xe}function jn(){return Array.from($e.values())}function Fn(Pe,xe,yt){var Gt;let An=null!==(Gt=wr[Pe])&&void 0!==Gt?Gt:Pe;yt&&(An+=`-${yt}`);const gn=An.match(/\s|\//),Jn=xe.match(/\s|\//);if(gn||Jn){const sr=[`Unable to register library "${An}" with version "${xe}":`];return gn&&sr.push(`library name "${An}" contains illegal characters (whitespace or "/")`),gn&&Jn&&sr.push("and"),Jn&&sr.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void bt.warn(sr.join(" "))}pt(new S.wA(`${An}-version`,()=>({library:An,version:xe}),"VERSION"))}const Ae="firebase-heartbeat-store";let Ve=null;function Et(){return Ve||(Ve=function Dt(Pe,xe,{blocked:yt,upgrade:Gt,blocking:An,terminated:gn}={}){const Jn=indexedDB.open(Pe,xe),sr=Ge(Jn);return Gt&&Jn.addEventListener("upgradeneeded",si=>{Gt(Ge(Jn.result),si.oldVersion,si.newVersion,Ge(Jn.transaction))}),yt&&Jn.addEventListener("blocked",()=>yt()),sr.then(si=>{gn&&si.addEventListener("close",()=>gn()),An&&si.addEventListener("versionchange",()=>An())}).catch(()=>{}),sr}("firebase-heartbeat-database",1,{upgrade:(Pe,xe)=>{0===xe&&Pe.createObjectStore(Ae)}}).catch(Pe=>{throw Bn.create("idb-open",{originalErrorMessage:Pe.message})})),Ve}function Ht(){return(Ht=(0,f.Z)(function*(Pe){try{return(yield Et()).transaction(Ae).objectStore(Ae).get(ir(Pe))}catch(xe){if(xe instanceof V.ZR)bt.warn(xe.message);else{const yt=Bn.create("idb-get",{originalErrorMessage:null==xe?void 0:xe.message});bt.warn(yt.message)}}})).apply(this,arguments)}function Xt(Pe,xe){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(Pe,xe){try{const Gt=(yield Et()).transaction(Ae,"readwrite");return yield Gt.objectStore(Ae).put(xe,ir(Pe)),Gt.done}catch(yt){if(yt instanceof V.ZR)bt.warn(yt.message);else{const Gt=Bn.create("idb-set",{originalErrorMessage:null==yt?void 0:yt.message});bt.warn(Gt.message)}}})).apply(this,arguments)}function ir(Pe){return`${Pe.name}!${Pe.options.appId}`}class be{constructor(xe){this.container=xe,this._heartbeatsCache=null;const yt=this.container.getProvider("app").getImmediate();this._storage=new lt(yt),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var xe=this;return(0,f.Z)(function*(){const Gt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=me();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==An&&!xe._heartbeatsCache.heartbeats.some(gn=>gn.date===An))return xe._heartbeatsCache.heartbeats.push({date:An,agent:Gt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(gn=>{const Jn=new Date(gn.date).valueOf();return Date.now()-Jn<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,f.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const yt=me(),{heartbeatsToSend:Gt,unsentEntries:An}=function ke(Pe,xe=1024){const yt=[];let Gt=Pe.slice();for(const An of Pe){const gn=yt.find(Jn=>Jn.agent===An.agent);if(gn){if(gn.dates.push(An.date),an(yt)>xe){gn.dates.pop();break}}else if(yt.push({agent:An.agent,dates:[An.date]}),an(yt)>xe){yt.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:yt,unsentEntries:Gt}}(xe._heartbeatsCache.heartbeats),gn=(0,V.L)(JSON.stringify({version:2,heartbeats:Gt}));return xe._heartbeatsCache.lastSentHeartbeatDate=yt,An.length>0?(xe._heartbeatsCache.heartbeats=An,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),gn})()}}function me(){return(new Date).toISOString().substring(0,10)}class lt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,V.hl)()&&(0,V.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,f.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Ke(Pe){return Ht.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var yt=this;return(0,f.Z)(function*(){var Gt;if(yield yt._canUseIndexedDBPromise){const gn=yield yt.read();return Xt(yt.app,{lastSentHeartbeatDate:null!==(Gt=xe.lastSentHeartbeatDate)&&void 0!==Gt?Gt:gn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var yt=this;return(0,f.Z)(function*(){var Gt;if(yield yt._canUseIndexedDBPromise){const gn=yield yt.read();return Xt(yt.app,{lastSentHeartbeatDate:null!==(Gt=xe.lastSentHeartbeatDate)&&void 0!==Gt?Gt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...xe.heartbeats]})}})()}}function an(Pe){return(0,V.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function cn(Pe){pt(new S.wA("platform-logger",xe=>new Ze(xe),"PRIVATE")),pt(new S.wA("heartbeat",xe=>new be(xe),"PRIVATE")),Fn(et,"0.9.3",Pe),Fn(et,"0.9.3","esm2017"),Fn("fire-js","")}("")},4859:(Ie,ae,C)=>{C.d(ae,{H0:()=>J,wA:()=>te});var f=C(5861),S=C(2090);class te{constructor(Q,Z,ce){this.name=Q,this.instanceFactory=Z,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const V="[DEFAULT]";class le{constructor(Q,Z){this.name=Q,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Z=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Z)){const ce=new S.BH;if(this.instancesDeferred.set(Z,ce),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:Z});Le&&ce.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(Z).promise}getImmediate(Q){var Z;const ce=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Le=null!==(Z=null==Q?void 0:Q.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(ze){if(Le)return null;throw ze}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function oe(he){return"EAGER"===he.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:V})}catch(Z){}for(const[Z,ce]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(Z);try{const ze=this.getOrInitializeService({instanceIdentifier:Le});ce.resolve(ze)}catch(ze){}}}}clearInstance(Q=V){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,f.Z)(function*(){const Z=Array.from(Q.instances.values());yield Promise.all([...Z.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...Z.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=V){return this.instances.has(Q)}getOptions(Q=V){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Z={}}=Q,ce=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:ce,options:Z});for(const[ze,we]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(ze)&&we.resolve(Le);return Le}onInit(Q,Z){var ce;const Le=this.normalizeInstanceIdentifier(Z),ze=null!==(ce=this.onInitCallbacks.get(Le))&&void 0!==ce?ce:new Set;ze.add(Q),this.onInitCallbacks.set(Le,ze);const we=this.instances.get(Le);return we&&Q(we,Le),()=>{ze.delete(Q)}}invokeOnInitCallbacks(Q,Z){const ce=this.onInitCallbacks.get(Z);if(ce)for(const Le of ce)try{Le(Q,Z)}catch(ze){}}getOrInitializeService({instanceIdentifier:Q,options:Z={}}){let ce=this.instances.get(Q);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(he=Q,he===V?void 0:he),options:Z}),this.instances.set(Q,ce),this.instancesOptions.set(Q,Z),this.invokeOnInitCallbacks(ce,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ce)}catch(Le){}var he;return ce||null}normalizeInstanceIdentifier(Q=V){return this.component?this.component.multipleInstances?Q:V:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Z=this.getProvider(Q.name);if(Z.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Z.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Z=new le(Q,this);return this.providers.set(Q,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,ae,C)=>{C.d(ae,{Yd:()=>oe,in:()=>S});const f=[];var S=(()=>{return(Q=S||(S={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",S;var Q})();const te={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},V=S.INFO,le={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},de=(Q,Z,...ce)=>{if(Z<Q.logLevel)return;const Le=(new Date).toISOString(),ze=le[Z];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ze](`[${Le}]  ${Q.name}:`,...ce)};class oe{constructor(Z){this.name=Z,this._logLevel=V,this._logHandler=de,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in S))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?te[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...Z),this._logHandler(this,S.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...Z),this._logHandler(this,S.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,S.INFO,...Z),this._logHandler(this,S.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,S.WARN,...Z),this._logHandler(this,S.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...Z),this._logHandler(this,S.ERROR,...Z)}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5094),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ae,C){if(this.action=ae,this.timestamp=C,this.type=PERFORM_ACTION,void 0===ae.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ae){this.timestamp=ae,this.type=RESET}}class Rollback{constructor(ae){this.timestamp=ae,this.type=ROLLBACK}}class Commit{constructor(ae){this.timestamp=ae,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ae){this.id=ae,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ae,C,f=!0){this.start=ae,this.end=C,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ae){this.index=ae,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ae){this.actionId=ae,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ae){this.nextLiftedState=ae,this.type=IMPORT_STATE}}class LockChanges{constructor(ae){this.status=ae,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ae){this.status=ae,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ie){const ae={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},C="function"==typeof Ie?Ie():Ie,te=Object.assign({},ae,{features:C.features||!!C.logOnly&&{pause:!0,export:!0,test:!0}||ae.features},C);if(te.maxAge&&te.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${te.maxAge}`);return te}function difference(Ie,ae){return Ie.filter(C=>ae.indexOf(C)<0)}function unliftState(Ie){const{computedStates:ae,currentStateIndex:C}=Ie;if(C>=ae.length){const{state:S}=ae[ae.length-1];return S}const{state:f}=ae[C];return f}function unliftAction(Ie){return Ie.actionsById[Ie.nextActionId-1]}function liftAction(Ie){return new PerformAction(Ie,+Date.now())}function sanitizeActions(Ie,ae){return Object.keys(ae).reduce((C,f)=>{const S=Number(f);return C[S]=sanitizeAction(Ie,ae[S],S),C},{})}function sanitizeAction(Ie,ae,C){return Object.assign(Object.assign({},ae),{action:Ie(ae.action,C)})}function sanitizeStates(Ie,ae){return ae.map((C,f)=>({state:sanitizeState(Ie,C.state,f),error:C.error}))}function sanitizeState(Ie,ae,C){return Ie(ae,C)}function shouldFilterActions(Ie){return Ie.predicate||Ie.actionsSafelist||Ie.actionsBlocklist}function filterLiftedState(Ie,ae,C,f){const S=[],te={},V=[];return Ie.stagedActionIds.forEach((le,de)=>{const oe=Ie.actionsById[le];!oe||de&&isActionFiltered(Ie.computedStates[de],oe,ae,C,f)||(te[le]=oe,S.push(le),V.push(Ie.computedStates[de]))}),Object.assign(Object.assign({},Ie),{stagedActionIds:S,actionsById:te,computedStates:V})}function isActionFiltered(Ie,ae,C,f,S){const te=C&&!C(Ie,ae.action),V=f&&!ae.action.type.match(f.map(de=>escapeRegExp(de)).join("|")),le=S&&ae.action.type.match(S.map(de=>escapeRegExp(de)).join("|"));return te||V||le}function escapeRegExp(Ie){return Ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Ie extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ie.\u0275fac=function(){let ae;return function(f){return(ae||(ae=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ie)))(f||Ie)}}(),Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ie,ae,C){this.config=ae,this.dispatcher=C,this.devtoolsExtension=Ie,this.createActionStreams()}notify(Ie,ae){if(this.devtoolsExtension)if(Ie.type===PERFORM_ACTION){if(ae.isLocked||ae.isPaused)return;const C=unliftState(ae);if(shouldFilterActions(this.config)&&isActionFiltered(C,Ie,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,C,ae.currentStateIndex):C,S=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ie,ae.nextActionId):Ie;this.sendToReduxDevtools(()=>this.extensionConnection.send(S,f))}else{const C=Object.assign(Object.assign({},ae),{stagedActionIds:ae.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ae.actionsById):ae.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ae.computedStates):ae.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,C,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ie=>{const ae=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ae,ae.init(),ae.subscribe(C=>Ie.next(C)),ae.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ie=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ae=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.START)),C=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.STOP)),f=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(le=>this.unwrapAction(le.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(le=>le.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>le),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(le)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(le))),te=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(le=>le.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(le=>this.unwrapAction(le.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),V=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C));this.start$=ae.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(C)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>te)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>V))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ie){var ae;const C={name:Ie.name,features:Ie.features,serialize:Ie.serialize,autoPause:null!==(ae=Ie.autoPause)&&void 0!==ae&&ae};return!1!==Ie.maxAge&&(C.maxAge=Ie.maxAge),C}sendToReduxDevtools(Ie){try{Ie()}catch(ae){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ae)}}}return DevtoolsExtension.\u0275fac=function Ie(ae){return new(ae||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ie,ae,C,f,S){if(f)return{state:C,error:"Interrupted by an error up the chain"};let V,te=C;try{te=Ie(C,ae)}catch(le){V=le.toString(),S.handleError(le)}return{state:te,error:V}}function recomputeStates(Ie,ae,C,f,S,te,V,le,de){if(ae>=Ie.length&&Ie.length===te.length)return Ie;const oe=Ie.slice(0,ae),J=te.length-(de?1:0);for(let he=ae;he<J;he++){const Q=te[he],Z=S[Q].action,ce=oe[he-1],Le=ce?ce.state:f,ze=ce?ce.error:void 0,Ye=V.indexOf(Q)>-1?ce:computeNextEntry(C,Z,Le,ze,le);oe.push(Ye)}return de&&oe.push(Ie[Ie.length-1]),oe}function liftInitialState(Ie,ae){return{monitorState:ae(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ie,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ie,ae,C,f,S={}){return te=>(V,le)=>{let{monitorState:de,actionsById:oe,nextActionId:J,stagedActionIds:he,skippedActionIds:Q,committedState:Z,currentStateIndex:ce,computedStates:Le,isLocked:ze,isPaused:we}=V||ae;function Ye(gt){let xt=gt,Ge=he.slice(1,xt+1);for(let Be=0;Be<Ge.length;Be++){if(Le[Be+1].error){xt=Be,Ge=he.slice(1,xt+1);break}delete oe[Ge[Be]]}Q=Q.filter(Be=>-1===Ge.indexOf(Be)),he=[0,...he.slice(xt+1)],Z=Le[xt].state,Le=Le.slice(xt),ce=ce>xt?ce-xt:0}function We(){oe={0:liftAction(INIT_ACTION)},J=1,he=[0],Q=[],Z=Le[ce].state,ce=0,Le=[]}V||(oe=Object.create(oe));let je=0;switch(le.type){case LOCK_CHANGES:ze=le.status,je=1/0;break;case PAUSE_RECORDING:we=le.status,we?(he=[...he,J],oe[J]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),J++,je=he.length-1,Le=Le.concat(Le[Le.length-1]),ce===he.length-2&&ce++,je=1/0):We();break;case RESET:oe={0:liftAction(INIT_ACTION)},J=1,he=[0],Q=[],Z=Ie,ce=0,Le=[];break;case COMMIT:We();break;case ROLLBACK:oe={0:liftAction(INIT_ACTION)},J=1,he=[0],Q=[],ce=0,Le=[];break;case TOGGLE_ACTION:{const{id:gt}=le;Q=-1===Q.indexOf(gt)?[gt,...Q]:Q.filter(Ge=>Ge!==gt),je=he.indexOf(gt);break}case SET_ACTIONS_ACTIVE:{const{start:gt,end:xt,active:Ge}=le,Be=[];for(let Dt=gt;Dt<xt;Dt++)Be.push(Dt);Q=Ge?difference(Q,Be):[...Q,...Be],je=he.indexOf(gt);break}case JUMP_TO_STATE:ce=le.index,je=1/0;break;case JUMP_TO_ACTION:{const gt=he.indexOf(le.actionId);-1!==gt&&(ce=gt),je=1/0;break}case SWEEP:he=difference(he,Q),Q=[],ce=Math.min(ce,he.length-1);break;case PERFORM_ACTION:{if(ze)return V||ae;if(we||V&&isActionFiltered(V.computedStates[ce],le,S.predicate,S.actionsSafelist,S.actionsBlocklist)){const xt=Le[Le.length-1];Le=[...Le.slice(0,-1),computeNextEntry(te,le.action,xt.state,xt.error,C)],je=1/0;break}S.maxAge&&he.length===S.maxAge&&Ye(1),ce===he.length-1&&ce++;const gt=J++;oe[gt]=le,he=[...he,gt],je=he.length-1;break}case IMPORT_STATE:({monitorState:de,actionsById:oe,nextActionId:J,stagedActionIds:he,skippedActionIds:Q,committedState:Z,currentStateIndex:ce,computedStates:Le,isLocked:ze,isPaused:we}=le.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:je=0,S.maxAge&&he.length>S.maxAge&&(Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,we),Ye(he.length-S.maxAge),je=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Le.filter(xt=>xt.error).length>0)je=0,S.maxAge&&he.length>S.maxAge&&(Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,we),Ye(he.length-S.maxAge),je=1/0);else{if(!we&&!ze){ce===he.length-1&&ce++;const xt=J++;oe[xt]=new PerformAction(le,+Date.now()),he=[...he,xt],je=he.length-1,Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,we)}Le=Le.map(xt=>Object.assign(Object.assign({},xt),{state:te(xt.state,RECOMPUTE_ACTION)})),ce=he.length-1,S.maxAge&&he.length>S.maxAge&&Ye(he.length-S.maxAge),je=1/0}break;default:je=1/0}return Le=recomputeStates(Le,je,te,Z,oe,he,Q,C,we),de=f(de,le),{monitorState:de,actionsById:oe,nextActionId:J,stagedActionIds:he,skippedActionIds:Q,committedState:Z,currentStateIndex:ce,computedStates:Le,isLocked:ze,isPaused:we}}}let StoreDevtools=(()=>{class Ie{constructor(C,f,S,te,V,le,de,oe){const J=liftInitialState(de,oe.monitor),he=liftReducerWith(de,J,le,oe.monitor,oe),Q=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),te.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),C,te.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),Z=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(he)),ce=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Le=Q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(Z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:We},[je,gt])=>{let xt=gt(We,je);return je.type!==PERFORM_ACTION&&shouldFilterActions(oe)&&(xt=filterLiftedState(xt,oe.predicate,oe.actionsSafelist,oe.actionsBlocklist)),te.notify(je,xt),{state:xt,action:je}},{state:J,action:null})).subscribe(({state:We,action:je})=>{ce.next(We),je.type===PERFORM_ACTION&&V.next(je.action)}),ze=te.start$.subscribe(()=>{this.refresh()}),we=ce.asObservable(),Ye=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=ze,this.stateSubscription=Le,this.dispatcher=C,this.liftedState=we,this.state=Ye}dispatch(C){this.dispatcher.next(C)}next(C){this.dispatcher.next(C)}error(C){}complete(){}performAction(C){this.dispatch(new PerformAction(C,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(C){this.dispatch(new ToggleAction(C))}jumpToAction(C){this.dispatch(new JumpToAction(C))}jumpToState(C){this.dispatch(new JumpToState(C))}importState(C){this.dispatch(new ImportState(C))}lockChanges(C){this.dispatch(new LockChanges(C))}pauseRecording(C){this.dispatch(new PauseRecording(C))}}return Ie.\u0275fac=function(C){return new(C||Ie)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ie,ae){return Boolean(Ie)||ae.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ie="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Ie]?window[Ie]:null}function provideStoreDevtools(Ie={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Ie},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(Ie){return Ie.state}let StoreDevtoolsModule=(()=>{class Ie{static instrument(C={}){return{ngModule:Ie,providers:[...provideStoreDevtools(C).\u0275providers]}}}return Ie.\u0275fac=function(C){return new(C||Ie)},Ie.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ie}),Ie.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ie})()},5094:(Ie,ae,C)=>{C.d(ae,{Aw:()=>Ln,CK:()=>Tr,FR:()=>$e,Ky:()=>we,Lq:()=>as,P1:()=>Xt,PH:()=>ze,UO:()=>Tt,Y$:()=>ai,Y6:()=>tt,Ys:()=>rn,ZF:()=>Lr,cr:()=>Or,mK:()=>mi,n$:()=>zt,on:()=>kr,qC:()=>lr,qg:()=>Dt,wb:()=>Di,yh:()=>pt});var f=C(5e3),S=C(1135),te=C(9751),V=C(7579),le=C(233),de=C(5363),oe=C(1365),J=C(5026),he=C(4813),Q=C(4004),Z=C(1884);const ce={};function ze(Te,it){if(ce[Te]=(ce[Te]||0)+1,"function"==typeof it)return We(Te,(...mt)=>Object.assign(Object.assign({},it(...mt)),{type:Te}));switch(it?it._as:"empty"){case"empty":return We(Te,()=>({type:Te}));case"props":return We(Te,mt=>Object.assign(Object.assign({},mt),{type:Te}));default:throw new Error("Unexpected config.")}}function we(){return{_as:"props",_p:void 0}}function We(Te,it){return Object.defineProperty(it,"type",{value:Te,writable:!1})}const Dt="@ngrx/store/init";let Tt=(()=>{class Te extends S.X{constructor(){super({type:Dt})}next(qe){if("function"==typeof qe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===qe)throw new TypeError("Actions must be objects");if(void 0===qe.type)throw new TypeError("Actions must have a type property");super.next(qe)}complete(){}ngOnDestroy(){super.complete()}}return Te.\u0275fac=function(qe){return new(qe||Te)},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Wt=[Tt],$t=new f.OlP("@ngrx/store Internal Root Guard"),Rt=new f.OlP("@ngrx/store Internal Initial State"),tt=new f.OlP("@ngrx/store Initial State"),Ze=new f.OlP("@ngrx/store Reducer Factory"),at=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),et=new f.OlP("@ngrx/store Initial Reducers"),Nt=new f.OlP("@ngrx/store Internal Initial Reducers"),bt=new f.OlP("@ngrx/store Store Features"),ht=new f.OlP("@ngrx/store Internal Store Reducers"),Vn=new f.OlP("@ngrx/store Internal Feature Reducers"),Kt=new f.OlP("@ngrx/store Internal Feature Configs"),Mt=new f.OlP("@ngrx/store Internal Store Features"),pr=new f.OlP("@ngrx/store Internal Feature Reducers Token"),Vr=new f.OlP("@ngrx/store Feature Reducers"),Ir=new f.OlP("@ngrx/store User Provided Meta Reducers"),tr=new f.OlP("@ngrx/store Meta Reducers"),Fr=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),dr=new f.OlP("@ngrx/store User Runtime Checks Config"),Ei=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),gi=new f.OlP("@ngrx/store Internal Runtime Checks"),ti=new f.OlP("@ngrx/store Check if Action types are unique");function Wr(Te,it={}){const qe=Object.keys(Te),mt={};for(let kt=0;kt<qe.length;kt++){const Gn=qe[kt];"function"==typeof Te[Gn]&&(mt[Gn]=Te[Gn])}const Qt=Object.keys(mt);return function(Gn,Yr){Gn=void 0===Gn?it:Gn;let Dr=!1;const xi={};for(let Sr=0;Sr<Qt.length;Sr++){const qr=Qt[Sr],Xi=Gn[qr],zs=(0,mt[qr])(Xi,Yr);xi[qr]=zs,Dr=Dr||zs!==Xi}return Dr?xi:Gn}}function lr(...Te){return function(it){if(0===Te.length)return it;const qe=Te[Te.length-1];return Te.slice(0,-1).reduceRight((Qt,kt)=>kt(Qt),qe(it))}}function _r(Te,it){return Array.isArray(it)&&it.length>0&&(Te=lr.apply(null,[...it,Te])),(qe,mt)=>{const Qt=Te(qe);return(kt,Gn)=>Qt(kt=void 0===kt?mt:kt,Gn)}}new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class zt extends te.y{}class mi extends Tt{}const Di="@ngrx/store/update-reducers";let yr=(()=>{class Te extends S.X{constructor(qe,mt,Qt,kt){super(kt(Qt,mt)),this.dispatcher=qe,this.initialState=mt,this.reducers=Qt,this.reducerFactory=kt}get currentReducers(){return this.reducers}addFeature(qe){this.addFeatures([qe])}addFeatures(qe){const mt=qe.reduce((Qt,{reducers:kt,reducerFactory:Gn,metaReducers:Yr,initialState:Dr,key:xi})=>{const Sr="function"==typeof kt?function ds(Te){const it=Array.isArray(Te)&&Te.length>0?lr(...Te):qe=>qe;return(qe,mt)=>(qe=it(qe),(Qt,kt)=>qe(Qt=void 0===Qt?mt:Qt,kt))}(Yr)(kt,Dr):_r(Gn,Yr)(kt,Dr);return Qt[xi]=Sr,Qt},{});this.addReducers(mt)}removeFeature(qe){this.removeFeatures([qe])}removeFeatures(qe){this.removeReducers(qe.map(mt=>mt.key))}addReducer(qe,mt){this.addReducers({[qe]:mt})}addReducers(qe){this.reducers=Object.assign(Object.assign({},this.reducers),qe),this.updateReducers(Object.keys(qe))}removeReducer(qe){this.removeReducers([qe])}removeReducers(qe){qe.forEach(mt=>{this.reducers=function xr(Te,it){return Object.keys(Te).filter(qe=>qe!==it).reduce((qe,mt)=>Object.assign(qe,{[mt]:Te[mt]}),{})}(this.reducers,mt)}),this.updateReducers(qe)}updateReducers(qe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Di,features:qe})}ngOnDestroy(){this.complete()}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(mi),f.LFG(tt),f.LFG(et),f.LFG(Ze))},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Zi=[yr,{provide:zt,useExisting:yr},{provide:mi,useExisting:Tt}];let ai=(()=>{class Te extends V.x{ngOnDestroy(){this.complete()}}return Te.\u0275fac=function(){let it;return function(mt){return(it||(it=f.n5z(Te)))(mt||Te)}}(),Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const wr=[ai];class $e extends te.y{}let Oe=(()=>{class Te extends S.X{constructor(qe,mt,Qt,kt){super(kt);const xi=qe.pipe((0,de.Q)(le.N)).pipe((0,oe.M)(mt)).pipe((0,J.R)(Ee,{state:kt}));this.stateSubscription=xi.subscribe(({state:Sr,action:qr})=>{this.next(Sr),Qt.next(qr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Te.INIT=Dt,Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(Tt),f.LFG(zt),f.LFG(ai),f.LFG(tt))},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function Ee(Te={state:void 0},[it,qe]){const{state:mt}=Te;return{state:qe(mt,it),action:it}}const nt=[Oe,{provide:$e,useExisting:Oe}];let pt=(()=>{class Te extends te.y{constructor(qe,mt,Qt){super(),this.actionsObserver=mt,this.reducerManager=Qt,this.source=qe}select(qe,...mt){return rn.call(null,qe,...mt)(this)}lift(qe){const mt=new Te(this,this.actionsObserver,this.reducerManager);return mt.operator=qe,mt}dispatch(qe){this.actionsObserver.next(qe)}next(qe){this.actionsObserver.next(qe)}error(qe){this.actionsObserver.error(qe)}complete(){this.actionsObserver.complete()}addReducer(qe,mt){this.reducerManager.addReducer(qe,mt)}removeReducer(qe){this.reducerManager.removeReducer(qe)}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG($e),f.LFG(Tt),f.LFG(yr))},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const un=[pt];function rn(Te,it,...qe){return function(Qt){let kt;if("string"==typeof Te){const Gn=[it,...qe].filter(Boolean);kt=Qt.pipe((0,he.j)(Te,...Gn))}else{if("function"!=typeof Te)throw new TypeError(`Unexpected type '${typeof Te}' in select operator, expected 'string' or 'function'`);kt=Qt.pipe((0,Q.U)(Gn=>Te(Gn,it)))}return kt.pipe((0,Z.x)())}}const Kn="https://ngrx.io/guide/store/configuration/runtime-checks";function Vt(Te){return void 0===Te}function Bn(Te){return null===Te}function zn(Te){return Array.isArray(Te)}function jn(Te){return"object"==typeof Te&&null!==Te}function Fn(Te){return"function"==typeof Te}function Ve(Te,it){return Te===it}function Et(Te,it,qe){for(let mt=0;mt<Te.length;mt++)if(!qe(Te[mt],it[mt]))return!0;return!1}function Ht(Te,it=Ve,qe=Ve){let kt,mt=null,Qt=null;return{memoized:function xi(){if(void 0!==kt)return kt.result;if(!mt)return Qt=Te.apply(null,arguments),mt=arguments,Qt;if(!Et(arguments,mt,it))return Qt;const Sr=Te.apply(null,arguments);return mt=arguments,qe(Qt,Sr)?Qt:(Qt=Sr,Sr)},reset:function Gn(){mt=null,Qt=null},setResult:function Yr(Sr){kt={result:Sr}},clearResult:function Dr(){kt=void 0}}}function Xt(...Te){return function ir(Te,it={stateFn:Nn}){return function(...qe){let mt=qe;if(Array.isArray(mt[0])){const[Sr,...qr]=mt;mt=[...Sr,...qr]}const Qt=mt.slice(0,mt.length-1),kt=mt[mt.length-1],Gn=Qt.filter(Sr=>Sr.release&&"function"==typeof Sr.release),Yr=Te(function(...Sr){return kt.apply(null,Sr)}),Dr=Ht(function(Sr,qr){return it.stateFn.apply(null,[Sr,Qt,qr,Yr])});return Object.assign(Dr.memoized,{release:function xi(){Dr.reset(),Yr.reset(),Gn.forEach(Sr=>Sr.release())},projector:Yr.memoized,setResult:Dr.setResult,clearResult:Dr.clearResult})}}(Ht)(...Te)}function Nn(Te,it,qe,mt){if(void 0===qe){const kt=it.map(Gn=>Gn(Te));return mt.memoized.apply(null,kt)}const Qt=it.map(kt=>kt(Te,qe));return mt.memoized.apply(null,[...Qt,qe])}function Lr(Te){return Xt(it=>{const qe=it[Te];return(0,f.X6Q)()&&!(Te in it)&&console.warn(`@ngrx/store: The feature name "${Te}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Te}', ...) or StoreModule.forFeature('${Te}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),qe},it=>it)}function ke(Te,it){return it instanceof f.OlP?Te.get(it):it}function lt(Te,it,qe){return qe.map((mt,Qt)=>{if(it[Qt]instanceof f.OlP){const kt=Te.get(it[Qt]);return{key:mt.key,reducerFactory:kt.reducerFactory?kt.reducerFactory:Wr,metaReducers:kt.metaReducers?kt.metaReducers:[],initialState:kt.initialState}}return mt})}function an(Te,it){return it.map(mt=>mt instanceof f.OlP?Te.get(mt):mt)}function cn(Te){return"function"==typeof Te?Te():Te}function Pe(Te,it){return Te.concat(it)}function xe(Te){if(Te)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Gt(Te){Object.freeze(Te);const it=Fn(Te);return Object.getOwnPropertyNames(Te).forEach(qe=>{if(!qe.startsWith("\u0275")&&function ji(Te,it){return Object.prototype.hasOwnProperty.call(Te,it)}(Te,qe)&&(!it||"caller"!==qe&&"callee"!==qe&&"arguments"!==qe)){const mt=Te[qe];(jn(mt)||Fn(mt))&&!Object.isFrozen(mt)&&Gt(mt)}}),Te}function gn(Te,it=[]){return(Vt(Te)||Bn(Te))&&0===it.length?{path:["root"],value:Te}:Object.keys(Te).reduce((mt,Qt)=>{if(mt)return mt;const kt=Te[Qt];return function Nr(Te){return Fn(Te)&&Te.hasOwnProperty("\u0275cmp")}(kt)?mt:!(Vt(kt)||Bn(kt)||function yn(Te){return"number"==typeof Te}(kt)||function pn(Te){return"boolean"==typeof Te}(kt)||function Kr(Te){return"string"==typeof Te}(kt)||zn(kt))&&(function zr(Te){if(!function li(Te){return jn(Te)&&!zn(Te)}(Te))return!1;const it=Object.getPrototypeOf(Te);return it===Object.prototype||null===it}(kt)?gn(kt,[...it,Qt]):{path:[...it,Qt],value:kt})},!1)}function Jn(Te,it){if(!1===Te)return;const qe=Te.path.join("."),mt=new Error(`Detected unserializable ${it} at "${qe}". ${Kn}#strict${it}serializability`);throw mt.value=Te.value,mt.unserializablePath=qe,mt}function si(Te){return(0,f.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Te):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ar({strictActionSerializability:Te,strictStateSerializability:it}){return qe=>Te||it?function An(Te,it){return function(qe,mt){it.action(mt)&&Jn(gn(mt),"action");const Qt=Te(qe,mt);return it.state()&&Jn(gn(Qt),"state"),Qt}}(qe,{action:mt=>Te&&!hs(mt),state:()=>it}):qe}function $n({strictActionImmutability:Te,strictStateImmutability:it}){return qe=>Te||it?function yt(Te,it){return function(qe,mt){const Qt=it.action(mt)?Gt(mt):mt,kt=Te(qe,Qt);return it.state()?Gt(kt):kt}}(qe,{action:mt=>Te&&!hs(mt),state:()=>it}):qe}function hs(Te){return Te.type.startsWith("@ngrx")}function Mr({strictActionWithinNgZone:Te}){return it=>Te?function sr(Te,it){return function(qe,mt){if(it.action(mt)&&!f.R0b.isInAngularZone())throw new Error(`Action '${mt.type}' running outside NgZone. ${Kn}#strictactionwithinngzone`);return Te(qe,mt)}}(it,{action:qe=>Te&&!hs(qe)}):it}function Ji(Te){return[{provide:Ei,useValue:Te},{provide:dr,useFactory:or,deps:[Ei]},{provide:gi,deps:[dr],useFactory:si},{provide:tr,multi:!0,deps:[gi],useFactory:$n},{provide:tr,multi:!0,deps:[gi],useFactory:Ar},{provide:tr,multi:!0,deps:[gi],useFactory:Mr}]}function Hi(){return[{provide:ti,multi:!0,deps:[gi],useFactory:$i}]}function or(Te){return Te}function $i(Te){if(!Te.strictActionTypeUniqueness)return;const it=Object.entries(ce).filter(([,qe])=>qe>1).map(([qe])=>qe);if(it.length)throw new Error(`Action types are registered more than once, ${it.map(qe=>`"${qe}"`).join(", ")}. ${Kn}#strictactiontypeuniqueness`)}function In(Te,it){return[{provide:$t,useFactory:xe,deps:[[pt,new f.FiY,new f.tp0]]},{provide:Rt,useValue:it.initialState},{provide:tt,useFactory:cn,deps:[Rt]},{provide:Nt,useValue:Te},{provide:ht,useExisting:Te instanceof f.OlP?Te:Nt},{provide:et,deps:[f.zs3,Nt,[new f.tBr(ht)]],useFactory:ke},{provide:Ir,useValue:it.metaReducers?it.metaReducers:[]},{provide:Fr,deps:[tr,Ir],useFactory:Pe},{provide:at,useValue:it.reducerFactory?it.reducerFactory:Wr},{provide:Ze,deps:[at,Fr],useFactory:_r},Wt,Zi,wr,nt,un,Ji(it.runtimeChecks),Hi()]}function _i(Te,it,qe={}){return[{provide:Kt,multi:!0,useValue:Te instanceof Object?{}:qe},{provide:bt,multi:!0,useValue:{key:Te instanceof Object?Te.name:Te,reducerFactory:qe instanceof f.OlP||!qe.reducerFactory?Wr:qe.reducerFactory,metaReducers:qe instanceof f.OlP||!qe.metaReducers?[]:qe.metaReducers,initialState:qe instanceof f.OlP||!qe.initialState?void 0:qe.initialState}},{provide:Mt,deps:[f.zs3,Kt,bt],useFactory:lt},{provide:Vn,multi:!0,useValue:Te instanceof Object?Te.reducer:it},{provide:pr,multi:!0,useExisting:it instanceof f.OlP?it:Vn},{provide:Vr,multi:!0,deps:[f.zs3,Vn,[new f.tBr(pr)]],useFactory:an},Hi()]}let Or=(()=>{class Te{constructor(qe,mt,Qt,kt,Gn,Yr){}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(Tt),f.LFG(zt),f.LFG(ai),f.LFG(pt),f.LFG($t,8),f.LFG(ti,8))},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({}),Te})(),Tr=(()=>{class Te{constructor(qe,mt,Qt,kt,Gn){this.features=qe,this.featureReducers=mt,this.reducerManager=Qt;const Yr=qe.map((Dr,xi)=>{const qr=mt.shift()[xi];return Object.assign(Object.assign({},Dr),{reducers:qr,initialState:cn(Dr.initialState)})});Qt.addFeatures(Yr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Te.\u0275fac=function(qe){return new(qe||Te)(f.LFG(Mt),f.LFG(Vr),f.LFG(yr),f.LFG(Or),f.LFG(ti,8))},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({}),Te})(),Ln=(()=>{class Te{static forRoot(qe,mt={}){return{ngModule:Or,providers:[...In(qe,mt)]}}static forFeature(qe,mt,Qt={}){return{ngModule:Tr,providers:[..._i(qe,mt,Qt)]}}}return Te.\u0275fac=function(qe){return new(qe||Te)},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({}),Te})();function kr(...Te){return{reducer:Te.pop(),types:Te.map(mt=>mt.type)}}function as(Te,...it){const qe=new Map;for(const mt of it)for(const Qt of mt.types){const kt=qe.get(Qt);qe.set(Qt,kt?(Yr,Dr)=>mt.reducer(kt(Yr,Dr),Dr):mt.reducer)}return function(mt=Te,Qt){const kt=qe.get(Qt.type);return kt?kt(mt,Qt):mt}}},2713:(Ie,ae,C)=>{C.d(ae,{ek:()=>Cn,gm:()=>Js,G2:()=>fi,f8:()=>hi,C5:()=>ol,Qi:()=>Zo});var f=C(5e3),S=C(655),te=C(6197),V=C(9751),le=C(4004),de=C(9808),oe=C(4202),J=C(520),he=C(259),Q=C(9996),Z=C(5861),ce=C(2090),Le=C(6881),ze=C(1877),we=C(4859);const Tt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wt=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rt=new ze.Yd("@firebase/auth");function tt(b,...p){Rt.logLevel<=ze.in.ERROR&&Rt.error(`Auth (${Le.Jn}): ${b}`,...p)}function Ze(b,...p){throw bt(b,...p)}function at(b,...p){return bt(b,...p)}function et(b,p,y){const A=Object.assign(Object.assign({},Tt()),{[p]:y});return new ce.LL("auth","Firebase",A).create(p,{appName:b.name})}function bt(b,...p){if("string"!=typeof b){const y=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(y,...A)}return Wt.create(b,...p)}function ht(b,p,...y){if(!b)throw bt(p,...y)}function Vn(b){const p="INTERNAL ASSERTION FAILED: "+b;throw tt(p),new Error(p)}function Kt(b,p){b||Vn(p)}const Mt=new Map;function pr(b){Kt(b instanceof Function,"Expected a class definition");let p=Mt.get(b);return p?(Kt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Mt.set(b,p),p)}function tr(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function dr(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class ti{constructor(p,y){this.shortDelay=p,this.longDelay=y,Kt(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function Ei(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Fr(){return"http:"===dr()||"https:"===dr()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $r(b,p){Kt(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class ni{static initialize(p,y,A){this.fetchImpl=p,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xr=new ti(3e4,6e4);function lr(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function _r(b,p,y,A){return ds.apply(this,arguments)}function ds(){return(ds=(0,Z.Z)(function*(b,p,y,A,X={}){return zt(b,X,(0,Z.Z)(function*(){let fe={},Qe={};A&&("GET"===p?Qe=A:fe={body:JSON.stringify(A)});const It=(0,ce.xO)(Object.assign({key:b.config.apiKey},Qe)).slice(1),dn=yield b._getAdditionalHeaders();return dn["Content-Type"]="application/json",b.languageCode&&(dn["X-Firebase-Locale"]=b.languageCode),ni.fetch()(Zi(b,b.config.apiHost,y,It),Object.assign({method:p,headers:dn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function zt(b,p,y){return mi.apply(this,arguments)}function mi(){return(mi=(0,Z.Z)(function*(b,p,y){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Wr),p);try{const X=new ai(b),fe=yield Promise.race([y(),X.promise]);X.clearNetworkTimeout();const Qe=yield fe.json();if("needConfirmation"in Qe)throw wr(b,"account-exists-with-different-credential",Qe);if(fe.ok&&!("errorMessage"in Qe))return Qe;{const It=fe.ok?Qe.errorMessage:Qe.error.message,[dn,Pn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dn)throw wr(b,"credential-already-in-use",Qe);if("EMAIL_EXISTS"===dn)throw wr(b,"email-already-in-use",Qe);if("USER_DISABLED"===dn)throw wr(b,"user-disabled",Qe);const Un=A[dn]||dn.toLowerCase().replace(/[_\s]+/g,"-");if(Pn)throw et(b,Un,Pn);Ze(b,Un)}}catch(X){if(X instanceof ce.ZR)throw X;Ze(b,"network-request-failed")}})).apply(this,arguments)}function Di(b,p,y,A){return yr.apply(this,arguments)}function yr(){return(yr=(0,Z.Z)(function*(b,p,y,A,X={}){const fe=yield _r(b,p,y,A,X);return"mfaPendingCredential"in fe&&Ze(b,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function Zi(b,p,y,A){const X=`${p}${y}?${A}`;return b.config.emulator?$r(b.config,X):`${b.config.apiScheme}://${X}`}class ai{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(at(this.auth,"network-request-failed")),xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(b,p,y){const A={appName:b.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const X=at(b,p,A);return X.customData._tokenResponse=y,X}function Oe(){return(Oe=(0,Z.Z)(function*(b,p){return _r(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function pt(b,p){return un.apply(this,arguments)}function un(){return(un=(0,Z.Z)(function*(b,p){return _r(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function rn(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Bn(){return(Bn=(0,Z.Z)(function*(b,p=!1){const y=(0,ce.m9)(b),A=yield y.getIdToken(p),X=Kr(A);ht(X&&X.exp&&X.auth_time&&X.iat,y.auth,"internal-error");const fe="object"==typeof X.firebase?X.firebase:void 0,Qe=null==fe?void 0:fe.sign_in_provider;return{claims:X,token:A,authTime:rn(zn(X.auth_time)),issuedAtTime:rn(zn(X.iat)),expirationTime:rn(zn(X.exp)),signInProvider:Qe||null,signInSecondFactor:(null==fe?void 0:fe.sign_in_second_factor)||null}})).apply(this,arguments)}function zn(b){return 1e3*Number(b)}function Kr(b){const[p,y,A]=b.split(".");if(void 0===p||void 0===y||void 0===A)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,ce.tV)(y);return X?JSON.parse(X):(tt("Failed to decode base64 JWT payload"),null)}catch(X){return tt("Caught error parsing JWT payload as JSON",null==X?void 0:X.toString()),null}}function yn(b,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,Z.Z)(function*(b,p,y=!1){if(y)return p;try{return yield p}catch(A){throw A instanceof ce.ZR&&li(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function li({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class zr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const X=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,Z.Z)(function*(){yield y.iteration()}),A)}iteration(){var p=this;return(0,Z.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null==y?void 0:y.code)&&p.schedule(!0))}p.schedule()})()}}class Fn{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(b){return ji.apply(this,arguments)}function ji(){return(ji=(0,Z.Z)(function*(b){var p;const y=b.auth,A=yield b.getIdToken(),X=yield yn(b,pt(y,{idToken:A}));ht(null==X?void 0:X.users.length,y,"internal-error");const fe=X.users[0];b._notifyReloadListener(fe);const Qe=null!==(p=fe.providerUserInfo)&&void 0!==p&&p.length?Ve(fe.providerUserInfo):[],It=Ae(b.providerData,Qe),Un=!!b.isAnonymous&&!(b.email&&fe.passwordHash||null!=It&&It.length),Vi={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:It,metadata:new Fn(fe.createdAt,fe.lastLoginAt),isAnonymous:Un};Object.assign(b,Vi)})).apply(this,arguments)}function Ne(){return(Ne=(0,Z.Z)(function*(b){const p=(0,ce.m9)(b);yield Nr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ae(b,p){return[...b.filter(A=>!p.some(X=>X.providerId===A.providerId)),...p]}function Ve(b){return b.map(p=>{var{providerId:y}=p,A=(0,S._T)(p,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Ke(){return(Ke=(0,Z.Z)(function*(b,p){const y=yield zt(b,{},(0,Z.Z)(function*(){const A=(0,ce.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:X,apiKey:fe}=b.config,Qe=Zi(b,X,"/v1/token",`key=${fe}`),It=yield b._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",ni.fetch()(Qe,{method:"POST",headers:It,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ht(p.idToken,"internal-error"),ht(void 0!==p.idToken,"internal-error"),ht(void 0!==p.refreshToken,"internal-error");const y="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function pn(b){const p=Kr(b);return ht(p,"internal-error"),ht(void 0!==p.exp,"internal-error"),ht(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var A=this;return(0,Z.Z)(function*(){return ht(!A.accessToken||A.refreshToken,p,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var A=this;return(0,Z.Z)(function*(){const{accessToken:X,refreshToken:fe,expiresIn:Qe}=yield function Et(b,p){return Ke.apply(this,arguments)}(p,y);A.updateTokensAndExpiration(X,fe,Number(Qe))})()}updateTokensAndExpiration(p,y,A){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,y){const{refreshToken:A,accessToken:X,expirationTime:fe}=y,Qe=new Ht;return A&&(ht("string"==typeof A,"internal-error",{appName:p}),Qe.refreshToken=A),X&&(ht("string"==typeof X,"internal-error",{appName:p}),Qe.accessToken=X),fe&&(ht("number"==typeof fe,"internal-error",{appName:p}),Qe.expirationTime=fe),Qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Xt(b,p){ht("string"==typeof b||void 0===b,"internal-error",{appName:p})}class Nn{constructor(p){var{uid:y,auth:A,stsTokenManager:X}=p,fe=(0,S._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new Fn(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,Z.Z)(function*(){const A=yield yn(y,y.stsTokenManager.getToken(y.auth,p));return ht(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(p){return function Vt(b){return Bn.apply(this,arguments)}(this,p)}reload(){return function Gr(b){return Ne.apply(this,arguments)}(this)}_assign(p){this!==p&&(ht(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Nn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var A=this;return(0,Z.Z)(function*(){let X=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),X=!0),y&&(yield Nr(A)),yield A.auth._persistUserIfCurrent(A),X&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,Z.Z)(function*(){const y=yield p.getIdToken();return yield yn(p,function $e(b,p){return Oe.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var A,X,fe,Qe,It,dn,Pn,Un;const Vi=null!==(A=y.displayName)&&void 0!==A?A:void 0,Oa=null!==(X=y.email)&&void 0!==X?X:void 0,Wa=null!==(fe=y.phoneNumber)&&void 0!==fe?fe:void 0,pa=null!==(Qe=y.photoURL)&&void 0!==Qe?Qe:void 0,lu=null!==(It=y.tenantId)&&void 0!==It?It:void 0,kl=null!==(dn=y._redirectEventId)&&void 0!==dn?dn:void 0,uu=null!==(Pn=y.createdAt)&&void 0!==Pn?Pn:void 0,Ju=null!==(Un=y.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:Xu,emailVerified:Qc,isAnonymous:Ec,providerData:cu,stsTokenManager:Uu}=y;ht(Xu&&Uu,p,"internal-error");const Dc=Ht.fromJSON(this.name,Uu);ht("string"==typeof Xu,p,"internal-error"),Xt(Vi,p.name),Xt(Oa,p.name),ht("boolean"==typeof Qc,p,"internal-error"),ht("boolean"==typeof Ec,p,"internal-error"),Xt(Wa,p.name),Xt(pa,p.name),Xt(lu,p.name),Xt(kl,p.name),Xt(uu,p.name),Xt(Ju,p.name);const Vu=new Nn({uid:Xu,auth:p,email:Oa,emailVerified:Qc,displayName:Vi,isAnonymous:Ec,photoURL:pa,phoneNumber:Wa,tenantId:lu,stsTokenManager:Dc,createdAt:uu,lastLoginAt:Ju});return cu&&Array.isArray(cu)&&(Vu.providerData=cu.map(Cc=>Object.assign({},Cc))),kl&&(Vu._redirectEventId=kl),Vu}static _fromIdTokenResponse(p,y,A=!1){return(0,Z.Z)(function*(){const X=new Ht;X.updateFromServerResponse(y);const fe=new Nn({uid:y.localId,auth:p,stsTokenManager:X,isAnonymous:A});return yield Nr(fe),fe})()}}const Lr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Z.Z)(function*(){return!0})()}_set(y,A){var X=this;return(0,Z.Z)(function*(){X.storage[y]=A})()}_get(y){var A=this;return(0,Z.Z)(function*(){const X=A.storage[y];return void 0===X?null:X})()}_remove(y){var A=this;return(0,Z.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return b.type="NONE",b})();function He(b,p,y){return`firebase:${b}:${p}:${y}`}class be{constructor(p,y,A){this.persistence=p,this.auth=y,this.userKey=A;const{config:X,name:fe}=this.auth;this.fullUserKey=He(this.userKey,X.apiKey,fe),this.fullPersistenceKey=He("persistence",X.apiKey,fe),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,Z.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?Nn._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,Z.Z)(function*(){if(y.persistence===p)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,A="authUser"){return(0,Z.Z)(function*(){if(!y.length)return new be(pr(Lr),p,A);const X=(yield Promise.all(y.map(function(){var Pn=(0,Z.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return Pn.apply(this,arguments)}}()))).filter(Pn=>Pn);let fe=X[0]||pr(Lr);const Qe=He(A,p.config.apiKey,p.name);let It=null;for(const Pn of y)try{const Un=yield Pn._get(Qe);if(Un){const Vi=Nn._fromJSON(p,Un);Pn!==fe&&(It=Vi),fe=Pn;break}}catch(Un){}const dn=X.filter(Pn=>Pn._shouldAllowMigration);return fe._shouldAllowMigration&&dn.length?(fe=dn[0],It&&(yield fe._set(Qe,It.toJSON())),yield Promise.all(y.map(function(){var Pn=(0,Z.Z)(function*(Un){if(Un!==fe)try{yield Un._remove(Qe)}catch(Vi){}});return function(Un){return Pn.apply(this,arguments)}}())),new be(fe,p,A)):new be(fe,p,A)})()}}function me(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(cn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ke(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(xe(p))return"Blackberry";if(yt(p))return"Webos";if(lt(p))return"Safari";if((p.includes("chrome/")||an(p))&&!p.includes("edge/"))return"Chrome";if(Pe(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ke(b=(0,ce.z$)()){return/firefox\//i.test(b)}function lt(b=(0,ce.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function an(b=(0,ce.z$)()){return/crios\//i.test(b)}function cn(b=(0,ce.z$)()){return/iemobile/i.test(b)}function Pe(b=(0,ce.z$)()){return/android/i.test(b)}function xe(b=(0,ce.z$)()){return/blackberry/i.test(b)}function yt(b=(0,ce.z$)()){return/webos/i.test(b)}function Gt(b=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function sr(b=(0,ce.z$)()){return Gt(b)||Pe(b)||yt(b)||xe(b)||/windows phone/i.test(b)||cn(b)}function Ar(b,p=[]){let y;switch(b){case"Browser":y=me((0,ce.z$)());break;case"Worker":y=`${me((0,ce.z$)())}-${b}`;break;default:y=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${Le.Jn}/${A}`}class $n{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const A=fe=>new Promise((Qe,It)=>{try{Qe(p(fe))}catch(dn){It(dn)}});A.onAbort=y,this.queue.push(A);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,Z.Z)(function*(){if(y.auth.currentUser===p)return;const A=[];try{for(const X of y.queue)yield X(p),X.onAbort&&A.push(X.onAbort)}catch(X){A.reverse();for(const fe of A)try{fe()}catch(Qe){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null==X?void 0:X.message})}})()}}class hs{constructor(p,y,A){this.app=p,this.heartbeatServiceProvider=y,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new $n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,y){var A=this;return y&&(this._popupRedirectResolver=pr(y)),this._initializationPromise=this.queue((0,Z.Z)(function*(){var X,fe;if(!A._deleted&&(A.persistenceManager=yield be.create(A,p),!A._deleted)){if(null!==(X=A._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Qe){}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(fe=A.currentUser)||void 0===fe?void 0:fe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,Z.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,Z.Z)(function*(){var A;const X=yield y.assertedPersistence.getCurrentUser();let fe=X,Qe=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const It=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,dn=null==fe?void 0:fe._redirectEventId,Pn=yield y.tryRedirectSignIn(p);(!It||It===dn)&&(null==Pn?void 0:Pn.user)&&(fe=Pn.user,Qe=!0)}if(!fe)return y.directlySetCurrentUser(null);if(!fe._redirectEventId){if(Qe)try{yield y.beforeStateQueue.runMiddleware(fe)}catch(It){fe=X,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(It))}return fe?y.reloadAndSetCurrentUserOrClear(fe):y.directlySetCurrentUser(null)}return ht(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===fe._redirectEventId?y.directlySetCurrentUser(fe):y.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(p){var y=this;return(0,Z.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch(X){yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,Z.Z)(function*(){try{yield Nr(p)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function gi(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,Z.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,Z.Z)(function*(){const A=p?(0,ce.m9)(p):null;return A&&ht(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(p,y=!1){var A=this;return(0,Z.Z)(function*(){if(!A._deleted)return p&&ht(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,Z.Z)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,Z.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,Z.Z)(function*(){yield y.assertedPersistence.setPersistence(pr(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new ce.LL("auth","Firebase",p())}onAuthStateChanged(p,y,A){return this.registerStateListener(this.authStateSubscription,p,y,A)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,A){return this.registerStateListener(this.idTokenSubscription,p,y,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var A=this;return(0,Z.Z)(function*(){const X=yield A.getOrInitRedirectPersistenceManager(y);return null===p?X.removeCurrentUser():X.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,Z.Z)(function*(){if(!y.redirectPersistenceManager){const A=p&&pr(p)||y._popupRedirectResolver;ht(A,y,"argument-error"),y.redirectPersistenceManager=yield be.create(y,[pr(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,Z.Z)(function*(){var A,X;return y._isInitialized&&(yield y.queue((0,Z.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===p?y._currentUser:(null===(X=y.redirectUser)||void 0===X?void 0:X._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,Z.Z)(function*(){if(p===y.currentUser)return y.queue((0,Z.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,A,X){if(this._deleted)return()=>{};const fe="function"==typeof y?y:y.next.bind(y),Qe=this._isInitialized?Promise.resolve():this._initializationPromise;return ht(Qe,this,"internal-error"),Qe.then(()=>fe(this.currentUser)),"function"==typeof y?p.addObserver(y,A,X):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,Z.Z)(function*(){y.currentUser&&y.currentUser!==p&&y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh(),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,Z.Z)(function*(){var y;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const X=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return X&&(A["X-Firebase-Client"]=X),A})()}}function Mr(b){return(0,ce.m9)(b)}class Ji{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,ce.ne)(y=>this.observer=y)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Rn(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class bn{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return Vn("not implemented")}_getIdTokenResponse(p){return Vn("not implemented")}_linkToIdToken(p,y){return Vn("not implemented")}_getReauthenticationResolver(p){return Vn("not implemented")}}function Xs(){return(Xs=(0,Z.Z)(function*(b,p){return _r(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ln(){return(Ln=(0,Z.Z)(function*(b,p){return Di(b,"POST","/v1/accounts:signInWithPassword",lr(b,p))})).apply(this,arguments)}function xi(){return(xi=(0,Z.Z)(function*(b,p){return Di(b,"POST","/v1/accounts:signInWithEmailLink",lr(b,p))})).apply(this,arguments)}function qr(){return(qr=(0,Z.Z)(function*(b,p){return Di(b,"POST","/v1/accounts:signInWithEmailLink",lr(b,p))})).apply(this,arguments)}class Es extends bn{constructor(p,y,A,X=null){super("password",A),this._email=p,this._password=y,this._tenantId=X}static _fromEmailAndPassword(p,y){return new Es(p,y,"password")}static _fromEmailAndCode(p,y,A=null){return new Es(p,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,Z.Z)(function*(){switch(y.signInMethod){case"password":return function Tr(b,p){return Ln.apply(this,arguments)}(p,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Dr(b,p){return xi.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:Ze(p,"internal-error")}})()}_linkToIdToken(p,y){var A=this;return(0,Z.Z)(function*(){switch(A.signInMethod){case"password":return function wo(b,p){return Xs.apply(this,arguments)}(p,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Sr(b,p){return qr.apply(this,arguments)}(p,{idToken:y,email:A._email,oobCode:A._password});default:Ze(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xi(b,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,Z.Z)(function*(b,p){return Di(b,"POST","/v1/accounts:signInWithIdp",lr(b,p))})).apply(this,arguments)}class ro{constructor(p){var y,A,X,fe,Qe,It;const dn=(0,ce.zd)((0,ce.pd)(p)),Pn=null!==(y=dn.apiKey)&&void 0!==y?y:null,Un=null!==(A=dn.oobCode)&&void 0!==A?A:null,Vi=function no(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=dn.mode)&&void 0!==X?X:null);ht(Pn&&Un&&Vi,"argument-error"),this.apiKey=Pn,this.operation=Vi,this.code=Un,this.continueUrl=null!==(fe=dn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(Qe=dn.languageCode)&&void 0!==Qe?Qe:null,this.tenantId=null!==(It=dn.tenantId)&&void 0!==It?It:null}static parseLink(p){const y=function Uo(b){const p=(0,ce.zd)((0,ce.pd)(b)).link,y=p?(0,ce.zd)((0,ce.pd)(p)).deep_link_id:null,A=(0,ce.zd)((0,ce.pd)(b)).deep_link_id;return(A?(0,ce.zd)((0,ce.pd)(A)).link:null)||A||y||p||b}(p);try{return new ro(y)}catch(A){return null}}}let Bo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,A){return Es._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const X=ro.parseLink(A);return ht(X,"argument-error"),Es._fromEmailAndCode(y,X.code,X.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Si{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class qa extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}function js(b,p){return oi.apply(this,arguments)}function oi(){return(oi=(0,Z.Z)(function*(b,p){return Di(b,"POST","/v1/accounts:signUp",lr(b,p))})).apply(this,arguments)}class Ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,A,X=!1){return(0,Z.Z)(function*(){const fe=yield Nn._fromIdTokenResponse(p,A,X),Qe=En(A);return new Ci({user:fe,providerId:Qe,_tokenResponse:A,operationType:y})})()}static _forOperation(p,y,A){return(0,Z.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const X=En(A);return new Ci({user:p,providerId:X,_tokenResponse:A,operationType:y})})()}}function En(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Na extends ce.ZR{constructor(p,y,A,X){var fe;super(y.code,y.message),this.operationType=A,this.user=X,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:p.name,tenantId:null!==(fe=p.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,y,A,X){return new Na(p,y,A,X)}}function Pr(b,p,y,A){return("reauthenticate"===p?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Na._fromErrorAndOperation(b,fe,p,A):fe})}function Qs(b,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,Z.Z)(function*(b,p,y=!1){const A=yield yn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),y);return Ci._forOperation(b,"link",A)})).apply(this,arguments)}function Ls(){return(Ls=(0,Z.Z)(function*(b,p,y=!1){const{auth:A}=b,X="reauthenticate";try{const fe=yield yn(b,Pr(A,X,p,b),y);ht(fe.idToken,A,"internal-error");const Qe=Kr(fe.idToken);ht(Qe,A,"internal-error");const{sub:It}=Qe;return ht(b.uid===It,A,"user-mismatch"),Ci._forOperation(b,X,fe)}catch(fe){throw"auth/user-not-found"===(null==fe?void 0:fe.code)&&Ze(A,"user-mismatch"),fe}})).apply(this,arguments)}function Is(b,p){return po.apply(this,arguments)}function po(){return(po=(0,Z.Z)(function*(b,p,y=!1){const A="signIn",X=yield Pr(b,A,p),fe=yield Ci._fromIdTokenResponse(b,A,X);return y||(yield b._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function ma(){return(ma=(0,Z.Z)(function*(b,p){return Is(Mr(b),p)})).apply(this,arguments)}function mo(){return(mo=(0,Z.Z)(function*(b,p,y){const A=Mr(b),X=yield js(A,{returnSecureToken:!0,email:p,password:y}),fe=yield Ci._fromIdTokenResponse(A,"signIn",X);return yield A._updateCurrentUser(fe.user),fe})).apply(this,arguments)}const aa="__sak";class Po{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(aa,"1"),this.storage.removeItem(aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rs=(()=>{class b extends Po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bl(){const b=(0,ce.z$)();return lt(b)||Gt(b)}()&&function si(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=sr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const X=this.storage.getItem(A),fe=this.localCache[A];X!==fe&&y(A,fe,X)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((It,dn,Pn)=>{this.notifyListeners(It,Pn)});const X=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const It=this.storage.getItem(X);if(y.newValue!==It)null!==y.newValue?this.storage.setItem(X,y.newValue):this.storage.removeItem(X);else if(this.localCache[X]===y.newValue&&!A)return}const fe=()=>{const It=this.storage.getItem(X);!A&&this.localCache[X]===It||this.notifyListeners(X,It)},Qe=this.storage.getItem(X);!function Jn(){return(0,ce.w1)()&&10===document.documentMode}()||Qe===y.newValue||y.newValue===y.oldValue?fe():setTimeout(fe,10)}notifyListeners(y,A){this.localCache[y]=A;const X=this.listeners[y];if(X)for(const fe of Array.from(X))fe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var X=()=>super._set,fe=this;return(0,Z.Z)(function*(){yield X().call(fe,y,A),fe.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,X=this;return(0,Z.Z)(function*(){const fe=yield A().call(X,y);return X.localCache[y]=JSON.stringify(fe),fe})()}_remove(y){var A=()=>super._remove,X=this;return(0,Z.Z)(function*(){yield A().call(X,y),delete X.localCache[y]})()}}return b.type="LOCAL",b})(),ui=(()=>{class b extends Po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return b.type="SESSION",b})();let la=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(fe=>fe.isListeningto(y));if(A)return A;const X=new b(y);return this.receivers.push(X),X}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,Z.Z)(function*(){const X=y,{eventId:fe,eventType:Qe,data:It}=X.data,dn=A.handlersMap[Qe];if(null==dn||!dn.size)return;X.ports[0].postMessage({status:"ack",eventId:fe,eventType:Qe});const Pn=Array.from(dn).map(function(){var Vi=(0,Z.Z)(function*(Oa){return Oa(X.origin,It)});return function(Oa){return Vi.apply(this,arguments)}}()),Un=yield function Sn(b){return Promise.all(b.map(function(){var p=(0,Z.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return p.apply(this,arguments)}}()))}(Pn);X.ports[0].postMessage({status:"done",eventId:fe,eventType:Qe,response:Un})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function vr(b="",p=10){let y="";for(let A=0;A<p;A++)y+=Math.floor(10*Math.random());return b+y}class us{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,A=50){var X=this;return(0,Z.Z)(function*(){const fe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let Qe,It;return new Promise((dn,Pn)=>{const Un=vr("",20);fe.port1.start();const Vi=setTimeout(()=>{Pn(new Error("unsupported_event"))},A);It={messageChannel:fe,onMessage(Oa){const Wa=Oa;if(Wa.data.eventId===Un)switch(Wa.data.status){case"ack":clearTimeout(Vi),Qe=setTimeout(()=>{Pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Qe),dn(Wa.data.response);break;default:clearTimeout(Vi),clearTimeout(Qe),Pn(new Error("invalid_response"))}}},X.handlers.add(It),fe.port1.addEventListener("message",It.onMessage),X.target.postMessage({eventType:p,eventId:Un,data:y},[fe.port2])}).finally(()=>{It&&X.removeMessageHandler(It)})})()}}function gr(){return window}function zo(){return void 0!==gr().WorkerGlobalScope&&"function"==typeof gr().importScripts}function vo(){return(vo=(0,Z.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Yo="firebaseLocalStorageDb",dl="firebaseLocalStorage",hl="fbase_key";class zi{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ea(b,p){return b.transaction([dl],p?"readwrite":"readonly").objectStore(dl)}function Ba(){const b=indexedDB.open(Yo,1);return new Promise((p,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(dl,{keyPath:hl})}catch(X){y(X)}}),b.addEventListener("success",(0,Z.Z)(function*(){const A=b.result;A.objectStoreNames.contains(dl)?p(A):(A.close(),yield function Jl(){const b=indexedDB.deleteDatabase(Yo);return new zi(b).toPromise()}(),p(yield Ba()))}))})}function so(b,p,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,Z.Z)(function*(b,p,y){const A=Ea(b,!0).put({[hl]:p,value:y});return new zi(A).toPromise()})).apply(this,arguments)}function Eo(){return(Eo=(0,Z.Z)(function*(b,p){const y=Ea(b,!1).get(p),A=yield new zi(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Ss(b,p){const y=Ea(b,!0).delete(p);return new zi(y).toPromise()}const el=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,Z.Z)(function*(){return y.db||(y.db=yield Ba()),y.db})()}_withRetries(y){var A=this;return(0,Z.Z)(function*(){let X=0;for(;;)try{const fe=yield A._openDb();return yield y(fe)}catch(fe){if(X++>3)throw fe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,Z.Z)(function*(){return zo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,Z.Z)(function*(){y.receiver=la._getInstance(function Va(){return zo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,Z.Z)(function*(X,fe){return{keyProcessed:(yield y._poll()).includes(fe.key)}});return function(X,fe){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,Z.Z)(function*(X,fe){return["keyChanged"]});return function(X,fe){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,Z.Z)(function*(){var A,X;if(y.activeServiceWorker=yield function va(){return vo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new us(y.activeServiceWorker);const fe=yield y.sender._send("ping",{},800);!fe||(null===(A=fe[0])||void 0===A?void 0:A.fulfilled)&&(null===(X=fe[0])||void 0===X?void 0:X.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,Z.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function yu(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch(X){}})()}_isAvailable(){return(0,Z.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Ba();return yield so(y,aa,"1"),yield Ss(y,aa),!0}catch(y){}return!1})()}_withPendingWrite(y){var A=this;return(0,Z.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var X=this;return(0,Z.Z)(function*(){return X._withPendingWrite((0,Z.Z)(function*(){return yield X._withRetries(fe=>so(fe,y,A)),X.localCache[y]=A,X.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,Z.Z)(function*(){const X=yield A._withRetries(fe=>function ct(b,p){return Eo.apply(this,arguments)}(fe,y));return A.localCache[y]=X,X})()}_remove(y){var A=this;return(0,Z.Z)(function*(){return A._withPendingWrite((0,Z.Z)(function*(){return yield A._withRetries(X=>Ss(X,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,Z.Z)(function*(){const A=yield y._withRetries(Qe=>{const It=Ea(Qe,!1).getAll();return new zi(It).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const X=[],fe=new Set;for(const{fbase_key:Qe,value:It}of A)fe.add(Qe),JSON.stringify(y.localCache[Qe])!==JSON.stringify(It)&&(y.notifyListeners(Qe,It),X.push(Qe));for(const Qe of Object.keys(y.localCache))y.localCache[Qe]&&!fe.has(Qe)&&(y.notifyListeners(Qe,null),X.push(Qe));return X})()}notifyListeners(y,A){this.localCache[y]=A;const X=this.listeners[y];if(X)for(const fe of Array.from(X))fe(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,Z.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Pu(b){return`__${b}${Math.floor(1e6*Math.random())}`}function xs(b,p){return p?pr(p):(ht(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}Pu("rcb"),new ti(3e4,6e4);class wa extends bn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xi(p,this._buildIdpRequest())}_linkToIdToken(p,y){return Xi(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return Xi(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function $s(b){return Is(b.auth,new wa(b),b.bypassAuthState)}function il(b){const{auth:p,user:y}=b;return ht(y,p,"internal-error"),function sa(b,p){return Ls.apply(this,arguments)}(y,new wa(b),b.bypassAuthState)}function Ru(b){return jl.apply(this,arguments)}function jl(){return(jl=(0,Z.Z)(function*(b){const{auth:p,user:y}=b;return ht(y,p,"internal-error"),Qs(y,new wa(b),b.bypassAuthState)})).apply(this,arguments)}new ti(2e3,1e4);const Lo=new Map;class eu extends class fl{constructor(p,y,A,X,fe=!1){this.auth=p,this.resolver=A,this.user=X,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,Z.Z)(function*(A,X){p.pendingPromise={resolve:A,reject:X};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(fe){p.reject(fe)}});return function(A,X){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,Z.Z)(function*(){const{urlResponse:A,sessionId:X,postBody:fe,tenantId:Qe,error:It,type:dn}=p;if(It)return void y.reject(It);const Pn={auth:y.auth,requestUri:A,sessionId:X,tenantId:Qe||void 0,postBody:fe||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(dn)(Pn))}catch(Un){y.reject(Un)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $s;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return il;default:Ze(this.auth,"internal-error")}}resolve(p){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(p,y,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,Z.Z)(function*(){let A=Lo.get(y.auth._key());if(!A){try{const fe=(yield function rs(b,p){return pl.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;A=()=>Promise.resolve(fe)}catch(X){A=()=>Promise.reject(X)}Lo.set(y.auth._key(),A)}return y.bypassAuthState||Lo.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,A=this;return(0,Z.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(A,p);if("unknown"!==p.type){if(p.eventId){const X=yield A.auth._redirectUserForId(p.eventId);if(X)return A.user=X,y().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,Z.Z)(function*(){})()}cleanUp(){}}function pl(){return(pl=(0,Z.Z)(function*(b,p){const y=tu(p),A=qu(b);if(!(yield A._isAvailable()))return!1;const X="true"===(yield A._get(y));return yield A._remove(y),X})).apply(this,arguments)}function Qu(b,p){Lo.set(b._key(),p)}function qu(b){return pr(b._redirectPersistence)}function tu(b){return He("pendingRedirect",b.config.apiKey,b.name)}function ao(b,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,Z.Z)(function*(b,p,y=!1){const A=Mr(b),X=xs(A,p),Qe=yield new eu(A,X,y).execute();return Qe&&!y&&(delete Qe.user._redirectEventId,yield A._persistUserIfCurrent(Qe.user),yield A._setRedirectUser(null,p)),Qe})).apply(this,arguments)}class ki{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(y=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ml(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Al(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var A;if(p.error&&!Al(p)){const X=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(at(this.auth,X))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const A=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cu(p))}saveEventToCache(p){this.cachedEventUids.add(Cu(p)),this.lastProcessedEventTime=Date.now()}}function Cu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Al({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Fo(b){return $a.apply(this,arguments)}function $a(){return($a=(0,Z.Z)(function*(b,p={}){return _r(b,"GET","/v1/projects",p)})).apply(this,arguments)}const iu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gl=/^https?/;function _s(){return(_s=(0,Z.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Fo(b);for(const y of p)try{if(Iu(y))return}catch(A){}Ze(b,"unauthorized-domain")})).apply(this,arguments)}function Iu(b){const p=tr(),{protocol:y,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const Qe=new URL(b);return""===Qe.hostname&&""===A?"chrome-extension:"===y&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&Qe.hostname===A}if(!Gl.test(y))return!1;if(iu.test(b))return A===b;const X=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(A)}const su=new ti(3e4,6e4);function Ol(){const b=gr().___jsl;if(null!=b&&b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let ml=null;function Kl(b){return ml=ml||function ou(b){return new Promise((p,y)=>{var A,X,fe;function Qe(){Ol(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ol(),y(at(b,"network-request-failed"))},timeout:su.get()})}if(null!==(X=null===(A=gr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==X&&X.Iframe)p(gapi.iframes.getContext());else{if(null===(fe=gr().gapi)||void 0===fe||!fe.load){const It=Pu("iframefcb");return gr()[It]=()=>{gapi.load?Qe():y(at(b,"network-request-failed"))},function Zs(b){return new Promise((p,y)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=X=>{const fe=at("internal-error");fe.customData=X,y(fe)},A.type="text/javascript",A.charset="UTF-8",function Yu(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)})}(`https://apis.google.com/js/api.js?onload=${It}`).catch(dn=>y(dn))}Qe()}}).catch(p=>{throw ml=null,p})}(b),ml}const Ga=new ti(5e3,15e3),_l={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pl(b){const p=b.config;ht(p.authDomain,b,"auth-domain-config-required");const y=p.emulator?$r(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:b.name,v:Le.Jn},X=Tu.get(b.config.apiHost);X&&(A.eid=X);const fe=b._getFrameworks();return fe.length&&(A.fw=fe.join(",")),`${y}?${(0,ce.xO)(A).slice(1)}`}function vl(){return vl=(0,Z.Z)(function*(b){const p=yield Kl(b),y=gr().gapi;return ht(y,b,"internal-error"),p.open({where:document.body,url:Pl(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_l,dontclear:!0},A=>new Promise(function(){var X=(0,Z.Z)(function*(fe,Qe){yield A.restyle({setHideOnLeave:!1});const It=at(b,"network-request-failed"),dn=gr().setTimeout(()=>{Qe(It)},Ga.get());function Pn(){gr().clearTimeout(dn),fe(A)}A.ping(Pn).then(Pn,()=>{Qe(It)})});return function(fe,Qe){return X.apply(this,arguments)}}()))}),vl.apply(this,arguments)}const au={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function xl(b,p,y,A,X,fe){ht(b.config.authDomain,b,"auth-domain-config-required"),ht(b.config.apiKey,b,"invalid-api-key");const Qe={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:A,v:Le.Jn,eventId:X};if(p instanceof Si){p.setDefaultLanguage(b.languageCode),Qe.providerId=p.providerId||"",(0,ce.xb)(p.getCustomParameters())||(Qe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dn,Pn]of Object.entries(fe||{}))Qe[dn]=Pn}if(p instanceof qa){const dn=p.getScopes().filter(Pn=>""!==Pn);dn.length>0&&(Qe.scopes=dn.join(","))}b.tenantId&&(Qe.tid=b.tenantId);const It=Qe;for(const dn of Object.keys(It))void 0===It[dn]&&delete It[dn];return`${function da({config:b}){return b.emulator?$r(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,ce.xO)(It).slice(1)}`}const Ma="webStorageSupport",bu=class Nl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ui,this._completeRedirectFn=ao,this._overrideRedirectResult=Qu}_openPopup(p,y,A,X){var fe=this;return(0,Z.Z)(function*(){var Qe;Kt(null===(Qe=fe.eventManagers[p._key()])||void 0===Qe?void 0:Qe.manager,"_initialize() not called before _openPopup()");const It=xl(p,y,A,tr(),X);return function Su(b,p,y,A=500,X=600){const fe=Math.max((window.screen.availHeight-X)/2,0).toString(),Qe=Math.max((window.screen.availWidth-A)/2,0).toString();let It="";const dn=Object.assign(Object.assign({},au),{width:A.toString(),height:X.toString(),top:fe,left:Qe}),Pn=(0,ce.z$)().toLowerCase();y&&(It=an(Pn)?"_blank":y),ke(Pn)&&(p=p||"http://localhost",dn.scrollbars="yes");const Un=Object.entries(dn).reduce((Oa,[Wa,pa])=>`${Oa}${Wa}=${pa},`,"");if(function gn(b=(0,ce.z$)()){var p;return Gt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Pn)&&"_self"!==It)return function vc(b,p){const y=document.createElement("a");y.href=b,y.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(p||"",It),new Fu(null);const Vi=window.open(p||"",It,Un);ht(Vi,b,"popup-blocked");try{Vi.focus()}catch(Oa){}return new Fu(Vi)}(p,It,vr())})()}_openRedirect(p,y,A,X){var fe=this;return(0,Z.Z)(function*(){return yield fe._originValidation(p),function Jt(b){gr().location.href=b}(xl(p,y,A,tr(),X)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:X,promise:fe}=this.eventManagers[y];return X?Promise.resolve(X):(Kt(fe,"If manager is not set, promise should be"),fe)}const A=this.initAndGetManager(p);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(p){var y=this;return(0,Z.Z)(function*(){const A=yield function yl(b){return vl.apply(this,arguments)}(p),X=new ki(p);return A.register("authEvent",fe=>(ht(null==fe?void 0:fe.authEvent,p,"invalid-auth-event"),{status:X.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:X},y.iframes[p._key()]=A,X})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(Ma,{type:Ma},X=>{var fe;const Qe=null===(fe=null==X?void 0:X[0])||void 0===fe?void 0:fe[Ma];void 0!==Qe&&y(!!Qe),Ze(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Wl(b){return _s.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return sr()||lt()||Gt()}};var _="@firebase/auth",x="0.21.3";class K{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,Z.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(A=>{p((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);!y||(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Je=(0,ce.Pz)("authIdTokenMaxAge")||300;let _t=null;const Ut=b=>function(){var p=(0,Z.Z)(function*(y){const A=y&&(yield y.getIdTokenResult()),X=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(X&&X>Je)return;const fe=null==A?void 0:A.token;_t!==fe&&(_t=fe,yield fetch(b,{method:fe?"POST":"DELETE",headers:fe?{Authorization:`Bearer ${fe}`}:{}}))});return function(y){return p.apply(this,arguments)}}();function sn(b=(0,Le.Mq)()){const p=(0,Le.qX)(b,"auth");if(p.isInitialized())return p.getImmediate();const y=function Vr(b,p){const y=(0,Le.qX)(b,"auth");if(y.isInitialized()){const X=y.getImmediate(),fe=y.getOptions();if((0,ce.vZ)(fe,null!=p?p:{}))return X;Ze(X,"already-initialized")}return y.initialize({options:p})}(b,{popupRedirectResolver:bu,persistence:[el,Rs,ui]}),A=(0,ce.Pz)("authTokenSyncURL");if(A){const fe=Ut(A);(function ns(b,p,y){(0,ce.m9)(b).beforeAuthStateChanged(p,y)})(y,fe,()=>fe(y.currentUser)),function Lt(b,p,y,A){(0,ce.m9)(b).onIdTokenChanged(p,y,A)}(y,Qe=>fe(Qe))}const X=(0,ce.q4)("auth");return X&&function Hi(b,p,y){const A=Mr(b);ht(A._canInitEmulator,A,"emulator-config-failed"),ht(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const X=!(null==y||!y.disableWarnings),fe=or(p),{host:Qe,port:It}=function $i(b){const p=or(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(A);if(X){const fe=X[1];return{host:fe,port:Rn(A.substr(fe.length+1))}}{const[fe,Qe]=A.split(":");return{host:fe,port:Rn(Qe)}}}(p);A.config.emulator={url:`${fe}//${Qe}${null===It?"":`:${It}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Qe,port:It,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function In(){function b(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(y,`http://${X}`),y}function kn(b,p){if(1&b&&(f.TgZ(0,"section")(1,"h2")(2,"span"),f._uU(3,"Total"),f.qZA(),f._uU(4,"Users"),f.qZA(),f.TgZ(5,"h2")(6,"h1"),f._uU(7),f.qZA()()()),2&b){const y=p.ngIf;f.xp6(7),f.hij(" ",y.length," ")}}function On(b,p){1&b&&(f.TgZ(0,"b",10),f._uU(1,"Last Active At"),f.qZA())}!function ye(b){(0,Le.Xd)(new we.wA("auth",(p,{options:y})=>{const A=p.getProvider("app").getImmediate(),X=p.getProvider("heartbeat"),{apiKey:fe,authDomain:Qe}=A.options;return((It,dn)=>{ht(fe&&!fe.includes(":"),"invalid-api-key",{appName:It.name}),ht(!(null!=Qe&&Qe.includes(":")),"argument-error",{appName:It.name});const Pn={apiKey:fe,authDomain:Qe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ar(b)},Un=new hs(It,dn,Pn);return function Ir(b,p){const y=(null==p?void 0:p.persistence)||[],A=(Array.isArray(y)?y:[y]).map(pr);null!=p&&p.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,null==p?void 0:p.popupRedirectResolver)}(Un,y),Un})(A,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,A)=>{p.getProvider("auth-internal").initialize()})),(0,Le.Xd)(new we.wA("auth-internal",p=>{const y=Mr(p.getProvider("auth").getImmediate());return new K(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.KN)(_,x,function ne(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Le.KN)(_,x,"esm2017")}("Browser");const on=function(b,p,y){return{"text-success":b,"text-danger":p,"text-warning":y}};function Wn(b,p){if(1&b&&(f.TgZ(0,"tr")(1,"td",6),f._uU(2),f.qZA(),f.TgZ(3,"td",7)(4,"b"),f._uU(5),f.qZA()(),f.TgZ(6,"td",8),f.YNc(7,On,2,0,"b",9),f._uU(8),f.ALo(9,"date"),f.qZA()()),2&b){const y=p.$implicit;f.xp6(2),f.Oqu(y.key),f.xp6(1),f.Q6J("ngClass",f.kEZ(7,on,"online"===y.status,"offline"===y.status,"away"===y.status)),f.xp6(2),f.Oqu(y.status),f.xp6(2),f.Q6J("ngIf","offline"===y.status),f.xp6(1),f.Oqu(f.lcZ(9,5,y.timestamp))}}function Hr(b,p){if(1&b&&(f.TgZ(0,"table")(1,"caption"),f._uU(2,"Users Summary"),f.qZA(),f.TgZ(3,"thead",2)(4,"tr")(5,"th"),f._uU(6,"User Id"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"Status"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Date"),f.qZA()()(),f.TgZ(11,"tbody"),f.YNc(12,Wn,10,11,"tr",3),f.qZA()()),2&b){const y=p.ngIf;f.xp6(12),f.Q6J("ngForOf",y)}}function yi(b,p){1&b&&f.GkF(0)}const cs=function(b){return{$implicit:b}};function vi(b,p){if(1&b&&(f.ynx(0),f.TgZ(1,"tr")(2,"td",11)(3,"strong"),f._uU(4),f.ALo(5,"uppercase"),f.qZA()()(),f.YNc(6,yi,1,0,"ng-container",12),f.BQk()),2&b){const y=p.$implicit;f.oxw();const A=f.MAs(35);f.xp6(4),f.Oqu(f.lcZ(5,3,y.key)),f.xp6(2),f.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",f.VKq(5,cs,y))}}function As(b,p){if(1&b&&(f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td",13)(4,"b"),f._uU(5),f.qZA()()()),2&b){const y=f.oxw(2),A=y.parent,X=y.$implicit;f.xp6(2),f.lnq(" ",A," ",A?"/":""," ",X.key," "),f.xp6(3),f.Oqu(X.value.counter)}}function ei(b,p){1&b&&f.GkF(0)}const fr=function(b,p){return{$implicit:b,parent:p}};function Ui(b,p){if(1&b&&(f.ynx(0),f.YNc(1,As,6,4,"tr",1),f.YNc(2,ei,1,0,"ng-container",12),f.BQk()),2&b){const y=f.oxw(),A=y.$implicit,X=y.parent;f.oxw();const fe=f.MAs(37);f.xp6(1),f.Q6J("ngIf",A.value.counter),f.xp6(1),f.Q6J("ngTemplateOutlet",fe)("ngTemplateOutletContext",f.WLB(3,fr,A,X?X+" / "+A.key:A.key))}}function ys(b,p){1&b&&f.YNc(0,Ui,3,6,"ng-container",1),2&b&&f.Q6J("ngIf","counter"!==p.$implicit.key)}function qo(b,p){1&b&&f.GkF(0)}function ha(b,p){if(1&b&&(f.ynx(0),f.YNc(1,qo,1,0,"ng-container",12),f.BQk()),2&b){const y=p.$implicit,A=f.oxw().parent;f.oxw();const X=f.MAs(35);f.xp6(1),f.Q6J("ngTemplateOutlet",X)("ngTemplateOutletContext",f.WLB(2,fr,y,A))}}function is(b,p){1&b&&(f.YNc(0,ha,2,5,"ng-container",3),f.ALo(1,"keyvalue")),2&b&&f.Q6J("ngForOf",f.lcZ(1,1,p.$implicit.value))}class hi{constructor(){this.db=(0,te.N8)()}create(p,y={}){let A=(0,te.VF)((0,te.iH)(this.db,p));return(0,te.t8)(A,Object.assign({key:A.key},y)).then(),Promise.resolve({key:A.key})}set(p,y={}){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,te.iH)(this.db,p);yield(0,te.t8)(A,y)})}update(p,y={}){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,te.iH)(this.db,p);yield(0,te.Vx)(A,y)})}remove(p){return(0,S.mG)(this,void 0,void 0,function*(){const y=(0,te.iH)(this.db,p);yield(0,te.Od)(y)})}readRealTime(p){return new V.y(y=>{(0,te.jM)((0,te.iH)(this.db,p),A=>{let X=[];A.exists()?(A.forEach(fe=>{X.push(Object.assign({key:fe.key},fe.val()))}),y.next(X)):y.next([])})})}readOnceWithObserver(p){return(0,te.jM)((0,te.iH)(this.db,p),y=>y.val(),{onlyOnce:!0})}readOnce(p){return new Promise((y,A)=>{(0,te.U2)((0,te.iH)(this.db,p)).then(X=>{X.exists()?y(Object.assign({key:X.key},X.val())):y([])}).catch(X=>{A(X)})})}readReal(p){return new V.y(y=>{(0,te.jM)((0,te.iH)(this.db,p),A=>{A.exists()?y.next(A.val()):y.next(null)})})}updateCounter(p,y=!0){return new Promise((A,X)=>{const fe=(0,te.iH)(this.db);(0,te.U2)((0,te.iU)(fe,"counter")).then(Qe=>{(0,te.Vx)((0,te.iH)(this.db,p),{counter:(0,te.nP)(y?1:-1)}).then(It=>{A(It)})})})}others(){}checkPresence(p){const y=(0,te.iH)(this.db,`${p}/connections`),A=(0,te.iH)(this.db,`${p}/lastOnline`),X=(0,te.iH)(this.db,".info/connected");(0,te.jM)(X,fe=>{if(!0===fe.val()){const Qe=(0,te.VF)(y);(0,te.ae)(Qe).remove().then(),(0,te.t8)(Qe,!0).then(),(0,te.ae)(A).set((0,te.Bt)()).then()}})}onDisconnect(p){const y=(0,te.iH)(this.db,p);return(0,te.ae)(y)}detectingConnectionState(){return new V.y(p=>{const y=(0,te.iH)(this.db,".info/connected");(0,te.jM)(y,A=>{p.next(A.val())})})}}let Zo=(()=>{class b extends hi{constructor(){super()}get timestamp(){return(new Date).getTime()}getPresence(y){return this.readReal(`status/${y}`)}getUserOnlineCounts(){return this.readRealTime("status").pipe((0,le.U)(y=>y.reduce((A,X)=>"online"===X.status?++A:A,0)))}getTotalUserCounts(){return this.readRealTime("status").pipe((0,le.U)(y=>y))}setPresence(y,A){return this.set(`status/${y}`,{status:A,timestamp:this.timestamp})}updateOnAway(y){document.onvisibilitychange=A=>{"hidden"===document.visibilityState?this.setPresence(y,"away"):this.setPresence(y,"online")}}updateOnUser(y){this.detectingConnectionState().pipe((0,le.U)(X=>X?"online":"offline")).subscribe(X=>this.setPresence(y,X))}updateOnDisconnect(y){this.onDisconnect(`status/${y}`).update({status:"offline",timestamp:this.timestamp})}configure(y){this.updateOnAway(y),this.updateOnUser(y),this.updateOnDisconnect(y)}configureUserPresenceByLocal(){let y=localStorage.getItem("uid");this.checkingUser(y)}configureUserPresenceByLogin(y,A={}){this.checkingUser(y,A)}checkingUser(y,A={}){y?this.configure(y):this.create("status",Object.assign({uid:y},A)).then(X=>{localStorage.setItem("uid",X.key),this.configure(X.key)})}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const Co={provide:f.ip1,useFactory:function Ll(b){return()=>new Promise((p,y)=>(0,S.mG)(this,void 0,void 0,function*(){yield b.configureUserPresenceByLocal(),p("done")}))},deps:[Zo],multi:!0};let Cn=(()=>{class b extends hi{constructor(y){super(),this.presenceService=y,this.flattenObject1=A=>{const X={};return Object.keys(A).forEach(fe=>{const Qe=A[fe];"object"!=typeof Qe||null===Qe||Array.isArray(Qe)?X[fe]=Qe:Object.assign(X,this.flattenObject1(Qe))}),X},this.flattenObject=A=>{let X={};for(const fe in A)if(A.hasOwnProperty(fe))if("object"!=typeof A[fe]||Array.isArray(A[fe]))X[fe]=A[fe];else{const Qe=this.flattenObject(A[fe]);for(const It in Qe)X[fe+"_"+It]=Qe[It]}return X}}ngOnInit(){this.readReal("server-activities").subscribe(y=>{this.serverActivities=y}),this.readReal("router-activities").subscribe(y=>(0,S.mG)(this,void 0,void 0,function*(){this.routerActivities=y})),this.counts$=this.presenceService.getUserOnlineCounts(),this.totalUsers$=this.presenceService.getTotalUserCounts()}d(y){let A={};for(let X in y)if(y.hasOwnProperty(X)){const fe=typeof y[X];"string"===fe?A[X]=y[X]:"object"===fe&&this.d(y[X])}}}return b.\u0275fac=function(y){return new(y||b)(f.Y36(Zo))},b.\u0275cmp=f.Xpm({type:b,selectors:[["fb-activities"]],features:[f.qOj],decls:38,vars:13,consts:[[1,"grid-even-columns"],[4,"ngIf"],[1,"sticky-top"],[4,"ngFor","ngForOf"],["rows",""],["inner",""],["data-label","id"],["data-label","status",3,"ngClass"],["data-label","date"],["class","mr-2",4,"ngIf"],[1,"mr-2"],["colspan","2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"color","tomato"]],template:function(y,A){1&y&&(f.TgZ(0,"div",0)(1,"section")(2,"h2")(3,"span"),f._uU(4,"Online"),f.qZA(),f._uU(5,"Users"),f.qZA(),f.TgZ(6,"h2")(7,"h1"),f._uU(8),f.ALo(9,"async"),f.qZA()()(),f.YNc(10,kn,8,1,"section",1),f.ALo(11,"async"),f.TgZ(12,"section")(13,"h2")(14,"span"),f._uU(15,"Server"),f.qZA(),f._uU(16,"Requests"),f.qZA(),f.TgZ(17,"h2")(18,"h1"),f._uU(19),f.qZA()()()(),f.YNc(20,Hr,13,1,"table",1),f.ALo(21,"async"),f.TgZ(22,"table")(23,"caption"),f._uU(24,"Modules Summary"),f.qZA(),f.TgZ(25,"thead",2)(26,"tr")(27,"th"),f._uU(28,"Modules"),f.qZA(),f.TgZ(29,"th"),f._uU(30,"Views"),f.qZA()()(),f.TgZ(31,"tbody"),f.YNc(32,vi,7,7,"ng-container",3),f.ALo(33,"keyvalue"),f.qZA()(),f.YNc(34,ys,1,1,"ng-template",null,4,f.W1O),f.YNc(36,is,2,3,"ng-template",null,5,f.W1O)),2&y&&(f.xp6(8),f.hij(" ",f.lcZ(9,5,A.counts$)," "),f.xp6(2),f.Q6J("ngIf",f.lcZ(11,7,A.totalUsers$)),f.xp6(9),f.Oqu(null==A.serverActivities?null:A.serverActivities.counter),f.xp6(1),f.Q6J("ngIf",f.lcZ(21,9,A.totalUsers$)),f.xp6(12),f.Q6J("ngForOf",f.lcZ(33,11,A.routerActivities)))},dependencies:[de.mk,de.sg,de.O5,de.tP,de.Ov,de.gd,de.uU,de.Nd],styles:['*,*:before,*:after{box-sizing:border-box;margin-top:0}:host{display:block;background:#f5f5f5;color:#18314f;font-family:Crimson Text,serif;font-size:1.5rem;padding:1rem}section{background:white;box-shadow:0 0 20px #00000040;width:80%;margin:50px auto;padding:50px}h2{font-weight:400;text-transform:uppercase;font-size:1rem;margin-bottom:3em;letter-spacing:8px;text-align:center;color:tomato}h2:after{content:"";display:block;border-bottom:1px solid rgba(24,49,79,.25);width:20%;margin:3em auto 0}h2 span{font-size:2em;font-weight:700;display:block;color:#18314f}[class*=grid-]{display:grid;gap:1rem}.grid-even-columns{grid-template-columns:repeat(auto-fit,minmax(min(300px,100%),1fr))}@media (min-width: 50em){.grid-auto-flows{grid-auto-flow:column;grid-auto-columns:1fr}}.grid-stack{display:grid;place-items:center}.grid-stack>*{grid-column:1/2;grid-row:1/2}.grid-stack>img{aspect-ratio:16/9;object-fit:cover;z-index:-1}.overflow-y{height:300px;overflow-y:auto;overflow-x:hidden}table{border:1px solid #ccc;border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed;box-shadow:1px 2px 1px 2px #e6e5e5;position:relative}table caption{font-size:1.5em;margin:.5em 0 .75em}table tr{background-color:#f8f8f8;border:1px solid #ddd;padding:.35em}table th,table td{padding:.625em;text-align:center}table th{font-size:.85em;letter-spacing:.1em;text-transform:uppercase}.text-success{color:#006400}.text-danger{color:#8b0000}.text-warning{color:#ff0}.sticky-top{position:sticky;top:0}@media screen and (max-width: 600px){table{border:0}table caption{font-size:1.3em}table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute!important;width:1px}table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table td{border-bottom:1px solid #ddd;display:block;font-size:.8em;text-align:right}table td:last-child{border-bottom:0}table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}}\n'],encapsulation:3}),b})(),xn=(()=>{class b extends hi{constructor(y){super(),this.router=y}config(){this.router.events.subscribe(y=>{y instanceof oe.m2&&(/[#$\[\]'?]/g.test(y.url)||this.updateCounter(`router-activities${y.url}`).then())})}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(oe.F0))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const Ur={provide:f.ip1,useFactory:b=>()=>b.config(),multi:!0,deps:[xn]},Jo={provide:J.TP,useClass:(()=>{class b extends hi{constructor(){super()}intercept(y,A){return this.updateCounter("server-activities").then(),A.handle(y)}}return b.\u0275fac=function(y){return new(y||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})(),multi:!0},Ns=new f.OlP(null);function fa(b){return()=>{const p=(0,he.ZF)(b);(0,te.N8)(p),(0,Q.ad)(p),console.log(`no of Firebase app:: ${(0,he.C6)().length}`)}}let fi=(()=>{class b{constructor(y){this.config=y}static initializeApp(y){return{ngModule:b,providers:[{provide:Ns,useFactory:fa(y)}]}}static initialize(y){let A=[];return y.activityInHttp&&A.push(Jo),y.activityInRouter&&A.push(Ur),y.activityOfAnonymousUser&&A.push(Co),{ngModule:b,providers:A}}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(Ns))},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({providers:[xn,Zo],imports:[de.ez]}),b})();const Fl="https://rktect-rest-default-rtdb.firebaseio.com/users.json",ku="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let Js=(()=>{class b{constructor(y){this.http=y}getUsers(){return this.http.get(Fl,{params:{auth:ku}})}createUser(y){return this.http.post(Fl,y,{params:{auth:ku}})}}return b.\u0275fac=function(y){return new(y||b)(f.LFG(J.eN))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class ol{constructor(){this.db=(0,Q.ad)(),this.auth=sn(),(0,Q.ST)(this.db).catch(p=>{"failed-precondition"==p.code?console.log("persistance failed"):"unimplemented"==p.code&&console.log("persistance not available")})}get colRef(){return(0,Q.hJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((p,y)=>{(0,Q.PL)(this.colRef).then(A=>{let X=this.setData2(A);p(X)}).catch(A=>{y(A.message)})})}getSingleDoc(p){const y=(0,Q.JU)(this.db,this.collectionPath,p);return new Promise((A,X)=>(0,Q.QT)(y).then(fe=>{let Qe=this.transformSingleDoc(fe);A(Qe)}).catch(fe=>{X(fe.message)}))}getSingleDocFromCache(p){return(0,S.mG)(this,void 0,void 0,function*(){const y=(0,Q.JU)(this.db,this.collectionPath,p);try{const A=yield(0,Q.kl)(y);console.log("Cached document data:",A.data())}catch(A){console.log("Error getting cached document:",A)}})}getCollectionRealTime(p){return this.unsubscribe=(0,Q.cf)(this.colRef,y=>{p(this.setData2(y))})}getDocRealTime(p,y){const A=(0,Q.JU)(this.db,this.collectionPath,p);return(0,Q.cf)(A,X=>{y(this.transformSingleDoc(X))})}g(){(0,Q.cf)(void 0,y=>{y.docChanges().forEach(A=>{"added"===A.type&&console.log("New city: ",A.doc.data()),"modified"===A.type&&console.log("Modified city: ",A.doc.data()),"removed"===A.type&&console.log("Removed city: ",A.doc.data())})})}addingDoc(p={}){return(0,Q.ET)(this.colRef,Object.assign({createdAt:(0,Q.Bt)(),updatedAt:(0,Q.Bt)()},p))}deletingDoc(p){const y=(0,Q.JU)(this.db,this.collectionPath,p);return(0,Q.oe)(y)}updatingDoc(p,y){const A=(0,Q.JU)(this.db,this.collectionPath,p);return(0,Q.r7)(A,Object.assign({updatedAt:(0,Q.Bt)()},y))}signUpWithEmailPass({email:p,password:y}){return function Fs(b,p,y){return mo.apply(this,arguments)}(this.auth,p,y).then(A=>Promise.resolve(A.user)).catch(A=>Promise.reject(A.message))}signInWithEmailPass({email:p,password:y}){return function ka(b,p,y){return function ii(b,p){return ma.apply(this,arguments)}((0,ce.m9)(b),Bo.credential(p,y))}(this.auth,p,y).then(A=>Promise.resolve(A.user)).catch(A=>Promise.reject(A.message))}onSignOut(){return function Tn(b){return(0,ce.m9)(b).signOut()}(this.auth).then(p=>Promise.resolve(p)).catch(p=>Promise.reject(p.message))}subscribingAuthChangedRealTime(p){return function yo(b,p,y,A){return(0,ce.m9)(b).onAuthStateChanged(p,y,A)}(this.auth,y=>{p(y)})}getPaginationData1(p={latestDoc:null,empty:!1,data:[]},y=5){return new Promise((A,X)=>{const fe=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.TQ)(p.latestDoc||0),(0,Q.b9)(y));(0,Q.PL)(fe).then(Qe=>{let It=this.setData2(Qe);p.latestDoc=Qe.docs[Qe.docs.length-1],p.data=[...p.data,...It],p.empty=Qe.empty,A(p)}).catch(Qe=>{X(Qe.message)})})}getPaginationData(p={latestDoc:null,empty:!1,data:[],size:0},y=5){return(0,S.mG)(this,void 0,void 0,function*(){if(!p.empty)try{const A=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.TQ)(p.latestDoc||0),(0,Q.b9)(y)),X=yield(0,Q.PL)(A);let fe=this.setData2(X);return p.latestDoc=X.docs[X.docs.length-1],p.data=[...p.data,...fe],p.empty=X.empty,p.size=X.size,p}catch(A){return A}})}unsubscribeRealTime(){this.unsubscribe()}nextPage(p={latestDoc:null,empty:!1,data:[],size:0},y=5){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.TQ)(p.latestDoc||0),(0,Q.b9)(y));return yield this.handlePagination(A)})}prePage(p={latestDoc:null,empty:!1,data:[],size:0},y=5){return(0,S.mG)(this,void 0,void 0,function*(){const A=(0,Q.IO)(this.colRef,(0,Q.Xo)("createdAt"),(0,Q.Lx)(p.latestDoc||0),(0,Q.b9)(y));return yield this.handlePagination(A,!1)})}setData(p){return p.docs.map(y=>Object.assign({id:y.id},y.data()))}setData2(p){let y=[];return p.docs.forEach(A=>{y.push(Object.assign(Object.assign({},A.data()),{id:A.id}))}),y}transformSingleDoc(p){return Object.assign(Object.assign({},p.data()),{id:p.id})}handlePagination(p,y=!0){return(0,S.mG)(this,void 0,void 0,function*(){try{const A=yield(0,Q.PL)(p);let X=this.setData2(A);return{latestDoc:y?A.docs[A.docs.length-1]:A.docs[0],data:X,empty:A.empty,size:A.size}}catch(A){return A}})}}},259:(Ie,ae,C)=>{C.d(ae,{C6:()=>f.C6,ZF:()=>f.ZF});var f=C(6881);(0,f.KN)("firebase","9.17.1","app")},6197:(Ie,ae,C)=>{C.d(ae,{iU:()=>is,U2:()=>Ur,N8:()=>Bu,nP:()=>Sc,S1:()=>ol,ae:()=>hi,jM:()=>fa,VF:()=>Zo,iH:()=>qo,Od:()=>Ll,Bt:()=>mh,t8:()=>Co,Vx:()=>rr});var f=C(5861),S=C(6881),te=C(4859),V=C(2090),le=C(1877);const de="@firebase/database";let J="";class Q{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,V.Wl)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,V.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class Z{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,V.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const ce=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new Q(u)}}catch(u){}return new Z},Le=ce("localStorage"),ze=ce("sessionStorage"),we=new le.Yd("@firebase/database"),Ye=function(){let h=1;return function(){return h++}}(),We=function(h){const u=(0,V.dS)(h),c=new V.gQ;c.update(u);const v=c.digest();return V.US.encodeByteArray(v)},je=function(...h){let u="";for(let c=0;c<h.length;c++){const v=h[c];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?u+=je.apply(null,v):u+="object"==typeof v?(0,V.Wl)(v):v,u+=" "}return u};let gt=null,xt=!0;const Be=function(...h){if(!0===xt&&(xt=!1,null===gt&&!0===ze.get("logging_enabled")&&function(h,u){(0,V.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(we.logLevel=le.in.VERBOSE,gt=we.log.bind(we),u&&ze.set("logging_enabled",!0)):"function"==typeof h?gt=h:(gt=null,ze.remove("logging_enabled"))}(!0)),gt){const u=je.apply(null,h);gt(u)}},Dt=function(h){return function(...u){Be(h,...u)}},Tt=function(...h){const u="FIREBASE INTERNAL ERROR: "+je(...h);we.error(u)},Wt=function(...h){const u=`FIREBASE FATAL ERROR: ${je(...h)}`;throw we.error(u),new Error(u)},$t=function(...h){const u="FIREBASE WARNING: "+je(...h);we.warn(u)},tt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},at="[MIN_NAME]",et="[MAX_NAME]",Nt=function(h,u){if(h===u)return 0;if(h===at||u===et)return-1;if(u===at||h===et)return 1;{const c=gi(h),v=gi(u);return null!==c?null!==v?c-v==0?h.length-u.length:c-v:-1:null!==v?1:h<u?-1:1}},bt=function(h,u){return h===u?0:h<u?-1:1},ht=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,V.Wl)(u))},Vn=function(h){if("object"!=typeof h||null===h)return(0,V.Wl)(h);const u=[];for(const v in h)u.push(v);u.sort();let c="{";for(let v=0;v<u.length;v++)0!==v&&(c+=","),c+=(0,V.Wl)(u[v]),c+=":",c+=Vn(h[u[v]]);return c+="}",c},Kt=function(h,u){const c=h.length;if(c<=u)return[h];const v=[];for(let P=0;P<c;P+=u)v.push(h.substring(P,P+u>c?c:P+u));return v};function Mt(h,u){for(const c in h)h.hasOwnProperty(c)&&u(c,h[c])}const pr=function(h){(0,V.hu)(!tt(h),"Invalid JSON number");const v=1023;let P,H,Y,pe,Me;0===h?(H=0,Y=0,P=1/h==-1/0?1:0):(P=h<0,(h=Math.abs(h))>=Math.pow(2,1-v)?(pe=Math.min(Math.floor(Math.log(h)/Math.LN2),v),H=pe+v,Y=Math.round(h*Math.pow(2,52-pe)-Math.pow(2,52))):(H=0,Y=Math.round(h/Math.pow(2,-1074))));const Fe=[];for(Me=52;Me;Me-=1)Fe.push(Y%2?1:0),Y=Math.floor(Y/2);for(Me=11;Me;Me-=1)Fe.push(H%2?1:0),H=Math.floor(H/2);Fe.push(P?1:0),Fe.reverse();const vt=Fe.join("");let Ct="";for(Me=0;Me<64;Me+=8){let At=parseInt(vt.substr(Me,8),2).toString(16);1===At.length&&(At="0"+At),Ct+=At}return Ct.toLowerCase()},Fr=new RegExp("^-?(0*)\\d{1,10}$"),gi=function(h){if(Fr.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},ti=function(h){try{h()}catch(u){setTimeout(()=>{throw $t("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},ni=function(h,u){const c=setTimeout(h,u);return"number"==typeof c&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Wr{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(v=>this.appCheck=v)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,v)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,v):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(v=>v.addTokenListener(u))}notifyForInvalidToken(){$t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xr{constructor(u,c,v){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(P=>this.auth_=P)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,v)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,v):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$t(u)}}let lr=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const yr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$e="websocket",Oe="long_polling";class Ee{constructor(u,c,v,P,H=!1,Y="",pe=!1,Me=!1){this.secure=c,this.namespace=v,this.webSocketOnly=P,this.nodeAdmin=H,this.persistenceKey=Y,this.includeNamespaceInQueryParams=pe,this.isUsingEmulator=Me,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Le.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&Le.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pt(h,u,c){let v;if((0,V.hu)("string"==typeof u,"typeof type must == string"),(0,V.hu)("object"==typeof c,"typeof params must == object"),u===$e)v=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==Oe)throw new Error("Unknown connection type: "+u);v=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function nt(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const P=[];return Mt(c,(H,Y)=>{P.push(H+"="+Y)}),v+P.join("&")}class un{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,V.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,V.p$)(this.counters_)}}const rn={},Kn={};function Vt(h){const u=h.toString();return rn[u]||(rn[u]=new un),rn[u]}class zn{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let P=0;P<v.length;++P)v[P]&&ti(()=>{this.onMessage_(v[P])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Nn{constructor(u,c,v,P,H,Y,pe){this.connId=u,this.repoInfo=c,this.applicationId=v,this.appCheckToken=P,this.authToken=H,this.transportSessionId=Y,this.lastSessionId=pe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dt(u),this.stats_=Vt(c),this.urlFn=Me=>(this.appCheckToken&&(Me.ac=this.appCheckToken),pt(c,Oe,Me))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new zn(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,V.Yr)()||"complete"===document.readyState)h();else{let u=!1;const c=function(){document.body?u||(u=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ir((...H)=>{const[Y,pe,Me,Fe,vt]=H;if(this.incrementIncomingBytes_(H),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Y)this.id=pe,this.password=Me;else{if("close"!==Y)throw new Error("Unrecognized command received: "+Y);pe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(pe,()=>{this.onClosed_()})):this.onClosed_()}},(...H)=>{const[Y,pe]=H;this.incrementIncomingBytes_(H),this.myPacketOrderer.handleResponse(Y,pe)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&yr.test(location.hostname)&&(v.r="f");const P=this.urlFn(v);this.log_("Connecting via long-poll to "+P),this.scriptTagHolder.addTag(P,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nn.forceAllow_=!0}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!Nn.forceAllow_&&(Nn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,V.Wl)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const v=(0,V.h$)(c),P=Kt(v,1840);for(let H=0;H<P.length;H++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,P.length,P[H]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=u,v.pw=c,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,V.Wl)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class ir{constructor(u,c,v,P){if(this.onDisconnect=v,this.urlFn=P,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Ye(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=ir.createIFrame_();let H="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(H='<script>document.domain="'+document.domain+'";<\/script>');const Y="<html><body>"+H+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Y),this.myIFrame.doc.close()}catch(pe){Be("frame writing exception"),pe.stack&&Be(pe.stack),Be(pe)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||Be("No IE domain setting required")}catch(c){const v=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),v="",P=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const Y=this.pendingSegs.shift();v=v+"&seg"+P+"="+Y.seg+"&ts"+P+"="+Y.ts+"&d"+P+"="+Y.d,P++}return c+=v,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,v){this.pendingSegs.push({seg:u,ts:c,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const v=()=>{this.outstandingRequests.delete(c),this.newRequest_()},P=setTimeout(v,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(P),v()})}addTag(u,c){(0,V.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=u,v.onload=v.onreadystatechange=function(){const P=v.readyState;(!P||"loaded"===P||"complete"===P)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=()=>{Be("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch(v){}},Math.floor(1))}}let be=null;"undefined"!=typeof MozWebSocket?be=MozWebSocket:"undefined"!=typeof WebSocket&&(be=WebSocket);let me=(()=>{class h{constructor(c,v,P,H,Y,pe,Me){this.connId=c,this.applicationId=P,this.appCheckToken=H,this.authToken=Y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dt(this.connId),this.stats_=Vt(v),this.connURL=h.connectionURL_(v,pe,Me,H,P),this.nodeAdmin=v.nodeAdmin}static connectionURL_(c,v,P,H,Y){const pe={v:"5"};return!(0,V.Yr)()&&"undefined"!=typeof location&&location.hostname&&yr.test(location.hostname)&&(pe.r="f"),v&&(pe.s=v),P&&(pe.ls=P),H&&(pe.ac=H),Y&&(pe.p=Y),pt(c,$e,pe)}open(c,v){this.onDisconnect=v,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Le.set("previous_websocket_failure",!0);try{let P;if((0,V.Yr)()){P={headers:{"User-Agent":`Firebase/5/${J}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(P.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(P.headers["X-Firebase-AppCheck"]=this.appCheckToken);const Y=process.env,pe=0===this.connURL.indexOf("wss://")?Y.HTTPS_PROXY||Y.https_proxy:Y.HTTP_PROXY||Y.http_proxy;pe&&(P.proxy={origin:pe})}this.mySock=new be(this.connURL,[],P)}catch(P){this.log_("Error instantiating WebSocket.");const H=P.message||P.data;return H&&this.log_(H),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=P=>{this.handleIncomingFrame(P)},this.mySock.onerror=P=>{this.log_("WebSocket error.  Closing connection.");const H=P.message||P.data;H&&this.log_(H),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const P=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);P&&P.length>1&&parseFloat(P[1])<4.4&&(c=!0)}return!c&&null!==be&&!h.forceDisallow_}static previouslyFailed(){return Le.isInMemoryStorage||!0===Le.get("previous_websocket_failure")}markConnectionHealthy(){Le.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const v=this.frames.join("");this.frames=null;const P=(0,V.cI)(v);this.onMessage(P)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const v=Number(c);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const v=c.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{const P=this.extractFrameCount_(v);null!==P&&this.appendFrame_(P)}}send(c){this.resetKeepAlive();const v=(0,V.Wl)(c);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);const P=Kt(v,16384);P.length>1&&this.sendString_(String(P.length));for(let H=0;H<P.length;H++)this.sendString_(P[H])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),ke=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Nn,me]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const v=me&&me.isAvailable();let P=v&&!me.previouslyFailed();if(c.webSocketOnly&&(v||$t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),P=!0),P)this.transports_=[me];else{const H=this.transports_=[];for(const Y of h.ALL_TRANSPORTS)Y&&Y.isAvailable()&&H.push(Y);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class hs{constructor(u,c,v,P,H,Y,pe,Me,Fe,vt){this.id=u,this.repoInfo_=c,this.applicationId_=v,this.appCheckToken_=P,this.authToken_=H,this.onMessage_=Y,this.onReady_=pe,this.onDisconnect_=Me,this.onKill_=Fe,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dt("c:"+this.id+":"),this.transportManager_=new ke(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,v)},Math.floor(0));const P=u.healthyTimeout||0;P>0&&(this.healthyTimeout_=ni(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(P)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=ht("t",u),v=ht("d",u);if("c"===c)this.onSecondaryControl_(v);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=ht("t",u),v=ht("d",u);"c"===c?this.onControl_(v):"d"===c&&this.onDataMessage_(v)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=ht("t",u);if("d"in u){const v=u.d;if("h"===c){const P=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(P.h=this.repoInfo_.host),this.onHandshake_(P)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let P=0;P<this.pendingDataMessages.length;++P)this.onDataMessage_(this.pendingDataMessages[P]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(v):"r"===c?this.onReset_(v):"e"===c?Tt("Server Error: "+v):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tt("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,v=u.v,P=u.h;this.sessionId=u.s,this.repoInfo_.host=P,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==v&&$t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,v),ni(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ni(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Le.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mr{put(u,c,v,P){}merge(u,c,v,P){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,v){}onDisconnectMerge(u,c,v){}onDisconnectCancel(u,c){}reportStats(u){}}class Ji{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,V.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const v=[...this.listeners_[u]];for(let P=0;P<v.length;P++)v[P].callback.apply(v[P].context,c)}}on(u,c,v){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:v});const P=this.getInitialEvent(u);P&&c.apply(v,P)}off(u,c,v){this.validateEventType_(u);const P=this.listeners_[u]||[];for(let H=0;H<P.length;H++)if(P[H].callback===c&&(!v||v===P[H].context))return void P.splice(H,1)}validateEventType_(u){(0,V.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class Hi extends Ji{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hi}getInitialEvent(u){return(0,V.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class Rn{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let v=0;for(let P=0;P<this.pieces_.length;P++)this.pieces_[P].length>0&&(this.pieces_[v]=this.pieces_[P],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function In(){return new Rn("")}function bn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function Ri(h){return h.pieces_.length-h.pieceNum_}function wn(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new Rn(h.pieces_,u)}function wo(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function _i(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function Or(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)u.push(h.pieces_[c]);return new Rn(u,0)}function Tr(h,u){const c=[];for(let v=h.pieceNum_;v<h.pieces_.length;v++)c.push(h.pieces_[v]);if(u instanceof Rn)for(let v=u.pieceNum_;v<u.pieces_.length;v++)c.push(u.pieces_[v]);else{const v=u.split("/");for(let P=0;P<v.length;P++)v[P].length>0&&c.push(v[P])}return new Rn(c,0)}function Ln(h){return h.pieceNum_>=h.pieces_.length}function kr(h,u){const c=bn(h),v=bn(u);if(null===c)return u;if(c===v)return kr(wn(h),wn(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function as(h,u){const c=_i(h,0),v=_i(u,0);for(let P=0;P<c.length&&P<v.length;P++){const H=Nt(c[P],v[P]);if(0!==H)return H}return c.length===v.length?0:c.length<v.length?-1:1}function Te(h,u){if(Ri(h)!==Ri(u))return!1;for(let c=h.pieceNum_,v=u.pieceNum_;c<=h.pieces_.length;c++,v++)if(h.pieces_[c]!==u.pieces_[v])return!1;return!0}function it(h,u){let c=h.pieceNum_,v=u.pieceNum_;if(Ri(h)>Ri(u))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==u.pieces_[v])return!1;++c,++v}return!0}class qe{constructor(u,c){this.errorPrefix_=c,this.parts_=_i(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,V.ug)(this.parts_[v]);kt(this)}}function kt(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gn(h))}function Gn(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class Yr extends Ji{constructor(){let u,c;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",u="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const v=!document[u];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new Yr}getInitialEvent(u){return(0,V.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Dr=1e3;let eo,ho=(()=>{class h extends Mr{constructor(c,v,P,H,Y,pe,Me,Fe){if(super(),this.repoInfo_=c,this.applicationId_=v,this.onDataUpdate_=P,this.onConnectStatus_=H,this.onServerInfoUpdate_=Y,this.authTokenProvider_=pe,this.appCheckTokenProvider_=Me,this.authOverride_=Fe,this.id=h.nextPersistentConnectionId_++,this.log_=Dt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Fe&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yr.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Hi.getInstance().on("online",this.onOnline_,this)}sendRequest(c,v,P){const H=++this.requestNumber_,Y={r:H,a:c,b:v};this.log_((0,V.Wl)(Y)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Y),P&&(this.requestCBHash_[H]=P)}get(c){this.initConnection_();const v=new V.BH,P={p:c._path.toString(),q:c._queryObject};return this.outstandingGets_.push({action:"g",request:P,onComplete:pe=>{const Me=pe.d;"ok"===pe.s?v.resolve(Me):v.reject(Me)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),v.promise}listen(c,v,P,H){this.initConnection_();const Y=c._queryIdentifier,pe=c._path.toString();this.log_("Listen called for "+pe+" "+Y),this.listens.has(pe)||this.listens.set(pe,new Map),(0,V.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(pe).has(Y),"listen() called twice for same path/queryId.");const Me={onComplete:H,hashFn:v,query:c,tag:P};this.listens.get(pe).set(Y,Me),this.connected_&&this.sendListen_(Me)}sendGet_(c){const v=this.outstandingGets_[c];this.sendRequest("g",v.request,P=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),v.onComplete&&v.onComplete(P)})}sendListen_(c){const v=c.query,P=v._path.toString(),H=v._queryIdentifier;this.log_("Listen on "+P+" for "+H);const Y={p:P};c.tag&&(Y.q=v._queryObject,Y.t=c.tag),Y.h=c.hashFn(),this.sendRequest("q",Y,Me=>{const Fe=Me.d,vt=Me.s;h.warnOnListenWarnings_(Fe,v),(this.listens.get(P)&&this.listens.get(P).get(H))===c&&(this.log_("listen response",Me),"ok"!==vt&&this.removeListen_(P,H),c.onComplete&&c.onComplete(vt,Fe))})}static warnOnListenWarnings_(c,v){if(c&&"object"==typeof c&&(0,V.r3)(c,"w")){const P=(0,V.DV)(c,"w");if(Array.isArray(P)&&~P.indexOf("no_index")){const H='".indexOn": "'+v._queryParams.getIndex().toString()+'"',Y=v._path.toString();$t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${H} at ${Y} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,V.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,v=(0,V.w9)(c)?"auth":"gauth",P={cred:c};null===this.authOverride_?P.noauth=!0:"object"==typeof this.authOverride_&&(P.authvar=this.authOverride_),this.sendRequest(v,P,H=>{const Y=H.s,pe=H.d||"error";this.authToken_===c&&("ok"===Y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(Y,pe))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const v=c.s,P=c.d||"error";"ok"===v?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(v,P)})}unlisten(c,v){const P=c._path.toString(),H=c._queryIdentifier;this.log_("Unlisten called for "+P+" "+H),(0,V.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(P,H)&&this.connected_&&this.sendUnlisten_(P,H,c._queryObject,v)}sendUnlisten_(c,v,P,H){this.log_("Unlisten on "+c+" for "+v);const Y={p:c};H&&(Y.q=P,Y.t=H),this.sendRequest("n",Y)}onDisconnectPut(c,v,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,v,P):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:v,onComplete:P})}onDisconnectMerge(c,v,P){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,v,P):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:v,onComplete:P})}onDisconnectCancel(c,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:v})}sendOnDisconnect_(c,v,P,H){const Y={p:v,d:P};this.log_("onDisconnect "+c,Y),this.sendRequest(c,Y,pe=>{H&&setTimeout(()=>{H(pe.s,pe.d)},Math.floor(0))})}put(c,v,P,H){this.putInternal("p",c,v,P,H)}merge(c,v,P,H){this.putInternal("m",c,v,P,H)}putInternal(c,v,P,H,Y){this.initConnection_();const pe={p:v,d:P};void 0!==Y&&(pe.h=Y),this.outstandingPuts_.push({action:c,request:pe,onComplete:H}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)}sendPut_(c){const v=this.outstandingPuts_[c].action,P=this.outstandingPuts_[c].request,H=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,P,Y=>{this.log_(v+" response",Y),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),H&&H(Y.s,Y.d)})}reportStats(c){if(this.connected_){const v={c};this.log_("reportStats",v),this.sendRequest("s",v,P=>{"ok"!==P.s&&this.log_("reportStats","Error sending stats: "+P.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,V.Wl)(c));const v=c.r,P=this.requestCBHash_[v];P&&(delete this.requestCBHash_[v],P(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,v){this.log_("handleServerMessage",c,v),"d"===c?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===c?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===c?this.onListenRevoked_(v.p,v.q):"ac"===c?this.onAuthRevoked_(v.s,v.d):"apc"===c?this.onAppCheckRevoked_(v.s,v.d):"sd"===c?this.onSecurityDebugPacket_(v):Tt("Unrecognized action received from server: "+(0,V.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dr,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=Dr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Dr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let v=Math.max(0,this.reconnectDelay_-c);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,f.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const v=c.onDataMessage_.bind(c),P=c.onReady_.bind(c),H=c.onRealtimeDisconnect_.bind(c),Y=c.id+":"+h.nextConnectionId_++,pe=c.lastSessionId;let Me=!1,Fe=null;const vt=function(){Fe?Fe.close():(Me=!0,H())};c.realtime_={close:vt,sendRequest:function(_n){(0,V.hu)(Fe,"sendRequest call when we're not connected not allowed."),Fe.sendRequest(_n)}};const At=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[_n,Qn]=yield Promise.all([c.authTokenProvider_.getToken(At),c.appCheckTokenProvider_.getToken(At)]);Me?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),c.authToken_=_n&&_n.accessToken,c.appCheckToken_=Qn&&Qn.token,Fe=new hs(Y,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,v,P,H,pi=>{$t(pi+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},pe))}catch(_n){c.log_("Failed to get token: "+_n),Me||(c.repoInfo_.nodeAdmin&&$t(_n),vt())}}})()}interrupt(c){Be("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){Be("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Dr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const v=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const v=this.outstandingPuts_[c];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,v){let P;P=v?v.map(Y=>Vn(Y)).join("$"):"default";const H=this.removeListen_(c,P);H&&H.onComplete&&H.onComplete("permission_denied")}removeListen_(c,v){const P=new Rn(c).toString();let H;if(this.listens.has(P)){const Y=this.listens.get(P);H=Y.get(v),Y.delete(v),0===Y.size&&this.listens.delete(P)}else H=void 0;return H}onAuthRevoked_(c,v){Be("Auth token revoked: "+c+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,v){Be("App check token revoked: "+c+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const v of c.values())this.sendListen_(v);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let v="js";(0,V.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+v+"."+J.replace(/\./g,"-")]=1,(0,V.uI)()?c["framework.cordova"]=1:(0,V.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Hi.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Xn{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new Xn(u,c)}}class To{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const v=new Xn(at,u),P=new Xn(at,c);return 0!==this.compare(v,P)}minPost(){return Xn.MIN}}class fs extends To{static get __EMPTY_NODE(){return eo}static set __EMPTY_NODE(u){eo=u}compare(u,c){return Nt(u.name,c.name)}isDefinedOn(u){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return Xn.MIN}maxPost(){return new Xn(et,eo)}makePost(u,c){return(0,V.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Xn(u,eo)}toString(){return".key"}}const Ni=new fs;class Gi{constructor(u,c,v,P,H=null){this.isReverse_=P,this.resultGenerator_=H,this.nodeStack_=[];let Y=1;for(;!u.isEmpty();)if(Y=c?v(u.key,c):1,P&&(Y*=-1),Y<0)u=this.isReverse_?u.left:u.right;else{if(0===Y){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let no,Wi=(()=>{class h{constructor(c,v,P,H,Y){this.key=c,this.value=v,this.color=null!=P?P:h.RED,this.left=null!=H?H:er.EMPTY_NODE,this.right=null!=Y?Y:er.EMPTY_NODE}copy(c,v,P,H,Y){return new h(null!=c?c:this.key,null!=v?v:this.value,null!=P?P:this.color,null!=H?H:this.left,null!=Y?Y:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,v,P){let H=this;const Y=P(c,H.key);return H=Y<0?H.copy(null,null,null,H.left.insert(c,v,P),null):0===Y?H.copy(null,v,null,null,null):H.copy(null,null,null,null,H.right.insert(c,v,P)),H.fixUp_()}removeMin_(){if(this.left.isEmpty())return er.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,v){let P,H;if(P=this,v(c,P.key)<0)!P.left.isEmpty()&&!P.left.isRed_()&&!P.left.left.isRed_()&&(P=P.moveRedLeft_()),P=P.copy(null,null,null,P.left.remove(c,v),null);else{if(P.left.isRed_()&&(P=P.rotateRight_()),!P.right.isEmpty()&&!P.right.isRed_()&&!P.right.left.isRed_()&&(P=P.moveRedRight_()),0===v(c,P.key)){if(P.right.isEmpty())return er.EMPTY_NODE;H=P.right.min_(),P=P.copy(H.key,H.value,null,null,P.right.removeMin_())}P=P.copy(null,null,null,null,P.right.remove(c,v))}return P.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,v)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class er{constructor(u,c=er.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new er(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,Wi.BLACK,null,null))}remove(u){return new er(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,Wi.BLACK,null,null))}get(u){let c,v=this.root_;for(;!v.isEmpty();){if(c=this.comparator_(u,v.key),0===c)return v.value;c<0?v=v.left:c>0&&(v=v.right)}return null}getPredecessorKey(u){let c,v=this.root_,P=null;for(;!v.isEmpty();){if(c=this.comparator_(u,v.key),0===c){if(v.left.isEmpty())return P?P.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}c<0?v=v.left:c>0&&(P=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new Gi(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new Gi(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new Gi(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new Gi(this.root_,null,this.comparator_,!0,u)}}function to(h,u){return Nt(h.name,u.name)}function Ds(h,u){return Nt(h,u)}er.EMPTY_NODE=new class Ys{copy(u,c,v,P,H){return this}insert(u,c,v){return new Wi(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ro=function(h){return"number"==typeof h?"number:"+pr(h):"string:"+h},Vo=function(h){if(h.isLeafNode()){const u=h.val();(0,V.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,V.r3)(u,".sv"),"Priority must be a string or number.")}else(0,V.hu)(h===no||h.isEmpty(),"priority of unexpected type.");(0,V.hu)(h===no||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Bo,qa,ri,Si=(()=>{class h{constructor(c,v=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=v,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Vo(this.priorityNode_)}static set __childrenNodeConstructor(c){Bo=c}static get __childrenNodeConstructor(){return Bo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return Ln(c)?this:".priority"===bn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,v){return null}updateImmediateChild(c,v){return".priority"===c?this.updatePriority(v):v.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,v).updatePriority(this.priorityNode_)}updateChild(c,v){const P=bn(c);return null===P?v:v.isEmpty()&&".priority"!==P?this:((0,V.hu)(".priority"!==P||1===Ri(c),".priority must be the last token in a path"),this.updateImmediateChild(P,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(wn(c),v)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,v){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+ro(this.priorityNode_.val())+":");const v=typeof this.value_;c+=v+":",c+="number"===v?pr(this.value_):this.value_,this.lazyHash_=We(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,V.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const v=typeof c.value_,P=typeof this.value_,H=h.VALUE_TYPE_ORDER.indexOf(v),Y=h.VALUE_TYPE_ORDER.indexOf(P);return(0,V.hu)(H>=0,"Unknown leaf type: "+v),(0,V.hu)(Y>=0,"Unknown leaf type: "+P),H===Y?"object"===P?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:Y-H}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const v=c;return this.value_===v.value_&&this.priorityNode_.equals(v.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Br=new class ll extends To{compare(u,c){const v=u.node.getPriority(),P=c.node.getPriority(),H=v.compareTo(P);return 0===H?Nt(u.name,c.name):H}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return Xn.MIN}maxPost(){return new Xn(et,new Si("[PRIORITY-POST]",ri))}makePost(u,c){const v=qa(u);return new Xn(c,new Si("[PRIORITY-POST]",v))}toString(){return".priority"}},fo=Math.log(2);class Ki{constructor(u){this.count=parseInt(Math.log(u+1)/fo,10),this.current_=this.count-1;const P=(H=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&P}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const So=function(h,u,c,v){h.sort(u);const P=function(Me,Fe){const vt=Fe-Me;let Ct,At;if(0===vt)return null;if(1===vt)return Ct=h[Me],At=c?c(Ct):Ct,new Wi(At,Ct.node,Wi.BLACK,null,null);{const _n=parseInt(vt/2,10)+Me,Qn=P(Me,_n),pi=P(_n+1,Fe);return Ct=h[_n],At=c?c(Ct):Ct,new Wi(At,Ct.node,Wi.BLACK,Qn,pi)}},pe=function(Me){let Fe=null,vt=null,Ct=h.length;const At=function(Qn,pi){const Xo=Ct-Qn,Yl=Ct;Ct-=Qn;const Ms=P(Xo+1,Yl),bc=h[Xo],wd=c?c(bc):bc;_n(new Wi(wd,bc.node,pi,null,Ms))},_n=function(Qn){Fe?(Fe.left=Qn,Fe=Qn):(vt=Qn,Fe=Qn)};for(let Qn=0;Qn<Me.count;++Qn){const pi=Me.nextBitIsOne(),Xo=Math.pow(2,Me.count-(Qn+1));pi?At(Xo,Wi.BLACK):(At(Xo,Wi.BLACK),At(Xo,Wi.RED))}return vt}(new Ki(h.length));return new er(v||u,pe)};let xa;const js={};class oi{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,V.hu)(js&&Br,"ChildrenNode.ts has not been loaded"),xa=xa||new oi({".priority":js},{".priority":Br}),xa}get(u){const c=(0,V.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof er?c:null}hasIndex(u){return(0,V.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,V.hu)(u!==Ni,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let P=!1;const H=c.getIterator(Xn.Wrap);let pe,Y=H.getNext();for(;Y;)P=P||u.isDefinedOn(Y.node),v.push(Y),Y=H.getNext();pe=P?So(v,u.getCompare()):js;const Me=u.toString(),Fe=Object.assign({},this.indexSet_);Fe[Me]=u;const vt=Object.assign({},this.indexes_);return vt[Me]=pe,new oi(vt,Fe)}addToIndexes(u,c){const v=(0,V.UI)(this.indexes_,(P,H)=>{const Y=(0,V.DV)(this.indexSet_,H);if((0,V.hu)(Y,"Missing index implementation for "+H),P===js){if(Y.isDefinedOn(u.node)){const pe=[],Me=c.getIterator(Xn.Wrap);let Fe=Me.getNext();for(;Fe;)Fe.name!==u.name&&pe.push(Fe),Fe=Me.getNext();return pe.push(u),So(pe,Y.getCompare())}return js}{const pe=c.get(u.name);let Me=P;return pe&&(Me=Me.remove(new Xn(u.name,pe))),Me.insert(u,u.node)}});return new oi(v,this.indexSet_)}removeFromIndexes(u,c){const v=(0,V.UI)(this.indexes_,P=>{if(P===js)return P;{const H=c.get(u.name);return H?P.remove(new Xn(u.name,H)):P}});return new oi(v,this.indexSet_)}}let Ci,En=(()=>{class h{constructor(c,v,P){this.children_=c,this.priorityNode_=v,this.indexMap_=P,this.lazyHash_=null,this.priorityNode_&&Vo(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ci||(Ci=new h(new er(Ds),null,oi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ci}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const v=this.children_.get(c);return null===v?Ci:v}}getChild(c){const v=bn(c);return null===v?this:this.getImmediateChild(v).getChild(wn(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,v){if((0,V.hu)(v,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(v);{const P=new Xn(c,v);let H,Y;v.isEmpty()?(H=this.children_.remove(c),Y=this.indexMap_.removeFromIndexes(P,this.children_)):(H=this.children_.insert(c,v),Y=this.indexMap_.addToIndexes(P,this.children_));const pe=H.isEmpty()?Ci:this.priorityNode_;return new h(H,pe,Y)}}updateChild(c,v){const P=bn(c);if(null===P)return v;{(0,V.hu)(".priority"!==bn(c)||1===Ri(c),".priority must be the last token in a path");const H=this.getImmediateChild(P).updateChild(wn(c),v);return this.updateImmediateChild(P,H)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const v={};let P=0,H=0,Y=!0;if(this.forEachChild(Br,(pe,Me)=>{v[pe]=Me.val(c),P++,Y&&h.INTEGER_REGEXP_.test(pe)?H=Math.max(H,Number(pe)):Y=!1}),!c&&Y&&H<2*P){const pe=[];for(const Me in v)pe[Me]=v[Me];return pe}return c&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+ro(this.getPriority().val())+":"),this.forEachChild(Br,(v,P)=>{const H=P.hash();""!==H&&(c+=":"+v+":"+H)}),this.lazyHash_=""===c?"":We(c)}return this.lazyHash_}getPredecessorChildName(c,v,P){const H=this.resolveIndex_(P);if(H){const Y=H.getPredecessorKey(new Xn(c,v));return Y?Y.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const v=this.resolveIndex_(c);if(v){const P=v.minKey();return P&&P.name}return this.children_.minKey()}getFirstChild(c){const v=this.getFirstChildName(c);return v?new Xn(v,this.children_.get(v)):null}getLastChildName(c){const v=this.resolveIndex_(c);if(v){const P=v.maxKey();return P&&P.name}return this.children_.maxKey()}getLastChild(c){const v=this.getLastChildName(c);return v?new Xn(v,this.children_.get(v)):null}forEachChild(c,v){const P=this.resolveIndex_(c);return P?P.inorderTraversal(H=>v(H.name,H.node)):this.children_.inorderTraversal(v)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,v){const P=this.resolveIndex_(v);if(P)return P.getIteratorFrom(c,H=>H);{const H=this.children_.getIteratorFrom(c.name,Xn.Wrap);let Y=H.peek();for(;null!=Y&&v.compare(Y,c)<0;)H.getNext(),Y=H.peek();return H}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,v){const P=this.resolveIndex_(v);if(P)return P.getReverseIteratorFrom(c,H=>H);{const H=this.children_.getReverseIteratorFrom(c.name,Xn.Wrap);let Y=H.peek();for(;null!=Y&&v.compare(Y,c)>0;)H.getNext(),Y=H.peek();return H}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===ur?-1:0}withIndex(c){if(c===Ni||this.indexMap_.hasIndex(c))return this;{const v=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,v)}}isIndexed(c){return c===Ni||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const v=c;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){const P=this.getIterator(Br),H=v.getIterator(Br);let Y=P.getNext(),pe=H.getNext();for(;Y&&pe;){if(Y.name!==pe.name||!Y.node.equals(pe.node))return!1;Y=P.getNext(),pe=H.getNext()}return null===Y&&null===pe}return!1}return!1}}resolveIndex_(c){return c===Ni?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const ur=new class jo extends En{constructor(){super(new er(Ds),En.EMPTY_NODE,oi.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return En.EMPTY_NODE}isEmpty(){return!1}};function Pr(h,u=null){if(null===h)return En.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,V.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Si(h,Pr(u));if(h instanceof Array){let c=En.EMPTY_NODE;return Mt(h,(v,P)=>{if((0,V.r3)(h,v)&&"."!==v.substring(0,1)){const H=Pr(P);(H.isLeafNode()||!H.isEmpty())&&(c=c.updateImmediateChild(v,H))}}),c.updatePriority(Pr(u))}{const c=[];let v=!1;if(Mt(h,(Y,pe)=>{if("."!==Y.substring(0,1)){const Me=Pr(pe);Me.isEmpty()||(v=v||!Me.getPriority().isEmpty(),c.push(new Xn(Y,Me)))}}),0===c.length)return En.EMPTY_NODE;const H=So(c,to,Y=>Y.name,Ds);if(v){const Y=So(c,Br.getCompare());return new En(H,Pr(u),new oi({".priority":Y},{".priority":Br}))}return new En(H,Pr(u),oi.Default)}}Object.defineProperties(Xn,{MIN:{value:new Xn(at,En.EMPTY_NODE)},MAX:{value:new Xn(et,ur)}}),fs.__EMPTY_NODE=En.EMPTY_NODE,Si.__childrenNodeConstructor=En,function Uo(h){no=h}(ur),function Ra(h){ri=h}(ur),function Bs(h){qa=h}(Pr);class La extends To{constructor(u){super(),this.indexPath_=u,(0,V.hu)(!Ln(u)&&".priority"!==bn(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const v=this.extractChild(u.node),P=this.extractChild(c.node),H=v.compareTo(P);return 0===H?Nt(u.name,c.name):H}makePost(u,c){const v=Pr(u),P=En.EMPTY_NODE.updateChild(this.indexPath_,v);return new Xn(c,P)}maxPost(){const u=En.EMPTY_NODE.updateChild(this.indexPath_,ur);return new Xn(et,u)}toString(){return _i(this.indexPath_,0).join("/")}}const Ho=new class Hs extends To{compare(u,c){const v=u.node.compareTo(c.node);return 0===v?Nt(u.name,c.name):v}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return Xn.MIN}maxPost(){return Xn.MAX}makePost(u,c){const v=Pr(u);return new Xn(c,v)}toString(){return".value"}};function Qs(h){return{type:"value",snapshotNode:h}}function Dn(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function Cs(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function ia(h,u,c){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:c}}class Ls{constructor(u){this.index_=u}updateChild(u,c,v,P,H,Y){(0,V.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const pe=u.getImmediateChild(c);return pe.getChild(P).equals(v.getChild(P))&&pe.isEmpty()===v.isEmpty()||(null!=Y&&(v.isEmpty()?u.hasChild(c)?Y.trackChildChange(Cs(c,pe)):(0,V.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):pe.isEmpty()?Y.trackChildChange(Dn(c,v)):Y.trackChildChange(ia(c,v,pe))),u.isLeafNode()&&v.isEmpty())?u:u.updateImmediateChild(c,v).withIndex(this.index_)}updateFullNode(u,c,v){return null!=v&&(u.isLeafNode()||u.forEachChild(Br,(P,H)=>{c.hasChild(P)||v.trackChildChange(Cs(P,H))}),c.isLeafNode()||c.forEachChild(Br,(P,H)=>{if(u.hasChild(P)){const Y=u.getImmediateChild(P);Y.equals(H)||v.trackChildChange(ia(P,H,Y))}else v.trackChildChange(Dn(P,H))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?En.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Is{constructor(u){this.indexedFilter_=new Ls(u.getIndex()),this.index_=u.getIndex(),this.startPost_=Is.getStartPost_(u),this.endPost_=Is.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,v=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return c&&v}updateChild(u,c,v,P,H,Y){return this.matches(new Xn(c,v))||(v=En.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,v,P,H,Y)}updateFullNode(u,c,v){c.isLeafNode()&&(c=En.EMPTY_NODE);let P=c.withIndex(this.index_);P=P.updatePriority(En.EMPTY_NODE);const H=this;return c.forEachChild(Br,(Y,pe)=>{H.matches(new Xn(Y,pe))||(P=P.updateImmediateChild(Y,En.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,P,v)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class po{constructor(u){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const v=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?v<=0:v<0},this.withinEndPost=c=>{const v=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?v<=0:v<0},this.rangedFilter_=new Is(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,c,v,P,H,Y){return this.rangedFilter_.matches(new Xn(c,v))||(v=En.EMPTY_NODE),u.getImmediateChild(c).equals(v)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,v,P,H,Y):this.fullLimitUpdateChild_(u,c,v,H,Y)}updateFullNode(u,c,v){let P;if(c.isLeafNode()||c.isEmpty())P=En.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let H;P=En.EMPTY_NODE.withIndex(this.index_),H=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Y=0;for(;H.hasNext()&&Y<this.limit_;){const pe=H.getNext();if(this.withinDirectionalStart(pe)){if(!this.withinDirectionalEnd(pe))break;P=P.updateImmediateChild(pe.name,pe.node),Y++}}}else{let H;P=c.withIndex(this.index_),P=P.updatePriority(En.EMPTY_NODE),H=this.reverse_?P.getReverseIterator(this.index_):P.getIterator(this.index_);let Y=0;for(;H.hasNext();){const pe=H.getNext();Y<this.limit_&&this.withinDirectionalStart(pe)&&this.withinDirectionalEnd(pe)?Y++:P=P.updateImmediateChild(pe.name,En.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,P,v)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,v,P,H){let Y;if(this.reverse_){const Ct=this.index_.getCompare();Y=(At,_n)=>Ct(_n,At)}else Y=this.index_.getCompare();const pe=u;(0,V.hu)(pe.numChildren()===this.limit_,"");const Me=new Xn(c,v),Fe=this.reverse_?pe.getFirstChild(this.index_):pe.getLastChild(this.index_),vt=this.rangedFilter_.matches(Me);if(pe.hasChild(c)){const Ct=pe.getImmediateChild(c);let At=P.getChildAfterChild(this.index_,Fe,this.reverse_);for(;null!=At&&(At.name===c||pe.hasChild(At.name));)At=P.getChildAfterChild(this.index_,At,this.reverse_);const _n=null==At?1:Y(At,Me);if(vt&&!v.isEmpty()&&_n>=0)return null!=H&&H.trackChildChange(ia(c,v,Ct)),pe.updateImmediateChild(c,v);{null!=H&&H.trackChildChange(Cs(c,Ct));const pi=pe.updateImmediateChild(c,En.EMPTY_NODE);return null!=At&&this.rangedFilter_.matches(At)?(null!=H&&H.trackChildChange(Dn(At.name,At.node)),pi.updateImmediateChild(At.name,At.node)):pi}}return v.isEmpty()?u:vt&&Y(Fe,Me)>=0?(null!=H&&(H.trackChildChange(Cs(Fe.name,Fe.node)),H.trackChildChange(Dn(c,v))),pe.updateImmediateChild(c,v).updateImmediateChild(Fe.name,En.EMPTY_NODE)):u}}class ii{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Br}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:at}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:et}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Br}copy(){const u=new ii;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function L(h){const u={};if(h.isDefault())return u;let c;if(h.index_===Br?c="$priority":h.index_===Ho?c="$value":h.index_===Ni?c="$key":((0,V.hu)(h.index_ instanceof La,"Unrecognized index type!"),c=h.index_.toString()),u.orderBy=(0,V.Wl)(c),h.startSet_){const v=h.startAfterSet_?"startAfter":"startAt";u[v]=(0,V.Wl)(h.indexStartValue_),h.startNameSet_&&(u[v]+=","+(0,V.Wl)(h.indexStartName_))}if(h.endSet_){const v=h.endBeforeSet_?"endBefore":"endAt";u[v]=(0,V.Wl)(h.indexEndValue_),h.endNameSet_&&(u[v]+=","+(0,V.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function ie(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),u.vf=c}return h.index_!==Br&&(u.i=h.index_.toString()),u}class dt extends Mr{constructor(u,c,v,P){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=v,this.appCheckTokenProvider_=P,this.log_=Dt("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,V.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,v,P){const H=u._path.toString();this.log_("Listen called for "+H+" "+u._queryIdentifier);const Y=dt.getListenId_(u,v),pe={};this.listens_[Y]=pe;const Me=L(u._queryParams);this.restRequest_(H+".json",Me,(Fe,vt)=>{let Ct=vt;if(404===Fe&&(Ct=null,Fe=null),null===Fe&&this.onDataUpdate_(H,Ct,!1,v),(0,V.DV)(this.listens_,Y)===pe){let At;At=Fe?401===Fe?"permission_denied":"rest_error:"+Fe:"ok",P(At,null)}})}unlisten(u,c){const v=dt.getListenId_(u,c);delete this.listens_[v]}get(u){const c=L(u._queryParams),v=u._path.toString(),P=new V.BH;return this.restRequest_(v+".json",c,(H,Y)=>{let pe=Y;404===H&&(pe=null,H=null),null===H?(this.onDataUpdate_(v,pe,!1,null),P.resolve(pe)):P.reject(new Error(pe))}),P.promise}refreshAuthToken(u){}restRequest_(u,c={},v){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([P,H])=>{P&&P.accessToken&&(c.auth=P.accessToken),H&&H.token&&(c.ac=H.token);const Y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,V.xO)(c);this.log_("Sending REST request for "+Y);const pe=new XMLHttpRequest;pe.onreadystatechange=()=>{if(v&&4===pe.readyState){this.log_("REST Response for "+Y+" received. status:",pe.status,"response:",pe.responseText);let Me=null;if(pe.status>=200&&pe.status<300){try{Me=(0,V.cI)(pe.responseText)}catch(Fe){$t("Failed to parse JSON response for "+Y+": "+pe.responseText)}v(null,Me)}else 401!==pe.status&&404!==pe.status&&$t("Got unsuccessful REST response for "+Y+" Status: "+pe.status),v(pe.status);v=null}},pe.open("GET",Y,!0),pe.send()})}}class en{constructor(){this.rootNode_=En.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function bi(){return{value:null,children:new Map}}function es(h,u,c){if(Ln(u))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,c);else{const v=bn(u);h.children.has(v)||h.children.set(v,bi()),es(h.children.get(v),u=wn(u),c)}}function io(h,u){if(Ln(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(Br,(v,P)=>{es(h,new Rn(v),P)}),io(h,u)}}if(h.children.size>0){const c=bn(u);return u=wn(u),h.children.has(c)&&io(h.children.get(c),u)&&h.children.delete(c),0===h.children.size}return!0}function Qr(h,u,c){null!==h.value?c(u,h.value):function Ai(h,u){h.children.forEach((c,v)=>{u(v,c)})}(h,(v,P)=>{Qr(P,new Rn(u.toString()+"/"+v),c)})}class go{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&Mt(this.last_,(v,P)=>{c[v]=c[v]-P}),this.last_=u,c}}class oa{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new go(u);const v=1e4+2e4*Math.random();ni(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const u=this.statsListener_.get(),c={};let v=!1;Mt(u,(P,H)=>{H>0&&(0,V.r3)(this.statsToReport_,P)&&(c[P]=H,v=!0)}),v&&this.server_.reportStats(c),ni(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fs=(()=>{return(h=Fs||(Fs={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Fs;var h})();function Ua(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class Go{constructor(u,c,v){this.path=u,this.affectedTree=c,this.revert=v,this.type=Fs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(Ln(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new Rn(u));return new Go(In(),c,this.revert)}}return(0,V.hu)(bn(this.path)===u,"operationForChild called for unrelated child."),new Go(wn(this.path),this.affectedTree,this.revert)}}class Wo{constructor(u,c){this.source=u,this.path=c,this.type=Fs.LISTEN_COMPLETE}operationForChild(u){return Ln(this.path)?new Wo(this.source,In()):new Wo(this.source,wn(this.path))}}class _o{constructor(u,c,v){this.source=u,this.path=c,this.snap=v,this.type=Fs.OVERWRITE}operationForChild(u){return Ln(this.path)?new _o(this.source,In(),this.snap.getImmediateChild(u)):new _o(this.source,wn(this.path),this.snap)}}class Mo{constructor(u,c,v){this.source=u,this.path=c,this.children=v,this.type=Fs.MERGE}operationForChild(u){if(Ln(this.path)){const c=this.children.subtree(new Rn(u));return c.isEmpty()?null:c.value?new _o(this.source,In(),c.value):new Mo(this.source,In(),c)}return(0,V.hu)(bn(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Mo(this.source,wn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ps{constructor(u,c,v){this.node_=u,this.fullyInitialized_=c,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(Ln(u))return this.isFullyInitialized()&&!this.filtered_;const c=bn(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class _a{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function Oo(h,u,c,v,P,H){const Y=v.filter(pe=>pe.type===c);Y.sort((pe,Me)=>function q(h,u,c){if(null==u.childName||null==c.childName)throw(0,V.g5)("Should only compare child_ events.");const v=new Xn(u.childName,u.snapshotNode),P=new Xn(c.childName,c.snapshotNode);return h.index_.compare(v,P)}(h,pe,Me)),Y.forEach(pe=>{const Me=function k(h,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,pe,H);P.forEach(Fe=>{Fe.respondsTo(pe.type)&&u.push(Fe.createEvent(Me,h.query_))})})}function B(h,u){return{eventCache:h,serverCache:u}}function se(h,u,c,v){return B(new Ps(u,c,v),h.serverCache)}function De(h,u,c,v){return B(h.eventCache,new Ps(u,c,v))}function rt(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function ft(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let tn;class Mn{constructor(u,c=(()=>(tn||(tn=new er(bt)),tn))()){this.value=u,this.children=c}static fromObject(u){let c=new Mn(null);return Mt(u,(v,P)=>{c=c.set(new Rn(v),P)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:In(),value:this.value};if(Ln(u))return null;{const v=bn(u),P=this.children.get(v);if(null!==P){const H=P.findRootMostMatchingPathAndValue(wn(u),c);return null!=H?{path:Tr(new Rn(v),H.path),value:H.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(Ln(u))return this;{const c=bn(u),v=this.children.get(c);return null!==v?v.subtree(wn(u)):new Mn(null)}}set(u,c){if(Ln(u))return new Mn(c,this.children);{const v=bn(u),H=(this.children.get(v)||new Mn(null)).set(wn(u),c),Y=this.children.insert(v,H);return new Mn(this.value,Y)}}remove(u){if(Ln(u))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const c=bn(u),v=this.children.get(c);if(v){const P=v.remove(wn(u));let H;return H=P.isEmpty()?this.children.remove(c):this.children.insert(c,P),null===this.value&&H.isEmpty()?new Mn(null):new Mn(this.value,H)}return this}}get(u){if(Ln(u))return this.value;{const c=bn(u),v=this.children.get(c);return v?v.get(wn(u)):null}}setTree(u,c){if(Ln(u))return c;{const v=bn(u),H=(this.children.get(v)||new Mn(null)).setTree(wn(u),c);let Y;return Y=H.isEmpty()?this.children.remove(v):this.children.insert(v,H),new Mn(this.value,Y)}}fold(u){return this.fold_(In(),u)}fold_(u,c){const v={};return this.children.inorderTraversal((P,H)=>{v[P]=H.fold_(Tr(u,P),c)}),c(u,this.value,v)}findOnPath(u,c){return this.findOnPath_(u,In(),c)}findOnPath_(u,c,v){const P=!!this.value&&v(c,this.value);if(P)return P;if(Ln(u))return null;{const H=bn(u),Y=this.children.get(H);return Y?Y.findOnPath_(wn(u),Tr(c,H),v):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,In(),c)}foreachOnPath_(u,c,v){if(Ln(u))return this;{this.value&&v(c,this.value);const P=bn(u),H=this.children.get(P);return H?H.foreachOnPath_(wn(u),Tr(c,P),v):new Mn(null)}}foreach(u){this.foreach_(In(),u)}foreach_(u,c){this.children.inorderTraversal((v,P)=>{P.foreach_(Tr(u,v),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,v)=>{v.value&&u(c,v.value)})}}class hr{constructor(u){this.writeTree_=u}static empty(){return new hr(new Mn(null))}}function ar(h,u,c){if(Ln(u))return new hr(new Mn(c));{const v=h.writeTree_.findRootMostValueAndPath(u);if(null!=v){const P=v.path;let H=v.value;const Y=kr(P,u);return H=H.updateChild(Y,c),new hr(h.writeTree_.set(P,H))}{const P=new Mn(c),H=h.writeTree_.setTree(u,P);return new hr(H)}}}function Li(h,u,c){let v=h;return Mt(c,(P,H)=>{v=ar(v,Tr(u,P),H)}),v}function br(h,u){if(Ln(u))return hr.empty();{const c=h.writeTree_.setTree(u,new Mn(null));return new hr(c)}}function ts(h,u){return null!=ws(h,u)}function ws(h,u){const c=h.writeTree_.findRootMostValueAndPath(u);return null!=c?h.writeTree_.get(c.path).getChild(kr(c.path,u)):null}function Zr(h){const u=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Br,(v,P)=>{u.push(new Xn(v,P))}):h.writeTree_.children.inorderTraversal((v,P)=>{null!=P.value&&u.push(new Xn(v,P.value))}),u}function Mi(h,u){if(Ln(u))return h;{const c=ws(h,u);return new hr(null!=c?new Mn(c):h.writeTree_.subtree(u))}}function ls(h){return h.writeTree_.isEmpty()}function ps(h,u){return ya(In(),h.writeTree_,u)}function ya(h,u,c){if(null!=u.value)return c.updateChild(h,u.value);{let v=null;return u.children.inorderTraversal((P,H)=>{".priority"===P?((0,V.hu)(null!==H.value,"Priority writes must always be leaf nodes"),v=H.value):c=ya(Tr(h,P),H,c)}),!c.getChild(h).isEmpty()&&null!==v&&(c=c.updateChild(Tr(h,".priority"),v)),c}}function Lt(h,u){return Rs(u,h)}function Tn(h,u){if(h.snap)return it(h.path,u);for(const c in h.children)if(h.children.hasOwnProperty(c)&&it(Tr(h.path,c),u))return!0;return!1}function Zt(h){return h.visible}function ut(h,u,c){let v=hr.empty();for(let P=0;P<h.length;++P){const H=h[P];if(u(H)){const Y=H.path;let pe;if(H.snap)it(c,Y)?(pe=kr(c,Y),v=ar(v,pe,H.snap)):it(Y,c)&&(pe=kr(Y,c),v=ar(v,In(),H.snap.getChild(pe)));else{if(!H.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(it(c,Y))pe=kr(c,Y),v=Li(v,pe,H.children);else if(it(Y,c))if(pe=kr(Y,c),Ln(pe))v=Li(v,In(),H.children);else{const Me=(0,V.DV)(H.children,bn(pe));if(Me){const Fe=Me.getChild(wn(pe));v=ar(v,In(),Fe)}}}}}return v}function wt(h,u,c,v,P){if(v||P){const H=Mi(h.visibleWrites,u);return!P&&ls(H)?c:P||null!=c||ts(H,In())?ps(ut(h.allWrites,function(Fe){return(Fe.visible||P)&&(!v||!~v.indexOf(Fe.writeId))&&(it(Fe.path,u)||it(u,Fe.path))},u),c||En.EMPTY_NODE):null}{const H=ws(h.visibleWrites,u);if(null!=H)return H;{const Y=Mi(h.visibleWrites,u);return ls(Y)?c:null!=c||ts(Y,In())?ps(Y,c||En.EMPTY_NODE):null}}}function ks(h,u,c,v){return wt(h.writeTree,h.treePath,u,c,v)}function aa(h,u){return function Ts(h,u,c){let v=En.EMPTY_NODE;const P=ws(h.visibleWrites,u);if(P)return P.isLeafNode()||P.forEachChild(Br,(H,Y)=>{v=v.updateImmediateChild(H,Y)}),v;if(c){const H=Mi(h.visibleWrites,u);return c.forEachChild(Br,(Y,pe)=>{const Me=ps(Mi(H,new Rn(Y)),pe);v=v.updateImmediateChild(Y,Me)}),Zr(H).forEach(Y=>{v=v.updateImmediateChild(Y.name,Y.node)}),v}return Zr(Mi(h.visibleWrites,u)).forEach(Y=>{v=v.updateImmediateChild(Y.name,Y.node)}),v}(h.writeTree,h.treePath,u)}function Po(h,u,c,v){return function Ja(h,u,c,v,P){(0,V.hu)(v||P,"Either existingEventSnap or existingServerSnap must exist");const H=Tr(u,c);if(ts(h.visibleWrites,H))return null;{const Y=Mi(h.visibleWrites,H);return ls(Y)?P.getChild(c):ps(Y,P.getChild(c))}}(h.writeTree,h.treePath,u,c,v)}function Bl(h,u){return function Ko(h,u){return ws(h.visibleWrites,u)}(h.writeTree,Tr(h.treePath,u))}function Tl(h,u,c){return function Oi(h,u,c,v){const P=Tr(u,c),H=ws(h.visibleWrites,P);return null!=H?H:v.isCompleteForChild(c)?ps(Mi(h.visibleWrites,P),v.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,u,c)}function nr(h,u){return Rs(Tr(h.treePath,u),h.writeTree)}function Rs(h,u){return{treePath:h,writeTree:u}}class _u{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,v=u.childName;(0,V.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const P=this.changeMap.get(v);if(P){const H=P.type;if("child_added"===c&&"child_removed"===H)this.changeMap.set(v,ia(v,u.snapshotNode,P.snapshotNode));else if("child_removed"===c&&"child_added"===H)this.changeMap.delete(v);else if("child_removed"===c&&"child_changed"===H)this.changeMap.set(v,Cs(v,P.oldSnap));else if("child_changed"===c&&"child_added"===H)this.changeMap.set(v,Dn(v,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==H)throw(0,V.g5)("Illegal combination of changes: "+u+" occurred after "+P);this.changeMap.set(v,ia(v,u.snapshotNode,P.oldSnap))}}else this.changeMap.set(v,u)}getChanges(){return Array.from(this.changeMap.values())}}const Sn=new class ui{getCompleteChild(u){return null}getChildAfterChild(u,c,v){return null}};class la{constructor(u,c,v=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=v}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const v=null!=this.optCompleteServerCache_?new Ps(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tl(this.writes_,u,v)}}getChildAfterChild(u,c,v){const P=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ft(this.viewCache_),H=function wl(h,u,c,v,P,H){return function qs(h,u,c,v,P,H,Y){let pe;const Me=Mi(h.visibleWrites,u),Fe=ws(Me,In());if(null!=Fe)pe=Fe;else{if(null==c)return[];pe=ps(Me,c)}if(pe=pe.withIndex(Y),pe.isEmpty()||pe.isLeafNode())return[];{const vt=[],Ct=Y.getCompare(),At=H?pe.getReverseIteratorFrom(v,Y):pe.getIteratorFrom(v,Y);let _n=At.getNext();for(;_n&&vt.length<P;)0!==Ct(_n,v)&&vt.push(_n),_n=At.getNext();return vt}}(h.writeTree,h.treePath,u,c,v,P,H)}(this.writes_,P,c,1,v,u);return 0===H.length?null:H[0]}}function zo(h,u,c,v,P,H){const Y=u.eventCache;if(null!=Bl(v,c))return u;{let pe,Me;if(Ln(c))if((0,V.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Fe=ft(u),Ct=aa(v,Fe instanceof En?Fe:En.EMPTY_NODE);pe=h.filter.updateFullNode(u.eventCache.getNode(),Ct,H)}else{const Fe=ks(v,ft(u));pe=h.filter.updateFullNode(u.eventCache.getNode(),Fe,H)}else{const Fe=bn(c);if(".priority"===Fe){(0,V.hu)(1===Ri(c),"Can't have a priority with additional path components");const vt=Y.getNode();Me=u.serverCache.getNode();const Ct=Po(v,c,vt,Me);pe=null!=Ct?h.filter.updatePriority(vt,Ct):Y.getNode()}else{const vt=wn(c);let Ct;if(Y.isCompleteForChild(Fe)){Me=u.serverCache.getNode();const At=Po(v,c,Y.getNode(),Me);Ct=null!=At?Y.getNode().getImmediateChild(Fe).updateChild(vt,At):Y.getNode().getImmediateChild(Fe)}else Ct=Tl(v,Fe,u.serverCache);pe=null!=Ct?h.filter.updateChild(Y.getNode(),Fe,Ct,vt,P,H):Y.getNode()}}return se(u,pe,Y.isFullyInitialized()||Ln(c),h.filter.filtersNodes())}}function va(h,u,c,v,P,H,Y,pe){const Me=u.serverCache;let Fe;const vt=Y?h.filter:h.filter.getIndexedFilter();if(Ln(c))Fe=vt.updateFullNode(Me.getNode(),v,null);else if(vt.filtersNodes()&&!Me.isFiltered()){const _n=Me.getNode().updateChild(c,v);Fe=vt.updateFullNode(Me.getNode(),_n,null)}else{const _n=bn(c);if(!Me.isCompleteForPath(c)&&Ri(c)>1)return u;const Qn=wn(c),Xo=Me.getNode().getImmediateChild(_n).updateChild(Qn,v);Fe=".priority"===_n?vt.updatePriority(Me.getNode(),Xo):vt.updateChild(Me.getNode(),_n,Xo,Qn,Sn,null)}const Ct=De(u,Fe,Me.isFullyInitialized()||Ln(c),vt.filtersNodes());return zo(h,Ct,c,P,new la(P,Ct,H),pe)}function vo(h,u,c,v,P,H,Y){const pe=u.eventCache;let Me,Fe;const vt=new la(P,u,H);if(Ln(c))Fe=h.filter.updateFullNode(u.eventCache.getNode(),v,Y),Me=se(u,Fe,!0,h.filter.filtersNodes());else{const Ct=bn(c);if(".priority"===Ct)Fe=h.filter.updatePriority(u.eventCache.getNode(),v),Me=se(u,Fe,pe.isFullyInitialized(),pe.isFiltered());else{const At=wn(c),_n=pe.getNode().getImmediateChild(Ct);let Qn;if(Ln(At))Qn=v;else{const pi=vt.getCompleteChild(Ct);Qn=null!=pi?".priority"===wo(At)&&pi.getChild(Or(At)).isEmpty()?pi:pi.updateChild(At,v):En.EMPTY_NODE}Me=_n.equals(Qn)?u:se(u,h.filter.updateChild(pe.getNode(),Ct,Qn,At,vt,Y),pe.isFullyInitialized(),h.filter.filtersNodes())}}return Me}function yu(h,u){return h.eventCache.isCompleteForChild(u)}function Yo(h,u,c){return c.foreach((v,P)=>{u=u.updateChild(v,P)}),u}function cl(h,u,c,v,P,H,Y,pe){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Fe,Me=u;Fe=Ln(c)?v:new Mn(null).setTree(c,v);const vt=u.serverCache.getNode();return Fe.children.inorderTraversal((Ct,At)=>{if(vt.hasChild(Ct)){const Qn=Yo(0,u.serverCache.getNode().getImmediateChild(Ct),At);Me=va(h,Me,new Rn(Ct),Qn,P,H,Y,pe)}}),Fe.children.inorderTraversal((Ct,At)=>{const _n=!u.serverCache.isCompleteForChild(Ct)&&null===At.value;if(!vt.hasChild(Ct)&&!_n){const pi=Yo(0,u.serverCache.getNode().getImmediateChild(Ct),At);Me=va(h,Me,new Rn(Ct),pi,P,H,Y,pe)}}),Me}class Ea{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const v=this.query_._queryParams,P=new Ls(v.getIndex()),H=function ma(h){return h.loadsAllData()?new Ls(h.getIndex()):h.hasLimit()?new po(h):new Is(h)}(v);this.processor_=function vr(h){return{filter:h}}(H);const Y=c.serverCache,pe=c.eventCache,Me=P.updateFullNode(En.EMPTY_NODE,Y.getNode(),null),Fe=H.updateFullNode(En.EMPTY_NODE,pe.getNode(),null),vt=new Ps(Me,Y.isFullyInitialized(),P.filtersNodes()),Ct=new Ps(Fe,pe.isFullyInitialized(),H.filtersNodes());this.viewCache_=B(Ct,vt),this.eventGenerator_=new _a(this.query_)}get query(){return this.query_}}function so(h,u){const c=ft(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!Ln(u)&&!c.getImmediateChild(bn(u)).isEmpty())?c.getChild(u):null}function Da(h){return 0===h.eventRegistrations_.length}function Eo(h,u,c){const v=[];if(c){(0,V.hu)(null==u,"A cancel should cancel all event registrations.");const P=h.query._path;h.eventRegistrations_.forEach(H=>{const Y=H.createCancelEvent(c,P);Y&&v.push(Y)})}if(u){let P=[];for(let H=0;H<h.eventRegistrations_.length;++H){const Y=h.eventRegistrations_[H];if(Y.matches(u)){if(u.hasAnyCallback()){P=P.concat(h.eventRegistrations_.slice(H+1));break}}else P.push(Y)}h.eventRegistrations_=P}else h.eventRegistrations_=[];return v}function Ss(h,u,c,v){u.type===Fs.MERGE&&null!==u.source.queryId&&((0,V.hu)(ft(h.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(rt(h.viewCache_),"Missing event cache, even though we have a server cache"));const P=h.viewCache_,H=function gr(h,u,c,v,P){const H=new _u;let Y,pe;if(c.type===Fs.OVERWRITE){const Fe=c;Fe.source.fromUser?Y=vo(h,u,Fe.path,Fe.snap,v,P,H):((0,V.hu)(Fe.source.fromServer,"Unknown source."),pe=Fe.source.tagged||u.serverCache.isFiltered()&&!Ln(Fe.path),Y=va(h,u,Fe.path,Fe.snap,v,P,pe,H))}else if(c.type===Fs.MERGE){const Fe=c;Fe.source.fromUser?Y=function Va(h,u,c,v,P,H,Y){let pe=u;return v.foreach((Me,Fe)=>{const vt=Tr(c,Me);yu(u,bn(vt))&&(pe=vo(h,pe,vt,Fe,P,H,Y))}),v.foreach((Me,Fe)=>{const vt=Tr(c,Me);yu(u,bn(vt))||(pe=vo(h,pe,vt,Fe,P,H,Y))}),pe}(h,u,Fe.path,Fe.children,v,P,H):((0,V.hu)(Fe.source.fromServer,"Unknown source."),pe=Fe.source.tagged||u.serverCache.isFiltered(),Y=cl(h,u,Fe.path,Fe.children,v,P,pe,H))}else if(c.type===Fs.ACK_USER_WRITE){const Fe=c;Y=Fe.revert?function zi(h,u,c,v,P,H){let Y;if(null!=Bl(v,c))return u;{const pe=new la(v,u,P),Me=u.eventCache.getNode();let Fe;if(Ln(c)||".priority"===bn(c)){let vt;if(u.serverCache.isFullyInitialized())vt=ks(v,ft(u));else{const Ct=u.serverCache.getNode();(0,V.hu)(Ct instanceof En,"serverChildren would be complete if leaf node"),vt=aa(v,Ct)}Fe=h.filter.updateFullNode(Me,vt,H)}else{const vt=bn(c);let Ct=Tl(v,vt,u.serverCache);null==Ct&&u.serverCache.isCompleteForChild(vt)&&(Ct=Me.getImmediateChild(vt)),Fe=null!=Ct?h.filter.updateChild(Me,vt,Ct,wn(c),pe,H):u.eventCache.getNode().hasChild(vt)?h.filter.updateChild(Me,vt,En.EMPTY_NODE,wn(c),pe,H):Me,Fe.isEmpty()&&u.serverCache.isFullyInitialized()&&(Y=ks(v,ft(u)),Y.isLeafNode()&&(Fe=h.filter.updateFullNode(Fe,Y,H)))}return Y=u.serverCache.isFullyInitialized()||null!=Bl(v,In()),se(u,Fe,Y,h.filter.filtersNodes())}}(h,u,Fe.path,v,P,H):function dl(h,u,c,v,P,H,Y){if(null!=Bl(P,c))return u;const pe=u.serverCache.isFiltered(),Me=u.serverCache;if(null!=v.value){if(Ln(c)&&Me.isFullyInitialized()||Me.isCompleteForPath(c))return va(h,u,c,Me.getNode().getChild(c),P,H,pe,Y);if(Ln(c)){let Fe=new Mn(null);return Me.getNode().forEachChild(Ni,(vt,Ct)=>{Fe=Fe.set(new Rn(vt),Ct)}),cl(h,u,c,Fe,P,H,pe,Y)}return u}{let Fe=new Mn(null);return v.foreach((vt,Ct)=>{const At=Tr(c,vt);Me.isCompleteForPath(At)&&(Fe=Fe.set(vt,Me.getNode().getChild(At)))}),cl(h,u,c,Fe,P,H,pe,Y)}}(h,u,Fe.path,Fe.affectedTree,v,P,H)}else{if(c.type!==Fs.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+c.type);Y=function hl(h,u,c,v,P){const H=u.serverCache;return zo(h,De(u,H.getNode(),H.isFullyInitialized()||Ln(c),H.isFiltered()),c,v,Sn,P)}(h,u,c.path,v,H)}const Me=H.getChanges();return function Jt(h,u,c){const v=u.eventCache;if(v.isFullyInitialized()){const P=v.getNode().isLeafNode()||v.getNode().isEmpty(),H=rt(h);(c.length>0||!h.eventCache.isFullyInitialized()||P&&!v.getNode().equals(H)||!v.getNode().getPriority().equals(H.getPriority()))&&c.push(Qs(rt(u)))}}(u,Y,Me),{viewCache:Y,changes:Me}}(h.processor_,P,u,c,v);return function us(h,u){(0,V.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,H.viewCache),(0,V.hu)(H.viewCache.serverCache.isFullyInitialized()||!P.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=H.viewCache,Xa(h,H.changes,H.viewCache.eventCache.getNode(),null)}function Xa(h,u,c,v){return function ul(h,u,c,v){const P=[],H=[];return u.forEach(Y=>{"child_changed"===Y.type&&h.index_.indexedValueChanged(Y.oldSnap,Y.snapshotNode)&&H.push(function sa(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(Y.childName,Y.snapshotNode))}),Oo(h,P,"child_removed",u,v,c),Oo(h,P,"child_added",u,v,c),Oo(h,P,"child_moved",H,v,c),Oo(h,P,"child_changed",u,v,c),Oo(h,P,"value",u,v,c),P}(h.eventGenerator_,u,c,v?[v]:h.eventRegistrations_)}let Ro,wi;class el{constructor(){this.views=new Map}}function tl(h,u,c,v){const P=u.source.queryId;if(null!==P){const H=h.views.get(P);return(0,V.hu)(null!=H,"SyncTree gave us an op for an invalid query."),Ss(H,u,c,v)}{let H=[];for(const Y of h.views.values())H=H.concat(Ss(Y,u,c,v));return H}}function Yu(h,u,c,v,P){const Y=h.views.get(u._queryIdentifier);if(!Y){let pe=ks(c,P?v:null),Me=!1;pe?Me=!0:v instanceof En?(pe=aa(c,v),Me=!1):(pe=En.EMPTY_NODE,Me=!1);const Fe=B(new Ps(pe,Me,!1),new Ps(v,P,!1));return new Ea(u,Fe)}return Y}function nl(h){const u=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function Ia(h,u){let c=null;for(const v of h.views.values())c=c||so(v,u);return c}function Fi(h,u){return u._queryParams.loadsAllData()?rl(h):h.views.get(u._queryIdentifier)}function ja(h,u){return null!=Fi(h,u)}function Qo(h){return null!=rl(h)}function rl(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let yc=1;class M{constructor(u){this.listenProvider_=u,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=function Zl(){return{visibleWrites:hr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O(h,u,c,v,P){return function ns(h,u,c,v,P){(0,V.hu)(v>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===P&&(P=!0),h.allWrites.push({path:u,snap:c,writeId:v,visible:P}),P&&(h.visibleWrites=ar(h.visibleWrites,u,c)),h.lastWriteId=v}(h.pendingWriteTree_,u,c,v,P),P?Jr(h,new _o({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function F(h,u,c=!1){const v=function Za(h,u){for(let c=0;c<h.allWrites.length;c++){const v=h.allWrites[c];if(v.writeId===u)return v}return null}(h.pendingWriteTree_,u);if(function nn(h,u){const c=h.allWrites.findIndex(pe=>pe.writeId===u);(0,V.hu)(c>=0,"removeWrite called with nonexistent writeId.");const v=h.allWrites[c];h.allWrites.splice(c,1);let P=v.visible,H=!1,Y=h.allWrites.length-1;for(;P&&Y>=0;){const pe=h.allWrites[Y];pe.visible&&(Y>=c&&Tn(pe,v.path)?P=!1:it(v.path,pe.path)&&(H=!0)),Y--}return!!P&&(H?(function zu(h){h.visibleWrites=ut(h.allWrites,Zt,In()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(v.snap?h.visibleWrites=br(h.visibleWrites,v.path):Mt(v.children,Me=>{h.visibleWrites=br(h.visibleWrites,Tr(v.path,Me))}),!0))}(h.pendingWriteTree_,u)){let H=new Mn(null);return null!=v.snap?H=H.set(In(),!0):Mt(v.children,Y=>{H=H.set(new Rn(Y),!0)}),Jr(h,new Go(v.path,H,c))}return[]}function $(h,u,c){return Jr(h,new _o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function Xe(h,u,c,v,P=!1){const H=u._path,Y=h.syncPointTree_.get(H);let pe=[];if(Y&&("default"===u._queryIdentifier||ja(Y,u))){const Me=function Pu(h,u,c,v){const P=u._queryIdentifier,H=[];let Y=[];const pe=Qo(h);if("default"===P)for(const[Me,Fe]of h.views.entries())Y=Y.concat(Eo(Fe,c,v)),Da(Fe)&&(h.views.delete(Me),Fe.query._queryParams.loadsAllData()||H.push(Fe.query));else{const Me=h.views.get(P);Me&&(Y=Y.concat(Eo(Me,c,v)),Da(Me)&&(h.views.delete(P),Me.query._queryParams.loadsAllData()||H.push(Me.query)))}return pe&&!Qo(h)&&H.push(new(function vu(){return(0,V.hu)(Ro,"Reference.ts has not been loaded"),Ro}())(u._repo,u._path)),{removed:H,events:Y}}(Y,u,c,v);(function ci(h){return 0===h.views.size})(Y)&&(h.syncPointTree_=h.syncPointTree_.remove(H));const Fe=Me.removed;if(pe=Me.events,!P){const vt=-1!==Fe.findIndex(At=>At._queryParams.loadsAllData()),Ct=h.syncPointTree_.findOnPath(H,(At,_n)=>Qo(_n));if(vt&&!Ct){const At=h.syncPointTree_.subtree(H);if(!At.isEmpty()){const _n=function jl(h){return h.fold((u,c,v)=>{if(c&&Qo(c))return[rl(c)];{let P=[];return c&&(P=nl(c)),Mt(v,(H,Y)=>{P=P.concat(Y)}),P}})}(At);for(let Qn=0;Qn<_n.length;++Qn){const pi=_n[Qn],Xo=pi.query,Yl=xo(h,pi);h.listenProvider_.startListening(fl(Xo),xs(h,Xo),Yl.hashFn,Yl.onComplete)}}}!Ct&&Fe.length>0&&!v&&(vt?h.listenProvider_.stopListening(fl(u),null):Fe.forEach(At=>{const _n=h.queryToTagMap.get(wa(At));h.listenProvider_.stopListening(fl(At),_n)}))}!function Yc(h,u){for(let c=0;c<u.length;++c){const v=u[c];if(!v._queryParams.loadsAllData()){const P=wa(v),H=h.queryToTagMap.get(P);h.queryToTagMap.delete(P),h.tagToQueryMap.delete(H)}}}(h,Fe)}return pe}function jt(h,u,c,v){const P=$s(h,v);if(null!=P){const H=il(P),Y=H.path,pe=H.queryId,Me=kr(Y,u);return Ru(h,Y,new _o(Ua(pe),Me,c))}return[]}function Yt(h,u,c,v=!1){const P=u._path;let H=null,Y=!1;h.syncPointTree_.foreachOnPath(P,(At,_n)=>{const Qn=kr(At,P);H=H||Ia(_n,Qn),Y=Y||Qo(_n)});let Me,pe=h.syncPointTree_.get(P);pe?(Y=Y||Qo(pe),H=H||Ia(pe,In())):(pe=new el,h.syncPointTree_=h.syncPointTree_.set(P,pe)),null!=H?Me=!0:(Me=!1,H=En.EMPTY_NODE,h.syncPointTree_.subtree(P).foreachChild((_n,Qn)=>{const pi=Ia(Qn,In());pi&&(H=H.updateImmediateChild(_n,pi))}));const Fe=ja(pe,u);if(!Fe&&!u._queryParams.loadsAllData()){const At=wa(u);(0,V.hu)(!h.queryToTagMap.has(At),"View does not exist, but we have a tag");const _n=function Hl(){return yc++}();h.queryToTagMap.set(At,_n),h.tagToQueryMap.set(_n,At)}let Ct=function Zs(h,u,c,v,P,H){const Y=Yu(h,u,v,P,H);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,Y),function ct(h,u){h.eventRegistrations_.push(u)}(Y,c),function Ca(h,u){const c=h.viewCache_.eventCache,v=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Br,(H,Y)=>{v.push(Dn(H,Y))}),c.isFullyInitialized()&&v.push(Qs(c.getNode())),Xa(h,v,c.getNode(),u)}(Y,c)}(pe,u,c,Lt(h.pendingWriteTree_,P),H,Me);if(!Fe&&!Y&&!v){const At=Fi(pe,u);Ct=Ct.concat(function oo(h,u,c){const v=u._path,P=xs(h,u),H=xo(h,c),Y=h.listenProvider_.startListening(fl(u),P,H.hashFn,H.onComplete),pe=h.syncPointTree_.subtree(v);if(P)(0,V.hu)(!Qo(pe.value),"If we're adding a query, it shouldn't be shadowed");else{const Me=pe.fold((Fe,vt,Ct)=>{if(!Ln(Fe)&&vt&&Qo(vt))return[rl(vt).query];{let At=[];return vt&&(At=At.concat(nl(vt).map(_n=>_n.query))),Mt(Ct,(_n,Qn)=>{At=At.concat(Qn)}),At}});for(let Fe=0;Fe<Me.length;++Fe){const vt=Me[Fe];h.listenProvider_.stopListening(fl(vt),xs(h,vt))}}return Y}(h,u,At))}return Ct}function vn(h,u,c){const P=h.pendingWriteTree_,H=h.syncPointTree_.findOnPath(u,(Y,pe)=>{const Fe=Ia(pe,kr(Y,u));if(Fe)return Fe});return wt(P,u,H,c,!0)}function Jr(h,u){return bs(u,h.syncPointTree_,null,Lt(h.pendingWriteTree_,In()))}function bs(h,u,c,v){if(Ln(h.path))return gs(h,u,c,v);{const P=u.get(In());null==c&&null!=P&&(c=Ia(P,In()));let H=[];const Y=bn(h.path),pe=h.operationForChild(Y),Me=u.children.get(Y);if(Me&&pe){const Fe=c?c.getImmediateChild(Y):null,vt=nr(v,Y);H=H.concat(bs(pe,Me,Fe,vt))}return P&&(H=H.concat(tl(P,h,v,c))),H}}function gs(h,u,c,v){const P=u.get(In());null==c&&null!=P&&(c=Ia(P,In()));let H=[];return u.children.inorderTraversal((Y,pe)=>{const Me=c?c.getImmediateChild(Y):null,Fe=nr(v,Y),vt=h.operationForChild(Y);vt&&(H=H.concat(gs(vt,pe,Me,Fe)))}),P&&(H=H.concat(tl(P,h,v,c))),H}function xo(h,u){const c=u.query,v=xs(h,c);return{hashFn:()=>(function Jl(h){return h.viewCache_.serverCache.getNode()}(u)||En.EMPTY_NODE).hash(),onComplete:P=>{if("ok"===P)return v?function Ce(h,u,c){const v=$s(h,c);if(v){const P=il(v),H=P.path,Y=P.queryId,pe=kr(H,u);return Ru(h,H,new Wo(Ua(Y),pe))}return[]}(h,c._path,v):function ve(h,u){return Jr(h,new Wo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,c._path);{const H=function tr(h,u){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const v=new Error(h+" at "+u._path.toString()+": "+c);return v.code=h.toUpperCase(),v}(P,c);return Xe(h,c,null,H)}}}}function xs(h,u){const c=wa(u);return h.queryToTagMap.get(c)}function wa(h){return h._path.toString()+"$"+h._queryIdentifier}function $s(h,u){return h.tagToQueryMap.get(u)}function il(h){const u=h.indexOf("$");return(0,V.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new Rn(h.substr(0,u))}}function Ru(h,u,c){const v=h.syncPointTree_.get(u);return(0,V.hu)(v,"Missing sync point for query tag that we're tracking"),tl(v,c,Lt(h.pendingWriteTree_,u),null)}function fl(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Yi(){return(0,V.hu)(wi,"Reference.ts has not been loaded"),wi}())(h._repo,h._path):h}class No{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new No(c)}node(){return this.node_}}class Sl{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=Tr(this.path_,u);return new Sl(this.syncTree_,c)}node(){return vn(this.syncTree_,this.path_)}}const Cr=function(h,u,c){return h&&"object"==typeof h?((0,V.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Xr(h[".sv"],u,c):"object"==typeof h[".sv"]?Ta(h[".sv"],u):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Xr=function(h,u,c){if("timestamp"===h)return c.timestamp;(0,V.hu)(!1,"Unexpected server value: "+h)},Ta=function(h,u,c){h.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const v=h.increment;"number"!=typeof v&&(0,V.hu)(!1,"Unexpected increment value: "+v);const P=u.node();if((0,V.hu)(null!=P,"Expected ChildrenNode.EMPTY_NODE for nulls"),!P.isLeafNode())return v;const Y=P.getValue();return"number"!=typeof Y?v:Y+v},Lo=function(h,u,c,v){return rs(u,new Sl(c,h),v)},eu=function(h,u,c){return rs(h,new No(u),c)};function rs(h,u,c){const v=h.getPriority().val(),P=Cr(v,u.getImmediateChild(".priority"),c);let H;if(h.isLeafNode()){const Y=h,pe=Cr(Y.getValue(),u,c);return pe!==Y.getValue()||P!==Y.getPriority().val()?new Si(pe,Pr(P)):h}{const Y=h;return H=Y,P!==Y.getPriority().val()&&(H=H.updatePriority(new Si(P))),Y.forEachChild(Br,(pe,Me)=>{const Fe=rs(Me,u.getImmediateChild(pe),c);Fe!==Me&&(H=H.updateImmediateChild(pe,Fe))}),H}}class pl{constructor(u="",c=null,v={children:{},childCount:0}){this.name=u,this.parent=c,this.node=v}}function gl(h,u){let c=u instanceof Rn?u:new Rn(u),v=h,P=bn(c);for(;null!==P;){const H=(0,V.DV)(v.node.children,P)||{children:{},childCount:0};v=new pl(P,v,H),c=wn(c),P=bn(c)}return v}function ua(h){return h.node.value}function bl(h,u){h.node.value=u,$l(h)}function Qu(h){return h.node.childCount>0}function tu(h,u){Mt(h.node.children,(c,v)=>{u(new pl(c,h,v))})}function nu(h,u,c,v){c&&!v&&u(h),tu(h,P=>{nu(P,u,!0,v)}),c&&v&&u(h)}function Ha(h){return new Rn(null===h.parent?h.name:Ha(h.parent)+"/"+h.name)}function $l(h){null!==h.parent&&function xu(h,u,c){const v=function qu(h){return void 0===ua(h)&&!Qu(h)}(c),P=(0,V.r3)(h.node.children,u);v&&P?(delete h.node.children[u],h.node.childCount--,$l(h)):!v&&!P&&(h.node.children[u]=c.node,h.node.childCount++,$l(h))}(h.parent,h.name,h)}const Sa=/[\[\].#$\/\u0000-\u001F\u007F]/,Du=/[\[\].#$\u0000-\u001F\u007F]/,Pi=10485760,ca=function(h){return"string"==typeof h&&0!==h.length&&!Sa.test(h)},Gs=function(h){return"string"==typeof h&&0!==h.length&&!Du.test(h)},ao=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!tt(h)||h&&"object"==typeof h&&(0,V.r3)(h,".sv")},ms=function(h,u,c,v){v&&void 0===u||Us((0,V.gK)(h,"value"),u,c)},Us=function(h,u,c){const v=c instanceof Rn?new qe(c,h):c;if(void 0===u)throw new Error(h+"contains undefined "+Gn(v));if("function"==typeof u)throw new Error(h+"contains a function "+Gn(v)+" with contents = "+u.toString());if(tt(u))throw new Error(h+"contains "+u.toString()+" "+Gn(v));if("string"==typeof u&&u.length>Pi/3&&(0,V.ug)(u)>Pi)throw new Error(h+"contains a string greater than "+Pi+" utf8 bytes "+Gn(v)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let P=!1,H=!1;if(Mt(u,(Y,pe)=>{if(".value"===Y)P=!0;else if(".priority"!==Y&&".sv"!==Y&&(H=!0,!ca(Y)))throw new Error(h+" contains an invalid key ("+Y+") "+Gn(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mt(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,V.ug)(u),kt(h)})(v,Y),Us(h,pe,v),function Qt(h){const u=h.parts_.pop();h.byteLength_-=(0,V.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(v)}),P&&H)throw new Error(h+' contains ".value" child '+Gn(v)+" in addition to actual children.")}},Nu=function(h,u,c,v){if(v&&void 0===u)return;const P=(0,V.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(P+" must be an object containing the children to replace.");const H=[];Mt(u,(Y,pe)=>{const Me=new Rn(Y);if(Us(P,pe,Tr(c,Me)),".priority"===wo(Me)&&!ao(pe))throw new Error(P+"contains an invalid value for '"+Me.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");H.push(Me)}),function(h,u){let c,v;for(c=0;c<u.length;c++){v=u[c];const H=_i(v);for(let Y=0;Y<H.length;Y++)if((".priority"!==H[Y]||Y!==H.length-1)&&!ca(H[Y]))throw new Error(h+"contains an invalid key ("+H[Y]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(as);let P=null;for(c=0;c<u.length;c++){if(v=u[c],null!==P&&it(P,v))throw new Error(h+"contains a path "+P.toString()+" that is ancestor of another path "+v.toString());P=v}}(P,H)},Al=function(h,u,c,v){if(!(v&&void 0===c||Gs(c)))throw new Error((0,V.gK)(h,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fo=function(h,u){if(".info"===bn(u))throw new Error(h+" failed = Can't modify data under /.info/")};class iu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gl(h,u){let c=null;for(let v=0;v<u.length;v++){const P=u[v],H=P.getPath();null!==c&&!Te(H,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:H}),c.events.push(P)}c&&h.eventLists_.push(c)}function Wl(h,u,c){Gl(h,c),Iu(h,v=>Te(v,u))}function _s(h,u,c){Gl(h,c),Iu(h,v=>it(v,u)||it(u,v))}function Iu(h,u){h.recursionDepth_++;let c=!0;for(let v=0;v<h.eventLists_.length;v++){const P=h.eventLists_[v];P&&(u(P.path)?(su(h.eventLists_[v]),h.eventLists_[v]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function su(h){for(let u=0;u<h.events.length;u++){const c=h.events[u];if(null!==c){h.events[u]=null;const v=c.getEventRunner();gt&&Be("event: "+c.toString()),ti(v)}}}class ml{constructor(u,c,v,P){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=v,this.appCheckProvider_=P,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bi(),this.transactionQueueTree_=new pl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ga(h){const c=h.infoData_.getNode(new Rn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Qi(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:Ga(h)})}function wu(h,u,c,v,P){h.dataUpdateCount++;const H=new Rn(u);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,c):c;let Y=[];if(P)if(v){const Me=(0,V.UI)(c,Fe=>Pr(Fe));Y=function hn(h,u,c,v){const P=$s(h,v);if(P){const H=il(P),Y=H.path,pe=H.queryId,Me=kr(Y,u),Fe=Mn.fromObject(c);return Ru(h,Y,new Mo(Ua(pe),Me,Fe))}return[]}(h.serverSyncTree_,H,Me,P)}else{const Me=Pr(c);Y=jt(h.serverSyncTree_,H,Me,P)}else if(v){const Me=(0,V.UI)(c,Fe=>Pr(Fe));Y=function re(h,u,c){const v=Mn.fromObject(c);return Jr(h,new Mo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,v))}(h.serverSyncTree_,H,Me)}else{const Me=Pr(c);Y=$(h.serverSyncTree_,H,Me)}let pe=H;Y.length>0&&(pe=E(h,H)),_s(h.eventQueue_,pe,Y)}function _l(h,u){Pl(h,"connected",u),!1===u&&function Rl(h){da(h,"onDisconnectEvents");const u=Qi(h),c=bi();Qr(h.onDisconnect_,In(),(P,H)=>{const Y=Lo(P,H,h.serverSyncTree_,u);es(c,P,Y)});let v=[];Qr(c,In(),(P,H)=>{v=v.concat($(h.serverSyncTree_,P,H));const Y=Se(h,P);E(h,Y)}),h.onDisconnect_=bi(),_s(h.eventQueue_,In(),v)}(h)}function Pl(h,u,c){const v=new Rn("/.info/"+u),P=Pr(c);h.infoData_.updateSnapshot(v,P);const H=$(h.infoSyncTree_,v,P);_s(h.eventQueue_,v,H)}function yl(h){return h.nextWriteId_++}function Zu(h,u,c){h.server_.onDisconnectCancel(u.toString(),(v,P)=>{"ok"===v&&io(h.onDisconnect_,u),Ma(0,c,v,P)})}function Lu(h,u,c,v){const P=Pr(c);h.server_.onDisconnectPut(u.toString(),P.val(!0),(H,Y)=>{"ok"===H&&es(h.onDisconnect_,u,P),Ma(0,v,H,Y)})}function Aa(h,u,c){let v;v=".info"===bn(u._path)?Xe(h.infoSyncTree_,u,c):Xe(h.serverSyncTree_,u,c),Wl(h.eventQueue_,u._path,v)}function da(h,...u){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),Be(c,...u)}function Ma(h,u,c,v){u&&ti(()=>{if("ok"===c)u(null);else{const P=(c||"error").toUpperCase();let H=P;v&&(H+=": "+v);const Y=new Error(H);Y.code=P,u(Y)}})}function bu(h,u,c){return vn(h.serverSyncTree_,u,c)||En.EMPTY_NODE}function El(h,u=h.transactionQueueTree_){if(u||ye(h,u),ua(u)){const c=K(h,u);(0,V.hu)(c.length>0,"Sending zero length transaction queue"),c.every(P=>0===P.status)&&function I(h,u,c){const v=c.map(Fe=>Fe.currentWriteId),P=bu(h,u,v);let H=P;const Y=P.hash();for(let Fe=0;Fe<c.length;Fe++){const vt=c[Fe];(0,V.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const Ct=kr(u,vt.path);H=H.updateChild(Ct,vt.currentOutputSnapshotRaw)}const pe=H.val(!0),Me=u;h.server_.put(Me.toString(),pe,Fe=>{da(h,"transaction put response",{path:Me.toString(),status:Fe});let vt=[];if("ok"===Fe){const Ct=[];for(let At=0;At<c.length;At++)c[At].status=2,vt=vt.concat(F(h.serverSyncTree_,c[At].currentWriteId)),c[At].onComplete&&Ct.push(()=>c[At].onComplete(null,!0,c[At].currentOutputSnapshotResolved)),c[At].unwatcher();ye(h,gl(h.transactionQueueTree_,u)),El(h,h.transactionQueueTree_),_s(h.eventQueue_,u,vt);for(let At=0;At<Ct.length;At++)ti(Ct[At])}else{if("datastale"===Fe)for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=3===c[Ct].status?4:0;else{$t("transaction at "+Me.toString()+" failed: "+Fe);for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=4,c[Ct].abortReason=Fe}E(h,u)}},Y)}(h,Ha(u),c)}else Qu(u)&&tu(u,c=>{El(h,c)})}function E(h,u){const c=x(h,u),v=Ha(c);return function _(h,u,c){if(0===u.length)return;const v=[];let P=[];const Y=u.filter(pe=>0===pe.status).map(pe=>pe.currentWriteId);for(let pe=0;pe<u.length;pe++){const Me=u[pe],Fe=kr(c,Me.path);let Ct,vt=!1;if((0,V.hu)(null!==Fe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Me.status)vt=!0,Ct=Me.abortReason,P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0));else if(0===Me.status)if(Me.retryCount>=25)vt=!0,Ct="maxretry",P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0));else{const At=bu(h,Me.path,Y);Me.currentInputSnapshot=At;const _n=u[pe].update(At.val());if(void 0!==_n){Us("transaction failed: Data returned ",_n,Me.path);let Qn=Pr(_n);"object"==typeof _n&&null!=_n&&(0,V.r3)(_n,".priority")||(Qn=Qn.updatePriority(At.getPriority()));const Xo=Me.currentWriteId,Yl=Qi(h),Ms=eu(Qn,At,Yl);Me.currentOutputSnapshotRaw=Qn,Me.currentOutputSnapshotResolved=Ms,Me.currentWriteId=yl(h),Y.splice(Y.indexOf(Xo),1),P=P.concat(O(h.serverSyncTree_,Me.path,Ms,Me.currentWriteId,Me.applyLocally)),P=P.concat(F(h.serverSyncTree_,Xo,!0))}else vt=!0,Ct="nodata",P=P.concat(F(h.serverSyncTree_,Me.currentWriteId,!0))}_s(h.eventQueue_,c,P),P=[],vt&&(u[pe].status=2,setTimeout(u[pe].unwatcher,Math.floor(0)),u[pe].onComplete&&v.push("nodata"===Ct?()=>u[pe].onComplete(null,!1,u[pe].currentInputSnapshot):()=>u[pe].onComplete(new Error(Ct),!1,null)))}ye(h,h.transactionQueueTree_);for(let pe=0;pe<v.length;pe++)ti(v[pe]);El(h,h.transactionQueueTree_)}(h,K(h,c),v),v}function x(h,u){let c,v=h.transactionQueueTree_;for(c=bn(u);null!==c&&void 0===ua(v);)v=gl(v,c),c=bn(u=wn(u));return v}function K(h,u){const c=[];return ne(h,u,c),c.sort((v,P)=>v.order-P.order),c}function ne(h,u,c){const v=ua(u);if(v)for(let P=0;P<v.length;P++)c.push(v[P]);tu(u,P=>{ne(h,P,c)})}function ye(h,u){const c=ua(u);if(c){let v=0;for(let P=0;P<c.length;P++)2!==c[P].status&&(c[v]=c[P],v++);c.length=v,bl(u,c.length>0?c:void 0)}tu(u,v=>{ye(h,v)})}function Se(h,u){const c=Ha(x(h,u)),v=gl(h.transactionQueueTree_,u);return function ru(h,u,c){let v=c?h:h.parent;for(;null!==v;){if(u(v))return!0;v=v.parent}}(v,P=>{Je(h,P)}),Je(h,v),nu(v,P=>{Je(h,P)}),c}function Je(h,u){const c=ua(u);if(c){const v=[];let P=[],H=-1;for(let Y=0;Y<c.length;Y++)3===c[Y].status||(1===c[Y].status?((0,V.hu)(H===Y-1,"All SENT items should be at beginning of queue."),H=Y,c[Y].status=3,c[Y].abortReason="set"):((0,V.hu)(0===c[Y].status,"Unexpected transaction status in abort"),c[Y].unwatcher(),P=P.concat(F(h.serverSyncTree_,c[Y].currentWriteId,!0)),c[Y].onComplete&&v.push(c[Y].onComplete.bind(null,new Error("set"),!1,null))));-1===H?bl(u,void 0):c.length=H+1,_s(h.eventQueue_,Ha(u),P);for(let Y=0;Y<v.length;Y++)ti(v[Y])}}const sn=function(h,u){const c=kn(h),v=c.namespace;return"firebase.com"===c.domain&&Wt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==c.domain&&Wt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ee(c.host,c.secure,v,"ws"===c.scheme||"wss"===c.scheme,u,"",v!==c.subdomain),path:new Rn(c.pathString)}},kn=function(h){let u="",c="",v="",P="",H="",Y=!0,pe="https",Me=443;if("string"==typeof h){let Fe=h.indexOf("//");Fe>=0&&(pe=h.substring(0,Fe-1),h=h.substring(Fe+2));let vt=h.indexOf("/");-1===vt&&(vt=h.length);let Ct=h.indexOf("?");-1===Ct&&(Ct=h.length),u=h.substring(0,Math.min(vt,Ct)),vt<Ct&&(P=function _t(h){let u="";const c=h.split("/");for(let v=0;v<c.length;v++)if(c[v].length>0){let P=c[v];try{P=decodeURIComponent(P.replace(/\+/g," "))}catch(H){}u+="/"+P}return u}(h.substring(vt,Ct)));const At=function Ut(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const v=c.split("=");2===v.length?u[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):$t(`Invalid query segment '${c}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,Ct)));Fe=u.indexOf(":"),Fe>=0?(Y="https"===pe||"wss"===pe,Me=parseInt(u.substring(Fe+1),10)):Fe=u.length;const _n=u.slice(0,Fe);if("localhost"===_n.toLowerCase())c="localhost";else if(_n.split(".").length<=2)c=_n;else{const Qn=u.indexOf(".");v=u.substring(0,Qn).toLowerCase(),c=u.substring(Qn+1),H=v}"ns"in At&&(H=At.ns)}return{host:u,port:Me,domain:c,subdomain:v,secure:Y,scheme:pe,pathString:P,namespace:H}},On="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",on=function(){let h=0;const u=[];return function(c){const v=c===h;let P;h=c;const H=new Array(8);for(P=7;P>=0;P--)H[P]=On.charAt(c%64),c=Math.floor(c/64);(0,V.hu)(0===c,"Cannot push at time == 0");let Y=H.join("");if(v){for(P=11;P>=0&&63===u[P];P--)u[P]=0;u[P]++}else for(P=0;P<12;P++)u[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)Y+=On.charAt(u[P]);return(0,V.hu)(20===Y.length,"nextPushId: Length should be 20."),Y}}();class Wn{constructor(u,c,v,P){this.eventType=u,this.eventRegistration=c,this.snapshot=v,this.prevName=P}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class Hr{constructor(u,c,v){this.eventRegistration=u,this.error=c,this.path=v}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class yi{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class cs{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new V.BH;return Zu(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Fo("OnDisconnect.remove",this._path);const u=new V.BH;return Lu(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Fo("OnDisconnect.set",this._path),ms("OnDisconnect.set",u,this._path,!1);const c=new V.BH;return Lu(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Fo("OnDisconnect.setWithPriority",this._path),ms("OnDisconnect.setWithPriority",u,this._path,!1),function(h,u,c){if(!c||void 0!==u){if(tt(u))throw new Error((0,V.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ao(u))throw new Error((0,V.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",c,!1);const v=new V.BH;return function Fu(h,u,c,v,P){const H=Pr(c,v);h.server_.onDisconnectPut(u.toString(),H.val(!0),(Y,pe)=>{"ok"===Y&&es(h.onDisconnect_,u,H),Ma(0,P,Y,pe)})}(this._repo,this._path,u,c,v.wrapCallback(()=>{})),v.promise}update(u){Fo("OnDisconnect.update",this._path),Nu("OnDisconnect.update",u,this._path,!1);const c=new V.BH;return function Su(h,u,c,v){if((0,V.xb)(c))return Be("onDisconnect().update() called with empty data.  Don't do anything."),void Ma(0,v,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),c,(P,H)=>{"ok"===P&&Mt(c,(Y,pe)=>{const Me=Pr(pe);es(h.onDisconnect_,Tr(u,Y),Me)}),Ma(0,v,P,H)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class vi{constructor(u,c,v,P){this._repo=u,this._path=c,this._queryParams=v,this._orderByCalled=P}get key(){return Ln(this._path)?null:wo(this._path)}get ref(){return new Ui(this._repo,this._path)}get _queryIdentifier(){const u=ie(this._queryParams),c=Vn(u);return"{}"===c?"default":c}get _queryObject(){return ie(this._queryParams)}isEqual(u){if(!((u=(0,V.m9)(u))instanceof vi))return!1;const c=this._repo===u._repo,v=Te(this._path,u._path);return c&&v&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Xs(h){let u="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(u+="/"+encodeURIComponent(String(h.pieces_[c])));return u||"/"}(this._path)}}class Ui extends vi{constructor(u,c){super(u,c,new ii,!1)}get parent(){const u=Or(this._path);return null===u?null:new Ui(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class ys{constructor(u,c,v){this._node=u,this.ref=c,this._index=v}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new Rn(u),v=is(this.ref,u);return new ys(this._node.getChild(c),v,Br)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(v,P)=>u(new ys(P,is(this.ref,v),Br)))}hasChild(u){const c=new Rn(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qo(h,u){return(h=(0,V.m9)(h))._checkNotDeleted("ref"),void 0!==u?is(h._root,u):h._root}function is(h,u){return null===bn((h=(0,V.m9)(h))._path)?(c=u,c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Al("child","path",c,!1)):Al("child","path",u,!1),new Ui(h._repo,Tr(h._path,u));var c}function hi(h){return h=(0,V.m9)(h),new cs(h._repo,h._path)}function Zo(h,u){h=(0,V.m9)(h),Fo("push",h._path),ms("push",u,h._path,!0);const c=Ga(h._repo),v=on(c),P=is(h,v),H=is(h,v);let Y;return Y=null!=u?Co(H,u).then(()=>H):Promise.resolve(H),P.then=Y.then.bind(Y),P.catch=Y.then.bind(Y,void 0),P}function Ll(h){return Fo("remove",h._path),Co(h,null)}function Co(h,u){h=(0,V.m9)(h),Fo("set",h._path),ms("set",u,h._path,!1);const c=new V.BH;return function au(h,u,c,v,P){da(h,"set",{path:u.toString(),value:c,priority:v});const H=Qi(h),Y=Pr(c,v),pe=vn(h.serverSyncTree_,u),Me=eu(Y,pe,H),Fe=yl(h),vt=O(h.serverSyncTree_,u,Me,Fe,!0);Gl(h.eventQueue_,vt),h.server_.put(u.toString(),Y.val(!0),(At,_n)=>{const Qn="ok"===At;Qn||$t("set at "+u+" failed: "+At);const pi=F(h.serverSyncTree_,Fe,!Qn);_s(h.eventQueue_,u,pi),Ma(0,P,At,_n)});const Ct=Se(h,u);E(h,Ct),_s(h.eventQueue_,Ct,[])}(h._repo,h._path,u,null,c.wrapCallback(()=>{})),c.promise}function rr(h,u){Nu("update",u,h._path,!1);const c=new V.BH;return function ba(h,u,c,v){da(h,"update",{path:u.toString(),value:c});let P=!0;const H=Qi(h),Y={};if(Mt(c,(pe,Me)=>{P=!1,Y[pe]=Lo(Tr(u,pe),Pr(Me),h.serverSyncTree_,H)}),P)Be("update() called with empty data.  Don't do anything."),Ma(0,v,"ok",void 0);else{const pe=yl(h),Me=function T(h,u,c,v){!function yo(h,u,c,v){(0,V.hu)(v>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:c,writeId:v,visible:!0}),h.visibleWrites=Li(h.visibleWrites,u,c),h.lastWriteId=v}(h.pendingWriteTree_,u,c,v);const P=Mn.fromObject(c);return Jr(h,new Mo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,P))}(h.serverSyncTree_,u,Y,pe);Gl(h.eventQueue_,Me),h.server_.merge(u.toString(),c,(Fe,vt)=>{const Ct="ok"===Fe;Ct||$t("update at "+u+" failed: "+Fe);const At=F(h.serverSyncTree_,pe,!Ct),_n=At.length>0?E(h,u):u;_s(h.eventQueue_,_n,At),Ma(0,v,Fe,vt)}),Mt(c,Fe=>{const vt=Se(h,Tr(u,Fe));E(h,vt)}),_s(h.eventQueue_,u,[])}}(h._repo,h._path,u,c.wrapCallback(()=>{})),c.promise}function Ur(h){h=(0,V.m9)(h);const u=new yi(()=>{}),c=new mn(u);return function vl(h,u,c){const v=function Zn(h,u){const c=u._path;let v=null;h.syncPointTree_.foreachOnPath(c,(Fe,vt)=>{const Ct=kr(Fe,c);v=v||Ia(vt,Ct)});let P=h.syncPointTree_.get(c);P?v=v||Ia(P,In()):(P=new el,h.syncPointTree_=h.syncPointTree_.set(c,P));const H=null!=v,Y=H?new Ps(v,!0,!1):null;return function Ba(h){return rt(h.viewCache_)}(Yu(P,u,Lt(h.pendingWriteTree_,u._path),H?Y.getNode():En.EMPTY_NODE,H))}(h.serverSyncTree_,u);return null!=v?Promise.resolve(v):h.server_.get(u).then(P=>{const H=Pr(P).withIndex(u._queryParams.getIndex());let Y;if(Yt(h.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())Y=$(h.serverSyncTree_,u._path,H);else{const pe=xs(h.serverSyncTree_,u);Y=jt(h.serverSyncTree_,u._path,H,pe)}return _s(h.eventQueue_,u._path,Y),Xe(h.serverSyncTree_,u,c,null,!0),H},P=>(da(h,"get for query "+(0,V.Wl)(u)+" failed: "+P),Promise.reject(new Error(P))))}(h._repo,h,c).then(v=>new ys(v,new Ui(h._repo,h._path),h._queryParams.getIndex()))}class mn{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const v=c._queryParams.getIndex();return new Wn("value",this,new ys(u.snapshotNode,new Ui(c._repo,c._path),v))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Hr(this,u,c):null}matches(u){return u instanceof mn&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Jo{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Hr(this,u,c):null}createEvent(u,c){(0,V.hu)(null!=u.childName,"Child events should have a childName.");const v=is(new Ui(c._repo,c._path),u.childName),P=c._queryParams.getIndex();return new Wn(u.type,this,new ys(u.snapshotNode,v,P),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof Jo&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fa(h,u,c,v){return function Ns(h,u,c,v,P){let H;if("object"==typeof v&&(H=void 0,P=v),"function"==typeof v&&(H=v),P&&P.onlyOnce){const Me=c,Fe=(vt,Ct)=>{Aa(h._repo,h,pe),Me(vt,Ct)};Fe.userCallback=c.userCallback,Fe.context=c.context,c=Fe}const Y=new yi(c,H||void 0),pe="value"===u?new mn(Y):new Jo(u,Y);return function vc(h,u,c){let v;v=".info"===bn(u._path)?Yt(h.infoSyncTree_,u,c):Yt(h.serverSyncTree_,u,c),Wl(h.eventQueue_,u._path,v)}(h._repo,h,pe),()=>Aa(h._repo,h,pe)}(h,"value",u,c,v)}function ol(h,u,c){let v=null;const P=c?new yi(c):null;"value"===u?v=new mn(P):u&&(v=new Jo(u,P)),Aa(h._repo,h,v)}(function Do(h){(0,V.hu)(!Ro,"__referenceConstructor has already been defined"),Ro=h})(Ui),function Xl(h){(0,V.hu)(!wi,"__referenceConstructor has already been defined"),wi=h}(Ui);const Vu={};function ch(h,u,c,v,P){let H=v||h.options.databaseURL;void 0===H&&(h.options.projectId||Wt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",h.options.projectId),H=`${h.options.projectId}-default-rtdb.firebaseio.com`);let Me,Fe,Y=sn(H,P),pe=Y.repoInfo;"undefined"!=typeof process&&process.env&&(Fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Fe?(Me=!0,H=`http://${Fe}?ns=${pe.namespace}`,Y=sn(H,P),pe=Y.repoInfo):Me=!Y.repoInfo.secure;const vt=P&&Me?new lr(lr.OWNER):new xr(h.name,h.options,u);(function(h,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!ca(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Gs(h)}(c))throw new Error((0,V.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",Y),Ln(Y.path)||Wt("Database URL must point to the root of a Firebase Database (not including a child path).");const Ct=function hh(h,u,c,v){let P=Vu[u.name];P||(P={},Vu[u.name]=P);let H=P[h.toURLString()];return H&&Wt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),H=new ml(h,false,c,v),P[h.toURLString()]=H,H}(pe,h,vt,new Wr(h.name,c));return new Tg(Ct,h)}class Tg{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kl(h,u,c){if(h.stats_=Vt(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new dt(h.repoInfo_,(v,P,H,Y)=>{wu(h,v,P,H,Y)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>_l(h,!0),0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(c)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}h.persistentConnection_=new ho(h.repoInfo_,u,(v,P,H,Y)=>{wu(h,v,P,H,Y)},v=>{_l(h,v)},v=>{!function Tu(h,u){Mt(u,(c,v)=>{Pl(h,c,v)})}(h,v)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(v=>{h.server_.refreshAuthToken(v)}),h.appCheckProvider_.addTokenChangeListener(v=>{h.server_.refreshAppCheckToken(v.token)}),h.statsReporter_=function Bn(h,u){const c=h.toString();return Kn[c]||(Kn[c]=u()),Kn[c]}(h.repoInfo_,()=>new oa(h.stats_,h.server_)),h.infoData_=new en,h.infoSyncTree_=new M({startListening:(v,P,H,Y)=>{let pe=[];const Me=h.infoData_.getNode(v._path);return Me.isEmpty()||(pe=$(h.infoSyncTree_,v._path,Me),setTimeout(()=>{Y("ok")},0)),pe},stopListening:()=>{}}),Pl(h,"connected",!1),h.serverSyncTree_=new M({startListening:(v,P,H,Y)=>(h.server_.listen(v,H,P,(pe,Me)=>{const Fe=Y(pe,Me);_s(h.eventQueue_,v._path,Fe)}),[]),stopListening:(v,P)=>{h.server_.unlisten(v,P)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,In())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dh(h,u){const c=Vu[u];(!c||c[h.key]!==h)&&Wt(`Database ${u}(${h.repoInfo_}) has already been deleted.`),function sl(h){h.persistentConnection_&&h.persistentConnection_.interrupt("repo_interrupt")}(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&Wt("Cannot call "+u+" on a deleted database.")}}function Bu(h=(0,S.Mq)(),u){const c=(0,S.qX)(h,"database").getImmediate({identifier:u});if(!c._instanceStarted){const v=(0,V.P0)("database");v&&function Tc(h,u,c,v={}){(h=(0,V.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Wt("Cannot call useEmulator() after instance has already been initialized.");const P=h._repoInternal;let H;if(P.repoInfo_.nodeAdmin)v.mockUserToken&&Wt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),H=new lr(lr.OWNER);else if(v.mockUserToken){const Y="string"==typeof v.mockUserToken?v.mockUserToken:(0,V.Sg)(v.mockUserToken,h.app.options.projectId);H=new lr(Y)}!function Ic(h,u,c,v){h.repoInfo_=new Ee(`${u}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),v&&(h.authTokenProvider_=v)}(P,u,c,H)}(c,...v)}return c}const zl={".sv":"timestamp"};function mh(){return zl}function Sc(h){return{".sv":{increment:h}}}ho.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},ho.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function gh(h){(function he(h){J=h})(S.Jn),(0,S.Xd)(new te.wA("database",(u,{instanceIdentifier:c})=>ch(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,S.KN)(de,"0.14.3",h),(0,S.KN)(de,"0.14.3","esm2017")}()},9996:(Ie,ae,C)=>{C.d(ae,{ET:()=>qm,hJ:()=>sf,oe:()=>_y,JU:()=>gd,ST:()=>_d,Lx:()=>$m,QT:()=>zm,kl:()=>gy,PL:()=>my,ad:()=>md,b9:()=>Hm,cf:()=>Zm,Xo:()=>cy,IO:()=>jm,Bt:()=>e_,TQ:()=>hy,r7:()=>Qm});var J,f=C(5861),S=C(6881),te=C(4859),V=C(1877),le=C(2090),de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oe={},he=he||{},Q=de||self;function Z(){}function ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Le(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var we="closure_uid_"+(1e9*Math.random()>>>0),Ye=0;function We(i,e,t){return i.call.apply(i.bind,arguments)}function je(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function gt(i,e,t){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:je).apply(null,arguments)}function xt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ge(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,l,g){for(var D=Array(arguments.length-2),N=2;N<arguments.length;N++)D[N-2]=arguments[N];return e.prototype[l].apply(o,D)}}function Be(){this.s=this.s,this.o=this.o}Be.prototype.s=!1,Be.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ze(i){Object.prototype.hasOwnProperty.call(i,we)&&i[we]||(i[we]=++Ye)}(this)},Be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Wt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function $t(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ce(o)){const l=i.length||0,g=o.length||0;i.length=l+g;for(let D=0;D<g;D++)i[l+D]=o[D]}else i.push(o)}}function Rt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",Z,e),Q.removeEventListener("test",Z,e)}catch(t){}return i}();function Ze(i){return/^[\s\xa0]*$/.test(i)}var at=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function et(i,e){return i<e?-1:i>e?1:0}function Nt(){var i=Q.navigator;return i&&(i=i.userAgent)?i:""}function bt(i){return-1!=Nt().indexOf(i)}function ht(i){return ht[" "](i),i}ht[" "]=Z;var dr,i,Kt=bt("Opera"),Mt=bt("Trident")||bt("MSIE"),pr=bt("Edge"),Vr=pr||Mt,Ir=bt("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!bt("Edge"))&&!(bt("Trident")||bt("MSIE"))&&!bt("Edge"),tr=-1!=Nt().toLowerCase().indexOf("webkit")&&!bt("Edge");function Fr(){var i=Q.document;return i?i.documentMode:void 0}e:{var Ei="",gi=(i=Nt(),Ir?/rv:([^\);]+)(\)|;)/.exec(i):pr?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):tr?/WebKit\/(\S+)/.exec(i):Kt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(gi&&(Ei=gi?gi[1]:""),Mt){var ti=Fr();if(null!=ti&&ti>parseFloat(Ei)){dr=String(ti);break e}}dr=Ei}var $r={};var lr=Q.document&&Mt&&(Fr()||parseInt(dr,10))||void 0;function _r(i,e){if(Rt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ir){e:{try{ht(e.nodeName);var l=!0;break e}catch(g){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ds[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&_r.X.h.call(this)}}Ge(_r,Rt);var ds={2:"touch",3:"pen",4:"mouse"};_r.prototype.h=function(){_r.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),mi=0;function Di(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++mi,this.ba=this.ea=!1}function yr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Zi(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function ai(i){const e={};for(const t in i)e[t]=i[t];return e}const wr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let g=0;g<wr.length;g++)t=wr[g],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Oe(i){this.src=i,this.g={},this.h=0}function Ee(i,e){var t=e.type;if(t in i.g){var g,o=i.g[t],l=Tt(o,e);(g=0<=l)&&Array.prototype.splice.call(o,l,1),g&&(yr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nt(i,e,t,o){for(var l=0;l<i.length;++l){var g=i[l];if(!g.ba&&g.listener==e&&g.capture==!!t&&g.ha==o)return l}return-1}Oe.prototype.add=function(i,e,t,o,l){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var D=nt(i,e,o,l);return-1<D?(e=i[D],t||(e.ea=!1)):((e=new Di(e,this.src,g,!!o,l)).ea=t,i.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),un={};function rn(i,e,t,o,l){if(o&&o.once)return Bn(i,e,t,o,l);if(Array.isArray(e)){for(var g=0;g<e.length;g++)rn(i,e[g],t,o,l);return null}return t=zr(t),i&&i[zt]?i.N(e,t,Le(o)?!!o.capture:!!o,l):Kn(i,e,t,!1,o,l)}function Kn(i,e,t,o,l,g){if(!e)throw Error("Invalid event type");var D=Le(l)?!!l.capture:!!l,N=jn(i);if(N||(i[pt]=N=new Oe(i)),(t=N.add(e,t,o,D,g)).proxy)return t;if(o=function Vt(){const e=yn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)tt||(l=D),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(pn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Bn(i,e,t,o,l){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Bn(i,e[g],t,o,l);return null}return t=zr(t),i&&i[zt]?i.O(e,t,Le(o)?!!o.capture:!!o,l):Kn(i,e,t,!0,o,l)}function zn(i,e,t,o,l){if(Array.isArray(e))for(var g=0;g<e.length;g++)zn(i,e[g],t,o,l);else o=Le(o)?!!o.capture:!!o,t=zr(t),i&&i[zt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nt(g=i.g[e],t,o,l))&&(yr(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=jn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nt(e,t,o,l)),(t=-1<i?e[i]:null)&&Kr(t))}function Kr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[zt])Ee(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(pn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=jn(e))?(Ee(t,i),0==t.h&&(t.src=null,e[pt]=null)):yr(i)}}}function pn(i){return i in un?un[i]:un[i]="on"+i}function yn(i,e){if(i.ba)i=!0;else{e=new _r(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Kr(i),i=t.call(o,e)}return i}function jn(i){return(i=i[pt])instanceof Oe?i:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(i){return"function"==typeof i?i:(i[li]||(i[li]=function(e){return i.handleEvent(e)}),i[li])}function Fn(){Be.call(this),this.i=new Oe(this),this.P=this,this.I=null}function Nr(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Rt(e,i);else if(e instanceof Rt)e.target=e.target||i;else{var l=e;$e(e=new Rt(o,i),l)}if(l=!0,t)for(var g=t.length-1;0<=g;g--){var D=e.g=t[g];l=ji(D,o,!0,e)&&l}if(l=ji(D=e.g=i,o,!0,e)&&l,l=ji(D,o,!1,e)&&l,t)for(g=0;g<t.length;g++)l=ji(D=e.g=t[g],o,!1,e)&&l}function ji(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,g=0;g<e.length;++g){var D=e[g];if(D&&!D.ba&&D.capture==t){var N=D.listener,W=D.ha||D.src;D.ea&&Ee(i.i,D),l=!1!==N.call(W,o)&&l}}return l&&!o.defaultPrevented}Ge(Fn,Be),Fn.prototype[zt]=!0,Fn.prototype.removeEventListener=function(i,e,t,o){zn(this,i,e,t,o)},Fn.prototype.M=function(){if(Fn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)yr(t[o]);delete i.g[e],i.h--}}this.I=null},Fn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Fn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Gr=Q.JSON.stringify;function Ne(){var i=Lr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Xt,Ve=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Et,i=>i.reset());class Et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ke(i){Q.setTimeout(()=>{throw i},0)}function Ht(i,e){Xt||function Nn(){var i=Q.Promise.resolve(void 0);Xt=function(){i.then(He)}}(),ir||(Xt(),ir=!0),Lr.add(i,e)}var ir=!1,Lr=new class Ae{constructor(){this.h=this.g=null}add(e,t){const o=Ve.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function He(){for(var i;i=Ne();){try{i.h.call(i.g)}catch(t){Ke(t)}var e=Ve;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ir=!1}function be(i,e){Fn.call(this),this.h=i||1,this.g=e||Q,this.j=gt(this.lb,this),this.l=Date.now()}function me(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ke(i,e,t){if("function"==typeof i)t&&(i=gt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function lt(i){i.g=ke(()=>{i.g=null,i.i&&(i.i=!1,lt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ge(be,Fn),(J=be.prototype).ca=!1,J.R=null,J.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Nr(this,"tick"),this.ca&&(me(this),this.start()))}},J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){be.X.M.call(this),me(this),delete this.g};class an extends Be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lt(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(i){Be.call(this),this.h=i,this.g={}}Ge(cn,Be);var Pe=[];function xe(i,e,t,o){Array.isArray(t)||(t&&(Pe[0]=t.toString()),t=Pe);for(var l=0;l<t.length;l++){var g=rn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function yt(i){Zi(i.g,function(e,t){this.g.hasOwnProperty(t)&&Kr(e)},i),i.g={}}function Gt(){this.g=!0}function Jn(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function si(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var g=l[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var D=1;D<l.length;D++)l[D]=""}}}return Gr(t)}catch(N){return e}}(i,t)+(o?" "+o:"")})}cn.prototype.M=function(){cn.X.M.call(this),yt(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.Aa=function(){this.g=!1},Gt.prototype.info=function(){};var Ar={},$n=null;function hs(){return $n=$n||new Fn}function Mr(i){Rt.call(this,Ar.Pa,i)}function Ji(i){const e=hs();Nr(e,new Mr(e))}function Hi(i,e){Rt.call(this,Ar.STAT_EVENT,i),this.stat=e}function or(i){const e=hs();Nr(e,new Hi(e,i))}function $i(i,e){Rt.call(this,Ar.Qa,i),this.size=e}function Rn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}Ar.Pa="serverreachability",Ge(Mr,Rt),Ar.STAT_EVENT="statevent",Ge(Hi,Rt),Ar.Qa="timingevent",Ge($i,Rt);var In={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},bn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ri(){}function wo(){}Ri.prototype.h=null;var Tr,Xs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _i(){Rt.call(this,"d")}function Or(){Rt.call(this,"c")}function Ln(){}function kr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new cn(this),this.O=Te,this.T=new be(i=Vr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}Ge(_i,Rt),Ge(Or,Rt),Ge(Ln,Ri),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Tr=new Ln;var Te=45e3,it={},qe={};function mt(i,e,t){i.K=1,i.v=to(Ni(e)),i.s=t,i.P=!0,Qt(i,null)}function Qt(i,e){i.F=Date.now(),Dr(i),i.A=Ni(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Br(t.i,"t",o),i.C=0,t=i.l.H,i.h=new as,i.g=Oo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new an(gt(i.La,i,i.g),i.N)),xe(i.S,i.g,"readystatechange",i.ib),e=i.H?ai(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Ji(),function An(i,e,t,o,l,g){i.info(function(){if(i.g)if(g)for(var D="",N=g.split("&"),W=0;W<N.length;W++){var ee=N[W].split("=");if(1<ee.length){var ge=ee[0];ee=ee[1];var Re=ge.split("_");D=2<=Re.length&&"type"==Re[1]?D+(ge+"=")+ee+"&":D+(ge+"=redacted&")}}else D=null;else D=g;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+D})}(i.j,i.u,i.A,i.m,i.U,i.s)}function kt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Gn(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Yr(i,t),l==qe){4==e&&(i.o=4,or(14),o=!1),Jn(i.j,i.m,null,"[Incomplete Response]");break}if(l==it){i.o=4,or(15),Jn(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Jn(i.j,i.m,l,null),Xi(i,l)}kt(i)&&l!=qe&&l!=it&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,or(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ua(e),e.K=!0,or(11))):(Jn(i.j,i.m,t,"[Invalid Chunked Response]"),Es(i),qr(i))}function Yr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?qe:(t=Number(e.substring(t,o)),isNaN(t)?it:(o+=1)+t>e.length?qe:(e=e.substr(o,t),i.C=o+t,e))}function Dr(i){i.V=Date.now()+i.O,xi(i,i.O)}function xi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Rn(gt(i.gb,i),e)}function Sr(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function qr(i){0==i.l.G||i.I||_o(i.l,i)}function Es(i){Sr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,me(i.T),yt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Xi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||En(t.h,i)))if(!i.J&&En(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(ee){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Wo(t),Ai(t)}ka(t),or(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Rn(gt(t.cb,t),6e3));if(1>=Ci(t.h)&&t.ja){try{t.ja()}catch(ee){}t.ja=void 0}}else Ps(t,11)}else if((i.J||t.g==i)&&Wo(t),!Ze(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let ee=l[e];if(t.T=ee[0],ee=ee[1],2==t.G)if("c"==ee[0]){t.I=ee[1],t.ka=ee[2];const ge=ee[3];null!=ge&&(t.ma=ge,t.j.info("VER="+t.ma));const Re=ee[4];null!=Re&&(t.Ca=Re,t.j.info("SVER="+t.Ca));const ot=ee[5];null!=ot&&"number"==typeof ot&&0<ot&&(t.J=o=1.5*ot,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Pt=i.g;if(Pt){const Bt=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var g=o.h;g.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(jo(g,g.h),g.h=null))}if(o.D){const fn=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(o.za=fn,er(o.F,o.D,fn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var D=i;if((o=t).sa=ul(o,o.H?o.ka:null,o.V),D.J){ur(o.h,D);var N=D,W=o.J;W&&N.setTimeout(W),N.B&&(Sr(N),Dr(N)),o.g=D}else mo(o);0<t.i.length&&bo(t)}else"stop"!=ee[0]&&"close"!=ee[0]||Ps(t,7);else 3==t.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Ps(t,7):Qr(t):"noop"!=ee[0]&&t.l&&t.l.wa(ee),t.A=0)}Ji()}catch(ee){}}function Xn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ho(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if("undefined"!=typeof Map&&i instanceof Map)return Array.from(i.keys());if(!("undefined"!=typeof Set&&i instanceof Set)){if(ce(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function zs(i){if(i.W&&"function"==typeof i.W)return i.W();if("undefined"!=typeof Map&&i instanceof Map||"undefined"!=typeof Set&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ce(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,g=0;g<l;g++)e.call(void 0,o[g],t&&t[g],i)}(J=kr.prototype).setTimeout=function(i){this.O=i},J.ib=function(i){i=i.target;const e=this.L;e&&3==ie(i)?e.l():this.La(i)},J.La=function(i){try{if(i==this.g)e:{const ge=ie(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ge)&&(3!=ge||Vr||this.g&&(this.h.h||this.g.fa()||dt(this.g)))){this.I||4!=ge||7==e||Ji(),Sr(this);var t=this.g.aa();this.Y=t;t:if(kt(this)){var o=dt(this.g);i="";var l=o.length,g=4==ie(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),qr(this);var D="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:g&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.fa();if(this.i=200==t,function gn(i,e,t,o,l,g,D){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+g+" "+D})}(this.j,this.u,this.A,this.m,this.U,ge,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ze(N)){var ee=N;break t}}ee=null}if(!(t=ee)){this.i=!1,this.o=3,or(12),Es(this),qr(this);break e}Jn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xi(this,t)}this.P?(Gn(this,ge,D),Vr&&this.i&&3==ge&&(xe(this.S,this.T,"tick",this.hb),this.T.start())):(Jn(this.j,this.m,D,null),Xi(this,D)),4==ge&&Es(this),this.i&&!this.I&&(4==ge?_o(this.l,this):(this.i=!1,Dr(this)))}else 400==t&&0<D.indexOf("Unknown SID")?(this.o=3,or(12)):(this.o=0,or(13)),Es(this),qr(this)}}}catch(ge){}},J.hb=function(){if(this.g){var i=ie(this.g),e=this.g.fa();this.C<e.length&&(Sr(this),Gn(this,i,e),this.i&&4!=i&&Dr(this))}},J.cancel=function(){this.I=!0,Es(this)},J.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function sr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ji(),or(17)),Es(this),this.o=2,qr(this)):xi(this,this.V-i)};var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof fs){this.h=void 0!==e?e:i.h,Gi(this,i.j),this.s=i.s,this.g=i.g,Wi(this,i.m),this.l=i.l,e=i.i;var t=new ri;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ys(this,t),this.o=i.o}else i&&(t=String(i).match(To))?(this.h=!!e,Gi(this,t[1]||"",!0),this.s=Ds(t[2]||""),this.g=Ds(t[3]||"",!0),Wi(this,t[4]),this.l=Ds(t[5]||"",!0),Ys(this,t[6]||"",!0),this.o=Ds(t[7]||"")):(this.h=!!e,this.i=new ri(null,this.h))}function Ni(i){return new fs(i)}function Gi(i,e,t){i.j=t?Ds(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Wi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ys(i,e,t){e instanceof ri?(i.i=e,function Ki(i,e){e&&!i.j&&(Bs(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Ra(this,o),Br(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=no(e,Si)),i.i=new ri(e,i.h))}function er(i,e,t){i.i.set(e,t)}function to(i){return er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ds(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function no(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Uo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Uo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}fs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(no(e,ro,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(no(e,ro,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(no(t,"/"==t.charAt(0)?Bo:Vo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",no(t,qa)),i.join("")};var ro=/[#\/\?@]/g,Vo=/[#\?:]/g,Bo=/[#\?]/g,Si=/[#\?@]/g,qa=/#/g;function ri(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Bs(i){i.g||(i.g=new Map,i.h=0,i.i&&function eo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var g=i[t].substring(0,o);l=i[t].substring(o+1)}else g=i[t];e(g,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ra(i,e){Bs(i),e=fo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ll(i,e){return Bs(i),e=fo(i,e),i.g.has(e)}function Br(i,e,t){Ra(i,e),0<t.length&&(i.i=null,i.g.set(fo(i,e),Wt(t)),i.h+=t.length)}function fo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function xa(i){this.l=i||js,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=ri.prototype).add=function(i,e){Bs(this),this.i=null,i=fo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},J.forEach=function(i,e){Bs(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},J.oa=function(){Bs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let g=0;g<l.length;g++)t.push(e[o])}return t},J.W=function(i){Bs(this);let e=[];if("string"==typeof i)ll(this,i)&&(e=e.concat(this.g.get(fo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},J.set=function(i,e){return Bs(this),this.i=null,ll(this,i=fo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},J.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const g=encodeURIComponent(String(o)),D=this.W(o);for(o=0;o<D.length;o++){var l=g;""!==D[o]&&(l+="="+encodeURIComponent(String(D[o]))),i.push(l)}}return this.i=i.join("&")};var js=10;function oi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ci(i){return i.h?1:i.g?i.g.size:0}function En(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function jo(i,e){i.g?i.g.add(e):i.h=e}function ur(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Na(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Wt(i.i)}function Pr(){}function La(){this.g=new Pr}function Hs(i,e,t){const o=t||"";try{Xn(i,function(l,g){let D=l;Le(l)&&(D=Gr(l)),e.push(o+g+"="+encodeURIComponent(D))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Qs(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(g){}}function Dn(i){this.l=i.ac||null,this.j=i.jb||!1}function Cs(i,e){Fn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ia,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xa.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Pr.prototype.stringify=function(i){return Q.JSON.stringify(i,void 0)},Pr.prototype.parse=function(i){return Q.JSON.parse(i,void 0)},Ge(Dn,Ri),Dn.prototype.g=function(){return new Cs(this.l,this.j)},Dn.prototype.i=function(i){return function(){return i}}({}),Ge(Cs,Fn);var ia=0;function sa(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Ls(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Is(i)}function Is(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(J=Cs.prototype).open=function(i,e){if(this.readyState!=ia)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Is(this)},J.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ls(this)),this.readyState=ia},J.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Q.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sa(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},J.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ls(this):Is(this),3==this.readyState&&sa(this)}},J.Va=function(i){this.g&&(this.response=this.responseText=i,Ls(this))},J.Ua=function(i){this.g&&(this.response=i,Ls(this))},J.ga=function(){this.g&&Ls(this)},J.setRequestHeader=function(i,e){this.v.append(i,e)},J.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var po=Q.JSON.parse;function ii(i){Fn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ma,this.K=this.L=!1}Ge(ii,Fn);var ma="",Ot=/^https?$/i,Yn=["POST","PUT"];function $o(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ii(i),j(i)}function Ii(i){i.D||(i.D=!0,Nr(i,"complete"),Nr(i,"error"))}function G(i){if(i.h&&void 0!==he&&(!i.C[1]||4!=ie(i)||2!=i.aa()))if(i.v&&4==ie(i))ke(i.Ha,0,i);else if(Nr(i,"readystatechange"),4==ie(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===N){var l=String(i.H).match(To)[1]||null;if(!l&&Q.self&&Q.self.location){var g=Q.self.location.protocol;l=g.substr(0,g.length-1)}o=!Ot.test(l?l.toLowerCase():"")}t=o}if(t)Nr(i,"complete"),Nr(i,"success");else{i.m=6;try{var D=2<ie(i)?i.g.statusText:""}catch(W){D=""}i.j=D+" ["+i.aa()+"]",Ii(i)}}finally{j(i)}}}function j(i,e){if(i.g){L(i);const t=i.g,o=i.C[0]?Z:null;i.g=null,i.C=null,e||Nr(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function L(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function ie(i){return i.g?i.g.readyState:0}function dt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ma:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function en(i){let e="";return Zi(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function bi(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=en(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):er(i,e,t))}function es(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function io(i){this.Ca=0,this.i=[],this.j=new Gt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=es("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=es("baseRetryDelayMs",5e3,i),this.bb=es("retryDelaySeedMs",1e4,i),this.$a=es("forwardChannelMaxRetries",2,i),this.ta=es("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new xa(i&&i.concurrentRequestLimit),this.Fa=new La,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Qr(i){if(go(i),3==i.G){var e=i.U++,t=Ni(i.F);er(t,"SID",i.I),er(t,"RID",e),er(t,"TYPE","terminate"),oa(i,t),(e=new kr(i,i.j,e,void 0)).K=2,e.v=to(Ni(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon&&(t=Q.navigator.sendBeacon(e.v.toString(),"")),!t&&Q.Image&&((new Image).src=e.v,t=!0),t||(e.g=Oo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Dr(e)}_a(i)}function Ai(i){i.g&&(Ua(i),i.g.cancel(),i.g=null)}function go(i){Ai(i),i.u&&(Q.clearTimeout(i.u),i.u=null),Wo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function bo(i){oi(i.h)||i.m||(i.m=!0,Ht(i.Ja,i),i.C=0)}function Il(i,e){var t;t=e?e.m:i.U++;const o=Ni(i.F);er(o,"SID",i.I),er(o,"RID",t),er(o,"AID",i.T),oa(i,o),i.o&&i.s&&bi(o,i.o,i.s),t=new kr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Fs(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),jo(i.h,t),mt(t,o,e)}function oa(i,e){i.ia&&Zi(i.ia,function(t,o){er(e,o,t)}),i.l&&Xn({},function(t,o){er(e,o,t)})}function Fs(i,e,t){t=Math.min(i.i.length,t);var o=i.l?gt(i.l.Ra,i.l,i):null;e:{var l=i.i;let g=-1;for(;;){const D=["count="+t];-1==g?0<t?(g=l[0].h,D.push("ofs="+g)):g=0:D.push("ofs="+g);let N=!0;for(let W=0;W<t;W++){let ee=l[W].h;const ge=l[W].g;if(ee-=g,0>ee)g=Math.max(0,l[W].h-100),N=!1;else try{Hs(ge,D,"req"+ee+"_")}catch(Re){o&&o(ge)}}if(N){o=D.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function mo(i){i.g||i.u||(i.Z=1,Ht(i.Ia,i),i.A=0)}function ka(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Rn(gt(i.Ia,i),Mo(i,i.A)),i.A++,0))}function Ua(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Go(i){i.g=new kr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ni(i.sa);er(e,"RID","rpc"),er(e,"SID",i.I),er(e,"CI",i.L?"0":"1"),er(e,"AID",i.T),er(e,"TYPE","xmlhttp"),oa(i,e),i.o&&i.s&&bi(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=to(Ni(e)),t.s=null,t.P=!0,Qt(t,i)}function Wo(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function _o(i,e){var t=null;if(i.g==e){Wo(i),Ua(i),i.g=null;var o=2}else{if(!En(i.h,e))return;t=e.D,ur(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Nr(o=hs(),new $i(o,t)),bo(i)}else mo(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function Ao(i,e){return!(Ci(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Rn(gt(i.Ja,i,e),Mo(i,i.C)),i.C++,0)))}(i,e)||2==o&&ka(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:Ps(i,5);break;case 4:Ps(i,10);break;case 3:Ps(i,6);break;default:Ps(i,2)}}function Mo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function Ps(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=gt(i.kb,i);t||(t=new fs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Gi(t,"https"),to(t)),function Ho(i,e){const t=new Gt;if(Q.Image){const o=new Image;o.onload=xt(Qs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=xt(Qs,t,o,"TestLoadImage: error",!1,e),o.onabort=xt(Qs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=xt(Qs,t,o,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else or(2);i.G=0,i.l&&i.l.va(e),_a(i),go(i)}function _a(i){if(i.G=0,i.la=[],i.l){const e=Na(i.h);(0!=e.length||0!=i.i.length)&&($t(i.la,e),$t(i.la,i.i),i.h.i.length=0,Wt(i.i),i.i.length=0),i.l.ua()}}function ul(i,e,t){var o=t instanceof fs?Ni(t):new fs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Wi(o,o.m);else{var l=Q.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var g=new fs(null,void 0);o&&Gi(g,o),e&&(g.g=e),l&&Wi(g,l),t&&(g.l=t),o=g}return e=i.za,(t=i.D)&&e&&er(o,t,e),er(o,"VER",i.ma),oa(i,o),o}function Oo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(t&&i.Da&&!i.ra?new Dn({jb:!0}):i.ra)).Ka(i.H),e}function k(){}function q(){if(Mt&&!(10<=Number(lr)))throw Error("Environmental error: no available transport.")}function B(i,e){Fn.call(this),this.g=new io(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Ze(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ze(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new rt(this)}function se(i){_i.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function De(){Or.call(this),this.status=1}function rt(i){this.g=i}(J=ii.prototype).Ka=function(i){this.L=i},J.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tr.g(),this.C=function wn(i){return i.h||(i.h=i.i())}(this.u?this.u:Tr),this.g.onreadystatechange=gt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(g){return void $o(this,g)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const g of o.keys())t.set(g,o.get(g))}o=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),l=Q.FormData&&i instanceof Q.FormData,!(0<=Tt(Yn,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,D]of t)this.g.setRequestHeader(g,D);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{L(this),0<this.B&&((this.K=function Fa(i){return Mt&&function ni(){return function Vn(i){var e=$r;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=at(String(dr)).split("."),t=at("9").split("."),o=Math.max(e.length,t.length);for(let D=0;0==i&&D<o;D++){var l=e[D]||"",g=t[D]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;i=et(0==l[1].length?0:parseInt(l[1],10),0==g[1].length?0:parseInt(g[1],10))||et(0==l[2].length,0==g[2].length)||et(l[2],g[2]),l=l[3],g=g[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.qa,this)):this.A=ke(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){$o(this,g)}},J.qa=function(){void 0!==he&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},J.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Nr(this,"complete"),Nr(this,"abort"),j(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),j(this,!0)),ii.X.M.call(this)},J.Ha=function(){this.s||(this.F||this.v||this.l?G(this):this.fb())},J.fb=function(){G(this)},J.aa=function(){try{return 2<ie(this)?this.g.status:-1}catch(i){return-1}},J.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},J.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),po(e)}},J.Ea=function(){return this.m},J.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=io.prototype).ma=8,J.G=1,J.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new kr(this,this.j,i,void 0);let g=this.s;if(this.S&&(g?(g=ai(g),$e(g,this.S)):g=this.S),null!==this.o||this.N||(l.H=g,g=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fs(this,l,e),er(t=Ni(this.F),"RID",i),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),oa(this,t),g&&(this.N?e="headers="+encodeURIComponent(String(en(g)))+"&"+e:this.o&&bi(t,this.o,g)),jo(this.h,l),this.Ya&&er(t,"TYPE","init"),this.O?(er(t,"$req",e),er(t,"SID","null"),l.Z=!0,mt(l,t,null)):mt(l,t,e),this.G=2}}else 3==this.G&&(i?Il(this,i):0==this.i.length||oi(this.h)||Il(this))},J.Ia=function(){if(this.u=null,Go(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Rn(gt(this.eb,this),i)}},J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,or(10),Ai(this),Go(this))},J.cb=function(){null!=this.v&&(this.v=null,Ai(this),ka(this),or(19))},J.kb=function(i){i?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))},(J=k.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Ra=function(){},q.prototype.g=function(i,e){return new B(i,e)},Ge(B,Fn),B.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;or(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ul(i,null,i.V),bo(i)},B.prototype.close=function(){Qr(this.g)},B.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Gr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&bo(e)},B.prototype.M=function(){this.g.l=null,delete this.j,Qr(this.g),delete this.g,B.X.M.call(this)},Ge(se,_i),Ge(De,Or),Ge(rt,k),rt.prototype.xa=function(){Nr(this.g,"a")},rt.prototype.wa=function(i){Nr(this.g,new se(i))},rt.prototype.va=function(i){Nr(this.g,new De)},rt.prototype.ua=function(){Nr(this.g,"b")},q.prototype.createWebChannel=q.prototype.g,B.prototype.send=B.prototype.u,B.prototype.open=B.prototype.m,B.prototype.close=B.prototype.close,In.NO_ERROR=0,In.TIMEOUT=8,In.HTTP_ERROR=6,bn.COMPLETE="complete",wo.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",Fn.prototype.listen=Fn.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.Oa,ii.prototype.getLastErrorCode=ii.prototype.Ea,ii.prototype.getStatus=ii.prototype.aa,ii.prototype.getResponseJson=ii.prototype.Sa,ii.prototype.getResponseText=ii.prototype.fa,ii.prototype.send=ii.prototype.da,ii.prototype.setWithCredentials=ii.prototype.Ka;var ft=oe.createWebChannelTransport=function(){return new q},tn=oe.getStatEventTarget=function(){return hs()},jr=oe.ErrorCode=In,Mn=oe.EventType=bn,hr=oe.Event=Ar,ar=oe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Li=oe.FetchXmlHttpFactory=Dn,br=oe.WebChannel=wo,ts=oe.XhrIo=ii;const ws="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let Mi="9.17.1";const ls=new V.Yd("@firebase/firestore");function ps(){return ls.logLevel}function Lt(i,...e){if(ls.logLevel<=V.in.DEBUG){const t=e.map(Za);ls.debug(`Firestore (${Mi}): ${i}`,...t)}}function ns(i,...e){if(ls.logLevel<=V.in.ERROR){const t=e.map(Za);ls.error(`Firestore (${Mi}): ${i}`,...t)}}function yo(i,...e){if(ls.logLevel<=V.in.WARN){const t=e.map(Za);ls.warn(`Firestore (${Mi}): ${i}`,...t)}}function Za(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function nn(i="Unexpected state"){const e=`FIRESTORE (${Mi}) INTERNAL ASSERTION FAILED: `+i;throw ns(e),new Error(e)}function Tn(i,e){i||nn()}function Zt(i,e){return i}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ja{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class Ko{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qs{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const g=ee=>this.i!==l?(l=this.i,t(ee)):Promise.resolve();let D=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Ts,e.enqueueRetryable(()=>g(this.currentUser))};const N=()=>{const ee=D;e.enqueueRetryable((0,f.Z)(function*(){yield ee.promise,yield g(o.currentUser)}))},W=ee=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(ee=>W(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?W(ee):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Ts)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tn("string"==typeof o.accessToken),new Ja(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(null===e||"string"==typeof e),new Zr(e)}}class Zl{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=Zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ks{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new Zl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Po{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=g=>{null!=g.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const D=g.token!==this.A;return this.A=g.token,Lt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>o(g))};const l=g=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>l(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?l(g):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tn("string"==typeof t.token),this.A=t.token,new aa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wl(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Tl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=wl(40);for(let g=0;g<l.length;++g)o.length<20&&l[g]<t&&(o+=e.charAt(l[g]%e.length))}return o}}function nr(i,e){return i<e?-1:i>e?1:0}function Rs(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function _u(i){return i+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ui(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nr(this.nanoseconds,e.nanoseconds):nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new ui(0,0))}static max(){return new Sn(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class la{constructor(e,t,o){void 0===t?t=0:t>e.length&&nn(),void 0===o?o=e.length-t:o>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===la.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const g=e.get(l),D=t.get(l);if(g<D)return-1;if(g>D)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vr extends la{construct(e,t,o){return new vr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new wt(ut.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new vr(t)}static emptyPath(){return new vr([])}}const us=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends la{construct(e,t,o){return new gr(e,t,o)}static isValidIdentifier(e){return us.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const g=()=>{if(0===o.length)throw new wt(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let D=!1;for(;l<e.length;){const N=e[l];if("\\"===N){if(l+1===e.length)throw new wt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[l+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new wt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=W,l+=2}else"`"===N?(D=!D,l++):"."!==N||D?(o+=N,l++):(g(),l++)}if(g(),D)throw new wt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(t)}static emptyPath(){return new gr([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(vr.fromString(e))}static fromName(e){return new Jt(vr.fromString(e).popFirst(5))}static empty(){return new Jt(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new vr(e.slice()))}}class zo{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function va(i){return i.fields.find(e=>2===e.kind)}function vo(i){return i.fields.filter(e=>2!==e.kind)}zo.UNKNOWN_ID=-1;class Va{constructor(e,t){this.fieldPath=e,this.kind=t}}class cl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cl(0,zi.min())}}function hl(i){return new zi(i.readTime,i.key,-1)}class zi{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new zi(Sn.min(),Jt.empty(),-1)}static max(){return new zi(Sn.max(),Jt.empty(),-1)}}function Ea(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(i.documentKey,e.documentKey),0!==t?t:nr(i.largestBatchId,e.largestBatchId))}const Jl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ba{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function so(i){return Da.apply(this,arguments)}function Da(){return Da=(0,f.Z)(function*(i){if(i.code!==ut.FAILED_PRECONDITION||i.message!==Jl)throw i;Lt("LocalStore","Unexpectedly lost primary lease")}),Da.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((o,l)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(o,l)},this.catchCallback=g=>{this.wrapFailure(t,g).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,o)=>{t(e)})}static reject(e){return new ct((t,o)=>{o(e)})}static waitFor(e){return new ct((t,o)=>{let l=0,g=0,D=!1;e.forEach(N=>{++l,N.next(()=>{++g,D&&g===l&&t()},W=>o(W))}),D=!0,g===l&&t()})}static or(e){let t=ct.resolve(!1);for(const o of e)t=t.next(l=>l?ct.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,g)=>{o.push(t.call(this,l,g))}),this.waitFor(o)}static mapArray(e,t){return new ct((o,l)=>{const g=e.length,D=new Array(g);let N=0;for(let W=0;W<g;W++){const ee=W;t(e[ee]).next(ge=>{D[ee]=ge,++N,N===g&&o(D)},ge=>l(ge))}})}static doWhile(e,t){return new ct((o,l)=>{const g=()=>{!0===e()?t().next(()=>{g()},l):o()};g()})}}class Eo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ts,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Xa(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const l=ci(o.target.error);this.P.reject(new Xa(e,l))}}static open(e,t,o,l){try{return new Eo(t,e.transaction(l,o))}catch(g){throw new Xa(t,g)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new el(t)}}class Ss{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Ss.D((0,le.z$)())&&ns("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lt("SimpleDb","Removing database:",e),Do(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,le.hl)())return!1;if(Ss.N())return!0;const e=(0,le.z$)(),t=Ss.D(e),o=0<t&&t<10,l=Ss.k(e),g=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||g)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,f.Z)(function*(){return t.db||(Lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=D=>{o(D.target.result)},g.onblocked=()=>{l(new Xa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=D=>{const N=D.target.error;l("VersionError"===N.name?new wt(ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new wt(ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Xa(e,N))},g.onupgradeneeded=D=>{Lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',D.oldVersion),t.S.$(D.target.result,g.transaction,D.oldVersion,t.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var g=this;return(0,f.Z)(function*(){const D="readonly"===t;let N=0;for(;;){++N;try{g.db=yield g.F(e);const W=Eo.open(g.db,e,D?"readonly":"readwrite",o),ee=l(W).next(ge=>(W.V(),ge)).catch(ge=>(W.abort(ge),ct.reject(ge))).toPromise();return ee.catch(()=>{}),yield W.v,ee}catch(W){const ee=W,ge="FirebaseError"!==ee.name&&N<3;if(Lt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",ge),g.close(),!ge)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ca{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Do(this.q.delete())}}class Xa extends wt{constructor(e,t){super(ut.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ro(i){return"IndexedDbTransactionError"===i.name}class el{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Lt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Do(o)}add(e){return Lt("SimpleDb","ADD",this.store.name,e,e),Do(this.store.add(e))}get(e){return Do(this.store.get(e)).next(t=>(void 0===t&&(t=null),Lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Lt("SimpleDb","DELETE",this.store.name,e),Do(this.store.delete(e))}count(){return Lt("SimpleDb","COUNT",this.store.name),Do(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),g=[];return this.H(l,(D,N)=>{g.push(N)}).next(()=>g)}{const l=this.store.getAll(o.range);return new ct((g,D)=>{l.onerror=N=>{D(N.target.error)},l.onsuccess=N=>{g(N.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ct((l,g)=>{o.onerror=D=>{g(D.target.error)},o.onsuccess=D=>{l(D.target.result)}})}Y(e,t){Lt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const l=this.cursor(o);return this.H(l,(g,D,N)=>N.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.H(l,t)}tt(e){const t=this.cursor({});return new ct((o,l)=>{t.onerror=g=>{const D=ci(g.target.error);l(D)},t.onsuccess=g=>{const D=g.target.result;D?e(D.primaryKey,D.value).next(N=>{N?D.continue():o()}):o()}})}H(e,t){const o=[];return new ct((l,g)=>{e.onerror=D=>{g(D.target.error)},e.onsuccess=D=>{const N=D.target.result;if(!N)return void l();const W=new Ca(N),ee=t(N.primaryKey,N.value,W);if(ee instanceof ct){const ge=ee.catch(Re=>(W.done(),ct.reject(Re)));o.push(ge)}W.isDone?l():null===W.G?N.continue():N.continue(W.G)}}).next(()=>ct.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Do(i){return new ct((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=ci(o.target.error);t(l)}})}let vu=!1;function ci(i){const e=Ss.D((0,le.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vu||(vu=!0,setTimeout(()=>{throw o},0)),o}}return i}class tl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{Lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Ro(o)?Lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield so(o)}yield t.nt(6e4)}))}}class Yu{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let l=t,g=!0;return ct.doWhile(()=>!0===g&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!o.has(D))return Lt("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,l).next(N=>{l-=N,o.add(D)});g=!1})).next(()=>t-l)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(g=>{const D=g.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(l,g)).next(N=>(Lt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>D.size)}))}ot(e,t){let o=e;return t.changes.forEach((l,g)=>{const D=hl(g);Ea(D,o)>0&&(o=D)}),new zi(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zs=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>o.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Pu{constructor(e,t,o,l,g,D,N,W){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=g,this.forceLongPolling=D,this.autoDetectLongPolling=N,this.useFetchStreams=W}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}function Ia(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Fi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ja(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qo(i){return null==i}function rl(i){return 0===i&&1/i==-1/0}class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let g=0;g<o.length;++g)l+=String.fromCharCode(o[g]);return l}(e);return new Yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(i){if(Tn(!!i),"string"==typeof i){let e=0;const t=yc.exec(i);if(Tn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:O(i.seconds),nanos:O(i.nanos)}}function O(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function T(i){return"string"==typeof i?Yi.fromBase64String(i):Yi.fromUint8Array(i)}function F(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $(i){const e=i.mapValue.fields.__previous_value__;return F(e)?$(e):e}function re(i){const e=M(i.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}const ve={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ce={nullValue:"NULL_VALUE"};function Xe(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?F(i)?4:Ru(i)?9007199254740991:10:nn()}function jt(i,e){if(i===e)return!0;const t=Xe(i);if(t!==Xe(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return re(i).isEqual(re(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const g=M(o.timestampValue),D=M(l.timestampValue);return g.seconds===D.seconds&&g.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,T(i.bytesValue).isEqual(T(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return O(o.geoPointValue.latitude)===O(l.geoPointValue.latitude)&&O(o.geoPointValue.longitude)===O(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return O(o.integerValue)===O(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const g=O(o.doubleValue),D=O(l.doubleValue);return g===D?rl(g)===rl(D):isNaN(g)&&isNaN(D)}return!1}(i,e);case 9:return Rs(i.arrayValue.values||[],e.arrayValue.values||[],jt);case 10:return function(o,l){const g=o.mapValue.fields||{},D=l.mapValue.fields||{};if(Ia(g)!==Ia(D))return!1;for(const N in g)if(g.hasOwnProperty(N)&&(void 0===D[N]||!jt(g[N],D[N])))return!1;return!0}(i,e);default:return nn()}var l}function hn(i,e){return void 0!==(i.values||[]).find(t=>jt(t,e))}function Yt(i,e){if(i===e)return 0;const t=Xe(i),o=Xe(e);if(t!==o)return nr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return nr(i.booleanValue,e.booleanValue);case 2:return function(l,g){const D=O(l.integerValue||l.doubleValue),N=O(g.integerValue||g.doubleValue);return D<N?-1:D>N?1:D===N?0:isNaN(D)?isNaN(N)?0:-1:1}(i,e);case 3:return vn(i.timestampValue,e.timestampValue);case 4:return vn(re(i),re(e));case 5:return nr(i.stringValue,e.stringValue);case 6:return function(l,g){const D=T(l),N=T(g);return D.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(l,g){const D=l.split("/"),N=g.split("/");for(let W=0;W<D.length&&W<N.length;W++){const ee=nr(D[W],N[W]);if(0!==ee)return ee}return nr(D.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,g){const D=nr(O(l.latitude),O(g.latitude));return 0!==D?D:nr(O(l.longitude),O(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,g){const D=l.values||[],N=g.values||[];for(let W=0;W<D.length&&W<N.length;++W){const ee=Yt(D[W],N[W]);if(ee)return ee}return nr(D.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,g){if(l===ve.mapValue&&g===ve.mapValue)return 0;if(l===ve.mapValue)return 1;if(g===ve.mapValue)return-1;const D=l.fields||{},N=Object.keys(D),W=g.fields||{},ee=Object.keys(W);N.sort(),ee.sort();for(let ge=0;ge<N.length&&ge<ee.length;++ge){const Re=nr(N[ge],ee[ge]);if(0!==Re)return Re;const ot=Yt(D[N[ge]],W[ee[ge]]);if(0!==ot)return ot}return nr(N.length,ee.length)}(i.mapValue,e.mapValue);default:throw nn()}}function vn(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return nr(i,e);const t=M(i),o=M(e),l=nr(t.seconds,o.seconds);return 0!==l?l:nr(t.nanos,o.nanos)}function Zn(i){return Jr(i)}function Jr(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=M(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?T(i.bytesValue).toBase64():"referenceValue"in i?Jt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",g=!0;for(const D of o.values||[])g?g=!1:l+=",",l+=Jr(D);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let g="{",D=!0;for(const N of l)D?D=!1:g+=",",g+=`${N}:${Jr(o.fields[N])}`;return g+"}"}(i.mapValue):nn();var e}function bs(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gs(i){return!!i&&"integerValue"in i}function xo(i){return!!i&&"arrayValue"in i}function xs(i){return!!i&&"nullValue"in i}function wa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $s(i){return!!i&&"mapValue"in i}function il(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fi(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=il(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=il(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ru(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function jl(i){return"nullValue"in i?Ce:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?bs(nl.empty(),Jt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:nn()}function fl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?bs(nl.empty(),Jt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ve:nn()}function Yc(i,e){const t=Yt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Hl(i,e){const t=Yt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class oo{constructor(e,t){this.position=e,this.inclusive=t}}function No(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const g=e[l],D=i.position[l];if(o=g.field.isKeyField()?Jt.comparator(Jt.fromName(D.referenceValue),t.key):Yt(D,t.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return o}function Sl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!jt(i.position[t],e.position[t]))return!1;return!0}class Eu{}class Cr extends Eu{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Qu(e,t,o):"array-contains"===t?new ru(e,o):"in"===t?new Ha(e,o):"not-in"===t?new $l(e,o):"array-contains-any"===t?new xu(e,o):new Cr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new qu(e,o):new tu(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yt(t,this.value)):null!==t&&Xe(this.value)===Xe(t)&&this.matchesComparison(Yt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xr extends Eu{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Xr(e,t)}matches(e){return Ta(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ta(i){return"and"===i.op}function Lo(i){return"or"===i.op}function eu(i){return rs(i)&&Ta(i)}function rs(i){for(const e of i.filters)if(e instanceof Xr)return!1;return!0}function pl(i){if(i instanceof Cr)return i.field.canonicalString()+i.op.toString()+Zn(i.value);if(eu(i))return i.filters.map(e=>pl(e)).join(",");{const e=i.filters.map(t=>pl(t)).join(",");return`${i.op}(${e})`}}function gl(i,e){return i instanceof Cr?(t=i,(o=e)instanceof Cr&&t.op===o.op&&t.field.isEqual(o.field)&&jt(t.value,o.value)):i instanceof Xr?function(t,o){return o instanceof Xr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,g,D)=>l&&gl(g,o.filters[D]),!0)}(i,e):void nn();var t,o}function ua(i,e){const t=i.filters.concat(e);return Xr.create(t,i.op)}function bl(i){return i instanceof Cr?`${(e=i).field.canonicalString()} ${e.op} ${Zn(e.value)}`:i instanceof Xr?function(e){return e.op.toString()+" {"+e.getFilters().map(bl).join(" ,")+"}"}(i):"Filter";var e}class Qu extends Cr{constructor(e,t,o){super(e,t,o),this.key=Jt.fromName(o.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class qu extends Cr{constructor(e,t){super(e,"in",t),this.keys=nu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tu extends Cr{constructor(e,t){super(e,"not-in",t),this.keys=nu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Jt.fromName(o.referenceValue))}class ru extends Cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xo(t)&&hn(t.arrayValue,this.value)}}class Ha extends Cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hn(this.value.arrayValue,t)}}class $l extends Cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(hn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hn(this.value.arrayValue,t)}}class xu extends Cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>hn(this.value.arrayValue,o))}}class Sa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Du(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pi{constructor(e,t){this.comparator=e,this.root=t||Gs.EMPTY}insert(e,t){return new Pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gs.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ca(this.root,e,this.comparator,!0)}}class ca{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?o(e.key,t):1,t&&l&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gs{constructor(e,t,o,l,g){this.key=e,this.value=t,this.color=null!=o?o:Gs.RED,this.left=null!=l?l:Gs.EMPTY,this.right=null!=g?g:Gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,g){return new Gs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const g=o(e,l.key);return l=g<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===g?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Gs.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}Gs.EMPTY=null,Gs.RED=!0,Gs.BLACK=!1,Gs.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Gs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ao(this.data.getIterator())}getIteratorFrom(e){return new ao(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=o.getNext().key;if(0!==this.comparator(l,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class ao{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ms(i){return i.hasNext()?i.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Us([])}unionWith(e){let t=new di(gr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!$s(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(t)}setAll(e){let t=gr.emptyPath(),o={},l=[];e.forEach((D,N)=>{if(!t.isImmediateParentOf(N)){const W=this.getFieldsMap(t);this.applyChanges(W,o,l),o={},l=[],t=N.popLast()}D?o[N.lastSegment()]=il(D):l.push(N.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,o,l)}delete(e){const t=this.field(e.popLast());$s(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];$s(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Fi(t,(l,g)=>e[l]=g);for(const l of o)delete e[l]}clone(){return new Ws(il(this.value))}}function Nu(i){const e=[];return Fi(i.fields,(t,o)=>{const l=new gr([t]);if($s(o)){const g=Nu(o.mapValue).fields;if(0===g.length)e.push(l);else for(const D of g)e.push(l.child(D))}else e.push(l)}),new Us(e)}class ki{constructor(e,t,o,l,g,D,N){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=g,this.data=D,this.documentState=N}static newInvalidDocument(e){return new ki(e,0,Sn.min(),Sn.min(),Sn.min(),Ws.empty(),0)}static newFoundDocument(e,t,o,l){return new ki(e,1,t,Sn.min(),o,l,0)}static newNoDocument(e,t){return new ki(e,2,t,Sn.min(),Sn.min(),Ws.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,Sn.min(),Sn.min(),Ws.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cu{constructor(e,t=null,o=[],l=[],g=null,D=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=g,this.startAt=D,this.endAt=N,this.ft=null}}function Al(i,e=null,t=[],o=[],l=null,g=null,D=null){return new Cu(i,e,t,o,l,g,D)}function Ml(i){const e=Zt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>pl(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Qo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Zn(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Zn(o)).join(",")),e.ft=t}return e.ft}function Fo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Du(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!gl(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Sl(i.startAt,e.startAt)&&Sl(i.endAt,e.endAt)}function $a(i){return Jt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function iu(i,e){return i.filters.filter(t=>t instanceof Cr&&t.field.isEqual(e))}function Gl(i,e,t){let o=Ce,l=!0;for(const g of iu(i,e)){let D=Ce,N=!0;switch(g.op){case"<":case"<=":D=jl(g.value);break;case"==":case"in":case">=":D=g.value;break;case">":D=g.value,N=!1;break;case"!=":case"not-in":D=Ce}Yc({value:o,inclusive:l},{value:D,inclusive:N})<0&&(o=D,l=N)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const D=t.position[g];Yc({value:o,inclusive:l},{value:D,inclusive:t.inclusive})<0&&(o=D,l=t.inclusive);break}return{value:o,inclusive:l}}function Wl(i,e,t){let o=ve,l=!0;for(const g of iu(i,e)){let D=ve,N=!0;switch(g.op){case">=":case">":D=fl(g.value),N=!1;break;case"==":case"in":case"<=":D=g.value;break;case"<":D=g.value,N=!1;break;case"!=":case"not-in":D=ve}Hl({value:o,inclusive:l},{value:D,inclusive:N})>0&&(o=D,l=N)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const D=t.position[g];Hl({value:o,inclusive:l},{value:D,inclusive:t.inclusive})>0&&(o=D,l=t.inclusive);break}return{value:o,inclusive:l}}class _s{constructor(e,t=null,o=[],l=[],g=null,D="F",N=null,W=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=g,this.limitType=D,this.startAt=N,this.endAt=W,this.dt=null,this._t=null}}function su(i){return new _s(i)}function Ol(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ou(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ml(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Kl(i){return null!==i.collectionGroup}function Ga(i){const e=Zt(i);if(null===e.dt){e.dt=[];const t=ml(e),o=ou(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new Sa(t)),e.dt.push(new Sa(gr.keyField(),"asc"));else{let l=!1;for(const g of e.explicitOrderBy)e.dt.push(g),g.field.isKeyField()&&(l=!0);if(!l){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Sa(gr.keyField(),g))}}}return e.dt}function Qi(i){const e=Zt(i);if(!e._t)if("F"===e.limitType)e._t=Al(e.path,e.collectionGroup,Ga(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of Ga(e))t.push(new Sa(g.field,"desc"===g.dir?"asc":"desc"));const o=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;e._t=Al(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function wu(i,e){e.getFirstInequalityField(),ml(i);const t=i.filters.concat([e]);return new _s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function _l(i,e,t){return new _s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Tu(i,e){return Fo(Qi(i),Qi(e))&&i.limitType===e.limitType}function Pl(i){return`${Ml(Qi(i))}|lt:${i.limitType}`}function yl(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>bl(o)).join(", ")}]`),Qo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Zn(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Zn(o)).join(",")),`Target(${t})`}(Qi(i))}; limitType=${i.limitType})`}function vl(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Jt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of Ga(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,g,D){const N=No(l,g,D);return l.inclusive?N<=0:N<0}(t.startAt,Ga(t),o)||t.endAt&&!function(l,g,D){const N=No(l,g,D);return l.inclusive?N>=0:N>0}(t.endAt,Ga(t),o)));var t,o}function ba(i){return(e,t)=>{let o=!1;for(const l of Ga(i)){const g=Rl(l,e,t);if(0!==g)return g;o=o||l.field.isKeyField()}return 0}}function Rl(i,e,t){const o=i.field.isKeyField()?Jt.comparator(e.key,t.key):function(l,g,D){const N=g.data.field(l),W=D.data.field(l);return null!==N&&null!==W?Yt(N,W):nn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}function Zu(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(e)?"-0":e}}function Lu(i){return{integerValue:""+i}}function Fu(i,e){return function wi(i){return"number"==typeof i&&Number.isInteger(i)&&!rl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Lu(e):Zu(i,e)}class Su{constructor(){this._=void 0}}function vc(i,e,t){return i instanceof xl?function(o,l){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(g.fields.__previous_value__=l),{mapValue:g}}(t,e):i instanceof da?Ma(i,e):i instanceof Nl?bu(i,e):function(o,l){const g=sl(o,l),D=I(g)+I(o.gt);return gs(g)&&gs(o.gt)?Lu(D):Zu(o.yt,D)}(i,e)}function Aa(i,e,t){return i instanceof da?Ma(i,e):i instanceof Nl?bu(i,e):t}function sl(i,e){return i instanceof El?gs(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class xl extends Su{}class da extends Su{constructor(e){super(),this.elements=e}}function Ma(i,e){const t=E(e);for(const o of i.elements)t.some(l=>jt(l,o))||t.push(o);return{arrayValue:{values:t}}}class Nl extends Su{constructor(e){super(),this.elements=e}}function bu(i,e){let t=E(e);for(const o of i.elements)t=t.filter(l=>!jt(l,o));return{arrayValue:{values:t}}}class El extends Su{constructor(e,t){super(),this.yt=e,this.gt=t}}function I(i){return O(i.integerValue||i.doubleValue)}function E(i){return xo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _{constructor(e,t){this.field=e,this.transform=t}}class K{constructor(e,t){this.version=e,this.transformResults=t}}class ne{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ne}static exists(e){return new ne(void 0,e)}static updateTime(e){return new ne(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ye(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Se{}function Je(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new cs(i.key,ne.none()):new On(i.key,i.data,ne.none());{const t=i.data,o=Ws.empty();let l=new di(gr.comparator);for(let g of e.fields)if(!l.has(g)){let D=t.field(g);null===D&&g.length>1&&(g=g.popLast(),D=t.field(g)),null===D?o.delete(g):o.set(g,D),l=l.add(g)}return new on(i.key,o,new Us(l.toArray()),ne.none())}}function _t(i,e,t){i instanceof On?function(o,l,g){const D=o.value.clone(),N=Hr(o.fieldTransforms,l,g.transformResults);D.setAll(N),l.convertToFoundDocument(g.version,D).setHasCommittedMutations()}(i,e,t):i instanceof on?function(o,l,g){if(!ye(o.precondition,l))return void l.convertToUnknownDocument(g.version);const D=Hr(o.fieldTransforms,l,g.transformResults),N=l.data;N.setAll(Wn(o)),N.setAll(D),l.convertToFoundDocument(g.version,N).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ut(i,e,t,o){return i instanceof On?function(l,g,D,N){if(!ye(l.precondition,g))return D;const W=l.value.clone(),ee=yi(l.fieldTransforms,N,g);return W.setAll(ee),g.convertToFoundDocument(g.version,W).setHasLocalMutations(),null}(i,e,t,o):i instanceof on?function(l,g,D,N){if(!ye(l.precondition,g))return D;const W=yi(l.fieldTransforms,N,g),ee=g.data;return ee.setAll(Wn(l)),ee.setAll(W),g.convertToFoundDocument(g.version,ee).setHasLocalMutations(),null===D?null:D.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ge=>ge.field))}(i,e,t,o):(D=t,ye(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):D);var g,D}function sn(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),g=sl(o.transform,l||null);null!=g&&(null===t&&(t=Ws.empty()),t.set(o.field,g))}return t||null}function kn(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Rs(t,o,(l,g)=>function x(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof da&&o instanceof da||t instanceof Nl&&o instanceof Nl?Rs(t.elements,o.elements,jt):t instanceof El&&o instanceof El?jt(t.gt,o.gt):t instanceof xl&&o instanceof xl);var t,o}(l,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class On extends Se{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class on extends Se{constructor(e,t,o,l,g=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Wn(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Hr(i,e,t){const o=new Map;Tn(i.length===t.length);for(let l=0;l<t.length;l++){const g=i[l],D=g.transform,N=e.data.field(g.field);o.set(g.field,Aa(D,N,t[l]))}return o}function yi(i,e,t){const o=new Map;for(const l of i){const g=l.transform,D=t.data.field(l.field);o.set(l.field,vc(g,D,e))}return o}class cs extends Se{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vi extends Se{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class As{constructor(e){this.count=e}}var ei,fr;function Ui(i){switch(i){default:return nn();case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0}}function ys(i){if(void 0===i)return ns("GRPC error has no .code"),ut.UNKNOWN;switch(i){case ei.OK:return ut.OK;case ei.CANCELLED:return ut.CANCELLED;case ei.UNKNOWN:return ut.UNKNOWN;case ei.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case ei.INTERNAL:return ut.INTERNAL;case ei.UNAVAILABLE:return ut.UNAVAILABLE;case ei.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case ei.NOT_FOUND:return ut.NOT_FOUND;case ei.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case ei.ABORTED:return ut.ABORTED;case ei.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case ei.DATA_LOSS:return ut.DATA_LOSS;default:return nn()}}(fr=ei||(ei={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,g]of o)if(this.equalsFn(l,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let g=0;g<l.length;g++)if(this.equalsFn(l[g][0],e))return void(l[g]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(t,o)=>{for(const[l,g]of o)e(l,g)})}isEmpty(){return ja(this.inner)}size(){return this.innerSize}}const ha=new Pi(Jt.comparator);function is(){return ha}const hi=new Pi(Jt.comparator);function Zo(...i){let e=hi;for(const t of i)e=e.insert(t.key,t);return e}function Ll(i){let e=hi;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Co(){return xn()}function Cn(){return xn()}function xn(){return new qo(i=>i.toString(),(i,e)=>i.isEqual(e))}const rr=new Pi(Jt.comparator),Ur=new di(Jt.comparator);function mn(...i){let e=Ur;for(const t of i)e=e.add(t);return e}const Jo=new di(nr);function Ns(){return Jo}class fa{constructor(e,t,o,l,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,fi.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new fa(Sn.min(),l,Ns(),is(),mn())}}class fi{constructor(e,t,o,l,g){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new fi(o,t,mn(),mn(),mn())}}class Fl{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class ku{constructor(e,t){this.targetId=e,this.Et=t}}class Js{constructor(e,t,o=Yi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class ol{constructor(){this.At=0,this.Rt=y(),this.bt=Yi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=mn(),t=mn(),o=mn();return this.Rt.forEach((l,g)=>{switch(g){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:nn()}}),new fi(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=y()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class b{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=is(),this.qt=p(),this.Ut=new di(nr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,o=e.Et.count,l=this.Yt(t);if(l){const g=l.target;if($a(g))if(0===o){const D=new Jt(g.path);this.Qt(t,D,ki.newNoDocument(D,Sn.min()))}else Tn(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((g,D)=>{const N=this.Yt(D);if(N){if(g.current&&$a(N.target)){const W=new Jt(N.target.path);null!==this.Lt.get(W)||this.te(D,W)||this.Qt(D,W,ki.newNoDocument(W,e))}g.St&&(t.set(D,g.Ct()),g.xt())}});let o=mn();this.qt.forEach((g,D)=>{let N=!0;D.forEachWhile(W=>{const ee=this.Yt(W);return!ee||2===ee.purpose||(N=!1,!1)}),N&&(o=o.add(g))}),this.Lt.forEach((g,D)=>D.setReadTime(e));const l=new fa(e,t,this.Ut,this.Lt,o);return this.Lt=is(),this.qt=p(),this.Ut=new di(nr),l}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new ol,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new di(nr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Lt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ol),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function p(){return new Pi(Jt.comparator)}function y(){return new Pi(Jt.comparator)}const A={asc:"ASCENDING",desc:"DESCENDING"},X={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fe={and:"AND",or:"OR"};class Qe{constructor(e,t){this.databaseId=e,this.wt=t}}function It(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dn(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Pn(i,e){return It(i,e.toTimestamp())}function Un(i){return Tn(!!i),Sn.fromTimestamp(function(e){const t=M(e);return new ui(t.seconds,t.nanos)}(i))}function Vi(i,e){return(t=i,new vr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Oa(i){const e=vr.fromString(i);return Tn(Pf(e)),e}function Wa(i,e){return Vi(i.databaseId,e.path)}function pa(i,e){const t=Oa(e);if(t.get(1)!==i.databaseId.projectId)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new wt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Jt(Ju(t))}function lu(i,e){return Vi(i.databaseId,e)}function kl(i){const e=Oa(i);return 4===e.length?vr.emptyPath():Ju(e)}function uu(i){return new vr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ju(i){return Tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Xu(i,e,t){return{name:Wa(i,e),fields:t.value.mapValue.fields}}function Uu(i,e){let t;if(e instanceof On)t={update:Xu(i,e.key,e.value)};else if(e instanceof cs)t={delete:Wa(i,e.key)};else if(e instanceof on)t={update:Xu(i,e.key,e.data),updateMask:Tc(e.fieldMask)};else{if(!(e instanceof vi))return nn();t={verify:Wa(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,g){const D=g.transform;if(D instanceof xl)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof da)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Nl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof El)return{fieldPath:g.field.canonicalString(),increment:D.gt};throw nn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Pn(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:nn()),t;var l}function Dc(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?ne.updateTime(Un(l.updateTime)):void 0!==l.exists?ne.exists(l.exists):ne.none():ne.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(g,D){let N=null;"setToServerValue"in D?(Tn("REQUEST_TIME"===D.setToServerValue),N=new xl):"appendMissingElements"in D?N=new da(D.appendMissingElements.values||[]):"removeAllFromArray"in D?N=new Nl(D.removeAllFromArray.values||[]):"increment"in D?N=new El(g,D.increment):nn();const W=gr.fromServerFormat(D.fieldPath);return new _(W,N)}(i,l)):[];var l;if(e.update){const l=pa(i,e.update.name),g=new Ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new Us((e.updateMask.fieldPaths||[]).map(ee=>gr.fromServerFormat(ee)));return new on(l,g,D,t,o)}return new On(l,g,t,o)}if(e.delete){const l=pa(i,e.delete);return new cs(l,t)}if(e.verify){const l=pa(i,e.verify);return new vi(l,t)}return nn()}function Cc(i,e){return{documents:[lu(i,e.path)]}}function Ic(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=lu(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lu(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(W){if(0!==W.length)return Bu(Xr.create(W,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const g=function(W){if(0!==W.length)return W.map(ee=>{return{field:du((ge=ee).field),direction:fh(ge.dir)};var ge})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const D=(ee=e.limit,i.wt||Qo(ee)?ee:{value:ee});var ee,N,W;return null!==D&&(t.structuredQuery.limit=D),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),t}function ch(i){let e=kl(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Tn(1===o);const ge=t.from[0];ge.allDescendants?l=ge.collectionId:e=e.child(ge.collectionId)}let g=[];t.where&&(g=function(ge){const Re=hh(ge);return Re instanceof Xr&&eu(Re)?Re.getFilters():[Re]}(t.where));let D=[];t.orderBy&&(D=t.orderBy.map(ge=>{return new Sa(wc((Re=ge).field),function(ot){switch(ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let N=null;t.limit&&(N=function(ge){let Re;return Re="object"==typeof ge?ge.value:ge,Qo(Re)?null:Re}(t.limit));let W=null;var ge;t.startAt&&(W=new oo((ge=t.startAt).values||[],!!ge.before));let ee=null;return t.endAt&&(ee=function(ge){return new oo(ge.values||[],!ge.before)}(t.endAt)),function Iu(i,e,t,o,l,g,D,N){return new _s(i,e,t,o,l,g,D,N)}(e,l,D,g,N,"F",W,ee)}function hh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wc(e.unaryFilter.field);return Cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=wc(e.unaryFilter.field);return Cr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wc(e.unaryFilter.field);return Cr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=wc(e.unaryFilter.field);return Cr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(i):void 0!==i.fieldFilter?Cr.create(wc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Xr.create(e.compositeFilter.filters.map(t=>hh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(i):nn();var e}function fh(i){return A[i]}function Tg(i){return X[i]}function ph(i){return fe[i]}function du(i){return{fieldPath:i.canonicalString()}}function wc(i){return gr.fromServerFormat(i.fieldPath)}function Bu(i){return i instanceof Cr?function(e){if("=="===e.op){if(wa(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NAN"}};if(xs(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wa(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NAN"}};if(xs(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(e.field),op:Tg(e.op),value:e.value}}}(i):i instanceof Xr?function(e){const t=e.getFilters().map(o=>Bu(o));return 1===t.length?t[0]:{compositeFilter:{op:ph(e.op),filters:t}}}(i):nn()}function Tc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function al(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gh(e)),e=Rf(i.get(t),e);return gh(e)}function Rf(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const g=i.charAt(l);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function gh(i){return i+"\x01\x01"}function zl(i){const e=i.length;if(Tn(e>=2),2===e)return Tn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),vr.emptyPath();const t=e-2,o=[];let l="";for(let g=0;g<e;){const D=i.indexOf("\x01",g);switch((D<0||D>t)&&nn(),i.charAt(D+1)){case"\x01":const N=i.substring(g,D);let W;0===l.length?W=N:(l+=N,W=l,l=""),o.push(W);break;case"\x10":l+=i.substring(g,D),l+="\0";break;case"\x11":l+=i.substring(g,D+1);break;default:nn()}g=D+2}return new vr(o)}const mh=["userId","batchId"];function Sc(i,e){return[i,al(e)]}function Id(i,e,t){return[i,al(e),t]}const _h={},Sg=["prefixPath","collectionGroup","readTime","documentId"],bg=["prefixPath","collectionGroup","documentId"],h=["collectionGroup","readTime","prefixPath","documentId"],u=["canonicalId","targetId"],c=["targetId","path"],v=["path","targetId"],P=["collectionId","parent"],H=["indexId","uid"],Y=["uid","sequenceNumber"],pe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Me=["indexId","uid","orderedDocumentKey"],Fe=["userId","collectionPath","documentId"],vt=["userId","collectionPath","largestBatchId"],Ct=["userId","collectionGroup","largestBatchId"],At=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...At,"documentOverlays"],Qn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pi=Qn,Xo=[...pi,"indexConfiguration","indexState","indexEntries"];class Yl extends Ba{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Ms(i,e){const t=Zt(i);return Ss.M(t.se,e)}class bc{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const g=this.mutations[l];g.key.isEqual(e.key)&&_t(g,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ut(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ut(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Cn();return this.mutations.forEach(l=>{const g=e.get(l.key),D=g.overlayedDocument;let N=this.applyToLocalView(D,g.mutatedFields);N=t.has(l.key)?null:N;const W=Je(D,N);null!==W&&o.set(l.key,W),D.isValidDocument()||D.convertToNoDocument(Sn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(t,o)=>kn(t,o))&&Rs(this.baseMutations,e.baseMutations,(t,o)=>kn(t,o))}}class wd{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Tn(e.mutations.length===o.length);let l=rr;const g=e.mutations;for(let D=0;D<g.length;D++)l=l.insert(g[D].key,o[D].version);return new wd(e,t,o,l)}}class xf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ju{constructor(e,t,o,l,g=Sn.min(),D=Sn.min(),N=Yi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=N}withSequenceNumber(e){return new ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ag{constructor(e){this.ie=e}}function Mg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Wa(l=i.ie,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:It(l,g.version.toTimestamp()),createTime:It(l,g.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Hu(e.version)};else{if(!e.isUnknownDocument())return nn();o.unknownDocument={path:t.path.toArray(),version:Hu(e.version)}}var l,g;return o}function yh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Hu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ac(i){const e=new ui(i.seconds,i.nanoseconds);return Sn.fromTimestamp(e)}function Mc(i,e){const t=(e.baseMutations||[]).map(g=>Dc(i.ie,g));for(let g=0;g<e.mutations.length-1;++g){const D=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(D.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const o=e.mutations.map(g=>Dc(i.ie,g)),l=ui.fromMillis(e.localWriteTimeMs);return new bc(e.batchId,l,t,o)}function Td(i){const e=Ac(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ac(i.lastLimboFreeSnapshotVersion):Sn.min();let o;var l;return void 0!==i.query.documents?(Tn(1===(l=i.query).documents.length),o=Qi(su(kl(l.documents[0])))):o=Qi(ch(i.query)),new ju(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Yi.fromBase64String(i.resumeToken))}function Nf(i,e){const t=Hu(e.snapshotVersion),o=Hu(e.lastLimboFreeSnapshotVersion);let l;l=$a(e.target)?Cc(i.ie,e.target):Ic(i.ie,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ml(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Lf(i){const e=ch({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?_l(e,e.limit,"L"):e}function Ff(i,e){return new xf(e.largestBatchId,Dc(i.ie,e.overlayMutation))}function Ka(i,e){const t=e.path.lastSegment();return[i,al(e.path.popLast()),t]}function vh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Hu(o.readTime),documentKey:al(o.documentKey.path),largestBatchId:o.largestBatchId}}class Og{getBundleMetadata(e,t){return Eh(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Ac(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Eh(e).put({bundleId:(o=t).id,createTime:Hu(Un(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Pa(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Lf(l.bundledQuery),readTime:Ac(l.readTime)};var l})}saveNamedQuery(e,t){return Pa(e).put({name:(o=t).name,readTime:Hu(Un(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Eh(i){return Ms(i,"bundles")}function Pa(i){return Ms(i,"namedQueries")}class ec{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new ec(e,t.uid||"")}getOverlay(e,t){return qc(e).get(Ka(this.userId,t)).next(o=>o?Ff(this.yt,o):null)}getOverlays(e,t){const o=Co();return ct.forEach(t,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((g,D)=>{const N=new xf(t,D);l.push(this.oe(e,N))}),ct.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(D=>l.add(al(D.getCollectionPath())));const g=[];return l.forEach(D=>{const N=IDBKeyRange.bound([this.userId,D,o],[this.userId,D,o+1],!1,!0);g.push(qc(e).Y("collectionPathOverlayIndex",N))}),ct.waitFor(g)}getOverlaysForCollection(e,t,o){const l=Co(),g=al(t),D=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,Number.POSITIVE_INFINITY],!0);return qc(e).W("collectionPathOverlayIndex",D).next(N=>{for(const W of N){const ee=Ff(this.yt,W);l.set(ee.getKey(),ee)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const g=Co();let D;const N=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qc(e).Z({index:"collectionGroupOverlayIndex",range:N},(W,ee,ge)=>{const Re=Ff(this.yt,ee);g.size()<l||Re.largestBatchId===D?(g.set(Re.getKey(),Re),D=Re.largestBatchId):ge.done()}).next(()=>g)}oe(e,t){return qc(e).put(function(o,l,g){const[D,N,W]=Ka(l,g.mutation.key);return{userId:l,collectionPath:N,documentId:W,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Uu(o.ie,g.mutation)}}(this.yt,this.userId,t))}}function qc(i){return Ms(i,"documentOverlays")}class Oc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(O(e.integerValue));else if("doubleValue"in e){const o=O(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),rl(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(T(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?Ru(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):nn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const l of Object.keys(o))this.de(l,t),this.ce(o[l],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const l of o)this.ce(l,t)}me(e,t){this.he(t,37),Jt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function __(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function kf(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const g=__(255&t[l]);if(o+=g,8!==g)break}return o}(i);return Math.ceil(e/8)}Oc.Ie=new Oc;class y_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ee(o.value),o=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.be(o.value),o=t.next();this.Pe()}ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const l=t.codePointAt(0);this.Ee(240|l>>>18),this.Ee(128|63&l>>>12),this.Ee(128|63&l>>>6),this.Ee(128|63&l)}}this.Ae()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const l=t.codePointAt(0);this.be(240|l>>>18),this.be(128|63&l>>>12),this.be(128|63&l>>>6),this.be(128|63&l)}}this.Pe()}Se(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}xe(e){const t=this.De(e),o=kf(t);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(l){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,l,!1),new Uint8Array(g.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Pg{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class v_{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Zc{constructor(){this.$e=new y_,this.Be=new Pg(this.$e),this.Le=new v_(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Pc{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Pc(this.indexId,this.documentKey,this.arrayValue,o)}}function tc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Uf(i.arrayValue,e.arrayValue),0!==t?t:(t=Uf(i.directionalValue,e.directionalValue),0!==t?t:Jt.comparator(i.documentKey,e.documentKey)))}function Uf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Rg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const o=t;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){Tn(e.collectionGroup===this.collectionId);const t=va(e);if(void 0!==t&&!this.We(t))return!1;const o=vo(e);let l=0,g=0;for(;l<o.length&&this.We(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Qe){const D=o[l];if(!this.ze(this.Qe,D)||!this.He(this.Ke[g++],D))return!1;++l}for(;l<o.length;++l){const D=o[l];if(g>=this.Ke.length||!this.He(this.Ke[g++],D))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xg(i){var e,t;if(Tn(i instanceof Cr||i instanceof Xr),i instanceof Cr){if(i instanceof Ha){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>Cr.create(i.field,"==",g)))||[];return Xr.create(l,"or")}return i}const o=i.filters.map(l=>xg(l));return Xr.create(o,i.op)}function Jc(i){if(0===i.getFilters().length)return[];const e=Lg(xg(i));return Tn(Ng(e)),hu(e)||Vf(e)?[e]:e.getFilters()}function hu(i){return i instanceof Cr}function Vf(i){return i instanceof Xr&&eu(i)}function Ng(i){return hu(i)||Vf(i)||function(e){if(e instanceof Xr&&Lo(e)){for(const t of e.getFilters())if(!hu(t)&&!Vf(t))return!1;return!0}return!1}(i)}function Lg(i){if(Tn(i instanceof Cr||i instanceof Xr),i instanceof Cr)return i;if(1===i.filters.length)return Lg(i.filters[0]);const e=i.filters.map(o=>Lg(o));let t=Xr.create(e,i.op);return t=jf(t),Ng(t)?t:(Tn(t instanceof Xr),Tn(Ta(t)),Tn(t.filters.length>1),t.filters.reduce((o,l)=>Fg(o,l)))}function Fg(i,e){let t;return Tn(i instanceof Cr||i instanceof Xr),Tn(e instanceof Cr||e instanceof Xr),t=i instanceof Cr?e instanceof Cr?Xr.create([i,e],"and"):Bf(i,e):e instanceof Cr?Bf(e,i):function(o,l){if(Tn(o.filters.length>0&&l.filters.length>0),Ta(o)&&Ta(l))return ua(o,l.getFilters());const g=Lo(o)?o:l,D=Lo(o)?l:o,N=g.filters.map(W=>Fg(W,D));return Xr.create(N,"or")}(i,e),jf(t)}function Bf(i,e){if(Ta(e))return ua(e,i.getFilters());{const t=e.filters.map(o=>Fg(i,o));return Xr.create(t,"or")}}function jf(i){if(Tn(i instanceof Cr||i instanceof Xr),i instanceof Cr)return i;const e=i.getFilters();if(1===e.length)return jf(e[0]);if(rs(i))return i;const t=e.map(l=>jf(l)),o=[];return t.forEach(l=>{l instanceof Cr?o.push(l):l instanceof Xr&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:Xr.create(o,i.op)}class Au{constructor(){this.Je=new Sd}addToCollectionParentIndex(e,t){return this.Je.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(zi.min())}updateCollectionGroup(e,t,o){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class Sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new di(vr.comparator),g=!l.has(o);return this.index[t]=l.add(o),g}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new di(vr.comparator)).toArray()}}const Xc=new Uint8Array(0);class E_{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Sd,this.Xe=new qo(o=>Ml(o),(o,l)=>Fo(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const g={collectionId:o,parent:al(l)};return Hf(e).put(g)}return ct.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[_u(t),""],!1,!0);return Hf(e).W(l).next(g=>{for(const D of g){if(D.collectionId!==t)break;o.push(zl(D.parent))}return o})}addFieldIndex(e,t){const o=nc(e),l={indexId:(D=t).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var D;delete l.indexId;const g=o.add(l);if(t.indexState){const D=Ad(e);return g.next(N=>{D.put(vh(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const o=nc(e),l=Ad(e),g=bd(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=bd(e);let l=!0;const g=new Map;return ct.forEach(this.Ze(t),D=>this.tn(e,D).next(N=>{l&&(l=!!N),g.set(D,N)})).next(()=>{if(l){let D=mn();const N=[];return ct.forEach(g,(W,ee)=>{var ge;Lt("IndexedDbIndexManager",`Using index ${ge=W,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(os=>`${os.fieldPath}:${os.kind}`).join(",")}`} to execute ${Ml(t)}`);const Re=function(os,na){const vs=va(na);if(void 0===vs)return null;for(const qi of iu(os,vs.fieldPath))switch(qi.op){case"array-contains-any":return qi.value.arrayValue.values||[];case"array-contains":return[qi.value]}return null}(ee,W),ot=function(os,na){const vs=new Map;for(const qi of vo(na))for(const ra of iu(os,qi.fieldPath))switch(ra.op){case"==":case"in":vs.set(qi.fieldPath.canonicalString(),ra.value);break;case"not-in":case"!=":return vs.set(qi.fieldPath.canonicalString(),ra.value),Array.from(vs.values())}return null}(ee,W),Pt=function(os,na){const vs=[];let qi=!0;for(const ra of vo(na)){const Kc=0===ra.kind?Gl(os,ra.fieldPath,os.startAt):Wl(os,ra.fieldPath,os.startAt);vs.push(Kc.value),qi&&(qi=Kc.inclusive)}return new oo(vs,qi)}(ee,W),Bt=function(os,na){const vs=[];let qi=!0;for(const ra of vo(na)){const Kc=0===ra.kind?Wl(os,ra.fieldPath,os.endAt):Gl(os,ra.fieldPath,os.endAt);vs.push(Kc.value),qi&&(qi=Kc.inclusive)}return new oo(vs,qi)}(ee,W),fn=this.en(W,ee,Pt),qn=this.en(W,ee,Bt),Os=this.nn(W,ee,ot),Ks=this.sn(W.indexId,Re,fn,Pt.inclusive,qn,Bt.inclusive,Os);return ct.forEach(Ks,os=>o.J(os,t.limit).next(na=>{na.forEach(vs=>{const qi=Jt.fromSegments(vs.documentKey);D.has(qi)||(D=D.add(qi),N.push(qi))})}))}).next(()=>N)}return ct.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Jc(Xr.create(e.filters,"and")).map(o=>Al(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,o,l,g,D,N){const W=(null!=t?t.length:1)*Math.max(o.length,g.length),ee=W/(null!=t?t.length:1),ge=[];for(let Re=0;Re<W;++Re){const ot=t?this.rn(t[Re/ee]):Xc,Pt=this.on(e,ot,o[Re%ee],l),Bt=this.un(e,ot,g[Re%ee],D),fn=N.map(qn=>this.on(e,ot,qn,!0));ge.push(...this.createRange(Pt,Bt,fn))}return ge}on(e,t,o,l){const g=new Pc(e,Jt.empty(),t,o);return l?g:g.Ue()}un(e,t,o,l){const g=new Pc(e,Jt.empty(),t,o);return l?g.Ue():g}tn(e,t){const o=new Rg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(g=>{let D=null;for(const N of g)o.je(N)&&(!D||N.fields.length>D.fields.length)&&(D=N);return D})}getIndexType(e,t){let o=2;const l=this.Ze(t);return ct.forEach(l,g=>this.tn(e,g).next(D=>{D?0!==o&&D.fields.length<function(N){let W=new di(gr.comparator),ee=!1;for(const ge of N.filters)for(const Re of ge.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?ee=!0:W=W.add(Re.field));for(const ge of N.orderBy)ge.field.isKeyField()||(W=W.add(ge.field));return W.size+(ee?1:0)}(g)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}cn(e,t){const o=new Zc;for(const l of vo(e)){const g=t.data.field(l.fieldPath);if(null==g)return null;const D=o.qe(l.kind);Oc.Ie.ue(g,D)}return o.Fe()}rn(e){const t=new Zc;return Oc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const o=new Zc;return Oc.Ie.ue(bs(this.databaseId,t),o.qe(function(l){const g=vo(l);return 0===g.length?0:g[g.length-1].kind}(e))),o.Fe()}nn(e,t,o){if(null===o)return[];let l=[];l.push(new Zc);let g=0;for(const D of vo(e)){const N=o[g++];for(const W of l)if(this.hn(t,D.fieldPath)&&xo(N))l=this.ln(l,D,N);else{const ee=W.qe(D.kind);Oc.Ie.ue(N,ee)}}return this.fn(l)}en(e,t,o){return this.nn(e,t,o.position)}fn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Fe();return t}ln(e,t,o){const l=[...e],g=[];for(const D of o.arrayValue.values||[])for(const N of l){const W=new Zc;W.seed(N.Fe()),Oc.Ie.ue(D,W.qe(t.kind)),g.push(W)}return g}hn(e,t){return!!e.filters.find(o=>o instanceof Cr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=nc(e),l=Ad(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(g=>{const D=[];return ct.forEach(g,N=>l.get([N.indexId,this.uid]).next(W=>{D.push(function(ee,ge){const Re=ge?new cl(ge.sequenceNumber,new zi(Ac(ge.readTime),new Jt(zl(ge.documentKey)),ge.largestBatchId)):cl.empty(),ot=ee.fields.map(([Pt,Bt])=>new Va(gr.fromServerFormat(Pt),Bt));return new zo(ee.indexId,ee.collectionGroup,ot,Re)}(N,W))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const g=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==g?g:nr(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=nc(e),g=Ad(e);return this.dn(e).next(D=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>ct.forEach(N,W=>g.put(vh(W.indexId,this.user,D,o)))))}updateIndexEntries(e,t){const o=new Map;return ct.forEach(t,(l,g)=>{const D=o.get(l.collectionGroup);return(D?ct.resolve(D):this.getFieldIndexes(e,l.collectionGroup)).next(N=>(o.set(l.collectionGroup,N),ct.forEach(N,W=>this._n(e,l,W).next(ee=>{const ge=this.wn(g,W);return ee.isEqual(ge)?ct.resolve():this.mn(e,g,W,ee,ge)}))))})}gn(e,t,o,l){return bd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.an(o,t.key),documentKey:t.key.path.toArray()})}yn(e,t,o,l){return bd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.an(o,t.key),t.key.path.toArray()])}_n(e,t,o){const l=bd(e);let g=new di(tc);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,t)])},(D,N)=>{g=g.add(new Pc(o.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>g)}wn(e,t){let o=new di(tc);const l=this.cn(t,e);if(null==l)return o;const g=va(t);if(null!=g){const D=e.data.field(g.fieldPath);if(xo(D))for(const N of D.arrayValue.values||[])o=o.add(new Pc(t.indexId,e.key,this.rn(N),l))}else o=o.add(new Pc(t.indexId,e.key,Xc,l));return o}mn(e,t,o,l,g){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const D=[];return function(N,W,ee,ge,Re){const ot=N.getIterator(),Pt=W.getIterator();let Bt=ms(ot),fn=ms(Pt);for(;Bt||fn;){let qn=!1,Os=!1;if(Bt&&fn){const Ks=ee(Bt,fn);Ks<0?Os=!0:Ks>0&&(qn=!0)}else null!=Bt?Os=!0:qn=!0;qn?(ge(fn),fn=ms(Pt)):Os?(Re(Bt),Bt=ms(ot)):(Bt=ms(ot),fn=ms(Pt))}}(l,g,tc,N=>{D.push(this.gn(e,t,o,N))},N=>{D.push(this.yn(e,t,o,N))}),ct.waitFor(D)}dn(e){let t=1;return Ad(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,g)=>{g.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((D,N)=>tc(D,N)).filter((D,N,W)=>!N||0!==tc(D,W[N-1]));const l=[];l.push(e);for(const D of o){const N=tc(D,e),W=tc(D,t);if(0===N)l[0]=e.Ue();else if(N>0&&W<0)l.push(D),l.push(D.Ue());else if(W>0)break}l.push(t);const g=[];for(let D=0;D<l.length;D+=2){if(this.pn(l[D],l[D+1]))return[];g.push(IDBKeyRange.bound([l[D].indexId,this.uid,l[D].arrayValue,l[D].directionalValue,Xc,[]],[l[D+1].indexId,this.uid,l[D+1].arrayValue,l[D+1].directionalValue,Xc,[]]))}return g}pn(e,t){return tc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kg)}getMinOffset(e,t){return ct.mapArray(this.Ze(t),o=>this.tn(e,o).next(l=>l||nn())).next(kg)}}function Hf(i){return Ms(i,"collectionParents")}function bd(i){return Ms(i,"indexEntries")}function nc(i){return Ms(i,"indexConfiguration")}function Ad(i){return Ms(i,"indexState")}function kg(i){Tn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;Ea(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new zi(e.readTime,e.documentKey,t)}const Dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class za{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new za(e,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $f(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),g=[],D=IDBKeyRange.only(t.batchId);let N=0;const W=o.Z({range:D},(ge,Re,ot)=>(N++,ot.delete()));g.push(W.next(()=>{Tn(1===N)}));const ee=[];for(const ge of t.mutations){const Re=Id(e,ge.key.path,t.batchId);g.push(l.delete(Re)),ee.push(ge.key)}return ct.waitFor(g).next(()=>ee)}function Gf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw nn();e=i.noDocument}return JSON.stringify(e).length}za.DEFAULT_COLLECTION_PERCENTILE=10,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,za.DEFAULT=new za(41943040,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),za.DISABLED=new za(-1,0,0);class $u{constructor(e,t,o,l){this.userId=e,this.yt=t,this.indexManager=o,this.referenceDelegate=l,this.In={}}static re(e,t,o,l){Tn(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new $u(g,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).Z({index:"userMutationsIndex",range:o},(l,g,D)=>{t=!1,D.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const g=ed(e),D=Gu(e);return D.add({}).next(N=>{Tn("number"==typeof N);const W=new bc(N,t,o,l),ee=function(ot,Pt,Bt){const fn=Bt.baseMutations.map(Os=>Uu(ot.ie,Os)),qn=Bt.mutations.map(Os=>Uu(ot.ie,Os));return{userId:Pt,batchId:Bt.batchId,localWriteTimeMs:Bt.localWriteTime.toMillis(),baseMutations:fn,mutations:qn}}(this.yt,this.userId,W),ge=[];let Re=new di((ot,Pt)=>nr(ot.canonicalString(),Pt.canonicalString()));for(const ot of l){const Pt=Id(this.userId,ot.key.path,N);Re=Re.add(ot.key.path.popLast()),ge.push(D.put(ee)),ge.push(g.put(Pt,_h))}return Re.forEach(ot=>{ge.push(this.indexManager.addToCollectionParentIndex(e,ot))}),e.addOnCommittedListener(()=>{this.In[N]=W.keys()}),ct.waitFor(ge).next(()=>W)})}lookupMutationBatch(e,t){return Gu(e).get(t).next(o=>o?(Tn(o.userId===this.userId),Mc(this.yt,o)):null)}Tn(e,t){return this.In[t]?ct.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let g=null;return Gu(e).Z({index:"userMutationsIndex",range:l},(D,N,W)=>{N.userId===this.userId&&(Tn(N.batchId>=o),g=Mc(this.yt,N)),W.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Gu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,g,D)=>{o=g.batchId,D.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).W("userMutationsIndex",t).next(o=>o.map(l=>Mc(this.yt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Sc(this.userId,t.path),l=IDBKeyRange.lowerBound(o),g=[];return ed(e).Z({range:l},(D,N,W)=>{const[ee,ge,Re]=D,ot=zl(ge);if(ee===this.userId&&t.path.isEqual(ot))return Gu(e).get(Re).next(Pt=>{if(!Pt)throw nn();Tn(Pt.userId===this.userId),g.push(Mc(this.yt,Pt))});W.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(nr);const l=[];return t.forEach(g=>{const D=Sc(this.userId,g.path),N=IDBKeyRange.lowerBound(D),W=ed(e).Z({range:N},(ee,ge,Re)=>{const[ot,Pt,Bt]=ee,fn=zl(Pt);ot===this.userId&&g.path.isEqual(fn)?o=o.add(Bt):Re.done()});l.push(W)}),ct.waitFor(l).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,g=Sc(this.userId,o),D=IDBKeyRange.lowerBound(g);let N=new di(nr);return ed(e).Z({range:D},(W,ee,ge)=>{const[Re,ot,Pt]=W,Bt=zl(ot);Re===this.userId&&o.isPrefixOf(Bt)?Bt.length===l&&(N=N.add(Pt)):ge.done()}).next(()=>this.En(e,N))}En(e,t){const o=[],l=[];return t.forEach(g=>{l.push(Gu(e).get(g).next(D=>{if(null===D)throw nn();Tn(D.userId===this.userId),o.push(Mc(this.yt,D))}))}),ct.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return $f(e.se,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ct.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return ed(e).Z({range:o},(g,D,N)=>{if(g[0]===this.userId){const W=zl(g[1]);l.push(W)}else N.done()}).next(()=>{Tn(0===l.length)})})}containsKey(e,t){return Ch(e,this.userId,t)}Rn(e){return Ih(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ch(i,e,t){const o=Sc(e,t.path),l=o[1],g=IDBKeyRange.lowerBound(o);let D=!1;return ed(i).Z({range:g,X:!0},(N,W,ee)=>{const[ge,Re,ot]=N;ge===e&&Re===l&&(D=!0),ee.done()}).next(()=>D)}function Gu(i){return Ms(i,"mutations")}function ed(i){return Ms(i,"documentMutations")}function Ih(i){return Ms(i,"mutationQueues")}class Rc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Rc(0)}static vn(){return new Rc(-1)}}class D_{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Rc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Sn.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>td(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Tn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let l=0;const g=[];return td(e).Z((D,N)=>{const W=Td(N);W.sequenceNumber<=t&&null===o.get(W.targetId)&&(l++,g.push(this.removeTargetData(e,W)))}).next(()=>ct.waitFor(g)).next(()=>l)}forEachTarget(e,t){return td(e).Z((o,l)=>{const g=Td(l);t(g)})}Vn(e){return Ug(e).get("targetGlobalKey").next(t=>(Tn(null!==t),t))}Sn(e,t){return Ug(e).put("targetGlobalKey",t)}Dn(e,t){return td(e).put(Nf(this.yt,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Ml(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let g=null;return td(e).Z({range:l,index:"queryTargetsIndex"},(D,N,W)=>{const ee=Td(N);Fo(t,ee.target)&&(g=ee,W.done())}).next(()=>g)}addMatchingKeys(e,t,o){const l=[],g=rc(e);return t.forEach(D=>{const N=al(D.path);l.push(g.put({targetId:o,path:N})),l.push(this.referenceDelegate.addReference(e,o,D))}),ct.waitFor(l)}removeMatchingKeys(e,t,o){const l=rc(e);return ct.forEach(t,g=>{const D=al(g.path);return ct.waitFor([l.delete([o,D]),this.referenceDelegate.removeReference(e,o,g)])})}removeMatchingKeysForTargetId(e,t){const o=rc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=rc(e);let g=mn();return l.Z({range:o,X:!0},(D,N,W)=>{const ee=zl(D[1]),ge=new Jt(ee);g=g.add(ge)}).next(()=>g)}containsKey(e,t){const o=al(t.path),l=IDBKeyRange.bound([o],[_u(o)],!1,!0);let g=0;return rc(e).Z({index:"documentTargetsIndex",X:!0,range:l},([D,N],W,ee)=>{0!==D&&(g++,ee.done())}).next(()=>g>0)}ne(e,t){return td(e).get(t).next(o=>o?Td(o):null)}}function td(i){return Ms(i,"targets")}function Ug(i){return Ms(i,"targetGlobal")}function rc(i){return Ms(i,"targetDocuments")}function Vg([i,e],[t,o]){const l=nr(i,t);return 0===l?nr(e,o):l}class Bg{constructor(e){this.xn=e,this.buffer=new di(Vg),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wf{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Ro(o)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield so(o)}yield t.Fn(3e5)}))}}class jg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(Zs.at);const o=new Bg(t);return this.$n.forEachTarget(e,l=>o.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>o.On(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Dh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dh):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let o,l,g,D,N,W,ee;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),l=this.params.maximumSequenceNumbersToCollect):l=Re,D=Date.now(),this.nthSequenceNumber(e,l))).next(Re=>(o=Re,N=Date.now(),this.removeTargets(e,o,t))).next(Re=>(g=Re,W=Date.now(),this.removeOrphanedDocuments(e,o))).next(Re=>(ee=Date.now(),ps()<=V.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-ge}ms\n\tDetermined least recently used ${l} in `+(N-D)+`ms\n\tRemoved ${g} targets in `+(W-N)+`ms\n\tRemoved ${Re} documents in `+(ee-W)+`ms\nTotal Duration: ${ee-ge}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:g,documentsRemoved:Re})))}}class Kf{constructor(e,t){this.db=e,this.garbageCollector=new jg(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Un(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,l)=>t(l))}addReference(e,t,o){return wh(e,o)}removeReference(e,t,o){return wh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return wh(e,t)}Gn(e,t){return function(o,l){let g=!1;return Ih(o).tt(D=>Ch(o,D,l).next(N=>(N&&(g=!0),ct.resolve(!N)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let g=0;return this.Kn(e,(D,N)=>{if(N<=t){const W=this.Gn(e,D).next(ee=>{if(!ee)return g++,o.getEntry(e,D).next(()=>(o.removeEntry(D,Sn.min()),rc(e).delete([0,al(D.path)])))});l.push(W)}}).next(()=>ct.waitFor(l)).next(()=>o.apply(e)).next(()=>g)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return wh(e,t)}Kn(e,t){const o=rc(e);let l,g=Zs.at;return o.Z({index:"documentTargetsIndex"},([D,N],{path:W,sequenceNumber:ee})=>{0===D?(g!==Zs.at&&t(new Jt(zl(l)),g),g=ee,l=W):g=Zs.at}).next(()=>{g!==Zs.at&&t(new Jt(zl(l)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wh(i,e){return rc(i).put((o=i.currentSequenceNumber,{targetId:0,path:al(e.path),sequenceNumber:o}));var o}class Hg{constructor(){this.changes=new qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ct.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $g{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return ic(e).put(o)}removeEntry(e,t,o){return ic(e).delete(function(l,g){const D=l.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],yh(g),D[D.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=ki.newInvalidDocument(t);return ic(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Md(t))},(l,g)=>{o=this.jn(t,g)}).next(()=>o)}Wn(e,t){let o={size:0,document:ki.newInvalidDocument(t)};return ic(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Md(t))},(l,g)=>{o={document:this.jn(t,g),size:Gf(g)}}).next(()=>o)}getEntries(e,t){let o=is();return this.zn(e,t,(l,g)=>{const D=this.jn(l,g);o=o.insert(l,D)}).next(()=>o)}Hn(e,t){let o=is(),l=new Pi(Jt.comparator);return this.zn(e,t,(g,D)=>{const N=this.jn(g,D);o=o.insert(g,N),l=l.insert(g,Gf(D))}).next(()=>({documents:o,Jn:l}))}zn(e,t,o){if(t.isEmpty())return ct.resolve();let l=new di(Od);t.forEach(W=>l=l.add(W));const g=IDBKeyRange.bound(Md(l.first()),Md(l.last())),D=l.getIterator();let N=D.getNext();return ic(e).Z({index:"documentKeyIndex",range:g},(W,ee,ge)=>{const Re=Jt.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;N&&Od(N,Re)<0;)o(N,null),N=D.getNext();N&&N.isEqual(Re)&&(o(N,ee),N=D.hasNext()?D.getNext():null),N?ge.j(Md(N)):ge.done()}).next(()=>{for(;N;)o(N,null),N=D.hasNext()?D.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const g=t.path,D=[g.popLast().toArray(),g.lastSegment(),yh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).W(IDBKeyRange.bound(D,N,!0)).next(W=>{let ee=is();for(const ge of W){const Re=this.jn(Jt.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Re.isFoundDocument()&&(vl(t,Re)||l.has(Re.key))&&(ee=ee.insert(Re.key,Re))}return ee})}getAllFromCollectionGroup(e,t,o,l){let g=is();const D=C_(t,o),N=C_(t,zi.max());return ic(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,N,!0)},(W,ee,ge)=>{const Re=this.jn(Jt.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);g=g.insert(Re.key,Re),g.size===l&&ge.done()}).next(()=>g)}newChangeBuffer(e){return new xc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yf(e).get("remoteDocumentGlobalKey").next(t=>(Tn(!!t),t))}Qn(e,t){return Yf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function m_(i,e){let t;if(e.document)t=function Qc(i,e,t){const o=pa(i,e.name),l=Un(e.updateTime),g=e.createTime?Un(e.createTime):Sn.min(),D=new Ws({mapValue:{fields:e.fields}}),N=ki.newFoundDocument(o,l,g,D);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Jt.fromSegments(e.noDocument.path),l=Ac(e.noDocument.readTime);t=ki.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const o=Jt.fromSegments(e.unknownDocument.path),l=Ac(e.unknownDocument.version);t=ki.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new ui(o[0],o[1]);return Sn.fromTimestamp(l)}(e.readTime)),t}(this.yt,t);if(!o.isNoDocument()||!o.version.isEqual(Sn.min()))return o}return ki.newInvalidDocument(e)}}function zf(i){return new $g(i)}class xc extends Hg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new qo(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new di((g,D)=>nr(g.canonicalString(),D.canonicalString()));return this.changes.forEach((g,D)=>{const N=this.Xn.get(g);if(t.push(this.Yn.removeEntry(e,g,N.readTime)),D.isValidDocument()){const W=Mg(this.Yn.yt,D);l=l.add(g.path.popLast()),o+=Gf(W)-N.size,t.push(this.Yn.addEntry(e,g,W))}else if(o-=N.size,this.trackRemovals){const W=Mg(this.Yn.yt,D.convertToNoDocument(Sn.min()));t.push(this.Yn.addEntry(e,g,W))}}),l.forEach(g=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.Yn.updateMetadata(e,o)),ct.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:l})=>(l.forEach((g,D)=>{this.Xn.set(g,{size:D,readTime:o.get(g).readTime})}),o))}}function Yf(i){return Ms(i,"remoteDocumentGlobal")}function ic(i){return Ms(i,"remoteDocumentsV14")}function Md(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function C_(i,e){const t=e.documentKey.path.toArray();return[i,yh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Od(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let g=0;g<t.length-2&&g<o.length-2;++g)if(l=nr(t[g],o[g]),l)return l;return l=nr(t.length,o.length),l||(l=nr(t[t.length-2],o[o.length-2]),l||nr(t[t.length-1],o[o.length-1]))}class I_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Qf{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Ut(o.mutation,l,Us.empty(),ui.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,mn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=mn()){const l=Co();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(g=>{let D=Zo();return g.forEach((N,W)=>{D=D.insert(N,W.overlayedDocument)}),D}))}getOverlayedDocuments(e,t){const o=Co();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,mn()))}populateOverlays(e,t,o){const l=[];return o.forEach(g=>{t.has(g)||l.push(g)}),this.documentOverlayCache.getOverlays(e,l).next(g=>{g.forEach((D,N)=>{t.set(D,N)})})}computeViews(e,t,o,l){let g=is();const D=xn(),N=xn();return t.forEach((W,ee)=>{const ge=o.get(ee.key);l.has(ee.key)&&(void 0===ge||ge.mutation instanceof on)?g=g.insert(ee.key,ee):void 0!==ge?(D.set(ee.key,ge.mutation.getFieldMask()),Ut(ge.mutation,ee,ge.mutation.getFieldMask(),ui.now())):D.set(ee.key,Us.empty())}),this.recalculateAndSaveOverlays(e,g).next(W=>(W.forEach((ee,ge)=>D.set(ee,ge)),t.forEach((ee,ge)=>{var Re;return N.set(ee,new I_(ge,null!==(Re=D.get(ee))&&void 0!==Re?Re:null))}),N))}recalculateAndSaveOverlays(e,t){const o=xn();let l=new Pi((D,N)=>D-N),g=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(D=>{for(const N of D)N.keys().forEach(W=>{const ee=t.get(W);if(null===ee)return;let ge=o.get(W)||Us.empty();ge=N.applyToLocalView(ee,ge),o.set(W,ge);const Re=(l.get(N.batchId)||mn()).add(W);l=l.insert(N.batchId,Re)})}).next(()=>{const D=[],N=l.getReverseIterator();for(;N.hasNext();){const W=N.getNext(),ee=W.key,ge=W.value,Re=Cn();ge.forEach(ot=>{if(!g.has(ot)){const Pt=Je(t.get(ot),o.get(ot));null!==Pt&&Re.set(ot,Pt),g=g.add(ot)}}),D.push(this.documentOverlayCache.saveOverlays(e,ee,Re))}return ct.waitFor(D)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Jt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Kl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(g=>{const D=l-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-g.size):ct.resolve(Co());let N=-1,W=g;return D.next(ee=>ct.forEach(ee,(ge,Re)=>(N<Re.largestBatchId&&(N=Re.largestBatchId),g.get(ge)?ct.resolve():this.remoteDocumentCache.getEntry(e,ge).next(ot=>{W=W.insert(ge,ot)}))).next(()=>this.populateOverlays(e,ee,g)).next(()=>this.computeViews(e,W,ee,mn())).next(ge=>({batchId:N,changes:Ll(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(o=>{let l=Zo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let g=Zo();return this.indexManager.getCollectionParents(e,l).next(D=>ct.forEach(D,N=>{const W=(ee=t,ge=N.child(l),new _s(ge,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,ge;return this.getDocumentsMatchingCollectionQuery(e,W,o).next(ee=>{ee.forEach((ge,Re)=>{g=g.insert(ge,Re)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(g=>(l=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(g=>{l.forEach((N,W)=>{const ee=W.getKey();null===g.get(ee)&&(g=g.insert(ee,ki.newInvalidDocument(ee)))});let D=Zo();return g.forEach((N,W)=>{const ee=l.get(N);void 0!==ee&&Ut(ee.mutation,W,Us.empty(),ui.now()),vl(t,W)&&(D=D.insert(N,W))}),D})}}class Gg{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ct.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Un(o.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Lf(o.bundledQuery),readTime:Un(o.readTime)}),ct.resolve();var o}}class Wg{constructor(){this.overlays=new Pi(Jt.comparator),this.es=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Co();return ct.forEach(t,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,g)=>{this.oe(e,t,g)}),ct.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(o)),ct.resolve()}getOverlaysForCollection(e,t,o){const l=Co(),g=t.length+1,D=new Jt(t.child("")),N=this.overlays.getIteratorFrom(D);for(;N.hasNext();){const W=N.getNext().value,ee=W.getKey();if(!t.isPrefixOf(ee.path))break;ee.path.length===g&&W.largestBatchId>o&&l.set(W.getKey(),W)}return ct.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let g=new Pi((ee,ge)=>ee-ge);const D=this.overlays.getIterator();for(;D.hasNext();){const ee=D.getNext().value;if(ee.getKey().getCollectionGroup()===t&&ee.largestBatchId>o){let ge=g.get(ee.largestBatchId);null===ge&&(ge=Co(),g=g.insert(ee.largestBatchId,ge)),ge.set(ee.getKey(),ee)}}const N=Co(),W=g.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((ee,ge)=>N.set(ee,ge)),!(N.size()>=l)););return ct.resolve(N)}oe(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const D=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,D)}this.overlays=this.overlays.insert(o.key,new xf(t,o));let g=this.es.get(t);void 0===g&&(g=mn(),this.es.set(t,g)),this.es.set(t,g.add(o.key))}}class Pd{constructor(){this.ns=new di(ea.ss),this.rs=new di(ea.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ea(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ea(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Jt(new vr([])),o=new ea(t,e),l=new ea(t,e+1),g=[];return this.rs.forEachInRange([o,l],D=>{this.cs(D),g.push(D.key)}),g}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Jt(new vr([])),o=new ea(t,e),l=new ea(t,e+1);let g=mn();return this.rs.forEachInRange([o,l],D=>{g=g.add(D.key)}),g}containsKey(e){const t=new ea(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ea{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Jt.comparator(e.key,t.key)||nr(e._s,t._s)}static os(e,t){return nr(e._s,t._s)||Jt.comparator(e.key,t.key)}}class Th{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new di(ea.ss)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const g=this.ws;this.ws++;const D=new bc(g,t,o,l);this.mutationQueue.push(D);for(const N of l)this.gs=this.gs.add(new ea(N.key,g)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return ct.resolve(D)}lookupMutationBatch(e,t){return ct.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),g=l<0?0:l;return ct.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ea(t,0),l=new ea(t,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([o,l],D=>{const N=this.ys(D._s);g.push(N)}),ct.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new di(nr);return t.forEach(l=>{const g=new ea(l,0),D=new ea(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,D],N=>{o=o.add(N._s)})}),ct.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let g=o;Jt.isDocumentKey(g)||(g=g.child(""));const D=new ea(new Jt(g),0);let N=new di(nr);return this.gs.forEachWhile(W=>{const ee=W.key.path;return!!o.isPrefixOf(ee)&&(ee.length===l&&(N=N.add(W._s)),!0)},D),ct.resolve(this.Is(N))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Tn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ct.forEach(t.mutations,l=>{const g=new ea(l.key,t.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ea(t,0),l=this.gs.firstAfterOrEqual(o);return ct.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return ct.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sh{constructor(e){this.Es=e,this.docs=new Pi(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),g=l?l.size:0,D=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:D}),this.size+=D-g,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ct.resolve(o?o.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let o=is();return t.forEach(l=>{const g=this.docs.get(l);o=o.insert(l,g?g.document.mutableCopy():ki.newInvalidDocument(l))}),ct.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let g=is();const D=t.path,N=new Jt(D.child("")),W=this.docs.getIteratorFrom(N);for(;W.hasNext();){const{key:ee,value:{document:ge}}=W.getNext();if(!D.isPrefixOf(ee.path))break;ee.path.length>D.length+1||Ea(hl(ge),o)<=0||(l.has(ge.key)||vl(t,ge))&&(g=g.insert(ge.key,ge.mutableCopy()))}return ct.resolve(g)}getAllFromCollectionGroup(e,t,o,l){nn()}As(e,t){return ct.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Kg(this)}getSize(e){return ct.resolve(this.size)}}class Kg extends Hg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),ct.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qf{constructor(e){this.persistence=e,this.Rs=new qo(t=>Ml(t),Fo),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pd,this.targetCount=0,this.vs=Rc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ct.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Rc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Dn(t),ct.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,o){let l=0;const g=[];return this.Rs.forEach((D,N)=>{N.sequenceNumber<=t&&null===o.get(N.targetId)&&(this.Rs.delete(D),g.push(this.removeMatchingKeysForTargetId(e,N.targetId)),l++)}),ct.waitFor(g).next(()=>l)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ct.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ct.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,g=[];return l&&t.forEach(D=>{g.push(l.markPotentiallyOrphaned(e,D))}),ct.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ct.resolve(o)}containsKey(e,t){return ct.resolve(this.Ps.containsKey(t))}}class Zf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Zs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qf(this),this.indexManager=new Au,this.remoteDocumentCache=new Sh(o=>this.referenceDelegate.xs(o)),this.yt=new Ag(t),this.Ns=new Gg(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Th(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("MemoryPersistence","Starting transaction:",e);const l=new Jf(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(g=>this.referenceDelegate.Os(l).next(()=>g)).toPromise().then(g=>(l.raiseOnCommittedEvent(),g))}Ms(e,t){return ct.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Jf extends Ba{constructor(e){super(),this.currentSequenceNumber=e}}class sc{constructor(e){this.persistence=e,this.Fs=new Pd,this.$s=null}static Bs(e){return new sc(e)}get Ls(){if(this.$s)return this.$s;throw nn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ct.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(g=>this.Ls.add(g.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ls,o=>{const l=Jt.fromPath(o);return this.qs(e,l).next(g=>{g||t.removeEntry(l,Sn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ct.or([()=>ct.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class w_{constructor(e){this.yt=e}$(e,t,o,l){const g=new Eo("createOrUpgrade",t);var N;o<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mh,{unique:!0}),N.createObjectStore("documentMutations"),Xf(e),function(N){N.createObjectStore("remoteDocuments")}(e));let D=ct.resolve();return o<3&&l>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Xf(e)),D=D.next(()=>function(N){const W=N.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sn.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",ee)}(g))),o<4&&l>=4&&(0!==o&&(D=D.next(()=>function(N,W){return W.store("mutations").W().next(ee=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mh,{unique:!0});const ge=W.store("mutations"),Re=ee.map(ot=>ge.put(ot));return ct.waitFor(Re)})}(e,g))),D=D.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(D=D.next(()=>this.Us(g))),o<6&&l>=6&&(D=D.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(g)))),o<7&&l>=7&&(D=D.next(()=>this.Gs(g))),o<8&&l>=8&&(D=D.next(()=>this.Qs(e,g))),o<9&&l>=9&&(D=D.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(D=D.next(()=>this.js(g))),o<11&&l>=11&&(D=D.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(D=D.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:Fe});W.createIndex("collectionPathOverlayIndex",vt,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Ct,{unique:!1})}(e)})),o<13&&l>=13&&(D=D.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Sg});W.createIndex("documentKeyIndex",bg),W.createIndex("collectionGroupIndex",h)}(e)).next(()=>this.Ws(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(D=D.next(()=>this.zs(e,g))),o<15&&l>=15&&(D=D.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:H}).createIndex("sequenceNumberIndex",Y,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:pe}).createIndex("documentKeyIndex",Me,{unique:!1})}(e))),D}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,l)=>{t+=Gf(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(l=>ct.forEach(l,g=>{const D=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",D).next(N=>ct.forEach(N,W=>{Tn(W.userId===g.userId);const ee=Mc(this.yt,W);return $f(e,g.userId,ee).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const g=[];return o.Z((D,N)=>{const W=new vr(D),ee=[0,al(W)];g.push(t.get(ee).next(ge=>ge?ct.resolve():t.put({targetId:0,path:al(W),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ct.waitFor(g))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:P});const o=t.store("collectionParents"),l=new Sd,g=D=>{if(l.add(D)){const N=D.lastSegment(),W=D.popLast();return o.put({collectionId:N,parent:al(W)})}};return t.store("remoteDocuments").Z({X:!0},(D,N)=>{const W=new vr(D);return g(W.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([D,N,W],ee)=>{const ge=zl(N);return g(ge.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,l)=>{const g=Td(l),D=Nf(this.yt,g);return t.put(D)})}Ws(e,t){const o=t.store("remoteDocuments"),l=[];return o.Z((g,D)=>{const N=t.store("remoteDocumentsV14"),W=(ee=D,ee.document?new Jt(vr.fromString(ee.document.name).popFirst(5)):ee.noDocument?Jt.fromSegments(ee.noDocument.path):ee.unknownDocument?Jt.fromSegments(ee.unknownDocument.path):nn()).path.toArray();var ee;const ge={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};l.push(N.put(ge))}).next(()=>ct.waitFor(l))}zs(e,t){const o=t.store("mutations"),l=zf(this.yt),g=new Zf(sc.Bs,this.yt.ie);return o.W().next(D=>{const N=new Map;return D.forEach(W=>{var ee;let ge=null!==(ee=N.get(W.userId))&&void 0!==ee?ee:mn();Mc(this.yt,W).keys().forEach(Re=>ge=ge.add(Re)),N.set(W.userId,ge)}),ct.forEach(N,(W,ee)=>{const ge=new Zr(ee),Re=ec.re(this.yt,ge),ot=g.getIndexManager(ge),Pt=$u.re(ge,this.yt,ot,g.referenceDelegate);return new Qf(l,Pt,Re,ot).recalculateAndSaveOverlaysForDocumentKeys(new Yl(t,Zs.at),W).next()})})}}function Xf(i){i.createObjectStore("targetDocuments",{keyPath:c}).createIndex("documentTargetsIndex",v,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u,{unique:!0}),i.createObjectStore("targetGlobal")}const ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tp{constructor(e,t,o,l,g,D,N,W,ee,ge,Re=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=g,this.window=D,this.document=N,this.Js=ee,this.Ys=ge,this.Xs=Re,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ot=>Promise.resolve(),!tp.C())throw new wt(ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kf(this,l),this.ii=t+"main",this.yt=new Ag(W),this.ri=new Ss(this.ii,this.Xs,new w_(this.yt)),this.Cs=new D_(this.referenceDelegate,this.yt),this.remoteDocumentCache=zf(this.yt),this.Ns=new Og,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ge&&ns("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(ut.FAILED_PRECONDITION,ep);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Zs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,f.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ro(e))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return nd(e).get("owner").next(t=>ct.resolve(this.mi(t)))}gi(e){return rd(e).delete(this.clientId)}yi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ms(o,"clientMetadata");return l.W().next(g=>{const D=e.Ii(g,18e5),N=g.filter(W=>-1===D.indexOf(W));return ct.forEach(N,W=>l.delete(W.clientId)).next(()=>N)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ct.resolve(!0):nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new wt(ut.FAILED_PRECONDITION,ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||rd(e).W().next(o=>void 0===this.Ii(o,5e3).find(l=>{if(this.clientId!==l.clientId){const D=!this.inForeground&&l.inForeground,N=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||D&&N)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Yl(t,Zs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rd(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return $u.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new E_(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return ec.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",g=15===(D=this.Xs)?Xo:14===D?pi:13===D?Qn:12===D?_n:11===D?At:void nn();var D;let N;return this.ri.runTransaction(e,l,g,W=>(N=new Yl(W,this.Ss?this.Ss.next():Zs.at),"readwrite-primary"===t?this.fi(N).next(ee=>!!ee||this.di(N)).next(ee=>{if(!ee)throw ns(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new wt(ut.FAILED_PRECONDITION,Jl);return o(N)}).next(ee=>this.wi(N).next(()=>ee)):this.Vi(N).next(()=>o(N)))).then(W=>(N.raiseOnCommittedEvent(),W))}Vi(e){return nd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(ut.FAILED_PRECONDITION,ep)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nd(e).put("owner",t)}static C(){return Ss.C()}_i(e){const t=nd(e);return t.get("owner").next(o=>this.mi(o)?(Lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ct.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(ns(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,le.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Lt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ns("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ns("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nd(i){return Ms(i,"owner")}function rd(i){return Ms(i,"clientMetadata")}class zg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=mn(),l=mn();for(const g of t.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:l=l.add(g.doc.key)}return new zg(e,t.fromCache,o,l)}}class np{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(g=>g||this.Oi(e,t,l,o)).next(g=>g||this.Mi(e,t))}ki(e,t){if(Ol(t))return ct.resolve(null);let o=Qi(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=_l(t,null,"F"),o=Qi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(g=>{const D=mn(...g);return this.Ni.getDocuments(e,D).next(N=>this.indexManager.getMinOffset(e,o).next(W=>{const ee=this.Fi(t,N);return this.$i(t,ee,D,W.readTime)?this.ki(e,_l(t,null,"F")):this.Bi(e,ee,t,W)}))})))}Oi(e,t,o,l){return Ol(t)||l.isEqual(Sn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(g=>{const D=this.Fi(t,g);return this.$i(t,D,o,l)?this.Mi(e,t):(ps()<=V.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yl(t)),this.Bi(e,D,t,function dl(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Sn.fromTimestamp(1e9===o?new ui(t+1,0):new ui(t,o));return new zi(l,Jt.empty(),e)}(l,-1)))})}Fi(e,t){let o=new di(ba(e));return t.forEach((l,g)=>{vl(e,g)&&(o=o.add(g))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(l)>0)}Mi(e,t){return ps()<=V.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",yl(t)),this.Ni.getDocumentsMatchingQuery(e,t,zi.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(g=>(t.forEach(D=>{g=g.insert(D.key,D)}),g))}}class T_{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new Pi(nr),this.Ui=new qo(g=>Ml(g),Fo),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function rp(i,e,t,o){return new T_(i,e,t,o)}function Yg(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,f.Z)(function*(i,e){const t=Zt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(g=>(l=g,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(g=>{const D=[],N=[];let W=mn();for(const ee of l){D.push(ee.batchId);for(const ge of ee.mutations)W=W.add(ge.key)}for(const ee of g){N.push(ee.batchId);for(const ge of ee.mutations)W=W.add(ge.key)}return t.localDocuments.getDocuments(o,W).next(ee=>({ji:ee,removedBatchIds:D,addedBatchIds:N}))})})}),ip.apply(this,arguments)}function fu(i,e){const t=Zt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),g=t.Gi.newChangeBuffer({trackRemovals:!0});return function(D,N,W,ee){const ge=W.batch,Re=ge.keys();let ot=ct.resolve();return Re.forEach(Pt=>{ot=ot.next(()=>ee.getEntry(N,Pt)).next(Bt=>{const fn=W.docVersions.get(Pt);Tn(null!==fn),Bt.version.compareTo(fn)<0&&(ge.applyToRemoteDocument(Bt,W),Bt.isValidDocument()&&(Bt.setReadTime(W.commitVersion),ee.addEntry(Bt)))})}),ot.next(()=>D.mutationQueue.removeMutationBatch(N,ge))}(t,o,e,g).next(()=>g.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let N=mn();for(let W=0;W<D.mutationResults.length;++W)D.mutationResults[W].transformResults.length>0&&(N=N.add(D.batch.mutations[W].key));return N}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}function Qg(i){const e=Zt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function qg(i,e){const t=Zt(i),o=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const D=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const N=[];e.targetChanges.forEach((ge,Re)=>{const ot=l.get(Re);if(!ot)return;N.push(t.Cs.removeMatchingKeys(g,ge.removedDocuments,Re).next(()=>t.Cs.addMatchingKeys(g,ge.addedDocuments,Re)));let Pt=ot.withSequenceNumber(g.currentSequenceNumber);var Bt,fn,qn;e.targetMismatches.has(Re)?Pt=Pt.withResumeToken(Yi.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):ge.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(ge.resumeToken,o)),l=l.insert(Re,Pt),fn=Pt,qn=ge,(0===(Bt=ot).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||qn.addedDocuments.size+qn.modifiedDocuments.size+qn.removedDocuments.size>0)&&N.push(t.Cs.updateTargetData(g,Pt))});let W=is(),ee=mn();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(g,ge))}),N.push(function Zg(i,e,t){let o=mn(),l=mn();return t.forEach(g=>o=o.add(g)),e.getEntries(i,o).next(g=>{let D=is();return t.forEach((N,W)=>{const ee=g.get(N);W.isFoundDocument()!==ee.isFoundDocument()&&(l=l.add(N)),W.isNoDocument()&&W.version.isEqual(Sn.min())?(e.removeEntry(N,W.readTime),D=D.insert(N,W)):!ee.isValidDocument()||W.version.compareTo(ee.version)>0||0===W.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(W),D=D.insert(N,W)):Lt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",ee.version," Watch version:",W.version)}),{Wi:D,zi:l}})}(g,D,e.documentUpdates).next(ge=>{W=ge.Wi,ee=ge.zi})),!o.isEqual(Sn.min())){const ge=t.Cs.getLastRemoteSnapshotVersion(g).next(Re=>t.Cs.setTargetsMetadata(g,g.currentSequenceNumber,o));N.push(ge)}return ct.waitFor(N).next(()=>D.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,W,ee)).next(()=>W)}).then(g=>(t.qi=l,g))}function S_(i,e){const t=Zt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function id(i,e){const t=Zt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(g=>g?(l=g,ct.resolve(l)):t.Cs.allocateTargetId(o).next(D=>(l=new ju(e,D,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.qi.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function sd(i,e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,f.Z)(function*(i,e,t){const o=Zt(i),l=o.qi.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",g,D=>o.persistence.referenceDelegate.removeTarget(D,l)))}catch(D){if(!Ro(D))throw D;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}o.qi=o.qi.remove(e),o.Ui.delete(l.target)}),Ah.apply(this,arguments)}function Mh(i,e,t){const o=Zt(i);let l=Sn.min(),g=mn();return o.persistence.runTransaction("Execute query","readonly",D=>function(N,W,ee){const ge=Zt(N),Re=ge.Ui.get(ee);return void 0!==Re?ct.resolve(ge.qi.get(Re)):ge.Cs.getTargetData(W,ee)}(o,D,Qi(e)).next(N=>{if(N)return l=N.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(D,N.targetId).next(W=>{g=W})}).next(()=>o.Li.getDocumentsMatchingQuery(D,e,t?l:Sn.min(),t?g:mn())).next(N=>(function Rr(i,e,t){let o=i.Ki.get(e)||Sn.min();t.forEach((l,g)=>{g.readTime.compareTo(o)>0&&(o=g.readTime)}),i.Ki.set(e,o)}(o,function au(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),N),{documents:N,Hi:g})))}class Rh{constructor(){this.activeTargetIds=Ns()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oc{constructor(){this.Lr=new Rh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Rh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b_{Ur(e){}shutdown(){}}class Nh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class pv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,l,g){const D=this.ho(e,t);Lt("RestConnection","Sending: ",D,o);const N={};return this.lo(N,l,g),this.fo(e,D,N,o).then(W=>(Lt("RestConnection","Received: ",W),W),W=>{throw yo("RestConnection",`${e} failed with error: `,W,"url: ",D,"request:",o),W})}_o(e,t,o,l,g,D){return this.ao(e,t,o,l,g)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,g)=>e[g]=l),o&&o.headers.forEach((l,g)=>e[g]=l)}ho(e,t){return`${this.oo}/v1/${t}:${lp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((g,D)=>{const N=new ts;N.setWithCredentials(!0),N.listenOnce(Mn.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case jr.NO_ERROR:const ee=N.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(ee)),g(ee);break;case jr.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),D(new wt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case jr.HTTP_ERROR:const ge=N.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',ge,"response text:",N.getResponseText()),ge>0){let Re=N.getResponseJson();Array.isArray(Re)&&(Re=Re[0]);const ot=null==Re?void 0:Re.error;if(ot&&ot.status&&ot.message){const Pt=function(Bt){const fn=Bt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(fn)>=0?fn:ut.UNKNOWN}(ot.status);D(new wt(Pt,ot.message))}else D(new wt(ut.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new wt(ut.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(l);N.send(t,"POST",W,o,15)})}wo(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ft(),D=tn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new Li({})),this.lo(N.initMessageHeaders,t,o),N.encodeInitMessageHeaders=!0;const W=l.join("");Lt("Connection","Creating WebChannel: "+W,N);const ee=g.createWebChannel(W,N);let ge=!1,Re=!1;const ot=new A_({Hr:Bt=>{Re?Lt("Connection","Not sending because WebChannel is closed:",Bt):(ge||(Lt("Connection","Opening WebChannel transport."),ee.open(),ge=!0),Lt("Connection","WebChannel sending:",Bt),ee.send(Bt))},Jr:()=>ee.close()}),Pt=(Bt,fn,qn)=>{Bt.listen(fn,Os=>{try{qn(Os)}catch(Ks){setTimeout(()=>{throw Ks},0)}})};return Pt(ee,br.EventType.OPEN,()=>{Re||Lt("Connection","WebChannel transport opened.")}),Pt(ee,br.EventType.CLOSE,()=>{Re||(Re=!0,Lt("Connection","WebChannel transport closed"),ot.io())}),Pt(ee,br.EventType.ERROR,Bt=>{Re||(Re=!0,yo("Connection","WebChannel transport errored:",Bt),ot.io(new wt(ut.UNAVAILABLE,"The operation could not be completed")))}),Pt(ee,br.EventType.MESSAGE,Bt=>{var fn;if(!Re){const qn=Bt.data[0];Tn(!!qn);const Os=qn,Ks=Os.error||(null===(fn=Os[0])||void 0===fn?void 0:fn.error);if(Ks){Lt("Connection","WebChannel received error:",Ks);const os=Ks.status;let na=function(qi){const ra=ei[qi];if(void 0!==ra)return ys(ra)}(os),vs=Ks.message;void 0===na&&(na=ut.INTERNAL,vs="Unknown error status: "+os+" with message "+Ks.message),Re=!0,ot.io(new wt(na,vs)),ee.close()}else Lt("Connection","WebChannel received:",qn),ot.ro(qn)}}),Pt(D,hr.STAT_EVENT,Bt=>{Bt.stat===ar.PROXY?Lt("Connection","Detected buffering proxy"):Bt.stat===ar.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ot.so()},0),ot}}function up(){return"undefined"!=typeof document?document:null}function Nd(i){return new Qe(i,!0)}class Lh{constructor(e,t,o=1e3,l=1.5,g=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=l,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&Lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class O_{constructor(e,t,o,l,g,D,N,W){this.Hs=e,this.vo=o,this.Vo=l,this.connection=g,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=N,this.listener=W,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,f.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===ut.RESOURCE_EXHAUSTED?(ns(t.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===ut.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new wt(ut.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P_ extends O_{constructor(e,t,o,l,g,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,D),this.yt=g}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function cu(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:nn(),l=e.targetChange.targetIds||[],g=function(W,ee){return W.wt?(Tn(void 0===ee||"string"==typeof ee),Yi.fromBase64String(ee||"")):(Tn(void 0===ee||ee instanceof Uint8Array),Yi.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),D=e.targetChange.cause,N=D&&function(W){const ee=void 0===W.code?ut.UNKNOWN:ys(W.code);return new wt(ee,W.message||"")}(D);t=new Js(o,l,g,N||null)}else if("documentChange"in e){const o=e.documentChange,l=pa(i,o.document.name),g=Un(o.document.updateTime),D=o.document.createTime?Un(o.document.createTime):Sn.min(),N=new Ws({mapValue:{fields:o.document.fields}}),W=ki.newFoundDocument(l,g,D,N);t=new Fl(o.targetIds||[],o.removedTargetIds||[],W.key,W)}else if("documentDelete"in e){const o=e.documentDelete,l=pa(i,o.document),g=o.readTime?Un(o.readTime):Sn.min(),D=ki.newNoDocument(l,g);t=new Fl([],o.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const o=e.documentRemove,l=pa(i,o.document);t=new Fl([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return nn();{const o=e.filter,g=new As(o.count||0);t=new ku(o.targetId,g)}}var W;return t}(this.yt,e),o=function(l){if(!("targetChange"in l))return Sn.min();const g=l.targetChange;return g.targetIds&&g.targetIds.length?Sn.min():g.readTime?Un(g.readTime):Sn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=uu(this.yt),t.addTarget=function(l,g){let D;const N=g.target;return D=$a(N)?{documents:Cc(l,N)}:{query:Ic(l,N)},D.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?D.resumeToken=dn(l,g.resumeToken):g.snapshotVersion.compareTo(Sn.min())>0&&(D.readTime=It(l,g.snapshotVersion.toTimestamp())),D}(this.yt,e);const o=function dh(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=uu(this.yt),t.removeTarget=e,this.Bo(t)}}class od extends O_{constructor(e,t,o,l,g,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,D),this.yt=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Vu(i,e){return i&&i.length>0?(Tn(void 0!==e),i.map(t=>function(o,l){let g=Un(o.updateTime?o.updateTime:l);return g.isEqual(Sn.min())&&(g=Un(l)),new K(g,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Un(e.commitTime);return this.listener.Zo(o,t)}return Tn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=uu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Uu(this.yt,o))};this.Bo(t)}}class R_ extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=l,this.nu=!1}su(){if(this.nu)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,g])=>this.connection.ao(e,t,o,l,g)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new wt(ut.UNKNOWN,l.toString())})}_o(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,D])=>this.connection._o(e,t,o,g,D,l)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new wt(ut.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class x_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ns(t),this.ou=!1):Lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class sm{constructor(e,t,o,l,g){var D=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.Ur(N=>{o.enqueueAndForget((0,f.Z)(function*(){var W;ac(D)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,f.Z)(function*(ee){const ge=Zt(ee);ge._u.add(4),yield ld(ge),ge.gu.set("Unknown"),ge._u.delete(4),yield Ld(ge)}),function(ee){return W.apply(this,arguments)})(D))}))}),this.gu=new x_(o,l)}}function Ld(i){return cp.apply(this,arguments)}function cp(){return cp=(0,f.Z)(function*(i){if(ac(i))for(const e of i.wu)yield e(!0)}),cp.apply(this,arguments)}function ld(i){return dp.apply(this,arguments)}function dp(){return dp=(0,f.Z)(function*(i){for(const e of i.wu)yield e(!1)}),dp.apply(this,arguments)}function Fh(i,e){const t=Zt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Fd(t)?kh(t):Nc(t).ko()&&hp(t,e))}function ud(i,e){const t=Zt(i),o=Nc(t);t.du.delete(e),o.ko()&&fp(t,e),0===t.du.size&&(o.ko()?o.Fo():ac(t)&&t.gu.set("Unknown"))}function hp(i,e){i.yu.Ot(e.targetId),Nc(i).zo(e)}function fp(i,e){i.yu.Ot(e),Nc(i).Ho(e)}function kh(i){i.yu=new b({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Nc(i).start(),i.gu.uu()}function Fd(i){return ac(i)&&!Nc(i).No()&&i.du.size>0}function ac(i){return 0===Zt(i)._u.size}function Uh(i){i.yu=void 0}function N_(i){return om.apply(this,arguments)}function om(){return om=(0,f.Z)(function*(i){i.du.forEach((e,t)=>{hp(i,e)})}),om.apply(this,arguments)}function cd(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,f.Z)(function*(i,e){Uh(i),Fd(i)?(i.gu.hu(e),kh(i)):i.gu.set("Unknown")}),Vh.apply(this,arguments)}function am(i,e,t){return dd.apply(this,arguments)}function dd(){return dd=(0,f.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Js&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(l,g){const D=g.cause;for(const N of g.targetIds)l.du.has(N)&&(yield l.remoteSyncer.rejectListen(N,D),l.du.delete(N),l.yu.removeTarget(N))}),function(l,g){return o.apply(this,arguments)})(i,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Dl(i,o)}else if(e instanceof Fl?i.yu.Kt(e):e instanceof ku?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(Sn.min()))try{const o=yield Qg(i.localStore);t.compareTo(o)>=0&&(yield function(l,g){const D=l.yu.Zt(g);return D.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const ee=l.du.get(W);ee&&l.du.set(W,ee.withResumeToken(N.resumeToken,g))}}),D.targetMismatches.forEach(N=>{const W=l.du.get(N);if(!W)return;l.du.set(N,W.withResumeToken(Yi.EMPTY_BYTE_STRING,W.snapshotVersion)),fp(l,N);const ee=new ju(W.target,N,1,W.sequenceNumber);hp(l,ee)}),l.remoteSyncer.applyRemoteEvent(D)}(i,t))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield Dl(i,o)}var o}),dd.apply(this,arguments)}function Dl(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,f.Z)(function*(i,e,t){if(!Ro(e))throw e;i._u.add(1),yield ld(i),i.gu.set("Offline"),t||(t=()=>Qg(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Ld(i)}))}),Bh.apply(this,arguments)}function lm(i,e){return e().catch(t=>Dl(i,t,e))}function lc(i){return pu.apply(this,arguments)}function pu(){return pu=(0,f.Z)(function*(i){const e=Zt(i),t=Lc(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;pp(e);)try{const l=yield S_(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,um(e,l)}catch(l){yield Dl(e,l)}jh(e)&&L_(e)}),pu.apply(this,arguments)}function pp(i){return ac(i)&&i.fu.length<10}function um(i,e){i.fu.push(e);const t=Lc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function jh(i){return ac(i)&&!Lc(i).No()&&i.fu.length>0}function L_(i){Lc(i).start()}function cm(i){return dm.apply(this,arguments)}function dm(){return dm=(0,f.Z)(function*(i){Lc(i).eu()}),dm.apply(this,arguments)}function Hh(i){return hd.apply(this,arguments)}function hd(){return hd=(0,f.Z)(function*(i){const e=Lc(i);for(const t of i.fu)e.Xo(t.mutations)}),hd.apply(this,arguments)}function gp(i,e,t){return kd.apply(this,arguments)}function kd(){return kd=(0,f.Z)(function*(i,e,t){const o=i.fu.shift(),l=wd.from(o,e,t);yield lm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield lc(i)}),kd.apply(this,arguments)}function mp(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,f.Z)(function*(i,e){var t;e&&Lc(i).Yo&&(yield(t=(0,f.Z)(function*(o,l){if(Ui(g=l.code)&&g!==ut.ABORTED){const D=o.fu.shift();Lc(o).Mo(),yield lm(o,()=>o.remoteSyncer.rejectFailedWrite(D.batchId,l)),yield lc(o)}var g}),function(o,l){return t.apply(this,arguments)})(i,e)),jh(i)&&L_(i)}),hm.apply(this,arguments)}function fm(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,f.Z)(function*(i,e){const t=Zt(i);t.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=ac(t);t._u.add(3),yield ld(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ld(t)}),_p.apply(this,arguments)}function vp(){return vp=(0,f.Z)(function*(i,e){const t=Zt(i);e?(t._u.delete(2),yield Ld(t)):e||(t._u.add(2),yield ld(t),t.gu.set("Unknown"))}),vp.apply(this,arguments)}function Nc(i){return i.pu||(i.pu=function(e,t,o){const l=Zt(e);return l.su(),new P_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:N_.bind(null,i),Zr:cd.bind(null,i),Wo:am.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.pu.Mo(),Fd(i)?kh(i):i.gu.set("Unknown")):(yield i.pu.stop(),Uh(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Lc(i){return i.Iu||(i.Iu=function(e,t,o){const l=Zt(e);return l.su(),new od(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:cm.bind(null,i),Zr:mp.bind(null,i),tu:Hh.bind(null,i),Zo:gp.bind(null,i)}),i.wu.push(function(){var e=(0,f.Z)(function*(t){t?(i.Iu.Mo(),yield lc(i)):(yield i.Iu.stop(),i.fu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Ep{constructor(e,t,o,l,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=g,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,t,o,l,g){const D=Date.now()+o,N=new Ep(e,t,D,l,g);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(i,e){if(ns("AsyncQueue",`${e}: ${i}`),Ro(i))return new wt(ut.UNAVAILABLE,`${e}: ${i}`);throw i}class Fc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Jt.comparator(t.key,o.key):(t,o)=>Jt.comparator(t.key,o.key),this.keyedMap=Zo(),this.sortedSet=new Pi(this.comparator)}static emptySet(e){return new Fc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,g=o.getNext().key;if(!l.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Fc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Dp{constructor(){this.Tu=new Pi(Jt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):nn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class fd{constructor(e,t,o,l,g,D,N,W,ee){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=g,this.fromCache=D,this.syncStateChanged=N,this.excludesMetadataChanges=W,this.hasCachedResults=ee}static fromInitialDocuments(e,t,o,l,g){const D=[];return t.forEach(N=>{D.push({type:0,doc:N})}),new fd(e,t,Fc.emptySet(t),D,o,l,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Cp{constructor(){this.Au=void 0,this.listeners=[]}}class gv{constructor(){this.queries=new qo(e=>Pl(e),Tu),this.onlineState="Unknown",this.Ru=new Set}}function pm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,f.Z)(function*(i,e){const t=Zt(i),o=e.query;let l=!1,g=t.queries.get(o);if(g||(l=!0,g=new Cp),l)try{g.Au=yield t.onListen(o)}catch(D){const N=Ud(D,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(N)}t.queries.set(o,g),g.listeners.push(e),e.bu(t.onlineState),g.Au&&e.Pu(g.Au)&&ym(t)}),gm.apply(this,arguments)}function mm(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,f.Z)(function*(i,e){const t=Zt(i),o=e.query;let l=!1;const g=t.queries.get(o);if(g){const D=g.listeners.indexOf(e);D>=0&&(g.listeners.splice(D,1),l=0===g.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),_m.apply(this,arguments)}function mv(i,e){const t=Zt(i);let o=!1;for(const l of e){const D=t.queries.get(l.query);if(D){for(const N of D.listeners)N.Pu(l)&&(o=!0);D.Au=l}}o&&ym(t)}function _v(i,e,t){const o=Zt(i),l=o.queries.get(e);if(l)for(const g of l.listeners)g.onError(t);o.queries.delete(e)}function ym(i){i.Ru.forEach(e=>{e.next()})}class vm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new fd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class wp{constructor(e){this.key=e}}class $h{constructor(e){this.key=e}}class Tp{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=mn(),this.mutatedKeys=mn(),this.Gu=ba(e),this.Qu=new Fc(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new Dp,l=t?t.Qu:this.Qu;let g=t?t.mutatedKeys:this.mutatedKeys,D=l,N=!1;const W="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ee="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ge,Re)=>{const ot=l.get(ge),Pt=vl(this.query,Re)?Re:null,Bt=!!ot&&this.mutatedKeys.has(ot.key),fn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let qn=!1;ot&&Pt?ot.data.isEqual(Pt.data)?Bt!==fn&&(o.track({type:3,doc:Pt}),qn=!0):this.Hu(ot,Pt)||(o.track({type:2,doc:Pt}),qn=!0,(W&&this.Gu(Pt,W)>0||ee&&this.Gu(Pt,ee)<0)&&(N=!0)):!ot&&Pt?(o.track({type:0,doc:Pt}),qn=!0):ot&&!Pt&&(o.track({type:1,doc:ot}),qn=!0,(W||ee)&&(N=!0)),qn&&(Pt?(D=D.add(Pt),g=fn?g.add(ge):g.delete(ge)):(D=D.delete(ge),g=g.delete(ge)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const ge="F"===this.query.limitType?D.last():D.first();D=D.delete(ge.key),g=g.delete(ge.key),o.track({type:1,doc:ge})}return{Qu:D,zu:o,$i:N,mutatedKeys:g}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const g=e.zu.Eu();g.sort((ee,ge)=>function(Re,ot){const Pt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return Pt(Re)-Pt(ot)}(ee.type,ge.type)||this.Gu(ee.doc,ge.doc)),this.Ju(o);const D=t?this.Yu():[],N=0===this.Ku.size&&this.current?1:0,W=N!==this.Uu;return this.Uu=N,0!==g.length||W?{snapshot:new fd(this.query,e.Qu,l,g,e.mutatedKeys,0===N,W,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:D}:{Xu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Dp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=mn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new $h(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new wp(o))}),t}tc(e){this.qu=e.Hi,this.Ku=mn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return fd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Sp{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class F_{constructor(e){this.key=e,this.nc=!1}}class uc{constructor(e,t,o,l,g,D){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=g,this.maxConcurrentLimboResolutions=D,this.sc={},this.ic=new qo(N=>Pl(N),Tu),this.rc=new Map,this.oc=new Set,this.uc=new Pi(Jt.comparator),this.cc=new Map,this.ac=new Pd,this.hc={},this.lc=new Map,this.fc=Rc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Dm(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,f.Z)(function*(i,e){const t=jp(i);let o,l;const g=t.ic.get(e);if(g)o=g.targetId,t.sharedClientState.addLocalQueryTarget(o),l=g.view.ec();else{const D=yield id(t.localStore,Qi(e));t.isPrimaryClient&&Fh(t.remoteStore,D);const N=t.sharedClientState.addLocalQueryTarget(D.targetId);o=D.targetId,l=yield Ap(t,e,o,"current"===N,D.resumeToken)}return l}),bp.apply(this,arguments)}function Ap(i,e,t,o,l){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,f.Z)(function*(i,e,t,o,l){i._c=(Re,ot,Pt)=>{return(Bt=(0,f.Z)(function*(fn,qn,Os,Ks){let os=qn.view.Wu(Os);os.$i&&(os=yield Mh(fn.localStore,qn.query,!1).then(({documents:qi})=>qn.view.Wu(qi,os)));const na=Ks&&Ks.targetChanges.get(qn.targetId),vs=qn.view.applyChanges(os,fn.isPrimaryClient,na);return Zh(fn,qn.targetId,vs.Xu),vs.snapshot}),function(fn,qn,Os,Ks){return Bt.apply(this,arguments)})(i,Re,ot,Pt);var Bt};const g=yield Mh(i.localStore,e,!0),D=new Tp(e,g.Hi),N=D.Wu(g.documents),W=fi.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),ee=D.applyChanges(N,i.isPrimaryClient,W);Zh(i,t,ee.Xu);const ge=new Sp(e,t,D);return i.ic.set(e,ge),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),ee.snapshot}),Gh.apply(this,arguments)}function k_(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,f.Z)(function*(i,e){const t=Zt(i),o=t.ic.get(e),l=t.rc.get(o.targetId);if(l.length>1)return t.rc.set(o.targetId,l.filter(g=>!Tu(g,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),ud(t.remoteStore,o.targetId),kc(t,o.targetId)}).catch(so))):(kc(t,o.targetId),yield sd(t.localStore,o.targetId,!0))}),Mp.apply(this,arguments)}function cc(){return cc=(0,f.Z)(function*(i,e,t){const o=Mm(i);try{const l=yield function(g,D){const N=Zt(g),W=ui.now(),ee=D.reduce((ot,Pt)=>ot.add(Pt.key),mn());let ge,Re;return N.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let Pt=is(),Bt=mn();return N.Gi.getEntries(ot,ee).next(fn=>{Pt=fn,Pt.forEach((qn,Os)=>{Os.isValidDocument()||(Bt=Bt.add(qn))})}).next(()=>N.localDocuments.getOverlayedDocuments(ot,Pt)).next(fn=>{ge=fn;const qn=[];for(const Os of D){const Ks=sn(Os,ge.get(Os.key).overlayedDocument);null!=Ks&&qn.push(new on(Os.key,Ks,Nu(Ks.value.mapValue),ne.exists(!0)))}return N.mutationQueue.addMutationBatch(ot,W,qn,D)}).next(fn=>{Re=fn;const qn=fn.applyToLocalDocumentSet(ge,Bt);return N.documentOverlayCache.saveOverlays(ot,fn.batchId,qn)})}).then(()=>({batchId:Re.batchId,changes:Ll(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(g,D,N){let W=g.hc[g.currentUser.toKey()];W||(W=new Pi(nr)),W=W.insert(D,N),g.hc[g.currentUser.toKey()]=W}(o,l.batchId,t),yield Io(o,l.changes),yield lc(o.remoteStore)}catch(l){const g=Ud(l,"Failed to persist write");t.reject(g)}}),cc.apply(this,arguments)}function Kh(i,e){return dc.apply(this,arguments)}function dc(){return dc=(0,f.Z)(function*(i,e){const t=Zt(i);try{const o=yield qg(t.localStore,e);e.targetChanges.forEach((l,g)=>{const D=t.cc.get(g);D&&(Tn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?D.nc=!0:l.modifiedDocuments.size>0?Tn(D.nc):l.removedDocuments.size>0&&(Tn(D.nc),D.nc=!1))}),yield Io(t,o,e)}catch(o){yield so(o)}}),dc.apply(this,arguments)}function zh(i,e,t){const o=Zt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ic.forEach((g,D)=>{const N=D.view.bu(e);N.snapshot&&l.push(N.snapshot)}),function(g,D){const N=Zt(g);N.onlineState=D;let W=!1;N.queries.forEach((ee,ge)=>{for(const Re of ge.listeners)Re.bu(D)&&(W=!0)}),W&&ym(N)}(o.eventManager,e),l.length&&o.sc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Yh(i,e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,f.Z)(function*(i,e,t){const o=Zt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.cc.get(e),g=l&&l.key;if(g){let D=new Pi(Jt.comparator);D=D.insert(g,ki.newNoDocument(g,Sn.min()));const N=mn().add(g),W=new fa(Sn.min(),new Map,new di(nr),D,N);yield Kh(o,W),o.uc=o.uc.remove(g),o.cc.delete(e),Np(o)}else yield sd(o.localStore,e,!1).then(()=>kc(o,e,t)).catch(so)}),Qh.apply(this,arguments)}function Cm(i,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,f.Z)(function*(i,e){const t=Zt(i),o=e.batch.batchId;try{const l=yield fu(t.localStore,e);xp(t,o,null),Im(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Io(t,l)}catch(l){yield so(l)}}),Vd.apply(this,arguments)}function Op(i,e,t){return qh.apply(this,arguments)}function qh(){return qh=(0,f.Z)(function*(i,e,t){const o=Zt(i);try{const l=yield function(g,D){const N=Zt(g);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ee;return N.mutationQueue.lookupMutationBatch(W,D).next(ge=>(Tn(null!==ge),ee=ge.keys(),N.mutationQueue.removeMutationBatch(W,ge))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,ee,D)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,ee)).next(()=>N.localDocuments.getDocuments(W,ee))})}(o.localStore,e);xp(o,e,t),Im(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Io(o,l)}catch(l){yield so(l)}}),qh.apply(this,arguments)}function Im(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function xp(i,e,t){const o=Zt(i);let l=o.hc[o.currentUser.toKey()];if(l){const g=l.get(e);g&&(t?g.reject(t):g.resolve(),l=l.remove(e)),o.hc[o.currentUser.toKey()]=l}}function kc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||wm(i,o)})}function wm(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(ud(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Np(i))}function Zh(i,e,t){for(const o of t)o instanceof wp?(i.ac.addReference(o.key,e),Tm(i,o)):o instanceof $h?(Lt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||wm(i,o.key)):nn()}function Tm(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Lt("SyncEngine","New document in limbo: "+t),i.oc.add(o),Np(i))}function Np(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Jt(vr.fromString(e)),o=i.fc.next();i.cc.set(o,new F_(t)),i.uc=i.uc.insert(t,o),Fh(i.remoteStore,new ju(Qi(su(t.path)),o,2,Zs.at))}}function Io(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,f.Z)(function*(i,e,t){const o=Zt(i),l=[],g=[],D=[];var N;o.ic.isEmpty()||(o.ic.forEach((N,W)=>{D.push(o._c(W,e,t).then(ee=>{if((ee||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(W.targetId,null!=ee&&ee.fromCache?"not-current":"current"),ee){l.push(ee);const ge=zg.Ci(W.targetId,ee);g.push(ge)}}))}),yield Promise.all(D),o.sc.Wo(l),yield(N=(0,f.Z)(function*(W,ee){const ge=Zt(W);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>ct.forEach(ee,ot=>ct.forEach(ot.Si,Pt=>ge.persistence.referenceDelegate.addReference(Re,ot.targetId,Pt)).next(()=>ct.forEach(ot.Di,Pt=>ge.persistence.referenceDelegate.removeReference(Re,ot.targetId,Pt)))))}catch(Re){if(!Ro(Re))throw Re;Lt("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of ee){const ot=Re.targetId;if(!Re.fromCache){const Pt=ge.qi.get(ot),fn=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);ge.qi=ge.qi.insert(ot,fn)}}}),function(W,ee){return N.apply(this,arguments)})(o.localStore,g))}),Jh.apply(this,arguments)}function U_(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,f.Z)(function*(i,e){const t=Zt(i);if(!t.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield Yg(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(D=>{D.forEach(N=>{N.reject(new wt(ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Io(t,o.ji)}var l}),Sm.apply(this,arguments)}function V_(i,e){const t=Zt(i),o=t.cc.get(e);if(o&&o.nc)return mn().add(o.key);{let l=mn();const g=t.rc.get(e);if(!g)return l;for(const D of g){const N=t.ic.get(D);l=l.unionWith(N.view.ju)}return l}}function jp(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yh.bind(null,e),e.sc.Wo=mv.bind(null,e.eventManager),e.sc.wc=_v.bind(null,e.eventManager),e}function Mm(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Op.bind(null,e),e}class Pm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.yt=Nd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return rp(this.persistence,new np,e.initialUser,this.yt)}yc(e){return new Zf(sc.Bs,this.yt)}gc(e){return new oc}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class G_ extends Pm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Mm(o.Ac.syncEngine),yield lc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return rp(this.persistence,new np,e.initialUser,this.yt)}Tc(e,t){return new Wf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Yu(t,this.persistence);return new tl(e.asyncQueue,o)}yc(e){const t=function bh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?za.withCacheSize(this.cacheSizeBytes):za.DEFAULT;return new tp(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,function M_(){return"undefined"!=typeof window?window:null}(),up(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new oc}}class Bd{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>zh(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=U_.bind(null,o.syncEngine),yield function yp(i,e){return vp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gv}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),o=new pv(e.databaseInfo);return new R_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,g=N=>zh(this.syncEngine,N,0),D=Nh.C()?new Nh:new b_,new sm(t,o,l,g,D);var t,o,l,g,D}createSyncEngine(e,t){return function(o,l,g,D,N,W,ee){const ge=new uc(o,l,g,D,N,W);return ee&&(ge.dc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=Zt(t);Lt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield ld(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hp(i,e,t){if(!t)throw new wt(ut.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jd(i){if(!Jt.isDocumentKey(i))throw new wt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nf(i){if(Jt.isDocumentKey(i))throw new wt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":nn()}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new wt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uc(i);throw new wt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const z_=new Map;class $p{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function K_(i,e,t,o){if(!0===e&&!0===o)throw new wt(ut.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $p(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Oi;switch(t.type){case"gapi":return new ks(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new wt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=z_.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),z_.delete(e),t.terminate())}(this),Promise.resolve()}}class lo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class ta{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class ga extends ta{constructor(e,t,o){super(e,t,su(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Jt(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function sf(i,e,...t){if(i=(0,le.m9)(i),Hp("collection","path",e),i instanceof pd){const o=vr.fromString(e,...t);return nf(o),new ga(i,null,o)}{if(!(i instanceof lo||i instanceof ga))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(vr.fromString(e,...t));return nf(o),new ga(i.firestore,null,o)}}function gd(i,e,...t){if(i=(0,le.m9)(i),1===arguments.length&&(e=Tl.R()),Hp("doc","path",e),i instanceof pd){const o=vr.fromString(e,...t);return jd(o),new lo(i,null,new Jt(o))}{if(!(i instanceof lo||i instanceof ga))throw new wt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(vr.fromString(e,...t));return jd(o),new lo(i.firestore,i instanceof ga?i.converter:null,new Jt(o))}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Z_{constructor(e,t,o,l){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=Zr.UNAUTHENTICATED,this.clientId=Tl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var D=(0,f.Z)(function*(N){Lt("FirestoreClient","Received user=",N.uid),yield g.authCredentialListener(N),g.user=N});return function(N){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(o,D=>(Lt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Ud(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function xm(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(g){o.isEqual(g)||(yield Yg(e.localStore,g),o=g)});return function(g){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Kp.apply(this,arguments)}function zp(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Yp(i);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>fm(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,g)=>fm(e.remoteStore,g)),i.onlineComponents=e}),Hd.apply(this,arguments)}function Yp(i){return $d.apply(this,arguments)}function $d(){return $d=(0,f.Z)(function*(i){return i.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Pm)),i.offlineComponents}),$d.apply(this,arguments)}function cf(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,f.Z)(function*(i){return i.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield zp(i,new Bd)),i.onlineComponents}),Qp.apply(this,arguments)}function ql(i){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,f.Z)(function*(i){const e=yield cf(i),t=e.eventManager;return t.onListen=Dm.bind(null,e.syncEngine),t.onUnlisten=k_.bind(null,e.syncEngine),t}),Lm.apply(this,arguments)}class ff{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lh(this,"async_queue_retry"),this.Wc=()=>{const t=up();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ts;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ro(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,ns("INTERNAL UNHANDLED ERROR: ",function(g){let D=g.message||"";return g.stack&&(D=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),D}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=Ep.createAndSchedule(this,e,t,o,g=>this.Yc(g));return this.Uc.push(l),l}zc(){this.Kc&&nn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Cl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class ss extends pd{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new ff,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bc(this),this._firestoreClient.terminate()}}function md(i,e){const t="object"==typeof i?i:(0,S.Mq)(),o="string"==typeof i?i:e||"(default)",l=(0,S.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const g=(0,le.P0)("firestore");g&&function Rm(i,e,t,o={}){var l;const g=(i=Ti(i,pd))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let D,N;if("string"==typeof o.mockUserToken)D=o.mockUserToken,N=Zr.MOCK_USER;else{D=(0,le.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new wt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Zr(W)}i._authCredentials=new Ko(new Ja(D,N))}}(l,...g)}return l}function Vs(i){return i._firestoreClient||Bc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Bc(i){var e;const t=i._freezeSettings(),o=(g=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Pu(i._databaseId,g,i._persistenceKey,(N=t).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var g,N;i._firestoreClient=new Z_(i._authCredentials,i._appCheckCredentials,i._queue,o)}function _d(i,e){!function Xp(i){if(i._initialized||i._terminated)throw new wt(ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=Ti(i,ss));const t=Vs(i),o=i._freezeSettings(),l=new Bd;return function jc(i,e,t){const o=new Ts;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield xm(i,t),yield zp(i,e),o.resolve()}catch(l){const g=l;if(!("FirebaseError"===(D=g).name?D.code===ut.FAILED_PRECONDITION||D.code===ut.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw g;yo("Error enabling offline persistence. Falling back to persistence disabled: "+g),o.reject(g)}var D})).then(()=>o.promise)}(t,l,new G_(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Yi.fromBase64String(e))}catch(t){throw new wt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hc(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._methodName=e}}class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nr(this._lat,e._lat)||nr(this._long,e._long)}}const Fm=/^__.*__$/;class tg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new on(e,this.data,this.fieldMask,t,this.fieldTransforms):new On(e,this.data,t,this.fieldTransforms)}}class pf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new on(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function km(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class Hc{constructor(e,t,o,l,g,D){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=l,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=D||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Hc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.ua(e),l}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(km(this.sa)&&Fm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class gf{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||Nd(e)}da(e,t,o,l=!1){return new Hc({sa:e,methodName:t,fa:o,path:gr.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function fc(i){const e=i._freezeSettings(),t=Nd(i._databaseId);return new gf(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ng(i,e,t,o,l,g={}){const D=i.da(g.merge||g.mergeFields?2:0,e,t,l);_f("Data must be an object, but it was:",D,o);const N=og(o,D);let W,ee;if(g.merge)W=new Us(D.fieldMask),ee=D.fieldTransforms;else if(g.mergeFields){const ge=[];for(const Re of g.mergeFields){const ot=yf(e,Re,t);if(!D.contains(ot))throw new wt(ut.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);vf(ge,ot)||ge.push(ot)}W=new Us(ge),ee=D.fieldTransforms.filter(Re=>W.covers(Re.field))}else W=null,ee=D.fieldTransforms;return new tg(new Ws(N),W,ee)}class pc extends qd{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pc}}class Jd extends qd{_toFieldTransform(e){return new _(e.path,new xl)}isEqual(e){return e instanceof Jd}}function sg(i,e,t,o=!1){return $c(t,i.da(o?4:3,e))}function $c(i,e){if(ag(i=(0,le.m9)(i)))return _f("Unsupported field value:",e,i),og(i,e);if(i instanceof qd)return function(t,o){if(!km(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const l=[];let g=0;for(const D of t){let N=$c(D,o.aa(g));null==N&&(N={nullValue:"NULL_VALUE"}),l.push(N),g++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fu(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ui.fromDate(t);return{timestampValue:It(o.yt,l)}}if(t instanceof ui){const l=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:It(o.yt,l)}}if(t instanceof eg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hc)return{bytesValue:dn(o.yt,t._byteString)};if(t instanceof lo){const l=o.databaseId,g=t.firestore._databaseId;if(!g.isEqual(l))throw o.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vi(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Uc(t)}`)}(i,e)}function og(i,e){const t={};return ja(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(i,(o,l)=>{const g=$c(l,e.ra(o));null!=g&&(t[o]=g)}),{mapValue:{fields:t}}}function ag(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ui||i instanceof eg||i instanceof hc||i instanceof lo||i instanceof qd)}function _f(i,e,t){if(!ag(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Uc(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function yf(i,e,t){if((e=(0,le.m9)(e))instanceof yd)return e._internalPath;if("string"==typeof e)return Xd(i,e);throw eh("Field path arguments must be of type string or ",i,!1,void 0,t)}const ly=new RegExp("[~\\*/\\[\\]]");function Xd(i,e,t){if(e.search(ly)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch(o){throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function eh(i,e,t,o,l){const g=o&&!o.isEmpty(),D=void 0!==l;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let W="";return(g||D)&&(W+=" (found",g&&(W+=` in field ${o}`),D&&(W+=` in document ${l}`),W+=")"),new wt(ut.INVALID_ARGUMENT,N+i+W)}function vf(i,e){return i.some(t=>t.isEqual(e))}class vd{constructor(e,t,o,l,g){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bm extends vd{data(){return super.data()}}function th(i,e){return"string"==typeof e?Xd(i,e):e instanceof yd?e._internalPath:e._delegate._internalPath}function lg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new wt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ef{}class Ed extends Ef{}function jm(i,e,...t){let o=[];e instanceof Ef&&o.push(e),o=o.concat(t),function(l){const g=l.filter(N=>N instanceof nh).length,D=l.filter(N=>N instanceof Dd).length;if(g>1||g>0&&D>0)throw new wt(ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class Dd extends Ed{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Dd(e,t,o)}_apply(e){const t=this._parse(e);return Km(e._query,t),new ta(e.firestore,e.converter,wu(e._query,t))}_parse(e){const t=fc(e.firestore);return function(l,g,D,N,W,ee,ge){let Re;if(W.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new wt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){ug(ge,ee);const ot=[];for(const Pt of ge)ot.push(Wm(N,l,Pt));Re={arrayValue:{values:ot}}}else Re=Wm(N,l,ge)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||ug(ge,ee),Re=sg(D,"where",ge,"in"===ee||"not-in"===ee);return Cr.create(W,ee,Re)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class nh extends Ef{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nh(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let g=o;const D=l.getFlattenedFilters();for(const N of D)Km(g,N),g=wu(g,N)}(e._query,t),new ta(e.firestore,e.converter,wu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Df extends Ed{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Df(e,t)}_apply(e){const t=function(o,l,g){if(null!==o.startAt)throw new wt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new wt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new Sa(l,g);return function(N,W){if(null===ou(N)){const ee=ml(N);null!==ee&&cg(0,ee,W.field)}}(o,D),D}(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,function(o,l){const g=o.explicitOrderBy.concat([l]);return new _s(o.path,o.collectionGroup,g,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function cy(i,e="asc"){const t=e,o=th("orderBy",i);return Df._create(o,t)}class uo extends Ed{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new uo(e,t,o)}_apply(e){return new ta(e.firestore,e.converter,_l(e._query,this._limit,this._limitType))}}function Hm(i){return function rf(i,e){if(e<=0)throw new wt(ut.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),uo._create("limit",i,"F")}class Cf extends Ed{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Cf(e,t,o)}_apply(e){const t=Gm(e,this.type,this._docOrFields,this._inclusive);return new ta(e.firestore,e.converter,(l=t,new _s((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function hy(...i){return Cf._create("startAfter",i,!1)}class rh extends Ed{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new rh(e,t,o)}_apply(e){const t=Gm(e,this.type,this._docOrFields,this._inclusive);return new ta(e.firestore,e.converter,(l=t,new _s((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function $m(...i){return rh._create("endBefore",i,!1)}function Gm(i,e,t,o){if(t[0]=(0,le.m9)(t[0]),t[0]instanceof vd)return function(l,g,D,N,W){if(!N)throw new wt(ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ee=[];for(const ge of Ga(l))if(ge.field.isKeyField())ee.push(bs(g,N.key));else{const Re=N.data.field(ge.field);if(F(Re))throw new wt(ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const ot=ge.field.canonicalString();throw new wt(ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}ee.push(Re)}return new oo(ee,W)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=fc(i.firestore);return function(g,D,N,W,ee,ge){const Re=g.explicitOrderBy;if(ee.length>Re.length)throw new wt(ut.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let Pt=0;Pt<ee.length;Pt++){const Bt=ee[Pt];if(Re[Pt].field.isKeyField()){if("string"!=typeof Bt)throw new wt(ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof Bt}`);if(!Kl(g)&&-1!==Bt.indexOf("/"))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${Bt}' contains a slash.`);const fn=g.path.child(vr.fromString(Bt));if(!Jt.isDocumentKey(fn))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const qn=new Jt(fn);ot.push(bs(D,qn))}else{const fn=sg(N,W,Bt);ot.push(fn)}}return new oo(ot,ge)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Wm(i,e,t){if("string"==typeof(t=(0,le.m9)(t))){if(""===t)throw new wt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kl(e)&&-1!==t.indexOf("/"))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(vr.fromString(t));if(!Jt.isDocumentKey(o))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return bs(i,new Jt(o))}if(t instanceof lo)return bs(i,t._key);throw new wt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(t)}.`)}function ug(i,e){if(!Array.isArray(i)||0===i.length)throw new wt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new wt(ut.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Km(i,e){if(e.isInequality()){const o=ml(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const g=ou(i);null!==g&&cg(0,l,g)}const t=function(o,l){for(const g of o)for(const D of g.getFlattenedFilters())if(l.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new wt(ut.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function cg(i,e,t){if(!t.isEqual(e))throw new wt(ut.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Gc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends vd{constructor(e,t,o,l,g,D){super(e,t,o,l,D),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Ul extends Wc{data(e={}){return super.data(e)}}class Qa{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Gc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Ul(this._firestore,this._userDataWriter,o.key,o,new Gc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let g=0;return o._snapshot.docChanges.map(D=>({type:"added",doc:new Ul(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Gc(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:g++}))}{let g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(D=>l||3!==D.type).map(D=>{const N=new Ul(o._firestore,o._userDataWriter,D.doc.key,D.doc,new Gc(o._snapshot.mutatedKeys.has(D.doc.key),o._snapshot.fromCache),o.query.converter);let W=-1,ee=-1;return 0!==D.type&&(W=g.indexOf(D.doc.key),g=g.delete(D.doc.key)),1!==D.type&&(g=g.add(D.doc),ee=g.indexOf(D.doc.key)),{type:mu(D.type),doc:N,oldIndex:W,newIndex:ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mu(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function zm(i){i=Ti(i,lo);const e=Ti(i.firestore,ss);return function hf(i,e,t={}){const o=new Ts;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,g,D,N,W){const ee=new lf({next:Re=>{g.enqueueAndForget(()=>mm(l,ge));const ot=Re.docs.has(D);!ot&&Re.fromCache?W.reject(new wt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Re.fromCache&&N&&"server"===N.source?W.reject(new wt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Re)},error:Re=>W.reject(Re)}),ge=new vm(su(D.path),ee,{includeMetadataChanges:!0,Nu:!0});return pm(l,ge)}(yield ql(i),i.asyncQueue,e,t,o)})),o.promise}(Vs(e),i._key).then(t=>wf(e,i,t))}class gc extends class dg{convertValue(e,t="none"){switch(Xe(e)){case 0:return null;case 1:return e.booleanValue;case 2:return O(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(T(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){const o={};return Fi(e.fields,(l,g)=>{o[l]=this.convertValue(g,t)}),o}convertGeoPoint(e){return new eg(O(e.latitude),O(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=$(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(re(e));default:return null}}convertTimestamp(e){const t=M(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=vr.fromString(e);Tn(Pf(o));const l=new nl(o.get(1),o.get(3)),g=new Jt(o.popFirst(5));return l.isEqual(t)||ns(`Document ${g} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,t)}}function gy(i){i=Ti(i,lo);const e=Ti(i.firestore,ss),t=Vs(e),o=new gc(e);return function X_(i,e){const t=new Ts;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(l,g,D){try{const N=yield function(W,ee){const ge=Zt(W);return ge.persistence.runTransaction("read document","readonly",Re=>ge.localDocuments.getDocument(Re,ee))}(l,g);N.isFoundDocument()?D.resolve(N):N.isNoDocument()?D.resolve(null):D.reject(new wt(ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=Ud(N,`Failed to get document '${g} from cache`);D.reject(W)}}),function(l,g,D){return o.apply(this,arguments)})(yield function df(i){return Yp(i).then(e=>e.localStore)}(i),e,t);var o})),t.promise}(t,i._key).then(l=>new Wc(e,o,i._key,l,new Gc(null!==l&&l.hasLocalMutations,!0),i.converter))}function my(i){i=Ti(i,ta);const e=Ti(i.firestore,ss),t=Vs(e),o=new gc(e);return lg(i._query),function gu(i,e,t={}){const o=new Ts;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,g,D,N,W){const ee=new lf({next:Re=>{g.enqueueAndForget(()=>mm(l,ge)),Re.fromCache&&"server"===N.source?W.reject(new wt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Re)},error:Re=>W.reject(Re)}),ge=new vm(D,ee,{includeMetadataChanges:!0,Nu:!0});return pm(l,ge)}(yield ql(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(l=>new Qa(e,o,i,l))}function Qm(i,e,t,...o){i=Ti(i,lo);const l=Ti(i.firestore,ss),g=fc(l);let D;return D="string"==typeof(e=(0,le.m9)(e))||e instanceof yd?function mf(i,e,t,o,l,g){const D=i.da(1,e,t),N=[yf(e,o,t)],W=[l];if(g.length%2!=0)throw new wt(ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<g.length;ot+=2)N.push(yf(e,g[ot])),W.push(g[ot+1]);const ee=[],ge=Ws.empty();for(let ot=N.length-1;ot>=0;--ot)if(!vf(ee,N[ot])){const Pt=N[ot];let Bt=W[ot];Bt=(0,le.m9)(Bt);const fn=D.ca(Pt);if(Bt instanceof pc)ee.push(Pt);else{const qn=$c(Bt,fn);null!=qn&&(ee.push(Pt),ge.set(Pt,qn))}}const Re=new Us(ee);return new pf(ge,Re,D.fieldTransforms)}(g,"updateDoc",i._key,e,t,o):function ig(i,e,t,o){const l=i.da(1,e,t);_f("Data must be an object, but it was:",l,o);const g=[],D=Ws.empty();Fi(o,(W,ee)=>{const ge=Xd(e,W,t);ee=(0,le.m9)(ee);const Re=l.ca(ge);if(ee instanceof pc)g.push(ge);else{const ot=$c(ee,Re);null!=ot&&(g.push(ge),D.set(ge,ot))}});const N=new Us(g);return new pf(D,N,l.fieldTransforms)}(g,"updateDoc",i._key,e),oh(l,[D.toMutation(i._key,ne.exists(!0))])}function _y(i){return oh(Ti(i.firestore,ss),[new cs(i._key,ne.none())])}function qm(i,e){const t=Ti(i.firestore,ss),o=gd(i),l=function sh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return oh(t,[ng(fc(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,ne.exists(!1))]).then(()=>o)}function Zm(i,...e){var t,o,l;i=(0,le.m9)(i);let g={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||Cl(e[D])||(g=e[D],D++);const N={includeMetadataChanges:g.includeMetadataChanges};if(Cl(e[D])){const Re=e[D];e[D]=null===(t=Re.next)||void 0===t?void 0:t.bind(Re),e[D+1]=null===(o=Re.error)||void 0===o?void 0:o.bind(Re),e[D+2]=null===(l=Re.complete)||void 0===l?void 0:l.bind(Re)}let W,ee,ge;if(i instanceof lo)ee=Ti(i.firestore,ss),ge=su(i._key.path),W={next:Re=>{e[D]&&e[D](wf(ee,i,Re))},error:e[D+1],complete:e[D+2]};else{const Re=Ti(i,ta);ee=Ti(Re.firestore,ss),ge=Re._query;const ot=new gc(ee);W={next:Pt=>{e[D]&&e[D](new Qa(ee,ot,Re,Pt))},error:e[D+1],complete:e[D+2]},lg(i._query)}return function(Re,ot,Pt,Bt){const fn=new lf(Bt),qn=new vm(ot,fn,Pt);return Re.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return pm(yield ql(Re),qn)})),()=>{fn.bc(),Re.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return mm(yield ql(Re),qn)}))}}(Vs(ee),ge,N,W)}function oh(i,e){return function(t,o){const l=new Ts;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Wh(i,e,t){return cc.apply(this,arguments)}(yield function Zp(i){return cf(i).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(Vs(i),e)}function wf(i,e,t){const o=t.docs.get(e._key),l=new gc(i);return new Wc(i,l,e._key,o,new Gc(t.hasPendingWrites,t.fromCache),e.converter)}function e_(){return new Jd("serverTimestamp")}!function(i,e=!0){Mi=S.Jn,(0,S.Xd)(new te.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const g=t.getProvider("app").getImmediate(),D=new ss(new qs(t.getProvider("auth-internal")),new Po(t.getProvider("app-check-internal")),function(N,W){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new wt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(N.options.projectId,W)}(g,o),g);return l=Object.assign({useFetchStreams:e},l),D._setSettings(l),D},"PUBLIC").setMultipleInstances(!0)),(0,S.KN)(ws,"3.8.3",i),(0,S.KN)(ws,"3.8.3","esm2017")}()},5861:(Ie,ae,C)=>{function f(te,V,le,de,oe,J,he){try{var Q=te[J](he),Z=Q.value}catch(ce){return void le(ce)}Q.done?V(Z):Promise.resolve(Z).then(de,oe)}function S(te){return function(){var V=this,le=arguments;return new Promise(function(de,oe){var J=te.apply(V,le);function he(Z){f(J,de,oe,he,Q,"next",Z)}function Q(Z){f(J,de,oe,he,Q,"throw",Z)}he(void 0)})}}C.d(ae,{Z:()=>S})},4147:Ie=>{Ie.exports={i8:"0.0.12"}}},Ie=>{Ie(Ie.s=3308)}]);