"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8268],{965:(P,_,o)=>{o.r(_),o.d(_,{default:()=>a});var e=o(4438),s=o(9417),t=o(8475),v=o(4513),p=o(7830);function d(i,y){if(1&i){const l=e.RV6();e.j41(0,"div",4),e.nrm(1,"input",9),e.j41(2,"app-theme-icon",10),e.bIt("click",function(){const f=e.eBV(l).$index,M=e.XpG();return e.Njj(M.remove(f))}),e.k0s()()}if(2&i){const l=y.$index;e.Y8G("formGroupName",l),e.R7$(),e.Mz_("placeholder","choice ",l+1,""),e.R7$(),e.Y8G("cursor",!0)}}let b=(()=>{class i{constructor(l){this.fb=l,this.votingService=(0,e.WQX)(p.Z),this.formInit()}formInit(){this.form=this.fb.group({createdBy:[""],title:["",s.k0.required],choices:this.fb.array([this.createChoice(),this.createChoice()])},{nonNullable:!0})}createChoice(){return this.fb.group({choice:["",s.k0.required]})}addChoice(){this.choices.push(this.createChoice())}get choices(){return this.form.get("choices")}remove(l){this.choices.removeAt(l)}create(){this.votingService.create(this.form.value).then(()=>{this.form.reset()})}static{this.\u0275fac=function(u){return new(u||i)(e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-create-poll"]],decls:14,vars:5,consts:[[3,"shadow"],[3,"formGroup"],["placeholder","title","formControlName","title"],["formArrayName","choices"],[1,"choices",3,"formGroupName"],[1,"choices"],["name","add_circle","color","success",3,"click","cursor"],["app-theme-button","","color","success",3,"click","disabled"],["name","arrow_forward","color","success",3,"cursor"],["formControlName","choice",3,"placeholder"],["name","delete","color","red",3,"click","cursor"]],template:function(u,f){1&u&&(e.j41(0,"app-theme-semantic-card",0)(1,"h2"),e.EFF(2,"Create New Poll"),e.k0s(),e.j41(3,"form",1),e.nrm(4,"input",2),e.j41(5,"div",3),e.Z7z(6,d,3,4,"div",4,e.Vm6),e.j41(8,"div",5),e.nrm(9,"div"),e.j41(10,"app-theme-icon",6),e.bIt("click",function(){return f.addChoice()}),e.k0s()()(),e.j41(11,"button",7),e.bIt("click",function(){return f.create()}),e.EFF(12,"create "),e.nrm(13,"app-theme-icon",8),e.k0s()()()),2&u&&(e.Y8G("shadow","depth"),e.R7$(3),e.Y8G("formGroup",f.form),e.R7$(3),e.Dyx(f.choices.controls),e.R7$(4),e.Y8G("cursor",!0),e.R7$(),e.Y8G("disabled",f.form.invalid),e.R7$(2),e.Y8G("cursor",!0))},dependencies:[s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8,t.FY,t.F5,v.e],styles:["[_nghost-%COMP%]{display:grid;max-width:600px;margin:1rem auto}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:1rem}"]})}}return i})();var n=o(467),m=o(9079),g=o(8141),C=o(6026),O=o(9637),k=o(1751),T=o(1917);const j=(i,y)=>y.key;function x(i,y){1&i&&e.nrm(0,"app-theme-loader",0)}function h(i,y){if(1&i){const l=e.RV6();e.j41(0,"app-list-item",2),e.bIt("click",function(){const f=e.eBV(l).$implicit,M=e.XpG(2);return e.Njj(M.view(f))}),e.j41(1,"h3"),e.EFF(2),e.k0s()()}if(2&i){const l=y.$implicit;e.R7$(2),e.SpI(" ",l.title,"")}}function E(i,y){if(1&i&&(e.j41(0,"app-list",1),e.Z7z(1,h,3,1,"app-list-item",null,j),e.k0s()),2&i){const l=e.XpG();e.R7$(),e.Dyx(l.polls.value())}}function r(i,y){if(1&i){const l=e.RV6();e.j41(0,"div")(1,"app-theme-alert",3),e.EFF(2),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(l);const f=e.XpG();return e.Njj(f.polls.reload())}),e.EFF(4," realod "),e.k0s()()}if(2&i){const l=e.XpG();e.R7$(),e.Y8G("dismissible",!1),e.R7$(),e.SpI(" ",l.polls.error()," ")}}let c=(()=>{class i{constructor(){this.votingService=(0,e.WQX)(p.Z),this.modelService=(0,e.WQX)(C.Bg),this.polls=(0,m.ZX)({loader:()=>this.votingService.get$().pipe((0,g.M)(console.log))})}view(l){var u=this;return(0,n.A)(function*(){const{PollViewComponent:f}=yield Promise.all([o.e(2076),o.e(7076)]).then(o.bind(o,6731));u.modelService.openWithComponent(f,{title:l.title,data:{id:l.key}}).subscribe(M=>{})})()}static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-poll-list"]],decls:5,vars:1,consts:[["spinSize","small"],["layout","autofit"],[3,"click"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","small",3,"click"]],template:function(u,f){1&u&&(e.j41(0,"h2"),e.EFF(1,"Poll List"),e.k0s(),e.DNE(2,x,1,0,"app-theme-loader",0)(3,E,3,0,"app-list",1)(4,r,5,2,"div")),2&u&&(e.R7$(2),e.vxM(f.polls.isLoading()?2:f.polls.hasValue()?3:4))},dependencies:[k.s,T.P,O.C,t.Fv],styles:["h3[_ngcontent-%COMP%]:hover{color:var(--accent-color);cursor:pointer}"]})}}return i})(),a=(()=>{class i{static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-voting"]],decls:2,vars:0,template:function(u,f){1&u&&e.nrm(0,"app-create-poll")(1,"app-poll-list")},dependencies:[b,c],styles:["[_nghost-%COMP%]{display:grid;gap:1rem}"]})}}return i})()},2114:(P,_,o)=>{o.d(_,{F:()=>s});var e=o(4438);let s=(()=>{class t{constructor(){this.systemQuery=window.matchMedia("(prefers-color-scheme: dark)"),this._systemIsDark=(0,e.vPA)(this.systemQuery.matches),this._effectiveTheme=(0,e.EWP)(()=>{const p=this._userPreference();return"system"==p?this._systemIsDark()?"dark":"light":p}),this._userPreference=(0,e.vPA)(this.loadUserPreference()),this.isDarkTheme=(0,e.EWP)(()=>"dark"===this._effectiveTheme()),this.listenToSystemThemeChange()}get effectiveTheme(){return this._effectiveTheme}getUserThemePreference(){return this._userPreference()}saveUserPreference(p){localStorage.setItem("theme-mode",p),this._userPreference.set(p)}applyThemeToHost({el:p,mode:d=this.getUserThemePreference(),disableAutoPresetFallback:b=!1,layoutPresets:n,layoutPresetKey:m}){this.saveUserPreference(d);const g=this._effectiveTheme();if(p.setAttribute("data-theme",g),document.documentElement.setAttribute("data-theme",g),!n)return;const C=m&&n[m]||!b&&n[g];C&&this.applyColorVariables(p,C)}onSystemThemeChange(p){const d=()=>{"system"===this.getUserThemePreference()&&p()};return this.systemQuery.addEventListener("change",d),()=>this.systemQuery.removeEventListener("change",d)}listenToSystemThemeChange(){this.systemQuery.addEventListener("change",()=>{this._systemIsDark.set(this.systemQuery.matches)})}applyColorVariables(p,d){for(const[b,n]of Object.entries(d))p.style.setProperty(`--${this.toKebabCase(b)}`,n)}toKebabCase(p){return p.replace(/[A-Z]/g,d=>"-"+d.toLowerCase())}loadUserPreference(){return localStorage.getItem("theme-mode")||"system"}static{this.\u0275fac=function(d){return new(d||t)}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},4715:(P,_,o)=>{o.d(_,{jr:()=>e.j});var e=o(4277);o(308),o(5322),o(6274)},5676:(P,_,o)=>{o.d(_,{dG:()=>t.d,Gj:()=>s.G}),o(1681);var s=o(7987),t=o(1240)},6026:(P,_,o)=>{o.d(_,{OT:()=>g.OT,Bg:()=>m,Gj:()=>C.Gj,jr:()=>e.jr,fw:()=>x.fw});var e=o(4715),s=o(177),t=o(4438),v=o(1413);const p=["*"];function d(h,E){if(1&h&&(t.j41(0,"small"),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&h){const r=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,r.subTitle))}}function b(h,E){if(1&h){const r=t.RV6();t.j41(0,"span",6),t.bIt("click",function(){t.eBV(r);const a=t.XpG();return t.Njj(a.close())}),t.EFF(1,"\u2715"),t.k0s()}}let n=(()=>{class h{constructor(r){this.elementRef=r,this.closeControls={closeIcon:!0,escKey:!0,outsideClick:!0},this.closeEvent=new t.bkB,this.submitEvent=new t.bkB}onEscape(){this.closeControls?.escKey&&this.close()}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(){this.elementRef.nativeElement.remove(),this.submitEvent.emit()}outsideClick(){this.closeControls.outsideClick&&this.close()}static{this.\u0275fac=function(c){return new(c||h)(t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ng-modal"]],hostBindings:function(c,a){1&c&&t.bIt("keydown.escape",function(){return a.onEscape()},!1,t.EBC)},inputs:{title:"title",subTitle:"subTitle",closeControls:"closeControls",styles:"styles"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!1,ngContentSelectors:p,decls:10,vars:10,consts:[[1,"popup-modal",3,"ngClass"],[1,"popup-modal-header"],[4,"ngIf"],["class","popup-modal-close",3,"click",4,"ngIf"],[1,"popup-modal-content"],[1,"popup-modal-backdrop",3,"click"],[1,"popup-modal-close",3,"click"]],template:function(c,a){1&c&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"div")(3,"span"),t.EFF(4),t.k0s(),t.DNE(5,d,3,3,"small",2),t.k0s(),t.DNE(6,b,2,0,"span",3),t.k0s(),t.j41(7,"div",4),t.SdG(8),t.k0s()(),t.j41(9,"div",5),t.bIt("click",function(){return a.outsideClick()}),t.k0s()),2&c&&(t.xc7("background",null==a.styles?null:a.styles.background)("height",null==a.styles?null:a.styles.height)("width",null==a.styles?null:a.styles.width),t.Y8G("ngClass",null==a.styles?null:a.styles.position),t.R7$(4),t.JRh(a.title),t.R7$(),t.Y8G("ngIf",a.subTitle),t.R7$(),t.Y8G("ngIf",null==a.closeControls?null:a.closeControls.closeIcon))},dependencies:[s.NgClass,s.NgIf,s.TitleCasePipe],styles:[".popup-modal-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000000b3;position:fixed;inset:0;z-index:200}.popup-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:201;width:500px;height:fit-content;max-width:100%;max-height:100%;margin:auto;padding:20px;background-color:#fff;border-radius:5px;overflow-y:auto;transition:all 5s ease-in-out}.popup-modal.right[_ngcontent-%COMP%]{left:unset;right:0;border-radius:0;height:100%;width:min-content}.popup-modal.left[_ngcontent-%COMP%]{left:0;right:unset;border-radius:0;height:100%;width:min-content}.popup-modal.top[_ngcontent-%COMP%]{bottom:unset;top:0;border-radius:0;width:100%}.popup-modal.bottom[_ngcontent-%COMP%]{bottom:0;top:unset;border-radius:0;width:100%}.popup-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;margin-bottom:20px;font-weight:700}.popup-modal-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;display:block}.popup-modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.popup-modal-close[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s}.popup-modal-close[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media screen and (max-width: 768px){.popup-modal[_ngcontent-%COMP%]{bottom:0;top:unset;left:unset;transform:unset;border-radius:10px 10px 0 0;width:100%!important}}[data-theme=dark][_ngcontent-%COMP%]   .popup-modal[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .popup-modal[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal[_ngcontent-%COMP%]{color-scheme:dark;background-color:#1e1e1e;color:#ecf0f1;box-shadow:0 0 10px #ffffff1a}[data-theme=dark][_ngcontent-%COMP%]   .popup-modal-header[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-header[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .popup-modal-header[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-header[_ngcontent-%COMP%]{color:#ecf0f1}[data-theme=dark][_ngcontent-%COMP%]   .popup-modal-footer[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-footer[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .popup-modal-footer[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-footer[_ngcontent-%COMP%]{border-top:1px solid #2c3e50}[data-theme=dark][_ngcontent-%COMP%]   .popup-modal-close[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-close[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .popup-modal-close[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-close[_ngcontent-%COMP%]{color:#ecf0f1}[data-theme=dark][_ngcontent-%COMP%]   .popup-modal-backdrop[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-backdrop[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .popup-modal-backdrop[_ngcontent-%COMP%], [data-theme=dark][_nghost-%COMP%]   .popup-modal-backdrop[_ngcontent-%COMP%]{background-color:#000000d9}@media (prefers-color-scheme: dark){.popup-modal[_ngcontent-%COMP%]{color-scheme:dark;background-color:#1e1e1e;color:#ecf0f1;box-shadow:0 0 10px #ffffff1a}.popup-modal-header[_ngcontent-%COMP%]{color:#ecf0f1}.popup-modal-footer[_ngcontent-%COMP%]{border-top:1px solid #2c3e50}.popup-modal-close[_ngcontent-%COMP%]{color:#ecf0f1}.popup-modal-backdrop[_ngcontent-%COMP%]{background-color:#000000d9}}"]})}}return h})(),m=(()=>{class h{constructor(r,c,a){this.document=r,this.envInjector=c,this.appRef=a}openWithComponent(r,c){const a=(0,t.a0P)(r,{environmentInjector:this.envInjector});return this.configInnerComponent(a,c),this.modelComponent=(0,t.a0P)(n,{environmentInjector:this.envInjector,projectableNodes:[[a.location.nativeElement]]}),this.configModalComponent(c),document.body.appendChild(this.modelComponent.location.nativeElement),document.body.style.overflow="hidden",this.appRef.attachView(a.hostView),this.appRef.attachView(this.modelComponent.hostView),this.modalNotifier=new v.B,this.modalNotifier?.asObservable()}openWithTemplate(r,c){const a=r.createEmbeddedView(null);return this.modelComponent=(0,t.a0P)(n,{environmentInjector:this.envInjector,projectableNodes:[a.rootNodes]}),this.configModalComponent(c),document.body.appendChild(this.modelComponent.location.nativeElement),document.body.style.overflow="hidden",this.modalNotifier=new v.B,this.modalNotifier?.asObservable()}closeModal(){document.body.style.overflow="revert",this.modelComponent.destroy(),this.modalNotifier?.complete()}submitModal(r="confirm"){this.modalNotifier?.next(r),this.closeModal()}configModalComponent(r){this.modelComponent.instance.title=r?.title,this.modelComponent.instance.subTitle=r?.subTitle,this.modelComponent.instance.styles=r?.styles,this.modelComponent.instance.closeControls=r.closeControls??{closeIcon:!0,escKey:!0,outsideClick:!0},this.modelComponent.instance.closeEvent.subscribe(()=>this.closeModal()),this.modelComponent.instance.submitEvent.subscribe(()=>this.submitModal()),this.modelComponent.hostView.detectChanges()}configInnerComponent(r,c){r.instance.data=c.data??null,c.inputs&&Object.entries(c.inputs).forEach(([a,i])=>{r.setInput(a,i)}),r.instance.close=()=>this.closeModal(),r.instance.submit=a=>this.submitModal(a)}static{this.\u0275fac=function(c){return new(c||h)(t.KVO(s.DOCUMENT),t.KVO(t.uvJ),t.KVO(t.o8S))}}static{this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();var g=o(8410),C=o(5676);o(7428);var x=o(1111)},7765:(P,_,o)=>{o.d(_,{u:()=>p});var e=o(467),s=o(4438),t=o(1994),v=o(8591);let p=(()=>{class d{constructor(){this.db=(0,s.WQX)(t.h),this.storageService=(0,s.WQX)(v._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(n=""){return n?`${this.fullPath}/${n}`:this.fullPath}create(n,m){return this.db.create(this.generatePath(m),n)}get$(){return this.db.readRealtime$(this.fullPath)}getById(n){return this.db.readRealtimeOriginal$(`${this.fullPath}/${n}`)}update(n,m){return this.db.update(`${this.fullPath}/${n}`,m)}remove(n){return this.db.remove(`${this.fullPath}/${n}`)}set(n,m){return this.db.set(this.generatePath(n),m)}getKeys$(n=""){return this.db.getKeys$(this.generatePath(n))}getKeys(n=""){return this.db.getKeys(this.generatePath(n))}readOnce(n=""){return this.db.readOnce(this.generatePath(n))}read$(n=""){return this.db.readRealtime$(this.generatePath(n))}clearDb(){return this.set("",null)}updateCounter(n,m=!0){return this.db.updateCounterV2(this.generatePath(n),m)}createWithFile(n,m,g){var C=this;return(0,e.A)(function*(){if(!m)throw new Error("Please select an image.");const O=yield C.storageService.uploadFile(C.basePath,m,g),k={...n,imageUrl:O};yield C.create(k)})()}uploadFile(n,m){var g=this;return(0,e.A)(function*(){if(!n)throw new Error("Please select an image.");return yield g.storageService.uploadFile(g.basePath,n,m)})()}extractAndUploadFiles(n,m){var g=this;return(0,e.A)(function*(){return g.storageService.extractAndUploadFiles(n,g.basePath,m)})()}static{this.\u0275fac=function(m){return new(m||d)}}static{this.\u0275prov=s.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},7830:(P,_,o)=>{o.d(_,{Z:()=>t});var e=o(7765),s=o(4438);let t=(()=>{class v extends e.u{constructor(){super(...arguments),this.basePath="voting",this.endpoint=""}static{this.\u0275fac=(()=>{let d;return function(n){return(d||(d=s.xGo(v)))(n||v)}})()}static{this.\u0275prov=s.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()}}]);