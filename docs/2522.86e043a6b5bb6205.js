"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[2522],{152:(D,E,p)=>{p.d(E,{B:()=>w});var e=p(3236),S=p(9974),k=p(4360);function w(j,u=e.E){return(0,S.N)((v,x)=>{let g=null,O=null,F=null;const P=()=>{if(g){g.unsubscribe(),g=null;const C=O;O=null,x.next(C)}};function V(){const C=F+j,l=u.now();if(l<C)return g=this.schedule(void 0,C-l),void x.add(g);P()}v.subscribe((0,k._)(x,C=>{O=C,F=u.now(),g||(g=u.schedule(V,j),x.add(g))},()=>{P(),x.complete()},void 0,()=>{O=g=null}))})}},2522:(D,E,p)=>{p.r(E),p.d(E,{default:()=>Y});var e=p(4438),S=p(1626),k=p(9079),w=p(6354);let j=(()=>{class t{constructor(){this.vehicleUrl="https://swapi.py4e.com/api/vehicles",this.http=(0,e.WQX)(S.Qq),this.selectedVehicle=(0,e.vPA)(void 0),this.quantity=(0,e.uuI)({source:this.selectedVehicle,computation:r=>r?1:0}),this.total=(0,e.EWP)(()=>(this.selectedVehicle()?.cost_in_credits??0)*this.quantity()),this.color=(0,e.EWP)(()=>this.total()>5e4?"green":"blue"),this.selectedVehicleId=(0,e.EWP)(()=>this.selectedVehicle()?.name),this.vehicleResource=(0,k.ZX)({request:()=>this.selectedVehicleId(),loader:({request:r})=>this.http.get(`${this.vehicleUrl}/${r}`).pipe((0,w.T)(n=>n.results))}),this.vehiclesResource=(0,k.ZX)({loader:()=>this.http.get(this.vehicleUrl).pipe((0,w.T)(r=>r.results))}),this.vehiclesResource2=(0,e.ZcF)({loader:()=>fetch(this.vehicleUrl).then(r=>r.json()).then(r=>r.results)}),this.vehicles=(0,e.EWP)(()=>this.vehiclesResource.value()??[]),this.error=(0,e.EWP)(()=>this.vehiclesResource.error()),this.errorStatus=(0,e.EWP)(()=>this.error().status),this.isLoading=this.vehiclesResource.isLoading,this.errEff=(0,e.QZP)(()=>{this.vehiclesResource.error()&&console.error(`Status: ${this.errorStatus()}, Error: ${this.error()}`)})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var u=p(9417);function v(t,o="requested data"){if(!t)return"An unknown error occurred.";if(t.error instanceof ErrorEvent)return`A client-side error occurred: ${t.error.message}`;const r=t.status;switch(r){case 401:return`You are not authorized to access ${o}.`;case 404:return`${o} was not found. Please try again later.`;case 0:return"Network error: Please check your internet connection.";default:return r>=500&&r<600?"The server encountered an error. Please try again later.":t.message||`Unexpected error (status code ${r}).`}}var x=p(152);let $=(()=>{class t{constructor(){this.title=e.hFB.required(),this.url=e.hFB.required({alias:"dataUrl"}),this.selectedModel=(0,e.vPA)(""),this.searchText=function F(t,o){return function s(t){const o=(0,e.vPA)(t.value);return t.valueChanges.subscribe(r=>o.set(r)),(0,e.QZP)(()=>{t.value!==o()&&t.setValue(o(),{emitEvent:!1})}),o}((0,k.br)(t).pipe((0,x.B)(o)))}(this.selectedModel,600),this.dataResource=(0,S.fx)(()=>`${this.url()}?search=${this.searchText()}`),this.data=(0,e.EWP)(()=>this.dataResource.value()??[]),this.error=(0,e.EWP)(()=>this.dataResource.error()),this.errorMessage=(0,e.EWP)(()=>v(this.error(),this.title())),this.isLoading=this.dataResource.isLoading}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=e.FsC({type:t,selectors:[["","app-data-signal",""]],inputs:{title:[1,"title"],url:[1,"dataUrl","url"]},exportAs:["appDataSignal"]})}}return t})();var U=p(5618);function W(t,o){1&t&&(e.j41(0,"div"),e.EFF(1,"... loading vehicles"),e.k0s())}function A(t,o){if(1&t&&(e.j41(0,"div",4),e.EFF(1),e.k0s()),2&t){const r=e.XpG();e.R7$(),e.SpI("An error occurred: ",r.errorMessage(),"")}}function B(t,o){if(1&t&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()),2&t){const r=o.$implicit;e.R7$(2),e.SpI(" ",r.name," "),e.R7$(2),e.SpI(" ",r.model," "),e.R7$(2),e.SpI(" ",r.cost_in_credits," "),e.R7$(2),e.SpI(" ",r.name," "),e.R7$(2),e.SpI(" ",r.model," "),e.R7$(2),e.SpI(" ",r.cost_in_credits," ")}}function L(t,o){if(1&t&&(e.j41(0,"app-table")(1,"table")(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"Name"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Model"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Cost (in credits)"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Name"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Model"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Cost (in credits)"),e.k0s()()(),e.j41(16,"tbody"),e.Z7z(17,B,13,6,"tr",null,e.fX1),e.k0s()()()),2&t){const r=e.XpG(2);e.R7$(17),e.Dyx(r.vehicles())}}function N(t,o){1&t&&(e.j41(0,"div"),e.EFF(1,"No vehicles found"),e.k0s())}function X(t,o){if(1&t&&e.DNE(0,L,19,0,"app-table")(1,N,2,0,"div"),2&t){const r=e.XpG();e.vxM(r.vehicles().length?0:1)}}let G=(()=>{class t{constructor(){this.#e=(0,e.WQX)($,{self:!0}),this.pageTitle=this.#e.title(),this.selectedModel=this.#e.selectedModel,this.error=this.#e.error,this.errorMessage=this.#e.errorMessage,this.isLoading=this.#e.isLoading,this.vehicles=(0,e.EWP)(()=>this.#e.data()?.results??[])}#e;static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-vehicle-selection"]],features:[e.nM4([{directive:$,inputs:["title","title","dataUrl","dataUrl"]}])],decls:10,vars:3,consts:[[1,"wrapper"],[1,"page-title"],["for","model"],["type","text","name","model",3,"ngModelChange","ngModel"],[2,"color","red"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.k0s(),e.j41(3,"div")(4,"label",2),e.EFF(5,"Search string: \xa0"),e.k0s(),e.j41(6,"input",3),e.mxI("ngModelChange",function(_){return e.DH7(a.selectedModel,_)||(a.selectedModel=_),_}),e.k0s()(),e.DNE(7,W,2,0,"div")(8,A,2,1,"div",4)(9,X,2,1),e.k0s()),2&n&&(e.R7$(2),e.SpI(" ",a.pageTitle," "),e.R7$(4),e.R50("ngModel",a.selectedModel),e.R7$(),e.vxM(a.isLoading()?7:a.errorMessage()?8:9))},dependencies:[u.YN,u.me,u.BC,u.vS,U.O],styles:[".wrapper[_ngcontent-%COMP%]{display:block;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:10px;border:2px solid #6A5449;border-radius:4px;margin-top:5px}.page-title[_ngcontent-%COMP%]{font-size:1em;font-weight:700;color:#e9967a;padding:0 0 10px}th[_ngcontent-%COMP%]{color:#6a5449;font-weight:700;position:sticky;background-color:transparent}td[_ngcontent-%COMP%]{color:#6a5449;text-align:left}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{color:#6a5449;font:inherit;margin:10px 0;width:280px}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:#6a5449;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:18px}"]})}}return t})(),Q=(()=>{class t{constructor(){this.httpErrorResponse=(0,e.hFB)(),this.title=(0,e.hFB)(),this.errorMessage=(0,e.EWP)(()=>v(this.httpErrorResponse(),this.title()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-error-message"]],inputs:{httpErrorResponse:[1,"httpErrorResponse"],title:[1,"title"]},decls:2,vars:1,consts:[[2,"color","red"]],template:function(n,a){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s()),2&n&&(e.R7$(),e.SpI("An error occurred: ",a.errorMessage(),""))},styles:[".form-control.is-invalid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.invalid-feedback[_ngcontent-%COMP%]{display:block;margin-top:.15rem;font-size:95%;color:#dc3545;font-weight:600}"]})}}return t})();function q(t,o){1&t&&(e.j41(0,"div"),e.EFF(1,"... loading vehicles"),e.k0s())}function Z(t,o){if(1&t&&e.nrm(0,"app-error-message",2),2&t){const r=e.XpG();e.Y8G("httpErrorResponse",r.error())}}function H(t,o){if(1&t&&(e.j41(0,"option",6),e.EFF(1),e.k0s()),2&t){const r=o.$implicit;e.Y8G("ngValue",r),e.R7$(),e.JRh(r.name)}}function K(t,o){if(1&t){const r=e.RV6();e.j41(0,"select",4),e.mxI("ngModelChange",function(a){e.eBV(r);const d=e.XpG();return e.DH7(d.selectedVehicle,a)||(d.selectedVehicle=a),e.Njj(a)}),e.j41(1,"option",5),e.EFF(2,"--Select a vehicle--"),e.k0s(),e.Z7z(3,H,2,2,"option",6,e.fX1),e.k0s(),e.j41(5,"div"),e.EFF(6,"Quantity: "),e.j41(7,"input",7),e.mxI("ngModelChange",function(a){e.eBV(r);const d=e.XpG();return e.DH7(d.quantity,a)||(d.quantity=a),e.Njj(a)}),e.k0s()(),e.j41(8,"div"),e.EFF(9),e.k0s(),e.j41(10,"div"),e.EFF(11),e.k0s(),e.j41(12,"div"),e.EFF(13),e.k0s()}if(2&t){let r,n;const a=e.XpG();e.R50("ngModel",a.selectedVehicle),e.R7$(3),e.Dyx(a.vehicles()),e.R7$(4),e.R50("ngModel",a.quantity),e.R7$(2),e.SpI("Vehicle: ",null==(r=a.selectedVehicle())?null:r.name,""),e.R7$(2),e.SpI("Price: ",null==(n=a.selectedVehicle())?null:n.cost_in_credits,""),e.R7$(),e.xc7("color",a.color()),e.R7$(),e.SpI("Total: ",a.total(),"")}}let Y=(()=>{class t{constructor(){this.vehicleService=(0,e.WQX)(j),this.vehicles=this.vehicleService.vehicles,this.isLoading=this.vehicleService.isLoading,this.error=this.vehicleService.error,this.selectedVehicle=this.vehicleService.selectedVehicle,this.quantity=this.vehicleService.quantity,this.total=this.vehicleService.total,this.color=this.vehicleService.color}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-vehicle"]],decls:8,vars:1,consts:[[1,"wrapper"],[1,"page-title"],[3,"httpErrorResponse"],["dataUrl","https://swapi.py4e.com/api/vehicles","title","StarWars Vehicles"],[1,"select",3,"ngModelChange","ngModel"],["value","undefined","disabled","","selected",""],[3,"ngValue"],["type","number",3,"ngModelChange","ngModel"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Star Wars Vehicle Sales"),e.k0s()(),e.DNE(4,q,2,0,"div")(5,Z,1,1,"app-error-message",2)(6,K,14,7),e.k0s(),e.nrm(7,"app-vehicle-selection",3)),2&n&&(e.R7$(4),e.vxM(a.isLoading()?4:a.error()?5:6))},dependencies:[Q,u.YN,u.xH,u.y7,u.me,u.Q0,u.wz,u.BC,u.vS,G],styles:[".wrapper[_ngcontent-%COMP%]{display:block;font-family:Verdana,Geneva,Tahoma,sans-serif;padding:10px;border:2px solid #6A5449;border-radius:4px;margin-top:5px}.page-title[_ngcontent-%COMP%]{font-size:1em;font-weight:700;color:#e9967a;padding:0 0 10px}th[_ngcontent-%COMP%]{color:#6a5449;font-weight:700;position:sticky;background-color:transparent}td[_ngcontent-%COMP%]{color:#6a5449;text-align:left}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{color:#6a5449;font:inherit;margin:10px 0;width:280px}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:#6a5449;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:18px}"]})}}return t})()},5618:(D,E,p)=>{p.d(E,{O:()=>k});var e=p(4438);const S=["*"];let k=(()=>{class w{constructor(){this.size="small",this.variants=["content","sticky","responsive","scrollY"],this.className=""}get hostClasses(){return`tr-table table-size-${this.size} ${this.variants.join(" ")} ${this.className}`}static{this.\u0275fac=function(v){return new(v||w)}}static{this.\u0275cmp=e.VBU({type:w,selectors:[["app-table"]],inputs:{size:"size",variants:"variants",className:"className"},ngContentSelectors:S,decls:3,vars:2,template:function(v,x){1&v&&(e.NAR(),e.j41(0,"div")(1,"table"),e.SdG(2),e.k0s()()),2&v&&e.HbH(x.hostClasses)},styles:["app-table{color-scheme:light;--color-white: #ffffff;--color-black: #000000;--color-gray-lightest: #f9fafb;--color-gray-lighter: #e5e7eb;--color-gray-light: #d1d5db;--color-gray: #9ca3af;--color-gray-dark: #6b7280;--table-font-size: .75rem;--table-padding: .75rem;--table-bg: var(--color-white);--table-hover-bg: #f5f8fa;--table-header-bg: #f2eefb;--table-border: #ccc;--table-text: inherit;--table-muted: #999;--table-shadow: 0 -1px 0 0 var(--color-gray-lighter), 0 1px 0 0 var(--color-gray-lighter);--table-accent: var(--theme-color, var(--accent-color))}app-table .tr-table{margin:1rem auto}app-table .tr-table table{width:100%;border-collapse:separate;border-spacing:0 2px;font-size:var(--table-font-size);background-color:var(--table-bg)}app-table .tr-table thead{color:#000;color:var(--table-text);font-weight:700;box-shadow:var(--table-shadow)}app-table .tr-table thead th{background-color:var(--table-header-bg);color:var(--table-accent);font-weight:700;padding:var(--table-padding);text-align:left}app-table .tr-table tbody tr{background-color:var(--table-bg);box-shadow:var(--table-shadow);transition:background-color .2s ease}app-table .tr-table tbody td{padding:var(--table-padding);border:none}app-table .tr-table.zebra table{border-spacing:0 0}app-table .tr-table.zebra tbody tr:nth-child(2n){background-color:#f9fbfc;background-color:var(--color-gray-lightest)}app-table .tr-table.hover tbody tr:hover{background-color:var(--table-hover-bg);cursor:default}app-table .tr-table.clickable tbody tr{cursor:pointer}app-table .tr-table.clickable tbody tr:hover{background-color:#edf4ff;background-color:color-mix(in srgb,var(--table-accent) 10%,var(--table-bg))}app-table .tr-table.compact{--table-font-size: .65rem;--table-padding: .5rem}app-table .tr-table.sticky thead th{position:sticky;top:0;z-index:1}app-table .tr-table.minimal th,app-table .tr-table.minimal td{border-bottom:1px solid #eee;border-bottom:1px solid var(--color-gray-lighter)}app-table .tr-table.bordered th,app-table .tr-table.bordered td{border:1px solid var(--color-gray);border:1px solid var(--table-border)}app-table .tr-table.flat{font-family:Segoe UI,sans-serif}app-table .tr-table.flat th{text-align:left;background-color:#f3f4f6;border-bottom:2px solid #ddd;padding:12px;background-color:var(--color-gray-lightest);border-bottom:2px solid var(--color-gray-light);color:var(--table-text)}app-table .tr-table.flat td{padding:12px;border-bottom:1px solid #e5e7eb;border-bottom:1px solid var(--color-gray-lighter)}app-table .tr-table.list th,app-table .tr-table.list td{border-top:1px solid #ddd}app-table .tr-table.glow th,app-table .tr-table.glow td{padding:1rem;border-bottom:1rem solid transparent;background-color:var(--table-accent);color:#fff;background-clip:padding-box;border-radius:4px}app-table .tr-table.overflow{table-layout:fixed;width:100%}app-table .tr-table.overflow th,app-table .tr-table.overflow td{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}app-table .tr-table.content table{border-collapse:collapse;margin:25px 0;font-size:.9em;min-width:400px;border-radius:5px 5px 0 0;overflow:hidden;box-shadow:0 0 20px #00000026}app-table .tr-table.content table thead tr{background-color:var(--table-accent);color:#fff;text-align:left;font-weight:700}app-table .tr-table.content table thead tr th{background-color:var(--table-accent);color:var(--color-white)}app-table .tr-table.content table th,app-table .tr-table.content table td{padding:12px 15px}app-table .tr-table.content table tbody tr{border-bottom:1px solid #dddddd}app-table .tr-table.content table tbody tr:nth-last-of-type(2n){background-color:#f3f3f3;background-color:var(--color-gray-lightest)}app-table .tr-table.content table tbody tr:last-of-type{border-bottom:2px solid var(--table-accent)}app-table .tr-table.content table tbody tr.active-row{font-weight:700;color:var(--table-accent)}app-table .tr-table.grid table{display:grid;width:100%;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}app-table .tr-table.grid thead{display:contents}app-table .tr-table.grid tr{display:contents}app-table .tr-table.grid th,app-table .tr-table.grid td{padding:8px;border:1px solid var(--table-border)}app-table .tr-table.responsive{display:block;overflow-x:auto;width:100%;-webkit-overflow-scrolling:touch}app-table .tr-table.responsive table{width:max-content;min-width:100%}app-table .tr-table.scrollY{display:block;max-height:300px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--table-accent) transparent}app-table .tr-table.fullBorder table{--table-shadow: 0 0 0 1px var(--color-gray)}app-table .tr-table.bottomBorder table{--table-shadow: 0 1px 0 0 var(--color-gray)}app-table .tr-table.topBorder table{--table-shadow: 0 -1px 0 0 var(--color-gray)}app-table .table-size-small table td,app-table .table-size-small table th{padding:4px 6px;font-size:.75rem}app-table .table-size-medium table td,app-table .table-size-medium table th{padding:8px 10px;font-size:.875rem}app-table .table-size-large table td,app-table .table-size-large table th{padding:12px 16px;font-size:1rem}[data-theme=dark] app-table{color-scheme:dark;--table-bg: #1e1e1e;--table-header-bg: #2a2a2a;--table-hover-bg: rgba(255, 255, 255, .05);--table-border: #2f2f2f;--table-muted: #9ca3af;--table-text: #e5e7eb;--color-gray-lightest: #2a2a2a;--color-gray-lighter: #333;--color-gray-light: #444}\n"],encapsulation:2})}}return w})()},9079:(D,E,p)=>{p.d(E,{ZX:()=>C,br:()=>g,ot:()=>F,pQ:()=>j});var e=p(4438),S=p(1985),k=p(2771),w=p(6977);function j(l){l||((0,e.Af3)(j),l=(0,e.WQX)(e.abz));const s=new S.c(i=>l.onDestroy(i.next.bind(i)));return i=>i.pipe((0,w.Q)(s))}function g(l,s){!s?.injector&&(0,e.Af3)(g);const i=s?.injector??(0,e.WQX)(e.zZn),c=new k.m(1),f=(0,e.QZP)(()=>{let h;try{h=l()}catch(m){return void(0,e.O8t)(()=>c.error(m))}(0,e.O8t)(()=>c.next(h))},{injector:i,manualCleanup:!0});return i.get(e.abz).onDestroy(()=>{f.destroy(),c.complete()}),c.asObservable()}function F(l,s){const i=!s?.manualCleanup;i&&!s?.injector&&(0,e.Af3)(F);const c=i?s?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,f=function P(l=Object.is){return(s,i)=>1===s.kind&&1===i.kind&&l(s.value,i.value)}(s?.equal);let h;h=(0,e.vPA)(s?.requireSync?{kind:0}:{kind:1,value:s?.initialValue},{equal:f});const m=l.subscribe({next:b=>h.set({kind:1,value:b}),error:b=>{if(s?.rejectErrors)throw b;h.set({kind:2,error:b})}});if(s?.requireSync&&0===h().kind)throw new e.wOt(601,!1);return c?.onDestroy(m.unsubscribe.bind(m)),(0,e.EWP)(()=>{const b=h();switch(b.kind){case 1:return b.value;case 2:throw b.error;case 0:throw new e.wOt(601,!1)}},{equal:s?.equal})}function C(l){return l?.injector||(0,e.Af3)(C),(0,e.ZcF)({...l,loader:void 0,stream:s=>{let i;const c=()=>i.unsubscribe();s.abortSignal.addEventListener("abort",c);const f=(0,e.vPA)({value:void 0});let h;const m=new Promise(y=>h=y);function b(y){f.set(y),h?.(f),h=void 0}return i=l.loader(s).subscribe({next:y=>b({value:y}),error:y=>b({error:y}),complete:()=>{h&&b({error:new Error("Resource completed before producing a value")}),s.abortSignal.removeEventListener("abort",c)}}),m}})}}}]);