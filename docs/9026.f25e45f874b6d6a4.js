"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[9026],{3858:(P,h,m)=>{m.d(h,{F:()=>D});var t=m(4438),a=m(9417),u=m(177);function b(n,l){if(1&n&&t.nrm(0,"input",16),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function C(n,l){if(1&n&&t.nrm(0,"input",17),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function c(n,l){if(1&n&&t.nrm(0,"textarea",18),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function p(n,l){if(1&n&&t.nrm(0,"input",19),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function i(n,l){if(1&n&&t.nrm(0,"input",20),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function o(n,l){if(1&n&&t.nrm(0,"input",21),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function _(n,l){if(1&n&&t.nrm(0,"input",22),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function g(n,l){if(1&n&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function y(n,l){if(1&n&&(t.j41(0,"select",18),t.DNE(1,g,2,2,"option",23),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key),t.R7$(),t.Y8G("ngForOf",e.options)}}function v(n,l){if(1&n&&t.nrm(0,"input",25),2&n){const e=t.XpG().$implicit;t.Y8G("formControlName",e.key)}}function x(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",29),t.nrm(1,"input",16),t.j41(2,"button",30),t.bIt("click",function(){const s=t.eBV(e).index,d=t.XpG(2).$implicit,f=t.XpG();return t.Njj(f.removeListItem(d.key,s))}),t.EFF(3," Remove "),t.k0s()()}if(2&n){const e=l.index;t.R7$(),t.Y8G("formControlName",e)}}function E(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",26),t.DNE(1,x,4,1,"div",27),t.j41(2,"button",28),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,d=t.XpG();return t.Njj(d.addListItem(s.key))}),t.EFF(3," Add Item "),t.k0s()()}if(2&n){const e=t.XpG().$implicit,r=t.XpG();t.FS9("formArrayName",e.key),t.R7$(),t.Y8G("ngForOf",r.getListControl(e.key).controls)}}function O(n,l){if(1&n&&(t.j41(0,"label"),t.nrm(1,"input",32),t.EFF(2),t.k0s()),2&n){const e=l.$implicit,r=t.XpG(2).$implicit;t.R7$(),t.Y8G("formControlName",r.key)("value",e),t.R7$(),t.SpI(" ",e," ")}}function F(n,l){if(1&n&&(t.j41(0,"div"),t.DNE(1,O,3,3,"label",31),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.options)}}function $(n,l){if(1&n&&(t.j41(0,"div",34)(1,"p"),t.EFF(2,"Preview:"),t.k0s(),t.nrm(3,"img",35),t.k0s()),2&n){const e=t.XpG(3);t.R7$(3),t.Y8G("src",e.imagePreview,t.B4B)}}function k(n,l){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"input",33),t.bIt("change",function(s){t.eBV(e);const d=t.XpG().$implicit,f=t.XpG();return t.Njj(f.onFileChange(s,d.key))}),t.k0s(),t.DNE(2,$,4,1,"div",34),t.bVm()}if(2&n){const e=t.XpG(2);t.R7$(2),t.vxM(e.imagePreview?2:-1)}}function G(n,l){1&n&&(t.j41(0,"small",36),t.EFF(1," This field is required. "),t.k0s())}function M(n,l){if(1&n&&(t.j41(0,"div",3)(1,"label"),t.EFF(2),t.k0s(),t.qex(3,4),t.DNE(4,b,1,1,"input",5)(5,C,1,1,"input",6)(6,c,1,1,"textarea",7)(7,p,1,1,"input",8)(8,i,1,1,"input",9)(9,o,1,1,"input",10)(10,_,1,1,"input",11)(11,y,2,2,"select",7)(12,v,1,1,"input",12)(13,E,4,2,"div",13)(14,F,2,1,"div",14)(15,k,3,1,"ng-container",14),t.bVm(),t.DNE(16,G,2,0,"small",15),t.k0s()),2&n){let e;const r=l.$implicit,s=t.XpG();t.R7$(2),t.JRh(r.label),t.R7$(),t.Y8G("ngSwitch",r.type),t.R7$(),t.Y8G("ngSwitchCase","text"),t.R7$(),t.Y8G("ngSwitchCase","number"),t.R7$(),t.Y8G("ngSwitchCase","textarea"),t.R7$(),t.Y8G("ngSwitchCase","date"),t.R7$(),t.Y8G("ngSwitchCase","datetime"),t.R7$(),t.Y8G("ngSwitchCase","tags"),t.R7$(),t.Y8G("ngSwitchCase","media"),t.R7$(),t.Y8G("ngSwitchCase","select"),t.R7$(),t.Y8G("ngSwitchCase","checkbox"),t.R7$(),t.Y8G("ngSwitchCase","list"),t.R7$(),t.Y8G("ngSwitchCase","radio"),t.R7$(),t.Y8G("ngSwitchCase","file"),t.R7$(),t.Y8G("ngIf",(null==(e=s.form.get(r.key))?null:e.invalid)&&(null==(e=s.form.get(r.key))?null:e.touched))}}let D=(()=>{class n{constructor(e){this.fb=e,this.fields=[],this.initialData={},this.submitLabel="Submit",this.resetTrigger=!1,this.submitted=new t.bkB,this.fileData={},this.imagePreview=null}ngOnInit(){this.buildForm()}ngOnChanges(e){(e.fields||e.initialData)&&this.buildForm(),e.resetTrigger&&e.resetTrigger.currentValue&&this.resetForm()}buildForm(){const e={};this.fields.forEach(r=>{const s=this.initialData[r.key]??"";if("list"===r.type){const d=Array.isArray(s)&&s.length?s:[""];e[r.key]=this.fb.array(d.map(f=>this.fb.control(f)))}else e[r.key]=this.fb.control(s??"",r.required?a.k0.required:[])}),this.form=this.fb.group(e)}getListControl(e){return this.form.get(e)}addListItem(e){this.getListControl(e).push(this.fb.control(""))}removeListItem(e,r){this.getListControl(e).removeAt(r)}onFileChange(e,r){const d=e.target.files?.[0];if(d){this.fileData[r]=d;const f=new FileReader;f.onload=()=>this.imagePreview=f.result,f.readAsDataURL(d)}else this.fileData[r]=null,this.imagePreview=null}onSubmit(){if(this.form.invalid)return void this.form.markAllAsTouched();const e={...this.form.value};for(const r in this.fileData)e[r]=this.fileData[r];this.submitted.emit(e)}resetForm(){this.form.reset(),this.fileData={},this.imagePreview=null,this.buildForm()}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(a.ok))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-entity-form"]],inputs:{fields:"fields",initialData:"initialData",submitLabel:"submitLabel",resetTrigger:"resetTrigger"},outputs:{submitted:"submitted"},features:[t.OA$],decls:4,vars:4,consts:[[3,"ngSubmit","formGroup"],["class","form-field",4,"ngFor","ngForOf"],["type","submit",1,"submit-button",3,"disabled"],[1,"form-field"],[3,"ngSwitch"],["type","text",3,"formControlName",4,"ngSwitchCase"],["type","number",3,"formControlName",4,"ngSwitchCase"],[3,"formControlName",4,"ngSwitchCase"],["type","date",3,"formControlName",4,"ngSwitchCase"],["type","datetime-local",3,"formControlName",4,"ngSwitchCase"],["type","text","placeholder","tag1, tag2",3,"formControlName",4,"ngSwitchCase"],["type","text","placeholder","url1, url2",3,"formControlName",4,"ngSwitchCase"],["type","checkbox",3,"formControlName",4,"ngSwitchCase"],["class","arr-list",3,"formArrayName",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","error-text",4,"ngIf"],["type","text",3,"formControlName"],["type","number",3,"formControlName"],[3,"formControlName"],["type","date",3,"formControlName"],["type","datetime-local",3,"formControlName"],["type","text","placeholder","tag1, tag2",3,"formControlName"],["type","text","placeholder","url1, url2",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","checkbox",3,"formControlName"],[1,"arr-list",3,"formArrayName"],["class","list-item",4,"ngFor","ngForOf"],["type","button",1,"add-button",3,"click"],[1,"list-item"],["type","button",1,"remove-button",3,"click"],[4,"ngFor","ngForOf"],["type","radio",3,"formControlName","value"],["type","file",3,"change"],[1,"image-preview"],["alt","Image preview",3,"src"],[1,"error-text"]],template:function(r,s){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return s.onSubmit()}),t.DNE(1,M,17,15,"div",1),t.j41(2,"button",2),t.EFF(3),t.k0s()()),2&r&&(t.Y8G("formGroup",s.form),t.R7$(),t.Y8G("ngForOf",s.fields),t.R7$(),t.Y8G("disabled",s.form.invalid),t.R7$(),t.SpI(" ",s.submitLabel," "))},dependencies:[u.CommonModule,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,a.X1,a.qT,a.xH,a.y7,a.me,a.Q0,a.Zm,a.wz,a.Fm,a.BC,a.cb,a.j4,a.JD,a.v8],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem;padding:1.5rem;border-radius:8px;background-color:#fafafa;box-shadow:0 2px 8px #0000000f;max-width:600px;margin:0 auto}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#333}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]):not([type=radio]), .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{all:unset;font-size:1rem;padding:.6rem .75rem;border:1px solid #ccc;border-radius:4px;transition:border-color .2s}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]):not([type=radio]):focus, .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-field[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#e53935;font-size:.875rem;margin-top:.25rem}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px;display:block;margin-top:.5rem;border-radius:4px;object-fit:cover}button[_ngcontent-%COMP%]{cursor:pointer;padding:6px 12px;font-size:.9rem;border-radius:4px;border:1px solid transparent;transition:all .2s}button.add-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;margin-top:.5rem}button.add-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button.remove-button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button.remove-button[_ngcontent-%COMP%]:hover{background-color:#bd2130}button.submit-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;margin-top:1rem;padding:10px 20px}button.submit-button[_ngcontent-%COMP%]:hover{background-color:#218838}.arr-list[_ngcontent-%COMP%]{background-color:#f1f5f9;padding:1rem;border-radius:6px;border:1px solid #d1d5db;margin-top:.5rem}.arr-list[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{margin-bottom:.5rem;width:calc(100% - 80px);display:inline-block}.arr-list[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{margin-left:.5rem;vertical-align:top}.add-button[_ngcontent-%COMP%]{margin-top:.5rem}.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem;height:50px}"]})}}return n})()},3935:(P,h,m)=>{m.d(h,{T:()=>C});var t=m(2218),a=m(7765),u=m(4438);const b={journey:Array.from({length:50},(c,p)=>({id:p+1,title:`Bali Adventure ${p+1}`,description:`Exploring beaches and volcanoes in Bali. ${p+1}`,startDate:new Date("2023-01-10"),endDate:new Date("2023-01-20"),mediaUrls:["https://example.com/bali.jpg"],tags:[`beach ${p+1}`,`adventure ${p+1}`,"Asia"]}))};let C=(()=>{class c extends a.u{constructor(){super(...arguments),this.basePath="ENTITY_DB_2025",this.endpoint="",this.db1=b||{}}getFieldConfig(i){return t.cV[i]||[]}getAllOld(i){return this.db1[i]||[]}getByIdOld(i,o){return(this.db1[i]||[]).find(_=>_.id==o)}createOld(i,o){this.db1[i]=this.db1[i]||[],this.db1[i].push(o)}deleteOld(i,o){this.db1[i]=(this.db1[i]||[]).filter(_=>_.id!==o)}getEntityByType(i){return this.read$(`${i}`)}geEntitytById(i,o){return this.getById(`${i}/${o}`)}createEntity(i,o){return this.create(o,i)}deleteEntity(i,o){return this.remove(`${i}/${o}`)}static{this.\u0275fac=(()=>{let i;return function(_){return(i||(i=u.xGo(c)))(_||c)}})()}static{this.\u0275prov=u.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},7765:(P,h,m)=>{m.d(h,{u:()=>C});var t=m(467),a=m(4438),u=m(1994),b=m(8591);let C=(()=>{class c{constructor(){this.db=(0,a.WQX)(u.h),this.storageService=(0,a.WQX)(b._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(i=""){return i?`${this.fullPath}/${i}`:this.fullPath}create(i,o){return this.db.create(this.generatePath(o),i)}get$(){return this.db.readRealtime$(this.fullPath)}getById(i){return this.db.readRealtimeOriginal$(`${this.fullPath}/${i}`)}update(i,o){return this.db.update(`${this.fullPath}/${i}`,o)}remove(i){return this.db.remove(`${this.fullPath}/${i}`)}set(i,o){return this.db.set(this.generatePath(i),o)}getKeys$(i=""){return this.db.getKeys$(this.generatePath(i))}getKeys(i=""){return this.db.getKeys(this.generatePath(i))}readOnce(i=""){return this.db.readOnce(this.generatePath(i))}read$(i=""){return this.db.readRealtime$(this.generatePath(i))}clearDb(){return this.set("",null)}updateCounter(i,o=!0){return this.db.updateCounterV2(this.generatePath(i),o)}createWithFile(i,o,_){var g=this;return(0,t.A)(function*(){if(!o)throw new Error("Please select an image.");const y=yield g.storageService.uploadFile(g.basePath,o,_),v={...i,imageUrl:y};yield g.create(v)})()}uploadFile(i,o){var _=this;return(0,t.A)(function*(){if(!i)throw new Error("Please select an image.");return yield _.storageService.uploadFile(_.basePath,i,o)})()}extractAndUploadFiles(i,o){var _=this;return(0,t.A)(function*(){return _.storageService.extractAndUploadFiles(i,_.basePath,o)})()}static{this.\u0275fac=function(o){return new(o||c)}}static{this.\u0275prov=a.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()}}]);