"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[7361],{7361:(R,l,p)=>{p.r(l),p.d(l,{default:()=>I});var c=p(177),_=p(9417),g=p(5558),d=p(6354),t=p(4438),m=p(1468),u=p(7901);const b=()=>["for","against"],x=(s,i)=>({post:s,side:i});function f(s,i){if(1&s&&(t.j41(0,"p",6),t.EFF(1),t.k0s()),2&s){const e=t.XpG().ngIf;t.R7$(),t.JRh(e.description)}}function h(s,i){1&s&&t.eu8(0)}function D(s,i){if(1&s&&(t.qex(0),t.DNE(1,h,1,0,"ng-container",13),t.bVm()),2&s){const e=i.$implicit,o=t.XpG(2).$implicit;t.XpG(2);const n=t.sdS(3);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.l_i(2,x,e,o))}}function C(s,i){if(1&s&&(t.qex(0),t.DNE(1,D,2,5,"ng-container",5),t.bVm()),2&s){const e=i.ngIf;t.R7$(),t.Y8G("ngForOf",e)}}function v(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"div",7)(2,"h2"),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.j41(5,"input",8),t.mxI("ngModelChange",function(n){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.DH7(a.usernames[r],n)||(a.usernames[r]=n),t.Njj(n)}),t.k0s(),t.j41(6,"textarea",9),t.mxI("ngModelChange",function(n){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.DH7(a.newPost[r],n)||(a.newPost[r]=n),t.Njj(n)}),t.k0s(),t.j41(7,"button",10),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.postArgument(n))}),t.EFF(8,"Post"),t.k0s(),t.j41(9,"div",11),t.DNE(10,C,2,1,"ng-container",12),t.nI1(11,"async"),t.k0s()(),t.bVm()}if(2&s){const e=i.$implicit,o=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,4,e)),t.R7$(2),t.R50("ngModel",o.usernames[e]),t.R7$(),t.R50("ngModel",o.newPost[e]),t.R7$(4),t.Y8G("ngIf",t.bMT(11,6,o.getPosts(e)))}}function y(s,i){if(1&s&&(t.j41(0,"div",2)(1,"h1"),t.EFF(2),t.k0s(),t.DNE(3,f,2,1,"p",3),t.j41(4,"div",4),t.DNE(5,v,12,8,"ng-container",5),t.k0s()()),2&s){const e=i.ngIf;t.R7$(2),t.JRh(e.title),t.R7$(),t.Y8G("ngIf",e.description),t.R7$(2),t.Y8G("ngForOf",t.lJ4(3,b))}}function M(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",21)(1,"input",8),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG().post,a=t.XpG();return t.DH7(a.replyInputs[r.key].name,n)||(a.replyInputs[r.key].name=n),t.Njj(n)}),t.k0s(),t.j41(2,"textarea",22),t.mxI("ngModelChange",function(n){t.eBV(e);const r=t.XpG().post,a=t.XpG();return t.DH7(a.replyInputs[r.key].text,n)||(a.replyInputs[r.key].text=n),t.Njj(n)}),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(e);const n=t.XpG().post,r=t.XpG();return t.Njj(r.postReply(n))}),t.EFF(4,"Post Reply"),t.k0s()()}if(2&s){const e=t.XpG().post,o=t.XpG();t.R7$(),t.R50("ngModel",o.replyInputs[e.key].name),t.R7$(),t.R50("ngModel",o.replyInputs[e.key].text)}}function P(s,i){if(1&s&&(t.j41(0,"div",23)(1,"strong"),t.EFF(2),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.EFF(6),t.k0s()),2&s){const e=i.$implicit;t.R7$(2),t.JRh(e.username),t.R7$(2),t.JRh(t.i5U(5,3,e.timestamp,"short")),t.R7$(2),t.SpI(": ",e.content," ")}}function O(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",14)(1,"strong"),t.EFF(2),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s(),t.j41(8,"div",16)(9,"button",10),t.bIt("click",function(){const n=t.eBV(e).post,r=t.XpG();return t.Njj(r.vote(n,1))}),t.EFF(10),t.k0s(),t.j41(11,"button",10),t.bIt("click",function(){const n=t.eBV(e).post,r=t.XpG();return t.Njj(r.vote(n,-1))}),t.EFF(12),t.k0s()(),t.j41(13,"button",17),t.bIt("click",function(){const n=t.eBV(e).post,r=t.XpG();return t.Njj(r.toggleReplyBox(n))}),t.EFF(14,"Reply"),t.k0s(),t.DNE(15,M,5,2,"div",18),t.j41(16,"div",19),t.DNE(17,P,7,6,"div",20),t.k0s()()}if(2&s){const e=i.post;t.R7$(2),t.JRh(e.username),t.R7$(2),t.JRh(t.i5U(5,7,e.timestamp,"short")),t.R7$(3),t.JRh(e.content),t.R7$(3),t.SpI("\u{1f44d} ",e.upvotes,""),t.R7$(2),t.SpI("\u{1f44e} ",e.downvotes,""),t.R7$(3),t.Y8G("ngIf",e.showReplyBox),t.R7$(2),t.Y8G("ngForOf",e.replies)}}let I=(()=>{class s{constructor(e,o){this.debateService=e,this.route=o,this.usernames={for:"",against:""},this.newPost={for:"",against:""},this.replyInputs={},this.posts$={for:this.getFilteredPosts("for"),against:this.getFilteredPosts("against")}}ngOnInit(){this.debate$=this.route.paramMap.pipe((0,g.n)(e=>(this.debateId=e.get("id"),this.debateService.getDebateById$(this.debateId))))}getFilteredPosts(e){return this.debateService.getPosts$().pipe((0,d.T)(o=>o.filter(n=>n.debateId===this.debateId&&n.side===e)))}postArgument(e){const o=this.newPost[e].trim(),n=this.usernames[e].trim()||"Anonymous";o&&(this.debateService.addPost({debateId:this.debateId,side:e,username:n,content:o}),this.newPost[e]="")}vote(e,o){this.debateService.updatePost(e.key,{upvotes:(e.upvotes??0)+(o>0?1:0),downvotes:(e.downvotes??0)+(o<0?1:0)})}toggleReplyBox(e){e.showReplyBox=!e.showReplyBox,this.replyInputs[e.key]||={name:"",text:""}}postReply(e){const o=this.replyInputs[e.key],n=o?.name?.trim()||"Anonymous",r=o?.text?.trim();if(!r)return;const a={username:n,content:r,timestamp:(new Date).toISOString()};this.debateService.updatePost(e.key,{replies:[...e.replies??[],a]}),e.showReplyBox=!1,this.replyInputs[e.key]={name:"",text:""}}getPosts(e){return this.posts$[e]}static{this.\u0275fac=function(o){return new(o||s)(t.rXU(m.h),t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-debate-details"]],decls:4,vars:3,consts:[["postTemplate",""],["class","debate-container",4,"ngIf"],[1,"debate-container"],["class","description",4,"ngIf"],[1,"debate-section"],[4,"ngFor","ngForOf"],[1,"description"],[1,"side"],["type","text","placeholder","Your name",3,"ngModelChange","ngModel"],["placeholder","Write your argument...",3,"ngModelChange","ngModel"],[3,"click"],[1,"posts"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"post"],[1,"timestamp"],[1,"votes"],[1,"reply-btn",3,"click"],["class","reply-box",4,"ngIf"],[1,"replies"],["class","reply",4,"ngFor","ngForOf"],[1,"reply-box"],["placeholder","Write a reply...",3,"ngModelChange","ngModel"],[1,"reply"]],template:function(o,n){1&o&&(t.DNE(0,y,6,4,"div",1),t.nI1(1,"async"),t.DNE(2,O,18,10,"ng-template",null,0,t.C5r)),2&o&&t.Y8G("ngIf",t.bMT(1,1,n.debate$))},dependencies:[_.YN,_.me,_.BC,_.vS,c.CommonModule,c.NgForOf,c.NgIf,c.NgTemplateOutlet,c.AsyncPipe,c.TitleCasePipe,c.DatePipe],styles:["[_nghost-%COMP%]{--primary-color: #007bff;--primary-hover: #0056b3;--success-color: #28a745;--success-hover: #1e7e34;--light-bg: #f9f9f9;--light-border: #ddd;--font-color: #333;--muted-color: #666}[_nghost-%COMP%]{display:grid;min-height:100vh;background-color:#f5f5f5;font-family:Arial,sans-serif}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.debate-container[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto;padding:20px;background-color:#fff;border-radius:8px}h1[_ngcontent-%COMP%]{text-align:center;color:var(--font-color)}.debate-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.side[_ngcontent-%COMP%]{flex:1;min-width:300px;background-color:var(--light-bg);border:1px solid #ccc;padding:15px;border-radius:6px}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;margin-top:10px;padding:8px;box-sizing:border-box;border:1px solid var(--light-border);border-radius:4px;font-size:14px}textarea[_ngcontent-%COMP%]{height:60px;resize:vertical}button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;background-color:var(--primary-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}.reply-btn[_ngcontent-%COMP%]{background-color:var(--success-color)}.reply-btn[_ngcontent-%COMP%]:hover{background-color:var(--success-hover)}.posts[_ngcontent-%COMP%]{margin-top:15px}.post[_ngcontent-%COMP%]{background-color:#fff;padding:12px;margin-bottom:12px;border:1px solid var(--light-border);border-radius:6px}.timestamp[_ngcontent-%COMP%]{font-size:12px;color:var(--muted-color);margin-left:10px}.votes[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:8px}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#eee;color:var(--font-color);border:1px solid #ccc;padding:4px 10px;border-radius:4px;font-size:13px}.votes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.reply-box[_ngcontent-%COMP%]{margin-top:10px}.reply-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .reply-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:5px}.replies[_ngcontent-%COMP%]{margin-top:12px;margin-left:20px}.reply[_ngcontent-%COMP%]{background-color:#eef;padding:6px 10px;border-left:3px solid #88c;border-radius:4px;font-size:14px;margin-bottom:6px}"]})}}return s})()}}]);