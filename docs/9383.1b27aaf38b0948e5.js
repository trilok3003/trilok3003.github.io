"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[9383],{9383:(k,g,l)=>{l.r(g),l.d(g,{default:()=>F});var e=l(4438),d=l(4973),m=l(467),p=l(177),r=l(9417);function u(o,a){if(1&o&&(e.j41(0,"option",13),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.key),e.R7$(),e.JRh(t.name)}}function f(o,a){if(1&o&&(e.j41(0,"option",14),e.EFF(1),e.k0s()),2&o){const t=a.$implicit,n=e.XpG();e.Y8G("value",t.key)("disabled",t.key===n.sourceSpace()),e.R7$(),e.SpI(" ",t.name," ")}}function v(o,a){if(1&o&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.message()," ")}}function h(o,a){1&o&&(e.j41(0,"h3"),e.EFF(1,"Lists in Source Space"),e.k0s())}function M(o,a){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"keyvalue"),e.k0s()()),2&o){const t=a.$implicit;e.R7$(2),e.JRh(t.key),e.R7$(2),e.JRh(t.name||"Untitled"),e.R7$(2),e.JRh(t.checkslist?e.bMT(7,3,t.checkslist).length:0)}}function b(o,a){if(1&o&&(e.j41(0,"table",16)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"ID"),e.k0s(),e.j41(5,"th"),e.EFF(6,"List Name"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Items"),e.k0s()()(),e.j41(9,"tbody"),e.DNE(10,M,8,5,"tr",17),e.k0s()()),2&o){const t=e.XpG();e.R7$(10),e.Y8G("ngForOf",t.sourceLists())}}function _(o,a){1&o&&(e.j41(0,"p",18),e.EFF(1," No lists in this space. "),e.k0s())}let C=(()=>{class o{constructor(){this.moved=new e.bkB,this.spaces=(0,e.vPA)([]),this.sourceSpace=(0,e.vPA)(""),this.targetSpace=(0,e.vPA)(""),this.overwrite=(0,e.vPA)(!1),this.sourceLists=(0,e.vPA)([]),this.message=(0,e.vPA)(null),this.loading=(0,e.vPA)(!1),(0,e.QZP)(()=>{if(!this.config)return;const t=this.config.loadSpaces();"subscribe"in t?t.subscribe(n=>this.mapSpaces(n)):t.then(n=>this.mapSpaces(n))}),(0,e.QZP)(()=>{const t=this.sourceSpace();if(!t||!this.config)return void this.sourceLists.set([]);const n=this.config.loadLists(t);"subscribe"in n?n.subscribe(s=>this.mapLists(s)):n.then(s=>this.mapLists(s))})}mapSpaces(t){if(!t)return;const n=Object.entries(t).map(([s,c])=>({id:s,...c}));this.spaces.set(n)}mapLists(t){const n=t?.lists?Object.entries(t.lists):[];this.sourceLists.set(n.map(([s,c])=>({id:s,...c})))}move(){var t=this;return(0,m.A)(function*(){t.message.set(null),t.loading.set(!0);try{const n=yield t.config.moveLists(t.sourceSpace(),t.targetSpace(),t.overwrite());t.message.set(`Moved ${n.moved} list(s) successfully.`),t.moved.emit(n)}catch{t.message.set("Error moving lists!")}t.loading.set(!1)})()}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-move-lists"]],inputs:{config:"config"},outputs:{moved:"moved"},decls:25,vars:11,consts:[[1,"move-container"],[1,"card"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[3,"click","disabled"],["class","message",4,"ngIf"],[4,"ngIf"],["class","lists-table",4,"ngIf"],["class","empty",4,"ngIf"],[3,"value"],[3,"value","disabled"],[1,"message"],[1,"lists-table"],[4,"ngFor","ngForOf"],[1,"empty"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Move Lists Between Spaces"),e.k0s(),e.j41(3,"div",1)(4,"label"),e.EFF(5,"Source Space"),e.k0s(),e.j41(6,"select",2),e.mxI("ngModelChange",function(i){return e.DH7(s.sourceSpace,i)||(s.sourceSpace=i),i}),e.j41(7,"option",3),e.EFF(8,"Select Source"),e.k0s(),e.DNE(9,u,2,2,"option",4),e.k0s(),e.j41(10,"label"),e.EFF(11,"Destination Space"),e.k0s(),e.j41(12,"select",2),e.mxI("ngModelChange",function(i){return e.DH7(s.targetSpace,i)||(s.targetSpace=i),i}),e.j41(13,"option",3),e.EFF(14,"Select Destination"),e.k0s(),e.DNE(15,f,2,3,"option",5),e.k0s(),e.j41(16,"label",6)(17,"input",7),e.mxI("ngModelChange",function(i){return e.DH7(s.overwrite,i)||(s.overwrite=i),i}),e.k0s(),e.EFF(18," Overwrite Destination Lists "),e.k0s(),e.j41(19,"button",8),e.bIt("click",function(){return s.move()}),e.EFF(20),e.k0s()(),e.DNE(21,v,2,1,"div",9)(22,h,2,0,"h3",10)(23,b,11,1,"table",11)(24,_,2,0,"p",12),e.k0s()),2&n&&(e.R7$(6),e.R50("ngModel",s.sourceSpace),e.R7$(3),e.Y8G("ngForOf",s.spaces()),e.R7$(3),e.R50("ngModel",s.targetSpace),e.R7$(3),e.Y8G("ngForOf",s.spaces()),e.R7$(2),e.R50("ngModel",s.overwrite),e.R7$(2),e.Y8G("disabled",!s.sourceSpace()||!s.targetSpace()||s.loading()),e.R7$(),e.SpI(" ",s.loading()?"Moving...":"Move Lists"," "),e.R7$(),e.Y8G("ngIf",s.message()),e.R7$(),e.Y8G("ngIf",s.sourceLists().length),e.R7$(),e.Y8G("ngIf",s.sourceLists().length),e.R7$(),e.Y8G("ngIf",s.sourceSpace()&&!s.sourceLists().length))},dependencies:[p.CommonModule,p.NgForOf,p.NgIf,p.KeyValuePipe,r.YN,r.xH,r.y7,r.Zm,r.wz,r.BC,r.vS],styles:[".move-container[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:20px}.card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 6px #0000001a;margin-bottom:20px}.card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-top:12px;display:block}.card[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:6px;border-radius:6px;border:1px solid #ccc}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#005eff;color:#fff;border:none;cursor:pointer;margin-top:16px}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#8cb3ff;cursor:not-allowed}.card[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center;gap:6px}.message[_ngcontent-%COMP%]{background:#eaffea;border:1px solid #2fa32f;padding:12px;border-radius:6px;margin-bottom:20px}.lists-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.lists-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .lists-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee}.lists-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;background:#f5f5f5}.empty[_ngcontent-%COMP%]{text-align:center;color:#777}"]})}}return o})(),F=(()=>{class o{constructor(){this.spacesService=(0,e.WQX)(d.b),this.moveConfig={loadSpaces:()=>this.spacesService.getSpaces(),loadLists:t=>this.spacesService.getListInSpace(t),moveLists:(t,n,s)=>this.spacesService.moveLists(t,n,s)}}onMoved(t){console.log("Move completed:",t)}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-space-move-lists"]],decls:1,vars:1,consts:[[3,"moved","config"]],template:function(n,s){1&n&&(e.j41(0,"app-move-lists",0),e.bIt("moved",function(i){return s.onMoved(i)}),e.k0s()),2&n&&e.Y8G("config",s.moveConfig)},dependencies:[C],encapsulation:2})}}return o})()}}]);