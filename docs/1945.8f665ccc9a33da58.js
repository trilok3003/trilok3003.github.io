"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[1945],{1945:(b,a,p)=>{p.r(a),p.d(a,{default:()=>k});var e=p(4438),c=p(177);function u(s,r){if(1&s){const t=e.RV6();e.j41(0,"li",2),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.selectUser(i))}),e.EFF(1),e.k0s()}if(2&s){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}let d=(()=>{class s{constructor(){this.userSelected=new e.bkB,this.users=[{id:"1",name:"Alice",roles:["admin"],permissions:["CAN_EDIT"]},{id:"2",name:"Bob",roles:["editor"],permissions:["CAN_VIEW"]},{id:"3",name:"Charlie",roles:[],permissions:[]}]}selectUser(t){this.userSelected.emit({...t})}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-user-list"]],outputs:{userSelected:"userSelected"},decls:4,vars:1,consts:[[1,"user-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,i){1&n&&(e.j41(0,"h3"),e.EFF(1,"Select a user"),e.k0s(),e.j41(2,"ul",0),e.DNE(3,u,2,1,"li",1),e.k0s()),2&n&&(e.R7$(3),e.Y8G("ngForOf",i.users))},dependencies:[c.NgFor],styles:[".user-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-height:300px;overflow-y:auto;border:1px solid #ccc;border-radius:4px}.user-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;border-bottom:1px solid #eee;transition:background .2s}.user-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.user-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active{background-color:#e0e0e0}"]})}}return s})();const m=["admin","editor","viewer"],_=["CAN_EDIT","CAN_DELETE","CAN_VIEW"],g={admin:"Full admin rights",editor:"Can edit content",viewer:"Can view content"},f={CAN_EDIT:"Permission to edit items",CAN_DELETE:"Permission to delete items",CAN_VIEW:"Permission to view items"};function h(s,r){if(1&s){const t=e.RV6();e.j41(0,"label")(1,"input",3),e.bIt("change",function(i){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleRole(o,i))}),e.k0s(),e.EFF(2),e.k0s()}if(2&s){const t=r.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("checked",n.user.roles.includes(t)),e.R7$(),e.SpI(" ",t," ")}}function C(s,r){if(1&s){const t=e.RV6();e.j41(0,"label")(1,"input",3),e.bIt("change",function(i){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.togglePermission(o,i))}),e.k0s(),e.EFF(2),e.k0s()}if(2&s){const t=r.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("checked",n.user.permissions.includes(t)),e.R7$(),e.SpI(" ",t," ")}}function E(s,r){if(1&s&&(e.j41(0,"div")(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"div",1)(4,"h4"),e.EFF(5,"Roles"),e.k0s(),e.DNE(6,h,3,2,"label",2),e.k0s(),e.j41(7,"div",1)(8,"h4"),e.EFF(9,"Permissions"),e.k0s(),e.DNE(10,C,3,2,"label",2),e.k0s(),e.j41(11,"pre"),e.EFF(12),e.nI1(13,"json"),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.SpI("Edit Access for ",t.user.name,""),e.R7$(4),e.Y8G("ngForOf",t.roles),e.R7$(4),e.Y8G("ngForOf",t.permissions),e.R7$(2),e.JRh(e.bMT(13,4,t.user))}}let x=(()=>{class s{constructor(){this.user=null,this.roles=m,this.permissions=_,this.ROLE_DESCS=g,this.PERM_DESCS=f}toggleRole(t,n){this.user&&(this.user.roles=n.target.checked?[...this.user.roles,t]:this.user.roles.filter(o=>o!==t))}togglePermission(t,n){this.user&&(this.user.permissions=n.target.checked?[...this.user.permissions,t]:this.user.permissions.filter(o=>o!==t))}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-user-access-editor"]],inputs:{user:"user"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"group"],[4,"ngFor","ngForOf"],["type","checkbox",3,"change","checked"]],template:function(n,i){1&n&&e.DNE(0,E,14,6,"div",0),2&n&&e.Y8G("ngIf",i.user)},dependencies:[c.CommonModule,c.NgForOf,c.NgIf,c.JsonPipe],styles:["[_nghost-%COMP%]{display:block;max-width:400px;padding:16px;border-left:1px solid #ddd}.group[_ngcontent-%COMP%]{margin-bottom:24px}.group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:8px;color:#333}label[_ngcontent-%COMP%]{display:flex;align-items:center;margin:4px 0;font-size:14px;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}pre[_ngcontent-%COMP%]{background:#f9f9f9;padding:12px;border-radius:4px;font-size:13px;overflow-x:auto}"]})}}return s})(),k=(()=>{class s{constructor(){this.selectedUser=null}onUserSelected(t){this.selectedUser=t}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-access-management"]],decls:3,vars:1,consts:[[1,"flex-container"],[3,"userSelected"],[3,"user"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"app-user-list",1),e.bIt("userSelected",function(l){return i.onUserSelected(l)}),e.k0s(),e.nrm(2,"app-user-access-editor",2),e.k0s()),2&n&&(e.R7$(2),e.Y8G("user",i.selectedUser))},dependencies:[d,x],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px}@media (max-width: 768px){.flex-container[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return s})()}}]);