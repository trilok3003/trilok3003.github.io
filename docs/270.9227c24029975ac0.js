"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[270],{270:(P,f,o)=>{o.r(f),o.d(f,{default:()=>i});var e=o(4438),r=o(9417),t=o(8475),u=o(4513),C=o(7830);function g(a,b){if(1&a){const l=e.RV6();e.j41(0,"div",4),e.nrm(1,"input",9),e.j41(2,"app-theme-icon",10),e.bIt("click",function(){const h=e.eBV(l).$index,y=e.XpG();return e.Njj(y.remove(h))}),e.k0s()()}if(2&a){const l=b.$index;e.Y8G("formGroupName",l),e.R7$(),e.Mz_("placeholder","choice ",l+1,""),e.R7$(),e.Y8G("cursor",!0)}}let E=(()=>{class a{constructor(l){this.fb=l,this.votingService=(0,e.WQX)(C.Z),this.formInit()}formInit(){this.form=this.fb.group({createdBy:[""],title:["",r.k0.required],choices:this.fb.array([this.createChoice(),this.createChoice()])},{nonNullable:!0})}createChoice(){return this.fb.group({choice:["",r.k0.required]})}addChoice(){this.choices.push(this.createChoice())}get choices(){return this.form.get("choices")}remove(l){this.choices.removeAt(l)}create(){this.votingService.create(this.form.value).then(()=>{this.form.reset()})}static{this.\u0275fac=function(p){return new(p||a)(e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-create-poll"]],decls:14,vars:5,consts:[[3,"shadow"],[3,"formGroup"],["placeholder","title","formControlName","title"],["formArrayName","choices"],[1,"choices",3,"formGroupName"],[1,"choices"],["name","add_circle","color","success",3,"click","cursor"],["app-theme-button","","color","success",3,"click","disabled"],["name","arrow_forward","color","success",3,"cursor"],["formControlName","choice",3,"placeholder"],["name","delete","color","red",3,"click","cursor"]],template:function(p,h){1&p&&(e.j41(0,"app-theme-semantic-card",0)(1,"h2"),e.EFF(2,"Create New Poll"),e.k0s(),e.j41(3,"form",1),e.nrm(4,"input",2),e.j41(5,"div",3),e.Z7z(6,g,3,4,"div",4,e.Vm6),e.j41(8,"div",5),e.nrm(9,"div"),e.j41(10,"app-theme-icon",6),e.bIt("click",function(){return h.addChoice()}),e.k0s()()(),e.j41(11,"button",7),e.bIt("click",function(){return h.create()}),e.EFF(12,"create "),e.nrm(13,"app-theme-icon",8),e.k0s()()()),2&p&&(e.Y8G("shadow","depth"),e.R7$(3),e.Y8G("formGroup",h.form),e.R7$(3),e.Dyx(h.choices.controls),e.R7$(4),e.Y8G("cursor",!0),e.R7$(),e.Y8G("disabled",h.form.invalid),e.R7$(2),e.Y8G("cursor",!0))},dependencies:[r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,t.FY,t.F5,u.e],styles:["[_nghost-%COMP%]{display:grid;max-width:600px;margin:1rem auto}.choices[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:1rem}"]})}}return a})();var n=o(467),d=o(9079),v=o(8141),_=o(6026),x=o(9637),M=o(1751),O=o(1917);const T=(a,b)=>b.key;function k(a,b){1&a&&e.nrm(0,"app-theme-loader",0)}function m(a,b){if(1&a){const l=e.RV6();e.j41(0,"app-list-item",2),e.bIt("click",function(){const h=e.eBV(l).$implicit,y=e.XpG(2);return e.Njj(y.view(h))}),e.j41(1,"h3"),e.EFF(2),e.k0s()()}if(2&a){const l=b.$implicit;e.R7$(2),e.SpI(" ",l.title,"")}}function j(a,b){if(1&a&&(e.j41(0,"app-list",1),e.Z7z(1,m,3,1,"app-list-item",null,T),e.k0s()),2&a){const l=e.XpG();e.R7$(),e.Dyx(l.polls.value())}}function s(a,b){if(1&a){const l=e.RV6();e.j41(0,"div")(1,"app-theme-alert",3),e.EFF(2),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(l);const h=e.XpG();return e.Njj(h.polls.reload())}),e.EFF(4," realod "),e.k0s()()}if(2&a){const l=e.XpG();e.R7$(),e.Y8G("dismissible",!1),e.R7$(),e.SpI(" ",l.polls.error()," ")}}let c=(()=>{class a{constructor(){this.votingService=(0,e.WQX)(C.Z),this.modelService=(0,e.WQX)(_.Bg),this.polls=(0,d.ZX)({loader:()=>this.votingService.get$().pipe((0,v.M)(console.log))})}view(l){var p=this;return(0,n.A)(function*(){const{PollViewComponent:h}=yield Promise.all([o.e(2076),o.e(5529)]).then(o.bind(o,5529));p.modelService.openWithComponent(h,{title:l.title,data:{id:l.key}}).subscribe(y=>{})})()}static{this.\u0275fac=function(p){return new(p||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-poll-list"]],decls:5,vars:1,consts:[["spinSize","small"],["layout","autofit"],[3,"click"],["color","danger",3,"dismissible"],["app-theme-button","","color","warning","size","small",3,"click"]],template:function(p,h){1&p&&(e.j41(0,"h2"),e.EFF(1,"Poll List"),e.k0s(),e.DNE(2,k,1,0,"app-theme-loader",0)(3,j,3,0,"app-list",1)(4,s,5,2,"div")),2&p&&(e.R7$(2),e.vxM(h.polls.isLoading()?2:h.polls.hasValue()?3:4))},dependencies:[M.s,O.P,x.C,t.Fv],styles:["h3[_ngcontent-%COMP%]:hover{color:var(--accent-color);cursor:pointer}"]})}}return a})(),i=(()=>{class a{static{this.\u0275fac=function(p){return new(p||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-voting"]],decls:2,vars:0,template:function(p,h){1&p&&e.nrm(0,"app-create-poll")(1,"app-poll-list")},dependencies:[E,c],styles:["[_nghost-%COMP%]{display:grid;gap:1rem}"]})}}return a})()},4715:(P,f,o)=>{o.d(f,{jr:()=>e.j});var e=o(4277);o(308),o(4080),o(5322),o(6274)},5676:(P,f,o)=>{o.d(f,{dG:()=>t.d,Gj:()=>r.G}),o(1681);var r=o(7987),t=o(1240)},6026:(P,f,o)=>{o.d(f,{OT:()=>v.OT,Bg:()=>d,Gj:()=>_.Gj,jr:()=>e.jr,fw:()=>k.fw});var e=o(4715),r=o(177),t=o(4438),u=o(1413);const C=["*"];function g(m,j){if(1&m&&(t.j41(0,"small"),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&m){const s=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,s.subTitle))}}function E(m,j){if(1&m){const s=t.RV6();t.j41(0,"span",6),t.bIt("click",function(){t.eBV(s);const i=t.XpG();return t.Njj(i.close())}),t.EFF(1,"\u2715"),t.k0s()}}let n=(()=>{class m{constructor(s){this.elementRef=s,this.closeControls={closeIcon:!0,escKey:!0,outsideClick:!0},this.closeEvent=new t.bkB,this.submitEvent=new t.bkB}onEscape(){this.closeControls?.escKey&&this.close()}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(){this.elementRef.nativeElement.remove(),this.submitEvent.emit()}outsideClick(){this.closeControls.outsideClick&&this.close()}static{this.\u0275fac=function(c){return new(c||m)(t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ng-modal"]],hostBindings:function(c,i){1&c&&t.bIt("keydown.escape",function(){return i.onEscape()},!1,t.EBC)},inputs:{title:"title",subTitle:"subTitle",closeControls:"closeControls",styles:"styles"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!1,ngContentSelectors:C,decls:10,vars:10,consts:[[1,"popup-modal",3,"ngClass"],[1,"popup-modal-header"],[4,"ngIf"],["class","popup-modal-close",3,"click",4,"ngIf"],[1,"popup-modal-content"],[1,"popup-modal-backdrop",3,"click"],[1,"popup-modal-close",3,"click"]],template:function(c,i){1&c&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"div")(3,"span"),t.EFF(4),t.k0s(),t.DNE(5,g,3,3,"small",2),t.k0s(),t.DNE(6,E,2,0,"span",3),t.k0s(),t.j41(7,"div",4),t.SdG(8),t.k0s()(),t.j41(9,"div",5),t.bIt("click",function(){return i.outsideClick()}),t.k0s()),2&c&&(t.xc7("background",null==i.styles?null:i.styles.background)("height",null==i.styles?null:i.styles.height)("width",null==i.styles?null:i.styles.width),t.Y8G("ngClass",null==i.styles?null:i.styles.position),t.R7$(4),t.JRh(i.title),t.R7$(),t.Y8G("ngIf",i.subTitle),t.R7$(),t.Y8G("ngIf",null==i.closeControls?null:i.closeControls.closeIcon))},dependencies:[r.NgClass,r.NgIf,r.TitleCasePipe],styles:[".popup-modal-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000000b3;position:fixed;inset:0;z-index:200}.popup-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:201;width:500px;height:fit-content;max-width:100%;max-height:100%;margin:auto;padding:20px;background-color:#fff;border-radius:5px;overflow-y:auto;transition:all 5s ease-in-out}.popup-modal.right[_ngcontent-%COMP%]{left:unset;right:0;border-radius:0;height:100%;width:min-content}.popup-modal.left[_ngcontent-%COMP%]{left:0;right:unset;border-radius:0;height:100%;width:min-content}.popup-modal.top[_ngcontent-%COMP%]{bottom:unset;top:0;border-radius:0;width:100%}.popup-modal.bottom[_ngcontent-%COMP%]{bottom:0;top:unset;border-radius:0;width:100%}.popup-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;margin-bottom:20px;font-weight:700}.popup-modal-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;display:block}.popup-modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.popup-modal-close[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s}.popup-modal-close[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media screen and (max-width: 768px){.popup-modal[_ngcontent-%COMP%]{bottom:0;top:unset;left:unset;transform:unset;border-radius:10px 10px 0 0;width:100%!important}}"]})}}return m})(),d=(()=>{class m{constructor(s,c,i){this.document=s,this.envInjector=c,this.appRef=i}openWithComponent(s,c){const i=(0,t.a0P)(s,{environmentInjector:this.envInjector});return this.configInnerComponent(i,c),this.modelComponent=(0,t.a0P)(n,{environmentInjector:this.envInjector,projectableNodes:[[i.location.nativeElement]]}),this.configModalComponent(c),document.body.appendChild(this.modelComponent.location.nativeElement),document.body.style.overflow="hidden",this.appRef.attachView(i.hostView),this.appRef.attachView(this.modelComponent.hostView),this.modalNotifier=new u.B,this.modalNotifier?.asObservable()}openWithTemplate(s,c){const i=s.createEmbeddedView(null);return this.modelComponent=(0,t.a0P)(n,{environmentInjector:this.envInjector,projectableNodes:[i.rootNodes]}),this.configModalComponent(c),document.body.appendChild(this.modelComponent.location.nativeElement),document.body.style.overflow="hidden",this.modalNotifier=new u.B,this.modalNotifier?.asObservable()}closeModal(){document.body.style.overflow="revert",this.modelComponent.destroy(),this.modalNotifier?.complete()}submitModal(s="confirm"){this.modalNotifier?.next(s),this.closeModal()}configModalComponent(s){this.modelComponent.instance.title=s?.title,this.modelComponent.instance.subTitle=s?.subTitle,this.modelComponent.instance.styles=s?.styles,this.modelComponent.instance.closeControls=s.closeControls??{closeIcon:!0,escKey:!0,outsideClick:!0},this.modelComponent.instance.closeEvent.subscribe(()=>this.closeModal()),this.modelComponent.instance.submitEvent.subscribe(()=>this.submitModal()),this.modelComponent.hostView.detectChanges()}configInnerComponent(s,c){s.instance.data=c.data??null,c.inputs&&Object.entries(c.inputs).forEach(([i,a])=>{s.setInput(i,a)}),s.instance.close=()=>this.closeModal(),s.instance.submit=i=>this.submitModal(i)}static{this.\u0275fac=function(c){return new(c||m)(t.KVO(r.DOCUMENT),t.KVO(t.uvJ),t.KVO(t.o8S))}}static{this.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var v=o(8410),_=o(5676);o(7428);var k=o(1111)},7765:(P,f,o)=>{o.d(f,{u:()=>C});var e=o(467),r=o(4438),t=o(1994),u=o(8591);let C=(()=>{class g{constructor(){this.db=(0,r.WQX)(t.h),this.storageService=(0,r.WQX)(u._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(n=""){return n?`${this.fullPath}/${n}`:this.fullPath}create(n,d){return this.db.create(this.generatePath(d),n)}get$(){return this.db.readRealtime$(this.fullPath)}getById(n){return this.db.readRealtimeOriginal$(`${this.fullPath}/${n}`)}update(n,d){return this.db.update(`${this.fullPath}/${n}`,d)}remove(n){return this.db.remove(`${this.fullPath}/${n}`)}set(n,d){return this.db.set(this.generatePath(n),d)}getKeys$(n=""){return this.db.getKeys$(this.generatePath(n))}getKeys(n=""){return this.db.getKeys(this.generatePath(n))}readOnce(n=""){return this.db.readOnce(this.generatePath(n))}read$(n=""){return this.db.readRealtime$(this.generatePath(n))}clearDb(){return this.set("",null)}updateCounter(n,d=!0){return this.db.updateCounterV2(this.generatePath(n),d)}createWithFile(n,d,v){var _=this;return(0,e.A)(function*(){if(!d)throw new Error("Please select an image.");const x=yield _.storageService.uploadFile(_.basePath,d,v),M={...n,imageUrl:x};yield _.create(M)})()}uploadFile(n,d){var v=this;return(0,e.A)(function*(){if(!n)throw new Error("Please select an image.");return yield v.storageService.uploadFile(v.basePath,n,d)})()}extractAndUploadFiles(n,d){var v=this;return(0,e.A)(function*(){return v.storageService.extractAndUploadFiles(n,v.basePath,d)})()}static{this.\u0275fac=function(d){return new(d||g)}}static{this.\u0275prov=r.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},7830:(P,f,o)=>{o.d(f,{Z:()=>t});var e=o(7765),r=o(4438);let t=(()=>{class u extends e.u{constructor(){super(...arguments),this.basePath="voting",this.endpoint=""}static{this.\u0275fac=(()=>{let g;return function(n){return(g||(g=r.xGo(u)))(n||u)}})()}static{this.\u0275prov=r.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()}}]);