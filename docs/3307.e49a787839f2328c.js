"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[3307],{3307:(C,l,u)=>{u.r(l),u.d(l,{default:()=>g});var s=u(9417),m=u(177),t=u(4438),p=u(7673);let a=(()=>{class i{getQuestions(){return(0,p.of)([{id:"q1",question:"What is your favorite color?",type:"radio",options:["Red","Blue","Green"]},{id:"q2",question:"Select your hobbies:",type:"checkbox",options:["Reading","Gaming","Traveling"]},{id:"q3",question:"Any feedback?",type:"text"}])}submitResponses(e){return console.log("Submitted:",e),(0,p.of)({success:!0})}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function f(i,r){if(1&i&&t.nrm(0,"input",5),2&i){const e=t.XpG().$implicit;t.Y8G("formControlName",e.id)}}function v(i,r){if(1&i&&(t.j41(0,"label"),t.nrm(1,"input",6),t.EFF(2),t.k0s()),2&i){const e=r.$implicit,o=t.XpG(2).$implicit;t.R7$(),t.Y8G("formControlName",o.id)("value",e),t.R7$(),t.SpI(" ",e," ")}}function d(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,v,3,3,"label",1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.options)}}function h(i,r){if(1&i){const e=t.RV6();t.j41(0,"label")(1,"input",7),t.bIt("change",function(n){t.eBV(e);const c=t.XpG(2).$implicit,S=t.XpG();return t.Njj(S.onCheckboxChange(n,c.id))}),t.k0s(),t.EFF(2),t.k0s()}if(2&i){const e=r.$implicit;t.R7$(),t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function b(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,h,3,2,"label",1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.options)}}function _(i,r){if(1&i&&(t.j41(0,"div")(1,"label"),t.EFF(2),t.k0s(),t.DNE(3,f,1,1,"input",4)(4,d,2,1,"div",3)(5,b,2,1,"div",3),t.k0s()),2&i){const e=r.$implicit;t.R7$(2),t.JRh(e.question),t.R7$(),t.Y8G("ngIf","text"===e.type),t.R7$(),t.Y8G("ngIf","radio"===e.type),t.R7$(),t.Y8G("ngIf","checkbox"===e.type)}}function y(i,r){1&i&&(t.j41(0,"div"),t.EFF(1," \u2705 Survey Submitted! Thank you.\n"),t.k0s())}let g=(()=>{class i{constructor(e,o){this.surveyService=e,this.fb=o,this.questions=[],this.submitted=!1}ngOnInit(){this.surveyService.getQuestions().subscribe(e=>{this.questions=e,this.buildForm()})}buildForm(){const e={};this.questions.forEach(o=>{e[o.id]=this.fb.control("checkbox"===o.type?[]:"")}),this.form=this.fb.group(e)}onSubmit(){this.form.valid&&this.surveyService.submitResponses(this.form.value).subscribe(()=>{this.submitted=!0})}onCheckboxChange(e,o){const n=this.form.get(o).value;if(e.target.checked)n.push(e.target.value);else{const c=n.indexOf(e.target.value);-1!==c&&n.splice(c,1)}this.form.get(o).setValue([...n])}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(a),t.rXU(s.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-survey"]],decls:5,vars:3,consts:[[3,"ngSubmit","formGroup"],[4,"ngFor","ngForOf"],["type","submit"],[4,"ngIf"],["type","text",3,"formControlName",4,"ngIf"],["type","text",3,"formControlName"],["type","radio",3,"formControlName","value"],["type","checkbox",3,"change","value"]],template:function(o,n){1&o&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.DNE(1,_,6,4,"div",1),t.j41(2,"button",2),t.EFF(3,"Submit"),t.k0s()(),t.DNE(4,y,2,0,"div",3)),2&o&&(t.Y8G("formGroup",n.form),t.R7$(),t.Y8G("ngForOf",n.questions),t.R7$(3),t.Y8G("ngIf",n.submitted))},dependencies:[s.X1,s.qT,s.me,s.Fm,s.BC,s.cb,s.j4,s.JD,m.NgFor,m.NgIf],encapsulation:2})}}return i})()}}]);