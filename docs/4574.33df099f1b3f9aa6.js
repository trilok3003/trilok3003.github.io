"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[4574],{4574:(x,a,l)=>{l.r(a),l.d(a,{default:()=>m});var r=l(177),c=l(9417),t=l(4438),d=l(4412);let v=(()=>{class e{constructor(){this.pollData={question:"What is your favorite JavaScript framework?",options:[{text:"Angular",votes:10},{text:"React",votes:15},{text:"Vue",votes:5}]},this.pollSubject=new d.t(this.pollData)}getPoll(){return this.pollSubject.asObservable()}vote(o){const n=this.pollSubject.value,i=n.options.find(p=>p.text===o);i&&(i.votes++,this.pollSubject.next({...n}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function u(e,s){if(1&e){const o=t.RV6();t.j41(0,"label")(1,"input",3),t.mxI("ngModelChange",function(i){t.eBV(o);const p=t.XpG(3);return t.DH7(p.selectedOption,i)||(p.selectedOption=i),t.Njj(i)}),t.k0s(),t.EFF(2),t.k0s()}if(2&e){const o=s.$implicit,n=t.XpG(3);t.R7$(),t.R50("ngModel",n.selectedOption),t.Y8G("value",o.text),t.R7$(),t.SpI(" ",o.text," ")}}function f(e,s){if(1&e){const o=t.RV6();t.j41(0,"div"),t.DNE(1,u,3,3,"label",1),t.j41(2,"button",2),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.vote())}),t.EFF(3,"Vote"),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(),t.Y8G("ngForOf",o.poll.options),t.R7$(),t.Y8G("disabled",!o.selectedOption)}}function h(e,s){if(1&e&&(t.j41(0,"div"),t.EFF(1),t.j41(2,"div",4),t.nrm(3,"div",5),t.k0s()()),2&e){const o=s.$implicit,n=t.XpG(3);t.R7$(),t.Lme(" ",o.text," - ",n.getPercentage(o.votes)," "),t.R7$(2),t.xc7("width",n.getPercentage(o.votes))}}function _(e,s){if(1&e&&(t.j41(0,"div")(1,"p")(2,"strong"),t.EFF(3,"Thanks for voting!"),t.k0s()(),t.DNE(4,h,4,4,"div",1),t.k0s()),2&e){const o=t.XpG(2);t.R7$(4),t.Y8G("ngForOf",o.poll.options)}}function g(e,s){if(1&e&&(t.j41(0,"div")(1,"h3"),t.EFF(2),t.k0s(),t.DNE(3,f,4,2,"div",0)(4,_,5,1,"div",0),t.k0s()),2&e){const o=t.XpG();t.R7$(2),t.JRh(o.poll.question),t.R7$(),t.Y8G("ngIf",!o.hasVoted),t.R7$(),t.Y8G("ngIf",o.hasVoted)}}let m=(()=>{class e{constructor(o){this.pollService=o,this.hasVoted=!1}ngOnInit(){this.pollService.getPoll().subscribe(o=>this.poll=o)}vote(){this.selectedOption&&!this.hasVoted&&(this.pollService.vote(this.selectedOption),this.hasVoted=!0)}totalVotes(){return this.poll.options.reduce((o,n)=>o+n.votes,0)}getPercentage(o){const n=this.totalVotes();return n>0?(o/n*100).toFixed(1)+"%":"0%"}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(v))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-poll"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","disabled"],["type","radio","name","vote",3,"ngModelChange","ngModel","value"],[2,"height","10px","background","#eee"],[2,"height","10px","background","#007bff"]],template:function(n,i){1&n&&t.DNE(0,g,5,3,"div",0),2&n&&t.Y8G("ngIf",i.poll)},dependencies:[r.NgFor,r.NgIf,c.YN,c.me,c.Fm,c.BC,c.vS],encapsulation:2})}}return e})()}}]);