"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[1839],{1839:(w,v,s)=>{s.r(v),s.d(v,{BooksModule:()=>j});var l=s(9808),u=s(4202),o=s(5e3),f=s(4331);let k=(()=>{class e{constructor(){this.menus=[{path:"home",name:"Home"},{path:"books",name:"Books V2"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-books"]],decls:1,vars:2,consts:[["title","Books",3,"menus","theme"]],template:function(t,n){1&t&&o._UZ(0,"ang-bootstrap-layout",0),2&t&&o.Q6J("menus",n.menus)("theme","default")},dependencies:[f.Pv]}),e})();var h=s(531),r=s(3075),g=s(9300),p=s(8372),d=s(1884),m=s(8505),x=s(520),_=s(4004);const b="https://www.googleapis.com/books/v1/volumes";let Z=(()=>{class e{constructor(t){this.http=t}searchAPI(t){return this.http.get(`${b}?q=${t}`).pipe((0,_.U)(n=>n.items||[]))}getById(t){return this.http.get(`${b}/${t}`)}getBooks(t,n){let c="q=intitle:"+t+"&printType=books&maxResults=20";n&&(c+="&startIndex="+n);const a=new x.LE({fromString:c});return this.http.get(b,{params:a})}searchBooks(t){return this.http.get(`${b}?q=${t}`).pipe((0,_.U)(n=>n.items||[]))}retrieveBook(t){return this.http.get(`${b}/${t}`)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(x.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),B=(()=>{class e{transform(t){if(!t)return"Author Unknown";switch(t.length){case 0:return"Author Unknown";case 1:return t[0];case 2:return t.join(" and ");default:const n=t[t.length-1];return`${t.slice(0,-1).join(", ")}, and ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"bcAddCommas",type:e,pure:!0}),e})(),T=(()=>{class e{transform(t,n=250){const c=t.replace(/(<([^>]+)>)/gi,"");return t.length>=n?`${c.slice(0,n)}...`:c}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"bcEllipsis",type:e,pure:!0}),e})();function y(e,i){if(1&e&&o._UZ(0,"img",4),2&e){const t=o.oxw();o.Q6J("src",t.thumbnail,o.LSH)}}function I(e,i){if(1&e&&(o.TgZ(0,"p"),o._uU(1),o.ALo(2,"bcEllipsis"),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Oqu(o.xi3(2,1,t.subtitle,40))}}function A(e,i){if(1&e&&(o.TgZ(0,"p"),o._uU(1),o.ALo(2,"bcEllipsis"),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Oqu(o.lcZ(2,1,t.description))}}const U=function(e){return["/books/book",e]};let P=(()=>{class e{constructor(){}get id(){return this.book.id}get authors(){return this.book.volumeInfo.authors}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-book-preview"]],inputs:{book:"book"},decls:16,vars:13,consts:[[3,"routerLink"],["width","95%",3,"src",4,"ngIf"],[4,"ngIf"],[2,"color","#0B3C5D"],["width","95%",3,"src"]],template:function(t,n){1&t&&(o.TgZ(0,"a",0)(1,"div"),o.YNc(2,y,1,1,"img",1),o.qZA(),o._uU(3),o.ALo(4,"bcEllipsis"),o.YNc(5,I,3,4,"p",2),o.YNc(6,A,3,3,"p",2),o.TgZ(7,"h4")(8,"b",3),o._uU(9,"Written By:"),o.qZA(),o.TgZ(10,"span")(11,"h5"),o._uU(12),o.ALo(13,"bcAddCommas"),o.qZA()()()(),o._UZ(14,"br")(15,"br")),2&t&&(o.Q6J("routerLink",o.VKq(11,U,n.id)),o.xp6(2),o.Q6J("ngIf",n.thumbnail),o.xp6(1),o.hij(" ",o.xi3(4,6,n.title,35)," "),o.xp6(2),o.Q6J("ngIf",n.subtitle),o.xp6(1),o.Q6J("ngIf",n.description),o.xp6(6),o.Oqu(o.lcZ(13,9,n.authors)))},dependencies:[l.O5,u.yS,B,T],styles:["img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]}),e})();function O(e,i){if(1&e&&(o.TgZ(0,"div",14),o._UZ(1,"app-book-preview",15),o.qZA()),2&e){const t=i.$implicit;o.xp6(1),o.Q6J("book",t)}}let J=(()=>{class e{constructor(t){var n=this;this.booksService=t,this.searchBook=new r.NI,this.searchBook.valueChanges.pipe((0,g.h)(Boolean),(0,p.b)(1e3),(0,d.x)(),(0,m.b)(function(){var c=(0,h.Z)(function*(a){n.books$=n.booksService.searchAPI(a),n.books=yield n.books$.toPromise()});return function(a){return c.apply(this,arguments)}}())).subscribe()}ngOnInit(){this.searchBook.patchValue("history")}search(t){this.booksService.searchAPI(t.currentTarget.value).subscribe(a=>this.books=a)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:38,vars:2,consts:[[2,"width","100%"],[2,"width","20%"],["alt","Pitch Left","src","https://www.thecocktaildb.com/images/cocktail_left.png"],["alt","Pitch Right","src","https://www.thecocktaildb.com/images/cocktail_right.png"],["src","../../../../assets/separator.jpg",1,"separator_img"],["align","center","width","350"],["autocomplete","off",1,"navbar-form"],[1,"input-group"],["autocomplete","off","name","s","placeholder","Search for a Book...","type","text",1,"form-control",3,"formControl"],[1,"input-group-btn"],["type","submit",1,"btn","btn-default"],[1,"text-white",2,"transform","rotate(45deg)"],[1,"row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[3,"book"]],template:function(t,n){1&t&&(o.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"td",1),o._UZ(4,"img",2),o.qZA(),o.TgZ(5,"td")(6,"h1"),o._uU(7,"Welcome to Books"),o.qZA(),o.TgZ(8,"p"),o._uU(9,"description"),o.qZA(),o.TgZ(10,"p"),o._uU(11,"description"),o.qZA(),o.TgZ(12,"p"),o._uU(13,"description"),o.qZA(),o.TgZ(14,"a"),o._UZ(15,"br"),o._uU(16," Click to Support:"),o.qZA(),o._UZ(17,"br")(18,"br"),o.qZA(),o.TgZ(19,"td",1),o._UZ(20,"img",3),o.qZA()()()(),o._UZ(21,"img",4),o.TgZ(22,"table",5)(23,"tbody")(24,"tr")(25,"td")(26,"form",6)(27,"div",7),o._UZ(28,"input",8),o.TgZ(29,"div",9)(30,"button",10)(31,"span",11),o._uU(32," \u26b2 "),o.qZA()()()()()()()()(),o._UZ(33,"img",4),o.TgZ(34,"h3"),o._uU(35,"Random Books"),o.qZA(),o.TgZ(36,"div",12),o.YNc(37,O,2,1,"div",13),o.qZA()),2&t&&(o.xp6(28),o.Q6J("formControl",n.searchBook),o.xp6(9),o.Q6J("ngForOf",n.books))},dependencies:[l.sg,r._Y,r.Fj,r.JJ,r.JL,r.oH,r.F,P],styles:["img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]}),e})();function M(e,i){if(1&e&&(o.TgZ(0,"h3"),o._uU(1),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.Oqu(t.subtitle)}}function S(e,i){if(1&e&&o._UZ(0,"img",6),2&e){const t=o.oxw(2);o.Q6J("src",t.thumbnail,o.LSH)}}function q(e,i){if(1&e&&(o.TgZ(0,"div",1)(1,"div"),o.YNc(2,M,2,1,"h3",2),o._UZ(3,"p",3),o.qZA(),o.TgZ(4,"div")(5,"h1"),o._uU(6),o.qZA(),o.YNc(7,S,1,1,"img",4),o.TgZ(8,"h4")(9,"b",5),o._uU(10,"Written By:"),o.qZA(),o.TgZ(11,"span")(12,"h5"),o._uU(13),o.ALo(14,"bcAddCommas"),o.qZA()()()()()),2&e){const t=o.oxw();o.xp6(2),o.Q6J("ngIf",t.subtitle),o.xp6(1),o.Q6J("innerHtml",t.description,o.oJD),o.xp6(3),o.Oqu(t.title),o.xp6(1),o.Q6J("ngIf",t.thumbnail),o.xp6(6),o.Oqu(o.lcZ(14,5,t.authors))}}let F=(()=>{class e{constructor(t,n,c){this.route=t,this.booksService=n,this.location=c,this.add=new o.vpe,this.remove=new o.vpe,this.book=this.route.snapshot.data.book}ngOnInit(){}get id(){return this.book.id}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")}get authors(){return this.book.volumeInfo.authors}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(u.gz),o.Y36(Z),o.Y36(l.Ye))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-view-book"]],inputs:{book:"book",inCollection:"inCollection"},outputs:{add:"add",remove:"remove"},decls:1,vars:1,consts:[["class","book-card",4,"ngIf"],[1,"book-card"],[4,"ngIf"],[3,"innerHtml"],[3,"src",4,"ngIf"],[2,"color","#0B3C5D"],[3,"src"]],template:function(t,n){1&t&&o.YNc(0,q,15,7,"div",0),2&t&&o.Q6J("ngIf",n.book)},dependencies:[l.O5,B],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;text-align:left;margin:75px 0}.book-card[_ngcontent-%COMP%]{display:flex;margin:15px 0 50px}img[_ngcontent-%COMP%]{width:60px;min-width:60px;margin-left:5px}"]}),e})(),C=(()=>{class e{constructor(t,n){this.router=t,this.bookService=n}resolve(t){var n=this;return(0,h.Z)(function*(){const c=t.paramMap.get("id");let a=n.bookService.book;if(!a)try{return a=yield n.bookService.getById(c).toPromise(),a}catch(G){return n.router.navigate(["/books"]),null}return a})()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(u.F0),o.LFG(Z))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var L=s(3900),Y=s(7579);function V(e,i){if(1&e&&o._UZ(0,"img",9),2&e){const t=o.oxw().$implicit;o.Q6J("src",t.volumeInfo.imageLinks.thumbnail,o.LSH)}}function H(e,i){if(1&e&&(o.TgZ(0,"div",5),o.YNc(1,V,1,1,"img",6),o.TgZ(2,"h5",7),o._uU(3),o.qZA(),o.TgZ(4,"p",8),o._uU(5),o.qZA()()),2&e){const t=i.$implicit;o.oxw();const n=o.MAs(6);o.xp6(1),o.Q6J("ngIf",t.volumeInfo.imageLinks)("ngIfElse",n),o.xp6(2),o.Oqu(t.volumeInfo.title),o.xp6(2),o.Oqu(t.volumeInfo.description)}}function Q(e,i){1&e&&(o.TgZ(0,"span",10),o._uU(1," crop_original "),o.qZA())}const $=[{path:"",component:k,children:[{path:"home",component:J},{path:"books",component:(()=>{class e{constructor(t){this.booksService=t,this.books=[],this.searchTerm="",this.startIndex=0,this.searchTermChanged=new Y.x}onEvent(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(this.startIndex+=20,this.booksService.getBooks(this.searchTerm,this.startIndex).subscribe(t=>{this.books=this.books.concat(t.items)}))}ngOnInit(){this.searchTermChanged.pipe((0,g.h)(()=>""!==this.searchTerm),(0,p.b)(500),(0,L.w)(()=>this.booksService.getBooks(this.searchTerm))).subscribe(t=>{this.books=t.items})}onSearchTermChange(t){this.startIndex=0,this.searchTerm=t,this.searchTermChanged.next()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-books-v2"]],hostBindings:function(t,n){1&t&&o.NdJ("scroll",function(a){return n.onEvent(a)},!1,o.Jf7)},decls:7,vars:2,consts:[[1,"input-label"],[3,"ngModel","ngModelChange"],[1,"list"],["class","book",4,"ngFor","ngForOf"],["no_img",""],[1,"book"],["class","image",3,"src",4,"ngIf","ngIfElse"],[1,"header"],[1,"description"],[1,"image",3,"src"],[1,"material-icons","no-img"]],template:function(t,n){1&t&&(o.TgZ(0,"p",0),o._uU(1," Search: "),o.TgZ(2,"input",1),o.NdJ("ngModelChange",function(a){return n.onSearchTermChange(a)}),o.qZA()(),o.TgZ(3,"div",2),o.YNc(4,H,6,4,"div",3),o.YNc(5,Q,2,0,"ng-template",null,4,o.W1O),o.qZA()),2&t&&(o.xp6(2),o.Q6J("ngModel",n.searchTerm),o.xp6(2),o.Q6J("ngForOf",n.books))},dependencies:[l.sg,l.O5,r.Fj,r.JJ,r.On],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,325px);grid-gap:1rem;justify-content:space-evenly}.input-label[_ngcontent-%COMP%]{text-align:center}.book[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 5vh 0;align-items:center;border:1px solid;padding:15px;border-radius:10px;background-color:#fffff4;width:225px;height:300px}.image[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:10px}.header[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:10px}.no-img[_ngcontent-%COMP%]{font-family:Material Icons!important;font-size:200px}"]}),e})()},{path:"book/:id",component:F,resolve:{book:C}},{path:"",redirectTo:"home",pathMatch:"full"}]}];let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild($),u.Bz]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[C],imports:[l.ez,r.UX,r.u5,N,f.v9]}),e})()},531:(w,v,s)=>{function l(o,f,k,h,r,g,p){try{var d=o[g](p),m=d.value}catch(x){return void k(x)}d.done?f(m):Promise.resolve(m).then(h,r)}function u(o){return function(){var f=this,k=arguments;return new Promise(function(h,r){var g=o.apply(f,k);function p(m){l(g,h,r,p,d,"next",m)}function d(m){l(g,h,r,p,d,"throw",m)}p(void 0)})}}s.d(v,{Z:()=>u})}}]);