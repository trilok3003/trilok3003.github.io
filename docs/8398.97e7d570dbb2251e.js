"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8398],{8398:(H,u,s)=>{s.r(u),s.d(u,{BooksModule:()=>_});var l=s(177),m=s(884),t=s(4438),d=s(3760);let k=(()=>{class o{constructor(){this.menus=[{path:"home",name:"Home"},{path:"books",name:"Books V2"}]}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-books"]],standalone:!1,decls:1,vars:2,consts:[["title","Books",3,"menus","theme"]],template:function(n,i){1&n&&t.nrm(0,"ang-bootstrap-layout",0),2&n&&t.Y8G("menus",i.menus)("theme","default")},dependencies:[d.KP],encapsulation:2})}}return o})();var r=s(9417),b=s(8174),p=s(6053);let f=(()=>{class o{transform(e){if(!e)return"Author Unknown";switch(e.length){case 0:return"Author Unknown";case 1:return e[0];case 2:return e.join(" and ");default:const n=e[e.length-1];return`${e.slice(0,-1).join(", ")}, and ${n}`}}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275pipe=t.EJ8({name:"bcAddCommas",type:o,pure:!0,standalone:!1})}}return o})(),v=(()=>{class o{transform(e,n=250){const i=e.replace(/(<([^>]+)>)/gi,"");return e.length>=n?`${i.slice(0,n)}...`:i}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275pipe=t.EJ8({name:"bcEllipsis",type:o,pure:!0,standalone:!1})}}return o})();const C=o=>["/books/book",o];function B(o,a){if(1&o&&t.nrm(0,"img",4),2&o){const e=t.XpG();t.Y8G("src",e.thumbnail,t.B4B)}}function I(o,a){if(1&o&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"bcEllipsis"),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,e.subtitle,40))}}function F(o,a){if(1&o&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"bcEllipsis"),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,e.description))}}let w=(()=>{class o{constructor(){}get id(){return this.book.id}get authors(){return this.book.volumeInfo.authors}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-book-preview"]],inputs:{book:"book"},standalone:!1,decls:16,vars:13,consts:[[3,"routerLink"],["width","95%",3,"src",4,"ngIf"],[4,"ngIf"],[2,"color","#0B3C5D"],["width","95%",3,"src"]],template:function(n,i){1&n&&(t.j41(0,"a",0)(1,"div"),t.DNE(2,B,1,1,"img",1),t.k0s(),t.EFF(3),t.nI1(4,"bcEllipsis"),t.DNE(5,I,3,4,"p",2)(6,F,3,3,"p",2),t.j41(7,"h4")(8,"b",3),t.EFF(9,"Written By:"),t.k0s(),t.j41(10,"span")(11,"h5"),t.EFF(12),t.nI1(13,"bcAddCommas"),t.k0s()()()(),t.nrm(14,"br")(15,"br")),2&n&&(t.Y8G("routerLink",t.eq3(11,C,i.id)),t.R7$(2),t.Y8G("ngIf",i.thumbnail),t.R7$(),t.SpI(" ",t.i5U(4,6,i.title,35)," "),t.R7$(2),t.Y8G("ngIf",i.subtitle),t.R7$(),t.Y8G("ngIf",i.description),t.R7$(6),t.JRh(t.bMT(13,9,i.authors)))},dependencies:[l.NgIf,m.Wk,f,v],styles:["img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}}return o})();function y(o,a){if(1&o&&(t.j41(0,"div",14),t.nrm(1,"app-book-preview",15),t.k0s()),2&o){const e=a.$implicit;t.R7$(),t.Y8G("book",e)}}let x=(()=>{class o{constructor(e){this.booksService=e,this.searchService=(0,t.WQX)(b.S),this.searchBook=new r.MJ}ngOnInit(){this.searchService.search(this.searchBook,e=>this.booksService.searchAPI(e),1e3).subscribe(e=>{this.books=e}),this.searchBook.patchValue("history")}search(e){this.booksService.searchAPI(e.currentTarget.value).subscribe(c=>this.books=c)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(p.U))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-home"]],standalone:!1,decls:38,vars:2,consts:[[2,"width","100%"],[2,"width","20%"],["alt","Pitch Left","src","https://www.thecocktaildb.com/images/cocktail_left.png"],["alt","Pitch Right","src","https://www.thecocktaildb.com/images/cocktail_right.png"],["src","../../../../assets/separator.jpg",1,"separator_img"],["align","center","width","350"],["autocomplete","off",1,"navbar-form"],[1,"input-group"],["autocomplete","off","name","s","placeholder","Search for a Book...","type","text",1,"form-control",3,"formControl"],[1,"input-group-btn"],["type","submit",1,"btn","btn-default"],[1,"text-white",2,"transform","rotate(45deg)"],[1,"row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[3,"book"]],template:function(n,i){1&n&&(t.j41(0,"table",0)(1,"tbody")(2,"tr")(3,"td",1),t.nrm(4,"img",2),t.k0s(),t.j41(5,"td")(6,"h1"),t.EFF(7,"Welcome to Books"),t.k0s(),t.j41(8,"p"),t.EFF(9,"description"),t.k0s(),t.j41(10,"p"),t.EFF(11,"description"),t.k0s(),t.j41(12,"p"),t.EFF(13,"description"),t.k0s(),t.j41(14,"a"),t.nrm(15,"br"),t.EFF(16," Click to Support:"),t.k0s(),t.nrm(17,"br")(18,"br"),t.k0s(),t.j41(19,"td",1),t.nrm(20,"img",3),t.k0s()()()(),t.nrm(21,"img",4),t.j41(22,"table",5)(23,"tbody")(24,"tr")(25,"td")(26,"form",6)(27,"div",7),t.nrm(28,"input",8),t.j41(29,"div",9)(30,"button",10)(31,"span",11),t.EFF(32," \u26b2 "),t.k0s()()()()()()()()(),t.nrm(33,"img",4),t.j41(34,"h3"),t.EFF(35,"Random Books"),t.k0s(),t.j41(36,"div",12),t.DNE(37,y,2,1,"div",13),t.k0s()),2&n&&(t.R7$(28),t.Y8G("formControl",i.searchBook),t.R7$(9),t.Y8G("ngForOf",i.books))},dependencies:[l.NgForOf,r.qT,r.me,r.BC,r.cb,r.l_,r.cV,w],styles:["img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}}return o})();function j(o,a){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.JRh(e.subtitle)}}function E(o,a){if(1&o&&t.nrm(0,"img",6),2&o){const e=t.XpG(2);t.Y8G("src",e.thumbnail,t.B4B)}}function T(o,a){if(1&o&&(t.j41(0,"div",1)(1,"div"),t.DNE(2,j,2,1,"h3",2),t.nrm(3,"p",3),t.k0s(),t.j41(4,"div")(5,"h1"),t.EFF(6),t.k0s(),t.DNE(7,E,1,1,"img",4),t.j41(8,"h4")(9,"b",5),t.EFF(10,"Written By:"),t.k0s(),t.j41(11,"span")(12,"h5"),t.EFF(13),t.nI1(14,"bcAddCommas"),t.k0s()()()()()),2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.subtitle),t.R7$(),t.Y8G("innerHtml",e.description,t.npT),t.R7$(3),t.JRh(e.title),t.R7$(),t.Y8G("ngIf",e.thumbnail),t.R7$(6),t.JRh(t.bMT(14,5,e.authors))}}let R=(()=>{class o{constructor(e,n,i){this.route=e,this.booksService=n,this.location=i,this.add=new t.bkB,this.remove=new t.bkB,this.book=this.route.snapshot.data.book}ngOnInit(){}get id(){return this.book.id}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")}get authors(){return this.book.volumeInfo.authors}goBack(){this.location.back()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(m.nX),t.rXU(p.U),t.rXU(l.Location))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-view-book"]],inputs:{book:"book",inCollection:"inCollection"},outputs:{add:"add",remove:"remove"},standalone:!1,decls:1,vars:1,consts:[["class","book-card",4,"ngIf"],[1,"book-card"],[4,"ngIf"],[3,"innerHtml"],[3,"src",4,"ngIf"],[2,"color","#0B3C5D"],[3,"src"]],template:function(n,i){1&n&&t.DNE(0,T,15,7,"div",0),2&n&&t.Y8G("ngIf",i.book)},dependencies:[l.NgIf,f],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;text-align:left;margin:75px 0}.book-card[_ngcontent-%COMP%]{display:flex;margin:15px 0 50px}img[_ngcontent-%COMP%]{width:60px;min-width:60px;margin-left:5px}"]})}}return o})();var G=s(467);let g=(()=>{class o{constructor(e,n){this.router=e,this.bookService=n}resolve(e){var n=this;return(0,G.A)(function*(){const i=e.paramMap.get("id");let c=n.bookService.book;if(!c)try{return c=yield n.bookService.getById(i).toPromise(),c}catch{return n.router.navigate(["/books"]),null}return c})()}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(m.Ix),t.KVO(p.U))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var M=s(5964),$=s(152),V=s(5558),O=s(1413);function P(o,a){if(1&o&&t.nrm(0,"img",9),2&o){const e=t.XpG().$implicit;t.Y8G("src",e.volumeInfo.imageLinks.thumbnail,t.B4B)}}function S(o,a){if(1&o&&(t.j41(0,"div",5),t.DNE(1,P,1,1,"img",6),t.j41(2,"h5",7),t.EFF(3),t.k0s(),t.j41(4,"p",8),t.EFF(5),t.k0s()()),2&o){const e=a.$implicit;t.XpG();const n=t.sdS(6);t.R7$(),t.Y8G("ngIf",e.volumeInfo.imageLinks)("ngIfElse",n),t.R7$(2),t.JRh(e.volumeInfo.title),t.R7$(2),t.JRh(e.volumeInfo.description)}}function Y(o,a){1&o&&(t.j41(0,"span",10),t.EFF(1," crop_original "),t.k0s())}const U=[{path:"",component:k,children:[{path:"home",component:x},{path:"books",component:(()=>{class o{onEvent(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(this.startIndex+=20,this.booksService.getBooks(this.searchTerm,this.startIndex).subscribe(e=>{this.books=this.books.concat(e.items)}))}constructor(e){this.booksService=e,this.books=[],this.searchTerm="",this.startIndex=0,this.searchTermChanged=new O.B}ngOnInit(){this.searchTermChanged.pipe((0,M.p)(()=>""!==this.searchTerm),(0,$.B)(500),(0,V.n)(()=>this.booksService.getBooks(this.searchTerm))).subscribe(e=>{this.books=e.items})}onSearchTermChange(e){this.startIndex=0,this.searchTerm=e,this.searchTermChanged.next()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(p.U))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-books-v2"]],hostBindings:function(n,i){1&n&&t.bIt("scroll",function(h){return i.onEvent(h)},!1,t.tSv)},standalone:!1,decls:7,vars:2,consts:[["no_img",""],[1,"input-label"],[3,"ngModelChange","ngModel"],[1,"list"],["class","book",4,"ngFor","ngForOf"],[1,"book"],["class","image",3,"src",4,"ngIf","ngIfElse"],[1,"header"],[1,"description"],[1,"image",3,"src"],[1,"material-icons","no-img"]],template:function(n,i){if(1&n){const c=t.RV6();t.j41(0,"p",1),t.EFF(1," Search: "),t.j41(2,"input",2),t.bIt("ngModelChange",function(N){return t.eBV(c),t.Njj(i.onSearchTermChange(N))}),t.k0s()(),t.j41(3,"div",3),t.DNE(4,S,6,4,"div",4)(5,Y,2,0,"ng-template",null,0,t.C5r),t.k0s()}2&n&&(t.R7$(2),t.Y8G("ngModel",i.searchTerm),t.R7$(2),t.Y8G("ngForOf",i.books))},dependencies:[l.NgForOf,l.NgIf,r.me,r.BC,r.vS],styles:[".list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,325px);grid-gap:1rem;justify-content:space-evenly}.input-label[_ngcontent-%COMP%]{text-align:center}.book[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 5vh 0;align-items:center;border:1px solid;padding:15px;border-radius:10px;background-color:#fffff4;width:225px;height:300px}.image[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:10px}.header[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:10px}.no-img[_ngcontent-%COMP%]{font-family:Material Icons!important;font-size:200px}"]})}}return o})()},{path:"book/:id",component:R,resolve:{book:g}},{path:"",redirectTo:"home",pathMatch:"full"}]}];let X=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(U),m.iI]})}}return o})(),_=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({providers:[g],imports:[l.CommonModule,r.X1,r.YN,X,d.lZ]})}}return o})()}}]);