"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8054],{3935:(P,u,r)=>{r.d(u,{T:()=>E});var s=r(2218),_=r(7765),c=r(4438);const y={journey:Array.from({length:50},(e,l)=>({id:l+1,title:`Bali Adventure ${l+1}`,description:`Exploring beaches and volcanoes in Bali. ${l+1}`,startDate:new Date("2023-01-10"),endDate:new Date("2023-01-20"),mediaUrls:["https://example.com/bali.jpg"],tags:[`beach ${l+1}`,`adventure ${l+1}`,"Asia"]}))};let E=(()=>{class e extends _.u{constructor(){super(...arguments),this.basePath="ENTITY_DB_2025",this.endpoint="",this.db1=y||{}}getFieldConfig(t){return s.cV[t]||[]}getAllOld(t){return this.db1[t]||[]}getByIdOld(t,i){return(this.db1[t]||[]).find(a=>a.id==i)}createOld(t,i){this.db1[t]=this.db1[t]||[],this.db1[t].push(i)}deleteOld(t,i){this.db1[t]=(this.db1[t]||[]).filter(a=>a.id!==i)}getEntityByType(t){return this.read$(`${t}`)}geEntitytById(t,i){return this.getById(`${t}/${i}`)}createEntity(t,i){return this.create(i,t)}deleteEntity(t,i){return this.remove(`${t}/${i}`)}static{this.\u0275fac=(()=>{let t;return function(a){return(t||(t=c.xGo(e)))(a||e)}})()}static{this.\u0275prov=c.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},7765:(P,u,r)=>{r.d(u,{u:()=>E});var s=r(467),_=r(4438),c=r(9972),y=r(1469);let E=(()=>{class e{constructor(){this.db=(0,_.WQX)(c.h),this.storageService=(0,_.WQX)(y._)}get fullPath(){return`${this.basePath}/${this.endpoint}`}generatePath(t=""){return t?`${this.fullPath}/${t}`:this.fullPath}create(t,i){return this.db.create(this.generatePath(i),t)}get$(){return this.db.readRealtime$(this.fullPath)}getById(t){return this.db.readRealtimeOriginal$(`${this.fullPath}/${t}`)}update(t,i){return this.db.update(`${this.fullPath}/${t}`,i)}remove(t){return this.db.remove(`${this.fullPath}/${t}`)}set(t,i){return this.db.set(this.generatePath(t),i)}getKeys$(t=""){return this.db.getKeys$(this.generatePath(t))}getKeys(t=""){return this.db.getKeys(this.generatePath(t))}readOnce(t=""){return this.db.readOnce(this.generatePath(t))}read$(t=""){return this.db.readRealtime$(this.generatePath(t))}clearDb(){return this.set("",null)}updateCounter(t,i=!0){return this.db.updateCounterV2(this.generatePath(t),i)}createWithFile(t,i,a){var g=this;return(0,s.A)(function*(){if(!i)throw new Error("Please select an image.");const n=yield g.storageService.uploadFile(g.basePath,i,a),o={...t,imageUrl:n};yield g.create(o)})()}uploadFile(t,i){var a=this;return(0,s.A)(function*(){if(!t)throw new Error("Please select an image.");return yield a.storageService.uploadFile(a.basePath,t,i)})()}extractAndUploadFiles(t,i){var a=this;return(0,s.A)(function*(){return a.storageService.extractAndUploadFiles(t,a.basePath,i)})()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=_.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},8054:(P,u,r)=>{r.r(u),r.d(u,{default:()=>i});var s=r(177),_=r(1215),c=r(8141),y=r(5558),E=r(1264),e=r(4438),l=r(3935),t=r(7901);let i=(()=>{class a{constructor(n,o,h){this.entityService=n,this.route=o,this.router=h,this.entityType="",this.entities=[],(0,_.L)("type",!0).pipe((0,c.M)(d=>{this.entityType=d}),(0,y.n)(d=>this.entityService.getEntityByType(d))).subscribe(d=>{this.entities=d})}viewDetails(n){this.router.navigate(["/entities/v2",this.entityType,n.key])}delete(n){this.entityService.deleteEntity(this.entityType,n)}create(){this.router.navigate(["/entities",this.entityType,"create"])}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(l.T),e.rXU(t.nX),e.rXU(t.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-entity-list-page"]],decls:6,vars:5,consts:[[3,"click"],["type","Journey",3,"view","entities"]],template:function(o,h){1&o&&(e.j41(0,"h2"),e.EFF(1),e.nI1(2,"titlecase"),e.k0s(),e.j41(3,"button",0),e.bIt("click",function(){return h.create()}),e.EFF(4),e.k0s(),e.j41(5,"app-entity-list",1),e.bIt("view",function(p){return h.viewDetails(p)}),e.k0s()),2&o&&(e.R7$(),e.SpI("",e.bMT(2,3,h.entityType)," List"),e.R7$(3),e.SpI("+ Add ",h.entityType,""),e.R7$(),e.Y8G("entities",h.entities))},dependencies:[s.CommonModule,s.TitleCasePipe,E.R],encapsulation:2})}}return a})()}}]);