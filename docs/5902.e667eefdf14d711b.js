"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[5902],{5902:(be,y,r)=>{r.r(y),r.d(y,{BROWSER_STORAGE:()=>A,WeatherModule:()=>Te});var e=r(4650),g=r(4793),h=r(1135),u=r(4004),T=r(1884),f=r(3900),Z=r(2805);const b=(t=3e4)=>(0,Z.H)(0,t);let k=(()=>{class t{constructor(n){this.storage=n}get(n){return this.storage.getItem(n)}set(n,o){this.storage.setItem(n,o)}remove(n){this.storage.removeItem(n)}clear(){this.storage.clear()}static#e=this.\u0275fac=function(o){return new(o||t)(e.LFG(A))};static#n=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var x=r(255);const _="zip-code-storage-key";let I=(()=>{class t{constructor(n,o){this.storage=n,this.weatherApi=o,this.locations=new h.X([]);const a=this.storage.get(_);if(a){const i=JSON.parse(a)||[];this.locations.next(i)}}get currentLocations(){return this.locations.value}get locations$(){return this.locations.asObservable()}get weatherForecast$(){const n=a=>this.weatherApi.getCurrentWeather(a.zipCode,a.countryCode),o=a=>b().pipe((0,f.w)(()=>n(a)));return this.locations$.pipe((0,u.U)(a=>a.map(o)))}addLocation(n){const o=[...this.currentLocations,n];this.locations.next(o),this.storage.set(_,JSON.stringify(o))}removeLocation(n){const o=[...this.currentLocations],a=o.findIndex(i=>i.zipCode===n.zipCode&&i.countryCode===n.countryCode);o.splice(a,1),this.locations.next(o),this.storage.set(_,JSON.stringify(o))}hasLocation(n){return this.currentLocations.some(o=>o.zipCode===n)}static#e=this.\u0275fac=function(o){return new(o||t)(e.LFG(k),e.LFG(x.u))};static#n=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O(t,c){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-single-day-forecast",3),e.NdJ("remove",function(){const i=e.CHM(n).ngIf,m=e.oxw(3);return e.KtG(m.removeLocation(i.zipCode,i.countryCode))})("ready",function(){const i=e.CHM(n).ngIf,m=e.oxw(3);return e.KtG(m.onReady(i.zipCode))}),e.qZA(),e.BQk()}if(2&t){const n=c.ngIf;e.xp6(1),e.Q6J("forecast",n)}}function F(t,c){if(1&t&&(e.ynx(0),e.YNc(1,O,2,1,"ng-container",1),e.ALo(2,"async"),e.BQk()),2&t){const n=c.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n))}}function B(t,c){if(1&t&&(e.ynx(0),e.YNc(1,F,3,3,"ng-container",2),e.BQk()),2&t){const n=c.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}let M=(()=>{class t{constructor(n){this.locations=n,this.inProgress=new h.X(null)}get inProgress$(){return this.inProgress.asObservable().pipe((0,u.U)(n=>!!n),(0,T.x)())}ngOnInit(){this.weatherForecast$=this.locations.weatherForecast$}addLocation(n){this.inProgress.next(n.zipCode),this.locations.addLocation(n)}removeLocation(n,o){this.locations.removeLocation({zipCode:n,countryCode:o})}onReady(n){this.inProgress.value===n&&this.inProgress.next(null)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(I))};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-weather"]],decls:6,vars:4,consts:[[3,"task$","location"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"forecast","remove","ready"]],template:function(o,a){1&o&&(e.TgZ(0,"main")(1,"app-location-input",0),e.NdJ("location",function(m){return a.addLocation(m)}),e.qZA(),e.YNc(2,B,2,1,"ng-container",1),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"footer"),e._uU(5,"Created by trilok"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("task$",a.inProgress$),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,2,a.weatherForecast$)))},styles:["main[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;min-height:calc(100vh - 3.5rem)}footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:3.5rem}"]})}return t})();var N=r(9300),s=r(6895),p=r(7522);let S=(()=>{class t{constructor(){this.baseUrl="https://www.angulartraining.com/images/weather/",this.icons=(new Map).set(p.Yk.Atmosphere,`${this.baseUrl}/clouds.png`).set(p.Yk.Clouds,`${this.baseUrl}/clouds.png`).set(p.Yk.Drizzle,`${this.baseUrl}/rain.png`).set(p.Yk.Thunderstorm,`${this.baseUrl}/rain.png`).set(p.Yk.Rain,`${this.baseUrl}/rain.png`).set(p.Yk.Snow,`${this.baseUrl}/snow.png`).set(p.Yk.Clear,`${this.baseUrl}/sun.png`)}transform(n){return this.icons.get(n)||`${this.baseUrl}/sun.png`}static#e=this.\u0275fac=function(o){return new(o||t)};static#n=this.\u0275pipe=e.Yjl({name:"weatherIcon",type:t,pure:!0})}return t})();function L(t,c){if(1&t&&(e.TgZ(0,"li",7),e._uU(1),e.ALo(2,"date"),e._UZ(3,"img",8),e.ALo(4,"weatherIcon"),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.HOy(" ",e.xi3(2,5,n.date,"EEEE, MMMM d:")," ",n.conditions," - Min: ",n.temperatureMin," - Max: ",n.temperatureMax," "),e.xp6(2),e.Q6J("src",e.lcZ(4,8,n.conditions),e.LSH)}}function P(t,c){if(1&t&&(e.TgZ(0,"section",2)(1,"article",3)(2,"h3",4),e._uU(3),e.qZA()(),e.TgZ(4,"ul",5),e.YNc(5,L,5,10,"li",6),e.qZA()()),2&t){const n=e.oxw();e.xp6(3),e.hij("5-day forecast for ",n.forecast[0].city,""),e.xp6(2),e.Q6J("ngForOf",n.forecast)}}let U=(()=>{class t{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-multi-day-forecast"]],inputs:{forecast:"forecast"},decls:3,vars:1,consts:[["class","card",4,"ngIf"],["tabindex","0","routerLink","/systems/weather",1,"btn","btn-success","mt-2"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["alt","weather conditions icon",1,"icon",3,"src"]],template:function(o,a){1&o&&(e.YNc(0,P,6,2,"section",0),e.TgZ(1,"a",1),e._uU(2,"< Back to main page"),e.qZA()),2&o&&e.Q6J("ngIf",a.forecast)},dependencies:[s.sg,s.O5,g.rH,s.uU,S],styles:[".icon[_ngcontent-%COMP%]{width:45px;height:45px;position:absolute;right:20px;top:-2px}"],changeDetection:0})}return t})();function G(t,c){if(1&t&&(e.ynx(0),e._UZ(1,"app-multi-day-forecast",1),e.BQk()),2&t){const n=c.ngIf;e.xp6(1),e.Q6J("forecast",n)}}let J=(()=>{class t{constructor(n,o){this.route=n,this.api=o,this.zipRouteParam="zip",this.countryRouteParam="country"}ngOnInit(){this.forecast$=this.route.paramMap.pipe((0,N.h)(n=>n.has(this.zipRouteParam)),(0,u.U)(n=>({zipCode:n.get(this.zipRouteParam),countryCode:n.get(this.countryRouteParam)})),(0,f.w)(n=>b().pipe((0,u.U)(o=>n))),(0,f.w)(n=>this.api.getWeatherForecast(n.zipCode,n.countryCode)),(0,u.U)(n=>n.slice(0,5)))}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(g.gz),e.Y36(x.u))};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-forecast"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"forecast"]],template:function(o,a){1&o&&(e.TgZ(0,"main"),e.YNc(1,G,2,1,"ng-container",0),e.ALo(2,"async"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,a.forecast$)))},dependencies:[s.O5,U,s.Ov],styles:["main[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;min-height:calc(100vh - 3.5rem)}footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:3.5rem}"]})}return t})();var d=r(4006),v=r(8675),R=r(8372),C=r(8505);const w=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"\xc5land Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BL",name:"Saint Barth\xe9lemy"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia, Plurinational State of"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Congo, Democratic Republic of the"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"C\xf4te d'Ivoire"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cabo Verde"},{code:"CW",name:"Cura\xe7ao"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czechia"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Micronesia, Federated States of"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"United Kingdom of Great Britain and Northern Ireland"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GG",name:"Guernsey"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IM",name:"Isle of Man"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JE",name:"Jersey"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova, Republic of"},{code:"ME",name:"Montenegro"},{code:"MF",name:"Saint Martin, (French part)"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"North Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestine, State of"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"R\xe9union"},{code:"RO",name:"Romania"},{code:"RS",name:"Serbia"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"SS",name:"South Sudan"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SX",name:"Sint Maarten, (Dutch part)"},{code:"SY",name:"Syrian Arab Republic"},{code:"SZ",name:"Eswatini"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan, Province of China"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States of America"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Holy See"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela, Bolivarian Republic of"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];var E=r(1481);let z=(()=>{class t{constructor(n){this.sanitizer=n}transform(n,o){if(!o||o.trim().length<2)return this.sanitizer.bypassSecurityTrustHtml(n);const a=new RegExp(o,"ig");let i=a.exec(n),m=n;for(;i&&i.length>0;)i&&(m=m.replace(i[0],`<b>${i[0]}</b>`)),i=a.exec(n);return this.sanitizer.bypassSecurityTrustHtml(m)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(E.H7,16))};static#n=this.\u0275pipe=e.Yjl({name:"boldFragment",type:t,pure:!0})}return t})();function D(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"li",4),e.NdJ("click",function(){const i=e.CHM(n).$implicit,m=e.oxw(3);return e.KtG(m.onChange(i))}),e.ALo(1,"boldFragment"),e.qZA()}if(2&t){const n=c.$implicit,o=e.oxw(3);e.Q6J("innerHTML",e.xi3(1,1,n.name,o.autocompleteForm.value),e.oJD)}}function Y(t,c){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,D,2,4,"li",3),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}function H(t,c){if(1&t&&(e.ynx(0),e.YNc(1,Y,2,1,"ul",1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.showOptions)}}function Q(t,c){1&t&&(e.TgZ(0,"div",5),e._uU(1," Please provide a valid Country\n"),e.qZA())}let $=(()=>{class t{constructor(n){this.eRef=n,this.showOptions=!1,this.error=!1,this.autocompleteForm=new d.NI,this.forceHide=!1,this.options$=this.autocompleteForm.valueChanges.pipe((0,v.O)(""),(0,R.b)(100),(0,u.U)(o=>o?.trim()?.toLocaleLowerCase()),(0,T.x)(),(0,C.b)(o=>this.handleOptionsShow(o)),(0,u.U)(o=>w.filter(a=>a.name.toLowerCase().includes(o))),(0,C.b)(o=>this.error=0===o.length&&0!==this.autocompleteForm.value?.length))}onChange(n){this.change&&(this.change(n.code),this.autocompleteForm.setValue(n.name),this.forceHide=!0)}registerOnChange(n){this.change=n}writeValue(n){const o=w.find(a=>a.code===n);this.autocompleteForm.setValue(o?.name)}registerOnTouched(n){}setDisabledState(n){}clickOut(n){this.eRef.nativeElement.contains(n.target)||(this.showOptions=!1)}handleOptionsShow(n){this.forceHide?(this.showOptions=!1,this.forceHide=!1):this.showOptions=n?.length>0}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(e.SBq))};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-country-input"]],hostBindings:function(o,a){1&o&&e.NdJ("click",function(m){return a.clickOut(m)},!1,e.evT)},features:[e._Bn([{provide:d.JU,useExisting:t,multi:!0}])],decls:4,vars:5,consts:[["placeholder","Enter country","type","text",1,"form-control",3,"formControl","focusin"],[4,"ngIf"],["class","alert alert-warning mt-2","role","alert",4,"ngIf"],[3,"innerHTML","click",4,"ngFor","ngForOf"],[3,"innerHTML","click"],["role","alert",1,"alert","alert-warning","mt-2"]],template:function(o,a){1&o&&(e.TgZ(0,"input",0),e.NdJ("focusin",function(){return a.showOptions=!0}),e.qZA(),e.YNc(1,H,2,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Q,2,0,"div",2)),2&o&&(e.Q6J("formControl",a.autocompleteForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,a.options$)),e.xp6(2),e.Q6J("ngIf",a.error))},dependencies:[s.sg,s.O5,d.Fj,d.JJ,d.oH,s.Ov,z],styles:["[_nghost-%COMP%]{display:block;position:relative}ul[_ngcontent-%COMP%]{position:absolute;bottom:0;max-height:180px;max-width:100%;background-color:#fff;border:1px solid #b0bec5;overflow-y:auto;transform:translateY(100%);margin:0;list-style:none;padding:0;z-index:1000;box-shadow:8px 22px 28px -15px #42445a}li[_ngcontent-%COMP%]{padding:8px;cursor:pointer;min-width:180px}li[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}"]})}return t})();var K=r(9646),W=r(9841);function V(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Click"),e.qZA())}function q(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(a){e.CHM(n);const i=e.oxw(2);return e.KtG(i.onClick(a))}),e.TgZ(1,"span",null,7),e.Hsn(3),e.qZA(),e.YNc(4,V,2,0,"span",8),e.qZA()}if(2&t){const n=e.MAs(2),o=e.oxw(2);e.Q6J("disabled",o.disabled),e.xp6(4),e.Q6J("ngIf",0==n.childNodes.length)}}function j(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"In progress..."),e.qZA())}function X(t,c){if(1&t&&(e.TgZ(0,"button",9),e._UZ(1,"span",10),e.TgZ(2,"span",null,7),e.Hsn(4,1),e.qZA(),e.YNc(5,j,2,0,"span",8),e.qZA()),2&t){const n=e.MAs(3);e.xp6(5),e.Q6J("ngIf",0==n.childNodes.length)}}function ee(t,c){1&t&&(e.TgZ(0,"span"),e._uU(1,"Done!"),e.qZA())}function ne(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(2);return e.KtG(a.reset())}),e.GkF(1,12),e.TgZ(2,"span",null,7),e.Hsn(4,2),e.qZA(),e.YNc(5,ee,2,0,"span",8),e.qZA()}if(2&t){const n=e.MAs(3);e.oxw(2);const o=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(4),e.Q6J("ngIf",0==n.childNodes.length)}}function te(t,c){if(1&t&&(e.ynx(0,2),e.YNc(1,q,5,2,"button",3),e.YNc(2,X,6,1,"button",4),e.YNc(3,ne,6,2,"button",5),e.BQk()),2&t){const n=c.ngIf,o=e.oxw();e.Q6J("ngSwitch",n),e.xp6(1),e.Q6J("ngSwitchCase",o.State.Default),e.xp6(1),e.Q6J("ngSwitchCase",o.State.Working),e.xp6(1),e.Q6J("ngSwitchCase",o.State.Done)}}function oe(t,c){1&t&&(e.O4$(),e.TgZ(0,"svg",13),e._UZ(1,"path",14)(2,"path",15),e.qZA())}const ae=["*",[["","working",""]],[["","done",""]]],ce=["*","[working]","[done]"];var l=(()=>{return(t=l||(l={})).Default="default",t.Working="working",t.Done="done",l;var t})();let ie=(()=>{class t{constructor(){this.disabled=!1,this.clickEvent=new e.vpe,this.State=l,this.state=new h.X(l.Default),this.timeToReset=5e3}ngOnInit(){const n=(this.taskInProgress$||(0,K.of)(!1)).pipe((0,v.O)(!1));this.state$=(0,W.a)([this.state.asObservable(),n]).pipe((0,u.U)(([o,a])=>o===l.Default&&a?l.Working:o!==l.Working||a?o:l.Done),(0,C.b)(o=>{o===l.Done&&setTimeout(()=>this.state.next(l.Default),this.timeToReset)}))}onClick(n){this.state.next(l.Working),this.clickEvent.emit(n)}reset(){this.state.next(l.Default)}static#e=this.\u0275fac=function(o){return new(o||t)};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-task-button"]],inputs:{disabled:"disabled",taskInProgress$:["task$","taskInProgress$"]},outputs:{clickEvent:"onClick"},ngContentSelectors:ce,decls:4,vars:3,consts:[[3,"ngSwitch",4,"ngIf"],["doneIcon",""],[3,"ngSwitch"],["class","btn btn-primary",3,"disabled","click",4,"ngSwitchCase"],["class","btn btn-primary","disabled","",4,"ngSwitchCase"],["class","btn btn-success",3,"click",4,"ngSwitchCase"],[1,"btn","btn-primary",3,"disabled","click"],["ref",""],[4,"ngIf"],["disabled","",1,"btn","btn-primary"],["role","status",1,"spinner-border","spinner-border-sm","mr-2"],[1,"btn","btn-success",3,"click"],[3,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check2-circle","mr-2"],["d","M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"],["d","M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"]],template:function(o,a){1&o&&(e.F$t(ae),e.YNc(0,te,4,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,oe,3,0,"ng-template",null,1,e.W1O)),2&o&&e.Q6J("ngIf",e.lcZ(1,1,a.state$))},dependencies:[s.O5,s.tP,s.RF,s.n9,s.Ov],styles:[".btn-primary[_ngcontent-%COMP%]{color:var(--button-color, #fff);background-color:var(--button-background-color, #007bff);border-color:var(--button-border-color, #007bff)}.btn-success[_ngcontent-%COMP%]{color:var(--button-done-color, #fff);background-color:var(--button-done-background-color, #28a745);border-color:var(--button-done-border-color, #28a745)}.bi[_ngcontent-%COMP%]{display:inline-block;vertical-align:-.125em;width:1em;height:1em}"]})}return t})();const se=function(){return{message:"Provided zip code is not a valid US code, please provide valid one."}};function de(t,c){if(1&t&&e.GkF(0,7),2&t){e.oxw();const n=e.MAs(13);e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(2,se))}}const me=function(){return{message:"This zip code is already stored, please provide different one, or check weather forecast below"}};function ue(t,c){if(1&t&&e.GkF(0,7),2&t){e.oxw();const n=e.MAs(13);e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(2,me))}}function pe(t,c){if(1&t&&(e.TgZ(0,"div",8),e._UZ(1,"span",9),e.TgZ(2,"span",10),e._uU(3,"Error:"),e.qZA(),e._uU(4),e.qZA()),2&t){const n=c.message;e.xp6(4),e.hij(" ",n," ")}}const ge=t=>c=>void 0!==c.value&&t.hasLocation(c.value)?{duplication:!0}:null;let he=(()=>{class t{constructor(n){this.locations=n,this.location=new e.vpe,this.form=new d.cw({zipcode:new d.NI("",{validators:[d.kI.required,ge(this.locations)],updateOn:"blur"}),country:new d.NI("",[d.kI.required])})}ngOnInit(){}onAdd(){this.form.valid&&(this.location.emit({zipCode:this.form.value.zipcode,countryCode:this.form.value.country}),this.form.controls.zipcode.reset())}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(I))};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-location-input"]],inputs:{taskInProgress$:["task$","taskInProgress$"]},outputs:{location:"location"},decls:14,vars:5,consts:[[1,"card","card-body","bg-light","mb-4",3,"formGroup"],["placeholder","Zipcode","type","text","formControlName","zipcode",1,"form-control","mb-4"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["formControlName","country",1,"mb-4"],[3,"task$","disabled","onClick"],["working",""],["error",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","alert",1,"alert","alert-danger"],["aria-hidden","true",1,"glyphicon","glyphicon-exclamation-sign"],[1,"sr-only"]],template:function(o,a){1&o&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"Enter a location:"),e.qZA(),e._UZ(3,"input",1),e.YNc(4,de,1,3,"ng-container",2),e.YNc(5,ue,1,3,"ng-container",2),e._UZ(6,"app-country-input",3),e.TgZ(7,"app-task-button",4),e.NdJ("onClick",function(){return a.onAdd()}),e.TgZ(8,"span"),e._uU(9,"Add Location"),e.qZA(),e.TgZ(10,"span",5),e._uU(11,"Adding"),e.qZA()()(),e.YNc(12,pe,5,1,"ng-template",null,6,e.W1O)),2&o&&(e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("ngIf",a.form.controls.zipcode.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",a.form.controls.zipcode.hasError("duplication")),e.xp6(2),e.Q6J("task$",a.taskInProgress$)("disabled",a.form.invalid))},dependencies:[s.O5,s.tP,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,$,ie]})}return t})();var fe=r(4986);function _e(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"section",1)(1,"article")(2,"h3"),e._uU(3),e.qZA(),e.TgZ(4,"h5"),e._uU(5),e.qZA(),e.TgZ(6,"h5"),e._uU(7,"Temperatures today:"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p")(11,"a",2),e._uU(12),e.qZA()()(),e.TgZ(13,"article")(14,"button",3),e.NdJ("click",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.onRemove())}),e._uU(15,"\xd7"),e.qZA(),e._UZ(16,"img",4),e.ALo(17,"weatherIcon"),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(3),e.AsE("",n.forecast.city," (",n.forecast.zipCode,")"),e.xp6(2),e.hij("Current conditions: ",n.forecast.conditions,""),e.xp6(4),e.lnq(" Current ",n.forecast.temperature," - Max ",n.forecast.temperatureMin," - Min ",n.forecast.temperatureMax," "),e.xp6(2),e.Q6J("routerLink","forecast/"+n.forecast.zipCode+"/"+n.forecast.countryCode)("title","5 day forecast for "+n.forecast.city),e.xp6(1),e.hij(" Show 5-day forecast for ",n.forecast.city," "),e.xp6(4),e.Q6J("src",e.lcZ(17,10,n.forecast.conditions),e.LSH)}}let Ce=(()=>{class t{constructor(){this.remove=new e.vpe,this.ready=new e.vpe}ngAfterViewInit(){fe.z.schedule(()=>this.ready.emit())}onRemove(){this.remove.emit()}static#e=this.\u0275fac=function(o){return new(o||t)};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-single-day-forecast"]],inputs:{forecast:"forecast"},outputs:{remove:"remove",ready:"ready"},decls:1,vars:1,consts:[["class","card card-body bg-light flex mb-2",4,"ngIf"],[1,"card","card-body","bg-light","flex","mb-2"],[3,"routerLink","title"],[1,"close",3,"click"],["alt","weather conditions icon",3,"src"]],template:function(o,a){1&o&&e.YNc(0,_e,18,12,"section",0),2&o&&e.Q6J("ngIf",a.forecast)},dependencies:[s.O5,g.rH,S],styles:["section[_ngcontent-%COMP%]{flex-direction:row}img[_ngcontent-%COMP%]{height:180px}.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0})}return t})();const A=new e.OlP("Browser Storage",{providedIn:"root",factory:()=>localStorage}),ye=[{path:"",component:M},{path:"forecast/:zip/:country",component:J}];let Te=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#n=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[s.ez,d.UX,g.Bz.forChild(ye),g.Bz]})}return t})();e.B6R(M,function(){return[s.sg,s.O5,he,Ce]},function(){return[s.Ov]})}}]);