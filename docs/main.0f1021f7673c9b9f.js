"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[8792],{17:(pt,ye,C)=>{C.d(ye,{G:()=>J});var E=C(1985),v=C(8359),ue=C(9898),U=C(4360),K=C(9974);class J extends E.c{constructor(W,se){super(),this.source=W,this.subjectFactory=se,this._subject=null,this._refCount=0,this._connection=null,(0,K.S)(W)&&(this.lift=W.lift)}_subscribe(W){return this.getSubject().subscribe(W)}getSubject(){const W=this._subject;return(!W||W.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:W}=this;this._subject=this._connection=null,W?.unsubscribe()}connect(){let W=this._connection;if(!W){W=this._connection=new v.yU;const se=this.getSubject();W.add(this.source.subscribe((0,U._)(se,void 0,()=>{this._teardown(),se.complete()},ee=>{this._teardown(),se.error(ee)},()=>this._teardown()))),W.closed&&(this._connection=null,W=v.yU.EMPTY)}return W}refCount(){return(0,ue.B)()(this)}}},152:(pt,ye,C)=>{C.d(ye,{B:()=>U});var E=C(3236),v=C(9974),ue=C(4360);function U(K,J=E.E){return(0,v.N)((q,W)=>{let se=null,ee=null,ne=null;const Ce=()=>{if(se){se.unsubscribe(),se=null;const Fe=ee;ee=null,W.next(Fe)}};function Be(){const Fe=ne+K,Oe=J.now();if(Oe<Fe)return se=this.schedule(void 0,Fe-Oe),void W.add(se);Ce()}q.subscribe((0,ue._)(W,Fe=>{ee=Fe,ne=J.now(),se||(se=J.schedule(Be,K),W.add(se))},()=>{Ce(),W.complete()},void 0,()=>{ee=se=null}))})}},177:(pt,ye,C)=>{C.r(ye),C.d(ye,{APP_BASE_HREF:()=>qe,AsyncPipe:()=>Pe,BrowserPlatformLocation:()=>Ce,CommonModule:()=>Vo,CurrencyPipe:()=>ao,DATE_PIPE_DEFAULT_OPTIONS:()=>Er,DATE_PIPE_DEFAULT_TIMEZONE:()=>Rn,DOCUMENT:()=>se,DatePipe:()=>Kt,DecimalPipe:()=>Wr,FormStyle:()=>An,FormatWidth:()=>Ze,HashLocationStrategy:()=>Dt,I18nPluralPipe:()=>Is,I18nSelectPipe:()=>xn,IMAGE_CONFIG:()=>v.GGh,IMAGE_LOADER:()=>wr,JsonPipe:()=>Qr,KeyValuePipe:()=>Dr,LOCATION_INITIALIZED:()=>ne,Location:()=>Tt,LocationStrategy:()=>Te,LowerCasePipe:()=>ze,NgClass:()=>En,NgComponentOutlet:()=>gs,NgFor:()=>mn,NgForOf:()=>mn,NgForOfContext:()=>ws,NgIf:()=>Cs,NgIfContext:()=>Xt,NgLocaleLocalization:()=>Vr,NgLocalization:()=>Kn,NgOptimizedImage:()=>Do,NgPlural:()=>oe,NgPluralCase:()=>Ie,NgStyle:()=>_e,NgSwitch:()=>Ei,NgSwitchCase:()=>yo,NgSwitchDefault:()=>Gr,NgTemplateOutlet:()=>Ge,NumberFormatStyle:()=>jt,NumberSymbol:()=>Ut,PRECONNECT_CHECK_BLOCKLIST:()=>P,PathLocationStrategy:()=>He,PercentPipe:()=>Zo,PlatformLocation:()=>ee,Plural:()=>sn,SlicePipe:()=>So,TitleCasePipe:()=>ct,TranslationWidth:()=>yt,UpperCasePipe:()=>Ht,VERSION:()=>Jo,ViewportScroller:()=>si,WeekDay:()=>gn,XhrFactory:()=>vo,formatCurrency:()=>Or,formatDate:()=>vr,formatNumber:()=>ot,formatPercent:()=>Fi,getCurrencySymbol:()=>xs,getLocaleCurrencyCode:()=>fn,getLocaleCurrencyName:()=>rr,getLocaleCurrencySymbol:()=>On,getLocaleDateFormat:()=>st,getLocaleDateTimeFormat:()=>At,getLocaleDayNames:()=>as,getLocaleDayPeriods:()=>xr,getLocaleDirection:()=>ls,getLocaleEraNames:()=>Yn,getLocaleExtraDayPeriodRules:()=>Xn,getLocaleExtraDayPeriods:()=>ir,getLocaleFirstDayOfWeek:()=>ke,getLocaleId:()=>nr,getLocaleMonthNames:()=>Fr,getLocaleNumberFormat:()=>Jt,getLocaleNumberSymbol:()=>St,getLocalePluralCase:()=>wn,getLocaleTimeFormat:()=>et,getLocaleWeekEndRange:()=>tt,getNumberOfCurrencyDigits:()=>Yr,isPlatformBrowser:()=>Ra,isPlatformServer:()=>Qi,provideCloudflareLoader:()=>_o,provideCloudinaryLoader:()=>Ss,provideImageKitLoader:()=>ci,provideImgixLoader:()=>ks,provideNetlifyLoader:()=>Mn,registerLocaleData:()=>jn,\u0275DomAdapter:()=>q,\u0275NullViewportScroller:()=>bo,\u0275PLATFORM_BROWSER_ID:()=>Fs,\u0275PLATFORM_SERVER_ID:()=>co,\u0275PlatformNavigation:()=>W,\u0275getDOM:()=>K,\u0275normalizeQueryParams:()=>Oe,\u0275parseCookieValue:()=>oo,\u0275setRootDomAdapter:()=>J}),C(467);var v=C(4438),ue=C(1413);let U=null;function K(){return U}function J(O){U??=O}class q{}let W=(()=>{class O{static \u0275fac=function(V){return new(V||O)};static \u0275prov=v.jDH({token:O,factory:()=>window.navigation,providedIn:"platform"})}return O})();const se=new v.nKC("");let ee=(()=>{class O{historyGo(F){throw new Error("")}static \u0275fac=function(V){return new(V||O)};static \u0275prov=v.jDH({token:O,factory:()=>(0,v.WQX)(Ce),providedIn:"platform"})}return O})();const ne=new v.nKC("");let Ce=(()=>{class O extends ee{_location;_history;_doc=(0,v.WQX)(se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(F){const V=K().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",F,!1),()=>V.removeEventListener("popstate",F)}onHashChange(F){const V=K().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",F,!1),()=>V.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,V,te){this._history.pushState(F,V,te)}replaceState(F,V,te){this._history.replaceState(F,V,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}static \u0275fac=function(V){return new(V||O)};static \u0275prov=v.jDH({token:O,factory:()=>new O,providedIn:"platform"})}return O})();function Be(O,Y){return O?Y?O.endsWith("/")?Y.startsWith("/")?O+Y.slice(1):O+Y:Y.startsWith("/")?O+Y:`${O}/${Y}`:O:Y}function Fe(O){const Y=O.search(/#|\?|$/);return"/"===O[Y-1]?O.slice(0,Y-1)+O.slice(Y):O}function Oe(O){return O&&"?"!==O[0]?`?${O}`:O}let Te=(()=>{class O{historyGo(F){throw new Error("")}static \u0275fac=function(V){return new(V||O)};static \u0275prov=v.jDH({token:O,factory:()=>(0,v.WQX)(He),providedIn:"root"})}return O})();const qe=new v.nKC("");let He=(()=>{class O extends Te{_platformLocation;_baseHref;_removeListenerFns=[];constructor(F,V){super(),this._platformLocation=F,this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,v.WQX)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Be(this._baseHref,F)}path(F=!1){const V=this._platformLocation.pathname+Oe(this._platformLocation.search),te=this._platformLocation.hash;return te&&F?`${V}${te}`:V}pushState(F,V,te,Ye){const Le=this.prepareExternalUrl(te+Oe(Ye));this._platformLocation.pushState(F,V,Le)}replaceState(F,V,te,Ye){const Le=this.prepareExternalUrl(te+Oe(Ye));this._platformLocation.replaceState(F,V,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static \u0275fac=function(V){return new(V||O)(v.KVO(ee),v.KVO(qe,8))};static \u0275prov=v.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),Dt=(()=>{class O extends Te{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(F,V){super(),this._platformLocation=F,null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){const V=this._platformLocation.hash??"#";return V.length>0?V.substring(1):V}prepareExternalUrl(F){const V=Be(this._baseHref,F);return V.length>0?"#"+V:V}pushState(F,V,te,Ye){const Le=this.prepareExternalUrl(te+Oe(Ye))||this._platformLocation.pathname;this._platformLocation.pushState(F,V,Le)}replaceState(F,V,te,Ye){const Le=this.prepareExternalUrl(te+Oe(Ye))||this._platformLocation.pathname;this._platformLocation.replaceState(F,V,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static \u0275fac=function(V){return new(V||O)(v.KVO(ee),v.KVO(qe,8))};static \u0275prov=v.jDH({token:O,factory:O.\u0275fac})}return O})(),Tt=(()=>{class O{_subject=new ue.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(F){this._locationStrategy=F;const V=this._locationStrategy.getBaseHref();this._basePath=function kt(O){if(new RegExp("^(https?:)?//").test(O)){const[,F]=O.split(/\/\/[^\/]+/);return F}return O}(Fe(Vt(V))),this._locationStrategy.onPopState(te=>{this._subject.next({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,V=""){return this.path()==this.normalize(F+Oe(V))}normalize(F){return O.stripTrailingSlash(function Xe(O,Y){if(!O||!Y.startsWith(O))return Y;const F=Y.substring(O.length);return""===F||["/",";","?","#"].includes(F[0])?F:Y}(this._basePath,Vt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,V="",te=null){this._locationStrategy.pushState(te,"",F,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Oe(V)),te)}replaceState(F,V="",te=null){this._locationStrategy.replaceState(te,"",F,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Oe(V)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription??=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)}),()=>{const V=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",V){this._urlChangeListeners.forEach(te=>te(F,V))}subscribe(F,V,te){return this._subject.subscribe({next:F,error:V??void 0,complete:te??void 0})}static normalizeQueryParams=Oe;static joinWithSlash=Be;static stripTrailingSlash=Fe;static \u0275fac=function(V){return new(V||O)(v.KVO(Te))};static \u0275prov=v.jDH({token:O,factory:()=>function lt(){return new Tt((0,v.KVO)(Te))}(),providedIn:"root"})}return O})();function Vt(O){return O.replace(/\/index.html$/,"")}const qt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var jt=function(O){return O[O.Decimal=0]="Decimal",O[O.Percent=1]="Percent",O[O.Currency=2]="Currency",O[O.Scientific=3]="Scientific",O}(jt||{}),sn=function(O){return O[O.Zero=0]="Zero",O[O.One=1]="One",O[O.Two=2]="Two",O[O.Few=3]="Few",O[O.Many=4]="Many",O[O.Other=5]="Other",O}(sn||{}),An=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(An||{}),yt=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(yt||{}),Ze=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Ze||{});const Ut={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};var gn=function(O){return O[O.Sunday=0]="Sunday",O[O.Monday=1]="Monday",O[O.Tuesday=2]="Tuesday",O[O.Wednesday=3]="Wednesday",O[O.Thursday=4]="Thursday",O[O.Friday=5]="Friday",O[O.Saturday=6]="Saturday",O}(gn||{});function nr(O){return(0,v.H5H)(O)[v.KH2.LocaleId]}function xr(O,Y,F){const V=(0,v.H5H)(O),Ye=Ir([V[v.KH2.DayPeriodsFormat],V[v.KH2.DayPeriodsStandalone]],Y);return Ir(Ye,F)}function as(O,Y,F){const V=(0,v.H5H)(O),Ye=Ir([V[v.KH2.DaysFormat],V[v.KH2.DaysStandalone]],Y);return Ir(Ye,F)}function Fr(O,Y,F){const V=(0,v.H5H)(O),Ye=Ir([V[v.KH2.MonthsFormat],V[v.KH2.MonthsStandalone]],Y);return Ir(Ye,F)}function Yn(O,Y){return Ir((0,v.H5H)(O)[v.KH2.Eras],Y)}function ke(O){return(0,v.H5H)(O)[v.KH2.FirstDayOfWeek]}function tt(O){return(0,v.H5H)(O)[v.KH2.WeekendRange]}function st(O,Y){return Ir((0,v.H5H)(O)[v.KH2.DateFormat],Y)}function et(O,Y){return Ir((0,v.H5H)(O)[v.KH2.TimeFormat],Y)}function At(O,Y){return Ir((0,v.H5H)(O)[v.KH2.DateTimeFormat],Y)}function St(O,Y){const F=(0,v.H5H)(O),V=F[v.KH2.NumberSymbols][Y];if(typeof V>"u"){if(Y===Ut.CurrencyDecimal)return F[v.KH2.NumberSymbols][Ut.Decimal];if(Y===Ut.CurrencyGroup)return F[v.KH2.NumberSymbols][Ut.Group]}return V}function Jt(O,Y){return(0,v.H5H)(O)[v.KH2.NumberFormats][Y]}function On(O){return(0,v.H5H)(O)[v.KH2.CurrencySymbol]||null}function rr(O){return(0,v.H5H)(O)[v.KH2.CurrencyName]||null}function fn(O){return(0,v.uq$)(O)}const wn=v.mq5;function kr(O){if(!O[v.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[v.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xn(O){const Y=(0,v.H5H)(O);return kr(Y),(Y[v.KH2.ExtraData][2]||[]).map(V=>"string"==typeof V?qr(V):[qr(V[0]),qr(V[1])])}function ir(O,Y,F){const V=(0,v.H5H)(O);kr(V);const Ye=Ir([V[v.KH2.ExtraData][0],V[v.KH2.ExtraData][1]],Y)||[];return Ir(Ye,F)||[]}function ls(O){return(0,v.H5H)(O)[v.KH2.Directionality]}function Ir(O,Y){for(let F=Y;F>-1;F--)if(typeof O[F]<"u")return O[F];throw new Error("Locale data API: locale data undefined")}function qr(O){const[Y,F]=O.split(":");return{hours:+Y,minutes:+F}}function xs(O,Y,F="en"){const V=function Un(O){return(0,v.H5H)(O)[v.KH2.Currencies]}(F)[O]||qt[O]||[],te=V[1];return"narrow"===Y&&"string"==typeof te?te:V[0]||O}const hs=2;function Yr(O){let Y;const F=qt[O];return F&&(Y=F[2]),"number"==typeof Y?Y:hs}const Wn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rs={},Bt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function vr(O,Y,F,V){let te=function be(O){if(Qe(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[te,Ye=1,Le=1]=O.split("-").map(xe=>+xe);return cs(te,Ye-1,Le)}const F=parseFloat(O);if(!isNaN(O-F))return new Date(F);let V;if(V=O.match(Wn))return function Ve(O){const Y=new Date(0);let F=0,V=0;const te=O[8]?Y.setUTCFullYear:Y.setFullYear,Ye=O[8]?Y.setUTCHours:Y.setHours;O[9]&&(F=Number(O[9]+O[10]),V=Number(O[9]+O[11])),te.call(Y,Number(O[1]),Number(O[2])-1,Number(O[3]));const Le=Number(O[4]||0)-F,xe=Number(O[5]||0)-V,dt=Number(O[6]||0),In=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return Ye.call(Y,Le,xe,dt,In),Y}(V)}const Y=new Date(O);if(!Qe(Y))throw new Error(`Unable to convert "${O}" into a date`);return Y}(O);Y=Zr(F,Y)||Y;let xe,Le=[];for(;Y;){if(xe=Bt.exec(Y),!xe){Le.push(Y);break}{Le=Le.concat(xe.slice(1));const Mr=Le.pop();if(!Mr)break;Y=Mr}}let dt=te.getTimezoneOffset();V&&(dt=_r(V,dt),te=function Re(O,Y,F){const V=F?-1:1,te=O.getTimezoneOffset();return function zs(O,Y){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+Y),O}(O,V*(_r(Y,te)-te))}(te,V,!0));let In="";return Le.forEach(Mr=>{const Vn=function mo(O){if(qn[O])return qn[O];let Y;switch(O){case"G":case"GG":case"GGG":Y=Tn(3,yt.Abbreviated);break;case"GGGG":Y=Tn(3,yt.Wide);break;case"GGGGG":Y=Tn(3,yt.Narrow);break;case"y":Y=dn(0,1,0,!1,!0);break;case"yy":Y=dn(0,2,0,!0,!0);break;case"yyy":Y=dn(0,3,0,!1,!0);break;case"yyyy":Y=dn(0,4,0,!1,!0);break;case"Y":Y=ss(1);break;case"YY":Y=ss(2,!0);break;case"YYY":Y=ss(3);break;case"YYYY":Y=ss(4);break;case"M":case"L":Y=dn(1,1,1);break;case"MM":case"LL":Y=dn(1,2,1);break;case"MMM":Y=Tn(2,yt.Abbreviated);break;case"MMMM":Y=Tn(2,yt.Wide);break;case"MMMMM":Y=Tn(2,yt.Narrow);break;case"LLL":Y=Tn(2,yt.Abbreviated,An.Standalone);break;case"LLLL":Y=Tn(2,yt.Wide,An.Standalone);break;case"LLLLL":Y=Tn(2,yt.Narrow,An.Standalone);break;case"w":Y=Jr(1);break;case"ww":Y=Jr(2);break;case"W":Y=Jr(1,!0);break;case"d":Y=dn(2,1);break;case"dd":Y=dn(2,2);break;case"c":case"cc":Y=dn(7,1);break;case"ccc":Y=Tn(1,yt.Abbreviated,An.Standalone);break;case"cccc":Y=Tn(1,yt.Wide,An.Standalone);break;case"ccccc":Y=Tn(1,yt.Narrow,An.Standalone);break;case"cccccc":Y=Tn(1,yt.Short,An.Standalone);break;case"E":case"EE":case"EEE":Y=Tn(1,yt.Abbreviated);break;case"EEEE":Y=Tn(1,yt.Wide);break;case"EEEEE":Y=Tn(1,yt.Narrow);break;case"EEEEEE":Y=Tn(1,yt.Short);break;case"a":case"aa":case"aaa":Y=Tn(0,yt.Abbreviated);break;case"aaaa":Y=Tn(0,yt.Wide);break;case"aaaaa":Y=Tn(0,yt.Narrow);break;case"b":case"bb":case"bbb":Y=Tn(0,yt.Abbreviated,An.Standalone,!0);break;case"bbbb":Y=Tn(0,yt.Wide,An.Standalone,!0);break;case"bbbbb":Y=Tn(0,yt.Narrow,An.Standalone,!0);break;case"B":case"BB":case"BBB":Y=Tn(0,yt.Abbreviated,An.Format,!0);break;case"BBBB":Y=Tn(0,yt.Wide,An.Format,!0);break;case"BBBBB":Y=Tn(0,yt.Narrow,An.Format,!0);break;case"h":Y=dn(3,1,-12);break;case"hh":Y=dn(3,2,-12);break;case"H":Y=dn(3,1);break;case"HH":Y=dn(3,2);break;case"m":Y=dn(4,1);break;case"mm":Y=dn(4,2);break;case"s":Y=dn(5,1);break;case"ss":Y=dn(5,2);break;case"S":Y=dn(6,1);break;case"SS":Y=dn(6,2);break;case"SSS":Y=dn(6,3);break;case"Z":case"ZZ":case"ZZZ":Y=Ks(0);break;case"ZZZZZ":Y=Ks(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=Ks(1);break;case"OOOO":case"ZZZZ":case"zzzz":Y=Ks(2);break;default:return null}return qn[O]=Y,Y}(Mr);In+=Vn?Vn(te,F,dt):"''"===Mr?"'":Mr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),In}function cs(O,Y,F){const V=new Date(0);return V.setFullYear(O,Y,F),V.setHours(0,0,0),V}function Zr(O,Y){const F=nr(O);if(rs[F]??={},rs[F][Y])return rs[F][Y];let V="";switch(Y){case"shortDate":V=st(O,Ze.Short);break;case"mediumDate":V=st(O,Ze.Medium);break;case"longDate":V=st(O,Ze.Long);break;case"fullDate":V=st(O,Ze.Full);break;case"shortTime":V=et(O,Ze.Short);break;case"mediumTime":V=et(O,Ze.Medium);break;case"longTime":V=et(O,Ze.Long);break;case"fullTime":V=et(O,Ze.Full);break;case"short":const te=Zr(O,"shortTime"),Ye=Zr(O,"shortDate");V=Ps(At(O,Ze.Short),[te,Ye]);break;case"medium":const Le=Zr(O,"mediumTime"),xe=Zr(O,"mediumDate");V=Ps(At(O,Ze.Medium),[Le,xe]);break;case"long":const dt=Zr(O,"longTime"),In=Zr(O,"longDate");V=Ps(At(O,Ze.Long),[dt,In]);break;case"full":const Mr=Zr(O,"fullTime"),Vn=Zr(O,"fullDate");V=Ps(At(O,Ze.Full),[Mr,Vn])}return V&&(rs[F][Y]=V),V}function Ps(O,Y){return Y&&(O=O.replace(/\{([^}]+)}/g,function(F,V){return null!=Y&&V in Y?Y[V]:F})),O}function fs(O,Y,F="-",V,te){let Ye="";(O<0||te&&O<=0)&&(te?O=1-O:(O=-O,Ye=F));let Le=String(O);for(;Le.length<Y;)Le="0"+Le;return V&&(Le=Le.slice(Le.length-Y)),Ye+Le}function dn(O,Y,F=0,V=!1,te=!1){return function(Ye,Le){let xe=function Zs(O,Y){switch(O){case 0:return Y.getFullYear();case 1:return Y.getMonth();case 2:return Y.getDate();case 3:return Y.getHours();case 4:return Y.getMinutes();case 5:return Y.getSeconds();case 6:return Y.getMilliseconds();case 7:return Y.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,Ye);if((F>0||xe>-F)&&(xe+=F),3===O)0===xe&&-12===F&&(xe=12);else if(6===O)return function yi(O,Y){return fs(O,3).substring(0,Y)}(xe,Y);const dt=St(Le,Ut.MinusSign);return fs(xe,Y,dt,V,te)}}function Tn(O,Y,F=An.Format,V=!1){return function(te,Ye){return function ri(O,Y,F,V,te,Ye){switch(F){case 2:return Fr(Y,te,V)[O.getMonth()];case 1:return as(Y,te,V)[O.getDay()];case 0:const Le=O.getHours(),xe=O.getMinutes();if(Ye){const In=Xn(Y),Mr=ir(Y,te,V),Vn=In.findIndex(Ur=>{if(Array.isArray(Ur)){const[Pt,Ls]=Ur,Vs=Le>=Pt.hours&&xe>=Pt.minutes,As=Le<Ls.hours||Le===Ls.hours&&xe<Ls.minutes;if(Pt.hours<Ls.hours){if(Vs&&As)return!0}else if(Vs||As)return!0}else if(Ur.hours===Le&&Ur.minutes===xe)return!0;return!1});if(-1!==Vn)return Mr[Vn]}return xr(Y,te,V)[Le<12?0:1];case 3:return Yn(Y,V)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(te,Ye,O,Y,F,V)}}function Ks(O){return function(Y,F,V){const te=-1*V,Ye=St(F,Ut.MinusSign),Le=te>0?Math.floor(te/60):Math.ceil(te/60);switch(O){case 0:return(te>=0?"+":"")+fs(Le,2,Ye)+fs(Math.abs(te%60),2,Ye);case 1:return"GMT"+(te>=0?"+":"")+fs(Le,1,Ye);case 2:return"GMT"+(te>=0?"+":"")+fs(Le,2,Ye)+":"+fs(Math.abs(te%60),2,Ye);case 3:return 0===V?"Z":(te>=0?"+":"")+fs(Le,2,Ye)+":"+fs(Math.abs(te%60),2,Ye);default:throw new Error(`Unknown zone width "${O}"`)}}}const ps=0,Jn=4;function cr(O){const Y=O.getDay(),F=0===Y?-3:Jn-Y;return cs(O.getFullYear(),O.getMonth(),O.getDate()+F)}function Jr(O,Y=!1){return function(F,V){let te;if(Y){const Ye=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Le=F.getDate();te=1+Math.floor((Le+Ye)/7)}else{const Ye=cr(F),Le=function Lr(O){const Y=cs(O,ps,1).getDay();return cs(O,0,1+(Y<=Jn?Jn:Jn+7)-Y)}(Ye.getFullYear()),xe=Ye.getTime()-Le.getTime();te=1+Math.round(xe/6048e5)}return fs(te,O,St(V,Ut.MinusSign))}}function ss(O,Y=!1){return function(F,V){return fs(cr(F).getFullYear(),O,St(V,Ut.MinusSign),Y)}}const qn={};function _r(O,Y){O=O.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(F)?Y:F}function Qe(O){return O instanceof Date&&!isNaN(O.valueOf())}const he=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Me=22,de=".",we="0",it=";",Ct=",",on="#",Yt="\xa4",Bn="%";function Tr(O,Y,F,V,te,Ye,Le=!1){let xe="",dt=!1;if(isFinite(O)){let In=function vt(O){let V,te,Ye,Le,xe,Y=Math.abs(O)+"",F=0;for((te=Y.indexOf(de))>-1&&(Y=Y.replace(de,"")),(Ye=Y.search(/e/i))>0?(te<0&&(te=Ye),te+=+Y.slice(Ye+1),Y=Y.substring(0,Ye)):te<0&&(te=Y.length),Ye=0;Y.charAt(Ye)===we;Ye++);if(Ye===(xe=Y.length))V=[0],te=1;else{for(xe--;Y.charAt(xe)===we;)xe--;for(te-=Ye,V=[],Le=0;Ye<=xe;Ye++,Le++)V[Le]=Number(Y.charAt(Ye))}return te>Me&&(V=V.splice(0,Me-1),F=te-1,te=1),{digits:V,exponent:F,integerLen:te}}(O);Le&&(In=function wt(O){if(0===O.digits[0])return O;const Y=O.digits.length-O.integerLen;return O.exponent?O.exponent+=2:(0===Y?O.digits.push(0,0):1===Y&&O.digits.push(0),O.integerLen+=2),O}(In));let Mr=Y.minInt,Vn=Y.minFrac,Ur=Y.maxFrac;if(Ye){const Ai=Ye.match(he);if(null===Ai)throw new Error(`${Ye} is not a valid digit info`);const ns=Ai[1],Br=Ai[3],ln=Ai[5];null!=ns&&(Mr=Cn(ns)),null!=Br&&(Vn=Cn(Br)),null!=ln?Ur=Cn(ln):null!=Br&&Vn>Ur&&(Ur=Vn)}!function Sn(O,Y,F){if(Y>F)throw new Error(`The minimum number of digits after fraction (${Y}) is higher than the maximum (${F}).`);let V=O.digits,te=V.length-O.integerLen;const Ye=Math.min(Math.max(Y,te),F);let Le=Ye+O.integerLen,xe=V[Le];if(Le>0){V.splice(Math.max(O.integerLen,Le));for(let Vn=Le;Vn<V.length;Vn++)V[Vn]=0}else{te=Math.max(0,te),O.integerLen=1,V.length=Math.max(1,Le=Ye+1),V[0]=0;for(let Vn=1;Vn<Le;Vn++)V[Vn]=0}if(xe>=5)if(Le-1<0){for(let Vn=0;Vn>Le;Vn--)V.unshift(0),O.integerLen++;V.unshift(1),O.integerLen++}else V[Le-1]++;for(;te<Math.max(0,Ye);te++)V.push(0);let dt=0!==Ye;const In=Y+O.integerLen,Mr=V.reduceRight(function(Vn,Ur,Pt,Ls){return Ls[Pt]=(Ur+=Vn)<10?Ur:Ur-10,dt&&(0===Ls[Pt]&&Pt>=In?Ls.pop():dt=!1),Ur>=10?1:0},0);Mr&&(V.unshift(Mr),O.integerLen++)}(In,Vn,Ur);let Pt=In.digits,Ls=In.integerLen;const Vs=In.exponent;let As=[];for(dt=Pt.every(Ai=>!Ai);Ls<Mr;Ls++)Pt.unshift(0);for(;Ls<0;Ls++)Pt.unshift(0);Ls>0?As=Pt.splice(Ls,Pt.length):(As=Pt,Pt=[0]);const ia=[];for(Pt.length>=Y.lgSize&&ia.unshift(Pt.splice(-Y.lgSize,Pt.length).join(""));Pt.length>Y.gSize;)ia.unshift(Pt.splice(-Y.gSize,Pt.length).join(""));Pt.length&&ia.unshift(Pt.join("")),xe=ia.join(St(F,V)),As.length&&(xe+=St(F,te)+As.join("")),Vs&&(xe+=St(F,Ut.Exponential)+"+"+Vs)}else xe=St(F,Ut.Infinity);return xe=O<0&&!dt?Y.negPre+xe+Y.negSuf:Y.posPre+xe+Y.posSuf,xe}function Or(O,Y,F,V,te){const Le=Ke(Jt(Y,jt.Currency),St(Y,Ut.MinusSign));return Le.minFrac=Yr(V),Le.maxFrac=Le.minFrac,Tr(O,Le,Y,Ut.CurrencyGroup,Ut.CurrencyDecimal,te).replace(Yt,F).replace(Yt,"").trim()}function Fi(O,Y,F){return Tr(O,Ke(Jt(Y,jt.Percent),St(Y,Ut.MinusSign)),Y,Ut.Group,Ut.Decimal,F,!0).replace(new RegExp(Bn,"g"),St(Y,Ut.PercentSign))}function ot(O,Y,F){return Tr(O,Ke(Jt(Y,jt.Decimal),St(Y,Ut.MinusSign)),Y,Ut.Group,Ut.Decimal,F)}function Ke(O,Y="-"){const F={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},V=O.split(it),te=V[0],Ye=V[1],Le=-1!==te.indexOf(de)?te.split(de):[te.substring(0,te.lastIndexOf(we)+1),te.substring(te.lastIndexOf(we)+1)],xe=Le[0],dt=Le[1]||"";F.posPre=xe.substring(0,xe.indexOf(on));for(let Mr=0;Mr<dt.length;Mr++){const Vn=dt.charAt(Mr);Vn===we?F.minFrac=F.maxFrac=Mr+1:Vn===on?F.maxFrac=Mr+1:F.posSuf+=Vn}const In=xe.split(Ct);if(F.gSize=In[1]?In[1].length:0,F.lgSize=In[2]||In[1]?(In[2]||In[1]).length:0,Ye){const Mr=te.length-F.posPre.length-F.posSuf.length,Vn=Ye.indexOf(on);F.negPre=Ye.substring(0,Vn).replace(/'/g,""),F.negSuf=Ye.slice(Vn+Mr).replace(/'/g,"")}else F.negPre=Y+F.posPre,F.negSuf=F.posSuf;return F}function Cn(O){const Y=parseInt(O);if(isNaN(Y))throw new Error("Invalid integer literal when parsing "+O);return Y}let Kn=(()=>{class O{static \u0275fac=function(V){return new(V||O)};static \u0275prov=v.jDH({token:O,factory:function(V){let te=null;return V?te=new V:(Ye=v.KVO(v.xe9),te=new Vr(Ye)),te;var Ye},providedIn:"root"})}return O})();function es(O,Y,F,V){let te=`=${O}`;if(Y.indexOf(te)>-1||(te=F.getPluralCategory(O,V),Y.indexOf(te)>-1))return te;if(Y.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${O}"`)}let Vr=(()=>{class O extends Kn{locale;constructor(F){super(),this.locale=F}getPluralCategory(F,V){switch(wn(V||this.locale)(F)){case sn.Zero:return"zero";case sn.One:return"one";case sn.Two:return"two";case sn.Few:return"few";case sn.Many:return"many";default:return"other"}}static \u0275fac=function(V){return new(V||O)(v.KVO(v.xe9))};static \u0275prov=v.jDH({token:O,factory:O.\u0275fac})}return O})();function jn(O,Y,F){return(0,v.XSP)(O,Y,F)}function oo(O,Y){Y=encodeURIComponent(Y);for(const F of O.split(";")){const V=F.indexOf("="),[te,Ye]=-1==V?[F,""]:[F.slice(0,V),F.slice(V+1)];if(te.trim()===Y)return decodeURIComponent(Ye)}return null}const vi=/\s+/,zr=[];let En=(()=>{class O{_ngEl;_renderer;initialClasses=zr;rawClass;stateMap=new Map;constructor(F,V){this._ngEl=F,this._renderer=V}set klass(F){this.initialClasses=null!=F?F.trim().split(vi):zr}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(vi):F}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const V of F)this._updateState(V,!0);else if(null!=F)for(const V of Object.keys(F))this._updateState(V,!!F[V]);this._applyStateDiff()}_updateState(F,V){const te=this.stateMap.get(F);void 0!==te?(te.enabled!==V&&(te.changed=!0,te.enabled=V),te.touched=!0):this.stateMap.set(F,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const V=F[0],te=F[1];te.changed?(this._toggleClass(V,te.enabled),te.changed=!1):te.touched||(te.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),te.touched=!1}}_toggleClass(F,V){(F=F.trim()).length>0&&F.split(vi).forEach(te=>{V?this._renderer.addClass(this._ngEl.nativeElement,te):this._renderer.removeClass(this._ngEl.nativeElement,te)})}static \u0275fac=function(V){return new(V||O)(v.rXU(v.aKT),v.rXU(v.sFG))};static \u0275dir=v.FsC({type:O,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return O})(),gs=(()=>{class O{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(F){this._viewContainerRef=F}_needToReCreateNgModuleInstance(F){return void 0!==F.ngComponentOutletNgModule||void 0!==F.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(F){return void 0!==F.ngComponentOutlet||void 0!==F.ngComponentOutletContent||void 0!==F.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(F)}ngOnChanges(F){if(this._needToReCreateComponentInstance(F)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const V=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(F)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,v.w6W)(this.ngComponentOutletNgModule,zi(V)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(zi(V)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:V,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const F of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(F,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(F){for(const[V,te]of this._inputsUsed)te?(F.setInput(V,this.ngComponentOutletInputs[V]),this._inputsUsed.set(V,!1)):(F.setInput(V,void 0),this._inputsUsed.delete(V))}static \u0275fac=function(V){return new(V||O)(v.rXU(v.c1b))};static \u0275dir=v.FsC({type:O,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[v.OA$]})}return O})();function zi(O){return O.get(v.Vns).injector}class ws{$implicit;ngForOf;index;count;constructor(Y,F,V,te){this.$implicit=Y,this.ngForOf=F,this.index=V,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mn=(()=>{class O{_viewContainer;_template;_differs;set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(F,V,te){this._viewContainer=F,this._template=V,this._differs=te}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const V=this._viewContainer;F.forEachOperation((te,Ye,Le)=>{if(null==te.previousIndex)V.createEmbeddedView(this._template,new ws(te.item,this._ngForOf,-1,-1),null===Le?void 0:Le);else if(null==Le)V.remove(null===Ye?void 0:Ye);else if(null!==Ye){const xe=V.get(Ye);V.move(xe,Le),er(xe,te)}});for(let te=0,Ye=V.length;te<Ye;te++){const xe=V.get(te).context;xe.index=te,xe.count=Ye,xe.ngForOf=this._ngForOf}F.forEachIdentityChange(te=>{er(V.get(te.currentIndex),te)})}static ngTemplateContextGuard(F,V){return!0}static \u0275fac=function(V){return new(V||O)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(v._q3))};static \u0275dir=v.FsC({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return O})();function er(O,Y){O.context.$implicit=Y.item}let Cs=(()=>{class O{_viewContainer;_context=new Xt;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(F,V){this._viewContainer=F,this._thenTemplateRef=V}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Gi("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Gi("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(F,V){return!0}static \u0275fac=function(V){return new(V||O)(v.rXU(v.c1b),v.rXU(v.C4Q))};static \u0275dir=v.FsC({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return O})();class Xt{$implicit=null;ngIf=null}function Gi(O,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,v.Tbb)(Y)}'.`)}class _i{_viewContainerRef;_templateRef;_created=!1;constructor(Y,F){this._viewContainerRef=Y,this._templateRef=F}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Y){Y&&!this._created?this.create():!Y&&this._created&&this.destroy()}}let Ei=(()=>{class O{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews.push(F)}_matchCase(F){const V=F===this._ngSwitch;return this._lastCasesMatched||=V,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),V}_updateDefaultCases(F){if(this._defaultViews.length>0&&F!==this._defaultUsed){this._defaultUsed=F;for(const V of this._defaultViews)V.enforceState(F)}}static \u0275fac=function(V){return new(V||O)};static \u0275dir=v.FsC({type:O,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return O})(),yo=(()=>{class O{ngSwitch;_view;ngSwitchCase;constructor(F,V,te){this.ngSwitch=te,te._addCase(),this._view=new _i(F,V)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(V){return new(V||O)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(Ei,9))};static \u0275dir=v.FsC({type:O,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return O})(),Gr=(()=>{class O{constructor(F,V,te){te._addDefault(new _i(F,V))}static \u0275fac=function(V){return new(V||O)(v.rXU(v.c1b),v.rXU(v.C4Q),v.rXU(Ei,9))};static \u0275dir=v.FsC({type:O,selectors:[["","ngSwitchDefault",""]]})}return O})(),oe=(()=>{class O{_localization;_activeView;_caseViews={};constructor(F){this._localization=F}set ngPlural(F){this._updateView(F)}addCase(F,V){this._caseViews[F]=V}_updateView(F){this._clearViews();const te=es(F,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[te])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(F){F&&(this._activeView=F,this._activeView.create())}static \u0275fac=function(V){return new(V||O)(v.rXU(Kn))};static \u0275dir=v.FsC({type:O,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}})}return O})(),Ie=(()=>{class O{value;constructor(F,V,te,Ye){this.value=F;const Le=!isNaN(Number(F));Ye.addCase(Le?`=${F}`:F,new _i(te,V))}static \u0275fac=function(V){return new(V||O)(v.kS0("ngPluralCase"),v.rXU(v.C4Q),v.rXU(v.c1b),v.rXU(oe,1))};static \u0275dir=v.FsC({type:O,selectors:[["","ngPluralCase",""]]})}return O})(),_e=(()=>{class O{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(F,V,te){this._ngEl=F,this._differs=V,this._renderer=te}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,V){const[te,Ye]=F.split("."),Le=-1===te.indexOf("-")?void 0:v.czy.DashCase;null!=V?this._renderer.setStyle(this._ngEl.nativeElement,te,Ye?`${V}${Ye}`:V,Le):this._renderer.removeStyle(this._ngEl.nativeElement,te,Le)}_applyChanges(F){F.forEachRemovedItem(V=>this._setStyle(V.key,null)),F.forEachAddedItem(V=>this._setStyle(V.key,V.currentValue)),F.forEachChangedItem(V=>this._setStyle(V.key,V.currentValue))}static \u0275fac=function(V){return new(V||O)(v.rXU(v.aKT),v.rXU(v.MKu),v.rXU(v.sFG))};static \u0275dir=v.FsC({type:O,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return O})(),Ge=(()=>{class O{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(F){this._viewContainerRef=F}ngOnChanges(F){if(this._shouldRecreateView(F)){const V=this._viewContainerRef;if(this._viewRef&&V.remove(V.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const te=this._createContextForwardProxy();this._viewRef=V.createEmbeddedView(this.ngTemplateOutlet,te,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(F){return!!F.ngTemplateOutlet||!!F.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(F,V,te)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,V,te),get:(F,V,te)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,V,te)}})}static \u0275fac=function(V){return new(V||O)(v.rXU(v.c1b))};static \u0275dir=v.FsC({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[v.OA$]})}return O})();function Rt(O,Y){return new v.wOt(2100,!1)}class Lt{createSubscription(Y,F){return(0,v.O8t)(()=>Y.subscribe({next:F,error:V=>{throw V}}))}dispose(Y){(0,v.O8t)(()=>Y.unsubscribe())}}class _n{createSubscription(Y,F){return Y.then(F,V=>{throw V})}dispose(Y){}}const fe=new _n,Je=new Lt;let Pe=(()=>{class O{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(F){this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){if(!this._obj){if(F)try{this.markForCheckOnValueUpdate=!1,this._subscribe(F)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,V=>this._updateLatestValue(F,V))}_selectStrategy(F){if((0,v.jNT)(F))return fe;if((0,v.zjR)(F))return Je;throw Rt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,V){F===this._obj&&(this._latestValue=V,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(V){return new(V||O)(v.rXU(v.gRc,16))};static \u0275pipe=v.EJ8({name:"async",type:O,pure:!1})}return O})(),ze=(()=>{class O{transform(F){if(null==F)return null;if("string"!=typeof F)throw Rt();return F.toLowerCase()}static \u0275fac=function(V){return new(V||O)};static \u0275pipe=v.EJ8({name:"lowercase",type:O,pure:!0})}return O})();const Et=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ct=(()=>{class O{transform(F){if(null==F)return null;if("string"!=typeof F)throw Rt();return F.replace(Et,V=>V[0].toUpperCase()+V.slice(1).toLowerCase())}static \u0275fac=function(V){return new(V||O)};static \u0275pipe=v.EJ8({name:"titlecase",type:O,pure:!0})}return O})(),Ht=(()=>{class O{transform(F){if(null==F)return null;if("string"!=typeof F)throw Rt();return F.toUpperCase()}static \u0275fac=function(V){return new(V||O)};static \u0275pipe=v.EJ8({name:"uppercase",type:O,pure:!0})}return O})();const Rn=new v.nKC(""),Er=new v.nKC("");let Kt=(()=>{class O{locale;defaultTimezone;defaultOptions;constructor(F,V,te){this.locale=F,this.defaultTimezone=V,this.defaultOptions=te}transform(F,V,te,Ye){if(null==F||""===F||F!=F)return null;try{return vr(F,V??this.defaultOptions?.dateFormat??"mediumDate",Ye||this.locale,te??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Le){throw Rt()}}static \u0275fac=function(V){return new(V||O)(v.rXU(v.xe9,16),v.rXU(Rn,24),v.rXU(Er,24))};static \u0275pipe=v.EJ8({name:"date",type:O,pure:!0})}return O})();const $n=/#/g;let Is=(()=>{class O{_localization;constructor(F){this._localization=F}transform(F,V,te){if(null==F)return"";if("object"!=typeof V||null===V)throw Rt();return V[es(F,Object.keys(V),this._localization,te)].replace($n,F.toString())}static \u0275fac=function(V){return new(V||O)(v.rXU(Kn,16))};static \u0275pipe=v.EJ8({name:"i18nPlural",type:O,pure:!0})}return O})(),xn=(()=>{class O{transform(F,V){if(null==F)return"";if("object"!=typeof V||"string"!=typeof F)throw Rt();return V.hasOwnProperty(F)?V[F]:V.hasOwnProperty("other")?V.other:""}static \u0275fac=function(V){return new(V||O)};static \u0275pipe=v.EJ8({name:"i18nSelect",type:O,pure:!0})}return O})(),Qr=(()=>{class O{transform(F){return JSON.stringify(F,null,2)}static \u0275fac=function(V){return new(V||O)};static \u0275pipe=v.EJ8({name:"json",type:O,pure:!1})}return O})(),Dr=(()=>{class O{differs;constructor(F){this.differs=F}differ;keyValues=[];compareFn=ki;transform(F,V=ki){if(!F||!(F instanceof Map)&&"object"!=typeof F)return null;this.differ??=this.differs.find(F).create();const te=this.differ.diff(F),Ye=V!==this.compareFn;return te&&(this.keyValues=[],te.forEachItem(Le=>{this.keyValues.push(function sr(O,Y){return{key:O,value:Y}}(Le.key,Le.currentValue))})),(te||Ye)&&(V&&this.keyValues.sort(V),this.compareFn=V),this.keyValues}static \u0275fac=function(V){return new(V||O)(v.rXU(v.MKu,16))};static \u0275pipe=v.EJ8({name:"keyvalue",type:O,pure:!1})}return O})();function ki(O,Y){const F=O.key,V=Y.key;if(F===V)return 0;if(null==F)return 1;if(null==V)return-1;if("string"==typeof F&&"string"==typeof V)return F<V?-1:1;if("number"==typeof F&&"number"==typeof V)return F-V;if("boolean"==typeof F&&"boolean"==typeof V)return F<V?-1:1;const te=String(F),Ye=String(V);return te==Ye?0:te<Ye?-1:1}let Wr=(()=>{class O{_locale;constructor(F){this._locale=F}transform(F,V,te){if(!Lo(F))return null;te||=this._locale;try{return ot(lo(F),te,V)}catch(Ye){throw Rt()}}static \u0275fac=function(V){return new(V||O)(v.rXU(v.xe9,16))};static \u0275pipe=v.EJ8({name:"number",type:O,pure:!0})}return O})(),Zo=(()=>{class O{_locale;constructor(F){this._locale=F}transform(F,V,te){if(!Lo(F))return null;te||=this._locale;try{return Fi(lo(F),te,V)}catch(Ye){throw Rt()}}static \u0275fac=function(V){return new(V||O)(v.rXU(v.xe9,16))};static \u0275pipe=v.EJ8({name:"percent",type:O,pure:!0})}return O})(),ao=(()=>{class O{_locale;_defaultCurrencyCode;constructor(F,V="USD"){this._locale=F,this._defaultCurrencyCode=V}transform(F,V=this._defaultCurrencyCode,te="symbol",Ye,Le){if(!Lo(F))return null;Le||=this._locale,"boolean"==typeof te&&(te=te?"symbol":"code");let xe=V||this._defaultCurrencyCode;"code"!==te&&(xe="symbol"===te||"symbol-narrow"===te?xs(xe,"symbol"===te?"wide":"narrow",Le):te);try{return Or(lo(F),Le,xe,V,Ye)}catch(dt){throw Rt()}}static \u0275fac=function(V){return new(V||O)(v.rXU(v.xe9,16),v.rXU(v.Ocv,16))};static \u0275pipe=v.EJ8({name:"currency",type:O,pure:!0})}return O})();function Lo(O){return!(null==O||""===O||O!=O)}function lo(O){if("string"==typeof O&&!isNaN(Number(O)-parseFloat(O)))return Number(O);if("number"!=typeof O)throw new Error(`${O} is not a number`);return O}let So=(()=>{class O{transform(F,V,te){if(null==F)return null;if("string"!=typeof F&&!Array.isArray(F))throw Rt();return F.slice(V,te)}static \u0275fac=function(V){return new(V||O)};static \u0275pipe=v.EJ8({name:"slice",type:O,pure:!1})}return O})(),Vo=(()=>{class O{static \u0275fac=function(V){return new(V||O)};static \u0275mod=v.$C({type:O});static \u0275inj=v.G2t({})}return O})();const Fs="browser",co="server";function Ra(O){return O===Fs}function Qi(O){return O===co}const Jo=new v.RxE("19.2.0");let si=(()=>{class O{static \u0275prov=(0,v.jDH)({token:O,providedIn:"root",factory:()=>new ts((0,v.WQX)(se),window)})}return O})();class ts{document;window;offset=()=>[0,0];constructor(Y,F){this.document=Y,this.window=F}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Y){this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){const F=function nn(O,Y){const F=O.getElementById(Y)||O.getElementsByName(Y)[0];if(F)return F;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const V=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let te=V.currentNode;for(;te;){const Ye=te.shadowRoot;if(Ye){const Le=Ye.getElementById(Y)||Ye.querySelector(`[name="${Y}"]`);if(Le)return Le}te=V.nextNode()}}return null}(this.document,Y);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(Y){this.window.history.scrollRestoration=Y}scrollToElement(Y){const F=Y.getBoundingClientRect(),V=F.left+this.window.pageXOffset,te=F.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo(V-Ye[0],te-Ye[1])}}class bo{setOffset(Y){}getScrollPosition(){return[0,0]}scrollToPosition(Y){}scrollToAnchor(Y){}setHistoryScrollRestoration(Y){}}class vo{}const Li="20";function ii(O){return/^https?:\/\//.test(O)}function Ln(O){if("string"!=typeof O||""===O.trim())return!1;try{return new URL(O),!0}catch{return!1}}function ea(O){return O.startsWith("/")?O.slice(1):O}const Ts=O=>O.src,wr=new v.nKC("",{providedIn:"root",factory:()=>Ts});function Js(O,Y){return function(V){return Ln(V)||function Mo(){throw new v.wOt(2959,!1)}(),V=function Ko(O){return O.endsWith("/")?O.slice(0,-1):O}(V),[{provide:wr,useValue:Le=>(ii(Le.src)&&function oi(){throw new v.wOt(2959,!1)}(),O(V,{...Le,src:ea(Le.src)}))}]}}const _o=Js(Ao);function Ao(O,Y){let F="format=auto";return Y.width&&(F+=`,width=${Y.width}`),Y.isPlaceholder&&(F+=`,quality=${Li}`),`${O}/cdn-cgi/image/${F}/${Y.src}`}const Ss=Js(Ui);function Ui(O,Y){let V="f_auto,"+(Y.isPlaceholder?"q_auto:low":"q_auto");return Y.width&&(V+=`,w_${Y.width}`),Y.loaderParams?.rounded&&(V+=",r_max"),`${O}/image/upload/${V}/${Y.src}`}const ci=Js(Pa);function Pa(O,Y){const{src:F,width:V}=Y,te=[];V&&te.push(`w-${V}`),Y.isPlaceholder&&te.push(`q-${Li}`);const Ye=te.length?[O,`tr:${te.join(",")}`,F]:[O,F];return new URL(Ye.join("/")).href}const ks=Js(Eo);function Eo(O,Y){const F=new URL(`${O}/${Y.src}`);return F.searchParams.set("auto","format"),Y.width&&F.searchParams.set("w",Y.width.toString()),Y.isPlaceholder&&F.searchParams.set("q",Li),F.href}function Mn(O){if(O&&!Ln(O))throw new v.wOt(2959,!1);return O&&(O=new URL(O).origin),[{provide:wr,useValue:V=>function _s(O,Y){const F=new URL(Y??"https://a/");F.pathname="/.netlify/images",!ii(O.src)&&!O.src.startsWith("/")&&(O.src="/"+O.src),F.searchParams.set("url",O.src),O.width&&F.searchParams.set("w",O.width.toString());O.isPlaceholder&&!(O.loaderParams?.quality??O.loaderParams?.q)&&F.searchParams.set("q",Li);for(const[te,Ye]of Object.entries(O.loaderParams??{}))ys.has(te)&&F.searchParams.set(ys.get(te),Ye.toString());return"a"===F.hostname?F.href.replace(F.origin,""):F.href}(V,O)}]}const ys=new Map([["height","h"],["fit","fit"],["quality","q"],["q","q"],["position","position"]]),P=new v.nKC(""),wi=/^((\s*\d+w\s*(,|$)){1,})$/,Nl=[1,2];let Do=(()=>{class O{imageLoader=(0,v.WQX)(wr);config=function Ia(O){let Y={};return O.breakpoints&&(Y.breakpoints=O.breakpoints.sort((F,V)=>F-V)),Object.assign({},v.PUk,O,Y)}((0,v.WQX)(v.GGh));renderer=(0,v.WQX)(v.sFG);imgElement=(0,v.WQX)(v.aKT).nativeElement;injector=(0,v.WQX)(v.zZn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,v.ngT)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&wi.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(F){F.ngSrc&&!F.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(F){let V=F;return this.loaderParams&&(V.loaderParams=this.loaderParams),this.imageLoader(V)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const F=wi.test(this.ngSrcset);return this.ngSrcset.split(",").filter(te=>""!==te).map(te=>{te=te.trim();const Ye=F?parseFloat(te):parseFloat(te)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Ye})} ${te}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:F}=this.config;let V=F;return"100vw"===this.sizes?.trim()&&(V=F.filter(Ye=>Ye>=640)),V.map(Ye=>`${this.callImageLoader({src:this.ngSrc,width:Ye})} ${Ye}w`).join(", ")}updateSrcAndSrcset(F=!1){F&&(this._renderedSrc=null);const V=this.getRewrittenSrc();let te;return this.setHostAttribute("src",V),this.ngSrcset?te=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(te=this.getAutomaticSrcset()),te&&this.setHostAttribute("srcset",te),te}getFixedSrcset(){return Nl.map(V=>`${this.callImageLoader({src:this.ngSrc,width:this.width*V})} ${V}x`).join(", ")}shouldGenerateAutomaticSrcset(){let F=!1;return this.sizes||(F=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Ts&&!F}generatePlaceholder(F){const{placeholderResolution:V}=this.config;return!0===F?`url(${this.callImageLoader({src:this.ngSrc,width:V,isPlaceholder:!0})})`:"string"==typeof F?`url(${F})`:null}shouldBlurPlaceholder(F){return!F||!F.hasOwnProperty("blur")||!!F.blur}removePlaceholderOnLoad(F){const V=()=>{const Le=this.injector.get(v.gRc);te(),Ye(),this.placeholder=!1,Le.markForCheck()},te=this.renderer.listen(F,"load",V),Ye=this.renderer.listen(F,"error",V);!function gr(O,Y){O.complete&&O.naturalWidth&&Y()}(F,V)}setHostAttribute(F,V){this.renderer.setAttribute(this.imgElement,F,V)}static \u0275fac=function(V){return new(V||O)};static \u0275dir=v.FsC({type:O,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(V,te){2&V&&v.xc7("position",te.fill?"absolute":null)("width",te.fill?"100%":null)("height",te.fill?"100%":null)("inset",te.fill?"0":null)("background-size",te.placeholder?"cover":null)("background-position",te.placeholder?"50% 50%":null)("background-repeat",te.placeholder?"no-repeat":null)("background-image",te.placeholder?te.generatePlaceholder(te.placeholder):null)("filter",te.placeholder&&te.shouldBlurPlaceholder(te.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Pn],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",v.Udg],height:[2,"height","height",v.Udg],loading:"loading",priority:[2,"priority","priority",v.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",v.L39],fill:[2,"fill","fill",v.L39],placeholder:[2,"placeholder","placeholder",Nt],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[v.OA$]})}return O})();function Pn(O){return"string"==typeof O?O:(0,v.rcV)(O)}function Nt(O){return"string"==typeof O&&"true"!==O&&"false"!==O&&""!==O?O:(0,v.L39)(O)}},274:(pt,ye,C)=>{C.d(ye,{H:()=>ue});var E=C(1397),v=C(8071);function ue(U,K){return(0,v.T)(K)?(0,E.Z)(U,K,1):(0,E.Z)(U,1)}},334:(pt,ye,C)=>{C.d(ye,{GV:()=>ue,Hh:()=>J,Kt:()=>U,WQ:()=>K});var E=C(9310),v=function(q){return q.INCREMENT="Increment Article",q.DECREMENT="Decrememnt Article",q.ADD="Add Article",q.LOAD="Load Articles",q}(v||{});const ue=(0,E.VP)(v.INCREMENT,(0,E.xk)()),U=(0,E.VP)(v.DECREMENT,(0,E.xk)()),K=(0,E.VP)(v.ADD,(0,E.xk)()),J=(0,E.VP)(v.LOAD)},345:(pt,ye,C)=>{C.d(ye,{B7:()=>gn,Bb:()=>hs,W8:()=>Yr,hE:()=>rs,sG:()=>ls,up:()=>Lr});var E=C(177),v=C(4438);class ue extends E.\u0275DomAdapter{supportsDOMEvents=!0}class U extends ue{static makeCurrent(){(0,E.\u0275setRootDomAdapter)(new U)}onAndCancel(Me,de,we,it){return Me.addEventListener(de,we,it),()=>{Me.removeEventListener(de,we,it)}}dispatchEvent(Me,de){Me.dispatchEvent(de)}remove(Me){Me.remove()}createElement(Me,de){return(de=de||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,de){return"window"===de?window:"document"===de?Me:"body"===de?Me.body:null}getBaseHref(Me){const de=function J(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==de?null:function q(he){return new URL(he,document.baseURI).pathname}(de)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,E.\u0275parseCookieValue)(document.cookie,Me)}}let K=null,se=(()=>{class he{build(){return new XMLHttpRequest}static \u0275fac=function(we){return new(we||he)};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac})}return he})();const ee=new v.nKC("");let ne=(()=>{class he{_zone;_plugins;_eventNameToPlugin=new Map;constructor(de,we){this._zone=we,de.forEach(it=>{it.manager=this}),this._plugins=de.slice().reverse()}addEventListener(de,we,it,Ct){return this._findPluginFor(we).addEventListener(de,we,it,Ct)}getZone(){return this._zone}_findPluginFor(de){let we=this._eventNameToPlugin.get(de);if(we)return we;if(we=this._plugins.find(Ct=>Ct.supports(de)),!we)throw new v.wOt(5101,!1);return this._eventNameToPlugin.set(de,we),we}static \u0275fac=function(we){return new(we||he)(v.KVO(ee),v.KVO(v.SKi))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac})}return he})();class Ce{_doc;constructor(Me){this._doc=Me}manager}const Be="ng-app-id";function Fe(he){for(const Me of he)Me.remove()}function Oe(he,Me){const de=Me.createElement("style");return de.textContent=he,de}function qe(he,Me){const de=Me.createElement("link");return de.setAttribute("rel","stylesheet"),de.setAttribute("href",he),de}let He=(()=>{class he{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(de,we,it,Ct={}){this.doc=de,this.appId=we,this.nonce=it,this.isServer=(0,E.isPlatformServer)(Ct),function Te(he,Me,de,we){const it=he.head?.querySelectorAll(`style[${Be}="${Me}"],link[${Be}="${Me}"]`);if(it)for(const Ct of it)Ct.removeAttribute(Be),Ct instanceof HTMLLinkElement?we.set(Ct.href.slice(Ct.href.lastIndexOf("/")+1),{usage:0,elements:[Ct]}):Ct.textContent&&de.set(Ct.textContent,{usage:0,elements:[Ct]})}(de,we,this.inline,this.external),this.hosts.add(de.head)}addStyles(de,we){for(const it of de)this.addUsage(it,this.inline,Oe);we?.forEach(it=>this.addUsage(it,this.external,qe))}removeStyles(de,we){for(const it of de)this.removeUsage(it,this.inline);we?.forEach(it=>this.removeUsage(it,this.external))}addUsage(de,we,it){const Ct=we.get(de);Ct?Ct.usage++:we.set(de,{usage:1,elements:[...this.hosts].map(on=>this.addElement(on,it(de,this.doc)))})}removeUsage(de,we){const it=we.get(de);it&&(it.usage--,it.usage<=0&&(Fe(it.elements),we.delete(de)))}ngOnDestroy(){for(const[,{elements:de}]of[...this.inline,...this.external])Fe(de);this.hosts.clear()}addHost(de){this.hosts.add(de);for(const[we,{elements:it}]of this.inline)it.push(this.addElement(de,Oe(we,this.doc)));for(const[we,{elements:it}]of this.external)it.push(this.addElement(de,qe(we,this.doc)))}removeHost(de){this.hosts.delete(de)}addElement(de,we){return this.nonce&&we.setAttribute("nonce",this.nonce),this.isServer&&we.setAttribute(Be,this.appId),de.appendChild(we)}static \u0275fac=function(we){return new(we||he)(v.KVO(E.DOCUMENT),v.KVO(v.sZ2),v.KVO(v.BIS,8),v.KVO(v.Agw))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac})}return he})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tt=/%COMP%/g,sn=new v.nKC("",{providedIn:"root",factory:()=>!0});function Ze(he,Me){return Me.map(de=>de.replace(Tt,he))}let gn=(()=>{class he{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(de,we,it,Ct,on,Yt,Bn,Tr=null,Or=null){this.eventManager=de,this.sharedStylesHost=we,this.appId=it,this.removeStylesOnCompDestroy=Ct,this.doc=on,this.platformId=Yt,this.ngZone=Bn,this.nonce=Tr,this.tracingService=Or,this.platformIsServer=(0,E.isPlatformServer)(Yt),this.defaultRenderer=new nr(de,on,Bn,this.platformIsServer,this.tracingService)}createRenderer(de,we){if(!de||!we)return this.defaultRenderer;this.platformIsServer&&we.encapsulation===v.gXe.ShadowDom&&(we={...we,encapsulation:v.gXe.Emulated});const it=this.getOrCreateRenderer(de,we);return it instanceof tt?it.applyToHost(de):it instanceof ke&&it.applyStyles(),it}getOrCreateRenderer(de,we){const it=this.rendererByCompId;let Ct=it.get(we.id);if(!Ct){const on=this.doc,Yt=this.ngZone,Bn=this.eventManager,Tr=this.sharedStylesHost,Or=this.removeStylesOnCompDestroy,Fi=this.platformIsServer,ot=this.tracingService;switch(we.encapsulation){case v.gXe.Emulated:Ct=new tt(Bn,Tr,we,this.appId,Or,on,Yt,Fi,ot);break;case v.gXe.ShadowDom:return new Yn(Bn,Tr,de,we,on,Yt,this.nonce,Fi,ot);default:Ct=new ke(Bn,Tr,we,Or,on,Yt,Fi,ot)}it.set(we.id,Ct)}return Ct}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(de){this.rendererByCompId.delete(de)}static \u0275fac=function(we){return new(we||he)(v.KVO(ne),v.KVO(He),v.KVO(v.sZ2),v.KVO(sn),v.KVO(E.DOCUMENT),v.KVO(v.Agw),v.KVO(v.SKi),v.KVO(v.BIS),v.KVO(v.Lf2,8))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac})}return he})();class nr{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(Me,de,we,it,Ct){this.eventManager=Me,this.doc=de,this.ngZone=we,this.platformIsServer=it,this.tracingService=Ct}destroy(){}destroyNode=null;createElement(Me,de){return de?this.doc.createElementNS(Dt[de]||de,Me):this.doc.createElement(Me)}createComment(Me){return this.doc.createComment(Me)}createText(Me){return this.doc.createTextNode(Me)}appendChild(Me,de){(Fr(Me)?Me.content:Me).appendChild(de)}insertBefore(Me,de,we){Me&&(Fr(Me)?Me.content:Me).insertBefore(de,we)}removeChild(Me,de){de.remove()}selectRootElement(Me,de){let we="string"==typeof Me?this.doc.querySelector(Me):Me;if(!we)throw new v.wOt(-5104,!1);return de||(we.textContent=""),we}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,de,we,it){if(it){de=it+":"+de;const Ct=Dt[it];Ct?Me.setAttributeNS(Ct,de,we):Me.setAttribute(de,we)}else Me.setAttribute(de,we)}removeAttribute(Me,de,we){if(we){const it=Dt[we];it?Me.removeAttributeNS(it,de):Me.removeAttribute(`${we}:${de}`)}else Me.removeAttribute(de)}addClass(Me,de){Me.classList.add(de)}removeClass(Me,de){Me.classList.remove(de)}setStyle(Me,de,we,it){it&(v.czy.DashCase|v.czy.Important)?Me.style.setProperty(de,we,it&v.czy.Important?"important":""):Me.style[de]=we}removeStyle(Me,de,we){we&v.czy.DashCase?Me.style.removeProperty(de):Me.style[de]=""}setProperty(Me,de,we){null!=Me&&(Me[de]=we)}setValue(Me,de){Me.nodeValue=de}listen(Me,de,we,it){if("string"==typeof Me&&!(Me=(0,E.\u0275getDOM)().getGlobalEventTarget(this.doc,Me)))throw new Error(`Unsupported event target ${Me} for event ${de}`);let Ct=this.decoratePreventDefault(we);return null!==this.tracingService&&this.tracingService.wrapEventListener&&(Ct=this.tracingService.wrapEventListener(Me,de,Ct)),this.eventManager.addEventListener(Me,de,Ct,it)}decoratePreventDefault(Me){return de=>{if("__ngUnwrap__"===de)return Me;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Me(de)):Me(de))&&de.preventDefault()}}}function Fr(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class Yn extends nr{sharedStylesHost;hostEl;shadowRoot;constructor(Me,de,we,it,Ct,on,Yt,Bn,Tr){super(Me,Ct,on,Bn,Tr),this.sharedStylesHost=de,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Or=it.styles;Or=Ze(it.id,Or);for(const ot of Or){const Ke=document.createElement("style");Yt&&Ke.setAttribute("nonce",Yt),Ke.textContent=ot,this.shadowRoot.appendChild(Ke)}const Fi=it.getExternalStyles?.();if(Fi)for(const ot of Fi){const Ke=qe(ot,Ct);Yt&&Ke.setAttribute("nonce",Yt),this.shadowRoot.appendChild(Ke)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}appendChild(Me,de){return super.appendChild(this.nodeOrShadowRoot(Me),de)}insertBefore(Me,de,we){return super.insertBefore(this.nodeOrShadowRoot(Me),de,we)}removeChild(Me,de){return super.removeChild(null,de)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ke extends nr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(Me,de,we,it,Ct,on,Yt,Bn,Tr){super(Me,Ct,on,Yt,Bn),this.sharedStylesHost=de,this.removeStylesOnCompDestroy=it;let Or=we.styles;this.styles=Tr?Ze(Tr,Or):Or,this.styleUrls=we.getExternalStyles?.(Tr)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class tt extends ke{contentAttr;hostAttr;constructor(Me,de,we,it,Ct,on,Yt,Bn,Tr){const Or=it+"-"+we.id;super(Me,de,we,Ct,on,Yt,Bn,Tr,Or),this.contentAttr=function An(he){return"_ngcontent-%COMP%".replace(Tt,he)}(Or),this.hostAttr=function yt(he){return"_nghost-%COMP%".replace(Tt,he)}(Or)}applyToHost(Me){this.applyStyles(),this.setAttribute(Me,this.hostAttr,"")}createElement(Me,de){const we=super.createElement(Me,de);return super.setAttribute(we,this.contentAttr,""),we}}let st=(()=>{class he extends Ce{constructor(de){super(de)}supports(de){return!0}addEventListener(de,we,it,Ct){return de.addEventListener(we,it,Ct),()=>this.removeEventListener(de,we,it,Ct)}removeEventListener(de,we,it,Ct){return de.removeEventListener(we,it,Ct)}static \u0275fac=function(we){return new(we||he)(v.KVO(E.DOCUMENT))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac})}return he})();const et=["alt","control","meta","shift"],At={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},St={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let Jt=(()=>{class he extends Ce{constructor(de){super(de)}supports(de){return null!=he.parseEventName(de)}addEventListener(de,we,it,Ct){const on=he.parseEventName(we),Yt=he.eventCallback(on.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.\u0275getDOM)().onAndCancel(de,on.domEventName,Yt,Ct))}static parseEventName(de){const we=de.toLowerCase().split("."),it=we.shift();if(0===we.length||"keydown"!==it&&"keyup"!==it)return null;const Ct=he._normalizeKey(we.pop());let on="",Yt=we.indexOf("code");if(Yt>-1&&(we.splice(Yt,1),on="code."),et.forEach(Tr=>{const Or=we.indexOf(Tr);Or>-1&&(we.splice(Or,1),on+=Tr+".")}),on+=Ct,0!=we.length||0===Ct.length)return null;const Bn={};return Bn.domEventName=it,Bn.fullKey=on,Bn}static matchEventFullKeyCode(de,we){let it=At[de.key]||de.key,Ct="";return we.indexOf("code.")>-1&&(it=de.code,Ct="code."),!(null==it||!it)&&(it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),et.forEach(on=>{on!==it&&(0,St[on])(de)&&(Ct+=on+".")}),Ct+=it,Ct===we)}static eventCallback(de,we,it){return Ct=>{he.matchEventFullKeyCode(Ct,de)&&it.runGuarded(()=>we(Ct))}}static _normalizeKey(de){return"esc"===de?"escape":de}static \u0275fac=function(we){return new(we||he)(v.KVO(E.DOCUMENT))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac})}return he})();const ls=(0,v.oH4)(v.fpN,"browser",[{provide:v.Agw,useValue:E.\u0275PLATFORM_BROWSER_ID},{provide:v.PLl,useValue:function wn(){U.makeCurrent()},multi:!0},{provide:E.DOCUMENT,useFactory:function Xn(){return(0,v.TL$)(document),document},deps:[]}]),qr=[{provide:v.e01,useClass:class W{addToWindow(Me){v.JZv.getAngularTestability=(we,it=!0)=>{const Ct=Me.findTestabilityInTree(we,it);if(null==Ct)throw new v.wOt(5103,!1);return Ct},v.JZv.getAllAngularTestabilities=()=>Me.getAllTestabilities(),v.JZv.getAllAngularRootElements=()=>Me.getAllRootElements(),v.JZv.frameworkStabilizers||(v.JZv.frameworkStabilizers=[]),v.JZv.frameworkStabilizers.push(we=>{const it=v.JZv.getAllAngularTestabilities();let Ct=it.length;const on=function(){Ct--,0==Ct&&we()};it.forEach(Yt=>{Yt.whenStable(on)})})}findTestabilityInTree(Me,de,we){return null==de?null:Me.getTestability(de)??(we?(0,E.\u0275getDOM)().isShadowRoot(de)?this.findTestabilityInTree(Me,de.host,!0):this.findTestabilityInTree(Me,de.parentElement,!0):null)}},deps:[]},{provide:v.WHO,useClass:v.NYb,deps:[v.SKi,v.giA,v.e01]},{provide:v.NYb,useClass:v.NYb,deps:[v.SKi,v.giA,v.e01]}],xs=[{provide:v.H8p,useValue:"root"},{provide:v.zcH,useFactory:function kr(){return new v.zcH},deps:[]},{provide:ee,useClass:st,multi:!0,deps:[E.DOCUMENT]},{provide:ee,useClass:Jt,multi:!0,deps:[E.DOCUMENT]},gn,He,ne,{provide:v._9s,useExisting:gn},{provide:E.XhrFactory,useClass:se,deps:[]},[]];let hs=(()=>{class he{constructor(){}static \u0275fac=function(we){return new(we||he)};static \u0275mod=v.$C({type:he});static \u0275inj=v.G2t({providers:[...xs,...qr],imports:[E.CommonModule,v.Hbi]})}return he})(),Yr=(()=>{class he{_doc;_dom;constructor(de){this._doc=de,this._dom=(0,E.\u0275getDOM)()}addTag(de,we=!1){return de?this._getOrCreateElement(de,we):null}addTags(de,we=!1){return de?de.reduce((it,Ct)=>(Ct&&it.push(this._getOrCreateElement(Ct,we)),it),[]):[]}getTag(de){return de&&this._doc.querySelector(`meta[${de}]`)||null}getTags(de){if(!de)return[];const we=this._doc.querySelectorAll(`meta[${de}]`);return we?[].slice.call(we):[]}updateTag(de,we){if(!de)return null;we=we||this._parseSelector(de);const it=this.getTag(we);return it?this._setMetaElementAttributes(de,it):this._getOrCreateElement(de,!0)}removeTag(de){this.removeTagElement(this.getTag(de))}removeTagElement(de){de&&this._dom.remove(de)}_getOrCreateElement(de,we=!1){if(!we){const on=this._parseSelector(de),Yt=this.getTags(on).filter(Bn=>this._containsAttributes(de,Bn))[0];if(void 0!==Yt)return Yt}const it=this._dom.createElement("meta");return this._setMetaElementAttributes(de,it),this._doc.getElementsByTagName("head")[0].appendChild(it),it}_setMetaElementAttributes(de,we){return Object.keys(de).forEach(it=>we.setAttribute(this._getMetaKeyMap(it),de[it])),we}_parseSelector(de){const we=de.name?"name":"property";return`${we}="${de[we]}"`}_containsAttributes(de,we){return Object.keys(de).every(it=>we.getAttribute(this._getMetaKeyMap(it))===de[it])}_getMetaKeyMap(de){return Wn[de]||de}static \u0275fac=function(we){return new(we||he)(v.KVO(E.DOCUMENT))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();const Wn={httpEquiv:"http-equiv"};let rs=(()=>{class he{_doc;constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}static \u0275fac=function(we){return new(we||he)(v.KVO(E.DOCUMENT))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})(),Lr=(()=>{class he{static \u0275fac=function(we){return new(we||he)};static \u0275prov=v.jDH({token:he,factory:function(we){let it=null;return it=we?new(we||he):v.KVO(cr),it},providedIn:"root"})}return he})(),cr=(()=>{class he extends Lr{_doc;constructor(de){super(),this._doc=de}sanitize(de,we){if(null==we)return null;switch(de){case v.WPN.NONE:return we;case v.WPN.HTML:return(0,v.ZF7)(we,"HTML")?(0,v.rcV)(we):(0,v.h9k)(this._doc,String(we)).toString();case v.WPN.STYLE:return(0,v.ZF7)(we,"Style")?(0,v.rcV)(we):we;case v.WPN.SCRIPT:if((0,v.ZF7)(we,"Script"))return(0,v.rcV)(we);throw new v.wOt(5200,!1);case v.WPN.URL:return(0,v.ZF7)(we,"URL")?(0,v.rcV)(we):(0,v.$MX)(String(we));case v.WPN.RESOURCE_URL:if((0,v.ZF7)(we,"ResourceURL"))return(0,v.rcV)(we);throw new v.wOt(5201,!1);default:throw new v.wOt(5202,!1)}}bypassSecurityTrustHtml(de){return(0,v.Kcf)(de)}bypassSecurityTrustStyle(de){return(0,v.cWb)(de)}bypassSecurityTrustScript(de){return(0,v.UyX)(de)}bypassSecurityTrustUrl(de){return(0,v.osQ)(de)}bypassSecurityTrustResourceUrl(de){return(0,v.e5t)(de)}static \u0275fac=function(we){return new(we||he)(v.KVO(E.DOCUMENT))};static \u0275prov=v.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},459:(pt,ye,C)=>{C.d(ye,{c:()=>U,o:()=>J});var E=C(9310),ue=C(965);const U="user_info",K=(0,E.vy)({user:{userId:null,name:null,lastName:null,email:null},error:null},(0,E.on)(ue.bI,(q,{user:W})=>({...q,user:W,error:null})),(0,E.on)(ue.VA,(q,{error:W})=>({...q,user:{userId:null,name:null,lastName:null,email:null},error:W})));function J(q,W){return K(q,W)}},467:(pt,ye,C)=>{function E(ue,U,K,J,q,W,se){try{var ee=ue[W](se),ne=ee.value}catch(Ce){return void K(Ce)}ee.done?U(ne):Promise.resolve(ne).then(J,q)}function v(ue){return function(){var U=this,K=arguments;return new Promise(function(J,q){var W=ue.apply(U,K);function se(ne){E(W,J,q,se,ee,"next",ne)}function ee(ne){E(W,J,q,se,ee,"throw",ne)}se(void 0)})}}C.d(ye,{A:()=>v})},591:(pt,ye,C)=>{function E(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ye,{L:()=>E})},786:(pt,ye,C)=>{C.d(ye,{p:()=>K});var E=C(6354),v=C(8750),ue=C(9974),U=C(4360);function K(J,q){return q?W=>W.pipe(K((se,ee)=>(0,v.Tg)(J(se,ee)).pipe((0,E.T)((ne,Ce)=>q(se,ne,ee,Ce))))):(0,ue.N)((W,se)=>{let ee=0,ne=null,Ce=!1;W.subscribe((0,U._)(se,Be=>{ne||(ne=(0,U._)(se,void 0,()=>{ne=null,Ce&&se.complete()}),(0,v.Tg)(J(Be,ee++)).subscribe(ne))},()=>{Ce=!0,!ne&&se.complete()}))})}},884:(pt,ye,C)=>{C.d(ye,{nX:()=>So,j5:()=>kn,wF:()=>ws,L6:()=>Xt,Z:()=>zi,b:()=>Y,Ix:()=>In,Wk:()=>Ur,wQ:()=>Pt,$T:()=>Ur,iI:()=>oa,n3:()=>nn});var E=C(4438),v=C(1985),ue=C(8071),K=C(2806),J=C(7673),q=C(4412),W=C(4572),se=C(9350),ee=C(8793),ne=C(9030),Ce=C(1203),Be=C(8810),Fe=C(983),Oe=C(17),Te=C(1413),qe=C(8359),He=C(177),Dt=C(6354),Tt=C(5558),lt=C(6697),Xe=C(9172),Vt=C(5964),kt=C(1397),qt=C(1594),jt=C(274),sn=C(8141),An=C(9437),yt=C(2816),Ze=C(9901),Ut=C(7018),gn=C(5109),nr=C(980),xr=C(9898),as=C(6977),Fr=C(6365),Yn=C(345);const ke="primary",tt=Symbol("RouteTitle");class st{params;constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const A=this.params[x];return Array.isArray(A)?A[0]:A}return null}getAll(x){if(this.has(x)){const A=this.params[x];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function et(S){return new st(S)}function At(S,x,A){const R=A.path.split("/");if(R.length>S.length||"full"===A.pathMatch&&(x.hasChildren()||R.length<S.length))return null;const G={};for(let le=0;le<R.length;le++){const pe=R[le],at=S[le];if(":"===pe[0])G[pe.substring(1)]=at;else if(pe!==at.path)return null}return{consumed:S.slice(0,R.length),posParams:G}}function Jt(S,x){const A=S?On(S):void 0,R=x?On(x):void 0;if(!A||!R||A.length!=R.length)return!1;let G;for(let le=0;le<A.length;le++)if(G=A[le],!rr(S[G],x[G]))return!1;return!0}function On(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function rr(S,x){if(Array.isArray(S)&&Array.isArray(x)){if(S.length!==x.length)return!1;const A=[...S].sort(),R=[...x].sort();return A.every((G,le)=>R[le]===G)}return S===x}function fn(S){return S.length>0?S[S.length-1]:null}function Un(S){return function U(S){return!!S&&(S instanceof v.c||(0,ue.T)(S.lift)&&(0,ue.T)(S.subscribe))}(S)?S:(0,E.jNT)(S)?(0,K.H)(Promise.resolve(S)):(0,J.of)(S)}const wn={exact:function ls(S,x,A){if(!vr(S.segments,x.segments)||!hs(S.segments,x.segments,A)||S.numberOfChildren!==x.numberOfChildren)return!1;for(const R in x.children)if(!S.children[R]||!ls(S.children[R],x.children[R],A))return!1;return!0},subset:qr},kr={exact:function ir(S,x){return Jt(S,x)},subset:function Ir(S,x){return Object.keys(x).length<=Object.keys(S).length&&Object.keys(x).every(A=>rr(S[A],x[A]))},ignored:()=>!0};function Xn(S,x,A){return wn[A.paths](S.root,x.root,A.matrixParams)&&kr[A.queryParams](S.queryParams,x.queryParams)&&!("exact"===A.fragment&&S.fragment!==x.fragment)}function qr(S,x,A){return xs(S,x,x.segments,A)}function xs(S,x,A,R){if(S.segments.length>A.length){const G=S.segments.slice(0,A.length);return!(!vr(G,A)||x.hasChildren()||!hs(G,A,R))}if(S.segments.length===A.length){if(!vr(S.segments,A)||!hs(S.segments,A,R))return!1;for(const G in x.children)if(!S.children[G]||!qr(S.children[G],x.children[G],R))return!1;return!0}{const G=A.slice(0,S.segments.length),le=A.slice(S.segments.length);return!!(vr(S.segments,G)&&hs(S.segments,G,R)&&S.children[ke])&&xs(S.children[ke],x,le,R)}}function hs(S,x,A){return x.every((R,G)=>kr[A](S[G].parameters,R.parameters))}class Yr{root;queryParams;fragment;_queryParamMap;constructor(x=new Wn([],{}),A={},R=null){this.root=x,this.queryParams=A,this.fragment=R}get queryParamMap(){return this._queryParamMap??=et(this.queryParams),this._queryParamMap}toString(){return fs.serialize(this)}}class Wn{segments;children;parent=null;constructor(x,A){this.segments=x,this.children=A,Object.values(A).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yi(this)}}class rs{path;parameters;_parameterMap;constructor(x,A){this.path=x,this.parameters=A}get parameterMap(){return this._parameterMap??=et(this.parameters),this._parameterMap}toString(){return Lr(this)}}function vr(S,x){return S.length===x.length&&S.every((A,R)=>A.path===x[R].path)}let Zr=(()=>{class S{static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:()=>new Ps,providedIn:"root"})}return S})();class Ps{parse(x){const A=new Qe(x);return new Yr(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(x){const A=`/${dn(x.root,!0)}`,R=function Jr(S){const x=Object.entries(S).map(([A,R])=>Array.isArray(R)?R.map(G=>`${Tn(A)}=${Tn(G)}`).join("&"):`${Tn(A)}=${Tn(R)}`).filter(A=>A);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${A}${R}${"string"==typeof x.fragment?`#${function ri(S){return encodeURI(S)}(x.fragment)}`:""}`}}const fs=new Ps;function yi(S){return S.segments.map(x=>Lr(x)).join("/")}function dn(S,x){if(!S.hasChildren())return yi(S);if(x){const A=S.children[ke]?dn(S.children[ke],!1):"",R=[];return Object.entries(S.children).forEach(([G,le])=>{G!==ke&&R.push(`${G}:${dn(le,!1)}`)}),R.length>0?`${A}(${R.join("//")})`:A}{const A=function cs(S,x){let A=[];return Object.entries(S.children).forEach(([R,G])=>{R===ke&&(A=A.concat(x(G,R)))}),Object.entries(S.children).forEach(([R,G])=>{R!==ke&&(A=A.concat(x(G,R)))}),A}(S,(R,G)=>G===ke?[dn(S.children[ke],!1)]:[`${G}:${dn(R,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[ke]?`${yi(S)}/${A[0]}`:`${yi(S)}/(${A.join("//")})`}}function Zs(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tn(S){return Zs(S).replace(/%3B/gi,";")}function Ks(S){return Zs(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ps(S){return decodeURIComponent(S)}function Jn(S){return ps(S.replace(/\+/g,"%20"))}function Lr(S){return`${Ks(S.path)}${function cr(S){return Object.entries(S).map(([x,A])=>`;${Ks(x)}=${Ks(A)}`).join("")}(S.parameters)}`}const ss=/^[^\/()?;#]+/;function qn(S){const x=S.match(ss);return x?x[0]:""}const mo=/^[^\/()?;=#]+/,zs=/^[^=?&#]+/,be=/^[^&#]+/;class Qe{url;remaining;constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(x.length>0||Object.keys(A).length>0)&&(R[ke]=new Wn(x,A)),R}parseSegment(){const x=qn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new E.wOt(4009,!1);return this.capture(x),new rs(ps(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const A=function _r(S){const x=S.match(mo);return x?x[0]:""}(this.remaining);if(!A)return;this.capture(A);let R="";if(this.consumeOptional("=")){const G=qn(this.remaining);G&&(R=G,this.capture(R))}x[ps(A)]=ps(R)}parseQueryParam(x){const A=function Re(S){const x=S.match(zs);return x?x[0]:""}(this.remaining);if(!A)return;this.capture(A);let R="";if(this.consumeOptional("=")){const pe=function Ve(S){const x=S.match(be);return x?x[0]:""}(this.remaining);pe&&(R=pe,this.capture(R))}const G=Jn(A),le=Jn(R);if(x.hasOwnProperty(G)){let pe=x[G];Array.isArray(pe)||(pe=[pe],x[G]=pe),pe.push(le)}else x[G]=le}parseParens(x){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=qn(this.remaining),G=this.remaining[R.length];if("/"!==G&&")"!==G&&";"!==G)throw new E.wOt(4010,!1);let le;R.indexOf(":")>-1?(le=R.slice(0,R.indexOf(":")),this.capture(le),this.capture(":")):x&&(le=ke);const pe=this.parseChildren();A[le]=1===Object.keys(pe).length?pe[ke]:new Wn([],pe),this.consumeOptional("//")}return A}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new E.wOt(4011,!1)}}function he(S){return S.segments.length>0?new Wn([],{[ke]:S}):S}function Me(S){const x={};for(const[R,G]of Object.entries(S.children)){const le=Me(G);if(R===ke&&0===le.segments.length&&le.hasChildren())for(const[pe,at]of Object.entries(le.children))x[pe]=at;else(le.segments.length>0||le.hasChildren())&&(x[R]=le)}return function de(S){if(1===S.numberOfChildren&&S.children[ke]){const x=S.children[ke];return new Wn(S.segments.concat(x.segments),x.children)}return S}(new Wn(S.segments,x))}function we(S){return S instanceof Yr}function Ct(S){let x;const G=he(function A(le){const pe={};for(const We of le.children){const $t=A(We);pe[We.outlet]=$t}const at=new Wn(le.url,pe);return le===S&&(x=at),at}(S.root));return x??G}function on(S,x,A,R){let G=S;for(;G.parent;)G=G.parent;if(0===x.length)return Tr(G,G,G,A,R);const le=function ot(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Fi(!0,0,S);let x=0,A=!1;const R=S.reduce((G,le,pe)=>{if("object"==typeof le&&null!=le){if(le.outlets){const at={};return Object.entries(le.outlets).forEach(([We,$t])=>{at[We]="string"==typeof $t?$t.split("/"):$t}),[...G,{outlets:at}]}if(le.segmentPath)return[...G,le.segmentPath]}return"string"!=typeof le?[...G,le]:0===pe?(le.split("/").forEach((at,We)=>{0==We&&"."===at||(0==We&&""===at?A=!0:".."===at?x++:""!=at&&G.push(at))}),G):[...G,le]},[]);return new Fi(A,x,R)}(x);if(le.toRoot())return Tr(G,G,new Wn([],{}),A,R);const pe=function wt(S,x,A){if(S.isAbsolute)return new Ke(x,!0,0);if(!A)return new Ke(x,!1,NaN);if(null===A.parent)return new Ke(A,!0,0);const R=Yt(S.commands[0])?0:1;return function vt(S,x,A){let R=S,G=x,le=A;for(;le>G;){if(le-=G,R=R.parent,!R)throw new E.wOt(4005,!1);G=R.segments.length}return new Ke(R,!1,G-le)}(A,A.segments.length-1+R,S.numberOfDoubleDots)}(le,G,S),at=pe.processChildren?Kn(pe.segmentGroup,pe.index,le.commands):Cn(pe.segmentGroup,pe.index,le.commands);return Tr(G,pe.segmentGroup,at,A,R)}function Yt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Bn(S){return"object"==typeof S&&null!=S&&S.outlets}function Tr(S,x,A,R,G){let pe,le={};R&&Object.entries(R).forEach(([We,$t])=>{le[We]=Array.isArray($t)?$t.map(Gn=>`${Gn}`):`${$t}`}),pe=S===x?A:Or(S,x,A);const at=he(Me(pe));return new Yr(at,le,G)}function Or(S,x,A){const R={};return Object.entries(S.children).forEach(([G,le])=>{R[G]=le===x?A:Or(le,x,A)}),new Wn(S.segments,R)}class Fi{isAbsolute;numberOfDoubleDots;commands;constructor(x,A,R){if(this.isAbsolute=x,this.numberOfDoubleDots=A,this.commands=R,x&&R.length>0&&Yt(R[0]))throw new E.wOt(4003,!1);const G=R.find(Bn);if(G&&G!==fn(R))throw new E.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ke{segmentGroup;processChildren;index;constructor(x,A,R){this.segmentGroup=x,this.processChildren=A,this.index=R}}function Cn(S,x,A){if(S??=new Wn([],{}),0===S.segments.length&&S.hasChildren())return Kn(S,x,A);const R=function es(S,x,A){let R=0,G=x;const le={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(R>=A.length)return le;const pe=S.segments[G],at=A[R];if(Bn(at))break;const We=`${at}`,$t=R<A.length-1?A[R+1]:null;if(G>0&&void 0===We)break;if(We&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!vi(We,$t,pe))return le;R+=2}else{if(!vi(We,{},pe))return le;R++}G++}return{match:!0,pathIndex:G,commandIndex:R}}(S,x,A),G=A.slice(R.commandIndex);if(R.match&&R.pathIndex<S.segments.length){const le=new Wn(S.segments.slice(0,R.pathIndex),{});return le.children[ke]=new Wn(S.segments.slice(R.pathIndex),S.children),Kn(le,0,G)}return R.match&&0===G.length?new Wn(S.segments,{}):R.match&&!S.hasChildren()?Vr(S,x,A):R.match?Kn(S,0,G):Vr(S,x,A)}function Kn(S,x,A){if(0===A.length)return new Wn(S.segments,{});{const R=function Sn(S){return Bn(S[0])?S[0].outlets:{[ke]:S}}(A),G={};if(Object.keys(R).some(le=>le!==ke)&&S.children[ke]&&1===S.numberOfChildren&&0===S.children[ke].segments.length){const le=Kn(S.children[ke],x,A);return new Wn(S.segments,le.children)}return Object.entries(R).forEach(([le,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(G[le]=Cn(S.children[le],x,pe))}),Object.entries(S.children).forEach(([le,pe])=>{void 0===R[le]&&(G[le]=pe)}),new Wn(S.segments,G)}}function Vr(S,x,A){const R=S.segments.slice(0,x);let G=0;for(;G<A.length;){const le=A[G];if(Bn(le)){const We=jn(le.outlets);return new Wn(R,We)}if(0===G&&Yt(A[0])){R.push(new rs(S.segments[x].path,oo(A[0]))),G++;continue}const pe=Bn(le)?le.outlets[ke]:`${le}`,at=G<A.length-1?A[G+1]:null;pe&&at&&Yt(at)?(R.push(new rs(pe,oo(at))),G+=2):(R.push(new rs(pe,{})),G++)}return new Wn(R,{})}function jn(S){const x={};return Object.entries(S).forEach(([A,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(x[A]=Vr(new Wn([],{}),0,R))}),x}function oo(S){const x={};return Object.entries(S).forEach(([A,R])=>x[A]=`${R}`),x}function vi(S,x,A){return S==A.path&&Jt(x,A.parameters)}const zr="imperative";var En=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(En||{});class gs{id;url;constructor(x,A){this.id=x,this.url=A}}class zi extends gs{type=En.NavigationStart;navigationTrigger;restoredState;constructor(x,A,R="imperative",G=null){super(x,A),this.navigationTrigger=R,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ws extends gs{urlAfterRedirects;type=En.NavigationEnd;constructor(x,A,R){super(x,A),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var mn=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(mn||{}),er=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(er||{});class kn extends gs{reason;code;type=En.NavigationCancel;constructor(x,A,R,G){super(x,A),this.reason=R,this.code=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cs extends gs{reason;code;type=En.NavigationSkipped;constructor(x,A,R,G){super(x,A),this.reason=R,this.code=G}}class Xt extends gs{error;target;type=En.NavigationError;constructor(x,A,R,G){super(x,A),this.error=R,this.target=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gi extends gs{urlAfterRedirects;state;type=En.RoutesRecognized;constructor(x,A,R,G){super(x,A),this.urlAfterRedirects=R,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends gs{urlAfterRedirects;state;type=En.GuardsCheckStart;constructor(x,A,R,G){super(x,A),this.urlAfterRedirects=R,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends gs{urlAfterRedirects;state;shouldActivate;type=En.GuardsCheckEnd;constructor(x,A,R,G,le){super(x,A),this.urlAfterRedirects=R,this.state=G,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yo extends gs{urlAfterRedirects;state;type=En.ResolveStart;constructor(x,A,R,G){super(x,A),this.urlAfterRedirects=R,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends gs{urlAfterRedirects;state;type=En.ResolveEnd;constructor(x,A,R,G){super(x,A),this.urlAfterRedirects=R,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn{route;type=En.RouteConfigLoadStart;constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oe{route;type=En.RouteConfigLoadEnd;constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ie{snapshot;type=En.ChildActivationStart;constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _e{snapshot;type=En.ChildActivationEnd;constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{snapshot;type=En.ActivationStart;constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bt{snapshot;type=En.ActivationEnd;constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{routerEvent;position;anchor;type=En.Scroll;constructor(x,A,R){this.routerEvent=x,this.position=A,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lt{}class _n{url;navigationBehaviorOptions;constructor(x,A){this.url=x,this.navigationBehaviorOptions=A}}function Kt(S){return S.outlet||ke}function Is(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let x=S.parent;x;x=x.parent){const A=x.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class xn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Is(this.route?.snapshot)??this.rootInjector}constructor(x){this.rootInjector=x,this.children=new Qr(this.rootInjector)}}let Qr=(()=>{class S{rootInjector;contexts=new Map;constructor(A){this.rootInjector=A}onChildOutletCreated(A,R){const G=this.getOrCreateContext(A);G.outlet=R,this.contexts.set(A,G)}onChildOutletDestroyed(A){const R=this.getContext(A);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let R=this.getContext(A);return R||(R=new xn(this.rootInjector),this.contexts.set(A,R)),R}getContext(A){return this.contexts.get(A)||null}static \u0275fac=function(R){return new(R||S)(E.KVO(E.uvJ))};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();class sr{_root;constructor(x){this._root=x}get root(){return this._root.value}parent(x){const A=this.pathFromRoot(x);return A.length>1?A[A.length-2]:null}children(x){const A=Dr(x,this._root);return A?A.children.map(R=>R.value):[]}firstChild(x){const A=Dr(x,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(x){const A=ki(x,this._root);return A.length<2?[]:A[A.length-2].children.map(G=>G.value).filter(G=>G!==x)}pathFromRoot(x){return ki(x,this._root).map(A=>A.value)}}function Dr(S,x){if(S===x.value)return x;for(const A of x.children){const R=Dr(S,A);if(R)return R}return null}function ki(S,x){if(S===x.value)return[x];for(const A of x.children){const R=ki(S,A);if(R.length)return R.unshift(x),R}return[]}class Wr{value;children;constructor(x,A){this.value=x,this.children=A}toString(){return`TreeNode(${this.value})`}}function Zo(S){const x={};return S&&S.children.forEach(A=>x[A.value.outlet]=A),x}class ao extends sr{snapshot;constructor(x,A){super(x),this.snapshot=A,co(this,x)}toString(){return this.snapshot.toString()}}function Lo(S){const x=function lo(S){const le=new Vo([],{},{},"",{},ke,S,null,{});return new Fs("",new Wr(le,[]))}(S),A=new q.t([new rs("",{})]),R=new q.t({}),G=new q.t({}),le=new q.t({}),pe=new q.t(""),at=new So(A,R,le,pe,G,ke,S,x.root);return at.snapshot=x.root,new ao(new Wr(at,[]),x)}class So{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(x,A,R,G,le,pe,at,We){this.urlSubject=x,this.paramsSubject=A,this.queryParamsSubject=R,this.fragmentSubject=G,this.dataSubject=le,this.outlet=pe,this.component=at,this._futureSnapshot=We,this.title=this.dataSubject?.pipe((0,Dt.T)($t=>$t[tt]))??(0,J.of)(void 0),this.url=x,this.params=A,this.queryParams=R,this.fragment=G,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Dt.T)(x=>et(x))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Dt.T)(x=>et(x))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wo(S,x,A="emptyOnly"){let R;const{routeConfig:G}=S;return R=null===x||"always"!==A&&""!==G?.path&&(x.component||x.routeConfig?.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...S._resolvedData??{}}}:{params:{...x.params,...S.params},data:{...x.data,...S.data},resolve:{...S.data,...x.data,...G?.data,...S._resolvedData}},G&&si(G)&&(R.resolve[tt]=G.title),R}class Vo{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[tt]}constructor(x,A,R,G,le,pe,at,We,$t){this.url=x,this.params=A,this.queryParams=R,this.fragment=G,this.data=le,this.outlet=pe,this.component=at,this.routeConfig=We,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=et(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=et(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fs extends sr{url;constructor(x,A){super(A),this.url=x,co(this,A)}toString(){return Ra(this._root)}}function co(S,x){x.value._routerState=S,x.children.forEach(A=>co(S,A))}function Ra(S){const x=S.children.length>0?` { ${S.children.map(Ra).join(", ")} } `:"";return`${S.value}${x}`}function Qi(S){if(S.snapshot){const x=S.snapshot,A=S._futureSnapshot;S.snapshot=A,Jt(x.queryParams,A.queryParams)||S.queryParamsSubject.next(A.queryParams),x.fragment!==A.fragment&&S.fragmentSubject.next(A.fragment),Jt(x.params,A.params)||S.paramsSubject.next(A.params),function St(S,x){if(S.length!==x.length)return!1;for(let A=0;A<S.length;++A)if(!Jt(S[A],x[A]))return!1;return!0}(x.url,A.url)||S.urlSubject.next(A.url),Jt(x.data,A.data)||S.dataSubject.next(A.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Jo(S,x){const A=Jt(S.params,x.params)&&function Bt(S,x){return vr(S,x)&&S.every((A,R)=>Jt(A.parameters,x[R].parameters))}(S.url,x.url);return A&&!(!S.parent!=!x.parent)&&(!S.parent||Jo(S.parent,x.parent))}function si(S){return"string"==typeof S.title||null===S.title}const ts=new E.nKC("");let nn=(()=>{class S{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ke;activateEvents=new E.bkB;deactivateEvents=new E.bkB;attachEvents=new E.bkB;detachEvents=new E.bkB;routerOutletData=(0,E.hFB)(void 0);parentContexts=(0,E.WQX)(Qr);location=(0,E.WQX)(E.c1b);changeDetector=(0,E.WQX)(E.gRc);inputBinder=(0,E.WQX)(vo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(A){if(A.name){const{firstChange:R,previousValue:G}=A.name;if(R)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E.wOt(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,R){this.activated=A,this._activatedRoute=R,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,R){if(this.isActivated)throw new E.wOt(4013,!1);this._activatedRoute=A;const G=this.location,pe=A.snapshot.component,at=this.parentContexts.getOrCreateContext(this.name).children,We=new bo(A,at,G.injector,this.routerOutletData);this.activated=G.createComponent(pe,{index:G.length,injector:We,environmentInjector:R}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(R){return new(R||S)};static \u0275dir=E.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[E.OA$]})}return S})();class bo{route;childContexts;parent;outletData;__ngOutletInjector(x){return new bo(this.route,this.childContexts,x,this.outletData)}constructor(x,A,R,G){this.route=x,this.childContexts=A,this.parent=R,this.outletData=G}get(x,A){return x===So?this.route:x===Qr?this.childContexts:x===ts?this.outletData:this.parent.get(x,A)}}const vo=new E.nKC("");let Li=(()=>{class S{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:R}=A,G=(0,W.z)([R.queryParams,R.params,R.data]).pipe((0,Tt.n)(([le,pe,at],We)=>(at={...le,...pe,...at},0===We?(0,J.of)(at):Promise.resolve(at)))).subscribe(le=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(A);const pe=(0,E.HJs)(R.component);if(pe)for(const{templateName:at}of pe.inputs)A.activatedComponentRef.setInput(at,le[at]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,G)}static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac})}return S})();function ii(S,x,A){if(A&&S.shouldReuseRoute(x.value,A.value.snapshot)){const R=A.value;R._futureSnapshot=x.value;const G=function Da(S,x,A){return x.children.map(R=>{for(const G of A.children)if(S.shouldReuseRoute(R.value,G.value.snapshot))return ii(S,R,G);return ii(S,R)})}(S,x,A);return new Wr(R,G)}{if(S.shouldAttach(x.value)){const le=S.retrieve(x.value);if(null!==le){const pe=le.route;return pe.value._futureSnapshot=x.value,pe.children=x.children.map(at=>ii(S,at)),pe}}const R=function Ln(S){return new So(new q.t(S.url),new q.t(S.params),new q.t(S.queryParams),new q.t(S.fragment),new q.t(S.data),S.outlet,S.component,S)}(x.value),G=x.children.map(le=>ii(S,le));return new Wr(R,G)}}class Ko{redirectTo;navigationBehaviorOptions;constructor(x,A){this.redirectTo=x,this.navigationBehaviorOptions=A}}const ea="ngNavigationCancelingError";function Ts(S,x){const{redirectTo:A,navigationBehaviorOptions:R}=we(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,G=wr(!1,mn.Redirect);return G.url=A,G.navigationBehaviorOptions=R,G}function wr(S,x){const A=new Error(`NavigationCancelingError: ${S||""}`);return A[ea]=!0,A.cancellationCode=x,A}function Mo(S){return!!S&&S[ea]}class Ao{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(x,A,R,G,le){this.routeReuseStrategy=x,this.futureState=A,this.currState=R,this.forwardEvent=G,this.inputBindingEnabled=le}activate(x){const A=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,R,x),Qi(this.futureState.root),this.activateChildRoutes(A,R,x)}deactivateChildRoutes(x,A,R){const G=Zo(A);x.children.forEach(le=>{const pe=le.value.outlet;this.deactivateRoutes(le,G[pe],R),delete G[pe]}),Object.values(G).forEach(le=>{this.deactivateRouteAndItsChildren(le,R)})}deactivateRoutes(x,A,R){const G=x.value,le=A?A.value:null;if(G===le)if(G.component){const pe=R.getContext(G.outlet);pe&&this.deactivateChildRoutes(x,A,pe.children)}else this.deactivateChildRoutes(x,A,R);else le&&this.deactivateRouteAndItsChildren(A,R)}deactivateRouteAndItsChildren(x,A){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,A):this.deactivateRouteAndOutlet(x,A)}detachAndStoreRouteSubtree(x,A){const R=A.getContext(x.value.outlet),G=R&&x.value.component?R.children:A,le=Zo(x);for(const pe of Object.values(le))this.deactivateRouteAndItsChildren(pe,G);if(R&&R.outlet){const pe=R.outlet.detach(),at=R.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:pe,route:x,contexts:at})}}deactivateRouteAndOutlet(x,A){const R=A.getContext(x.value.outlet),G=R&&x.value.component?R.children:A,le=Zo(x);for(const pe of Object.values(le))this.deactivateRouteAndItsChildren(pe,G);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(x,A,R){const G=Zo(A);x.children.forEach(le=>{this.activateRoutes(le,G[le.value.outlet],R),this.forwardEvent(new bt(le.value.snapshot))}),x.children.length&&this.forwardEvent(new _e(x.value.snapshot))}activateRoutes(x,A,R){const G=x.value,le=A?A.value:null;if(Qi(G),G===le)if(G.component){const pe=R.getOrCreateContext(G.outlet);this.activateChildRoutes(x,A,pe.children)}else this.activateChildRoutes(x,A,R);else if(G.component){const pe=R.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const at=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),pe.children.onOutletReAttached(at.contexts),pe.attachRef=at.componentRef,pe.route=at.route.value,pe.outlet&&pe.outlet.attach(at.componentRef,at.route.value),Qi(at.route.value),this.activateChildRoutes(x,null,pe.children)}else pe.attachRef=null,pe.route=G,pe.outlet&&pe.outlet.activateWith(G,pe.injector),this.activateChildRoutes(x,null,pe.children)}else this.activateChildRoutes(x,null,R)}}class Xi{path;route;constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class ai{component;route;constructor(x,A){this.component=x,this.route=A}}function ta(S,x,A){const R=S._root;return xa(R,x?x._root:null,A,[R.value])}function Ui(S,x){const A=Symbol(),R=x.get(S,A);return R===A?"function"!=typeof S||(0,E.LfX)(S)?x.get(S):S:R}function xa(S,x,A,R,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=Zo(x);return S.children.forEach(pe=>{(function li(S,x,A,R,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=S.value,pe=x?x.value:null,at=A?A.getContext(S.value.outlet):null;if(pe&&le.routeConfig===pe.routeConfig){const We=function Bi(S,x,A){if("function"==typeof A)return A(S,x);switch(A){case"pathParamsChange":return!vr(S.url,x.url);case"pathParamsOrQueryParamsChange":return!vr(S.url,x.url)||!Jt(S.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jo(S,x)||!Jt(S.queryParams,x.queryParams);default:return!Jo(S,x)}}(pe,le,le.routeConfig.runGuardsAndResolvers);We?G.canActivateChecks.push(new Xi(R)):(le.data=pe.data,le._resolvedData=pe._resolvedData),xa(S,x,le.component?at?at.children:null:A,R,G),We&&at&&at.outlet&&at.outlet.isActivated&&G.canDeactivateChecks.push(new ai(at.outlet.component,pe))}else pe&&ci(x,at,G),G.canActivateChecks.push(new Xi(R)),xa(S,null,le.component?at?at.children:null:A,R,G)})(pe,le[pe.value.outlet],A,R.concat([pe.value]),G),delete le[pe.value.outlet]}),Object.entries(le).forEach(([pe,at])=>ci(at,A.getContext(pe),G)),G}function ci(S,x,A){const R=Zo(S),G=S.value;Object.entries(R).forEach(([le,pe])=>{ci(pe,G.component?x?x.children.getContext(le):null:x,A)}),A.canDeactivateChecks.push(new ai(G.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,G))}function Pa(S){return"function"==typeof S}function Ca(S){return S instanceof se.G||"EmptyError"===S?.name}const ms=Symbol("INITIAL_VALUE");function Mn(){return(0,Tt.n)(S=>(0,W.z)(S.map(x=>x.pipe((0,lt.s)(1),(0,Xe.Z)(ms)))).pipe((0,Dt.T)(x=>{for(const A of x)if(!0!==A){if(A===ms)return ms;if(!1===A||ys(A))return A}return!0}),(0,Vt.p)(x=>x!==ms),(0,lt.s)(1)))}function ys(S){return we(S)||S instanceof Ko}function Se(S){return(0,Ce.F)((0,sn.M)(x=>{if("boolean"!=typeof x)throw Ts(0,x)}),(0,Dt.T)(x=>!0===x))}class zn{segmentGroup;constructor(x){this.segmentGroup=x||null}}class gi extends Error{urlTree;constructor(x){super(),this.urlTree=x}}function Di(S){return(0,Be.$)(new zn(S))}class Yi{urlSerializer;urlTree;constructor(x,A){this.urlSerializer=x,this.urlTree=A}lineralizeSegments(x,A){let R=[],G=A.root;for(;;){if(R=R.concat(G.segments),0===G.numberOfChildren)return(0,J.of)(R);if(G.numberOfChildren>1||!G.children[ke])return(0,Be.$)(new E.wOt(4e3,!1));G=G.children[ke]}}applyRedirectCommands(x,A,R,G,le){if("string"!=typeof A){const at=A,{queryParams:We,fragment:$t,routeConfig:Gn,url:Hn,outlet:Xr,params:Xs,data:Oi,title:ba}=G,qo=(0,E.N4e)(le,()=>at({params:Xs,data:Oi,queryParams:We,fragment:$t,routeConfig:Gn,url:Hn,outlet:Xr,title:ba}));if(qo instanceof Yr)throw new gi(qo);A=qo}const pe=this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),x,R);if("/"===A[0])throw new gi(pe);return pe}applyRedirectCreateUrlTree(x,A,R,G){const le=this.createSegmentGroup(x,A.root,R,G);return new Yr(le,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(x,A){const R={};return Object.entries(x).forEach(([G,le])=>{if("string"==typeof le&&":"===le[0]){const at=le.substring(1);R[G]=A[at]}else R[G]=le}),R}createSegmentGroup(x,A,R,G){const le=this.createSegments(x,A.segments,R,G);let pe={};return Object.entries(A.children).forEach(([at,We])=>{pe[at]=this.createSegmentGroup(x,We,R,G)}),new Wn(le,pe)}createSegments(x,A,R,G){return A.map(le=>":"===le.path[0]?this.findPosParam(x,le,G):this.findOrReturn(le,R))}findPosParam(x,A,R){const G=R[A.path.substring(1)];if(!G)throw new E.wOt(4001,!1);return G}findOrReturn(x,A){let R=0;for(const G of A){if(G.path===x.path)return A.splice(R),G;R++}return x}}const Nl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rl(S,x,A,R,G){const le=Os(S,x,A);return le.matched?(R=function Je(S,x){return S.providers&&!S._injector&&(S._injector=(0,E.Ol2)(S.providers,x,`Route: ${S.path}`)),S._injector??x}(x,R),function an(S,x,A,R){const G=x.canMatch;if(!G||0===G.length)return(0,J.of)(!0);const le=G.map(pe=>{const at=Ui(pe,S);return Un(function wa(S){return S&&Pa(S.canMatch)}(at)?at.canMatch(x,A):(0,E.N4e)(S,()=>at(x,A)))});return(0,J.of)(le).pipe(Mn(),Se())}(R,x,A).pipe((0,Dt.T)(pe=>!0===pe?le:{...Nl}))):(0,J.of)(le)}function Os(S,x,A){if("**"===x.path)return function bs(S){return{matched:!0,parameters:S.length>0?fn(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(A);if(""===x.path)return"full"===x.pathMatch&&(S.hasChildren()||A.length>0)?{...Nl}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const G=(x.matcher||At)(A,S,x);if(!G)return{...Nl};const le={};Object.entries(G.posParams??{}).forEach(([at,We])=>{le[at]=We.path});const pe=G.consumed.length>0?{...le,...G.consumed[G.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:G.consumed,remainingSegments:A.slice(G.consumed.length),parameters:pe,positionalParamSegments:G.posParams??{}}}function zo(S,x,A,R){return A.length>0&&function Mi(S,x,A){return A.some(R=>mi(S,x,R)&&Kt(R)!==ke)}(S,A,R)?{segmentGroup:new Wn(x,Ro(R,new Wn(A,S.children))),slicedSegments:[]}:0===A.length&&function $i(S,x,A){return A.some(R=>mi(S,x,R))}(S,A,R)?{segmentGroup:new Wn(S.segments,ra(S,A,R,S.children)),slicedSegments:A}:{segmentGroup:new Wn(S.segments,S.children),slicedSegments:A}}function ra(S,x,A,R){const G={};for(const le of A)if(mi(S,x,le)&&!R[Kt(le)]){const pe=new Wn([],{});G[Kt(le)]=pe}return{...R,...G}}function Ro(S,x){const A={};A[ke]=x;for(const R of S)if(""===R.path&&Kt(R)!==ke){const G=new Wn([],{});A[Kt(R)]=G}return A}function mi(S,x,A){return(!(S.hasChildren()||x.length>0)||"full"!==A.pathMatch)&&""===A.path}class tc{}class Do{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(x,A,R,G,le,pe,at){this.injector=x,this.configLoader=A,this.rootComponentType=R,this.config=G,this.urlTree=le,this.paramsInheritanceStrategy=pe,this.urlSerializer=at,this.applyRedirects=new Yi(this.urlSerializer,this.urlTree)}noMatchError(x){return new E.wOt(4002,`'${x.segmentGroup}'`)}recognize(){const x=zo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(x).pipe((0,Dt.T)(({children:A,rootSnapshot:R})=>{const G=new Wr(R,A),le=new Fs("",G),pe=function it(S,x,A=null,R=null){return on(Ct(S),x,A,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(pe),{state:le,tree:pe}}))}match(x){const A=new Vo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,x,ke,A).pipe((0,Dt.T)(R=>({children:R,rootSnapshot:A})),(0,An.W)(R=>{if(R instanceof gi)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof zn?this.noMatchError(R):R}))}processSegmentGroup(x,A,R,G,le){return 0===R.segments.length&&R.hasChildren()?this.processChildren(x,A,R,le):this.processSegment(x,A,R,R.segments,G,!0,le).pipe((0,Dt.T)(pe=>pe instanceof Wr?[pe]:[]))}processChildren(x,A,R,G){const le=[];for(const pe of Object.keys(R.children))"primary"===pe?le.unshift(pe):le.push(pe);return(0,K.H)(le).pipe((0,jt.H)(pe=>{const at=R.children[pe],We=function $n(S,x){const A=S.filter(R=>Kt(R)===x);return A.push(...S.filter(R=>Kt(R)!==x)),A}(A,pe);return this.processSegmentGroup(x,We,at,pe,G)}),(0,yt.S)((pe,at)=>(pe.push(...at),pe)),(0,Ze.U)(null),(0,Ut.H)(),(0,kt.Z)(pe=>{if(null===pe)return Di(R);const at=Ns(pe);return function Ia(S){S.sort((x,A)=>x.value.outlet===ke?-1:A.value.outlet===ke?1:x.value.outlet.localeCompare(A.value.outlet))}(at),(0,J.of)(at)}))}processSegment(x,A,R,G,le,pe,at){return(0,K.H)(A).pipe((0,jt.H)(We=>this.processSegmentAgainstRoute(We._injector??x,A,We,R,G,le,pe,at).pipe((0,An.W)($t=>{if($t instanceof zn)return(0,J.of)(null);throw $t}))),(0,qt.$)(We=>!!We),(0,An.W)(We=>{if(Ca(We))return function ar(S,x,A){return 0===x.length&&!S.children[A]}(R,G,le)?(0,J.of)(new tc):Di(R);throw We}))}processSegmentAgainstRoute(x,A,R,G,le,pe,at,We){return Kt(R)===pe||pe!==ke&&mi(G,le,R)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(x,G,R,le,pe,We):this.allowRedirects&&at?this.expandSegmentAgainstRouteUsingRedirect(x,G,A,R,le,pe,We):Di(G):Di(G)}expandSegmentAgainstRouteUsingRedirect(x,A,R,G,le,pe,at){const{matched:We,parameters:$t,consumedSegments:Gn,positionalParamSegments:Hn,remainingSegments:Xr}=Os(A,G,le);if(!We)return Di(A);"string"==typeof G.redirectTo&&"/"===G.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Xs=new Vo(le,$t,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Go(G),Kt(G),G.component??G._loadedComponent??null,G,Es(G)),Oi=Wo(Xs,at,this.paramsInheritanceStrategy);Xs.params=Object.freeze(Oi.params),Xs.data=Object.freeze(Oi.data);const ba=this.applyRedirects.applyRedirectCommands(Gn,G.redirectTo,Hn,Xs,x);return this.applyRedirects.lineralizeSegments(G,ba).pipe((0,kt.Z)(qo=>this.processSegment(x,R,A,qo.concat(Xr),pe,!1,at)))}matchSegmentAgainstRoute(x,A,R,G,le,pe){const at=Rl(A,R,G,x);return"**"===R.path&&(A.children={}),at.pipe((0,Tt.n)(We=>We.matched?this.getChildConfig(x=R._injector??x,R,G).pipe((0,Tt.n)(({routes:$t})=>{const Gn=R._loadedInjector??x,{parameters:Hn,consumedSegments:Xr,remainingSegments:Xs}=We,Oi=new Vo(Xr,Hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Go(R),Kt(R),R.component??R._loadedComponent??null,R,Es(R)),ba=Wo(Oi,pe,this.paramsInheritanceStrategy);Oi.params=Object.freeze(ba.params),Oi.data=Object.freeze(ba.data);const{segmentGroup:qo,slicedSegments:Wi}=zo(A,Xr,Xs,$t);if(0===Wi.length&&qo.hasChildren())return this.processChildren(Gn,$t,qo,Oi).pipe((0,Dt.T)(Qa=>new Wr(Oi,Qa)));if(0===$t.length&&0===Wi.length)return(0,J.of)(new Wr(Oi,[]));const ic=Kt(R)===le;return this.processSegment(Gn,$t,qo,Wi,ic?ke:le,!0,Oi).pipe((0,Dt.T)(Qa=>new Wr(Oi,Qa instanceof Wr?[Qa]:[])))})):Di(A)))}getChildConfig(x,A,R){return A.children?(0,J.of)({routes:A.children,injector:x}):A.loadChildren?void 0!==A._loadedRoutes?(0,J.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function ie(S,x,A,R){const G=x.canLoad;if(void 0===G||0===G.length)return(0,J.of)(!0);const le=G.map(pe=>{const at=Ui(pe,S);return Un(function ji(S){return S&&Pa(S.canLoad)}(at)?at.canLoad(x,A):(0,E.N4e)(S,()=>at(x,A)))});return(0,J.of)(le).pipe(Mn(),Se())}(x,A,R).pipe((0,kt.Z)(G=>G?this.configLoader.loadChildren(x,A).pipe((0,sn.M)(le=>{A._loadedRoutes=le.routes,A._loadedInjector=le.injector})):function No(){return(0,Be.$)(wr(!1,mn.GuardRejected))}())):(0,J.of)({routes:[],injector:x})}}function br(S){const x=S.value.routeConfig;return x&&""===x.path}function Ns(S){const x=[],A=new Set;for(const R of S){if(!br(R)){x.push(R);continue}const G=x.find(le=>R.value.routeConfig===le.value.routeConfig);void 0!==G?(G.children.push(...R.children),A.add(G)):x.push(R)}for(const R of A){const G=Ns(R.children);x.push(new Wr(R.value,G))}return x.filter(R=>!A.has(R))}function Go(S){return S.data||{}}function Es(S){return S.resolve||{}}function Xo(S){const x=S.children.map(A=>Xo(A)).flat();return[S,...x]}function sa(S){return(0,Tt.n)(x=>{const A=S(x);return A?(0,K.H)(A).pipe((0,Dt.T)(()=>x)):(0,J.of)(x)})}let xl=(()=>{class S{buildTitle(A){let R,G=A.root;for(;void 0!==G;)R=this.getResolvedTitleForRoute(G)??R,G=G.children.find(le=>le.outlet===ke);return R}getResolvedTitleForRoute(A){return A.data[tt]}static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:()=>(0,E.WQX)(fu),providedIn:"root"})}return S})(),fu=(()=>{class S extends xl{title;constructor(A){super(),this.title=A}updateTitle(A){const R=this.buildTitle(A);void 0!==R&&this.title.setTitle(R)}static \u0275fac=function(R){return new(R||S)(E.KVO(Yn.hE))};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Ta=new E.nKC("",{providedIn:"root",factory:()=>({})});let Pl=(()=>{class S{static \u0275fac=function(R){return new(R||S)};static \u0275cmp=E.VBU({type:S,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(R,G){1&R&&E.nrm(0,"router-outlet")},dependencies:[nn],encapsulation:2})}return S})();function Sa(S){const x=S.children&&S.children.map(Sa),A=x?{...S,children:x}:{...S};return!A.component&&!A.loadComponent&&(x||A.loadChildren)&&A.outlet&&A.outlet!==ke&&(A.component=Pl),A}const Nr=new E.nKC("");let Ft=(()=>{class S{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,E.WQX)(E.Ql9);loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,J.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const R=Un(A.loadComponent()).pipe((0,Dt.T)(Hi),(0,sn.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=le}),(0,nr.j)(()=>{this.componentLoaders.delete(A)})),G=new Oe.G(R,()=>new Te.B).pipe((0,xr.B)());return this.componentLoaders.set(A,G),G}loadChildren(A,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,J.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const le=function Dn(S,x,A,R){return Un(S.loadChildren()).pipe((0,Dt.T)(Hi),(0,kt.Z)(G=>G instanceof E.Co$||Array.isArray(G)?(0,J.of)(G):(0,K.H)(x.compileModuleAsync(G))),(0,Dt.T)(G=>{R&&R(S);let le,pe,at=!1;return Array.isArray(G)?(pe=G,!0):(le=G.create(A).injector,pe=le.get(Nr,[],{optional:!0,self:!0}).flat()),{routes:pe.map(Sa),injector:le}}))}(R,this.compiler,A,this.onLoadEndListener).pipe((0,nr.j)(()=>{this.childrenLoaders.delete(R)})),pe=new Oe.G(le,()=>new Te.B).pipe((0,xr.B)());return this.childrenLoaders.set(R,pe),pe}static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Hi(S){return function Gs(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ms=(()=>{class S{static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:()=>(0,E.WQX)(Zi),providedIn:"root"})}return S})(),Zi=(()=>{class S{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,R){return A}static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const is=new E.nKC(""),Cr=new E.nKC("");function gr(S,x,A){const R=S.get(Cr),G=S.get(He.DOCUMENT);return S.get(E.SKi).runOutsideAngular(()=>{if(!G.startViewTransition||R.skipNextTransition)return R.skipNextTransition=!1,new Promise($t=>setTimeout($t));let le;const pe=new Promise($t=>{le=$t}),at=G.startViewTransition(()=>(le(),function Ii(S){return new Promise(x=>{(0,E.mal)({read:()=>setTimeout(x)},{injector:S})})}(S))),{onViewTransitionCreated:We}=R;return We&&(0,E.N4e)(S,()=>We({transition:at,from:x,to:A})),pe})}const Pn=new E.nKC("");let Nt=(()=>{class S{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Te.B;transitionAbortSubject=new Te.B;configLoader=(0,E.WQX)(Ft);environmentInjector=(0,E.WQX)(E.uvJ);destroyRef=(0,E.WQX)(E.abz);urlSerializer=(0,E.WQX)(Zr);rootContexts=(0,E.WQX)(Qr);location=(0,E.WQX)(He.Location);inputBindingEnabled=null!==(0,E.WQX)(vo,{optional:!0});titleStrategy=(0,E.WQX)(xl);options=(0,E.WQX)(Ta,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,E.WQX)(Ms);createViewTransition=(0,E.WQX)(is,{optional:!0});navigationErrorHandler=(0,E.WQX)(Pn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,J.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=G=>this.events.next(new oe(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Nn(G)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(A){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...A,id:R})}setupNavigations(A,R,G){return this.transitions=new q.t({id:0,currentUrlTree:R,currentRawUrl:R,extractedUrl:this.urlHandlingStrategy.extract(R),urlAfterRedirects:this.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:zr,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Vt.p)(le=>0!==le.id),(0,Dt.T)(le=>({...le,extractedUrl:this.urlHandlingStrategy.extract(le.rawUrl)})),(0,Tt.n)(le=>{let pe=!1,at=!1;return(0,J.of)(le).pipe((0,Tt.n)(We=>{if(this.navigationId>le.id)return this.cancelNavigationTransition(le,"",mn.SupersededByNewNavigation),Fe.w;this.currentTransition=le,this.currentNavigation={id:We.id,initialUrl:We.rawUrl,extractedUrl:We.extractedUrl,targetBrowserUrl:"string"==typeof We.extras.browserUrl?this.urlSerializer.parse(We.extras.browserUrl):We.extras.browserUrl,trigger:We.source,extras:We.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const $t=!A.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!$t&&"reload"!==(We.extras.onSameUrlNavigation??A.onSameUrlNavigation)){const Hn="";return this.events.next(new Cs(We.id,this.urlSerializer.serialize(We.rawUrl),Hn,er.IgnoredSameUrlNavigation)),We.resolve(!1),Fe.w}if(this.urlHandlingStrategy.shouldProcessUrl(We.rawUrl))return(0,J.of)(We).pipe((0,Tt.n)(Hn=>{const Xr=this.transitions?.getValue();return this.events.next(new zi(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),Hn.source,Hn.restoredState)),Xr!==this.transitions?.getValue()?Fe.w:Promise.resolve(Hn)}),function pr(S,x,A,R,G,le){return(0,kt.Z)(pe=>function fr(S,x,A,R,G,le,pe="emptyOnly"){return new Do(S,x,A,R,G,pe,le).recognize()}(S,x,A,R,pe.extractedUrl,G,le).pipe((0,Dt.T)(({state:at,tree:We})=>({...pe,targetSnapshot:at,urlAfterRedirects:We}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,sn.M)(Hn=>{le.targetSnapshot=Hn.targetSnapshot,le.urlAfterRedirects=Hn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Hn.urlAfterRedirects};const Xr=new Gi(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(Xr)}));if($t&&this.urlHandlingStrategy.shouldProcessUrl(We.currentRawUrl)){const{id:Hn,extractedUrl:Xr,source:Xs,restoredState:Oi,extras:ba}=We,qo=new zi(Hn,this.urlSerializer.serialize(Xr),Xs,Oi);this.events.next(qo);const Wi=Lo(this.rootComponentType).snapshot;return this.currentTransition=le={...We,targetSnapshot:Wi,urlAfterRedirects:Xr,extras:{...ba,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Xr,(0,J.of)(le)}{const Hn="";return this.events.next(new Cs(We.id,this.urlSerializer.serialize(We.extractedUrl),Hn,er.IgnoredByUrlHandlingStrategy)),We.resolve(!1),Fe.w}}),(0,sn.M)(We=>{const $t=new _i(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next($t)}),(0,Dt.T)(We=>(this.currentTransition=le={...We,guards:ta(We.targetSnapshot,We.currentSnapshot,this.rootContexts)},le)),function _s(S,x){return(0,kt.Z)(A=>{const{targetSnapshot:R,currentSnapshot:G,guards:{canActivateChecks:le,canDeactivateChecks:pe}}=A;return 0===pe.length&&0===le.length?(0,J.of)({...A,guardsResult:!0}):function or(S,x,A,R){return(0,K.H)(S).pipe((0,kt.Z)(G=>function P(S,x,A,R,G){const le=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,J.of)(!0);const pe=le.map(at=>{const We=Is(x)??G,$t=Ui(at,We);return Un(function Eo(S){return S&&Pa(S.canDeactivate)}($t)?$t.canDeactivate(S,x,A,R):(0,E.N4e)(We,()=>$t(S,x,A,R))).pipe((0,qt.$)())});return(0,J.of)(pe).pipe(Mn())}(G.component,G.route,A,x,R)),(0,qt.$)(G=>!0!==G,!0))}(pe,R,G,S).pipe((0,kt.Z)(at=>at&&function na(S){return"boolean"==typeof S}(at)?function Oo(S,x,A,R){return(0,K.H)(x).pipe((0,jt.H)(G=>(0,ee.x)(function pl(S,x){return null!==S&&x&&x(new Ie(S)),(0,J.of)(!0)}(G.route.parent,R),function Fa(S,x){return null!==S&&x&&x(new Ge(S)),(0,J.of)(!0)}(G.route,R),function z(S,x,A){const R=x[x.length-1],le=x.slice(0,x.length-1).reverse().map(pe=>function Ss(S){const x=S.routeConfig?S.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:S,guards:x}:null}(pe)).filter(pe=>null!==pe).map(pe=>(0,ne.v)(()=>{const at=pe.guards.map(We=>{const $t=Is(pe.node)??A,Gn=Ui(We,$t);return Un(function ks(S){return S&&Pa(S.canActivateChild)}(Gn)?Gn.canActivateChild(R,S):(0,E.N4e)($t,()=>Gn(R,S))).pipe((0,qt.$)())});return(0,J.of)(at).pipe(Mn())}));return(0,J.of)(le).pipe(Mn())}(S,G.path,A),function H(S,x,A){const R=x.routeConfig?x.routeConfig.canActivate:null;if(!R||0===R.length)return(0,J.of)(!0);const G=R.map(le=>(0,ne.v)(()=>{const pe=Is(x)??A,at=Ui(le,pe);return Un(function Sr(S){return S&&Pa(S.canActivate)}(at)?at.canActivate(x,S):(0,E.N4e)(pe,()=>at(x,S))).pipe((0,qt.$)())}));return(0,J.of)(G).pipe(Mn())}(S,G.route,A))),(0,qt.$)(G=>!0!==G,!0))}(R,le,S,x):(0,J.of)(at)),(0,Dt.T)(at=>({...A,guardsResult:at})))})}(this.environmentInjector,We=>this.events.next(We)),(0,sn.M)(We=>{if(le.guardsResult=We.guardsResult,We.guardsResult&&"boolean"!=typeof We.guardsResult)throw Ts(0,We.guardsResult);const $t=new Ei(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot,!!We.guardsResult);this.events.next($t)}),(0,Vt.p)(We=>!!We.guardsResult||(this.cancelNavigationTransition(We,"",mn.GuardRejected),!1)),sa(We=>{if(We.guards.canActivateChecks.length)return(0,J.of)(We).pipe((0,sn.M)($t=>{const Gn=new yo($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Gn)}),(0,Tt.n)($t=>{let Gn=!1;return(0,J.of)($t).pipe(function Qo(S,x){return(0,kt.Z)(A=>{const{targetSnapshot:R,guards:{canActivateChecks:G}}=A;if(!G.length)return(0,J.of)(A);const le=new Set(G.map(We=>We.route)),pe=new Set;for(const We of le)if(!pe.has(We))for(const $t of Xo(We))pe.add($t);let at=0;return(0,K.H)(pe).pipe((0,jt.H)(We=>le.has(We)?function Uo(S,x,A,R){const G=S.routeConfig,le=S._resolve;return void 0!==G?.title&&!si(G)&&(le[tt]=G.title),function ka(S,x,A,R){const G=On(S);if(0===G.length)return(0,J.of)({});const le={};return(0,K.H)(G).pipe((0,kt.Z)(pe=>function nc(S,x,A,R){const G=Is(x)??R,le=Ui(S,G);return Un(le.resolve?le.resolve(x,A):(0,E.N4e)(G,()=>le(x,A)))}(S[pe],x,A,R).pipe((0,qt.$)(),(0,sn.M)(at=>{if(at instanceof Ko)throw Ts(new Ps,at);le[pe]=at}))),(0,gn.o)(1),(0,Dt.T)(()=>le),(0,An.W)(pe=>Ca(pe)?Fe.w:(0,Be.$)(pe)))}(le,S,x,R).pipe((0,Dt.T)(pe=>(S._resolvedData=pe,S.data=Wo(S,S.parent,A).resolve,null)))}(We,R,S,x):(We.data=Wo(We,We.parent,S).resolve,(0,J.of)(void 0))),(0,sn.M)(()=>at++),(0,gn.o)(1),(0,kt.Z)(We=>at===pe.size?(0,J.of)(A):Fe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,sn.M)({next:()=>Gn=!0,complete:()=>{Gn||this.cancelNavigationTransition($t,"",mn.NoDataFromResolver)}}))}),(0,sn.M)($t=>{const Gn=new Gr($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Gn)}))}),sa(We=>{const $t=Gn=>{const Hn=[];Gn.routeConfig?.loadComponent&&!Gn.routeConfig._loadedComponent&&Hn.push(this.configLoader.loadComponent(Gn.routeConfig).pipe((0,sn.M)(Xr=>{Gn.component=Xr}),(0,Dt.T)(()=>{})));for(const Xr of Gn.children)Hn.push(...$t(Xr));return Hn};return(0,W.z)($t(We.targetSnapshot.root)).pipe((0,Ze.U)(null),(0,lt.s)(1))}),sa(()=>this.afterPreactivation()),(0,Tt.n)(()=>{const{currentSnapshot:We,targetSnapshot:$t}=le,Gn=this.createViewTransition?.(this.environmentInjector,We.root,$t.root);return Gn?(0,K.H)(Gn).pipe((0,Dt.T)(()=>le)):(0,J.of)(le)}),(0,Dt.T)(We=>{const $t=function Vi(S,x,A){const R=ii(S,x._root,A?A._root:void 0);return new ao(R,x)}(A.routeReuseStrategy,We.targetSnapshot,We.currentRouterState);return this.currentTransition=le={...We,targetRouterState:$t},this.currentNavigation.targetRouterState=$t,le}),(0,sn.M)(()=>{this.events.next(new Lt)}),((S,x,A,R)=>(0,Dt.T)(G=>(new Ao(x,G.targetRouterState,G.currentRouterState,A,R).activate(S),G)))(this.rootContexts,A.routeReuseStrategy,We=>this.events.next(We),this.inputBindingEnabled),(0,lt.s)(1),(0,sn.M)({next:We=>{pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ws(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects))),this.titleStrategy?.updateTitle(We.targetRouterState.snapshot),We.resolve(!0)},complete:()=>{pe=!0}}),(0,as.Q)(this.transitionAbortSubject.pipe((0,sn.M)(We=>{throw We}))),(0,nr.j)(()=>{!pe&&!at&&this.cancelNavigationTransition(le,"",mn.SupersededByNewNavigation),this.currentTransition?.id===le.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,An.W)(We=>{if(this.destroyed)return le.resolve(!1),Fe.w;if(at=!0,Mo(We))this.events.next(new kn(le.id,this.urlSerializer.serialize(le.extractedUrl),We.message,We.cancellationCode)),function Js(S){return Mo(S)&&we(S.url)}(We)?this.events.next(new _n(We.url,We.navigationBehaviorOptions)):le.resolve(!1);else{const $t=new Xt(le.id,this.urlSerializer.serialize(le.extractedUrl),We,le.targetSnapshot??void 0);try{const Gn=(0,E.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.($t));if(!(Gn instanceof Ko))throw this.events.next($t),We;{const{message:Hn,cancellationCode:Xr}=Ts(0,Gn);this.events.next(new kn(le.id,this.urlSerializer.serialize(le.extractedUrl),Hn,Xr)),this.events.next(new _n(Gn.redirectTo,Gn.navigationBehaviorOptions))}}catch(Gn){this.options.resolveNavigationPromiseOnError?le.resolve(!1):le.reject(Gn)}}return Fe.w}))}))}cancelNavigationTransition(A,R,G){const le=new kn(A.id,this.urlSerializer.serialize(A.extractedUrl),R,G);this.events.next(le),A.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const A=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),R=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return A.toString()!==R?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function O(S){return S!==zr}let Y=(()=>{class S{static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:()=>(0,E.WQX)(V),providedIn:"root"})}return S})();class F{shouldDetach(x){return!1}store(x,A){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,A){return x.routeConfig===A.routeConfig}}let V=(()=>{class S extends F{static \u0275fac=(()=>{let A;return function(G){return(A||(A=E.xGo(S)))(G||S)}})();static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),te=(()=>{class S{static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:()=>(0,E.WQX)(Ye),providedIn:"root"})}return S})(),Ye=(()=>{class S extends te{location=(0,E.WQX)(He.Location);urlSerializer=(0,E.WQX)(Zr);options=(0,E.WQX)(Ta,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=(0,E.WQX)(Ms);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Yr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Lo(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(A){return this.location.subscribe(R=>{"popstate"===R.type&&A(R.url,R.state)})}handleRouterEvent(A,R){if(A instanceof zi)this.stateMemento=this.createStateMemento();else if(A instanceof Cs)this.rawUrlTree=R.initialUrl;else if(A instanceof Gi){if("eager"===this.urlUpdateStrategy&&!R.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl);this.setBrowserUrl(R.targetBrowserUrl??G,R)}}else A instanceof Lt?(this.currentUrlTree=R.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&!R.extras.skipLocationChange&&this.setBrowserUrl(R.targetBrowserUrl??this.rawUrlTree,R)):A instanceof kn&&(A.code===mn.GuardRejected||A.code===mn.NoDataFromResolver)?this.restoreHistory(R):A instanceof Xt?this.restoreHistory(R,!0):A instanceof ws&&(this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId)}setBrowserUrl(A,R){const G=A instanceof Yr?this.urlSerializer.serialize(A):A;if(this.location.isCurrentPathEqualTo(G)||R.extras.replaceUrl){const pe={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(G,"",pe)}else{const le={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(G,"",le)}}restoreHistory(A,R=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===A.finalUrl&&0===le&&(this.resetState(A),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,R){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:R}:{navigationId:A}}static \u0275fac=(()=>{let A;return function(G){return(A||(A=E.xGo(S)))(G||S)}})();static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function Le(S,x){S.events.pipe((0,Vt.p)(A=>A instanceof ws||A instanceof kn||A instanceof Xt||A instanceof Cs),(0,Dt.T)(A=>A instanceof ws||A instanceof Cs?0:A instanceof kn&&(A.code===mn.Redirect||A.code===mn.SupersededByNewNavigation)?2:1),(0,Vt.p)(A=>2!==A),(0,lt.s)(1)).subscribe(()=>{x()})}const xe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,E.WQX)(E.H3F);stateManager=(0,E.WQX)(te);options=(0,E.WQX)(Ta,{optional:!0})||{};pendingTasks=(0,E.WQX)(E.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,E.WQX)(Nt);urlSerializer=(0,E.WQX)(Zr);location=(0,E.WQX)(He.Location);urlHandlingStrategy=(0,E.WQX)(Ms);_events=new Te.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,E.WQX)(Y);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,E.WQX)(Nr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,E.WQX)(vo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:A=>{this.console.warn(A)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe.yU;subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(R=>{try{const G=this.navigationTransitions.currentTransition,le=this.navigationTransitions.currentNavigation;if(null!==G&&null!==le)if(this.stateManager.handleRouterEvent(R,le),R instanceof kn&&R.code!==mn.Redirect&&R.code!==mn.SupersededByNewNavigation)this.navigated=!0;else if(R instanceof ws)this.navigated=!0;else if(R instanceof _n){const pe=R.navigationBehaviorOptions,at=this.urlHandlingStrategy.merge(R.url,G.currentRawUrl),We={browserUrl:G.extras.browserUrl,info:G.extras.info,skipLocationChange:G.extras.skipLocationChange,replaceUrl:G.extras.replaceUrl||"eager"===this.urlUpdateStrategy||O(G.source),...pe};this.scheduleNavigation(at,zr,null,We,{resolve:G.resolve,reject:G.reject,promise:G.promise})}(function Vn(S){return!(S instanceof Lt||S instanceof _n)})(R)&&this._events.next(R)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((A,R)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(A,"popstate",R)},0)})}navigateToSyncWithBrowser(A,R,G){const le={replaceUrl:!0},pe=G?.navigationId?G:null;if(G){const We={...G};delete We.navigationId,delete We.\u0275routerPageId,0!==Object.keys(We).length&&(le.state=We)}const at=this.parseUrl(A);this.scheduleNavigation(at,R,pe,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(Sa),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,R={}){const{relativeTo:G,queryParams:le,fragment:pe,queryParamsHandling:at,preserveFragment:We}=R,$t=We?this.currentUrlTree.fragment:pe;let Hn,Gn=null;switch(at??this.options.defaultQueryParamsHandling){case"merge":Gn={...this.currentUrlTree.queryParams,...le};break;case"preserve":Gn=this.currentUrlTree.queryParams;break;default:Gn=le||null}null!==Gn&&(Gn=this.removeEmptyProps(Gn));try{Hn=Ct(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||"/"!==A[0][0])&&(A=[]),Hn=this.currentUrlTree.root}return on(Hn,A,Gn,$t??null)}navigateByUrl(A,R={skipLocationChange:!1}){const G=we(A)?A:this.parseUrl(A),le=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(le,zr,null,R)}navigate(A,R={skipLocationChange:!1}){return function Mr(S){for(let x=0;x<S.length;x++)if(null==S[x])throw new E.wOt(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,R),R)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){try{return this.urlSerializer.parse(A)}catch{return this.urlSerializer.parse("/")}}isActive(A,R){let G;if(G=!0===R?{...xe}:!1===R?{...dt}:R,we(A))return Xn(this.currentUrlTree,A,G);const le=this.parseUrl(A);return Xn(this.currentUrlTree,le,G)}removeEmptyProps(A){return Object.entries(A).reduce((R,[G,le])=>(null!=le&&(R[G]=le),R),{})}scheduleNavigation(A,R,G,le,pe){if(this.disposed)return Promise.resolve(!1);let at,We,$t;pe?(at=pe.resolve,We=pe.reject,$t=pe.promise):$t=new Promise((Hn,Xr)=>{at=Hn,We=Xr});const Gn=this.pendingTasks.add();return Le(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gn))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:A,extras:le,resolve:at,reject:We,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Hn=>Promise.reject(Hn))}static \u0275fac=function(R){return new(R||S)};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Ur=(()=>{class S{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Te.B;constructor(A,R,G,le,pe,at){this.router=A,this.route=R,this.tabIndexAttribute=G,this.renderer=le,this.el=pe,this.locationStrategy=at;const We=pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===We||"area"===We,this.isAnchorElement?this.subscription=A.events.subscribe($t=>{$t instanceof ws&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(A){null==A?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=we(A)||Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0"))}onClick(A,R,G,le,pe){const at=this.urlTree;return!!(null===at||this.isAnchorElement&&(0!==A||R||G||le||pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(at,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const A=this.urlTree;this.href=null!==A&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(A)):null;const R=null===this.href?null:(0,E.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(A,R){const G=this.renderer,le=this.el.nativeElement;null!==R?G.setAttribute(le,A,R):G.removeAttribute(le,A)}get urlTree(){return null===this.routerLinkInput?null:we(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(R){return new(R||S)(E.rXU(In),E.rXU(So),E.kS0("tabindex"),E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(He.LocationStrategy))};static \u0275dir=E.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,G){1&R&&E.bIt("click",function(pe){return G.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&R&&E.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",E.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",E.L39],replaceUrl:[2,"replaceUrl","replaceUrl",E.L39],routerLink:"routerLink"},features:[E.OA$]})}return S})(),Pt=(()=>{class S{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new E.bkB;constructor(A,R,G,le,pe){this.router=A,this.element=R,this.renderer=G,this.cdr=le,this.link=pe,this.routerEventsSubscription=A.events.subscribe(at=>{at instanceof ws&&this.update()})}ngAfterContentInit(){(0,J.of)(this.links.changes,(0,J.of)(null)).pipe((0,Fr.U)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),this.link].filter(R=>!!R).map(R=>R.onChanges);this.linkInputChangesSubscription=(0,K.H)(A).pipe((0,Fr.U)()).subscribe(R=>{this._isActive!==this.isLinkActive(this.router)(R)&&this.update()})}set routerLinkActive(A){const R=Array.isArray(A)?A:A.split(" ");this.classes=R.filter(G=>!!G)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const A=this.hasActiveLinks();this.classes.forEach(R=>{A?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==A&&(this._isActive=A,this.cdr.markForCheck(),this.isActiveChange.emit(A))})}isLinkActive(A){const R=function Ls(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>{const le=G.urlTree;return!!le&&A.isActive(le,R)}}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.links.some(A)}static \u0275fac=function(R){return new(R||S)(E.rXU(In),E.rXU(E.aKT),E.rXU(E.sFG),E.rXU(E.gRc),E.rXU(Ur,8))};static \u0275dir=E.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(R,G,le){if(1&R&&E.wni(le,Ur,5),2&R){let pe;E.mGM(pe=E.lsd())&&(G.links=pe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[E.OA$]})}return S})();class Vs{}let Ai=(()=>{class S{router;injector;preloadingStrategy;loader;subscription;constructor(A,R,G,le,pe){this.router=A,this.injector=G,this.preloadingStrategy=le,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Vt.p)(A=>A instanceof ws),(0,jt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,R){const G=[];for(const le of R){le.providers&&!le._injector&&(le._injector=(0,E.Ol2)(le.providers,A,`Route: ${le.path}`));const pe=le._injector??A,at=le._loadedInjector??pe;(le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent)&&G.push(this.preloadConfig(pe,le)),(le.children||le._loadedRoutes)&&G.push(this.processRoutes(at,le.children??le._loadedRoutes))}return(0,K.H)(G).pipe((0,Fr.U)())}preloadConfig(A,R){return this.preloadingStrategy.preload(R,()=>{let G;G=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(A,R):(0,J.of)(null);const le=G.pipe((0,kt.Z)(pe=>null===pe?(0,J.of)(void 0):(R._loadedRoutes=pe.routes,R._loadedInjector=pe.injector,this.processRoutes(pe.injector??A,pe.routes))));if(R.loadComponent&&!R._loadedComponent){const pe=this.loader.loadComponent(R);return(0,K.H)([le,pe]).pipe((0,Fr.U)())}return le})}static \u0275fac=function(R){return new(R||S)(E.KVO(In),E.KVO(E.Ql9),E.KVO(E.uvJ),E.KVO(Vs),E.KVO(Ft))};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const ns=new E.nKC("");let Br=(()=>{class S{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(A,R,G,le,pe={}){this.urlSerializer=A,this.transitions=R,this.viewportScroller=G,this.zone=le,this.options=pe,pe.scrollPositionRestoration||="disabled",pe.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof ws?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Cs&&A.code===er.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Rt&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rt(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(R){E.QTQ()};static \u0275prov=E.jDH({token:S,factory:S.\u0275fac})}return S})();function Us(S,x){return{\u0275kind:S,\u0275providers:x}}function Pc(){const S=(0,E.WQX)(E.zZn);return x=>{const A=S.get(E.o8S);if(x!==A.components[0])return;const R=S.get(In),G=S.get(os);1===S.get(en)&&R.initialNavigation(),S.get(Hu,null,E.$GK.Optional)?.setUpPreloading(),S.get(ns,null,E.$GK.Optional)?.init(),R.resetRootComponentType(A.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const os=new E.nKC("",{factory:()=>new Te.B}),en=new E.nKC("",{providedIn:"root",factory:()=>1}),Hu=new E.nKC("");function kl(S){return Us(0,[{provide:Hu,useExisting:Ai},{provide:Vs,useExisting:S}])}function Qs(S){return Us(9,[{provide:is,useValue:gr},{provide:Cr,useValue:{skipNextTransition:!!S?.skipInitialTransition,...S}}])}const La=[He.Location,{provide:Zr,useClass:Ps},In,Qr,{provide:So,useFactory:function Bo(S){return S.routerState.root},deps:[In]},Ft,[]];let oa=(()=>{class S{constructor(){}static forRoot(A,R){return{ngModule:S,providers:[La,[],{provide:Nr,multi:!0,useValue:A},[],R?.errorHandler?{provide:Pn,useValue:R.errorHandler}:[],{provide:Ta,useValue:R||{}},R?.useHash?{provide:He.LocationStrategy,useClass:He.HashLocationStrategy}:{provide:He.LocationStrategy,useClass:He.PathLocationStrategy},{provide:ns,useFactory:()=>{const S=(0,E.WQX)(He.ViewportScroller),x=(0,E.WQX)(E.SKi),A=(0,E.WQX)(Ta),R=(0,E.WQX)(Nt),G=(0,E.WQX)(Zr);return A.scrollOffset&&S.setOffset(A.scrollOffset),new Br(G,R,S,x,A)}},R?.preloadingStrategy?kl(R.preloadingStrategy).\u0275providers:[],R?.initialNavigation?Ku(R):[],R?.bindToComponentInputs?Us(8,[Li,{provide:vo,useExisting:Li}]).\u0275providers:[],R?.enableViewTransitions?Qs().\u0275providers:[],[{provide:nl,useFactory:Pc},{provide:E.iLQ,multi:!0,useExisting:nl}]]}}static forChild(A){return{ngModule:S,providers:[{provide:Nr,multi:!0,useValue:A}]}}static \u0275fac=function(R){return new(R||S)};static \u0275mod=E.$C({type:S});static \u0275inj=E.G2t({})}return S})();function Ku(S){return["disabled"===S.initialNavigation?Us(3,[{provide:E.hnV,multi:!0,useFactory:()=>{const x=(0,E.WQX)(In);return()=>{x.setUpLocationChangeListener()}}},{provide:en,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Us(2,[{provide:en,useValue:0},{provide:E.hnV,multi:!0,deps:[E.zZn],useFactory:x=>{const A=x.get(He.LOCATION_INITIALIZED,Promise.resolve());return()=>A.then(()=>new Promise(R=>{const G=x.get(In),le=x.get(os);Le(G,()=>{R(!0)}),x.get(Nt).afterPreactivation=()=>(R(!0),le.closed?(0,J.of)(void 0):le),G.initialNavigation()}))}}]).\u0275providers:[]]}const nl=new E.nKC("")},941:(pt,ye,C)=>{C.d(ye,{Q:()=>U});var E=C(5225),v=C(9974),ue=C(4360);function U(K,J=0){return(0,v.N)((q,W)=>{q.subscribe((0,ue._)(W,se=>(0,E.N)(W,K,()=>W.next(se),J),()=>(0,E.N)(W,K,()=>W.complete(),J),se=>(0,E.N)(W,K,()=>W.error(se),J)))})}},965:(pt,ye,C)=>{C.d(ye,{VA:()=>K,bI:()=>U,wz:()=>ue});var E=C(9310),v=function(J){return J.GET_USER="[User] Get User",J.GET_USER_SUCCESS="[User] Get User Success",J.GET_USER_FAILED="[User] Get User Failed",J}(v||{});const ue=(0,E.VP)(v.GET_USER),U=(0,E.VP)(v.GET_USER_SUCCESS,(0,E.xk)()),K=(0,E.VP)(v.GET_USER_FAILED,(0,E.xk)())},980:(pt,ye,C)=>{C.d(ye,{j:()=>v});var E=C(9974);function v(ue){return(0,E.N)((U,K)=>{try{U.subscribe(K)}finally{K.add(ue)}})}},983:(pt,ye,C)=>{C.d(ye,{I:()=>ue,w:()=>v});var E=C(1985);const v=new E.c(K=>K.complete());function ue(K){return K?function U(K){return new E.c(J=>K.schedule(()=>J.complete()))}(K):v}},1026:(pt,ye,C)=>{C.d(ye,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1076:(pt,ye,C)=>{C.d(ye,{$L:()=>Jt,$g:()=>xr,A4:()=>ne,Am:()=>Yr,As:()=>On,Cv:()=>wn,FA:()=>et,Fy:()=>kt,Hk:()=>ue,Im:()=>ls,K3:()=>J,KA:()=>W,Ku:()=>zs,Ll:()=>sn,OE:()=>ps,T9:()=>lt,Tj:()=>Dt,Uj:()=>se,XA:()=>Xe,ZQ:()=>qt,bD:()=>qr,cY:()=>Vt,dI:()=>dn,eX:()=>Yn,g:()=>st,gR:()=>Xn,gz:()=>Bt,jZ:()=>jt,kH:()=>Ir,kj:()=>Ks,lT:()=>gn,lV:()=>Ze,nr:()=>as,qc:()=>kr,sr:()=>yt,tD:()=>vr,u:()=>ee,vA:()=>v,yU:()=>Tt,yw:()=>ir,zW:()=>Fr});const E={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},v=function(Re,be){if(!Re)throw ue(be)},ue=function(Re){return new Error("Firebase Database ("+E.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Re)},U=function(Re){const be=[];let Ve=0;for(let Qe=0;Qe<Re.length;Qe++){let he=Re.charCodeAt(Qe);he<128?be[Ve++]=he:he<2048?(be[Ve++]=he>>6|192,be[Ve++]=63&he|128):55296==(64512&he)&&Qe+1<Re.length&&56320==(64512&Re.charCodeAt(Qe+1))?(he=65536+((1023&he)<<10)+(1023&Re.charCodeAt(++Qe)),be[Ve++]=he>>18|240,be[Ve++]=he>>12&63|128,be[Ve++]=he>>6&63|128,be[Ve++]=63&he|128):(be[Ve++]=he>>12|224,be[Ve++]=he>>6&63|128,be[Ve++]=63&he|128)}return be},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,be){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,Qe=[];for(let he=0;he<Re.length;he+=3){const Me=Re[he],de=he+1<Re.length,we=de?Re[he+1]:0,it=he+2<Re.length,Ct=it?Re[he+2]:0;let Bn=(15&we)<<2|Ct>>6,Tr=63&Ct;it||(Tr=64,de||(Bn=64)),Qe.push(Ve[Me>>2],Ve[(3&Me)<<4|we>>4],Ve[Bn],Ve[Tr])}return Qe.join("")},encodeString(Re,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Re):this.encodeByteArray(U(Re),be)},decodeString(Re,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Re):function(Re){const be=[];let Ve=0,Qe=0;for(;Ve<Re.length;){const he=Re[Ve++];if(he<128)be[Qe++]=String.fromCharCode(he);else if(he>191&&he<224){const Me=Re[Ve++];be[Qe++]=String.fromCharCode((31&he)<<6|63&Me)}else if(he>239&&he<365){const it=((7&he)<<18|(63&Re[Ve++])<<12|(63&Re[Ve++])<<6|63&Re[Ve++])-65536;be[Qe++]=String.fromCharCode(55296+(it>>10)),be[Qe++]=String.fromCharCode(56320+(1023&it))}else{const Me=Re[Ve++],de=Re[Ve++];be[Qe++]=String.fromCharCode((15&he)<<12|(63&Me)<<6|63&de)}}return be.join("")}(this.decodeStringToByteArray(Re,be))},decodeStringToByteArray(Re,be){this.init_();const Ve=be?this.charToByteMapWebSafe_:this.charToByteMap_,Qe=[];for(let he=0;he<Re.length;){const Me=Ve[Re.charAt(he++)],we=he<Re.length?Ve[Re.charAt(he)]:0;++he;const Ct=he<Re.length?Ve[Re.charAt(he)]:64;++he;const Yt=he<Re.length?Ve[Re.charAt(he)]:64;if(++he,null==Me||null==we||null==Ct||null==Yt)throw new q;Qe.push(Me<<2|we>>4),64!==Ct&&(Qe.push(we<<4&240|Ct>>2),64!==Yt&&Qe.push(Ct<<6&192|Yt))}return Qe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W=function(Re){const be=U(Re);return J.encodeByteArray(be,!0)},se=function(Re){return W(Re).replace(/\./g,"")},ee=function(Re){try{return J.decodeString(Re,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function ne(Re){return Ce(void 0,Re)}function Ce(Re,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return be}for(const Ve in be)!be.hasOwnProperty(Ve)||!Be(Ve)||(Re[Ve]=Ce(Re[Ve],be[Ve]));return Re}function Be(Re){return"__proto__"!==Re}const He=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=Re&&ee(Re[1]);return be&&JSON.parse(be)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},Dt=Re=>{var be,Ve;return null===(Ve=null===(be=He())||void 0===be?void 0:be.emulatorHosts)||void 0===Ve?void 0:Ve[Re]},Tt=Re=>{const be=Dt(Re);if(!be)return;const Ve=be.lastIndexOf(":");if(Ve<=0||Ve+1===be.length)throw new Error(`Invalid host ${be} with no separate hostname and port!`);const Qe=parseInt(be.substring(Ve+1),10);return"["===be[0]?[be.substring(1,Ve-1),Qe]:[be.substring(0,Ve),Qe]},lt=()=>{var Re;return null===(Re=He())||void 0===Re?void 0:Re.config},Xe=Re=>{var be;return null===(be=He())||void 0===be?void 0:be[`_${Re}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Ve)=>{this.resolve=be,this.reject=Ve})}wrapCallback(be){return(Ve,Qe)=>{Ve?this.reject(Ve):this.resolve(Qe),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Ve):be(Ve,Qe))}}}function kt(Re,be){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Qe=be||"demo-project",he=Re.iat||0,Me=Re.sub||Re.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${Qe}`,aud:Qe,iat:he,exp:he+3600,auth_time:he,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(de)),""].join(".")}function qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function sn(){var Re;const be=null===(Re=He())||void 0===Re?void 0:Re.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yt(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gn(){const Re=qt();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function xr(){return!0===E.NODE_CLIENT||!0===E.NODE_ADMIN}function as(){return!sn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fr(){try{return"object"==typeof indexedDB}catch{return!1}}function Yn(){return new Promise((Re,be)=>{try{let Ve=!0;const Qe="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(Qe);he.onsuccess=()=>{he.result.close(),Ve||self.indexedDB.deleteDatabase(Qe),Re(!0)},he.onupgradeneeded=()=>{Ve=!1},he.onerror=()=>{var Me;be((null===(Me=he.error)||void 0===Me?void 0:Me.message)||"")}}catch(Ve){be(Ve)}})}class st extends Error{constructor(be,Ve,Qe){super(Ve),this.code=be,this.customData=Qe,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(be,Ve,Qe){this.service=be,this.serviceName=Ve,this.errors=Qe}create(be,...Ve){const Qe=Ve[0]||{},he=`${this.service}/${be}`,Me=this.errors[be],de=Me?function At(Re,be){return Re.replace(St,(Ve,Qe)=>{const he=be[Qe];return null!=he?String(he):`<${Qe}?>`})}(Me,Qe):"Error";return new st(he,`${this.serviceName}: ${de} (${he}).`,Qe)}}const St=/\{\$([^}]+)}/g;function Jt(Re){return JSON.parse(Re)}function On(Re){return JSON.stringify(Re)}const rr=function(Re){let be={},Ve={},Qe={},he="";try{const Me=Re.split(".");be=Jt(ee(Me[0])||""),Ve=Jt(ee(Me[1])||""),he=Me[2],Qe=Ve.d||{},delete Ve.d}catch{}return{header:be,claims:Ve,data:Qe,signature:he}},wn=function(Re){const Ve=rr(Re).claims;return!!Ve&&"object"==typeof Ve&&Ve.hasOwnProperty("iat")},kr=function(Re){const be=rr(Re).claims;return"object"==typeof be&&!0===be.admin};function Xn(Re,be){return Object.prototype.hasOwnProperty.call(Re,be)}function ir(Re,be){if(Object.prototype.hasOwnProperty.call(Re,be))return Re[be]}function ls(Re){for(const be in Re)if(Object.prototype.hasOwnProperty.call(Re,be))return!1;return!0}function Ir(Re,be,Ve){const Qe={};for(const he in Re)Object.prototype.hasOwnProperty.call(Re,he)&&(Qe[he]=be.call(Ve,Re[he],he,Re));return Qe}function qr(Re,be){if(Re===be)return!0;const Ve=Object.keys(Re),Qe=Object.keys(be);for(const he of Ve){if(!Qe.includes(he))return!1;const Me=Re[he],de=be[he];if(xs(Me)&&xs(de)){if(!qr(Me,de))return!1}else if(Me!==de)return!1}for(const he of Qe)if(!Ve.includes(he))return!1;return!0}function xs(Re){return null!==Re&&"object"==typeof Re}function Yr(Re){const be=[];for(const[Ve,Qe]of Object.entries(Re))Array.isArray(Qe)?Qe.forEach(he=>{be.push(encodeURIComponent(Ve)+"="+encodeURIComponent(he))}):be.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Qe));return be.length?"&"+be.join("&"):""}class Bt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(be,Ve){Ve||(Ve=0);const Qe=this.W_;if("string"==typeof be)for(let Yt=0;Yt<16;Yt++)Qe[Yt]=be.charCodeAt(Ve)<<24|be.charCodeAt(Ve+1)<<16|be.charCodeAt(Ve+2)<<8|be.charCodeAt(Ve+3),Ve+=4;else for(let Yt=0;Yt<16;Yt++)Qe[Yt]=be[Ve]<<24|be[Ve+1]<<16|be[Ve+2]<<8|be[Ve+3],Ve+=4;for(let Yt=16;Yt<80;Yt++){const Bn=Qe[Yt-3]^Qe[Yt-8]^Qe[Yt-14]^Qe[Yt-16];Qe[Yt]=4294967295&(Bn<<1|Bn>>>31)}let Ct,on,he=this.chain_[0],Me=this.chain_[1],de=this.chain_[2],we=this.chain_[3],it=this.chain_[4];for(let Yt=0;Yt<80;Yt++){Yt<40?Yt<20?(Ct=we^Me&(de^we),on=1518500249):(Ct=Me^de^we,on=1859775393):Yt<60?(Ct=Me&de|we&(Me|de),on=2400959708):(Ct=Me^de^we,on=3395469782);const Bn=(he<<5|he>>>27)+Ct+it+on+Qe[Yt]&4294967295;it=we,we=de,de=4294967295&(Me<<30|Me>>>2),Me=he,he=Bn}this.chain_[0]=this.chain_[0]+he&4294967295,this.chain_[1]=this.chain_[1]+Me&4294967295,this.chain_[2]=this.chain_[2]+de&4294967295,this.chain_[3]=this.chain_[3]+we&4294967295,this.chain_[4]=this.chain_[4]+it&4294967295}update(be,Ve){if(null==be)return;void 0===Ve&&(Ve=be.length);const Qe=Ve-this.blockSize;let he=0;const Me=this.buf_;let de=this.inbuf_;for(;he<Ve;){if(0===de)for(;he<=Qe;)this.compress_(be,he),he+=this.blockSize;if("string"==typeof be){for(;he<Ve;)if(Me[de]=be.charCodeAt(he),++de,++he,de===this.blockSize){this.compress_(Me),de=0;break}}else for(;he<Ve;)if(Me[de]=be[he],++de,++he,de===this.blockSize){this.compress_(Me),de=0;break}}this.inbuf_=de,this.total_+=Ve}digest(){const be=[];let Ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let he=this.blockSize-1;he>=56;he--)this.buf_[he]=255&Ve,Ve/=256;this.compress_(this.buf_);let Qe=0;for(let he=0;he<5;he++)for(let Me=24;Me>=0;Me-=8)be[Qe]=this.chain_[he]>>Me&255,++Qe;return be}}function vr(Re,be){const Ve=new cs(Re,be);return Ve.subscribe.bind(Ve)}class cs{constructor(be,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{be(this)}).catch(Qe=>{this.error(Qe)})}next(be){this.forEachObserver(Ve=>{Ve.next(be)})}error(be){this.forEachObserver(Ve=>{Ve.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Ve,Qe){let he;if(void 0===be&&void 0===Ve&&void 0===Qe)throw new Error("Missing Observer.");he=function Ps(Re,be){if("object"!=typeof Re||null===Re)return!1;for(const Ve of be)if(Ve in Re&&"function"==typeof Re[Ve])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Ve,complete:Qe},void 0===he.next&&(he.next=fs),void 0===he.error&&(he.error=fs),void 0===he.complete&&(he.complete=fs);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch{}}),this.observers.push(he),Me}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,be)}sendOne(be,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Ve(this.observers[be])}catch(Qe){typeof console<"u"&&console.error&&console.error(Qe)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fs(){}function dn(Re,be){return`${Re} failed: ${be} argument `}const Ks=function(Re){const be=[];let Ve=0;for(let Qe=0;Qe<Re.length;Qe++){let he=Re.charCodeAt(Qe);if(he>=55296&&he<=56319){const Me=he-55296;Qe++,v(Qe<Re.length,"Surrogate pair missing trail surrogate."),he=65536+(Me<<10)+(Re.charCodeAt(Qe)-56320)}he<128?be[Ve++]=he:he<2048?(be[Ve++]=he>>6|192,be[Ve++]=63&he|128):he<65536?(be[Ve++]=he>>12|224,be[Ve++]=he>>6&63|128,be[Ve++]=63&he|128):(be[Ve++]=he>>18|240,be[Ve++]=he>>12&63|128,be[Ve++]=he>>6&63|128,be[Ve++]=63&he|128)}return be},ps=function(Re){let be=0;for(let Ve=0;Ve<Re.length;Ve++){const Qe=Re.charCodeAt(Ve);Qe<128?be++:Qe<2048?be+=2:Qe>=55296&&Qe<=56319?(be+=4,Ve++):be+=3}return be};function zs(Re){return Re&&Re._delegate?Re._delegate:Re}},1111:(pt,ye,C)=>{C.d(ye,{MB:()=>U,fw:()=>v.f});var E=C(177),v=C(2376),ue=C(4438);let U=(()=>{class J{constructor(W){if(W)throw new Error("ToastModule is already loaded. Import it in the AppModule only")}static forRoot(){return{ngModule:J,providers:[v.f]}}static{this.\u0275fac=function(se){return new(se||J)(ue.KVO(J,12))}}static{this.\u0275mod=ue.$C({type:J})}static{this.\u0275inj=ue.G2t({imports:[E.CommonModule]})}}return J})();C(1152)},1116:(pt,ye,C)=>{C.d(ye,{GE:()=>W,I4:()=>se,JS:()=>Be,gz:()=>Oe,iF:()=>Fe});var E=C(9310),v=C(8527);const K=(0,E.vy)({articles:[],message:""},(0,E.on)(v.op,(Te,{payload:qe})=>({articles:qe,message:"Success"})),(0,E.on)(v.om,(Te,{payload:qe})=>({articles:[qe],message:"Article Created."})),(0,E.on)(v.VZ,(Te,{payload:qe})=>({articles:[],message:qe})),(0,E.on)(v.i8,(Te,{payload:qe})=>({articles:qe,message:"Success"})),(0,E.on)(v.sc,Te=>({articles:[],message:""}))),q=(0,E.UX)("articleState"),W=(0,E.Mz)(q,Te=>Te.articles),se=(0,E.Mz)(q,Te=>Te.message),ee=(0,E.vy)({products:[],cart:[]},(0,E.on)(v.iQ,(Te,{payload:qe})=>({...Te,products:qe})),(0,E.on)(v.OM,(Te,{payload:qe})=>({...Te,cart:[...Te.cart,qe]})),(0,E.on)(v.n$,(Te,{payload:qe})=>({...Te,cart:[...Te.cart.filter(He=>He.name!==qe.name)]}))),Ce=(0,E.UX)("productState1"),Be=(0,E.Mz)(Ce,Te=>Te.products),Fe=(0,E.Mz)(Ce,Te=>Te.cart),Oe={articleState:function J(Te,qe){return K(Te,qe)},productState1:function ne(Te,qe){return ee(Te,qe)}}},1152:(pt,ye,C)=>{C.d(ye,{d3:()=>W});var E=C(9969),v=C(4438),ue=C(2376),U=C(177);function K(se,ee){if(1&se){const ne=v.RV6();v.j41(0,"div",2),v.bIt("click",function(){const Be=v.eBV(ne).$implicit,Fe=v.XpG();return v.Njj(Fe.dispose(Be))}),v.nrm(1,"span",3),v.j41(2,"div",4)(3,"div",5),v.EFF(4),v.k0s(),v.j41(5,"div",6),v.EFF(6),v.k0s()(),v.qSk(),v.j41(7,"svg",7),v.nrm(8,"path",8),v.k0s()()}if(2&se){const ne=ee.$implicit;v.ZvI("toaster toast-",ne.type,""),v.Y8G("@slideInOut",void 0),v.R7$(),v.Y8G("innerHtml",ne.svg,v.npT),v.R7$(3),v.SpI(" ",ne.title," "),v.R7$(2),v.JRh(ne.message)}}const J=(0,E.hZ)("slideUp",[(0,E.kY)(":enter",[(0,E.iF)({transform:"translate(0,500px)"}),(0,E.i0)("350ms cubic-bezier(0.17, 0.89, 0.24, 1.11)",(0,E.iF)({transform:"translate(0,0)"}))]),(0,E.kY)(":leave",[(0,E.i0)("300ms ease-in-out",(0,E.iF)({transform:"translate(0,500px)"}))])]),q=(0,E.hZ)("slideInOut",[(0,E.kY)(":enter",[(0,E.iF)({transform:"translateX(calc(100% + 30px))"}),(0,E.i0)("350ms cubic-bezier(0.68, -0.55, 0.25, 1.35)",(0,E.iF)({transform:"translateX(0)"}))]),(0,E.kY)(":leave",[(0,E.i0)("300ms ease-in-out",(0,E.iF)({transform:"translateX(calc(100% + 30px))"}))])]);let W=(()=>{class se{constructor(ne,Ce){this.toastService=ne,this.cdr=Ce,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(ne=>{this.currentToasts.push(ne),this.cdr.detectChanges()})}dispose(ne){let Ce=this.currentToasts.indexOf(ne);this.currentToasts.splice(Ce,1),this.cdr.detectChanges()}automaticDismiss(ne){setTimeout(()=>{this.dispose(ne)},this.toastService.toastConfig.timer)}static{this.\u0275fac=function(Ce){return new(Ce||se)(v.rXU(ue.f),v.rXU(v.gRc))}}static{this.\u0275cmp=v.VBU({type:se,selectors:[["ng-toast"]],standalone:!1,decls:2,vars:1,consts:[[1,"toast-container","top-right"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"closeSvg",3,"innerHtml"],[2,"flex","1"],[1,"toaster__title"],[1,"toaster__message"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"closeSvg"],["d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]],template:function(Ce,Be){1&Ce&&(v.j41(0,"div",0),v.DNE(1,K,9,7,"div",1),v.k0s()),2&Ce&&(v.R7$(),v.Y8G("ngForOf",Be.currentToasts))},dependencies:[U.NgForOf],styles:['.toast-container[_ngcontent-%COMP%]{--dark: #34495E;--light: #ffffff;--success: #0ABF30;--error: #E24D4C;--warning: #E9BD0C;--info: #3498DB}.toast-container[_ngcontent-%COMP%]{width:max-content;max-width:100%;pointer-events:none;position:fixed;z-index:999999}.toast-container.bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-container.top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{--toast-width: 400px;position:relative;overflow:hidden;margin:0 0 6px;width:var(--toast-width);padding:16px 17px;border-radius:4px;pointer-events:auto;display:flex;align-items:center;gap:.5rem;--toast-light-color: color-mix(in srgb, var(--toast-color) 20%, white);background-color:var(--toast-light-color);color:var(--toast-color)}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.toast-container[_ngcontent-%COMP%]   .toaster__title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.toast-container[_ngcontent-%COMP%]   .toaster__message[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(:last-child){font-size:1.5rem}.toast-container[_ngcontent-%COMP%]   .toaster.toast-success[_ngcontent-%COMP%]{--toast-color: var(--success)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-warning[_ngcontent-%COMP%]{--toast-color: var(--warning)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-error[_ngcontent-%COMP%]{--toast-color: var(--error)}.toast-container[_ngcontent-%COMP%]   .toaster.toast-info[_ngcontent-%COMP%]{--toast-color: var(--info)}.toaster[_ngcontent-%COMP%]:before{position:absolute;content:"";height:3px;width:100%;bottom:0;left:0;animation:_ngcontent-%COMP%_progress 5s linear forwards;background-color:var(--toast-color)}@keyframes _ngcontent-%COMP%_progress{to{width:0%}}.toaster-animation[_ngcontent-%COMP%]{transform:translate(calc(100% + 30px));transition:all .5s cubic-bezier(.68,-.55,.25,1.35)}.toaster-animation.active[_ngcontent-%COMP%]{transform:translate(0)}.show-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_show_toast .3s ease forwards}.hide-toast[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hide_toast .3s ease forwards}@keyframes _ngcontent-%COMP%_hide_toast{0%{transform:translate(-10px)}40%{transform:translate(0)}80%{transform:translate(-5%)}to{transform:translate(calc(100% + 20px))}}@keyframes _ngcontent-%COMP%_show_toast{0%{transform:translate(100%)}40%{transform:translate(-5%)}80%{transform:translate(0)}to{transform:translate(-10px)}}@media (max-width: 530px){.toast-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.toast-container[_ngcontent-%COMP%]   .toaster[_ngcontent-%COMP%]{width:100%}}.closeSvg[_ngcontent-%COMP%]{width:20px;height:20px}.toast-success[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--success)}.toast-warning[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--warning)}.toast-error[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--error)}.toast-info[_ngcontent-%COMP%]   .closeSvg[_ngcontent-%COMP%]{fill:var(--info)}'],data:{animation:[J,q]},changeDetection:0})}}return se})()},1203:(pt,ye,C)=>{C.d(ye,{F:()=>v,m:()=>ue});var E=C(3669);function v(...U){return ue(U)}function ue(U){return 0===U.length?E.D:1===U.length?U[0]:function(J){return U.reduce((q,W)=>W(q),J)}}},1316:(pt,ye,C)=>{C.d(ye,{h:()=>Be});var E=C(4412),v=C(5558),ue=C(7673),U=C(9350),J=C(8810),q=C(8141),W=C(9437),se=C(6354),ee=C(5085),ne=C(4438),Ce=C(1626);let Be=(()=>{class Fe{constructor(Te){this.http=Te,this.alertSubject=new E.t(null),this.alertObservable=this.alertSubject.asObservable()}setUser(Te){console.log(Te)}setToDos(Te){console.log(Te)}initialiseAppUsingObservables(){return this.getUser(5).pipe((0,v.n)(Te=>(this.setUser(Te),this.getToDo(Te.id).pipe((0,q.M)(qe=>this.setToDos(qe))))),(0,W.W)(Te=>(this.alertSubject.next(Te),(0,ue.of)(Te))))}initialiseAppUsingPromises(){return function K(Fe,Oe){const Te="object"==typeof Oe;return new Promise((qe,He)=>{let Tt,Dt=!1;Fe.subscribe({next:lt=>{Tt=lt,Dt=!0},error:He,complete:()=>{Dt?qe(Tt):Te?qe(Oe.defaultValue):He(new U.G)}})})}(this.initialiseAppUsingObservables())}getAlbums(){return this.http.get("https://jsonplaceholder.typicode.com/albums").pipe((0,se.T)(Te=>Te))}getPhotos(){return this.http.get("https://jsonplaceholder.typicode.com/photos").pipe((0,se.T)(Te=>Te))}getUsers(){return this.http.get(ee.O.jsonplaceholderEndpoints.users)}getUser(Te){return this.http.get(`${ee.O.jsonplaceholderEndpoints.users}${Te}`).pipe((0,W.W)(qe=>(0,J.$)(()=>qe)))}deleteToDo(Te){return this.http.delete(`${ee.O.jsonplaceholderEndpoints.users}${Te}`).pipe((0,se.T)(qe=>qe))}getToDos(){return this.http.get(ee.O.jsonplaceholderEndpoints.todos).pipe((0,se.T)(Te=>Te))}getToDo(Te){return this.http.get(`${ee.O.jsonplaceholderEndpoints.todos}?userId=${Te}`).pipe((0,W.W)(qe=>(0,J.$)(()=>qe)))}getPosts(){return this.http.get(ee.O.jsonplaceholderEndpoints.posts)}getPost(Te){return this.http.get(`${ee.O.jsonplaceholderEndpoints.posts}${Te}`)}getPostComments(Te){return this.http.get(`${ee.O.jsonplaceholderEndpoints.posts}${Te}/comments`)}getPostsByUser(Te){return this.http.get(ee.O.jsonplaceholderEndpoints.posts,{params:{userId:Te}})}getComments(){return this.http.get(ee.O.jsonplaceholderEndpoints.comments)}getComment(Te){return this.http.get(`${ee.O.jsonplaceholderEndpoints.comments}${Te}`)}getCommentsByPostId(Te){return this.http.get(`${ee.O.jsonplaceholderEndpoints.comments}`,{params:{postId:Te}})}static{this.\u0275fac=function(qe){return new(qe||Fe)(ne.KVO(Ce.Qq))}}static{this.\u0275prov=ne.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},1362:(pt,ye,C)=>{C.d(ye,{h1:()=>W,uA:()=>ue});var E=C(467),v=C(1076);class ue{constructor(ee,ne,Ce){this.name=ee,this.instanceFactory=ne,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const U="[DEFAULT]";class K{constructor(ee,ne){this.name=ee,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ne=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ne)){const Ce=new v.cY;if(this.instancesDeferred.set(ne,Ce),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:ne});Be&&Ce.resolve(Be)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(ee){var ne;const Ce=this.normalizeInstanceIdentifier(ee?.identifier),Be=null!==(ne=ee?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(Fe){if(Be)return null;throw Fe}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function q(se){return"EAGER"===se.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:U})}catch{}for(const[ne,Ce]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(ne);try{const Fe=this.getOrInitializeService({instanceIdentifier:Be});Ce.resolve(Fe)}catch{}}}}clearInstance(ee=U){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,E.A)(function*(){const ne=Array.from(ee.instances.values());yield Promise.all([...ne.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...ne.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=U){return this.instances.has(ee)}getOptions(ee=U){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ne={}}=ee,Ce=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Ce,options:ne});for(const[Fe,Oe]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(Fe)&&Oe.resolve(Be);return Be}onInit(ee,ne){var Ce;const Be=this.normalizeInstanceIdentifier(ne),Fe=null!==(Ce=this.onInitCallbacks.get(Be))&&void 0!==Ce?Ce:new Set;Fe.add(ee),this.onInitCallbacks.set(Be,Fe);const Oe=this.instances.get(Be);return Oe&&ee(Oe,Be),()=>{Fe.delete(ee)}}invokeOnInitCallbacks(ee,ne){const Ce=this.onInitCallbacks.get(ne);if(Ce)for(const Be of Ce)try{Be(ee,ne)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ne={}}){let Ce=this.instances.get(ee);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(se=ee,se===U?void 0:se),options:ne}),this.instances.set(ee,Ce),this.instancesOptions.set(ee,ne),this.invokeOnInitCallbacks(Ce,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ce)}catch{}var se;return Ce||null}normalizeInstanceIdentifier(ee=U){return this.component?this.component.multipleInstances?ee:U:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ne=this.getProvider(ee.name);if(ne.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ne.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ne=new K(ee,this);return this.providers.set(ee,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1397:(pt,ye,C)=>{C.d(ye,{Z:()=>W});var E=C(6354),v=C(8750),ue=C(9974),U=C(5225),K=C(4360),q=C(8071);function W(se,ee,ne=1/0){return(0,q.T)(ee)?W((Ce,Be)=>(0,E.T)((Fe,Oe)=>ee(Ce,Fe,Be,Oe))((0,v.Tg)(se(Ce,Be))),ne):("number"==typeof ee&&(ne=ee),(0,ue.N)((Ce,Be)=>function J(se,ee,ne,Ce,Be,Fe,Oe,Te){const qe=[];let He=0,Dt=0,Tt=!1;const lt=()=>{Tt&&!qe.length&&!He&&ee.complete()},Xe=kt=>He<Ce?Vt(kt):qe.push(kt),Vt=kt=>{Fe&&ee.next(kt),He++;let qt=!1;(0,v.Tg)(ne(kt,Dt++)).subscribe((0,K._)(ee,jt=>{Be?.(jt),Fe?Xe(jt):ee.next(jt)},()=>{qt=!0},void 0,()=>{if(qt)try{for(He--;qe.length&&He<Ce;){const jt=qe.shift();Oe?(0,U.N)(ee,Oe,()=>Vt(jt)):Vt(jt)}lt()}catch(jt){ee.error(jt)}}))};return se.subscribe((0,K._)(ee,Xe,()=>{Tt=!0,lt()})),()=>{Te?.()}}(Ce,Be,se,ne)))}},1413:(pt,ye,C)=>{C.d(ye,{B:()=>q});var E=C(1985),v=C(8359);const U=(0,C(1853).L)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=C(7908),J=C(9786);let q=(()=>{class se extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const Ce=new W(this,this);return Ce.operator=ne,Ce}_throwIfClosed(){if(this.closed)throw new U}next(ne){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(ne)}})}error(ne){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(ne)}})}complete(){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:Ce,isStopped:Be,observers:Fe}=this;return Ce||Be?v.Kn:(this.currentObservers=null,Fe.push(ne),new v.yU(()=>{this.currentObservers=null,(0,K.o)(Fe,ne)}))}_checkFinalizedStatuses(ne){const{hasError:Ce,thrownError:Be,isStopped:Fe}=this;Ce?ne.error(Be):Fe&&ne.complete()}asObservable(){const ne=new E.c;return ne.source=this,ne}}return se.create=(ee,ne)=>new W(ee,ne),se})();class W extends q{constructor(ee,ne){super(),this.destination=ee,this.source=ne}next(ee){var ne,Ce;null===(Ce=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===Ce||Ce.call(ne,ee)}error(ee){var ne,Ce;null===(Ce=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===Ce||Ce.call(ne,ee)}complete(){var ee,ne;null===(ne=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ne||ne.call(ee)}_subscribe(ee){var ne,Ce;return null!==(Ce=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(ee))&&void 0!==Ce?Ce:v.Kn}}},1594:(pt,ye,C)=>{C.d(ye,{$:()=>q});var E=C(9350),v=C(5964),ue=C(6697),U=C(9901),K=C(3774),J=C(3669);function q(W,se){const ee=arguments.length>=2;return ne=>ne.pipe(W?(0,v.p)((Ce,Be)=>W(Ce,Be,ne)):J.D,(0,ue.s)(1),ee?(0,U.U)(se):(0,K.v)(()=>new E.G))}},1626:(pt,ye,C)=>{C.d(ye,{Lr:()=>Fe,Nl:()=>Xe,Qq:()=>rr,a7:()=>hs,cS:()=>st,fx:()=>Sn,q1:()=>wt,uA:()=>vt,yz:()=>et}),C(467);var v=C(4438),ue=C(7673),U=C(1985),K=C(2806),J=C(274),q=C(5964),W=C(6354),se=C(980),ee=C(5558),ne=C(177);class Ce{}class Be{}class Fe{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Ie){Ie?"string"==typeof Ie?this.lazyInit=()=>{this.headers=new Map,Ie.split("\n").forEach(_e=>{const Ge=_e.indexOf(":");if(Ge>0){const bt=_e.slice(0,Ge),Rt=_e.slice(Ge+1).trim();this.addHeaderEntry(bt,Rt)}})}:typeof Headers<"u"&&Ie instanceof Headers?(this.headers=new Map,Ie.forEach((_e,Ge)=>{this.addHeaderEntry(Ge,_e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ie).forEach(([_e,Ge])=>{this.setHeaderEntries(_e,Ge)})}:this.headers=new Map}has(Ie){return this.init(),this.headers.has(Ie.toLowerCase())}get(Ie){this.init();const _e=this.headers.get(Ie.toLowerCase());return _e&&_e.length>0?_e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ie){return this.init(),this.headers.get(Ie.toLowerCase())||null}append(Ie,_e){return this.clone({name:Ie,value:_e,op:"a"})}set(Ie,_e){return this.clone({name:Ie,value:_e,op:"s"})}delete(Ie,_e){return this.clone({name:Ie,value:_e,op:"d"})}maybeSetNormalizedName(Ie,_e){this.normalizedNames.has(_e)||this.normalizedNames.set(_e,Ie)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ie=>this.applyUpdate(Ie)),this.lazyUpdate=null))}copyFrom(Ie){Ie.init(),Array.from(Ie.headers.keys()).forEach(_e=>{this.headers.set(_e,Ie.headers.get(_e)),this.normalizedNames.set(_e,Ie.normalizedNames.get(_e))})}clone(Ie){const _e=new Fe;return _e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,_e.lazyUpdate=(this.lazyUpdate||[]).concat([Ie]),_e}applyUpdate(Ie){const _e=Ie.name.toLowerCase();switch(Ie.op){case"a":case"s":let Ge=Ie.value;if("string"==typeof Ge&&(Ge=[Ge]),0===Ge.length)return;this.maybeSetNormalizedName(Ie.name,_e);const bt=("a"===Ie.op?this.headers.get(_e):void 0)||[];bt.push(...Ge),this.headers.set(_e,bt);break;case"d":const Rt=Ie.value;if(Rt){let Lt=this.headers.get(_e);if(!Lt)return;Lt=Lt.filter(_n=>-1===Rt.indexOf(_n)),0===Lt.length?(this.headers.delete(_e),this.normalizedNames.delete(_e)):this.headers.set(_e,Lt)}else this.headers.delete(_e),this.normalizedNames.delete(_e)}}addHeaderEntry(Ie,_e){const Ge=Ie.toLowerCase();this.maybeSetNormalizedName(Ie,Ge),this.headers.has(Ge)?this.headers.get(Ge).push(_e):this.headers.set(Ge,[_e])}setHeaderEntries(Ie,_e){const Ge=(Array.isArray(_e)?_e:[_e]).map(Rt=>Rt.toString()),bt=Ie.toLowerCase();this.headers.set(bt,Ge),this.maybeSetNormalizedName(Ie,bt)}forEach(Ie){this.init(),Array.from(this.normalizedNames.keys()).forEach(_e=>Ie(this.normalizedNames.get(_e),this.headers.get(_e)))}}class Te{encodeKey(Ie){return Tt(Ie)}encodeValue(Ie){return Tt(Ie)}decodeKey(Ie){return decodeURIComponent(Ie)}decodeValue(Ie){return decodeURIComponent(Ie)}}const He=/%(\d[a-f0-9])/gi,Dt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tt(oe){return encodeURIComponent(oe).replace(He,(Ie,_e)=>Dt[_e]??Ie)}function lt(oe){return`${oe}`}class Xe{map;encoder;updates=null;cloneFrom=null;constructor(Ie={}){if(this.encoder=Ie.encoder||new Te,Ie.fromString){if(Ie.fromObject)throw new v.wOt(2805,!1);this.map=function qe(oe,Ie){const _e=new Map;return oe.length>0&&oe.replace(/^\?/,"").split("&").forEach(bt=>{const Rt=bt.indexOf("="),[Lt,_n]=-1==Rt?[Ie.decodeKey(bt),""]:[Ie.decodeKey(bt.slice(0,Rt)),Ie.decodeValue(bt.slice(Rt+1))],fe=_e.get(Lt)||[];fe.push(_n),_e.set(Lt,fe)}),_e}(Ie.fromString,this.encoder)}else Ie.fromObject?(this.map=new Map,Object.keys(Ie.fromObject).forEach(_e=>{const Ge=Ie.fromObject[_e],bt=Array.isArray(Ge)?Ge.map(lt):[lt(Ge)];this.map.set(_e,bt)})):this.map=null}has(Ie){return this.init(),this.map.has(Ie)}get(Ie){this.init();const _e=this.map.get(Ie);return _e?_e[0]:null}getAll(Ie){return this.init(),this.map.get(Ie)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ie,_e){return this.clone({param:Ie,value:_e,op:"a"})}appendAll(Ie){const _e=[];return Object.keys(Ie).forEach(Ge=>{const bt=Ie[Ge];Array.isArray(bt)?bt.forEach(Rt=>{_e.push({param:Ge,value:Rt,op:"a"})}):_e.push({param:Ge,value:bt,op:"a"})}),this.clone(_e)}set(Ie,_e){return this.clone({param:Ie,value:_e,op:"s"})}delete(Ie,_e){return this.clone({param:Ie,value:_e,op:"d"})}toString(){return this.init(),this.keys().map(Ie=>{const _e=this.encoder.encodeKey(Ie);return this.map.get(Ie).map(Ge=>_e+"="+this.encoder.encodeValue(Ge)).join("&")}).filter(Ie=>""!==Ie).join("&")}clone(Ie){const _e=new Xe({encoder:this.encoder});return _e.cloneFrom=this.cloneFrom||this,_e.updates=(this.updates||[]).concat(Ie),_e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ie=>this.map.set(Ie,this.cloneFrom.map.get(Ie))),this.updates.forEach(Ie=>{switch(Ie.op){case"a":case"s":const _e=("a"===Ie.op?this.map.get(Ie.param):void 0)||[];_e.push(lt(Ie.value)),this.map.set(Ie.param,_e);break;case"d":if(void 0===Ie.value){this.map.delete(Ie.param);break}{let Ge=this.map.get(Ie.param)||[];const bt=Ge.indexOf(lt(Ie.value));-1!==bt&&Ge.splice(bt,1),Ge.length>0?this.map.set(Ie.param,Ge):this.map.delete(Ie.param)}}}),this.cloneFrom=this.updates=null)}}class kt{map=new Map;set(Ie,_e){return this.map.set(Ie,_e),this}get(Ie){return this.map.has(Ie)||this.map.set(Ie,Ie.defaultValue()),this.map.get(Ie)}delete(Ie){return this.map.delete(Ie),this}has(Ie){return this.map.has(Ie)}keys(){return this.map.keys()}}function jt(oe){return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer}function sn(oe){return typeof Blob<"u"&&oe instanceof Blob}function An(oe){return typeof FormData<"u"&&oe instanceof FormData}const Ze="Content-Type",gn="X-Request-URL",nr="text/plain",xr="application/json",as=`${xr}, ${nr}, */*`;class Fr{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Ie,_e,Ge,bt){let Rt;if(this.url=_e,this.method=Ie.toUpperCase(),function qt(oe){switch(oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||bt?(this.body=void 0!==Ge?Ge:null,Rt=bt):Rt=Ge,Rt&&(this.reportProgress=!!Rt.reportProgress,this.withCredentials=!!Rt.withCredentials,Rt.responseType&&(this.responseType=Rt.responseType),Rt.headers&&(this.headers=Rt.headers),Rt.context&&(this.context=Rt.context),Rt.params&&(this.params=Rt.params),this.transferCache=Rt.transferCache),this.headers??=new Fe,this.context??=new kt,this.params){const Lt=this.params.toString();if(0===Lt.length)this.urlWithParams=_e;else{const _n=_e.indexOf("?");this.urlWithParams=_e+(-1===_n?"?":_n<_e.length-1?"&":"")+Lt}}else this.params=new Xe,this.urlWithParams=_e}serializeBody(){return null===this.body?null:"string"==typeof this.body||jt(this.body)||sn(this.body)||An(this.body)||function yt(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||An(this.body)?null:sn(this.body)?this.body.type||null:jt(this.body)?null:"string"==typeof this.body?nr:this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?xr:null}clone(Ie={}){const _e=Ie.method||this.method,Ge=Ie.url||this.url,bt=Ie.responseType||this.responseType,Rt=Ie.transferCache??this.transferCache,Lt=void 0!==Ie.body?Ie.body:this.body,_n=Ie.withCredentials??this.withCredentials,fe=Ie.reportProgress??this.reportProgress;let Je=Ie.headers||this.headers,Pe=Ie.params||this.params;const ze=Ie.context??this.context;return void 0!==Ie.setHeaders&&(Je=Object.keys(Ie.setHeaders).reduce((Et,ct)=>Et.set(ct,Ie.setHeaders[ct]),Je)),Ie.setParams&&(Pe=Object.keys(Ie.setParams).reduce((Et,ct)=>Et.set(ct,Ie.setParams[ct]),Pe)),new Fr(_e,Ge,Lt,{params:Pe,headers:Je,context:ze,reportProgress:fe,responseType:bt,withCredentials:_n,transferCache:Rt})}}var Yn=function(oe){return oe[oe.Sent=0]="Sent",oe[oe.UploadProgress=1]="UploadProgress",oe[oe.ResponseHeader=2]="ResponseHeader",oe[oe.DownloadProgress=3]="DownloadProgress",oe[oe.Response=4]="Response",oe[oe.User=5]="User",oe}(Yn||{});class ke{headers;status;statusText;url;ok;type;constructor(Ie,_e=200,Ge="OK"){this.headers=Ie.headers||new Fe,this.status=void 0!==Ie.status?Ie.status:_e,this.statusText=Ie.statusText||Ge,this.url=Ie.url||null,this.ok=this.status>=200&&this.status<300}}class tt extends ke{constructor(Ie={}){super(Ie)}type=Yn.ResponseHeader;clone(Ie={}){return new tt({headers:Ie.headers||this.headers,status:void 0!==Ie.status?Ie.status:this.status,statusText:Ie.statusText||this.statusText,url:Ie.url||this.url||void 0})}}class st extends ke{body;constructor(Ie={}){super(Ie),this.body=void 0!==Ie.body?Ie.body:null}type=Yn.Response;clone(Ie={}){return new st({body:void 0!==Ie.body?Ie.body:this.body,headers:Ie.headers||this.headers,status:void 0!==Ie.status?Ie.status:this.status,statusText:Ie.statusText||this.statusText,url:Ie.url||this.url||void 0})}}class et extends ke{name="HttpErrorResponse";message;error;ok=!1;constructor(Ie){super(Ie,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ie.url||"(unknown url)"}`:`Http failure response for ${Ie.url||"(unknown url)"}: ${Ie.status} ${Ie.statusText}`,this.error=Ie.error||null}}function On(oe,Ie){return{body:Ie,headers:oe.headers,context:oe.context,observe:oe.observe,params:oe.params,reportProgress:oe.reportProgress,responseType:oe.responseType,withCredentials:oe.withCredentials,transferCache:oe.transferCache}}let rr=(()=>{class oe{handler;constructor(_e){this.handler=_e}request(_e,Ge,bt={}){let Rt;if(_e instanceof Fr)Rt=_e;else{let fe,Je;fe=bt.headers instanceof Fe?bt.headers:new Fe(bt.headers),bt.params&&(Je=bt.params instanceof Xe?bt.params:new Xe({fromObject:bt.params})),Rt=new Fr(_e,Ge,void 0!==bt.body?bt.body:null,{headers:fe,context:bt.context,params:Je,reportProgress:bt.reportProgress,responseType:bt.responseType||"json",withCredentials:bt.withCredentials,transferCache:bt.transferCache})}const Lt=(0,ue.of)(Rt).pipe((0,J.H)(fe=>this.handler.handle(fe)));if(_e instanceof Fr||"events"===bt.observe)return Lt;const _n=Lt.pipe((0,q.p)(fe=>fe instanceof st));switch(bt.observe||"body"){case"body":switch(Rt.responseType){case"arraybuffer":return _n.pipe((0,W.T)(fe=>{if(null!==fe.body&&!(fe.body instanceof ArrayBuffer))throw new v.wOt(2806,!1);return fe.body}));case"blob":return _n.pipe((0,W.T)(fe=>{if(null!==fe.body&&!(fe.body instanceof Blob))throw new v.wOt(2807,!1);return fe.body}));case"text":return _n.pipe((0,W.T)(fe=>{if(null!==fe.body&&"string"!=typeof fe.body)throw new v.wOt(2808,!1);return fe.body}));default:return _n.pipe((0,W.T)(fe=>fe.body))}case"response":return _n;default:throw new v.wOt(2809,!1)}}delete(_e,Ge={}){return this.request("DELETE",_e,Ge)}get(_e,Ge={}){return this.request("GET",_e,Ge)}head(_e,Ge={}){return this.request("HEAD",_e,Ge)}jsonp(_e,Ge){return this.request("JSONP",_e,{params:(new Xe).append(Ge,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_e,Ge={}){return this.request("OPTIONS",_e,Ge)}patch(_e,Ge,bt={}){return this.request("PATCH",_e,On(bt,Ge))}post(_e,Ge,bt={}){return this.request("POST",_e,On(bt,Ge))}put(_e,Ge,bt={}){return this.request("PUT",_e,On(bt,Ge))}static \u0275fac=function(Ge){return new(Ge||oe)(v.KVO(Ce))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const wn=new v.nKC("");function Ir(oe,Ie){return Ie(oe)}function qr(oe,Ie){return(_e,Ge)=>Ie.intercept(_e,{handle:bt=>oe(bt,Ge)})}const hs=new v.nKC(""),Yr=new v.nKC(""),Wn=new v.nKC(""),rs=new v.nKC("",{providedIn:"root",factory:()=>!0});function Bt(){let oe=null;return(Ie,_e)=>{null===oe&&(oe=((0,v.WQX)(hs,{optional:!0})??[]).reduceRight(qr,Ir));const Ge=(0,v.WQX)(v.Ua0);if((0,v.WQX)(rs)){const Rt=Ge.add();return oe(Ie,_e).pipe((0,se.j)(()=>Ge.remove(Rt)))}return oe(Ie,_e)}}let fs,Zr=(()=>{class oe extends Ce{backend;injector;chain=null;pendingTasks=(0,v.WQX)(v.Ua0);contributeToStability=(0,v.WQX)(rs);constructor(_e,Ge){super(),this.backend=_e,this.injector=Ge}handle(_e){if(null===this.chain){const Ge=Array.from(new Set([...this.injector.get(Yr),...this.injector.get(Wn,[])]));this.chain=Ge.reduceRight((bt,Rt)=>function xs(oe,Ie,_e){return(Ge,bt)=>(0,v.N4e)(_e,()=>Ie(Ge,Rt=>oe(Rt,bt)))}(bt,Rt,this.injector),Ir)}if(this.contributeToStability){const Ge=this.pendingTasks.add();return this.chain(_e,bt=>this.backend.handle(bt)).pipe((0,se.j)(()=>this.pendingTasks.remove(Ge)))}return this.chain(_e,Ge=>this.backend.handle(Ge))}static \u0275fac=function(Ge){return new(Ge||oe)(v.KVO(Be),v.KVO(v.uvJ))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})(),Ps=0;class ri{}function Ks(){return"object"==typeof window?window:{}}let ps=(()=>{class oe{callbackMap;document;resolvedPromise=Promise.resolve();constructor(_e,Ge){this.callbackMap=_e,this.document=Ge}nextCallback(){return"ng_jsonp_callback_"+Ps++}handle(_e){if("JSONP"!==_e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==_e.responseType)throw new Error("JSONP requests must use Json response type.");if(_e.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new U.c(Ge=>{const bt=this.nextCallback(),Rt=_e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${bt}$1`),Lt=this.document.createElement("script");Lt.src=Rt;let _n=null,fe=!1;this.callbackMap[bt]=Et=>{delete this.callbackMap[bt],_n=Et,fe=!0};const Je=()=>{Lt.removeEventListener("load",Pe),Lt.removeEventListener("error",ze),Lt.remove(),delete this.callbackMap[bt]},Pe=Et=>{this.resolvedPromise.then(()=>{Je(),fe?(Ge.next(new st({body:_n,status:200,statusText:"OK",url:Rt})),Ge.complete()):Ge.error(new et({url:Rt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},ze=Et=>{Je(),Ge.error(new et({error:Et,status:0,statusText:"JSONP Error",url:Rt}))};return Lt.addEventListener("load",Pe),Lt.addEventListener("error",ze),this.document.body.appendChild(Lt),Ge.next({type:Yn.Sent}),()=>{fe||this.removeListeners(Lt),Je()}})}removeListeners(_e){fs??=this.document.implementation.createHTMLDocument(),fs.adoptNode(_e)}static \u0275fac=function(Ge){return new(Ge||oe)(v.KVO(ri),v.KVO(ne.DOCUMENT))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();function Jn(oe,Ie){return"JSONP"===oe.method?(0,v.WQX)(ps).handle(oe):Ie(oe)}const cr=/^\)\]\}',?\n/,Jr=RegExp(`^${gn}:`,"m");let qn=(()=>{class oe{xhrFactory;constructor(_e){this.xhrFactory=_e}handle(_e){if("JSONP"===_e.method)throw new v.wOt(-2800,!1);const Ge=this.xhrFactory;return(Ge.\u0275loadImpl?(0,K.H)(Ge.\u0275loadImpl()):(0,ue.of)(null)).pipe((0,ee.n)(()=>new U.c(Rt=>{const Lt=Ge.build();if(Lt.open(_e.method,_e.urlWithParams),_e.withCredentials&&(Lt.withCredentials=!0),_e.headers.forEach((vn,Rn)=>Lt.setRequestHeader(vn,Rn.join(","))),_e.headers.has("Accept")||Lt.setRequestHeader("Accept",as),!_e.headers.has(Ze)){const vn=_e.detectContentTypeHeader();null!==vn&&Lt.setRequestHeader(Ze,vn)}if(_e.responseType){const vn=_e.responseType.toLowerCase();Lt.responseType="json"!==vn?vn:"text"}const _n=_e.serializeBody();let fe=null;const Je=()=>{if(null!==fe)return fe;const vn=Lt.statusText||"OK",Rn=new Fe(Lt.getAllResponseHeaders()),Er=function ss(oe){return"responseURL"in oe&&oe.responseURL?oe.responseURL:Jr.test(oe.getAllResponseHeaders())?oe.getResponseHeader(gn):null}(Lt)||_e.url;return fe=new tt({headers:Rn,status:Lt.status,statusText:vn,url:Er}),fe},Pe=()=>{let{headers:vn,status:Rn,statusText:Er,url:Kt}=Je(),$n=null;204!==Rn&&($n=typeof Lt.response>"u"?Lt.responseText:Lt.response),0===Rn&&(Rn=$n?200:0);let Is=Rn>=200&&Rn<300;if("json"===_e.responseType&&"string"==typeof $n){const xn=$n;$n=$n.replace(cr,"");try{$n=""!==$n?JSON.parse($n):null}catch(Qr){$n=xn,Is&&(Is=!1,$n={error:Qr,text:$n})}}Is?(Rt.next(new st({body:$n,headers:vn,status:Rn,statusText:Er,url:Kt||void 0})),Rt.complete()):Rt.error(new et({error:$n,headers:vn,status:Rn,statusText:Er,url:Kt||void 0}))},ze=vn=>{const{url:Rn}=Je(),Er=new et({error:vn,status:Lt.status||0,statusText:Lt.statusText||"Unknown Error",url:Rn||void 0});Rt.error(Er)};let Et=!1;const ct=vn=>{Et||(Rt.next(Je()),Et=!0);let Rn={type:Yn.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(Rn.total=vn.total),"text"===_e.responseType&&Lt.responseText&&(Rn.partialText=Lt.responseText),Rt.next(Rn)},Ht=vn=>{let Rn={type:Yn.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(Rn.total=vn.total),Rt.next(Rn)};return Lt.addEventListener("load",Pe),Lt.addEventListener("error",ze),Lt.addEventListener("timeout",ze),Lt.addEventListener("abort",ze),_e.reportProgress&&(Lt.addEventListener("progress",ct),null!==_n&&Lt.upload&&Lt.upload.addEventListener("progress",Ht)),Lt.send(_n),Rt.next({type:Yn.Sent}),()=>{Lt.removeEventListener("error",ze),Lt.removeEventListener("abort",ze),Lt.removeEventListener("load",Pe),Lt.removeEventListener("timeout",ze),_e.reportProgress&&(Lt.removeEventListener("progress",ct),null!==_n&&Lt.upload&&Lt.upload.removeEventListener("progress",Ht)),Lt.readyState!==Lt.DONE&&Lt.abort()}})))}static \u0275fac=function(Ge){return new(Ge||oe)(v.KVO(ne.XhrFactory))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const mo=new v.nKC(""),zs=new v.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),be=new v.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ve{}let Qe=(()=>{class oe{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(_e,Ge,bt){this.doc=_e,this.platform=Ge,this.cookieName=bt}getToken(){if("server"===this.platform)return null;const _e=this.doc.cookie||"";return _e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne.\u0275parseCookieValue)(_e,this.cookieName),this.lastCookieString=_e),this.lastToken}static \u0275fac=function(Ge){return new(Ge||oe)(v.KVO(ne.DOCUMENT),v.KVO(v.Agw),v.KVO(zs))};static \u0275prov=v.jDH({token:oe,factory:oe.\u0275fac})}return oe})();function he(oe,Ie){const _e=oe.url.toLowerCase();if(!(0,v.WQX)(mo)||"GET"===oe.method||"HEAD"===oe.method||_e.startsWith("http://")||_e.startsWith("https://"))return Ie(oe);const Ge=(0,v.WQX)(Ve).getToken(),bt=(0,v.WQX)(be);return null!=Ge&&!oe.headers.has(bt)&&(oe=oe.clone({headers:oe.headers.set(bt,Ge)})),Ie(oe)}var de=function(oe){return oe[oe.Interceptors=0]="Interceptors",oe[oe.LegacyInterceptors=1]="LegacyInterceptors",oe[oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",oe[oe.NoXsrfProtection=3]="NoXsrfProtection",oe[oe.JsonpSupport=4]="JsonpSupport",oe[oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",oe[oe.Fetch=6]="Fetch",oe}(de||{});function we(oe,Ie){return{\u0275kind:oe,\u0275providers:Ie}}function it(...oe){const Ie=[rr,qn,Zr,{provide:Ce,useExisting:Zr},{provide:Be,useFactory:()=>(0,v.WQX)(wn,{optional:!0})??(0,v.WQX)(qn)},{provide:Yr,useValue:he,multi:!0},{provide:mo,useValue:!0},{provide:Ve,useClass:Qe}];for(const _e of oe)Ie.push(..._e.\u0275providers);return(0,v.EmA)(Ie)}const on=new v.nKC("");function Yt(){return we(de.LegacyInterceptors,[{provide:on,useFactory:Bt},{provide:Yr,useExisting:on,multi:!0}])}function Or(){return we(de.JsonpSupport,[ps,{provide:ri,useFactory:Ks},{provide:Yr,useValue:Jn,multi:!0}])}let wt=(()=>{class oe{static \u0275fac=function(Ge){return new(Ge||oe)};static \u0275mod=v.$C({type:oe});static \u0275inj=v.G2t({providers:[it(Yt())]})}return oe})(),vt=(()=>{class oe{static \u0275fac=function(Ge){return new(Ge||oe)};static \u0275mod=v.$C({type:oe});static \u0275inj=v.G2t({providers:[Or().\u0275providers]})}return oe})();const Sn=(()=>{const oe=Cn("json");return oe.arrayBuffer=Cn("arraybuffer"),oe.blob=Cn("blob"),oe.text=Cn("text"),oe})();function Cn(oe){return function(_e,Ge){Ge?.injector||(0,v.Af3)(Sn);const bt=Ge?.injector??(0,v.WQX)(v.zZn);return new es(bt,()=>function Kn(oe,Ie){let _e="function"==typeof oe?oe():oe;if(void 0===_e)return;"string"==typeof _e&&(_e={url:_e});const Ge=_e.headers instanceof Fe?_e.headers:new Fe(_e.headers),bt=_e.params instanceof Xe?_e.params:new Xe({fromObject:_e.params});return new Fr(_e.method??"GET",_e.url,_e.body??null,{headers:Ge,params:bt,reportProgress:_e.reportProgress,withCredentials:_e.withCredentials,responseType:Ie})}(_e,oe),Ge?.defaultValue,Ge?.parse)}}class es extends v.waE{client;_headers=(0,v.uuI)({source:this.extRequest,computation:()=>{}});_progress=(0,v.uuI)({source:this.extRequest,computation:()=>{}});_statusCode=(0,v.uuI)({source:this.extRequest,computation:()=>{}});headers=(0,v.EWP)(()=>this.status()===v.bk.Resolved||this.status()===v.bk.Error?this._headers():void 0);progress=this._progress.asReadonly();statusCode=this._statusCode.asReadonly();constructor(Ie,_e,Ge,bt){super(_e,({request:Rt,abortSignal:Lt})=>{let _n;const fe=()=>_n.unsubscribe();Lt.addEventListener("abort",fe);const Je=(0,v.vPA)({value:void 0});let Pe;const ze=new Promise(ct=>Pe=ct),Et=ct=>{Je.set(ct),Pe?.(Je),Pe=void 0};return _n=this.client.request(Rt).subscribe({next:ct=>{switch(ct.type){case Yn.Response:this._headers.set(ct.headers),this._statusCode.set(ct.status);try{Et({value:bt?bt(ct.body):ct.body})}catch(Ht){Et({error:Ht})}break;case Yn.DownloadProgress:this._progress.set(ct)}},error:ct=>Et({error:ct}),complete:()=>{Pe&&Et({error:new Error("Resource completed before producing a value")}),Lt.removeEventListener("abort",fe)}}),ze},Ge,void 0,Ie),this.client=Ie.get(rr)}hasValue(){return super.hasValue()}}},1635:(pt,ye,C)=>{function U(ke,tt){var st={};for(var et in ke)Object.prototype.hasOwnProperty.call(ke,et)&&tt.indexOf(et)<0&&(st[et]=ke[et]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var At=0;for(et=Object.getOwnPropertySymbols(ke);At<et.length;At++)tt.indexOf(et[At])<0&&Object.prototype.propertyIsEnumerable.call(ke,et[At])&&(st[et[At]]=ke[et[At]])}return st}function K(ke,tt,st,et){var Jt,At=arguments.length,St=At<3?tt:null===et?et=Object.getOwnPropertyDescriptor(tt,st):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(ke,tt,st,et);else for(var On=ke.length-1;On>=0;On--)(Jt=ke[On])&&(St=(At<3?Jt(St):At>3?Jt(tt,st,St):Jt(tt,st))||St);return At>3&&St&&Object.defineProperty(tt,st,St),St}function Ce(ke,tt,st,et){return new(st||(st=Promise))(function(St,Jt){function On(Un){try{fn(et.next(Un))}catch(wn){Jt(wn)}}function rr(Un){try{fn(et.throw(Un))}catch(wn){Jt(wn)}}function fn(Un){Un.done?St(Un.value):function At(St){return St instanceof st?St:new st(function(Jt){Jt(St)})}(Un.value).then(On,rr)}fn((et=et.apply(ke,tt||[])).next())})}function lt(ke){return this instanceof lt?(this.v=ke,this):new lt(ke)}function Xe(ke,tt,st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,et=st.apply(ke,tt||[]),St=[];return At=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),On("next"),On("throw"),On("return",function Jt(Xn){return function(ir){return Promise.resolve(ir).then(Xn,wn)}}),At[Symbol.asyncIterator]=function(){return this},At;function On(Xn,ir){et[Xn]&&(At[Xn]=function(ls){return new Promise(function(Ir,qr){St.push([Xn,ls,Ir,qr])>1||rr(Xn,ls)})},ir&&(At[Xn]=ir(At[Xn])))}function rr(Xn,ir){try{!function fn(Xn){Xn.value instanceof lt?Promise.resolve(Xn.value.v).then(Un,wn):kr(St[0][2],Xn)}(et[Xn](ir))}catch(ls){kr(St[0][3],ls)}}function Un(Xn){rr("next",Xn)}function wn(Xn){rr("throw",Xn)}function kr(Xn,ir){Xn(ir),St.shift(),St.length&&rr(St[0][0],St[0][1])}}function kt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,tt=ke[Symbol.asyncIterator];return tt?tt.call(ke):(ke=function Te(ke){var tt="function"==typeof Symbol&&Symbol.iterator,st=tt&&ke[tt],et=0;if(st)return st.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&et>=ke.length&&(ke=void 0),{value:ke&&ke[et++],done:!ke}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),st={},et("next"),et("throw"),et("return"),st[Symbol.asyncIterator]=function(){return this},st);function et(St){st[St]=ke[St]&&function(Jt){return new Promise(function(On,rr){!function At(St,Jt,On,rr){Promise.resolve(rr).then(function(fn){St({value:fn,done:On})},Jt)}(On,rr,(Jt=ke[St](Jt)).done,Jt.value)})}}}C.d(ye,{AQ:()=>Xe,Cg:()=>K,N3:()=>lt,Tt:()=>U,sH:()=>Ce,xN:()=>kt}),"function"==typeof SuppressedError&&SuppressedError},1807:(pt,ye,C)=>{C.d(ye,{O:()=>K});var E=C(1985),v=C(3236),ue=C(9470),U=C(8211);function K(J=0,q,W=v.b){let se=-1;return null!=q&&((0,ue.m)(q)?W=q:se=q),new E.c(ee=>{let ne=(0,U.v)(J)?+J-W.now():J;ne<0&&(ne=0);let Ce=0;return W.schedule(function(){ee.closed||(ee.next(Ce++),0<=se?this.schedule(void 0,se):ee.complete())},ne)})}},1853:(pt,ye,C)=>{function E(v){const U=v(K=>{Error.call(K),K.stack=(new Error).stack});return U.prototype=Object.create(Error.prototype),U.prototype.constructor=U,U}C.d(ye,{L:()=>E})},1985:(pt,ye,C)=>{C.d(ye,{c:()=>W});var E=C(7707),v=C(8359),ue=C(3494),U=C(1203),K=C(1026),J=C(8071),q=C(9786);let W=(()=>{class Ce{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Oe=new Ce;return Oe.source=this,Oe.operator=Fe,Oe}subscribe(Fe,Oe,Te){const qe=function ne(Ce){return Ce&&Ce instanceof E.vU||function ee(Ce){return Ce&&(0,J.T)(Ce.next)&&(0,J.T)(Ce.error)&&(0,J.T)(Ce.complete)}(Ce)&&(0,v.Uv)(Ce)}(Fe)?Fe:new E.Ms(Fe,Oe,Te);return(0,q.Y)(()=>{const{operator:He,source:Dt}=this;qe.add(He?He.call(qe,Dt):Dt?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Oe){Fe.error(Oe)}}forEach(Fe,Oe){return new(Oe=se(Oe))((Te,qe)=>{const He=new E.Ms({next:Dt=>{try{Fe(Dt)}catch(Tt){qe(Tt),He.unsubscribe()}},error:qe,complete:Te});this.subscribe(He)})}_subscribe(Fe){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Fe)}[ue.s](){return this}pipe(...Fe){return(0,U.m)(Fe)(this)}toPromise(Fe){return new(Fe=se(Fe))((Oe,Te)=>{let qe;this.subscribe(He=>qe=He,He=>Te(He),()=>Oe(qe))})}}return Ce.create=Be=>new Ce(Be),Ce})();function se(Ce){var Be;return null!==(Be=Ce??K.$.Promise)&&void 0!==Be?Be:Promise}},2197:(pt,ye,C)=>{C.d(ye,{Z:()=>U});var E=C(4412),v=C(884),ue=C(4438);let U=(()=>{class K{constructor(q){this.router=q,this.loadCount=0,this.loadState=new E.t(!1),this.router.events.subscribe(W=>{this.navigationInterceptor(W)})}showLoader(){this.loadCount+=1,this.loadState.next(!0)}hideLoader(){this.loadCount=this.loadCount?--this.loadCount:0,this.loadCount||this.loadState.next(!1)}navigationInterceptor(q){q instanceof v.Z&&this.showLoader(),q instanceof v.wF&&this.hideLoader(),q instanceof v.j5&&this.hideLoader(),q instanceof v.L6&&this.hideLoader()}static{this.\u0275fac=function(W){return new(W||K)(ue.KVO(v.Ix))}}static{this.\u0275prov=ue.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},2214:(pt,ye,C)=>{C.d(ye,{Dk:()=>E.Dk,Sx:()=>E.Sx,Wp:()=>E.Wp});var E=C(7852);(0,E.KO)("firebase","9.23.0","app")},2376:(pt,ye,C)=>{C.d(ye,{f:()=>K});var E=C(1413),v=C(4438),ue=C(345);const U={timer:5e3,success:{icon:"fa fa-solid fa-check-circle",text:"Success: This is a success toast.",svg:'\n        <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n    <path d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM227.3 387.3l184-184c6.2-6.2 6.2-16.4 0-22.6l-22.6-22.6c-6.2-6.2-16.4-6.2-22.6 0L216 308.1l-70.1-70.1c-6.2-6.2-16.4-6.2-22.6 0l-22.6 22.6c-6.2 6.2-6.2 16.4 0 22.6l104 104c6.2 6.2 16.4 6.2 22.6 0z"/></svg>\n        '},error:{icon:"fa fa-solid fa-xmark-circle",text:"Error: This is an error toast.",svg:'\n       <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n      <path\n        d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"\n      />\n    </svg>\n        '},warning:{icon:"fa fa-solid fa-exclamation-triangle",text:"Warning: This is a warning toast.",svg:'\n        <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\n    <path d="M569.5 440C588 472 564.8 512 527.9 512H48.1c-36.9 0-60-40.1-41.6-72L246.4 24c18.5-32 64.7-32 83.2 0l239.9 416zM288 354c-25.4 0-46 20.6-46 46s20.6 46 46 46 46-20.6 46-46-20.6-46-46-46zm-43.7-165.3l7.4 136c.3 6.4 5.6 11.3 12 11.3h48.5c6.4 0 11.6-5 12-11.3l7.4-136c.4-6.9-5.1-12.7-12-12.7h-63.4c-6.9 0-12.4 5.8-12 12.7z"/></svg>\n        '},info:{icon:"fa fa-solid fa-info-circle",text:"Info: This is an information toast.",svg:'\n        <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n    <path d="M256 8C119 8 8 119.1 8 256c0 137 111 248 248 248s248-111 248-248C504 119.1 393 8 256 8zm0 110c23.2 0 42 18.8 42 42s-18.8 42-42 42-42-18.8-42-42 18.8-42 42-42zm56 254c0 6.6-5.4 12-12 12h-88c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h12v-64h-12c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h64c6.6 0 12 5.4 12 12v100h12c6.6 0 12 5.4 12 12v24z"/></svg>\n        '}};let K=(()=>{class J{constructor(W){this.sanitizer=W,this.toastConfig=U,this._toastEvents=new E.B,this.toastEvents=this._toastEvents.asObservable()}showToast(W,se="",ee="success"){const{icon:ne,svg:Be}=U[ee],Fe=this.senitize(Be);this._toastEvents.next({title:W,message:se,type:ee,icon:ne,svg:Fe})}senitize(W){return this.sanitizer.bypassSecurityTrustHtml(W)}static{this.\u0275fac=function(se){return new(se||J)(v.KVO(ue.up))}}static{this.\u0275prov=v.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},2498:(pt,ye,C)=>{C.d(ye,{L:()=>J});var E=C(9974),v=C(4360),ue=C(3669),U=C(1807),K=C(8750);function J(q=1/0){let W;W=q&&"object"==typeof q?q:{count:q};const{count:se=1/0,delay:ee,resetOnSuccess:ne=!1}=W;return se<=0?ue.D:(0,E.N)((Ce,Be)=>{let Oe,Fe=0;const Te=()=>{let qe=!1;Oe=Ce.subscribe((0,v._)(Be,He=>{ne&&(Fe=0),Be.next(He)},void 0,He=>{if(Fe++<se){const Dt=()=>{Oe?(Oe.unsubscribe(),Oe=null,Te()):qe=!0};if(null!=ee){const Tt="number"==typeof ee?(0,U.O)(ee):(0,K.Tg)(ee(He,Fe)),lt=(0,v._)(Be,()=>{lt.unsubscribe(),Dt()},()=>{Be.complete()});Tt.subscribe(lt)}else Dt()}else Be.error(He)})),qe&&(Oe.unsubscribe(),Oe=null,Te())};Te()})}},2503:(pt,ye,C)=>{C.d(ye,{Ny:()=>K,Ze:()=>ue,aE:()=>U});var E=C(9310),v=function(J){return J.loadData="[loadData] load",J.loadDataSuccess="[loadData] success",J.loadDataFailure="[loadData] failure",J}(v||{});const ue=(0,E.VP)(v.loadData),U=(0,E.VP)(v.loadDataSuccess,(0,E.xk)()),K=(0,E.VP)(v.loadDataFailure,(0,E.xk)())},2661:(pt,ye,C)=>{C.d(ye,{l:()=>W});var E=C(9310),v=C(334),ue=C(3529);const U=(0,E.UX)(ue.cp),K=(0,E.Mz)(U,se=>se.articles);class J{constructor(ee,ne,Ce,Be){this.id=ee,this.title=ne,this.link=Ce,this.points=Be||0,this.time=new Date}}var q=C(4438);let W=(()=>{class se{constructor(ne){this.store=ne,this.id=0}getArticle(){return this.store.pipe((0,E.Lt)(K))}incArticle(ne){this.store.dispatch(v.GV(ne))}decArticle(ne){this.store.dispatch(v.Kt(ne))}addArticle(ne){let Ce=new J(++this.id,ne.title,ne.link,0);this.store.dispatch(v.WQ({payload:Ce}))}loadArticle(ne){this.store.dispatch(v.Hh())}static{this.\u0275fac=function(Ce){return new(Ce||se)(q.KVO(E.il))}}static{this.\u0275prov=q.jDH({token:se,factory:se.\u0275fac})}}return se})()},2749:(pt,ye,C)=>{C.d(ye,{y:()=>E});class E{}},2771:(pt,ye,C)=>{C.d(ye,{m:()=>ue});var E=C(1413),v=C(6129);class ue extends E.B{constructor(K=1/0,J=1/0,q=v.U){super(),this._bufferSize=K,this._windowTime=J,this._timestampProvider=q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,K),this._windowTime=Math.max(1,J)}next(K){const{isStopped:J,_buffer:q,_infiniteTimeWindow:W,_timestampProvider:se,_windowTime:ee}=this;J||(q.push(K),!W&&q.push(se.now()+ee)),this._trimBuffer(),super.next(K)}_subscribe(K){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(K),{_infiniteTimeWindow:q,_buffer:W}=this,se=W.slice();for(let ee=0;ee<se.length&&!K.closed;ee+=q?1:2)K.next(se[ee]);return this._checkFinalizedStatuses(K),J}_trimBuffer(){const{_bufferSize:K,_timestampProvider:J,_buffer:q,_infiniteTimeWindow:W}=this,se=(W?1:2)*K;if(K<1/0&&se<q.length&&q.splice(0,q.length-se),!W){const ee=J.now();let ne=0;for(let Ce=1;Ce<q.length&&q[Ce]<=ee;Ce+=2)ne=Ce;ne&&q.splice(0,ne+1)}}}},2806:(pt,ye,C)=>{C.d(ye,{H:()=>Vt});var E=C(8750),v=C(941),ue=C(9974);function U(kt,qt=0){return(0,ue.N)((jt,sn)=>{sn.add(kt.schedule(()=>jt.subscribe(sn),qt))})}var q=C(1985),se=C(4761),ee=C(8071),ne=C(5225);function Be(kt,qt){if(!kt)throw new Error("Iterable cannot be null");return new q.c(jt=>{(0,ne.N)(jt,qt,()=>{const sn=kt[Symbol.asyncIterator]();(0,ne.N)(jt,qt,()=>{sn.next().then(An=>{An.done?jt.complete():jt.next(An.value)})},0,!0)})})}var Fe=C(5055),Oe=C(9858),Te=C(7441),qe=C(5397),He=C(7953),Dt=C(591),Tt=C(5196);function Vt(kt,qt){return qt?function Xe(kt,qt){if(null!=kt){if((0,Fe.l)(kt))return function K(kt,qt){return(0,E.Tg)(kt).pipe(U(qt),(0,v.Q)(qt))}(kt,qt);if((0,Te.X)(kt))return function W(kt,qt){return new q.c(jt=>{let sn=0;return qt.schedule(function(){sn===kt.length?jt.complete():(jt.next(kt[sn++]),jt.closed||this.schedule())})})}(kt,qt);if((0,Oe.y)(kt))return function J(kt,qt){return(0,E.Tg)(kt).pipe(U(qt),(0,v.Q)(qt))}(kt,qt);if((0,He.T)(kt))return Be(kt,qt);if((0,qe.x)(kt))return function Ce(kt,qt){return new q.c(jt=>{let sn;return(0,ne.N)(jt,qt,()=>{sn=kt[se.l](),(0,ne.N)(jt,qt,()=>{let An,yt;try{({value:An,done:yt}=sn.next())}catch(Ze){return void jt.error(Ze)}yt?jt.complete():jt.next(An)},0,!0)}),()=>(0,ee.T)(sn?.return)&&sn.return()})}(kt,qt);if((0,Tt.U)(kt))return function lt(kt,qt){return Be((0,Tt.C)(kt),qt)}(kt,qt)}throw(0,Dt.L)(kt)}(kt,qt):(0,E.Tg)(kt)}},2816:(pt,ye,C)=>{C.d(ye,{S:()=>U});var E=C(9974),v=C(4360);function U(K,J){return(0,E.N)(function ue(K,J,q,W,se){return(ee,ne)=>{let Ce=q,Be=J,Fe=0;ee.subscribe((0,v._)(ne,Oe=>{const Te=Fe++;Be=Ce?K(Be,Oe,Te):(Ce=!0,Oe),W&&ne.next(Be)},se&&(()=>{Ce&&ne.next(Be),ne.complete()})))}}(K,J,arguments.length>=2,!0))}},2830:(pt,ye,C)=>{C.d(ye,{FW:()=>J,cp:()=>ue});var E=C(9310),v=C(4413);const ue="counter",K=(0,E.vy)({count:0},(0,E.on)(v.GV,q=>({...q,count:q.count+1})),(0,E.on)(v.Kt,q=>({...q,count:q.count-1})),(0,E.on)(v.cL,q=>({...q,count:0})),(0,E.on)(v.Co,(q,W)=>({...q,count:W.newValue})));function J(q,W){return K(q,W)}},3073:(pt,ye,C)=>{C.d(ye,{D:()=>K});const{isArray:E}=Array,{getPrototypeOf:v,prototype:ue,keys:U}=Object;function K(q){if(1===q.length){const W=q[0];if(E(W))return{args:W,keys:null};if(function J(q){return q&&"object"==typeof q&&v(q)===ue}(W)){const se=U(W);return{args:se.map(ee=>W[ee]),keys:se}}}return{args:q,keys:null}}},3236:(pt,ye,C)=>{C.d(ye,{E:()=>ue,b:()=>U});var E=C(6780);const ue=new(C(9687).q)(E.R),U=ue},3294:(pt,ye,C)=>{C.d(ye,{F:()=>U});var E=C(3669),v=C(9974),ue=C(4360);function U(J,q=E.D){return J=J??K,(0,v.N)((W,se)=>{let ee,ne=!0;W.subscribe((0,ue._)(se,Ce=>{const Be=q(Ce);(ne||!J(ee,Be))&&(ne=!1,ee=Be,se.next(Ce))}))})}function K(J,q){return J===q}},3319:(pt,ye,C)=>{C.d(ye,{m:()=>ne});var E=C(1413),v=C(17),ue=C(8071),U=C(8750),K=C(9974),J=C(1985);const W={connector:()=>new E.B};function se(Ce,Be=W){const{connector:Fe}=Be;return(0,K.N)((Oe,Te)=>{const qe=Fe();(0,U.Tg)(Ce(function q(Ce){return new J.c(Be=>Ce.subscribe(Be))}(qe))).subscribe(Te),Te.add(Oe.subscribe(qe))})}function ne(Ce){return Ce?Be=>se(Ce)(Be):Be=>function ee(Ce,Be){const Fe=(0,ue.T)(Ce)?Ce:()=>Ce;return(0,ue.T)(Be)?se(Be,{connector:Fe}):Oe=>new v.G(Oe,Fe)}(new E.B)(Be)}},3344:(pt,ye,C)=>{C.d(ye,{I:()=>E});const E={apiKey:"AIzaSyAQszHYa_YW__6DdJDCqlKOsRBpszVz8sQ",authDomain:"rktect-rest.firebaseapp.com",databaseURL:"https://rktect-rest-default-rtdb.firebaseio.com",projectId:"rktect-rest",storageBucket:"rktect-rest.appspot.com",messagingSenderId:"797842765239",appId:"1:797842765239:web:e3ddfbb57fbdff9dd42432",auth_Token:"kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc"}},3386:(pt,ye,C)=>{C.d(ye,{c:()=>q});var E=C(3236),v=C(9974),ue=C(4360),U=C(8750),J=C(1807);function q(W,se=E.E,ee){const ne=(0,J.O)(W,se);return function K(W,se){return(0,v.N)((ee,ne)=>{const{leading:Ce=!0,trailing:Be=!1}=se??{};let Fe=!1,Oe=null,Te=null,qe=!1;const He=()=>{Te?.unsubscribe(),Te=null,Be&&(lt(),qe&&ne.complete())},Dt=()=>{Te=null,qe&&ne.complete()},Tt=Xe=>Te=(0,U.Tg)(W(Xe)).subscribe((0,ue._)(ne,He,Dt)),lt=()=>{if(Fe){Fe=!1;const Xe=Oe;Oe=null,ne.next(Xe),!qe&&Tt(Xe)}};ee.subscribe((0,ue._)(ne,Xe=>{Fe=!0,Oe=Xe,(!Te||Te.closed)&&(Ce?lt():Tt(Xe))},()=>{qe=!0,(!(Be&&Fe&&Te)||Te.closed)&&ne.complete()}))})}(()=>ne,ee)}},3494:(pt,ye,C)=>{C.d(ye,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},3529:(pt,ye,C)=>{C.d(ye,{Jv:()=>J,cp:()=>ue});var E=C(9310),v=C(334);const ue="article",K=(0,E.vy)({articles:[]},(0,E.on)(v.GV,(q,W)=>({...q,articles:q.articles.map(se=>se.id==W.id?{...se,points:se.points+1}:se)})),(0,E.on)(v.Kt,(q,W)=>({...q,articles:q.articles.map(se=>se.id==W.id?{...se,points:se.points-1}:se)})),(0,E.on)(v.WQ,(q,{payload:W})=>({...q,articles:[...q.articles,W]})));function J(q,W){return K(q,W)}},3557:(pt,ye,C)=>{C.d(ye,{w:()=>U});var E=C(9974),v=C(4360),ue=C(5343);function U(){return(0,E.N)((K,J)=>{K.subscribe((0,v._)(J,ue.l))})}},3669:(pt,ye,C)=>{function E(v){return v}C.d(ye,{D:()=>E})},3703:(pt,ye,C)=>{C.d(ye,{u:()=>v});var E=C(6354);function v(ue){return(0,E.T)(()=>ue)}},3726:(pt,ye,C)=>{C.d(ye,{R:()=>ee});var E=C(8750),v=C(1985),ue=C(1397),U=C(7441),K=C(8071),J=C(6450);const q=["addListener","removeListener"],W=["addEventListener","removeEventListener"],se=["on","off"];function ee(Oe,Te,qe,He){if((0,K.T)(qe)&&(He=qe,qe=void 0),He)return ee(Oe,Te,qe).pipe((0,J.I)(He));const[Dt,Tt]=function Fe(Oe){return(0,K.T)(Oe.addEventListener)&&(0,K.T)(Oe.removeEventListener)}(Oe)?W.map(lt=>Xe=>Oe[lt](Te,Xe,qe)):function Ce(Oe){return(0,K.T)(Oe.addListener)&&(0,K.T)(Oe.removeListener)}(Oe)?q.map(ne(Oe,Te)):function Be(Oe){return(0,K.T)(Oe.on)&&(0,K.T)(Oe.off)}(Oe)?se.map(ne(Oe,Te)):[];if(!Dt&&(0,U.X)(Oe))return(0,ue.Z)(lt=>ee(lt,Te,qe))((0,E.Tg)(Oe));if(!Dt)throw new TypeError("Invalid event target");return new v.c(lt=>{const Xe=(...Vt)=>lt.next(1<Vt.length?Vt:Vt[0]);return Dt(Xe),()=>Tt(Xe)})}function ne(Oe,Te){return qe=>He=>Oe[qe](Te,He)}},3774:(pt,ye,C)=>{C.d(ye,{v:()=>U});var E=C(9350),v=C(9974),ue=C(4360);function U(J=K){return(0,v.N)((q,W)=>{let se=!1;q.subscribe((0,ue._)(W,ee=>{se=!0,W.next(ee)},()=>se?W.complete():W.error(J())))})}function K(){return new E.G}},3887:(pt,ye,C)=>{C.d(ye,{G:()=>K});var E=C(177),v=C(9417),ue=C(884),U=C(4438);let K=(()=>{class J{static{this.\u0275fac=function(se){return new(se||J)}}static{this.\u0275mod=U.$C({type:J})}static{this.\u0275inj=U.G2t({imports:[E.CommonModule,ue.iI,v.YN,v.X1,v.YN,v.X1]})}}return J})()},3993:(pt,ye,C)=>{C.d(ye,{E:()=>q});var E=C(9974),v=C(4360),ue=C(8750),U=C(3669),K=C(5343),J=C(9326);function q(...W){const se=(0,J.ms)(W);return(0,E.N)((ee,ne)=>{const Ce=W.length,Be=new Array(Ce);let Fe=W.map(()=>!1),Oe=!1;for(let Te=0;Te<Ce;Te++)(0,ue.Tg)(W[Te]).subscribe((0,v._)(ne,qe=>{Be[Te]=qe,!Oe&&!Fe[Te]&&(Fe[Te]=!0,(Oe=Fe.every(U.D))&&(Fe=null))},K.l));ee.subscribe((0,v._)(ne,Te=>{if(Oe){const qe=[Te,...Be];ne.next(se?se(...qe):qe)}}))})}},4360:(pt,ye,C)=>{C.d(ye,{H:()=>ue,_:()=>v});var E=C(7707);function v(U,K,J,q,W){return new ue(U,K,J,q,W)}class ue extends E.vU{constructor(K,J,q,W,se,ee){super(K),this.onFinalize=se,this.shouldUnsubscribe=ee,this._next=J?function(ne){try{J(ne)}catch(Ce){K.error(Ce)}}:super._next,this._error=W?function(ne){try{W(ne)}catch(Ce){K.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(ne){K.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},4373:(pt,ye,C)=>{C.d(ye,{BF:()=>ee,bb:()=>Ce});var E=C(467),v=C(4438),ue=C(7673),U=C(2806),K=C(4668),J=C(6354),q=C(9437),W=C(274),se=C(7539);let ee=(()=>{class Be extends se.J{constructor(){super(),this.totalUsers$=this.readRealtime$("status").pipe((0,K.t)(1))}get getUserOnlineCounts$(){return this.getUserByStatus("online").pipe((0,J.T)(Oe=>Oe.length),(0,q.W)(Oe=>(console.error("Error fetching user counts:",Oe),(0,ue.of)(0))))}getUserByStatus(Oe){return this.totalUsers$.pipe((0,J.T)(Te=>Te.filter(qe=>qe.status===Oe)),(0,q.W)(Te=>(console.error("Error fetching user counts:",Te),(0,ue.of)(0))))}getUsers$(Oe="asc"){return this.totalUsers$.pipe((0,J.T)(Te=>Te.sort((qe,He)=>this.compareUserStatus(qe,He,Oe))),(0,q.W)(Te=>(console.error("Error fetching users:",Te),(0,ue.of)([]))))}compareUserStatus(Oe,Te,qe){const He=Oe.status.localeCompare(Te.status);return"asc"===qe?He:-He}get timestamp(){return(new Date).getTime()}getPresence(Oe){return this.readRealtimeOriginal$(`status/${Oe}`)}setPresence(Oe,Te){this.set(`status/${Oe}`,{status:Te,timestamp:this.timestamp}).then(qe=>{})}setPresence$(Oe,Te){return(0,U.H)(this.set(`status/${Oe}`,{status:Te,timestamp:this.timestamp}))}changeAllUsersStatus(Oe,Te){this.getUserByStatus(Oe).pipe((0,W.H)(qe=>qe.map(He=>this.setPresence$(He.key,Te)))).subscribe({next:()=>{},error:qe=>{console.error("Error logging out users:",qe)},complete:()=>{}})}logOutAllUsers(){this.changeAllUsersStatus("online","offline")}updateOnAway(Oe){document.onvisibilitychange=Te=>{"hidden"===document.visibilityState?this.setPresence(Oe,"away"):this.setPresence(Oe,"online")},window.onbeforeunload=()=>{this.setPresence(Oe,"offline")}}updateOnUser(Oe){this.detectingConnectionState().pipe((0,J.T)(Te=>Te?"online":"offline")).subscribe(Te=>this.setPresence(Oe,Te))}updateOnDisconnect(Oe){this.onDisconnect(`status/${Oe}`).update({status:"offline",timestamp:this.timestamp})}configureUserPresenceByLocal(){let Oe=localStorage.getItem("uid");this.checkingUser(Oe)}configureUserPresenceByLogin(Oe,Te={}){this.checkingUser(Oe,Te)}configure(Oe){this.updateOnAway(Oe),this.updateOnUser(Oe),this.updateOnDisconnect(Oe)}checkingUser(Oe,Te={}){Oe?this.configure(Oe):this.create("status",{uid:Oe,...Te}).then(qe=>{const He=qe.key;localStorage.setItem("uid",He),this.configure(He)})}static{this.\u0275fac=function(Te){return new(Te||Be)}}static{this.\u0275prov=v.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}return Be})();const Ce={provide:v.hnV,useFactory:function ne(Be){return()=>new Promise(function(){var Fe=(0,E.A)(function*(Oe,Te){yield Be.configureUserPresenceByLocal(),Oe("done")});return function(Oe,Te){return Fe.apply(this,arguments)}}())},deps:[ee],multi:!0}},4384:(pt,ye,C)=>{var E=C(345),v=C(4438),ue=C(467),U=C(884),K=C(9969);const J=[(0,K.P)(":enter, :leave",(0,K.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,K.P)(":leave",(0,K.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,K.P)(":enter",(0,K.iF)({transform:"translateX(100%)"}),{optional:!0}),(0,K.Os)([(0,K.P)(":leave",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateX(-100%)"}))],{optional:!0}),(0,K.P)(":enter",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateX(0%)"}))],{optional:!0})])],q=[(0,K.P)(":enter, :leave",(0,K.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,K.P)(":leave",(0,K.iF)({transform:"translateX(0%)"}),{optional:!0}),(0,K.P)(":enter",(0,K.iF)({transform:"translateX(-100%)"}),{optional:!0}),(0,K.Os)([(0,K.P)(":leave",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateX(100%)"}))],{optional:!0}),(0,K.P)(":enter",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateX(0%)"}))],{optional:!0})])],W=[(0,K.P)(":enter, :leave",(0,K.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,K.P)(":leave",(0,K.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,K.P)(":enter",(0,K.iF)({transform:"translateY(100%)"}),{optional:!0}),(0,K.Os)([(0,K.P)(":leave",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateY(-100%)"}))],{optional:!0}),(0,K.P)(":enter",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateY(0%)"}))],{optional:!0})])],se=[(0,K.P)(":enter, :leave",(0,K.iF)({position:"fixed",left:0,right:0,top:0,bottom:0}),{optional:!0}),(0,K.P)(":leave",(0,K.iF)({transform:"translateY(0%)"}),{optional:!0}),(0,K.P)(":enter",(0,K.iF)({transform:"translateY(-100%)"}),{optional:!0}),(0,K.Os)([(0,K.P)(":leave",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateY(100%)"}))],{optional:!0}),(0,K.P)(":enter",[(0,K.i0)(".3s ease-in-out",(0,K.iF)({transform:"translateY(0%)"}))],{optional:!0})])],ee=(0,K.hZ)("slideTransition",[(0,K.kY)("* => slideToLeft",J),(0,K.kY)("* => slideToRight",q),(0,K.kY)("* => slideToTop",W),(0,K.kY)("* => slideToBottom",se)]);var ne=C(6454),Ce=C(177);const Be=()=>["navbar-dark","bg-dark"],Fe=()=>["navbar-light","bg-light"],Oe=I=>({show:I});function Te(I,D){if(1&I&&(v.j41(0,"li",11)(1,"a",12),v.EFF(2),v.k0s()()),2&I){const y=D.$implicit;v.R7$(),v.Y8G("routerLink",null==y?null:y.path),v.R7$(),v.JRh((null==y?null:y.name)||(null==y?null:y.path))}}function qe(I,D){if(1&I&&(v.j41(0,"a",13),v.EFF(1),v.k0s()),2&I){const y=D.$implicit;v.R7$(),v.JRh(y)}}let He=(()=>{class I{constructor(){this.isCollapsed=!1,this.routes=[],this.template="DARK",this.languages=["English","Hindi"]}ngOnInit(){}toggleNavbar(){this.isCollapsed=!this.isCollapsed}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-navbar"]],inputs:{routes:"routes",template:"template"},standalone:!1,decls:13,vars:10,consts:[[1,"navbar","navbar-expand-lg","sticky-top1",3,"ngClass"],["href","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item","dropdown","align-right",3,"click"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false","aria-haspopup","true",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"dropdown-item"]],template:function(b,B){1&b&&(v.j41(0,"nav",0)(1,"a",1),v.EFF(2,"Navbar"),v.k0s(),v.j41(3,"button",2),v.bIt("click",function(){return B.toggleNavbar()}),v.nrm(4,"span",3),v.k0s(),v.j41(5,"div",4)(6,"ul",5),v.DNE(7,Te,3,2,"li",6),v.j41(8,"li",7),v.bIt("click",function(){return B.show=!B.show}),v.j41(9,"a",8),v.EFF(10,"Language"),v.k0s(),v.j41(11,"div",9),v.DNE(12,qe,2,1,"a",10),v.k0s()()()()()),2&b&&(v.Y8G("ngClass","DARK"===B.template?v.lJ4(6,Be):v.lJ4(7,Fe)),v.R7$(5),v.Y8G("ngClass",v.eq3(8,Oe,B.isCollapsed)),v.R7$(2),v.Y8G("ngForOf",B.routes),v.R7$(4),v.AVh("show",B.show),v.R7$(),v.Y8G("ngForOf",B.languages))},dependencies:[Ce.NgClass,Ce.NgForOf,U.Wk,U.wQ],styles:["nav[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,100%,.07);box-shadow:0 2.2px 2.2px #00000012,0 5.3px 5.3px #0000000d,0 10px 10px #0000000a,0 17.9px 17.9px #0000000a,0 33.4px 33.4px #00000008,0 80px 80px #00000005}"]})}}return I})();const Tt=[{path:"application",loadChildren:()=>Promise.all([C.e(2076),C.e(8508)]).then(C.bind(C,8508)).then(I=>I.ApplicationModule)},{path:"v2",loadChildren:()=>Promise.all([C.e(4877),C.e(2076),C.e(10)]).then(C.bind(C,10)).then(I=>I.PersonalModule)},{path:"audios",loadChildren:()=>Promise.all([C.e(3760),C.e(7215)]).then(C.bind(C,7215)).then(I=>I.AudiosModule)},{path:"books",loadChildren:()=>Promise.all([C.e(3760),C.e(2076),C.e(8398)]).then(C.bind(C,8398)).then(I=>I.BooksModule)},{path:"bootstrap-design",loadChildren:()=>Promise.all([C.e(3760),C.e(8232),C.e(1299)]).then(C.bind(C,1299)).then(I=>I.BootstrapDesignModule)},{path:"cocktail",loadChildren:()=>Promise.all([C.e(3760),C.e(6709)]).then(C.bind(C,6709)).then(I=>I.CocktailModule)},{path:"cookbook",loadChildren:()=>Promise.all([C.e(3760),C.e(9125)]).then(C.bind(C,9125)).then(I=>I.CookBookModule)},{path:"covid",loadChildren:()=>Promise.all([C.e(3810),C.e(3760),C.e(1658)]).then(C.bind(C,1658)).then(I=>I.CovidModule)},{path:"github",loadChildren:()=>Promise.all([C.e(3810),C.e(3760),C.e(2076),C.e(350)]).then(C.bind(C,350)).then(I=>I.GithubModule)},{path:"hacker-ranks",loadChildren:()=>Promise.all([C.e(3810),C.e(2076),C.e(6246)]).then(C.bind(C,6246)).then(I=>I.HackerRanksModule)},{path:"itunes",loadChildren:()=>Promise.all([C.e(3760),C.e(5802)]).then(C.bind(C,5802)).then(I=>I.ItunesModule)},{path:"movies",loadChildren:()=>Promise.all([C.e(3760),C.e(2076),C.e(8204)]).then(C.bind(C,8204)).then(I=>I.MoviesModule)},{path:"sports",loadChildren:()=>Promise.all([C.e(3760),C.e(4624)]).then(C.bind(C,4624)).then(I=>I.SportsModule)},{path:"shop",loadChildren:()=>C.e(7460).then(C.bind(C,7460)).then(I=>I.ShopModule)},{path:"store",loadChildren:()=>C.e(8528).then(C.bind(C,8528)).then(I=>I.StoreModule)},{path:"ngrx-store",loadChildren:()=>C.e(990).then(C.bind(C,990)).then(I=>I.NgrxStoreModule)},{path:"responsive-site",loadChildren:()=>C.e(5447).then(C.bind(C,5447)).then(I=>I.ResponsiveSiteModule)},{path:"mockapi",loadChildren:()=>C.e(3053).then(C.bind(C,3053)).then(I=>I.MockapiModule)},{path:"routeReuse",loadChildren:()=>C.e(7132).then(C.bind(C,7132)).then(I=>I.RouteReuseStrategyTutsModule)},{path:"sample",loadChildren:()=>C.e(2959).then(C.bind(C,2959)).then(I=>I.SampleModule)},{path:"navigations",component:(()=>{class I{constructor(y){this.animationService=y,this.routes=[{path:"resume"},{path:"my-site"},{path:"../personal",name:"Personal"},{path:"form"},{path:"svg"},{path:"svg/customize"},{path:"task"},{path:"unit-testing"}],this.links=[{name:"Home",url:["home"],iconClass:"fa fa-home"},{name:"About",url:["/navigations/form/invoice"],iconClass:"fa fa-user-circle"}],this.animationService.setRouteAnimation(1)}ngOnInit(){}getRouteAnimation(y){return y.activatedRouteData.animation}static{this.\u0275fac=function(b){return new(b||I)(v.rXU(ne.O))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-navigations"]],standalone:!1,decls:3,vars:2,consts:[[3,"routes","template"]],template:function(b,B){1&b&&(v.nrm(0,"app-navbar",0),v.j41(1,"main"),v.nrm(2,"router-outlet"),v.k0s()),2&b&&v.Y8G("routes",B.routes)("template","LIGHT")},dependencies:[U.n3,He],encapsulation:2,data:{animation:[ee]}})}}return I})(),children:[{path:"my-site",loadChildren:()=>C.e(4035).then(C.bind(C,4035)).then(I=>I.MysiteModule)},{path:"svg",loadChildren:()=>C.e(862).then(C.bind(C,862)).then(I=>I.SvgRendererModule)},{path:"unit-testing",loadChildren:()=>C.e(9580).then(C.bind(C,9580)).then(I=>I.UnitTestingModule)}]},{path:"library-ex",loadChildren:()=>Promise.all([C.e(3810),C.e(8232),C.e(5704),C.e(2076),C.e(2964)]).then(C.bind(C,2964)).then(I=>I.LibraryExModule)},{path:"firebase",loadChildren:()=>Promise.all([C.e(3810),C.e(8475),C.e(8232),C.e(8756),C.e(5704),C.e(679)]).then(C.bind(C,679)).then(I=>I.FirebaseModule)},{path:"tutorials",loadChildren:()=>Promise.all([C.e(8232),C.e(4797)]).then(C.bind(C,4797)).then(I=>I.TutorialsModule)},{path:"code-task",loadChildren:()=>C.e(3940).then(C.bind(C,3940)).then(I=>I.CodeTaskModule)},{path:"custom",loadComponent:(I=(0,ue.A)(function*(){return(yield Promise.all([C.e(3810),C.e(2076),C.e(3993)]).then(C.bind(C,6374))).CustomComponent}),function(){return I.apply(this,arguments)})},{path:"declarative",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield C.e(562).then(C.bind(C,562))).DeclarativeModule});return function(){return I.apply(this,arguments)}}()},{path:"certificate",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield Promise.all([C.e(2076),C.e(529)]).then(C.bind(C,529))).CertificateModule});return function(){return I.apply(this,arguments)}}()},{path:"systems",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield Promise.all([C.e(7122),C.e(7739)]).then(C.bind(C,7739))).SystemsModule});return function(){return I.apply(this,arguments)}}()},{path:"assignment",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield Promise.all([C.e(3810),C.e(9013)]).then(C.bind(C,9013))).AssignmentModule});return function(){return I.apply(this,arguments)}}()},{path:"",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield Promise.all([C.e(3810),C.e(4277),C.e(4877),C.e(2076),C.e(1133)]).then(C.bind(C,1133))).WebsiteModule});return function(){return I.apply(this,arguments)}}()},{path:"",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield C.e(2302).then(C.bind(C,2302))).DemosModule});return function(){return I.apply(this,arguments)}}()},{path:"",loadChildren:()=>C.e(3794).then(C.bind(C,3794))},{path:"conclude",loadComponent:()=>Promise.all([C.e(2076),C.e(2294)]).then(C.bind(C,2294))},{path:"",loadChildren:()=>C.e(2076).then(C.bind(C,3439))},{path:"features",loadChildren:()=>C.e(2953).then(C.bind(C,2953))},{path:"pages",loadChildren:function(){var I=(0,ue.A)(function*(){return(yield Promise.all([C.e(2076),C.e(6001)]).then(C.bind(C,6001))).PagesModule});return function(){return I.apply(this,arguments)}}()},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:""}];var I;let lt=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({imports:[U.iI.forRoot(Tt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled",useHash:!1}),U.iI]})}}return I})();var Xe=C(1316),Vt=C(1152);let kt=(()=>{class I{constructor(y,b){this.jsonPlaceholderService=y,this.route=b,this.title="portfolio-all-in-one",this.version=v.xvI.major}ngOnInit(){window.addEventListener("beforeinstallprompt",y=>{console.log("'beforeinstallprompt' event was fired.")})}static{this.\u0275fac=function(b){return new(b||I)(v.rXU(Xe.h),v.rXU(U.nX))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,template:function(b,B){1&b&&v.nrm(0,"app-notification")(1,"router-outlet")(2,"ng-toast")},dependencies:[U.n3,Vt.d3],encapsulation:2})}}return I})();function jt(I){return new v.wOt(3e3,!1)}function cs(I){switch(I.length){case 0:return new K.sf;case 1:return I[0];default:return new K.ui(I)}}function Zr(I,D,y=new Map,b=new Map){const B=[],Z=[];let ge=-1,ve=null;if(D.forEach($e=>{const Ue=$e.get("offset"),Ot=Ue==ge,_t=Ot&&ve||new Map;$e.forEach((rn,cn)=>{let xt=cn,zt=rn;if("offset"!==cn)switch(xt=I.normalizePropertyName(xt,B),zt){case K.FX:zt=y.get(cn);break;case K.kp:zt=b.get(cn);break;default:zt=I.normalizeStyleValue(cn,xt,zt,B)}_t.set(xt,zt)}),Ot||Z.push(_t),ve=_t,ge=Ue}),B.length)throw function kr(){return new v.wOt(3502,!1)}();return Z}function Ps(I,D,y,b){switch(D){case"start":I.onStart(()=>b(y&&fs(y,"start",I)));break;case"done":I.onDone(()=>b(y&&fs(y,"done",I)));break;case"destroy":I.onDestroy(()=>b(y&&fs(y,"destroy",I)))}}function fs(I,D,y){const Z=yi(I.element,I.triggerName,I.fromState,I.toState,D||I.phaseName,y.totalTime??I.totalTime,!!y.disabled),ge=I._data;return null!=ge&&(Z._data=ge),Z}function yi(I,D,y,b,B="",Z=0,ge){return{element:I,triggerName:D,fromState:y,toState:b,phaseName:B,totalTime:Z,disabled:!!ge}}function dn(I,D,y){let b=I.get(D);return b||I.set(D,b=y),b}function Zs(I){const D=I.indexOf(":");return[I.substring(1,D),I.slice(D+1)]}const Tn=typeof document>"u"?null:document.documentElement;function ri(I){const D=I.parentNode||I.host||null;return D===Tn?null:D}let ps=null,Jn=!1;function ss(I,D){for(;D;){if(D===I)return!0;D=ri(D)}return!1}function qn(I,D,y){if(y)return Array.from(I.querySelectorAll(D));const b=I.querySelector(D);return b?[b]:[]}let _r=(()=>{class I{validateStyleProperty(y){return function Lr(I){ps||(ps=function Jr(){return typeof document<"u"?document.body:null}()||{},Jn=!!ps.style&&"WebkitAppearance"in ps.style);let D=!0;return ps.style&&!function Ks(I){return"ebkit"==I.substring(1,6)}(I)&&(D=I in ps.style,!D&&Jn&&(D="Webkit"+I.charAt(0).toUpperCase()+I.slice(1)in ps.style)),D}(y)}containsElement(y,b){return ss(y,b)}getParentElement(y){return ri(y)}query(y,b,B){return qn(y,b,B)}computeStyle(y,b,B){return B||""}animate(y,b,B,Z,ge,ve=[],$e){return new K.sf(B,Z)}static \u0275fac=function(b){return new(b||I)};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})();class zs{static NOOP=new _r}class Re{}const Me="ng-enter",de="ng-leave",we="ng-trigger",it=".ng-trigger",Ct="ng-animating",on=".ng-animating";function Yt(I){if("number"==typeof I)return I;const D=I.match(/^(-?[\.\d]+)(m?s)/);return!D||D.length<2?0:Bn(parseFloat(D[1]),D[2])}function Bn(I,D){return"s"===D?1e3*I:I}function Tr(I,D,y){return I.hasOwnProperty("duration")?I:function Or(I,D,y){let B,Z=0,ge="";if("string"==typeof I){const ve=I.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return D.push(jt()),{duration:0,delay:0,easing:""};B=Bn(parseFloat(ve[1]),ve[2]);const $e=ve[3];null!=$e&&(Z=Bn(parseFloat($e),ve[4]));const Ue=ve[5];Ue&&(ge=Ue)}else B=I;if(!y){let ve=!1,$e=D.length;B<0&&(D.push(function sn(){return new v.wOt(3100,!1)}()),ve=!0),Z<0&&(D.push(function An(){return new v.wOt(3101,!1)}()),ve=!0),ve&&D.splice($e,0,jt())}return{duration:B,delay:Z,easing:ge}}(I,D,y)}function Ke(I,D,y){D.forEach((b,B)=>{const Z=jn(B);y&&!y.has(B)&&y.set(B,I.style[Z]),I.style[Z]=b})}function wt(I,D){D.forEach((y,b)=>{const B=jn(b);I.style[B]=""})}function vt(I){return Array.isArray(I)?1==I.length?I[0]:(0,K.K2)(I):I}const Cn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Kn(I){let D=[];if("string"==typeof I){let y;for(;y=Cn.exec(I);)D.push(y[1]);Cn.lastIndex=0}return D}function es(I,D,y){const b=`${I}`,B=b.replace(Cn,(Z,ge)=>{let ve=D[ge];return null==ve&&(y.push(function Ze(){return new v.wOt(3003,!1)}()),ve=""),ve.toString()});return B==b?I:B}const Vr=/-+([a-z0-9])/g;function jn(I){return I.replace(Vr,(...D)=>D[1].toUpperCase())}function En(I,D,y){switch(D.type){case K.If.Trigger:return I.visitTrigger(D,y);case K.If.State:return I.visitState(D,y);case K.If.Transition:return I.visitTransition(D,y);case K.If.Sequence:return I.visitSequence(D,y);case K.If.Group:return I.visitGroup(D,y);case K.If.Animate:return I.visitAnimate(D,y);case K.If.Keyframes:return I.visitKeyframes(D,y);case K.If.Style:return I.visitStyle(D,y);case K.If.Reference:return I.visitReference(D,y);case K.If.AnimateChild:return I.visitAnimateChild(D,y);case K.If.AnimateRef:return I.visitAnimateRef(D,y);case K.If.Query:return I.visitQuery(D,y);case K.If.Stagger:return I.visitStagger(D,y);default:throw function Ut(){return new v.wOt(3004,!1)}()}}function gs(I,D){return window.getComputedStyle(I)[D]}const zi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ws extends Re{normalizePropertyName(D,y){return jn(D)}normalizeStyleValue(D,y,b,B){let Z="";const ge=b.toString().trim();if(zi.has(y)&&0!==b&&"0"!==b)if("number"==typeof b)Z="px";else{const ve=b.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&B.push(function gn(){return new v.wOt(3005,!1)}())}return ge+Z}}const Nn=new Set(["true","1"]),oe=new Set(["false","0"]);function Ie(I,D){const y=Nn.has(I)||oe.has(I),b=Nn.has(D)||oe.has(D);return(B,Z)=>{let ge="*"==I||I==B,ve="*"==D||D==Z;return!ge&&y&&"boolean"==typeof B&&(ge=B?Nn.has(I):oe.has(I)),!ve&&b&&"boolean"==typeof Z&&(ve=Z?Nn.has(D):oe.has(D)),ge&&ve}}const Ge=new RegExp("s*:selfs*,?","g");function bt(I,D,y,b){return new Lt(I).build(D,y,b)}class Lt{_driver;constructor(D){this._driver=D}build(D,y,b){const B=new Je(y);return this._resetContextStyleTimingState(B),En(this,vt(D),B)}_resetContextStyleTimingState(D){D.currentQuerySelector="",D.collectedStyles=new Map,D.collectedStyles.set("",new Map),D.currentTime=0}visitTrigger(D,y){let b=y.queryCount=0,B=y.depCount=0;const Z=[],ge=[];return"@"==D.name.charAt(0)&&y.errors.push(function nr(){return new v.wOt(3006,!1)}()),D.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(y),ve.type==K.If.State){const $e=ve,Ue=$e.name;Ue.toString().split(/\s*,\s*/).forEach(Ot=>{$e.name=Ot,Z.push(this.visitState($e,y))}),$e.name=Ue}else if(ve.type==K.If.Transition){const $e=this.visitTransition(ve,y);b+=$e.queryCount,B+=$e.depCount,ge.push($e)}else y.errors.push(function xr(){return new v.wOt(3007,!1)}())}),{type:K.If.Trigger,name:D.name,states:Z,transitions:ge,queryCount:b,depCount:B,options:null}}visitState(D,y){const b=this.visitStyle(D.styles,y),B=D.options&&D.options.params||null;if(b.containsDynamicStyles){const Z=new Set,ge=B||{};b.styles.forEach(ve=>{ve instanceof Map&&ve.forEach($e=>{Kn($e).forEach(Ue=>{ge.hasOwnProperty(Ue)||Z.add(Ue)})})}),Z.size&&y.errors.push(function as(){return new v.wOt(3008,!1)}(0,Z.values()))}return{type:K.If.State,name:D.name,style:b,options:B?{params:B}:null}}visitTransition(D,y){y.queryCount=0,y.depCount=0;const b=En(this,vt(D.animation),y),B=function Ei(I,D){const y=[];return"string"==typeof I?I.split(/\s*,\s*/).forEach(b=>function yo(I,D,y){if(":"==I[0]){const $e=function Gr(I,D){switch(I){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,b)=>parseFloat(b)>parseFloat(y);case":decrement":return(y,b)=>parseFloat(b)<parseFloat(y);default:return D.push(function rr(){return new v.wOt(3016,!1)}()),"* => *"}}(I,y);if("function"==typeof $e)return void D.push($e);I=$e}const b=I.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return y.push(function On(){return new v.wOt(3015,!1)}()),D;const B=b[1],Z=b[2],ge=b[3];D.push(Ie(B,ge)),"<"==Z[0]&&("*"!=B||"*"!=ge)&&D.push(Ie(ge,B))}(b,y,D)):y.push(I),y}(D.expr,y.errors);return{type:K.If.Transition,matchers:B,animation:b,queryCount:y.queryCount,depCount:y.depCount,options:Et(D.options)}}visitSequence(D,y){return{type:K.If.Sequence,steps:D.steps.map(b=>En(this,b,y)),options:Et(D.options)}}visitGroup(D,y){const b=y.currentTime;let B=0;const Z=D.steps.map(ge=>{y.currentTime=b;const ve=En(this,ge,y);return B=Math.max(B,y.currentTime),ve});return y.currentTime=B,{type:K.If.Group,steps:Z,options:Et(D.options)}}visitAnimate(D,y){const b=function ze(I,D){if(I.hasOwnProperty("duration"))return I;if("number"==typeof I)return ct(Tr(I,D).duration,0,"");const y=I;if(y.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=ct(0,0,"");return Z.dynamic=!0,Z.strValue=y,Z}const B=Tr(y,D);return ct(B.duration,B.delay,B.easing)}(D.timings,y.errors);y.currentAnimateTimings=b;let B,Z=D.styles?D.styles:(0,K.iF)({});if(Z.type==K.If.Keyframes)B=this.visitKeyframes(Z,y);else{let ge=D.styles,ve=!1;if(!ge){ve=!0;const Ue={};b.easing&&(Ue.easing=b.easing),ge=(0,K.iF)(Ue)}y.currentTime+=b.duration+b.delay;const $e=this.visitStyle(ge,y);$e.isEmptyStep=ve,B=$e}return y.currentAnimateTimings=null,{type:K.If.Animate,timings:b,style:B,options:null}}visitStyle(D,y){const b=this._makeStyleAst(D,y);return this._validateStyleAst(b,y),b}_makeStyleAst(D,y){const b=[],B=Array.isArray(D.styles)?D.styles:[D.styles];for(let ve of B)"string"==typeof ve?ve===K.kp?b.push(ve):y.errors.push(new v.wOt(3002,!1)):b.push(new Map(Object.entries(ve)));let Z=!1,ge=null;return b.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(ge=ve.get("easing"),ve.delete("easing")),!Z))for(let $e of ve.values())if($e.toString().indexOf("{{")>=0){Z=!0;break}}),{type:K.If.Style,styles:b,easing:ge,offset:D.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(D,y){const b=y.currentAnimateTimings;let B=y.currentTime,Z=y.currentTime;b&&Z>0&&(Z-=b.duration+b.delay),D.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((ve,$e)=>{const Ue=y.collectedStyles.get(y.currentQuerySelector),Ot=Ue.get($e);let _t=!0;Ot&&(Z!=B&&Z>=Ot.startTime&&B<=Ot.endTime&&(y.errors.push(function ke(){return new v.wOt(3010,!1)}()),_t=!1),Z=Ot.startTime),_t&&Ue.set($e,{startTime:Z,endTime:B}),y.options&&function Sn(I,D,y){const b=D.params||{},B=Kn(I);B.length&&B.forEach(Z=>{b.hasOwnProperty(Z)||y.push(function yt(){return new v.wOt(3001,!1)}())})}(ve,y.options,y.errors)})})}visitKeyframes(D,y){const b={type:K.If.Keyframes,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function tt(){return new v.wOt(3011,!1)}()),b;let Z=0;const ge=[];let ve=!1,$e=!1,Ue=0;const Ot=D.steps.map(bn=>{const Rr=this._makeStyleAst(bn,y);let Ws=null!=Rr.offset?Rr.offset:function Pe(I){if("string"==typeof I)return null;let D=null;if(Array.isArray(I))I.forEach(y=>{if(y instanceof Map&&y.has("offset")){const b=y;D=parseFloat(b.get("offset")),b.delete("offset")}});else if(I instanceof Map&&I.has("offset")){const y=I;D=parseFloat(y.get("offset")),y.delete("offset")}return D}(Rr.styles),dr=0;return null!=Ws&&(Z++,dr=Rr.offset=Ws),$e=$e||dr<0||dr>1,ve=ve||dr<Ue,Ue=dr,ge.push(dr),Rr});$e&&y.errors.push(function st(){return new v.wOt(3012,!1)}()),ve&&y.errors.push(function et(){return new v.wOt(3200,!1)}());const _t=D.steps.length;let rn=0;Z>0&&Z<_t?y.errors.push(function At(){return new v.wOt(3202,!1)}()):0==Z&&(rn=1/(_t-1));const cn=_t-1,xt=y.currentTime,zt=y.currentAnimateTimings,tr=zt.duration;return Ot.forEach((bn,Rr)=>{const Ws=rn>0?Rr==cn?1:rn*Rr:ge[Rr],dr=Ws*tr;y.currentTime=xt+zt.delay+dr,zt.duration=dr,this._validateStyleAst(bn,y),bn.offset=Ws,b.styles.push(bn)}),b}visitReference(D,y){return{type:K.If.Reference,animation:En(this,vt(D.animation),y),options:Et(D.options)}}visitAnimateChild(D,y){return y.depCount++,{type:K.If.AnimateChild,options:Et(D.options)}}visitAnimateRef(D,y){return{type:K.If.AnimateRef,animation:this.visitReference(D.animation,y),options:Et(D.options)}}visitQuery(D,y){const b=y.currentQuerySelector,B=D.options||{};y.queryCount++,y.currentQuery=D;const[Z,ge]=function _n(I){const D=!!I.split(/\s*,\s*/).find(y=>":self"==y);return D&&(I=I.replace(Ge,"")),I=I.replace(/@\*/g,it).replace(/@\w+/g,y=>it+"-"+y.slice(1)).replace(/:animating/g,on),[I,D]}(D.selector);y.currentQuerySelector=b.length?b+" "+Z:Z,dn(y.collectedStyles,y.currentQuerySelector,new Map);const ve=En(this,vt(D.animation),y);return y.currentQuery=null,y.currentQuerySelector=b,{type:K.If.Query,selector:Z,limit:B.limit||0,optional:!!B.optional,includeSelf:ge,animation:ve,originalSelector:D.selector,options:Et(D.options)}}visitStagger(D,y){y.currentQuery||y.errors.push(function St(){return new v.wOt(3013,!1)}());const b="full"===D.timings?{duration:0,delay:0,easing:"full"}:Tr(D.timings,y.errors,!0);return{type:K.If.Stagger,animation:En(this,vt(D.animation),y),timings:b,options:null}}}class Je{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(D){this.errors=D}}function Et(I){return I?(I={...I}).params&&(I.params=function fe(I){return I?{...I}:null}(I.params)):I={},I}function ct(I,D,y){return{duration:I,delay:D,easing:y}}function Ht(I,D,y,b,B,Z,ge=null,ve=!1){return{type:1,element:I,keyframes:D,preStyleProps:y,postStyleProps:b,duration:B,delay:Z,totalTime:B+Z,easing:ge,subTimeline:ve}}class vn{_map=new Map;get(D){return this._map.get(D)||[]}append(D,y){let b=this._map.get(D);b||this._map.set(D,b=[]),b.push(...y)}has(D){return this._map.has(D)}clear(){this._map.clear()}}const Kt=new RegExp(":enter","g"),Is=new RegExp(":leave","g");function xn(I,D,y,b,B,Z=new Map,ge=new Map,ve,$e,Ue=[]){return(new Qr).buildKeyframes(I,D,y,b,B,Z,ge,ve,$e,Ue)}class Qr{buildKeyframes(D,y,b,B,Z,ge,ve,$e,Ue,Ot=[]){Ue=Ue||new vn;const _t=new Dr(D,y,Ue,B,Z,Ot,[]);_t.options=$e;const rn=$e.delay?Yt($e.delay):0;_t.currentTimeline.delayNextStep(rn),_t.currentTimeline.setStyles([ge],null,_t.errors,$e),En(this,b,_t);const cn=_t.timelines.filter(xt=>xt.containsAnimation());if(cn.length&&ve.size){let xt;for(let zt=cn.length-1;zt>=0;zt--){const tr=cn[zt];if(tr.element===y){xt=tr;break}}xt&&!xt.allowOnlyTimelineStyles()&&xt.setStyles([ve],null,_t.errors,$e)}return cn.length?cn.map(xt=>xt.buildKeyframes()):[Ht(y,[],[],[],0,rn,"",!1)]}visitTrigger(D,y){}visitState(D,y){}visitTransition(D,y){}visitAnimateChild(D,y){const b=y.subInstructions.get(y.element);if(b){const B=y.createSubContext(D.options),Z=y.currentTimeline.currentTime,ge=this._visitSubInstructions(b,B,B.options);Z!=ge&&y.transformIntoNewTimeline(ge)}y.previousNode=D}visitAnimateRef(D,y){const b=y.createSubContext(D.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([D.options,D.animation.options],y,b),this.visitReference(D.animation,b),y.transformIntoNewTimeline(b.currentTimeline.currentTime),y.previousNode=D}_applyAnimationRefDelays(D,y,b){for(const B of D){const Z=B?.delay;if(Z){const ge="number"==typeof Z?Z:Yt(es(Z,B?.params??{},y.errors));b.delayNextStep(ge)}}}_visitSubInstructions(D,y,b){let Z=y.currentTimeline.currentTime;const ge=null!=b.duration?Yt(b.duration):null,ve=null!=b.delay?Yt(b.delay):null;return 0!==ge&&D.forEach($e=>{const Ue=y.appendInstructionToTimeline($e,ge,ve);Z=Math.max(Z,Ue.duration+Ue.delay)}),Z}visitReference(D,y){y.updateOptions(D.options,!0),En(this,D.animation,y),y.previousNode=D}visitSequence(D,y){const b=y.subContextCount;let B=y;const Z=D.options;if(Z&&(Z.params||Z.delay)&&(B=y.createSubContext(Z),B.transformIntoNewTimeline(),null!=Z.delay)){B.previousNode.type==K.If.Style&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=sr);const ge=Yt(Z.delay);B.delayNextStep(ge)}D.steps.length&&(D.steps.forEach(ge=>En(this,ge,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>b&&B.transformIntoNewTimeline()),y.previousNode=D}visitGroup(D,y){const b=[];let B=y.currentTimeline.currentTime;const Z=D.options&&D.options.delay?Yt(D.options.delay):0;D.steps.forEach(ge=>{const ve=y.createSubContext(D.options);Z&&ve.delayNextStep(Z),En(this,ge,ve),B=Math.max(B,ve.currentTimeline.currentTime),b.push(ve.currentTimeline)}),b.forEach(ge=>y.currentTimeline.mergeTimelineCollectedStyles(ge)),y.transformIntoNewTimeline(B),y.previousNode=D}_visitTiming(D,y){if(D.dynamic){const b=D.strValue;return Tr(y.params?es(b,y.params,y.errors):b,y.errors)}return{duration:D.duration,delay:D.delay,easing:D.easing}}visitAnimate(D,y){const b=y.currentAnimateTimings=this._visitTiming(D.timings,y),B=y.currentTimeline;b.delay&&(y.incrementTime(b.delay),B.snapshotCurrentStyles());const Z=D.style;Z.type==K.If.Keyframes?this.visitKeyframes(Z,y):(y.incrementTime(b.duration),this.visitStyle(Z,y),B.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=D}visitStyle(D,y){const b=y.currentTimeline,B=y.currentAnimateTimings;!B&&b.hasCurrentStyleProperties()&&b.forwardFrame();const Z=B&&B.easing||D.easing;D.isEmptyStep?b.applyEmptyStep(Z):b.setStyles(D.styles,Z,y.errors,y.options),y.previousNode=D}visitKeyframes(D,y){const b=y.currentAnimateTimings,B=y.currentTimeline.duration,Z=b.duration,ve=y.createSubContext().currentTimeline;ve.easing=b.easing,D.styles.forEach($e=>{ve.forwardTime(($e.offset||0)*Z),ve.setStyles($e.styles,$e.easing,y.errors,y.options),ve.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(ve),y.transformIntoNewTimeline(B+Z),y.previousNode=D}visitQuery(D,y){const b=y.currentTimeline.currentTime,B=D.options||{},Z=B.delay?Yt(B.delay):0;Z&&(y.previousNode.type===K.If.Style||0==b&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=sr);let ge=b;const ve=y.invokeQuery(D.selector,D.originalSelector,D.limit,D.includeSelf,!!B.optional,y.errors);y.currentQueryTotal=ve.length;let $e=null;ve.forEach((Ue,Ot)=>{y.currentQueryIndex=Ot;const _t=y.createSubContext(D.options,Ue);Z&&_t.delayNextStep(Z),Ue===y.element&&($e=_t.currentTimeline),En(this,D.animation,_t),_t.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,_t.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ge),$e&&(y.currentTimeline.mergeTimelineCollectedStyles($e),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=D}visitStagger(D,y){const b=y.parentContext,B=y.currentTimeline,Z=D.timings,ge=Math.abs(Z.duration),ve=ge*(y.currentQueryTotal-1);let $e=ge*y.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":$e=ve-$e;break;case"full":$e=b.currentStaggerTime}const Ot=y.currentTimeline;$e&&Ot.delayNextStep($e);const _t=Ot.currentTime;En(this,D.animation,y),y.previousNode=D,b.currentStaggerTime=B.currentTime-_t+(B.startTime-b.currentTimeline.startTime)}}const sr={};class Dr{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=sr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(D,y,b,B,Z,ge,ve,$e){this._driver=D,this.element=y,this.subInstructions=b,this._enterClassName=B,this._leaveClassName=Z,this.errors=ge,this.timelines=ve,this.currentTimeline=$e||new ki(this._driver,y,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(D,y){if(!D)return;const b=D;let B=this.options;null!=b.duration&&(B.duration=Yt(b.duration)),null!=b.delay&&(B.delay=Yt(b.delay));const Z=b.params;if(Z){let ge=B.params;ge||(ge=this.options.params={}),Object.keys(Z).forEach(ve=>{(!y||!ge.hasOwnProperty(ve))&&(ge[ve]=es(Z[ve],ge,this.errors))})}}_copyOptions(){const D={};if(this.options){const y=this.options.params;if(y){const b=D.params={};Object.keys(y).forEach(B=>{b[B]=y[B]})}}return D}createSubContext(D=null,y,b){const B=y||this.element,Z=new Dr(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,b||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(D),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(D){return this.previousNode=sr,this.currentTimeline=this.currentTimeline.fork(this.element,D),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(D,y,b){const B={duration:y??D.duration,delay:this.currentTimeline.currentTime+(b??0)+D.delay,easing:""},Z=new Wr(this._driver,D.element,D.keyframes,D.preStyleProps,D.postStyleProps,B,D.stretchStartingKeyframe);return this.timelines.push(Z),B}incrementTime(D){this.currentTimeline.forwardTime(this.currentTimeline.duration+D)}delayNextStep(D){D>0&&this.currentTimeline.delayNextStep(D)}invokeQuery(D,y,b,B,Z,ge){let ve=[];if(B&&ve.push(this.element),D.length>0){D=(D=D.replace(Kt,"."+this._enterClassName)).replace(Is,"."+this._leaveClassName);let Ue=this._driver.query(this.element,D,1!=b);0!==b&&(Ue=b<0?Ue.slice(Ue.length+b,Ue.length):Ue.slice(0,b)),ve.push(...Ue)}return!Z&&0==ve.length&&ge.push(function Jt(){return new v.wOt(3014,!1)}()),ve}}class ki{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(D,y,b,B){this._driver=D,this.element=y,this.startTime=b,this._elementTimelineStylesLookup=B,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(D){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+D),y&&this.snapshotCurrentStyles()):this.startTime+=D}fork(D,y){return this.applyStylesToKeyframe(),new ki(this._driver,D,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(D){this.applyStylesToKeyframe(),this.duration=D,this._loadKeyframe()}_updateStyle(D,y){this._localTimelineStyles.set(D,y),this._globalTimelineStyles.set(D,y),this._styleSummary.set(D,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(D){D&&this._previousKeyframe.set("easing",D);for(let[y,b]of this._globalTimelineStyles)this._backFill.set(y,b||K.kp),this._currentKeyframe.set(y,K.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(D,y,b,B){y&&this._previousKeyframe.set("easing",y);const Z=B&&B.params||{},ge=function ao(I,D){const y=new Map;let b;return I.forEach(B=>{if("*"===B){b??=D.keys();for(let Z of b)y.set(Z,K.kp)}else for(let[Z,ge]of B)y.set(Z,ge)}),y}(D,this._globalTimelineStyles);for(let[ve,$e]of ge){const Ue=es($e,Z,b);this._pendingStyles.set(ve,Ue),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??K.kp),this._updateStyle(ve,Ue)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((D,y)=>{this._currentKeyframe.set(y,D)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((D,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,D)}))}snapshotCurrentStyles(){for(let[D,y]of this._localTimelineStyles)this._pendingStyles.set(D,y),this._updateStyle(D,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const D=[];for(let y in this._currentKeyframe)D.push(y);return D}mergeTimelineCollectedStyles(D){D._styleSummary.forEach((y,b)=>{const B=this._styleSummary.get(b);(!B||y.time>B.time)&&this._updateStyle(b,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const D=new Set,y=new Set,b=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((ve,$e)=>{const Ue=new Map([...this._backFill,...ve]);Ue.forEach((Ot,_t)=>{Ot===K.FX?D.add(_t):Ot===K.kp&&y.add(_t)}),b||Ue.set("offset",$e/this.duration),B.push(Ue)});const Z=[...D.values()],ge=[...y.values()];if(b){const ve=B[0],$e=new Map(ve);ve.set("offset",0),$e.set("offset",1),B=[ve,$e]}return Ht(this.element,B,Z,ge,this.duration,this.startTime,this.easing,!1)}}class Wr extends ki{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(D,y,b,B,Z,ge,ve=!1){super(D,y,ge.delay),this.keyframes=b,this.preStyleProps=B,this.postStyleProps=Z,this._stretchStartingKeyframe=ve,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let D=this.keyframes,{delay:y,duration:b,easing:B}=this.timings;if(this._stretchStartingKeyframe&&y){const Z=[],ge=b+y,ve=y/ge,$e=new Map(D[0]);$e.set("offset",0),Z.push($e);const Ue=new Map(D[0]);Ue.set("offset",Zo(ve)),Z.push(Ue);const Ot=D.length-1;for(let _t=1;_t<=Ot;_t++){let rn=new Map(D[_t]);const cn=rn.get("offset");rn.set("offset",Zo((y+cn*b)/ge)),Z.push(rn)}b=ge,y=0,B="",D=Z}return Ht(this.element,D,this.preStyleProps,this.postStyleProps,b,y,B,!0)}}function Zo(I,D=3){const y=Math.pow(10,D-1);return Math.round(I*y)/y}function Lo(I,D,y,b,B,Z,ge,ve,$e,Ue,Ot,_t,rn){return{type:0,element:I,triggerName:D,isRemovalTransition:B,fromState:y,fromStyles:Z,toState:b,toStyles:ge,timelines:ve,queriedElements:$e,preStyleProps:Ue,postStyleProps:Ot,totalTime:_t,errors:rn}}const lo={};class So{_triggerName;ast;_stateStyles;constructor(D,y,b){this._triggerName=D,this.ast=y,this._stateStyles=b}match(D,y,b,B){return function Vo(I,D,y,b,B){return I.some(Z=>Z(D,y,b,B))}(this.ast.matchers,D,y,b,B)}buildStyles(D,y,b){let B=this._stateStyles.get("*");return void 0!==D&&(B=this._stateStyles.get(D?.toString())||B),B?B.buildStyles(y,b):new Map}build(D,y,b,B,Z,ge,ve,$e,Ue,Ot){const _t=[],rn=this.ast.options&&this.ast.options.params||lo,xt=this.buildStyles(b,ve&&ve.params||lo,_t),zt=$e&&$e.params||lo,tr=this.buildStyles(B,zt,_t),bn=new Set,Rr=new Map,Ws=new Map,dr="void"===B,vs={params:Fs(zt,rn),delay:this.ast.options?.delay},hr=Ot?[]:xn(D,y,this.ast.animation,Z,ge,xt,tr,vs,Ue,_t);let ei=0;return hr.forEach(qs=>{ei=Math.max(qs.duration+qs.delay,ei)}),_t.length?Lo(y,this._triggerName,b,B,dr,xt,tr,[],[],Rr,Ws,ei,_t):(hr.forEach(qs=>{const $r=qs.element,mr=dn(Rr,$r,new Set);qs.preStyleProps.forEach(p=>mr.add(p));const xh=dn(Ws,$r,new Set);qs.postStyleProps.forEach(p=>xh.add(p)),$r!==y&&bn.add($r)}),Lo(y,this._triggerName,b,B,dr,xt,tr,hr,[...bn.values()],Rr,Ws,ei))}}function Fs(I,D){const y={...D};return Object.entries(I).forEach(([b,B])=>{null!=B&&(y[b]=B)}),y}class co{styles;defaultParams;normalizer;constructor(D,y,b){this.styles=D,this.defaultParams=y,this.normalizer=b}buildStyles(D,y){const b=new Map,B=Fs(D,this.defaultParams);return this.styles.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((ge,ve)=>{ge&&(ge=es(ge,B,y));const $e=this.normalizer.normalizePropertyName(ve,y);ge=this.normalizer.normalizeStyleValue(ve,$e,ge,y),b.set(ve,ge)})}),b}}class Qi{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(D,y,b){this.name=D,this.ast=y,this._normalizer=b,y.states.forEach(B=>{this.states.set(B.name,new co(B.style,B.options&&B.options.params||{},b))}),si(this.states,"true","1"),si(this.states,"false","0"),y.transitions.forEach(B=>{this.transitionFactories.push(new So(D,B,this.states))}),this.fallbackTransition=function Jo(I,D){return new So(I,{type:K.If.Transition,animation:{type:K.If.Sequence,steps:[],options:null},matchers:[(ge,ve)=>!0],options:null,queryCount:0,depCount:0},D)}(D,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(D,y,b,B){return this.transitionFactories.find(ge=>ge.match(D,y,b,B))||null}matchStyles(D,y,b){return this.fallbackTransition.buildStyles(D,y,b)}}function si(I,D,y){I.has(D)?I.has(y)||I.set(y,I.get(D)):I.has(y)&&I.set(D,I.get(y))}const ts=new vn;class nn{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(D,y,b){this.bodyNode=D,this._driver=y,this._normalizer=b}register(D,y){const b=[],Z=bt(this._driver,y,b,[]);if(b.length)throw function Xn(){return new v.wOt(3503,!1)}();this._animations.set(D,Z)}_buildPlayer(D,y,b){const B=D.element,Z=Zr(this._normalizer,D.keyframes,y,b);return this._driver.animate(B,Z,D.duration,D.delay,D.easing,[],!0)}create(D,y,b={}){const B=[],Z=this._animations.get(D);let ge;const ve=new Map;if(Z?(ge=xn(this._driver,y,Z,Me,de,new Map,new Map,b,ts,B),ge.forEach(Ot=>{const _t=dn(ve,Ot.element,new Map);Ot.postStyleProps.forEach(rn=>_t.set(rn,null))})):(B.push(function ir(){return new v.wOt(3300,!1)}()),ge=[]),B.length)throw function ls(){return new v.wOt(3504,!1)}();ve.forEach((Ot,_t)=>{Ot.forEach((rn,cn)=>{Ot.set(cn,this._driver.computeStyle(_t,cn,K.kp))})});const Ue=cs(ge.map(Ot=>{const _t=ve.get(Ot.element);return this._buildPlayer(Ot,new Map,_t)}));return this._playersById.set(D,Ue),Ue.onDestroy(()=>this.destroy(D)),this.players.push(Ue),Ue}destroy(D){const y=this._getPlayer(D);y.destroy(),this._playersById.delete(D);const b=this.players.indexOf(y);b>=0&&this.players.splice(b,1)}_getPlayer(D){const y=this._playersById.get(D);if(!y)throw function Ir(){return new v.wOt(3301,!1)}();return y}listen(D,y,b,B){const Z=yi(y,"","","");return Ps(this._getPlayer(D),b,Z,B),()=>{}}command(D,y,b,B){if("register"==b)return void this.register(D,B[0]);if("create"==b)return void this.create(D,y,B[0]||{});const Z=this._getPlayer(D);switch(b){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(D)}}}const bo="ng-animate-queued",Li="ng-animate-disabled",Ln=[],Ko={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ea={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ts="__ng_removed";class wr{namespaceId;value;options;get params(){return this.options.params}constructor(D,y=""){this.namespaceId=y;const b=D&&D.hasOwnProperty("value");if(this.value=function ai(I){return I??null}(b?D.value:D),b){const{value:Z,...ge}=D;this.options=ge}else this.options={};this.options.params||(this.options.params={})}absorbOptions(D){const y=D.params;if(y){const b=this.options.params;Object.keys(y).forEach(B=>{null==b[B]&&(b[B]=y[B])})}}}const Js="void",Mo=new wr(Js);class oi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(D,y,b){this.id=D,this.hostElement=y,this._engine=b,this._hostClassName="ng-tns-"+D,Bi(y,this._hostClassName)}listen(D,y,b,B){if(!this._triggers.has(y))throw function qr(){return new v.wOt(3302,!1)}();if(null==b||0==b.length)throw function xs(){return new v.wOt(3303,!1)}();if(!function Ss(I){return"start"==I||"done"==I}(b))throw function hs(){return new v.wOt(3400,!1)}();const Z=dn(this._elementListeners,D,[]),ge={name:y,phase:b,callback:B};Z.push(ge);const ve=dn(this._engine.statesByElement,D,new Map);return ve.has(y)||(Bi(D,we),Bi(D,we+"-"+y),ve.set(y,Mo)),()=>{this._engine.afterFlush(()=>{const $e=Z.indexOf(ge);$e>=0&&Z.splice($e,1),this._triggers.has(y)||ve.delete(y)})}}register(D,y){return!this._triggers.has(D)&&(this._triggers.set(D,y),!0)}_getTrigger(D){const y=this._triggers.get(D);if(!y)throw function Yr(){return new v.wOt(3401,!1)}();return y}trigger(D,y,b,B=!0){const Z=this._getTrigger(y),ge=new Ao(this.id,y,D);let ve=this._engine.statesByElement.get(D);ve||(Bi(D,we),Bi(D,we+"-"+y),this._engine.statesByElement.set(D,ve=new Map));let $e=ve.get(y);const Ue=new wr(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&$e&&Ue.absorbOptions($e.options),ve.set(y,Ue),$e||($e=Mo),Ue.value!==Js&&$e.value===Ue.value){if(!function Sr(I,D){const y=Object.keys(I),b=Object.keys(D);if(y.length!=b.length)return!1;for(let B=0;B<y.length;B++){const Z=y[B];if(!D.hasOwnProperty(Z)||I[Z]!==D[Z])return!1}return!0}($e.params,Ue.params)){const zt=[],tr=Z.matchStyles($e.value,$e.params,zt),bn=Z.matchStyles(Ue.value,Ue.params,zt);zt.length?this._engine.reportError(zt):this._engine.afterFlush(()=>{wt(D,tr),Ke(D,bn)})}return}const rn=dn(this._engine.playersByElement,D,[]);rn.forEach(zt=>{zt.namespaceId==this.id&&zt.triggerName==y&&zt.queued&&zt.destroy()});let cn=Z.matchTransition($e.value,Ue.value,D,Ue.params),xt=!1;if(!cn){if(!B)return;cn=Z.fallbackTransition,xt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:y,transition:cn,fromState:$e,toState:Ue,player:ge,isFallbackTransition:xt}),xt||(Bi(D,bo),ge.onStart(()=>{ci(D,bo)})),ge.onDone(()=>{let zt=this.players.indexOf(ge);zt>=0&&this.players.splice(zt,1);const tr=this._engine.playersByElement.get(D);if(tr){let bn=tr.indexOf(ge);bn>=0&&tr.splice(bn,1)}}),this.players.push(ge),rn.push(ge),ge}deregister(D){this._triggers.delete(D),this._engine.statesByElement.forEach(y=>y.delete(D)),this._elementListeners.forEach((y,b)=>{this._elementListeners.set(b,y.filter(B=>B.name!=D))})}clearElementCache(D){this._engine.statesByElement.delete(D),this._elementListeners.delete(D);const y=this._engine.playersByElement.get(D);y&&(y.forEach(b=>b.destroy()),this._engine.playersByElement.delete(D))}_signalRemovalForInnerTriggers(D,y){const b=this._engine.driver.query(D,it,!0);b.forEach(B=>{if(B[Ts])return;const Z=this._engine.fetchNamespacesByElement(B);Z.size?Z.forEach(ge=>ge.triggerLeaveAnimation(B,y,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(D,y,b,B){const Z=this._engine.statesByElement.get(D),ge=new Map;if(Z){const ve=[];if(Z.forEach(($e,Ue)=>{if(ge.set(Ue,$e.value),this._triggers.has(Ue)){const Ot=this.trigger(D,Ue,Js,B);Ot&&ve.push(Ot)}}),ve.length)return this._engine.markElementAsRemoved(this.id,D,!0,y,ge),b&&cs(ve).onDone(()=>this._engine.processLeaveNode(D)),!0}return!1}prepareLeaveAnimationListeners(D){const y=this._elementListeners.get(D),b=this._engine.statesByElement.get(D);if(y&&b){const B=new Set;y.forEach(Z=>{const ge=Z.name;if(B.has(ge))return;B.add(ge);const $e=this._triggers.get(ge).fallbackTransition,Ue=b.get(ge)||Mo,Ot=new wr(Js),_t=new Ao(this.id,ge,D);this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:ge,transition:$e,fromState:Ue,toState:Ot,player:_t,isFallbackTransition:!0})})}}removeNode(D,y){const b=this._engine;if(D.childElementCount&&this._signalRemovalForInnerTriggers(D,y),this.triggerLeaveAnimation(D,y,!0))return;let B=!1;if(b.totalAnimations){const Z=b.players.length?b.playersByQueriedElement.get(D):[];if(Z&&Z.length)B=!0;else{let ge=D;for(;ge=ge.parentNode;)if(b.statesByElement.get(ge)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(D),B)b.markElementAsRemoved(this.id,D,!1,y);else{const Z=D[Ts];(!Z||Z===Ko)&&(b.afterFlush(()=>this.clearElementCache(D)),b.destroyInnerAnimations(D),b._onRemovalComplete(D,y))}}insertNode(D,y){Bi(D,this._hostClassName)}drainQueuedTransitions(D){const y=[];return this._queue.forEach(b=>{const B=b.player;if(B.destroyed)return;const Z=b.element,ge=this._elementListeners.get(Z);ge&&ge.forEach(ve=>{if(ve.name==b.triggerName){const $e=yi(Z,b.triggerName,b.fromState.value,b.toState.value);$e._data=D,Ps(b.player,ve.phase,$e,ve.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):y.push(b)}),this._queue=[],y.sort((b,B)=>{const Z=b.transition.ast.depCount,ge=B.transition.ast.depCount;return 0==Z||0==ge?Z-ge:this._engine.driver.containsElement(b.element,B.element)?1:-1})}destroy(D){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,D)}}class _o{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(D,y)=>{};_onRemovalComplete(D,y){this.onRemovalComplete(D,y)}constructor(D,y,b){this.bodyNode=D,this.driver=y,this._normalizer=b}get queuedPlayers(){const D=[];return this._namespaceList.forEach(y=>{y.players.forEach(b=>{b.queued&&D.push(b)})}),D}createNamespace(D,y){const b=new oi(D,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(b,y):(this.newHostElements.set(y,b),this.collectEnterElement(y)),this._namespaceLookup[D]=b}_balanceNamespaceList(D,y){const b=this._namespaceList,B=this.namespacesByHostElement;if(b.length-1>=0){let ge=!1,ve=this.driver.getParentElement(y);for(;ve;){const $e=B.get(ve);if($e){const Ue=b.indexOf($e);b.splice(Ue+1,0,D),ge=!0;break}ve=this.driver.getParentElement(ve)}ge||b.unshift(D)}else b.push(D);return B.set(y,D),D}register(D,y){let b=this._namespaceLookup[D];return b||(b=this.createNamespace(D,y)),b}registerTrigger(D,y,b){let B=this._namespaceLookup[D];B&&B.register(y,b)&&this.totalAnimations++}destroy(D,y){D&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const b=this._fetchNamespace(D);this.namespacesByHostElement.delete(b.hostElement);const B=this._namespaceList.indexOf(b);B>=0&&this._namespaceList.splice(B,1),b.destroy(y),delete this._namespaceLookup[D]}))}_fetchNamespace(D){return this._namespaceLookup[D]}fetchNamespacesByElement(D){const y=new Set,b=this.statesByElement.get(D);if(b)for(let B of b.values())if(B.namespaceId){const Z=this._fetchNamespace(B.namespaceId);Z&&y.add(Z)}return y}trigger(D,y,b,B){if(ta(y)){const Z=this._fetchNamespace(D);if(Z)return Z.trigger(y,b,B),!0}return!1}insertNode(D,y,b,B){if(!ta(y))return;const Z=y[Ts];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(y);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(D){const ge=this._fetchNamespace(D);ge&&ge.insertNode(y,b)}B&&this.collectEnterElement(y)}collectEnterElement(D){this.collectedEnterElements.push(D)}markElementAsDisabled(D,y){y?this.disabledNodes.has(D)||(this.disabledNodes.add(D),Bi(D,Li)):this.disabledNodes.has(D)&&(this.disabledNodes.delete(D),ci(D,Li))}removeNode(D,y,b){if(ta(y)){const B=D?this._fetchNamespace(D):null;B?B.removeNode(y,b):this.markElementAsRemoved(D,y,!1,b);const Z=this.namespacesByHostElement.get(y);Z&&Z.id!==D&&Z.removeNode(y,b)}else this._onRemovalComplete(y,b)}markElementAsRemoved(D,y,b,B,Z){this.collectedLeaveElements.push(y),y[Ts]={namespaceId:D,setForRemoval:B,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(D,y,b,B,Z){return ta(y)?this._fetchNamespace(D).listen(y,b,B,Z):()=>{}}_buildInstruction(D,y,b,B,Z){return D.transition.build(this.driver,D.element,D.fromState.value,D.toState.value,b,B,D.fromState.options,D.toState.options,y,Z)}destroyInnerAnimations(D){let y=this.driver.query(D,it,!0);y.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(D,on,!0),y.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(D){const y=this.playersByElement.get(D);y&&y.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(D){const y=this.playersByQueriedElement.get(D);y&&y.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(D=>{if(this.players.length)return cs(this.players).onDone(()=>D());D()})}processLeaveNode(D){const y=D[Ts];if(y&&y.setForRemoval){if(D[Ts]=Ko,y.namespaceId){this.destroyInnerAnimations(D);const b=this._fetchNamespace(y.namespaceId);b&&b.clearElementCache(D)}this._onRemovalComplete(D,y.setForRemoval)}D.classList?.contains(Li)&&this.markElementAsDisabled(D,!1),this.driver.query(D,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(D=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,B)=>this._balanceNamespaceList(b,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)Bi(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{y=this._flushAnimations(b,D)}finally{for(let B=0;B<b.length;B++)b[B]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],y.length?cs(y).onDone(()=>{b.forEach(B=>B())}):b.forEach(B=>B())}}reportError(D){throw function Wn(){return new v.wOt(3402,!1)}()}_flushAnimations(D,y){const b=new vn,B=[],Z=new Map,ge=[],ve=new Map,$e=new Map,Ue=new Map,Ot=new Set;this.disabledNodes.forEach(M=>{Ot.add(M);const k=this.driver.query(M,".ng-animate-queued",!0);for(let $=0;$<k.length;$++)Ot.add(k[$])});const _t=this.bodyNode,rn=Array.from(this.statesByElement.keys()),cn=li(rn,this.collectedEnterElements),xt=new Map;let zt=0;cn.forEach((M,k)=>{const $=Me+zt++;xt.set(k,$),M.forEach(ae=>Bi(ae,$))});const tr=[],bn=new Set,Rr=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){const k=this.collectedLeaveElements[M],$=k[Ts];$&&$.setForRemoval&&(tr.push(k),bn.add(k),$.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(ae=>bn.add(ae)):Rr.add(k))}const Ws=new Map,dr=li(rn,Array.from(bn));dr.forEach((M,k)=>{const $=de+zt++;Ws.set(k,$),M.forEach(ae=>Bi(ae,$))}),D.push(()=>{cn.forEach((M,k)=>{const $=xt.get(k);M.forEach(ae=>ci(ae,$))}),dr.forEach((M,k)=>{const $=Ws.get(k);M.forEach(ae=>ci(ae,$))}),tr.forEach(M=>{this.processLeaveNode(M)})});const vs=[],hr=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(y).forEach($=>{const ae=$.player,Ee=$.element;if(vs.push(ae),this.collectedEnterElements.length){const Zn=Ee[Ts];if(Zn&&Zn.setForMove){if(Zn.previousTriggersValues&&Zn.previousTriggersValues.has($.triggerName)){const di=Zn.previousTriggersValues.get($.triggerName),fo=this.statesByElement.get($.element);if(fo&&fo.has($.triggerName)){const hl=fo.get($.triggerName);hl.value=di,fo.set($.triggerName,hl)}}return void ae.destroy()}}const Ne=!_t||!this.driver.containsElement(_t,Ee),ut=Ws.get(Ee),gt=xt.get(Ee),mt=this._buildInstruction($,b,gt,ut,Ne);if(mt.errors&&mt.errors.length)return void hr.push(mt);if(Ne)return ae.onStart(()=>wt(Ee,mt.fromStyles)),ae.onDestroy(()=>Ke(Ee,mt.toStyles)),void B.push(ae);if($.isFallbackTransition)return ae.onStart(()=>wt(Ee,mt.fromStyles)),ae.onDestroy(()=>Ke(Ee,mt.toStyles)),void B.push(ae);const Wt=[];mt.timelines.forEach(Zn=>{Zn.stretchStartingKeyframe=!0,this.disabledNodes.has(Zn.element)||Wt.push(Zn)}),mt.timelines=Wt,b.append(Ee,mt.timelines),ge.push({instruction:mt,player:ae,element:Ee}),mt.queriedElements.forEach(Zn=>dn(ve,Zn,[]).push(ae)),mt.preStyleProps.forEach((Zn,di)=>{if(Zn.size){let fo=$e.get(di);fo||$e.set(di,fo=new Set),Zn.forEach((hl,Sc)=>fo.add(Sc))}}),mt.postStyleProps.forEach((Zn,di)=>{let fo=Ue.get(di);fo||Ue.set(di,fo=new Set),Zn.forEach((hl,Sc)=>fo.add(Sc))})});if(hr.length){const M=[];hr.forEach(k=>{M.push(function Bt(){return new v.wOt(3505,!1)}())}),vs.forEach(k=>k.destroy()),this.reportError(M)}const ei=new Map,qs=new Map;ge.forEach(M=>{const k=M.element;b.has(k)&&(qs.set(k,k),this._beforeAnimationBuild(M.player.namespaceId,M.instruction,ei))}),B.forEach(M=>{const k=M.element;this._getPreviousPlayers(k,!1,M.namespaceId,M.triggerName,null).forEach(ae=>{dn(ei,k,[]).push(ae),ae.destroy()})});const $r=tr.filter(M=>ks(M,$e,Ue)),mr=new Map;xa(mr,this.driver,Rr,Ue,K.kp).forEach(M=>{ks(M,$e,Ue)&&$r.push(M)});const p=new Map;cn.forEach((M,k)=>{xa(p,this.driver,new Set(M),$e,K.FX)}),$r.forEach(M=>{const k=mr.get(M),$=p.get(M);mr.set(M,new Map([...k?.entries()??[],...$?.entries()??[]]))});const h=[],d=[],_={};ge.forEach(M=>{const{element:k,player:$,instruction:ae}=M;if(b.has(k)){if(Ot.has(k))return $.onDestroy(()=>Ke(k,ae.toStyles)),$.disabled=!0,$.overrideTotalTime(ae.totalTime),void B.push($);let Ee=_;if(qs.size>1){let ut=k;const gt=[];for(;ut=ut.parentNode;){const mt=qs.get(ut);if(mt){Ee=mt;break}gt.push(ut)}gt.forEach(mt=>qs.set(mt,Ee))}const Ne=this._buildAnimation($.namespaceId,ae,ei,Z,p,mr);if($.setRealPlayer(Ne),Ee===_)h.push($);else{const ut=this.playersByElement.get(Ee);ut&&ut.length&&($.parentPlayer=cs(ut)),B.push($)}}else wt(k,ae.fromStyles),$.onDestroy(()=>Ke(k,ae.toStyles)),d.push($),Ot.has(k)&&B.push($)}),d.forEach(M=>{const k=Z.get(M.element);if(k&&k.length){const $=cs(k);M.setRealPlayer($)}}),B.forEach(M=>{M.parentPlayer?M.syncPlayerEvents(M.parentPlayer):M.destroy()});for(let M=0;M<tr.length;M++){const k=tr[M],$=k[Ts];if(ci(k,de),$&&$.hasAnimation)continue;let ae=[];if(ve.size){let Ne=ve.get(k);Ne&&Ne.length&&ae.push(...Ne);let ut=this.driver.query(k,on,!0);for(let gt=0;gt<ut.length;gt++){let mt=ve.get(ut[gt]);mt&&mt.length&&ae.push(...mt)}}const Ee=ae.filter(Ne=>!Ne.destroyed);Ee.length?Pa(this,k,Ee):this.processLeaveNode(k)}return tr.length=0,h.forEach(M=>{this.players.push(M),M.onDone(()=>{M.destroy();const k=this.players.indexOf(M);this.players.splice(k,1)}),M.play()}),h}afterFlush(D){this._flushFns.push(D)}afterFlushAnimationsDone(D){this._whenQuietFns.push(D)}_getPreviousPlayers(D,y,b,B,Z){let ge=[];if(y){const ve=this.playersByQueriedElement.get(D);ve&&(ge=ve)}else{const ve=this.playersByElement.get(D);if(ve){const $e=!Z||Z==Js;ve.forEach(Ue=>{Ue.queued||!$e&&Ue.triggerName!=B||ge.push(Ue)})}}return(b||B)&&(ge=ge.filter(ve=>!(b&&b!=ve.namespaceId||B&&B!=ve.triggerName))),ge}_beforeAnimationBuild(D,y,b){const Z=y.element,ge=y.isRemovalTransition?void 0:D,ve=y.isRemovalTransition?void 0:y.triggerName;for(const $e of y.timelines){const Ue=$e.element,Ot=Ue!==Z,_t=dn(b,Ue,[]);this._getPreviousPlayers(Ue,Ot,ge,ve,y.toState).forEach(cn=>{const xt=cn.getRealPlayer();xt.beforeDestroy&&xt.beforeDestroy(),cn.destroy(),_t.push(cn)})}wt(Z,y.fromStyles)}_buildAnimation(D,y,b,B,Z,ge){const ve=y.triggerName,$e=y.element,Ue=[],Ot=new Set,_t=new Set,rn=y.timelines.map(xt=>{const zt=xt.element;Ot.add(zt);const tr=zt[Ts];if(tr&&tr.removedBeforeQueried)return new K.sf(xt.duration,xt.delay);const bn=zt!==$e,Rr=function na(I){const D=[];return ji(I,D),D}((b.get(zt)||Ln).map(ei=>ei.getRealPlayer())).filter(ei=>!!ei.element&&ei.element===zt),Ws=Z.get(zt),dr=ge.get(zt),vs=Zr(this._normalizer,xt.keyframes,Ws,dr),hr=this._buildPlayer(xt,vs,Rr);if(xt.subTimeline&&B&&_t.add(zt),bn){const ei=new Ao(D,ve,zt);ei.setRealPlayer(hr),Ue.push(ei)}return hr});Ue.forEach(xt=>{dn(this.playersByQueriedElement,xt.element,[]).push(xt),xt.onDone(()=>function Xi(I,D,y){let b=I.get(D);if(b){if(b.length){const B=b.indexOf(y);b.splice(B,1)}0==b.length&&I.delete(D)}return b}(this.playersByQueriedElement,xt.element,xt))}),Ot.forEach(xt=>Bi(xt,Ct));const cn=cs(rn);return cn.onDestroy(()=>{Ot.forEach(xt=>ci(xt,Ct)),Ke($e,y.toStyles)}),_t.forEach(xt=>{dn(B,xt,[]).push(cn)}),cn}_buildPlayer(D,y,b){return y.length>0?this.driver.animate(D.element,y,D.duration,D.delay,D.easing,b):new K.sf(D.duration,D.delay)}}class Ao{namespaceId;triggerName;element;_player=new K.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(D,y,b){this.namespaceId=D,this.triggerName=y,this.element=b}setRealPlayer(D){this._containsRealPlayer||(this._player=D,this._queuedCallbacks.forEach((y,b)=>{y.forEach(B=>Ps(D,b,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(D.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(D){this.totalTime=D}syncPlayerEvents(D){const y=this._player;y.triggerCallback&&D.onStart(()=>y.triggerCallback("start")),D.onDone(()=>this.finish()),D.onDestroy(()=>this.destroy())}_queueEvent(D,y){dn(this._queuedCallbacks,D,[]).push(y)}onDone(D){this.queued&&this._queueEvent("done",D),this._player.onDone(D)}onStart(D){this.queued&&this._queueEvent("start",D),this._player.onStart(D)}onDestroy(D){this.queued&&this._queueEvent("destroy",D),this._player.onDestroy(D)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(D){this.queued||this._player.setPosition(D)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(D){const y=this._player;y.triggerCallback&&y.triggerCallback(D)}}function ta(I){return I&&1===I.nodeType}function Ui(I,D){const y=I.style.display;return I.style.display=D??"none",y}function xa(I,D,y,b,B){const Z=[];y.forEach($e=>Z.push(Ui($e)));const ge=[];b.forEach(($e,Ue)=>{const Ot=new Map;$e.forEach(_t=>{const rn=D.computeStyle(Ue,_t,B);Ot.set(_t,rn),(!rn||0==rn.length)&&(Ue[Ts]=ea,ge.push(Ue))}),I.set(Ue,Ot)});let ve=0;return y.forEach($e=>Ui($e,Z[ve++])),ge}function li(I,D){const y=new Map;if(I.forEach(ve=>y.set(ve,[])),0==D.length)return y;const B=new Set(D),Z=new Map;function ge(ve){if(!ve)return 1;let $e=Z.get(ve);if($e)return $e;const Ue=ve.parentNode;return $e=y.has(Ue)?Ue:B.has(Ue)?1:ge(Ue),Z.set(ve,$e),$e}return D.forEach(ve=>{const $e=ge(ve);1!==$e&&y.get($e).push(ve)}),y}function Bi(I,D){I.classList?.add(D)}function ci(I,D){I.classList?.remove(D)}function Pa(I,D,y){cs(y).onDone(()=>I.processLeaveNode(D))}function ji(I,D){for(let y=0;y<I.length;y++){const b=I[y];b instanceof K.ui?ji(b.players,D):D.push(b)}}function ks(I,D,y){const b=y.get(I);if(!b)return!1;let B=D.get(I);return B?b.forEach(Z=>B.add(Z)):D.set(I,b),y.delete(I),!0}class Eo{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(D,y)=>{};constructor(D,y,b){this._driver=y,this._normalizer=b,this._transitionEngine=new _o(D.body,y,b),this._timelineEngine=new nn(D.body,y,b),this._transitionEngine.onRemovalComplete=(B,Z)=>this.onRemovalComplete(B,Z)}registerTrigger(D,y,b,B,Z){const ge=D+"-"+B;let ve=this._triggerCache[ge];if(!ve){const $e=[],Ot=bt(this._driver,Z,$e,[]);if($e.length)throw function wn(){return new v.wOt(3404,!1)}();ve=function Ra(I,D,y){return new Qi(I,D,y)}(B,Ot,this._normalizer),this._triggerCache[ge]=ve}this._transitionEngine.registerTrigger(y,B,ve)}register(D,y){this._transitionEngine.register(D,y)}destroy(D,y){this._transitionEngine.destroy(D,y)}onInsert(D,y,b,B){this._transitionEngine.insertNode(D,y,b,B)}onRemove(D,y,b){this._transitionEngine.removeNode(D,y,b)}disableAnimations(D,y){this._transitionEngine.markElementAsDisabled(D,y)}process(D,y,b,B){if("@"==b.charAt(0)){const[Z,ge]=Zs(b);this._timelineEngine.command(Z,y,ge,B)}else this._transitionEngine.trigger(D,y,b,B)}listen(D,y,b,B,Z){if("@"==b.charAt(0)){const[ge,ve]=Zs(b);return this._timelineEngine.listen(ge,y,ve,Z)}return this._transitionEngine.listen(D,y,b,B,Z)}flush(D=-1){this._transitionEngine.flush(D)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(D){this._transitionEngine.afterFlushAnimationsDone(D)}}let Ca=(()=>{class I{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(y,b,B){this._element=y,this._startStyles=b,this._endStyles=B;let Z=I.initialStylesByElement.get(y);Z||I.initialStylesByElement.set(y,Z=new Map),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&Ke(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ke(this._element,this._initialStyles),this._endStyles&&(Ke(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(wt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),Ke(this._element,this._initialStyles),this._state=3)}}return I})();function ms(I){let D=null;return I.forEach((y,b)=>{(function Mn(I){return"display"===I||"position"===I})(b)&&(D=D||new Map,D.set(b,y))}),D}class ys{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(D,y,b,B){this.element=D,this.keyframes=y,this.options=b,this._specialStyles=B,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const D=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,D,this.options),this._finalKeyframe=D.length?D[D.length-1]:new Map;const y=()=>this._onFinish();this.domPlayer.addEventListener("finish",y),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",y)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(D){const y=[];return D.forEach(b=>{y.push(Object.fromEntries(b))}),y}_triggerWebAnimation(D,y,b){return D.animate(this._convertKeyframesToObject(y),b)}onStart(D){this._originalOnStartFns.push(D),this._onStartFns.push(D)}onDone(D){this._originalOnDoneFns.push(D),this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}setPosition(D){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=D*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const D=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,B)=>{"offset"!==B&&D.set(B,this._finished?b:gs(this.element,B))}),this.currentSnapshot=D}triggerCallback(D){const y="start"===D?this._onStartFns:this._onDoneFns;y.forEach(b=>b()),y.length=0}}class _s{validateStyleProperty(D){return!0}validateAnimatableStyleProperty(D){return!0}containsElement(D,y){return ss(D,y)}getParentElement(D){return ri(D)}query(D,y,b){return qn(D,y,b)}computeStyle(D,y,b){return gs(D,y)}animate(D,y,b,B,Z,ge=[]){const $e={duration:b,delay:B,fill:0==B?"both":"forwards"};Z&&($e.easing=Z);const Ue=new Map,Ot=ge.filter(cn=>cn instanceof ys);(function vi(I,D){return 0===I||0===D})(b,B)&&Ot.forEach(cn=>{cn.currentSnapshot.forEach((xt,zt)=>Ue.set(zt,xt))});let _t=function Fi(I){return I.length?I[0]instanceof Map?I:I.map(D=>new Map(Object.entries(D))):[]}(y).map(cn=>new Map(cn));_t=function zr(I,D,y){if(y.size&&D.length){let b=D[0],B=[];if(y.forEach((Z,ge)=>{b.has(ge)||B.push(ge),b.set(ge,Z)}),B.length)for(let Z=1;Z<D.length;Z++){let ge=D[Z];B.forEach(ve=>ge.set(ve,gs(I,ve)))}}return D}(D,_t,Ue);const rn=function wa(I,D){let y=null,b=null;return Array.isArray(D)&&D.length?(y=ms(D[0]),D.length>1&&(b=ms(D[D.length-1]))):D instanceof Map&&(y=ms(D)),y||b?new Ca(I,y,b):null}(D,_t);return new ys(D,_t,$e,rn)}}const pl="@.disabled";class H{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(D,y,b,B){this.namespaceId=D,this.delegate=y,this.engine=b,this._onDestroy=B}get data(){return this.delegate.data}destroyNode(D){this.delegate.destroyNode?.(D)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(D,y){return this.delegate.createElement(D,y)}createComment(D){return this.delegate.createComment(D)}createText(D){return this.delegate.createText(D)}appendChild(D,y){this.delegate.appendChild(D,y),this.engine.onInsert(this.namespaceId,y,D,!1)}insertBefore(D,y,b,B=!0){this.delegate.insertBefore(D,y,b),this.engine.onInsert(this.namespaceId,y,D,B)}removeChild(D,y,b){this.parentNode(y)&&this.engine.onRemove(this.namespaceId,y,this.delegate)}selectRootElement(D,y){return this.delegate.selectRootElement(D,y)}parentNode(D){return this.delegate.parentNode(D)}nextSibling(D){return this.delegate.nextSibling(D)}setAttribute(D,y,b,B){this.delegate.setAttribute(D,y,b,B)}removeAttribute(D,y,b){this.delegate.removeAttribute(D,y,b)}addClass(D,y){this.delegate.addClass(D,y)}removeClass(D,y){this.delegate.removeClass(D,y)}setStyle(D,y,b,B){this.delegate.setStyle(D,y,b,B)}removeStyle(D,y,b){this.delegate.removeStyle(D,y,b)}setProperty(D,y,b){"@"==y.charAt(0)&&y==pl?this.disableAnimations(D,!!b):this.delegate.setProperty(D,y,b)}setValue(D,y){this.delegate.setValue(D,y)}listen(D,y,b,B){return this.delegate.listen(D,y,b,B)}disableAnimations(D,y){this.engine.disableAnimations(D,y)}}class z extends H{factory;constructor(D,y,b,B,Z){super(y,b,B,Z),this.factory=D,this.namespaceId=y}setProperty(D,y,b){"@"==y.charAt(0)?"."==y.charAt(1)&&y==pl?this.disableAnimations(D,b=void 0===b||!!b):this.engine.process(this.namespaceId,D,y.slice(1),b):this.delegate.setProperty(D,y,b)}listen(D,y,b,B){if("@"==y.charAt(0)){const Z=function P(I){switch(I){case"body":return document.body;case"document":return document;case"window":return window;default:return I}}(D);let ge=y.slice(1),ve="";return"@"!=ge.charAt(0)&&([ge,ve]=function ie(I){const D=I.indexOf(".");return[I.substring(0,D),I.slice(D+1)]}(ge)),this.engine.listen(this.namespaceId,Z,ge,ve,$e=>{this.factory.scheduleListenerCallback($e._data||-1,b,$e)})}return this.delegate.listen(D,y,b,B)}}class Se{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(D,y,b){this.delegate=D,this.engine=y,this._zone=b,y.onRemovalComplete=(B,Z)=>{Z?.removeChild(null,B)}}createRenderer(D,y){const B=this.delegate.createRenderer(D,y);if(!D||!y?.data?.animation){const Ue=this._rendererCache;let Ot=Ue.get(B);return Ot||(Ot=new H("",B,this.engine,()=>Ue.delete(B)),Ue.set(B,Ot)),Ot}const Z=y.id,ge=y.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,D);const ve=Ue=>{Array.isArray(Ue)?Ue.forEach(ve):this.engine.registerTrigger(Z,ge,D,Ue.name,Ue)};return y.data.animation.forEach(ve),new z(this,ge,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(D,y,b){if(D>=0&&D<this._microtaskId)return void this._zone.run(()=>y(b));const B=this._animationCallbacksBuffer;0==B.length&&queueMicrotask(()=>{this._zone.run(()=>{B.forEach(Z=>{const[ge,ve]=Z;ge(ve)}),this._animationCallbacksBuffer=[]})}),B.push([y,b])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(D){this.engine.flush(),this.delegate.componentReplaced?.(D)}}let an=(()=>{class I extends Eo{constructor(y,b,B){super(y,b,B)}ngOnDestroy(){this.flush()}static \u0275fac=function(b){return new(b||I)(v.KVO(Ce.DOCUMENT),v.KVO(zs),v.KVO(Re))};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})();const Di=[{provide:Re,useFactory:function zn(){return new ws}},{provide:Eo,useClass:an},{provide:v._9s,useFactory:function gi(I,D,y){return new Se(I,D,y)},deps:[E.B7,Eo,v.SKi]}],wi=[{provide:zs,useClass:_r},{provide:v.bc$,useValue:"NoopAnimations"},...Di],qi=[{provide:zs,useFactory:()=>new _s},{provide:v.bc$,useFactory:()=>"BrowserAnimations"},...Di];let No=(()=>{class I{static withConfig(y){return{ngModule:I,providers:y.disableAnimations?wi:qi}}static \u0275fac=function(b){return new(b||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({providers:qi,imports:[E.Bb]})}return I})();var Os=C(1626),bs=C(6325),zo=C(9030),ra=C(8810),Ro=C(3726),Mi=C(7673),$i=C(8793),mi=C(1413),ar=C(1985),tc=C(5343);const fr=new ar.c(tc.l);var Do=C(7786),Ia=C(2806),br=C(6354),Ns=C(5964),ui=C(5558),Go=C(3319),Es=C(6697),pr=C(8141),Qo=C(5335);const Xo="Service workers are disabled or not supported by this browser";class ka{serviceWorker;worker;registration;events;constructor(D){if(this.serviceWorker=D,D){const b=(0,Ro.R)(D,"controllerchange").pipe((0,br.T)(()=>D.controller)),B=(0,zo.v)(()=>(0,Mi.of)(D.controller)),Z=(0,$i.x)(B,b);this.worker=Z.pipe((0,Ns.p)(Ot=>!!Ot)),this.registration=this.worker.pipe((0,ui.n)(()=>D.getRegistration()));const Ue=(0,Ro.R)(D,"message").pipe((0,br.T)(Ot=>Ot.data)).pipe((0,Ns.p)(Ot=>Ot&&Ot.type)).pipe((0,Go.m)());Ue.connect(),this.events=Ue}else this.worker=this.events=this.registration=function Uo(I){return(0,zo.v)(()=>(0,ra.$)(new Error(I)))}(Xo)}postMessage(D,y){return this.worker.pipe((0,Es.s)(1),(0,pr.M)(b=>{b.postMessage({action:D,...y})})).toPromise().then(()=>{})}postMessageWithOperation(D,y,b){const B=this.waitForOperationCompleted(b),Z=this.postMessage(D,y);return Promise.all([Z,B]).then(([,ge])=>ge)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(D){let y;return y="string"==typeof D?b=>b.type===D:b=>D.includes(b.type),this.events.pipe((0,Ns.p)(y))}nextEventOfType(D){return this.eventsOfType(D).pipe((0,Es.s)(1))}waitForOperationCompleted(D){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ns.p)(y=>y.nonce===D),(0,Es.s)(1),(0,br.T)(y=>{if(void 0!==y.result)return y.result;throw new Error(y.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let nc=(()=>{class I{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new mi.B;constructor(y){if(this.sw=y,!y.isEnabled)return this.messages=fr,this.notificationClicks=fr,void(this.subscription=fr);this.messages=this.sw.eventsOfType("PUSH").pipe((0,br.T)(B=>B.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,br.T)(B=>B.data)),this.pushManager=this.sw.registration.pipe((0,br.T)(B=>B.pushManager));const b=this.pushManager.pipe((0,ui.n)(B=>B.getSubscription()));this.subscription=(0,Do.h)(b,this.subscriptionChanges)}requestSubscription(y){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Xo));const b={userVisibleOnly:!0};let B=this.decodeBase64(y.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Z=new Uint8Array(new ArrayBuffer(B.length));for(let ge=0;ge<B.length;ge++)Z[ge]=B.charCodeAt(ge);return b.applicationServerKey=Z,this.pushManager.pipe((0,ui.n)(ge=>ge.subscribe(b)),(0,Es.s)(1)).toPromise().then(ge=>(this.subscriptionChanges.next(ge),ge))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Es.s)(1),(0,ui.n)(b=>{if(null===b)throw new Error("Not subscribed to push notifications.");return b.unsubscribe().then(B=>{if(!B)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xo))}decodeBase64(y){return atob(y)}static \u0275fac=function(b){return new(b||I)(v.KVO(ka))};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})(),sa=(()=>{class I{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(y){if(this.sw=y,!y.isEnabled)return this.versionUpdates=fr,void(this.unrecoverable=fr);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xo));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:y},y)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xo));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:y},y)}static \u0275fac=function(b){return new(b||I)(v.KVO(ka))};static \u0275prov=v.jDH({token:I,factory:I.\u0275fac})}return I})();const xl=new v.nKC("");function fu(I,D,y){return()=>{if(!("serviceWorker"in navigator)||!1===y.enabled)return;const b=I.get(v.SKi),B=I.get(v.o8S);let Z;if(b.runOutsideAngular(()=>{const ge=navigator.serviceWorker,ve=()=>ge.controller?.postMessage({action:"INITIALIZE"});ge.addEventListener("controllerchange",ve),B.onDestroy(()=>{ge.removeEventListener("controllerchange",ve)})}),"function"==typeof y.registrationStrategy)Z=y.registrationStrategy();else{const[ge,...ve]=(y.registrationStrategy||"registerWhenStable:30000").split(":");switch(ge){case"registerImmediately":Z=(0,Mi.of)(null);break;case"registerWithDelay":Z=Ta(+ve[0]||0);break;case"registerWhenStable":const $e=(0,Ia.H)(I.get(v.o8S).whenStable());Z=ve[0]?(0,Do.h)($e,Ta(+ve[0])):$e;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${y.registrationStrategy}`)}}b.runOutsideAngular(()=>Z.pipe((0,Es.s)(1)).subscribe(()=>navigator.serviceWorker.register(D,{scope:y.scope}).catch(ge=>console.error("Service worker registration failed with:",ge))))}}function Ta(I){return(0,Mi.of)(null).pipe((0,Qo.c)(I))}function Pl(I){return new ka(!1!==I.enabled?navigator.serviceWorker:void 0)}class Sa{enabled;scope;registrationStrategy}function Nr(I,D={}){return(0,v.EmA)([nc,sa,{provide:xl,useValue:I},{provide:Sa,useValue:D},{provide:ka,useFactory:Pl,deps:[Sa]},{provide:v.hnV,useFactory:fu,deps:[v.zZn,xl,Sa],multi:!0}])}let Ft=(()=>{class I{static register(y,b={}){return{ngModule:I,providers:[Nr(y,b)]}}static \u0275fac=function(b){return new(b||I)};static \u0275mod=v.$C({type:I});static \u0275inj=v.G2t({providers:[nc,sa]})}return I})();var Dn=C(5312),Gs=C(3887),Hi=C(8244),Ms=C(8603);const Zi={todos:[]},is=(I=Zi,D)=>{switch(D.type){case"ADD":return{todos:[...I.todos,{index:I.todos.length,text:D.text,done:!1,saved:!1}]};case"TOGGLE":return{todos:I.todos.map((y,b)=>b===D.index?{...y,done:!y.done}:y)};case"REMOVE":return{todos:I.todos.splice(I.todos.findIndex(y=>y.index===D.index),1)};case"SAVED":return{todos:I.todos.map((y,b)=>b===D.index?{...y,saved:!0}:y)};default:return I}};var Cr=C(4412),gr=C(1397),Ii=C(3386);let Pn=(()=>{class I{constructor(){this.recordTimeoutMs=500,this.localStorageKey="__lastActive",this.events=["keydown","click","wheel","mousemove"];const y=this.getLastActiveFromLocalStorage()??new Date;this.lastActive=new Cr.t(y),this.lastActive$=this.lastActive.asObservable()}setUp(){(0,Ia.H)(this.events).pipe((0,gr.Z)(y=>(0,Ro.R)(document,y)),(0,Ii.c)(this.recordTimeoutMs)).subscribe(y=>this.recordLastActiveDate()),(0,Ro.R)(window,"storage").pipe((0,Ns.p)(y=>y.storageArea===localStorage&&y.key===this.localStorageKey&&!!y.newValue),(0,br.T)(y=>new Date(y.newValue))).subscribe(y=>this.lastActive.next(y))}getLastActiveDate(){return this.lastActive.value}recordLastActiveDate(){var y=new Date;localStorage.setItem(this.localStorageKey,y.toString()),this.lastActive.next(y)}getLastActiveFromLocalStorage(){const y=localStorage.getItem(this.localStorageKey);return y?new Date(y):null}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Nt={provide:v.hnV,multi:!0,deps:[Pn],useFactory:I=>()=>I.setUp()};let O=1;class Y{constructor(){this.userName="Philip Marlowe"}}let F=(()=>{class I{constructor(y){this.id=O++,this._userName="Sherlock Holmes",y&&(this._userName=y.userName)}get userName(){return this._userName+(this.id>1?` times ${this.id}`:"")}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(Y,8))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})(),V=(()=>{class I{constructor(y){if(y)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}static forRoot(y){return{ngModule:I,providers:[{provide:Y,useValue:y}]}}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(I,12))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[F],imports:[Ce.CommonModule]})}}return I})();var te=C(9310),Ye=C(3529),Le=C(2661);let xe=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Le.l],imports:[te.md.forFeature(Ye.cp,Ye.Jv)]})}}return I})();var dt=C(2830),In=C(3557),Mr=C(983),Vn=C(8071);class Pt{constructor(D,y,b){this.kind=D,this.value=y,this.error=b,this.hasValue="N"===D}observe(D){return Ls(this,D)}do(D,y,b){const{kind:B,value:Z,error:ge}=this;return"N"===B?D?.(Z):"E"===B?y?.(ge):b?.()}accept(D,y,b){var B;return(0,Vn.T)(null===(B=D)||void 0===B?void 0:B.next)?this.observe(D):this.do(D,y,b)}toObservable(){const{kind:D,value:y,error:b}=this,B="N"===D?(0,Mi.of)(y):"E"===D?(0,ra.$)(()=>b):"C"===D?Mr.w:0;if(!B)throw new TypeError(`Unexpected notification kind ${D}`);return B}static createNext(D){return new Pt("N",D)}static createError(D){return new Pt("E",void 0,D)}static createComplete(){return Pt.completeNotification}}function Ls(I,D){var y,b,B;const{kind:Z,value:ge,error:ve}=I;if("string"!=typeof Z)throw new TypeError('Invalid notification, missing "kind"');"N"===Z?null===(y=D.next)||void 0===y||y.call(D,ge):"E"===Z?null===(b=D.error)||void 0===b||b.call(D,ve):null===(B=D.complete)||void 0===B||B.call(D)}Pt.completeNotification=new Pt("C");var Vs=C(9974),As=C(4360),Ai=C(9437),ns=C(8750);function Br(I,D,y,b){return(0,Vs.N)((B,Z)=>{let ge;D&&"function"!=typeof D?({duration:y,element:ge,connector:b}=D):ge=D;const ve=new Map,$e=xt=>{ve.forEach(xt),xt(Z)},Ue=xt=>$e(zt=>zt.error(xt));let Ot=0,_t=!1;const rn=new As.H(Z,xt=>{try{const zt=I(xt);let tr=ve.get(zt);if(!tr){ve.set(zt,tr=b?b():new mi.B);const bn=function cn(xt,zt){const tr=new ar.c(bn=>{Ot++;const Rr=zt.subscribe(bn);return()=>{Rr.unsubscribe(),0==--Ot&&_t&&rn.unsubscribe()}});return tr.key=xt,tr}(zt,tr);if(Z.next(bn),y){const Rr=(0,As._)(tr,()=>{tr.complete(),Rr?.unsubscribe()},void 0,void 0,()=>ve.delete(zt));rn.add((0,ns.Tg)(y(bn)).subscribe(Rr))}}tr.next(ge?ge(xt):xt)}catch(zt){Ue(zt)}},()=>$e(xt=>xt.complete()),Ue,()=>ve.clear(),()=>(_t=!0,0===Ot));B.subscribe(rn)})}var ln=C(786);const Us={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},us="__@ngrx/effects_create__";function tn(I,D={}){const y=D.functional?I:I(),b={...Us,...D};return Object.defineProperty(y,us,{value:b}),y}function os(I){return Object.getPrototypeOf(I)}function Ja(I){return"function"==typeof I}function Wa(I){return I.filter(Ja)}function Hu(I,D,y){const b=os(I),Z=b&&"Object"!==b.constructor.name?b.constructor.name:null,ge=function Pc(I){return function jo(I){return Object.getOwnPropertyNames(I).filter(b=>!(!I[b]||!I[b].hasOwnProperty(us))&&I[b][us].hasOwnProperty("dispatch")).map(b=>({propertyName:b,...I[b][us]}))}(I)}(I).map(({propertyName:ve,dispatch:$e,useEffectsErrorHandler:Ue})=>{const Ot="function"==typeof I[ve]?I[ve]():I[ve],_t=Ue?y(Ot,D):Ot;return!1===$e?_t.pipe((0,In.w)()):_t.pipe(function ia(){return(0,Vs.N)((I,D)=>{I.subscribe((0,As._)(D,y=>{D.next(Pt.createNext(y))},()=>{D.next(Pt.createComplete()),D.complete()},y=>{D.next(Pt.createError(y)),D.complete()}))})}()).pipe((0,br.T)(cn=>({effect:I[ve],notification:cn,propertyName:ve,sourceName:Z,sourceInstance:I})))});return(0,Do.h)(...ge)}function Wu(I,D,y=10){return I.pipe((0,Ai.W)(b=>(D&&D.handleError(b),y<=1?I:Wu(I,D,y-1))))}let el=(()=>{class I extends ar.c{constructor(y){super(),y&&(this.source=y)}lift(y){const b=new I;return b.source=this,b.operator=y,b}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(te.sA))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Ka(...I){return(0,Ns.p)(D=>I.some(y=>"string"==typeof y?y===D.type:y.type===D.type))}const Fc=new v.nKC("@ngrx/effects Internal Root Guard"),Qs=new v.nKC("@ngrx/effects User Provided Effects"),rc=new v.nKC("@ngrx/effects Internal Root Effects"),pu=new v.nKC("@ngrx/effects Internal Root Effects Instances"),La=new v.nKC("@ngrx/effects Internal Feature Effects"),oa=new v.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),tl=new v.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Wu}),nt="@ngrx/effects/init";function sc(I){return Ji(I,"ngrxOnInitEffects")}function Ji(I,D){return I&&D in I&&"function"==typeof I[D]}(0,te.VP)(nt);let S=(()=>{class I extends mi.B{constructor(y,b){super(),this.errorHandler=y,this.effectsErrorHandler=b}addEffects(y){this.next(y)}toActions(){return this.pipe(Br(y=>function en(I){return!!I.constructor&&"Object"!==I.constructor.name&&"Function"!==I.constructor.name}(y)?os(y):y),(0,gr.Z)(y=>y.pipe(Br(x))),(0,gr.Z)(y=>{const b=y.pipe((0,ln.p)(Z=>function A(I,D){return y=>{const b=Hu(y,I,D);return function mu(I){return Ji(I,"ngrxOnRunEffects")}(y)?y.ngrxOnRunEffects(b):b}}(this.errorHandler,this.effectsErrorHandler)(Z)),(0,br.T)(Z=>(function Va(I,D){if("N"===I.notification.kind){const y=I.notification.value;!function Ku(I){return"function"!=typeof I&&I&&I.type&&"string"==typeof I.type}(y)&&D.handleError(new Error(`Effect ${function nl({propertyName:I,sourceInstance:D,sourceName:y}){const b="function"==typeof D[I];return y?`"${y}.${String(I)}${b?"()":""}"`:`"${String(I)}()"`}(I)} dispatched an invalid action: ${function za(I){try{return JSON.stringify(I)}catch{return I}}(y)}`))}}(Z,this.errorHandler),Z.notification)),(0,Ns.p)(Z=>"N"===Z.kind&&null!=Z.value),function Bo(){return(0,Vs.N)((I,D)=>{I.subscribe((0,As._)(D,y=>Ls(y,D)))})}()),B=y.pipe((0,Es.s)(1),(0,Ns.p)(sc),(0,br.T)(Z=>Z.ngrxOnInitEffects()));return(0,Do.h)(b,B)}))}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(v.zcH),v.KVO(tl))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function x(I){return function aa(I){return Ji(I,"ngrxOnIdentifyEffects")}(I)?I.ngrxOnIdentifyEffects():""}let R=(()=>{class I{get isStarted(){return!!this.effectsSubscription}constructor(y,b){this.effectSources=y,this.store=b,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(S),v.KVO(te.il))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),G=(()=>{class I{constructor(y,b,B,Z,ge,ve,$e){this.sources=y,b.start();for(const Ue of Z)y.addEffects(Ue);B.dispatch({type:nt})}addEffects(y){this.sources.addEffects(y)}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(S),v.KVO(R),v.KVO(te.il),v.KVO(pu),v.KVO(te.wc,8),v.KVO(te.ae,8),v.KVO(Fc,8))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),le=(()=>{class I{constructor(y,b,B,Z){const ge=b.flat();for(const ve of ge)y.addEffects(ve)}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(G),v.KVO(oa),v.KVO(te.wc,8),v.KVO(te.ae,8))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),pe=(()=>{class I{static forFeature(...y){const b=y.flat(),B=Wa(b);return{ngModule:le,providers:[B,{provide:La,multi:!0,useValue:b},{provide:Qs,multi:!0,useValue:[]},{provide:oa,multi:!0,useFactory:at,deps:[La,Qs]}]}}static forRoot(...y){const b=y.flat(),B=Wa(b);return{ngModule:G,providers:[B,{provide:rc,useValue:[b]},{provide:Fc,useFactory:We},{provide:Qs,multi:!0,useValue:[]},{provide:pu,useFactory:at,deps:[rc,Qs]}]}}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})();function at(I,D){const y=[];for(const b of I)y.push(...b);for(const b of D)y.push(...b);return y.map(b=>function Fl(I){return I instanceof v.nKC||Ja(I)}(b)?(0,v.WQX)(b):b)}function We(){const I=(0,v.WQX)(R,{optional:!0,skipSelf:!0}),D=(0,v.WQX)(rc,{self:!0});if((1!==D.length||0!==D[0].length)&&I)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Hn=C(4413);let Xr=(()=>{class I{loadCounter(){return(0,Mi.of)(1999)}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),Xs=(()=>{class I{constructor(y,b){this.actions$=y,this.counterService=b,this.loadData$=tn(()=>this.actions$.pipe(Ka(Hn.m5),(0,gr.Z)(()=>this.counterService.loadCounter().pipe((0,br.T)(B=>Hn.Co({newValue:B}))))))}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(el),v.KVO(Xr))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var Oi=C(9072);let ba=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Oi.M],imports:[te.md.forFeature(dt.cp,dt.FW),pe.forFeature([Xs])]})}}return I})();var qo=C(8964),Wi=C(2503);let ic=(()=>{class I{constructor(y,b){this.actions$=y,this.http=b,this.loadData$=tn(()=>this.actions$.pipe(Ka(Wi.Ze),(0,ui.n)(()=>this.http.get("https://jsonplaceholder.typicode.com/posts").pipe((0,br.T)(B=>Wi.aE({payload:B})),(0,Ai.W)(B=>(0,Mi.of)(Wi.Ny({payload:B})))))))}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(el),v.KVO(Os.Qq))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var Qa=C(8320);let xd=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Qa.T],imports:[te.md.forFeature(qo.cp,qo.b4),pe.forFeature([ic])]})}}return I})();var oc=C(459),Lc=C(965);let ac=(()=>{class I{constructor(y){this.actions$=y,this.getUser$=tn(()=>this.actions$.pipe(Ka(Lc.wz),(0,gr.Z)(()=>(0,Mi.of)({userId:"1",name:"trilok",lastName:"singh",email:"trilok@gmaill.com"}).pipe((0,br.T)(b=>Lc.bI({user:b})),(0,Ai.W)(b=>(console.error("An error occurred while getting user information.",b.message),(0,Mi.of)(Lc.VA({error:"Unable to retrieve user information."}))))))))}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(el))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var Vc=C(8066);let lc=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Vc.w],imports:[te.md.forFeature(oc.c,oc.o),pe.forFeature([ac])]})}}return I})();var Ma=C(8721),Uc=C(5696),rl=C(8193),Ll=C(8515);let Qn=(()=>{class I{set(y,b){try{localStorage.setItem(y,JSON.stringify(b))}catch(B){console.error("Error saving to localStorage",B)}}get(y){try{return JSON.parse(localStorage.getItem(y))}catch(b){return console.error("Error getting data from localStorage",b),null}}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),Ti=(()=>{class I{constructor(y,b,B,Z){this.actions$=y,this.registerService=b,this.persistenceService=B,this.router=Z,this.register$=tn(()=>this.actions$.pipe(Ka(rl.Sl),(0,ui.n)(({request:ge})=>this.registerService.register(ge).pipe((0,br.T)(ve=>(this.persistenceService.set("accessToken1",ve.token),(0,rl.NW)({currentUser:ve}))),(0,Ai.W)(ve=>(console.log(ve),(0,Mi.of)((0,rl.gt)({errors:ve.error.errors})))))))),this.redirectAfterSubmit$=tn(()=>this.actions$.pipe(Ka(rl.NW),(0,pr.M)(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(el),v.KVO(Ll.h),v.KVO(Qn),v.KVO(U.Ix))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})(),yu=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({providers:[Uc.E],imports:[te.md.forFeature(Ma.cp,Ma.Km),pe.forFeature([Ti])]})}}return I})();var la=C(1116),Xa=C(8527),Bs=C(152),gl=C(6875);let eo=(()=>{class I{constructor(y){this.http=y,this.url="http://localhost:4000/articles"}getAll(){return this.http.get("http://localhost:4000/fruits")}getAllArticles(){return this.http.get(this.url)}createArticle(y){return this.http.post(this.url,y)}getArticleById(y){return this.http.get(this.url+"/"+y)}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(gl.k))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),js=(()=>{class I{constructor(y,b){this.actions$=y,this.fruitsService=b,this.loadAllArticles$=tn(()=>this.actions$.pipe(Ka(Xa.j1),(0,ui.n)(()=>this.fruitsService.getAllArticles().pipe((0,br.T)(B=>Xa.op({payload:B})))))),this.createArticle$=tn(()=>this.actions$.pipe(Ka(Xa.n8),(0,br.T)(B=>B.payload),(0,gr.Z)(B=>this.fruitsService.createArticle(B).pipe((0,br.T)(Z=>Xa.om({payload:Z})),(0,Ai.W)(Z=>(0,Mi.of)(Xa.VZ({payload:Z}))))))),this.searchArticleById$=tn(()=>this.actions$.pipe(Ka(Xa.vV),(0,Bs.B)(500),(0,br.T)(B=>B.payload),(0,ui.n)(B=>this.fruitsService.getArticleById(B).pipe((0,br.T)(Z=>Xa.i8({payload:Z})))))),this.loadProducts$=tn(()=>this.actions$.pipe(Ka(Xa.fM),(0,gr.Z)(()=>this.fruitsService.getAll().pipe((0,br.T)(B=>Xa.iQ({payload:B}))))))}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(el),v.KVO(eo))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var ml=C(7242),cc=C(2771),wo=C(7647),Bc=C(274),Pd=C(3236),to=C(8211),ht=C(1853),yn=C(5225);const $s=(0,ht.L)(I=>function(y=null){I(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=y});function ur(I){throw new $s(I)}var sl=C(6977),ua=C(941),il=C(3993),no=C(2816),uc=C(9079);const Ua="PERFORM_ACTION",Si="ROLLBACK",da="TOGGLE_ACTION",ro="JUMP_TO_STATE",Oa="JUMP_TO_ACTION",vl="IMPORT_STATE",_l="LOCK_CHANGES",vu="PAUSE_RECORDING";class El{constructor(D,y){if(this.action=D,this.timestamp=y,this.type=Ua,typeof D.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Ul{constructor(){this.type="REFRESH"}}class hc{constructor(D){this.timestamp=D,this.type="RESET"}}class fc{constructor(D){this.timestamp=D,this.type=Si}}class _u{constructor(D){this.timestamp=D,this.type="COMMIT"}}class Eu{constructor(){this.type="SWEEP"}}class zu{constructor(D){this.id=D,this.type=da}}class Gu{constructor(D){this.index=D,this.type=ro}}class Hs{constructor(D){this.actionId=D,this.type=Oa}}class ol{constructor(D){this.nextLiftedState=D,this.type=vl}}class Qu{constructor(D){this.status=D,this.type=_l}}class Du{constructor(D){this.status=D,this.type=vu}}const Ri=new v.nKC("@ngrx/store-devtools Options"),al=new v.nKC("@ngrx/store-devtools Initial Config");function hn(){return null}function pc(I){const D={maxAge:!1,monitor:hn,actionSanitizer:void 0,stateSanitizer:void 0,name:"NgRx Store DevTools",serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},y="function"==typeof I?I():I,B=y.features||!!y.logOnly&&{pause:!0,export:!0,test:!0}||D.features;!0===B.import&&(B.import="custom");const Z=Object.assign({},D,{features:B},y);if(Z.maxAge&&Z.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${Z.maxAge}`);return Z}function jl(I,D){return I.filter(y=>D.indexOf(y)<0)}function $l(I){const{computedStates:D,currentStateIndex:y}=I;if(y>=D.length){const{state:B}=D[D.length-1];return B}const{state:b}=D[y];return b}function ha(I){return new El(I,+Date.now())}function gc(I,D){return Object.keys(D).reduce((y,b)=>{const B=Number(b);return y[B]=fa(I,D[B],B),y},{})}function fa(I,D,y){return{...D,action:I(D.action,y)}}function Xu(I,D){return D.map((y,b)=>({state:jc(I,y.state,b),error:y.error}))}function jc(I,D,y){return I(D,y)}function Dl(I){return I.predicate||I.actionsSafelist||I.actionsBlocklist}function wl(I,D,y,b,B){const Z=y&&!y(I,D.action),ge=b&&!D.action.type.match(b.map($e=>qu($e)).join("|")),ve=B&&D.action.type.match(B.map($e=>qu($e)).join("|"));return Z||ge||ve}function qu(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wu(I){return{ngZone:I?(0,v.WQX)(v.SKi):null,connectInZone:I}}let yc=(()=>{class I extends te.SS{static{this.\u0275fac=(()=>{let y;return function(B){return(y||(y=v.xGo(I)))(B||I)}})()}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const Cl=new v.nKC("@ngrx/store-devtools Redux Devtools Extension");let Cu=(()=>{class I{constructor(y,b,B){this.config=b,this.dispatcher=B,this.zoneConfig=wu(this.config.connectInZone),this.devtoolsExtension=y,this.createActionStreams()}notify(y,b){if(this.devtoolsExtension)if(y.type===Ua){if(b.isLocked||b.isPaused)return;const B=$l(b);if(Dl(this.config)&&wl(B,y,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const Z=this.config.stateSanitizer?jc(this.config.stateSanitizer,B,b.currentStateIndex):B,ge=this.config.actionSanitizer?fa(this.config.actionSanitizer,y,b.nextActionId):y;this.sendToReduxDevtools(()=>this.extensionConnection.send(ge,Z))}else{const B={...b,stagedActionIds:b.stagedActionIds,actionsById:this.config.actionSanitizer?gc(this.config.actionSanitizer,b.actionsById):b.actionsById,computedStates:this.config.stateSanitizer?Xu(this.config.stateSanitizer,b.computedStates):b.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,B,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ar.c(y=>{const b=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=b,b.init(),b.subscribe(B=>y.next(B)),b.unsubscribe}):Mr.w}createActionStreams(){const y=this.createChangesObservable().pipe((0,wo.u)()),b=y.pipe((0,Ns.p)(Ue=>"START"===Ue.type)),B=y.pipe((0,Ns.p)(Ue=>"STOP"===Ue.type)),Z=y.pipe((0,Ns.p)(Ue=>"DISPATCH"===Ue.type),(0,br.T)(Ue=>this.unwrapAction(Ue.payload)),(0,Bc.H)(Ue=>Ue.type===vl?this.dispatcher.pipe((0,Ns.p)(Ot=>Ot.type===te.q6),function qa(I,D){const{first:y,each:b,with:B=ur,scheduler:Z=D??Pd.E,meta:ge=null}=(0,to.v)(I)?{first:I}:"number"==typeof I?{each:I}:I;if(null==y&&null==b)throw new TypeError("No timeout provided.");return(0,Vs.N)((ve,$e)=>{let Ue,Ot,_t=null,rn=0;const cn=xt=>{Ot=(0,yn.N)($e,Z,()=>{try{Ue.unsubscribe(),(0,ns.Tg)(B({meta:ge,lastValue:_t,seen:rn})).subscribe($e)}catch(zt){$e.error(zt)}},xt)};Ue=ve.subscribe((0,As._)($e,xt=>{Ot?.unsubscribe(),rn++,$e.next(_t=xt),b>0&&cn(b)},void 0,void 0,()=>{Ot?.closed||Ot?.unsubscribe(),_t=null})),!rn&&cn(null!=y?"number"==typeof y?y:+y-Z.now():b)})}(1e3),(0,Bs.B)(1e3),(0,br.T)(()=>Ue),(0,Ai.W)(()=>(0,Mi.of)(Ue)),(0,Es.s)(1)):(0,Mi.of)(Ue))),ve=y.pipe((0,Ns.p)(Ue=>"ACTION"===Ue.type),(0,br.T)(Ue=>this.unwrapAction(Ue.payload))).pipe((0,sl.Q)(B)),$e=Z.pipe((0,sl.Q)(B));this.start$=b.pipe((0,sl.Q)(B)),this.actions$=this.start$.pipe((0,ui.n)(()=>ve)),this.liftedActions$=this.start$.pipe((0,ui.n)(()=>$e))}unwrapAction(y){return"string"==typeof y?(0,eval)(`(${y})`):y}getExtensionConfig(y){const b={name:y.name,features:y.features,serialize:y.serialize,autoPause:y.autoPause??!1,trace:y.trace??!1,traceLimit:y.traceLimit??75};return!1!==y.maxAge&&(b.maxAge=y.maxAge),b}sendToReduxDevtools(y){try{y()}catch(b){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",b)}}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(Cl),v.KVO(Ri),v.KVO(yc))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const pa={type:te.Zz},vc={type:"@ngrx/store-devtools/recompute"};function $c(I,D,y,b,B){if(b)return{state:y,error:"Interrupted by an error up the chain"};let ge,Z=y;try{Z=I(y,D)}catch(ve){ge=ve.toString(),B.handleError(ve)}return{state:Z,error:ge}}function Co(I,D,y,b,B,Z,ge,ve,$e){if(D>=I.length&&I.length===Z.length)return I;const Ue=I.slice(0,D),Ot=Z.length-($e?1:0);for(let _t=D;_t<Ot;_t++){const rn=Z[_t],cn=B[rn].action,xt=Ue[_t-1],zt=xt?xt.state:b,tr=xt?xt.error:void 0,Rr=ge.indexOf(rn)>-1?xt:$c(y,cn,zt,tr,ve);Ue.push(Rr)}return $e&&Ue.push(I[I.length-1]),Ue}let _c=(()=>{class I{constructor(y,b,B,Z,ge,ve,$e,Ue){const Ot=function Iu(I,D){return{monitorState:D(void 0,{}),nextActionId:1,actionsById:{0:ha(pa)},stagedActionIds:[0],skippedActionIds:[],committedState:I,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}($e,Ue.monitor),_t=function $o(I,D,y,b,B={}){return Z=>(ge,ve)=>{let{monitorState:$e,actionsById:Ue,nextActionId:Ot,stagedActionIds:_t,skippedActionIds:rn,committedState:cn,currentStateIndex:xt,computedStates:zt,isLocked:tr,isPaused:bn}=ge||D;function Rr(vs){let hr=vs,ei=_t.slice(1,hr+1);for(let qs=0;qs<ei.length;qs++){if(zt[qs+1].error){hr=qs,ei=_t.slice(1,hr+1);break}delete Ue[ei[qs]]}rn=rn.filter(qs=>-1===ei.indexOf(qs)),_t=[0,..._t.slice(hr+1)],cn=zt[hr].state,zt=zt.slice(hr),xt=xt>hr?xt-hr:0}function Ws(){Ue={0:ha(pa)},Ot=1,_t=[0],rn=[],cn=zt[xt].state,xt=0,zt=[]}ge||(Ue=Object.create(Ue));let dr=0;switch(ve.type){case _l:tr=ve.status,dr=1/0;break;case vu:bn=ve.status,bn?(_t=[..._t,Ot],Ue[Ot]=new El({type:"@ngrx/devtools/pause"},+Date.now()),Ot++,dr=_t.length-1,zt=zt.concat(zt[zt.length-1]),xt===_t.length-2&&xt++,dr=1/0):Ws();break;case"RESET":Ue={0:ha(pa)},Ot=1,_t=[0],rn=[],cn=I,xt=0,zt=[];break;case"COMMIT":Ws();break;case Si:Ue={0:ha(pa)},Ot=1,_t=[0],rn=[],xt=0,zt=[];break;case da:{const{id:vs}=ve;rn=-1===rn.indexOf(vs)?[vs,...rn]:rn.filter(ei=>ei!==vs),dr=_t.indexOf(vs);break}case"SET_ACTIONS_ACTIVE":{const{start:vs,end:hr,active:ei}=ve,qs=[];for(let $r=vs;$r<hr;$r++)qs.push($r);rn=ei?jl(rn,qs):[...rn,...qs],dr=_t.indexOf(vs);break}case ro:xt=ve.index,dr=1/0;break;case Oa:{const vs=_t.indexOf(ve.actionId);-1!==vs&&(xt=vs),dr=1/0;break}case"SWEEP":_t=jl(_t,rn),rn=[],xt=Math.min(xt,_t.length-1);break;case Ua:{if(tr)return ge||D;if(bn||ge&&wl(ge.computedStates[xt],ve,B.predicate,B.actionsSafelist,B.actionsBlocklist)){const hr=zt[zt.length-1];zt=[...zt.slice(0,-1),$c(Z,ve.action,hr.state,hr.error,y)],dr=1/0;break}B.maxAge&&_t.length===B.maxAge&&Rr(1),xt===_t.length-1&&xt++;const vs=Ot++;Ue[vs]=ve,_t=[..._t,vs],dr=_t.length-1;break}case vl:({monitorState:$e,actionsById:Ue,nextActionId:Ot,stagedActionIds:_t,skippedActionIds:rn,committedState:cn,currentStateIndex:xt,computedStates:zt,isLocked:tr,isPaused:bn}=ve.nextLiftedState);break;case te.Zz:dr=0,B.maxAge&&_t.length>B.maxAge&&(zt=Co(zt,dr,Z,cn,Ue,_t,rn,y,bn),Rr(_t.length-B.maxAge),dr=1/0);break;case te.q6:if(zt.filter(hr=>hr.error).length>0)dr=0,B.maxAge&&_t.length>B.maxAge&&(zt=Co(zt,dr,Z,cn,Ue,_t,rn,y,bn),Rr(_t.length-B.maxAge),dr=1/0);else{if(!bn&&!tr){xt===_t.length-1&&xt++;const hr=Ot++;Ue[hr]=new El(ve,+Date.now()),_t=[..._t,hr],dr=_t.length-1,zt=Co(zt,dr,Z,cn,Ue,_t,rn,y,bn)}zt=zt.map(hr=>({...hr,state:Z(hr.state,vc)})),xt=_t.length-1,B.maxAge&&_t.length>B.maxAge&&Rr(_t.length-B.maxAge),dr=1/0}break;default:dr=1/0}return zt=Co(zt,dr,Z,cn,Ue,_t,rn,y,bn),$e=b($e,ve),{monitorState:$e,actionsById:Ue,nextActionId:Ot,stagedActionIds:_t,skippedActionIds:rn,committedState:cn,currentStateIndex:xt,computedStates:zt,isLocked:tr,isPaused:bn}}}($e,Ot,ve,Ue.monitor,Ue),rn=(0,Do.h)((0,Do.h)(b.asObservable().pipe(function ca(I){return(0,Ns.p)((D,y)=>I<=y)}(1)),Z.actions$).pipe((0,br.T)(ha)),y,Z.liftedActions$).pipe((0,ua.Q)(ml.T)),cn=B.pipe((0,br.T)(_t)),xt=wu(Ue.connectInZone),zt=new cc.m(1);this.liftedStateSubscription=rn.pipe((0,il.E)(cn),ho(xt),(0,no.S)(({state:Rr},[Ws,dr])=>{let vs=dr(Rr,Ws);return Ws.type!==Ua&&Dl(Ue)&&(vs=function mc(I,D,y,b){const B=[],Z={},ge=[];return I.stagedActionIds.forEach((ve,$e)=>{const Ue=I.actionsById[ve];Ue&&($e&&wl(I.computedStates[$e],Ue,D,y,b)||(Z[ve]=Ue,B.push(ve),ge.push(I.computedStates[$e])))}),{...I,stagedActionIds:B,actionsById:Z,computedStates:ge}}(vs,Ue.predicate,Ue.actionsSafelist,Ue.actionsBlocklist)),Z.notify(Ws,vs),{state:vs,action:Ws}},{state:Ot,action:null})).subscribe(({state:Rr,action:Ws})=>{zt.next(Rr),Ws.type===Ua&&ge.next(Ws.action)}),this.extensionStartSubscription=Z.start$.pipe(ho(xt)).subscribe(()=>{this.refresh()});const tr=zt.asObservable(),bn=tr.pipe((0,br.T)($l));Object.defineProperty(bn,"state",{value:(0,uc.ot)(bn,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=y,this.liftedState=tr,this.state=bn}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(y){this.dispatcher.next(y)}next(y){this.dispatcher.next(y)}error(y){}complete(){}performAction(y){this.dispatch(new El(y,+Date.now()))}refresh(){this.dispatch(new Ul)}reset(){this.dispatch(new hc(+Date.now()))}rollback(){this.dispatch(new fc(+Date.now()))}commit(){this.dispatch(new _u(+Date.now()))}sweep(){this.dispatch(new Eu)}toggleAction(y){this.dispatch(new zu(y))}jumpToAction(y){this.dispatch(new Hs(y))}jumpToState(y){this.dispatch(new Gu(y))}importState(y){this.dispatch(new ol(y))}lockChanges(y){this.dispatch(new Qu(y))}pauseRecording(y){this.dispatch(new Du(y))}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(yc),v.KVO(te.SS),v.KVO(te.QU),v.KVO(Cu),v.KVO(te.sA),v.KVO(v.zcH),v.KVO(te.N_),v.KVO(Ri))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();function ho({ngZone:I,connectInZone:D}){return y=>D?new ar.c(b=>y.subscribe({next:B=>I.run(()=>b.next(B)),error:B=>I.run(()=>b.error(B)),complete:()=>I.run(()=>b.complete())})):y}const cl=new v.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function ul(I,D){return!!I||D.monitor!==hn}function Tu(){const I="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[I]<"u"?window[I]:null}function Ba(I){return I.state}function ga(I={}){return(0,v.EmA)([Cu,yc,_c,{provide:al,useValue:I},{provide:cl,deps:[Cl,Ri],useFactory:ul},{provide:Cl,useFactory:Tu},{provide:Ri,deps:[al],useFactory:pc},{provide:te.h1,deps:[_c],useFactory:Ba},{provide:te.Bh,useExisting:yc}])}let Io=(()=>{class I{static instrument(y={}){return{ngModule:I,providers:[ga(y)]}}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),Wl=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({imports:[te.md.forRoot(la.gz),pe.forRoot([js]),xe,ba,xd,lc,yu,Io.instrument({maxAge:25,logOnly:!Dn.c.production,connectInZone:!0})]})}}return I})();const Kl="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJDb2RlIFNob3RzIFdpdGggUHJvZmFuaXMiLCJpYXQiOjE2MjQyNzU1MjUsImV4cCI6MTY1NTgxMTUyNSwiYXVkIjoiQ29kZSBTaG90IFdpdGggUHJvZmFuaXMgU3Vic2NyaWJlcnMiLCJzdWIiOiJDb2RlIFNob3QgV2l0aCBQcm9mYW5pcyBTdWJzY3JpYmVycyIsIlVzZXJuYW1lIjoicHJvZmFuaXMiLCJGaXJzdE5hbWUiOiJGYW5pcyIsIlJvbGUiOlsiQWRtaW4iLCJTdXBlciBBZG1pbiJdfQ.mT1UD7DXTWRm4etsW9BuWcg5bj2CaeAQVXaoEOIwB7o";let Il=(()=>{class I{constructor(){}intercept(y,b){const{url:B,method:Z,headers:ge}=y;return B.endsWith("login")&&"POST"===Z?function $e(){return(0,Mi.of)(new Os.cS({status:200,body:{id:"1",username:"profanis",token:Kl}}))}():B.endsWith("products")&&"GET"===Z?function Ue(){if(!function ve(){return ge.get("authorization")===Kl}())return(0,ra.$)({status:401,error:{message:"Unauthorized"}});const Ot=[...new Array(20).keys()].map(_t=>({id:_t,name:`Product ${_t}`,weight:30,symbol:"ngf"}));return(0,Mi.of)(new Os.cS({status:200,body:Ot}))}():b.handle(y)}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const Ah={provide:Os.a7,useClass:Il,multi:!0};C(6570);let Ec=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})();class Dc{static get injector(){return this._injector}static set injector(D){this._injector=D}}var ja=C(2749),Na=C(5364);let ma=(()=>{class I{get apiKey(){return"5a4b2d457ecbef9eb2a71e480b947604"}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),bu=(()=>{class I extends ja.y{constructor(y,b){super(),this.http=y,this.config=b}getCurrentWeather(y,b){const Z=this.getParams(y,b);return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:Z}).pipe((0,br.T)(ge=>({temperature:ge.main.temp,temperatureMin:ge.main.temp_min,temperatureMax:ge.main.temp_max,city:ge.name,conditions:(0,Na.vp)(ge.weather[0]),date:new Date(ge.dt),zipCode:y,countryCode:b})))}getWeatherByLocation(y){return this.http.get("https://api.openweathermap.org/data/2.5/weather",{params:{q:y,units:"metric",appid:this.config.apiKey}}).pipe((0,br.T)(Z=>({temperature:Z.main.temp,temperatureMin:Z.main.temp_min,temperatureMax:Z.main.temp_max,city:Z.name,conditions:(0,Na.vp)(Z.weather[0]),date:new Date(Z.dt),q:y})))}getForcastByLocation(y){return this.http.get("https://api.openweathermap.org/data/2.5/forecast",{params:{q:y,units:"metric",appid:this.config.apiKey}}).pipe((0,br.T)(Z=>({temperature:Z.main.temp,temperatureMin:Z.main.temp_min,temperatureMax:Z.main.temp_max,city:Z.name,conditions:(0,Na.vp)(Z.weather[0]),date:new Date(Z.dt),q:y})))}getOnecall(y,b){return this.http.get("https://api.openweathermap.org/data/2.5/onecall",{params:{lat:y,lon:b,exclude:"current, minutely, alerts",units:"metric",appid:this.config.apiKey}})}getForecastDaily(y,b){const Z=this.getParams(y,b);return this.http.get("https://api.openweathermap.org/data/2.5/forecast/daily",{params:Z}).pipe((0,br.T)(ge=>ge.list.map(ve=>({temperature:ve.temp.day,temperatureMin:ve.temp.min,temperatureMax:ve.temp.max,city:ge.city.name,conditions:(0,Na.vp)(ve.weather[0]),date:new Date(1e3*ve.dt),zipCode:y,countryCode:b}))))}getParams(y,b="us"){return new Os.Nl({fromObject:{zip:`${y},${b}`,appid:this.config.apiKey,units:"metric"}})}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(Os.Qq),v.KVO(ma))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();var wc=C(1111),Yu=C(2214),Ki=C(5891),Wc=C(9599),zl=C(4473);let Zu=(()=>{class I{constructor(y,b){this.router=y,this.activitiesService=b}config(){this.router.events.subscribe(y=>{y instanceof U.wF&&(/[#$\[\]'?]/g.test(y.url)||this.activitiesService.setRouter(y.url))})}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(U.Ix),v.KVO(zl.B))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const lr={provide:v.hnV,useFactory:I=>()=>I.config(),multi:!0,deps:[Zu]};let Oh=(()=>{class I{constructor(y){this.activitiesService=y}intercept(y,b){return this.activitiesService.setServer(),b.handle(y)}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(zl.B))}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();const Ju={provide:Os.a7,useClass:Oh,multi:!0};let Kc=(()=>{class I{constructor(){this.activitiesService=(0,v.WQX)(zl.B)}handleError(y){if(y instanceof Os.yz){const b=this.shouldLogError(y.error);b&&this.activitiesService.setError(b,!0)}else{const b=this.shouldLogError(y.stack);b&&this.activitiesService.setError(b,!1)}throw y}shouldLogError(y){if(Cc(this.cacheError)!==Cc(y))return this.cacheError=function Nh(I){return JSON.parse(JSON.stringify(I))}(y),JSON.stringify(y)}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=v.jDH({token:I,factory:I.\u0275fac})}}return I})();function Cc(I){return JSON.stringify(I)}var Rh=C(4373),dl=C(8910),Sl=C(8990),Rs=C(7539);const Ic=[{provide:dl.B,useClass:Rs.J},{provide:dl.W,useClass:Rs.J},{provide:Sl.A,useClass:Sl.d}],Mu=new v.nKC("FirebaseConfig");let ed=(()=>{class I{constructor(y){this.config=y}static initializeApp(y){return{ngModule:I,providers:[{provide:Mu,useFactory:()=>function bl(I){return new Promise((D,y)=>{try{if(!I||"object"!=typeof I||0===Object.keys(I).length)throw new Error("Invalid or missing Firebase configuration.");const b=(0,Yu.Wp)(I);(0,Ki.C3)(b),(0,Wc.aU)(b),console.log(`Number of Firebase app: ${(0,Yu.Dk)().length}`),D(b)}catch(b){console.error("Firebase initialization error: ",b),y(b)}})}(y)},zl.B,Zu,Kc,Ic]}}static analytics(y){const b=[];return y.activityInHttp&&b.push(Ju),y.activityInRouter&&b.push(lr),y.activityOfAnonymousUser&&b.push(Rh.bb),{ngModule:I,providers:b}}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(Mu))}}static{this.\u0275mod=v.$C({type:I})}static{this.\u0275inj=v.G2t({})}}return I})(),Tc=(()=>{class I{constructor(y){this.injector=y,Dc.injector=y}static{this.\u0275fac=function(b){return new(b||I)(v.KVO(v.zZn))}}static{this.\u0275mod=v.$C({type:I,bootstrap:[kt]})}static{this.\u0275inj=v.G2t({providers:[bs.c,{provide:ja.y,useClass:bu},Ce.DatePipe,Os.q1,{provide:Ms.i,useValue:new Ms.i(is)},Nt,Ah],imports:[E.Bb,No,Os.q1,Os.uA,Gs.G,lt,Ft.register("ngsw-worker.js",{enabled:Dn.c.production,registrationStrategy:"registerWhenStable:30000"}),Wl,Hi.i,V.forRoot({userName:"Trilok Singh"}),ed.initializeApp(Dn.c.firebaseConfig),ed.analytics({activityInRouter:!0,activityOfAnonymousUser:!0,activityInHttp:!0,activityLogging:!0}),Ec,wc.MB,No]})}}return I})();Dn.c.production&&(0,v.SmG)(),E.sG().bootstrapModule(Tc).catch(I=>console.error(I))},4412:(pt,ye,C)=>{C.d(ye,{t:()=>v});var E=C(1413);class v extends E.B{constructor(U){super(),this._value=U}get value(){return this.getValue()}_subscribe(U){const K=super._subscribe(U);return!K.closed&&U.next(this._value),K}getValue(){const{hasError:U,thrownError:K,_value:J}=this;if(U)throw K;return this._throwIfClosed(),J}next(U){super.next(this._value=U)}}},4413:(pt,ye,C)=>{C.d(ye,{Co:()=>J,GV:()=>ue,Kt:()=>U,cL:()=>K,m5:()=>q});var E=C(9310),v=function(W){return W.INCREMENT="[Counter Component] Increment",W.DECREMENT="[Counter Component] Decrement",W.RESET="[Counter Component] Reset",W.SETVALUE="[Counter Component] Set Value",W.LOADVALUE="[Counter Component] Load Value",W}(v||{});const ue=(0,E.VP)(v.INCREMENT),U=(0,E.VP)(v.DECREMENT),K=(0,E.VP)(v.RESET),J=(0,E.VP)(v.SETVALUE,(0,E.xk)()),q=(0,E.VP)(v.LOADVALUE)},4438:(pt,ye,C)=>{C.d(ye,{bc$:()=>zd,iLQ:()=>Km,sZ2:()=>ad,hnV:()=>P0,Hbi:()=>jP,o8S:()=>ec,BIS:()=>Oy,gRc:()=>GS,Ql9:()=>aP,OM3:()=>Lm,Ocv:()=>pP,abz:()=>hr,Z63:()=>ks,aKT:()=>Ld,uvJ:()=>bs,zcH:()=>ti,bkB:()=>k,y_5:()=>Ln,$GK:()=>xn,nKC:()=>Xt,zZn:()=>bn,_q3:()=>RD,MKu:()=>xD,xe9:()=>SD,Co$:()=>mC,Vns:()=>wf,SKi:()=>Wt,Xx1:()=>Ko,Agw:()=>fg,PLl:()=>Kd,rOR:()=>my,sFG:()=>AM,_9s:()=>t0,czy:()=>mf,bk:()=>io,WPN:()=>Id,kdw:()=>Ts,C4Q:()=>s,NYb:()=>$O,giA:()=>GC,xvI:()=>iP,RxE:()=>FS,c1b:()=>n_,gXe:()=>Zc,mal:()=>ep,Af3:()=>Ns,tdH:()=>Vy,L39:()=>w1,EWP:()=>cy,sbv:()=>hA,a0P:()=>W1,Ol2:()=>_0,w6W:()=>CA,oH4:()=>HS,QZP:()=>LD,SmG:()=>SP,Rfq:()=>Ve,WQX:()=>nn,hFB:()=>Ph,naY:()=>TP,QuC:()=>or,uuI:()=>VD,EmA:()=>Oo,geq:()=>pA,Udg:()=>C1,CGW:()=>bc,fpN:()=>BP,HJs:()=>K1,ZcF:()=>Nb,N4e:()=>Ia,vPA:()=>Vd,O8t:()=>hu,H3F:()=>VC,GGh:()=>Ny,PUk:()=>Au,H8p:()=>No,KH2:()=>qp,Ua0:()=>d,waE:()=>Rb,wOt:()=>Bt,WHO:()=>KC,e01:()=>zC,Lf2:()=>qc,lNU:()=>rs,h9k:()=>im,$MX:()=>mp,ZF7:()=>ku,Kcf:()=>Xg,e5t:()=>oE,UyX:()=>dv,cWb:()=>lh,osQ:()=>qg,H5H:()=>eD,Zy3:()=>vr,uq$:()=>fR,mq5:()=>KI,JZv:()=>cr,LfX:()=>En,plB:()=>wh,jNT:()=>x0,zjR:()=>XC,ngT:()=>Za,hVU:()=>jO,XSP:()=>hR,TL$:()=>Ay,Tbb:()=>_r,rcV:()=>Jc,nM4:()=>IC,Vt3:()=>D0,OA$:()=>aa,Jv_:()=>nS,R7$:()=>xv,BMQ:()=>V0,HbH:()=>II,ZvI:()=>NI,STu:()=>RI,ZWY:()=>xI,AVh:()=>K0,vxM:()=>LI,wni:()=>MT,C6U:()=>RT,SS7:()=>pD,nv$:()=>iI,T$4:()=>kC,g25:()=>oI,qhs:()=>aI,VBU:()=>vC,FsC:()=>_C,jDH:()=>jn,G2t:()=>vi,$C:()=>E0,EJ8:()=>EC,rXU:()=>Fp,fuf:()=>Pd,nrm:()=>q0,eu8:()=>Y0,bVm:()=>y_,qex:()=>m_,k0s:()=>g_,j41:()=>p_,cSN:()=>wo,RV6:()=>WI,xGo:()=>Mu,Mr5:()=>Z0,KVO:()=>si,kS0:()=>I,QTQ:()=>Lw,bIt:()=>rD,lsd:()=>NT,joV:()=>jl,qSk:()=>jr,XpG:()=>yT,nI1:()=>gS,bMT:()=>mS,i5U:()=>yS,SdG:()=>_T,NAR:()=>vT,Y8G:()=>$0,FS9:()=>iD,Mz_:()=>w_,lJ4:()=>iS,eq3:()=>oS,l_i:()=>aS,sMw:()=>lS,ziG:()=>cS,NyB:()=>xT,mGM:()=>OT,r8f:()=>eS,sdS:()=>PT,Dyx:()=>jI,Z7z:()=>BI,fX1:()=>UI,Vm6:()=>VI,Njj:()=>qa,EBC:()=>fh,tSv:()=>ym,eBV:()=>$s,npT:()=>vv,f$h:()=>tf,B4B:()=>uh,n$t:()=>_p,wjB:()=>rS,bH3:()=>JT,Aen:()=>cu,muq:()=>FT,xc7:()=>W0,zvX:()=>J0,DNE:()=>T0,C5r:()=>vS,EFF:()=>KT,JRh:()=>aD,SpI:()=>C_,Lme:()=>lD,E5c:()=>cD,LHq:()=>uD,ZXR:()=>dD,wXG:()=>lm,DH7:()=>YT,mxI:()=>fD,R50:()=>hD,GBs:()=>AT});var E=C(467);function v(e,n){return Object.is(e,n)}let ue=null,U=!1,K=1;const J=Symbol("SIGNAL");function q(e){const n=ue;return ue=e,n}function W(){return ue}const ne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ce(e){if(U)throw new Error("");if(null===ue)return;ue.consumerOnSignalRead(e);const n=ue.nextProducerIndex++;jt(ue),n<ue.producerNode.length&&ue.producerNode[n]!==e&&qt(ue)&&kt(ue.producerNode[n],ue.producerIndexOfThis[n]),ue.producerNode[n]!==e&&(ue.producerNode[n]=e,ue.producerIndexOfThis[n]=qt(ue)?Vt(e,ue,n):0),ue.producerLastReadVersion[n]=e.version}function Fe(e){if((!qt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==K)){if(!e.producerMustRecompute(e)&&!lt(e))return void He(e);e.producerRecomputeValue(e),He(e)}}function Oe(e){if(void 0===e.liveConsumerNode)return;const n=U;U=!0;try{for(const r of e.liveConsumerNode)r.dirty||qe(r)}finally{U=n}}function Te(){return!1!==ue?.consumerAllowSignalWrites}function qe(e){e.dirty=!0,Oe(e),e.consumerMarkedDirty?.(e)}function He(e){e.dirty=!1,e.lastCleanEpoch=K}function Dt(e){return e&&(e.nextProducerIndex=0),q(e)}function Tt(e,n){if(q(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(qt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)kt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function lt(e){jt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(Fe(r),o!==r.version))return!0}return!1}function Xe(e){if(jt(e),qt(e))for(let n=0;n<e.producerNode.length;n++)kt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Vt(e,n,r){if(sn(e),0===e.liveConsumerNode.length&&An(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Vt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function kt(e,n){if(sn(e),1===e.liveConsumerNode.length&&An(e))for(let o=0;o<e.producerNode.length;o++)kt(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];jt(l),l.producerIndexOfThis[o]=n}}function qt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function jt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function sn(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function An(e){return void 0!==e.producerNode}function yt(e){const n=Object.create(nr);n.computation=e;const r=()=>{if(Fe(n),Ce(n),n.value===gn)throw n.error;return n.value};return r[J]=n,r}const Ze=Symbol("UNSET"),Ut=Symbol("COMPUTING"),gn=Symbol("ERRORED"),nr={...ne,value:Ze,dirty:!0,error:null,equal:v,kind:"computed",producerMustRecompute:e=>e.value===Ze||e.value===Ut,producerRecomputeValue(e){if(e.value===Ut)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Ut;const r=Dt(e);let o,l=!1;try{o=e.computation(),q(null),l=n!==Ze&&n!==gn&&o!==gn&&e.equal(n,o)}catch(u){o=gn,e.error=u}finally{Tt(e,r)}l?e.value=n:(e.value=o,e.version++)}};let as=function xr(){throw new Error};function Fr(e){as(e)}let ke=null;function At(e,n){Te()||Fr(e),e.equal(e.value,n)||(e.value=n,function rr(e){e.version++,function Be(){K++}(),Oe(e),ke?.()}(e))}function St(e,n){Te()||Fr(e),At(e,n(e.value))}const On={...ne,equal:v,value:void 0,kind:"signal"};function fn(e,n,r){const o=Object.create(kr);o.source=e,o.computation=n,null!=r&&(o.equal=r);const u=()=>{if(Fe(o),Ce(o),o.value===gn)throw o.error;return o.value};return u[J]=o,u}const kr={...ne,value:Ze,dirty:!0,error:null,equal:v,producerMustRecompute:e=>e.value===Ze||e.value===Ut,producerRecomputeValue(e){if(e.value===Ut)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Ut;const r=Dt(e);let o;try{const l=e.source();o=e.computation(l,n===Ze||n===gn?void 0:{source:e.sourceValue,value:n}),e.sourceValue=l}catch(l){o=gn,e.error=l}finally{Tt(e,r)}n!==Ze&&o!==gn&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};const ir=()=>{},ls={...ne,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:ir};var qr=C(4412),xs=C(1413),hs=C(8359),Yr=C(6354);const rs="https://g.co/ng/security#xss";class Bt extends Error{code;constructor(n,r){super(vr(n,r)),this.code=n}}function vr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}const cs=Symbol("InputSignalNode#UNSET"),Zr={...On,transformFn:void 0,applyValueToInputSignal(e,n){At(e,n)}};function yi(e,n){const r=Object.create(Zr);function o(){if(Ce(r),r.value===cs)throw new Bt(-950,!1);return r.value}return r.value=e,r.transformFn=n?.transform,o[J]=r,o}function dn(e){return{toString:e}.toString()}const Tn="__parameters__";function Jn(e,n,r){return dn(()=>{const o=function ps(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(n);function l(...u){if(this instanceof l)return o.apply(this,u),this;const g=new l(...u);return w.annotation=g,w;function w(T,L,Q){const re=T.hasOwnProperty(Tn)?T[Tn]:Object.defineProperty(T,Tn,{value:[]})[Tn];for(;re.length<=Q;)re.push(null);return(re[Q]=re[Q]||[]).push(g),T}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const cr=globalThis;function qn(e){for(let n in e)if(e[n]===qn)return n;throw Error("Could not find renamed property on target object.")}function mo(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function _r(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(_r).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function zs(e,n){return e?n?`${e} ${n}`:e:n||""}const be=qn({__forward_ref__:qn});function Ve(e){return e.__forward_ref__=Ve,e.toString=function(){return _r(this())},e}function Qe(e){return he(e)?e():e}function he(e){return"function"==typeof e&&e.hasOwnProperty(be)&&e.__forward_ref__===Ve}function jn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vi(e){return{providers:e.providers||[],imports:e.imports||[]}}function zr(e){return gs(e,mn)||gs(e,kn)}function En(e){return null!==zr(e)}function gs(e,n){return e.hasOwnProperty(n)?e[n]:null}function ws(e){return e&&(e.hasOwnProperty(er)||e.hasOwnProperty(Cs))?e[er]:null}const mn=qn({\u0275prov:qn}),er=qn({\u0275inj:qn}),kn=qn({ngInjectableDef:qn}),Cs=qn({ngInjectorDef:qn});class Xt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,r){this._desc=n,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=jn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rt(e){return e&&!!e.\u0275providers}const Lt=qn({\u0275cmp:qn}),_n=qn({\u0275dir:qn}),fe=qn({\u0275pipe:qn}),Je=qn({\u0275mod:qn}),Pe=qn({\u0275fac:qn}),ze=qn({__NG_ELEMENT_ID__:qn}),Et=qn({__NG_ENV_ID__:qn});function ct(e){return"string"==typeof e?e:null==e?"":String(e)}function Is(e,n){throw new Bt(-201,!1)}var xn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xn||{});let Qr;function sr(){return Qr}function Dr(e){const n=Qr;return Qr=e,n}function ki(e,n,r){const o=zr(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&xn.Optional?null:void 0!==n?n:void Is()}const ao={},Lo="__NG_DI_FLAG__",lo="ngTempTokenPath",Wo=/\n/gm,Fs="__source";let co;function Qi(e){const n=co;return co=e,n}function Jo(e,n=xn.Default){if(void 0===co)throw new Bt(-203,!1);return null===co?ki(e,void 0,n):co.get(e,n&xn.Optional?null:void 0,n)}function si(e,n=xn.Default){return(sr()||Jo)(Qe(e),n)}function nn(e,n=xn.Default){return si(e,bo(n))}function bo(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vo(e){const n=[];for(let r=0;r<e.length;r++){const o=Qe(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Bt(900,!1);let l,u=xn.Default;for(let g=0;g<o.length;g++){const w=o[g],T=Vi(w);"number"==typeof T?-1===T?l=w.token:u|=T:l=w}n.push(si(l,u))}else n.push(si(o))}return n}function Li(e,n){return e[Lo]=n,e.prototype[Lo]=n,e}function Vi(e){return e[Lo]}const Ln=Li(Jn("Inject",e=>({token:e})),-1),Ko=Li(Jn("Optional"),8),Ts=Li(Jn("SkipSelf"),4);function Js(e,n){return e.hasOwnProperty(Pe)?e[Pe]:null}function _o(e,n){e.forEach(r=>Array.isArray(r)?_o(r,n):n(r))}function Ao(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Xi(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ta(e,n,r){const o=e.length-r;for(;n<o;)e[n]=e[n+r],n++;for(;r--;)e.pop()}function Ui(e,n,r,o){let l=e.length;if(l==n)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=r,e[n+1]=o}}function li(e,n,r){let o=ci(e,n);return o>=0?e[1|o]=r:(o=~o,Ui(e,o,n,r)),o}function Bi(e,n){const r=ci(e,n);if(r>=0)return e[1|r]}function ci(e,n){return function na(e,n,r){let o=0,l=e.length>>r;for(;l!==o;){const u=o+(l-o>>1),g=e[u<<r];if(n===g)return u<<r;g>n?l=u:o=u+1}return~(l<<r)}(e,n,1)}const ji={},Sr=[],ks=new Xt(""),Eo=new Xt("",-1),wa=new Xt("");class Ca{get(n,r=ao){if(r===ao){const o=new Error(`NullInjectorError: No provider for ${_r(n)}!`);throw o.name="NullInjectorError",o}return r}}function ms(e,n){const r=e[Je]||null;if(!r&&!0===n)throw new Error(`Type ${_r(e)} does not have '\u0275mod' property.`);return r}function Mn(e){return e[Lt]||null}function ys(e){return e[_n]||null}function _s(e){return e[fe]||null}function or(e){const n=Mn(e)||ys(e)||_s(e);return null!==n&&n.standalone}function Oo(e){return{\u0275providers:e}}function pl(...e){return{\u0275providers:H(0,e),\u0275fromNgModule:!0}}function H(e,...n){const r=[],o=new Set;let l;const u=g=>{r.push(g)};return _o(n,g=>{const w=g;P(w,u,[],o)&&(l||=[],l.push(w))}),void 0!==l&&z(l,u),r}function z(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];Se(l,u=>{n(u,o)})}}function P(e,n,r,o){if(!(e=Qe(e)))return!1;let l=null,u=ws(e);const g=!u&&Mn(e);if(u||g){if(g&&!g.standalone)return!1;l=e}else{const T=e.ngModule;if(u=ws(T),!u)return!1;l=T}const w=o.has(l);if(g){if(w)return!1;if(o.add(l),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const L of T)P(L,n,r,o)}}else{if(!u)return!1;{if(null!=u.imports&&!w){let L;o.add(l);try{_o(u.imports,Q=>{P(Q,n,r,o)&&(L||=[],L.push(Q))})}finally{}void 0!==L&&z(L,n)}if(!w){const L=Js(l)||(()=>new l);n({provide:l,useFactory:L,deps:Sr},l),n({provide:wa,useValue:l,multi:!0},l),n({provide:ks,useValue:()=>si(l),multi:!0},l)}const T=u.providers;if(null!=T&&!w){const L=e;Se(T,Q=>{n(Q,L)})}}}return l!==e&&void 0!==e.providers}function Se(e,n){for(let r of e)Rt(r)&&(r=r.\u0275providers),Array.isArray(r)?Se(r,n):n(r)}const an=qn({provide:String,useValue:qn});function zn(e){return null!==e&&"object"==typeof e&&an in e}function wi(e){return"function"==typeof e}const No=new Xt(""),Yi={},Nl={};let Rl;function Os(){return void 0===Rl&&(Rl=new Ca),Rl}class bs{}class zo extends bs{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,r,o,l){super(),this.parent=r,this.source=o,this.scopes=l,Do(n,g=>this.processProvider(g)),this.records.set(Eo,ar(void 0,this)),l.has("environment")&&this.records.set(bs,ar(void 0,this));const u=this.records.get(No);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(wa,Sr,xn.Self))}destroy(){mi(this),this._destroyed=!0;const n=q(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(n)}}onDestroy(n){return mi(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){mi(this);const r=Qi(this),o=Dr(void 0);try{return n()}finally{Qi(r),Dr(o)}}get(n,r=ao,o=xn.Default){if(mi(this),n.hasOwnProperty(Et))return n[Et](this);o=bo(o);const u=Qi(this),g=Dr(void 0);try{if(!(o&xn.SkipSelf)){let T=this.records.get(n);if(void 0===T){const L=function Ci(e){return"function"==typeof e||"object"==typeof e&&e instanceof Xt}(n)&&zr(n);T=L&&this.injectableDefInScope(L)?ar(ra(n),Yi):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(o&xn.Self?Os():this.parent).get(n,r=o&xn.Optional&&r===ao?null:r)}catch(w){if("NullInjectorError"===w.name){if((w[lo]=w[lo]||[]).unshift(_r(n)),u)throw w;return function ii(e,n,r,o){const l=e[lo];throw n[Fs]&&l.unshift(n[Fs]),e.message=function Da(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=_r(n);if(Array.isArray(n))l=n.map(_r).join(" -> ");else if("object"==typeof n){let u=[];for(let g in n)if(n.hasOwnProperty(g)){let w=n[g];u.push(g+":"+("string"==typeof w?JSON.stringify(w):_r(w)))}l=`{${u.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace(Wo,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[lo]=null,e}(w,n,"R3InjectorError",this.source)}throw w}finally{Dr(g),Qi(u)}}resolveInjectorInitializers(){const n=q(null),r=Qi(this),o=Dr(void 0);try{const u=this.get(ks,Sr,xn.Self);for(const g of u)g()}finally{Qi(r),Dr(o),q(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(_r(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){let r=wi(n=Qe(n))?n:Qe(n&&n.provide);const o=function Mi(e){return zn(e)?ar(void 0,e.useValue):ar($i(e),Yi)}(n);if(!wi(n)&&!0===n.multi){let l=this.records.get(r);l||(l=ar(void 0,Yi,!0),l.factory=()=>vo(l.multi),this.records.set(r,l)),r=n,l.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=q(null);try{return r.value===Yi&&(r.value=Nl,r.value=r.factory()),"object"==typeof r.value&&r.value&&function fr(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{q(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Qe(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ra(e){const n=zr(e),r=null!==n?n.factory:Js(e);if(null!==r)return r;if(e instanceof Xt)throw new Bt(204,!1);if(e instanceof Function)return function Ro(e){if(e.length>0)throw new Bt(204,!1);const r=function zi(e){return e&&(e[mn]||e[kn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Bt(204,!1)}function $i(e,n,r){let o;if(wi(e)){const l=Qe(e);return Js(l)||ra(l)}if(zn(e))o=()=>Qe(e.useValue);else if(function Di(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...vo(e.deps||[]));else if(function gi(e){return!(!e||!e.useExisting)}(e))o=()=>si(Qe(e.useExisting));else{const l=Qe(e&&(e.useClass||e.provide));if(!function tc(e){return!!e.deps}(e))return Js(l)||ra(l);o=()=>new l(...vo(e.deps))}return o}function mi(e){if(e.destroyed)throw new Bt(205,!1)}function ar(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Do(e,n){for(const r of e)Array.isArray(r)?Do(r,n):r&&Rt(r)?Do(r.\u0275providers,n):n(r)}function Ia(e,n){e instanceof zo&&mi(e);const o=Qi(e),l=Dr(void 0);try{return n()}finally{Qi(o),Dr(l)}}function br(){return void 0!==sr()||null!=function Ra(){return co}()}function Ns(e){if(!br())throw new Bt(-203,!1)}const Nr=0,Ft=1,Dn=2,Gs=3,Hi=4,Ms=5,Zi=6,is=7,Cr=8,gr=9,Ii=10,Pn=11,Nt=12,O=13,Y=14,F=15,V=16,te=17,Ye=18,Le=19,xe=20,dt=21,In=22,Mr=23,Vn=24,Pt=26,Ls=1,Vs=6,As=7,Ai=9,ns=10;function Br(e){return Array.isArray(e)&&"object"==typeof e[Ls]}function ln(e){return Array.isArray(e)&&!0===e[Ls]}function Bo(e){return!!(4&e.flags)}function Us(e){return e.componentOffset>-1}function us(e){return!(1&~e.flags)}function tn(e){return!!e.template}function jo(e){return!!(512&e[Dn])}function os(e){return!(256&~e[Dn])}class za{previousValue;currentValue;firstChange;constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ga(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}const aa=(()=>{const e=()=>gu;return e.ngInherit=!0,e})();function gu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rd),mu}function mu(){const e=Ji(this),n=e?.current;if(n){const r=e.previous;if(r===ji)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Rd(e,n,r,o,l){const u=this.declaredInputs[o],g=Ji(e)||function S(e,n){return e[sc]=n}(e,{previous:ji,current:null}),w=g.current||(g.current={}),T=g.previous,L=T[u];w[u]=new za(L&&L.currentValue,r,T===ji),Ga(e,n,l,r)}const sc="__ngSimpleChanges__";function Ji(e){return e[sc]||null}const R=function(e,n=null,r){},G="svg";function pe(e){for(;Array.isArray(e);)e=e[Nr];return e}function We(e,n){return pe(n[e])}function $t(e,n){return pe(n[e.index])}function Hn(e,n){return e.data[n]}function Xr(e,n){return e[n]}function Xs(e,n){const r=n[e];return Br(r)?r:r[Nr]}function ba(e){return!(128&~e[Dn])}function Wi(e,n){return null==n?null:e[n]}function ic(e){e[te]=0}function Qa(e){1024&e[Dn]||(e[Dn]|=1024,ba(e)&&ac(e))}function xd(e,n){for(;e>0;)n=n[Y],e--;return n}function oc(e){return!!(9216&e[Dn]||e[Vn]?.dirty)}function Lc(e){e[Ii].changeDetectionScheduler?.notify(8),64&e[Dn]&&(e[Dn]|=1024),oc(e)&&ac(e)}function ac(e){e[Ii].changeDetectionScheduler?.notify(0);let n=Ma(e);for(;null!==n&&!(8192&n[Dn])&&(n[Dn]|=8192,ba(n));)n=Ma(n)}function Vc(e,n){if(os(e))throw new Bt(911,!1);null===e[dt]&&(e[dt]=[]),e[dt].push(n)}function lc(e,n){if(null===e[dt])return;const r=e[dt].indexOf(n);-1!==r&&e[dt].splice(r,1)}function Ma(e){const n=e[Gs];return ln(n)?n[Gs]:n}function Uc(e){return e[is]??=[]}function rl(e){return e.cleanup??=[]}const Qn={lFrame:Hs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let la=!1;function js(){return Qn.bindingsEnabled}function ml(){return null!==Qn.skipHydrationRootTNode}function wo(){Qn.bindingsEnabled=!0}function Pd(){Qn.bindingsEnabled=!1}function ht(){return Qn.lFrame.lView}function yn(){return Qn.lFrame.tView}function $s(e){return Qn.lFrame.contextLView=e,e[Cr]}function qa(e){return Qn.lFrame.contextLView=null,e}function ur(){let e=sl();for(;null!==e&&64===e.type;)e=e.parent;return e}function sl(){return Qn.lFrame.currentTNode}function ua(e,n){const r=Qn.lFrame;r.currentTNode=e,r.isParent=n}function il(){return Qn.lFrame.isParent}function no(){Qn.lFrame.isParent=!1}function uc(){return Qn.lFrame.contextLView}function Si(){return la}function Vl(e){const n=la;return la=e,n}function Ni(){const e=Qn.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function da(){return Qn.lFrame.bindingIndex}function ro(){return Qn.lFrame.bindingIndex++}function Oa(e){const n=Qn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function vu(e,n){const r=Qn.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ul(n)}function Ul(e){Qn.lFrame.currentDirectiveIndex=e}function hc(e){const n=Qn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function fc(){return Qn.lFrame.currentQueryIndex}function _u(e){Qn.lFrame.currentQueryIndex=e}function Eu(e){const n=e[Ft];return 2===n.type?n.declTNode:1===n.type?e[Ms]:null}function zu(e,n,r){if(r&xn.SkipSelf){let l=n,u=e;for(;!(l=l.parent,null!==l||r&xn.Host||(l=Eu(u),null===l||(u=u[Y],10&l.type))););if(null===l)return!1;n=l,e=u}const o=Qn.lFrame=Gu();return o.currentTNode=n,o.lView=e,!0}function uo(e){const n=Gu(),r=e[Ft];Qn.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Gu(){const e=Qn.lFrame,n=null===e?null:e.child;return null===n?Hs(e):n}function Hs(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function ol(){const e=Qn.lFrame;return Qn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Qu=ol;function Du(){const e=ol();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ri(){return Qn.lFrame.selectedIndex}function al(e){Qn.lFrame.selectedIndex=e}function hn(){const e=Qn.lFrame;return Hn(e.tView,e.selectedIndex)}function jr(){Qn.lFrame.currentNamespace=G}function jl(){!function $l(){Qn.lFrame.currentNamespace=null}()}let ha=!0;function gc(){return ha}function fa(e){ha=e}function jc(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const u=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:L,ngOnDestroy:Q}=u;g&&(e.contentHooks??=[]).push(-r,g),w&&((e.contentHooks??=[]).push(r,w),(e.contentCheckHooks??=[]).push(r,w)),T&&(e.viewHooks??=[]).push(-r,T),L&&((e.viewHooks??=[]).push(r,L),(e.viewCheckHooks??=[]).push(r,L)),null!=Q&&(e.destroyHooks??=[]).push(r,Q)}}function Dl(e,n,r){qu(e,n,3,r)}function mc(e,n,r,o){(3&e[Dn])===r&&qu(e,n,r,o)}function wl(e,n){let r=e[Dn];(3&r)===n&&(r&=16383,r+=1,e[Dn]=r)}function qu(e,n,r,o){const u=o??-1,g=n.length-1;let w=0;for(let T=void 0!==o?65535&e[te]:0;T<g;T++)if("number"==typeof n[T+1]){if(w=n[T],null!=o&&w>=o)break}else n[T]<0&&(e[te]+=65536),(w<u||-1==u)&&(yc(e,r,n,T),e[te]=(4294901760&e[te])+T+2),T++}function wu(e,n){R(4,e,n);const r=q(null);try{n.call(e)}finally{q(r),R(5,e,n)}}function yc(e,n,r,o){const l=r[o]<0,u=r[o+1],w=e[l?-r[o]:r[o]];l?e[Dn]>>14<e[te]>>16&&(3&e[Dn])===n&&(e[Dn]+=16384,wu(w,u)):wu(w,u)}const ll=-1;class Cl{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,r,o){this.factory=n,this.canSeeViewProviders=r,this.injectImpl=o}}function ho(e){return 3===e||4===e||6===e}function cl(e){return 64===e.charCodeAt(0)}function ul(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:0===r||Tu(e,r,l,null,-1===r||2===r?n[++o]:null)}}return e}function Tu(e,n,r,o,l){let u=0,g=e.length;if(-1===n)g=-1;else for(;u<e.length;){const w=e[u++];if("number"==typeof w){if(w===n){g=-1;break}if(w>n){g=u-1;break}}}for(;u<e.length;){const w=e[u];if("number"==typeof w)break;if(w===r){if(null===o)return void(null!==l&&(e[u+1]=l));if(o===e[u+1])return void(e[u+2]=l)}u++,null!==o&&u++,null!==l&&u++}-1!==g&&(e.splice(g,0,n),u=g+1),e.splice(u++,0,r),null!==o&&e.splice(u++,0,o),null!==l&&e.splice(u++,0,l)}const Ba={};class ga{injector;parentInjector;constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=bo(o);const l=this.injector.get(n,Ba,o);return l!==Ba||r===Ba?l:this.parentInjector.get(n,r,o)}}function Io(e){return e!==ll}function Wl(e){return 32767&e}function Il(e,n){let r=function Kl(e){return e>>16}(e),o=n;for(;r>0;)o=o[Y],r--;return o}let Hc=!0;function Tl(e){const n=Hc;return Hc=e,n}const Ec=255,Dc=5;let ja=0;const Na={};function bu(e,n){const r=Yu(e,n);if(-1!==r)return r;const o=n[Ft];o.firstCreatePass&&(e.injectorIndex=n.length,wc(o.data,e),wc(n,null),wc(o.blueprint,null));const l=Ki(e,n),u=e.injectorIndex;if(Io(l)){const g=Wl(l),w=Il(l,n),T=w[Ft].data;for(let L=0;L<8;L++)n[u+L]=w[g+L]|T[g+L]}return n[u+8]=l,u}function wc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Yu(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ki(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=n;for(;null!==l;){if(o=Tc(l),null===o)return ll;if(r++,l=l[Y],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return ll}function Wc(e,n,r){!function ma(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(ze)&&(o=r[ze]),null==o&&(o=r[ze]=ja++);const l=o&Ec;n.data[e+(l>>Dc)]|=1<<l}(e,n,r)}function Zu(e,n,r){if(r&xn.Optional||void 0!==e)return e;Is()}function Of(e,n,r,o){if(r&xn.Optional&&void 0===o&&(o=null),!(r&(xn.Self|xn.Host))){const l=e[gr],u=Dr(void 0);try{return l?l.get(n,o,r&xn.Optional):ki(n,o,r&xn.Optional)}finally{Dr(u)}}return Zu(o,0,r)}function lr(e,n,r,o=xn.Default,l){if(null!==e){if(2048&n[Dn]&&!(o&xn.Self)){const g=function ed(e,n,r,o,l){let u=e,g=n;for(;null!==u&&null!==g&&2048&g[Dn]&&!jo(g);){const w=Oh(u,g,r,o|xn.Self,Na);if(w!==Na)return w;let T=u.parent;if(!T){const L=g[xe];if(L){const Q=L.get(r,Na,o);if(Q!==Na)return Q}T=Tc(g),g=g[Y]}u=T}return l}(e,n,r,o,Na);if(g!==Na)return g}const u=Oh(e,n,r,o,Na);if(u!==Na)return u}return Of(n,r,o,l)}function Oh(e,n,r,o,l){const u=function Nh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(ze)?e[ze]:void 0;return"number"==typeof n?n>=0?n&Ec:Ic:n}(r);if("function"==typeof u){if(!zu(n,e,o))return o&xn.Host?Zu(l,0,o):Of(n,r,o,l);try{let g;if(g=u(o),null!=g||o&xn.Optional)return g;Is()}finally{Qu()}}else if("number"==typeof u){let g=null,w=Yu(e,n),T=ll,L=o&xn.Host?n[F][Ms]:null;for((-1===w||o&xn.SkipSelf)&&(T=-1===w?Ki(e,n):n[w+8],T!==ll&&Rh(o,!1)?(g=n[Ft],w=Wl(T),n=Il(T,n)):w=-1);-1!==w;){const Q=n[Ft];if(Cc(u,w,Q.data)){const re=Ju(w,n,r,g,o,L);if(re!==Na)return re}T=n[w+8],T!==ll&&Rh(o,n[Ft].data[w+8]===L)&&Cc(u,w,n)?(g=Q,w=Wl(T),n=Il(T,n)):w=-1}}return l}function Ju(e,n,r,o,l,u){const g=n[Ft],w=g.data[e+8],Q=Kc(w,g,r,null==o?Us(w)&&Hc:o!=g&&!!(3&w.type),l&xn.Host&&u===w);return null!==Q?zc(n,g,Q,w):Na}function Kc(e,n,r,o,l){const u=e.providerIndexes,g=n.data,w=1048575&u,T=e.directiveStart,Q=u>>20,De=l?w+Q:e.directiveEnd;for(let me=o?w:w+Q;me<De;me++){const je=g[me];if(me<T&&r===je||me>=T&&je.type===r)return me}if(l){const me=g[T];if(me&&tn(me)&&me.type===r)return T}return null}function zc(e,n,r,o){let l=e[r];const u=n.data;if(function Cu(e){return e instanceof Cl}(l)){const g=l;g.resolving&&function Er(e){throw new Bt(-200,e)}(function Ht(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ct(e)}(u[r]));const w=Tl(g.canSeeViewProviders);g.resolving=!0;const L=g.injectImpl?Dr(g.injectImpl):null;zu(e,o,xn.Default);try{l=e[r]=g.factory(void 0,u,e,o),n.firstCreatePass&&r>=o.directiveStart&&function Xu(e,n,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:u}=n.type.prototype;if(o){const g=gu(n);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}l&&(r.preOrderHooks??=[]).push(0-e,l),u&&((r.preOrderHooks??=[]).push(e,u),(r.preOrderCheckHooks??=[]).push(e,u))}(r,u[r],n)}finally{null!==L&&Dr(L),Tl(w),g.resolving=!1,Qu()}}return l}function Cc(e,n,r){return!!(r[n+(e>>Dc)]&1<<e)}function Rh(e,n){return!(e&xn.Self||e&xn.Host&&n)}class Rs{_tNode;_lView;constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return lr(this._tNode,this._lView,n,bo(o),r)}}function Ic(){return new Rs(ur(),ht())}function Mu(e){return dn(()=>{const n=e.prototype.constructor,r=n[Pe]||bl(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const u=l[Pe]||bl(l);if(u&&u!==r)return u;l=Object.getPrototypeOf(l)}return u=>new u})}function bl(e){return he(e)?()=>{const n=bl(Qe(e));return n&&n()}:Js(e)}function Tc(e){const n=e[Ft],r=n.type;return 2===r?n.declTNode:1===r?e[Ms]:null}function I(e){return function zl(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const u=r[l];if(ho(u))break;if(0===u)l+=2;else if("number"==typeof u)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(u===n)return r[l+1];l+=2}}}return null}(ur(),e)}function zt(e,n=null,r=null,o){const l=tr(e,n,r,o);return l.resolveInjectorInitializers(),l}function tr(e,n=null,r=null,o,l=new Set){const u=[r||Sr,pl(e)];return o=o||("object"==typeof e?void 0:_r(e)),new zo(u,n||Os(),o||null,l)}class bn{static THROW_IF_NOT_FOUND=ao;static NULL=new Ca;static create(n,r){if(Array.isArray(n))return zt({name:""},r,n,"");{const o=n.name??"";return zt({name:o},n.parent,n.providers,o)}}static \u0275prov=jn({token:bn,providedIn:"any",factory:()=>si(Eo)});static __NG_ELEMENT_ID__=-1}new Xt("").__NG_ELEMENT_ID__=e=>{const n=ur();if(null===n)throw new Bt(204,!1);if(2&n.type)return n.value;if(e&xn.Optional)return null;throw new Bt(204,!1)};const vs=!1;let hr=(()=>class e{static __NG_ELEMENT_ID__=qs;static __NG_ENV_ID__=r=>r})();class ei extends hr{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Vc(this._lView,n),()=>lc(this._lView,n)}}function qs(){return new ei(ht())}class $r{}const mr=new Xt("",{providedIn:"root",factory:()=>!1}),p=new Xt(""),h=new Xt("");let d=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new qr.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})(),_=(()=>{class e{internalPendingTasks=nn(d);scheduler=nn($r);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,E.A)(function*(){const l=o.add();try{return yield r()}finally{l()}})()}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})();const k=class M extends xs.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,br()&&(this.destroyRef=nn(hr,{optional:!0})??void 0,this.pendingTasks=nn(d,{optional:!0})??void 0)}emit(n){const r=q(null);try{super.next(n)}finally{q(r)}}subscribe(n,r,o){let l=n,u=r||(()=>null),g=o;if(n&&"object"==typeof n){const T=n;l=T.next?.bind(T),u=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(u=this.wrapInTimeout(u),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const w=super.subscribe({next:l,error:u,complete:g});return n instanceof hs.yU&&n.add(w),w}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function $(...e){}function ae(e){let n,r;function o(){e=$;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Ee(e){return queueMicrotask(()=>e()),()=>{e=$}}const ut="isAngularZone",gt=ut+"_ID";let mt=0;class Wt{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new k(!1);onMicrotaskEmpty=new k(!1);onStable=new k(!1);onError=new k(!1);constructor(n){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:u=vs}=n;if(typeof Zone>"u")throw new Bt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=u,function fo(e){const n=()=>{!function di(e){function n(){ae(()=>{e.callbackScheduled=!1,hl(e),e.isCheckStableRunning=!0,Zn(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),hl(e))}(e)},r=mt++;e._inner=e._inner.fork({name:"angular",properties:{[ut]:!0,[gt]:r,[gt+r]:!0},onInvokeTask:(o,l,u,g,w,T)=>{if(function eg(e){return tg(e,"__ignore_ng_zone__")}(T))return o.invokeTask(u,g,w,T);try{return Sc(e),o.invokeTask(u,g,w,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),Nf(e)}},onInvoke:(o,l,u,g,w,T,L)=>{try{return Sc(e),o.invoke(u,g,w,T,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function kd(e){return tg(e,"__scheduler_tick__")}(T)&&n(),Nf(e)}},onHasTask:(o,l,u,g)=>{o.hasTask(u,g),l===u&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,hl(e),Zn(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,u,g)=>(o.handleError(u,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ut)}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new Bt(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new Bt(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,l){const u=this._inner,g=u.scheduleEventTask("NgZoneEvent: "+l,n,Fn,$,$);try{return u.runTask(g,r,o)}finally{u.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const Fn={};function Zn(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Sc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Nf(e){e._nesting--,Zn(e)}class Jp{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new k;onMicrotaskEmpty=new k;onStable=new k;onError=new k;run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,l){return n.apply(r,o)}}function tg(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class ti{_console=console;handleError(n){this._console.error("ERROR",n)}}const ng=new Xt("",{providedIn:"root",factory:()=>{const e=nn(Wt),n=nn(ti);return r=>e.runOutsideAngular(()=>n.handleError(r))}});class rg{destroyed=!1;listeners=null;errorHandler=nn(ti,{optional:!0});destroyRef=nn(hr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(n){if(this.destroyed)throw new Bt(953,!1);return(this.listeners??=[]).push(n),{unsubscribe:()=>{const r=this.listeners?.indexOf(n);void 0!==r&&-1!==r&&this.listeners?.splice(r,1)}}}emit(n){if(this.destroyed)throw new Bt(953,!1);if(null===this.listeners)return;const r=q(null);try{for(const o of this.listeners)try{o(n)}catch(l){this.errorHandler?.handleError(l)}}finally{q(r)}}}function bc(e){return new rg}function xf(e,n){return yi(e,n)}const Ph=(xf.required=function uy(e){return yi(cs,e)},xf);function dy(){return td(ur(),ht())}function td(e,n){return new Ld($t(e,n))}let Ld=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=dy})();function hy(e){return e instanceof Ld?e.nativeElement:e}function Vd(e,n){const r=function tt(e){const n=Object.create(On);n.value=e;const r=()=>(Ce(n),n.value);return r[J]=n,r}(e),o=r[J];return n?.equal&&(o.equal=n.equal),r.set=l=>At(o,l),r.update=l=>St(o,l),r.asReadonly=Fh.bind(r),r}function Fh(){const e=this[J];if(void 0===e.readonlyFn){const n=()=>this();n[J]=e,e.readonlyFn=n}return e.readonlyFn}function Ff(e){return function fy(e){return"function"==typeof e&&void 0!==e[J]}(e)&&"function"==typeof e.set}function gy(){return this._results[Symbol.iterator]()}class my{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xs.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function oi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Mo(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],u=n[o];if(r&&(l=r(l),u=r(u)),u!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=gy}function Ml(e){return!(128&~e.flags)}var kf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(kf||{});const kh=new Map;let Gc=0;function Bd(e){kh.delete(e[Le])}const jd="__ngContext__";function $a(e,n){Br(n)?(e[jd]=n[Le],function j_(e){kh.set(e[Le],e)}(n)):e[jd]=n}function Qc(e){return Cy(e[Nt])}function cg(e){return Cy(e[Hi])}function Cy(e){for(;null!==e&&!ln(e);)e=e[Hi];return e}let Wf;function Ay(e){Wf=e}function xi(){if(void 0!==Wf)return Wf;if(typeof document<"u")return document;throw new Bt(210,!1)}const ad=new Xt("",{providedIn:"root",factory:()=>Kf}),Kf="ng",Kd=new Xt(""),fg=new Xt("",{providedIn:"platform",factory:()=>"unknown"}),zd=new Xt(""),Oy=new Xt("",{providedIn:"root",factory:()=>xi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Au={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Ny=new Xt("",{providedIn:"root",factory:()=>Au}),Xf="di",$h="s",Ho=new Xt("",{providedIn:"root",factory:()=>!1}),Ly=new Xt("");var _g=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(_g||{});const qc=new Xt(""),Wh=new Set;function Za(e){Wh.has(e)||(Wh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Vy(e,n){if(null!==W())throw new Bt(-602,!1)}let qd=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=Eg})();function Eg(){return new qd(ht(),ur())}var Ac=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ac||{});let Yd=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})();const Zf=[Ac.EarlyRead,Ac.Write,Ac.MixedReadWrite,Ac.Read];let Jf=(()=>{class e{ngZone=nn(Wt);scheduler=nn($r);errorHandler=nn(ti,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){nn(qc,{optional:!0})}execute(){const r=this.sequences.size>0;r&&R(16),this.executing=!0;for(const o of Zf)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[o])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[o])(l.pipelinedValue),l.snapshot))}catch(u){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(u)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&R(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),ac(o),o[Dn]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(_g.AFTER_NEXT_RENDER,r):r()}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})();class Dg{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,r,o,l,u,g=null){this.impl=n,this.hooks=r,this.view=o,this.once=l,this.snapshot=g,this.unregisterOnDestroy=u?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(r=>r!==this))}}function ep(e,n){!n?.injector&&Ns();const r=n?.injector??nn(bn);return Za("NgAfterNextRender"),tp(e,r,n,!0)}function tp(e,n,r,o){const l=n.get(Yd);l.impl??=n.get(Jf);const u=n.get(qc,null,{optional:!0}),g=r?.phase??Ac.MixedReadWrite,w=!0!==r?.manualCleanup?n.get(hr):null,T=n.get(qd,null,{optional:!0}),L=new Dg(l.impl,function By(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),T?.view,o,w,u?.snapshot(null));return l.impl.register(L),L}var po=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(po||{});const np=0,wg=1;var hi=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(hi||{}),Ql=function(e){return e[e.Initial=-1]="Initial",e}(Ql||{});const Xl=0,ql=1,Ou=2,Kh=3,jy=4,$y=5,Zd=6,Cg=7,Jd=8,Ig=9;var Tg=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(Tg||{});function eh(e,n,r){const o=nh(e);null===n[o]&&(n[o]=[]),n[o].push(r)}function th(e,n){const r=nh(e),o=n[r];if(null!==o){for(const l of o)l();n[r]=null}}function zh(e){th(1,e),th(0,e),th(2,e)}function nh(e){let n=jy;return 1===e?n=$y:2===e&&(n=Ig),n}function Nu(e){return e+1}function ya(e,n){return e[Nu(n.index)]}function xo(e,n){const r=Nu(n.index);return e.data[r]}function rp(e,n){return n===hi.Placeholder?e.placeholderBlockConfig?.[np]??null:n===hi.Loading?e.loadingBlockConfig?.[np]??null:null}function Gh(e){return e.loadingBlockConfig?.[wg]??null}function sp(e,n){if(!e||0===e.length)return n;const r=new Set(e);for(const o of n)r.add(o);return e.length===r.size?e:Array.from(r)}const hd=new WeakMap;let rh=null,bg=0;class Xh{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}function fd(e,n,r){const o=r.get(Wt);let l=hd.get(e);return rh=rh||o.runOutsideAngular(()=>new IntersectionObserver(u=>{for(const g of u)g.isIntersecting&&hd.has(g.target)&&o.run(hd.get(g.target).listener)})),l||(l=new Xh,o.runOutsideAngular(()=>rh.observe(e)),hd.set(e,l),bg++),l.callbacks.add(n),()=>{hd.has(e)&&(l.callbacks.delete(n),0===l.callbacks.size&&(rh?.unobserve(e),hd.delete(e),bg--),0===bg&&(rh?.disconnect(),rh=null))}}function Ru(e,n,r,o,l,u,g){const w=e[gr],T=w.get(Wt);let L;L=function Uy(e,n){!n?.injector&&Ns();const r=n?.injector??nn(bn);return Za("NgAfterRender"),tp(e,r,n,!1)}({read:function Q(){if(os(e))return void L.destroy();const re=ya(e,n),De=re[ql];if(De!==Ql.Initial&&De!==hi.Placeholder)return void L.destroy();const me=function Mg(e,n,r){return null==r?e:r>=0?xd(r,e):e[n.index][ns]??null}(e,n,o);if(!me||(L.destroy(),os(me)))return;const je=function sh(e,n){return We(Pt+n,e)}(me,r),ft=l(je,()=>{T.run(()=>{e!==me&&lc(me,ft),u()})},w);e!==me&&Vc(me,ft),eh(g,re,ft)}},{injector:w})}const Oc=new Xt("");let md=()=>null;function Jy(e,n,r=!1){return md(e,n,r)}function Ug(e,n){const r=e.contentQueries;if(null!==r){const o=q(null);try{for(let l=0;l<r.length;l+=2){const g=r[l+1];if(-1!==g){const w=e.data[g];_u(r[l]),w.contentQueries(2,n[g],g)}}}finally{q(o)}}}function Bg(e,n,r){_u(0);const o=q(null);try{n(e,r)}finally{q(o)}}function jg(e,n,r){if(Bo(n)){const o=q(null);try{const u=n.directiveEnd;for(let g=n.directiveStart;g<u;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,r[g],g)}}finally{q(o)}}}var Zc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zc||{});let hp,fp;function Zh(){if(void 0===hp&&(hp=null,cr.trustedTypes))try{hp=cr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return hp}function Fu(e){return Zh()?.createHTML(e)||e}function Jh(){if(void 0===fp&&(fp=null,cr.trustedTypes))try{fp=cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fp}function Hg(e){return Jh()?.createHTML(e)||e}function Wg(e){return Jh()?.createScriptURL(e)||e}class Dd{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rs})`}}class Kg extends Dd{getTypeName(){return"HTML"}}class sE extends Dd{getTypeName(){return"Style"}}class zg extends Dd{getTypeName(){return"Script"}}class iE extends Dd{getTypeName(){return"URL"}}class Gg extends Dd{getTypeName(){return"ResourceURL"}}function Jc(e){return e instanceof Dd?e.changingThisBreaksApplicationSecurity:e}function ku(e,n){const r=function Qg(e){return e instanceof Dd&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${rs})`)}return r===n}function Xg(e){return new Kg(e)}function lh(e){return new sE(e)}function dv(e){return new zg(e)}function qg(e){return new iE(e)}function oE(e){return new Gg(e)}class eu{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Fu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class Yg{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Fu(n),r}}const Zg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mp(e){return(e=String(e)).match(Zg)?e:"unsafe:"+e}function tu(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function wd(...e){const n={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const hv=tu("area,br,col,hr,img,wbr"),yp=tu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fv=tu("rp,rt"),vp=wd(hv,wd(yp,tu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wd(fv,tu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wd(fv,yp)),ef=tu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mv=wd(ef,tu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jg=tu("script,style,template");class cE{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let r=n.firstChild,o=!0,l=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)l.push(r),r=nm(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=tm(r);if(u){r=u;break}r=l.pop()}return this.buf.join("")}startElement(n){const r=yv(n).toLowerCase();if(!vp.hasOwnProperty(r))return this.sanitizedSomething=!0,!Jg.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let l=0;l<o.length;l++){const u=o.item(l),g=u.name,w=g.toLowerCase();if(!mv.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=u.value;ef[w]&&(T=mp(T)),this.buf.push(" ",g,'="',sm(T),'"')}return this.buf.push(">"),!0}endElement(n){const r=yv(n).toLowerCase();vp.hasOwnProperty(r)&&!hv.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(sm(n))}}function tm(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw Cd(n);return n}function nm(e){const n=e.firstChild;if(n&&function em(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw Cd(n);return n}function yv(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function Cd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const uE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rm=/([^\#-~ |!])/g;function sm(e){return e.replace(/&/g,"&amp;").replace(uE,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(rm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nu;function im(e,n){let r=null;try{nu=nu||function gp(e){const n=new Yg(e);return function aE(){try{return!!(new window.DOMParser).parseFromString(Fu(""),"text/html")}catch{return!1}}()?new eu(n):n}(e);let o=n?String(n):"";r=nu.getInertBodyElement(o);let l=5,u=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=u,u=r.innerHTML,r=nu.getInertBodyElement(o)}while(o!==u);return Fu((new cE).sanitizeChildren(ch(r)||r))}finally{if(r){const o=ch(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function ch(e){return"content"in e&&function dE(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Id=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Id||{});function vv(e){const n=dh();return n?Hg(n.sanitize(Id.HTML,e)||""):ku(e,"HTML")?Hg(Jc(e)):im(xi(),ct(e))}function uh(e){const n=dh();return n?n.sanitize(Id.URL,e)||"":ku(e,"URL")?Jc(e):mp(ct(e))}function tf(e){const n=dh();if(n)return Wg(n.sanitize(Id.RESOURCE_URL,e)||"");if(ku(e,"ResourceURL"))return Wg(Jc(e));throw new Bt(904,!1)}function lm(e){return function rE(e){return Zh()?.createScriptURL(e)||e}(e[0])}function _p(e,n,r){return function cm(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?tf:uh}(n,r)(e)}function dh(){const e=ht();return e&&e[Ii].sanitizer}const Ep=/^>|^->|<!--|-->|--!>|<!-$/g,Ev=/(<|>)/g;function ym(e){return e.ownerDocument.defaultView}function fh(e){return e.ownerDocument}function ni(e){return e instanceof Function?e():e}function DE(e,n,r){let o=e.length;for(;;){const l=e.indexOf(n,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const u=n.length;if(l+u===o||e.charCodeAt(l+u)<=32)return l}r=l+1}}const wE="ng-template";function Pi(e,n,r,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==DE(n[l+1].toLowerCase(),r,0))return!0}else if(Sv(e))return!1;if(l=n.indexOf(1,l),l>-1){let u;for(;++l<n.length&&"string"==typeof(u=n[l]);)if(u.toLowerCase()===r)return!0}return!1}function Sv(e){return 4===e.type&&e.value!==wE}function CE(e,n,r){return n===(4!==e.type||r?e.value:wE)}function Po(e,n,r){let o=4;const l=e.attrs,u=null!==l?function ZD(e){for(let n=0;n<e.length;n++)if(ho(e[n]))return n;return e.length}(l):0;let g=!1;for(let w=0;w<n.length;w++){const T=n[w];if("number"!=typeof T){if(!g)if(4&o){if(o=2|1&o,""!==T&&!CE(e,T,r)||""===T&&1===n.length){if(Al(o))return!1;g=!0}}else if(8&o){if(null===l||!Pi(e,l,T,r)){if(Al(o))return!1;g=!0}}else{const L=n[++w],Q=IE(T,l,Sv(e),r);if(-1===Q){if(Al(o))return!1;g=!0;continue}if(""!==L){let re;if(re=Q>u?"":l[Q+1].toLowerCase(),2&o&&L!==re){if(Al(o))return!1;g=!0}}}}else{if(!g&&!Al(o)&&!Al(T))return!1;if(g&&Al(T))continue;g=!1,o=T|1&o}}return Al(o)||g}function Al(e){return!(1&e)}function IE(e,n,r,o){if(null===n)return-1;let l=0;if(o||!r){let u=!1;for(;l<n.length;){const g=n[l];if(g===e)return l;if(3===g||6===g)u=!0;else{if(1===g||2===g){let w=n[++l];for(;"string"==typeof w;)w=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=u?1:2}return-1}return function JD(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function TE(e,n,r=!1){for(let o=0;o<n.length;o++)if(Po(e,n[o],r))return!0;return!1}function ew(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function SE(e,n){return e?":not("+n.trim()+")":n}function tw(e){let n=e[0],r=1,o=2,l="",u=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const w=e[++r];l+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!Al(g)&&(n+=SE(u,l),l=""),o=g,u=u||!Al(o);r++}return""!==l&&(n+=SE(u,l)),n}const yr={};function ru(e,n){return e.createComment(function hm(e){return e.replace(Ep,n=>n.replace(Ev,"\u200b$1\u200b"))}(n))}function Rc(e,n,r){return e.createElement(n,r)}function ph(e,n,r,o,l){e.insertBefore(n,r,o,l)}function Lu(e,n,r){e.appendChild(n,r)}function Dp(e,n,r,o,l){null!==o?ph(e,n,r,o,l):Lu(e,n,r)}function lf(e,n,r){const{mergedAttrs:o,classes:l,styles:u}=r;null!==o&&function _c(e,n,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const u=r[o++],g=r[o++],w=r[o++];e.setAttribute(n,g,w,u)}else{const u=l,g=r[++o];cl(u)?e.setProperty(n,u,g):e.setAttribute(n,u,g),o++}}}(e,n,o),null!==l&&function Nv(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}(e,n,l),null!==u&&function Ov(e,n,r){e.setAttribute(n,"style",r)}(e,n,u)}function _m(e,n,r,o,l,u,g,w,T,L,Q){const re=Pt+o,De=re+l,me=function Sd(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:yr);return r}(re,De),je="function"==typeof L?L():L;return me[Ft]={type:e,blueprint:me,template:r,queries:null,viewQuery:w,declTNode:n,data:me.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:je,incompleteFirstPass:!1,ssrId:Q}}function Vu(e,n,r,o,l,u,g,w,T,L,Q){const re=n.blueprint.slice();return re[Nr]=l,re[Dn]=1228|o,(null!==L||e&&2048&e[Dn])&&(re[Dn]|=2048),ic(re),re[Gs]=re[Y]=e,re[Cr]=r,re[Ii]=g||e&&e[Ii],re[Pn]=w||e&&e[Pn],re[gr]=T||e&&e[gr]||null,re[Ms]=u,re[Le]=function vy(){return Gc++}(),re[Zi]=Q,re[xe]=L,re[F]=2==n.type?e[F]:re,re}function uf(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function df(e,n,r,o){if(0===r)return-1;const l=n.length;for(let u=0;u<r;u++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function Em(e,n){return e[Nt]?e[O][Hi]=n:e[Nt]=n,e[O]=n,n}function xv(e=1){wp(yn(),ht(),Ri()+e,!1)}function wp(e,n,r,o){if(!o)if(3&~n[Dn]){const u=e.preOrderHooks;null!==u&&mc(n,u,0,r)}else{const u=e.preOrderCheckHooks;null!==u&&Dl(n,u,r)}al(r)}var gh=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(gh||{});function mh(e,n,r,o){const l=q(null);try{const[u,g,w]=e.inputs[r];let T=null;!!(g&gh.SignalBased)&&(T=n[u][J]),null!==T&&void 0!==T.transformFn?o=T.transformFn(o):null!==w&&(o=w.call(n,o)),null!==e.setInput?e.setInput(n,T,o,r,u):Ga(n,T,u,o)}finally{q(l)}}function Uu(e,n,r,o,l){const u=Ri(),g=2&o;try{al(-1),g&&n.length>Pt&&wp(e,n,Pt,!1),R(g?2:0,l),r(o,l)}finally{al(u),R(g?3:1,l)}}function hf(e,n,r){(function wm(e,n,r){const o=r.directiveStart,l=r.directiveEnd;Us(r)&&function Rv(e,n,r){const o=$t(n,e),l=function cf(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=_m(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(r),u=e[Ii].rendererFactory,g=Em(e,Vu(e,l,null,uf(r),o,n,null,u.createRenderer(o,r),null,null,null));e[n.index]=g}(n,r,e.data[o+r.componentOffset]),e.firstCreatePass||bu(r,n);const u=r.initialInputs;for(let g=o;g<l;g++){const w=e.data[g],T=zc(n,e,g,r);$a(T,n),null!==u&&iw(0,g-o,T,w,0,u),tn(w)&&(Xs(r.index,n)[Cr]=zc(n,e,g,r))}})(e,n,r),!(64&~r.flags)&&function gf(e,n,r){const o=r.directiveStart,l=r.directiveEnd,u=r.index,g=function El(){return Qn.lFrame.currentDirectiveIndex}();try{al(u);for(let w=o;w<l;w++){const T=e.data[w],L=n[w];Ul(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&sw(T,L)}}finally{al(-1),Ul(g)}}(e,n,r)}function Cp(e,n,r=$t){const o=n.localNames;if(null!==o){let l=n.index+1;for(let u=0;u<o.length;u+=2){const g=o[u+1],w=-1===g?r(n,e):e[g];e[l++]=w}}}let kv,Pv=()=>null;function Yo(e,n,r,o,l,u,g,w){if(w||!yh(n,e,r,o,l)){if(3&n.type){const T=$t(n,r);o=function Fv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,n.value||"",o):l,u.setProperty(T,o,l)}}else Us(n)&&function bE(e,n){const r=Xs(n,e);16&r[Dn]||(r[Dn]|=64)}(r,n.index)}function sw(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function bd(e,n){const r=e.directiveRegistry;let o=null;if(r)for(let l=0;l<r.length;l++){const u=r[l];TE(n,u.selectors,!1)&&(o??=[],tn(u)?o.unshift(u):o.push(u))}return o}function su(e,n,r,o,l,u){const g=$t(e,n);!function Bu(e,n,r,o,l,u,g){if(null==u)e.removeAttribute(n,l,r);else{const w=null==g?ct(u):g(u,o||"",l);e.setAttribute(n,l,w,r)}}(n[Pn],g,u,e.value,r,o,l)}function iw(e,n,r,o,l,u){const g=u[n];if(null!==g)for(let w=0;w<g.length;w+=2)mh(o,r,g[w],g[w+1])}function Sp(e,n,r){return(null===e||tn(e))&&(r=function at(e){for(;Array.isArray(e);){if("object"==typeof e[Ls])return e;e=e[Nr]}return null}(r[n.index])),r[Pn]}function Cm(e,n){const r=e[gr],o=r?r.get(ti,null):null;o&&o.handleError(n)}function yh(e,n,r,o,l){const u=e.inputs?.[o],g=e.hostDirectiveInputs?.[o];let w=!1;if(g)for(let T=0;T<g.length;T+=2){const L=g[T];mh(n.data[L],r[L],g[T+1],l),w=!0}if(u)for(const T of u)mh(n.data[T],r[T],o,l),w=!0;return w}function ow(e,n){const r=Xs(n,e),o=r[Ft];!function bp(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const l=r[Nr];null!==l&&null===r[Zi]&&(r[Zi]=Jy(l,r[gr])),R(18),Im(o,r,r[Cr]),R(19,r[Cr])}function Im(e,n,r){uo(n);try{const o=e.viewQuery;null!==o&&Bg(1,o,r);const l=e.template;null!==l&&Uu(e,n,l,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ye]?.finishViewCreation(e),e.staticContentQueries&&Ug(e,n),e.staticViewQueries&&Bg(2,e.viewQuery,r);const u=e.components;null!==u&&function aw(e,n){for(let r=0;r<n.length;r++)ow(e,n[r])}(n,u)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Dn]&=-5,Du()}}function iu(e,n,r,o){const l=q(null);try{const u=n.tView,T=Vu(e,u,r,4096&e[Dn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);T[V]=e[n.index];const Q=e[Ye];return null!==Q&&(T[Ye]=Q.createEmbeddedView(u)),Im(u,T,r),T}finally{q(l)}}function vh(e,n){return!n||null===n.firstChild||Ml(e)}function Mp(e,n){return kv(e,n)}var mf=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(mf||{});function ou(e){return!(32&~e.flags)}function Md(e,n,r,o,l){if(null!=o){let u,g=!1;ln(o)?u=o:Br(o)&&(g=!0,o=o[Nr]);const w=pe(o);0===e&&null!==r?null==l?Lu(n,r,w):ph(n,r,w,l||null,!0):1===e&&null!==r?ph(n,r,w,l||null,!0):2===e?function af(e,n,r){e.removeChild(null,n,r)}(n,w,g):3===e&&n.destroyNode(w),null!=u&&function NE(e,n,r,o,l){const u=r[As];u!==pe(r)&&Md(n,e,o,u,l);for(let w=ns;w<r.length;w++){const T=r[w];Mm(T[Ft],T,e,n,o,u)}}(n,e,u,r,l)}}function yf(e,n){n[Ii].changeDetectionScheduler?.notify(9),Mm(e,n,n[Pn],2,null,null)}function Uv(e,n){const r=e[Ai],o=r.indexOf(n);r.splice(o,1)}function Ap(e,n){if(os(n))return;const r=n[Pn];r.destroyNode&&Mm(e,n,r,3,null,null),function AE(e){let n=e[Nt];if(!n)return Sm(e[Ft],e);for(;n;){let r=null;if(Br(n))r=n[Nt];else{const o=n[ns];o&&(r=o)}if(!r){for(;n&&!n[Hi]&&n!==e;)Br(n)&&Sm(n[Ft],n),n=n[Gs];null===n&&(n=e),Br(n)&&Sm(n[Ft],n),r=n&&n[Hi]}n=r}}(n)}function Sm(e,n){if(os(n))return;const r=q(null);try{n[Dn]&=-129,n[Dn]|=256,n[Vn]&&Xe(n[Vn]),function cw(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=n[r[o]];if(!(l instanceof Cl)){const u=r[o+1];if(Array.isArray(u))for(let g=0;g<u.length;g+=2){const w=l[u[g]],T=u[g+1];R(4,w,T);try{T.call(w)}finally{R(5,w,T)}}else{R(4,l,u);try{u.call(l)}finally{R(5,l,u)}}}}}(e,n),function lw(e,n){const r=e.cleanup,o=n[is];if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const w=r[g+3];w>=0?o[w]():o[-w].unsubscribe(),g+=2}else r[g].call(o[r[g+1]]);null!==o&&(n[is]=null);const l=n[dt];if(null!==l){n[dt]=null;for(let g=0;g<l.length;g++)(0,l[g])()}const u=n[Mr];if(null!==u){n[Mr]=null;for(const g of u)g.destroy()}}(e,n),1===n[Ft].type&&n[Pn].destroy();const o=n[V];if(null!==o&&ln(n[Gs])){o!==n[Gs]&&Uv(o,n);const l=n[Ye];null!==l&&l.detachView(e)}Bd(n)}finally{q(r)}}function au(e,n,r){return function Ad(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[Nr];if(Us(o)){const{encapsulation:l}=e.data[o.directiveStart+o.componentOffset];if(l===Zc.None||l===Zc.Emulated)return null}return $t(o,r)}(e,n.parent,r)}function vf(e,n,r){return Bv(e,n,r)}let jv,Bv=function Od(e,n,r){return 40&e.type?$t(e,r):null};function Zl(e,n,r,o){const l=au(e,o,n),u=n[Pn],w=vf(o.parent||n[Ms],o,n);if(null!=l)if(Array.isArray(r))for(let T=0;T<r.length;T++)Dp(u,l,r[T],w,!1);else Dp(u,l,r,w,!1);void 0!==jv&&jv(u,o,n,r,l)}function _h(e,n){if(null!==n){const r=n.type;if(3&r)return $t(n,e);if(4&r)return bm(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return _h(e,o);{const l=e[n.index];return ln(l)?bm(-1,l):pe(l)}}if(128&r)return _h(e,n.next);if(32&r)return Mp(n,e)()||pe(e[n.index]);{const o=OE(e,n);return null!==o?Array.isArray(o)?o[0]:_h(Ma(e[F]),o):_h(e,n.next)}}return null}function OE(e,n){return null!==n?e[F][Ms].projection[n.projection]:null}function bm(e,n){const r=ns+e+1;if(r<n.length){const o=n[r],l=o[Ft].firstChild;if(null!==l)return _h(o,l)}return n[As]}function Hv(e,n,r,o,l,u,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const w=o[r.index],T=r.type;if(g&&0===n&&(w&&$a(pe(w),o),r.flags|=2),!ou(r))if(8&T)Hv(e,n,r.child,o,l,u,!1),Md(n,e,l,w,u);else if(32&T){const L=Mp(r,o);let Q;for(;Q=L();)Md(n,e,l,Q,u);Md(n,e,l,w,u)}else 16&T?Wv(e,n,o,r,l,u):Md(n,e,l,w,u);r=g?r.projectionNext:r.next}}function Mm(e,n,r,o,l,u){Hv(r,o,e.firstChild,n,l,u,!1)}function Wv(e,n,r,o,l,u){const g=r[F],T=g[Ms].projection[o.projection];if(Array.isArray(T))for(let L=0;L<T.length;L++)Md(n,e,l,T[L],u);else{let L=T;const Q=g[Gs];Ml(o)&&(L.flags|=128),Hv(e,n,L,Q,l,u,!0)}}function Eh(e,n,r,o,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const u=n[r.index];null!==u&&o.push(pe(u)),ln(u)&&Kv(u,o);const g=r.type;if(8&g)Eh(e,n,r.child,o);else if(32&g){const w=Mp(r,n);let T;for(;T=w();)o.push(T)}else if(16&g){const w=OE(n,r);if(Array.isArray(w))o.push(...w);else{const T=Ma(n[F]);Eh(T[Ft],T,w,o,!0)}}r=l?r.projectionNext:r.next}return o}function Kv(e,n){for(let r=ns;r<e.length;r++){const o=e[r],l=o[Ft].firstChild;null!==l&&Eh(o[Ft],o,l,n)}e[As]!==e[Nr]&&n.push(e[As])}function Dh(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let Op=[];const FE={...ne,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ac(e.lView)},consumerOnSignalRead(){this.lView[Vn]=this}},LE={...ne,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Ma(e.lView);for(;n&&!VE(n[Ft]);)n=Ma(n);n&&Qa(n)},consumerOnSignalRead(){this.lView[Vn]=this}};function VE(e){return 2!==e.type}function UE(e){if(null===e[Mr])return;let n=!0;for(;n;){let r=!1;for(const o of e[Mr])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=r&&!!(8192&e[Dn])}}function Am(e,n=!0,r=0){const l=e[Ii].rendererFactory;l.begin?.();try{!function BE(e,n){const r=Si();try{Vl(!0),Om(e,n);let o=0;for(;oc(e);){if(100===o)throw new Bt(103,!1);o++,Om(e,1)}}finally{Vl(r)}}(e,r)}catch(g){throw n&&Cm(e,g),g}finally{l.end?.()}}function Gv(e,n,r,o){if(os(n))return;const l=n[Dn];uo(n);let w=!0,T=null,L=null;VE(e)?(L=function dw(e){return e[Vn]??function xE(e){const n=Op.pop()??Object.create(FE);return n.lView=e,n}(e)}(n),T=Dt(L)):null===W()?(w=!1,L=function kE(e){const n=e[Vn]??Object.create(LE);return n.lView=e,n}(n),T=Dt(L)):n[Vn]&&(Xe(n[Vn]),n[Vn]=null);try{ic(n),function dc(e){return Qn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Uu(e,n,r,2,o);const Q=!(3&~l);if(Q){const me=e.preOrderCheckHooks;null!==me&&Dl(n,me,null)}else{const me=e.preOrderHooks;null!==me&&mc(n,me,0,null),wl(n,0)}if(function $E(e){for(let n=Qc(e);null!==n;n=cg(n)){if(!(2&n[Dn]))continue;const r=n[Ai];for(let o=0;o<r.length;o++)Qa(r[o])}}(n),UE(n),jE(n,0),null!==e.contentQueries&&Ug(e,n),Q){const me=e.contentCheckHooks;null!==me&&Dl(n,me)}else{const me=e.contentHooks;null!==me&&mc(n,me,1),wl(n,1)}!function fw(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)al(~l);else{const u=l,g=r[++o],w=r[++o];vu(g,u);const T=n[u];R(24,T),w(2,T),R(25,T)}}}finally{al(-1)}}(e,n);const re=e.components;null!==re&&WE(n,re,0);const De=e.viewQuery;if(null!==De&&Bg(2,De,o),Q){const me=e.viewCheckHooks;null!==me&&Dl(n,me)}else{const me=e.viewHooks;null!==me&&mc(n,me,2),wl(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[In]){for(const me of n[In])me();n[In]=null}Dh(n),n[Dn]&=-73}catch(Q){throw ac(n),Q}finally{null!==L&&(Tt(L,T),w&&function PE(e){e.lView[Vn]!==e&&(e.lView=null,Op.push(e))}(L)),Du()}}function jE(e,n){for(let r=Qc(e);null!==r;r=cg(r))for(let o=ns;o<r.length;o++)lu(r[o],n)}function HE(e,n,r){R(18);const o=Xs(n,e);lu(o,r),R(19,o[Cr])}function lu(e,n){ba(e)&&Om(e,n)}function Om(e,n){const o=e[Ft],l=e[Dn],u=e[Vn];let g=!!(0===n&&16&l);if(g||=!!(64&l&&0===n),g||=!!(1024&l),g||=!(!u?.dirty||!lt(u)),g||=!1,u&&(u.dirty=!1),e[Dn]&=-9217,g)Gv(o,e,o.template,e[Cr]);else if(8192&l){UE(e),jE(e,1);const w=o.components;null!==w&&WE(e,w,1),Dh(e)}}function WE(e,n,r){for(let o=0;o<n.length;o++)HE(e,n[o],r)}function _f(e,n){const r=Si()?64:1088;for(e[Ii].changeDetectionScheduler?.notify(n);e;){e[Dn]|=r;const o=Ma(e);if(jo(e)&&!o)return e;e=o}return null}function KE(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function zE(e,n){const r=ns+n;if(r<e.length)return e[r]}function Ef(e,n,r,o=!0){const l=n[Ft];if(function Xv(e,n,r,o){const l=ns+o,u=r.length;o>0&&(r[l-1][Hi]=n),o<u-ns?(n[Hi]=r[l],Ao(r,ns+o,n)):(r.push(n),n[Hi]=null),n[Gs]=r;const g=n[V];null!==g&&r!==g&&i(g,n);const w=n[Ye];null!==w&&w.insertView(e),Lc(n),n[Dn]|=128}(l,n,e,r),o){const g=bm(r,e),w=n[Pn],T=w.parentNode(e[As]);null!==T&&function Vv(e,n,r,o,l,u){o[Nr]=l,o[Ms]=n,Mm(e,o,r,1,l,u)}(l,e[Ms],w,n,T,g)}const u=n[Zi];null!==u&&null!==u.firstChild&&(u.firstChild=null)}function Qv(e,n){const r=Np(e,n);return void 0!==r&&Ap(r[Ft],r),r}function Np(e,n){if(e.length<=ns)return;const r=ns+n,o=e[r];if(o){const l=o[V];null!==l&&l!==e&&Uv(l,o),n>0&&(e[r-1][Hi]=o[Hi]);const u=Xi(e,ns+n);!function Tm(e,n){yf(e,n),n[Nr]=null,n[Ms]=null}(o[Ft],o);const g=u[Ye];null!==g&&g.detachView(u[Ft]),o[Gs]=null,o[Hi]=null,o[Dn]&=-129}return o}function i(e,n){const r=e[Ai],o=n[Gs];(Br(o)||n[F]!==o[Gs][F])&&(e[Dn]|=2),null===r?e[Ai]=[n]:r.push(n)}class t{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,r=n[Ft];return Eh(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[Cr]}get dirty(){return!!(9280&this._lView[Dn])||!!this._lView[Vn]?.dirty}set context(n){this._lView[Cr]=n}get destroyed(){return os(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Gs];if(ln(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Np(n,o),Xi(r,o))}this._attachedToViewContainer=!1}Ap(this._lView[Ft],this._lView)}onDestroy(n){Vc(this._lView,n)}markForCheck(){_f(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Qa(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dn]&=-129}reattach(){Lc(this._lView),this._lView[Dn]|=128}detectChanges(){this._lView[Dn]|=1024,Am(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Bt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=jo(this._lView),r=this._lView[V];null!==r&&!n&&Uv(r,this._lView),yf(this._lView[Ft],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Bt(902,!1);this._appRef=n;const r=jo(this._lView),o=this._lView[V];null!==o&&!r&&i(o,this._lView),Lc(this._lView)}}let s=(()=>class e{static __NG_ELEMENT_ID__=f})();const a=s,c=class extends a{_declarationLView;_declarationTContainer;elementRef;constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const l=iu(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new t(l)}};function f(){return m(ur(),ht())}function m(e,n){return 4&e.type?new c(n,e,td(e,n)):null}function Rp(e,n,r,o,l){let u=e.data[n];if(null===u)u=function GE(e,n,r,o,l){const u=sl(),g=il(),T=e.data[n]=function jb(e,n,r,o,l,u){let g=n?n.injectorIndex:-1,w=0;return ml()&&(w|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:u,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?u:u&&u.parent,r,n,o,l);return function Bb(e,n,r,o){null===e.firstChild&&(e.firstChild=n),null!==r&&(o?null==r.child&&null!==n.parent&&(r.child=n):null===r.next&&(r.next=n,n.prev=r))}(e,T,u,g),T}(e,n,r,o,l),function vl(){return Qn.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=r,u.value=o,u.attrs=l;const g=function ca(){const e=Qn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();u.injectorIndex=null===g?-1:g.injectorIndex}return ua(u,!0),u}let xw=()=>null;function Pp(e,n){return xw(e,n)}class bM{}class Pw{}class MM{resolveComponentFactory(n){throw Error(`No component factory found for ${_r(n)}.`)}}class Lm{static NULL=new MM}class t0{}let AM=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function OM(){const e=ht(),r=Xs(ur().index,e);return(Br(r)?r:e)[Pn]}()})(),NM=(()=>{class e{static \u0275prov=jn({token:e,providedIn:"root",factory:()=>null})}return e})();function wh(e){return!!ms(e)}function s0(e,n,r){let o=r?e.styles:null,l=r?e.classes:null,u=0;if(null!==n)for(let g=0;g<n.length;g++){const w=n[g];"number"==typeof w?u=w:1==u?l=zs(l,w):2==u&&(o=zs(o,w+": "+n[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}function Fp(e,n=xn.Default){const r=ht();return null===r?si(e,n):lr(ur(),r,Qe(e),n)}function Lw(){throw new Error("invalid")}function o0(e,n,r,o,l){const u=null===o?null:{"":-1},g=l(e,r);if(null!==g){let w,T=null,L=null;const Q=function FM(e){let n=null,r=!1;for(let g=0;g<e.length;g++){const w=e[g];if(0===g&&tn(w)&&(n=w),null!==w.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,l=null,u=null;for(const g of e)null!==g.findHostDirectiveDefs&&(o??=[],l??=new Map,u??=new Map,kM(g,o,u,l)),g===n&&(o??=[],o.push(g));return null!==o?(o.push(...null===n?e:e.slice(1)),[o,l,u]):null}(g);null===Q?w=g:[w,T,L]=Q,function VM(e,n,r,o,l,u,g){const w=o.length;let T=!1;for(let De=0;De<w;De++){const me=o[De];!T&&tn(me)&&(T=!0,LM(e,r,De)),Wc(bu(r,n),e,me.type)}!function WM(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,w);for(let De=0;De<w;De++){const me=o[De];me.providersResolver&&me.providersResolver(me)}let L=!1,Q=!1,re=df(e,n,w,null);w>0&&(r.directiveToIndex=new Map);for(let De=0;De<w;De++){const me=o[De];if(r.mergedAttrs=ul(r.mergedAttrs,me.hostAttrs),BM(e,r,n,re,me),HM(re,me,l),null!==g&&g.has(me)){const[ft,Gt]=g.get(me);r.directiveToIndex.set(me.type,[re,ft+r.directiveStart,Gt+r.directiveStart])}else(null===u||!u.has(me))&&r.directiveToIndex.set(me.type,re);null!==me.contentQueries&&(r.flags|=4),(null!==me.hostBindings||null!==me.hostAttrs||0!==me.hostVars)&&(r.flags|=64);const je=me.type.prototype;!L&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),L=!0),!Q&&(je.ngOnChanges||je.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),Q=!0),re++}!function UM(e,n,r){for(let o=n.directiveStart;o<n.directiveEnd;o++){const l=e.data[o];if(null!==r&&r.has(l)){const u=r.get(l);Uw(0,n,u,o),Uw(1,n,u,o),jw(n,o,!0)}else Vw(0,n,l,o),Vw(1,n,l,o),jw(n,o,!1)}}(e,r,u)}(e,n,r,w,u,T,L)}null!==u&&null!==o&&function PM(e,n,r){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const u=r[n[l+1]];if(null==u)throw new Bt(-301,!1);o.push(n[l],u)}}(r,o,u)}function kM(e,n,r,o){const l=n.length;e.findHostDirectiveDefs(e,n,o),r.set(e,[l,n.length-1])}function LM(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function Vw(e,n,r,o){const l=0===e?r.inputs:r.outputs;for(const u in l)if(l.hasOwnProperty(u)){let g;g=0===e?n.inputs??={}:n.outputs??={},g[u]??=[],g[u].push(o),Bw(n,u)}}function Uw(e,n,r,o){const l=0===e?r.inputs:r.outputs;for(const u in l)if(l.hasOwnProperty(u)){const g=l[u];let w;w=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},w[g]??=[],w[g].push(o,u),Bw(n,g)}}function Bw(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function jw(e,n,r){const{attrs:o,inputs:l,hostDirectiveInputs:u}=e;if(null===o||!r&&null===l||r&&null===u||Sv(e))return e.initialInputs??=[],void e.initialInputs.push(null);let g=null,w=0;for(;w<o.length;){const T=o[w];if(0!==T)if(5!==T){if("number"==typeof T)break;if(!r&&l.hasOwnProperty(T)){const L=l[T];for(const Q of L)if(Q===n){g??=[],g.push(T,o[w+1]);break}}else if(r&&u.hasOwnProperty(T)){const L=u[T];for(let Q=0;Q<L.length;Q+=2)if(L[Q]===n){g??=[],g.push(L[Q+1],o[w+1]);break}}w+=2}else w+=2;else w+=4}e.initialInputs??=[],e.initialInputs.push(g)}function BM(e,n,r,o,l){e.data[o]=l;const u=l.factory||(l.factory=Js(l.type)),g=new Cl(u,tn(l),Fp);e.blueprint[o]=g,r[o]=g,function jM(e,n,r,o,l){const u=l.hostBindings;if(u){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~n.index;(function $M(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=w&&g.push(w),g.push(r,o,u)}}(e,n,o,df(e,r,l.hostVars,yr),l)}function HM(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;tn(n)&&(r[""]=e)}}function $w(e,n,r,o,l,u,g,w){const T=n.consts,Q=Rp(n,e,2,o,Wi(T,g));return u&&o0(n,r,Q,Wi(T,w),l),Q.mergedAttrs=ul(Q.mergedAttrs,Q.attrs),null!==Q.attrs&&s0(Q,Q.attrs,!1),null!==Q.mergedAttrs&&s0(Q,Q.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Q),Q}function Hw(e,n){jc(e,n),Bo(n)&&e.queries.elementEnd(n)}class Ww extends Lm{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Mn(n);return new Bm(r,this.ngModule)}}class Bm extends Pw{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return function KM(e){return Object.keys(e).map(n=>{const[r,o,l]=e[n],u={propName:r,templateName:n,isSignal:!!(o&gh.SignalBased)};return l&&(u.transform=l),u})}(this.componentDef.inputs)}get outputs(){return function zM(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function nw(e){return e.map(tw).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!r}create(n,r,o,l){R(22);const u=q(null);try{const g=this.componentDef,w=o?["ng-version","19.2.0"]:function rw(e){const n=[],r=[];let o=1,l=2;for(;o<e.length;){let u=e[o];if("string"==typeof u)2===l?""!==u&&n.push(u,e[++o]):8===l&&r.push(u);else{if(!Al(l))break;l=u}o++}return r.length&&n.push(1,...r),n}(this.componentDef.selectors[0]),T=_m(0,null,null,1,0,null,null,null,null,[w],null),L=function GM(e,n,r){let o=n instanceof bs?n:n?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new ga(r,o):r}(g,l||this.ngModule,n),Q=function QM(e){const n=e.get(t0,null);if(null===n)throw new Bt(407,!1);return{rendererFactory:n,sanitizer:e.get(NM,null),changeDetectionScheduler:e.get($r,null)}}(L),re=Q.rendererFactory.createRenderer(null,g),De=o?function Dm(e,n,r,o){const u=o.get(Ho,!1)||r===Zc.ShadowDom,g=e.selectRootElement(n,u);return function ff(e){Pv(e)}(g),g}(re,o,g.encapsulation,L):function XM(e,n){const r=(e.selectors[0][0]||"div").toLowerCase();return Rc(n,r,"svg"===r?G:"math"===r?"math":null)}(g,re),me=Vu(null,T,null,512|uf(g),null,null,Q,re,L,null,Jy(De,L,!0));me[Pt]=De,uo(me);let je=null;try{const ft=$w(Pt,T,me,"#host",()=>[this.componentDef],!0,0);De&&(lf(re,De,ft),$a(De,me)),hf(T,me,ft),jg(T,ft,me),Hw(T,ft),void 0!==r&&function YM(e,n,r){const o=e.projection=[];for(let l=0;l<n.length;l++){const u=r[l];o.push(null!=u&&u.length?Array.from(u):null)}}(ft,this.ngContentSelectors,r),je=Xs(ft.index,me),me[Cr]=je[Cr],Im(T,me,null)}catch(ft){throw null!==je&&Bd(je),Bd(me),ft}finally{R(23),Du()}return new qM(this.componentType,me)}finally{q(u)}}}class qM extends bM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,r){super(),this._rootLView=r,this._tNode=Hn(r[Ft],Pt),this.location=td(this._tNode,r),this.instance=Xs(this._tNode.index,r)[Cr],this.hostView=this.changeDetectorRef=new t(r,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const l=this._rootLView;yh(o,l[Ft],l,n,r),this.previousInputValues.set(n,r),_f(Xs(o.index,l),1)}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let n_=(()=>class e{static __NG_ELEMENT_ID__=ZM})();function ZM(){return Gw(ur(),ht())}const JM=n_,Kw=class extends JM{_lContainer;_hostTNode;_hostLView;constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ki(this._hostTNode,this._hostLView);if(Io(n)){const r=Il(n,this._hostLView),o=Wl(n);return new Rs(r[Ft].data[o+8],r)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=zw(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-ns}createEmbeddedView(n,r,o){let l,u;"number"==typeof o?l=o:null!=o&&(l=o.index,u=o.injector);const g=Pp(this._lContainer,n.ssrId),w=n.createEmbeddedViewImpl(r||{},u,g);return this.insertImpl(w,l,vh(this._hostTNode,g)),w}createComponent(n,r,o,l,u){const g=n&&!function Uo(e){return"function"==typeof e}(n);let w;if(g)w=r;else{const je=r||{};w=je.index,o=je.injector,l=je.projectableNodes,u=je.environmentInjector||je.ngModuleRef}const T=g?n:new Bm(Mn(n)),L=o||this.parentInjector;if(!u&&null==T.ngModule){const ft=(g?L:this.parentInjector).get(bs,null);ft&&(u=ft)}const Q=Mn(T.componentType??{}),re=Pp(this._lContainer,Q?.id??null),me=T.create(L,l,re?.firstChild??null,u);return this.insertImpl(me.hostView,w,vh(this._hostTNode,re)),me}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const l=n._lView;if(function qo(e){return ln(e[Gs])}(l)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const T=l[Gs],L=new Kw(T,T[Ms],T[Gs]);L.detach(L.indexOf(n))}}const u=this._adjustIndex(r),g=this._lContainer;return Ef(g,l,u,o),n.attachToViewContainerRef(),Ao(a0(g),u,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=zw(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Np(this._lContainer,r);o&&(Xi(a0(this._lContainer),r),Ap(o[Ft],o))}detach(n){const r=this._adjustIndex(n,-1),o=Np(this._lContainer,r);return o&&null!=Xi(a0(this._lContainer),r)?new t(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function zw(e){return e[8]}function a0(e){return e[8]||(e[8]=[])}function Gw(e,n){let r;const o=n[e.index];return ln(o)?r=o:(r=KE(o,n,null,e),n[e.index]=r,Em(n,r)),Qw(r,n,e,o),new Kw(r,e,n)}let Qw=function qw(e,n,r,o){if(e[As])return;let l;l=8&r.type?pe(o):function eA(e,n){const r=e[Pn],o=r.createComment(""),l=$t(n,e),u=r.parentNode(l);return ph(r,u,o,r.nextSibling(l),!1),o}(n,r),e[As]=l},l0=()=>!1;function Xw(e,n,r){return l0(e,n,r)}class c0{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new c0(this.queryList)}setDirty(){this.queryList.setDirty()}}class u0{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,l=[];for(let u=0;u<o;u++){const g=r.getByIndex(u);l.push(this.queries[g.indexInDeclarationView].clone())}return new u0(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==g0(n,r).matches&&this.queries[r].setDirty()}}class Yw{flags;read;predicate;constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function lA(e){return e.split(",").map(n=>n.trim())}(n):n}}class d0{queries;constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,u=this.getByIndex(o).embeddedTView(n,l);u&&(u.indexInDeclarationView=o,null!==r?r.push(u):r=[u])}return null!==r?new d0(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class h0{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,r=-1){this.metadata=n,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new h0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const u=o[l];this.matchTNodeWithReadOption(n,r,sA(r,u)),this.matchTNodeWithReadOption(n,r,Kc(r,n,u,!1,!1))}else o===s?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Kc(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Ld||l===n_||l===s&&4&r.type)this.addMatch(r.index,-2);else{const u=Kc(r,n,l,!1,!1);null!==u&&this.addMatch(r.index,u)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function sA(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function oA(e,n,r,o){return-1===r?function iA(e,n){return 11&e.type?td(e,n):4&e.type?m(e,n):null}(n,e):-2===r?function aA(e,n,r){return r===Ld?td(n,e):r===s?m(n,e):r===n_?Gw(n,e):void 0}(e,n,o):zc(e,e[Ft],r,n)}function Zw(e,n,r,o){const l=n[Ye].queries[o];if(null===l.matches){const u=e.data,g=r.matches,w=[];for(let T=0;null!==g&&T<g.length;T+=2){const L=g[T];w.push(L<0?null:oA(n,u[L],g[T+1],r.metadata.read))}l.matches=w}return l.matches}function f0(e,n,r,o){const l=e.queries.getByIndex(r),u=l.matches;if(null!==u){const g=Zw(e,n,l,r);for(let w=0;w<u.length;w+=2){const T=u[w];if(T>0)o.push(g[w/2]);else{const L=u[w+1],Q=n[-T];for(let re=ns;re<Q.length;re++){const De=Q[re];De[V]===De[Gs]&&f0(De[Ft],De,L,o)}if(null!==Q[Ai]){const re=Q[Ai];for(let De=0;De<re.length;De++){const me=re[De];f0(me[Ft],me,L,o)}}}}}return o}function p0(e,n){return e[Ye].queries[n].queryList}function Jw(e,n,r){const o=new my(!(4&~r));return function Ll(e,n,r,o){const l=Uc(n);l.push(r),e.firstCreatePass&&rl(e).push(o,l.length-1)}(e,n,o,o.destroy),(n[Ye]??=new u0).queries.push(new c0(o))-1}function tC(e,n,r,o){const l=yn();if(l.firstCreatePass){const u=ur();nC(l,new Yw(n,r,o),u.index),function cA(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return Jw(l,ht(),r)}function nC(e,n,r){null===e.queries&&(e.queries=new d0),e.queries.track(new h0(n,r))}function g0(e,n){return e.queries.getByIndex(n)}function rC(e,n){const r=e[Ft],o=g0(r,n);return o.crossesNgTemplate?f0(r,e,n,[]):Zw(r,e,o,n)}function m0(e,n,r){let o;const l=yt(()=>{o._dirtyCounter();const u=function uA(e,n){const r=e._lView,o=e._queryIndex;if(void 0===r||void 0===o||4&r[Dn])return n?void 0:Sr;const l=p0(r,o),u=rC(r,o);return l.reset(u,hy),n?l.first:l._changesDetected||void 0===e._flatValue?e._flatValue=l.toArray():e._flatValue}(o,e);if(n&&void 0===u)throw new Bt(-951,!1);return u});return o=l[J],o._dirtyCounter=Vd(0),o._flatValue=void 0,l}function lC(e,n){return function sC(e){return m0(!0,!1)}()}const hA=(lC.required=function dA(e,n){return function iC(e){return m0(!0,!0)}()},lC);function cC(e,n){const r=Object.create(Zr),o=new rg;function l(){return Ce(r),uC(r.value),r.value}return r.value=e,l[J]=r,l.asReadonly=Fh.bind(l),l.set=u=>{r.equal(r.value,u)||(At(r,u),o.emit(u))},l.update=u=>{uC(r.value),l.set(u(r.value))},l.subscribe=o.subscribe.bind(o),l.destroyRef=o.destroyRef,l}function uC(e){if(e===cs)throw new Bt(952,!1)}function dC(e,n){return cC(e)}const pA=(dC.required=function fA(e){return cC(cs)},dC);class wf{}class mC{}function CA(e,n){return new y0(e,n??null,[])}class y0 extends wf{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ww(this);constructor(n,r,o,l=!0){super(),this.ngModuleType=n,this._parent=r;const u=ms(n);this._bootstrapComponents=ni(u.bootstrap),this._r3Injector=tr(n,r,[{provide:wf,useValue:this},{provide:Lm,useValue:this.componentFactoryResolver},...o],_r(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class v0 extends mC{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new y0(this.moduleType,n,[])}}class yC extends wf{injector;componentFactoryResolver=new Ww(this);instance=null;constructor(n){super();const r=new zo([...n.providers,{provide:wf,useValue:this},{provide:Lm,useValue:this.componentFactoryResolver}],n.parent||Os(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function _0(e,n,r=null){return new yC({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let TA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=H(0,r.type),l=o.length>0?_0([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,l)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=jn({token:e,providedIn:"environment",factory:()=>new e(si(bs))})}return e})();function vC(e){return dn(()=>{const n=DC(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?l=>l.get(TA).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zc.Emulated,styles:e.styles||Sr,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&Za("NgStandalone"),wC(r);const o=e.dependencies;return r.directiveDefs=s_(o,!1),r.pipeDefs=s_(o,!0),r.id=function NA(e){let n=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const u of o.join("|"))n=Math.imul(31,n)+u.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function SA(e){return Mn(e)||ys(e)}function bA(e){return null!==e}function E0(e){return dn(()=>({type:e.type,bootstrap:e.bootstrap||Sr,declarations:e.declarations||Sr,imports:e.imports||Sr,exports:e.exports||Sr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function MA(e,n){if(null==e)return ji;const r={};for(const o in e)if(e.hasOwnProperty(o)){const l=e[o];let u,g,w,T;Array.isArray(l)?(w=l[0],u=l[1],g=l[2]??u,T=l[3]||null):(u=l,g=l,w=gh.None,T=null),r[u]=[o,w,T],n[u]=g}return r}function AA(e){if(null==e)return ji;const n={};for(const r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function _C(e){return dn(()=>{const n=DC(e);return wC(n),n})}function EC(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function DC(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ji,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Sr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MA(e.inputs,n),outputs:AA(e.outputs),debugInfo:null}}function wC(e){e.features?.forEach(n=>n(e))}function s_(e,n){if(!e)return null;const r=n?_s:SA;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(bA)}function D0(e){let n=function CC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let l;if(tn(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Bt(903,!1);l=n.\u0275dir}if(l){if(r){o.push(l);const g=e;g.inputs=w0(e.inputs),g.declaredInputs=w0(e.declaredInputs),g.outputs=w0(e.outputs);const w=l.hostBindings;w&&kA(e,w);const T=l.viewQuery,L=l.contentQueries;if(T&&PA(e,T),L&&FA(e,L),RA(e,l),mo(e.outputs,l.outputs),tn(l)&&l.data.animation){const Q=e.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const u=l.features;if(u)for(let g=0;g<u.length;g++){const w=u[g];w&&w.ngInherit&&w(e),w===D0&&(r=!1)}}n=Object.getPrototypeOf(n)}!function xA(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=ul(l.hostAttrs,r=ul(r,l.hostAttrs))}}(o)}function RA(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r])}}function w0(e){return e===ji?{}:e===Sr?[]:e}function PA(e,n){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{n(o,l),r(o,l)}:n}function FA(e,n){const r=e.contentQueries;e.contentQueries=r?(o,l,u)=>{n(o,l,u),r(o,l,u)}:n}function kA(e,n){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{n(o,l),r(o,l)}:n}function IC(e){const n=r=>{const o=Array.isArray(e);null===r.hostDirectives?(r.findHostDirectiveDefs=TC,r.hostDirectives=o?e.map(C0):[e]):o?r.hostDirectives.unshift(...e.map(C0)):r.hostDirectives.unshift(e)};return n.ngInherit=!0,n}function TC(e,n,r){if(null!==e.hostDirectives)for(const o of e.hostDirectives)if("function"==typeof o){const l=o();for(const u of l)SC(C0(u),n,r)}else SC(o,n,r)}function SC(e,n,r){const o=ys(e.directive);(function BA(e,n){for(const r in n)n.hasOwnProperty(r)&&(e[n[r]]=e[r])})(o.declaredInputs,e.inputs),TC(o,n,r),r.set(o,e),n.push(o)}function C0(e){return"function"==typeof e?{directive:Qe(e),inputs:ji,outputs:ji}:{directive:Qe(e.directive),inputs:bC(e.inputs),outputs:bC(e.outputs)}}function bC(e){if(void 0===e||0===e.length)return ji;const n={};for(let r=0;r<e.length;r+=2)n[e[r]]=e[r+1];return n}function i_(e){return!!I0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function I0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ju(e,n,r){return e[n]=r}function Fo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Cf(e,n,r,o){const l=Fo(e,n,r);return Fo(e,n+1,o)||l}function o_(e,n,r,o,l){const u=Cf(e,n,r,o);return Fo(e,n+2,l)||u}function xc(e,n,r,o,l,u){const g=Cf(e,n,r,o);return Cf(e,n+2,l,u)||g}function Hm(e,n,r,o,l,u,g,w,T,L){const Q=r+Pt,re=n.firstCreatePass?function WA(e,n,r,o,l,u,g,w,T){const L=n.consts,Q=Rp(n,e,4,g||null,w||null);js()&&o0(n,r,Q,Wi(L,T),bd),Q.mergedAttrs=ul(Q.mergedAttrs,Q.attrs),jc(n,Q);const re=Q.tView=_m(2,Q,o,l,u,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L,null);return null!==n.queries&&(n.queries.template(n,Q),re.queries=n.queries.embeddedTView(Q)),Q}(Q,n,e,o,l,u,g,w,T):n.data[Q];ua(re,!1);const De=AC(n,e,re,r);gc()&&Zl(n,e,De,re),$a(De,e);const me=KE(De,e,De,re);return e[Q]=me,Em(e,me),Xw(me,re,e),us(re)&&hf(n,e,re),null!=T&&Cp(e,re,L),re}function T0(e,n,r,o,l,u,g,w){const T=ht(),L=yn();return Hm(T,L,e,n,r,o,l,Wi(L.consts,u),g,w),T0}let AC=function OC(e,n,r,o){return fa(!0),n[Pn].createComment("")};function a_(e,n){const r=n.get(XA);return r.add(e),()=>r.remove(e)}let XA=(()=>{class e{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=nn(Wt);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(r){(this.executingCallbacks?this.deferred:this.current).add(r),null===this.idleId&&this.scheduleIdleCallback()}remove(r){const{current:o,deferred:l}=this;o.delete(r),l.delete(r),0===o.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const r=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const o of this.current)o();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const o of this.deferred)this.current.add(o);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(r))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})();let qA=(()=>{class e{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(r,o){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+r,o),this.scheduleTimer()}remove(r){const{current:o,deferred:l}=this;-1===this.removeFromQueue(o,r)&&this.removeFromQueue(l,r),0===o.length&&0===l.length&&this.clearTimeout()}addToQueue(r,o,l){let u=r.length;for(let g=0;g<r.length;g+=2)if(r[g]>o){u=g;break}Ui(r,u,o,l)}removeFromQueue(r,o){let l=-1;for(let u=0;u<r.length;u+=2)if(r[u+1]===o){l=u;break}return l>-1&&ta(r,l,2),l}scheduleTimer(){const r=()=>{this.clearTimeout(),this.executingCallbacks=!0;const l=[...this.current],u=Date.now();for(let w=0;w<l.length;w+=2){const L=l[w+1];if(!(l[w]<=u))break;L()}let g=-1;for(let w=0;w<this.current.length&&this.current[w]<=u;w+=2)g=w+1;if(g>=0&&ta(this.current,0,g+1),this.executingCallbacks=!1,this.deferred.length>0){for(let w=0;w<this.deferred.length;w+=2)this.addToQueue(this.current,this.deferred[w],this.deferred[w+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const l=Date.now(),u=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-u>16){this.clearTimeout();const g=Math.max(u-l,16);this.invokeTimerAt=u,this.timeoutId=setTimeout(r,g)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})(),YA=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(r,o,l,u){if(!this.cachedInjectors.has(r)){const g=l.length>0?_0(l,o,u):null;this.cachedInjectors.set(r,g)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=jn({token:e,providedIn:"environment",factory:()=>new e})}return e})();const ZA=new Xt("");function S0(e,n,r){return e.get(YA).getOrCreateInjector(n,e,r,"")}function Ih(e,n,r,o=!1){const l=r[Gs],u=l[Ft];if(os(l))return;const g=ya(l,n),T=g[Cg];if(!(null!==T&&e<T)&&PC(g[ql],e)&&PC(g[Xl]??-1,e)){const L=xo(u,n),re=o||null===Gh(L)&&null===rp(L,hi.Loading)&&!rp(L,hi.Placeholder)?RC:b0;try{re(e,g,r,n,l)}catch(De){Cm(l,De)}}}function RC(e,n,r,o,l){R(20);const u=function z_(e,n,r){const l=xo(n[Ft],r);switch(e){case hi.Complete:return l.primaryTmplIndex;case hi.Loading:return l.loadingTmplIndex;case hi.Error:return l.errorTmplIndex;case hi.Placeholder:return l.placeholderTmplIndex;default:return null}}(e,l,o);if(null!==u){n[ql]=e;const g=l[Ft],T=Hn(g,u+Pt),L=0;let Q;if(Qv(r,L),e===hi.Complete){const je=xo(g,o),ft=je.providers;ft&&ft.length>0&&(Q=function JA(e,n,r){if(e instanceof ga){const l=e.injector,g=S0(e.parentInjector,n,r);return new ga(l,g)}const o=e.get(bs);if(o!==e){const l=S0(o,n,r);return new ga(e,l)}return S0(e,n,r)}(l[gr],je,ft))}const{dehydratedView:re,dehydratedViewIx:De}=function eO(e,n){const r=e[Vs]?.findIndex(l=>l.data[$h]===n[ql])??-1;return{dehydratedView:r>-1?e[Vs][r]:null,dehydratedViewIx:r}}(r,n),me=iu(l,T,null,{injector:Q,dehydratedView:re});if(Ef(r,me,L,vh(T,re)),_f(me,2),De>-1&&r[Vs]?.splice(De,1),(e===hi.Complete||e===hi.Error)&&Array.isArray(n[Jd])){for(const je of n[Jd])je();n[Jd]=null}}R(21)}function tO(e,n,r,o,l){const u=Date.now(),w=xo(l[Ft],o);if(null===n[Ou]||n[Ou]<=u){n[Ou]=null;const T=Gh(w),L=null!==n[Kh];if(e!==hi.Loading||null===T||L){e>hi.Loading&&L&&(n[Kh](),n[Kh]=null,n[Xl]=null),RC(e,n,r,o,l);const Q=rp(w,e);null!==Q&&(n[Ou]=u+Q,xC(Q,n,o,r,l))}else{n[Xl]=e;const Q=xC(T,n,o,r,l);n[Kh]=Q}}else n[Xl]=e}function xC(e,n,r,o,l){return function NC(e,n,r){const o=r.get(qA);return o.add(e,n),()=>o.remove(n)}(e,()=>{const g=n[Xl];n[Ou]=null,n[Xl]=null,null!==g&&Ih(g,r,o)},l[gr])}function PC(e,n){return e<n}function Lp(e,n){Ih(hi.Placeholder,n,e[n.index])}function FC(e,n,r){e.loadingPromise.then(()=>{e.loadingState===po.COMPLETE?Ih(hi.Complete,n,r):e.loadingState===po.FAILED&&Ih(hi.Error,n,r)})}let b0=null;function kC(e,n,r,o){const l=e.consts;null!=r&&(n.placeholderBlockConfig=Wi(l,r)),null!=o&&(n.loadingBlockConfig=Wi(l,o)),null===b0&&(b0=tO)}let VC=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const $C="ng";function jO(e,n){!function WC(e,n){if(typeof COMPILED>"u"||!COMPILED){const r=cr;r[$C]??={},r[$C][e]=n}}(e,n)}const KC=new Xt(""),zC=new Xt("");let N0,$O=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(r,o,l){this._ngZone=r,this.registry=o,N0||(function HO(e){N0=e}(l),l.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,l){let u=-1;o&&o>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==u),r()},o)),this._callbacks.push({doneCb:r,timeoutId:u,updateCb:l})}whenStable(r,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,l),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,l){return[]}static \u0275fac=function(o){return new(o||e)(si(Wt),si(GC),si(zC))};static \u0275prov=jn({token:e,factory:e.\u0275fac})}return e})(),GC=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return N0?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),R0=(()=>{class e{static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new QC})}return e})();class QC{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const o=this.queues.get(n.zone);o.has(n)&&(o.delete(n),this.queuedEffectCount--)}enqueue(n){const r=n.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}function x0(e){return!!e&&"function"==typeof e.then}function XC(e){return!!e&&"function"==typeof e.subscribe}const P0=new Xt("");let qC=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=nn(P0,{optional:!0})??[];injector=nn(bn);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const l of this.appInits){const u=Ia(this.injector,l);if(x0(u))r.push(u);else if(XC(u)){const g=new Promise((w,T)=>{u.subscribe({complete:w,error:T})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(l=>{this.reject(l)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Km=new Xt("");function ZC(e,n){return Array.isArray(n)?n.reduce(ZC,e):{...e,...n}}let ec=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=nn(ng);afterRenderManager=nn(Yd);zonelessEnabled=nn(mr);rootEffectScheduler=nn(R0);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new xs.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=nn(d).hasPendingTasks.pipe((0,Yr.T)(r=>!r));constructor(){nn(qc,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:l=>{l&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=nn(bs);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){R(10);const l=r instanceof Pw;if(!this._injector.get(qC).done)throw!l&&or(r),new Bt(405,!1);let g;g=l?r:this._injector.get(Lm).resolveComponentFactory(r),this.componentTypes.push(g.componentType);const w=function WO(e){return e.isBoundToModule}(g)?void 0:this._injector.get(wf),L=g.create(bn.NULL,[],o||g.selector,w),Q=L.location.nativeElement,re=L.injector.get(KC,null);return re?.registerApplication(Q),L.onDestroy(()=>{this.detachView(L.hostView),u_(this.components,L),re?.unregisterApplication(Q)}),this._loadComponent(L),R(11,L),L}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){R(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(_g.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Bt(101,!1);const r=q(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,q(r),this.afterTick.next(),R(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(t0,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)R(14),this.synchronizeOnce(),R(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:l}of this.allViews)zO(o,l,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>oc(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;u_(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Km,[]).forEach(l=>l(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>u_(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Bt(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function u_(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function zO(e,n,r,o){(r||oc(e))&&Am(e,n,r&&!o?0:1)}function nI(e,n){return n[gr].get(ZA,null,{optional:!0})?.behavior!==Tg.Manual}function If(e,n,r){const o=n[Ft],l=n[r.index];if(!nI(0,n))return;const u=ya(n,r),g=xo(o,r);switch(zh(u),g.loadingState){case po.NOT_STARTED:Ih(hi.Loading,r,l),function F0(e,n,r){const o=n[gr],l=n[Ft];if(e.loadingState!==po.NOT_STARTED)return e.loadingPromise??Promise.resolve();const u=ya(n,r),g=function G_(e,n){return Hn(e,n.primaryTmplIndex+Pt)}(l,e);e.loadingState=po.IN_PROGRESS,th(1,u);let w=e.dependencyResolverFn;const T=o.get(d),L=T.add();return w?(e.loadingPromise=Promise.allSettled(w()).then(Q=>{let re=!1;const De=[],me=[];for(const je of Q){if("fulfilled"!==je.status){re=!0;break}{const ft=je.value,Gt=Mn(ft)||ys(ft);if(Gt)De.push(Gt);else{const Qt=_s(ft);Qt&&me.push(Qt)}}}if(e.loadingPromise=null,T.remove(L),re){if(e.loadingState=po.FAILED,null===e.errorTmplIndex){const ft=new Bt(-750,!1);Cm(n,ft)}}else{e.loadingState=po.COMPLETE;const je=g.tView;if(De.length>0){je.directiveRegistry=sp(je.directiveRegistry,De);const Gt=H(!1,...De.map(Qt=>Qt.type));e.providers=Gt}me.length>0&&(je.pipeRegistry=sp(je.pipeRegistry,me))}}),e.loadingPromise):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=po.COMPLETE,T.remove(L)}),e.loadingPromise)}(g,n,r),g.loadingState===po.IN_PROGRESS&&FC(g,r,l);break;case po.IN_PROGRESS:Ih(hi.Loading,r,l),FC(g,r,l);break;case po.COMPLETE:Ih(hi.Complete,r,l);break;case po.FAILED:Ih(hi.Error,r,l)}}function ko(e,n,r){return 0===e?sI(n,r):2!==e||!sI(n,r)}function sI(e,n){const r=e[gr],o=xo(e[Ft],n),l=function Nc(e){return e.get(Ly,!1,{optional:!0})}(r),u=null!==o.flags&&!(1&~o.flags),w=null!==ya(e,n)[Zd];return!(u&&w&&l)}function iI(e,n,r,o,l,u,g,w,T,L){const Q=ht(),re=yn(),De=e+Pt,me=Hm(Q,re,e,null,0,0),je=Q[gr];if(re.firstCreatePass){Za("NgDefer");const Ys={primaryTmplIndex:n,loadingTmplIndex:o??null,placeholderTmplIndex:l??null,errorTmplIndex:u??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:r??null,loadingState:po.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:L??0};T?.(re,Ys,w,g),function Hy(e,n,r){const o=Nu(n);e.data[o]=r}(re,De,Ys)}const ft=Q[De];Xw(ft,me,Q);let Gt=null,Qt=null;if(ft[Vs]?.length>0){const Ys=ft[Vs][0].data;Qt=Ys[Xf]??null,Gt=Ys[$h]}const Mt=[null,Ql.Initial,null,null,null,null,Qt,Gt,null,null];!function Sg(e,n,r){e[Nu(n)]=r}(Q,De,Mt);let Ar=null;null!==Qt&&(Ar=je.get(Oc),Ar.add(Qt,{lView:Q,tNode:me,lContainer:ft}));const pi=()=>{zh(Mt),null!==Qt&&Ar?.cleanup([Qt])};eh(0,Mt,()=>lc(Q,pi)),Vc(Q,pi)}function oI(){ko(0,ht(),ur())&&function JC(e){const n=ht(),r=ur();if(Lp(n,r),!nI(0,n))return;const o=n[gr];eh(0,ya(n,r),e(()=>If(0,n,r),o))}(a_)}function aI(e,n){const r=ht(),o=ur();ko(0,r,o)&&(Lp(r,o),Ru(r,o,e,n,fd,()=>If(0,r,o),0))}function V0(e,n,r,o){const l=ht();return Fo(l,ro(),n)&&(yn(),su(hn(),l,e,n,r,o)),V0}function Bp(e,n,r,o){return Fo(e,ro(),r)?n+ct(r)+o:yr}function jp(e,n,r,o,l,u){const w=Cf(e,da(),r,l);return Oa(2),w?n+ct(r)+o+ct(l)+u:yr}function $p(e,n,r,o,l,u,g,w){const L=o_(e,da(),r,l,g);return Oa(3),L?n+ct(r)+o+ct(l)+u+ct(g)+w:yr}function d_(e,n){return e<<17|n<<2}function bh(e){return e>>17&32767}function U0(e){return 2|e}function Tf(e){return(131068&e)>>2}function B0(e,n){return-131069&e|n<<2}function j0(e){return 1|e}function yI(e,n,r,o){const l=e[r+1],u=null===n;let g=o?bh(l):Tf(l),w=!1;for(;0!==g&&(!1===w||u);){const L=e[g+1];AN(e[g],n)&&(w=!0,e[g+1]=o?j0(L):U0(L)),g=o?bh(L):Tf(L)}w&&(e[r+1]=o?U0(l):j0(l))}function AN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ci(e,n)>=0}const _a={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vI(e){return e.substring(_a.key,_a.keyEnd)}function ON(e){return e.substring(_a.value,_a.valueEnd)}function _I(e,n){const r=_a.textEnd;return r===n?-1:(n=_a.keyEnd=function xN(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}(e,_a.key=n,r),Qp(e,n,r))}function EI(e,n){const r=_a.textEnd;let o=_a.key=Qp(e,n,r);return r===o?-1:(o=_a.keyEnd=function PN(e,n,r){let o;for(;n<r&&(45===(o=e.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(e,o,r),o=wI(e,o,r),o=_a.value=Qp(e,o,r),o=_a.valueEnd=function FN(e,n,r){let o=-1,l=-1,u=-1,g=n,w=g;for(;g<r;){const T=e.charCodeAt(g++);if(59===T)return w;34===T||39===T?w=g=CI(e,T,g,r):n===g-4&&85===u&&82===l&&76===o&&40===T?w=g=CI(e,41,g,r):T>32&&(w=g),u=l,l=o,o=-33&T}return w}(e,o,r),wI(e,o,r))}function DI(e){_a.key=0,_a.keyEnd=0,_a.value=0,_a.valueEnd=0,_a.textEnd=e.length}function Qp(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function wI(e,n,r,o){return(n=Qp(e,n,r))<r&&n++,n}function CI(e,n,r,o){let l=-1,u=r;for(;u<o;){const g=e.charCodeAt(u++);if(g==n&&92!==l)return u;l=92==g&&92===l?0:g}throw new Error}function $0(e,n,r){const o=ht();return Fo(o,ro(),n)&&Yo(yn(),hn(),o,e,n,o[Pn],r,!1),$0}function H0(e,n,r,o,l){yh(n,e,r,l?"class":"style",o)}function W0(e,n,r){return uu(e,n,r,!1),W0}function K0(e,n){return uu(e,n,null,!0),K0}function cu(e){du(bI,kN,e,!1)}function kN(e,n){for(let r=function RN(e){return DI(e),EI(e,Qp(e,0,_a.textEnd))}(n);r>=0;r=EI(n,r))bI(e,vI(n),ON(n))}function II(e){du($N,$u,e,!0)}function $u(e,n){for(let r=function NN(e){return DI(e),_I(e,Qp(e,0,_a.textEnd))}(n);r>=0;r=_I(n,r))li(e,vI(n),!0)}function uu(e,n,r,o){const l=ht(),u=yn(),g=Oa(2);u.firstUpdatePass&&SI(u,e,g,o),n!==yr&&Fo(l,g,n)&&MI(u,u.data[Ri()],l,l[Pn],e,l[g+1]=function WN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=_r(Jc(e)))),e}(n,r),o,g)}function du(e,n,r,o){const l=yn(),u=Oa(2);l.firstUpdatePass&&SI(l,null,u,o);const g=ht();if(r!==yr&&Fo(g,u,r)){const w=l.data[Ri()];if(OI(w,o)&&!TI(l,u)){let T=o?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(r=zs(T,r||"")),H0(l,w,g,r,o)}else!function HN(e,n,r,o,l,u,g,w){l===yr&&(l=Sr);let T=0,L=0,Q=0<l.length?l[0]:null,re=0<u.length?u[0]:null;for(;null!==Q||null!==re;){const De=T<l.length?l[T+1]:void 0,me=L<u.length?u[L+1]:void 0;let ft,je=null;Q===re?(T+=2,L+=2,De!==me&&(je=re,ft=me)):null===re||null!==Q&&Q<re?(T+=2,je=Q):(L+=2,je=re,ft=me),null!==je&&MI(e,n,r,o,je,ft,g,w),Q=T<l.length?l[T]:null,re=L<u.length?u[L]:null}}(l,w,g,g[Pn],g[u+1],g[u+1]=function jN(e,n,r){if(null==r||""===r)return Sr;const o=[],l=Jc(r);if(Array.isArray(l))for(let u=0;u<l.length;u++)e(o,l[u],!0);else if("object"==typeof l)for(const u in l)l.hasOwnProperty(u)&&e(o,u,l[u]);else"string"==typeof l&&n(o,l);return o}(e,n,r),o,u)}}function TI(e,n){return n>=e.expandoStartIndex}function SI(e,n,r,o){const l=e.data;if(null===l[r+1]){const u=l[Ri()],g=TI(e,r);OI(u,o)&&null===n&&!g&&(n=!1),n=function LN(e,n,r,o){const l=hc(e);let u=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(r=Gm(r=z0(null,e,n,r,o),n.attrs,o),u=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==l)if(r=z0(l,e,n,r,o),null===u){let T=function VN(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Tf(o))return e[bh(o)]}(e,n,o);void 0!==T&&Array.isArray(T)&&(T=z0(null,e,n,T[1],o),T=Gm(T,n.attrs,o),function UN(e,n,r,o){e[bh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,T))}else u=function BN(e,n,r){let o;const l=n.directiveEnd;for(let u=1+n.directiveStylingLast;u<l;u++)o=Gm(o,e[u].hostAttrs,r);return Gm(o,n.attrs,r)}(e,n,o)}return void 0!==u&&(o?n.residualClasses=u:n.residualStyles=u),r}(l,u,n,o),function bN(e,n,r,o,l,u){let g=u?n.classBindings:n.styleBindings,w=bh(g),T=Tf(g);e[o]=r;let Q,L=!1;if(Array.isArray(r)?(Q=r[1],(null===Q||ci(r,Q)>0)&&(L=!0)):Q=r,l)if(0!==T){const De=bh(e[w+1]);e[o+1]=d_(De,w),0!==De&&(e[De+1]=B0(e[De+1],o)),e[w+1]=function TN(e,n){return 131071&e|n<<17}(e[w+1],o)}else e[o+1]=d_(w,0),0!==w&&(e[w+1]=B0(e[w+1],o)),w=o;else e[o+1]=d_(T,0),0===w?w=o:e[T+1]=B0(e[T+1],o),T=o;L&&(e[o+1]=U0(e[o+1])),yI(e,Q,o,!0),yI(e,Q,o,!1),function MN(e,n,r,o,l){const u=l?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof n&&ci(u,n)>=0&&(r[o+1]=j0(r[o+1]))}(n,Q,e,o,u),g=d_(w,T),u?n.classBindings=g:n.styleBindings=g}(l,u,n,r,g,o)}}function z0(e,n,r,o,l){let u=null;const g=r.directiveEnd;let w=r.directiveStylingLast;for(-1===w?w=r.directiveStart:w++;w<g&&(u=n[w],o=Gm(o,u.hostAttrs,l),u!==e);)w++;return null!==e&&(r.directiveStylingLast=w),o}function Gm(e,n,r){const o=r?1:2;let l=-1;if(null!==n)for(let u=0;u<n.length;u++){const g=n[u];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),li(e,g,!!r||n[++u]))}return void 0===e?null:e}function bI(e,n,r){li(e,n,Jc(r))}function $N(e,n,r){const o=String(n);""!==o&&!o.includes(" ")&&li(e,o,r)}function MI(e,n,r,o,l,u,g,w){if(!(3&n.type))return;const T=e.data,L=T[w+1],Q=function SN(e){return!(1&~e)}(L)?AI(T,n,r,l,Tf(L),g):void 0;h_(Q)||(h_(u)||function IN(e){return!(2&~e)}(L)&&(u=AI(T,null,r,l,w,g)),function RE(e,n,r,o,l){if(n)l?e.addClass(r,o):e.removeClass(r,o);else{let u=-1===o.indexOf("-")?void 0:mf.DashCase;null==l?e.removeStyle(r,o,u):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),u|=mf.Important),e.setStyle(r,o,l,u))}}(o,g,We(Ri(),r),l,u))}function AI(e,n,r,o,l,u){const g=null===n;let w;for(;l>0;){const T=e[l],L=Array.isArray(T),Q=L?T[1]:T,re=null===Q;let De=r[l+1];De===yr&&(De=re?Sr:void 0);let me=re?Bi(De,o):Q===o?De:void 0;if(L&&!h_(me)&&(me=Bi(T,o)),h_(me)&&(w=me,g))return w;const je=e[l+1];l=g?bh(je):Tf(je)}if(null!==n){let T=u?n.residualClasses:n.residualStyles;null!=T&&(w=Bi(T,o))}return w}function h_(e){return void 0!==e}function OI(e,n){return!!(e.flags&(n?8:16))}function NI(e,n,r){du(li,$u,Bp(ht(),e,n,r),!0)}function RI(e,n,r,o,l){du(li,$u,jp(ht(),e,n,r,o,l),!0)}function xI(e,n,r,o,l,u,g){du(li,$u,$p(ht(),e,n,r,o,l,u,g),!0)}class ZN{destroy(n){}updateValue(n,r){}swap(n,r){const o=Math.min(n,r),l=Math.max(n,r),u=this.detach(l);if(l-o>1){const g=this.detach(o);this.attach(o,u),this.attach(l,g)}else this.attach(o,u)}move(n,r){this.attach(r,this.detach(n))}}function G0(e,n,r,o,l){return e===r&&Object.is(n,o)?1:Object.is(l(e,n),l(r,o))?-1:0}function Q0(e,n,r,o){return!(void 0===n||!n.has(o)||(e.attach(r,n.get(o)),n.delete(o),0))}function PI(e,n,r,o,l){if(Q0(e,n,o,r(o,l)))e.updateValue(o,l);else{const u=e.create(o,l);e.attach(o,u)}}function FI(e,n,r,o){const l=new Set;for(let u=n;u<=r;u++)l.add(o(u,e.at(u)));return l}class kI{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const r=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(n,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,r){if(this.kvMap.has(n)){let o=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(o);)o=l.get(o);l.set(o,r)}else this.kvMap.set(n,r)}forEach(n){for(let[r,o]of this.kvMap)if(n(o,r),void 0!==this._vMap){const l=this._vMap;for(;l.has(o);)o=l.get(o),n(o,r)}}}function LI(e,n){Za("NgControlFlow");const r=ht(),o=ro(),l=r[o]!==yr?r[o]:-1,u=-1!==l?f_(r,Pt+l):void 0;if(Fo(r,o,e)){const w=q(null);try{if(void 0!==u&&Qv(u,0),-1!==e){const T=Pt+e,L=f_(r,T),Q=X0(r[Ft],T),re=Pp(L,Q.tView.ssrId);Ef(L,iu(r,Q,n,{dehydratedView:re}),0,vh(Q,re))}}finally{q(w)}}else if(void 0!==u){const w=zE(u,0);void 0!==w&&(w[Cr]=n)}}class eR{lContainer;$implicit;$index;constructor(n,r,o){this.lContainer=n,this.$implicit=r,this.$index=o}get $count(){return this.lContainer.length-ns}}function VI(e){return e}function UI(e,n){return n}class tR{hasEmptyBlock;trackByFn;liveCollection;constructor(n,r,o){this.hasEmptyBlock=n,this.trackByFn=r,this.liveCollection=o}}function BI(e,n,r,o,l,u,g,w,T,L,Q,re,De){Za("NgControlFlow");const me=ht(),je=yn(),ft=void 0!==T,Gt=ht(),Qt=w?g.bind(Gt[F][Cr]):g,Mt=new tR(ft,Qt);Gt[Pt+e]=Mt,Hm(me,je,e+1,n,r,o,l,Wi(je.consts,u)),ft&&Hm(me,je,e+2,T,L,Q,re,Wi(je.consts,De))}class nR extends ZN{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,r,o){super(),this.lContainer=n,this.hostLView=r,this.templateTNode=o}get length(){return this.lContainer.length-ns}at(n){return this.getLView(n)[Cr].$implicit}attach(n,r){const o=r[Zi];this.needsIndexUpdate||=n!==this.length,Ef(this.lContainer,r,n,vh(this.templateTNode,o))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function rR(e,n){return Np(e,n)}(this.lContainer,n)}create(n,r){const o=Pp(this.lContainer,this.templateTNode.tView.ssrId),l=iu(this.hostLView,this.templateTNode,new eR(this.lContainer,r,n),{dehydratedView:o});return this.operationsCounter?.recordCreate(),l}destroy(n){Ap(n[Ft],n),this.operationsCounter?.recordDestroy()}updateValue(n,r){this.getLView(n)[Cr].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Cr].$index=n}getLView(n){return function sR(e,n){return zE(e,n)}(this.lContainer,n)}}function jI(e){const n=q(null),r=Ri();try{const o=ht(),l=o[Ft],u=o[r],g=r+1,w=f_(o,g);if(void 0===u.liveCollection){const L=X0(l,g);u.liveCollection=new nR(w,o,L)}else u.liveCollection.reset();const T=u.liveCollection;if(function JN(e,n,r){let o,l,u=0,g=e.length-1;if(Array.isArray(n)){let T=n.length-1;for(;u<=g&&u<=T;){const L=e.at(u),Q=n[u],re=G0(u,L,u,Q,r);if(0!==re){re<0&&e.updateValue(u,Q),u++;continue}const De=e.at(g),me=n[T],je=G0(g,De,T,me,r);if(0!==je){je<0&&e.updateValue(g,me),g--,T--;continue}const ft=r(u,L),Gt=r(g,De),Qt=r(u,Q);if(Object.is(Qt,Gt)){const Mt=r(T,me);Object.is(Mt,ft)?(e.swap(u,g),e.updateValue(g,me),T--,g--):e.move(g,u),e.updateValue(u,Q),u++}else if(o??=new kI,l??=FI(e,u,g,r),Q0(e,o,u,Qt))e.updateValue(u,Q),u++,g++;else if(l.has(Qt))o.set(ft,e.detach(u)),g--;else{const Mt=e.create(u,n[u]);e.attach(u,Mt),u++,g++}}for(;u<=T;)PI(e,o,r,u,n[u]),u++}else if(null!=n){const T=n[Symbol.iterator]();let L=T.next();for(;!L.done&&u<=g;){const Q=e.at(u),re=L.value,De=G0(u,Q,u,re,r);if(0!==De)De<0&&e.updateValue(u,re),u++,L=T.next();else{o??=new kI,l??=FI(e,u,g,r);const me=r(u,re);if(Q0(e,o,u,me))e.updateValue(u,re),u++,g++,L=T.next();else if(l.has(me)){const je=r(u,Q);o.set(je,e.detach(u)),g--}else e.attach(u,e.create(u,re)),u++,g++,L=T.next()}}for(;!L.done;)PI(e,o,r,e.length,L.value),L=T.next()}for(;u<=g;)e.destroy(e.detach(g--));o?.forEach(T=>{e.destroy(T)})}(T,e,u.trackByFn),T.updateIndexes(),u.hasEmptyBlock){const L=ro(),Q=0===T.length;if(Fo(o,L,Q)){const re=r+2,De=f_(o,re);if(Q){const me=X0(l,re),je=Pp(De,me.tView.ssrId);Ef(De,iu(o,me,void 0,{dehydratedView:je}),0,vh(me,je))}else Qv(De,0)}}}finally{q(n)}}function f_(e,n){return e[n]}function X0(e,n){return Hn(e,n)}function p_(e,n,r,o){const l=ht(),u=yn(),g=Pt+e,w=l[Pn],T=u.firstCreatePass?$w(g,u,l,n,bd,js(),r,o):u.data[g],L=$I(u,l,T,w,n,e);l[g]=L;const Q=us(T);return ua(T,!0),lf(w,L,T),!ou(T)&&gc()&&Zl(u,l,L,T),(0===function Bs(){return Qn.lFrame.elementDepthCount}()||Q)&&$a(L,l),function gl(){Qn.lFrame.elementDepthCount++}(),Q&&(hf(u,l,T),jg(u,T,l)),null!==o&&Cp(l,T),p_}function g_(){let e=ur();il()?no():(e=e.parent,ua(e,!1));const n=e;(function cc(e){return Qn.skipHydrationRootTNode===e})(n)&&function to(){Qn.skipHydrationRootTNode=null}(),function eo(){Qn.lFrame.elementDepthCount--}();const r=yn();return r.firstCreatePass&&Hw(r,n),null!=n.classesWithoutHost&&function $c(e){return!!(8&e.flags)}(n)&&H0(r,n,ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Co(e){return!!(16&e.flags)}(n)&&H0(r,n,ht(),n.stylesWithoutHost,!1),g_}function q0(e,n,r,o){return p_(e,n,r,o),g_(),q0}let $I=(e,n,r,o,l,u)=>(fa(!0),Rc(o,l,function Fd(){return Qn.lFrame.currentNamespace}()));function m_(e,n,r){const o=ht(),l=yn(),u=e+Pt,g=l.firstCreatePass?function aR(e,n,r,o,l){const u=n.consts,g=Wi(u,o),w=Rp(n,e,8,"ng-container",g);null!==g&&s0(w,g,!0);const T=Wi(u,l);return js()&&o0(n,r,w,T,bd),w.mergedAttrs=ul(w.mergedAttrs,w.attrs),null!==n.queries&&n.queries.elementStart(n,w),w}(u,l,o,n,r):l.data[u];ua(g,!0);const w=HI(l,o,g,e);return o[u]=w,gc()&&Zl(l,o,w,g),$a(w,o),us(g)&&(hf(l,o,g),jg(l,g,o)),null!=r&&Cp(o,g),m_}function y_(){let e=ur();const n=yn();return il()?no():(e=e.parent,ua(e,!1)),n.firstCreatePass&&(jc(n,e),Bo(e)&&n.queries.elementEnd(e)),y_}function Y0(e,n,r){return m_(e,n,r),y_(),Y0}let HI=(e,n,r,o)=>(fa(!0),ru(n[Pn],""));function WI(){return ht()}function Z0(e,n,r){const o=ht();return Fo(o,ro(),n)&&Yo(yn(),hn(),o,e,n,o[Pn],r,!0),Z0}function J0(e,n,r){const o=ht();if(Fo(o,ro(),n)){const u=yn(),g=hn();Yo(u,g,o,e,n,Sp(hc(u.data),g,o),r,!0)}return J0}const Sf=void 0;var dR=["en",[["a","p"],["AM","PM"],Sf],[["AM","PM"],Sf,Sf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sf,"{1} 'at' {0}",Sf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uR(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Xp={};function hR(e,n,r){"string"!=typeof n&&(r=n,n=e[qp.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Xp[n]=e,r&&(Xp[n][qp.ExtraData]=r)}function eD(e){const n=function pR(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=zI(n);if(r)return r;const o=n.split("-")[0];if(r=zI(o),r)return r;if("en"===o)return dR;throw new Bt(701,!1)}function fR(e){return eD(e)[qp.CurrencyCode]||null}function KI(e){return eD(e)[qp.PluralCase]}function zI(e){return e in Xp||(Xp[e]=cr.ng&&cr.ng.common&&cr.ng.common.locales&&cr.ng.common.locales[e]),Xp[e]}var qp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(qp||{});const v_="en-US";let GI=v_,dT=(e,n,r)=>{};function rD(e,n,r,o){const l=ht(),u=yn(),g=ur();return sD(u,l,l[Pn],g,e,n,o),rD}function sD(e,n,r,o,l,u,g){const w=us(o),L=e.firstCreatePass?rl(e):null,Q=n[Cr],re=Uc(n);let De=!0;if(3&o.type||g){const me=$t(o,n),je=g?g(me):me,ft=re.length,Gt=g?Mt=>g(pe(Mt[o.index])):o.index;let Qt=null;if(!g&&w&&(Qt=function nx(e,n,r,o){const l=e.cleanup;if(null!=l)for(let u=0;u<l.length-1;u+=2){const g=l[u];if(g===r&&l[u+1]===o){const w=n[is],T=l[u+2];return w.length>T?w[T]:null}"string"==typeof g&&(u+=2)}return null}(e,n,l,o.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=u,Qt.__ngLastListenerFn__=u,De=!1;else{u=mT(o,n,Q,u),dT(me,l,u);const Mt=r.listen(je,l,u);re.push(u,Mt),L&&L.push(l,Gt,ft,ft+1)}}else u=mT(o,n,Q,u);if(De){const me=o.outputs?.[l],je=o.hostDirectiveOutputs?.[l];if(je&&je.length)for(let ft=0;ft<je.length;ft+=2)pT(o,e,n,je[ft],je[ft+1],l,u,re,L);if(me&&me.length)for(const ft of me)pT(o,e,n,ft,l,l,u,re,L)}}function pT(e,n,r,o,l,u,g,w,T){const me=r[o][n.data[o].outputs[l]].subscribe(g),je=w.length;w.push(g,me),T&&T.push(u,e.index,je,-(je+1))}function gT(e,n,r,o){const l=q(null);try{return R(6,n,r),!1!==r(o)}catch(u){return Cm(e,u),!1}finally{R(7,n,r),q(l)}}function mT(e,n,r,o){return function l(u){if(u===Function)return o;_f(Us(e)?Xs(e.index,n):n,5);let w=gT(n,r,o,u),T=l.__ngNextListenerFn__;for(;T;)w=gT(n,r,T,u)&&w,T=T.__ngNextListenerFn__;return w}}function yT(e=1){return function Bl(e){return(Qn.lFrame.contextLView=xd(e,Qn.lFrame.contextLView))[Cr]}(e)}function rx(e,n){let r=null;const o=function bv(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let l=0;l<n.length;l++){const u=n[l];if("*"!==u){if(null===o?TE(e,u,!0):ew(o,u))return l}else r=l}return r}function vT(e){const n=ht()[F][Ms];if(!n.projection){const o=n.projection=function ai(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),l=o.slice();let u=n.child;for(;null!==u;){if(128!==u.type){const g=e?rx(u,e):0;null!==g&&(l[g]?l[g].projectionNext=u:o[g]=u,l[g]=u)}u=u.next}}}function _T(e,n=0,r,o,l,u){const g=ht(),w=yn(),T=o?e+1:null;null!==T&&Hm(g,w,T,o,l,u,null,r);const L=Rp(w,Pt+e,16,null,r||null);null===L.projection&&(L.projection=n),no();const re=!g[Zi]||ml();null===g[F][Ms].projection[L.projection]&&null!==T?function sx(e,n,r){const o=Pt+r,l=n.data[o],u=e[o],g=Pp(u,l.tView.ssrId);Ef(u,iu(e,l,void 0,{dehydratedView:g}),0,vh(l,g))}(g,w,T):re&&!ou(L)&&function uw(e,n,r){Wv(n[Pn],0,n,r,au(e,r,n),vf(r.parent||n[Ms],r,n))}(w,g,L)}function iD(e,n,r){return w_(e,"",n,"",r),iD}function w_(e,n,r,o,l){const u=ht(),g=Bp(u,n,r,o);return g!==yr&&Yo(yn(),hn(),u,e,g,u[Pn],l,!1),w_}function MT(e,n,r,o){tC(e,n,r,o)}function AT(e,n,r){!function eC(e,n,r){const o=yn();return o.firstCreatePass&&(nC(o,new Yw(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),Jw(o,ht(),n)}(e,n,r)}function OT(e){const n=ht(),r=yn(),o=fc();_u(o+1);const l=g0(r,o);if(e.dirty&&function Oi(e){return!(4&~e[Dn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const u=rC(n,o);e.reset(u,hy),e.notifyOnChanges()}return!0}return!1}function NT(){return p0(ht(),fc())}function RT(e,n,r,o,l){!function aC(e,n){const r=e[J];r._lView=ht(),r._queryIndex=n,r._queryList=p0(r._lView,n),r._queryList.onDirty(()=>r._dirtyCounter.update(o=>o+1))}(n,tC(e,r,o,l))}function xT(e=1){_u(fc()+e)}function oD(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}function PT(e){return Xr(uc(),Pt+e)}function FT(e,n,r){cu(Bp(ht(),e,n,r))}function KT(e,n=""){const r=ht(),o=yn(),l=e+Pt,u=o.firstCreatePass?Rp(o,l,1,n,null):o.data[l],g=zT(o,r,u,n,e);r[l]=g,gc()&&Zl(o,r,g,u),ua(u,!1)}let zT=(e,n,r,o,l)=>(fa(!0),function Td(e,n){return e.createText(n)}(n[Pn],o));function aD(e){return C_("",e,""),aD}function C_(e,n,r){const o=ht(),l=Bp(o,e,n,r);return l!==yr&&Nd(o,Ri(),l),C_}function lD(e,n,r,o,l){const u=ht(),g=jp(u,e,n,r,o,l);return g!==yr&&Nd(u,Ri(),g),lD}function cD(e,n,r,o,l,u,g){const w=ht(),T=$p(w,e,n,r,o,l,u,g);return T!==yr&&Nd(w,Ri(),T),cD}function uD(e,n,r,o,l,u,g,w,T){const L=ht(),Q=function Hp(e,n,r,o,l,u,g,w,T,L){const re=xc(e,da(),r,l,g,T);return Oa(4),re?n+ct(r)+o+ct(l)+u+ct(g)+w+ct(T)+L:yr}(L,e,n,r,o,l,u,g,w,T);return Q!==yr&&Nd(L,Ri(),Q),uD}function dD(e,n,r,o,l,u,g,w,T,L,Q,re,De){const me=ht(),je=function Kp(e,n,r,o,l,u,g,w,T,L,Q,re,De,me){const je=da();let ft=xc(e,je,r,l,g,T);return ft=Cf(e,je+4,Q,De)||ft,Oa(6),ft?n+ct(r)+o+ct(l)+u+ct(g)+w+ct(T)+L+ct(Q)+re+ct(De)+me:yr}(me,e,n,r,o,l,u,g,w,T,L,Q,re,De);return je!==yr&&Nd(me,Ri(),je),dD}function Nd(e,n,r){const o=We(n,e);!function Mv(e,n,r){e.setValue(n,r)}(e[Pn],o,r)}function hD(e,n,r){Ff(n)&&(n=n());const o=ht();return Fo(o,ro(),n)&&Yo(yn(),hn(),o,e,n,o[Pn],r,!1),hD}function YT(e,n){const r=Ff(e);return r&&e.set(n),r}function fD(e,n){const r=ht(),o=yn(),l=ur();return sD(o,r,r[Pn],l,e,n),fD}const ZT={};function pD(e){const n=yn(),r=ht(),o=e+Pt;return ua(Rp(n,o,128,null,null),!1),oD(n,r,o,ZT),pD}function JT(e){return Za("NgLet"),oD(yn(),ht(),Ri(),e),e}function eS(e){const r=Xr(uc(),Pt+e);if(r===ZT)throw new Bt(314,!1);return r}function gD(e,n,r,o,l){if(e=Qe(e),Array.isArray(e))for(let u=0;u<e.length;u++)gD(e[u],n,r,o,l);else{const u=yn(),g=ht(),w=ur();let T=wi(e)?e:Qe(e.provide);const L=$i(e),Q=1048575&w.providerIndexes,re=w.directiveStart,De=w.providerIndexes>>20;if(wi(e)||!e.multi){const me=new Cl(L,l,Fp),je=yD(T,n,l?Q:Q+De,re);-1===je?(Wc(bu(w,g),u,T),mD(u,e,n.length),n.push(T),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),r.push(me),g.push(me)):(r[je]=me,g[je]=me)}else{const me=yD(T,n,Q+De,re),je=yD(T,n,Q,Q+De),Gt=je>=0&&r[je];if(l&&!Gt||!l&&!(me>=0&&r[me])){Wc(bu(w,g),u,T);const Qt=function Ex(e,n,r,o,l){const u=new Cl(e,r,Fp);return u.multi=[],u.index=n,u.componentProviders=0,tS(u,l,o&&!r),u}(l?_x:vx,r.length,l,o,L);!l&&Gt&&(r[je].providerFactory=Qt),mD(u,e,n.length,0),n.push(T),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),r.push(Qt),g.push(Qt)}else mD(u,e,me>-1?me:je,tS(r[l?je:me],L,!l&&o));!l&&o&&Gt&&r[je].componentProviders++}}}function mD(e,n,r,o){const l=wi(n),u=function qi(e){return!!e.useClass}(n);if(l||u){const T=(u?Qe(n.useClass):n).prototype.ngOnDestroy;if(T){const L=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const Q=L.indexOf(r);-1===Q?L.push(r,[o,T]):L[Q+1].push(o,T)}else L.push(r,T)}}}function tS(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function yD(e,n,r,o){for(let l=r;l<o;l++)if(n[l]===e)return l;return-1}function vx(e,n,r,o){return vD(this.multi,[])}function _x(e,n,r,o){const l=this.multi;let u;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=zc(r,r[Ft],this.providerFactory.index,o);u=w.slice(0,g),vD(l,u);for(let T=g;T<w.length;T++)u.push(w[T])}else u=[],vD(l,u);return u}function vD(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function nS(e,n=[]){return r=>{r.providersResolver=(o,l)=>function yx(e,n,r){const o=yn();if(o.firstCreatePass){const l=tn(e);gD(r,o.data,o.blueprint,l,!0),gD(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}function rS(e,n,r){const o=e.\u0275cmp;o.directiveDefs=s_(n,!1),o.pipeDefs=s_(r,!0)}function iS(e,n,r){const o=Ni()+e,l=ht();return l[o]===yr?ju(l,o,r?n.call(r):n()):function $m(e,n){return e[n]}(l,o)}function oS(e,n,r,o){return uS(ht(),Ni(),e,n,r,o)}function aS(e,n,r,o,l){return dS(ht(),Ni(),e,n,r,o,l)}function lS(e,n,r,o,l,u){return function hS(e,n,r,o,l,u,g,w){const T=n+r;return o_(e,T,l,u,g)?ju(e,T+3,w?o.call(w,l,u,g):o(l,u,g)):Jm(e,T+3)}(ht(),Ni(),e,n,r,o,l,u)}function cS(e,n,r,o,l,u,g){return function fS(e,n,r,o,l,u,g,w,T){const L=n+r;return xc(e,L,l,u,g,w)?ju(e,L+4,T?o.call(T,l,u,g,w):o(l,u,g,w)):Jm(e,L+4)}(ht(),Ni(),e,n,r,o,l,u,g)}function Jm(e,n){const r=e[n];return r===yr?void 0:r}function uS(e,n,r,o,l,u){const g=n+r;return Fo(e,g,l)?ju(e,g+1,u?o.call(u,l):o(l)):Jm(e,g+1)}function dS(e,n,r,o,l,u,g){const w=n+r;return Cf(e,w,l,u)?ju(e,w+2,g?o.call(g,l,u):o(l,u)):Jm(e,w+2)}function gS(e,n){const r=yn();let o;const l=e+Pt;r.firstCreatePass?(o=function Mx(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[l]=o,o.onDestroy&&(r.destroyHooks??=[]).push(l,o.onDestroy)):o=r.data[l];const u=o.factory||(o.factory=Js(o.type)),w=Dr(Fp);try{const T=Tl(!1),L=u();return Tl(T),oD(r,ht(),l,L),L}finally{Dr(w)}}function mS(e,n,r){const o=e+Pt,l=ht(),u=Xr(l,o);return ey(l,o)?uS(l,Ni(),n,u.transform,r,u):u.transform(r)}function yS(e,n,r,o){const l=e+Pt,u=ht(),g=Xr(u,l);return ey(u,l)?dS(u,Ni(),n,g.transform,r,o,g):g.transform(r,o)}function ey(e,n){return e[Ft].data[n].pure}function vS(e,n){return m(e,n)}class FS{full;major;minor;patch;constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const iP=new FS("19.2.0");class oP{ngModuleFactory;componentFactories;constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let aP=(()=>{class e{compileModuleSync(r){return new v0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),u=ni(ms(r).declarations).reduce((g,w)=>{const T=Mn(w);return T&&g.push(new Bm(T)),g},[]);return new oP(o,u)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uP=(()=>{class e{zone=nn(Wt);changeDetectionScheduler=nn($r);applicationRef=nn(ec);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CD({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new Wt({...ID(),scheduleInRootZone:r}),[{provide:Wt,useFactory:e},{provide:ks,multi:!0,useFactory:()=>{const o=nn(uP,{optional:!0});return()=>o.initialize()}},{provide:ks,multi:!0,useFactory:()=>{const o=nn(hP);return()=>{o.initialize()}}},!0===n?{provide:p,useValue:!0}:[],{provide:h,useValue:r??vs}]}function ID(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let hP=(()=>{class e{subscription=new hs.yU;initialized=!1;zone=nn(Wt);pendingTasks=nn(d);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ny=(()=>{class e{appRef=nn(ec);taskService=nn(d);ngZone=nn(Wt);zonelessEnabled=nn(mr);tracing=nn(qc,{optional:!0});disableScheduling=nn(p,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new hs.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gt):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(nn(h,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const l=this.useMicrotaskScheduler?Ee:ae;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gt+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ee(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const SD=new Xt("",{providedIn:"root",factory:()=>nn(SD,xn.Optional|xn.SkipSelf)||function fP(){return typeof $localize<"u"&&$localize.locale||v_}()}),pP=new Xt("",{providedIn:"root",factory:()=>"USD"}),b_=new Xt(""),_P=new Xt("");function ry(e){return!e.moduleRef}let jS=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(r){this._injector=r}bootstrapModuleFactory(r,o){const l=o?.scheduleInRootZone,g=o?.ignoreChangesOutsideZone,w=[CD({ngZoneFactory:()=>function U_(e="zone.js",n){return"noop"===e?new Jp:"zone.js"===e?new Wt(n):e}(o?.ngZone,{...ID({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:l}),ignoreChangesOutsideZone:g}),{provide:$r,useExisting:ny}],T=function IA(e,n,r){return new y0(e,n,r,!1)}(r.moduleType,this.injector,w);return function BS(e){const n=ry(e)?e.r3Injector:e.moduleRef.injector,r=n.get(Wt);return r.run(()=>{ry(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(ti,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:u=>{o.handleError(u)}})}),ry(e)){const u=()=>n.destroy(),g=e.platformInjector.get(b_);g.add(u),n.onDestroy(()=>{l.unsubscribe(),g.delete(u)})}else{const u=()=>e.moduleRef.destroy(),g=e.platformInjector.get(b_);g.add(u),e.moduleRef.onDestroy(()=>{u_(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(u)})}return function DP(e,n,r){try{const o=r();return x0(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const u=n.get(qC);return u.runInitializers(),u.donePromise.then(()=>{if(function vR(e){"string"==typeof e&&(GI=e.toLowerCase().replace(/_/g,"-"))}(n.get(SD,v_)||v_),!n.get(_P,!0))return ry(e)?n.get(ec):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ry(e)){const T=n.get(ec);return void 0!==e.rootComponent&&T.bootstrap(e.rootComponent),T}return function EP(e,n){const r=e.injector.get(ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Bt(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:T,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,o=[]){const l=ZC({},o);return function cP(e,n,r){const o=new v0(r);return Promise.resolve(o)}(0,0,r).then(u=>this.bootstrapModuleFactory(u,l))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Bt(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(b_,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(o){return new(o||e)(si(bn))};static \u0275prov=jn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Mh=null;const $S=new Xt("");function HS(e,n,r=[]){const o=`Platform: ${n}`,l=new Xt(o);return(u=[])=>{let g=bD();if(!g||g.injector.get($S,!1)){const w=[...r,...u,{provide:l,useValue:!0}];e?e(w):function wP(e){if(Mh&&!Mh.get($S,!1))throw new Bt(400,!1);(function YC(){!function Yn(e){as=e}(()=>{throw new Bt(600,!1)})})(),Mh=e;const n=e.get(jS);(function KS(e){const n=e.get(Kd,null);Ia(e,()=>{n?.forEach(r=>r())})})(e)}(function WS(e=[],n){return bn.create({name:n,providers:[{provide:No,useValue:"platform"},{provide:b_,useValue:new Set([()=>Mh=null])},...e]})}(w,o))}return function CP(){const n=bD();if(!n)throw new Bt(401,!1);return n}()}}function bD(){return Mh?.get(jS)??null}function TP(){return!1}function SP(){}let GS=(()=>class e{static __NG_ELEMENT_ID__=bP})();function bP(e){return function MP(e,n,r){if(Us(e)&&!r){const o=Xs(e.index,n);return new t(o,o)}return 175&e.type?new t(n[F],n):null}(ur(),ht(),!(16&~e))}class YS{constructor(){}supports(n){return i_(n)}create(n){return new xP(n)}}const RP=(e,n)=>n;class xP{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||RP}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,l=0,u=null;for(;r||o;){const g=!o||r&&r.currentIndex<JS(o,l,u)?r:o,w=JS(g,l,u),T=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)l++;else{u||(u=[]);const L=w-l,Q=T-l;if(L!=Q){for(let De=0;De<L;De++){const me=De<u.length?u[De]:u[De]=0,je=me+De;Q<=je&&je<L&&(u[De]=me+1)}u[g.previousIndex]=Q-L}}w!==T&&n(g,w,T)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!i_(n))throw new Bt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,u,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)u=n[w],g=this._trackByFn(w,u),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,u,g,w)),Object.is(r.item,u)||this._addIdentityChange(r,u)):(r=this._mismatch(r,u,g,w),o=!0),r=r._next}else l=0,function $A(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,w=>{g=this._trackByFn(l,w),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,w,g,l)),Object.is(r.item,w)||this._addIdentityChange(r,w)):(r=this._mismatch(r,w,g,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,l){let u;return null===n?u=this._itTail:(u=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,u,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,u,l)):n=this._addAfter(new PP(r,o),u,l),n}_verifyReinsertion(n,r,o,l){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==u?n=this._reinsertAfter(u,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,u=n._nextRemoved;return null===l?this._removalsHead=u:l._nextRemoved=u,null===u?this._removalsTail=l:u._prevRemoved=l,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const l=null===r?this._itHead:r._next;return n._next=l,n._prev=r,null===l?this._itTail=n:l._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new ZS),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class PP{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,r){this.item=n,this.trackById=r}}class FP{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class ZS{map=new Map;put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new FP,this.map.set(r,o)),o.add(n)}get(n,r){const l=this.map.get(n);return l?l.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JS(e,n,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+n+l}class eb{constructor(){}supports(n){return n instanceof Map||I0(n)}create(){return new kP}}class kP{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||I0(n)))throw new Bt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const u=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,u)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,r);const u=l._prev,g=l._next;return u&&(u._next=g),g&&(g._prev=u),l._next=null,l._prev=null,l}const o=new LP(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class LP{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function tb(){return new RD([new YS])}let RD=(()=>{class e{factories;static \u0275prov=jn({token:e,providedIn:"root",factory:tb});constructor(r){this.factories=r}static create(r,o){if(null!=o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||tb()),deps:[[e,new Ts,new Ko]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(null!=o)return o;throw new Bt(901,!1)}}return e})();function nb(){return new xD([new eb])}let xD=(()=>{class e{static \u0275prov=jn({token:e,providedIn:"root",factory:nb});factories;constructor(r){this.factories=r}static create(r,o){if(o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||nb()),deps:[[e,new Ts,new Ko]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(o)return o;throw new Bt(901,!1)}}return e})();const BP=HS(null,"core",[]);let jP=(()=>{class e{constructor(r){}static \u0275fac=function(o){return new(o||e)(si(ec))};static \u0275mod=E0({type:e});static \u0275inj=vi({})}return e})();function w1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function C1(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}function hu(e){const n=q(null);try{return e()}finally{q(n)}}function cy(e,n){const r=yt(e);return n?.equal&&(r[J].equal=n.equal),r}let S1=(()=>{class e extends QC{pendingTasks=nn(d);taskId=null;schedule(r){super.schedule(r),null===this.taskId&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{null!==this.taskId&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=jn({token:e,providedIn:"root",factory:()=>new e})}return e})();class b1{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(n,r,o,l,u,g){this.scheduler=n,this.effectFn=r,this.zone=o,this.injector=u,this.watcher=function Xn(e,n,r){const o=Object.create(ls);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;const l=T=>{o.cleanupFn=T};return o.ref={notify:()=>qe(o),run:()=>{if(null===o.fn)return;if(function se(){return U}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!lt(o))return;o.hasRun=!0;const T=Dt(o);try{o.cleanupFn(),o.cleanupFn=ir,o.fn(l)}finally{Tt(o,T)}},cleanup:()=>o.cleanupFn(),destroy:()=>function g(T){(function u(T){return null===T.fn&&null===T.schedule})(T)||(Xe(T),T.cleanupFn(),T.fn=null,T.schedule=null,T.cleanupFn=ir)}(o),[J]:o},o.ref}(w=>this.runEffect(w),()=>this.schedule(),g),this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(ti,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let kD=!1;class O1{[J];constructor(n){this[J]=n}destroy(){this[J].destroy()}}function LD(e,n){if(kD)return function A1(e,n){!n?.injector&&Ns();const r=n?.injector??nn(bn),o=!0!==n?.manualCleanup?r.get(hr):null,l=new b1(r.get(S1),e,typeof Zone>"u"?null:Zone.current,o,r,n?.allowSignalWrites??!1),u=r.get(GS,null,{optional:!0});return u&&8&u._lView[Dn]?(u._lView[In]??=[]).push(l.watcher.notify):l.watcher.notify(),l}(e,n);!n?.injector&&Ns();const r=n?.injector??nn(bn);let l,o=!0!==n?.manualCleanup?r.get(hr):null;const u=r.get(qd,null,{optional:!0}),g=r.get($r);return null===u||n?.forceRoot?l=function P1(e,n,r){const o=Object.create(N1);return o.fn=e,o.scheduler=n,o.notifier=r,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(12),o}(e,r.get(R0),g):(l=function x1(e,n,r){const o=Object.create(R1);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=n,o.fn=r,e[Mr]??=new Set,e[Mr].add(o),o.consumerMarkedDirty(o),o}(u.view,g,e),o instanceof ei&&o._lView===u.view&&(o=null)),l.injector=r,null!==o&&(l.onDestroyFn=o.onDestroy(()=>l.destroy())),new O1(l)}const Ab={...ne,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:$,run(){if(this.dirty=!1,this.hasRun&&!lt(this))return;this.hasRun=!0;const e=o=>(this.cleanupFns??=[]).push(o),n=Dt(this),r=Vl(!1);try{this.maybeCleanup(),this.fn(e)}finally{Vl(r),Tt(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},N1={...Ab,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Xe(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},R1={...Ab,consumerMarkedDirty(){this.view[Dn]|=8192,ac(this.view),this.notifier.notify(13)},destroy(){Xe(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Mr]?.delete(this)}};var io=function(e){return e[e.Idle=0]="Idle",e[e.Error=1]="Error",e[e.Loading=2]="Loading",e[e.Reloading=3]="Reloading",e[e.Resolved=4]="Resolved",e[e.Local=5]="Local",e}(io||{});const F1=e=>e;function VD(e,n){return Ob("function"==typeof e?fn(e,F1,n?.equal):fn(e.source,e.computation,e.equal))}function Ob(e){const n=e[J],r=e;return r.set=o=>function Un(e,n){Fe(e),At(e,n),He(e)}(n,o),r.update=o=>function wn(e,n){Fe(e),St(e,n),He(e)}(n,o),r.asReadonly=Fh.bind(e),r}function Nb(e){return e?.injector||Ns(),new Rb(e.request??(()=>null),function V1(e){return function U1(e){return!!e.stream}(e)?e.stream:function(){var n=(0,E.A)(function*(r){try{return Vd({value:yield e.loader(r)})}catch(o){return Vd({error:o})}});return function(r){return n.apply(this,arguments)}}()}(e),e.defaultValue,e.equal?function L1(e){return(n,r)=>void 0===n||void 0===r?n===r:e(n,r)}(e.equal):void 0,e.injector??nn(bn))}class k1{value;constructor(n){this.value=n,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=Fh}update(n){this.set(n(hu(this.value)))}isLoading=cy(()=>this.status()===io.Loading||this.status()===io.Reloading);hasValue(){return void 0!==this.value()}asReadonly(){return this}}class Rb extends k1{loaderFn;defaultValue;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;constructor(n,r,o,l,u){super(cy(()=>{const g=this.state().stream?.();return g&&UD(g)?g.value:this.defaultValue},{equal:l})),this.loaderFn=r,this.defaultValue=o,this.equal=l,this.extRequest=VD({source:n,computation:g=>({request:g,reload:0})}),this.state=VD({source:this.extRequest,computation:(g,w)=>{const T=void 0===g.request?io.Idle:io.Loading;return w?{extRequest:g,status:T,previousStatus:xb(w.value),stream:w.value.extRequest.request===g.request?w.value.stream:void 0}:{extRequest:g,status:T,previousStatus:io.Idle,stream:void 0}}}),this.effectRef=LD(this.loadEffect.bind(this),{injector:u,manualCleanup:!0}),this.pendingTasks=u.get(_),u.get(hr).onDestroy(()=>this.destroy())}status=cy(()=>xb(this.state()));error=cy(()=>{const n=this.state().stream?.();return n&&!UD(n)?n.error:void 0});set(n){if(this.destroyed)return;const r=hu(this.value),o=hu(this.state);o.status===io.Local&&(this.equal?this.equal(r,n):r===n)||(this.state.set({extRequest:o.extRequest,status:io.Local,previousStatus:io.Local,stream:Vd({value:n})}),this.abortInProgressLoad())}reload(){const{status:n}=hu(this.state);return n!==io.Idle&&n!==io.Loading&&(this.extRequest.update(({request:r,reload:o})=>({request:r,reload:o+1})),!0)}destroy(){this.destroyed=!0,this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:io.Idle,previousStatus:io.Idle,stream:void 0})}loadEffect(){var n=this;return(0,E.A)(function*(){const r=n.extRequest(),{status:o,previousStatus:l}=hu(n.state);if(void 0===r.request)return;if(o!==io.Loading)return;n.abortInProgressLoad();let u=n.resolvePendingTask=n.pendingTasks.add();const{signal:g}=n.pendingController=new AbortController;try{const w=yield hu(()=>n.loaderFn({request:r.request,abortSignal:g,previous:{status:l}}));if(g.aborted||hu(n.extRequest)!==r)return;n.state.set({extRequest:r,status:io.Resolved,previousStatus:io.Resolved,stream:w})}catch(w){if(g.aborted||hu(n.extRequest)!==r)return;n.state.set({extRequest:r,status:io.Resolved,previousStatus:io.Error,stream:Vd({error:w})})}finally{u?.(),u=void 0}})()}abortInProgressLoad(){hu(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}}function xb(e){switch(e.status){case io.Loading:return 0===e.extRequest.reload?io.Loading:io.Reloading;case io.Resolved:return UD(hu(e.stream))?io.Resolved:io.Error;default:return e.status}}function UD(e){return void 0===e.error}function W1(e,n){const r=Mn(e),o=n.elementInjector||Os();return new Bm(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function K1(e){const n=Mn(e);if(!n)return null;const r=new Bm(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4473:(pt,ye,C)=>{C.d(ye,{B:()=>ue});var E=C(4438),v=C(8910);let ue=(()=>{class U{constructor(){this.abstractFirebaseDb=(0,E.WQX)(v.W)}setRouter(J){this.abstractFirebaseDb.updateCounter(`router-activities${J}`,!0)}setServer(){this.abstractFirebaseDb.updateCounter("server-activities",!0).then()}setError(J,q=!1){this.abstractFirebaseDb.create("logging-activities",{message:J,server:q}).then()}getRouter$(){return this.abstractFirebaseDb.readRealtimeOriginal$("router-activities")}getServer$(){return this.abstractFirebaseDb.readRealtimeOriginal$("server-activities")}getError$(){return this.abstractFirebaseDb.readRealtimeOriginal$("logging-activities")}static{this.\u0275fac=function(q){return new(q||U)}}static{this.\u0275prov=E.jDH({token:U,factory:U.\u0275fac})}}return U})()},4572:(pt,ye,C)=>{C.d(ye,{z:()=>ee});var E=C(1985),v=C(3073),ue=C(2806),U=C(3669),K=C(6450),J=C(9326),q=C(8496),W=C(4360),se=C(5225);function ee(...Be){const Fe=(0,J.lI)(Be),Oe=(0,J.ms)(Be),{args:Te,keys:qe}=(0,v.D)(Be);if(0===Te.length)return(0,ue.H)([],Fe);const He=new E.c(function ne(Be,Fe,Oe=U.D){return Te=>{Ce(Fe,()=>{const{length:qe}=Be,He=new Array(qe);let Dt=qe,Tt=qe;for(let lt=0;lt<qe;lt++)Ce(Fe,()=>{const Xe=(0,ue.H)(Be[lt],Fe);let Vt=!1;Xe.subscribe((0,W._)(Te,kt=>{He[lt]=kt,Vt||(Vt=!0,Tt--),Tt||Te.next(Oe(He.slice()))},()=>{--Dt||Te.complete()}))},Te)},Te)}}(Te,Fe,qe?Dt=>(0,q.e)(qe,Dt):U.D));return Oe?He.pipe((0,K.I)(Oe)):He}function Ce(Be,Fe,Oe){Be?(0,se.N)(Oe,Be,Fe):Fe()}},4668:(pt,ye,C)=>{C.d(ye,{t:()=>ue});var E=C(2771),v=C(7647);function ue(U,K,J){let q,W=!1;return U&&"object"==typeof U?({bufferSize:q=1/0,windowTime:K=1/0,refCount:W=!1,scheduler:J}=U):q=U??1/0,(0,v.u)({connector:()=>new E.m(q,K,J),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:W})}},4761:(pt,ye,C)=>{C.d(ye,{l:()=>v});const v=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5055:(pt,ye,C)=>{C.d(ye,{l:()=>ue});var E=C(3494),v=C(8071);function ue(U){return(0,v.T)(U[E.s])}},5085:(pt,ye,C)=>{C.d(ye,{O:()=>E});const E={cdnjs_libraries:"https://api.cdnjs.com/libraries",GOOGLE_BOOKS:"https://www.googleapis.com/books/v1/volumes",WIKIPEDIA:"https://en.wikipedia.org/w/api.php",GITHUB_BASE_URL:"https://api.github.com",GITHUB_USERS:"https://api.github.com/users",GITHUB_REPOS:"https://api.github.com/repositories",GITHUB_SEARCH_REPOS:"https://api.github.com/search/repositories?q=",GITHUB_REPOS_QUERY:"https://api.github.com/repositories?q=",GITHUB_REPOS_BY_USER:(v,ue)=>`https://api.github.com/users/${v}/repos?per_page=${ue}`,GITHUB_REPOS_STATS_BY_USER:(v,ue)=>`https://api.github.com/repos/${v}/${ue}/stats/participation`,restcountries:"https://restcountries.com/v3.1/all",jsonplaceholderEndpoints:{todos:"https://jsonplaceholder.typicode.com/todos/",users:"https://jsonplaceholder.typicode.com/users/",posts:"https://jsonplaceholder.typicode.com/posts/",comments:"https://jsonplaceholder.typicode.com/comments/"},swapi_api_endpoints:{people:"https://swapi.py4e.com/api/people/",planets:"https://swapi.py4e.com/api/planets/",films:"https://swapi.py4e.com/api/films/",species:"https://swapi.py4e.com/api/species/",vehicles:"https://swapi.py4e.com/api/vehicles/",starships:"https://swapi.py4e.com/api/starships/"},jokes:"https://icanhazdadjoke.com"}},5109:(pt,ye,C)=>{C.d(ye,{o:()=>U});var E=C(983),v=C(9974),ue=C(4360);function U(K){return K<=0?()=>E.w:(0,v.N)((J,q)=>{let W=[];J.subscribe((0,ue._)(q,se=>{W.push(se),K<W.length&&W.shift()},()=>{for(const se of W)q.next(se);q.complete()},void 0,()=>{W=null}))})}},5196:(pt,ye,C)=>{C.d(ye,{C:()=>ue,U:()=>U});var E=C(1635),v=C(8071);function ue(K){return(0,E.AQ)(this,arguments,function*(){const q=K.getReader();try{for(;;){const{value:W,done:se}=yield(0,E.N3)(q.read());if(se)return yield(0,E.N3)(void 0);yield yield(0,E.N3)(W)}}finally{q.releaseLock()}})}function U(K){return(0,v.T)(K?.getReader)}},5225:(pt,ye,C)=>{function E(v,ue,U,K=0,J=!1){const q=ue.schedule(function(){U(),J?v.add(this.schedule(null,K)):this.unsubscribe()},K);if(v.add(q),!J)return q}C.d(ye,{N:()=>E})},5312:(pt,ye,C)=>{C.d(ye,{c:()=>v});var E=C(3344);const v={production:!0,version:C(8330).rE,firebaseConfig:E.I}},5334:(pt,ye,C)=>{C.d(ye,{m:()=>ue});var E=C(1026),v=C(9270);function ue(U){v.f.setTimeout(()=>{const{onUnhandledError:K}=E.$;if(!K)throw U;K(U)})}},5335:(pt,ye,C)=>{C.d(ye,{c:()=>ee});var E=C(3236),v=C(8793),ue=C(6697),U=C(3557),K=C(3703),J=C(1397),q=C(8750);function W(ne,Ce){return Ce?Be=>(0,v.x)(Ce.pipe((0,ue.s)(1),(0,U.w)()),Be.pipe(W(ne))):(0,J.Z)((Be,Fe)=>(0,q.Tg)(ne(Be,Fe)).pipe((0,ue.s)(1),(0,K.u)(Be)))}var se=C(1807);function ee(ne,Ce=E.E){const Be=(0,se.O)(ne,Ce);return W(()=>Be)}},5343:(pt,ye,C)=>{function E(){}C.d(ye,{l:()=>E})},5364:(pt,ye,C)=>{C.d(ye,{h8:()=>E,vp:()=>v});var E=function(U){return U.Clear="Clear",U.Snow="Snow",U.Rain="Rain",U.Clouds="Clouds",U.Thunderstorm="Thunderstorm",U.Atmosphere="Atmosphere",U.Drizzle="Drizzle",U.Unknown="Unknown",U}(E||{});function v(U){return(new Map).set("Thunderstorm",E.Thunderstorm).set("Drizzle",E.Drizzle).set("Rain",E.Rain).set("Snow",E.Snow).set("Atmosphere",E.Atmosphere).set("Clouds",E.Clouds).set("Clear",E.Clear).get(U.main)||E.Unknown}},5397:(pt,ye,C)=>{C.d(ye,{x:()=>ue});var E=C(4761),v=C(8071);function ue(U){return(0,v.T)(U?.[E.l])}},5558:(pt,ye,C)=>{C.d(ye,{n:()=>U});var E=C(8750),v=C(9974),ue=C(4360);function U(K,J){return(0,v.N)((q,W)=>{let se=null,ee=0,ne=!1;const Ce=()=>ne&&!se&&W.complete();q.subscribe((0,ue._)(W,Be=>{se?.unsubscribe();let Fe=0;const Oe=ee++;(0,E.Tg)(K(Be,Oe)).subscribe(se=(0,ue._)(W,Te=>W.next(J?J(Be,Te,Oe,Fe++):Te),()=>{se=null,Ce()}))},()=>{ne=!0,Ce()}))})}},5696:(pt,ye,C)=>{C.d(ye,{E:()=>W});var E=C(9310),v=C(8193),ue=C(8721);const U=(0,E.UX)(ue.cp),K=(0,E.Mz)(U,se=>se.isSubmitting),J=(0,E.Mz)(U,se=>se.validationErrors);var q=C(4438);let W=(()=>{class se{constructor(ne){this.store=ne}register(ne){this.store.dispatch((0,v.Sl)(ne))}isSubmitting(){return this.store.pipe((0,E.Lt)(K))}backendErrors(){return this.store.pipe((0,E.Lt)(J))}static{this.\u0275fac=function(Ce){return new(Ce||se)(q.KVO(E.il))}}static{this.\u0275prov=q.jDH({token:se,factory:se.\u0275fac})}}return se})()},5891:(pt,ye,C)=>{C.d(ye,{jf:()=>Ba,Jt:()=>Tl,C3:()=>zt,GV:()=>ei,yX:()=>ga,Zy:()=>ja,VC:()=>Io,KR:()=>ul,TF:()=>Wl,O5:()=>hr,hZ:()=>Kl,yo:()=>Hc});var E=C(467),v=C(7852),ue=C(1362),U=C(1076),K=C(8041);const J="@firebase/database",q="0.14.4";let W="";class ee{constructor(h){this.domStorage_=h,this.prefix_="firebase:"}set(h,d){null==d?this.domStorage_.removeItem(this.prefixedName_(h)):this.domStorage_.setItem(this.prefixedName_(h),(0,U.As)(d))}get(h){const d=this.domStorage_.getItem(this.prefixedName_(h));return null==d?null:(0,U.$L)(d)}remove(h){this.domStorage_.removeItem(this.prefixedName_(h))}prefixedName_(h){return this.prefix_+h}toString(){return this.domStorage_.toString()}}class ne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(h,d){null==d?delete this.cache_[h]:this.cache_[h]=d}get(h){return(0,U.gR)(this.cache_,h)?this.cache_[h]:null}remove(h){delete this.cache_[h]}}const Ce=function(p){try{if(typeof window<"u"&&typeof window[p]<"u"){const h=window[p];return h.setItem("firebase:sentinel","cache"),h.removeItem("firebase:sentinel"),new ee(h)}}catch{}return new ne},Be=Ce("localStorage"),Fe=Ce("sessionStorage"),Oe=new K.Vy("@firebase/database"),Te=function(){let p=1;return function(){return p++}}(),qe=function(p){const h=(0,U.kj)(p),d=new U.gz;d.update(h);const _=d.digest();return U.K3.encodeByteArray(_)},He=function(...p){let h="";for(let d=0;d<p.length;d++){const _=p[d];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?h+=He.apply(null,_):h+="object"==typeof _?(0,U.As)(_):_,h+=" "}return h};let Dt=null,Tt=!0;const Xe=function(...p){if(!0===Tt&&(Tt=!1,null===Dt&&!0===Fe.get("logging_enabled")&&function(p,h){(0,U.vA)(!h||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(Oe.logLevel=K.$b.VERBOSE,Dt=Oe.log.bind(Oe),h&&Fe.set("logging_enabled",!0)):"function"==typeof p?Dt=p:(Dt=null,Fe.remove("logging_enabled"))}(!0)),Dt){const h=He.apply(null,p);Dt(h)}},Vt=function(p){return function(...h){Xe(p,...h)}},kt=function(...p){const h="FIREBASE INTERNAL ERROR: "+He(...p);Oe.error(h)},qt=function(...p){const h=`FIREBASE FATAL ERROR: ${He(...p)}`;throw Oe.error(h),new Error(h)},jt=function(...p){const h="FIREBASE WARNING: "+He(...p);Oe.warn(h)},An=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},Ze="[MIN_NAME]",Ut="[MAX_NAME]",gn=function(p,h){if(p===h)return 0;if(p===Ze||h===Ut)return-1;if(h===Ze||p===Ut)return 1;{const d=On(p),_=On(h);return null!==d?null!==_?d-_==0?p.length-h.length:d-_:-1:null!==_?1:p<h?-1:1}},nr=function(p,h){return p===h?0:p<h?-1:1},xr=function(p,h){if(h&&p in h)return h[p];throw new Error("Missing required key ("+p+") in object: "+(0,U.As)(h))},as=function(p){if("object"!=typeof p||null===p)return(0,U.As)(p);const h=[];for(const _ in p)h.push(_);h.sort();let d="{";for(let _=0;_<h.length;_++)0!==_&&(d+=","),d+=(0,U.As)(h[_]),d+=":",d+=as(p[h[_]]);return d+="}",d},Fr=function(p,h){const d=p.length;if(d<=h)return[p];const _=[];for(let M=0;M<d;M+=h)_.push(p.substring(M,M+h>d?d:M+h));return _};function Yn(p,h){for(const d in p)p.hasOwnProperty(d)&&h(d,p[d])}const ke=function(p){(0,U.vA)(!An(p),"Invalid JSON number");const _=1023;let M,k,$,ae,Ee;0===p?(k=0,$=0,M=1/p==-1/0?1:0):(M=p<0,(p=Math.abs(p))>=Math.pow(2,1-_)?(ae=Math.min(Math.floor(Math.log(p)/Math.LN2),_),k=ae+_,$=Math.round(p*Math.pow(2,52-ae)-Math.pow(2,52))):(k=0,$=Math.round(p/Math.pow(2,-1074))));const Ne=[];for(Ee=52;Ee;Ee-=1)Ne.push($%2?1:0),$=Math.floor($/2);for(Ee=11;Ee;Ee-=1)Ne.push(k%2?1:0),k=Math.floor(k/2);Ne.push(M?1:0),Ne.reverse();const ut=Ne.join("");let gt="";for(Ee=0;Ee<64;Ee+=8){let mt=parseInt(ut.substr(Ee,8),2).toString(16);1===mt.length&&(mt="0"+mt),gt+=mt}return gt.toLowerCase()},At=new RegExp("^-?(0*)\\d{1,10}$"),On=function(p){if(At.test(p)){const h=Number(p);if(h>=-2147483648&&h<=2147483647)return h}return null},rr=function(p){try{p()}catch(h){setTimeout(()=>{throw jt("Exception was thrown by user callback.",h.stack||""),h},Math.floor(0))}},Un=function(p,h){const d=setTimeout(p,h);return"number"==typeof d&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(d):"object"==typeof d&&d.unref&&d.unref(),d};class wn{constructor(h,d){this.appName_=h,this.appCheckProvider=d,this.appCheck=d?.getImmediate({optional:!0}),this.appCheck||d?.get().then(_=>this.appCheck=_)}getToken(h){return this.appCheck?this.appCheck.getToken(h):new Promise((d,_)=>{setTimeout(()=>{this.appCheck?this.getToken(h).then(d,_):d(null)},0)})}addTokenChangeListener(h){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(_=>_.addTokenListener(h))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kr{constructor(h,d,_){this.appName_=h,this.firebaseOptions_=d,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(M=>this.auth_=M)}getToken(h){return this.auth_?this.auth_.getToken(h).catch(d=>d&&"auth/token-not-initialized"===d.code?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,_)=>{setTimeout(()=>{this.auth_?this.getToken(h).then(d,_):d(null)},0)})}addTokenChangeListener(h){this.auth_?this.auth_.addAuthTokenListener(h):this.authProvider_.get().then(d=>d.addAuthTokenListener(h))}removeTokenChangeListener(h){this.authProvider_.get().then(d=>d.removeAuthTokenListener(h))}notifyForInvalidToken(){let h='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';h+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(h)}}let Xn=(()=>{class p{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const hs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bt="websocket",vr="long_polling";class cs{constructor(h,d,_,M,k=!1,$="",ae=!1,Ee=!1){this.secure=d,this.namespace=_,this.webSocketOnly=M,this.nodeAdmin=k,this.persistenceKey=$,this.includeNamespaceInQueryParams=ae,this.isUsingEmulator=Ee,this._host=h.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Be.get("host:"+h)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(h){h!==this.internalHost&&(this.internalHost=h,this.isCacheableHost()&&Be.set("host:"+this._host,this.internalHost))}toString(){let h=this.toURLString();return this.persistenceKey&&(h+="<"+this.persistenceKey+">"),h}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ps(p,h,d){let _;if((0,U.vA)("string"==typeof h,"typeof type must == string"),(0,U.vA)("object"==typeof d,"typeof params must == object"),h===Bt)_=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(h!==vr)throw new Error("Unknown connection type: "+h);_=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function Zr(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(d.ns=p.namespace);const M=[];return Yn(d,(k,$)=>{M.push(k+"="+$)}),_+M.join("&")}class fs{constructor(){this.counters_={}}incrementCounter(h,d=1){(0,U.gR)(this.counters_,h)||(this.counters_[h]=0),this.counters_[h]+=d}get(){return(0,U.A4)(this.counters_)}}const yi={},dn={};function Zs(p){const h=p.toString();return yi[h]||(yi[h]=new fs),yi[h]}class ri{constructor(h){this.onMessage_=h,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(h,d){this.closeAfterResponse=h,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(h,d){for(this.pendingResponses[h]=d;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let M=0;M<_.length;++M)_[M]&&rr(()=>{this.onMessage_(_[M])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class de{constructor(h,d,_,M,k,$,ae){this.connId=h,this.repoInfo=d,this.applicationId=_,this.appCheckToken=M,this.authToken=k,this.transportSessionId=$,this.lastSessionId=ae,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vt(h),this.stats_=Zs(d),this.urlFn=Ee=>(this.appCheckToken&&(Ee.ac=this.appCheckToken),Ps(d,vr,Ee))}open(h,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new ri(h),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,U.$g)()||"complete"===document.readyState)p();else{let h=!1;const d=function(){document.body?h||(h=!0,p()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new we((...k)=>{const[$,ae,Ee,Ne,ut]=k;if(this.incrementIncomingBytes_(k),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===$)this.id=ae,this.password=Ee;else{if("close"!==$)throw new Error("Unrecognized command received: "+$);ae?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ae,()=>{this.onClosed_()})):this.onClosed_()}},(...k)=>{const[$,ae]=k;this.incrementIncomingBytes_(k),this.myPacketOrderer.handleResponse($,ae)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hs.test(location.hostname)&&(_.r="f");const M=this.urlFn(_);this.log_("Connecting via long-poll to "+M),this.scriptTagHolder.addTag(M,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){de.forceAllow_=!0}static forceDisallow(){de.forceDisallow_=!0}static isAvailable(){return!((0,U.$g)()||!de.forceAllow_&&(de.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(h){const d=(0,U.As)(h);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=(0,U.KA)(d),M=Fr(_,1840);for(let k=0;k<M.length;k++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[k]),this.curSegmentNum++}addDisconnectPingFrame(h,d){if((0,U.$g)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=h,_.pw=d,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(h){const d=(0,U.As)(h).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class we{constructor(h,d,_,M){if(this.onDisconnect=_,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.$g)())this.commandCB=h,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=Te(),window["pLPCommand"+this.uniqueCallbackIdentifier]=h,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=we.createIFrame_();let k="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(k='<script>document.domain="'+document.domain+'";<\/script>');const $="<html><body>"+k+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write($),this.myIFrame.doc.close()}catch(ae){Xe("frame writing exception"),ae.stack&&Xe(ae.stack),Xe(ae)}}}static createIFrame_(){const h=document.createElement("iframe");if(h.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(h);try{h.contentWindow.document||Xe("No IE domain setting required")}catch{const _=document.domain;h.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return h.contentDocument?h.doc=h.contentDocument:h.contentWindow?h.doc=h.contentWindow.document:h.document&&(h.doc=h.document),h}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const h=this.onDisconnect;h&&(this.onDisconnect=null,h())}startLongPoll(h,d){for(this.myID=h,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const h={};h.id=this.myID,h.pw=this.myPW,h.ser=this.currentSerial;let d=this.urlFn(h),_="",M=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const $=this.pendingSegs.shift();_=_+"&seg"+M+"="+$.seg+"&ts"+M+"="+$.ts+"&d"+M+"="+$.d,M++}return d+=_,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(h,d,_){this.pendingSegs.push({seg:h,ts:d,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(h,d){this.outstandingRequests.add(d);const _=()=>{this.outstandingRequests.delete(d),this.newRequest_()},M=setTimeout(_,Math.floor(25e3));this.addTag(h,()=>{clearTimeout(M),_()})}addTag(h,d){(0,U.$g)()?this.doNodeLongPoll(h,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=h,_.onload=_.onreadystatechange=function(){const M=_.readyState;(!M||"loaded"===M||"complete"===M)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),d())},_.onerror=()=>{Xe("Long-poll script failed to load: "+h),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch{}},Math.floor(1))}}let on=null;typeof MozWebSocket<"u"?on=MozWebSocket:typeof WebSocket<"u"&&(on=WebSocket);let Yt=(()=>{class p{constructor(d,_,M,k,$,ae,Ee){this.connId=d,this.applicationId=M,this.appCheckToken=k,this.authToken=$,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vt(this.connId),this.stats_=Zs(_),this.connURL=p.connectionURL_(_,ae,Ee,k,M),this.nodeAdmin=_.nodeAdmin}static connectionURL_(d,_,M,k,$){const ae={v:"5"};return!(0,U.$g)()&&typeof location<"u"&&location.hostname&&hs.test(location.hostname)&&(ae.r="f"),_&&(ae.s=_),M&&(ae.ls=M),k&&(ae.ac=k),$&&(ae.p=$),Ps(d,Bt,ae)}open(d,_){this.onDisconnect=_,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Be.set("previous_websocket_failure",!0);try{let M;if((0,U.$g)()){M={headers:{"User-Agent":`Firebase/5/${W}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(M.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);const $=process.env,ae=0===this.connURL.indexOf("wss://")?$.HTTPS_PROXY||$.https_proxy:$.HTTP_PROXY||$.http_proxy;ae&&(M.proxy={origin:ae})}this.mySock=new on(this.connURL,[],M)}catch(M){this.log_("Error instantiating WebSocket.");const k=M.message||M.data;return k&&this.log_(k),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=M=>{this.handleIncomingFrame(M)},this.mySock.onerror=M=>{this.log_("WebSocket error.  Closing connection.");const k=M.message||M.data;k&&this.log_(k),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let d=!1;if(typeof navigator<"u"&&navigator.userAgent){const M=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);M&&M.length>1&&parseFloat(M[1])<4.4&&(d=!0)}return!d&&null!==on&&!p.forceDisallow_}static previouslyFailed(){return Be.isInMemoryStorage||!0===Be.get("previous_websocket_failure")}markConnectionHealthy(){Be.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const M=(0,U.$L)(_);this.onMessage(M)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,U.vA)(null===this.frames,"We already have a frame buffer"),d.length<=6){const _=Number(d);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const _=d.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const M=this.extractFrameCount_(_);null!==M&&this.appendFrame_(M)}}send(d){this.resetKeepAlive();const _=(0,U.As)(d);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const M=Fr(_,16384);M.length>1&&this.sendString_(String(M.length));for(let k=0;k<M.length;k++)this.sendString_(M[k])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),Bn=(()=>{class p{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[de,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(d){const _=Yt&&Yt.isAvailable();let M=_&&!Yt.previouslyFailed();if(d.webSocketOnly&&(_||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),M=!0),M)this.transports_=[Yt];else{const k=this.transports_=[];for(const $ of p.ALL_TRANSPORTS)$&&$.isAvailable()&&k.push($);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class vi{constructor(h,d,_,M,k,$,ae,Ee,Ne,ut){this.id=h,this.repoInfo_=d,this.applicationId_=_,this.appCheckToken_=M,this.authToken_=k,this.onMessage_=$,this.onReady_=ae,this.onDisconnect_=Ee,this.onKill_=Ne,this.lastSessionId=ut,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vt("c:"+this.id+":"),this.transportManager_=new Bn(d),this.log_("Connection created"),this.start_()}start_(){const h=this.transportManager_.initialTransport();this.conn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,_)},Math.floor(0));const M=h.healthyTimeout||0;M>0&&(this.healthyTimeout_=Un(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(M)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(h){return d=>{h===this.conn_?this.onConnectionLost_(d):h===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(h){return d=>{2!==this.state_&&(h===this.rx_?this.onPrimaryMessageReceived_(d):h===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(h){this.sendData_({t:"d",d:h})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(h){if("t"in h){const d=h.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(h){const d=xr("t",h),_=xr("d",h);if("c"===d)this.onSecondaryControl_(_);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(h){const d=xr("t",h),_=xr("d",h);"c"===d?this.onControl_(_):"d"===d&&this.onDataMessage_(_)}onDataMessage_(h){this.onPrimaryResponse_(),this.onMessage_(h)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(h){const d=xr("t",h);if("d"in h){const _=h.d;if("h"===d){const M=Object.assign({},_);this.repoInfo_.isUsingEmulator&&(M.h=this.repoInfo_.host),this.onHandshake_(M)}else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(_):"r"===d?this.onReset_(_):"e"===d?kt("Server Error: "+_):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kt("Unknown control packet command: "+d)}}onHandshake_(h){const d=h.ts,_=h.v,M=h.h;this.sessionId=h.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==_&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const h=this.transportManager_.upgradeTransport();h&&this.startUpgrade_(h)}startUpgrade_(h){this.secondaryConn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,_),Un(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(h){this.log_("Reset packet received.  New host: "+h),this.repoInfo_.host=h,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(h,d){this.log_("Realtime connection established."),this.conn_=h,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Un(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const h=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===h||this.rx_===h)&&this.close()}onConnectionLost_(h){this.conn_=null,h||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Be.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(h){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(h),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(h){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(h)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zr{put(h,d,_,M){}merge(h,d,_,M){}refreshAuthToken(h){}refreshAppCheckToken(h){}onDisconnectPut(h,d,_){}onDisconnectMerge(h,d,_){}onDisconnectCancel(h,d){}reportStats(h){}}class En{constructor(h){this.allowedEvents_=h,this.listeners_={},(0,U.vA)(Array.isArray(h)&&h.length>0,"Requires a non-empty array")}trigger(h,...d){if(Array.isArray(this.listeners_[h])){const _=[...this.listeners_[h]];for(let M=0;M<_.length;M++)_[M].callback.apply(_[M].context,d)}}on(h,d,_){this.validateEventType_(h),this.listeners_[h]=this.listeners_[h]||[],this.listeners_[h].push({callback:d,context:_});const M=this.getInitialEvent(h);M&&d.apply(_,M)}off(h,d,_){this.validateEventType_(h);const M=this.listeners_[h]||[];for(let k=0;k<M.length;k++)if(M[k].callback===d&&(!_||_===M[k].context))return void M.splice(k,1)}validateEventType_(h){(0,U.vA)(this.allowedEvents_.find(d=>d===h),"Unknown event: "+h)}}class gs extends En{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gs}getInitialEvent(h){return(0,U.vA)("online"===h,"Unknown event type: "+h),[this.online_]}currentlyOnline(){return this.online_}}class mn{constructor(h,d){if(void 0===d){this.pieces_=h.split("/");let _=0;for(let M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[_]=this.pieces_[M],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=h,this.pieceNum_=d}toString(){let h="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(h+="/"+this.pieces_[d]);return h||"/"}}function er(){return new mn("")}function kn(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function Cs(p){return p.pieces_.length-p.pieceNum_}function Xt(p){let h=p.pieceNum_;return h<p.pieces_.length&&h++,new mn(p.pieces_,h)}function Gi(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Ei(p,h=0){return p.pieces_.slice(p.pieceNum_+h)}function yo(p){if(p.pieceNum_>=p.pieces_.length)return null;const h=[];for(let d=p.pieceNum_;d<p.pieces_.length-1;d++)h.push(p.pieces_[d]);return new mn(h,0)}function Gr(p,h){const d=[];for(let _=p.pieceNum_;_<p.pieces_.length;_++)d.push(p.pieces_[_]);if(h instanceof mn)for(let _=h.pieceNum_;_<h.pieces_.length;_++)d.push(h.pieces_[_]);else{const _=h.split("/");for(let M=0;M<_.length;M++)_[M].length>0&&d.push(_[M])}return new mn(d,0)}function Nn(p){return p.pieceNum_>=p.pieces_.length}function oe(p,h){const d=kn(p),_=kn(h);if(null===d)return h;if(d===_)return oe(Xt(p),Xt(h));throw new Error("INTERNAL ERROR: innerPath ("+h+") is not within outerPath ("+p+")")}function Ie(p,h){const d=Ei(p,0),_=Ei(h,0);for(let M=0;M<d.length&&M<_.length;M++){const k=gn(d[M],_[M]);if(0!==k)return k}return d.length===_.length?0:d.length<_.length?-1:1}function _e(p,h){if(Cs(p)!==Cs(h))return!1;for(let d=p.pieceNum_,_=h.pieceNum_;d<=p.pieces_.length;d++,_++)if(p.pieces_[d]!==h.pieces_[_])return!1;return!0}function Ge(p,h){let d=p.pieceNum_,_=h.pieceNum_;if(Cs(p)>Cs(h))return!1;for(;d<p.pieces_.length;){if(p.pieces_[d]!==h.pieces_[_])return!1;++d,++_}return!0}class bt{constructor(h,d){this.errorPrefix_=d,this.parts_=Ei(h,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,U.OE)(this.parts_[_]);_n(this)}}function _n(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+fe(p))}function fe(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class Je extends En{constructor(){let h,d;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",h="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",h="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",h="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",h="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const _=!document[h];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new Je}getInitialEvent(h){return(0,U.vA)("visible"===h,"Unknown event type: "+h),[this.visible_]}}const Pe=1e3;let Is,Er=(()=>{class p extends zr{constructor(d,_,M,k,$,ae,Ee,Ne){if(super(),this.repoInfo_=d,this.applicationId_=_,this.onDataUpdate_=M,this.onConnectStatus_=k,this.onServerInfoUpdate_=$,this.authTokenProvider_=ae,this.appCheckTokenProvider_=Ee,this.authOverride_=Ne,this.id=p.nextPersistentConnectionId_++,this.log_=Vt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pe,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ne&&!(0,U.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Je.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&gs.getInstance().on("online",this.onOnline_,this)}sendRequest(d,_,M){const k=++this.requestNumber_,$={r:k,a:d,b:_};this.log_((0,U.As)($)),(0,U.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest($),M&&(this.requestCBHash_[k]=M)}get(d){this.initConnection_();const _=new U.cY,k={action:"g",request:{p:d._path.toString(),q:d._queryObject},onComplete:ae=>{const Ee=ae.d;"ok"===ae.s?_.resolve(Ee):_.reject(Ee)}};return this.outstandingGets_.push(k),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),_.promise}listen(d,_,M,k){this.initConnection_();const $=d._queryIdentifier,ae=d._path.toString();this.log_("Listen called for "+ae+" "+$),this.listens.has(ae)||this.listens.set(ae,new Map),(0,U.vA)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.vA)(!this.listens.get(ae).has($),"listen() called twice for same path/queryId.");const Ee={onComplete:k,hashFn:_,query:d,tag:M};this.listens.get(ae).set($,Ee),this.connected_&&this.sendListen_(Ee)}sendGet_(d){const _=this.outstandingGets_[d];this.sendRequest("g",_.request,M=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(M)})}sendListen_(d){const _=d.query,M=_._path.toString(),k=_._queryIdentifier;this.log_("Listen on "+M+" for "+k);const $={p:M};d.tag&&($.q=_._queryObject,$.t=d.tag),$.h=d.hashFn(),this.sendRequest("q",$,Ee=>{const Ne=Ee.d,ut=Ee.s;p.warnOnListenWarnings_(Ne,_),(this.listens.get(M)&&this.listens.get(M).get(k))===d&&(this.log_("listen response",Ee),"ok"!==ut&&this.removeListen_(M,k),d.onComplete&&d.onComplete(ut,Ne))})}static warnOnListenWarnings_(d,_){if(d&&"object"==typeof d&&(0,U.gR)(d,"w")){const M=(0,U.yw)(d,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){const k='".indexOn": "'+_._queryParams.getIndex().toString()+'"',$=_._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${k} at ${$} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,U.qc)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,_=(0,U.Cv)(d)?"auth":"gauth",M={cred:d};null===this.authOverride_?M.noauth=!0:"object"==typeof this.authOverride_&&(M.authvar=this.authOverride_),this.sendRequest(_,M,k=>{const $=k.s,ae=k.d||"error";this.authToken_===d&&("ok"===$?this.invalidAuthTokenCount_=0:this.onAuthRevoked_($,ae))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const _=d.s,M=d.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,M)})}unlisten(d,_){const M=d._path.toString(),k=d._queryIdentifier;this.log_("Unlisten called for "+M+" "+k),(0,U.vA)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,k)&&this.connected_&&this.sendUnlisten_(M,k,d._queryObject,_)}sendUnlisten_(d,_,M,k){this.log_("Unlisten on "+d+" for "+_);const $={p:d};k&&($.q=M,$.t=k),this.sendRequest("n",$)}onDisconnectPut(d,_,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,_,M):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:_,onComplete:M})}onDisconnectMerge(d,_,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,_,M):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:_,onComplete:M})}onDisconnectCancel(d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,_):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(d,_,M,k){const $={p:_,d:M};this.log_("onDisconnect "+d,$),this.sendRequest(d,$,ae=>{k&&setTimeout(()=>{k(ae.s,ae.d)},Math.floor(0))})}put(d,_,M,k){this.putInternal("p",d,_,M,k)}merge(d,_,M,k){this.putInternal("m",d,_,M,k)}putInternal(d,_,M,k,$){this.initConnection_();const ae={p:_,d:M};void 0!==$&&(ae.h=$),this.outstandingPuts_.push({action:d,request:ae,onComplete:k}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(d){const _=this.outstandingPuts_[d].action,M=this.outstandingPuts_[d].request,k=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(_,M,$=>{this.log_(_+" response",$),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),k&&k($.s,$.d)})}reportStats(d){if(this.connected_){const _={c:d};this.log_("reportStats",_),this.sendRequest("s",_,M=>{"ok"!==M.s&&this.log_("reportStats","Error sending stats: "+M.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,U.As)(d));const _=d.r,M=this.requestCBHash_[_];M&&(delete this.requestCBHash_[_],M(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,_){this.log_("handleServerMessage",d,_),"d"===d?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===d?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===d?this.onListenRevoked_(_.p,_.q):"ac"===d?this.onAuthRevoked_(_.s,_.d):"apc"===d?this.onAppCheckRevoked_(_.s,_.d):"sd"===d?this.onSecurityDebugPacket_(_):kt("Unrecognized action received from server: "+(0,U.As)(d)+"\nAre you using the latest client?")}onReady_(d,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,U.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pe),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-d);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,E.A)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const _=d.onDataMessage_.bind(d),M=d.onReady_.bind(d),k=d.onRealtimeDisconnect_.bind(d),$=d.id+":"+p.nextConnectionId_++,ae=d.lastSessionId;let Ee=!1,Ne=null;const ut=function(){Ne?Ne.close():(Ee=!0,k())};d.realtime_={close:ut,sendRequest:function(Wt){(0,U.vA)(Ne,"sendRequest call when we're not connected not allowed."),Ne.sendRequest(Wt)}};const mt=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[Wt,Fn]=yield Promise.all([d.authTokenProvider_.getToken(mt),d.appCheckTokenProvider_.getToken(mt)]);Ee?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),d.authToken_=Wt&&Wt.accessToken,d.appCheckToken_=Fn&&Fn.token,Ne=new vi($,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,_,M,k,Zn=>{jt(Zn+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},ae))}catch(Wt){d.log_("Failed to get token: "+Wt),Ee||(d.repoInfo_.nodeAdmin&&jt(Wt),ut())}}})()}interrupt(d){Xe("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){Xe("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,U.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const _=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const _=this.outstandingPuts_[d];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,_){let M;M=_?_.map($=>as($)).join("$"):"default";const k=this.removeListen_(d,M);k&&k.onComplete&&k.onComplete("permission_denied")}removeListen_(d,_){const M=new mn(d).toString();let k;if(this.listens.has(M)){const $=this.listens.get(M);k=$.get(_),$.delete(_),0===$.size&&this.listens.delete(M)}else k=void 0;return k}onAuthRevoked_(d,_){Xe("Auth token revoked: "+d+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,_){Xe("App check token revoked: "+d+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const _ of d.values())this.sendListen_(_);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let _="js";(0,U.$g)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+_+"."+W.replace(/\./g,"-")]=1,(0,U.jZ)()?d["framework.cordova"]=1:(0,U.lV)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=gs.getInstance().currentlyOnline();return(0,U.Im)(this.interruptReasons_)&&d}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class Kt{constructor(h,d){this.name=h,this.node=d}static Wrap(h,d){return new Kt(h,d)}}class $n{getCompare(){return this.compare.bind(this)}indexedValueChanged(h,d){const _=new Kt(Ze,h),M=new Kt(Ze,d);return 0!==this.compare(_,M)}minPost(){return Kt.MIN}}class xn extends $n{static get __EMPTY_NODE(){return Is}static set __EMPTY_NODE(h){Is=h}compare(h,d){return gn(h.name,d.name)}isDefinedOn(h){throw(0,U.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(h,d){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(Ut,Is)}makePost(h,d){return(0,U.vA)("string"==typeof h,"KeyIndex indexValue must always be a string."),new Kt(h,Is)}toString(){return".key"}}const Qr=new xn;class sr{constructor(h,d,_,M,k=null){this.isReverse_=M,this.resultGenerator_=k,this.nodeStack_=[];let $=1;for(;!h.isEmpty();)if($=d?_(h.key,d):1,M&&($*=-1),$<0)h=this.isReverse_?h.left:h.right;else{if(0===$){this.nodeStack_.push(h);break}this.nodeStack_.push(h),h=this.isReverse_?h.right:h.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,h=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value},this.isReverse_)for(h=h.left;!h.isEmpty();)this.nodeStack_.push(h),h=h.right;else for(h=h.right;!h.isEmpty();)this.nodeStack_.push(h),h=h.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const h=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value}}}let Lo,Dr=(()=>{class p{constructor(d,_,M,k,$){this.key=d,this.value=_,this.color=M??p.RED,this.left=k??Wr.EMPTY_NODE,this.right=$??Wr.EMPTY_NODE}copy(d,_,M,k,$){return new p(d??this.key,_??this.value,M??this.color,k??this.left,$??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,_,M){let k=this;const $=M(d,k.key);return k=$<0?k.copy(null,null,null,k.left.insert(d,_,M),null):0===$?k.copy(null,_,null,null,null):k.copy(null,null,null,null,k.right.insert(d,_,M)),k.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wr.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,_){let M,k;if(M=this,_(d,M.key)<0)!M.left.isEmpty()&&!M.left.isRed_()&&!M.left.left.isRed_()&&(M=M.moveRedLeft_()),M=M.copy(null,null,null,M.left.remove(d,_),null);else{if(M.left.isRed_()&&(M=M.rotateRight_()),!M.right.isEmpty()&&!M.right.isRed_()&&!M.right.left.isRed_()&&(M=M.moveRedRight_()),0===_(d,M.key)){if(M.right.isEmpty())return Wr.EMPTY_NODE;k=M.right.min_(),M=M.copy(k.key,k.value,null,null,M.right.removeMin_())}M=M.copy(null,null,null,null,M.right.remove(d,_))}return M.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,_)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class Wr{constructor(h,d=Wr.EMPTY_NODE){this.comparator_=h,this.root_=d}insert(h,d){return new Wr(this.comparator_,this.root_.insert(h,d,this.comparator_).copy(null,null,Dr.BLACK,null,null))}remove(h){return new Wr(this.comparator_,this.root_.remove(h,this.comparator_).copy(null,null,Dr.BLACK,null,null))}get(h){let d,_=this.root_;for(;!_.isEmpty();){if(d=this.comparator_(h,_.key),0===d)return _.value;d<0?_=_.left:d>0&&(_=_.right)}return null}getPredecessorKey(h){let d,_=this.root_,M=null;for(;!_.isEmpty();){if(d=this.comparator_(h,_.key),0===d){if(_.left.isEmpty())return M?M.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}d<0?_=_.left:d>0&&(M=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(h){return this.root_.inorderTraversal(h)}reverseTraversal(h){return this.root_.reverseTraversal(h)}getIterator(h){return new sr(this.root_,null,this.comparator_,!1,h)}getIteratorFrom(h,d){return new sr(this.root_,h,this.comparator_,!1,d)}getReverseIteratorFrom(h,d){return new sr(this.root_,h,this.comparator_,!0,d)}getReverseIterator(h){return new sr(this.root_,null,this.comparator_,!0,h)}}function Zo(p,h){return gn(p.name,h.name)}function ao(p,h){return gn(p,h)}Wr.EMPTY_NODE=new class ki{copy(h,d,_,M,k){return this}insert(h,d,_){return new Dr(h,d,null)}remove(h,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(h){return!1}reverseTraversal(h){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const So=function(p){return"number"==typeof p?"number:"+ke(p):"string:"+p},Wo=function(p){if(p.isLeafNode()){const h=p.val();(0,U.vA)("string"==typeof h||"number"==typeof h||"object"==typeof h&&(0,U.gR)(h,".sv"),"Priority must be a string or number.")}else(0,U.vA)(p===Lo||p.isEmpty(),"priority of unexpected type.");(0,U.vA)(p===Lo||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Vo,co,Ra,Fs=(()=>{class p{constructor(d,_=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=_,this.lazyHash_=null,(0,U.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Wo(this.priorityNode_)}static set __childrenNodeConstructor(d){Vo=d}static get __childrenNodeConstructor(){return Vo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new p(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return Nn(d)?this:".priority"===kn(d)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,_){return null}updateImmediateChild(d,_){return".priority"===d?this.updatePriority(_):_.isEmpty()&&".priority"!==d?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,_).updatePriority(this.priorityNode_)}updateChild(d,_){const M=kn(d);return null===M?_:_.isEmpty()&&".priority"!==M?this:((0,U.vA)(".priority"!==M||1===Cs(d),".priority must be the last token in a path"),this.updateImmediateChild(M,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(d),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,_){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+So(this.priorityNode_.val())+":");const _=typeof this.value_;d+=_+":",d+="number"===_?ke(this.value_):this.value_,this.lazyHash_=qe(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===p.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof p.__childrenNodeConstructor?-1:((0,U.vA)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const _=typeof d.value_,M=typeof this.value_,k=p.VALUE_TYPE_ORDER.indexOf(_),$=p.VALUE_TYPE_ORDER.indexOf(M);return(0,U.vA)(k>=0,"Unknown leaf type: "+_),(0,U.vA)($>=0,"Unknown leaf type: "+M),k===$?"object"===M?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:$-k}withIndex(){return this}isIndexed(){return!0}equals(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const ts=new class si extends $n{compare(h,d){const _=h.node.getPriority(),M=d.node.getPriority(),k=_.compareTo(M);return 0===k?gn(h.name,d.name):k}isDefinedOn(h){return!h.getPriority().isEmpty()}indexedValueChanged(h,d){return!h.getPriority().equals(d.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(Ut,new Fs("[PRIORITY-POST]",Ra))}makePost(h,d){const _=co(h);return new Kt(d,new Fs("[PRIORITY-POST]",_))}toString(){return".priority"}},nn=Math.log(2);class bo{constructor(h){this.count=parseInt(Math.log(h+1)/nn,10),this.current_=this.count-1;const M=(()=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=h+1&M}nextBitIsOne(){const h=!(this.bits_&1<<this.current_);return this.current_--,h}}const vo=function(p,h,d,_){p.sort(h);const M=function(Ee,Ne){const ut=Ne-Ee;let gt,mt;if(0===ut)return null;if(1===ut)return gt=p[Ee],mt=d?d(gt):gt,new Dr(mt,gt.node,Dr.BLACK,null,null);{const Wt=parseInt(ut/2,10)+Ee,Fn=M(Ee,Wt),Zn=M(Wt+1,Ne);return gt=p[Wt],mt=d?d(gt):gt,new Dr(mt,gt.node,Dr.BLACK,Fn,Zn)}},ae=function(Ee){let Ne=null,ut=null,gt=p.length;const mt=function(Fn,Zn){const di=gt-Fn,fo=gt;gt-=Fn;const hl=M(di+1,fo),Sc=p[di],Nf=d?d(Sc):Sc;Wt(new Dr(Nf,Sc.node,Zn,null,hl))},Wt=function(Fn){Ne?(Ne.left=Fn,Ne=Fn):(ut=Fn,Ne=Fn)};for(let Fn=0;Fn<Ee.count;++Fn){const Zn=Ee.nextBitIsOne(),di=Math.pow(2,Ee.count-(Fn+1));Zn?mt(di,Dr.BLACK):(mt(di,Dr.BLACK),mt(di,Dr.RED))}return ut}(new bo(p.length));return new Wr(_||h,ae)};let Li;const Vi={};class ii{constructor(h,d){this.indexes_=h,this.indexSet_=d}static get Default(){return(0,U.vA)(Vi&&ts,"ChildrenNode.ts has not been loaded"),Li=Li||new ii({".priority":Vi},{".priority":ts}),Li}get(h){const d=(0,U.yw)(this.indexes_,h);if(!d)throw new Error("No index defined for "+h);return d instanceof Wr?d:null}hasIndex(h){return(0,U.gR)(this.indexSet_,h.toString())}addIndex(h,d){(0,U.vA)(h!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let M=!1;const k=d.getIterator(Kt.Wrap);let ae,$=k.getNext();for(;$;)M=M||h.isDefinedOn($.node),_.push($),$=k.getNext();ae=M?vo(_,h.getCompare()):Vi;const Ee=h.toString(),Ne=Object.assign({},this.indexSet_);Ne[Ee]=h;const ut=Object.assign({},this.indexes_);return ut[Ee]=ae,new ii(ut,Ne)}addToIndexes(h,d){const _=(0,U.kH)(this.indexes_,(M,k)=>{const $=(0,U.yw)(this.indexSet_,k);if((0,U.vA)($,"Missing index implementation for "+k),M===Vi){if($.isDefinedOn(h.node)){const ae=[],Ee=d.getIterator(Kt.Wrap);let Ne=Ee.getNext();for(;Ne;)Ne.name!==h.name&&ae.push(Ne),Ne=Ee.getNext();return ae.push(h),vo(ae,$.getCompare())}return Vi}{const ae=d.get(h.name);let Ee=M;return ae&&(Ee=Ee.remove(new Kt(h.name,ae))),Ee.insert(h,h.node)}});return new ii(_,this.indexSet_)}removeFromIndexes(h,d){const _=(0,U.kH)(this.indexes_,M=>{if(M===Vi)return M;{const k=d.get(h.name);return k?M.remove(new Kt(h.name,k)):M}});return new ii(_,this.indexSet_)}}let Da,Ln=(()=>{class p{constructor(d,_,M){this.children_=d,this.priorityNode_=_,this.indexMap_=M,this.lazyHash_=null,this.priorityNode_&&Wo(this.priorityNode_),this.children_.isEmpty()&&(0,U.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Da||(Da=new p(new Wr(ao),null,ii.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Da}updatePriority(d){return this.children_.isEmpty()?this:new p(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const _=this.children_.get(d);return null===_?Da:_}}getChild(d){const _=kn(d);return null===_?this:this.getImmediateChild(_).getChild(Xt(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,_){if((0,U.vA)(_,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(_);{const M=new Kt(d,_);let k,$;_.isEmpty()?(k=this.children_.remove(d),$=this.indexMap_.removeFromIndexes(M,this.children_)):(k=this.children_.insert(d,_),$=this.indexMap_.addToIndexes(M,this.children_));const ae=k.isEmpty()?Da:this.priorityNode_;return new p(k,ae,$)}}updateChild(d,_){const M=kn(d);if(null===M)return _;{(0,U.vA)(".priority"!==kn(d)||1===Cs(d),".priority must be the last token in a path");const k=this.getImmediateChild(M).updateChild(Xt(d),_);return this.updateImmediateChild(M,k)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const _={};let M=0,k=0,$=!0;if(this.forEachChild(ts,(ae,Ee)=>{_[ae]=Ee.val(d),M++,$&&p.INTEGER_REGEXP_.test(ae)?k=Math.max(k,Number(ae)):$=!1}),!d&&$&&k<2*M){const ae=[];for(const Ee in _)ae[Ee]=_[Ee];return ae}return d&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+So(this.getPriority().val())+":"),this.forEachChild(ts,(_,M)=>{const k=M.hash();""!==k&&(d+=":"+_+":"+k)}),this.lazyHash_=""===d?"":qe(d)}return this.lazyHash_}getPredecessorChildName(d,_,M){const k=this.resolveIndex_(M);if(k){const $=k.getPredecessorKey(new Kt(d,_));return $?$.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const _=this.resolveIndex_(d);if(_){const M=_.minKey();return M&&M.name}return this.children_.minKey()}getFirstChild(d){const _=this.getFirstChildName(d);return _?new Kt(_,this.children_.get(_)):null}getLastChildName(d){const _=this.resolveIndex_(d);if(_){const M=_.maxKey();return M&&M.name}return this.children_.maxKey()}getLastChild(d){const _=this.getLastChildName(d);return _?new Kt(_,this.children_.get(_)):null}forEachChild(d,_){const M=this.resolveIndex_(d);return M?M.inorderTraversal(k=>_(k.name,k.node)):this.children_.inorderTraversal(_)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,_){const M=this.resolveIndex_(_);if(M)return M.getIteratorFrom(d,k=>k);{const k=this.children_.getIteratorFrom(d.name,Kt.Wrap);let $=k.peek();for(;null!=$&&_.compare($,d)<0;)k.getNext(),$=k.peek();return k}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,_){const M=this.resolveIndex_(_);if(M)return M.getReverseIteratorFrom(d,k=>k);{const k=this.children_.getReverseIteratorFrom(d.name,Kt.Wrap);let $=k.peek();for(;null!=$&&_.compare($,d)>0;)k.getNext(),$=k.peek();return k}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===ea?-1:0}withIndex(d){if(d===Qr||this.indexMap_.hasIndex(d))return this;{const _=this.indexMap_.addIndex(d,this.children_);return new p(this.children_,this.priorityNode_,_)}}isIndexed(d){return d===Qr||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const _=d;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const M=this.getIterator(ts),k=_.getIterator(ts);let $=M.getNext(),ae=k.getNext();for(;$&&ae;){if($.name!==ae.name||!$.node.equals(ae.node))return!1;$=M.getNext(),ae=k.getNext()}return null===$&&null===ae}return!1}return!1}}resolveIndex_(d){return d===Qr?null:this.indexMap_.get(d.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const ea=new class Ko extends Ln{constructor(){super(new Wr(ao),Ln.EMPTY_NODE,ii.Default)}compareTo(h){return h===this?0:1}equals(h){return h===this}getPriority(){return this}getImmediateChild(h){return Ln.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Kt,{MIN:{value:new Kt(Ze,Ln.EMPTY_NODE)},MAX:{value:new Kt(Ut,ea)}}),xn.__EMPTY_NODE=Ln.EMPTY_NODE,Fs.__childrenNodeConstructor=Ln,function lo(p){Lo=p}(ea),function Jo(p){Ra=p}(ea);const Ts=!0;function wr(p,h=null){if(null===p)return Ln.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(h=p[".priority"]),(0,U.vA)(null===h||"string"==typeof h||"number"==typeof h||"object"==typeof h&&".sv"in h,"Invalid priority type found: "+typeof h),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new Fs(p,wr(h));if(p instanceof Array||!Ts){let d=Ln.EMPTY_NODE;return Yn(p,(_,M)=>{if((0,U.gR)(p,_)&&"."!==_.substring(0,1)){const k=wr(M);(k.isLeafNode()||!k.isEmpty())&&(d=d.updateImmediateChild(_,k))}}),d.updatePriority(wr(h))}{const d=[];let _=!1;if(Yn(p,($,ae)=>{if("."!==$.substring(0,1)){const Ee=wr(ae);Ee.isEmpty()||(_=_||!Ee.getPriority().isEmpty(),d.push(new Kt($,Ee)))}}),0===d.length)return Ln.EMPTY_NODE;const k=vo(d,Zo,$=>$.name,ao);if(_){const $=vo(d,ts.getCompare());return new Ln(k,wr(h),new ii({".priority":$},{".priority":ts}))}return new Ln(k,wr(h),ii.Default)}}!function Qi(p){co=p}(wr);class Js extends $n{constructor(h){super(),this.indexPath_=h,(0,U.vA)(!Nn(h)&&".priority"!==kn(h),"Can't create PathIndex with empty path or .priority key")}extractChild(h){return h.getChild(this.indexPath_)}isDefinedOn(h){return!h.getChild(this.indexPath_).isEmpty()}compare(h,d){const _=this.extractChild(h.node),M=this.extractChild(d.node),k=_.compareTo(M);return 0===k?gn(h.name,d.name):k}makePost(h,d){const _=wr(h),M=Ln.EMPTY_NODE.updateChild(this.indexPath_,_);return new Kt(d,M)}maxPost(){const h=Ln.EMPTY_NODE.updateChild(this.indexPath_,ea);return new Kt(Ut,h)}toString(){return Ei(this.indexPath_,0).join("/")}}const oi=new class Mo extends $n{compare(h,d){const _=h.node.compareTo(d.node);return 0===_?gn(h.name,d.name):_}isDefinedOn(h){return!0}indexedValueChanged(h,d){return!h.equals(d)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(h,d){const _=wr(h);return new Kt(d,_)}toString(){return".value"}};function _o(p){return{type:"value",snapshotNode:p}}function Ao(p,h){return{type:"child_added",snapshotNode:h,childName:p}}function Xi(p,h){return{type:"child_removed",snapshotNode:h,childName:p}}function ai(p,h,d){return{type:"child_changed",snapshotNode:h,childName:p,oldSnap:d}}class Ss{constructor(h){this.index_=h}updateChild(h,d,_,M,k,$){(0,U.vA)(h.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ae=h.getImmediateChild(d);return ae.getChild(M).equals(_.getChild(M))&&ae.isEmpty()===_.isEmpty()||(null!=$&&(_.isEmpty()?h.hasChild(d)?$.trackChildChange(Xi(d,ae)):(0,U.vA)(h.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ae.isEmpty()?$.trackChildChange(Ao(d,_)):$.trackChildChange(ai(d,_,ae))),h.isLeafNode()&&_.isEmpty())?h:h.updateImmediateChild(d,_).withIndex(this.index_)}updateFullNode(h,d,_){return null!=_&&(h.isLeafNode()||h.forEachChild(ts,(M,k)=>{d.hasChild(M)||_.trackChildChange(Xi(M,k))}),d.isLeafNode()||d.forEachChild(ts,(M,k)=>{if(h.hasChild(M)){const $=h.getImmediateChild(M);$.equals(k)||_.trackChildChange(ai(M,k,$))}else _.trackChildChange(Ao(M,k))})),d.withIndex(this.index_)}updatePriority(h,d){return h.isEmpty()?Ln.EMPTY_NODE:h.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ui{constructor(h){this.indexedFilter_=new Ss(h.getIndex()),this.index_=h.getIndex(),this.startPost_=Ui.getStartPost_(h),this.endPost_=Ui.getEndPost_(h),this.startIsInclusive_=!h.startAfterSet_,this.endIsInclusive_=!h.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(h){const d=this.startIsInclusive_?this.index_.compare(this.getStartPost(),h)<=0:this.index_.compare(this.getStartPost(),h)<0,_=this.endIsInclusive_?this.index_.compare(h,this.getEndPost())<=0:this.index_.compare(h,this.getEndPost())<0;return d&&_}updateChild(h,d,_,M,k,$){return this.matches(new Kt(d,_))||(_=Ln.EMPTY_NODE),this.indexedFilter_.updateChild(h,d,_,M,k,$)}updateFullNode(h,d,_){d.isLeafNode()&&(d=Ln.EMPTY_NODE);let M=d.withIndex(this.index_);M=M.updatePriority(Ln.EMPTY_NODE);const k=this;return d.forEachChild(ts,($,ae)=>{k.matches(new Kt($,ae))||(M=M.updateImmediateChild($,Ln.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(h,M,_)}updatePriority(h,d){return h}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(h){if(h.hasStart()){const d=h.getIndexStartName();return h.getIndex().makePost(h.getIndexStartValue(),d)}return h.getIndex().minPost()}static getEndPost_(h){if(h.hasEnd()){const d=h.getIndexEndName();return h.getIndex().makePost(h.getIndexEndValue(),d)}return h.getIndex().maxPost()}}class xa{constructor(h){this.withinDirectionalStart=d=>this.reverse_?this.withinEndPost(d):this.withinStartPost(d),this.withinDirectionalEnd=d=>this.reverse_?this.withinStartPost(d):this.withinEndPost(d),this.withinStartPost=d=>{const _=this.index_.compare(this.rangedFilter_.getStartPost(),d);return this.startIsInclusive_?_<=0:_<0},this.withinEndPost=d=>{const _=this.index_.compare(d,this.rangedFilter_.getEndPost());return this.endIsInclusive_?_<=0:_<0},this.rangedFilter_=new Ui(h),this.index_=h.getIndex(),this.limit_=h.getLimit(),this.reverse_=!h.isViewFromLeft(),this.startIsInclusive_=!h.startAfterSet_,this.endIsInclusive_=!h.endBeforeSet_}updateChild(h,d,_,M,k,$){return this.rangedFilter_.matches(new Kt(d,_))||(_=Ln.EMPTY_NODE),h.getImmediateChild(d).equals(_)?h:h.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(h,d,_,M,k,$):this.fullLimitUpdateChild_(h,d,_,k,$)}updateFullNode(h,d,_){let M;if(d.isLeafNode()||d.isEmpty())M=Ln.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let k;M=Ln.EMPTY_NODE.withIndex(this.index_),k=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let $=0;for(;k.hasNext()&&$<this.limit_;){const ae=k.getNext();if(this.withinDirectionalStart(ae)){if(!this.withinDirectionalEnd(ae))break;M=M.updateImmediateChild(ae.name,ae.node),$++}}}else{let k;M=d.withIndex(this.index_),M=M.updatePriority(Ln.EMPTY_NODE),k=this.reverse_?M.getReverseIterator(this.index_):M.getIterator(this.index_);let $=0;for(;k.hasNext();){const ae=k.getNext();$<this.limit_&&this.withinDirectionalStart(ae)&&this.withinDirectionalEnd(ae)?$++:M=M.updateImmediateChild(ae.name,Ln.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(h,M,_)}updatePriority(h,d){return h}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(h,d,_,M,k){let $;if(this.reverse_){const gt=this.index_.getCompare();$=(mt,Wt)=>gt(Wt,mt)}else $=this.index_.getCompare();const ae=h;(0,U.vA)(ae.numChildren()===this.limit_,"");const Ee=new Kt(d,_),Ne=this.reverse_?ae.getFirstChild(this.index_):ae.getLastChild(this.index_),ut=this.rangedFilter_.matches(Ee);if(ae.hasChild(d)){const gt=ae.getImmediateChild(d);let mt=M.getChildAfterChild(this.index_,Ne,this.reverse_);for(;null!=mt&&(mt.name===d||ae.hasChild(mt.name));)mt=M.getChildAfterChild(this.index_,mt,this.reverse_);const Wt=null==mt?1:$(mt,Ee);if(ut&&!_.isEmpty()&&Wt>=0)return k?.trackChildChange(ai(d,_,gt)),ae.updateImmediateChild(d,_);{k?.trackChildChange(Xi(d,gt));const Zn=ae.updateImmediateChild(d,Ln.EMPTY_NODE);return null!=mt&&this.rangedFilter_.matches(mt)?(k?.trackChildChange(Ao(mt.name,mt.node)),Zn.updateImmediateChild(mt.name,mt.node)):Zn}}return _.isEmpty()?h:ut&&$(Ne,Ee)>=0?(null!=k&&(k.trackChildChange(Xi(Ne.name,Ne.node)),k.trackChildChange(Ao(d,_))),ae.updateImmediateChild(d,_).updateImmediateChild(Ne.name,Ln.EMPTY_NODE)):h}}class li{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ts}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ze}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ut}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ts}copy(){const h=new li;return h.limitSet_=this.limitSet_,h.limit_=this.limit_,h.startSet_=this.startSet_,h.startAfterSet_=this.startAfterSet_,h.indexStartValue_=this.indexStartValue_,h.startNameSet_=this.startNameSet_,h.indexStartName_=this.indexStartName_,h.endSet_=this.endSet_,h.endBeforeSet_=this.endBeforeSet_,h.indexEndValue_=this.indexEndValue_,h.endNameSet_=this.endNameSet_,h.indexEndName_=this.indexEndName_,h.index_=this.index_,h.viewFrom_=this.viewFrom_,h}}function wa(p){const h={};if(p.isDefault())return h;let d;if(p.index_===ts?d="$priority":p.index_===oi?d="$value":p.index_===Qr?d="$key":((0,U.vA)(p.index_ instanceof Js,"Unrecognized index type!"),d=p.index_.toString()),h.orderBy=(0,U.As)(d),p.startSet_){const _=p.startAfterSet_?"startAfter":"startAt";h[_]=(0,U.As)(p.indexStartValue_),p.startNameSet_&&(h[_]+=","+(0,U.As)(p.indexStartName_))}if(p.endSet_){const _=p.endBeforeSet_?"endBefore":"endAt";h[_]=(0,U.As)(p.indexEndValue_),p.endNameSet_&&(h[_]+=","+(0,U.As)(p.indexEndName_))}return p.limitSet_&&(p.isViewFromLeft()?h.limitToFirst=p.limit_:h.limitToLast=p.limit_),h}function Ca(p){const h={};if(p.startSet_&&(h.sp=p.indexStartValue_,p.startNameSet_&&(h.sn=p.indexStartName_),h.sin=!p.startAfterSet_),p.endSet_&&(h.ep=p.indexEndValue_,p.endNameSet_&&(h.en=p.indexEndName_),h.ein=!p.endBeforeSet_),p.limitSet_){h.l=p.limit_;let d=p.viewFrom_;""===d&&(d=p.isViewFromLeft()?"l":"r"),h.vf=d}return p.index_!==ts&&(h.i=p.index_.toString()),h}class ms extends zr{constructor(h,d,_,M){super(),this.repoInfo_=h,this.onDataUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=M,this.log_=Vt("p:rest:"),this.listens_={}}reportStats(h){throw new Error("Method not implemented.")}static getListenId_(h,d){return void 0!==d?"tag$"+d:((0,U.vA)(h._queryParams.isDefault(),"should have a tag if it's not a default query."),h._path.toString())}listen(h,d,_,M){const k=h._path.toString();this.log_("Listen called for "+k+" "+h._queryIdentifier);const $=ms.getListenId_(h,_),ae={};this.listens_[$]=ae;const Ee=wa(h._queryParams);this.restRequest_(k+".json",Ee,(Ne,ut)=>{let gt=ut;if(404===Ne&&(gt=null,Ne=null),null===Ne&&this.onDataUpdate_(k,gt,!1,_),(0,U.yw)(this.listens_,$)===ae){let mt;mt=Ne?401===Ne?"permission_denied":"rest_error:"+Ne:"ok",M(mt,null)}})}unlisten(h,d){const _=ms.getListenId_(h,d);delete this.listens_[_]}get(h){const d=wa(h._queryParams),_=h._path.toString(),M=new U.cY;return this.restRequest_(_+".json",d,(k,$)=>{let ae=$;404===k&&(ae=null,k=null),null===k?(this.onDataUpdate_(_,ae,!1,null),M.resolve(ae)):M.reject(new Error(ae))}),M.promise}refreshAuthToken(h){}restRequest_(h,d={},_){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([M,k])=>{M&&M.accessToken&&(d.auth=M.accessToken),k&&k.token&&(d.ac=k.token);const $=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+h+"?ns="+this.repoInfo_.namespace+(0,U.Am)(d);this.log_("Sending REST request for "+$);const ae=new XMLHttpRequest;ae.onreadystatechange=()=>{if(_&&4===ae.readyState){this.log_("REST Response for "+$+" received. status:",ae.status,"response:",ae.responseText);let Ee=null;if(ae.status>=200&&ae.status<300){try{Ee=(0,U.$L)(ae.responseText)}catch{jt("Failed to parse JSON response for "+$+": "+ae.responseText)}_(null,Ee)}else 401!==ae.status&&404!==ae.status&&jt("Got unsuccessful REST response for "+$+" Status: "+ae.status),_(ae.status);_=null}},ae.open("GET",$,!0),ae.send()})}}class Mn{constructor(){this.rootNode_=Ln.EMPTY_NODE}getNode(h){return this.rootNode_.getChild(h)}updateSnapshot(h,d){this.rootNode_=this.rootNode_.updateChild(h,d)}}function ys(){return{value:null,children:new Map}}function _s(p,h,d){if(Nn(h))p.value=d,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(h,d);else{const _=kn(h);p.children.has(_)||p.children.set(_,ys()),_s(p.children.get(_),h=Xt(h),d)}}function or(p,h){if(Nn(h))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;{const d=p.value;return p.value=null,d.forEachChild(ts,(_,M)=>{_s(p,new mn(_),M)}),or(p,h)}}if(p.children.size>0){const d=kn(h);return h=Xt(h),p.children.has(d)&&or(p.children.get(d),h)&&p.children.delete(d),0===p.children.size}return!0}function Oo(p,h,d){null!==p.value?d(h,p.value):function Fa(p,h){p.children.forEach((d,_)=>{h(_,d)})}(p,(_,M)=>{Oo(M,new mn(h.toString()+"/"+_),d)})}class pl{constructor(h){this.collection_=h,this.last_=null}get(){const h=this.collection_.get(),d=Object.assign({},h);return this.last_&&Yn(this.last_,(_,M)=>{d[_]=d[_]-M}),this.last_=h,d}}class ie{constructor(h,d){this.server_=d,this.statsToReport_={},this.statsListener_=new pl(h);const _=1e4+2e4*Math.random();Un(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const h=this.statsListener_.get(),d={};let _=!1;Yn(h,(M,k)=>{k>0&&(0,U.gR)(this.statsToReport_,M)&&(d[M]=k,_=!0)}),_&&this.server_.reportStats(d),Un(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Se=function(p){return p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",p}(Se||{});function gi(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class Di{constructor(h,d,_){this.path=h,this.affectedTree=d,this.revert=_,this.type=Se.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(h){if(Nn(this.path)){if(null!=this.affectedTree.value)return(0,U.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new mn(h));return new Di(er(),d,this.revert)}}return(0,U.vA)(kn(this.path)===h,"operationForChild called for unrelated child."),new Di(Xt(this.path),this.affectedTree,this.revert)}}class wi{constructor(h,d){this.source=h,this.path=d,this.type=Se.LISTEN_COMPLETE}operationForChild(h){return Nn(this.path)?new wi(this.source,er()):new wi(this.source,Xt(this.path))}}class qi{constructor(h,d,_){this.source=h,this.path=d,this.snap=_,this.type=Se.OVERWRITE}operationForChild(h){return Nn(this.path)?new qi(this.source,er(),this.snap.getImmediateChild(h)):new qi(this.source,Xt(this.path),this.snap)}}class No{constructor(h,d,_){this.source=h,this.path=d,this.children=_,this.type=Se.MERGE}operationForChild(h){if(Nn(this.path)){const d=this.children.subtree(new mn(h));return d.isEmpty()?null:d.value?new qi(this.source,er(),d.value):new No(this.source,er(),d)}return(0,U.vA)(kn(this.path)===h,"Can't get a merge for a child not on the path of the operation"),new No(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yi{constructor(h,d,_){this.node_=h,this.fullyInitialized_=d,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(h){if(Nn(h))return this.isFullyInitialized()&&!this.filtered_;const d=kn(h);return this.isCompleteForChild(d)}isCompleteForChild(h){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(h)}getNode(){return this.node_}}class Nl{constructor(h){this.query_=h,this.index_=this.query_._queryParams.getIndex()}}function Os(p,h,d,_,M,k){const $=_.filter(ae=>ae.type===d);$.sort((ae,Ee)=>function zo(p,h,d){if(null==h.childName||null==d.childName)throw(0,U.Hk)("Should only compare child_ events.");const _=new Kt(h.childName,h.snapshotNode),M=new Kt(d.childName,d.snapshotNode);return p.index_.compare(_,M)}(p,ae,Ee)),$.forEach(ae=>{const Ee=function bs(p,h,d){return"value"===h.type||"child_removed"===h.type||(h.prevName=d.getPredecessorChildName(h.childName,h.snapshotNode,p.index_)),h}(p,ae,k);M.forEach(Ne=>{Ne.respondsTo(ae.type)&&h.push(Ne.createEvent(Ee,p.query_))})})}function ra(p,h){return{eventCache:p,serverCache:h}}function Ro(p,h,d,_){return ra(new Yi(h,d,_),p.serverCache)}function Mi(p,h,d,_){return ra(p.eventCache,new Yi(h,d,_))}function $i(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function mi(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let ar;class fr{constructor(h,d=(()=>(ar||(ar=new Wr(nr)),ar))()){this.value=h,this.children=d}static fromObject(h){let d=new fr(null);return Yn(h,(_,M)=>{d=d.set(new mn(_),M)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(h,d){if(null!=this.value&&d(this.value))return{path:er(),value:this.value};if(Nn(h))return null;{const _=kn(h),M=this.children.get(_);if(null!==M){const k=M.findRootMostMatchingPathAndValue(Xt(h),d);return null!=k?{path:Gr(new mn(_),k.path),value:k.value}:null}return null}}findRootMostValueAndPath(h){return this.findRootMostMatchingPathAndValue(h,()=>!0)}subtree(h){if(Nn(h))return this;{const d=kn(h),_=this.children.get(d);return null!==_?_.subtree(Xt(h)):new fr(null)}}set(h,d){if(Nn(h))return new fr(d,this.children);{const _=kn(h),k=(this.children.get(_)||new fr(null)).set(Xt(h),d),$=this.children.insert(_,k);return new fr(this.value,$)}}remove(h){if(Nn(h))return this.children.isEmpty()?new fr(null):new fr(null,this.children);{const d=kn(h),_=this.children.get(d);if(_){const M=_.remove(Xt(h));let k;return k=M.isEmpty()?this.children.remove(d):this.children.insert(d,M),null===this.value&&k.isEmpty()?new fr(null):new fr(this.value,k)}return this}}get(h){if(Nn(h))return this.value;{const d=kn(h),_=this.children.get(d);return _?_.get(Xt(h)):null}}setTree(h,d){if(Nn(h))return d;{const _=kn(h),k=(this.children.get(_)||new fr(null)).setTree(Xt(h),d);let $;return $=k.isEmpty()?this.children.remove(_):this.children.insert(_,k),new fr(this.value,$)}}fold(h){return this.fold_(er(),h)}fold_(h,d){const _={};return this.children.inorderTraversal((M,k)=>{_[M]=k.fold_(Gr(h,M),d)}),d(h,this.value,_)}findOnPath(h,d){return this.findOnPath_(h,er(),d)}findOnPath_(h,d,_){const M=!!this.value&&_(d,this.value);if(M)return M;if(Nn(h))return null;{const k=kn(h),$=this.children.get(k);return $?$.findOnPath_(Xt(h),Gr(d,k),_):null}}foreachOnPath(h,d){return this.foreachOnPath_(h,er(),d)}foreachOnPath_(h,d,_){if(Nn(h))return this;{this.value&&_(d,this.value);const M=kn(h),k=this.children.get(M);return k?k.foreachOnPath_(Xt(h),Gr(d,M),_):new fr(null)}}foreach(h){this.foreach_(er(),h)}foreach_(h,d){this.children.inorderTraversal((_,M)=>{M.foreach_(Gr(h,_),d)}),this.value&&d(h,this.value)}foreachChild(h){this.children.inorderTraversal((d,_)=>{_.value&&h(d,_.value)})}}class Ci{constructor(h){this.writeTree_=h}static empty(){return new Ci(new fr(null))}}function Do(p,h,d){if(Nn(h))return new Ci(new fr(d));{const _=p.writeTree_.findRootMostValueAndPath(h);if(null!=_){const M=_.path;let k=_.value;const $=oe(M,h);return k=k.updateChild($,d),new Ci(p.writeTree_.set(M,k))}{const M=new fr(d),k=p.writeTree_.setTree(h,M);return new Ci(k)}}}function Ia(p,h,d){let _=p;return Yn(d,(M,k)=>{_=Do(_,Gr(h,M),k)}),_}function br(p,h){if(Nn(h))return Ci.empty();{const d=p.writeTree_.setTree(h,new fr(null));return new Ci(d)}}function Ns(p,h){return null!=ui(p,h)}function ui(p,h){const d=p.writeTree_.findRootMostValueAndPath(h);return null!=d?p.writeTree_.get(d.path).getChild(oe(d.path,h)):null}function Go(p){const h=[],d=p.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(ts,(_,M)=>{h.push(new Kt(_,M))}):p.writeTree_.children.inorderTraversal((_,M)=>{null!=M.value&&h.push(new Kt(_,M.value))}),h}function Es(p,h){if(Nn(h))return p;{const d=ui(p,h);return new Ci(null!=d?new fr(d):p.writeTree_.subtree(h))}}function pr(p){return p.writeTree_.isEmpty()}function Qo(p,h){return Xo(er(),p.writeTree_,h)}function Xo(p,h,d){if(null!=h.value)return d.updateChild(p,h.value);{let _=null;return h.children.inorderTraversal((M,k)=>{".priority"===M?((0,U.vA)(null!==k.value,"Priority writes must always be leaf nodes"),_=k.value):d=Xo(Gr(p,M),k,d)}),!d.getChild(p).isEmpty()&&null!==_&&(d=d.updateChild(Gr(p,".priority"),_)),d}}function Uo(p,h){return Y(h,p)}function fu(p,h){if(p.snap)return Ge(p.path,h);for(const d in p.children)if(p.children.hasOwnProperty(d)&&Ge(Gr(p.path,d),h))return!0;return!1}function Pl(p){return p.visible}function Sa(p,h,d){let _=Ci.empty();for(let M=0;M<p.length;++M){const k=p[M];if(h(k)){const $=k.path;let ae;if(k.snap)Ge(d,$)?(ae=oe(d,$),_=Do(_,ae,k.snap)):Ge($,d)&&(ae=oe($,d),_=Do(_,er(),k.snap.getChild(ae)));else{if(!k.children)throw(0,U.Hk)("WriteRecord should have .snap or .children");if(Ge(d,$))ae=oe(d,$),_=Ia(_,ae,k.children);else if(Ge($,d))if(ae=oe($,d),Nn(ae))_=Ia(_,er(),k.children);else{const Ee=(0,U.yw)(k.children,kn(ae));if(Ee){const Ne=Ee.getChild(Xt(ae));_=Do(_,er(),Ne)}}}}}return _}function Nr(p,h,d,_,M){if(_||M){const k=Es(p.visibleWrites,h);return!M&&pr(k)?d:M||null!=d||Ns(k,er())?Qo(Sa(p.allWrites,function(Ne){return(Ne.visible||M)&&(!_||!~_.indexOf(Ne.writeId))&&(Ge(Ne.path,h)||Ge(h,Ne.path))},h),d||Ln.EMPTY_NODE):null}{const k=ui(p.visibleWrites,h);if(null!=k)return k;{const $=Es(p.visibleWrites,h);return pr($)?d:null!=d||Ns($,er())?Qo($,d||Ln.EMPTY_NODE):null}}}function is(p,h,d,_){return Nr(p.writeTree,p.treePath,h,d,_)}function Cr(p,h){return function Ft(p,h,d){let _=Ln.EMPTY_NODE;const M=ui(p.visibleWrites,h);if(M)return M.isLeafNode()||M.forEachChild(ts,(k,$)=>{_=_.updateImmediateChild(k,$)}),_;if(d){const k=Es(p.visibleWrites,h);return d.forEachChild(ts,($,ae)=>{const Ee=Qo(Es(k,new mn($)),ae);_=_.updateImmediateChild($,Ee)}),Go(k).forEach($=>{_=_.updateImmediateChild($.name,$.node)}),_}return Go(Es(p.visibleWrites,h)).forEach($=>{_=_.updateImmediateChild($.name,$.node)}),_}(p.writeTree,p.treePath,h)}function gr(p,h,d,_){return function Dn(p,h,d,_,M){(0,U.vA)(_||M,"Either existingEventSnap or existingServerSnap must exist");const k=Gr(h,d);if(Ns(p.visibleWrites,k))return null;{const $=Es(p.visibleWrites,k);return pr($)?M.getChild(d):Qo($,M.getChild(d))}}(p.writeTree,p.treePath,h,d,_)}function Ii(p,h){return function Hi(p,h){return ui(p.visibleWrites,h)}(p.writeTree,Gr(p.treePath,h))}function Nt(p,h,d){return function Gs(p,h,d,_){const M=Gr(h,d),k=ui(p.visibleWrites,M);return null!=k?k:_.isCompleteForChild(d)?Qo(Es(p.visibleWrites,M),_.getNode().getImmediateChild(d)):null}(p.writeTree,p.treePath,h,d)}function O(p,h){return Y(Gr(p.treePath,h),p.writeTree)}function Y(p,h){return{treePath:p,writeTree:h}}class F{constructor(){this.changeMap=new Map}trackChildChange(h){const d=h.type,_=h.childName;(0,U.vA)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,U.vA)(".priority"!==_,"Only non-priority child changes can be tracked.");const M=this.changeMap.get(_);if(M){const k=M.type;if("child_added"===d&&"child_removed"===k)this.changeMap.set(_,ai(_,h.snapshotNode,M.snapshotNode));else if("child_removed"===d&&"child_added"===k)this.changeMap.delete(_);else if("child_removed"===d&&"child_changed"===k)this.changeMap.set(_,Xi(_,M.oldSnap));else if("child_changed"===d&&"child_added"===k)this.changeMap.set(_,Ao(_,h.snapshotNode));else{if("child_changed"!==d||"child_changed"!==k)throw(0,U.Hk)("Illegal combination of changes: "+h+" occurred after "+M);this.changeMap.set(_,ai(_,h.snapshotNode,M.oldSnap))}}else this.changeMap.set(_,h)}getChanges(){return Array.from(this.changeMap.values())}}const te=new class V{getCompleteChild(h){return null}getChildAfterChild(h,d,_){return null}};class Ye{constructor(h,d,_=null){this.writes_=h,this.viewCache_=d,this.optCompleteServerCache_=_}getCompleteChild(h){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(h))return d.getNode().getImmediateChild(h);{const _=null!=this.optCompleteServerCache_?new Yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nt(this.writes_,h,_)}}getChildAfterChild(h,d,_){const M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mi(this.viewCache_),k=function Pn(p,h,d,_,M,k){return function Ms(p,h,d,_,M,k,$){let ae;const Ee=Es(p.visibleWrites,h),Ne=ui(Ee,er());if(null!=Ne)ae=Ne;else{if(null==d)return[];ae=Qo(Ee,d)}if(ae=ae.withIndex($),ae.isEmpty()||ae.isLeafNode())return[];{const ut=[],gt=$.getCompare(),mt=k?ae.getReverseIteratorFrom(_,$):ae.getIteratorFrom(_,$);let Wt=mt.getNext();for(;Wt&&ut.length<M;)0!==gt(Wt,_)&&ut.push(Wt),Wt=mt.getNext();return ut}}(p.writeTree,p.treePath,h,d,_,M,k)}(this.writes_,M,d,1,_,h);return 0===k.length?null:k[0]}}function Mr(p,h,d,_,M,k){const $=h.eventCache;if(null!=Ii(_,d))return h;{let ae,Ee;if(Nn(d))if((0,U.vA)(h.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),h.serverCache.isFiltered()){const Ne=mi(h),gt=Cr(_,Ne instanceof Ln?Ne:Ln.EMPTY_NODE);ae=p.filter.updateFullNode(h.eventCache.getNode(),gt,k)}else{const Ne=is(_,mi(h));ae=p.filter.updateFullNode(h.eventCache.getNode(),Ne,k)}else{const Ne=kn(d);if(".priority"===Ne){(0,U.vA)(1===Cs(d),"Can't have a priority with additional path components");const ut=$.getNode();Ee=h.serverCache.getNode();const gt=gr(_,d,ut,Ee);ae=null!=gt?p.filter.updatePriority(ut,gt):$.getNode()}else{const ut=Xt(d);let gt;if($.isCompleteForChild(Ne)){Ee=h.serverCache.getNode();const mt=gr(_,d,$.getNode(),Ee);gt=null!=mt?$.getNode().getImmediateChild(Ne).updateChild(ut,mt):$.getNode().getImmediateChild(Ne)}else gt=Nt(_,Ne,h.serverCache);ae=null!=gt?p.filter.updateChild($.getNode(),Ne,gt,ut,M,k):$.getNode()}}return Ro(h,ae,$.isFullyInitialized()||Nn(d),p.filter.filtersNodes())}}function Vn(p,h,d,_,M,k,$,ae){const Ee=h.serverCache;let Ne;const ut=$?p.filter:p.filter.getIndexedFilter();if(Nn(d))Ne=ut.updateFullNode(Ee.getNode(),_,null);else if(ut.filtersNodes()&&!Ee.isFiltered()){const Wt=Ee.getNode().updateChild(d,_);Ne=ut.updateFullNode(Ee.getNode(),Wt,null)}else{const Wt=kn(d);if(!Ee.isCompleteForPath(d)&&Cs(d)>1)return h;const Fn=Xt(d),di=Ee.getNode().getImmediateChild(Wt).updateChild(Fn,_);Ne=".priority"===Wt?ut.updatePriority(Ee.getNode(),di):ut.updateChild(Ee.getNode(),Wt,di,Fn,te,null)}const gt=Mi(h,Ne,Ee.isFullyInitialized()||Nn(d),ut.filtersNodes());return Mr(p,gt,d,M,new Ye(M,gt,k),ae)}function Ur(p,h,d,_,M,k,$){const ae=h.eventCache;let Ee,Ne;const ut=new Ye(M,h,k);if(Nn(d))Ne=p.filter.updateFullNode(h.eventCache.getNode(),_,$),Ee=Ro(h,Ne,!0,p.filter.filtersNodes());else{const gt=kn(d);if(".priority"===gt)Ne=p.filter.updatePriority(h.eventCache.getNode(),_),Ee=Ro(h,Ne,ae.isFullyInitialized(),ae.isFiltered());else{const mt=Xt(d),Wt=ae.getNode().getImmediateChild(gt);let Fn;if(Nn(mt))Fn=_;else{const Zn=ut.getCompleteChild(gt);Fn=null!=Zn?".priority"===Gi(mt)&&Zn.getChild(yo(mt)).isEmpty()?Zn:Zn.updateChild(mt,_):Ln.EMPTY_NODE}Ee=Wt.equals(Fn)?h:Ro(h,p.filter.updateChild(ae.getNode(),gt,Fn,mt,ut,$),ae.isFullyInitialized(),p.filter.filtersNodes())}}return Ee}function Pt(p,h){return p.eventCache.isCompleteForChild(h)}function Vs(p,h,d){return d.foreach((_,M)=>{h=h.updateChild(_,M)}),h}function As(p,h,d,_,M,k,$,ae){if(h.serverCache.getNode().isEmpty()&&!h.serverCache.isFullyInitialized())return h;let Ne,Ee=h;Ne=Nn(d)?_:new fr(null).setTree(d,_);const ut=h.serverCache.getNode();return Ne.children.inorderTraversal((gt,mt)=>{if(ut.hasChild(gt)){const Fn=Vs(0,h.serverCache.getNode().getImmediateChild(gt),mt);Ee=Vn(p,Ee,new mn(gt),Fn,M,k,$,ae)}}),Ne.children.inorderTraversal((gt,mt)=>{const Wt=!h.serverCache.isCompleteForChild(gt)&&null===mt.value;if(!ut.hasChild(gt)&&!Wt){const Zn=Vs(0,h.serverCache.getNode().getImmediateChild(gt),mt);Ee=Vn(p,Ee,new mn(gt),Zn,M,k,$,ae)}}),Ee}class Br{constructor(h,d){this.query_=h,this.eventRegistrations_=[];const _=this.query_._queryParams,M=new Ss(_.getIndex()),k=function Bi(p){return p.loadsAllData()?new Ss(p.getIndex()):p.hasLimit()?new xa(p):new Ui(p)}(_);this.processor_=function Le(p){return{filter:p}}(k);const $=d.serverCache,ae=d.eventCache,Ee=M.updateFullNode(Ln.EMPTY_NODE,$.getNode(),null),Ne=k.updateFullNode(Ln.EMPTY_NODE,ae.getNode(),null),ut=new Yi(Ee,$.isFullyInitialized(),M.filtersNodes()),gt=new Yi(Ne,ae.isFullyInitialized(),k.filtersNodes());this.viewCache_=ra(gt,ut),this.eventGenerator_=new Nl(this.query_)}get query(){return this.query_}}function Us(p,h){const d=mi(p.viewCache_);return d&&(p.query._queryParams.loadsAllData()||!Nn(h)&&!d.getImmediateChild(kn(h)).isEmpty())?d.getChild(h):null}function us(p){return 0===p.eventRegistrations_.length}function jo(p,h,d){const _=[];if(d){(0,U.vA)(null==h,"A cancel should cancel all event registrations.");const M=p.query._path;p.eventRegistrations_.forEach(k=>{const $=k.createCancelEvent(d,M);$&&_.push($)})}if(h){let M=[];for(let k=0;k<p.eventRegistrations_.length;++k){const $=p.eventRegistrations_[k];if($.matches(h)){if(h.hasAnyCallback()){M=M.concat(p.eventRegistrations_.slice(k+1));break}}else M.push($)}p.eventRegistrations_=M}else p.eventRegistrations_=[];return _}function Kr(p,h,d,_){h.type===Se.MERGE&&null!==h.source.queryId&&((0,U.vA)(mi(p.viewCache_),"We should always have a full cache before handling merges"),(0,U.vA)($i(p.viewCache_),"Missing event cache, even though we have a server cache"));const M=p.viewCache_,k=function dt(p,h,d,_,M){const k=new F;let $,ae;if(d.type===Se.OVERWRITE){const Ne=d;Ne.source.fromUser?$=Ur(p,h,Ne.path,Ne.snap,_,M,k):((0,U.vA)(Ne.source.fromServer,"Unknown source."),ae=Ne.source.tagged||h.serverCache.isFiltered()&&!Nn(Ne.path),$=Vn(p,h,Ne.path,Ne.snap,_,M,ae,k))}else if(d.type===Se.MERGE){const Ne=d;Ne.source.fromUser?$=function Ls(p,h,d,_,M,k,$){let ae=h;return _.foreach((Ee,Ne)=>{const ut=Gr(d,Ee);Pt(h,kn(ut))&&(ae=Ur(p,ae,ut,Ne,M,k,$))}),_.foreach((Ee,Ne)=>{const ut=Gr(d,Ee);Pt(h,kn(ut))||(ae=Ur(p,ae,ut,Ne,M,k,$))}),ae}(p,h,Ne.path,Ne.children,_,M,k):((0,U.vA)(Ne.source.fromServer,"Unknown source."),ae=Ne.source.tagged||h.serverCache.isFiltered(),$=As(p,h,Ne.path,Ne.children,_,M,ae,k))}else if(d.type===Se.ACK_USER_WRITE){const Ne=d;$=Ne.revert?function ns(p,h,d,_,M,k){let $;if(null!=Ii(_,d))return h;{const ae=new Ye(_,h,M),Ee=h.eventCache.getNode();let Ne;if(Nn(d)||".priority"===kn(d)){let ut;if(h.serverCache.isFullyInitialized())ut=is(_,mi(h));else{const gt=h.serverCache.getNode();(0,U.vA)(gt instanceof Ln,"serverChildren would be complete if leaf node"),ut=Cr(_,gt)}Ne=p.filter.updateFullNode(Ee,ut,k)}else{const ut=kn(d);let gt=Nt(_,ut,h.serverCache);null==gt&&h.serverCache.isCompleteForChild(ut)&&(gt=Ee.getImmediateChild(ut)),Ne=null!=gt?p.filter.updateChild(Ee,ut,gt,Xt(d),ae,k):h.eventCache.getNode().hasChild(ut)?p.filter.updateChild(Ee,ut,Ln.EMPTY_NODE,Xt(d),ae,k):Ee,Ne.isEmpty()&&h.serverCache.isFullyInitialized()&&($=is(_,mi(h)),$.isLeafNode()&&(Ne=p.filter.updateFullNode(Ne,$,k)))}return $=h.serverCache.isFullyInitialized()||null!=Ii(_,er()),Ro(h,Ne,$,p.filter.filtersNodes())}}(p,h,Ne.path,_,M,k):function ia(p,h,d,_,M,k,$){if(null!=Ii(M,d))return h;const ae=h.serverCache.isFiltered(),Ee=h.serverCache;if(null!=_.value){if(Nn(d)&&Ee.isFullyInitialized()||Ee.isCompleteForPath(d))return Vn(p,h,d,Ee.getNode().getChild(d),M,k,ae,$);if(Nn(d)){let Ne=new fr(null);return Ee.getNode().forEachChild(Qr,(ut,gt)=>{Ne=Ne.set(new mn(ut),gt)}),As(p,h,d,Ne,M,k,ae,$)}return h}{let Ne=new fr(null);return _.foreach((ut,gt)=>{const mt=Gr(d,ut);Ee.isCompleteForPath(mt)&&(Ne=Ne.set(ut,Ee.getNode().getChild(mt)))}),As(p,h,d,Ne,M,k,ae,$)}}(p,h,Ne.path,Ne.affectedTree,_,M,k)}else{if(d.type!==Se.LISTEN_COMPLETE)throw(0,U.Hk)("Unknown operation type: "+d.type);$=function Ai(p,h,d,_,M){const k=h.serverCache;return Mr(p,Mi(h,k.getNode(),k.isFullyInitialized()||Nn(d),k.isFiltered()),d,_,te,M)}(p,h,d.path,_,k)}const Ee=k.getChanges();return function In(p,h,d){const _=h.eventCache;if(_.isFullyInitialized()){const M=_.getNode().isLeafNode()||_.getNode().isEmpty(),k=$i(p);(d.length>0||!p.eventCache.isFullyInitialized()||M&&!_.getNode().equals(k)||!_.getNode().getPriority().equals(k.getPriority()))&&d.push(_o($i(h)))}}(h,$,Ee),{viewCache:$,changes:Ee}}(p.processor_,M,h,d,_);return function xe(p,h){(0,U.vA)(h.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,U.vA)(h.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,k.viewCache),(0,U.vA)(k.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=k.viewCache,os(p,k.changes,k.viewCache.eventCache.getNode(),null)}function os(p,h,d,_){return function Rl(p,h,d,_){const M=[],k=[];return h.forEach($=>{"child_changed"===$.type&&p.index_.indexedValueChanged($.oldSnap,$.snapshotNode)&&k.push(function ta(p,h){return{type:"child_moved",snapshotNode:h,childName:p}}($.childName,$.snapshotNode))}),Os(p,M,"child_removed",h,_,d),Os(p,M,"child_added",h,_,d),Os(p,M,"child_moved",k,_,d),Os(p,M,"child_changed",h,_,d),Os(p,M,"value",h,_,d),M}(p.eventGenerator_,h,d,_?[_]:p.eventRegistrations_)}let en,tl;class Ja{constructor(){this.views=new Map}}function kl(p,h,d,_){const M=h.source.queryId;if(null!==M){const k=p.views.get(M);return(0,U.vA)(null!=k,"SyncTree gave us an op for an invalid query."),Kr(k,h,d,_)}{let k=[];for(const $ of p.views.values())k=k.concat(Kr($,h,d,_));return k}}function Wu(p,h,d,_,M){const $=p.views.get(h._queryIdentifier);if(!$){let ae=is(d,M?_:null),Ee=!1;ae?Ee=!0:_ instanceof Ln?(ae=Cr(d,_),Ee=!1):(ae=Ln.EMPTY_NODE,Ee=!1);const Ne=ra(new Yi(ae,Ee,!1),new Yi(_,M,!1));return new Br(h,Ne)}return $}function Fc(p){const h=[];for(const d of p.views.values())d.query._queryParams.loadsAllData()||h.push(d);return h}function Qs(p,h){let d=null;for(const _ of p.views.values())d=d||Us(_,h);return d}function rc(p,h){return h._queryParams.loadsAllData()?oa(p):p.views.get(h._queryIdentifier)}function pu(p,h){return null!=rc(p,h)}function La(p){return null!=oa(p)}function oa(p){for(const h of p.views.values())if(h.query._queryParams.loadsAllData())return h;return null}let Va=1;class Ku{constructor(h){this.listenProvider_=h,this.syncPointTree_=new fr(null),this.pendingWriteTree_=function Zi(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nl(p,h,d,_,M){return function ka(p,h,d,_,M){(0,U.vA)(_>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),p.allWrites.push({path:h,snap:d,writeId:_,visible:M}),M&&(p.visibleWrites=Do(p.visibleWrites,h,d)),p.lastWriteId=_}(p.pendingWriteTree_,h,d,_,M),M?G(p,new qi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,d)):[]}function Ga(p,h,d=!1){const _=function sa(p,h){for(let d=0;d<p.allWrites.length;d++){const _=p.allWrites[d];if(_.writeId===h)return _}return null}(p.pendingWriteTree_,h);if(function xl(p,h){const d=p.allWrites.findIndex(ae=>ae.writeId===h);(0,U.vA)(d>=0,"removeWrite called with nonexistent writeId.");const _=p.allWrites[d];p.allWrites.splice(d,1);let M=_.visible,k=!1,$=p.allWrites.length-1;for(;M&&$>=0;){const ae=p.allWrites[$];ae.visible&&($>=d&&fu(ae,_.path)?M=!1:Ge(_.path,ae.path)&&(k=!0)),$--}return!!M&&(k?(function Ta(p){p.visibleWrites=Sa(p.allWrites,Pl,er()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(_.snap?p.visibleWrites=br(p.visibleWrites,_.path):Yn(_.children,Ee=>{p.visibleWrites=br(p.visibleWrites,Gr(_.path,Ee))}),!0))}(p.pendingWriteTree_,h)){let k=new fr(null);return null!=_.snap?k=k.set(er(),!0):Yn(_.children,$=>{k=k.set(new mn($),!0)}),G(p,new Di(_.path,k,d))}return[]}function aa(p,h,d){return G(p,new qi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,d))}function sc(p,h,d,_,M=!1){const k=h._path,$=p.syncPointTree_.get(k);let ae=[];if($&&("default"===h._queryIdentifier||pu($,h))){const Ee=function Ka(p,h,d,_){const M=h._queryIdentifier,k=[];let $=[];const ae=La(p);if("default"===M)for(const[Ee,Ne]of p.views.entries())$=$.concat(jo(Ne,d,_)),us(Ne)&&(p.views.delete(Ee),Ne.query._queryParams.loadsAllData()||k.push(Ne.query));else{const Ee=p.views.get(M);Ee&&($=$.concat(jo(Ee,d,_)),us(Ee)&&(p.views.delete(M),Ee.query._queryParams.loadsAllData()||k.push(Ee.query)))}return ae&&!La(p)&&k.push(new(function Fl(){return(0,U.vA)(en,"Reference.ts has not been loaded"),en}())(h._repo,h._path)),{removed:k,events:$}}($,h,d,_);(function Hu(p){return 0===p.views.size})($)&&(p.syncPointTree_=p.syncPointTree_.remove(k));const Ne=Ee.removed;if(ae=Ee.events,!M){const ut=-1!==Ne.findIndex(mt=>mt._queryParams.loadsAllData()),gt=p.syncPointTree_.findOnPath(k,(mt,Wt)=>La(Wt));if(ut&&!gt){const mt=p.syncPointTree_.subtree(k);if(!mt.isEmpty()){const Wt=function Xs(p){return p.fold((h,d,_)=>{if(d&&La(d))return[oa(d)];{let M=[];return d&&(M=Fc(d)),Yn(_,(k,$)=>{M=M.concat($)}),M}})}(mt);for(let Fn=0;Fn<Wt.length;++Fn){const Zn=Wt[Fn],di=Zn.query,fo=at(p,Zn);p.listenProvider_.startListening(Oi(di),We(p,di),fo.hashFn,fo.onComplete)}}}!gt&&Ne.length>0&&!_&&(ut?p.listenProvider_.stopListening(Oi(h),null):Ne.forEach(mt=>{const Wt=p.queryToTagMap.get($t(mt));p.listenProvider_.stopListening(Oi(mt),Wt)}))}!function ba(p,h){for(let d=0;d<h.length;++d){const _=h[d];if(!_._queryParams.loadsAllData()){const M=$t(_),k=p.queryToTagMap.get(M);p.queryToTagMap.delete(M),p.tagToQueryMap.delete(k)}}}(p,Ne)}return ae}function Ji(p,h,d,_){const M=Gn(p,_);if(null!=M){const k=Hn(M),$=k.path,ae=k.queryId,Ee=oe($,h);return Xr(p,$,new qi(gi(ae),Ee,d))}return[]}function x(p,h,d,_=!1){const M=h._path;let k=null,$=!1;p.syncPointTree_.foreachOnPath(M,(mt,Wt)=>{const Fn=oe(mt,M);k=k||Qs(Wt,Fn),$=$||La(Wt)});let Ee,ae=p.syncPointTree_.get(M);ae?($=$||La(ae),k=k||Qs(ae,er())):(ae=new Ja,p.syncPointTree_=p.syncPointTree_.set(M,ae)),null!=k?Ee=!0:(Ee=!1,k=Ln.EMPTY_NODE,p.syncPointTree_.subtree(M).foreachChild((Wt,Fn)=>{const Zn=Qs(Fn,er());Zn&&(k=k.updateImmediateChild(Wt,Zn))}));const Ne=pu(ae,h);if(!Ne&&!h._queryParams.loadsAllData()){const mt=$t(h);(0,U.vA)(!p.queryToTagMap.has(mt),"View does not exist, but we have a tag");const Wt=function qo(){return Va++}();p.queryToTagMap.set(mt,Wt),p.tagToQueryMap.set(Wt,mt)}let gt=function el(p,h,d,_,M,k){const $=Wu(p,h,_,M,k);return p.views.has(h._queryIdentifier)||p.views.set(h._queryIdentifier,$),function tn(p,h){p.eventRegistrations_.push(h)}($,d),function Pc(p,h){const d=p.viewCache_.eventCache,_=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(ts,(k,$)=>{_.push(Ao(k,$))}),d.isFullyInitialized()&&_.push(_o(d.getNode())),os(p,_,d.getNode(),h)}($,d)}(ae,h,d,Uo(p.pendingWriteTree_,M),k,Ee);if(!Ne&&!$&&!_){const mt=rc(ae,h);gt=gt.concat(function Wi(p,h,d){const _=h._path,M=We(p,h),k=at(p,d),$=p.listenProvider_.startListening(Oi(h),M,k.hashFn,k.onComplete),ae=p.syncPointTree_.subtree(_);if(M)(0,U.vA)(!La(ae.value),"If we're adding a query, it shouldn't be shadowed");else{const Ee=ae.fold((Ne,ut,gt)=>{if(!Nn(Ne)&&ut&&La(ut))return[oa(ut).query];{let mt=[];return ut&&(mt=mt.concat(Fc(ut).map(Wt=>Wt.query))),Yn(gt,(Wt,Fn)=>{mt=mt.concat(Fn)}),mt}});for(let Ne=0;Ne<Ee.length;++Ne){const ut=Ee[Ne];p.listenProvider_.stopListening(Oi(ut),We(p,ut))}}return $}(p,h,mt))}return gt}function A(p,h,d){const M=p.pendingWriteTree_,k=p.syncPointTree_.findOnPath(h,($,ae)=>{const Ne=Qs(ae,oe($,h));if(Ne)return Ne});return Nr(M,h,k,d,!0)}function G(p,h){return le(h,p.syncPointTree_,null,Uo(p.pendingWriteTree_,er()))}function le(p,h,d,_){if(Nn(p.path))return pe(p,h,d,_);{const M=h.get(er());null==d&&null!=M&&(d=Qs(M,er()));let k=[];const $=kn(p.path),ae=p.operationForChild($),Ee=h.children.get($);if(Ee&&ae){const Ne=d?d.getImmediateChild($):null,ut=O(_,$);k=k.concat(le(ae,Ee,Ne,ut))}return M&&(k=k.concat(kl(M,p,_,d))),k}}function pe(p,h,d,_){const M=h.get(er());null==d&&null!=M&&(d=Qs(M,er()));let k=[];return h.children.inorderTraversal(($,ae)=>{const Ee=d?d.getImmediateChild($):null,Ne=O(_,$),ut=p.operationForChild($);ut&&(k=k.concat(pe(ut,ae,Ee,Ne)))}),M&&(k=k.concat(kl(M,p,_,d))),k}function at(p,h){const d=h.query,_=We(p,d);return{hashFn:()=>(function ln(p){return p.viewCache_.serverCache.getNode()}(h)||Ln.EMPTY_NODE).hash(),onComplete:M=>{if("ok"===M)return _?function Rd(p,h,d){const _=Gn(p,d);if(_){const M=Hn(_),k=M.path,$=M.queryId,ae=oe(k,h);return Xr(p,k,new wi(gi($),ae))}return[]}(p,d._path,_):function mu(p,h){return G(p,new wi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h))}(p,d._path);{const k=function et(p,h){let d="Unknown Error";"too_big"===p?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?d="Client doesn't have permission to access the desired data.":"unavailable"===p&&(d="The service is unavailable");const _=new Error(p+" at "+h._path.toString()+": "+d);return _.code=p.toUpperCase(),_}(M,d);return sc(p,d,null,k)}}}}function We(p,h){const d=$t(h);return p.queryToTagMap.get(d)}function $t(p){return p._path.toString()+"$"+p._queryIdentifier}function Gn(p,h){return p.tagToQueryMap.get(h)}function Hn(p){const h=p.indexOf("$");return(0,U.vA)(-1!==h&&h<p.length-1,"Bad queryKey."),{queryId:p.substr(h+1),path:new mn(p.substr(0,h))}}function Xr(p,h,d){const _=p.syncPointTree_.get(h);return(0,U.vA)(_,"Missing sync point for query tag that we're tracking"),kl(_,d,Uo(p.pendingWriteTree_,h),null)}function Oi(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new(function kc(){return(0,U.vA)(tl,"Reference.ts has not been loaded"),tl}())(p._repo,p._path):p}class ic{constructor(h){this.node_=h}getImmediateChild(h){const d=this.node_.getImmediateChild(h);return new ic(d)}node(){return this.node_}}class Qa{constructor(h,d){this.syncTree_=h,this.path_=d}getImmediateChild(h){const d=Gr(this.path_,h);return new Qa(this.syncTree_,d)}node(){return A(this.syncTree_,this.path_)}}const xd=function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p},oc=function(p,h,d){return p&&"object"==typeof p?((0,U.vA)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?Lc(p[".sv"],h,d):"object"==typeof p[".sv"]?ac(p[".sv"],h):void(0,U.vA)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},Lc=function(p,h,d){if("timestamp"===p)return d.timestamp;(0,U.vA)(!1,"Unexpected server value: "+p)},ac=function(p,h,d){p.hasOwnProperty("increment")||(0,U.vA)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const _=p.increment;"number"!=typeof _&&(0,U.vA)(!1,"Unexpected increment value: "+_);const M=h.node();if((0,U.vA)(null!==M&&typeof M<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return _;const $=M.getValue();return"number"!=typeof $?_:$+_},Vc=function(p,h,d,_){return Ma(h,new Qa(d,p),_)},lc=function(p,h,d){return Ma(p,new ic(h),d)};function Ma(p,h,d){const _=p.getPriority().val(),M=oc(_,h.getImmediateChild(".priority"),d);let k;if(p.isLeafNode()){const $=p,ae=oc($.getValue(),h,d);return ae!==$.getValue()||M!==$.getPriority().val()?new Fs(ae,wr(M)):p}{const $=p;return k=$,M!==$.getPriority().val()&&(k=k.updatePriority(new Fs(M))),$.forEachChild(ts,(ae,Ee)=>{const Ne=Ma(Ee,h.getImmediateChild(ae),d);Ne!==Ee&&(k=k.updateImmediateChild(ae,Ne))}),k}}class Uc{constructor(h="",d=null,_={children:{},childCount:0}){this.name=h,this.parent=d,this.node=_}}function rl(p,h){let d=h instanceof mn?h:new mn(h),_=p,M=kn(d);for(;null!==M;){const k=(0,U.yw)(_.node.children,M)||{children:{},childCount:0};_=new Uc(M,_,k),d=Xt(d),M=kn(d)}return _}function Ll(p){return p.node.value}function Qn(p,h){p.node.value=h,eo(p)}function Ti(p){return p.node.childCount>0}function la(p,h){Yn(p.node.children,(d,_)=>{h(new Uc(d,p,_))})}function Xa(p,h,d,_){d&&!_&&h(p),la(p,M=>{Xa(M,h,!0,_)}),d&&_&&h(p)}function gl(p){return new mn(null===p.parent?p.name:gl(p.parent)+"/"+p.name)}function eo(p){null!==p.parent&&function js(p,h,d){const _=function yu(p){return void 0===Ll(p)&&!Ti(p)}(d),M=(0,U.gR)(p.node.children,h);_&&M?(delete p.node.children[h],p.node.childCount--,eo(p)):!_&&!M&&(p.node.children[h]=d.node,p.node.childCount++,eo(p))}(p.parent,p.name,p)}const ml=/[\[\].#$\/\u0000-\u001F\u007F]/,cc=/[\[\].#$\u0000-\u001F\u007F]/,wo=10485760,Bc=function(p){return"string"==typeof p&&0!==p.length&&!ml.test(p)},Pd=function(p){return"string"==typeof p&&0!==p.length&&!cc.test(p)},ht=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!An(p)||p&&"object"==typeof p&&(0,U.gR)(p,".sv")},yn=function(p,h,d,_){_&&void 0===h||$s((0,U.dI)(p,"value"),h,d)},$s=function(p,h,d){const _=d instanceof mn?new bt(d,p):d;if(void 0===h)throw new Error(p+"contains undefined "+fe(_));if("function"==typeof h)throw new Error(p+"contains a function "+fe(_)+" with contents = "+h.toString());if(An(h))throw new Error(p+"contains "+h.toString()+" "+fe(_));if("string"==typeof h&&h.length>wo/3&&(0,U.OE)(h)>wo)throw new Error(p+"contains a string greater than "+wo+" utf8 bytes "+fe(_)+" ('"+h.substring(0,50)+"...')");if(h&&"object"==typeof h){let M=!1,k=!1;if(Yn(h,($,ae)=>{if(".value"===$)M=!0;else if(".priority"!==$&&".sv"!==$&&(k=!0,!Bc($)))throw new Error(p+" contains an invalid key ("+$+") "+fe(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Rt(p,h){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(h),p.byteLength_+=(0,U.OE)(h),_n(p)})(_,$),$s(p,ae,_),function Lt(p){const h=p.parts_.pop();p.byteLength_-=(0,U.OE)(h),p.parts_.length>0&&(p.byteLength_-=1)}(_)}),M&&k)throw new Error(p+' contains ".value" child '+fe(_)+" in addition to actual children.")}},ur=function(p,h,d,_){if(_&&void 0===h)return;const M=(0,U.dI)(p,"values");if(!h||"object"!=typeof h||Array.isArray(h))throw new Error(M+" must be an object containing the children to replace.");const k=[];Yn(h,($,ae)=>{const Ee=new mn($);if($s(M,ae,Gr(d,Ee)),".priority"===Gi(Ee)&&!ht(ae))throw new Error(M+"contains an invalid value for '"+Ee.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");k.push(Ee)}),function(p,h){let d,_;for(d=0;d<h.length;d++){_=h[d];const k=Ei(_);for(let $=0;$<k.length;$++)if((".priority"!==k[$]||$!==k.length-1)&&!Bc(k[$]))throw new Error(p+"contains an invalid key ("+k[$]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}h.sort(Ie);let M=null;for(d=0;d<h.length;d++){if(_=h[d],null!==M&&Ge(M,_))throw new Error(p+"contains a path "+M.toString()+" that is ancestor of another path "+_.toString());M=_}}(M,k)},ua=function(p,h,d,_){if(!(_&&void 0===d||Pd(d)))throw new Error((0,U.dI)(p,h)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},il=function(p,h,d,_){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),ua(p,h,d,_)},no=function(p,h){if(".info"===kn(h))throw new Error(p+" failed = Can't modify data under /.info/")};class Ua{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Aa(p,h){let d=null;for(let _=0;_<h.length;_++){const M=h[_],k=M.getPath();null!==d&&!_e(k,d.path)&&(p.eventLists_.push(d),d=null),null===d&&(d={events:[],path:k}),d.events.push(M)}d&&p.eventLists_.push(d)}function yl(p,h,d){Aa(p,d),Vl(p,_=>_e(_,h))}function Si(p,h,d){Aa(p,d),Vl(p,_=>Ge(_,h)||Ge(h,_))}function Vl(p,h){p.recursionDepth_++;let d=!0;for(let _=0;_<p.eventLists_.length;_++){const M=p.eventLists_[_];M&&(h(M.path)?(Ni(p.eventLists_[_]),p.eventLists_[_]=null):d=!1)}d&&(p.eventLists_=[]),p.recursionDepth_--}function Ni(p){for(let h=0;h<p.events.length;h++){const d=p.events[h];if(null!==d){p.events[h]=null;const _=d.getEventRunner();Dt&&Xe("event: "+d.toString()),rr(_)}}}const dc=25;class ro{constructor(h,d,_,M){this.repoInfo_=h,this.forceRestClient_=d,this.authTokenProvider_=_,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ua,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ys(),this.transactionQueueTree_=new Uc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vl(p){const d=p.infoData_.getNode(new mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function _l(p){return xd({timestamp:vl(p)})}function vu(p,h,d,_,M){p.dataUpdateCount++;const k=new mn(h);d=p.interceptServerDataCallback_?p.interceptServerDataCallback_(h,d):d;let $=[];if(M)if(_){const Ee=(0,U.kH)(d,Ne=>wr(Ne));$=function S(p,h,d,_){const M=Gn(p,_);if(M){const k=Hn(M),$=k.path,ae=k.queryId,Ee=oe($,h),Ne=fr.fromObject(d);return Xr(p,$,new No(gi(ae),Ee,Ne))}return[]}(p.serverSyncTree_,k,Ee,M)}else{const Ee=wr(d);$=Ji(p.serverSyncTree_,k,Ee,M)}else if(_){const Ee=(0,U.kH)(d,Ne=>wr(Ne));$=function gu(p,h,d){const _=fr.fromObject(d);return G(p,new No({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,_))}(p.serverSyncTree_,k,Ee)}else{const Ee=wr(d);$=aa(p.serverSyncTree_,k,Ee)}let ae=k;$.length>0&&(ae=ha(p,k)),Si(p.eventQueue_,ae,$)}function El(p,h){hc(p,"connected",h),!1===h&&function uo(p){hn(p,"onDisconnectEvents");const h=_l(p),d=ys();Oo(p.onDisconnect_,er(),(M,k)=>{const $=Vc(M,k,p.serverSyncTree_,h);_s(d,M,$)});let _=[];Oo(d,er(),(M,k)=>{_=_.concat(aa(p.serverSyncTree_,M,k));const $=mc(p,M);ha(p,$)}),p.onDisconnect_=ys(),Si(p.eventQueue_,er(),_)}(p)}function hc(p,h,d){const _=new mn("/.info/"+h),M=wr(d);p.infoData_.updateSnapshot(_,M);const k=aa(p.infoSyncTree_,_,M);Si(p.eventQueue_,_,k)}function fc(p){return p.nextWriteId_++}function Gu(p,h,d){p.server_.onDisconnectCancel(h.toString(),(_,M)=>{"ok"===_&&or(p.onDisconnect_,h),jr(0,d,_,M)})}function Hs(p,h,d,_){const M=wr(d);p.server_.onDisconnectPut(h.toString(),M.val(!0),(k,$)=>{"ok"===k&&_s(p.onDisconnect_,h,M),jr(0,_,k,$)})}function Bl(p,h,d){let _;_=".info"===kn(h._path)?sc(p.infoSyncTree_,h,d):sc(p.serverSyncTree_,h,d),yl(p.eventQueue_,h._path,_)}function hn(p,...h){let d="";p.persistentConnection_&&(d=p.persistentConnection_.id+":"),Xe(d,...h)}function jr(p,h,d,_){h&&rr(()=>{if("ok"===d)h(null);else{const M=(d||"error").toUpperCase();let k=M;_&&(k+=": "+_);const $=new Error(k);$.code=M,h($)}})}function jl(p,h,d){return A(p.serverSyncTree_,h,d)||Ln.EMPTY_NODE}function $l(p,h=p.transactionQueueTree_){if(h||Dl(p,h),Ll(h)){const d=Xu(p,h);(0,U.vA)(d.length>0,"Sending zero length transaction queue"),d.every(M=>0===M.status)&&function Fd(p,h,d){const _=d.map(Ne=>Ne.currentWriteId),M=jl(p,h,_);let k=M;const $=M.hash();for(let Ne=0;Ne<d.length;Ne++){const ut=d[Ne];(0,U.vA)(0===ut.status,"tryToSendTransactionQueue_: items in queue should all be run."),ut.status=1,ut.retryCount++;const gt=oe(h,ut.path);k=k.updateChild(gt,ut.currentOutputSnapshotRaw)}const ae=k.val(!0),Ee=h;p.server_.put(Ee.toString(),ae,Ne=>{hn(p,"transaction put response",{path:Ee.toString(),status:Ne});let ut=[];if("ok"===Ne){const gt=[];for(let mt=0;mt<d.length;mt++)d[mt].status=2,ut=ut.concat(Ga(p.serverSyncTree_,d[mt].currentWriteId)),d[mt].onComplete&&gt.push(()=>d[mt].onComplete(null,!0,d[mt].currentOutputSnapshotResolved)),d[mt].unwatcher();Dl(p,rl(p.transactionQueueTree_,h)),$l(p,p.transactionQueueTree_),Si(p.eventQueue_,h,ut);for(let mt=0;mt<gt.length;mt++)rr(gt[mt])}else{if("datastale"===Ne)for(let gt=0;gt<d.length;gt++)d[gt].status=3===d[gt].status?4:0;else{jt("transaction at "+Ee.toString()+" failed: "+Ne);for(let gt=0;gt<d.length;gt++)d[gt].status=4,d[gt].abortReason=Ne}ha(p,h)}},$)}(p,gl(h),d)}else Ti(h)&&la(h,d=>{$l(p,d)})}function ha(p,h){const d=fa(p,h),_=gl(d);return function gc(p,h,d){if(0===h.length)return;const _=[];let M=[];const $=h.filter(ae=>0===ae.status).map(ae=>ae.currentWriteId);for(let ae=0;ae<h.length;ae++){const Ee=h[ae],Ne=oe(d,Ee.path);let gt,ut=!1;if((0,U.vA)(null!==Ne,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Ee.status)ut=!0,gt=Ee.abortReason,M=M.concat(Ga(p.serverSyncTree_,Ee.currentWriteId,!0));else if(0===Ee.status)if(Ee.retryCount>=dc)ut=!0,gt="maxretry",M=M.concat(Ga(p.serverSyncTree_,Ee.currentWriteId,!0));else{const mt=jl(p,Ee.path,$);Ee.currentInputSnapshot=mt;const Wt=h[ae].update(mt.val());if(void 0!==Wt){$s("transaction failed: Data returned ",Wt,Ee.path);let Fn=wr(Wt);"object"==typeof Wt&&null!=Wt&&(0,U.gR)(Wt,".priority")||(Fn=Fn.updatePriority(mt.getPriority()));const di=Ee.currentWriteId,fo=_l(p),hl=lc(Fn,mt,fo);Ee.currentOutputSnapshotRaw=Fn,Ee.currentOutputSnapshotResolved=hl,Ee.currentWriteId=fc(p),$.splice($.indexOf(di),1),M=M.concat(nl(p.serverSyncTree_,Ee.path,hl,Ee.currentWriteId,Ee.applyLocally)),M=M.concat(Ga(p.serverSyncTree_,di,!0))}else ut=!0,gt="nodata",M=M.concat(Ga(p.serverSyncTree_,Ee.currentWriteId,!0))}Si(p.eventQueue_,d,M),M=[],ut&&(h[ae].status=2,setTimeout(h[ae].unwatcher,Math.floor(0)),h[ae].onComplete&&_.push("nodata"===gt?()=>h[ae].onComplete(null,!1,h[ae].currentInputSnapshot):()=>h[ae].onComplete(new Error(gt),!1,null)))}Dl(p,p.transactionQueueTree_);for(let ae=0;ae<_.length;ae++)rr(_[ae]);$l(p,p.transactionQueueTree_)}(p,Xu(p,d),_),_}function fa(p,h){let d,_=p.transactionQueueTree_;for(d=kn(h);null!==d&&void 0===Ll(_);)_=rl(_,d),d=kn(h=Xt(h));return _}function Xu(p,h){const d=[];return jc(p,h,d),d.sort((_,M)=>_.order-M.order),d}function jc(p,h,d){const _=Ll(h);if(_)for(let M=0;M<_.length;M++)d.push(_[M]);la(h,M=>{jc(p,M,d)})}function Dl(p,h){const d=Ll(h);if(d){let _=0;for(let M=0;M<d.length;M++)2!==d[M].status&&(d[_]=d[M],_++);d.length=_,Qn(h,d.length>0?d:void 0)}la(h,_=>{Dl(p,_)})}function mc(p,h){const d=gl(fa(p,h)),_=rl(p.transactionQueueTree_,h);return function Bs(p,h,d){let _=d?p:p.parent;for(;null!==_;){if(h(_))return!0;_=_.parent}}(_,M=>{wl(p,M)}),wl(p,_),Xa(_,M=>{wl(p,M)}),d}function wl(p,h){const d=Ll(h);if(d){const _=[];let M=[],k=-1;for(let $=0;$<d.length;$++)3===d[$].status||(1===d[$].status?((0,U.vA)(k===$-1,"All SENT items should be at beginning of queue."),k=$,d[$].status=3,d[$].abortReason="set"):((0,U.vA)(0===d[$].status,"Unexpected transaction status in abort"),d[$].unwatcher(),M=M.concat(Ga(p.serverSyncTree_,d[$].currentWriteId,!0)),d[$].onComplete&&_.push(d[$].onComplete.bind(null,new Error("set"),!1,null))));-1===k?Qn(h,void 0):d.length=k+1,Si(p.eventQueue_,gl(h),M);for(let $=0;$<_.length;$++)rr(_[$])}}const yc=function(p,h){const d=ll(p),_=d.namespace;return"firebase.com"===d.domain&&qt(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==d.domain&&qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cs(d.host,d.secure,_,"ws"===d.scheme||"wss"===d.scheme,h,"",_!==d.subdomain),path:new mn(d.pathString)}},ll=function(p){let h="",d="",_="",M="",k="",$=!0,ae="https",Ee=443;if("string"==typeof p){let Ne=p.indexOf("//");Ne>=0&&(ae=p.substring(0,Ne-1),p=p.substring(Ne+2));let ut=p.indexOf("/");-1===ut&&(ut=p.length);let gt=p.indexOf("?");-1===gt&&(gt=p.length),h=p.substring(0,Math.min(ut,gt)),ut<gt&&(M=function qu(p){let h="";const d=p.split("/");for(let _=0;_<d.length;_++)if(d[_].length>0){let M=d[_];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch{}h+="/"+M}return h}(p.substring(ut,gt)));const mt=function wu(p){const h={};"?"===p.charAt(0)&&(p=p.substring(1));for(const d of p.split("&")){if(0===d.length)continue;const _=d.split("=");2===_.length?h[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):jt(`Invalid query segment '${d}' in query '${p}'`)}return h}(p.substring(Math.min(p.length,gt)));Ne=h.indexOf(":"),Ne>=0?($="https"===ae||"wss"===ae,Ee=parseInt(h.substring(Ne+1),10)):Ne=h.length;const Wt=h.slice(0,Ne);if("localhost"===Wt.toLowerCase())d="localhost";else if(Wt.split(".").length<=2)d=Wt;else{const Fn=h.indexOf(".");_=h.substring(0,Fn).toLowerCase(),d=h.substring(Fn+1),k=_}"ns"in mt&&(k=mt.ns)}return{host:h,port:Ee,domain:d,subdomain:_,secure:$,scheme:ae,pathString:M,namespace:k}},Cl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cu=function(){let p=0;const h=[];return function(d){const _=d===p;let M;p=d;const k=new Array(8);for(M=7;M>=0;M--)k[M]=Cl.charAt(d%64),d=Math.floor(d/64);(0,U.vA)(0===d,"Cannot push at time == 0");let $=k.join("");if(_){for(M=11;M>=0&&63===h[M];M--)h[M]=0;h[M]++}else for(M=0;M<12;M++)h[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)$+=Cl.charAt(h[M]);return(0,U.vA)(20===$.length,"nextPushId: Length should be 20."),$}}();class pa{constructor(h,d,_,M){this.eventType=h,this.eventRegistration=d,this.snapshot=_,this.prevName=M}getPath(){const h=this.snapshot.ref;return"value"===this.eventType?h._path:h.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.As)(this.snapshot.exportVal())}}class Hl{constructor(h,d,_){this.eventRegistration=h,this.error=d,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vc{constructor(h,d){this.snapshotCallback=h,this.cancelCallback=d}onValue(h,d){this.snapshotCallback.call(null,h,d)}onCancel(h){return(0,U.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,h)}get hasCancelCallback(){return!!this.cancelCallback}matches(h){return this.snapshotCallback===h.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===h.snapshotCallback.userCallback&&this.snapshotCallback.context===h.snapshotCallback.context}}class $c{constructor(h,d){this._repo=h,this._path=d}cancel(){const h=new U.cY;return Gu(this._repo,this._path,h.wrapCallback(()=>{})),h.promise}remove(){no("OnDisconnect.remove",this._path);const h=new U.cY;return Hs(this._repo,this._path,null,h.wrapCallback(()=>{})),h.promise}set(h){no("OnDisconnect.set",this._path),yn("OnDisconnect.set",h,this._path,!1);const d=new U.cY;return Hs(this._repo,this._path,h,d.wrapCallback(()=>{})),d.promise}setWithPriority(h,d){no("OnDisconnect.setWithPriority",this._path),yn("OnDisconnect.setWithPriority",h,this._path,!1),function(p,h,d){if(!d||void 0!==h){if(An(h))throw new Error((0,U.dI)(p,"priority")+"is "+h.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ht(h))throw new Error((0,U.dI)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",d,!1);const _=new U.cY;return function ol(p,h,d,_,M){const k=wr(d,_);p.server_.onDisconnectPut(h.toString(),k.val(!0),($,ae)=>{"ok"===$&&_s(p.onDisconnect_,h,k),jr(0,M,$,ae)})}(this._repo,this._path,h,d,_.wrapCallback(()=>{})),_.promise}update(h){no("OnDisconnect.update",this._path),ur("OnDisconnect.update",h,this._path,!1);const d=new U.cY;return function Qu(p,h,d,_){if((0,U.Im)(d))return Xe("onDisconnect().update() called with empty data.  Don't do anything."),void jr(0,_,"ok",void 0);p.server_.onDisconnectMerge(h.toString(),d,(M,k)=>{"ok"===M&&Yn(d,($,ae)=>{const Ee=wr(ae);_s(p.onDisconnect_,Gr(h,$),Ee)}),jr(0,_,M,k)})}(this._repo,this._path,h,d.wrapCallback(()=>{})),d.promise}}class Co{constructor(h,d,_,M){this._repo=h,this._path=d,this._queryParams=_,this._orderByCalled=M}get key(){return Nn(this._path)?null:Gi(this._path)}get ref(){return new ho(this._repo,this._path)}get _queryIdentifier(){const h=Ca(this._queryParams),d=as(h);return"{}"===d?"default":d}get _queryObject(){return Ca(this._queryParams)}isEqual(h){if(!((h=(0,U.Ku)(h))instanceof Co))return!1;const d=this._repo===h._repo,_=_e(this._path,h._path);return d&&_&&this._queryIdentifier===h._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _i(p){let h="";for(let d=p.pieceNum_;d<p.pieces_.length;d++)""!==p.pieces_[d]&&(h+="/"+encodeURIComponent(String(p.pieces_[d])));return h||"/"}(this._path)}}class ho extends Co{constructor(h,d){super(h,d,new li,!1)}get parent(){const h=yo(this._path);return null===h?null:new ho(this._repo,h)}get root(){let h=this;for(;null!==h.parent;)h=h.parent;return h}}class cl{constructor(h,d,_){this._node=h,this.ref=d,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(h){const d=new mn(h),_=Ba(this.ref,h);return new cl(this._node.getChild(d),_,ts)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(h){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,M)=>h(new cl(M,Ba(this.ref,_),ts)))}hasChild(h){const d=new mn(h);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ul(p,h){return(p=(0,U.Ku)(p))._checkNotDeleted("ref"),void 0!==h?Ba(p._root,h):p._root}function Ba(p,h){return null===kn((p=(0,U.Ku)(p))._path)?il("child","path",h,!1):ua("child","path",h,!1),new ho(p._repo,Gr(p._path,h))}function ga(p){return p=(0,U.Ku)(p),new $c(p._repo,p._path)}function Io(p,h){p=(0,U.Ku)(p),no("push",p._path),yn("push",h,p._path,!0);const d=vl(p._repo),_=Cu(d),M=Ba(p,_),k=Ba(p,_);let $;return $=null!=h?Kl(k,h).then(()=>k):Promise.resolve(k),M.then=$.then.bind($),M.catch=$.then.bind($,void 0),M}function Wl(p){return no("remove",p._path),Kl(p,null)}function Kl(p,h){p=(0,U.Ku)(p),no("set",p._path),yn("set",h,p._path,!1);const d=new U.cY;return function Eu(p,h,d,_,M){hn(p,"set",{path:h.toString(),value:d,priority:_});const k=_l(p),$=wr(d,_),ae=A(p.serverSyncTree_,h),Ee=lc($,ae,k),Ne=fc(p),ut=nl(p.serverSyncTree_,h,Ee,Ne,!0);Aa(p.eventQueue_,ut),p.server_.put(h.toString(),$.val(!0),(mt,Wt)=>{const Fn="ok"===mt;Fn||jt("set at "+h+" failed: "+mt);const Zn=Ga(p.serverSyncTree_,Ne,!Fn);Si(p.eventQueue_,h,Zn),jr(0,M,mt,Wt)});const gt=mc(p,h);ha(p,gt),Si(p.eventQueue_,gt,[])}(p._repo,p._path,h,null,d.wrapCallback(()=>{})),d.promise}function Hc(p,h){ur("update",h,p._path,!1);const d=new U.cY;return function zu(p,h,d,_){hn(p,"update",{path:h.toString(),value:d});let M=!0;const k=_l(p),$={};if(Yn(d,(ae,Ee)=>{M=!1,$[ae]=Vc(Gr(h,ae),wr(Ee),p.serverSyncTree_,k)}),M)Xe("update() called with empty data.  Don't do anything."),jr(0,_,"ok",void 0);else{const ae=fc(p),Ee=function za(p,h,d,_){!function nc(p,h,d,_){(0,U.vA)(_>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:h,children:d,writeId:_,visible:!0}),p.visibleWrites=Ia(p.visibleWrites,h,d),p.lastWriteId=_}(p.pendingWriteTree_,h,d,_);const M=fr.fromObject(d);return G(p,new No({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,M))}(p.serverSyncTree_,h,$,ae);Aa(p.eventQueue_,Ee),p.server_.merge(h.toString(),d,(Ne,ut)=>{const gt="ok"===Ne;gt||jt("update at "+h+" failed: "+Ne);const mt=Ga(p.serverSyncTree_,ae,!gt),Wt=mt.length>0?ha(p,h):h;Si(p.eventQueue_,Wt,mt),jr(0,_,Ne,ut)}),Yn(d,Ne=>{const ut=mc(p,Gr(h,Ne));ha(p,ut)}),Si(p.eventQueue_,h,[])}}(p._repo,p._path,h,d.wrapCallback(()=>{})),d.promise}function Tl(p){p=(0,U.Ku)(p);const h=new vc(()=>{}),d=new Su(h);return function _u(p,h,d){const _=function R(p,h){const d=h._path;let _=null;p.syncPointTree_.foreachOnPath(d,(Ne,ut)=>{const gt=oe(Ne,d);_=_||Qs(ut,gt)});let M=p.syncPointTree_.get(d);M?_=_||Qs(M,er()):(M=new Ja,p.syncPointTree_=p.syncPointTree_.set(d,M));const k=null!=_,$=k?new Yi(_,!0,!1):null;return function Bo(p){return $i(p.viewCache_)}(Wu(M,h,Uo(p.pendingWriteTree_,h._path),k?$.getNode():Ln.EMPTY_NODE,k))}(p.serverSyncTree_,h);return null!=_?Promise.resolve(_):p.server_.get(h).then(M=>{const k=wr(M).withIndex(h._queryParams.getIndex());let $;if(x(p.serverSyncTree_,h,d,!0),h._queryParams.loadsAllData())$=aa(p.serverSyncTree_,h._path,k);else{const ae=We(p.serverSyncTree_,h);$=Ji(p.serverSyncTree_,h._path,k,ae)}return Si(p.eventQueue_,h._path,$),sc(p.serverSyncTree_,h,d,null,!0),k},M=>(hn(p,"get for query "+(0,U.As)(h)+" failed: "+M),Promise.reject(new Error(M))))}(p._repo,p,d).then(_=>new cl(_,new ho(p._repo,p._path),p._queryParams.getIndex()))}class Su{constructor(h){this.callbackContext=h}respondsTo(h){return"value"===h}createEvent(h,d){const _=d._queryParams.getIndex();return new pa("value",this,new cl(h.snapshotNode,new ho(d._repo,d._path),_))}getEventRunner(h){return"cancel"===h.getEventType()?()=>this.callbackContext.onCancel(h.error):()=>this.callbackContext.onValue(h.snapshot,null)}createCancelEvent(h,d){return this.callbackContext.hasCancelCallback?new Hl(this,h,d):null}matches(h){return h instanceof Su&&(!h.callbackContext||!this.callbackContext||h.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ec{constructor(h,d){this.eventType=h,this.callbackContext=d}respondsTo(h){let d="children_added"===h?"child_added":h;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(h,d){return this.callbackContext.hasCancelCallback?new Hl(this,h,d):null}createEvent(h,d){(0,U.vA)(null!=h.childName,"Child events should have a childName.");const _=Ba(new ho(d._repo,d._path),h.childName),M=d._queryParams.getIndex();return new pa(h.type,this,new cl(h.snapshotNode,_,M),h.prevName)}getEventRunner(h){return"cancel"===h.getEventType()?()=>this.callbackContext.onCancel(h.error):()=>this.callbackContext.onValue(h.snapshot,h.prevName)}matches(h){return h instanceof Ec&&this.eventType===h.eventType&&(!this.callbackContext||!h.callbackContext||this.callbackContext.matches(h.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ja(p,h,d,_){return function Dc(p,h,d,_,M){let k;if("object"==typeof _&&(k=void 0,M=_),"function"==typeof _&&(k=_),M&&M.onlyOnce){const Ee=d,Ne=(ut,gt)=>{Bl(p._repo,p,ae),Ee(ut,gt)};Ne.userCallback=d.userCallback,Ne.context=d.context,d=Ne}const $=new vc(d,k||void 0),ae="value"===h?new Su($):new Ec(h,$);return function Du(p,h,d){let _;_=".info"===kn(h._path)?x(p.infoSyncTree_,h,d):x(p.serverSyncTree_,h,d),yl(p.eventQueue_,h._path,_)}(p._repo,p,ae),()=>Bl(p._repo,p,ae)}(p,"value",h,d,_)}(function Wa(p){(0,U.vA)(!en,"__referenceConstructor has already been defined"),en=p})(ho),function nt(p){(0,U.vA)(!tl,"__referenceConstructor has already been defined"),tl=p}(ho);const B={};function ve(p,h,d,_,M){let k=_||p.options.databaseURL;void 0===k&&(p.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",p.options.projectId),k=`${p.options.projectId}-default-rtdb.firebaseio.com`);let Ee,Ne,$=yc(k,M),ae=$.repoInfo;typeof process<"u"&&process.env&&(Ne=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ne?(Ee=!0,k=`http://${Ne}?ns=${ae.namespace}`,$=yc(k,M),ae=$.repoInfo):Ee=!$.repoInfo.secure;const ut=M&&Ee?new Xn(Xn.OWNER):new kr(p.name,p.options,h);(function(p,h){const d=h.path.toString();if("string"!=typeof h.repoInfo.host||0===h.repoInfo.host.length||!Bc(h.repoInfo.namespace)&&"localhost"!==h.repoInfo.host.split(":")[0]||0!==d.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Pd(p)}(d))throw new Error((0,U.dI)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",$),Nn($.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");const gt=function Ue(p,h,d,_){let M=B[h.name];M||(M={},B[h.name]=M);let k=M[p.toURLString()];return k&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),k=new ro(p,false,d,_),M[p.toURLString()]=k,k}(ae,p,ut,new wn(p.name,d));return new _t(gt,p)}class _t{constructor(h,d){this._repoInternal=h,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Oa(p,h,d){if(p.stats_=Zs(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new ms(p.repoInfo_,(_,M,k,$)=>{vu(p,_,M,k,$)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>El(p,!0),0);else{if(typeof d<"u"&&null!==d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.As)(d)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}p.persistentConnection_=new Er(p.repoInfo_,h,(_,M,k,$)=>{vu(p,_,M,k,$)},_=>{El(p,_)},_=>{!function Ul(p,h){Yn(h,(d,_)=>{hc(p,d,_)})}(p,_)},p.authTokenProvider_,p.appCheckProvider_,d),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(_=>{p.server_.refreshAuthToken(_)}),p.appCheckProvider_.addTokenChangeListener(_=>{p.server_.refreshAppCheckToken(_.token)}),p.statsReporter_=function Tn(p,h){const d=p.toString();return dn[d]||(dn[d]=h()),dn[d]}(p.repoInfo_,()=>new ie(p.stats_,p.server_)),p.infoData_=new Mn,p.infoSyncTree_=new Ku({startListening:(_,M,k,$)=>{let ae=[];const Ee=p.infoData_.getNode(_._path);return Ee.isEmpty()||(ae=aa(p.infoSyncTree_,_._path,Ee),setTimeout(()=>{$("ok")},0)),ae},stopListening:()=>{}}),hc(p,"connected",!1),p.serverSyncTree_=new Ku({startListening:(_,M,k,$)=>(p.server_.listen(_,k,M,(ae,Ee)=>{const Ne=$(ae,Ee);Si(p.eventQueue_,_._path,Ne)}),[]),stopListening:(_,M)=>{p.server_.unlisten(_,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ho(this._repo,er())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function $e(p,h){const d=B[h];(!d||d[p.key]!==p)&&qt(`Database ${h}(${p.repoInfo_}) has already been deleted.`),function Ri(p){p.persistentConnection_&&p.persistentConnection_.interrupt("repo_interrupt")}(p),delete d[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(h){null===this._rootInternal&&qt("Cannot call "+h+" on a deleted database.")}}function zt(p=(0,v.Sx)(),h){const d=(0,v.j6)(p,"database").getImmediate({identifier:h});if(!d._instanceStarted){const _=(0,U.yU)("database");_&&function tr(p,h,d,_={}){(p=(0,U.Ku)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&qt("Cannot call useEmulator() after instance has already been initialized.");const M=p._repoInternal;let k;if(M.repoInfo_.nodeAdmin)_.mockUserToken&&qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),k=new Xn(Xn.OWNER);else if(_.mockUserToken){const $="string"==typeof _.mockUserToken?_.mockUserToken:(0,U.Fy)(_.mockUserToken,p.app.options.projectId);k=new Xn($)}!function ge(p,h,d,_){p.repoInfo_=new cs(`${h}:${d}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams,!0),_&&(p.authTokenProvider_=_)}(M,h,d,k)}(d,..._)}return d}const vs={".sv":"timestamp"};function hr(){return vs}function ei(p){return{".sv":{increment:p}}}Er.prototype.simpleListen=function(p,h){this.sendRequest("q",{p},h)},Er.prototype.echo=function(p,h){this.sendRequest("echo",{d:p},h)},function dr(p){(function se(p){W=p})(v.MF),(0,v.om)(new ue.uA("database",(h,{instanceIdentifier:d})=>ve(h.getProvider("app").getImmediate(),h.getProvider("auth-internal"),h.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,v.KO)(J,q,p),(0,v.KO)(J,q,"esm2017")}()},5964:(pt,ye,C)=>{C.d(ye,{p:()=>ue});var E=C(9974),v=C(4360);function ue(U,K){return(0,E.N)((J,q)=>{let W=0;J.subscribe((0,v._)(q,se=>U.call(K,se,W++)&&q.next(se)))})}},6129:(pt,ye,C)=>{C.d(ye,{U:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},6325:(pt,ye,C)=>{C.d(ye,{c:()=>J});var E=C(1626),v=C(8141),ue=C(4438),U=C(2197);const J={provide:E.a7,useClass:(()=>{class q{constructor(se){this.loaderService=se}intercept(se,ee){return this.loaderService.showLoader(),ee.handle(se).pipe((0,v.M)(ne=>{ne instanceof E.cS&&this.loaderService.hideLoader()},ne=>{this.loaderService.hideLoader()}))}static{this.\u0275fac=function(ee){return new(ee||q)(ue.KVO(U.Z))}}static{this.\u0275prov=ue.jDH({token:q,factory:q.\u0275fac})}}return q})(),multi:!0}},6354:(pt,ye,C)=>{C.d(ye,{T:()=>ue});var E=C(9974),v=C(4360);function ue(U,K){return(0,E.N)((J,q)=>{let W=0;J.subscribe((0,v._)(q,se=>{q.next(U.call(K,se,W++))}))})}},6365:(pt,ye,C)=>{C.d(ye,{U:()=>ue});var E=C(1397),v=C(3669);function ue(U=1/0){return(0,E.Z)(v.D,U)}},6450:(pt,ye,C)=>{C.d(ye,{I:()=>U});var E=C(6354);const{isArray:v}=Array;function U(K){return(0,E.T)(J=>function ue(K,J){return v(J)?K(...J):K(J)}(K,J))}},6454:(pt,ye,C)=>{C.d(ye,{O:()=>ue});var E=C(4438),v=function(U){return U[U.slideToLeft=1]="slideToLeft",U[U.slideToRight=2]="slideToRight",U[U.slideToTop=3]="slideToTop",U[U.slideToBottom=4]="slideToBottom",U}(v||{});let ue=(()=>{class U{constructor(){this.routeAnimation=null}setRouteAnimation(J){this.routeAnimation=v[J]}get currentRouteAnimation(){return this.routeAnimation}static{this.\u0275fac=function(q){return new(q||U)}}static{this.\u0275prov=E.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},6570:(pt,ye,C)=>{C.d(ye,{u:()=>K});var E=C(4412),v=C(8141),ue=C(4438),U=C(7240);let K=(()=>{class J{constructor(W){this.apiService=W,this._isLoggedIn$=new E.t(!1),this.isLoggedIn$=this._isLoggedIn$.asObservable(),this.TOKEN_NAME="profanis_auth",this._isLoggedIn$.next(!!this.token),this.user=this.getUser(this.token)}get token(){return localStorage.getItem(this.TOKEN_NAME)}login(W,se){return this.apiService.login(W,se).pipe((0,v.M)(ee=>{this._isLoggedIn$.next(!0),localStorage.setItem(this.TOKEN_NAME,ee.token),this.user=this.getUser(ee.token)}))}getUser(W){return W?JSON.parse(atob(W.split(".")[1])):null}hasRole(W){return this.user?.Role.includes(W)||!1}static{this.\u0275fac=function(se){return new(se||J)(ue.KVO(U.G))}}static{this.\u0275prov=ue.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},6697:(pt,ye,C)=>{C.d(ye,{s:()=>U});var E=C(983),v=C(9974),ue=C(4360);function U(K){return K<=0?()=>E.w:(0,v.N)((J,q)=>{let W=0;J.subscribe((0,ue._)(q,se=>{++W<=K&&(q.next(se),K<=W&&q.complete())}))})}},6780:(pt,ye,C)=>{C.d(ye,{R:()=>K});var E=C(8359);class v extends E.yU{constructor(q,W){super()}schedule(q,W=0){return this}}const ue={setInterval(J,q,...W){const{delegate:se}=ue;return se?.setInterval?se.setInterval(J,q,...W):setInterval(J,q,...W)},clearInterval(J){const{delegate:q}=ue;return(q?.clearInterval||clearInterval)(J)},delegate:void 0};var U=C(7908);class K extends v{constructor(q,W){super(q,W),this.scheduler=q,this.work=W,this.pending=!1}schedule(q,W=0){var se;if(this.closed)return this;this.state=q;const ee=this.id,ne=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ne,ee,W)),this.pending=!0,this.delay=W,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(ne,this.id,W),this}requestAsyncId(q,W,se=0){return ue.setInterval(q.flush.bind(q,this),se)}recycleAsyncId(q,W,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return W;null!=W&&ue.clearInterval(W)}execute(q,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(q,W);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,W){let ee,se=!1;try{this.work(q)}catch(ne){se=!0,ee=ne||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:q,scheduler:W}=this,{actions:se}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,U.o)(se,this),null!=q&&(this.id=this.recycleAsyncId(W,q,null)),this.delay=null,super.unsubscribe()}}}},6875:(pt,ye,C)=>{C.d(ye,{k:()=>qe});var E=C(1807),v=C(274),ue=C(8071),K=C(7468),J=C(2771),q=C(5335),W=C(2498),se=C(9437),ee=C(8141),ne=C(9030),Ce=C(4668),Be=C(8810),Fe=C(4438),Oe=C(1626),Te=function(He){return He.LOADING="LOADING",He.SUCCESS="SUCCESS",He.ERROR="ERROR",He}(Te||{});let qe=(()=>{class He{constructor(Tt){this.http=Tt}getNotifications(){return this.http.get("http://api").pipe(this.poll(1e3))}poll(Tt,lt=0){return function(Xe){return(0,E.O)(lt,Tt).pipe(function U(He,Dt){return(0,ue.T)(Dt)?(0,v.H)(()=>He,Dt):(0,v.H)(()=>He)}(Xe))}}get(Tt){return this.http.get(Tt)}post(Tt,lt){return this.http.post(Tt,lt)}getSwapi(){let Tt=this.http.get("https://swapi.dev/api/people/1/"),lt=this.http.get("https://swapi.dev/api/planets/1/");(0,K.p)([Tt,lt]).subscribe(Xe=>{Xe[0].homeworld=Xe[1],this.loadedCharacter=Xe[0]})}load(Tt){const lt=new J.m,Xe=this.http.get(`https://swapi.dev/api/people/${Tt}/`).pipe((0,q.c)(2e3),(0,W.L)(2),(0,se.W)(kt=>{throw lt.next(Te.ERROR),"error loading user"}),(0,ee.M)(()=>lt.next(Te.SUCCESS)));return{data:(0,ne.v)(()=>(lt.next(Te.LOADING),Xe)),status:lt}}share(){this.rawData$=this.http.get("https://jsonplaceholder.typicode.com/todos/1").pipe((0,Ce.t)())}GetData(){return this.rawData$.toPromise()}getRandomjoke(){return this.http.get("https://icanhazdadjoke.com/slack").pipe((0,se.W)(this.handleError))}handleError(){return(0,Be.$)("Network Error Occured")}static{this.\u0275fac=function(lt){return new(lt||He)(Fe.KVO(Oe.Qq))}}static{this.\u0275prov=Fe.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}}return He})()},6977:(pt,ye,C)=>{C.d(ye,{Q:()=>K});var E=C(9974),v=C(4360),ue=C(8750),U=C(5343);function K(J){return(0,E.N)((q,W)=>{(0,ue.Tg)(J).subscribe((0,v._)(W,()=>W.complete(),U.l)),!W.closed&&q.subscribe(W)})}},7018:(pt,ye,C)=>{C.d(ye,{H:()=>q});var E=C(9350),v=C(5964),ue=C(5109),U=C(3774),K=C(9901),J=C(3669);function q(W,se){const ee=arguments.length>=2;return ne=>ne.pipe(W?(0,v.p)((Ce,Be)=>W(Ce,Be,ne)):J.D,(0,ue.o)(1),ee?(0,K.U)(se):(0,U.v)(()=>new E.G))}},7240:(pt,ye,C)=>{C.d(ye,{G:()=>ue});var E=C(4438),v=C(1626);let ue=(()=>{class U{constructor(J){this.http=J}login(J,q){return this.http.post("login",{username:J,password:q})}getProducts(){return this.http.get("products",{headers:{}})}static{this.\u0275fac=function(q){return new(q||U)(E.KVO(v.Qq))}}static{this.\u0275prov=E.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},7242:(pt,ye,C)=>{C.d(ye,{T:()=>K});var E=C(6780),ue=C(9687);const K=new class U extends ue.q{}(class v extends E.R{constructor(W,se){super(W,se),this.scheduler=W,this.work=se}schedule(W,se=0){return se>0?super.schedule(W,se):(this.delay=se,this.state=W,this.scheduler.flush(this),this)}execute(W,se){return se>0||this.closed?super.execute(W,se):this._execute(W,se)}requestAsyncId(W,se,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(W,se,ee):(W.flush(this),0)}})},7441:(pt,ye,C)=>{C.d(ye,{X:()=>E});const E=v=>v&&"number"==typeof v.length&&"function"!=typeof v},7468:(pt,ye,C)=>{C.d(ye,{p:()=>W});var E=C(1985),v=C(3073),ue=C(8750),U=C(9326),K=C(4360),J=C(6450),q=C(8496);function W(...se){const ee=(0,U.ms)(se),{args:ne,keys:Ce}=(0,v.D)(se),Be=new E.c(Fe=>{const{length:Oe}=ne;if(!Oe)return void Fe.complete();const Te=new Array(Oe);let qe=Oe,He=Oe;for(let Dt=0;Dt<Oe;Dt++){let Tt=!1;(0,ue.Tg)(ne[Dt]).subscribe((0,K._)(Fe,lt=>{Tt||(Tt=!0,He--),Te[Dt]=lt},()=>qe--,void 0,()=>{(!qe||!Tt)&&(He||Fe.next(Ce?(0,q.e)(Ce,Te):Te),Fe.complete())}))}});return ee?Be.pipe((0,J.I)(ee)):Be}},7539:(pt,ye,C)=>{C.d(ye,{J:()=>U});var E=C(467),v=C(5891),ue=C(1985);class U{constructor(){this.db=(0,v.C3)(),this.formatSnapshot=J=>{let q=[];return J.exists()&&J.forEach(W=>{q.push({key:W.key,...W.val()})}),q}}create(J,q={}){let W=(0,v.VC)((0,v.KR)(this.db,J));return(0,v.hZ)(W,{key:W.key,createdAt:(0,v.O5)(),updatedAt:(0,v.O5)(),...q}).then(),Promise.resolve({key:W.key})}set(J,q={}){var W=this;return(0,E.A)(function*(){const se=(0,v.KR)(W.db,J);yield(0,v.hZ)(se,q)})()}update(J,q={}){var W=this;return(0,E.A)(function*(){const se=(0,v.KR)(W.db,J);yield(0,v.yo)(se,{updatedAt:(0,v.O5)(),...q})})()}remove(J){var q=this;return(0,E.A)(function*(){const W=(0,v.KR)(q.db,J);yield(0,v.TF)(W)})()}readRealtime$(J,q=!1){return new ue.c(W=>{(0,v.Zy)((0,v.KR)(this.db,J),se=>{let ee=[];se.exists()?(se.forEach(ne=>{ee.push({key:ne.key,...ne.val()})}),W.next(ee)):W.next([])},{onlyOnce:q})})}readRealtimeOriginal$(J,q=!1){return new ue.c(W=>{(0,v.Zy)((0,v.KR)(this.db,J),se=>{se.exists()?W.next(se.val()):W.next(null)},{onlyOnce:q})})}getKeys$(J){return new ue.c(q=>{(0,v.Zy)((0,v.KR)(this.db,J),W=>{let se=[];W.exists()?(W.forEach(ee=>{se.push(ee.key)}),q.next(se)):q.next(null)})})}readOnce(J){return new Promise((q,W)=>{(0,v.Jt)((0,v.KR)(this.db,J)).then(se=>{let ee=[];se.exists()?(se.forEach(ne=>{ee.push({key:ne.key,...ne.val()})}),q(ee)):q([])}).catch(se=>{W(se)})})}readOnceOriginal(J){return new Promise((q,W)=>{(0,v.Jt)((0,v.KR)(this.db,J)).then(se=>{se.exists()?q(se.val()):q([])}).catch(se=>{W(se)})})}getKeys(J){return new Promise((q,W)=>{(0,v.Jt)((0,v.KR)(this.db,J)).then(se=>{let ee=[];se.exists()?(se.forEach(ne=>{ee.push(ne.key)}),q(ee)):q([])}).catch(se=>{W(se)})})}checkPresence(J){const q=(0,v.KR)(this.db,`${J}/connections`),W=(0,v.KR)(this.db,`${J}/lastOnline`),se=(0,v.KR)(this.db,".info/connected");(0,v.Zy)(se,ee=>{if(!0===ee.val()){const ne=(0,v.VC)(q);(0,v.yX)(ne).remove().then(),(0,v.hZ)(ne,!0).then(),(0,v.yX)(W).set((0,v.O5)()).then()}})}onDisconnect(J){const q=(0,v.KR)(this.db,J);return(0,v.yX)(q)}detectingConnectionState(){return new ue.c(J=>{const q=(0,v.KR)(this.db,".info/connected");(0,v.Zy)(q,W=>{J.next(W.val())})})}updateCounter(J,q=!0){return new Promise((W,se)=>{const ee=(0,v.KR)(this.db);(0,v.Jt)((0,v.jf)(ee,"counter")).then(ne=>{(0,v.yo)((0,v.KR)(this.db,J),{counter:(0,v.GV)(q?1:-1)}).then(Ce=>{W(Ce)})})})}#e(){}}},7647:(pt,ye,C)=>{C.d(ye,{u:()=>K});var E=C(8750),v=C(1413),ue=C(7707),U=C(9974);function K(q={}){const{connector:W=()=>new v.B,resetOnError:se=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ne=!0}=q;return Ce=>{let Be,Fe,Oe,Te=0,qe=!1,He=!1;const Dt=()=>{Fe?.unsubscribe(),Fe=void 0},Tt=()=>{Dt(),Be=Oe=void 0,qe=He=!1},lt=()=>{const Xe=Be;Tt(),Xe?.unsubscribe()};return(0,U.N)((Xe,Vt)=>{Te++,!He&&!qe&&Dt();const kt=Oe=Oe??W();Vt.add(()=>{Te--,0===Te&&!He&&!qe&&(Fe=J(lt,ne))}),kt.subscribe(Vt),!Be&&Te>0&&(Be=new ue.Ms({next:qt=>kt.next(qt),error:qt=>{He=!0,Dt(),Fe=J(Tt,se,qt),kt.error(qt)},complete:()=>{qe=!0,Dt(),Fe=J(Tt,ee),kt.complete()}}),(0,E.Tg)(Xe).subscribe(Be))})(Ce)}}function J(q,W,...se){if(!0===W)return void q();if(!1===W)return;const ee=new ue.Ms({next:()=>{ee.unsubscribe(),q()}});return(0,E.Tg)(W(...se)).subscribe(ee)}},7673:(pt,ye,C)=>{C.d(ye,{of:()=>ue});var E=C(9326),v=C(2806);function ue(...U){const K=(0,E.lI)(U);return(0,v.H)(U,K)}},7707:(pt,ye,C)=>{C.d(ye,{Ms:()=>Te,vU:()=>Ce});var E=C(8071),v=C(8359),ue=C(1026),U=C(5334),K=C(5343);const J=se("C",void 0,void 0);function se(lt,Xe,Vt){return{kind:lt,value:Xe,error:Vt}}var ee=C(9270),ne=C(9786);class Ce extends v.yU{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,v.Uv)(Xe)&&Xe.add(this)):this.destination=Tt}static create(Xe,Vt,kt){return new Te(Xe,Vt,kt)}next(Xe){this.isStopped?Dt(function W(lt){return se("N",lt,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?Dt(function q(lt){return se("E",void 0,lt)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?Dt(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Fe(lt,Xe){return Be.call(lt,Xe)}class Oe{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:Vt}=this;if(Vt.next)try{Vt.next(Xe)}catch(kt){qe(kt)}}error(Xe){const{partialObserver:Vt}=this;if(Vt.error)try{Vt.error(Xe)}catch(kt){qe(kt)}else qe(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(Vt){qe(Vt)}}}class Te extends Ce{constructor(Xe,Vt,kt){let qt;if(super(),(0,E.T)(Xe)||!Xe)qt={next:Xe??void 0,error:Vt??void 0,complete:kt??void 0};else{let jt;this&&ue.$.useDeprecatedNextContext?(jt=Object.create(Xe),jt.unsubscribe=()=>this.unsubscribe(),qt={next:Xe.next&&Fe(Xe.next,jt),error:Xe.error&&Fe(Xe.error,jt),complete:Xe.complete&&Fe(Xe.complete,jt)}):qt=Xe}this.destination=new Oe(qt)}}function qe(lt){ue.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(lt):(0,U.m)(lt)}function Dt(lt,Xe){const{onStoppedNotification:Vt}=ue.$;Vt&&ee.f.setTimeout(()=>Vt(lt,Xe))}const Tt={closed:!0,next:K.l,error:function He(lt){throw lt},complete:K.l}},7786:(pt,ye,C)=>{C.d(ye,{h:()=>J});var E=C(6365),v=C(8750),ue=C(983),U=C(9326),K=C(2806);function J(...q){const W=(0,U.lI)(q),se=(0,U.R0)(q,1/0),ee=q;return ee.length?1===ee.length?(0,v.Tg)(ee[0]):(0,E.U)(se)((0,K.H)(ee,W)):ue.w}},7852:(pt,ye,C)=>{C.d(ye,{MF:()=>Ks,j6:()=>fs,om:()=>Ps,Sx:()=>Jn,Dk:()=>Lr,Wp:()=>ps,KO:()=>ss});var E=C(467),v=C(1362),ue=C(8041),U=C(1076);let J,q;const ee=new WeakMap,ne=new WeakMap,Ce=new WeakMap,Be=new WeakMap,Fe=new WeakMap;let qe={get(ot,Ke,wt){if(ot instanceof IDBTransaction){if("done"===Ke)return ne.get(ot);if("objectStoreNames"===Ke)return ot.objectStoreNames||Ce.get(ot);if("store"===Ke)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return lt(ot[Ke])},set:(ot,Ke,wt)=>(ot[Ke]=wt,!0),has:(ot,Ke)=>ot instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in ot};function Tt(ot){return"function"==typeof ot?function Dt(ot){return ot!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ot)?function(...Ke){return ot.apply(Xe(this),Ke),lt(ee.get(this))}:function(...Ke){return lt(ot.apply(Xe(this),Ke))}:function(Ke,...wt){const vt=ot.call(Xe(this),Ke,...wt);return Ce.set(vt,Ke.sort?Ke.sort():[Ke]),lt(vt)}}(ot):(ot instanceof IDBTransaction&&function Te(ot){if(ne.has(ot))return;const Ke=new Promise((wt,vt)=>{const Sn=()=>{ot.removeEventListener("complete",Cn),ot.removeEventListener("error",Kn),ot.removeEventListener("abort",Kn)},Cn=()=>{wt(),Sn()},Kn=()=>{vt(ot.error||new DOMException("AbortError","AbortError")),Sn()};ot.addEventListener("complete",Cn),ot.addEventListener("error",Kn),ot.addEventListener("abort",Kn)});ne.set(ot,Ke)}(ot),((ot,Ke)=>Ke.some(wt=>ot instanceof wt))(ot,function W(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ot,qe):ot)}function lt(ot){if(ot instanceof IDBRequest)return function Oe(ot){const Ke=new Promise((wt,vt)=>{const Sn=()=>{ot.removeEventListener("success",Cn),ot.removeEventListener("error",Kn)},Cn=()=>{wt(lt(ot.result)),Sn()},Kn=()=>{vt(ot.error),Sn()};ot.addEventListener("success",Cn),ot.addEventListener("error",Kn)});return Ke.then(wt=>{wt instanceof IDBCursor&&ee.set(wt,ot)}).catch(()=>{}),Fe.set(Ke,ot),Ke}(ot);if(Be.has(ot))return Be.get(ot);const Ke=Tt(ot);return Ke!==ot&&(Be.set(ot,Ke),Fe.set(Ke,ot)),Ke}const Xe=ot=>Fe.get(ot),qt=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],sn=new Map;function An(ot,Ke){if(!(ot instanceof IDBDatabase)||Ke in ot||"string"!=typeof Ke)return;if(sn.get(Ke))return sn.get(Ke);const wt=Ke.replace(/FromIndex$/,""),vt=Ke!==wt,Sn=jt.includes(wt);if(!(wt in(vt?IDBIndex:IDBObjectStore).prototype)||!Sn&&!qt.includes(wt))return;const Cn=function(){var Kn=(0,E.A)(function*(es,...Vr){const jn=this.transaction(es,Sn?"readwrite":"readonly");let oo=jn.store;return vt&&(oo=oo.index(Vr.shift())),(yield Promise.all([oo[wt](...Vr),Sn&&jn.done]))[0]});return function(Vr){return Kn.apply(this,arguments)}}();return sn.set(Ke,Cn),Cn}!function He(ot){qe=ot(qe)}(ot=>({...ot,get:(Ke,wt,vt)=>An(Ke,wt)||ot.get(Ke,wt,vt),has:(Ke,wt)=>!!An(Ke,wt)||ot.has(Ke,wt)}));class yt{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Ze(ot){const Ke=ot.getComponent();return"VERSION"===Ke?.type}(wt)){const vt=wt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(wt=>wt).join(" ")}}const Ut="@firebase/app",nr=new ue.Vy("@firebase/app"),xr="@firebase/app-compat",as="@firebase/analytics-compat",Fr="@firebase/analytics",Yn="@firebase/app-check-compat",ke="@firebase/app-check",tt="@firebase/auth",st="@firebase/auth-compat",et="@firebase/database",At="@firebase/database-compat",St="@firebase/functions",Jt="@firebase/functions-compat",On="@firebase/installations",rr="@firebase/installations-compat",fn="@firebase/messaging",Un="@firebase/messaging-compat",wn="@firebase/performance",kr="@firebase/performance-compat",Xn="@firebase/remote-config",ir="@firebase/remote-config-compat",ls="@firebase/storage",Ir="@firebase/storage-compat",qr="@firebase/firestore",xs="@firebase/firestore-compat",hs="firebase",Wn="[DEFAULT]",rs={[Ut]:"fire-core",[xr]:"fire-core-compat",[Fr]:"fire-analytics",[as]:"fire-analytics-compat",[ke]:"fire-app-check",[Yn]:"fire-app-check-compat",[tt]:"fire-auth",[st]:"fire-auth-compat",[et]:"fire-rtdb",[At]:"fire-rtdb-compat",[St]:"fire-fn",[Jt]:"fire-fn-compat",[On]:"fire-iid",[rr]:"fire-iid-compat",[fn]:"fire-fcm",[Un]:"fire-fcm-compat",[wn]:"fire-perf",[kr]:"fire-perf-compat",[Xn]:"fire-rc",[ir]:"fire-rc-compat",[ls]:"fire-gcs",[Ir]:"fire-gcs-compat",[qr]:"fire-fst",[xs]:"fire-fst-compat","fire-js":"fire-js",[hs]:"fire-js-all"},Bt=new Map,vr=new Map;function cs(ot,Ke){try{ot.container.addComponent(Ke)}catch(wt){nr.debug(`Component ${Ke.name} failed to register with FirebaseApp ${ot.name}`,wt)}}function Ps(ot){const Ke=ot.name;if(vr.has(Ke))return nr.debug(`There were multiple attempts to register component ${Ke}.`),!1;vr.set(Ke,ot);for(const wt of Bt.values())cs(wt,ot);return!0}function fs(ot,Ke){const wt=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),ot.container.getProvider(Ke)}const Tn=new U.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ri{constructor(Ke,wt,vt){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new v.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Ks="9.23.0";function ps(ot,Ke={}){let wt=ot;"object"!=typeof Ke&&(Ke={name:Ke});const vt=Object.assign({name:Wn,automaticDataCollectionEnabled:!1},Ke),Sn=vt.name;if("string"!=typeof Sn||!Sn)throw Tn.create("bad-app-name",{appName:String(Sn)});if(wt||(wt=(0,U.T9)()),!wt)throw Tn.create("no-options");const Cn=Bt.get(Sn);if(Cn){if((0,U.bD)(wt,Cn.options)&&(0,U.bD)(vt,Cn.config))return Cn;throw Tn.create("duplicate-app",{appName:Sn})}const Kn=new v.h1(Sn);for(const Vr of vr.values())Kn.addComponent(Vr);const es=new ri(wt,vt,Kn);return Bt.set(Sn,es),es}function Jn(ot=Wn){const Ke=Bt.get(ot);if(!Ke&&ot===Wn&&(0,U.T9)())return ps();if(!Ke)throw Tn.create("no-app",{appName:ot});return Ke}function Lr(){return Array.from(Bt.values())}function ss(ot,Ke,wt){var vt;let Sn=null!==(vt=rs[ot])&&void 0!==vt?vt:ot;wt&&(Sn+=`-${wt}`);const Cn=Sn.match(/\s|\//),Kn=Ke.match(/\s|\//);if(Cn||Kn){const es=[`Unable to register library "${Sn}" with version "${Ke}":`];return Cn&&es.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),Cn&&Kn&&es.push("and"),Kn&&es.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void nr.warn(es.join(" "))}Ps(new v.uA(`${Sn}-version`,()=>({library:Sn,version:Ke}),"VERSION"))}const Re="firebase-heartbeat-store";let be=null;function Ve(){return be||(be=function Vt(ot,Ke,{blocked:wt,upgrade:vt,blocking:Sn,terminated:Cn}={}){const Kn=indexedDB.open(ot,Ke),es=lt(Kn);return vt&&Kn.addEventListener("upgradeneeded",Vr=>{vt(lt(Kn.result),Vr.oldVersion,Vr.newVersion,lt(Kn.transaction),Vr)}),wt&&Kn.addEventListener("blocked",Vr=>wt(Vr.oldVersion,Vr.newVersion,Vr)),es.then(Vr=>{Cn&&Vr.addEventListener("close",()=>Cn()),Sn&&Vr.addEventListener("versionchange",jn=>Sn(jn.oldVersion,jn.newVersion,jn))}).catch(()=>{}),es}("firebase-heartbeat-database",1,{upgrade:(ot,Ke)=>{0===Ke&&ot.createObjectStore(Re)}}).catch(ot=>{throw Tn.create("idb-open",{originalErrorMessage:ot.message})})),be}function he(){return(he=(0,E.A)(function*(ot){try{return yield(yield Ve()).transaction(Re).objectStore(Re).get(we(ot))}catch(Ke){if(Ke instanceof U.g)nr.warn(Ke.message);else{const wt=Tn.create("idb-get",{originalErrorMessage:Ke?.message});nr.warn(wt.message)}}})).apply(this,arguments)}function Me(ot,Ke){return de.apply(this,arguments)}function de(){return(de=(0,E.A)(function*(ot,Ke){try{const vt=(yield Ve()).transaction(Re,"readwrite");yield vt.objectStore(Re).put(Ke,we(ot)),yield vt.done}catch(wt){if(wt instanceof U.g)nr.warn(wt.message);else{const vt=Tn.create("idb-set",{originalErrorMessage:wt?.message});nr.warn(vt.message)}}})).apply(this,arguments)}function we(ot){return`${ot.name}!${ot.options.appId}`}class on{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new Tr(wt),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ke=this;return(0,E.A)(function*(){const vt=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=Yt();if(null===Ke._heartbeatsCache&&(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise),Ke._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!Ke._heartbeatsCache.heartbeats.some(Cn=>Cn.date===Sn))return Ke._heartbeatsCache.heartbeats.push({date:Sn,agent:vt}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(Cn=>{const Kn=new Date(Cn.date).valueOf();return Date.now()-Kn<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,E.A)(function*(){if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null===Ke._heartbeatsCache||0===Ke._heartbeatsCache.heartbeats.length)return"";const wt=Yt(),{heartbeatsToSend:vt,unsentEntries:Sn}=function Bn(ot,Ke=1024){const wt=[];let vt=ot.slice();for(const Sn of ot){const Cn=wt.find(Kn=>Kn.agent===Sn.agent);if(Cn){if(Cn.dates.push(Sn.date),Or(wt)>Ke){Cn.dates.pop();break}}else if(wt.push({agent:Sn.agent,dates:[Sn.date]}),Or(wt)>Ke){wt.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:vt}}(Ke._heartbeatsCache.heartbeats),Cn=(0,U.Uj)(JSON.stringify({version:2,heartbeats:vt}));return Ke._heartbeatsCache.lastSentHeartbeatDate=wt,Sn.length>0?(Ke._heartbeatsCache.heartbeats=Sn,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),Cn})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class Tr{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.A)(function*(){return!!(0,U.zW)()&&(0,U.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,E.A)(function*(){return(yield Ke._canUseIndexedDBPromise)&&(yield function Qe(ot){return he.apply(this,arguments)}(Ke.app))||{heartbeats:[]}})()}overwrite(Ke){var wt=this;return(0,E.A)(function*(){var vt;if(yield wt._canUseIndexedDBPromise){const Cn=yield wt.read();return Me(wt.app,{lastSentHeartbeatDate:null!==(vt=Ke.lastSentHeartbeatDate)&&void 0!==vt?vt:Cn.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var wt=this;return(0,E.A)(function*(){var vt;if(yield wt._canUseIndexedDBPromise){const Cn=yield wt.read();return Me(wt.app,{lastSentHeartbeatDate:null!==(vt=Ke.lastSentHeartbeatDate)&&void 0!==vt?vt:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...Ke.heartbeats]})}})()}}function Or(ot){return(0,U.Uj)(JSON.stringify({version:2,heartbeats:ot})).length}!function Fi(ot){Ps(new v.uA("platform-logger",Ke=>new yt(Ke),"PRIVATE")),Ps(new v.uA("heartbeat",Ke=>new on(Ke),"PRIVATE")),ss(Ut,"0.9.13",ot),ss(Ut,"0.9.13","esm2017"),ss("fire-js","")}("")},7908:(pt,ye,C)=>{function E(v,ue){if(v){const U=v.indexOf(ue);0<=U&&v.splice(U,1)}}C.d(ye,{o:()=>E})},7953:(pt,ye,C)=>{C.d(ye,{T:()=>v});var E=C(8071);function v(ue){return Symbol.asyncIterator&&(0,E.T)(ue?.[Symbol.asyncIterator])}},8041:(pt,ye,C)=>{C.d(ye,{$b:()=>v,Vy:()=>q});const E=[];var v=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(v||{});const ue={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},U=v.INFO,K={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},J=(ee,ne,...Ce)=>{if(ne<ee.logLevel)return;const Be=(new Date).toISOString(),Fe=K[ne];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Fe](`[${Be}]  ${ee.name}:`,...Ce)};class q{constructor(ne){this.name=ne,this._logLevel=U,this._logHandler=J,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in v))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?ue[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...ne),this._logHandler(this,v.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...ne),this._logHandler(this,v.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,v.INFO,...ne),this._logHandler(this,v.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,v.WARN,...ne),this._logHandler(this,v.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...ne),this._logHandler(this,v.ERROR,...ne)}}},8066:(pt,ye,C)=>{C.d(ye,{w:()=>q});var E=C(9310),v=C(965),ue=C(459);const U=(0,E.UX)(ue.c),K=(0,E.Mz)(U,W=>W.user);var J=C(4438);let q=(()=>{class W{constructor(ee){this.store=ee}userInfo$(){return this.store.pipe((0,E.Lt)(K))}getUserInfo(){this.store.dispatch(v.wz())}static{this.\u0275fac=function(ne){return new(ne||W)(J.KVO(E.il))}}static{this.\u0275prov=J.jDH({token:W,factory:W.\u0275fac})}}return W})()},8071:(pt,ye,C)=>{function E(v){return"function"==typeof v}C.d(ye,{T:()=>E})},8141:(pt,ye,C)=>{C.d(ye,{M:()=>K});var E=C(8071),v=C(9974),ue=C(4360),U=C(3669);function K(J,q,W){const se=(0,E.T)(J)||q||W?{next:J,error:q,complete:W}:J;return se?(0,v.N)((ee,ne)=>{var Ce;null===(Ce=se.subscribe)||void 0===Ce||Ce.call(se);let Be=!0;ee.subscribe((0,ue._)(ne,Fe=>{var Oe;null===(Oe=se.next)||void 0===Oe||Oe.call(se,Fe),ne.next(Fe)},()=>{var Fe;Be=!1,null===(Fe=se.complete)||void 0===Fe||Fe.call(se),ne.complete()},Fe=>{var Oe;Be=!1,null===(Oe=se.error)||void 0===Oe||Oe.call(se,Fe),ne.error(Fe)},()=>{var Fe,Oe;Be&&(null===(Fe=se.unsubscribe)||void 0===Fe||Fe.call(se)),null===(Oe=se.finalize)||void 0===Oe||Oe.call(se)}))}):U.D}},8193:(pt,ye,C)=>{C.d(ye,{NW:()=>U,Sl:()=>ue,gt:()=>K});var E=C(9310),v=function(J){return J.REGISTER="[AUTH] REGISTER",J.REGISTER_SUCCESS="[AUTH] REGISTER SUCCESS",J.REGISTER_FAILURE="[AUTH] REGISTER FAILURE",J}(v||{});const ue=(0,E.VP)(v.REGISTER,(0,E.xk)()),U=(0,E.VP)(v.REGISTER_SUCCESS,(0,E.xk)()),K=(0,E.VP)(v.REGISTER_FAILURE,(0,E.xk)())},8211:(pt,ye,C)=>{function E(v){return v instanceof Date&&!isNaN(v)}C.d(ye,{v:()=>E})},8244:(pt,ye,C)=>{C.d(ye,{i:()=>U});var E=C(6325),v=C(177),ue=C(4438);let U=(()=>{class K{static{this.\u0275fac=function(W){return new(W||K)}}static{this.\u0275mod=ue.$C({type:K})}static{this.\u0275inj=ue.G2t({providers:[E.c],imports:[v.CommonModule]})}}return K})()},8320:(pt,ye,C)=>{C.d(ye,{T:()=>q});var E=C(9310),v=C(8964);const ue=(0,E.UX)(v.cp),U=(0,E.Mz)(ue,W=>W.data);var K=C(2503),J=C(4438);let q=(()=>{class W{constructor(ee){this.store=ee}getData(){return this.store.pipe((0,E.Lt)(U))}loadData(){this.store.dispatch(K.Ze())}loadDataSuccess(ee){this.store.dispatch(K.aE(ee))}loadDataFailure(ee){this.store.dispatch(K.Ny(ee))}static{this.\u0275fac=function(ne){return new(ne||W)(J.KVO(E.il))}}static{this.\u0275prov=J.jDH({token:W,factory:W.\u0275fac})}}return W})()},8330:pt=>{pt.exports={rE:"0.0.247"}},8359:(pt,ye,C)=>{C.d(ye,{Kn:()=>J,yU:()=>K,Uv:()=>q});var E=C(8071);const ue=(0,C(1853).L)(se=>function(ne){se(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((Ce,Be)=>`${Be+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var U=C(7908);class K{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Fe of ne)Fe.remove(this);else ne.remove(this);const{initialTeardown:Ce}=this;if((0,E.T)(Ce))try{Ce()}catch(Fe){ee=Fe instanceof ue?Fe.errors:[Fe]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Fe of Be)try{W(Fe)}catch(Oe){ee=ee??[],Oe instanceof ue?ee=[...ee,...Oe.errors]:ee.push(Oe)}}if(ee)throw new ue(ee)}}add(ee){var ne;if(ee&&ee!==this)if(this.closed)W(ee);else{if(ee instanceof K){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(ee)}}_hasParent(ee){const{_parentage:ne}=this;return ne===ee||Array.isArray(ne)&&ne.includes(ee)}_addParent(ee){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(ee),ne):ne?[ne,ee]:ee}_removeParent(ee){const{_parentage:ne}=this;ne===ee?this._parentage=null:Array.isArray(ne)&&(0,U.o)(ne,ee)}remove(ee){const{_finalizers:ne}=this;ne&&(0,U.o)(ne,ee),ee instanceof K&&ee._removeParent(this)}}K.EMPTY=(()=>{const se=new K;return se.closed=!0,se})();const J=K.EMPTY;function q(se){return se instanceof K||se&&"closed"in se&&(0,E.T)(se.remove)&&(0,E.T)(se.add)&&(0,E.T)(se.unsubscribe)}function W(se){(0,E.T)(se)?se():se.unsubscribe()}},8496:(pt,ye,C)=>{function E(v,ue){return v.reduce((U,K,J)=>(U[K]=ue[J],U),{})}C.d(ye,{e:()=>E})},8515:(pt,ye,C)=>{C.d(ye,{h:()=>K});var E=C(6354),v=C(4438),ue=C(1626);let K=(()=>{class J{constructor(W){this.http=W}register(W){return this.http.post("https://conduit.productionready.io/api/users",W).pipe((0,E.T)(se=>se.user))}static{this.\u0275fac=function(se){return new(se||J)(v.KVO(ue.Qq))}}static{this.\u0275prov=v.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},8527:(pt,ye,C)=>{C.d(ye,{OM:()=>ee,VZ:()=>J,fM:()=>Ce,i8:()=>W,iQ:()=>Be,j1:()=>v,n$:()=>ne,n8:()=>U,om:()=>K,op:()=>ue,sc:()=>se,vV:()=>q});var E=C(9310);const v=(0,E.VP)("[ARTICLE] Show All"),ue=(0,E.VP)("[ARTICLE] Show All Success",(0,E.xk)()),U=(0,E.VP)("[ARTICLE] Create",(0,E.xk)()),K=(0,E.VP)("[ARTICLE] Create Success",(0,E.xk)()),J=(0,E.VP)("[ARTICLE] Create Failure",(0,E.xk)()),q=(0,E.VP)("[ARTICLE] Get by Id",(0,E.xk)()),W=(0,E.VP)("[ARTICLE] Get by Id Success",(0,E.xk)()),se=(0,E.VP)("[ARTICLE] Reset"),ee=(0,E.VP)("[Product] Add to cart",(0,E.xk)()),ne=(0,E.VP)("[Product] Remove from cart",(0,E.xk)()),Ce=(0,E.VP)("[Products] Load items from server"),Be=(0,E.VP)("[Products] Load success",(0,E.xk)())},8603:(pt,ye,C)=>{C.d(ye,{i:()=>ue});var E=C(1413),v=C(4412);class ue{constructor(K){this.reducer=K,this.action=new E.B;const J={type:"@ngrx/store/init"},q=K(void 0,J);this.state=new v.t(q),this.state$=this.state.asObservable(),this.action$=this.action.asObservable(),this.action.next(J)}dispatch(K){const J=this.state.getValue(),q=this.reducer(J,K);this.state.next(q),this.action.next(K)}}},8721:(pt,ye,C)=>{C.d(ye,{Km:()=>J,cp:()=>U});var E=C(9310),v=C(8193);const U="Register",K=(0,E.vy)({isSubmitting:!1,currentUser:null,isLoggedIn:null,validationErrors:null},(0,E.on)(v.Sl,q=>({...q,isSubmitting:!0,validationErrors:null})),(0,E.on)(v.NW,(q,W)=>({...q,isSubmitting:!1,isLoggedIn:!0,currentUser:W.currentUser})),(0,E.on)(v.gt,(q,W)=>({...q,isSubmitting:!1,validationErrors:W.errors})));function J(q,W){return K(q,W)}},8750:(pt,ye,C)=>{C.d(ye,{Tg:()=>Be});var E=C(1635),v=C(7441),ue=C(9858),U=C(1985),K=C(5055),J=C(7953),q=C(591),W=C(5397),se=C(5196),ee=C(8071),ne=C(5334),Ce=C(3494);function Be(lt){if(lt instanceof U.c)return lt;if(null!=lt){if((0,K.l)(lt))return function Fe(lt){return new U.c(Xe=>{const Vt=lt[Ce.s]();if((0,ee.T)(Vt.subscribe))return Vt.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(lt);if((0,v.X)(lt))return function Oe(lt){return new U.c(Xe=>{for(let Vt=0;Vt<lt.length&&!Xe.closed;Vt++)Xe.next(lt[Vt]);Xe.complete()})}(lt);if((0,ue.y)(lt))return function Te(lt){return new U.c(Xe=>{lt.then(Vt=>{Xe.closed||(Xe.next(Vt),Xe.complete())},Vt=>Xe.error(Vt)).then(null,ne.m)})}(lt);if((0,J.T)(lt))return He(lt);if((0,W.x)(lt))return function qe(lt){return new U.c(Xe=>{for(const Vt of lt)if(Xe.next(Vt),Xe.closed)return;Xe.complete()})}(lt);if((0,se.U)(lt))return function Dt(lt){return He((0,se.C)(lt))}(lt)}throw(0,q.L)(lt)}function He(lt){return new U.c(Xe=>{(function Tt(lt,Xe){var Vt,kt,qt,jt;return(0,E.sH)(this,void 0,void 0,function*(){try{for(Vt=(0,E.xN)(lt);!(kt=yield Vt.next()).done;)if(Xe.next(kt.value),Xe.closed)return}catch(sn){qt={error:sn}}finally{try{kt&&!kt.done&&(jt=Vt.return)&&(yield jt.call(Vt))}finally{if(qt)throw qt.error}}Xe.complete()})})(lt,Xe).catch(Vt=>Xe.error(Vt))})}},8793:(pt,ye,C)=>{C.d(ye,{x:()=>K});var E=C(6365),ue=C(9326),U=C(2806);function K(...J){return function v(){return(0,E.U)(1)}()((0,U.H)(J,(0,ue.lI)(J)))}},8810:(pt,ye,C)=>{C.d(ye,{$:()=>ue});var E=C(1985),v=C(8071);function ue(U,K){const J=(0,v.T)(U)?U:()=>U,q=W=>W.error(J());return new E.c(K?W=>K.schedule(q,0,W):q)}},8910:(pt,ye,C)=>{C.d(ye,{B:()=>v,W:()=>ue});const v=new(C(4438).nKC)("GenericFirebaseDbInterface");class ue{}},8964:(pt,ye,C)=>{C.d(ye,{b4:()=>J,cp:()=>ue});var E=C(9310),v=C(2503);const ue="load-data",K=(0,E.vy)({data:null,loading:!1,error:null},(0,E.on)(v.Ze,q=>({...q,loading:!0})),(0,E.on)(v.aE,(q,{payload:W})=>({...q,loading:!1,data:W})),(0,E.on)(v.Ny,(q,{payload:W})=>({...q,loading:!1,error:W})));function J(q,W){return K(q,W)}},8990:(pt,ye,C)=>{C.d(ye,{A:()=>K,d:()=>J});var E=C(4438),v=C(1626);class ue{constructor(){this.http=(0,E.WQX)(v.Qq)}post(W,se){return this.http.post(`${this.databaseURL}/${W}`,se)}get(W,se){return this.http.get(`${this.databaseURL}/${W}`,{params:se})}delete(W){return this.http.delete(`${this.databaseURL}/${W}`)}put(W,se){return this.http.put(`${this.databaseURL}/${W}`,se)}patch(W,se){return this.http.patch(`${this.databaseURL}/${W}`,se)}}var U=C(3344);class K{}let J=(()=>{class q extends ue{constructor(){super(...arguments),this.databaseURL=U.I.databaseURL}static{this.\u0275fac=(()=>{let se;return function(ne){return(se||(se=E.xGo(q)))(ne||q)}})()}static{this.\u0275prov=E.jDH({token:q,factory:q.\u0275fac})}}return q})()},9030:(pt,ye,C)=>{C.d(ye,{v:()=>ue});var E=C(1985),v=C(8750);function ue(U){return new E.c(K=>{(0,v.Tg)(U()).subscribe(K)})}},9072:(pt,ye,C)=>{C.d(ye,{M:()=>q});var E=C(9310),v=C(4413),ue=C(2830);const U=(0,E.UX)(ue.cp),K=(0,E.Mz)(U,W=>W.count);var J=C(4438);let q=(()=>{class W{constructor(ee){this.store=ee}getCount(){return this.store.pipe((0,E.Lt)(K))}incrementCount(){this.store.dispatch(v.GV())}decrementCount(){this.store.dispatch(v.Kt())}resetCount(){this.store.dispatch(v.cL())}setValue(ee){this.store.dispatch(v.Co({newValue:ee}))}loadValue(){this.store.dispatch(v.m5())}static{this.\u0275fac=function(ne){return new(ne||W)(J.KVO(E.il))}}static{this.\u0275prov=J.jDH({token:W,factory:W.\u0275fac})}}return W})()},9079:(pt,ye,C)=>{C.d(ye,{ZX:()=>Fe,br:()=>se,ot:()=>ne,pQ:()=>K});var E=C(4438),v=C(1985),ue=C(2771),U=C(6977);function K(Oe){Oe||((0,E.Af3)(K),Oe=(0,E.WQX)(E.abz));const Te=new v.c(qe=>Oe.onDestroy(qe.next.bind(qe)));return qe=>qe.pipe((0,U.Q)(Te))}function se(Oe,Te){!Te?.injector&&(0,E.Af3)(se);const qe=Te?.injector??(0,E.WQX)(E.zZn),He=new ue.m(1),Dt=(0,E.QZP)(()=>{let Tt;try{Tt=Oe()}catch(lt){return void(0,E.O8t)(()=>He.error(lt))}(0,E.O8t)(()=>He.next(Tt))},{injector:qe,manualCleanup:!0});return qe.get(E.abz).onDestroy(()=>{Dt.destroy(),He.complete()}),He.asObservable()}function ne(Oe,Te){const qe=!Te?.manualCleanup;qe&&!Te?.injector&&(0,E.Af3)(ne);const He=qe?Te?.injector?.get(E.abz)??(0,E.WQX)(E.abz):null,Dt=function Ce(Oe=Object.is){return(Te,qe)=>1===Te.kind&&1===qe.kind&&Oe(Te.value,qe.value)}(Te?.equal);let Tt;Tt=(0,E.vPA)(Te?.requireSync?{kind:0}:{kind:1,value:Te?.initialValue},{equal:Dt});const lt=Oe.subscribe({next:Xe=>Tt.set({kind:1,value:Xe}),error:Xe=>{if(Te?.rejectErrors)throw Xe;Tt.set({kind:2,error:Xe})}});if(Te?.requireSync&&0===Tt().kind)throw new E.wOt(601,!1);return He?.onDestroy(lt.unsubscribe.bind(lt)),(0,E.EWP)(()=>{const Xe=Tt();switch(Xe.kind){case 1:return Xe.value;case 2:throw Xe.error;case 0:throw new E.wOt(601,!1)}},{equal:Te?.equal})}function Fe(Oe){return Oe?.injector||(0,E.Af3)(Fe),(0,E.ZcF)({...Oe,loader:void 0,stream:Te=>{let qe;const He=()=>qe.unsubscribe();Te.abortSignal.addEventListener("abort",He);const Dt=(0,E.vPA)({value:void 0});let Tt;const lt=new Promise(Vt=>Tt=Vt);function Xe(Vt){Dt.set(Vt),Tt?.(Dt),Tt=void 0}return qe=Oe.loader(Te).subscribe({next:Vt=>Xe({value:Vt}),error:Vt=>Xe({error:Vt}),complete:()=>{Tt&&Xe({error:new Error("Resource completed before producing a value")}),Te.abortSignal.removeEventListener("abort",He)}}),lt}})}},9085:(pt,ye,C)=>{C.d(ye,{E:()=>v});var E=C(6354);function v(...ue){const U=ue.length;if(0===U)throw new Error("list of properties cannot be empty.");return(0,E.T)(K=>{let J=K;for(let q=0;q<U;q++){const W=J?.[ue[q]];if(!(typeof W<"u"))return;J=W}return J})}},9172:(pt,ye,C)=>{C.d(ye,{Z:()=>U});var E=C(8793),v=C(9326),ue=C(9974);function U(...K){const J=(0,v.lI)(K);return(0,ue.N)((q,W)=>{(J?(0,E.x)(K,q,J):(0,E.x)(K,q)).subscribe(W)})}},9270:(pt,ye,C)=>{C.d(ye,{f:()=>E});const E={setTimeout(v,ue,...U){const{delegate:K}=E;return K?.setTimeout?K.setTimeout(v,ue,...U):setTimeout(v,ue,...U)},clearTimeout(v){const{delegate:ue}=E;return(ue?.clearTimeout||clearTimeout)(v)},delegate:void 0}},9310:(pt,ye,C)=>{C.d(ye,{Bh:()=>Yr,Lt:()=>Tn,Mz:()=>Ct,N_:()=>Ut,QU:()=>hs,SS:()=>sn,UX:()=>Bn,VP:()=>Oe,Zz:()=>jt,ae:()=>bt,h1:()=>Zr,il:()=>dn,md:()=>Rt,on:()=>Lt,q6:()=>Wn,sA:()=>vr,vy:()=>_n,wc:()=>Ge,xk:()=>Te});var E=C(4438),v=C(4412),ue=C(1985),U=C(1413),K=C(7242),J=C(941),q=C(3993),W=C(2816),se=C(9085),ee=C(6354),ne=C(3294),Ce=C(9079);const Be={};function Oe(fe,Je){if(Be[fe]=(Be[fe]||0)+1,"function"==typeof Je)return He(fe,(...ze)=>({...Je(...ze),type:fe}));switch(Je?Je._as:"empty"){case"empty":return He(fe,()=>({type:fe}));case"props":return He(fe,ze=>({...ze,type:fe}));default:throw new Error("Unexpected config.")}}function Te(){return{_as:"props",_p:void 0}}function He(fe,Je){return Object.defineProperty(Je,"type",{value:fe,writable:!1})}const jt="@ngrx/store/init";let sn=(()=>{class fe extends v.t{constructor(){super({type:jt})}next(Pe){if("function"==typeof Pe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Pe>"u")throw new TypeError("Actions must be objects");if(typeof Pe.type>"u")throw new TypeError("Actions must have a type property");super.next(Pe)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(ze){return new(ze||fe)}}static{this.\u0275prov=E.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();const An=[sn],yt=new E.nKC("@ngrx/store Internal Root Guard"),Ze=new E.nKC("@ngrx/store Internal Initial State"),Ut=new E.nKC("@ngrx/store Initial State"),gn=new E.nKC("@ngrx/store Reducer Factory"),nr=new E.nKC("@ngrx/store Internal Reducer Factory Provider"),xr=new E.nKC("@ngrx/store Initial Reducers"),as=new E.nKC("@ngrx/store Internal Initial Reducers"),Fr=new E.nKC("@ngrx/store Store Features"),Yn=new E.nKC("@ngrx/store Internal Store Reducers"),ke=new E.nKC("@ngrx/store Internal Feature Reducers"),tt=new E.nKC("@ngrx/store Internal Feature Configs"),st=new E.nKC("@ngrx/store Internal Store Features"),et=new E.nKC("@ngrx/store Internal Feature Reducers Token"),At=new E.nKC("@ngrx/store Feature Reducers"),St=new E.nKC("@ngrx/store User Provided Meta Reducers"),Jt=new E.nKC("@ngrx/store Meta Reducers"),On=new E.nKC("@ngrx/store Internal Resolved Meta Reducers"),rr=new E.nKC("@ngrx/store User Runtime Checks Config"),fn=new E.nKC("@ngrx/store Internal User Runtime Checks Config"),Un=new E.nKC("@ngrx/store Internal Runtime Checks"),wn=new E.nKC("@ngrx/store Check if Action types are unique");function ir(fe,Je={}){const Pe=Object.keys(fe),ze={};for(let ct=0;ct<Pe.length;ct++){const Ht=Pe[ct];"function"==typeof fe[Ht]&&(ze[Ht]=fe[Ht])}const Et=Object.keys(ze);return function(Ht,vn){Ht=void 0===Ht?Je:Ht;let Rn=!1;const Er={};for(let Kt=0;Kt<Et.length;Kt++){const $n=Et[Kt],xn=Ht[$n],Qr=(0,ze[$n])(xn,vn);Er[$n]=Qr,Rn=Rn||Qr!==xn}return Rn?Er:Ht}}function Ir(...fe){return function(Je){if(0===fe.length)return Je;const Pe=fe[fe.length-1];return fe.slice(0,-1).reduceRight((Et,ct)=>ct(Et),Pe(Je))}}function qr(fe,Je){return Array.isArray(Je)&&Je.length>0&&(fe=Ir.apply(null,[...Je,fe])),(Pe,ze)=>{const Et=fe(Pe);return(ct,Ht)=>Et(ct=void 0===ct?ze:ct,Ht)}}new E.nKC("@ngrx/store Root Store Provider"),new E.nKC("@ngrx/store Feature State Provider");class hs extends ue.c{}class Yr extends sn{}const Wn="@ngrx/store/update-reducers";let rs=(()=>{class fe extends v.t{get currentReducers(){return this.reducers}constructor(Pe,ze,Et,ct){super(ct(Et,ze)),this.dispatcher=Pe,this.initialState=ze,this.reducers=Et,this.reducerFactory=ct}addFeature(Pe){this.addFeatures([Pe])}addFeatures(Pe){const ze=Pe.reduce((Et,{reducers:ct,reducerFactory:Ht,metaReducers:vn,initialState:Rn,key:Er})=>{const Kt="function"==typeof ct?function xs(fe){const Je=Array.isArray(fe)&&fe.length>0?Ir(...fe):Pe=>Pe;return(Pe,ze)=>(Pe=Je(Pe),(Et,ct)=>Pe(Et=void 0===Et?ze:Et,ct))}(vn)(ct,Rn):qr(Ht,vn)(ct,Rn);return Et[Er]=Kt,Et},{});this.addReducers(ze)}removeFeature(Pe){this.removeFeatures([Pe])}removeFeatures(Pe){this.removeReducers(Pe.map(ze=>ze.key))}addReducer(Pe,ze){this.addReducers({[Pe]:ze})}addReducers(Pe){this.reducers={...this.reducers,...Pe},this.updateReducers(Object.keys(Pe))}removeReducer(Pe){this.removeReducers([Pe])}removeReducers(Pe){Pe.forEach(ze=>{this.reducers=function ls(fe,Je){return Object.keys(fe).filter(Pe=>Pe!==Je).reduce((Pe,ze)=>Object.assign(Pe,{[ze]:fe[ze]}),{})}(this.reducers,ze)}),this.updateReducers(Pe)}updateReducers(Pe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Wn,features:Pe})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(ze){return new(ze||fe)(E.KVO(Yr),E.KVO(Ut),E.KVO(xr),E.KVO(gn))}}static{this.\u0275prov=E.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();const Bt=[rs,{provide:hs,useExisting:rs},{provide:Yr,useExisting:sn}];let vr=(()=>{class fe extends U.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let Pe;return function(Et){return(Pe||(Pe=E.xGo(fe)))(Et||fe)}})()}static{this.\u0275prov=E.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();const cs=[vr];class Zr extends ue.c{}let Ps=(()=>{class fe extends v.t{static{this.INIT=jt}constructor(Pe,ze,Et,ct){super(ct);const Er=Pe.pipe((0,J.Q)(K.T)).pipe((0,q.E)(ze)).pipe((0,W.S)(fs,{state:ct}));this.stateSubscription=Er.subscribe(({state:Kt,action:$n})=>{this.next(Kt),Et.next($n)}),this.state=(0,Ce.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(ze){return new(ze||fe)(E.KVO(sn),E.KVO(hs),E.KVO(vr),E.KVO(Ut))}}static{this.\u0275prov=E.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();function fs(fe={state:void 0},[Je,Pe]){const{state:ze}=fe;return{state:Pe(ze,Je),action:Je}}const yi=[Ps,{provide:Zr,useExisting:Ps}];let dn=(()=>{class fe extends ue.c{constructor(Pe,ze,Et,ct){super(),this.actionsObserver=ze,this.reducerManager=Et,this.injector=ct,this.source=Pe,this.state=Pe.state}select(Pe,...ze){return Tn.call(null,Pe,...ze)(this)}selectSignal(Pe,ze){return(0,E.EWP)(()=>Pe(this.state()),ze)}lift(Pe){const ze=new fe(this,this.actionsObserver,this.reducerManager);return ze.operator=Pe,ze}dispatch(Pe,ze){if("function"==typeof Pe)return this.processDispatchFn(Pe,ze);this.actionsObserver.next(Pe)}next(Pe){this.actionsObserver.next(Pe)}error(Pe){this.actionsObserver.error(Pe)}complete(){this.actionsObserver.complete()}addReducer(Pe,ze){this.reducerManager.addReducer(Pe,ze)}removeReducer(Pe){this.reducerManager.removeReducer(Pe)}processDispatchFn(Pe,ze){!function lt(fe,Je){if(null==fe)throw new Error(`${Je} must be defined.`)}(this.injector,"Store Injector");const Et=ze?.injector??function ri(){try{return(0,E.WQX)(E.zZn)}catch{return}}()??this.injector;return(0,E.QZP)(()=>{const ct=Pe();(0,E.O8t)(()=>this.dispatch(ct))},{injector:Et})}static{this.\u0275fac=function(ze){return new(ze||fe)(E.KVO(Zr),E.KVO(sn),E.KVO(rs),E.KVO(E.zZn))}}static{this.\u0275prov=E.jDH({token:fe,factory:fe.\u0275fac})}}return fe})();const Zs=[dn];function Tn(fe,Je,...Pe){return function(Et){let ct;if("string"==typeof fe){const Ht=[Je,...Pe].filter(Boolean);ct=Et.pipe((0,se.E)(fe,...Ht))}else{if("function"!=typeof fe)throw new TypeError(`Unexpected type '${typeof fe}' in select operator, expected 'string' or 'function'`);ct=Et.pipe((0,ee.T)(Ht=>fe(Ht,Je)))}return ct.pipe((0,ne.F)())}}const Ks="https://ngrx.io/guide/store/configuration/runtime-checks";function ps(fe){return void 0===fe}function Jn(fe){return null===fe}function Lr(fe){return Array.isArray(fe)}function qn(fe){return"object"==typeof fe&&null!==fe}function zs(fe){return"function"==typeof fe}let Ve=!1;function Me(fe,Je){return fe===Je}function it(fe,Je=Me,Pe=Me){let ct,ze=null,Et=null;return{memoized:function Er(){if(void 0!==ct)return ct.result;if(!ze)return Et=fe.apply(null,arguments),ze=arguments,Et;if(!function de(fe,Je,Pe){for(let ze=0;ze<fe.length;ze++)if(!Pe(fe[ze],Je[ze]))return!0;return!1}(arguments,ze,Je))return Et;const Kt=fe.apply(null,arguments);return ze=arguments,Pe(Et,Kt)?Et:(Et=Kt,Kt)},reset:function Ht(){ze=null,Et=null},setResult:function vn(Kt=void 0){ct={result:Kt}},clearResult:function Rn(){ct=void 0}}}function Ct(...fe){return function Yt(fe,Je={stateFn:on}){return function(...Pe){let ze=Pe;if(Array.isArray(ze[0])){const[Kt,...$n]=ze;ze=[...Kt,...$n]}else 1===ze.length&&function Tr(fe){return!!fe&&"object"==typeof fe&&Object.values(fe).every(Je=>"function"==typeof Je)}(ze[0])&&(ze=function Or(fe){const Je=Object.values(fe),Pe=Object.keys(fe);return[...Je,(...Et)=>Pe.reduce((ct,Ht,vn)=>({...ct,[Ht]:Et[vn]}),{})]}(ze[0]));const Et=ze.slice(0,ze.length-1),ct=ze[ze.length-1],Ht=Et.filter(Kt=>Kt.release&&"function"==typeof Kt.release),vn=fe(function(...Kt){return ct.apply(null,Kt)}),Rn=it(function(Kt,$n){return Je.stateFn.apply(null,[Kt,Et,$n,vn])});return Object.assign(Rn.memoized,{release:function Er(){Rn.reset(),vn.reset(),Ht.forEach(Kt=>Kt.release())},projector:vn.memoized,setResult:Rn.setResult,clearResult:Rn.clearResult})}}(it)(...fe)}function on(fe,Je,Pe,ze){if(void 0===Pe){const ct=Je.map(Ht=>Ht(fe));return ze.memoized.apply(null,ct)}const Et=Je.map(ct=>ct(fe,Pe));return ze.memoized.apply(null,[...Et,Pe])}function Bn(fe){return Ct(Je=>{const Pe=Je[fe];return!function he(){return Ve}()&&(0,E.naY)()&&!(fe in Je)&&console.warn(`@ngrx/store: The feature name "${fe}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${fe}', ...) or StoreModule.forFeature('${fe}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Pe},Je=>Je)}function wt(fe){return fe instanceof E.nKC?(0,E.WQX)(fe):fe}function vt(fe,Je){return Je.map((Pe,ze)=>{if(fe[ze]instanceof E.nKC){const Et=(0,E.WQX)(fe[ze]);return{key:Pe.key,reducerFactory:Et.reducerFactory?Et.reducerFactory:ir,metaReducers:Et.metaReducers?Et.metaReducers:[],initialState:Et.initialState}}return Pe})}function Sn(fe){return fe.map(Je=>Je instanceof E.nKC?(0,E.WQX)(Je):Je)}function Cn(fe){return"function"==typeof fe?fe():fe}function Kn(fe,Je){return fe.concat(Je)}function es(){if((0,E.WQX)(dn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function jn(fe){Object.freeze(fe);const Je=zs(fe);return Object.getOwnPropertyNames(fe).forEach(Pe=>{if(!Pe.startsWith("\u0275")&&function be(fe,Je){return Object.prototype.hasOwnProperty.call(fe,Je)}(fe,Pe)&&(!Je||"caller"!==Pe&&"callee"!==Pe&&"arguments"!==Pe)){const ze=fe[Pe];(qn(ze)||zs(ze))&&!Object.isFrozen(ze)&&jn(ze)}}),fe}function vi(fe,Je=[]){return(ps(fe)||Jn(fe))&&0===Je.length?{path:["root"],value:fe}:Object.keys(fe).reduce((ze,Et)=>{if(ze)return ze;const ct=fe[Et];return function Re(fe){return zs(fe)&&fe.hasOwnProperty("\u0275cmp")}(ct)?ze:!(ps(ct)||Jn(ct)||function ss(fe){return"number"==typeof fe}(ct)||function Jr(fe){return"boolean"==typeof fe}(ct)||function cr(fe){return"string"==typeof fe}(ct)||Lr(ct))&&(function _r(fe){if(!function mo(fe){return qn(fe)&&!Lr(fe)}(fe))return!1;const Je=Object.getPrototypeOf(fe);return Je===Object.prototype||null===Je}(ct)?vi(ct,[...Je,Et]):{path:[...Je,Et],value:ct})},!1)}function zr(fe,Je){if(!1===fe)return;const Pe=fe.path.join("."),ze=new Error(`Detected unserializable ${Je} at "${Pe}". ${Ks}#strict${Je}serializability`);throw ze.value=fe.value,ze.unserializablePath=Pe,ze}function gs(fe){return(0,E.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...fe}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function zi({strictActionSerializability:fe,strictStateSerializability:Je}){return Pe=>fe||Je?function oo(fe,Je){return function(Pe,ze){Je.action(ze)&&zr(vi(ze),"action");const Et=fe(Pe,ze);return Je.state()&&zr(vi(Et),"state"),Et}}(Pe,{action:ze=>fe&&!mn(ze),state:()=>Je}):Pe}function ws({strictActionImmutability:fe,strictStateImmutability:Je}){return Pe=>fe||Je?function Vr(fe,Je){return function(Pe,ze){const Et=Je.action(ze)?jn(ze):ze,ct=fe(Pe,Et);return Je.state()?jn(ct):ct}}(Pe,{action:ze=>fe&&!mn(ze),state:()=>Je}):Pe}function mn(fe){return fe.type.startsWith("@ngrx")}function er({strictActionWithinNgZone:fe}){return Je=>fe?function En(fe,Je){return function(Pe,ze){if(Je.action(ze)&&!E.SKi.isInAngularZone())throw new Error(`Action '${ze.type}' running outside NgZone. ${Ks}#strictactionwithinngzone`);return fe(Pe,ze)}}(Je,{action:Pe=>fe&&!mn(Pe)}):Je}function kn(fe){return[{provide:fn,useValue:fe},{provide:rr,useFactory:Xt,deps:[fn]},{provide:Un,deps:[rr],useFactory:gs},{provide:Jt,multi:!0,deps:[Un],useFactory:ws},{provide:Jt,multi:!0,deps:[Un],useFactory:zi},{provide:Jt,multi:!0,deps:[Un],useFactory:er}]}function Cs(){return[{provide:wn,multi:!0,deps:[Un],useFactory:Gi}]}function Xt(fe){return fe}function Gi(fe){if(!fe.strictActionTypeUniqueness)return;const Je=Object.entries(Be).filter(([,Pe])=>Pe>1).map(([Pe])=>Pe);if(Je.length)throw new Error(`Action types are registered more than once, ${Je.map(Pe=>`"${Pe}"`).join(", ")}. ${Ks}#strictactiontypeuniqueness`)}function Ei(fe={},Je={}){return[{provide:yt,useFactory:es},{provide:Ze,useValue:Je.initialState},{provide:Ut,useFactory:Cn,deps:[Ze]},{provide:as,useValue:fe},{provide:Yn,useExisting:fe instanceof E.nKC?fe:as},{provide:xr,deps:[as,[new E.y_5(Yn)]],useFactory:wt},{provide:St,useValue:Je.metaReducers?Je.metaReducers:[]},{provide:On,deps:[Jt,St],useFactory:Kn},{provide:nr,useValue:Je.reducerFactory?Je.reducerFactory:ir},{provide:gn,deps:[nr,On],useFactory:qr},An,Bt,cs,yi,Zs,kn(Je.runtimeChecks),Cs()]}function _e(fe,Je,Pe={}){return[{provide:tt,multi:!0,useValue:fe instanceof Object?{}:Pe},{provide:Fr,multi:!0,useValue:{key:fe instanceof Object?fe.name:fe,reducerFactory:Pe instanceof E.nKC||!Pe.reducerFactory?ir:Pe.reducerFactory,metaReducers:Pe instanceof E.nKC||!Pe.metaReducers?[]:Pe.metaReducers,initialState:Pe instanceof E.nKC||!Pe.initialState?void 0:Pe.initialState}},{provide:st,deps:[tt,Fr],useFactory:vt},{provide:ke,multi:!0,useValue:fe instanceof Object?fe.reducer:Je},{provide:et,multi:!0,useExisting:Je instanceof E.nKC?Je:ke},{provide:At,multi:!0,deps:[ke,[new E.y_5(et)]],useFactory:Sn},Cs()]}let Ge=(()=>{class fe{constructor(Pe,ze,Et,ct,Ht,vn){}static{this.\u0275fac=function(ze){return new(ze||fe)(E.KVO(sn),E.KVO(hs),E.KVO(vr),E.KVO(dn),E.KVO(yt,8),E.KVO(wn,8))}}static{this.\u0275mod=E.$C({type:fe})}static{this.\u0275inj=E.G2t({})}}return fe})(),bt=(()=>{class fe{constructor(Pe,ze,Et,ct,Ht){this.features=Pe,this.featureReducers=ze,this.reducerManager=Et;const vn=Pe.map((Rn,Er)=>{const $n=ze.shift()[Er];return{...Rn,reducers:$n,initialState:Cn(Rn.initialState)}});Et.addFeatures(vn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(ze){return new(ze||fe)(E.KVO(st),E.KVO(At),E.KVO(rs),E.KVO(Ge),E.KVO(wn,8))}}static{this.\u0275mod=E.$C({type:fe})}static{this.\u0275inj=E.G2t({})}}return fe})(),Rt=(()=>{class fe{static forRoot(Pe,ze){return{ngModule:Ge,providers:[...Ei(Pe,ze)]}}static forFeature(Pe,ze,Et={}){return{ngModule:bt,providers:[..._e(Pe,ze,Et)]}}static{this.\u0275fac=function(ze){return new(ze||fe)}}static{this.\u0275mod=E.$C({type:fe})}static{this.\u0275inj=E.G2t({})}}return fe})();function Lt(...fe){return{reducer:fe.pop(),types:fe.map(ze=>ze.type)}}function _n(fe,...Je){const Pe=new Map;for(const ze of Je)for(const Et of ze.types){const ct=Pe.get(Et);Pe.set(Et,ct?(vn,Rn)=>ze.reducer(ct(vn,Rn),Rn):ze.reducer)}return function(ze=fe,Et){const ct=Pe.get(Et.type);return ct?ct(ze,Et):ze}}},9326:(pt,ye,C)=>{C.d(ye,{R0:()=>J,lI:()=>K,ms:()=>U});var E=C(8071),v=C(9470);function ue(q){return q[q.length-1]}function U(q){return(0,E.T)(ue(q))?q.pop():void 0}function K(q){return(0,v.m)(ue(q))?q.pop():void 0}function J(q,W){return"number"==typeof ue(q)?q.pop():W}},9350:(pt,ye,C)=>{C.d(ye,{G:()=>v});const v=(0,C(1853).L)(ue=>function(){ue(this),this.name="EmptyError",this.message="no elements in sequence"})},9417:(pt,ye,C)=>{C.d(ye,{$R:()=>Wo,BC:()=>Ir,Fm:()=>sr,JD:()=>Qi,MJ:()=>Ge,MR:()=>ki,Q0:()=>$n,R_:()=>na,VZ:()=>_o,W0:()=>Ln,X1:()=>pl,Y4:()=>Et,YN:()=>Fa,YS:()=>ai,Yp:()=>wa,ZU:()=>wn,Zm:()=>ne,cV:()=>oe,cb:()=>qr,cz:()=>He,gE:()=>on,j4:()=>lo,k0:()=>lt,kq:()=>se,l_:()=>ao,me:()=>Oe,ok:()=>ys,qT:()=>Er,tU:()=>ci,v8:()=>Fs,vO:()=>kr,vS:()=>vn,wz:()=>bo,xH:()=>vo,xh:()=>li,y7:()=>Ko,zX:()=>Mo});var E=C(4438),v=C(177),ue=C(2806),U=C(7468),K=C(1413),J=C(6354);let q=(()=>{class H{_renderer;_elementRef;onChange=P=>{};onTouched=()=>{};constructor(P,ie){this._renderer=P,this._elementRef=ie}setProperty(P,ie){this._renderer.setProperty(this._elementRef.nativeElement,P,ie)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(E.sFG),E.rXU(E.aKT))};static \u0275dir=E.FsC({type:H})}return H})(),W=(()=>{class H extends q{static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,features:[E.Vt3]})}return H})();const se=new E.nKC(""),ee={provide:se,useExisting:(0,E.Rfq)(()=>ne),multi:!0};let ne=(()=>{class H extends W{writeValue(P){this.setProperty("checked",P)}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("change",function(zn){return Se.onChange(zn.target.checked)})("blur",function(){return Se.onTouched()})},standalone:!1,features:[E.Jv_([ee]),E.Vt3]})}return H})();const Ce={provide:se,useExisting:(0,E.Rfq)(()=>Oe),multi:!0},Fe=new E.nKC("");let Oe=(()=>{class H extends q{_compositionMode;_composing=!1;constructor(P,ie,Se){super(P,ie),this._compositionMode=Se,null==this._compositionMode&&(this._compositionMode=!function Be(){const H=(0,v.\u0275getDOM)()?(0,v.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(Fe,8))};static \u0275dir=E.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("input",function(zn){return Se._handleInput(zn.target.value)})("blur",function(){return Se.onTouched()})("compositionstart",function(){return Se._compositionStart()})("compositionend",function(zn){return Se._compositionEnd(zn.target.value)})},standalone:!1,features:[E.Jv_([Ce]),E.Vt3]})}return H})();function Te(H){return null==H||0===qe(H)}function qe(H){return null==H?null:Array.isArray(H)||"string"==typeof H?H.length:H instanceof Set?H.size:null}const He=new E.nKC(""),Dt=new E.nKC(""),Tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(z){return Xe(z)}static max(z){return Vt(z)}static required(z){return kt(z)}static requiredTrue(z){return function qt(H){return!0===H.value?null:{required:!0}}(z)}static email(z){return function jt(H){return Te(H.value)||Tt.test(H.value)?null:{email:!0}}(z)}static minLength(z){return sn(z)}static maxLength(z){return An(z)}static pattern(z){return yt(z)}static nullValidator(z){return null}static compose(z){return Yn(z)}static composeAsync(z){return tt(z)}}function Xe(H){return z=>{if(null==z.value||null==H)return null;const P=parseFloat(z.value);return!isNaN(P)&&P<H?{min:{min:H,actual:z.value}}:null}}function Vt(H){return z=>{if(null==z.value||null==H)return null;const P=parseFloat(z.value);return!isNaN(P)&&P>H?{max:{max:H,actual:z.value}}:null}}function kt(H){return Te(H.value)?{required:!0}:null}function sn(H){return z=>{const P=z.value?.length??qe(z.value);return null===P||0===P?null:P<H?{minlength:{requiredLength:H,actualLength:P}}:null}}function An(H){return z=>{const P=z.value?.length??qe(z.value);return null!==P&&P>H?{maxlength:{requiredLength:H,actualLength:P}}:null}}function yt(H){if(!H)return Ze;let z,P;return"string"==typeof H?(P="","^"!==H.charAt(0)&&(P+="^"),P+=H,"$"!==H.charAt(H.length-1)&&(P+="$"),z=new RegExp(P)):(P=H.toString(),z=H),ie=>{if(Te(ie.value))return null;const Se=ie.value;return z.test(Se)?null:{pattern:{requiredPattern:P,actualValue:Se}}}}function Ze(H){return null}function Ut(H){return null!=H}function gn(H){return(0,E.jNT)(H)?(0,ue.H)(H):H}function nr(H){let z={};return H.forEach(P=>{z=null!=P?{...z,...P}:z}),0===Object.keys(z).length?null:z}function xr(H,z){return z.map(P=>P(H))}function Fr(H){return H.map(z=>function as(H){return!H.validate}(z)?z:P=>z.validate(P))}function Yn(H){if(!H)return null;const z=H.filter(Ut);return 0==z.length?null:function(P){return nr(xr(P,z))}}function ke(H){return null!=H?Yn(Fr(H)):null}function tt(H){if(!H)return null;const z=H.filter(Ut);return 0==z.length?null:function(P){const ie=xr(P,z).map(gn);return(0,U.p)(ie).pipe((0,J.T)(nr))}}function st(H){return null!=H?tt(Fr(H)):null}function et(H,z){return null===H?[z]:Array.isArray(H)?[...H,z]:[H,z]}function At(H){return H._rawValidators}function St(H){return H._rawAsyncValidators}function Jt(H){return H?Array.isArray(H)?H:[H]:[]}function On(H,z){return Array.isArray(H)?H.includes(z):H===z}function rr(H,z){const P=Jt(z);return Jt(H).forEach(Se=>{On(P,Se)||P.push(Se)}),P}function fn(H,z){return Jt(z).filter(P=>!On(H,P))}class Un{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=ke(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,P){return!!this.control&&this.control.hasError(z,P)}getError(z,P){return this.control?this.control.getError(z,P):null}}class wn extends Un{name;get formDirective(){return null}get path(){return null}}class kr extends Un{_parent=null;name=null;valueAccessor=null}class Xn{_cd;constructor(z){this._cd=z}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Ir=(()=>{class H extends Xn{constructor(P){super(P)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(kr,2))};static \u0275dir=E.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,Se){2&ie&&E.AVh("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)},standalone:!1,features:[E.Vt3]})}return H})(),qr=(()=>{class H extends Xn{constructor(P){super(P)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(wn,10))};static \u0275dir=E.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,Se){2&ie&&E.AVh("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)("ng-submitted",Se.isSubmitted)},standalone:!1,features:[E.Vt3]})}return H})();const Jn="VALID",Lr="INVALID",cr="PENDING",Jr="DISABLED";class ss{}class qn extends ss{value;source;constructor(z,P){super(),this.value=z,this.source=P}}class mo extends ss{pristine;source;constructor(z,P){super(),this.pristine=z,this.source=P}}class _r extends ss{touched;source;constructor(z,P){super(),this.touched=z,this.source=P}}class zs extends ss{status;source;constructor(z,P){super(),this.status=z,this.source=P}}class Re extends ss{source;constructor(z){super(),this.source=z}}class be extends ss{source;constructor(z){super(),this.source=z}}function Ve(H){return(de(H)?H.validators:H)||null}function he(H,z){return(de(z)?z.asyncValidators:H)||null}function de(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function we(H,z,P){const ie=H.controls;if(!(z?Object.keys(ie):ie).length)throw new E.wOt(1e3,"");if(!ie[P])throw new E.wOt(1001,"")}function it(H,z,P){H._forEachChild((ie,Se)=>{if(void 0===P[Se])throw new E.wOt(1002,"")})}class Ct{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(z,P){this._assignValidators(z),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get status(){return(0,E.O8t)(this.statusReactive)}set status(z){(0,E.O8t)(()=>this.statusReactive.set(z))}_status=(0,E.EWP)(()=>this.statusReactive());statusReactive=(0,E.vPA)(void 0);get valid(){return this.status===Jn}get invalid(){return this.status===Lr}get pending(){return this.status==cr}get disabled(){return this.status===Jr}get enabled(){return this.status!==Jr}errors;get pristine(){return(0,E.O8t)(this.pristineReactive)}set pristine(z){(0,E.O8t)(()=>this.pristineReactive.set(z))}_pristine=(0,E.EWP)(()=>this.pristineReactive());pristineReactive=(0,E.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,E.O8t)(this.touchedReactive)}set touched(z){(0,E.O8t)(()=>this.touchedReactive.set(z))}_touched=(0,E.EWP)(()=>this.touchedReactive());touchedReactive=(0,E.vPA)(!1);get untouched(){return!this.touched}_events=new K.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(rr(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(rr(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(fn(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(fn(z,this._rawAsyncValidators))}hasValidator(z){return On(this._rawValidators,z)}hasAsyncValidator(z){return On(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){const P=!1===this.touched;this.touched=!0;const ie=z.sourceControl??this;this._parent&&!z.onlySelf&&this._parent.markAsTouched({...z,sourceControl:ie}),P&&!1!==z.emitEvent&&this._events.next(new _r(!0,ie))}markAllAsTouched(z={}){this.markAsTouched({onlySelf:!0,emitEvent:z.emitEvent,sourceControl:this}),this._forEachChild(P=>P.markAllAsTouched(z))}markAsUntouched(z={}){const P=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ie=z.sourceControl??this;this._forEachChild(Se=>{Se.markAsUntouched({onlySelf:!0,emitEvent:z.emitEvent,sourceControl:ie})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z,ie),P&&!1!==z.emitEvent&&this._events.next(new _r(!1,ie))}markAsDirty(z={}){const P=!0===this.pristine;this.pristine=!1;const ie=z.sourceControl??this;this._parent&&!z.onlySelf&&this._parent.markAsDirty({...z,sourceControl:ie}),P&&!1!==z.emitEvent&&this._events.next(new mo(!1,ie))}markAsPristine(z={}){const P=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ie=z.sourceControl??this;this._forEachChild(Se=>{Se.markAsPristine({onlySelf:!0,emitEvent:z.emitEvent})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z,ie),P&&!1!==z.emitEvent&&this._events.next(new mo(!0,ie))}markAsPending(z={}){this.status=cr;const P=z.sourceControl??this;!1!==z.emitEvent&&(this._events.next(new zs(this.status,P)),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.markAsPending({...z,sourceControl:P})}disable(z={}){const P=this._parentMarkedDirty(z.onlySelf);this.status=Jr,this.errors=null,this._forEachChild(Se=>{Se.disable({...z,onlySelf:!0})}),this._updateValue();const ie=z.sourceControl??this;!1!==z.emitEvent&&(this._events.next(new qn(this.value,ie)),this._events.next(new zs(this.status,ie)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:P},this),this._onDisabledChange.forEach(Se=>Se(!0))}enable(z={}){const P=this._parentMarkedDirty(z.onlySelf);this.status=Jn,this._forEachChild(ie=>{ie.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:P},this),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(z,P){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine({},P),this._parent._updateTouched({},P))}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ie=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jn||this.status===cr)&&this._runAsyncValidator(ie,z.emitEvent)}const P=z.sourceControl??this;!1!==z.emitEvent&&(this._events.next(new qn(this.value,P)),this._events.next(new zs(this.status,P)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity({...z,sourceControl:P})}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jr:Jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z,P){if(this.asyncValidator){this.status=cr,this._hasOwnPendingAsyncValidator={emitEvent:!1!==P};const ie=gn(this.asyncValidator(this));this._asyncValidationSubscription=ie.subscribe(Se=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Se,{emitEvent:P,shouldHaveEmitted:z})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const z=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,z}return!1}setErrors(z,P={}){this.errors=z,this._updateControlsErrors(!1!==P.emitEvent,this,P.shouldHaveEmitted)}get(z){let P=z;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((ie,Se)=>ie&&ie._find(Se),this)}getError(z,P){const ie=P?this.get(P):this;return ie&&ie.errors?ie.errors[z]:null}hasError(z,P){return!!this.getError(z,P)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z,P,ie){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),(z||ie)&&this._events.next(new zs(this.status,P)),this._parent&&this._parent._updateControlsErrors(z,P,ie)}_initObservables(){this.valueChanges=new E.bkB,this.statusChanges=new E.bkB}_calculateStatus(){return this._allControlsDisabled()?Jr:this.errors?Lr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cr)?cr:this._anyControlsHaveStatus(Lr)?Lr:Jn}_anyControlsHaveStatus(z){return this._anyControls(P=>P.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z,P){const ie=!this._anyControlsDirty(),Se=this.pristine!==ie;this.pristine=ie,this._parent&&!z.onlySelf&&this._parent._updatePristine(z,P),Se&&this._events.next(new mo(this.pristine,P))}_updateTouched(z={},P){this.touched=this._anyControlsTouched(),this._events.next(new _r(this.touched,P)),this._parent&&!z.onlySelf&&this._parent._updateTouched(z,P)}_onDisabledChange=[];_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){de(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function Qe(H){return Array.isArray(H)?ke(H):H||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function Me(H){return Array.isArray(H)?st(H):H||null}(this._rawAsyncValidators)}}class on extends Ct{constructor(z,P,ie){super(Ve(P),he(ie,P)),this.controls=z,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(z,P){return this.controls[z]?this.controls[z]:(this.controls[z]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(z,P,ie={}){this.registerControl(z,P),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(z,P={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(z,P,ie={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],P&&this.registerControl(z,P),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,P={}){it(this,0,z),Object.keys(z).forEach(ie=>{we(this,!0,ie),this.controls[ie].setValue(z[ie],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(z,P={}){null!=z&&(Object.keys(z).forEach(ie=>{const Se=this.controls[ie];Se&&Se.patchValue(z[ie],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(z={},P={}){this._forEachChild((ie,Se)=>{ie.reset(z?z[Se]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P,this),this._updateTouched(P,this),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(z,P,ie)=>(z[ie]=P.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(P,ie)=>!!ie._syncPendingControls()||P);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(P=>{const ie=this.controls[P];ie&&z(ie,P)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[P,ie]of Object.entries(this.controls))if(this.contains(P)&&z(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,ie,Se)=>((ie.enabled||this.disabled)&&(P[Se]=ie.value),P))}_reduceChildren(z,P){let ie=z;return this._forEachChild((Se,an)=>{ie=P(ie,Se,an)}),ie}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}class Or extends on{}const ot=new E.nKC("",{providedIn:"root",factory:()=>Ke}),Ke="always";function wt(H,z){return[...z.path,H]}function vt(H,z,P=Ke){es(H,z),z.valueAccessor.writeValue(H.value),(H.disabled||"always"===P)&&z.valueAccessor.setDisabledState?.(H.disabled),function jn(H,z){z.valueAccessor.registerOnChange(P=>{H._pendingValue=P,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&vi(H,z)})}(H,z),function zr(H,z){const P=(ie,Se)=>{z.valueAccessor.writeValue(ie),Se&&z.viewToModelUpdate(ie)};H.registerOnChange(P),z._registerOnDestroy(()=>{H._unregisterOnChange(P)})}(H,z),function oo(H,z){z.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&vi(H,z),"submit"!==H.updateOn&&H.markAsTouched()})}(H,z),function Kn(H,z){if(z.valueAccessor.setDisabledState){const P=ie=>{z.valueAccessor.setDisabledState(ie)};H.registerOnDisabledChange(P),z._registerOnDestroy(()=>{H._unregisterOnDisabledChange(P)})}}(H,z)}function Sn(H,z,P=!0){const ie=()=>{};z.valueAccessor&&(z.valueAccessor.registerOnChange(ie),z.valueAccessor.registerOnTouched(ie)),Vr(H,z),H&&(z._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function Cn(H,z){H.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(z)})}function es(H,z){const P=At(H);null!==z.validator?H.setValidators(et(P,z.validator)):"function"==typeof P&&H.setValidators([P]);const ie=St(H);null!==z.asyncValidator?H.setAsyncValidators(et(ie,z.asyncValidator)):"function"==typeof ie&&H.setAsyncValidators([ie]);const Se=()=>H.updateValueAndValidity();Cn(z._rawValidators,Se),Cn(z._rawAsyncValidators,Se)}function Vr(H,z){let P=!1;if(null!==H){if(null!==z.validator){const Se=At(H);if(Array.isArray(Se)&&Se.length>0){const an=Se.filter(zn=>zn!==z.validator);an.length!==Se.length&&(P=!0,H.setValidators(an))}}if(null!==z.asyncValidator){const Se=St(H);if(Array.isArray(Se)&&Se.length>0){const an=Se.filter(zn=>zn!==z.asyncValidator);an.length!==Se.length&&(P=!0,H.setAsyncValidators(an))}}}const ie=()=>{};return Cn(z._rawValidators,ie),Cn(z._rawAsyncValidators,ie),P}function vi(H,z){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function En(H,z){es(H,z)}function Cs(H,z){if(!H.hasOwnProperty("model"))return!1;const P=H.model;return!!P.isFirstChange()||!Object.is(z,P.currentValue)}function Gi(H,z){H._syncPendingControls(),z.forEach(P=>{const ie=P.control;"submit"===ie.updateOn&&ie._pendingChange&&(P.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}function _i(H,z){if(!z)return null;let P,ie,Se;return Array.isArray(z),z.forEach(an=>{an.constructor===Oe?P=an:function Xt(H){return Object.getPrototypeOf(H.constructor)===W}(an)?ie=an:Se=an}),Se||ie||P||null}const Gr={provide:wn,useExisting:(0,E.Rfq)(()=>oe)},Nn=Promise.resolve();let oe=(()=>{class H extends wn{callSetDisabledState;get submitted(){return(0,E.O8t)(this.submittedReactive)}_submitted=(0,E.EWP)(()=>this.submittedReactive());submittedReactive=(0,E.vPA)(!1);_directives=new Set;form;ngSubmit=new E.bkB;options;constructor(P,ie,Se){super(),this.callSetDisabledState=Se,this.form=new on({},ke(P),st(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){Nn.then(()=>{const ie=this._findContainer(P.path);P.control=ie.registerControl(P.name,P.control),vt(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){Nn.then(()=>{const ie=this._findContainer(P.path);ie&&ie.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){Nn.then(()=>{const ie=this._findContainer(P.path),Se=new on({});En(Se,P),ie.registerControl(P.name,Se),Se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){Nn.then(()=>{const ie=this._findContainer(P.path);ie&&ie.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,ie){Nn.then(()=>{this.form.get(P.path).setValue(ie)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submittedReactive.set(!0),Gi(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static \u0275fac=function(ie){return new(ie||H)(E.rXU(He,10),E.rXU(Dt,10),E.rXU(ot,8))};static \u0275dir=E.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("submit",function(zn){return Se.onSubmit(zn)})("reset",function(){return Se.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[E.Jv_([Gr]),E.Vt3]})}return H})();function Ie(H,z){const P=H.indexOf(z);P>-1&&H.splice(P,1)}function _e(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Ge=class extends Ct{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(z=null,P,ie){super(Ve(P),he(ie,P)),this._applyFormState(z),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),de(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=_e(z)?z.value:z)}setValue(z,P={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(z,P={}){this.setValue(z,P)}reset(z=this.defaultValue,P={}){this._applyFormState(z),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Ie(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Ie(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){_e(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}};let Lt=(()=>{class H extends wn{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,standalone:!1,features:[E.Vt3]})}return H})();const ze={provide:wn,useExisting:(0,E.Rfq)(()=>Et)};let Et=(()=>{class H extends Lt{name="";constructor(P,ie,Se){super(),this._parent=P,this._setValidators(ie),this._setAsyncValidators(Se)}_checkParentType(){}static \u0275fac=function(ie){return new(ie||H)(E.rXU(wn,5),E.rXU(He,10),E.rXU(Dt,10))};static \u0275dir=E.FsC({type:H,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],standalone:!1,features:[E.Jv_([ze]),E.Vt3]})}return H})();const ct={provide:kr,useExisting:(0,E.Rfq)(()=>vn)},Ht=Promise.resolve();let vn=(()=>{class H extends kr{_changeDetectorRef;callSetDisabledState;control=new Ge;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new E.bkB;constructor(P,ie,Se,an,zn,gi){super(),this._changeDetectorRef=zn,this.callSetDisabledState=gi,this._parent=P,this._setValidators(ie),this._setAsyncValidators(Se),this.valueAccessor=_i(0,an)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const ie=P.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),Cs(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Ht.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const ie=P.isDisabled.currentValue,Se=0!==ie&&(0,E.L39)(ie);Ht.then(()=>{Se&&!this.control.disabled?this.control.disable():!Se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?wt(P,this._parent):[P]}static \u0275fac=function(ie){return new(ie||H)(E.rXU(wn,9),E.rXU(He,10),E.rXU(Dt,10),E.rXU(se,10),E.rXU(E.gRc,8),E.rXU(ot,8))};static \u0275dir=E.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[E.Jv_([ct]),E.Vt3,E.OA$]})}return H})(),Er=(()=>{class H{static \u0275fac=function(ie){return new(ie||H)};static \u0275dir=E.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return H})();const Kt={provide:se,useExisting:(0,E.Rfq)(()=>$n),multi:!0};let $n=(()=>{class H extends W{writeValue(P){this.setProperty("value",P??"")}registerOnChange(P){this.onChange=ie=>{P(""==ie?null:parseFloat(ie))}}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("input",function(zn){return Se.onChange(zn.target.value)})("blur",function(){return Se.onTouched()})},standalone:!1,features:[E.Jv_([Kt]),E.Vt3]})}return H})();const Is={provide:se,useExisting:(0,E.Rfq)(()=>sr),multi:!0};let Qr=(()=>{class H{_accessors=[];add(P,ie){this._accessors.push([P,ie])}remove(P){for(let ie=this._accessors.length-1;ie>=0;--ie)if(this._accessors[ie][1]===P)return void this._accessors.splice(ie,1)}select(P){this._accessors.forEach(ie=>{this._isSameGroup(ie,P)&&ie[1]!==P&&ie[1].fireUncheck(P.value)})}_isSameGroup(P,ie){return!!P[0].control&&P[0]._parent===ie._control._parent&&P[1].name===ie.name}static \u0275fac=function(ie){return new(ie||H)};static \u0275prov=E.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),sr=(()=>{class H extends W{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=(0,E.WQX)(ot,{optional:!0})??Ke;constructor(P,ie,Se,an){super(P,ie),this._registry=Se,this._injector=an}ngOnInit(){this._control=this._injector.get(kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(P){this._state=P===this.value,this.setProperty("checked",this._state)}registerOnChange(P){this._fn=P,this.onChange=()=>{P(this.value),this._registry.select(this)}}setDisabledState(P){(this.setDisabledStateFired||P||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",P),this.setDisabledStateFired=!0}fireUncheck(P){this.writeValue(P)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(E.sFG),E.rXU(E.aKT),E.rXU(Qr),E.rXU(E.zZn))};static \u0275dir=E.FsC({type:H,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("change",function(){return Se.onChange()})("blur",function(){return Se.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[E.Jv_([Is]),E.Vt3]})}return H})();const Dr={provide:se,useExisting:(0,E.Rfq)(()=>ki),multi:!0};let ki=(()=>{class H extends W{writeValue(P){this.setProperty("value",parseFloat(P))}registerOnChange(P){this.onChange=ie=>{P(""==ie?null:parseFloat(ie))}}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("change",function(zn){return Se.onChange(zn.target.value)})("input",function(zn){return Se.onChange(zn.target.value)})("blur",function(){return Se.onTouched()})},standalone:!1,features:[E.Jv_([Dr]),E.Vt3]})}return H})();const Wr=new E.nKC(""),Zo={provide:kr,useExisting:(0,E.Rfq)(()=>ao)};let ao=(()=>{class H extends kr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(P){}model;update=new E.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(P,ie,Se,an,zn){super(),this._ngModelWarningConfig=an,this.callSetDisabledState=zn,this._setValidators(P),this._setAsyncValidators(ie),this.valueAccessor=_i(0,Se)}ngOnChanges(P){if(this._isControlChanged(P)){const ie=P.form.previousValue;ie&&Sn(ie,this,!1),vt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Cs(P,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Sn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_isControlChanged(P){return P.hasOwnProperty("form")}static \u0275fac=function(ie){return new(ie||H)(E.rXU(He,10),E.rXU(Dt,10),E.rXU(se,10),E.rXU(Wr,8),E.rXU(ot,8))};static \u0275dir=E.FsC({type:H,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[E.Jv_([Zo]),E.Vt3,E.OA$]})}return H})();const Lo={provide:wn,useExisting:(0,E.Rfq)(()=>lo)};let lo=(()=>{class H extends wn{callSetDisabledState;get submitted(){return(0,E.O8t)(this._submittedReactive)}set submitted(P){this._submittedReactive.set(P)}_submitted=(0,E.EWP)(()=>this._submittedReactive());_submittedReactive=(0,E.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new E.bkB;constructor(P,ie,Se){super(),this.callSetDisabledState=Se,this._setValidators(P),this._setAsyncValidators(ie)}ngOnChanges(P){P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const ie=this.form.get(P.path);return vt(ie,P,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),ie}getControl(P){return this.form.get(P.path)}removeControl(P){Sn(P.control||null,P,!1),function Ei(H,z){const P=H.indexOf(z);P>-1&&H.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,ie){this.form.get(P.path).setValue(ie)}onSubmit(P){return this._submittedReactive.set(!0),Gi(this.form,this.directives),this.ngSubmit.emit(P),this.form._events.next(new Re(this.control)),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this._submittedReactive.set(!1),this.form._events.next(new be(this.form))}_updateDomValue(){this.directives.forEach(P=>{const ie=P.control,Se=this.form.get(P.path);ie!==Se&&(Sn(ie||null,P),(H=>H instanceof Ge)(Se)&&(vt(Se,P,this.callSetDisabledState),P.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const ie=this.form.get(P.path);En(ie,P),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const ie=this.form.get(P.path);ie&&function gs(H,z){return Vr(H,z)}(ie,P)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){es(this.form,this),this._oldForm&&Vr(this._oldForm,this)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(He,10),E.rXU(Dt,10),E.rXU(ot,8))};static \u0275dir=E.FsC({type:H,selectors:[["","formGroup",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("submit",function(zn){return Se.onSubmit(zn)})("reset",function(){return Se.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[E.Jv_([Lo]),E.Vt3,E.OA$]})}return H})();const So={provide:wn,useExisting:(0,E.Rfq)(()=>Wo)};let Wo=(()=>{class H extends Lt{name=null;constructor(P,ie,Se){super(),this._parent=P,this._setValidators(ie),this._setAsyncValidators(Se)}_checkParentType(){co(this._parent)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(wn,13),E.rXU(He,10),E.rXU(Dt,10))};static \u0275dir=E.FsC({type:H,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[E.Jv_([So]),E.Vt3]})}return H})();const Vo={provide:wn,useExisting:(0,E.Rfq)(()=>Fs)};let Fs=(()=>{class H extends wn{_parent;name=null;constructor(P,ie,Se){super(),this._parent=P,this._setValidators(ie),this._setAsyncValidators(Se)}ngOnInit(){co(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(ie){return new(ie||H)(E.rXU(wn,13),E.rXU(He,10),E.rXU(Dt,10))};static \u0275dir=E.FsC({type:H,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[E.Jv_([Vo]),E.Vt3]})}return H})();function co(H){return!(H instanceof Wo||H instanceof lo||H instanceof Fs)}const Ra={provide:kr,useExisting:(0,E.Rfq)(()=>Qi)};let Qi=(()=>{class H extends kr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(P){}model;update=new E.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(P,ie,Se,an,zn){super(),this._ngModelWarningConfig=zn,this._parent=P,this._setValidators(ie),this._setAsyncValidators(Se),this.valueAccessor=_i(0,an)}ngOnChanges(P){this._added||this._setUpControl(),Cs(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(ie){return new(ie||H)(E.rXU(wn,13),E.rXU(He,10),E.rXU(Dt,10),E.rXU(se,10),E.rXU(Wr,8))};static \u0275dir=E.FsC({type:H,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[E.Jv_([Ra]),E.Vt3,E.OA$]})}return H})();const si={provide:se,useExisting:(0,E.Rfq)(()=>bo),multi:!0};function ts(H,z){return null==H?`${z}`:(z&&"object"==typeof z&&(z="Object"),`${H}: ${z}`.slice(0,50))}let bo=(()=>{class H extends W{value;_optionMap=new Map;_idCounter=0;set compareWith(P){this._compareWith=P}_compareWith=Object.is;writeValue(P){this.value=P;const Se=ts(this._getOptionId(P),P);this.setProperty("value",Se)}registerOnChange(P){this.onChange=ie=>{this.value=this._getOptionValue(ie),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie),P))return ie;return null}_getOptionValue(P){const ie=function nn(H){return H.split(":")[0]}(P);return this._optionMap.has(ie)?this._optionMap.get(ie):P}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("change",function(zn){return Se.onChange(zn.target.value)})("blur",function(){return Se.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[E.Jv_([si]),E.Vt3]})}return H})(),vo=(()=>{class H{_element;_renderer;_select;id;constructor(P,ie,Se){this._element=P,this._renderer=ie,this._select=Se,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(ts(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(ie){return new(ie||H)(E.rXU(E.aKT),E.rXU(E.sFG),E.rXU(bo,9))};static \u0275dir=E.FsC({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return H})();const Li={provide:se,useExisting:(0,E.Rfq)(()=>Ln),multi:!0};function Vi(H,z){return null==H?`${z}`:("string"==typeof z&&(z=`'${z}'`),z&&"object"==typeof z&&(z="Object"),`${H}: ${z}`.slice(0,50))}let Ln=(()=>{class H extends W{value;_optionMap=new Map;_idCounter=0;set compareWith(P){this._compareWith=P}_compareWith=Object.is;writeValue(P){let ie;if(this.value=P,Array.isArray(P)){const Se=P.map(an=>this._getOptionId(an));ie=(an,zn)=>{an._setSelected(Se.indexOf(zn.toString())>-1)}}else ie=(Se,an)=>{Se._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(P){this.onChange=ie=>{const Se=[],an=ie.selectedOptions;if(void 0!==an){const zn=an;for(let gi=0;gi<zn.length;gi++){const wi=this._getOptionValue(zn[gi].value);Se.push(wi)}}else{const zn=ie.options;for(let gi=0;gi<zn.length;gi++){const Di=zn[gi];if(Di.selected){const wi=this._getOptionValue(Di.value);Se.push(wi)}}}this.value=Se,P(Se)}}_registerOption(P){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,P),ie}_getOptionId(P){for(const ie of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ie)._value,P))return ie;return null}_getOptionValue(P){const ie=function ii(H){return H.split(":")[0]}(P);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:P}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ie,Se){1&ie&&E.bIt("change",function(zn){return Se.onChange(zn.target)})("blur",function(){return Se.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[E.Jv_([Li]),E.Vt3]})}return H})(),Ko=(()=>{class H{_element;_renderer;_select;id;_value;constructor(P,ie,Se){this._element=P,this._renderer=ie,this._select=Se,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(Vi(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(Vi(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(ie){return new(ie||H)(E.rXU(E.aKT),E.rXU(E.sFG),E.rXU(Ln,9))};static \u0275dir=E.FsC({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return H})();function ea(H){return"number"==typeof H?H:parseInt(H,10)}function Ts(H){return"number"==typeof H?H:parseFloat(H)}let wr=(()=>{class H{_validator=Ze;_onChange;_enabled;ngOnChanges(P){if(this.inputName in P){const ie=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Ze,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static \u0275fac=function(ie){return new(ie||H)};static \u0275dir=E.FsC({type:H,features:[E.OA$]})}return H})();const Js={provide:He,useExisting:(0,E.Rfq)(()=>Mo),multi:!0};let Mo=(()=>{class H extends wr{max;inputName="max";normalizeInput=P=>Ts(P);createValidator=P=>Vt(P);static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ie,Se){2&ie&&E.BMQ("max",Se._enabled?Se.max:null)},inputs:{max:"max"},standalone:!1,features:[E.Jv_([Js]),E.Vt3]})}return H})();const oi={provide:He,useExisting:(0,E.Rfq)(()=>_o),multi:!0};let _o=(()=>{class H extends wr{min;inputName="min";normalizeInput=P=>Ts(P);createValidator=P=>Xe(P);static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ie,Se){2&ie&&E.BMQ("min",Se._enabled?Se.min:null)},inputs:{min:"min"},standalone:!1,features:[E.Jv_([oi]),E.Vt3]})}return H})();const Ao={provide:He,useExisting:(0,E.Rfq)(()=>ai),multi:!0};let ai=(()=>{class H extends wr{required;inputName="required";normalizeInput=E.L39;createValidator=P=>kt;enabled(P){return P}static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,Se){2&ie&&E.BMQ("required",Se._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[E.Jv_([Ao]),E.Vt3]})}return H})();const xa={provide:He,useExisting:(0,E.Rfq)(()=>li),multi:!0};let li=(()=>{class H extends wr{minlength;inputName="minlength";normalizeInput=P=>ea(P);createValidator=P=>sn(P);static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ie,Se){2&ie&&E.BMQ("minlength",Se._enabled?Se.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[E.Jv_([xa]),E.Vt3]})}return H})();const Bi={provide:He,useExisting:(0,E.Rfq)(()=>ci),multi:!0};let ci=(()=>{class H extends wr{maxlength;inputName="maxlength";normalizeInput=P=>ea(P);createValidator=P=>An(P);static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ie,Se){2&ie&&E.BMQ("maxlength",Se._enabled?Se.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[E.Jv_([Bi]),E.Vt3]})}return H})();const Pa={provide:He,useExisting:(0,E.Rfq)(()=>na),multi:!0};let na=(()=>{class H extends wr{pattern;inputName="pattern";normalizeInput=P=>P;createValidator=P=>yt(P);static \u0275fac=(()=>{let P;return function(Se){return(P||(P=E.xGo(H)))(Se||H)}})();static \u0275dir=E.FsC({type:H,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(ie,Se){2&ie&&E.BMQ("pattern",Se._enabled?Se.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[E.Jv_([Pa]),E.Vt3]})}return H})(),Eo=(()=>{class H{static \u0275fac=function(ie){return new(ie||H)};static \u0275mod=E.$C({type:H});static \u0275inj=E.G2t({})}return H})();class wa extends Ct{constructor(z,P,ie){super(Ve(P),he(ie,P)),this.controls=z,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(z){return this.controls[this._adjustIndex(z)]}push(z,P={}){this.controls.push(z),this._registerControl(z),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(z,P,ie={}){this.controls.splice(z,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(z,P={}){let ie=this._adjustIndex(z);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(z,P,ie={}){let Se=this._adjustIndex(z);Se<0&&(Se=0),this.controls[Se]&&this.controls[Se]._registerOnCollectionChange(()=>{}),this.controls.splice(Se,1),P&&(this.controls.splice(Se,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(z,P={}){it(this,0,z),z.forEach((ie,Se)=>{we(this,!1,Se),this.at(Se).setValue(ie,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(z,P={}){null!=z&&(z.forEach((ie,Se)=>{this.at(Se)&&this.at(Se).patchValue(ie,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(z=[],P={}){this._forEachChild((ie,Se)=>{ie.reset(z[Se],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P,this),this._updateTouched(P,this),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(z=>z.getRawValue())}clear(z={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:z.emitEvent}))}_adjustIndex(z){return z<0?z+this.length:z}_syncPendingControls(){let z=this.controls.reduce((P,ie)=>!!ie._syncPendingControls()||P,!1);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){this.controls.forEach((P,ie)=>{z(P,ie)})}_updateValue(){this.value=this.controls.filter(z=>z.enabled||this.disabled).map(z=>z.value)}_anyControls(z){return this.controls.some(P=>P.enabled&&z(P))}_setUpControls(){this._forEachChild(z=>this._registerControl(z))}_allControlsDisabled(){for(const z of this.controls)if(z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(z){z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)}_find(z){return this.at(z)??null}}function Mn(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let ys=(()=>{class H{useNonNullable=!1;get nonNullable(){const P=new H;return P.useNonNullable=!0,P}group(P,ie=null){const Se=this._reduceControls(P);let an={};return Mn(ie)?an=ie:null!==ie&&(an.validators=ie.validator,an.asyncValidators=ie.asyncValidator),new on(Se,an)}record(P,ie=null){const Se=this._reduceControls(P);return new Or(Se,ie)}control(P,ie,Se){let an={};return this.useNonNullable?(Mn(ie)?an=ie:(an.validators=ie,an.asyncValidators=Se),new Ge(P,{...an,nonNullable:!0})):new Ge(P,ie,Se)}array(P,ie,Se){const an=P.map(zn=>this._createControl(zn));return new wa(an,ie,Se)}_reduceControls(P){const ie={};return Object.keys(P).forEach(Se=>{ie[Se]=this._createControl(P[Se])}),ie}_createControl(P){return P instanceof Ge||P instanceof Ct?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static \u0275fac=function(ie){return new(ie||H)};static \u0275prov=E.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),Fa=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:ot,useValue:P.callSetDisabledState??Ke}]}}static \u0275fac=function(ie){return new(ie||H)};static \u0275mod=E.$C({type:H});static \u0275inj=E.G2t({imports:[Eo]})}return H})(),pl=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:Wr,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:ot,useValue:P.callSetDisabledState??Ke}]}}static \u0275fac=function(ie){return new(ie||H)};static \u0275mod=E.$C({type:H});static \u0275inj=E.G2t({imports:[Eo]})}return H})()},9437:(pt,ye,C)=>{C.d(ye,{W:()=>U});var E=C(8750),v=C(4360),ue=C(9974);function U(K){return(0,ue.N)((J,q)=>{let ee,W=null,se=!1;W=J.subscribe((0,v._)(q,void 0,void 0,ne=>{ee=(0,E.Tg)(K(ne,U(K)(J))),W?(W.unsubscribe(),W=null,ee.subscribe(q)):se=!0})),se&&(W.unsubscribe(),W=null,ee.subscribe(q))})}},9470:(pt,ye,C)=>{C.d(ye,{m:()=>v});var E=C(8071);function v(ue){return ue&&(0,E.T)(ue.schedule)}},9599:(pt,ye,C)=>{C.d(ye,{gS:()=>RE,rJ:()=>qD,kd:()=>NE,H9:()=>EE,ol:()=>IE,x7:()=>$v,GG:()=>bm,aU:()=>CE,aQ:()=>Eh,O5:()=>_f,mZ:()=>Wv});var W,E=C(467),v=C(7852),ue=C(1362),U=C(8041),K=C(1076),J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q={},se=se||{},ee=J||self;function ne(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Ce(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Fe="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function Te(i,t,s){return i.call.apply(i.bind,arguments)}function qe(i,t,s){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),i.apply(t,c)}}return function(){return i.apply(t,arguments)}}function He(i,t,s){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Te:qe).apply(null,arguments)}function Dt(i,t){var s=Array.prototype.slice.call(arguments,1);return function(){var a=s.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Tt(i,t){function s(){}s.prototype=t.prototype,i.$=t.prototype,i.prototype=new s,i.prototype.constructor=i,i.ac=function(a,c,f){for(var m=Array(arguments.length-2),N=2;N<arguments.length;N++)m[N-2]=arguments[N];return t.prototype[c].apply(a,m)}}function lt(){this.s=this.s,this.o=this.o}lt.prototype.s=!1,lt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Be(i){Object.prototype.hasOwnProperty.call(i,Fe)&&i[Fe]||(i[Fe]=++Oe)}(this)},lt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vt=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let s=0;s<i.length;s++)if(s in i&&i[s]===t)return s;return-1};function kt(i){const t=i.length;if(0<t){const s=Array(t);for(let a=0;a<t;a++)s[a]=i[a];return s}return[]}function qt(i,t){for(let s=1;s<arguments.length;s++){const a=arguments[s];if(ne(a)){const c=i.length||0,f=a.length||0;i.length=c+f;for(let m=0;m<f;m++)i[c+m]=a[m]}else i.push(a)}}function jt(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var sn=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",()=>{},t),ee.removeEventListener("test",()=>{},t)}catch{}return i}();function An(i){return/^[\s\xa0]*$/.test(i)}function yt(){var i=ee.navigator;return i&&(i=i.userAgent)?i:""}function Ze(i){return-1!=yt().indexOf(i)}function Ut(i){return Ut[" "](i),i}Ut[" "]=function(){};var st,i,nr=Ze("Opera"),xr=Ze("Trident")||Ze("MSIE"),as=Ze("Edge"),Fr=as||xr,Yn=Ze("Gecko")&&!(-1!=yt().toLowerCase().indexOf("webkit")&&!Ze("Edge"))&&!(Ze("Trident")||Ze("MSIE"))&&!Ze("Edge"),ke=-1!=yt().toLowerCase().indexOf("webkit")&&!Ze("Edge");function tt(){var i=ee.document;return i?i.documentMode:void 0}e:{var et="",At=(i=yt(),Yn?/rv:([^\);]+)(\)|;)/.exec(i):as?/Edge\/([\d\.]+)/.exec(i):xr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ke?/WebKit\/(\S+)/.exec(i):nr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(At&&(et=At?At[1]:""),xr){var St=tt();if(null!=St&&St>parseFloat(et)){st=String(St);break e}}st=et}var rr=ee.document&&xr&&(tt()||parseInt(st,10))||void 0;function fn(i,t){if(jt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var s=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(Yn){e:{try{Ut(t.nodeName);var c=!0;break e}catch{}c=!1}c||(t=null)}}else"mouseover"==s?t=i.fromElement:"mouseout"==s&&(t=i.toElement);this.relatedTarget=t,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Un[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&fn.$.h.call(this)}}Tt(fn,jt);var Un={2:"touch",3:"pen",4:"mouse"};fn.prototype.h=function(){fn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),kr=0;function Xn(i,t,s,a,c){this.listener=i,this.proxy=null,this.src=t,this.type=s,this.capture=!!a,this.la=c,this.key=++kr,this.fa=this.ia=!1}function ir(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ls(i,t,s){for(const a in i)t.call(s,i[a],a,i)}function qr(i){const t={};for(const s in i)t[s]=i[s];return t}const xs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hs(i,t){let s,a;for(let c=1;c<arguments.length;c++){for(s in a=arguments[c],a)i[s]=a[s];for(let f=0;f<xs.length;f++)s=xs[f],Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}}function Yr(i){this.src=i,this.g={},this.h=0}function Wn(i,t){var s=t.type;if(s in i.g){var f,a=i.g[s],c=Vt(a,t);(f=0<=c)&&Array.prototype.splice.call(a,c,1),f&&(ir(t),0==i.g[s].length&&(delete i.g[s],i.h--))}}function rs(i,t,s,a){for(var c=0;c<i.length;++c){var f=i[c];if(!f.fa&&f.listener==t&&f.capture==!!s&&f.la==a)return c}return-1}Yr.prototype.add=function(i,t,s,a,c){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var m=rs(i,t,a,c);return-1<m?(t=i[m],s||(t.ia=!1)):((t=new Xn(t,this.src,f,!!a,c)).ia=s,i.push(t)),t};var Bt="closure_lm_"+(1e6*Math.random()|0),vr={};function cs(i,t,s,a,c){if(a&&a.once)return fs(i,t,s,a,c);if(Array.isArray(t)){for(var f=0;f<t.length;f++)cs(i,t[f],s,a,c);return null}return s=ps(s),i&&i[wn]?i.O(t,s,Ce(a)?!!a.capture:!!a,c):Zr(i,t,s,!1,a,c)}function Zr(i,t,s,a,c,f){if(!t)throw Error("Invalid event type");var m=Ce(c)?!!c.capture:!!c,N=ri(i);if(N||(i[Bt]=N=new Yr(i)),(s=N.add(t,s,a,m,f)).proxy)return s;if(a=function Ps(){const t=Tn;return function i(s){return t.call(i.src,i.listener,s)}}(),s.proxy=a,a.src=i,a.listener=s,i.addEventListener)sn||(c=m),void 0===c&&(c=!1),i.addEventListener(t.toString(),a,c);else if(i.attachEvent)i.attachEvent(Zs(t.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return s}function fs(i,t,s,a,c){if(Array.isArray(t)){for(var f=0;f<t.length;f++)fs(i,t[f],s,a,c);return null}return s=ps(s),i&&i[wn]?i.P(t,s,Ce(a)?!!a.capture:!!a,c):Zr(i,t,s,!0,a,c)}function yi(i,t,s,a,c){if(Array.isArray(t))for(var f=0;f<t.length;f++)yi(i,t[f],s,a,c);else a=Ce(a)?!!a.capture:!!a,s=ps(s),i&&i[wn]?(i=i.i,(t=String(t).toString())in i.g&&-1<(s=rs(f=i.g[t],s,a,c))&&(ir(f[s]),Array.prototype.splice.call(f,s,1),0==f.length&&(delete i.g[t],i.h--))):i&&(i=ri(i))&&(t=i.g[t.toString()],i=-1,t&&(i=rs(t,s,a,c)),(s=-1<i?t[i]:null)&&dn(s))}function dn(i){if("number"!=typeof i&&i&&!i.fa){var t=i.src;if(t&&t[wn])Wn(t.i,i);else{var s=i.type,a=i.proxy;t.removeEventListener?t.removeEventListener(s,a,i.capture):t.detachEvent?t.detachEvent(Zs(s),a):t.addListener&&t.removeListener&&t.removeListener(a),(s=ri(t))?(Wn(s,i),0==s.h&&(s.src=null,t[Bt]=null)):ir(i)}}}function Zs(i){return i in vr?vr[i]:vr[i]="on"+i}function Tn(i,t){if(i.fa)i=!0;else{t=new fn(t,this);var s=i.listener,a=i.la||i.src;i.ia&&dn(i),i=s.call(a,t)}return i}function ri(i){return(i=i[Bt])instanceof Yr?i:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function ps(i){return"function"==typeof i?i:(i[Ks]||(i[Ks]=function(t){return i.handleEvent(t)}),i[Ks])}function Jn(){lt.call(this),this.i=new Yr(this),this.S=this,this.J=null}function Lr(i,t){var s,a=i.J;if(a)for(s=[];a;a=a.J)s.push(a);if(i=i.S,a=t.type||t,"string"==typeof t)t=new jt(t,i);else if(t instanceof jt)t.target=t.target||i;else{var c=t;hs(t=new jt(a,i),c)}if(c=!0,s)for(var f=s.length-1;0<=f;f--){var m=t.g=s[f];c=cr(m,a,!0,t)&&c}if(c=cr(m=t.g=i,a,!0,t)&&c,c=cr(m,a,!1,t)&&c,s)for(f=0;f<s.length;f++)c=cr(m=t.g=s[f],a,!1,t)&&c}function cr(i,t,s,a){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var c=!0,f=0;f<t.length;++f){var m=t[f];if(m&&!m.fa&&m.capture==s){var N=m.listener,j=m.la||m.src;m.ia&&Wn(i.i,m),c=!1!==N.call(j,a)&&c}}return c&&!a.defaultPrevented}Tt(Jn,lt),Jn.prototype[wn]=!0,Jn.prototype.removeEventListener=function(i,t,s,a){yi(this,i,t,s,a)},Jn.prototype.N=function(){if(Jn.$.N.call(this),this.i){var t,i=this.i;for(t in i.g){for(var s=i.g[t],a=0;a<s.length;a++)ir(s[a]);delete i.g[t],i.h--}}this.J=null},Jn.prototype.O=function(i,t,s,a){return this.i.add(String(i),t,!1,s,a)},Jn.prototype.P=function(i,t,s,a){return this.i.add(String(i),t,!0,s,a)};var Jr=ee.JSON.stringify;function qn(){var i=he;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var _r=new class ss{constructor(t,s){this.i=t,this.j=s,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new zs,i=>i.reset());class zs{constructor(){this.next=this.g=this.h=null}set(t,s){this.h=t,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function Re(i){var t=1;i=i.split(":");const s=[];for(;0<t&&i.length;)s.push(i.shift()),t--;return i.length&&s.push(i.join(":")),s}function be(i){ee.setTimeout(()=>{throw i},0)}let Ve,Qe=!1,he=new class mo{constructor(){this.h=this.g=null}add(t,s){const a=_r.get();a.set(t,s),this.h?this.h.next=a:this.g=a,this.h=a}},Me=()=>{const i=ee.Promise.resolve(void 0);Ve=()=>{i.then(de)}};var de=()=>{for(var i;i=qn();){try{i.h.call(i.g)}catch(s){be(s)}var t=_r;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Qe=!1};function we(i,t){Jn.call(this),this.h=i||1,this.g=t||ee,this.j=He(this.qb,this),this.l=Date.now()}function it(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ct(i,t,s){if("function"==typeof i)s&&(i=He(i,s));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(t)?-1:ee.setTimeout(i,t||0)}function on(i){i.g=Ct(()=>{i.g=null,i.i&&(i.i=!1,on(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}Tt(we,Jn),(W=we.prototype).ga=!1,W.T=null,W.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lr(this,"tick"),this.ga&&(it(this),this.start()))}},W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.N=function(){we.$.N.call(this),it(this),delete this.g};class Yt extends lt{constructor(t,s){super(),this.m=t,this.j=s,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:on(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(i){lt.call(this),this.h=i,this.g={}}Tt(Bn,lt);var Tr=[];function Or(i,t,s,a){Array.isArray(s)||(s&&(Tr[0]=s.toString()),s=Tr);for(var c=0;c<s.length;c++){var f=cs(t,s[c],a||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Fi(i){ls(i.g,function(t,s){this.g.hasOwnProperty(s)&&dn(t)},i),i.g={}}function ot(){this.g=!0}function vt(i,t,s,a){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Cn(i,t){if(!i.g)return t;if(!t)return null;try{var s=JSON.parse(t);if(s)for(i=0;i<s.length;i++)if(Array.isArray(s[i])){var a=s[i];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var m=1;m<c.length;m++)c[m]=""}}}return Jr(s)}catch{return t}}(i,s)+(a?" "+a:"")})}Bn.prototype.N=function(){Bn.$.N.call(this),Fi(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ot.prototype.Ea=function(){this.g=!1},ot.prototype.info=function(){};var Kn={},es=null;function Vr(){return es=es||new Jn}function jn(i){jt.call(this,Kn.Ta,i)}function oo(i){const t=Vr();Lr(t,new jn(t))}function vi(i,t){jt.call(this,Kn.STAT_EVENT,i),this.stat=t}function zr(i){const t=Vr();Lr(t,new vi(t,i))}function En(i,t){jt.call(this,Kn.Ua,i),this.size=t}function gs(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},t)}Kn.Ta="serverreachability",Tt(jn,jt),Kn.STAT_EVENT="statevent",Tt(vi,jt),Kn.Ua="timingevent",Tt(En,jt);var zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ws={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mn(){}function kn(){}mn.prototype.h=null;var _i,Cs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xt(){jt.call(this,"d")}function Gi(){jt.call(this,"c")}function Ei(){}function yo(i,t,s,a){this.l=i,this.j=t,this.m=s,this.W=a||1,this.U=new Bn(this),this.P=Nn,this.V=new we(i=Fr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gr}function Gr(){this.i=null,this.g="",this.h=!1}Tt(Xt,jt),Tt(Gi,jt),Tt(Ei,mn),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},_i=new Ei;var Nn=45e3,oe={},Ie={};function _e(i,t,s){i.L=1,i.v=Dr($n(t)),i.s=s,i.S=!0,Ge(i,null)}function Ge(i,t){i.G=Date.now(),_n(i),i.A=$n(i.v);var s=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),Qi(s.i,"t",a),i.C=0,s=i.l.J,i.h=new Gr,i.g=Nl(i.l,s?t:null,!i.s),0<i.O&&(i.M=new Yt(He(i.Pa,i,i.g),i.O)),Or(i.U,i.g,"readystatechange",i.nb),t=i.I?qr(i.I):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,t)):(i.u="GET",i.g.ha(i.A,i.u,null,t)),oo(),function Ke(i,t,s,a,c,f){i.info(function(){if(i.g)if(f)for(var m="",N=f.split("&"),j=0;j<N.length;j++){var X=N[j].split("=");if(1<X.length){var ce=X[0];X=X[1];var Ae=ce.split("_");m=2<=Ae.length&&"type"==Ae[1]?m+(ce+"=")+X+"&":m+(ce+"=redacted&")}}else m=null;else m=f;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+t+"\n"+s+"\n"+m})}(i.j,i.u,i.A,i.m,i.W,i.s)}function bt(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Rt(i,t,s){let c,a=!0;for(;!i.J&&i.C<s.length;){if(c=Lt(i,s),c==Ie){4==t&&(i.o=4,zr(14),a=!1),vt(i.j,i.m,null,"[Incomplete Response]");break}if(c==oe){i.o=4,zr(15),vt(i.j,i.m,s,"[Invalid Chunk]"),a=!1;break}vt(i.j,i.m,c,null),Et(i,c)}bt(i)&&c!=Ie&&c!=oe&&(i.h.g="",i.C=0),4!=t||0!=s.length||i.h.h||(i.o=1,zr(16),a=!1),i.i=i.i&&a,a?0<s.length&&!i.ba&&(i.ba=!0,(t=i.l).g==i&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+s.length),an(t),t.M=!0,zr(11))):(vt(i.j,i.m,s,"[Invalid Chunked Response]"),ze(i),Pe(i))}function Lt(i,t){var s=i.C,a=t.indexOf("\n",s);return-1==a?Ie:(s=Number(t.substring(s,a)),isNaN(s)?oe:(a+=1)+s>t.length?Ie:(t=t.slice(a,a+s),i.C=a+s,t))}function _n(i){i.Y=Date.now()+i.P,fe(i,i.P)}function fe(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=gs(He(i.lb,i),t)}function Je(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Pe(i){0==i.l.H||i.J||Di(i.l,i)}function ze(i){Je(i);var t=i.M;t&&"function"==typeof t.sa&&t.sa(),i.M=null,it(i.V),Fi(i.U),i.g&&(t=i.g,i.g=null,t.abort(),t.sa())}function Et(i,t){try{var s=i.l;if(0!=s.H&&(s.g==i||Vi(s.i,i)))if(!i.K&&Vi(s.i,i)&&3==s.H){try{var a=s.Ja.g.parse(t)}catch{a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0]){e:if(!s.u){if(s.g){if(!(s.g.G+3e3<i.G))break e;gi(s),or(s)}Se(s),zr(18)}}else s.Fa=c[1],0<s.Fa-s.V&&37500>c[2]&&s.G&&0==s.A&&!s.v&&(s.v=gs(He(s.ib,s),6e3));if(1>=Li(s.i)&&s.oa){try{s.oa()}catch{}s.oa=void 0}}else qi(s,11)}else if((i.K||s.g==i)&&gi(s),!An(t))for(c=s.Ja.g.parse(t),t=0;t<c.length;t++){let X=c[t];if(s.V=X[0],X=X[1],2==s.H)if("c"==X[0]){s.K=X[1],s.pa=X[2];const ce=X[3];null!=ce&&(s.ra=ce,s.l.info("VER="+s.ra));const Ae=X[4];null!=Ae&&(s.Ga=Ae,s.l.info("SVER="+s.Ga));const rt=X[5];null!=rt&&"number"==typeof rt&&0<rt&&(s.L=a=1.5*rt,s.l.info("backChannelRequestTimeoutMs_="+a)),a=s;const It=i.g;if(It){const Zt=It.g?It.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var f=a.i;f.g||-1==Zt.indexOf("spdy")&&-1==Zt.indexOf("quic")&&-1==Zt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ii(f,f.h),f.h=null))}if(a.F){const un=It.g?It.g.getResponseHeader("X-HTTP-Session-Id"):null;un&&(a.Da=un,sr(a.I,a.F,un))}}s.H=3,s.h&&s.h.Ba(),s.ca&&(s.S=Date.now()-i.G,s.l.info("Handshake RTT: "+s.S+"ms"));var m=i;if((a=s).wa=Yi(a,a.J?a.pa:null,a.Y),m.K){Da(a.i,m);var N=m,j=a.L;j&&N.setTimeout(j),N.B&&(Je(N),_n(N)),a.g=m}else ie(a);0<s.j.length&&Fa(s)}else"stop"!=X[0]&&"close"!=X[0]||qi(s,7);else 3==s.H&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?qi(s,7):_s(s):"noop"!=X[0]&&s.h&&s.h.Aa(X),s.A=0)}oo()}catch{}}function vn(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(ne(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var s=function Ht(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ne(i)||"string"==typeof i){var t=[];i=i.length;for(var s=0;s<i;s++)t.push(s);return t}t=[],s=0;for(const a in i)t[s++]=a;return t}}}(i),a=function ct(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ne(i)){for(var t=[],s=i.length,a=0;a<s;a++)t.push(i[a]);return t}for(a in t=[],s=0,i)t[s++]=i[a];return t}(i),c=a.length,f=0;f<c;f++)t.call(void 0,a[f],s&&s[f],i)}(W=yo.prototype).setTimeout=function(i){this.P=i},W.nb=function(i){i=i.target;const t=this.M;t&&3==ks(i)?t.l():this.Pa(i)},W.Pa=function(i){try{if(i==this.g)e:{const ce=ks(this.g);var t=this.g.Ia();if(this.g.da(),!(3>ce)&&(3!=ce||Fr||this.g&&(this.h.h||this.g.ja()||Eo(this.g)))){this.J||4!=ce||7==t||oo(),Je(this);var s=this.g.da();this.ca=s;t:if(bt(this)){var a=Eo(this.g);i="";var c=a.length,f=4==ks(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Pe(this);var m="";break t}this.h.i=new ee.TextDecoder}for(t=0;t<c;t++)this.h.h=!0,i+=this.h.i.decode(a[t],{stream:f&&t==c-1});a.splice(0,c),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==s,function wt(i,t,s,a,c,f,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+t+"\n"+s+"\n"+f+" "+m})}(this.j,this.u,this.A,this.m,this.W,ce,s),this.i){if(this.aa&&!this.K){t:{if(this.g){var N,j=this.g;if((N=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!An(N)){var X=N;break t}}X=null}if(!(s=X)){this.i=!1,this.o=3,zr(12),ze(this),Pe(this);break e}vt(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Et(this,s)}this.S?(Rt(this,ce,m),Fr&&this.i&&3==ce&&(Or(this.U,this.V,"tick",this.mb),this.V.start())):(vt(this.j,this.m,m,null),Et(this,m)),4==ce&&ze(this),this.i&&!this.J&&(4==ce?Di(this.l,this):(this.i=!1,_n(this)))}else(function wa(i){const t={};i=(i.g&&2<=ks(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let a=0;a<i.length;a++){if(An(i[a]))continue;var s=Re(i[a]);const c=s[0];if("string"!=typeof(s=s[1]))continue;s=s.trim();const f=t[c]||[];t[c]=f,f.push(s)}!function Ir(i,t){for(const s in i)t.call(void 0,i[s],s,i)}(t,function(a){return a.join(", ")})})(this.g),400==s&&0<m.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),ze(this),Pe(this)}}}catch{}},W.mb=function(){if(this.g){var i=ks(this.g),t=this.g.ja();this.C<t.length&&(Je(this),Rt(this,i,t),this.i&&4!=i&&_n(this))}},W.cancel=function(){this.J=!0,ze(this)},W.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Sn(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(oo(),zr(17)),ze(this),this.o=2,Pe(this)):fe(this,this.Y-i)};var Rn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kt(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Kt){this.h=i.h,Is(this,i.j),this.s=i.s,this.g=i.g,xn(this,i.m),this.l=i.l;var t=i.i,s=new Vo;s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),Qr(this,s),this.o=i.o}else i&&(t=String(i).match(Rn))?(this.h=!1,Is(this,t[1]||"",!0),this.s=ki(t[2]||""),this.g=ki(t[3]||"",!0),xn(this,t[4]),this.l=ki(t[5]||"",!0),Qr(this,t[6]||"",!0),this.o=ki(t[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}function $n(i){return new Kt(i)}function Is(i,t,s){i.j=s?ki(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function xn(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function Qr(i,t,s){t instanceof Vo?(i.i=t,function si(i,t){t&&!i.j&&(Fs(i),i.i=null,i.g.forEach(function(s,a){var c=a.toLowerCase();a!=c&&(co(this,a),Qi(this,c,s))},i)),i.j=t}(i.i,i.h)):(s||(t=Wr(t,So)),i.i=new Vo(t,i.h))}function sr(i,t,s){i.i.set(t,s)}function Dr(i){return sr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ki(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wr(i,t,s){return"string"==typeof i?(i=encodeURI(i).replace(t,Zo),s&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Zo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Kt.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Wr(t,ao,!0),":");var s=this.g;return(s||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Wr(t,ao,!0),"@"),i.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.m)&&i.push(":",String(s))),(s=this.l)&&(this.g&&"/"!=s.charAt(0)&&i.push("/"),i.push(Wr(s,"/"==s.charAt(0)?lo:Lo,!0))),(s=this.i.toString())&&i.push("?",s),(s=this.o)&&i.push("#",Wr(s,Wo)),i.join("")};var ao=/[#\/\?@]/g,Lo=/[#\?:]/g,lo=/[#\?]/g,So=/[#\?@]/g,Wo=/#/g;function Vo(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function Fs(i){i.g||(i.g=new Map,i.h=0,i.i&&function Er(i,t){if(i){i=i.split("&");for(var s=0;s<i.length;s++){var a=i[s].indexOf("="),c=null;if(0<=a){var f=i[s].substring(0,a);c=i[s].substring(a+1)}else f=i[s];t(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(t,s){i.add(decodeURIComponent(t.replace(/\+/g," ")),s)}))}function co(i,t){Fs(i),t=Jo(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function Ra(i,t){return Fs(i),t=Jo(i,t),i.g.has(t)}function Qi(i,t,s){co(i,t),0<s.length&&(i.i=null,i.g.set(Jo(i,t),kt(s)),i.h+=s.length)}function Jo(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(W=Vo.prototype).add=function(i,t){Fs(this),this.i=null,i=Jo(this,i);var s=this.g.get(i);return s||this.g.set(i,s=[]),s.push(t),this.h+=1,this},W.forEach=function(i,t){Fs(this),this.g.forEach(function(s,a){s.forEach(function(c){i.call(t,c,a,this)},this)},this)},W.ta=function(){Fs(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),s=[];for(let a=0;a<t.length;a++){const c=i[a];for(let f=0;f<c.length;f++)s.push(t[a])}return s},W.Z=function(i){Fs(this);let t=[];if("string"==typeof i)Ra(this,i)&&(t=t.concat(this.g.get(Jo(this,i))));else{i=Array.from(this.g.values());for(let s=0;s<i.length;s++)t=t.concat(i[s])}return t},W.set=function(i,t){return Fs(this),this.i=null,Ra(this,i=Jo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},W.get=function(i,t){return i&&0<(i=this.Z(i)).length?String(i[0]):t},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var s=0;s<t.length;s++){var a=t[s];const f=encodeURIComponent(String(a)),m=this.Z(a);for(a=0;a<m.length;a++){var c=f;""!==m[a]&&(c+="="+encodeURIComponent(String(m[a]))),i.push(c)}}return this.i=i.join("&")};var ts=class{constructor(i,t){this.g=i,this.map=t}};function nn(i){this.l=i||bo,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bo=10;function vo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Li(i){return i.h?1:i.g?i.g.size:0}function Vi(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function ii(i,t){i.g?i.g.add(t):i.h=t}function Da(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function Ln(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const s of i.g.values())t=t.concat(s.F);return t}return kt(i.i)}nn.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ko=class{stringify(i){return ee.JSON.stringify(i,void 0)}parse(i){return ee.JSON.parse(i,void 0)}};function ea(){this.g=new Ko}function Ts(i,t,s){const a=s||"";try{vn(i,function(c,f){let m=c;Ce(c)&&(m=Jr(c)),t.push(a+f+"="+encodeURIComponent(m))})}catch(c){throw t.push(a+"type="+encodeURIComponent("_badmap")),c}}function Js(i,t,s,a,c){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,c(a)}catch{}}function Mo(i){this.l=i.fc||null,this.j=i.ob||!1}function oi(i,t){Jn.call(this),this.F=i,this.u=t,this.m=void 0,this.readyState=_o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(Mo,mn),Mo.prototype.g=function(){return new oi(this.l,this.j)},Mo.prototype.i=function(i){return function(){return i}}({}),Tt(oi,Jn);var _o=0;function Ao(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Xi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ai(i)}function ai(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(W=oi.prototype).open=function(i,t){if(this.readyState!=_o)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,ai(this)},W.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.F||ee).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xi(this)),this.readyState=_o},W.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ao(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},W.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Xi(this):ai(this),3==this.readyState&&Ao(this)}},W.Za=function(i){this.g&&(this.response=this.responseText=i,Xi(this))},W.Ya=function(i){this.g&&(this.response=i,Xi(this))},W.ka=function(){this.g&&Xi(this)},W.setRequestHeader=function(i,t){this.v.append(i,t)},W.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var s=t.next();!s.done;)i.push((s=s.value)[0]+": "+s[1]),s=t.next();return i.join("\r\n")},Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ta=ee.JSON.parse;function Ss(i){Jn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ui,this.L=this.M=!1}Tt(Ss,Jn);var Ui="",xa=/^https?$/i,li=["POST","PUT"];function ci(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,Pa(i),ji(i)}function Pa(i){i.F||(i.F=!0,Lr(i,"complete"),Lr(i,"error"))}function na(i){if(i.h&&typeof se<"u"&&(!i.C[1]||4!=ks(i)||2!=i.da()))if(i.v&&4==ks(i))Ct(i.La,0,i);else if(Lr(i,"readystatechange"),4==ks(i)){i.h=!1;try{const m=i.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var s;if(!(s=t)){var a;if(a=0===m){var c=String(i.I).match(Rn)[1]||null;!c&&ee.self&&ee.self.location&&(c=ee.self.location.protocol.slice(0,-1)),a=!xa.test(c?c.toLowerCase():"")}s=a}if(s)Lr(i,"complete"),Lr(i,"success");else{i.m=6;try{var f=2<ks(i)?i.g.statusText:""}catch{f=""}i.j=f+" ["+i.da()+"]",Pa(i)}}finally{ji(i)}}}function ji(i,t){if(i.g){Sr(i);const s=i.g,a=i.C[0]?()=>{}:null;i.g=null,i.C=null,t||Lr(i,"ready");try{s.onreadystatechange=a}catch{}}}function Sr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function ks(i){return i.g?i.g.readyState:0}function Eo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ui:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Ca(i){let t="";return ls(i,function(s,a){t+=a,t+=":",t+=s,t+="\r\n"}),t}function ms(i,t,s){e:{for(a in s){var a=!1;break e}a=!0}a||(s=Ca(s),"string"==typeof i?null!=s&&encodeURIComponent(String(s)):sr(i,t,s))}function Mn(i,t,s){return s&&s.internalChannelParams&&s.internalChannelParams[i]||t}function ys(i){this.Ga=0,this.j=[],this.l=new ot,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mn("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mn("baseRetryDelayMs",5e3,i),this.hb=Mn("retryDelaySeedMs",1e4,i),this.eb=Mn("forwardChannelMaxRetries",2,i),this.xa=Mn("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new nn(i&&i.concurrentRequestLimit),this.Ja=new ea,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _s(i){if(Oo(i),3==i.H){var t=i.W++,s=$n(i.I);if(sr(s,"SID",i.K),sr(s,"RID",t),sr(s,"TYPE","terminate"),z(i,s),(t=new yo(i,i.l,t)).L=2,t.v=Dr($n(s)),s=!1,ee.navigator&&ee.navigator.sendBeacon)try{s=ee.navigator.sendBeacon(t.v.toString(),"")}catch{}!s&&ee.Image&&((new Image).src=t.v,s=!0),s||(t.g=Nl(t.l,null),t.g.ha(t.v)),t.G=Date.now(),_n(t)}No(i)}function or(i){i.g&&(an(i),i.g.cancel(),i.g=null)}function Oo(i){or(i),i.u&&(ee.clearTimeout(i.u),i.u=null),gi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function Fa(i){if(!vo(i.i)&&!i.m){i.m=!0;var t=i.Na;Ve||Me(),Qe||(Ve(),Qe=!0),he.add(t,i),i.C=0}}function H(i,t){var s;s=t?t.m:i.W++;const a=$n(i.I);sr(a,"SID",i.K),sr(a,"RID",s),sr(a,"AID",i.V),z(i,a),i.o&&i.s&&ms(a,i.o,i.s),s=new yo(i,i.l,s,i.C+1),null===i.o&&(s.I=i.s),t&&(i.j=t.F.concat(i.j)),t=P(i,s,1e3),s.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ii(i.i,s),_e(s,a,t)}function z(i,t){i.na&&ls(i.na,function(s,a){sr(t,a,s)}),i.h&&vn({},function(s,a){sr(t,a,s)})}function P(i,t,s){s=Math.min(i.j.length,s);var a=i.h?He(i.h.Va,i.h,i):null;e:{var c=i.j;let f=-1;for(;;){const m=["count="+s];-1==f?0<s?(f=c[0].g,m.push("ofs="+f)):f=0:m.push("ofs="+f);let N=!0;for(let j=0;j<s;j++){let X=c[j].g;const ce=c[j].map;if(X-=f,0>X)f=Math.max(0,c[j].g-100),N=!1;else try{Ts(ce,m,"req"+X+"_")}catch{a&&a(ce)}}if(N){a=m.join("&");break e}}}return i=i.j.splice(0,s),t.F=i,a}function ie(i){if(!i.g&&!i.u){i.ba=1;var t=i.Ma;Ve||Me(),Qe||(Ve(),Qe=!0),he.add(t,i),i.A=0}}function Se(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=gs(He(i.Ma,i),wi(i,i.A)),i.A++,0))}function an(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function zn(i){i.g=new yo(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var t=$n(i.wa);sr(t,"RID","rpc"),sr(t,"SID",i.K),sr(t,"AID",i.V),sr(t,"CI",i.G?"0":"1"),!i.G&&i.qa&&sr(t,"TO",i.qa),sr(t,"TYPE","xmlhttp"),z(i,t),i.o&&i.s&&ms(t,i.o,i.s),i.L&&i.g.setTimeout(i.L);var s=i.g;i=i.pa,s.L=1,s.v=Dr($n(t)),s.s=null,s.S=!0,Ge(s,i)}function gi(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function Di(i,t){var s=null;if(i.g==t){gi(i),an(i),i.g=null;var a=2}else{if(!Vi(i.i,t))return;s=t.F,Da(i.i,t),a=1}if(0!=i.H)if(t.i)if(1==a){s=t.s?t.s.length:0,t=Date.now()-t.G;var c=i.C;Lr(a=Vr(),new En(a,s)),Fa(i)}else ie(i);else if(3==(c=t.o)||0==c&&0<t.ca||!(1==a&&function pl(i,t){return!(Li(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=t.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=gs(He(i.Na,i,t),wi(i,i.C)),i.C++,0)))}(i,t)||2==a&&Se(i)))switch(s&&0<s.length&&(t=i.i,t.i=t.i.concat(s)),c){case 1:qi(i,5);break;case 4:qi(i,10);break;case 3:qi(i,6);break;default:qi(i,2)}}function wi(i,t){let s=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(s*=2),s*t}function qi(i,t){if(i.l.info("Error code "+t),2==t){var s=null;i.h&&(s=null);var a=He(i.pb,i);s||(s=new Kt("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Is(s,"https"),Dr(s)),function wr(i,t){const s=new ot;if(ee.Image){const a=new Image;a.onload=Dt(Js,s,a,"TestLoadImage: loaded",!0,t),a.onerror=Dt(Js,s,a,"TestLoadImage: error",!1,t),a.onabort=Dt(Js,s,a,"TestLoadImage: abort",!1,t),a.ontimeout=Dt(Js,s,a,"TestLoadImage: timeout",!1,t),ee.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else t(!1)}(s.toString(),a)}else zr(2);i.H=0,i.h&&i.h.za(t),No(i),Oo(i)}function No(i){if(i.H=0,i.ma=[],i.h){const t=Ln(i.i);(0!=t.length||0!=i.j.length)&&(qt(i.ma,t),qt(i.ma,i.j),i.i.i.length=0,kt(i.j),i.j.length=0),i.h.ya()}}function Yi(i,t,s){var a=s instanceof Kt?$n(s):new Kt(s);if(""!=a.g)t&&(a.g=t+"."+a.g),xn(a,a.m);else{var c=ee.location;a=c.protocol,t=t?t+"."+c.hostname:c.hostname,c=+c.port;var f=new Kt(null);a&&Is(f,a),t&&(f.g=t),c&&xn(f,c),s&&(f.l=s),a=f}return t=i.Da,(s=i.F)&&t&&sr(a,s,t),sr(a,"VER",i.ra),z(i,a),a}function Nl(i,t,s){if(t&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ss(s&&i.Ha&&!i.va?new Mo({ob:!0}):i.va)).Oa(i.J),t}function Rl(){}function Os(){if(xr&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function bs(i,t){Jn.call(this),this.g=new ys(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(i?i["X-WebChannel-Client-Profile"]=t.Ca:i={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=i,(i=t&&t.cc)&&!An(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!An(t)&&(this.g.F=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Ro(this)}function zo(i){Xt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var t=i.__sm__;if(t){e:{for(const s in t){i=s;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function ra(){Gi.call(this),this.status=1}function Ro(i){this.g=i}function $i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mi(i,t,s){s||(s=0);var a=Array(16);if("string"==typeof t)for(var c=0;16>c;++c)a[c]=t.charCodeAt(s++)|t.charCodeAt(s++)<<8|t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<24;else for(c=0;16>c;++c)a[c]=t[s++]|t[s++]<<8|t[s++]<<16|t[s++]<<24;var f=i.g[3],m=(t=i.g[0])+(f^(s=i.g[1])&((c=i.g[2])^f))+a[0]+3614090360&4294967295;m=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=(s=(c=(f=(t=s+(m<<7&4294967295|m>>>25))+((m=f+(c^t&(s^c))+a[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=c+(s^f&(t^s))+a[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=s+(t^c&(f^t))+a[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=t+(f^s&(c^f))+a[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=f+(c^t&(s^c))+a[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=c+(s^f&(t^s))+a[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=s+(t^c&(f^t))+a[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=t+(f^s&(c^f))+a[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=f+(c^t&(s^c))+a[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=c+(s^f&(t^s))+a[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=s+(t^c&(f^t))+a[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=t+(f^s&(c^f))+a[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=f+(c^t&(s^c))+a[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=c+(s^f&(t^s))+a[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=s+(t^c&(f^t))+a[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=t+(c^f&(s^c))+a[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=f+(s^c&(t^s))+a[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=c+(t^s&(f^t))+a[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=s+(f^t&(c^f))+a[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=t+(c^f&(s^c))+a[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=f+(s^c&(t^s))+a[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=c+(t^s&(f^t))+a[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=s+(f^t&(c^f))+a[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=t+(c^f&(s^c))+a[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=f+(s^c&(t^s))+a[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=c+(t^s&(f^t))+a[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=s+(f^t&(c^f))+a[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=t+(c^f&(s^c))+a[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=f+(s^c&(t^s))+a[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=c+(t^s&(f^t))+a[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=s+(f^t&(c^f))+a[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=t+(s^c^f)+a[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=f+(t^s^c)+a[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=c+(f^t^s)+a[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=s+(c^f^t)+a[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=t+(s^c^f)+a[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=f+(t^s^c)+a[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=c+(f^t^s)+a[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=s+(c^f^t)+a[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=t+(s^c^f)+a[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=f+(t^s^c)+a[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=c+(f^t^s)+a[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=s+(c^f^t)+a[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=t+(s^c^f)+a[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=f+(t^s^c)+a[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=c+(f^t^s)+a[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=s+(c^f^t)+a[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=t+(c^(s|~f))+a[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=f+(s^(t|~c))+a[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=c+(t^(f|~s))+a[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=s+(f^(c|~t))+a[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=t+(c^(s|~f))+a[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=f+(s^(t|~c))+a[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=c+(t^(f|~s))+a[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=s+(f^(c|~t))+a[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=t+(c^(s|~f))+a[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=f+(s^(t|~c))+a[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=c+(t^(f|~s))+a[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=s+(f^(c|~t))+a[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((f=(t=s+((m=t+(c^(s|~f))+a[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=f+(s^(t|~c))+a[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((c=f+((m=c+(t^(f|~s))+a[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~t))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+t&4294967295,i.g[1]=i.g[1]+(c+(m<<21&4294967295|m>>>11))&4294967295,i.g[2]=i.g[2]+c&4294967295,i.g[3]=i.g[3]+f&4294967295}function ar(i,t){this.h=t;for(var s=[],a=!0,c=i.length-1;0<=c;c--){var f=0|i[c];a&&f==t||(s[c]=f,a=!1)}this.g=s}(W=Ss.prototype).Oa=function(i){this.M=i},W.ha=function(i,t,s,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);t=t?t.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_i.g(),this.C=function er(i){return i.h||(i.h=i.i())}(this.u?this.u:_i),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(t,String(i),!0),this.G=!1}catch(f){return void ci(this,f)}if(i=s||"",s=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var c in a)s.set(c,a[c]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const f of a.keys())s.set(f,a.get(f))}a=Array.from(s.keys()).find(f=>"content-type"==f.toLowerCase()),c=ee.FormData&&i instanceof ee.FormData,!(0<=Vt(li,t))||a||c||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,m]of s)this.g.setRequestHeader(f,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sr(this),0<this.B&&((this.L=function Bi(i){return xr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=Ct(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){ci(this,f)}},W.ua=function(){typeof se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},W.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Lr(this,"complete"),Lr(this,"abort"),ji(this))},W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ji(this,!0)),Ss.$.N.call(this)},W.La=function(){this.s||(this.G||this.v||this.l?na(this):this.kb())},W.kb=function(){na(this)},W.isActive=function(){return!!this.g},W.da=function(){try{return 2<ks(this)?this.g.status:-1}catch{return-1}},W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},W.Wa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),ta(t)}},W.Ia=function(){return this.m},W.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=ys.prototype).ra=8,W.H=1,W.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const c=new yo(this,this.l,i);let f=this.s;if(this.U&&(f?(f=qr(f),hs(f,this.U)):f=this.U),null!==this.o||this.O||(c.I=f,f=null),this.P)e:{for(var t=0,s=0;s<this.j.length;s++){var a=this.j[s];if(void 0===(a="__data__"in a.map&&"string"==typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(t+=a)){t=s;break e}if(4096===t||s===this.j.length-1){t=s+1;break e}}t=1e3}else t=1e3;t=P(this,c,t),sr(s=$n(this.I),"RID",i),sr(s,"CVER",22),this.F&&sr(s,"X-HTTP-Session-Id",this.F),z(this,s),f&&(this.O?t="headers="+encodeURIComponent(String(Ca(f)))+"&"+t:this.o&&ms(s,this.o,f)),ii(this.i,c),this.bb&&sr(s,"TYPE","init"),this.P?(sr(s,"$req",t),sr(s,"SID","null"),c.aa=!0,_e(c,s,null)):_e(c,s,t),this.H=2}}else 3==this.H&&(i?H(this,i):0==this.j.length||vo(this.i)||H(this))},W.Ma=function(){if(this.u=null,zn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=gs(He(this.jb,this),i)}},W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zr(10),or(this),zn(this))},W.ib=function(){null!=this.v&&(this.v=null,or(this),Se(this),zr(19))},W.pb=function(i){i?(this.l.info("Successfully pinged google.com"),zr(2)):(this.l.info("Failed to ping google.com"),zr(1))},W.isActive=function(){return!!this.h&&this.h.isActive(this)},(W=Rl.prototype).Ba=function(){},W.Aa=function(){},W.za=function(){},W.ya=function(){},W.isActive=function(){return!0},W.Va=function(){},Os.prototype.g=function(i,t){return new bs(i,t)},Tt(bs,Jn),bs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,t=this.l,s=this.h||void 0;zr(0),i.Y=t,i.na=s||{},i.G=i.aa,i.I=Yi(i,null,i.Y),Fa(i)},bs.prototype.close=function(){_s(this.g)},bs.prototype.u=function(i){var t=this.g;if("string"==typeof i){var s={};s.__data__=i,i=s}else this.v&&((s={}).__data__=Jr(i),i=s);t.j.push(new ts(t.fb++,i)),3==t.H&&Fa(t)},bs.prototype.N=function(){this.g.h=null,delete this.j,_s(this.g),delete this.g,bs.$.N.call(this)},Tt(zo,Xt),Tt(ra,Gi),Tt(Ro,Rl),Ro.prototype.Ba=function(){Lr(this.g,"a")},Ro.prototype.Aa=function(i){Lr(this.g,new zo(i))},Ro.prototype.za=function(i){Lr(this.g,new ra)},Ro.prototype.ya=function(){Lr(this.g,"b")},Tt($i,function Mi(){this.blockSize=-1}),$i.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$i.prototype.j=function(i,t){void 0===t&&(t=i.length);for(var s=t-this.blockSize,a=this.m,c=this.h,f=0;f<t;){if(0==c)for(;f<=s;)mi(this,i,f),f+=this.blockSize;if("string"==typeof i){for(;f<t;)if(a[c++]=i.charCodeAt(f++),c==this.blockSize){mi(this,a),c=0;break}}else for(;f<t;)if(a[c++]=i[f++],c==this.blockSize){mi(this,a),c=0;break}}this.h=c,this.i+=t},$i.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var t=1;t<i.length-8;++t)i[t]=0;var s=8*this.i;for(t=i.length-8;t<i.length;++t)i[t]=255&s,s/=256;for(this.j(i),i=Array(16),t=s=0;4>t;++t)for(var a=0;32>a;a+=8)i[s++]=this.g[t]>>>a&255;return i};var tc={};function fr(i){return-128<=i&&128>i?function gn(i,t){var s=tc;return Object.prototype.hasOwnProperty.call(s,i)?s[i]:s[i]=t(i)}(i,function(t){return new ar([0|t],0>t?-1:0)}):new ar([0|i],0>i?-1:0)}function Ci(i){if(isNaN(i)||!isFinite(i))return br;if(0>i)return pr(Ci(-i));for(var t=[],s=1,a=0;i>=s;a++)t[a]=i/s|0,s*=Ia;return new ar(t,0)}var Ia=4294967296,br=fr(0),Ns=fr(1),ui=fr(16777216);function Go(i){if(0!=i.h)return!1;for(var t=0;t<i.g.length;t++)if(0!=i.g[t])return!1;return!0}function Es(i){return-1==i.h}function pr(i){for(var t=i.g.length,s=[],a=0;a<t;a++)s[a]=~i.g[a];return new ar(s,~i.h).add(Ns)}function Qo(i,t){return i.add(pr(t))}function Xo(i,t){for(;(65535&i[t])!=i[t];)i[t+1]+=i[t]>>>16,i[t]&=65535,t++}function Uo(i,t){this.g=i,this.h=t}function ka(i,t){if(Go(t))throw Error("division by zero");if(Go(i))return new Uo(br,br);if(Es(i))return t=ka(pr(i),t),new Uo(pr(t.g),pr(t.h));if(Es(t))return t=ka(i,pr(t)),new Uo(pr(t.g),t.h);if(30<i.g.length){if(Es(i)||Es(t))throw Error("slowDivide_ only works with positive integers.");for(var s=Ns,a=t;0>=a.X(i);)s=nc(s),a=nc(a);var c=sa(s,1),f=sa(a,1);for(a=sa(a,2),s=sa(s,2);!Go(a);){var m=f.add(a);0>=m.X(i)&&(c=c.add(s),f=m),a=sa(a,1),s=sa(s,1)}return t=Qo(i,c.R(t)),new Uo(c,t)}for(c=br;0<=i.X(t);){for(s=Math.max(1,Math.floor(i.ea()/t.ea())),a=48>=(a=Math.ceil(Math.log(s)/Math.LN2))?1:Math.pow(2,a-48),m=(f=Ci(s)).R(t);Es(m)||0<m.X(i);)m=(f=Ci(s-=a)).R(t);Go(f)&&(f=Ns),c=c.add(f),i=Qo(i,m)}return new Uo(c,i)}function nc(i){for(var t=i.g.length+1,s=[],a=0;a<t;a++)s[a]=i.D(a)<<1|i.D(a-1)>>>31;return new ar(s,i.h)}function sa(i,t){var s=t>>5;t%=32;for(var a=i.g.length-s,c=[],f=0;f<a;f++)c[f]=0<t?i.D(f+s)>>>t|i.D(f+s+1)<<32-t:i.D(f+s);return new ar(c,i.h)}(W=ar.prototype).ea=function(){if(Es(this))return-pr(this).ea();for(var i=0,t=1,s=0;s<this.g.length;s++){var a=this.D(s);i+=(0<=a?a:Ia+a)*t,t*=Ia}return i},W.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Go(this))return"0";if(Es(this))return"-"+pr(this).toString(i);for(var t=Ci(Math.pow(i,6)),s=this,a="";;){var c=ka(s,t).g,f=((0<(s=Qo(s,c.R(t))).g.length?s.g[0]:s.h)>>>0).toString(i);if(Go(s=c))return f+a;for(;6>f.length;)f="0"+f;a=f+a}},W.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},W.X=function(i){return Es(i=Qo(this,i))?-1:Go(i)?0:1},W.abs=function(){return Es(this)?pr(this):this},W.add=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],a=0,c=0;c<=t;c++){var f=a+(65535&this.D(c))+(65535&i.D(c)),m=(f>>>16)+(this.D(c)>>>16)+(i.D(c)>>>16);a=m>>>16,s[c]=(m&=65535)<<16|(f&=65535)}return new ar(s,-2147483648&s[s.length-1]?-1:0)},W.R=function(i){if(Go(this)||Go(i))return br;if(Es(this))return Es(i)?pr(this).R(pr(i)):pr(pr(this).R(i));if(Es(i))return pr(this.R(pr(i)));if(0>this.X(ui)&&0>i.X(ui))return Ci(this.ea()*i.ea());for(var t=this.g.length+i.g.length,s=[],a=0;a<2*t;a++)s[a]=0;for(a=0;a<this.g.length;a++)for(var c=0;c<i.g.length;c++){var f=this.D(a)>>>16,m=65535&this.D(a),N=i.D(c)>>>16,j=65535&i.D(c);s[2*a+2*c]+=m*j,Xo(s,2*a+2*c),s[2*a+2*c+1]+=f*j,Xo(s,2*a+2*c+1),s[2*a+2*c+1]+=m*N,Xo(s,2*a+2*c+1),s[2*a+2*c+2]+=f*N,Xo(s,2*a+2*c+2)}for(a=0;a<t;a++)s[a]=s[2*a+1]<<16|s[2*a];for(a=t;a<2*t;a++)s[a]=0;return new ar(s,0)},W.gb=function(i){return ka(this,i).h},W.and=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],a=0;a<t;a++)s[a]=this.D(a)&i.D(a);return new ar(s,this.h&i.h)},W.or=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],a=0;a<t;a++)s[a]=this.D(a)|i.D(a);return new ar(s,this.h|i.h)},W.xor=function(i){for(var t=Math.max(this.g.length,i.g.length),s=[],a=0;a<t;a++)s[a]=this.D(a)^i.D(a);return new ar(s,this.h^i.h)},Os.prototype.createWebChannel=Os.prototype.g,bs.prototype.send=bs.prototype.u,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,ws.COMPLETE="complete",kn.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",Jn.prototype.listen=Jn.prototype.O,Ss.prototype.listenOnce=Ss.prototype.P,Ss.prototype.getLastError=Ss.prototype.Sa,Ss.prototype.getLastErrorCode=Ss.prototype.Ia,Ss.prototype.getStatus=Ss.prototype.da,Ss.prototype.getResponseJson=Ss.prototype.Wa,Ss.prototype.getResponseText=Ss.prototype.ja,Ss.prototype.send=Ss.prototype.ha,Ss.prototype.setWithCredentials=Ss.prototype.Oa,$i.prototype.digest=$i.prototype.l,$i.prototype.reset=$i.prototype.reset,$i.prototype.update=$i.prototype.j,ar.prototype.add=ar.prototype.add,ar.prototype.multiply=ar.prototype.R,ar.prototype.modulo=ar.prototype.gb,ar.prototype.compare=ar.prototype.X,ar.prototype.toNumber=ar.prototype.ea,ar.prototype.toString=ar.prototype.toString,ar.prototype.getBits=ar.prototype.D,ar.fromNumber=Ci,ar.fromString=function Do(i,t){if(0==i.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==i.charAt(0))return pr(Do(i.substring(1),t));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=Ci(Math.pow(t,8)),a=br,c=0;c<i.length;c+=8){var f=Math.min(8,i.length-c),m=parseInt(i.substring(c,c+f),t);8>f?(f=Ci(Math.pow(t,f)),a=a.R(f).add(Ci(m))):a=(a=a.R(s)).add(Ci(m))}return a};var xl=q.createWebChannelTransport=function(){return new Os},fu=q.getStatEventTarget=function(){return Vr()},Ta=q.ErrorCode=zi,Pl=q.EventType=ws,Sa=q.Event=Kn,Nr=q.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ft=q.FetchXmlHttpFactory=Mo,Dn=q.WebChannel=kn,Gs=q.XhrIo=Ss,Hi=q.Md5=$i,Ms=q.Integer=ar;const Zi="@firebase/firestore";class is{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");let Cr="9.23.0";const gr=new U.Vy("@firebase/firestore");function Ii(){return gr.logLevel}function Nt(i,...t){if(gr.logLevel<=U.$b.DEBUG){const s=t.map(F);gr.debug(`Firestore (${Cr}): ${i}`,...s)}}function O(i,...t){if(gr.logLevel<=U.$b.ERROR){const s=t.map(F);gr.error(`Firestore (${Cr}): ${i}`,...s)}}function Y(i,...t){if(gr.logLevel<=U.$b.WARN){const s=t.map(F);gr.warn(`Firestore (${Cr}): ${i}`,...s)}}function F(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function V(i="Unexpected state"){const t=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+i;throw O(t),new Error(t)}function te(i,t){i||V()}function Le(i,t){return i}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends K.g{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class In{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}class Mr{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(is.UNAUTHENTICATED))}shutdown(){}}class Ur{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Pt{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){var a=this;let c=this.i;const f=X=>this.i!==c?(c=this.i,s(X)):Promise.resolve();let m=new In;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new In,t.enqueueRetryable(()=>f(this.currentUser))};const N=()=>{const X=m;t.enqueueRetryable((0,E.A)(function*(){yield X.promise,yield f(a.currentUser)}))},j=X=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(X=>j(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?j(X):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new In)}},0),N()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==t?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te("string"==typeof a.accessToken),new Mr(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return te(null===t||"string"==typeof t),new is(t)}}class Ls{constructor(t,s,a){this.h=t,this.l=s,this.m=a,this.type="FirstParty",this.user=is.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Vs{constructor(t,s,a){this.h=t,this.l=s,this.m=a}getToken(){return Promise.resolve(new Ls(this.h,this.l,this.m))}start(t,s){t.enqueueRetryable(()=>s(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class As{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ia{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,s){const a=f=>{null!=f.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.T;return this.T=f.token,Nt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?s(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>a(f))};const c=f=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.I.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.I.getImmediate({optional:!0});f?c(f):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(te("string"==typeof s.token),this.T=s.token,new As(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ns(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(s);else for(let a=0;a<i;a++)s[a]=Math.floor(256*Math.random());return s}class Br{static A(){const s=62*Math.floor(256/62);let a="";for(;a.length<20;){const c=ns(40);for(let f=0;f<c.length;++f)a.length<20&&c[f]<s&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[f]%62))}return a}}function ln(i,t){return i<t?-1:i>t?1:0}function Bo(i,t,s){return i.length===t.length&&i.every((a,c)=>s(a,t[c]))}function Us(i){return i+"\0"}class us{constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new dt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new dt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<-62135596800)throw new dt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return us.fromMillis(Date.now())}static fromDate(t){return us.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*s));return new us(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ln(this.nanoseconds,t.nanoseconds):ln(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new tn(t)}static min(){return new tn(new us(0,0))}static max(){return new tn(new us(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jo{constructor(t,s,a){void 0===s?s=0:s>t.length&&V(),void 0===a?a=t.length-s:a>t.length-s&&V(),this.segments=t,this.offset=s,this.len=a}get length(){return this.len}isEqual(t){return 0===jo.comparator(this,t)}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof jo?t.forEach(a=>{s.push(a)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,a=this.limit();s<a;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const a=Math.min(t.length,s.length);for(let c=0;c<a;c++){const f=t.get(c),m=s.get(c);if(f<m)return-1;if(f>m)return 1}return t.length<s.length?-1:t.length>s.length?1:0}}class Kr extends jo{construct(t,s,a){return new Kr(t,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const s=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(xe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(c=>c.length>0))}return new Kr(s)}static emptyPath(){return new Kr([])}}const Pc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class os extends jo{construct(t,s,a){return new os(t,s,a)}static isValidIdentifier(t){return Pc.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),os.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new os(["__name__"])}static fromServerFormat(t){const s=[];let a="",c=0;const f=()=>{if(0===a.length)throw new dt(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let m=!1;for(;c<t.length;){const N=t[c];if("\\"===N){if(c+1===t.length)throw new dt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const j=t[c+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new dt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=j,c+=2}else"`"===N?(m=!m,c++):"."!==N||m?(a+=N,c++):(f(),c++)}if(f(),m)throw new dt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new os(s)}static emptyPath(){return new os([])}}class en{constructor(t){this.path=t}static fromPath(t){return new en(Kr.fromString(t))}static fromName(t){return new en(Kr.fromString(t).popFirst(5))}static empty(){return new en(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Kr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,s){return Kr.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new en(new Kr(t.slice()))}}class Ja{constructor(t,s,a,c){this.indexId=t,this.collectionGroup=s,this.fields=a,this.indexState=c}}function Wa(i){return i.fields.find(t=>2===t.kind)}function Fl(i){return i.fields.filter(t=>2!==t.kind)}Ja.UNKNOWN_ID=-1;class kl{constructor(t,s){this.fieldPath=t,this.kind=s}}class el{constructor(t,s){this.sequenceNumber=t,this.offset=s}static empty(){return new el(0,Qs.min())}}function Fc(i){return new Qs(i.readTime,i.key,-1)}class Qs{constructor(t,s,a){this.readTime=t,this.documentKey=s,this.largestBatchId=a}static min(){return new Qs(tn.min(),en.empty(),-1)}static max(){return new Qs(tn.max(),en.empty(),-1)}}function rc(i,t){let s=i.readTime.compareTo(t.readTime);return 0!==s?s:(s=en.comparator(i.documentKey,t.documentKey),0!==s?s:ln(i.largestBatchId,t.largestBatchId))}const pu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class La{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function oa(i){return tl.apply(this,arguments)}function tl(){return tl=(0,E.A)(function*(i){if(i.code!==xe.FAILED_PRECONDITION||i.message!==pu)throw i;Nt("LocalStore","Unexpectedly lost primary lease")}),tl.apply(this,arguments)}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new nt((a,c)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(a,c)},this.catchCallback=f=>{this.wrapFailure(s,f).next(a,c)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof nt?s:nt.resolve(s)}catch(s){return nt.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):nt.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):nt.reject(s)}static resolve(t){return new nt((s,a)=>{s(t)})}static reject(t){return new nt((s,a)=>{a(t)})}static waitFor(t){return new nt((s,a)=>{let c=0,f=0,m=!1;t.forEach(N=>{++c,N.next(()=>{++f,m&&f===c&&s()},j=>a(j))}),m=!0,f===c&&s()})}static or(t){let s=nt.resolve(!1);for(const a of t)s=s.next(c=>c?nt.resolve(c):a());return s}static forEach(t,s){const a=[];return t.forEach((c,f)=>{a.push(s.call(this,c,f))}),this.waitFor(a)}static mapArray(t,s){return new nt((a,c)=>{const f=t.length,m=new Array(f);let N=0;for(let j=0;j<f;j++){const X=j;s(t[X]).next(ce=>{m[X]=ce,++N,N===f&&a(m)},ce=>c(ce))}})}static doWhile(t,s){return new nt((a,c)=>{const f=()=>{!0===t()?s().next(()=>{f()},c):a()};f()})}}class kc{constructor(t,s){this.action=t,this.transaction=s,this.aborted=!1,this.v=new In,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{s.error?this.v.reject(new nl(t,s.error)):this.v.resolve()},this.transaction.onerror=a=>{const c=mu(a.target.error);this.v.reject(new nl(t,c))}}static open(t,s,a,c){try{return new kc(s,t.transaction(c,a))}catch(f){throw new nl(s,f)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Nt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const s=this.transaction.objectStore(t);return new Ga(s)}}class Va{constructor(t,s,a){this.name=t,this.version=s,this.V=a,12.2===Va.S((0,K.ZQ)())&&O("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Nt("SimpleDb","Removing database:",t),aa(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,K.zW)())return!1;if(Va.C())return!0;const t=(0,K.ZQ)(),s=Va.S(t),a=0<s&&s<10,c=Va.N(t),f=0<c&&c<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||a||f)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,s){return t.store(s)}static S(t){const s=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(t){const s=t.match(/Android ([\d.]+)/i),a=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(t){var s=this;return(0,E.A)(function*(){return s.db||(Nt("SimpleDb","Opening database:",s.name),s.db=yield new Promise((a,c)=>{const f=indexedDB.open(s.name,s.version);f.onsuccess=m=>{a(m.target.result)},f.onblocked=()=>{c(new nl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const N=m.target.error;c("VersionError"===N.name?new dt(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new dt(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new nl(t,N))},f.onupgradeneeded=m=>{Nt("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',m.oldVersion),s.V.O(m.target.result,f.transaction,m.oldVersion,s.version).next(()=>{Nt("SimpleDb","Database upgrade to version "+s.version+" complete")})}})),s.F&&(s.db.onversionchange=a=>s.F(a)),s.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=s=>t(s))}runTransaction(t,s,a,c){var f=this;return(0,E.A)(function*(){const m="readonly"===s;let N=0;for(;;){++N;try{f.db=yield f.$(t);const j=kc.open(f.db,t,m?"readonly":"readwrite",a),X=c(j).next(ce=>(j.P(),ce)).catch(ce=>(j.abort(ce),nt.reject(ce))).toPromise();return X.catch(()=>{}),yield j.R,X}catch(j){const X=j,ce="FirebaseError"!==X.name&&N<3;if(Nt("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ce),f.close(),!ce)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ku{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return aa(this.L.delete())}}class nl extends dt{constructor(t,s){super(xe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function za(i){return"IndexedDbTransactionError"===i.name}class Ga{constructor(t){this.store=t}put(t,s){let a;return void 0!==s?(Nt("SimpleDb","PUT",this.store.name,t,s),a=this.store.put(s,t)):(Nt("SimpleDb","PUT",this.store.name,"<auto-key>",t),a=this.store.put(t)),aa(a)}add(t){return Nt("SimpleDb","ADD",this.store.name,t,t),aa(this.store.add(t))}get(t){return aa(this.store.get(t)).next(s=>(void 0===s&&(s=null),Nt("SimpleDb","GET",this.store.name,t,s),s))}delete(t){return Nt("SimpleDb","DELETE",this.store.name,t),aa(this.store.delete(t))}count(){return Nt("SimpleDb","COUNT",this.store.name),aa(this.store.count())}j(t,s){const a=this.options(t,s);if(a.index||"function"!=typeof this.store.getAll){const c=this.cursor(a),f=[];return this.W(c,(m,N)=>{f.push(N)}).next(()=>f)}{const c=this.store.getAll(a.range);return new nt((f,m)=>{c.onerror=N=>{m(N.target.error)},c.onsuccess=N=>{f(N.target.result)}})}}H(t,s){const a=this.store.getAll(t,null===s?void 0:s);return new nt((c,f)=>{a.onerror=m=>{f(m.target.error)},a.onsuccess=m=>{c(m.target.result)}})}J(t,s){Nt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(t,s);a.Y=!1;const c=this.cursor(a);return this.W(c,(f,m,N)=>N.delete())}X(t,s){let a;s?a=t:(a={},s=t);const c=this.cursor(a);return this.W(c,s)}Z(t){const s=this.cursor({});return new nt((a,c)=>{s.onerror=f=>{const m=mu(f.target.error);c(m)},s.onsuccess=f=>{const m=f.target.result;m?t(m.primaryKey,m.value).next(N=>{N?m.continue():a()}):a()}})}W(t,s){const a=[];return new nt((c,f)=>{t.onerror=m=>{f(m.target.error)},t.onsuccess=m=>{const N=m.target.result;if(!N)return void c();const j=new Ku(N),X=s(N.primaryKey,N.value,j);if(X instanceof nt){const ce=X.catch(Ae=>(j.done(),nt.reject(Ae)));a.push(ce)}j.isDone?c():null===j.K?N.continue():N.continue(j.K)}}).next(()=>nt.waitFor(a))}options(t,s){let a;return void 0!==t&&("string"==typeof t?a=t:s=t),{index:a,range:s}}cursor(t){let s="next";if(t.reverse&&(s="prev"),t.index){const a=this.store.index(t.index);return t.Y?a.openKeyCursor(t.range,s):a.openCursor(t.range,s)}return this.store.openCursor(t.range,s)}}function aa(i){return new nt((t,s)=>{i.onsuccess=a=>{t(a.target.result)},i.onerror=a=>{const c=mu(a.target.error);s(c)}})}let gu=!1;function mu(i){const t=Va.S((0,K.ZQ)());if(t>=12.2&&t<13){const s="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(s)>=0){const a=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gu||(gu=!0,setTimeout(()=>{throw a},0)),a}}return i}class Rd{constructor(t,s){this.asyncQueue=t,this.tt=s,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var s=this;Nt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,E.A)(function*(){s.task=null;try{Nt("IndexBackiller",`Documents written: ${yield s.tt.nt()}`)}catch(a){za(a)?Nt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield oa(a)}yield s.et(6e4)}))}}class sc{constructor(t,s){this.localStore=t,this.persistence=s}nt(t=50){var s=this;return(0,E.A)(function*(){return s.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>s.st(a,t))})()}st(t,s){const a=new Set;let c=s,f=!0;return nt.doWhile(()=>!0===f&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(m=>{if(null!==m&&!a.has(m))return Nt("IndexBackiller",`Processing collection: ${m}`),this.it(t,m,c).next(N=>{c-=N,a.add(m)});f=!1})).next(()=>s-c)}it(t,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,s).next(c=>this.localStore.localDocuments.getNextDocuments(t,s,c,a).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(t,m).next(()=>this.rt(c,f)).next(N=>(Nt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(t,s,N))).next(()=>m.size)}))}rt(t,s){let a=t;return s.changes.forEach((c,f)=>{const m=Fc(f);rc(m,a)>0&&(a=m)}),new Qs(a.readTime,a.documentKey,Math.max(s.batchId,t.largestBatchId))}}let Ji=(()=>{class i{constructor(s,a){this.previousValue=s,a&&(a.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>a.writeSequenceNumber(c))}ot(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.ut&&this.ut(s),s}}return i.ct=-1,i})();function S(i){return null==i}function x(i){return 0===i&&1/i==-1/0}function R(i){let t="";for(let s=0;s<i.length;s++)t.length>0&&(t=le(t)),t=G(i.get(s),t);return le(t)}function G(i,t){let s=t;const a=i.length;for(let c=0;c<a;c++){const f=i.charAt(c);switch(f){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=f}}return s}function le(i){return i+"\x01\x01"}function pe(i){const t=i.length;if(te(t>=2),2===t)return te("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Kr.emptyPath();const s=t-2,a=[];let c="";for(let f=0;f<t;){const m=i.indexOf("\x01",f);switch((m<0||m>s)&&V(),i.charAt(m+1)){case"\x01":const N=i.substring(f,m);let j;0===c.length?j=N:(c+=N,j=c,c=""),a.push(j);break;case"\x10":c+=i.substring(f,m),c+="\0";break;case"\x11":c+=i.substring(f,m+1);break;default:V()}f=m+2}return new Kr(a)}const at=["userId","batchId"];function We(i,t){return[i,R(t)]}function $t(i,t,s){return[i,R(t),s]}const Gn={},Hn=["prefixPath","collectionGroup","readTime","documentId"],Xr=["prefixPath","collectionGroup","documentId"],Xs=["collectionGroup","readTime","prefixPath","documentId"],Oi=["canonicalId","targetId"],ba=["targetId","path"],qo=["path","targetId"],Wi=["collectionId","parent"],ic=["indexId","uid"],Qa=["uid","sequenceNumber"],xd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oc=["indexId","uid","orderedDocumentKey"],Lc=["userId","collectionPath","documentId"],ac=["userId","collectionPath","largestBatchId"],Vc=["userId","collectionGroup","largestBatchId"],lc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ma=[...lc,"documentOverlays"],Uc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rl=Uc,Ll=[...rl,"indexConfiguration","indexState","indexEntries"];class Qn extends La{constructor(t,s){super(),this.ht=t,this.currentSequenceNumber=s}}function Ti(i,t){const s=Le(i);return Va.M(s.ht,t)}function yu(i){let t=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t++;return t}function la(i,t){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t(s,i[s])}function Xa(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Bs{constructor(t,s){this.comparator=t,this.root=s||eo.EMPTY}insert(t,s){return new Bs(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,eo.BLACK,null,null))}remove(t){return new Bs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,eo.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(0===a)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(t){let s=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(t,a.key);if(0===c)return s+a.left.size;c<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,a)=>(t(s,a),!1))}toString(){const t=[];return this.inorderTraversal((s,a)=>(t.push(`${s}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gl(this.root,t,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gl(this.root,t,this.comparator,!0)}}class gl{constructor(t,s,a,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=s?a(t.key,s):1,s&&c&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class eo{constructor(t,s,a,c,f){this.key=t,this.value=s,this.color=a??eo.RED,this.left=c??eo.EMPTY,this.right=f??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,a,c,f){return new eo(t??this.key,s??this.value,a??this.color,c??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,a){let c=this;const f=a(t,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(t,s,a),null):0===f?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(t,s,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let a,c=this;if(s(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,s),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===s(t,c.key)){if(c.right.isEmpty())return eo.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,s))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const t=this.left.check();if(t!==this.right.check())throw V();return t+(this.isRed()?0:1)}}eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(i,t,s,a,c){return this}insert(i,t,s){return new eo(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class js{constructor(t){this.comparator=t,this.data=new Bs(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,a)=>(t(s),!1))}forEachInRange(t,s){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,t[1])>=0)return;s(c.key)}}forEachWhile(t,s){let a;for(a=void 0!==s?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new ml(this.data.getIterator())}getIteratorFrom(t){return new ml(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(a=>{s=s.add(a)}),s}isEqual(t){if(!(t instanceof js)||this.size!==t.size)return!1;const s=this.data.getIterator(),a=t.data.getIterator();for(;s.hasNext();){const c=s.getNext().key,f=a.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new js(this.comparator);return s.data=t,s}}class ml{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cc(i){return i.hasNext()?i.getNext():void 0}class wo{constructor(t){this.fields=t,t.sort(os.comparator)}static empty(){return new wo([])}unionWith(t){let s=new js(os.comparator);for(const a of this.fields)s=s.add(a);for(const a of t)s=s.add(a);return new wo(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Bo(this.fields,t.fields,(s,a)=>s.isEqual(a))}}class Bc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class to{constructor(t){this.binaryString=t}static fromBase64String(t){const s=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Bc("Invalid base64 string: "+c):c}}(t);return new to(s)}static fromUint8Array(t){const s=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(t);return new to(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ln(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}to.EMPTY_BYTE_STRING=new to("");const ht=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yn(i){if(te(!!i),"string"==typeof i){let t=0;const s=ht.exec(i);if(te(!!s),s[1]){let c=s[1];c=(c+"000000000").substr(0,9),t=Number(c)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:$s(i.seconds),nanos:$s(i.nanos)}}function $s(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function qa(i){return"string"==typeof i?to.fromBase64String(i):to.fromUint8Array(i)}function ur(i){var t,s;return"server_timestamp"===(null===(s=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function sl(i){const t=i.mapValue.fields.__previous_value__;return ur(t)?sl(t):t}function ca(i){const t=yn(i.mapValue.fields.__local_write_time__.timestampValue);return new us(t.seconds,t.nanos)}class ua{constructor(t,s,a,c,f,m,N,j,X){this.databaseId=t,this.appId=s,this.persistenceKey=a,this.host=c,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=N,this.longPollingOptions=j,this.useFetchStreams=X}}class il{constructor(t,s){this.projectId=t,this.database=s||"(default)"}static empty(){return new il("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof il&&t.projectId===this.projectId&&t.database===this.database}}const no={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uc={nullValue:"NULL_VALUE"};function Ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ur(i)?4:hc(i)?9007199254740991:10:V()}function Aa(i,t){if(i===t)return!0;const s=Ua(i);if(s!==Ua(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ca(i).isEqual(ca(t));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=yn(a.timestampValue),m=yn(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return c=t,qa(i.bytesValue).isEqual(qa(c.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(a,c){return $s(a.geoPointValue.latitude)===$s(c.geoPointValue.latitude)&&$s(a.geoPointValue.longitude)===$s(c.geoPointValue.longitude)}(i,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return $s(a.integerValue)===$s(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=$s(a.doubleValue),m=$s(c.doubleValue);return f===m?x(f)===x(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return Bo(i.arrayValue.values||[],t.arrayValue.values||[],Aa);case 10:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(yu(f)!==yu(m))return!1;for(const N in f)if(f.hasOwnProperty(N)&&(void 0===m[N]||!Aa(f[N],m[N])))return!1;return!0}(i,t);default:return V()}var c}function yl(i,t){return void 0!==(i.values||[]).find(s=>Aa(s,t))}function Si(i,t){if(i===t)return 0;const s=Ua(i),a=Ua(t);if(s!==a)return ln(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return ln(i.booleanValue,t.booleanValue);case 2:return function(c,f){const m=$s(c.integerValue||c.doubleValue),N=$s(f.integerValue||f.doubleValue);return m<N?-1:m>N?1:m===N?0:isNaN(m)?isNaN(N)?0:-1:1}(i,t);case 3:return Vl(i.timestampValue,t.timestampValue);case 4:return Vl(ca(i),ca(t));case 5:return ln(i.stringValue,t.stringValue);case 6:return function(c,f){const m=qa(c),N=qa(f);return m.compareTo(N)}(i.bytesValue,t.bytesValue);case 7:return function(c,f){const m=c.split("/"),N=f.split("/");for(let j=0;j<m.length&&j<N.length;j++){const X=ln(m[j],N[j]);if(0!==X)return X}return ln(m.length,N.length)}(i.referenceValue,t.referenceValue);case 8:return function(c,f){const m=ln($s(c.latitude),$s(f.latitude));return 0!==m?m:ln($s(c.longitude),$s(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(c,f){const m=c.values||[],N=f.values||[];for(let j=0;j<m.length&&j<N.length;++j){const X=Si(m[j],N[j]);if(X)return X}return ln(m.length,N.length)}(i.arrayValue,t.arrayValue);case 10:return function(c,f){if(c===no.mapValue&&f===no.mapValue)return 0;if(c===no.mapValue)return 1;if(f===no.mapValue)return-1;const m=c.fields||{},N=Object.keys(m),j=f.fields||{},X=Object.keys(j);N.sort(),X.sort();for(let ce=0;ce<N.length&&ce<X.length;++ce){const Ae=ln(N[ce],X[ce]);if(0!==Ae)return Ae;const rt=Si(m[N[ce]],j[X[ce]]);if(0!==rt)return rt}return ln(N.length,X.length)}(i.mapValue,t.mapValue);default:throw V()}}function Vl(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return ln(i,t);const s=yn(i),a=yn(t),c=ln(s.seconds,a.seconds);return 0!==c?c:ln(s.nanos,a.nanos)}function Ni(i){return da(i)}function da(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const c=yn(a);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?qa(i.bytesValue).toBase64():"referenceValue"in i?en.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(a){let c="[",f=!0;for(const m of a.values||[])f?f=!1:c+=",",c+=da(m);return c+"]"}(i.arrayValue):"mapValue"in i?function(a){const c=Object.keys(a.fields||{}).sort();let f="{",m=!0;for(const N of c)m?m=!1:f+=",",f+=`${N}:${da(a.fields[N])}`;return f+"}"}(i.mapValue):V();var t}function ro(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Oa(i){return!!i&&"integerValue"in i}function vl(i){return!!i&&"arrayValue"in i}function _l(i){return!!i&&"nullValue"in i}function vu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function El(i){return!!i&&"mapValue"in i}function Ul(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return la(i.mapValue.fields,(s,a)=>t.mapValue.fields[s]=Ul(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=Ul(i.arrayValue.values[s]);return t}return Object.assign({},i)}function hc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function fc(i){return"nullValue"in i?uc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ro(il.empty(),en.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:V()}function _u(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ro(il.empty(),en.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?no:V()}function Eu(i,t){const s=Si(i.value,t.value);return 0!==s?s:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function zu(i,t){const s=Si(i.value,t.value);return 0!==s?s:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class uo{constructor(t){this.value=t}static empty(){return new uo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let a=0;a<t.length-1;++a)if(s=(s.mapValue.fields||{})[t.get(a)],!El(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(s)}setAll(t){let s=os.emptyPath(),a={},c=[];t.forEach((m,N)=>{if(!s.isImmediateParentOf(N)){const j=this.getFieldsMap(s);this.applyChanges(j,a,c),a={},c=[],s=N.popLast()}m?a[N.lastSegment()]=Ul(m):c.push(N.lastSegment())});const f=this.getFieldsMap(s);this.applyChanges(f,a,c)}delete(t){const s=this.field(t.popLast());El(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return Aa(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<t.length;++a){let c=s.mapValue.fields[t.get(a)];El(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},s.mapValue.fields[t.get(a)]=c),s=c}return s.mapValue.fields}applyChanges(t,s,a){la(s,(c,f)=>t[c]=f);for(const c of a)delete t[c]}clone(){return new uo(Ul(this.value))}}function Gu(i){const t=[];return la(i.fields,(s,a)=>{const c=new os([s]);if(El(a)){const f=Gu(a.mapValue).fields;if(0===f.length)t.push(c);else for(const m of f)t.push(c.child(m))}else t.push(c)}),new wo(t)}class Hs{constructor(t,s,a,c,f,m,N){this.key=t,this.documentType=s,this.version=a,this.readTime=c,this.createTime=f,this.data=m,this.documentState=N}static newInvalidDocument(t){return new Hs(t,0,tn.min(),tn.min(),tn.min(),uo.empty(),0)}static newFoundDocument(t,s,a,c){return new Hs(t,1,s,tn.min(),a,c,0)}static newNoDocument(t,s){return new Hs(t,2,s,tn.min(),tn.min(),uo.empty(),0)}static newUnknownDocument(t,s){return new Hs(t,3,s,tn.min(),tn.min(),uo.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=uo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Hs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ol{constructor(t,s){this.position=t,this.inclusive=s}}function Qu(i,t,s){let a=0;for(let c=0;c<i.position.length;c++){const f=t[c],m=i.position[c];if(a=f.field.isKeyField()?en.comparator(en.fromName(m.referenceValue),s.key):Si(m,s.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return a}function Du(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Aa(i.position[s],t.position[s]))return!1;return!0}class Bl{constructor(t,s="asc"){this.field=t,this.dir=s}}function Ri(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class al{}class hn extends al{constructor(t,s,a){super(),this.field=t,this.op=s,this.value=a}static create(t,s,a){return t.isKeyField()?"in"===s||"not-in"===s?this.createKeyFieldInFilter(t,s,a):new jc(t,s,a):"array-contains"===s?new qu(t,a):"in"===s?new wu(t,a):"not-in"===s?new yc(t,a):"array-contains-any"===s?new ll(t,a):new hn(t,s,a)}static createKeyFieldInFilter(t,s,a){return"in"===s?new Dl(t,a):new mc(t,a)}matches(t){const s=t.data.field(this.field);return"!="===this.op?null!==s&&this.matchesComparison(Si(s,this.value)):null!==s&&Ua(this.value)===Ua(s)&&this.matchesComparison(Si(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jr extends al{constructor(t,s){super(),this.filters=t,this.op=s,this.lt=null}static create(t,s){return new jr(t,s)}matches(t){return pc(this)?void 0===this.filters.find(s=>!s.matches(t)):void 0!==this.filters.find(s=>s.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(s=>s.isInequality());return null!==t?t.field:null}ft(t){for(const s of this.getFlattenedFilters())if(t(s))return s;return null}}function pc(i){return"and"===i.op}function jl(i){return"or"===i.op}function $l(i){return Fd(i)&&pc(i)}function Fd(i){for(const t of i.filters)if(t instanceof jr)return!1;return!0}function ha(i){if(i instanceof hn)return i.field.canonicalString()+i.op.toString()+Ni(i.value);if($l(i))return i.filters.map(t=>ha(t)).join(",");{const t=i.filters.map(s=>ha(s)).join(",");return`${i.op}(${t})`}}function gc(i,t){return i instanceof hn?(s=i,(a=t)instanceof hn&&s.op===a.op&&s.field.isEqual(a.field)&&Aa(s.value,a.value)):i instanceof jr?function(s,a){return a instanceof jr&&s.op===a.op&&s.filters.length===a.filters.length&&s.filters.reduce((c,f,m)=>c&&gc(f,a.filters[m]),!0)}(i,t):void V();var s,a}function fa(i,t){const s=i.filters.concat(t);return jr.create(s,i.op)}function Xu(i){return i instanceof hn?`${(t=i).field.canonicalString()} ${t.op} ${Ni(t.value)}`:i instanceof jr?function(t){return t.op.toString()+" {"+t.getFilters().map(Xu).join(" ,")+"}"}(i):"Filter";var t}class jc extends hn{constructor(t,s,a){super(t,s,a),this.key=en.fromName(a.referenceValue)}matches(t){const s=en.comparator(t.key,this.key);return this.matchesComparison(s)}}class Dl extends hn{constructor(t,s){super(t,"in",s),this.keys=wl(0,s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class mc extends hn{constructor(t,s){super(t,"not-in",s),this.keys=wl(0,s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function wl(i,t){var s;return((null===(s=t.arrayValue)||void 0===s?void 0:s.values)||[]).map(a=>en.fromName(a.referenceValue))}class qu extends hn{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return vl(s)&&yl(s.arrayValue,this.value)}}class wu extends hn{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return null!==s&&yl(this.value.arrayValue,s)}}class yc extends hn{constructor(t,s){super(t,"not-in",s)}matches(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return null!==s&&!yl(this.value.arrayValue,s)}}class ll extends hn{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!vl(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>yl(this.value.arrayValue,a))}}class Cl{constructor(t,s=null,a=[],c=[],f=null,m=null,N=null){this.path=t,this.collectionGroup=s,this.orderBy=a,this.filters=c,this.limit=f,this.startAt=m,this.endAt=N,this.dt=null}}function Cu(i,t=null,s=[],a=[],c=null,f=null,m=null){return new Cl(i,t,s,a,c,f,m)}function pa(i){const t=Le(i);if(null===t.dt){let s=t.path.canonicalString();null!==t.collectionGroup&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(a=>ha(a)).join(","),s+="|ob:",s+=t.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),S(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Ni(a)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Ni(a)).join(",")),t.dt=s}return t.dt}function Hl(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!Ri(i.orderBy[s],t.orderBy[s]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!gc(i.filters[s],t.filters[s]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Du(i.startAt,t.startAt)&&Du(i.endAt,t.endAt)}function vc(i){return en.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function $c(i,t){return i.filters.filter(s=>s instanceof hn&&s.field.isEqual(t))}function Co(i,t,s){let a=uc,c=!0;for(const f of $c(i,t)){let m=uc,N=!0;switch(f.op){case"<":case"<=":m=fc(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,N=!1;break;case"!=":case"not-in":m=uc}Eu({value:a,inclusive:c},{value:m,inclusive:N})<0&&(a=m,c=N)}if(null!==s)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(t)){const m=s.position[f];Eu({value:a,inclusive:c},{value:m,inclusive:s.inclusive})<0&&(a=m,c=s.inclusive);break}return{value:a,inclusive:c}}function Iu(i,t,s){let a=no,c=!0;for(const f of $c(i,t)){let m=no,N=!0;switch(f.op){case">=":case">":m=_u(f.value),N=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,N=!1;break;case"!=":case"not-in":m=no}zu({value:a,inclusive:c},{value:m,inclusive:N})>0&&(a=m,c=N)}if(null!==s)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(t)){const m=s.position[f];zu({value:a,inclusive:c},{value:m,inclusive:s.inclusive})>0&&(a=m,c=s.inclusive);break}return{value:a,inclusive:c}}class $o{constructor(t,s=null,a=[],c=[],f=null,m="F",N=null,j=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=c,this.limit=f,this.limitType=m,this.startAt=N,this.endAt=j,this.wt=null,this._t=null}}function ho(i){return new $o(i)}function cl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ga(i){const t=Le(i);if(null===t.wt){t.wt=[];const s=function Tu(i){for(const t of i.filters){const s=t.getFirstInequalityField();if(null!==s)return s}return null}(t),a=function ul(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(t);if(null!==s&&null===a)s.isKeyField()||t.wt.push(new Bl(s)),t.wt.push(new Bl(os.keyField(),"asc"));else{let c=!1;for(const f of t.explicitOrderBy)t.wt.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Bl(os.keyField(),f))}}}return t.wt}function Io(i){const t=Le(i);if(!t._t)if("F"===t.limitType)t._t=Cu(t.path,t.collectionGroup,ga(t),t.filters,t.limit,t.startAt,t.endAt);else{const s=[];for(const f of ga(t))s.push(new Bl(f.field,"desc"===f.dir?"asc":"desc"));const a=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;t._t=Cu(t.path,t.collectionGroup,s,t.filters,t.limit,a,c)}return t._t}function Kl(i,t,s){return new $o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,s,i.startAt,i.endAt)}function Il(i,t){return Hl(Io(i),Io(t))&&i.limitType===t.limitType}function Ah(i){return`${pa(Io(i))}|lt:${i.limitType}`}function Hc(i){return`Query(target=${function(t){let s=t.path.canonicalString();return null!==t.collectionGroup&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Xu(a)).join(", ")}]`),S(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Ni(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Ni(a)).join(",")),`Target(${s})`}(Io(i))}; limitType=${i.limitType})`}function Tl(i,t){return t.isFoundDocument()&&function(s,a){const c=a.key.path;return null!==s.collectionGroup?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):en.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,t)&&function(s,a){for(const c of ga(s))if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(i,t)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,t)&&(a=t,!((s=i).startAt&&!function(c,f,m){const N=Qu(c,f,m);return c.inclusive?N<=0:N<0}(s.startAt,ga(s),a)||s.endAt&&!function(c,f,m){const N=Qu(c,f,m);return c.inclusive?N>=0:N>0}(s.endAt,ga(s),a)));var s,a}function Ec(i){return(t,s)=>{let a=!1;for(const c of ga(i)){const f=Dc(c,t,s);if(0!==f)return f;a=a||c.field.isKeyField()}return 0}}function Dc(i,t,s){const a=i.field.isKeyField()?en.comparator(t.key,s.key):function(c,f,m){const N=f.data.field(c),j=m.data.field(c);return null!==N&&null!==j?Si(N,j):V()}(i.field,t,s);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return V()}}class ja{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),a=this.inner[s];if(void 0!==a)for(const[c,f]of a)if(this.equalsFn(c,t))return f}has(t){return void 0!==this.get(t)}set(t,s){const a=this.mapKeyFn(t),c=this.inner[a];if(void 0===c)return this.inner[a]=[[t,s]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],t))return void(c[f]=[t,s]);c.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),a=this.inner[s];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return 1===a.length?delete this.inner[s]:a.splice(c,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,(s,a)=>{for(const[c,f]of a)t(c,f)})}isEmpty(){return Xa(this.inner)}size(){return this.innerSize}}const Na=new Bs(en.comparator);function ma(){return Na}const bu=new Bs(en.comparator);function wc(...i){let t=bu;for(const s of i)t=t.insert(s.key,s);return t}function Yu(i){let t=bu;return i.forEach((s,a)=>t=t.insert(s,a.overlayedDocument)),t}function Ki(){return zl()}function Wc(){return zl()}function zl(){return new ja(i=>i.toString(),(i,t)=>i.isEqual(t))}const Zu=new Bs(en.comparator),Of=new js(en.comparator);function lr(...i){let t=Of;for(const s of i)t=t.add(s);return t}const Oh=new js(ln);function Kc(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x(t)?"-0":t}}function zc(i){return{integerValue:""+i}}function Nh(i,t){return function A(i){return"number"==typeof i&&Number.isInteger(i)&&!x(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(t)?zc(t):Kc(i,t)}class Cc{constructor(){this._=void 0}}function Rh(i,t,s){return i instanceof Rs?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&ur(c)&&(c=sl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(s,t):i instanceof Ic?Mu(i,t):i instanceof bl?ed(i,t):function(a,c){const f=Sl(a,c),m=I(f)+I(a.gt);return Oa(f)&&Oa(a.gt)?zc(m):Kc(a.serializer,m)}(i,t)}function dl(i,t,s){return i instanceof Ic?Mu(i,t):i instanceof bl?ed(i,t):s}function Sl(i,t){return i instanceof Tc?Oa(s=t)||(a=s)&&"doubleValue"in a?t:{integerValue:0}:null;var a,s}class Rs extends Cc{}class Ic extends Cc{constructor(t){super(),this.elements=t}}function Mu(i,t){const s=D(t);for(const a of i.elements)s.some(c=>Aa(c,a))||s.push(a);return{arrayValue:{values:s}}}class bl extends Cc{constructor(t){super(),this.elements=t}}function ed(i,t){let s=D(t);for(const a of i.elements)s=s.filter(c=>!Aa(c,a));return{arrayValue:{values:s}}}class Tc extends Cc{constructor(t,s){super(),this.serializer=t,this.gt=s}}function I(i){return $s(i.integerValue||i.doubleValue)}function D(i){return vl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class y{constructor(t,s){this.field=t,this.transform=s}}class B{constructor(t,s){this.version=t,this.transformResults=s}}class Z{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new Z}static exists(t){return new Z(void 0,t)}static updateTime(t){return new Z(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ge(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class ve{}function $e(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new Rr(i.key,Z.none()):new cn(i.key,i.data,Z.none());{const s=i.data,a=uo.empty();let c=new js(os.comparator);for(let f of t.fields)if(!c.has(f)){let m=s.field(f);null===m&&f.length>1&&(f=f.popLast(),m=s.field(f)),null===m?a.delete(f):a.set(f,m),c=c.add(f)}return new xt(i.key,a,new wo(c.toArray()),Z.none())}}function Ue(i,t,s){i instanceof cn?function(a,c,f){const m=a.value.clone(),N=tr(a.fieldTransforms,c,f.transformResults);m.setAll(N),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,s):i instanceof xt?function(a,c,f){if(!ge(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=tr(a.fieldTransforms,c,f.transformResults),N=c.data;N.setAll(zt(a)),N.setAll(m),c.convertToFoundDocument(f.version,N).setHasCommittedMutations()}(i,t,s):t.convertToNoDocument(s.version).setHasCommittedMutations()}function Ot(i,t,s,a){return i instanceof cn?function(c,f,m,N){if(!ge(c.precondition,f))return m;const j=c.value.clone(),X=bn(c.fieldTransforms,N,f);return j.setAll(X),f.convertToFoundDocument(f.version,j).setHasLocalMutations(),null}(i,t,s,a):i instanceof xt?function(c,f,m,N){if(!ge(c.precondition,f))return m;const j=bn(c.fieldTransforms,N,f),X=f.data;return X.setAll(zt(c)),X.setAll(j),f.convertToFoundDocument(f.version,X).setHasLocalMutations(),null===m?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ce=>ce.field))}(i,t,s,a):(m=s,ge(i.precondition,f=t)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m);var f,m}function _t(i,t){let s=null;for(const a of i.fieldTransforms){const c=t.data.field(a.field),f=Sl(a.transform,c||null);null!=f&&(null===s&&(s=uo.empty()),s.set(a.field,f))}return s||null}function rn(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(a=t.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===a||s&&a&&Bo(s,a,(c,f)=>function b(i,t){return i.field.isEqual(t.field)&&(a=t.transform,(s=i.transform)instanceof Ic&&a instanceof Ic||s instanceof bl&&a instanceof bl?Bo(s.elements,a.elements,Aa):s instanceof Tc&&a instanceof Tc?Aa(s.gt,a.gt):s instanceof Rs&&a instanceof Rs);var s,a}(c,f))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var s,a}class cn extends ve{constructor(t,s,a,c=[]){super(),this.key=t,this.value=s,this.precondition=a,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class xt extends ve{constructor(t,s,a,c,f=[]){super(),this.key=t,this.data=s,this.fieldMask=a,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function zt(i){const t=new Map;return i.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=i.data.field(s);t.set(s,a)}}),t}function tr(i,t,s){const a=new Map;te(i.length===s.length);for(let c=0;c<s.length;c++){const f=i[c],m=f.transform,N=t.data.field(f.field);a.set(f.field,dl(m,N,s[c]))}return a}function bn(i,t,s){const a=new Map;for(const c of i){const f=c.transform,m=s.data.field(c.field);a.set(c.field,Rh(f,m,t))}return a}class Rr extends ve{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ws extends ve{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dr{constructor(t,s,a,c){this.batchId=t,this.localWriteTime=s,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(t,s){const a=s.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(t.key)&&Ue(f,t,a[c])}}applyToLocalView(t,s){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(s=Ot(a,t,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(s=Ot(a,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const a=Wc();return this.mutations.forEach(c=>{const f=t.get(c.key),m=f.overlayedDocument;let N=this.applyToLocalView(m,f.mutatedFields);N=s.has(c.key)?null:N;const j=$e(m,N);null!==j&&a.set(c.key,j),m.isValidDocument()||m.convertToNoDocument(tn.min())}),a}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),lr())}isEqual(t){return this.batchId===t.batchId&&Bo(this.mutations,t.mutations,(s,a)=>rn(s,a))&&Bo(this.baseMutations,t.baseMutations,(s,a)=>rn(s,a))}}class vs{constructor(t,s,a,c){this.batch=t,this.commitVersion=s,this.mutationResults=a,this.docVersions=c}static from(t,s,a){te(t.mutations.length===a.length);let c=Zu;const f=t.mutations;for(let m=0;m<f.length;m++)c=c.insert(f[m].key,a[m].version);return new vs(t,s,a,c)}}class hr{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qs{constructor(t,s){this.count=t,this.unchangedNames=s}}var $r,mr;function p(i){if(void 0===i)return O("GRPC error has no .code"),xe.UNKNOWN;switch(i){case $r.OK:return xe.OK;case $r.CANCELLED:return xe.CANCELLED;case $r.UNKNOWN:return xe.UNKNOWN;case $r.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case $r.INTERNAL:return xe.INTERNAL;case $r.UNAVAILABLE:return xe.UNAVAILABLE;case $r.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case $r.NOT_FOUND:return xe.NOT_FOUND;case $r.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case $r.ABORTED:return xe.ABORTED;case $r.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case $r.DATA_LOSS:return xe.DATA_LOSS;default:return V()}}(mr=$r||($r={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";class h{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return d}static getOrCreateInstance(){return null===d&&(d=new h),d}onExistenceFilterMismatch(t){const s=Symbol();return this.onExistenceFilterMismatchCallbacks.set(s,t),()=>this.onExistenceFilterMismatchCallbacks.delete(s)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(s=>s(t))}}let d=null;const M=new Ms([4294967295,4294967295],0);function k(i){const t=function _(){return new TextEncoder}().encode(i),s=new Hi;return s.update(t),new Uint8Array(s.digest())}function $(i){const t=new DataView(i.buffer),s=t.getUint32(0,!0),a=t.getUint32(4,!0),c=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new Ms([s,a],0),new Ms([c,f],0)]}class ae{constructor(t,s,a){if(this.bitmap=t,this.padding=s,this.hashCount=a,s<0||s>=8)throw new Ee(`Invalid padding: ${s}`);if(a<0)throw new Ee(`Invalid hash count: ${a}`);if(t.length>0&&0===this.hashCount)throw new Ee(`Invalid hash count: ${a}`);if(0===t.length&&0!==s)throw new Ee(`Invalid padding when bitmap length is 0: ${s}`);this.It=8*t.length-s,this.Tt=Ms.fromNumber(this.It)}Et(t,s,a){let c=t.add(s.multiply(Ms.fromNumber(a)));return 1===c.compare(M)&&(c=new Ms([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const s=k(t),[a,c]=$(s);for(let f=0;f<this.hashCount;f++){const m=this.Et(a,c,f);if(!this.At(m))return!1}return!0}static create(t,s,a){const c=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),m=new ae(f,c,s);return a.forEach(N=>m.insert(N)),m}insert(t){if(0===this.It)return;const s=k(t),[a,c]=$(s);for(let f=0;f<this.hashCount;f++){const m=this.Et(a,c,f);this.Rt(m)}}Rt(t){const s=Math.floor(t/8);this.bitmap[s]|=1<<t%8}}class Ee extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ne{constructor(t,s,a,c,f){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,s,a){const c=new Map;return c.set(t,ut.createSynthesizedTargetChangeForCurrentChange(t,s,a)),new Ne(tn.min(),c,new Bs(ln),ma(),lr())}}class ut{constructor(t,s,a,c,f){this.resumeToken=t,this.current=s,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,s,a){return new ut(a,s,lr(),lr(),lr())}}class gt{constructor(t,s,a,c){this.Pt=t,this.removedTargetIds=s,this.key=a,this.bt=c}}class mt{constructor(t,s){this.targetId=t,this.Vt=s}}class Wt{constructor(t,s,a=to.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=s,this.resumeToken=a,this.cause=c}}class Fn{constructor(){this.St=0,this.Dt=fo(),this.Ct=to.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=lr(),s=lr(),a=lr();return this.Dt.forEach((c,f)=>{switch(f){case 0:t=t.add(c);break;case 2:s=s.add(c);break;case 1:a=a.add(c);break;default:V()}}),new ut(this.Ct,this.xt,t,s,a)}Ft(){this.Nt=!1,this.Dt=fo()}Bt(t,s){this.Nt=!0,this.Dt=this.Dt.insert(t,s)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zn{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ma(),this.zt=di(),this.Wt=new Bs(ln)}Ht(t){for(const s of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(s,t.bt):this.Yt(s,t.key,t.bt);for(const s of t.removedTargetIds)this.Yt(s,t.key,t.bt)}Xt(t){this.forEachTarget(t,s=>{const a=this.Zt(s);switch(t.state){case 0:this.te(s)&&a.$t(t.resumeToken);break;case 1:a.Ut(),a.kt||a.Ft(),a.$t(t.resumeToken);break;case 2:a.Ut(),a.kt||this.removeTarget(s);break;case 3:this.te(s)&&(a.Kt(),a.$t(t.resumeToken));break;case 4:this.te(s)&&(this.ee(s),a.$t(t.resumeToken));break;default:V()}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.Qt.forEach((a,c)=>{this.te(c)&&s(c)})}ne(t){var s;const a=t.targetId,c=t.Vt.count,f=this.se(a);if(f){const m=f.target;if(vc(m))if(0===c){const N=new en(m.path);this.Yt(a,N,Hs.newNoDocument(N,tn.min()))}else te(1===c);else{const N=this.ie(a);if(N!==c){const j=this.re(t,N);0!==j&&(this.ee(a),this.Wt=this.Wt.insert(a,2===j?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(s=h.instance)||void 0===s||s.notifyOnExistenceFilterMismatch(function(X,ce,Ae){var rt,It,Zt,un,pn,Pr;const Ds={localCacheCount:ce,existenceFilterCount:Ae.count},Hr=Ae.unchangedNames;return Hr&&(Ds.bloomFilter={applied:0===X,hashCount:null!==(rt=Hr?.hashCount)&&void 0!==rt?rt:0,bitmapLength:null!==(un=null===(Zt=null===(It=Hr?.bits)||void 0===It?void 0:It.bitmap)||void 0===Zt?void 0:Zt.length)&&void 0!==un?un:0,padding:null!==(Pr=null===(pn=Hr?.bits)||void 0===pn?void 0:pn.padding)&&void 0!==Pr?Pr:0}),Ds}(j,N,t.Vt))}}}}re(t,s){const{unchangedNames:a,count:c}=t.Vt;if(!a||!a.bits)return 1;const{bits:{bitmap:f="",padding:m=0},hashCount:N=0}=a;let j,X;try{j=qa(f).toUint8Array()}catch(ce){if(ce instanceof Bc)return Y("Decoding the base64 bloom filter in existence filter failed ("+ce.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ce}try{X=new ae(j,m,N)}catch(ce){return Y(ce instanceof Ee?"BloomFilter error: ":"Applying bloom filter failed: ",ce),1}return 0===X.It?1:c!==s-this.oe(t.targetId,X)?2:0}oe(t,s){const a=this.Gt.getRemoteKeysForTarget(t);let c=0;return a.forEach(f=>{const m=this.Gt.ue(),N=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;s.vt(N)||(this.Yt(t,f,null),c++)}),c}ce(t){const s=new Map;this.Qt.forEach((f,m)=>{const N=this.se(m);if(N){if(f.current&&vc(N.target)){const j=new en(N.target.path);null!==this.jt.get(j)||this.ae(m,j)||this.Yt(m,j,Hs.newNoDocument(j,t))}f.Mt&&(s.set(m,f.Ot()),f.Ft())}});let a=lr();this.zt.forEach((f,m)=>{let N=!0;m.forEachWhile(j=>{const X=this.se(j);return!X||"TargetPurposeLimboResolution"===X.purpose||(N=!1,!1)}),N&&(a=a.add(f))}),this.jt.forEach((f,m)=>m.setReadTime(t));const c=new Ne(t,s,this.Wt,this.jt,a);return this.jt=ma(),this.zt=di(),this.Wt=new Bs(ln),c}Jt(t,s){if(!this.te(t))return;const a=this.ae(t,s.key)?2:0;this.Zt(t).Bt(s.key,a),this.jt=this.jt.insert(s.key,s),this.zt=this.zt.insert(s.key,this.he(s.key).add(t))}Yt(t,s,a){if(!this.te(t))return;const c=this.Zt(t);this.ae(t,s)?c.Bt(s,1):c.Lt(s),this.zt=this.zt.insert(s,this.he(s).delete(t)),a&&(this.jt=this.jt.insert(s,a))}removeTarget(t){this.Qt.delete(t)}ie(t){const s=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let s=this.Qt.get(t);return s||(s=new Fn,this.Qt.set(t,s)),s}he(t){let s=this.zt.get(t);return s||(s=new js(ln),this.zt=this.zt.insert(t,s)),s}te(t){const s=null!==this.se(t);return s||Nt("WatchChangeAggregator","Detected inactive target",t),s}se(t){const s=this.Qt.get(t);return s&&s.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Fn),this.Gt.getRemoteKeysForTarget(t).forEach(s=>{this.Yt(t,s,null)})}ae(t,s){return this.Gt.getRemoteKeysForTarget(t).has(s)}}function di(){return new Bs(en.comparator)}function fo(){return new Bs(en.comparator)}const hl={asc:"ASCENDING",desc:"DESCENDING"},Sc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nf={and:"AND",or:"OR"};class Jp{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function eg(i,t){return i.useProto3Json||S(t)?t:{value:t}}function kd(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tg(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function U_(i,t){return kd(i,t.toTimestamp())}function ti(i){return te(!!i),tn.fromTimestamp(function(t){const s=yn(t);return new us(s.seconds,s.nanos)}(i))}function ng(i,t){return(s=i,new Kr(["projects",s.projectId,"databases",s.database])).child("documents").child(t).canonicalString();var s}function rg(i){const t=Kr.fromString(i);return te(kh(t)),t}function Rf(i,t){return ng(i.databaseId,t.path)}function bc(i,t){const s=rg(t);if(s.get(1)!==i.databaseId.projectId)throw new dt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new dt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new en(dy(s))}function xf(i,t){return ng(i.databaseId,t)}function uy(i){const t=rg(i);return 4===t.length?Kr.emptyPath():dy(t)}function Ph(i){return new Kr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function dy(i){return te(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function td(i,t,s){return{name:Rf(i,t),fields:s.value.mapValue.fields}}function Pf(i,t){let s;if(t instanceof cn)s={update:td(i,t.key,t.value)};else if(t instanceof Rr)s={delete:Rf(i,t.key)};else if(t instanceof xt)s={update:td(i,t.key,t.data),updateMask:kf(t.fieldMask)};else{if(!(t instanceof Ws))return V();s={verify:Rf(i,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(a=>function(c,f){const m=f.transform;if(m instanceof Rs)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ic)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Tc)return{fieldPath:f.field.canonicalString(),increment:m.gt};throw V()}(0,a))),t.precondition.isNone||(s.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:U_(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:V()),s;var c}function py(i,t){const s=t.currentDocument?void 0!==(c=t.currentDocument).updateTime?Z.updateTime(ti(c.updateTime)):void 0!==c.exists?Z.exists(c.exists):Z.none():Z.none(),a=t.updateTransforms?t.updateTransforms.map(c=>function(f,m){let N=null;"setToServerValue"in m?(te("REQUEST_TIME"===m.setToServerValue),N=new Rs):"appendMissingElements"in m?N=new Ic(m.appendMissingElements.values||[]):"removeAllFromArray"in m?N=new bl(m.removeAllFromArray.values||[]):"increment"in m?N=new Tc(f,m.increment):V();const j=os.fromServerFormat(m.fieldPath);return new y(j,N)}(i,c)):[];var c;if(t.update){const c=bc(i,t.update.name),f=new uo({mapValue:{fields:t.update.fields}});if(t.updateMask){const m=new wo((t.updateMask.fieldPaths||[]).map(X=>os.fromServerFormat(X)));return new xt(c,f,m,s,a)}return new cn(c,f,s,a)}if(t.delete){const c=bc(i,t.delete);return new Rr(c,s)}if(t.verify){const c=bc(i,t.verify);return new Ws(c,s)}return V()}function Fh(i,t){return{documents:[xf(i,t.path)]}}function Ff(i,t){const s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(s.parent=xf(i,a),s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s.parent=xf(i,a.popLast()),s.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(j){if(0!==j.length)return ig(jr.create(j,"and"))}(t.filters);c&&(s.structuredQuery.where=c);const f=function(j){if(0!==j.length)return j.map(X=>{return{field:Ml((ce=X).field),direction:B_(ce.dir)};var ce})}(t.orderBy);f&&(s.structuredQuery.orderBy=f);const m=eg(i,t.limit);var N,j;return null!==m&&(s.structuredQuery.limit=m),t.startAt&&(s.structuredQuery.startAt={before:(N=t.startAt).inclusive,values:N.position}),t.endAt&&(s.structuredQuery.endAt={before:!(j=t.endAt).inclusive,values:j.position}),s}function gy(i){let t=uy(i.parent);const s=i.structuredQuery,a=s.from?s.from.length:0;let c=null;if(a>0){te(1===a);const ce=s.from[0];ce.allDescendants?c=ce.collectionId:t=t.child(ce.collectionId)}let f=[];s.where&&(f=function(ce){const Ae=Ud(ce);return Ae instanceof jr&&$l(Ae)?Ae.getFilters():[Ae]}(s.where));let m=[];s.orderBy&&(m=s.orderBy.map(ce=>{return new Bl(Mc((Ae=ce).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let N=null;s.limit&&(N=function(ce){let Ae;return Ae="object"==typeof ce?ce.value:ce,S(Ae)?null:Ae}(s.limit));let j=null;var ce;s.startAt&&(j=new ol((ce=s.startAt).values||[],!!ce.before));let X=null;return s.endAt&&(X=function(ce){return new ol(ce.values||[],!ce.before)}(s.endAt)),function _c(i,t,s,a,c,f,m,N){return new $o(i,t,s,a,c,f,m,N)}(t,c,m,f,N,"F",j,X)}function Ud(i){return void 0!==i.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Mc(t.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Mc(t.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Mc(t.unaryFilter.field);return hn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Mc(t.unaryFilter.field);return hn.create(f,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(i):void 0!==i.fieldFilter?hn.create(Mc((t=i).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==i.compositeFilter?function(t){return jr.create(t.compositeFilter.filters.map(s=>Ud(s)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return V()}}(t.compositeFilter.op))}(i):V();var t}function B_(i){return hl[i]}function sg(i){return Sc[i]}function yy(i){return Nf[i]}function Ml(i){return{fieldPath:i.canonicalString()}}function Mc(i){return os.fromServerFormat(i.fieldPath)}function ig(i){return i instanceof hn?function(t){if("=="===t.op){if(vu(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(_l(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vu(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(_l(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:sg(t.op),value:t.value}}}(i):i instanceof jr?function(t){const s=t.getFilters().map(a=>ig(a));return 1===s.length?s[0]:{compositeFilter:{op:yy(t.op),filters:s}}}(i):V()}function kf(i){const t=[];return i.fields.forEach(s=>t.push(s.canonicalString())),{fieldPaths:t}}function kh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Gc{constructor(t,s,a,c,f=tn.min(),m=tn.min(),N=to.EMPTY_BYTE_STRING,j=null){this.target=t,this.targetId=s,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=N,this.expectedCount=j}withSequenceNumber(t){return new Gc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class vy{constructor(t){this.fe=t}}function og(i,t){const s=t.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Bd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())a.document={name:Rf(c=i.fe,(f=t).key),fields:f.data.value.mapValue.fields,updateTime:kd(c,f.version.toTimestamp()),createTime:kd(c,f.createTime.toTimestamp())};else if(t.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:nd(t.version)};else{if(!t.isUnknownDocument())return V();a.unknownDocument={path:s.path.toArray(),version:nd(t.version)}}var c,f;return a}function Bd(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function nd(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rd(i){const t=new us(i.seconds,i.nanoseconds);return tn.fromTimestamp(t)}function To(i,t){const s=(t.baseMutations||[]).map(f=>py(i.fe,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const a=t.mutations.map(f=>py(i.fe,f)),c=us.fromMillis(t.localWriteTimeMs);return new dr(t.batchId,c,s,a)}function sd(i){const t=rd(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?rd(i.lastLimboFreeSnapshotVersion):tn.min();let a;var c;return void 0!==i.query.documents?(te(1===(c=i.query).documents.length),a=Io(ho(uy(c.documents[0])))):a=Io(gy(i.query)),new Gc(a,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,s,to.fromBase64String(i.resumeToken))}function ag(i,t){const s=nd(t.snapshotVersion),a=nd(t.lastLimboFreeSnapshotVersion);let c;c=vc(t.target)?Fh(i.fe,t.target):Ff(i.fe,t.target);const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:pa(t.target),readTime:s,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:c}}function jd(i){const t=gy({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Kl(t,t.limit,"L"):t}function _y(i,t){return new hr(t.largestBatchId,py(i.fe,t.overlayMutation))}function $_(i,t){const s=t.path.lastSegment();return[i,R(t.path.popLast()),s]}function $a(i,t,s,a){return{indexId:i,uid:t.uid||"",sequenceNumber:s,readTime:nd(a.readTime),documentKey:R(a.documentKey.path),largestBatchId:a.largestBatchId}}class $d{getBundleMetadata(t,s){return Lf(t).get(s).next(a=>{if(a)return{id:(c=a).bundleId,createTime:rd(c.createTime),version:c.version};var c})}saveBundleMetadata(t,s){return Lf(t).put({bundleId:(a=s).id,createTime:nd(ti(a.createTime)),version:a.version});var a}getNamedQuery(t,s){return lg(t).get(s).next(a=>{if(a)return{name:(c=a).name,query:jd(c.bundledQuery),readTime:rd(c.readTime)};var c})}saveNamedQuery(t,s){return lg(t).put({name:(a=s).name,readTime:nd(ti(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Lf(i){return Ti(i,"bundles")}function lg(i){return Ti(i,"namedQueries")}class Vf{constructor(t,s){this.serializer=t,this.userId=s}static de(t,s){return new Vf(t,s.uid||"")}getOverlay(t,s){return Hd(t).get($_(this.userId,s)).next(a=>a?_y(this.serializer,a):null)}getOverlays(t,s){const a=Ki();return nt.forEach(s,c=>this.getOverlay(t,c).next(f=>{null!==f&&a.set(c,f)})).next(()=>a)}saveOverlays(t,s,a){const c=[];return a.forEach((f,m)=>{const N=new hr(s,m);c.push(this.we(t,N))}),nt.waitFor(c)}removeOverlaysForBatchId(t,s,a){const c=new Set;s.forEach(m=>c.add(R(m.getCollectionPath())));const f=[];return c.forEach(m=>{const N=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,a+1],!1,!0);f.push(Hd(t).J("collectionPathOverlayIndex",N))}),nt.waitFor(f)}getOverlaysForCollection(t,s,a){const c=Ki(),f=R(s),m=IDBKeyRange.bound([this.userId,f,a],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Hd(t).j("collectionPathOverlayIndex",m).next(N=>{for(const j of N){const X=_y(this.serializer,j);c.set(X.getKey(),X)}return c})}getOverlaysForCollectionGroup(t,s,a,c){const f=Ki();let m;const N=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hd(t).X({index:"collectionGroupOverlayIndex",range:N},(j,X,ce)=>{const Ae=_y(this.serializer,X);f.size()<c||Ae.largestBatchId===m?(f.set(Ae.getKey(),Ae),m=Ae.largestBatchId):ce.done()}).next(()=>f)}we(t,s){return Hd(t).put(function(a,c,f){const[m,N,j]=$_(c,f.mutation.key);return{userId:c,collectionPath:N,documentId:j,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Pf(a.fe,f.mutation)}}(this.serializer,this.userId,s))}}function Hd(i){return Ti(i,"documentOverlays")}class id{constructor(){}_e(t,s){this.me(t,s),s.ge()}me(t,s){if("nullValue"in t)this.ye(s,5);else if("booleanValue"in t)this.ye(s,10),s.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(s,15),s.pe($s(t.integerValue));else if("doubleValue"in t){const a=$s(t.doubleValue);isNaN(a)?this.ye(s,13):(this.ye(s,15),x(a)?s.pe(0):s.pe(a))}else if("timestampValue"in t){const a=t.timestampValue;this.ye(s,20),"string"==typeof a?s.Ie(a):(s.Ie(`${a.seconds||""}`),s.pe(a.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,s),this.Ee(s);else if("bytesValue"in t)this.ye(s,30),s.Ae(qa(t.bytesValue)),this.Ee(s);else if("referenceValue"in t)this.ve(t.referenceValue,s);else if("geoPointValue"in t){const a=t.geoPointValue;this.ye(s,45),s.pe(a.latitude||0),s.pe(a.longitude||0)}else"mapValue"in t?hc(t)?this.ye(s,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,s),this.Ee(s)):"arrayValue"in t?(this.Pe(t.arrayValue,s),this.Ee(s)):V()}Te(t,s){this.ye(s,25),this.be(t,s)}be(t,s){s.Ie(t)}Re(t,s){const a=t.fields||{};this.ye(s,55);for(const c of Object.keys(a))this.Te(c,s),this.me(a[c],s)}Pe(t,s){const a=t.values||[];this.ye(s,50);for(const c of a)this.me(c,s)}ve(t,s){this.ye(s,37),en.fromName(t).path.forEach(a=>{this.ye(s,60),this.be(a,s)})}ye(t,s){t.pe(s)}Ee(t){t.pe(2)}}function Ey(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function Dy(i){const t=64-function(s){let a=0;for(let c=0;c<8;++c){const f=Ey(255&s[c]);if(a+=f,8!==f)break}return a}(i);return Math.ceil(t/8)}id.Ve=new id;class wy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const s=t[Symbol.iterator]();let a=s.next();for(;!a.done;)this.De(a.value),a=s.next();this.Ce()}xe(t){const s=t[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ne(a.value),a=s.next();this.ke()}Me(t){for(const s of t){const a=s.charCodeAt(0);if(a<128)this.De(a);else if(a<2048)this.De(960|a>>>6),this.De(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.De(480|a>>>12),this.De(128|63&a>>>6),this.De(128|63&a);else{const c=s.codePointAt(0);this.De(240|c>>>18),this.De(128|63&c>>>12),this.De(128|63&c>>>6),this.De(128|63&c)}}this.Ce()}$e(t){for(const s of t){const a=s.charCodeAt(0);if(a<128)this.Ne(a);else if(a<2048)this.Ne(960|a>>>6),this.Ne(128|63&a);else if(s<"\ud800"||"\udbff"<s)this.Ne(480|a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a);else{const c=s.codePointAt(0);this.Ne(240|c>>>18),this.Ne(128|63&c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c)}}this.ke()}Oe(t){const s=this.Fe(t),a=Dy(s);this.Be(1+a),this.buffer[this.position++]=255&a;for(let c=s.length-a;c<s.length;++c)this.buffer[this.position++]=255&s[c]}Le(t){const s=this.Fe(t),a=Dy(s);this.Be(1+a),this.buffer[this.position++]=~(255&a);for(let c=s.length-a;c<s.length;++c)this.buffer[this.position++]=~(255&s[c])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const s=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(t),a=!!(128&s[0]);s[0]^=a?255:128;for(let c=1;c<s.length;++c)s[c]^=a?255:0;return s}De(t){const s=255&t;0===s?(this.Ue(0),this.Ue(255)):255===s?(this.Ue(255),this.Ue(0)):this.Ue(s)}Ne(t){const s=255&t;0===s?(this.Ge(0),this.Ge(255)):255===s?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const s=t+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const c=new Uint8Array(a);c.set(this.buffer),this.buffer=c}}class H_{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class W_{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Lh{constructor(){this.je=new wy,this.ze=new H_(this.je),this.We=new W_(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class od{constructor(t,s,a,c){this.indexId=t,this.documentKey=s,this.arrayValue=a,this.directionalValue=c}Je(){const t=this.directionalValue.length,s=0===t||255===this.directionalValue[t-1]?t+1:t,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==t?a.set([0],this.directionalValue.length):++a[a.length-1],new od(this.indexId,this.documentKey,this.arrayValue,a)}}function Qc(i,t){let s=i.indexId-t.indexId;return 0!==s?s:(s=cg(i.arrayValue,t.arrayValue),0!==s?s:(s=cg(i.directionalValue,t.directionalValue),0!==s?s:en.comparator(i.documentKey,t.documentKey)))}function cg(i,t){for(let s=0;s<i.length&&s<t.length;++s){const a=i[s]-t[s];if(0!==a)return a}return i.length-t.length}class Cy{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const s of t.filters){const a=s;a.isInequality()?this.Ze=a:this.Xe.push(a)}}tn(t){te(t.collectionGroup===this.collectionId);const s=Wa(t);if(void 0!==s&&!this.en(s))return!1;const a=Fl(t);let c=new Set,f=0,m=0;for(;f<a.length&&this.en(a[f]);++f)c=c.add(a[f].fieldPath.canonicalString());if(f===a.length)return!0;if(void 0!==this.Ze){if(!c.has(this.Ze.field.canonicalString())){const N=a[f];if(!this.nn(this.Ze,N)||!this.sn(this.Ye[m++],N))return!1}++f}for(;f<a.length;++f)if(m>=this.Ye.length||!this.sn(this.Ye[m++],a[f]))return!1;return!0}en(t){for(const s of this.Xe)if(this.nn(s,t))return!0;return!1}nn(t,s){return!(void 0===t||!t.field.isEqual(s.fieldPath))&&2===s.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,s){return!!t.field.isEqual(s.fieldPath)&&(0===s.kind&&"asc"===t.dir||1===s.kind&&"desc"===t.dir)}}function Vh(i){var t,s;if(te(i instanceof hn||i instanceof jr),i instanceof hn){if(i instanceof wu){const c=(null===(s=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===s?void 0:s.map(f=>hn.create(i.field,"==",f)))||[];return jr.create(c,"or")}return i}const a=i.filters.map(c=>Vh(c));return jr.create(a,i.op)}function Iy(i){if(0===i.getFilters().length)return[];const t=dg(Vh(i));return te(ug(t)),Uf(t)||Bf(t)?[t]:t.getFilters()}function Uf(i){return i instanceof hn}function Bf(i){return i instanceof jr&&$l(i)}function ug(i){return Uf(i)||Bf(i)||function(t){if(t instanceof jr&&jl(t)){for(const s of t.getFilters())if(!Uf(s)&&!Bf(s))return!1;return!0}return!1}(i)}function dg(i){if(te(i instanceof hn||i instanceof jr),i instanceof hn)return i;if(1===i.filters.length)return dg(i.filters[0]);const t=i.filters.map(a=>dg(a));let s=jr.create(t,i.op);return s=jf(s),ug(s)?s:(te(s instanceof jr),te(pc(s)),te(s.filters.length>1),s.filters.reduce((a,c)=>hg(a,c)))}function hg(i,t){let s;return te(i instanceof hn||i instanceof jr),te(t instanceof hn||t instanceof jr),s=i instanceof hn?t instanceof hn?jr.create([i,t],"and"):Ty(i,t):t instanceof hn?Ty(t,i):function(a,c){if(te(a.filters.length>0&&c.filters.length>0),pc(a)&&pc(c))return fa(a,c.getFilters());const f=jl(a)?a:c,m=jl(a)?c:a,N=f.filters.map(j=>hg(j,m));return jr.create(N,"or")}(i,t),jf(s)}function Ty(i,t){if(pc(t))return fa(t,i.getFilters());{const s=t.filters.map(a=>hg(i,a));return jr.create(s,"or")}}function jf(i){if(te(i instanceof hn||i instanceof jr),i instanceof hn)return i;const t=i.getFilters();if(1===t.length)return jf(t[0]);if(Fd(i))return i;const s=t.map(c=>jf(c)),a=[];return s.forEach(c=>{c instanceof hn?a.push(c):c instanceof jr&&(c.op===i.op?a.push(...c.filters):a.push(c))}),1===a.length?a[0]:jr.create(a,i.op)}class Sy{constructor(){this.rn=new by}addToCollectionParentIndex(t,s){return this.rn.add(s),nt.resolve()}getCollectionParents(t,s){return nt.resolve(this.rn.getEntries(s))}addFieldIndex(t,s){return nt.resolve()}deleteFieldIndex(t,s){return nt.resolve()}getDocumentsMatchingTarget(t,s){return nt.resolve(null)}getIndexType(t,s){return nt.resolve(0)}getFieldIndexes(t,s){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,s){return nt.resolve(Qs.min())}getMinOffsetFromCollectionGroup(t,s){return nt.resolve(Qs.min())}updateCollectionGroup(t,s,a){return nt.resolve()}updateIndexEntries(t,s){return nt.resolve()}}class by{constructor(){this.index={}}add(t){const s=t.lastSegment(),a=t.popLast(),c=this.index[s]||new js(Kr.comparator),f=!c.has(a);return this.index[s]=c.add(a),f}has(t){const s=t.lastSegment(),a=t.popLast(),c=this.index[s];return c&&c.has(a)}getEntries(t){return(this.index[t]||new js(Kr.comparator)).toArray()}}const Uh=new Uint8Array(0);class K_{constructor(t,s){this.user=t,this.databaseId=s,this.on=new by,this.un=new ja(a=>pa(a),(a,c)=>Hl(a,c)),this.uid=t.uid||""}addToCollectionParentIndex(t,s){if(!this.on.has(s)){const a=s.lastSegment(),c=s.popLast();t.addOnCommittedListener(()=>{this.on.add(s)});const f={collectionId:a,parent:R(c)};return My(t).put(f)}return nt.resolve()}getCollectionParents(t,s){const a=[],c=IDBKeyRange.bound([s,""],[Us(s),""],!1,!0);return My(t).j(c).next(f=>{for(const m of f){if(m.collectionId!==s)break;a.push(pe(m.parent))}return a})}addFieldIndex(t,s){const a=Hf(t),c={indexId:(m=s).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var m;delete c.indexId;const f=a.add(c);if(s.indexState){const m=Wd(t);return f.next(N=>{m.put($a(N,this.user,s.indexState.sequenceNumber,s.indexState.offset))})}return f.next()}deleteFieldIndex(t,s){const a=Hf(t),c=Wd(t),f=$f(t);return a.delete(s.indexId).next(()=>c.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,s){const a=$f(t);let c=!0;const f=new Map;return nt.forEach(this.cn(s),m=>this.an(t,m).next(N=>{c&&(c=!!N),f.set(m,N)})).next(()=>{if(c){let m=lr();const N=[];return nt.forEach(f,(j,X)=>{var ce;Nt("IndexedDbIndexManager",`Using index ${ce=j,`id=${ce.indexId}|cg=${ce.collectionGroup}|f=${ce.fields.map(Hr=>`${Hr.fieldPath}:${Hr.kind}`).join(",")}`} to execute ${pa(s)}`);const Ae=function(Hr,so){const go=Wa(so);if(void 0===go)return null;for(const fi of $c(Hr,go.fieldPath))switch(fi.op){case"array-contains-any":return fi.value.arrayValue.values||[];case"array-contains":return[fi.value]}return null}(X,j),rt=function(Hr,so){const go=new Map;for(const fi of Fl(so))for(const Ha of $c(Hr,fi.fieldPath))switch(Ha.op){case"==":case"in":go.set(fi.fieldPath.canonicalString(),Ha.value);break;case"not-in":case"!=":return go.set(fi.fieldPath.canonicalString(),Ha.value),Array.from(go.values())}return null}(X,j),It=function(Hr,so){const go=[];let fi=!0;for(const Ha of Fl(so)){const Jl=0===Ha.kind?Co(Hr,Ha.fieldPath,Hr.startAt):Iu(Hr,Ha.fieldPath,Hr.startAt);go.push(Jl.value),fi&&(fi=Jl.inclusive)}return new ol(go,fi)}(X,j),Zt=function(Hr,so){const go=[];let fi=!0;for(const Ha of Fl(so)){const Jl=0===Ha.kind?Iu(Hr,Ha.fieldPath,Hr.endAt):Co(Hr,Ha.fieldPath,Hr.endAt);go.push(Jl.value),fi&&(fi=Jl.inclusive)}return new ol(go,fi)}(X,j),un=this.hn(j,X,It),pn=this.hn(j,X,Zt),Pr=this.ln(j,X,rt),Ds=this.fn(j.indexId,Ae,un,It.inclusive,pn,Zt.inclusive,Pr);return nt.forEach(Ds,Hr=>a.H(Hr,s.limit).next(so=>{so.forEach(go=>{const fi=en.fromSegments(go.documentKey);m.has(fi)||(m=m.add(fi),N.push(fi))})}))}).next(()=>N)}return nt.resolve(null)})}cn(t){let s=this.un.get(t);return s||(s=0===t.filters.length?[t]:Iy(jr.create(t.filters,"and")).map(a=>Cu(t.path,t.collectionGroup,t.orderBy,a.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,s),s)}fn(t,s,a,c,f,m,N){const j=(null!=s?s.length:1)*Math.max(a.length,f.length),X=j/(null!=s?s.length:1),ce=[];for(let Ae=0;Ae<j;++Ae){const rt=s?this.dn(s[Ae/X]):Uh,It=this.wn(t,rt,a[Ae%X],c),Zt=this._n(t,rt,f[Ae%X],m),un=N.map(pn=>this.wn(t,rt,pn,!0));ce.push(...this.createRange(It,Zt,un))}return ce}wn(t,s,a,c){const f=new od(t,en.empty(),s,a);return c?f:f.Je()}_n(t,s,a,c){const f=new od(t,en.empty(),s,a);return c?f.Je():f}an(t,s){const a=new Cy(s),c=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(t,c).next(f=>{let m=null;for(const N of f)a.tn(N)&&(!m||N.fields.length>m.fields.length)&&(m=N);return m})}getIndexType(t,s){let a=2;const c=this.cn(s);return nt.forEach(c,f=>this.an(t,f).next(m=>{m?0!==a&&m.fields.length<function(N){let j=new js(os.comparator),X=!1;for(const ce of N.filters)for(const Ae of ce.getFlattenedFilters())Ae.field.isKeyField()||("array-contains"===Ae.op||"array-contains-any"===Ae.op?X=!0:j=j.add(Ae.field));for(const ce of N.orderBy)ce.field.isKeyField()||(j=j.add(ce.field));return j.size+(X?1:0)}(f)&&(a=1):a=0})).next(()=>null!==s.limit&&c.length>1&&2===a?1:a)}mn(t,s){const a=new Lh;for(const c of Fl(t)){const f=s.data.field(c.fieldPath);if(null==f)return null;const m=a.He(c.kind);id.Ve._e(f,m)}return a.Qe()}dn(t){const s=new Lh;return id.Ve._e(t,s.He(0)),s.Qe()}gn(t,s){const a=new Lh;return id.Ve._e(ro(this.databaseId,s),a.He(function(c){const f=Fl(c);return 0===f.length?0:f[f.length-1].kind}(t))),a.Qe()}ln(t,s,a){if(null===a)return[];let c=[];c.push(new Lh);let f=0;for(const m of Fl(t)){const N=a[f++];for(const j of c)if(this.yn(s,m.fieldPath)&&vl(N))c=this.pn(c,m,N);else{const X=j.He(m.kind);id.Ve._e(N,X)}}return this.In(c)}hn(t,s,a){return this.ln(t,s,a.position)}In(t){const s=[];for(let a=0;a<t.length;++a)s[a]=t[a].Qe();return s}pn(t,s,a){const c=[...t],f=[];for(const m of a.arrayValue.values||[])for(const N of c){const j=new Lh;j.seed(N.Qe()),id.Ve._e(m,j.He(s.kind)),f.push(j)}return f}yn(t,s){return!!t.filters.find(a=>a instanceof hn&&a.field.isEqual(s)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(t,s){const a=Hf(t),c=Wd(t);return(s?a.j("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.j()).next(f=>{const m=[];return nt.forEach(f,N=>c.get([N.indexId,this.uid]).next(j=>{m.push(function(X,ce){const Ae=ce?new el(ce.sequenceNumber,new Qs(rd(ce.readTime),new en(pe(ce.documentKey)),ce.largestBatchId)):el.empty(),rt=X.fields.map(([It,Zt])=>new kl(os.fromServerFormat(It),Zt));return new Ja(X.indexId,X.collectionGroup,rt,Ae)}(N,j))})).next(()=>m)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(s=>0===s.length?null:(s.sort((a,c)=>{const f=a.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==f?f:ln(a.collectionGroup,c.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(t,s,a){const c=Hf(t),f=Wd(t);return this.Tn(t).next(m=>c.j("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(N=>nt.forEach(N,j=>f.put($a(j.indexId,this.user,m,a)))))}updateIndexEntries(t,s){const a=new Map;return nt.forEach(s,(c,f)=>{const m=a.get(c.collectionGroup);return(m?nt.resolve(m):this.getFieldIndexes(t,c.collectionGroup)).next(N=>(a.set(c.collectionGroup,N),nt.forEach(N,j=>this.En(t,c,j).next(X=>{const ce=this.An(f,j);return X.isEqual(ce)?nt.resolve():this.vn(t,f,j,X,ce)}))))})}Rn(t,s,a,c){return $f(t).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.gn(a,s.key),documentKey:s.key.path.toArray()})}Pn(t,s,a,c){return $f(t).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.gn(a,s.key),s.key.path.toArray()])}En(t,s,a){const c=$f(t);let f=new js(Qc);return c.X({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.gn(a,s)])},(m,N)=>{f=f.add(new od(a.indexId,s,N.arrayValue,N.directionalValue))}).next(()=>f)}An(t,s){let a=new js(Qc);const c=this.mn(s,t);if(null==c)return a;const f=Wa(s);if(null!=f){const m=t.data.field(f.fieldPath);if(vl(m))for(const N of m.arrayValue.values||[])a=a.add(new od(s.indexId,t.key,this.dn(N),c))}else a=a.add(new od(s.indexId,t.key,Uh,c));return a}vn(t,s,a,c,f){Nt("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const m=[];return function(N,j,X,ce,Ae){const rt=N.getIterator(),It=j.getIterator();let Zt=cc(rt),un=cc(It);for(;Zt||un;){let pn=!1,Pr=!1;if(Zt&&un){const Ds=X(Zt,un);Ds<0?Pr=!0:Ds>0&&(pn=!0)}else null!=Zt?Pr=!0:pn=!0;pn?(ce(un),un=cc(It)):Pr?(Ae(Zt),Zt=cc(rt)):(Zt=cc(rt),un=cc(It))}}(c,f,Qc,N=>{m.push(this.Rn(t,s,a,N))},N=>{m.push(this.Pn(t,s,a,N))}),nt.waitFor(m)}Tn(t){let s=1;return Wd(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,f)=>{f.done(),s=c.sequenceNumber+1}).next(()=>s)}createRange(t,s,a){a=a.sort((m,N)=>Qc(m,N)).filter((m,N,j)=>!N||0!==Qc(m,j[N-1]));const c=[];c.push(t);for(const m of a){const N=Qc(m,t),j=Qc(m,s);if(0===N)c[0]=t.Je();else if(N>0&&j<0)c.push(m),c.push(m.Je());else if(j>0)break}c.push(s);const f=[];for(let m=0;m<c.length;m+=2){if(this.bn(c[m],c[m+1]))return[];f.push(IDBKeyRange.bound([c[m].indexId,this.uid,c[m].arrayValue,c[m].directionalValue,Uh,[]],[c[m+1].indexId,this.uid,c[m+1].arrayValue,c[m+1].directionalValue,Uh,[]]))}return f}bn(t,s){return Qc(t,s)>0}getMinOffsetFromCollectionGroup(t,s){return this.getFieldIndexes(t,s).next(Wf)}getMinOffset(t,s){return nt.mapArray(this.cn(s),a=>this.an(t,a).next(c=>c||V())).next(Wf)}}function My(i){return Ti(i,"collectionParents")}function $f(i){return Ti(i,"indexEntries")}function Hf(i){return Ti(i,"indexConfiguration")}function Wd(i){return Ti(i,"indexState")}function Wf(i){te(0!==i.length);let t=i[0].indexState.offset,s=t.largestBatchId;for(let a=1;a<i.length;a++){const c=i[a].indexState.offset;rc(c,t)<0&&(t=c),s<c.largestBatchId&&(s=c.largestBatchId)}return new Qs(t.readTime,t.documentKey,s)}const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xi{constructor(t,s,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(t){return new xi(t,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ad(i,t,s){const a=i.store("mutations"),c=i.store("documentMutations"),f=[],m=IDBKeyRange.only(s.batchId);let N=0;const j=a.X({range:m},(ce,Ae,rt)=>(N++,rt.delete()));f.push(j.next(()=>{te(1===N)}));const X=[];for(const ce of s.mutations){const Ae=$t(t,ce.key.path,s.batchId);f.push(c.delete(Ae)),X.push(ce.key)}return nt.waitFor(f).next(()=>X)}function Kf(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw V();t=i.noDocument}return JSON.stringify(t).length}xi.DEFAULT_COLLECTION_PERCENTILE=10,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xi.DEFAULT=new xi(41943040,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xi.DISABLED=new xi(-1,0,0);class Kd{constructor(t,s,a,c){this.userId=t,this.serializer=s,this.indexManager=a,this.referenceDelegate=c,this.Vn={}}static de(t,s,a,c){te(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new Kd(f,s,a,c)}checkEmpty(t){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ld(t).X({index:"userMutationsIndex",range:a},(c,f,m)=>{s=!1,m.done()}).next(()=>s)}addMutationBatch(t,s,a,c){const f=zd(t),m=ld(t);return m.add({}).next(N=>{te("number"==typeof N);const j=new dr(N,s,a,c),X=function(rt,It,Zt){const un=Zt.baseMutations.map(Pr=>Pf(rt.fe,Pr)),pn=Zt.mutations.map(Pr=>Pf(rt.fe,Pr));return{userId:It,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:un,mutations:pn}}(this.serializer,this.userId,j),ce=[];let Ae=new js((rt,It)=>ln(rt.canonicalString(),It.canonicalString()));for(const rt of c){const It=$t(this.userId,rt.key.path,N);Ae=Ae.add(rt.key.path.popLast()),ce.push(m.put(X)),ce.push(f.put(It,Gn))}return Ae.forEach(rt=>{ce.push(this.indexManager.addToCollectionParentIndex(t,rt))}),t.addOnCommittedListener(()=>{this.Vn[N]=j.keys()}),nt.waitFor(ce).next(()=>j)})}lookupMutationBatch(t,s){return ld(t).get(s).next(a=>a?(te(a.userId===this.userId),To(this.serializer,a)):null)}Sn(t,s){return this.Vn[s]?nt.resolve(this.Vn[s]):this.lookupMutationBatch(t,s).next(a=>{if(a){const c=a.keys();return this.Vn[s]=c,c}return null})}getNextMutationBatchAfterBatchId(t,s){const a=s+1,c=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return ld(t).X({index:"userMutationsIndex",range:c},(m,N,j)=>{N.userId===this.userId&&(te(N.batchId>=a),f=To(this.serializer,N)),j.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ld(t).X({index:"userMutationsIndex",range:s,reverse:!0},(c,f,m)=>{a=f.batchId,m.done()}).next(()=>a)}getAllMutationBatches(t){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ld(t).j("userMutationsIndex",s).next(a=>a.map(c=>To(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(t,s){const a=We(this.userId,s.path),c=IDBKeyRange.lowerBound(a),f=[];return zd(t).X({range:c},(m,N,j)=>{const[X,ce,Ae]=m,rt=pe(ce);if(X===this.userId&&s.path.isEqual(rt))return ld(t).get(Ae).next(It=>{if(!It)throw V();te(It.userId===this.userId),f.push(To(this.serializer,It))});j.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,s){let a=new js(ln);const c=[];return s.forEach(f=>{const m=We(this.userId,f.path),N=IDBKeyRange.lowerBound(m),j=zd(t).X({range:N},(X,ce,Ae)=>{const[rt,It,Zt]=X,un=pe(It);rt===this.userId&&f.path.isEqual(un)?a=a.add(Zt):Ae.done()});c.push(j)}),nt.waitFor(c).next(()=>this.Dn(t,a))}getAllMutationBatchesAffectingQuery(t,s){const a=s.path,c=a.length+1,f=We(this.userId,a),m=IDBKeyRange.lowerBound(f);let N=new js(ln);return zd(t).X({range:m},(j,X,ce)=>{const[Ae,rt,It]=j,Zt=pe(rt);Ae===this.userId&&a.isPrefixOf(Zt)?Zt.length===c&&(N=N.add(It)):ce.done()}).next(()=>this.Dn(t,N))}Dn(t,s){const a=[],c=[];return s.forEach(f=>{c.push(ld(t).get(f).next(m=>{if(null===m)throw V();te(m.userId===this.userId),a.push(To(this.serializer,m))}))}),nt.waitFor(c).next(()=>a)}removeMutationBatch(t,s){return ad(t.ht,this.userId,s).next(a=>(t.addOnCommittedListener(()=>{this.Cn(s.batchId)}),nt.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(t,c))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(s=>{if(!s)return nt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),c=[];return zd(t).X({range:a},(f,m,N)=>{if(f[0]===this.userId){const j=pe(f[1]);c.push(j)}else N.done()}).next(()=>{te(0===c.length)})})}containsKey(t,s){return fg(t,this.userId,s)}xn(t){return Oy(t).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fg(i,t,s){const a=We(t,s.path),c=a[1],f=IDBKeyRange.lowerBound(a);let m=!1;return zd(i).X({range:f,Y:!0},(N,j,X)=>{const[ce,Ae,rt]=N;ce===t&&Ae===c&&(m=!0),X.done()}).next(()=>m)}function ld(i){return Ti(i,"mutations")}function zd(i){return Ti(i,"documentMutations")}function Oy(i){return Ti(i,"mutationQueues")}class Au{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Au(0)}static Mn(){return new Au(-1)}}class Ny{constructor(t,s){this.referenceDelegate=t,this.serializer=s}allocateTargetId(t){return this.$n(t).next(s=>{const a=new Au(s.highestTargetId);return s.highestTargetId=a.next(),this.On(t,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(s=>tn.fromTimestamp(new us(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(t,s,a){return this.$n(t).next(c=>(c.highestListenSequenceNumber=s,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),s>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=s),this.On(t,c)))}addTargetData(t,s){return this.Fn(t,s).next(()=>this.$n(t).next(a=>(a.targetCount+=1,this.Bn(s,a),this.On(t,a))))}updateTargetData(t,s){return this.Fn(t,s)}removeTargetData(t,s){return this.removeMatchingKeysForTargetId(t,s.targetId).next(()=>Bh(t).delete(s.targetId)).next(()=>this.$n(t)).next(a=>(te(a.targetCount>0),a.targetCount-=1,this.On(t,a)))}removeTargets(t,s,a){let c=0;const f=[];return Bh(t).X((m,N)=>{const j=sd(N);j.sequenceNumber<=s&&null===a.get(j.targetId)&&(c++,f.push(this.removeTargetData(t,j)))}).next(()=>nt.waitFor(f)).next(()=>c)}forEachTarget(t,s){return Bh(t).X((a,c)=>{const f=sd(c);s(f)})}$n(t){return Ry(t).get("targetGlobalKey").next(s=>(te(null!==s),s))}On(t,s){return Ry(t).put("targetGlobalKey",s)}Fn(t,s){return Bh(t).put(ag(this.serializer,s))}Bn(t,s){let a=!1;return t.targetId>s.highestTargetId&&(s.highestTargetId=t.targetId,a=!0),t.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t.sequenceNumber,a=!0),a}getTargetCount(t){return this.$n(t).next(s=>s.targetCount)}getTargetData(t,s){const a=pa(s),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return Bh(t).X({range:c,index:"queryTargetsIndex"},(m,N,j)=>{const X=sd(N);Hl(s,X.target)&&(f=X,j.done())}).next(()=>f)}addMatchingKeys(t,s,a){const c=[],f=Ya(t);return s.forEach(m=>{const N=R(m.path);c.push(f.put({targetId:a,path:N})),c.push(this.referenceDelegate.addReference(t,a,m))}),nt.waitFor(c)}removeMatchingKeys(t,s,a){const c=Ya(t);return nt.forEach(s,f=>{const m=R(f.path);return nt.waitFor([c.delete([a,m]),this.referenceDelegate.removeReference(t,a,f)])})}removeMatchingKeysForTargetId(t,s){const a=Ya(t),c=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(t,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),c=Ya(t);let f=lr();return c.X({range:a,Y:!0},(m,N,j)=>{const X=pe(m[1]),ce=new en(X);f=f.add(ce)}).next(()=>f)}containsKey(t,s){const a=R(s.path),c=IDBKeyRange.bound([a],[Us(a)],!1,!0);let f=0;return Ya(t).X({index:"documentTargetsIndex",Y:!0,range:c},([m,N],j,X)=>{0!==m&&(f++,X.done())}).next(()=>f>0)}le(t,s){return Bh(t).get(s).next(a=>a?sd(a):null)}}function Bh(i){return Ti(i,"targets")}function Ry(i){return Ti(i,"targetGlobal")}function Ya(i){return Ti(i,"targetDocuments")}function xy([i,t],[s,a]){const c=ln(i,s);return 0===c?ln(t,a):c}class pg{constructor(t){this.Ln=t,this.buffer=new js(xy),this.qn=0}Un(){return++this.qn}Kn(t){const s=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();xy(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class zf{constructor(t,s,a){this.garbageCollector=t,this.asyncQueue=s,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var s=this;Nt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,E.A)(function*(){s.Gn=null;try{yield s.localStore.collectGarbage(s.garbageCollector)}catch(a){za(a)?Nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield oa(a)}yield s.Qn(3e5)}))}}class gg{constructor(t,s){this.jn=t,this.params=s}calculateTargetCount(t,s){return this.jn.zn(t).next(a=>Math.floor(s/100*a))}nthSequenceNumber(t,s){if(0===s)return nt.resolve(Ji.ct);const a=new pg(s);return this.jn.forEachTarget(t,c=>a.Kn(c.sequenceNumber)).next(()=>this.jn.Wn(t,c=>a.Kn(c))).next(()=>a.maxValue)}removeTargets(t,s,a){return this.jn.removeTargets(t,s,a)}removeOrphanedDocuments(t,s){return this.jn.removeOrphanedDocuments(t,s)}collect(t,s){return-1===this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Ay)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.Hn(t,s))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,s){let a,c,f,m,N,j,X;const ce=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),c=this.params.maximumSequenceNumbersToCollect):c=Ae,m=Date.now(),this.nthSequenceNumber(t,c))).next(Ae=>(a=Ae,N=Date.now(),this.removeTargets(t,a,s))).next(Ae=>(f=Ae,j=Date.now(),this.removeOrphanedDocuments(t,a))).next(Ae=>(X=Date.now(),Ii()<=U.$b.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ce}ms\n\tDetermined least recently used ${c} in `+(N-m)+`ms\n\tRemoved ${f} targets in `+(j-N)+`ms\n\tRemoved ${Ae} documents in `+(X-j)+`ms\nTotal Duration: ${X-ce}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:Ae})))}}class Gf{constructor(t,s){this.db=t,this.garbageCollector=function mg(i,t){return new gg(i,t)}(this,s)}zn(t){const s=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(a=>s.next(c=>a+c))}Jn(t){let s=0;return this.Wn(t,a=>{s++}).next(()=>s)}forEachTarget(t,s){return this.db.getTargetCache().forEachTarget(t,s)}Wn(t,s){return this.Yn(t,(a,c)=>s(c))}addReference(t,s,a){return Gd(t,a)}removeReference(t,s,a){return Gd(t,a)}removeTargets(t,s,a){return this.db.getTargetCache().removeTargets(t,s,a)}markPotentiallyOrphaned(t,s){return Gd(t,s)}Xn(t,s){return function(a,c){let f=!1;return Oy(a).Z(m=>fg(a,m,c).next(N=>(N&&(f=!0),nt.resolve(!N)))).next(()=>f)}(t,s)}removeOrphanedDocuments(t,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Yn(t,(m,N)=>{if(N<=s){const j=this.Xn(t,m).next(X=>{if(!X)return f++,a.getEntry(t,m).next(()=>(a.removeEntry(m,tn.min()),Ya(t).delete([0,R(m.path)])))});c.push(j)}}).next(()=>nt.waitFor(c)).next(()=>a.apply(t)).next(()=>f)}removeTarget(t,s){const a=s.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,a)}updateLimboDocument(t,s){return Gd(t,s)}Yn(t,s){const a=Ya(t);let c,f=Ji.ct;return a.X({index:"documentTargetsIndex"},([m,N],{path:j,sequenceNumber:X})=>{0===m?(f!==Ji.ct&&s(new en(pe(c)),f),f=X,c=j):f=Ji.ct}).next(()=>{f!==Ji.ct&&s(new en(pe(c)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Gd(i,t){return Ya(i).put((a=i.currentSequenceNumber,{targetId:0,path:R(t.path),sequenceNumber:a}));var a}class Qd{constructor(){this.changes=new ja(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,Hs.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const a=this.changes.get(s);return void 0!==a?nt.resolve(a):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Qf{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,s,a){return Gl(t).put(a)}removeEntry(t,s,a){return Gl(t).delete(function(c,f){const m=c.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Bd(f),m[m.length-1]]}(s,a))}updateMetadata(t,s){return this.getMetadata(t).next(a=>(a.byteSize+=s,this.Zn(t,a)))}getEntry(t,s){let a=Hs.newInvalidDocument(s);return Gl(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(cd(s))},(c,f)=>{a=this.ts(s,f)}).next(()=>a)}es(t,s){let a={size:0,document:Hs.newInvalidDocument(s)};return Gl(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(cd(s))},(c,f)=>{a={document:this.ts(s,f),size:Kf(f)}}).next(()=>a)}getEntries(t,s){let a=ma();return this.ns(t,s,(c,f)=>{const m=this.ts(c,f);a=a.insert(c,m)}).next(()=>a)}ss(t,s){let a=ma(),c=new Bs(en.comparator);return this.ns(t,s,(f,m)=>{const N=this.ts(f,m);a=a.insert(f,N),c=c.insert(f,Kf(m))}).next(()=>({documents:a,rs:c}))}ns(t,s,a){if(s.isEmpty())return nt.resolve();let c=new js($h);s.forEach(j=>c=c.add(j));const f=IDBKeyRange.bound(cd(c.first()),cd(c.last())),m=c.getIterator();let N=m.getNext();return Gl(t).X({index:"documentKeyIndex",range:f},(j,X,ce)=>{const Ae=en.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;N&&$h(N,Ae)<0;)a(N,null),N=m.getNext();N&&N.isEqual(Ae)&&(a(N,X),N=m.hasNext()?m.getNext():null),N?ce.G(cd(N)):ce.done()}).next(()=>{for(;N;)a(N,null),N=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(t,s,a,c){const f=s.path,m=[f.popLast().toArray(),f.lastSegment(),Bd(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],N=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gl(t).j(IDBKeyRange.bound(m,N,!0)).next(j=>{let X=ma();for(const ce of j){const Ae=this.ts(en.fromSegments(ce.prefixPath.concat(ce.collectionGroup,ce.documentId)),ce);Ae.isFoundDocument()&&(Tl(s,Ae)||c.has(Ae.key))&&(X=X.insert(Ae.key,Ae))}return X})}getAllFromCollectionGroup(t,s,a,c){let f=ma();const m=Xf(s,a),N=Xf(s,Qs.max());return Gl(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,N,!0)},(j,X,ce)=>{const Ae=this.ts(en.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);f=f.insert(Ae.key,Ae),f.size===c&&ce.done()}).next(()=>f)}newChangeBuffer(t){return new yg(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(s=>s.byteSize)}getMetadata(t){return jh(t).get("remoteDocumentGlobalKey").next(s=>(te(!!s),s))}Zn(t,s){return jh(t).put("remoteDocumentGlobalKey",s)}ts(t,s){if(s){const a=function j_(i,t){let s;if(t.document)s=function Ld(i,t,s){const a=bc(i,t.name),c=ti(t.updateTime),f=t.createTime?ti(t.createTime):tn.min(),m=new uo({mapValue:{fields:t.fields}}),N=Hs.newFoundDocument(a,c,f,m);return s&&N.setHasCommittedMutations(),s?N.setHasCommittedMutations():N}(i.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const a=en.fromSegments(t.noDocument.path),c=rd(t.noDocument.readTime);s=Hs.newNoDocument(a,c),t.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!t.unknownDocument)return V();{const a=en.fromSegments(t.unknownDocument.path),c=rd(t.unknownDocument.version);s=Hs.newUnknownDocument(a,c)}}return t.readTime&&s.setReadTime(function(a){const c=new us(a[0],a[1]);return tn.fromTimestamp(c)}(t.readTime)),s}(this.serializer,s);if(!a.isNoDocument()||!a.version.isEqual(tn.min()))return a}return Hs.newInvalidDocument(t)}}function Xc(i){return new Qf(i)}class yg extends Qd{constructor(t,s){super(),this.os=t,this.trackRemovals=s,this.us=new ja(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(t){const s=[];let a=0,c=new js((f,m)=>ln(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const N=this.us.get(f);if(s.push(this.os.removeEntry(t,f,N.readTime)),m.isValidDocument()){const j=og(this.os.serializer,m);c=c.add(f.path.popLast());const X=Kf(j);a+=X-N.size,s.push(this.os.addEntry(t,f,j))}else if(a-=N.size,this.trackRemovals){const j=og(this.os.serializer,m.convertToNoDocument(tn.min()));s.push(this.os.addEntry(t,f,j))}}),c.forEach(f=>{s.push(this.os.indexManager.addToCollectionParentIndex(t,f))}),s.push(this.os.updateMetadata(t,a)),nt.waitFor(s)}getFromCache(t,s){return this.os.es(t,s).next(a=>(this.us.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(t,s){return this.os.ss(t,s).next(({documents:a,rs:c})=>(c.forEach((f,m)=>{this.us.set(f,{size:m,readTime:a.get(f).readTime})}),a))}}function jh(i){return Ti(i,"remoteDocumentGlobal")}function Gl(i){return Ti(i,"remoteDocumentsV14")}function cd(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Xf(i,t){const s=t.documentKey.path.toArray();return[i,Bd(t.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function $h(i,t){const s=i.path.toArray(),a=t.path.toArray();let c=0;for(let f=0;f<s.length-2&&f<a.length-2;++f)if(c=ln(s[f],a[f]),c)return c;return c=ln(s.length,a.length),c||(c=ln(s[s.length-2],a[a.length-2]),c||ln(s[s.length-1],a[a.length-1]))}class Py{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}class qf{constructor(t,s,a,c){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=c}getDocument(t,s){let a=null;return this.documentOverlayCache.getOverlay(t,s).next(c=>(a=c,this.remoteDocumentCache.getEntry(t,s))).next(c=>(null!==a&&Ot(a.mutation,c,wo.empty(),us.now()),c))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(a=>this.getLocalViewOfDocuments(t,a,lr()).next(()=>a))}getLocalViewOfDocuments(t,s,a=lr()){const c=Ki();return this.populateOverlays(t,c,s).next(()=>this.computeViews(t,s,c,a).next(f=>{let m=wc();return f.forEach((N,j)=>{m=m.insert(N,j.overlayedDocument)}),m}))}getOverlayedDocuments(t,s){const a=Ki();return this.populateOverlays(t,a,s).next(()=>this.computeViews(t,s,a,lr()))}populateOverlays(t,s,a){const c=[];return a.forEach(f=>{s.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(t,c).next(f=>{f.forEach((m,N)=>{s.set(m,N)})})}computeViews(t,s,a,c){let f=ma();const m=zl(),N=zl();return s.forEach((j,X)=>{const ce=a.get(X.key);c.has(X.key)&&(void 0===ce||ce.mutation instanceof xt)?f=f.insert(X.key,X):void 0!==ce?(m.set(X.key,ce.mutation.getFieldMask()),Ot(ce.mutation,X,ce.mutation.getFieldMask(),us.now())):m.set(X.key,wo.empty())}),this.recalculateAndSaveOverlays(t,f).next(j=>(j.forEach((X,ce)=>m.set(X,ce)),s.forEach((X,ce)=>{var Ae;return N.set(X,new Py(ce,null!==(Ae=m.get(X))&&void 0!==Ae?Ae:null))}),N))}recalculateAndSaveOverlays(t,s){const a=zl();let c=new Bs((m,N)=>m-N),f=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(m=>{for(const N of m)N.keys().forEach(j=>{const X=s.get(j);if(null===X)return;let ce=a.get(j)||wo.empty();ce=N.applyToLocalView(X,ce),a.set(j,ce);const Ae=(c.get(N.batchId)||lr()).add(j);c=c.insert(N.batchId,Ae)})}).next(()=>{const m=[],N=c.getReverseIterator();for(;N.hasNext();){const j=N.getNext(),X=j.key,ce=j.value,Ae=Wc();ce.forEach(rt=>{if(!f.has(rt)){const It=$e(s.get(rt),a.get(rt));null!==It&&Ae.set(rt,It),f=f.add(rt)}}),m.push(this.documentOverlayCache.saveOverlays(t,X,Ae))}return nt.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,s,a){return en.isDocumentKey((c=s).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(t,s.path):function Ba(i){return null!==i.collectionGroup}(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,a):this.getDocumentsMatchingCollectionQuery(t,s,a);var c}getNextDocuments(t,s,a,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,a,c).next(f=>{const m=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,a.largestBatchId,c-f.size):nt.resolve(Ki());let N=-1,j=f;return m.next(X=>nt.forEach(X,(ce,Ae)=>(N<Ae.largestBatchId&&(N=Ae.largestBatchId),f.get(ce)?nt.resolve():this.remoteDocumentCache.getEntry(t,ce).next(rt=>{j=j.insert(ce,rt)}))).next(()=>this.populateOverlays(t,X,f)).next(()=>this.computeViews(t,j,X,lr())).next(ce=>({batchId:N,changes:Yu(ce)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new en(s)).next(a=>{let c=wc();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}getDocumentsMatchingCollectionGroupQuery(t,s,a){const c=s.collectionGroup;let f=wc();return this.indexManager.getCollectionParents(t,c).next(m=>nt.forEach(m,N=>{const j=(X=s,ce=N.child(c),new $o(ce,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,ce;return this.getDocumentsMatchingCollectionQuery(t,j,a).next(X=>{X.forEach((ce,Ae)=>{f=f.insert(ce,Ae)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,a.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,a,c))).next(f=>{c.forEach((N,j)=>{const X=j.getKey();null===f.get(X)&&(f=f.insert(X,Hs.newInvalidDocument(X)))});let m=wc();return f.forEach((N,j)=>{const X=c.get(N);void 0!==X&&Ot(X.mutation,j,wo.empty(),us.now()),Tl(s,j)&&(m=m.insert(N,j))}),m})}}class jD{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,s){return nt.resolve(this.cs.get(s))}saveBundleMetadata(t,s){var a;return this.cs.set(s.id,{id:(a=s).id,version:a.version,createTime:ti(a.createTime)}),nt.resolve()}getNamedQuery(t,s){return nt.resolve(this.hs.get(s))}saveNamedQuery(t,s){return this.hs.set(s.name,{name:(a=s).name,query:jd(a.bundledQuery),readTime:ti(a.readTime)}),nt.resolve();var a}}class Xd{constructor(){this.overlays=new Bs(en.comparator),this.ls=new Map}getOverlay(t,s){return nt.resolve(this.overlays.get(s))}getOverlays(t,s){const a=Ki();return nt.forEach(s,c=>this.getOverlay(t,c).next(f=>{null!==f&&a.set(c,f)})).next(()=>a)}saveOverlays(t,s,a){return a.forEach((c,f)=>{this.we(t,s,f)}),nt.resolve()}removeOverlaysForBatchId(t,s,a){const c=this.ls.get(a);return void 0!==c&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.ls.delete(a)),nt.resolve()}getOverlaysForCollection(t,s,a){const c=Ki(),f=s.length+1,m=new en(s.child("")),N=this.overlays.getIteratorFrom(m);for(;N.hasNext();){const j=N.getNext().value,X=j.getKey();if(!s.isPrefixOf(X.path))break;X.path.length===f&&j.largestBatchId>a&&c.set(j.getKey(),j)}return nt.resolve(c)}getOverlaysForCollectionGroup(t,s,a,c){let f=new Bs((X,ce)=>X-ce);const m=this.overlays.getIterator();for(;m.hasNext();){const X=m.getNext().value;if(X.getKey().getCollectionGroup()===s&&X.largestBatchId>a){let ce=f.get(X.largestBatchId);null===ce&&(ce=Ki(),f=f.insert(X.largestBatchId,ce)),ce.set(X.getKey(),X)}}const N=Ki(),j=f.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((X,ce)=>N.set(X,ce)),!(N.size()>=c)););return nt.resolve(N)}we(t,s,a){const c=this.overlays.get(a.key);if(null!==c){const m=this.ls.get(c.largestBatchId).delete(a.key);this.ls.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new hr(s,a));let f=this.ls.get(s);void 0===f&&(f=lr(),this.ls.set(s,f)),this.ls.set(s,f.add(a.key))}}class Yf{constructor(){this.fs=new js(Ho.ds),this.ws=new js(Ho._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,s){const a=new Ho(t,s);this.fs=this.fs.add(a),this.ws=this.ws.add(a)}gs(t,s){t.forEach(a=>this.addReference(a,s))}removeReference(t,s){this.ys(new Ho(t,s))}ps(t,s){t.forEach(a=>this.removeReference(a,s))}Is(t){const s=new en(new Kr([])),a=new Ho(s,t),c=new Ho(s,t+1),f=[];return this.ws.forEachInRange([a,c],m=>{this.ys(m),f.push(m.key)}),f}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const s=new en(new Kr([])),a=new Ho(s,t),c=new Ho(s,t+1);let f=lr();return this.ws.forEachInRange([a,c],m=>{f=f.add(m.key)}),f}containsKey(t){const s=new Ho(t,0),a=this.fs.firstAfterOrEqual(s);return null!==a&&t.isEqual(a.key)}}class Ho{constructor(t,s){this.key=t,this.As=s}static ds(t,s){return en.comparator(t.key,s.key)||ln(t.As,s.As)}static _s(t,s){return ln(t.As,s.As)||en.comparator(t.key,s.key)}}class Fy{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.vs=1,this.Rs=new js(Ho.ds)}checkEmpty(t){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,s,a,c){const f=this.vs;this.vs++;const m=new dr(f,s,a,c);this.mutationQueue.push(m);for(const N of c)this.Rs=this.Rs.add(new Ho(N.key,f)),this.indexManager.addToCollectionParentIndex(t,N.key.path.popLast());return nt.resolve(m)}lookupMutationBatch(t,s){return nt.resolve(this.Ps(s))}getNextMutationBatchAfterBatchId(t,s){const c=this.bs(s+1),f=c<0?0:c;return nt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const a=new Ho(s,0),c=new Ho(s,Number.POSITIVE_INFINITY),f=[];return this.Rs.forEachInRange([a,c],m=>{const N=this.Ps(m.As);f.push(N)}),nt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,s){let a=new js(ln);return s.forEach(c=>{const f=new Ho(c,0),m=new Ho(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([f,m],N=>{a=a.add(N.As)})}),nt.resolve(this.Vs(a))}getAllMutationBatchesAffectingQuery(t,s){const a=s.path,c=a.length+1;let f=a;en.isDocumentKey(f)||(f=f.child(""));const m=new Ho(new en(f),0);let N=new js(ln);return this.Rs.forEachWhile(j=>{const X=j.key.path;return!!a.isPrefixOf(X)&&(X.length===c&&(N=N.add(j.As)),!0)},m),nt.resolve(this.Vs(N))}Vs(t){const s=[];return t.forEach(a=>{const c=this.Ps(a);null!==c&&s.push(c)}),s}removeMutationBatch(t,s){te(0===this.Ss(s.batchId,"removed")),this.mutationQueue.shift();let a=this.Rs;return nt.forEach(s.mutations,c=>{const f=new Ho(c.key,s.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.Rs=a})}Cn(t){}containsKey(t,s){const a=new Ho(s,0),c=this.Rs.firstAfterOrEqual(a);return nt.resolve(s.isEqual(c&&c.key))}performConsistencyCheck(t){return nt.resolve()}Ss(t,s){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const s=this.bs(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class vg{constructor(t){this.Ds=t,this.docs=new Bs(en.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const a=s.key,c=this.docs.get(a),f=c?c.size:0,m=this.Ds(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const a=this.docs.get(s);return nt.resolve(a?a.document.mutableCopy():Hs.newInvalidDocument(s))}getEntries(t,s){let a=ma();return s.forEach(c=>{const f=this.docs.get(c);a=a.insert(c,f?f.document.mutableCopy():Hs.newInvalidDocument(c))}),nt.resolve(a)}getDocumentsMatchingQuery(t,s,a,c){let f=ma();const m=s.path,N=new en(m.child("")),j=this.docs.getIteratorFrom(N);for(;j.hasNext();){const{key:X,value:{document:ce}}=j.getNext();if(!m.isPrefixOf(X.path))break;X.path.length>m.length+1||rc(Fc(ce),a)<=0||(c.has(ce.key)||Tl(s,ce))&&(f=f.insert(ce.key,ce.mutableCopy()))}return nt.resolve(f)}getAllFromCollectionGroup(t,s,a,c){V()}Cs(t,s){return nt.forEach(this.docs,a=>s(a))}newChangeBuffer(t){return new ky(this)}getSize(t){return nt.resolve(this.size)}}class ky extends Qd{constructor(t){super(),this.os=t}applyChanges(t){const s=[];return this.changes.forEach((a,c)=>{c.isValidDocument()?s.push(this.os.addEntry(t,c)):this.os.removeEntry(a)}),nt.waitFor(s)}getFromCache(t,s){return this.os.getEntry(t,s)}getAllFromCache(t,s){return this.os.getEntries(t,s)}}class Ly{constructor(t){this.persistence=t,this.xs=new ja(s=>pa(s),Hl),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Yf,this.targetCount=0,this.Ms=Au.kn()}forEachTarget(t,s){return this.xs.forEach((a,c)=>s(c)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Ns&&(this.Ns=s),nt.resolve()}Fn(t){this.xs.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.Ms=new Au(s),this.highestTargetId=s),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,s){return this.Fn(s),this.targetCount+=1,nt.resolve()}updateTargetData(t,s){return this.Fn(s),nt.resolve()}removeTargetData(t,s){return this.xs.delete(s.target),this.ks.Is(s.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,s,a){let c=0;const f=[];return this.xs.forEach((m,N)=>{N.sequenceNumber<=s&&null===a.get(N.targetId)&&(this.xs.delete(m),f.push(this.removeMatchingKeysForTargetId(t,N.targetId)),c++)}),nt.waitFor(f).next(()=>c)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,s){const a=this.xs.get(s)||null;return nt.resolve(a)}addMatchingKeys(t,s,a){return this.ks.gs(s,a),nt.resolve()}removeMatchingKeys(t,s,a){this.ks.ps(s,a);const c=this.persistence.referenceDelegate,f=[];return c&&s.forEach(m=>{f.push(c.markPotentiallyOrphaned(t,m))}),nt.waitFor(f)}removeMatchingKeysForTargetId(t,s){return this.ks.Is(s),nt.resolve()}getMatchingKeysForTargetId(t,s){const a=this.ks.Es(s);return nt.resolve(a)}containsKey(t,s){return nt.resolve(this.ks.containsKey(s))}}class Hh{constructor(t,s){this.$s={},this.overlays={},this.Os=new Ji(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Ly(this),this.indexManager=new Sy,this.remoteDocumentCache=new vg(a=>this.referenceDelegate.Ls(a)),this.serializer=new vy(s),this.qs=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new Xd,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let a=this.$s[t.toKey()];return a||(a=new Fy(s,this.referenceDelegate),this.$s[t.toKey()]=a),a}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,s,a){Nt("MemoryPersistence","Starting transaction:",t);const c=new _g(this.Os.next());return this.referenceDelegate.Us(),a(c).next(f=>this.referenceDelegate.Ks(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Gs(t,s){return nt.or(Object.values(this.$s).map(a=>()=>a.containsKey(t,s)))}}class _g extends La{constructor(t){super(),this.currentSequenceNumber=t}}class qc{constructor(t){this.persistence=t,this.Qs=new Yf,this.js=null}static zs(t){return new qc(t)}get Ws(){if(this.js)return this.js;throw V()}addReference(t,s,a){return this.Qs.addReference(a,s),this.Ws.delete(a.toString()),nt.resolve()}removeReference(t,s,a){return this.Qs.removeReference(a,s),this.Ws.add(a.toString()),nt.resolve()}markPotentiallyOrphaned(t,s){return this.Ws.add(s.toString()),nt.resolve()}removeTarget(t,s){this.Qs.Is(s.targetId).forEach(c=>this.Ws.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,s.targetId).next(c=>{c.forEach(f=>this.Ws.add(f.toString()))}).next(()=>a.removeTargetData(t,s))}Us(){this.js=new Set}Ks(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Ws,a=>{const c=en.fromPath(a);return this.Hs(t,c).next(f=>{f||s.removeEntry(c,tn.min())})}).next(()=>(this.js=null,s.apply(t)))}updateLimboDocument(t,s){return this.Hs(t,s).next(a=>{a?this.Ws.delete(s.toString()):this.Ws.add(s.toString())})}Ls(t){return 0}Hs(t,s){return nt.or([()=>nt.resolve(this.Qs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Gs(t,s)])}}class Za{constructor(t){this.serializer=t}O(t,s,a,c){const f=new kc("createOrUpgrade",s);var N;a<1&&c>=1&&(t.createObjectStore("owner"),(N=t).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",at,{unique:!0}),N.createObjectStore("documentMutations"),Vy(t),function(N){N.createObjectStore("remoteDocuments")}(t));let m=nt.resolve();return a<3&&c>=3&&(0!==a&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(t),Vy(t)),m=m.next(()=>function(N){const j=N.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",X)}(f))),a<4&&c>=4&&(0!==a&&(m=m.next(()=>function(N,j){return j.store("mutations").j().next(X=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",at,{unique:!0});const ce=j.store("mutations"),Ae=X.map(rt=>ce.put(rt));return nt.waitFor(Ae)})}(t,f))),m=m.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),a<5&&c>=5&&(m=m.next(()=>this.Ys(f))),a<6&&c>=6&&(m=m.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(f)))),a<7&&c>=7&&(m=m.next(()=>this.Zs(f))),a<8&&c>=8&&(m=m.next(()=>this.ti(t,f))),a<9&&c>=9&&(m=m.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(t)})),a<10&&c>=10&&(m=m.next(()=>this.ei(f))),a<11&&c>=11&&(m=m.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),a<12&&c>=12&&(m=m.next(()=>{!function(N){const j=N.createObjectStore("documentOverlays",{keyPath:Lc});j.createIndex("collectionPathOverlayIndex",ac,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Vc,{unique:!1})}(t)})),a<13&&c>=13&&(m=m.next(()=>function(N){const j=N.createObjectStore("remoteDocumentsV14",{keyPath:Hn});j.createIndex("documentKeyIndex",Xr),j.createIndex("collectionGroupIndex",Xs)}(t)).next(()=>this.ni(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),a<14&&c>=14&&(m=m.next(()=>this.si(t,f))),a<15&&c>=15&&(m=m.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:ic}).createIndex("sequenceNumberIndex",Qa,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:xd}).createIndex("documentKeyIndex",oc,{unique:!1})}(t))),m}Xs(t){let s=0;return t.store("remoteDocuments").X((a,c)=>{s+=Kf(c)}).next(()=>{const a={byteSize:s};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Ys(t){const s=t.store("mutationQueues"),a=t.store("mutations");return s.j().next(c=>nt.forEach(c,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",m).next(N=>nt.forEach(N,j=>{te(j.userId===f.userId);const X=To(this.serializer,j);return ad(t,f.userId,X).next(()=>{})}))}))}Zs(t){const s=t.store("targetDocuments"),a=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(c=>{const f=[];return a.X((m,N)=>{const j=new Kr(m),X=[0,R(j)];f.push(s.get(X).next(ce=>ce?nt.resolve():s.put({targetId:0,path:R(j),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>nt.waitFor(f))})}ti(t,s){t.createObjectStore("collectionParents",{keyPath:Wi});const a=s.store("collectionParents"),c=new by,f=m=>{if(c.add(m)){const N=m.lastSegment(),j=m.popLast();return a.put({collectionId:N,parent:R(j)})}};return s.store("remoteDocuments").X({Y:!0},(m,N)=>{const j=new Kr(m);return f(j.popLast())}).next(()=>s.store("documentMutations").X({Y:!0},([m,N,j],X)=>{const ce=pe(N);return f(ce.popLast())}))}ei(t){const s=t.store("targets");return s.X((a,c)=>{const f=sd(c),m=ag(this.serializer,f);return s.put(m)})}ni(t,s){const a=s.store("remoteDocuments"),c=[];return a.X((f,m)=>{const N=s.store("remoteDocumentsV14"),j=(X=m,X.document?new en(Kr.fromString(X.document.name).popFirst(5)):X.noDocument?en.fromSegments(X.noDocument.path):X.unknownDocument?en.fromSegments(X.unknownDocument.path):V()).path.toArray();var X;const ce={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};c.push(N.put(ce))}).next(()=>nt.waitFor(c))}si(t,s){const a=s.store("mutations"),c=Xc(this.serializer),f=new Hh(qc.zs,this.serializer.fe);return a.j().next(m=>{const N=new Map;return m.forEach(j=>{var X;let ce=null!==(X=N.get(j.userId))&&void 0!==X?X:lr();To(this.serializer,j).keys().forEach(Ae=>ce=ce.add(Ae)),N.set(j.userId,ce)}),nt.forEach(N,(j,X)=>{const ce=new is(X),Ae=Vf.de(this.serializer,ce),rt=f.getIndexManager(ce),It=Kd.de(ce,this.serializer,rt,f.referenceDelegate);return new qf(c,It,Ae,rt).recalculateAndSaveOverlaysForDocumentKeys(new Qn(s,Ji.ct),j).next()})})}}function Vy(i){i.createObjectStore("targetDocuments",{keyPath:ba}).createIndex("documentTargetsIndex",qo,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oi,{unique:!0}),i.createObjectStore("targetGlobal")}const qd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eg{constructor(t,s,a,c,f,m,N,j,X,ce,Ae=15){if(this.allowTabSynchronization=t,this.persistenceKey=s,this.clientId=a,this.ii=f,this.window=m,this.document=N,this.ri=X,this.oi=ce,this.ui=Ae,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=rt=>Promise.resolve(),!Eg.D())throw new dt(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gf(this,c),this.di=s+"main",this.serializer=new vy(j),this.wi=new Va(this.di,this.ui,new Za(this.serializer)),this.Bs=new Ny(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xc(this.serializer),this.qs=new $d,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ce&&O("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(xe.FAILED_PRECONDITION,qd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Ji(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var s=this;return this.fi=function(){var a=(0,E.A)(function*(c){if(s.started)return t(c)});return function(c){return a.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var s=(0,E.A)(function*(a){null===a.newVersion&&(yield t())});return function(a){return s.apply(this,arguments)}}())}setNetworkEnabled(t){var s=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,E.A)(function*(){s.started&&(yield s.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Yd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(s=>{s||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(s=>this.isPrimary&&!s?this.Ai(t).next(()=>!1):!!s&&this.vi(t).next(()=>!0))).catch(t=>{if(za(t))return Nt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Ac(t).get("owner").next(s=>nt.resolve(this.Ri(s)))}Pi(t){return Yd(t).delete(this.clientId)}bi(){var t=this;return(0,E.A)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const s=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Ti(a,"clientMetadata");return c.j().next(f=>{const m=t.Si(f,18e5),N=f.filter(j=>-1===m.indexOf(j));return nt.forEach(N,j=>c.delete(j.clientId)).next(()=>N)})}).catch(()=>[]);if(t._i)for(const a of s)t._i.removeItem(t.Di(a.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?nt.resolve(!0):Ac(t).get("owner").next(s=>{if(null!==s&&this.Vi(s.leaseTimestampMs,5e3)&&!this.Ci(s.ownerId)){if(this.Ri(s)&&this.networkEnabled)return!0;if(!this.Ri(s)){if(!s.allowTabSynchronization)throw new dt(xe.FAILED_PRECONDITION,qd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yd(t).j().next(a=>void 0===this.Si(a,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(s=>(this.isPrimary!==s&&Nt("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}shutdown(){var t=this;return(0,E.A)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],s=>{const a=new Qn(s,Ji.ct);return t.Ai(a).next(()=>t.Pi(a))}),t.wi.close(),t.Mi()})()}Si(t,s){return t.filter(a=>this.Vi(a.updateTimeMs,s)&&!this.Ci(a.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>Yd(t).j().next(s=>this.Si(s,18e5).map(a=>a.clientId)))}get started(){return this.Fs}getMutationQueue(t,s){return Kd.de(t,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new K_(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Vf.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,s,a){Nt("IndexedDbPersistence","Starting transaction:",t);const c="readonly"===s?"readonly":"readwrite",f=15===(m=this.ui)?Ll:14===m?rl:13===m?Uc:12===m?Ma:11===m?lc:void V();var m;let N;return this.wi.runTransaction(t,c,f,j=>(N=new Qn(j,this.Os?this.Os.next():Ji.ct),"readwrite-primary"===s?this.Ti(N).next(X=>!!X||this.Ei(N)).next(X=>{if(!X)throw O(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new dt(xe.FAILED_PRECONDITION,pu);return a(N)}).next(X=>this.vi(N).next(()=>X)):this.Oi(N).next(()=>a(N)))).then(j=>(N.raiseOnCommittedEvent(),j))}Oi(t){return Ac(t).get("owner").next(s=>{if(null!==s&&this.Vi(s.leaseTimestampMs,5e3)&&!this.Ci(s.ownerId)&&!this.Ri(s)&&!(this.oi||this.allowTabSynchronization&&s.allowTabSynchronization))throw new dt(xe.FAILED_PRECONDITION,qd)})}vi(t){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ac(t).put("owner",s)}static D(){return Va.D()}Ai(t){const s=Ac(t);return s.get("owner").next(a=>this.Ri(a)?(Nt("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):nt.resolve())}Vi(t,s){const a=Date.now();return!(t<a-s||t>a&&(O(`Detected an update time that is in the future: ${t} > ${a}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const s=/(?:Version|Mobile)\/1[456]/;(0,K.nr)()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var s;try{const a=null!==(null===(s=this._i)||void 0===s?void 0:s.getItem(this.Di(t)));return Nt("IndexedDbPersistence",`Client '${t}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return O("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){O("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ac(i){return Ti(i,"owner")}function Yd(i){return Ti(i,"clientMetadata")}class Jf{constructor(t,s,a,c){this.targetId=t,this.fromCache=s,this.Fi=a,this.Bi=c}static Li(t,s){let a=lr(),c=lr();for(const f of s.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Jf(t,s.fromCache,a,c)}}class Dg{constructor(){this.qi=!1}initialize(t,s){this.Ui=t,this.indexManager=s,this.qi=!0}getDocumentsMatchingQuery(t,s,a,c){return this.Ki(t,s).next(f=>f||this.Gi(t,s,c,a)).next(f=>f||this.Qi(t,s))}Ki(t,s){if(cl(s))return nt.resolve(null);let a=Io(s);return this.indexManager.getIndexType(t,a).next(c=>0===c?null:(null!==s.limit&&1===c&&(s=Kl(s,null,"F"),a=Io(s)),this.indexManager.getDocumentsMatchingTarget(t,a).next(f=>{const m=lr(...f);return this.Ui.getDocuments(t,m).next(N=>this.indexManager.getMinOffset(t,a).next(j=>{const X=this.ji(s,N);return this.zi(s,X,m,j.readTime)?this.Ki(t,Kl(s,null,"F")):this.Wi(t,X,s,j)}))})))}Gi(t,s,a,c){return cl(s)||c.isEqual(tn.min())?this.Qi(t,s):this.Ui.getDocuments(t,a).next(f=>{const m=this.ji(s,f);return this.zi(s,m,a,c)?this.Qi(t,s):(Ii()<=U.$b.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Hc(s)),this.Wi(t,m,s,function Ka(i,t){const s=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,c=tn.fromTimestamp(1e9===a?new us(s+1,0):new us(s,a));return new Qs(c,en.empty(),t)}(c,-1)))})}ji(t,s){let a=new js(Ec(t));return s.forEach((c,f)=>{Tl(t,f)&&(a=a.add(f))}),a}zi(t,s,a,c){if(null===t.limit)return!1;if(a.size!==s.size)return!0;const f="F"===t.limitType?s.last():s.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Qi(t,s){return Ii()<=U.$b.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Hc(s)),this.Ui.getDocumentsMatchingQuery(t,s,Qs.min())}Wi(t,s,a,c){return this.Ui.getDocumentsMatchingQuery(t,a,c).next(f=>(s.forEach(m=>{f=f.insert(m.key,m)}),f))}}class Uy{constructor(t,s,a,c){this.persistence=t,this.Hi=s,this.serializer=c,this.Ji=new Bs(ln),this.Yi=new ja(f=>pa(f),Hl),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(a)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.Ji))}}function ep(i,t,s,a){return new Uy(i,t,s,a)}function By(i,t){return tp.apply(this,arguments)}function tp(){return tp=(0,E.A)(function*(i,t){const s=Le(i);return yield s.persistence.runTransaction("Handle user change","readonly",a=>{let c;return s.mutationQueue.getAllMutationBatches(a).next(f=>(c=f,s.tr(t),s.mutationQueue.getAllMutationBatches(a))).next(f=>{const m=[],N=[];let j=lr();for(const X of c){m.push(X.batchId);for(const ce of X.mutations)j=j.add(ce.key)}for(const X of f){N.push(X.batchId);for(const ce of X.mutations)j=j.add(ce.key)}return s.localDocuments.getDocuments(a,j).next(X=>({er:X,removedBatchIds:m,addedBatchIds:N}))})})}),tp.apply(this,arguments)}function po(i){const t=Le(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.Bs.getLastRemoteSnapshotVersion(s))}function hi(i,t){const s=Le(i);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===t&&(t=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Xl(i,t,s){return ql.apply(this,arguments)}function ql(){return ql=(0,E.A)(function*(i,t,s){const a=Le(i),c=a.Ji.get(t),f=s?"readwrite":"readwrite-primary";try{s||(yield a.persistence.runTransaction("Release target",f,m=>a.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!za(m))throw m;Nt("LocalStore",`Failed to update sequence numbers for target ${t}: ${m}`)}a.Ji=a.Ji.remove(t),a.Yi.delete(c.target)}),ql.apply(this,arguments)}function Ou(i,t,s){const a=Le(i);let c=tn.min(),f=lr();return a.persistence.runTransaction("Execute query","readonly",m=>function(N,j,X){const ce=Le(N),Ae=ce.Yi.get(X);return void 0!==Ae?nt.resolve(ce.Ji.get(Ae)):ce.Bs.getTargetData(j,X)}(a,m,Io(t)).next(N=>{if(N)return c=N.lastLimboFreeSnapshotVersion,a.Bs.getMatchingKeysForTargetId(m,N.targetId).next(j=>{f=j})}).next(()=>a.Hi.getDocumentsMatchingQuery(m,t,s?c:tn.min(),s?f:lr())).next(N=>(function $y(i,t,s){let a=i.Xi.get(t)||tn.min();s.forEach((c,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),i.Xi.set(t,a)}(a,function Su(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(t),N),{documents:N,ir:f})))}class Sg{constructor(){this.activeTargetIds=function Ju(){return Oh}()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hy{constructor(){this.Hr=new Sg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,a){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,s,a){this.Jr[t]=s}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Sg,Promise.resolve()}handleUserChange(t,s,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class z_{Yr(t){}shutdown(){}}class rp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gh=null;function sp(){return null===Gh?Gh=268435456+Math.round(2147483648*Math.random()):Gh++,"0x"+Gh.toString(16)}const G_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HD{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const va="WebChannelConnection";class Q_ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,s,a,c,f){const m=sp(),N=this.To(t,s);Nt("RestConnection",`Sending RPC '${t}' ${m}:`,N,a);const j={};return this.Eo(j,c,f),this.Ao(t,N,j,a).then(X=>(Nt("RestConnection",`Received RPC '${t}' ${m}: `,X),X),X=>{throw Y("RestConnection",`RPC '${t}' ${m} failed with error: `,X,"url: ",N,"request:",a),X})}vo(t,s,a,c,f,m){return this.Io(t,s,a,c,f)}Eo(t,s,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+Cr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>t[f]=c),a&&a.headers.forEach((c,f)=>t[f]=c)}To(t,s){return`${this.mo}/v1/${s}:${G_[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,s,a,c){const f=sp();return new Promise((m,N)=>{const j=new Gs;j.setWithCredentials(!0),j.listenOnce(Pl.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case Ta.NO_ERROR:const ce=j.getResponseJson();Nt(va,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(ce)),m(ce);break;case Ta.TIMEOUT:Nt(va,`RPC '${t}' ${f} timed out`),N(new dt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Ta.HTTP_ERROR:const Ae=j.getStatus();if(Nt(va,`RPC '${t}' ${f} failed with status:`,Ae,"response text:",j.getResponseText()),Ae>0){let rt=j.getResponseJson();Array.isArray(rt)&&(rt=rt[0]);const It=rt?.error;if(It&&It.status&&It.message){const Zt=function(un){const pn=un.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(pn)>=0?pn:xe.UNKNOWN}(It.status);N(new dt(Zt,It.message))}else N(new dt(xe.UNKNOWN,"Server responded with status "+j.getStatus()))}else N(new dt(xe.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{Nt(va,`RPC '${t}' ${f} completed.`)}});const X=JSON.stringify(c);Nt(va,`RPC '${t}' ${f} sending request:`,c),j.send(s,"POST",X,a,15)})}Ro(t,s,a){const c=sp(),f=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=xl(),N=fu(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(j.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(j.xmlHttpFactory=new Ft({})),this.Eo(j.initMessageHeaders,s,a),j.encodeInitMessageHeaders=!0;const ce=f.join("");Nt(va,`Creating RPC '${t}' stream ${c}: ${ce}`,j);const Ae=m.createWebChannel(ce,j);let rt=!1,It=!1;const Zt=new HD({ro:pn=>{It?Nt(va,`Not sending because RPC '${t}' stream ${c} is closed:`,pn):(rt||(Nt(va,`Opening RPC '${t}' stream ${c} transport.`),Ae.open(),rt=!0),Nt(va,`RPC '${t}' stream ${c} sending:`,pn),Ae.send(pn))},oo:()=>Ae.close()}),un=(pn,Pr,Ds)=>{pn.listen(Pr,Hr=>{try{Ds(Hr)}catch(so){setTimeout(()=>{throw so},0)}})};return un(Ae,Dn.EventType.OPEN,()=>{It||Nt(va,`RPC '${t}' stream ${c} transport opened.`)}),un(Ae,Dn.EventType.CLOSE,()=>{It||(It=!0,Nt(va,`RPC '${t}' stream ${c} transport closed`),Zt.wo())}),un(Ae,Dn.EventType.ERROR,pn=>{It||(It=!0,Y(va,`RPC '${t}' stream ${c} transport errored:`,pn),Zt.wo(new dt(xe.UNAVAILABLE,"The operation could not be completed")))}),un(Ae,Dn.EventType.MESSAGE,pn=>{var Pr;if(!It){const Ds=pn.data[0];te(!!Ds);const so=Ds.error||(null===(Pr=Ds[0])||void 0===Pr?void 0:Pr.error);if(so){Nt(va,`RPC '${t}' stream ${c} received error:`,so);const go=so.status;let fi=function(Jl){const Nm=$r[Jl];if(void 0!==Nm)return p(Nm)}(go),Ha=so.message;void 0===fi&&(fi=xe.INTERNAL,Ha="Unknown error status: "+go+" with message "+so.message),It=!0,Zt.wo(new dt(fi,Ha)),Ae.close()}else Nt(va,`RPC '${t}' stream ${c} received:`,Ds),Zt._o(Ds)}}),un(N,Sa.STAT_EVENT,pn=>{pn.stat===Nr.PROXY?Nt(va,`RPC '${t}' stream ${c} detected buffering proxy`):pn.stat===Nr.NOPROXY&&Nt(va,`RPC '${t}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Zt.fo()},0),Zt}}function ud(){return typeof document<"u"?document:null}function dd(i){return new Jp(i,!0)}class Qh{constructor(t,s,a=1e3,c=1.5,f=6e4){this.ii=t,this.timerId=s,this.Po=a,this.bo=c,this.Vo=f,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const s=Math.floor(this.So+this.ko()),a=Math.max(0,Date.now()-this.Co),c=Math.max(0,s-a);c>0&&Nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class hd{constructor(t,s,a,c,f,m,N,j){this.ii=t,this.$o=a,this.Oo=c,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=N,this.listener=j,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Qh(t,s)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,E.A)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,E.A)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,s){var a=this;return(0,E.A)(function*(){a.Ho(),a.Jo(),a.qo.cancel(),a.Fo++,4!==t?a.qo.reset():s&&s.code===xe.RESOURCE_EXHAUSTED?(O(s.toString()),O("Using maximum backoff delay to prevent overloading the backend."),a.qo.xo()):s&&s.code===xe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Yo(),a.stream.close(),a.stream=null),a.state=t,yield a.listener.ao(s)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),s=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.Fo===s&&this.Zo(a,c)},a=>{t(()=>{const c=new dt(xe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.tu(c)})})}Zo(t,s){const a=this.Xo(this.Fo);this.stream=this.eu(t,s),this.stream.uo(()=>{a(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{a(()=>this.tu(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}Go(){var t=this;this.state=5,this.qo.No((0,E.A)(function*(){t.state=0,t.start()}))}tu(t){return Nt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return s=>{this.ii.enqueueAndForget(()=>this.Fo===t?s():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ip extends hd{constructor(t,s,a,c,f,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,c,m),this.serializer=f}eu(t,s){return this.connection.Ro("Listen",t,s)}onMessage(t){this.qo.reset();const s=function fy(i,t){let s;if("targetChange"in t){const a="NO_CHANGE"===(j=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:V(),c=t.targetChange.targetIds||[],f=function(j,X){return j.useProto3Json?(te(void 0===X||"string"==typeof X),to.fromBase64String(X||"")):(te(void 0===X||X instanceof Uint8Array),to.fromUint8Array(X||new Uint8Array))}(i,t.targetChange.resumeToken),m=t.targetChange.cause,N=m&&function(j){const X=void 0===j.code?xe.UNKNOWN:p(j.code);return new dt(X,j.message||"")}(m);s=new Wt(a,c,f,N||null)}else if("documentChange"in t){const a=t.documentChange,c=bc(i,a.document.name),f=ti(a.document.updateTime),m=a.document.createTime?ti(a.document.createTime):tn.min(),N=new uo({mapValue:{fields:a.document.fields}}),j=Hs.newFoundDocument(c,f,m,N);s=new gt(a.targetIds||[],a.removedTargetIds||[],j.key,j)}else if("documentDelete"in t){const a=t.documentDelete,c=bc(i,a.document),f=a.readTime?ti(a.readTime):tn.min(),m=Hs.newNoDocument(c,f);s=new gt([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){const a=t.documentRemove,c=bc(i,a.document);s=new gt([],a.removedTargetIds||[],c,null)}else{if(!("filter"in t))return V();{const a=t.filter,{count:c=0,unchangedNames:f}=a,m=new qs(c,f);s=new mt(a.targetId,m)}}var j;return s}(this.serializer,t),a=function(c){if(!("targetChange"in c))return tn.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?tn.min():f.readTime?ti(f.readTime):tn.min()}(t);return this.listener.nu(s,a)}su(t){const s={};s.database=Ph(this.serializer),s.addTarget=function(c,f){let m;const N=f.target;if(m=vc(N)?{documents:Fh(c,N)}:{query:Ff(c,N)},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tg(c,f.resumeToken);const j=eg(c,f.expectedCount);null!==j&&(m.expectedCount=j)}else if(f.snapshotVersion.compareTo(tn.min())>0){m.readTime=kd(c,f.snapshotVersion.toTimestamp());const j=eg(c,f.expectedCount);null!==j&&(m.expectedCount=j)}return m}(this.serializer,t);const a=function my(i,t){const s=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(t.purpose);return null==s?null:{"goog-listen-tags":s}}(0,t);a&&(s.labels=a),this.Wo(s)}iu(t){const s={};s.database=Ph(this.serializer),s.removeTarget=t,this.Wo(s)}}class op extends hd{constructor(t,s,a,c,f,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,c,m),this.serializer=f,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,s){return this.connection.Ro("Write",t,s)}onMessage(t){if(te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const s=function Vd(i,t){return i&&i.length>0?(te(void 0!==t),i.map(s=>function(a,c){let f=ti(a.updateTime?a.updateTime:c);return f.isEqual(tn.min())&&(f=ti(c)),new B(f,a.transformResults||[])}(s,t))):[]}(t.writeResults,t.commitTime),a=ti(t.commitTime);return this.listener.cu(a,s)}return te(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Ph(this.serializer),this.Wo(t)}uu(t){const s={streamToken:this.lastStreamToken,writes:t.map(a=>Pf(this.serializer,a))};this.Wo(s)}}class rh extends class{}{constructor(t,s,a,c){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=a,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new dt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Io(t,s,a,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(xe.UNKNOWN,c.toString())})}vo(t,s,a,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.vo(t,s,a,f,m,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new dt(xe.UNKNOWN,f.toString())})}terminate(){this.lu=!0}}class Wy{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const s=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(O(s),this.mu=!1):Nt("OnlineStateTracker",s)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ky{constructor(t,s,a,c,f){var m=this;this.localStore=t,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=f,this.Pu.Yr(N=>{a.enqueueAndForget((0,E.A)(function*(){var j;Yc(m)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,E.A)(function*(X){const ce=Le(X);ce.vu.add(4),yield sh(ce),ce.bu.set("Unknown"),ce.vu.delete(4),yield fd(ce)}),function(X){return j.apply(this,arguments)})(m))}))}),this.bu=new Wy(a,c)}}function fd(i){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,E.A)(function*(i){if(Yc(i))for(const t of i.Ru)yield t(!0)}),Mg.apply(this,arguments)}function sh(i){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,E.A)(function*(i){for(const t of i.Ru)yield t(!1)}),Ru.apply(this,arguments)}function xu(i,t){const s=Le(i);s.Au.has(t.targetId)||(s.Au.set(t.targetId,t),Gy(s)?cp(s):Nc(s).Ko()&&lp(s,t))}function ap(i,t){const s=Le(i),a=Nc(s);s.Au.delete(t),a.Ko()&&zy(s,t),0===s.Au.size&&(a.Ko()?a.jo():Yc(s)&&s.bu.set("Unknown"))}function lp(i,t){if(i.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tn.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}Nc(i).su(t)}function zy(i,t){i.Vu.qt(t),Nc(i).iu(t)}function cp(i){i.Vu=new Zn({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),le:t=>i.Au.get(t)||null,ue:()=>i.datastore.serializer.databaseId}),Nc(i).start(),i.bu.gu()}function Gy(i){return Yc(i)&&!Nc(i).Uo()&&i.Au.size>0}function Yc(i){return 0===Le(i).vu.size}function Qy(i){i.Vu=void 0}function Xy(i){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,E.A)(function*(i){i.Au.forEach((t,s)=>{lp(i,t)})}),Oc.apply(this,arguments)}function q_(i,t){return qy.apply(this,arguments)}function qy(){return qy=(0,E.A)(function*(i,t){Qy(i),Gy(i)?(i.bu.Iu(t),cp(i)):i.bu.set("Unknown")}),qy.apply(this,arguments)}function Ag(i,t,s){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,E.A)(function*(i,t,s){if(i.bu.set("Online"),t instanceof Wt&&2===t.state&&t.cause)try{yield(a=(0,E.A)(function*(c,f){const m=f.cause;for(const N of f.targetIds)c.Au.has(N)&&(yield c.remoteSyncer.rejectListen(N,m),c.Au.delete(N),c.Vu.removeTarget(N))}),function(c,f){return a.apply(this,arguments)})(i,t)}catch(a){Nt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),yield pd(i,a)}else if(t instanceof gt?i.Vu.Ht(t):t instanceof mt?i.Vu.ne(t):i.Vu.Xt(t),!s.isEqual(tn.min()))try{const a=yield po(i.localStore);s.compareTo(a)>=0&&(yield function(c,f){const m=c.Vu.ce(f);return m.targetChanges.forEach((N,j)=>{if(N.resumeToken.approximateByteSize()>0){const X=c.Au.get(j);X&&c.Au.set(j,X.withResumeToken(N.resumeToken,f))}}),m.targetMismatches.forEach((N,j)=>{const X=c.Au.get(N);if(!X)return;c.Au.set(N,X.withResumeToken(to.EMPTY_BYTE_STRING,X.snapshotVersion)),zy(c,N);const ce=new Gc(X.target,N,j,X.sequenceNumber);lp(c,ce)}),c.remoteSyncer.applyRemoteEvent(m)}(i,s))}catch(a){Nt("RemoteStore","Failed to raise snapshot:",a),yield pd(i,a)}var a}),Yy.apply(this,arguments)}function pd(i,t,s){return gd.apply(this,arguments)}function gd(){return gd=(0,E.A)(function*(i,t,s){if(!za(t))throw t;i.vu.add(1),yield sh(i),i.bu.set("Offline"),s||(s=()=>po(i.localStore)),i.asyncQueue.enqueueRetryable((0,E.A)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield s(),i.vu.delete(1),yield fd(i)}))}),gd.apply(this,arguments)}function Zy(i,t){return t().catch(s=>pd(i,s,t))}function md(i){return Og.apply(this,arguments)}function Og(){return Og=(0,E.A)(function*(i){const t=Le(i),s=vd(t);let a=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Y_(t);)try{const c=yield hi(t.localStore,a);if(null===c){0===t.Eu.length&&s.jo();break}a=c.batchId,Jy(t,c)}catch(c){yield pd(t,c)}Ng(t)&&ev(t)}),Og.apply(this,arguments)}function Y_(i){return Yc(i)&&i.Eu.length<10}function Jy(i,t){i.Eu.push(t);const s=vd(i);s.Ko()&&s.ou&&s.uu(t.mutations)}function Ng(i){return Yc(i)&&!vd(i).Uo()&&i.Eu.length>0}function ev(i){vd(i).start()}function Z_(i){return yd.apply(this,arguments)}function yd(){return yd=(0,E.A)(function*(i){vd(i).hu()}),yd.apply(this,arguments)}function tv(i){return qh.apply(this,arguments)}function qh(){return qh=(0,E.A)(function*(i){const t=vd(i);for(const s of i.Eu)t.uu(s.mutations)}),qh.apply(this,arguments)}function J_(i,t,s){return nv.apply(this,arguments)}function nv(){return nv=(0,E.A)(function*(i,t,s){const a=i.Eu.shift(),c=vs.from(a,t,s);yield Zy(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield md(i)}),nv.apply(this,arguments)}function WD(i,t){return rv.apply(this,arguments)}function rv(){return rv=(0,E.A)(function*(i,t){var s;t&&vd(i).ou&&(yield(s=(0,E.A)(function*(a,c){if(function xh(i){switch(i){default:return V();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}(f=c.code)&&f!==xe.ABORTED){const m=a.Eu.shift();vd(a).Qo(),yield Zy(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield md(a)}var f}),function(a,c){return s.apply(this,arguments)})(i,t)),Ng(i)&&ev(i)}),rv.apply(this,arguments)}function ih(i,t){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,E.A)(function*(i,t){const s=Le(i);s.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const a=Yc(s);s.vu.add(3),yield sh(s),a&&s.bu.set("Unknown"),yield s.remoteSyncer.handleCredentialChange(t),s.vu.delete(3),yield fd(s)}),Rg.apply(this,arguments)}function Yh(){return Yh=(0,E.A)(function*(i,t){const s=Le(i);t?(s.vu.delete(2),yield fd(s)):t||(s.vu.add(2),yield sh(s),s.bu.set("Unknown"))}),Yh.apply(this,arguments)}function Nc(i){return i.Su||(i.Su=function(t,s,a){const c=Le(t);return c.fu(),new ip(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{uo:Xy.bind(null,i),ao:q_.bind(null,i),nu:Ag.bind(null,i)}),i.Ru.push(function(){var t=(0,E.A)(function*(s){s?(i.Su.Qo(),Gy(i)?cp(i):i.bu.set("Unknown")):(yield i.Su.stop(),Qy(i))});return function(s){return t.apply(this,arguments)}}())),i.Su}function vd(i){return i.Du||(i.Du=function(t,s,a){const c=Le(t);return c.fu(),new op(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{uo:Z_.bind(null,i),ao:WD.bind(null,i),au:tv.bind(null,i),cu:J_.bind(null,i)}),i.Ru.push(function(){var t=(0,E.A)(function*(s){s?(i.Du.Qo(),yield md(i)):(yield i.Du.stop(),i.Eu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(s){return t.apply(this,arguments)}}())),i.Du}class sv{constructor(t,s,a,c,f){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=a,this.op=c,this.removalCallback=f,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(t,s,a,c,f){const m=Date.now()+a,N=new sv(t,s,m,c,f);return N.start(a),N}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(i,t){if(O("AsyncQueue",`${t}: ${i}`),za(i))return new dt(xe.UNAVAILABLE,`${t}: ${i}`);throw i}class ah{constructor(t){this.comparator=t?(s,a)=>t(s,a)||en.comparator(s.key,a.key):(s,a)=>en.comparator(s.key,a.key),this.keyedMap=wc(),this.sortedSet=new Bs(this.comparator)}static emptySet(t){return new ah(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,a)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof ah)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;s.hasNext();){const c=s.getNext().key,f=a.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,s){const a=new ah;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=s,a}}class xg{constructor(){this.Cu=new Bs(en.comparator)}track(t){const s=t.doc.key,a=this.Cu.get(s);a?0!==t.type&&3===a.type?this.Cu=this.Cu.insert(s,t):3===t.type&&1!==a.type?this.Cu=this.Cu.insert(s,{type:a.type,doc:t.doc}):2===t.type&&2===a.type?this.Cu=this.Cu.insert(s,{type:2,doc:t.doc}):2===t.type&&0===a.type?this.Cu=this.Cu.insert(s,{type:0,doc:t.doc}):1===t.type&&0===a.type?this.Cu=this.Cu.remove(s):1===t.type&&2===a.type?this.Cu=this.Cu.insert(s,{type:1,doc:a.doc}):0===t.type&&1===a.type?this.Cu=this.Cu.insert(s,{type:2,doc:t.doc}):V():this.Cu=this.Cu.insert(s,t)}xu(){const t=[];return this.Cu.inorderTraversal((s,a)=>{t.push(a)}),t}}class Pu{constructor(t,s,a,c,f,m,N,j,X){this.query=t,this.docs=s,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=N,this.excludesMetadataChanges=j,this.hasCachedResults=X}static fromInitialDocuments(t,s,a,c,f){const m=[];return s.forEach(N=>{m.push({type:0,doc:N})}),new Pu(t,s,ah.emptySet(s),m,a,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Il(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,a=t.docChanges;if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++)if(s[c].type!==a[c].type||!s[c].doc.isEqual(a[c].doc))return!1;return!0}}class iv{constructor(){this.Nu=void 0,this.listeners=[]}}class Ed{constructor(){this.queries=new ja(t=>Ah(t),Il),this.onlineState="Unknown",this.ku=new Set}}function up(i,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,E.A)(function*(i,t){const s=Le(i),a=t.query;let c=!1,f=s.queries.get(a);if(f||(c=!0,f=new iv),c)try{f.Nu=yield s.onListen(a)}catch(m){const N=_d(m,`Initialization of query '${Hc(t.query)}' failed`);return void t.onError(N)}s.queries.set(a,f),f.listeners.push(t),t.Mu(s.onlineState),f.Nu&&t.$u(f.Nu)&&Lg(s)}),Pg.apply(this,arguments)}function Fg(i,t){return kg.apply(this,arguments)}function kg(){return kg=(0,E.A)(function*(i,t){const s=Le(i),a=t.query;let c=!1;const f=s.queries.get(a);if(f){const m=f.listeners.indexOf(t);m>=0&&(f.listeners.splice(m,1),c=0===f.listeners.length)}if(c)return s.queries.delete(a),s.onUnlisten(a)}),kg.apply(this,arguments)}function eE(i,t){const s=Le(i);let a=!1;for(const c of t){const m=s.queries.get(c.query);if(m){for(const N of m.listeners)N.$u(c)&&(a=!0);m.Nu=c}}a&&Lg(s)}function ov(i,t,s){const a=Le(i),c=a.queries.get(t);if(c)for(const f of c.listeners)f.onError(s);a.queries.delete(t)}function Lg(i){i.ku.forEach(t=>{t.next()})}class Vg{constructor(t,s,a){this.query=t,this.Ou=s,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=a||{}}$u(t){if(!this.options.includeMetadataChanges){const a=[];for(const c of t.docChanges)3!==c.type&&a.push(c);t=new Pu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),s=!0):this.qu(t,this.onlineState)&&(this.Uu(t),s=!0),this.Bu=t,s}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let s=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),s=!0),s}qu(t,s){return!t.fromCache||(!this.options.Ku||!("Offline"!==s))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===s)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Pu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class lv{constructor(t){this.key=t}}class cv{constructor(t){this.key=t}}class Ug{constructor(t,s){this.query=t,this.Yu=s,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=lr(),this.mutatedKeys=lr(),this.tc=Ec(t),this.ec=new ah(this.tc)}get nc(){return this.Yu}sc(t,s){const a=s?s.ic:new xg,c=s?s.ec:this.ec;let f=s?s.mutatedKeys:this.mutatedKeys,m=c,N=!1;const j="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,X="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((ce,Ae)=>{const rt=c.get(ce),It=Tl(this.query,Ae)?Ae:null,Zt=!!rt&&this.mutatedKeys.has(rt.key),un=!!It&&(It.hasLocalMutations||this.mutatedKeys.has(It.key)&&It.hasCommittedMutations);let pn=!1;rt&&It?rt.data.isEqual(It.data)?Zt!==un&&(a.track({type:3,doc:It}),pn=!0):this.rc(rt,It)||(a.track({type:2,doc:It}),pn=!0,(j&&this.tc(It,j)>0||X&&this.tc(It,X)<0)&&(N=!0)):!rt&&It?(a.track({type:0,doc:It}),pn=!0):rt&&!It&&(a.track({type:1,doc:rt}),pn=!0,(j||X)&&(N=!0)),pn&&(It?(m=m.add(It),f=un?f.add(ce):f.delete(ce)):(m=m.delete(ce),f=f.delete(ce)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ce="F"===this.query.limitType?m.last():m.first();m=m.delete(ce.key),f=f.delete(ce.key),a.track({type:1,doc:ce})}return{ec:m,ic:a,zi:N,mutatedKeys:f}}rc(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,a){const c=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const f=t.ic.xu();f.sort((X,ce)=>function(Ae,rt){const It=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return It(Ae)-It(rt)}(X.type,ce.type)||this.tc(X.doc,ce.doc)),this.oc(a);const m=s?this.uc():[],N=0===this.Zu.size&&this.current?1:0,j=N!==this.Xu;return this.Xu=N,0!==f.length||j?{snapshot:new Pu(this.query,t.ec,c,f,t.mutatedKeys,0===N,j,!1,!!a&&a.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(s=>this.Yu=this.Yu.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.Yu=this.Yu.delete(s)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=lr(),this.ec.forEach(a=>{this.ac(a.key)&&(this.Zu=this.Zu.add(a.key))});const s=[];return t.forEach(a=>{this.Zu.has(a)||s.push(new cv(a))}),this.Zu.forEach(a=>{t.has(a)||s.push(new lv(a))}),s}hc(t){this.Yu=t.ir,this.Zu=lr();const s=this.sc(t.documents);return this.applyChanges(s,!0)}lc(){return Pu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Bg{constructor(t,s,a){this.query=t,this.targetId=s,this.view=a}}class jg{constructor(t){this.key=t,this.fc=!1}}class Zc{constructor(t,s,a,c,f,m){this.localStore=t,this.remoteStore=s,this.eventManager=a,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new ja(N=>Ah(N),Il),this._c=new Map,this.mc=new Set,this.gc=new Bs(en.comparator),this.yc=new Map,this.Ic=new Yf,this.Tc={},this.Ec=new Map,this.Ac=Au.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hp(i,t){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,E.A)(function*(i,t){const s=function tm(i){const t=Le(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dd.bind(null,t),t.dc.nu=eE.bind(null,t.eventManager),t.dc.Pc=ov.bind(null,t.eventManager),t}(i);let a,c;const f=s.wc.get(t);if(f)a=f.targetId,s.sharedClientState.addLocalQueryTarget(a),c=f.view.lc();else{const m=yield function Ql(i,t){const s=Le(i);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return s.Bs.getTargetData(a,t).next(f=>f?(c=f,nt.resolve(c)):s.Bs.allocateTargetId(a).next(m=>(c=new Gc(t,m,"TargetPurposeListen",a.currentSequenceNumber),s.Bs.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=s.Ji.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(s.Ji=s.Ji.insert(a.targetId,a),s.Yi.set(t,a.targetId)),a})}(s.localStore,Io(t)),N=s.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,c=yield function Fu(i,t,s,a,c){return $g.apply(this,arguments)}(s,t,a,"current"===N,m.resumeToken),s.isPrimaryClient&&xu(s.remoteStore,m)}return c}),Zh.apply(this,arguments)}function $g(){return $g=(0,E.A)(function*(i,t,s,a,c){i.Rc=(Ae,rt,It)=>{return(Zt=(0,E.A)(function*(un,pn,Pr,Ds){let Hr=pn.view.sc(Pr);Hr.zi&&(Hr=yield Ou(un.localStore,pn.query,!1).then(({documents:fi})=>pn.view.sc(fi,Hr)));const so=Ds&&Ds.targetChanges.get(pn.targetId),go=pn.view.applyChanges(Hr,un.isPrimaryClient,so);return qg(un,pn.targetId,go.cc),go.snapshot}),function(un,pn,Pr,Ds){return Zt.apply(this,arguments)})(i,Ae,rt,It);var Zt};const f=yield Ou(i.localStore,t,!0),m=new Ug(t,f.ir),N=m.sc(f.documents),j=ut.createSynthesizedTargetChangeForCurrentChange(s,a&&"Offline"!==i.onlineState,c),X=m.applyChanges(N,i.isPrimaryClient,j);qg(i,s,X.cc);const ce=new Bg(t,s,m);return i.wc.set(t,ce),i._c.has(s)?i._c.get(s).push(t):i._c.set(s,[t]),X.snapshot}),$g.apply(this,arguments)}function rE(i,t){return uv.apply(this,arguments)}function uv(){return uv=(0,E.A)(function*(i,t){const s=Le(i),a=s.wc.get(t),c=s._c.get(a.targetId);if(c.length>1)return s._c.set(a.targetId,c.filter(f=>!Il(f,t))),void s.wc.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Xl(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),ap(s.remoteStore,a.targetId),lh(s,a.targetId)}).catch(oa))):(lh(s,a.targetId),yield Xl(s.localStore,a.targetId,!0))}),uv.apply(this,arguments)}function Jh(){return Jh=(0,E.A)(function*(i,t,s){const a=nm(i);try{const c=yield function(f,m){const N=Le(f),j=us.now(),X=m.reduce((rt,It)=>rt.add(It.key),lr());let ce,Ae;return N.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let It=ma(),Zt=lr();return N.Zi.getEntries(rt,X).next(un=>{It=un,It.forEach((pn,Pr)=>{Pr.isValidDocument()||(Zt=Zt.add(pn))})}).next(()=>N.localDocuments.getOverlayedDocuments(rt,It)).next(un=>{ce=un;const pn=[];for(const Pr of m){const Ds=_t(Pr,ce.get(Pr.key).overlayedDocument);null!=Ds&&pn.push(new xt(Pr.key,Ds,Gu(Ds.value.mapValue),Z.exists(!0)))}return N.mutationQueue.addMutationBatch(rt,j,pn,m)}).next(un=>{Ae=un;const pn=un.applyToLocalDocumentSet(ce,Zt);return N.documentOverlayCache.saveOverlays(rt,un.batchId,pn)})}).then(()=>({batchId:Ae.batchId,changes:Yu(ce)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(c.batchId),function(f,m,N){let j=f.Tc[f.currentUser.toKey()];j||(j=new Bs(ln)),j=j.insert(m,N),f.Tc[f.currentUser.toKey()]=j}(a,c.batchId,s),yield eu(a,c.changes),yield md(a.remoteStore)}catch(c){const f=_d(c,"Failed to persist write");s.reject(f)}}),Jh.apply(this,arguments)}function Hg(i,t){return pp.apply(this,arguments)}function pp(){return pp=(0,E.A)(function*(i,t){const s=Le(i);try{const a=yield function np(i,t){const s=Le(i),a=t.snapshotVersion;let c=s.Ji;return s.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=s.Zi.newChangeBuffer({trackRemovals:!0});c=s.Ji;const N=[];t.targetChanges.forEach((ce,Ae)=>{const rt=c.get(Ae);if(!rt)return;N.push(s.Bs.removeMatchingKeys(f,ce.removedDocuments,Ae).next(()=>s.Bs.addMatchingKeys(f,ce.addedDocuments,Ae)));let It=rt.withSequenceNumber(f.currentSequenceNumber);var Zt,un,pn;null!==t.targetMismatches.get(Ae)?It=It.withResumeToken(to.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):ce.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(ce.resumeToken,a)),c=c.insert(Ae,It),un=It,pn=ce,(0===(Zt=rt).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||pn.addedDocuments.size+pn.modifiedDocuments.size+pn.removedDocuments.size>0)&&N.push(s.Bs.updateTargetData(f,It))});let j=ma(),X=lr();if(t.documentUpdates.forEach(ce=>{t.resolvedLimboDocuments.has(ce)&&N.push(s.persistence.referenceDelegate.updateLimboDocument(f,ce))}),N.push(function wg(i,t,s){let a=lr(),c=lr();return s.forEach(f=>a=a.add(f)),t.getEntries(i,a).next(f=>{let m=ma();return s.forEach((N,j)=>{const X=f.get(N);j.isFoundDocument()!==X.isFoundDocument()&&(c=c.add(N)),j.isNoDocument()&&j.version.isEqual(tn.min())?(t.removeEntry(N,j.readTime),m=m.insert(N,j)):!X.isValidDocument()||j.version.compareTo(X.version)>0||0===j.version.compareTo(X.version)&&X.hasPendingWrites?(t.addEntry(j),m=m.insert(N,j)):Nt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",X.version," Watch version:",j.version)}),{nr:m,sr:c}})}(f,m,t.documentUpdates).next(ce=>{j=ce.nr,X=ce.sr})),!a.isEqual(tn.min())){const ce=s.Bs.getLastRemoteSnapshotVersion(f).next(Ae=>s.Bs.setTargetsMetadata(f,f.currentSequenceNumber,a));N.push(ce)}return nt.waitFor(N).next(()=>m.apply(f)).next(()=>s.localDocuments.getLocalViewOfDocuments(f,j,X)).next(()=>j)}).then(f=>(s.Ji=c,f))}(s.localStore,t);t.targetChanges.forEach((c,f)=>{const m=s.yc.get(f);m&&(te(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.fc=!0:c.modifiedDocuments.size>0?te(m.fc):c.removedDocuments.size>0&&(te(m.fc),m.fc=!1))}),yield eu(s,a,t)}catch(a){yield oa(a)}}),pp.apply(this,arguments)}function Wg(i,t,s){const a=Le(i);if(a.isPrimaryClient&&0===s||!a.isPrimaryClient&&1===s){const c=[];a.wc.forEach((f,m)=>{const N=m.view.Mu(t);N.snapshot&&c.push(N.snapshot)}),function(f,m){const N=Le(f);N.onlineState=m;let j=!1;N.queries.forEach((X,ce)=>{for(const Ae of ce.listeners)Ae.Mu(m)&&(j=!0)}),j&&Lg(N)}(a.eventManager,t),c.length&&a.dc.nu(c),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}function Dd(i,t,s){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,E.A)(function*(i,t,s){const a=Le(i);a.sharedClientState.updateQueryState(t,"rejected",s);const c=a.yc.get(t),f=c&&c.key;if(f){let m=new Bs(en.comparator);m=m.insert(f,Hs.newNoDocument(f,tn.min()));const N=lr().add(f),j=new Ne(tn.min(),new Map,new Bs(ln),m,N);yield Hg(a,j),a.gc=a.gc.remove(f),a.yc.delete(t),gp(a)}else yield Xl(a.localStore,t,!1).then(()=>lh(a,t,s)).catch(oa)}),Kg.apply(this,arguments)}function sE(i,t){return zg.apply(this,arguments)}function zg(){return zg=(0,E.A)(function*(i,t){const s=Le(i),a=t.batch.batchId;try{const c=yield function $D(i,t){const s=Le(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=t.batch.keys(),f=s.Zi.newChangeBuffer({trackRemovals:!0});return function(m,N,j,X){const ce=j.batch,Ae=ce.keys();let rt=nt.resolve();return Ae.forEach(It=>{rt=rt.next(()=>X.getEntry(N,It)).next(Zt=>{const un=j.docVersions.get(It);te(null!==un),Zt.version.compareTo(un)<0&&(ce.applyToRemoteDocument(Zt,j),Zt.isValidDocument()&&(Zt.setReadTime(j.commitVersion),X.addEntry(Zt)))})}),rt.next(()=>m.mutationQueue.removeMutationBatch(N,ce))}(s,a,t,f).next(()=>f.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,c,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let N=lr();for(let j=0;j<m.mutationResults.length;++j)m.mutationResults[j].transformResults.length>0&&(N=N.add(m.batch.mutations[j].key));return N}(t))).next(()=>s.localDocuments.getDocuments(a,c))})}(s.localStore,t);Xg(s,a,null),Qg(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),yield eu(s,c)}catch(c){yield oa(c)}}),zg.apply(this,arguments)}function iE(i,t,s){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,E.A)(function*(i,t,s){const a=Le(i);try{const c=yield function(f,m){const N=Le(f);return N.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let X;return N.mutationQueue.lookupMutationBatch(j,m).next(ce=>(te(null!==ce),X=ce.keys(),N.mutationQueue.removeMutationBatch(j,ce))).next(()=>N.mutationQueue.performConsistencyCheck(j)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(j,X,m)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,X)).next(()=>N.localDocuments.getDocuments(j,X))})}(a.localStore,t);Xg(a,t,s),Qg(a,t),a.sharedClientState.updateMutationState(t,"rejected",s),yield eu(a,c)}catch(c){yield oa(c)}}),Gg.apply(this,arguments)}function Qg(i,t){(i.Ec.get(t)||[]).forEach(s=>{s.resolve()}),i.Ec.delete(t)}function Xg(i,t,s){const a=Le(i);let c=a.Tc[a.currentUser.toKey()];if(c){const f=c.get(t);f&&(s?f.reject(s):f.resolve(),c=c.remove(t)),a.Tc[a.currentUser.toKey()]=c}}function lh(i,t,s=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i._c.get(t))i.wc.delete(a),s&&i.dc.Pc(a,s);i._c.delete(t),i.isPrimaryClient&&i.Ic.Is(t).forEach(a=>{i.Ic.containsKey(a)||dv(i,a)})}function dv(i,t){i.mc.delete(t.path.canonicalString());const s=i.gc.get(t);null!==s&&(ap(i.remoteStore,s),i.gc=i.gc.remove(t),i.yc.delete(s),gp(i))}function qg(i,t,s){for(const a of s)a instanceof lv?(i.Ic.addReference(a.key,t),oE(i,a)):a instanceof cv?(Nt("SyncEngine","Document no longer in limbo: "+a.key),i.Ic.removeReference(a.key,t),i.Ic.containsKey(a.key)||dv(i,a.key)):V()}function oE(i,t){const s=t.key,a=s.path.canonicalString();i.gc.get(s)||i.mc.has(a)||(Nt("SyncEngine","New document in limbo: "+s),i.mc.add(a),gp(i))}function gp(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const t=i.mc.values().next().value;i.mc.delete(t);const s=new en(Kr.fromString(t)),a=i.Ac.next();i.yc.set(a,new jg(s)),i.gc=i.gc.insert(s,a),xu(i.remoteStore,new Gc(Io(ho(s.path)),a,"TargetPurposeLimboResolution",Ji.ct))}}function eu(i,t,s){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,E.A)(function*(i,t,s){const a=Le(i),c=[],f=[],m=[];var N;a.wc.isEmpty()||(a.wc.forEach((N,j)=>{m.push(a.Rc(j,t,s).then(X=>{if((X||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(j.targetId,X?.fromCache?"not-current":"current"),X){c.push(X);const ce=Jf.Li(j.targetId,X);f.push(ce)}}))}),yield Promise.all(m),a.dc.nu(c),yield(N=(0,E.A)(function*(j,X){const ce=Le(j);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>nt.forEach(X,rt=>nt.forEach(rt.Fi,It=>ce.persistence.referenceDelegate.addReference(Ae,rt.targetId,It)).next(()=>nt.forEach(rt.Bi,It=>ce.persistence.referenceDelegate.removeReference(Ae,rt.targetId,It)))))}catch(Ae){if(!za(Ae))throw Ae;Nt("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of X){const rt=Ae.targetId;if(!Ae.fromCache){const It=ce.Ji.get(rt),un=It.withLastLimboFreeSnapshotVersion(It.snapshotVersion);ce.Ji=ce.Ji.insert(rt,un)}}}),function(j,X){return N.apply(this,arguments)})(a.localStore,f))}),Yg.apply(this,arguments)}function aE(i,t){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,E.A)(function*(i,t){const s=Le(i);if(!s.currentUser.isEqual(t)){Nt("SyncEngine","User change. New user:",t.toKey());const a=yield By(s.localStore,t);s.currentUser=t,(c=s).Ec.forEach(m=>{m.forEach(N=>{N.reject(new dt(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),s.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),yield eu(s,a.er)}var c}),Zg.apply(this,arguments)}function mp(i,t){const s=Le(i),a=s.yc.get(t);if(a&&a.fc)return lr().add(a.key);{let c=lr();const f=s._c.get(t);if(!f)return c;for(const m of f){const N=s.wc.get(m);c=c.unionWith(N.view.nc)}return c}}function nm(i){const t=Le(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iE.bind(null,t),t}class Cd{constructor(){this.synchronizeTabs=!1}initialize(t){var s=this;return(0,E.A)(function*(){s.serializer=dd(t.databaseInfo.databaseId),s.sharedClientState=s.createSharedClientState(t),s.persistence=s.createPersistence(t),yield s.persistence.start(),s.localStore=s.createLocalStore(t),s.gcScheduler=s.createGarbageCollectionScheduler(t,s.localStore),s.indexBackfillerScheduler=s.createIndexBackfillerScheduler(t,s.localStore)})()}createGarbageCollectionScheduler(t,s){return null}createIndexBackfillerScheduler(t,s){return null}createLocalStore(t){return ep(this.persistence,new Dg,t.initialUser,this.serializer)}createPersistence(t){return new Hh(qc.zs,this.serializer)}createSharedClientState(t){return new Hy}terminate(){var t=this;return(0,E.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class rm extends Cd{constructor(t,s,a){super(),this.Vc=t,this.cacheSizeBytes=s,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(t){var s=()=>super.initialize,a=this;return(0,E.A)(function*(){yield s().call(a,t),yield a.Vc.initialize(a,t),yield nm(a.Vc.syncEngine),yield md(a.Vc.remoteStore),yield a.persistence.Ii(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return ep(this.persistence,new Dg,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,s){return new zf(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,s)}createIndexBackfillerScheduler(t,s){const a=new sc(s,this.persistence);return new Rd(t.asyncQueue,a)}createPersistence(t){const s=function Zf(i,t){let s=i.projectId;return i.isDefaultDatabase||(s+="."+i.database),"firestore/"+t+"/"+s+"/"}(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?xi.withCacheSize(this.cacheSizeBytes):xi.DEFAULT;return new Eg(this.synchronizeTabs,s,t.clientId,a,t.asyncQueue,function X_(){return typeof window<"u"?window:null}(),ud(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Hy}}class nu{initialize(t,s){var a=this;return(0,E.A)(function*(){a.localStore||(a.localStore=t.localStore,a.sharedClientState=t.sharedClientState,a.datastore=a.createDatastore(s),a.remoteStore=a.createRemoteStore(s),a.eventManager=a.createEventManager(s),a.syncEngine=a.createSyncEngine(s,!t.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>Wg(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=aE.bind(null,a.syncEngine),yield function oh(i,t){return Yh.apply(this,arguments)}(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Ed}createDatastore(t){const s=dd(t.databaseInfo.databaseId),a=new Q_(t.databaseInfo);return new rh(t.authCredentials,t.appCheckCredentials,a,s)}createRemoteStore(t){return s=this.localStore,a=this.datastore,c=t.asyncQueue,f=N=>Wg(this.syncEngine,N,0),m=rp.D()?new rp:new z_,new Ky(s,a,c,f,m);var s,a,c,f,m}createSyncEngine(t,s){return function(a,c,f,m,N,j,X){const ce=new Zc(a,c,f,m,N,j);return X&&(ce.vc=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}terminate(){return(t=(0,E.A)(function*(s){const a=Le(s);Nt("RemoteStore","RemoteStore shutting down."),a.vu.add(5),yield sh(a),a.Pu.shutdown(),a.bu.set("Unknown")}),function(s){return t.apply(this,arguments)})(this.remoteStore);var t}}class ch{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):O("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,s){this.muted||setTimeout(()=>{this.muted||t(s)},0)}}class hE{constructor(t,s,a,c){var f=this;this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=c,this.user=is.UNAUTHENTICATED,this.clientId=Br.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var m=(0,E.A)(function*(N){Nt("FirestoreClient","Received user=",N.uid),yield f.authCredentialListener(N),f.user=N});return function(N){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(a,m=>(Nt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var t=this;return(0,E.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const s=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),s.resolve()}catch(a){const c=_d(a,"Failed to shutdown persistence");s.reject(c)}})),s.promise}}function uh(i,t){return tf.apply(this,arguments)}function tf(){return tf=(0,E.A)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const s=yield i.getConfiguration();yield t.initialize(s);let a=s.initialUser;i.setCredentialChangeListener(function(){var c=(0,E.A)(function*(f){a.isEqual(f)||(yield By(t.localStore,f),a=f)});return function(f){return c.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}),tf.apply(this,arguments)}function om(i,t){return am.apply(this,arguments)}function am(){return am=(0,E.A)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const s=yield function cm(i){return _p.apply(this,arguments)}(i);Nt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield t.initialize(s,a),i.setCredentialChangeListener(c=>ih(t.remoteStore,c)),i.setAppCheckTokenChangeListener((c,f)=>ih(t.remoteStore,f)),i._onlineComponents=t}),am.apply(this,arguments)}function lm(i){return"FirebaseError"===i.name?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function _p(){return _p=(0,E.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uh(i,i._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!lm(s))throw s;Y("Error using user provided cache. Falling back to memory cache: "+s),yield uh(i,new Cd)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield uh(i,new Cd);return i._offlineComponents}),_p.apply(this,arguments)}function um(i){return _v.apply(this,arguments)}function _v(){return _v=(0,E.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield om(i,i._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield om(i,new nu))),i._onlineComponents}),_v.apply(this,arguments)}function hh(i){return fm.apply(this,arguments)}function fm(){return fm=(0,E.A)(function*(i){const t=yield um(i),s=t.eventManager;return s.onListen=hp.bind(null,t.syncEngine),s.onUnlisten=rE.bind(null,t.syncEngine),s}),fm.apply(this,arguments)}function yE(i){const t={};return void 0!==i.timeoutSeconds&&(t.timeoutSeconds=i.timeoutSeconds),t}const vE=new Map;function wv(i,t,s){if(!s)throw new dt(xe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function nf(i){if(!en.isDocumentKey(i))throw new dt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rf(i){if(en.isDocumentKey(i))throw new dt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(s=i).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof i?"a function":V()}function ds(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new dt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=sf(i);throw new dt(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return i}class ym{constructor(t){var s,a;if(void 0===t.host){if(void 0!==t.ssl)throw new dt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(s=t.ssl)||void 0===s||s;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function _E(i,t,s,a){if(!0===t&&!0===a)throw new dt(xe.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yE(null!==(a=t.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new dt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fh{constructor(t,s,a,c){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ym({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new dt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ym(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new Vn;switch(s.type){case"firstParty":return new Vs(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=vE.get(t);s&&(Nt("ComponentProvider","Removing Datastore"),vE.delete(t),s.terminate())}(this),Promise.resolve()}}class bi{constructor(t,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class ni{constructor(t,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ni(this.firestore,t,this._query)}}class Yl extends ni{constructor(t,s,a){super(t,s,ho(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new en(t))}withConverter(t){return new Yl(this.firestore,t,this._path)}}function qD(i,t,...s){if(i=(0,K.Ku)(i),wv("collection","path",t),i instanceof fh){const a=Kr.fromString(t,...s);return rf(a),new Yl(i,null,a)}{if(!(i instanceof bi||i instanceof Yl))throw new dt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Kr.fromString(t,...s));return rf(a),new Yl(i.firestore,null,a)}}function EE(i,t,...s){if(i=(0,K.Ku)(i),1===arguments.length&&(t=Br.A()),wv("doc","path",t),i instanceof fh){const a=Kr.fromString(t,...s);return nf(a),new bi(i,null,new en(a))}{if(!(i instanceof bi||i instanceof Yl))throw new dt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Kr.fromString(t,...s));return nf(a),new bi(i.firestore,i instanceof Yl?i.converter:null,new en(a))}}class Iv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Qh(this,"async_queue_retry"),this.Xc=()=>{const s=ud();s&&Nt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.qo.Mo()};const t=ud();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const s=ud();s&&"function"==typeof s.removeEventListener&&s.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const s=new In;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,E.A)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(s){if(!za(s))throw s;Nt("AsyncQueue","Operation failed with retryable error: "+s)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const s=this.Gc.then(()=>(this.Hc=!0,t().catch(a=>{throw this.Wc=a,this.Hc=!1,O("INTERNAL UNHANDLED ERROR: ",function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),m}(a)),a}).then(a=>(this.Hc=!1,a))));return this.Gc=s,s}enqueueAfterDelay(t,s,a){this.Zc(),this.Yc.indexOf(t)>-1&&(s=0);const c=sv.createAndSchedule(this,t,s,a,f=>this.na(f));return this.zc.push(c),c}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var t=this;return(0,E.A)(function*(){let s;do{s=t.Gc,yield s}while(s!==t.Gc)})()}ia(t){for(const s of this.zc)if(s.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.zc)if(s.skipDelay(),"all"!==t&&s.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const s=this.zc.indexOf(t);this.zc.splice(s,1)}}function Tv(i){return function(t){if("object"!=typeof t||null===t)return!1;const a=t;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(i)}class Pi extends fh{constructor(t,s,a,c){super(t,s,a,c),this.type="firestore",this._queue=new Iv,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Al(this),this._firestoreClient.terminate()}}function CE(i,t){const s="object"==typeof i?i:(0,v.Sx)(),a="string"==typeof i?i:t||"(default)",c=(0,v.j6)(s,"firestore").getImmediate({identifier:a});if(!c._initialized){const f=(0,K.yU)("firestore");f&&function Cv(i,t,s,a={}){var c;const f=(i=ds(i,fh))._getSettings(),m=`${t}:${s}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&Y("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),a.mockUserToken){let N,j;if("string"==typeof a.mockUserToken)N=a.mockUserToken,j=is.MOCK_USER;else{N=(0,K.Fy)(a.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const X=a.mockUserToken.sub||a.mockUserToken.user_id;if(!X)throw new dt(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new is(X)}i._authCredentials=new Ur(new Mr(N,j))}}(c,...f)}return c}function Po(i){return i._firestoreClient||Al(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Al(i){var t,s,a;const c=i._freezeSettings(),f=(N=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new ua(i._databaseId,N,i._persistenceKey,(X=c).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,yE(X.experimentalLongPollingOptions),X.useFetchStreams));var N,X;i._firestoreClient=new hE(i._authCredentials,i._appCheckCredentials,i._queue,f),null!==(s=c.cache)&&void 0!==s&&s._offlineComponentProvider&&null!==(a=c.cache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}function IE(i,t){!function yr(i){if(i._initialized||i._terminated)throw new dt(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=ds(i,Pi));const s=Po(i);if(s._uninitializedComponentsProvider)throw new dt(xe.FAILED_PRECONDITION,"SDK cache is already specified.");Y("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=i._freezeSettings(),c=new nu;return function bv(i,t,s){const a=new In;return i.asyncQueue.enqueue((0,E.A)(function*(){try{yield uh(i,s),yield om(i,t),a.resolve()}catch(c){const f=c;if(!lm(f))throw f;Y("Error enabling indexeddb cache. Falling back to memory cache: "+f),a.reject(f)}})).then(()=>a.promise)}(s,c,new rm(c,a.cacheSizeBytes,t?.forceOwnership))}class ru{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ru(to.fromBase64String(t))}catch(s){throw new dt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new ru(to.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rc{constructor(...t){for(let s=0;s<t.length;++s)if(0===t[s].length)throw new dt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new os(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lu{constructor(t){this._methodName=t}}class Dp{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new dt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new dt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ln(this._lat,t._lat)||ln(this._long,t._long)}}const af=/^__.*__$/;class Av{constructor(t,s,a){this.data=t,this.fieldMask=s,this.fieldTransforms=a}toMutation(t,s){return null!==this.fieldMask?new xt(t,this.data,this.fieldMask,s,this.fieldTransforms):new cn(t,this.data,s,this.fieldTransforms)}}class Ov{constructor(t,s,a){this.data=t,this.fieldMask=s,this.fieldTransforms=a}toMutation(t,s){return new xt(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function Nv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class lf{constructor(t,s,a,c,f,m){this.settings=t,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=c,void 0===f&&this.ua(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new lf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(t),c=this.aa({path:a,la:!1});return c.fa(t),c}da(t){var s;const a=null===(s=this.path)||void 0===s?void 0:s.child(t),c=this.aa({path:a,la:!1});return c.ua(),c}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Tp(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(s=>t.isPrefixOf(s))||void 0!==this.fieldTransforms.find(s=>t.isPrefixOf(s.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(Nv(this.ca)&&af.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class _m{constructor(t,s,a){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=a||dd(t)}ya(t,s,a,c=!1){return new lf({ca:t,methodName:s,ga:a,path:os.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sd(i){const t=i._freezeSettings(),s=dd(i._databaseId);return new _m(i._databaseId,!!t.ignoreUndefinedProperties,s)}function cf(i,t,s,a,c,f={}){const m=i.ya(f.merge||f.mergeFields?2:0,t,s,c);Dm("Data must be an object, but it was:",m,a);const N=hf(a,m);let j,X;if(f.merge)j=new wo(m.fieldMask),X=m.fieldTransforms;else if(f.mergeFields){const ce=[];for(const Ae of f.mergeFields){const rt=ff(t,Ae,s);if(!m.contains(rt))throw new dt(xe.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);Fv(ce,rt)||ce.push(rt)}j=new wo(ce),X=m.fieldTransforms.filter(Ae=>j.covers(Ae.field))}else j=null,X=m.fieldTransforms;return new Av(new uo(N),j,X)}class Vu extends Lu{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vu}}class uf extends Lu{_toFieldTransform(t){return new y(t.path,new Rs)}isEqual(t){return t instanceof uf}}function Uu(i,t){if(Cp(i=(0,K.Ku)(i)))return Dm("Unsupported field value:",t,i),hf(i,t);if(i instanceof Lu)return function(s,a){if(!Nv(a.ca))throw a._a(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a._a(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let N=Uu(m,a.wa(f));null==N&&(N={nullValue:"NULL_VALUE"}),c.push(N),f++}return{arrayValue:{values:c}}}(i,t)}return function(s,a){if(null===(s=(0,K.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Nh(a.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=us.fromDate(s);return{timestampValue:kd(a.serializer,c)}}if(s instanceof us){const c=new us(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kd(a.serializer,c)}}if(s instanceof Dp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ru)return{bytesValue:tg(a.serializer,s._byteString)};if(s instanceof bi){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a._a(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ng(s.firestore._databaseId||a.databaseId,s._key.path)}}throw a._a(`Unsupported field value: ${sf(s)}`)}(i,t)}function hf(i,t){const s={};return Xa(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(i,(a,c)=>{const f=Uu(c,t.ha(a));null!=f&&(s[a]=f)}),{mapValue:{fields:s}}}function Cp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof us||i instanceof Dp||i instanceof ru||i instanceof bi||i instanceof Lu)}function Dm(i,t,s){if(!Cp(s)||"object"!=typeof(a=s)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=sf(s);throw t._a("an object"===a?i+" a custom object":i+" "+a)}var a}function ff(i,t,s){if((t=(0,K.Ku)(t))instanceof Rc)return t._internalPath;if("string"==typeof t)return Ip(i,t);throw Tp("Field path arguments must be of type string or ",i,!1,void 0,s)}const Pv=new RegExp("[~\\*/\\[\\]]");function Ip(i,t,s){if(t.search(Pv)>=0)throw Tp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Rc(...t.split("."))._internalPath}catch{throw Tp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Tp(i,t,s,a,c){const f=a&&!a.isEmpty(),m=void 0!==c;let N=`Function ${t}() called with invalid data`;s&&(N+=" (via `toFirestore()`)"),N+=". ";let j="";return(f||m)&&(j+=" (found",f&&(j+=` in field ${a}`),m&&(j+=` in document ${c}`),j+=")"),new dt(xe.INVALID_ARGUMENT,N+i+j)}function Fv(i,t){return i.some(s=>s.isEqual(t))}class Yo{constructor(t,s,a,c,f){this._firestore=t,this._userDataWriter=s,this._key=a,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(pf("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s)}}}class bE extends Yo{data(){return super.data()}}function pf(i,t){return"string"==typeof t?Ip(i,t):t instanceof Rc?t._internalPath:t._delegate._internalPath}function ME(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new dt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{convertValue(t,s="none"){switch(Ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $s(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 10:return this.convertObject(t.mapValue,s);default:throw V()}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const a={};return la(t,(c,f)=>{a[c]=this.convertValue(f,s)}),a}convertGeoPoint(t){return new Dp($s(t.latitude),$s(t.longitude))}convertArray(t,s){return(t.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(t,s){switch(s){case"previous":const a=sl(t);return null==a?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(ca(t));default:return null}}convertTimestamp(t){const s=yn(t);return new us(s.seconds,s.nanos)}convertDocumentKey(t,s){const a=Kr.fromString(t);te(kh(a));const c=new il(a.get(1),a.get(3)),f=new en(a.popFirst(5));return c.isEqual(s)||O(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),f}}class au{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ad extends Yo{constructor(t,s,a,c,f,m){super(t,s,a,c,m),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const a=this._document.data.field(pf("DocumentSnapshot.get",t));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class vf extends Ad{data(t={}){return super.data(t)}}class Od{constructor(t,s,a,c){this._firestore=t,this._userDataWriter=s,this._snapshot=c,this.metadata=new au(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,s){this._snapshot.docs.forEach(a=>{t.call(s,new vf(this._firestore,this._userDataWriter,a.key,a,new au(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new dt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new vf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new au(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const N=new vf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new au(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let j=-1,X=-1;return 0!==m.type&&(j=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),1!==m.type&&(f=f.add(m.doc),X=f.indexOf(m.doc.key)),{type:Bv(m.type),doc:N,oldIndex:j,newIndex:X}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function Bv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}function $v(i){i=ds(i,bi);const t=ds(i.firestore,Pi);return function Dv(i,t,s={}){const a=new In;return i.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(c,f,m,N,j){const X=new ch({next:Ae=>{f.enqueueAndForget(()=>Fg(c,ce));const rt=Ae.docs.has(m);!rt&&Ae.fromCache?j.reject(new dt(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Ae.fromCache&&N&&"server"===N.source?j.reject(new dt(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ae)},error:Ae=>j.reject(Ae)}),ce=new Vg(ho(m.path),X,{includeMetadataChanges:!0,Ku:!0});return up(c,ce)}(yield hh(i),i.asyncQueue,t,s,a)})),a.promise}(Po(t),i._key).then(s=>Op(t,i,s))}class Zl extends Vv{constructor(t){super(),this.firestore=t}convertBytes(t){return new ru(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,s)}}function bm(i){i=ds(i,ni);const t=ds(i.firestore,Pi),s=Po(t),a=new Zl(t);return ME(i._query),function mE(i,t,s={}){const a=new In;return i.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(c,f,m,N,j){const X=new ch({next:Ae=>{f.enqueueAndForget(()=>Fg(c,ce)),Ae.fromCache&&"server"===N.source?j.reject(new dt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ae)},error:Ae=>j.reject(Ae)}),ce=new Vg(m,X,{includeMetadataChanges:!0,Ku:!0});return up(c,ce)}(yield hh(i),i.asyncQueue,t,s,a)})),a.promise}(s,i._query).then(c=>new Od(t,a,i,c))}function Wv(i,t,s,...a){i=ds(i,bi);const c=ds(i.firestore,Pi),f=Sd(c);let m;return m="string"==typeof(t=(0,K.Ku)(t))||t instanceof Rc?function gh(i,t,s,a,c,f){const m=i.ya(1,t,s),N=[ff(t,a,s)],j=[c];if(f.length%2!=0)throw new dt(xe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<f.length;rt+=2)N.push(ff(t,f[rt])),j.push(f[rt+1]);const X=[],ce=uo.empty();for(let rt=N.length-1;rt>=0;--rt)if(!Fv(X,N[rt])){const It=N[rt];let Zt=j[rt];Zt=(0,K.Ku)(Zt);const un=m.da(It);if(Zt instanceof Vu)X.push(It);else{const pn=Uu(Zt,un);null!=pn&&(X.push(It),ce.set(It,pn))}}const Ae=new wo(X);return new Ov(ce,Ae,m.fieldTransforms)}(f,"updateDoc",i._key,t,s,a):function wp(i,t,s,a){const c=i.ya(1,t,s);Dm("Data must be an object, but it was:",c,a);const f=[],m=uo.empty();la(a,(j,X)=>{const ce=Ip(t,j,s);X=(0,K.Ku)(X);const Ae=c.da(ce);if(X instanceof Vu)f.push(ce);else{const rt=Uu(X,Ae);null!=rt&&(f.push(ce),m.set(ce,rt))}});const N=new wo(f);return new Ov(m,N,c.fieldTransforms)}(f,"updateDoc",i._key,t),Dh(c,[m.toMutation(i._key,Z.exists(!0))])}function NE(i){return Dh(ds(i.firestore,Pi),[new Rr(i._key,Z.none())])}function RE(i,t){const s=ds(i.firestore,Pi),a=EE(i),c=function yf(i,t,s){let a;return a=i?s&&(s.merge||s.mergeFields)?i.toFirestore(t,s):i.toFirestore(t):t,a}(i.converter,t);return Dh(s,[cf(Sd(i.firestore),"addDoc",a._key,c,null!==i.converter,{}).toMutation(a._key,Z.exists(!1))]).then(()=>a)}function Eh(i,...t){var s,a,c;i=(0,K.Ku)(i);let f={includeMetadataChanges:!1},m=0;"object"!=typeof t[m]||Tv(t[m])||(f=t[m],m++);const N={includeMetadataChanges:f.includeMetadataChanges};if(Tv(t[m])){const Ae=t[m];t[m]=null===(s=Ae.next)||void 0===s?void 0:s.bind(Ae),t[m+1]=null===(a=Ae.error)||void 0===a?void 0:a.bind(Ae),t[m+2]=null===(c=Ae.complete)||void 0===c?void 0:c.bind(Ae)}let j,X,ce;if(i instanceof bi)X=ds(i.firestore,Pi),ce=ho(i._key.path),j={next:Ae=>{t[m]&&t[m](Op(X,i,Ae))},error:t[m+1],complete:t[m+2]};else{const Ae=ds(i,ni);X=ds(Ae.firestore,Pi),ce=Ae._query;const rt=new Zl(X);j={next:It=>{t[m]&&t[m](new Od(X,rt,Ae,It))},error:t[m+1],complete:t[m+2]},ME(i._query)}return function(Ae,rt,It,Zt){const un=new ch(Zt),pn=new Vg(rt,un,It);return Ae.asyncQueue.enqueueAndForget((0,E.A)(function*(){return up(yield hh(Ae),pn)})),()=>{un.Dc(),Ae.asyncQueue.enqueueAndForget((0,E.A)(function*(){return Fg(yield hh(Ae),pn)}))}}(Po(X),ce,N,j)}function Dh(i,t){return function(s,a){const c=new In;return s.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function fp(i,t,s){return Jh.apply(this,arguments)}(yield function dm(i){return um(i).then(t=>t.syncEngine)}(s),a,c)})),c.promise}(Po(i),t)}function Op(i,t,s){const a=s.docs.get(t._key),c=new Zl(i);return new Ad(i,c,t._key,a,new au(s.hasPendingWrites,s.fromCache),t.converter)}function _f(){return new uf("serverTimestamp")}!function(i,t=!0){Cr=v.MF,(0,v.om)(new ue.uA("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Pi(new Pt(s.getProvider("auth-internal")),new ia(s.getProvider("app-check-internal")),function(N,j){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new dt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(N.options.projectId,j)}(f,a),f);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),(0,v.KO)(Zi,"3.13.0",i),(0,v.KO)(Zi,"3.13.0","esm2017")}()},9687:(pt,ye,C)=>{C.d(ye,{q:()=>ue});var E=C(6129);class v{constructor(K,J=v.now){this.schedulerActionCtor=K,this.now=J}schedule(K,J=0,q){return new this.schedulerActionCtor(this,K).schedule(q,J)}}v.now=E.U.now;class ue extends v{constructor(K,J=v.now){super(K,J),this.actions=[],this._active=!1}flush(K){const{actions:J}=this;if(this._active)return void J.push(K);let q;this._active=!0;do{if(q=K.execute(K.state,K.delay))break}while(K=J.shift());if(this._active=!1,q){for(;K=J.shift();)K.unsubscribe();throw q}}}},9786:(pt,ye,C)=>{C.d(ye,{Y:()=>ue,l:()=>U});var E=C(1026);let v=null;function ue(K){if(E.$.useDeprecatedSynchronousErrorHandling){const J=!v;if(J&&(v={errorThrown:!1,error:null}),K(),J){const{errorThrown:q,error:W}=v;if(v=null,q)throw W}}else K()}function U(K){E.$.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=K)}},9858:(pt,ye,C)=>{C.d(ye,{y:()=>v});var E=C(8071);function v(ue){return(0,E.T)(ue?.then)}},9898:(pt,ye,C)=>{C.d(ye,{B:()=>ue});var E=C(9974),v=C(4360);function ue(){return(0,E.N)((U,K)=>{let J=null;U._refCount++;const q=(0,v._)(K,void 0,void 0,void 0,()=>{if(!U||U._refCount<=0||0<--U._refCount)return void(J=null);const W=U._connection,se=J;J=null,W&&(!se||W===se)&&W.unsubscribe(),K.unsubscribe()});U.subscribe(q),q.closed||(J=U.connect())})}},9901:(pt,ye,C)=>{C.d(ye,{U:()=>ue});var E=C(9974),v=C(4360);function ue(U){return(0,E.N)((K,J)=>{let q=!1;K.subscribe((0,v._)(J,W=>{q=!0,J.next(W)},()=>{q||J.next(U),J.complete()}))})}},9969:(pt,ye,C)=>{C.d(ye,{FX:()=>An,If:()=>ue,K2:()=>W,MA:()=>Fe,Os:()=>q,P:()=>Te,S6:()=>He,hZ:()=>K,i0:()=>J,i7:()=>ne,iF:()=>se,kY:()=>Ce,kp:()=>U,sf:()=>jt,ui:()=>sn,wk:()=>ee,yc:()=>qe});var E=C(177),v=C(4438),ue=function(yt){return yt[yt.State=0]="State",yt[yt.Transition=1]="Transition",yt[yt.Sequence=2]="Sequence",yt[yt.Group=3]="Group",yt[yt.Animate=4]="Animate",yt[yt.Keyframes=5]="Keyframes",yt[yt.Style=6]="Style",yt[yt.Trigger=7]="Trigger",yt[yt.Reference=8]="Reference",yt[yt.AnimateChild=9]="AnimateChild",yt[yt.AnimateRef=10]="AnimateRef",yt[yt.Query=11]="Query",yt[yt.Stagger=12]="Stagger",yt}(ue||{});const U="*";function K(yt,Ze){return{type:ue.Trigger,name:yt,definitions:Ze,options:{}}}function J(yt,Ze=null){return{type:ue.Animate,styles:Ze,timings:yt}}function q(yt,Ze=null){return{type:ue.Group,steps:yt,options:Ze}}function W(yt,Ze=null){return{type:ue.Sequence,steps:yt,options:Ze}}function se(yt){return{type:ue.Style,styles:yt,offset:null}}function ee(yt,Ze,Ut){return{type:ue.State,name:yt,styles:Ze,options:Ut}}function ne(yt){return{type:ue.Keyframes,steps:yt}}function Ce(yt,Ze,Ut=null){return{type:ue.Transition,expr:yt,animation:Ze,options:Ut}}function Fe(yt=null){return{type:ue.AnimateChild,options:yt}}function Te(yt,Ze,Ut=null){return{type:ue.Query,selector:yt,animation:Ze,options:Ut}}function qe(yt,Ze){return{type:ue.Stagger,timings:yt,animation:Ze}}let He=(()=>{class yt{static \u0275fac=function(gn){return new(gn||yt)};static \u0275prov=v.jDH({token:yt,factory:()=>(0,v.WQX)(Tt),providedIn:"root"})}return yt})();class Dt{}let Tt=(()=>{class yt extends He{animationModuleType=(0,v.WQX)(v.bc$,{optional:!0});_nextAnimationId=0;_renderer;constructor(Ut,gn){if(super(),this._renderer=Ut.createRenderer(gn.body,{id:"0",encapsulation:v.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function qt(yt){const Ze=yt.\u0275type;return 0===Ze||1===Ze}(this._renderer))throw new v.wOt(3600,!1)}build(Ut){const gn=this._nextAnimationId;this._nextAnimationId++;const nr=Array.isArray(Ut)?W(Ut):Ut;return Vt(this._renderer,null,gn,"register",[nr]),new lt(gn,this._renderer)}static \u0275fac=function(gn){return new(gn||yt)(v.KVO(v._9s),v.KVO(E.DOCUMENT))};static \u0275prov=v.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();class lt extends Dt{_id;_renderer;constructor(Ze,Ut){super(),this._id=Ze,this._renderer=Ut}create(Ze,Ut){return new Xe(this._id,Ze,Ut||{},this._renderer)}}class Xe{id;element;_renderer;parentPlayer=null;_started=!1;constructor(Ze,Ut,gn,nr){this.id=Ze,this.element=Ut,this._renderer=nr,this._command("create",gn)}_listen(Ze,Ut){return this._renderer.listen(this.element,`@@${this.id}:${Ze}`,Ut)}_command(Ze,...Ut){Vt(this._renderer,this.element,this.id,Ze,Ut)}onDone(Ze){this._listen("done",Ze)}onStart(Ze){this._listen("start",Ze)}onDestroy(Ze){this._listen("destroy",Ze)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(Ze){this._command("setPosition",Ze)}getPosition(){return function kt(yt){const Ze=yt.\u0275type;return 0===Ze?yt:1===Ze?yt.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function Vt(yt,Ze,Ut,gn,nr){yt.setProperty(Ze,`@@${Ut}:${gn}`,nr)}class jt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Ze=0,Ut=0){this.totalTime=Ze+Ut}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ze=>Ze()),this._onDoneFns=[])}onStart(Ze){this._originalOnStartFns.push(Ze),this._onStartFns.push(Ze)}onDone(Ze){this._originalOnDoneFns.push(Ze),this._onDoneFns.push(Ze)}onDestroy(Ze){this._onDestroyFns.push(Ze)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ze=>Ze()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ze=>Ze()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ze){this._position=this.totalTime?Ze*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ze){const Ut="start"==Ze?this._onStartFns:this._onDoneFns;Ut.forEach(gn=>gn()),Ut.length=0}}class sn{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Ze){this.players=Ze;let Ut=0,gn=0,nr=0;const xr=this.players.length;0==xr?queueMicrotask(()=>this._onFinish()):this.players.forEach(as=>{as.onDone(()=>{++Ut==xr&&this._onFinish()}),as.onDestroy(()=>{++gn==xr&&this._onDestroy()}),as.onStart(()=>{++nr==xr&&this._onStart()})}),this.totalTime=this.players.reduce((as,Fr)=>Math.max(as,Fr.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ze=>Ze()),this._onDoneFns=[])}init(){this.players.forEach(Ze=>Ze.init())}onStart(Ze){this._onStartFns.push(Ze)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ze=>Ze()),this._onStartFns=[])}onDone(Ze){this._onDoneFns.push(Ze)}onDestroy(Ze){this._onDestroyFns.push(Ze)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ze=>Ze.play())}pause(){this.players.forEach(Ze=>Ze.pause())}restart(){this.players.forEach(Ze=>Ze.restart())}finish(){this._onFinish(),this.players.forEach(Ze=>Ze.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ze=>Ze.destroy()),this._onDestroyFns.forEach(Ze=>Ze()),this._onDestroyFns=[])}reset(){this.players.forEach(Ze=>Ze.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ze){const Ut=Ze*this.totalTime;this.players.forEach(gn=>{const nr=gn.totalTime?Math.min(1,Ut/gn.totalTime):1;gn.setPosition(nr)})}getPosition(){const Ze=this.players.reduce((Ut,gn)=>null===Ut||gn.totalTime>Ut.totalTime?gn:Ut,null);return null!=Ze?Ze.getPosition():0}beforeDestroy(){this.players.forEach(Ze=>{Ze.beforeDestroy&&Ze.beforeDestroy()})}triggerCallback(Ze){const Ut="start"==Ze?this._onStartFns:this._onDoneFns;Ut.forEach(gn=>gn()),Ut.length=0}}const An="!"},9974:(pt,ye,C)=>{C.d(ye,{N:()=>ue,S:()=>v});var E=C(8071);function v(U){return(0,E.T)(U?.lift)}function ue(U){return K=>{if(v(K))return K.lift(function(J){try{return U(J,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}}},pt=>{pt(pt.s=4384)}]);