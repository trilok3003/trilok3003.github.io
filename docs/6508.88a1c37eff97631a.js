"use strict";(self.webpackChunkportfolio_all_in_one=self.webpackChunkportfolio_all_in_one||[]).push([[6508],{7428:(or,ue,m)=>{m.d(ue,{B2:()=>I,NY:()=>O,x8:()=>Fe});var I=function(u){return u.black="#000000",u.white="#ffffff",u.darkGreen="darkgreen",u.indigo="indigo",u.purple="purple",u.brown="brown",u.lime="lime",u.teal="teal",u.custom1="rgb(172 72 0)",u.rose="#C51162",u.violet="#7B1FA2",u.azure="#0091EA",u.spring="#00C853",u.chartreuse="#AFB42B",u.orange="#F57C00",u.magenta="#C2185B",u.cyan="#0097A7",u.yellow="#FBC02D",u.blue="#1976D2",u.green="#388E3C",u.red="#D32F2F",u.danger="#a6192e",u.warning="#ff9900",u.success="#04b34f",u.info="#0057b8",u.dark="#000000",u.light="#ffffff",u.grey="#4b4f55",u.default="var(--primary-color-light)",u}(I||{}),O=function(u){return u.black="#f6f6f6",u.white="#000000",u.darkGreen="#ffffff",u.indigo="#ffffff",u.purple="#ffffff",u.brown="#ffffff",u.lime="#000000",u.teal="#ffffff",u.custom1="#ffffff",u.rose="#ffffff",u.violet="#ffffff",u.azure="#000000",u.spring="#000000",u.chartreuse="#000000",u.orange="#000000",u.magenta="#ffffff",u.cyan="#000000",u.yellow="#000000",u.blue="#ffffff",u.green="#ffffff",u.red="#ffffff",u.danger="#ffffff",u.warning="#000000",u.success="#000000",u.info="#ffffff",u.dark="#f6f6f6",u.light="#333333",u.grey="#f6f6f6",u.default="var(--secondary-color)",u}(O||{});const Fe=Object.keys(I)},6703:(or,ue,m)=>{m.r(ue),m.d(ue,{FirebaseModule:()=>xc});var I=m(177),O=m(884),r=m(4438),de=m(4373),w=m(8910);const Fe=(n,t,e)=>({"badge-success":n,"badge-warning":t,"badge-danger":e});function Oe(n,t){if(1&n&&(r.j41(0,"div",5),r.EFF(1),r.k0s()),2&n){const e=t.ngIf;r.Y8G("ngClass",r.sMw(2,Fe,"online"===(null==e?null:e.status),"away"===(null==e?null:e.status),"offline"===(null==e?null:e.status))),r.R7$(),r.SpI(" ",null==e?null:e.status,"\n")}}let u=(()=>{class n{constructor(e,i){this.presenceService=e,this.checkPresenceService=i,this.uid="1",this.presenceService.configureUserPresenceByLocal(),this.setPresence("user1")}ngOnInit(){this.presence$=this.presenceService.getPresence(this.uid),this.counts$=this.presenceService.getUserOnlineCounts$}setPresence(e){this.checkPresenceService.checkPresence(`checkPresence/${e}`)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(de.BF),r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-realtime-presence"]],standalone:!1,decls:8,vars:6,consts:[["class","badge",3,"ngClass",4,"ngIf"],[1,"ping"],[1,"outer"],[1,"inner"],[1,"num"],[1,"badge",3,"ngClass"]],template:function(i,s){1&i&&(r.DNE(0,Oe,2,6,"div",0),r.nI1(1,"async"),r.j41(2,"span",1),r.nrm(3,"span",2)(4,"span",3),r.k0s(),r.j41(5,"span",4),r.EFF(6),r.nI1(7,"async"),r.k0s()),2&i&&(r.Y8G("ngIf",r.bMT(1,2,s.presence$)),r.R7$(6),r.JRh(r.bMT(7,4,s.counts$)))},dependencies:[I.NgClass,I.NgIf,I.AsyncPipe],encapsulation:2})}}return n})();var Ne=m(8141);const xn=n=>({active:n});let ar=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.userId="1",this.itemId="election mp",this.voteCount=0,this.userVote=0}ngOnInit(){this.getItemVotes("election mp")}getItemVotes(e){this.subscription=this.abstractFirebaseDb.readRealtimeOriginal$(`votes/${e}`).pipe((0,Ne.M)(i=>{this.voteCount=i.reduce((s,o)=>s+o,0)})).subscribe(i=>{this.userId&&(this.userVote=i[this.userId])})}updateUserVote(e,i,s){let o={};o[i]=s,this.abstractFirebaseDb.update(`votes/${e}`,o).then()}upvote(){this.updateUserVote(this.itemId,this.userId,1==this.userVote?0:1)}downvote(){this.updateUserVote(this.itemId,this.userId,-1==this.userVote?0:-1)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-voting"]],inputs:{userId:"userId",itemId:"itemId"},standalone:!1,decls:5,vars:7,consts:[[1,"votebox"],[1,"fa","fa-arrow-up","vote","up",3,"click","ngClass"],[1,"vote-count"],[1,"fa","fa-arrow-down","vote","down",3,"click","ngClass"]],template:function(i,s){1&i&&(r.j41(0,"div",0)(1,"span",1),r.bIt("click",function(){return s.upvote()}),r.k0s(),r.j41(2,"span",2),r.EFF(3),r.k0s(),r.j41(4,"span",3),r.bIt("click",function(){return s.downvote()}),r.k0s()()),2&i&&(r.R7$(),r.Y8G("ngClass",r.eq3(3,xn,s.userVote>0)),r.R7$(2),r.JRh(s.voteCount),r.R7$(),r.Y8G("ngClass",r.eq3(5,xn,s.userVote<0)))},dependencies:[I.NgClass],styles:[".votebox[_ngcontent-%COMP%]{height:120px;width:120px;display:flex;text-align:center;flex-direction:column;font-size:2em}.votebox[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]{cursor:pointer}.votebox[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]:hover{color:orange}.votebox[_ngcontent-%COMP%]   .active.up[_ngcontent-%COMP%]{color:green}.votebox[_ngcontent-%COMP%]   .active.down[_ngcontent-%COMP%]{color:red}"]})}}return n})();var y=m(9417);function cr(n,t){if(1&n){const e=r.RV6();r.j41(0,"span",12),r.bIt("click",function(){r.eBV(e);const s=r.XpG().$implicit,o=r.XpG();return r.Njj(o.updateActive(!1,s.key))}),r.EFF(1,"Mark Complete"),r.k0s()}}function lr(n,t){if(1&n){const e=r.RV6();r.j41(0,"span",13),r.bIt("click",function(){r.eBV(e);const s=r.XpG().$implicit,o=r.XpG();return r.Njj(o.updateActive(!0,s.key))}),r.EFF(1,"Mark Active"),r.k0s()}}function ur(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"h5"),r.EFF(2),r.k0s(),r.EFF(3),r.nI1(4,"date"),r.j41(5,"span",8),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.updateTimeStamp(s.key))}),r.EFF(6,"Update Timestamp"),r.k0s(),r.DNE(7,cr,2,0,"span",9)(8,lr,2,0,"span",10),r.j41(9,"span",11),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.delete(s.key))}),r.EFF(10,"Delete"),r.k0s(),r.bVm()}if(2&n){const e=t.$implicit;r.R7$(2),r.JRh(e.title||"missing title"),r.R7$(),r.Lme(" Active: ",e.active," ",r.bMT(4,5,e.timeStamp)," "),r.R7$(4),r.Y8G("ngIf",e.active),r.R7$(),r.Y8G("ngIf",!e.active)}}function dr(n,t){if(1&n){const e=r.RV6();r.j41(0,"span",15),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.deleteItem())}),r.EFF(1,"Delete All"),r.k0s()}}function hr(n,t){if(1&n&&(r.qex(0),r.DNE(1,dr,2,0,"span",14),r.bVm()),2&n){const e=t.ngIf;r.R7$(),r.Y8G("ngIf",e.length)}}function pr(n,t){1&n&&(r.j41(0,"span"),r.EFF(1,"template renders here..."),r.k0s())}function fr(n,t){if(1&n&&(r.j41(0,"div"),r.DNE(1,pr,2,0,"span",16),r.k0s()),2&n){r.XpG();const e=r.sdS(7),i=r.sdS(12),s=r.sdS(14);r.R7$(),r.Y8G("ngIf",e.errors)("ngIfThen",s)("ngIfElse",i)}}function mr(n,t){1&n&&(r.j41(0,"p",17),r.EFF(1,"looks good! "),r.k0s())}function _r(n,t){1&n&&(r.j41(0,"p",18),r.EFF(1,"form contains errors!"),r.k0s())}class Mn{constructor(){this.active=!0}}let gr=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.item=new Mn}ngOnInit(){this.items$=this.abstractFirebaseDb.readRealtime$("tasks")}updateTimeStamp(e){let i=(new Date).getTime();this.abstractFirebaseDb.update(`tasks/${e}`,{timeStamp:i}).then()}updateActive(e,i){this.abstractFirebaseDb.update(`tasks/${i}`,{active:e}).then()}deleteItem(){this.abstractFirebaseDb.remove("tasks").then()}createItem(){this.abstractFirebaseDb.create("tasks",this.item).then(e=>{this.item=new Mn})}delete(e){this.abstractFirebaseDb.remove(`tasks/${e}`).then()}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-task"]],standalone:!1,decls:15,vars:9,consts:[["title","ngModel"],["valid",""],["errors",""],[1,"container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Item Title","required","","minlength","2","maxlength","23","autofocus","",1,"form-control","mt-4",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-info",3,"click"],["class","btn btn-primary ml-1",3,"click",4,"ngIf"],["class","btn btn-primary ml-2",3,"click",4,"ngIf"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"btn","btn-primary","ml-1",3,"click"],[1,"btn","btn-primary","ml-2",3,"click"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"text-success"],[1,"text-danger"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"div",3),r.DNE(1,ur,11,7,"ng-container",4),r.nI1(2,"async"),r.nrm(3,"br"),r.DNE(4,hr,2,1,"ng-container",5),r.nI1(5,"async"),r.j41(6,"input",6,0),r.mxI("ngModelChange",function(c){return r.eBV(o),r.DH7(s.item.title,c)||(s.item.title=c),r.Njj(c)}),r.k0s(),r.DNE(8,fr,2,3,"div",5),r.j41(9,"button",7),r.bIt("click",function(){return r.eBV(o),r.Njj(s.createItem())}),r.EFF(10,"Create"),r.k0s(),r.DNE(11,mr,2,0,"ng-template",null,1,r.C5r)(13,_r,2,0,"ng-template",null,2,r.C5r),r.k0s()}if(2&i){const o=r.sdS(7);r.R7$(),r.Y8G("ngForOf",r.bMT(2,5,s.items$)),r.R7$(3),r.Y8G("ngIf",r.bMT(5,7,s.items$)),r.R7$(2),r.R50("ngModel",s.item.title),r.R7$(2),r.Y8G("ngIf",o.dirty),r.R7$(),r.Y8G("disabled",!o.valid)}},dependencies:[I.NgForOf,I.NgIf,y.me,y.BC,y.YS,y.xh,y.tU,y.vS,I.AsyncPipe,I.DatePipe],encapsulation:2})}}return n})(),vr=(()=>{class n{transform(e){return e?e.filter(s=>!s.dismissed).reverse():void 0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=r.EJ8({name:"reverse",type:n,pure:!0,standalone:!1})}}return n})();const Ir=(n,t,e)=>({"bg-info":n,"bg-danger":t,"bg-success":e});function yr(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"button",6),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.dismiss(s.key))}),r.j41(4,"span",7),r.EFF(5,"\xd7"),r.k0s()()(),r.j41(6,"div",8),r.EFF(7),r.k0s()(),r.bVm()}if(2&n){const e=t.$implicit;r.R7$(),r.Y8G("ngClass",r.sMw(2,Ir,"info"===e.style,"danger"===e.style,"success"===e.style)),r.R7$(6),r.SpI(" ",e.content," ")}}class br{constructor(t,e){this.dismissed=!1,this.content=t,this.style=e||"info"}}let Tr=(()=>{class n{constructor(e,i){this.abstractFirebaseDb=e,this.abstractFirebaseDb2=i}ngOnInit(){this.getMessages()}getMessages(){this.messages=this.abstractFirebaseDb.readRealtime$("messages")}sendMessage(e,i){const s=new br(e,i);this.abstractFirebaseDb.create("messages",s).then()}dismissMessage(e){this.abstractFirebaseDb.update(`messages/${e}`,{dismissed:!0}).then()}dismiss(e){this.dismissMessage(e)}infoMessage(e="info"){this.sendMessage("I have some useful information for you...",e)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.B),r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-toast-message-notifications"]],standalone:!1,decls:11,vars:5,consts:[[2,"position","relative","min-height","200px"],[2,"position","absolute","top","0","right","0"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"toast","fade","show",3,"ngClass"],[1,"toast-header"],[1,"ml-2","mb-1","close",3,"click"],["aria-hidden","true"],[1,"toast-body"]],template:function(i,s){1&i&&(r.j41(0,"div",0)(1,"div",1),r.DNE(2,yr,8,6,"ng-container",2),r.nI1(3,"async"),r.nI1(4,"reverse"),r.k0s()(),r.j41(5,"button",3),r.bIt("click",function(){return s.infoMessage()}),r.EFF(6,"Info Toast"),r.k0s(),r.j41(7,"button",3),r.bIt("click",function(){return s.infoMessage("success")}),r.EFF(8,"success Toast"),r.k0s(),r.j41(9,"button",3),r.bIt("click",function(){return s.infoMessage("danger")}),r.EFF(10,"danger Toast"),r.k0s()),2&i&&(r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,r.bMT(3,1,s.messages))))},dependencies:[I.NgClass,I.NgForOf,I.AsyncPipe,vr],encapsulation:2})}}return n})();function kr(n,t){1&n&&(r.j41(0,"div"),r.EFF(1," button renders here "),r.k0s())}function Ar(n,t){if(1&n&&(r.qex(0),r.DNE(1,kr,2,0,"div",5),r.bVm()),2&n){const e=r.XpG(2),i=r.sdS(2),s=r.sdS(4);r.R7$(),r.Y8G("ngIf",e.isFollowing)("ngIfThen",s)("ngIfElse",i)}}function Rr(n,t){if(1&n&&(r.j41(0,"div",3),r.EFF(1),r.j41(2,"strong"),r.EFF(3),r.k0s(),r.EFF(4," followers "),r.DNE(5,Ar,2,3,"ng-container",4),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.Lme(" ","@","",e.user.name," has "),r.R7$(2),r.JRh(e.followerCount),r.R7$(2),r.Y8G("ngIf",e.currentUser.key!==e.user.key)}}function Er(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG();return r.Njj(s.toggleFollow(s.user))}),r.EFF(1,"Follow"),r.k0s()}}function Pr(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",7),r.bIt("click",function(){r.eBV(e);const s=r.XpG();return r.Njj(s.toggleFollow(s.user))}),r.EFF(1,"Unfollow"),r.k0s()}}let Sr=(()=>{class n{constructor(e){this.abstractFirebaseDb=e}ngOnInit(){this.user&&this.user.key&&this.getFollowers(this.user.key),this.currentUser&&this.currentUser.key&&this.getFollowing(this.currentUser.key,this.user.key)}ngOnChanges(e){}getFollowers(e){this.followers=this.abstractFirebaseDb.readRealtimeOriginal$(`followers/${e}`).pipe((0,Ne.M)(i=>{this.followerCount=Object.keys(i).reduce((s,o)=>s+i[o],0)})).subscribe()}getFollowing(e,i){this.following=this.abstractFirebaseDb.readRealtimeOriginal$(`following/${e}/${i}`).pipe((0,Ne.M)(s=>this.isFollowing=!!s)).subscribe()}follow(e,i){this.abstractFirebaseDb.update(`followers/${i}`,{[e]:!0}),this.abstractFirebaseDb.update(`following/${e}`,{[i]:!0})}unfollow(e,i){this.abstractFirebaseDb.remove(`followers/${i}/${e}`),this.abstractFirebaseDb.remove(`following/${e}/${i}`)}toggleFollow(e){const i=e.key,s=this.currentUser.key;this.isFollowing?this.unfollow(s,i):this.follow(s,i)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-user-profile"]],inputs:{user:"user",currentUser:"currentUser"},standalone:!1,features:[r.OA$],decls:5,vars:1,consts:[["followButton",""],["unfollowButton",""],["class","profile",4,"ngIf"],[1,"profile"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"button","is-info",3,"click"],[1,"button","is-warning",3,"click"]],template:function(i,s){1&i&&r.DNE(0,Rr,6,4,"div",2)(1,Er,2,0,"ng-template",null,0,r.C5r)(3,Pr,2,0,"ng-template",null,1,r.C5r),2&i&&r.Y8G("ngIf",s.currentUser)},dependencies:[I.NgIf],encapsulation:2})}}return n})();function wr(n,t){if(1&n&&(r.j41(0,"div"),r.nrm(1,"app-user-profile",1),r.k0s()),2&n){const e=t.$implicit,i=r.XpG();r.R7$(),r.Y8G("user",e)("currentUser",i.currentUser)}}let Fr=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.loginUserId="-NJv4HtIRVHIk7bB-7Px"}ngOnInit(){this.abstractFirebaseDb.readOnceOriginal("users/"+this.loginUserId).then(e=>{this.currentUser=e}),this.users$=this.abstractFirebaseDb.readRealtime$("users")}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-follow-system"]],standalone:!1,decls:6,vars:4,consts:[[4,"ngFor","ngForOf"],[3,"user","currentUser"]],template:function(i,s){1&i&&(r.EFF(0,"You are logged in as "),r.j41(1,"strong"),r.EFF(2),r.k0s(),r.nrm(3,"hr"),r.DNE(4,wr,2,2,"div",0),r.nI1(5,"async")),2&i&&(r.R7$(2),r.JRh(null==s.currentUser?null:s.currentUser.name),r.R7$(2),r.Y8G("ngForOf",r.bMT(5,2,s.users$)))},dependencies:[I.NgForOf,Sr,I.AsyncPipe],encapsulation:2})}}return n})(),Or=(()=>{class n{constructor(e){this.abstractFirebaseDb=e}ngOnInit(){}onIncrement(){this.incDisable=!0,this.abstractFirebaseDb.updateCounter("pages",!0).then(()=>this.incDisable=!1)}onDecrement(){this.decDisable=!0,this.abstractFirebaseDb.updateCounter("pages",!1).then(()=>this.decDisable=!1)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-couter-stats"]],standalone:!1,decls:4,vars:2,consts:[[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-warning",3,"click","disabled"]],template:function(i,s){1&i&&(r.j41(0,"button",0),r.bIt("click",function(){return s.onIncrement()}),r.EFF(1,"Inc"),r.k0s(),r.j41(2,"button",1),r.bIt("click",function(){return s.onDecrement()}),r.EFF(3,"Dec"),r.k0s()),2&i&&(r.Y8G("disabled",s.incDisable),r.R7$(2),r.Y8G("disabled",s.decDisable))},encapsulation:2})}}return n})();var Nr=m(8990);const Cr=["postForm"];function Dr(n,t){if(1&n){const e=r.RV6();r.j41(0,"li",5),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.fetchPost(s.key))}),r.EFF(1),r.nI1(2,"json"),r.j41(3,"span",5),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(o.deletePost(s.key))}),r.EFF(4,"X"),r.k0s()()}if(2&n){const e=t.$implicit;r.R7$(),r.Lme("",e.key," | ",r.bMT(2,2,null==e?null:e.value)," ")}}let xr=(()=>{class n{constructor(e){this.realtimeDbService=e}ngOnInit(){}onCreatePost(e){this.realtimeDbService.post("2023/posts.json",e).subscribe(i=>{this.postForm.reset()})}fetchPosts(){this.realtimeDbService.get("2023/posts.json").subscribe(e=>{this.posts=e})}fetchPost(e){this.realtimeDbService.get(`2023/posts/${e}.json`).subscribe(i=>{this.post=i})}deletePost(e){this.realtimeDbService.delete(`2023/posts/${e}.json`).subscribe(i=>{this.fetchPosts()})}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(Nr.A))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-realtimedb-playground"]],viewQuery:function(i,s){if(1&i&&r.GBs(Cr,5),2&i){let o;r.mGM(o=r.lsd())&&(s.postForm=o.first)}},standalone:!1,decls:25,vars:6,consts:[["postForm","ngForm"],[3,"ngSubmit"],["type","text","name","title","ngModel","","required",""],["id","content","name","content","ngModel","","required",""],["type","submit"],[3,"click"],[3,"click",4,"ngFor","ngForOf"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"h2"),r.EFF(1,"Angular: Making HTTP Requests with Firebase "),r.k0s(),r.j41(2,"form",1,0),r.bIt("ngSubmit",function(){r.eBV(o);const c=r.sdS(3);return r.Njj(s.onCreatePost(c.value))}),r.j41(4,"div")(5,"label")(6,"b"),r.EFF(7,"Title"),r.k0s()(),r.nrm(8,"input",2),r.j41(9,"label")(10,"b"),r.EFF(11,"Content"),r.k0s()(),r.nrm(12,"textarea",3),r.j41(13,"button",4),r.EFF(14,"Send Post"),r.k0s()()(),r.j41(15,"div")(16,"button",5),r.bIt("click",function(){return r.eBV(o),r.Njj(s.fetchPosts())}),r.EFF(17,"Fetch Posts"),r.k0s()(),r.nrm(18,"hr"),r.j41(19,"ul"),r.DNE(20,Dr,5,4,"li",6),r.nI1(21,"keyvalue"),r.k0s(),r.nrm(22,"hr"),r.EFF(23),r.nI1(24,"json")}2&i&&(r.R7$(20),r.Y8G("ngForOf",r.bMT(21,2,s.posts)),r.R7$(3),r.SpI("\n",r.bMT(24,4,s.post),"\n"))},dependencies:[I.NgForOf,y.qT,y.me,y.BC,y.cb,y.YS,y.vS,y.cV,I.JsonPipe,I.KeyValuePipe],encapsulation:2})}}return n})();var l=m(467),Un=(m(5891),m(1985),m(6354),m(1626)),g=(m(2214),m(2431)),f=m(1076),F=m(7852),Ln=m(8041),xe=m(1635),jn=m(1362);const Mr=function Gn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vn=new f.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$n=new Ln.Vy("@firebase/auth");function he(n,...t){$n.logLevel<=Ln.$b.ERROR&&$n.error(`Auth (${F.MF}): ${n}`,...t)}function R(n,...t){throw Me(n,...t)}function P(n,...t){return Me(n,...t)}function Bn(n,t,e){const i=Object.assign(Object.assign({},Mr()),{[t]:e});return new f.FA("auth","Firebase",i).create(t,{appName:n.name})}function Me(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Vn.create(n,...t)}function d(n,t,...e){if(!n)throw Me(t,...e)}function N(n){const t="INTERNAL ASSERTION FAILED: "+n;throw he(t),new Error(t)}function D(n,t){n||N(t)}const Wn=new Map;function x(n){D(n instanceof Function,"Expected a class definition");let t=Wn.get(n);return t?(D(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Wn.set(n,t),t)}function q(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Hn(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class X{constructor(t,e){this.shortDelay=t,this.longDelay=e,D(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,f.jZ)()||(0,f.lV)()}get(){return function jr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ue(){return"http:"===Hn()||"https:"===Hn()}()||(0,f.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(n,t){D(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class zn{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void N("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void N("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void N("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$r=new X(3e4,6e4);function T(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function A(n,t,e,i){return je.apply(this,arguments)}function je(){return(je=(0,l.A)(function*(n,t,e,i,s={}){return Yn(n,s,(0,l.A)(function*(){let o={},a={};i&&("GET"===t?a=i:o={body:JSON.stringify(i)});const c=(0,f.Am)(Object.assign({key:n.config.apiKey},a)).slice(1),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode),zn.fetch()(Kn(n,n.config.apiHost,e,c),Object.assign({method:t,headers:h,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Yn(n,t,e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,l.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Vr),t);try{const s=new Br(n),o=yield Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=yield o.json();if("needConfirmation"in a)throw J(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[h,p]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===h)throw J(n,"credential-already-in-use",a);if("EMAIL_EXISTS"===h)throw J(n,"email-already-in-use",a);if("USER_DISABLED"===h)throw J(n,"user-disabled",a);const _=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bn(n,_,p);R(n,_)}}catch(s){if(s instanceof f.g)throw s;R(n,"network-request-failed")}})).apply(this,arguments)}function M(n,t,e,i){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,l.A)(function*(n,t,e,i,s={}){const o=yield A(n,t,e,i,s);return"mfaPendingCredential"in o&&R(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function Kn(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?Le(n.config,s):`${n.config.apiScheme}://${s}`}class Br{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(P(this.auth,"network-request-failed")),$r.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function J(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=P(n,t,i);return s.customData._tokenResponse=e,s}function $e(){return($e=(0,l.A)(function*(n,t){return A(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function We(){return(We=(0,l.A)(function*(n,t){return A(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Q(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function He(){return(He=(0,l.A)(function*(n,t=!1){const e=(0,f.Ku)(n),i=yield e.getIdToken(t),s=pe(i);d(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:Q(ze(s.auth_time)),issuedAtTime:Q(ze(s.iat)),expirationTime:Q(ze(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function ze(n){return 1e3*Number(n)}function pe(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return he("JWT malformed, contained fewer than 3 sections"),null;try{const s=(0,f.u)(e);return s?JSON.parse(s):(he("Failed to decode base64 JWT payload"),null)}catch(s){return he("Caught error parsing JWT payload as JSON",s?.toString()),null}}function U(n,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof f.g&&function qr({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Xr{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const s=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,l.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,l.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class qn{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Z(n){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,l.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),s=yield U(n,function zr(n,t){return We.apply(this,arguments)}(e,{idToken:i}));d(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const a=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function Zr(n){return n.map(t=>{var{providerId:e}=t,i=(0,xe.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],c=function Qr(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}(n.providerData,a),_=!!n.isAnonymous&&!(n.email&&o.passwordHash||c?.length),b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qn(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,b)}),Ke.apply(this,arguments)}function qe(){return(qe=(0,l.A)(function*(n){const t=(0,f.Ku)(n);yield Z(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Xe(){return(Xe=(0,l.A)(function*(n,t){const e=yield Yn(n,{},(0,l.A)(function*(){const i=(0,f.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,a=Kn(n,s,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",zn.fetch()(a,{method:"POST",headers:c,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){d(t.idToken,"internal-error"),d(typeof t.idToken<"u","internal-error"),d(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Kr(n){const t=pe(n);return d(t,"internal-error"),d(typeof t.exp<"u","internal-error"),d(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return(0,l.A)(function*(){return d(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,l.A)(function*(){const{accessToken:s,refreshToken:o,expiresIn:a}=yield function es(n,t){return Xe.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(s,o,Number(a))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,a=new ee;return i&&(d("string"==typeof i,"internal-error",{appName:t}),a.refreshToken=i),s&&(d("string"==typeof s,"internal-error",{appName:t}),a.accessToken=s),o&&(d("number"==typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return N("not implemented")}}function G(n,t){d("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class ${constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=(0,xe.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qn(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,l.A)(function*(){const i=yield U(e,e.stsTokenManager.getToken(e.auth,t));return d(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Yr(n){return He.apply(this,arguments)}(this,t)}reload(){return function Jr(n){return qe.apply(this,arguments)}(this)}_assign(t){this!==t&&(d(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new $(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){d(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,l.A)(function*(){let s=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),s=!0),e&&(yield Z(i)),yield i.auth._persistUserIfCurrent(i),s&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,l.A)(function*(){const e=yield t.getIdToken();return yield U(t,function Wr(n,t){return $e.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,a,c,h,p,_;const b=null!==(i=e.displayName)&&void 0!==i?i:void 0,C=null!==(s=e.email)&&void 0!==s?s:void 0,V=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,we=null!==(a=e.photoURL)&&void 0!==a?a:void 0,er=null!==(c=e.tenantId)&&void 0!==c?c:void 0,On=null!==(h=e._redirectEventId)&&void 0!==h?h:void 0,tr=null!==(p=e.createdAt)&&void 0!==p?p:void 0,nr=null!==(_=e.lastLoginAt)&&void 0!==_?_:void 0,{uid:Nn,emailVerified:ir,isAnonymous:rr,providerData:Cn,stsTokenManager:sr}=e;d(Nn&&sr,t,"internal-error");const Mc=ee.fromJSON(this.name,sr);d("string"==typeof Nn,t,"internal-error"),G(b,t.name),G(C,t.name),d("boolean"==typeof ir,t,"internal-error"),d("boolean"==typeof rr,t,"internal-error"),G(V,t.name),G(we,t.name),G(er,t.name),G(On,t.name),G(tr,t.name),G(nr,t.name);const Dn=new $({uid:Nn,auth:t,email:C,emailVerified:ir,displayName:b,isAnonymous:rr,photoURL:we,phoneNumber:V,tenantId:er,stsTokenManager:Mc,createdAt:tr,lastLoginAt:nr});return Cn&&Array.isArray(Cn)&&(Dn.providerData=Cn.map(Uc=>Object.assign({},Uc))),On&&(Dn._redirectEventId=On),Dn}static _fromIdTokenResponse(t,e,i=!1){return(0,l.A)(function*(){const s=new ee;s.updateFromServerResponse(e);const o=new $({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return yield Z(o),o})()}}const Xn=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(e,i){var s=this;return(0,l.A)(function*(){s.storage[e]=i})()}_get(e){var i=this;return(0,l.A)(function*(){const s=i.storage[e];return void 0===s?null:s})()}_remove(e){var i=this;return(0,l.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function fe(n,t,e){return`firebase:${n}:${t}:${e}`}class z{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=fe(this.userKey,s.apiKey,o),this.fullPersistenceKey=fe("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,l.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?$._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,l.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,l.A)(function*(){if(!e.length)return new z(x(Xn),t,i);const s=(yield Promise.all(e.map(function(){var p=(0,l.A)(function*(_){if(yield _._isAvailable())return _});return function(_){return p.apply(this,arguments)}}()))).filter(p=>p);let o=s[0]||x(Xn);const a=fe(i,t.config.apiKey,t.name);let c=null;for(const p of e)try{const _=yield p._get(a);if(_){const b=$._fromJSON(t,_);p!==o&&(c=b),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return o._shouldAllowMigration&&h.length?(o=h[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(e.map(function(){var p=(0,l.A)(function*(_){if(_!==o)try{yield _._remove(a)}catch{}});return function(_){return p.apply(this,arguments)}}())),new z(o,t,i)):new z(o,t,i)})()}}function Jn(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ei(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ni(t))return"Blackberry";if(ii(t))return"Webos";if(Je(t))return"Safari";if((t.includes("chrome/")||Zn(t))&&!t.includes("edge/"))return"Chrome";if(ti(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Qn(n=(0,f.ZQ)()){return/firefox\//i.test(n)}function Je(n=(0,f.ZQ)()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zn(n=(0,f.ZQ)()){return/crios\//i.test(n)}function ei(n=(0,f.ZQ)()){return/iemobile/i.test(n)}function ti(n=(0,f.ZQ)()){return/android/i.test(n)}function ni(n=(0,f.ZQ)()){return/blackberry/i.test(n)}function ii(n=(0,f.ZQ)()){return/webos/i.test(n)}function me(n=(0,f.ZQ)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ri(n=(0,f.ZQ)()){return me(n)||ti(n)||ii(n)||ni(n)||/windows phone/i.test(n)||ei(n)}function si(n,t=[]){let e;switch(n){case"Browser":e=Jn((0,f.ZQ)());break;case"Worker":e=`${Jn((0,f.ZQ)())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${F.MF}/${i}`}class rs{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((a,c)=>{try{a(t(o))}catch(h){c(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,l.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const s of e.queue)yield s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}})()}}class ss{constructor(t,e,i){this.app=t,this.heartbeatServiceProvider=e,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oi(this),this.idTokenSubscription=new oi(this),this.beforeStateQueue=new rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=x(e)),this._initializationPromise=this.queue((0,l.A)(function*(){var s,o;if(!i._deleted&&(i.persistenceManager=yield z.create(i,t),!i._deleted)){if(null!==(s=i._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,l.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return(0,l.A)(function*(){var i;const s=yield e.assertedPersistence.getCurrentUser();let o=s,a=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const c=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,h=o?._redirectEventId,p=yield e.tryRedirectSignIn(t);(!c||c===h)&&p?.user&&(o=p.user,a=!0)}if(!o)return e.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{yield e.beforeStateQueue.runMiddleware(o)}catch(c){o=s,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(c))}return o?e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)}return d(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var e=this;return(0,l.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,l.A)(function*(){try{yield Z(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Gr(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,l.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,l.A)(function*(){const i=t?(0,f.Ku)(t):null;return i&&d(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,l.A)(function*(){if(!i._deleted)return t&&d(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,l.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,l.A)(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue((0,l.A)(function*(){yield e.assertedPersistence.setPersistence(x(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new f.FA("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,l.A)(function*(){const s=yield i.getOrInitRedirectPersistenceManager(e);return null===t?s.removeCurrentUser():s.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,l.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&x(t)||e._popupRedirectResolver;d(i,e,"argument-error"),e.redirectPersistenceManager=yield z.create(e,[x(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,l.A)(function*(){var i,s;return e._isInitialized&&(yield e.queue((0,l.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(s=e.redirectUser)||void 0===s?void 0:s._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,l.A)(function*(){if(t===e.currentUser)return e.queue((0,l.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e),a=this._isInitialized?Promise.resolve():this._initializationPromise;return d(a,this,"internal-error"),a.then(()=>o(this.currentUser)),"function"==typeof e?t.addObserver(e,i,s):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,l.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return d(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,l.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const s=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();return s&&(i["X-Firebase-Client"]=s),i})()}}function E(n){return(0,f.Ku)(n)}class oi{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,f.tD)(e=>this.observer=e)}get next(){return d(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ai(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function ci(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class te{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return N("not implemented")}_getIdTokenResponse(t){return N("not implemented")}_linkToIdToken(t,e){return N("not implemented")}_getReauthenticationResolver(t){return N("not implemented")}}function Ze(){return(Ze=(0,l.A)(function*(n,t){return A(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function tt(){return(tt=(0,l.A)(function*(n,t){return M(n,"POST","/v1/accounts:signInWithPassword",T(n,t))})).apply(this,arguments)}function at(){return(at=(0,l.A)(function*(n,t){return M(n,"POST","/v1/accounts:signInWithEmailLink",T(n,t))})).apply(this,arguments)}function ct(){return(ct=(0,l.A)(function*(n,t){return M(n,"POST","/v1/accounts:signInWithEmailLink",T(n,t))})).apply(this,arguments)}class ne extends te{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new ne(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ne(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,l.A)(function*(){switch(e.signInMethod){case"password":return function us(n,t){return tt.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function ms(n,t){return at.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:R(t,"internal-error")}})()}_linkToIdToken(t,e){var i=this;return(0,l.A)(function*(){switch(i.signInMethod){case"password":return function ui(n,t){return Ze.apply(this,arguments)}(t,{idToken:e,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function _s(n,t){return ct.apply(this,arguments)}(t,{idToken:e,email:i._email,oobCode:i._password});default:R(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function L(n,t){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.A)(function*(n,t){return M(n,"POST","/v1/accounts:signInWithIdp",T(n,t))})).apply(this,arguments)}class Y extends te{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Y(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):R("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=(0,xe.Tt)(e,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Y(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){return L(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,L(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,L(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,f.Am)(e)}return t}}class re{constructor(t){var e,i,s,o,a,c;const h=(0,f.I9)((0,f.hp)(t)),p=null!==(e=h.apiKey)&&void 0!==e?e:null,_=null!==(i=h.oobCode)&&void 0!==i?i:null,b=function ks(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=h.mode)&&void 0!==s?s:null);d(p&&_&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=_,this.continueUrl=null!==(o=h.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=h.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(c=h.tenantId)&&void 0!==c?c:null}static parseLink(t){const e=function As(n){const t=(0,f.I9)((0,f.hp)(n)).link,e=t?(0,f.I9)((0,f.hp)(t)).deep_link_id:null,i=(0,f.I9)((0,f.hp)(n)).deep_link_id;return(i?(0,f.I9)((0,f.hp)(i)).link:null)||i||e||t||n}(t);try{return new re(e)}catch{return null}}}let di=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return ne._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=re.parseLink(i);return d(s,"argument-error"),ne._fromEmailAndCode(e,s.code,s.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class j{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hi extends j{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let se=(()=>{class n extends hi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Y._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return n.credential(i,s)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function mt(){return(mt=(0,l.A)(function*(n,t){return M(n,"POST","/v1/accounts:signUp",T(n,t))})).apply(this,arguments)}class S{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,s=!1){return(0,l.A)(function*(){const o=yield $._fromIdTokenResponse(t,i,s),a=fi(i);return new S({user:o,providerId:a,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return(0,l.A)(function*(){yield t._updateTokensIfNecessary(i,!0);const s=fi(i);return new S({user:t,providerId:s,_tokenResponse:i,operationType:e})})()}}function fi(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ve extends f.g{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,ve.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new ve(t,e,i,s)}}function mi(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?ve._fromErrorAndOperation(n,o,t,i):o})}function It(){return(It=(0,l.A)(function*(n,t,e=!1){const i=yield U(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return S._forOperation(n,"link",i)})).apply(this,arguments)}function bt(){return(bt=(0,l.A)(function*(n,t,e=!1){const{auth:i}=n,s="reauthenticate";try{const o=yield U(n,mi(i,s,t,n),e);d(o.idToken,i,"internal-error");const a=pe(o.idToken);d(a,i,"internal-error");const{sub:c}=a;return d(n.uid===c,i,"user-mismatch"),S._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===o?.code&&R(i,"user-mismatch"),o}})).apply(this,arguments)}function vi(n,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.A)(function*(n,t,e=!1){const i="signIn",s=yield mi(n,i,t),o=yield S._fromIdTokenResponse(n,i,s);return e||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function At(){return(At=(0,l.A)(function*(n,t){return vi(E(n),t)})).apply(this,arguments)}function xt(){return(xt=(0,l.A)(function*(n,t,e){const i=E(n),s=yield function pi(n,t){return mt.apply(this,arguments)}(i,{returnSecureToken:!0,email:t,password:e}),o=yield S._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(o.user),o})).apply(this,arguments)}class K{constructor(t,e,i={}){this.isNewUser=t,this.providerId=e,this.profile=i}}class yi extends K{constructor(t,e,i,s){super(t,e,i),this.username=s}}class Ms extends K{constructor(t,e){super(t,"facebook.com",e)}}class Us extends yi{constructor(t,e){super(t,"github.com",e,"string"==typeof e?.login?e?.login:null)}}class Ls extends K{constructor(t,e){super(t,"google.com",e)}}class js extends yi{constructor(t,e,i){super(t,"twitter.com",e,i)}}function bi(n){const{user:t,_tokenResponse:e}=n;return t.isAnonymous&&!e?{providerId:null,isNewUser:!1,profile:null}:function xs(n){var t,e;if(!n)return null;const{providerId:i}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!i&&n?.idToken){const a=null===(e=null===(t=pe(n.idToken))||void 0===t?void 0:t.firebase)||void 0===e?void 0:e.sign_in_provider;if(a)return new K(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!i)return null;switch(i){case"facebook.com":return new Ms(o,s);case"github.com":return new Us(o,s);case"google.com":return new Ls(o,s);case"twitter.com":return new js(o,s,n.screenName||null);case"custom":case"anonymous":return new K(o,null);default:return new K(o,i,s)}}(e)}function Ti(n){return(0,f.Ku)(n).signOut()}const Te="__sak";class ki{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Te,"1"),this.storage.removeItem(Te),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qs=(()=>{class n extends ki{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zs(){const n=(0,f.ZQ)();return Je(n)||me(n)}()&&function is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ri(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});const s=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(e.newValue!==c)null!==e.newValue?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!i)return}const o=()=>{const c=this.storage.getItem(s);!i&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);!function ns(){return(0,f.lT)()&&10===document.documentMode}()||a===e.newValue||e.newValue===e.oldValue?o():setTimeout(o,10)}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var s=()=>super._set,o=this;return(0,l.A)(function*(){yield s().call(o,e,i),o.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,s=this;return(0,l.A)(function*(){const o=yield i().call(s,e);return s.localCache[e]=JSON.stringify(o),o})()}_remove(e){var i=()=>super._remove,s=this;return(0,l.A)(function*(){yield i().call(s,e),delete s.localCache[e]})()}}return n.type="LOCAL",n})(),Ai=(()=>{class n extends ki{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let Js=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new n(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return(0,l.A)(function*(){const s=e,{eventId:o,eventType:a,data:c}=s.data,h=i.handlersMap[a];if(!h?.size)return;s.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const p=Array.from(h).map(function(){var b=(0,l.A)(function*(C){return C(s.origin,c)});return function(C){return b.apply(this,arguments)}}()),_=yield function Xs(n){return Promise.all(n.map(function(){var t=(0,l.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(p);s.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:_})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ke(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class Qs{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var s=this;return(0,l.A)(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const _=ke("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(C){const V=C;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(V.data.response);break;default:clearTimeout(b),clearTimeout(a),p(new Error("invalid_response"))}}},s.handlers.add(c),o.port1.addEventListener("message",c.onMessage),s.target.postMessage({eventType:t,eventId:_,data:e},[o.port2])}).finally(()=>{c&&s.removeMessageHandler(c)})})()}}function k(){return window}function qt(){return typeof k().WorkerGlobalScope<"u"&&"function"==typeof k().importScripts}function Xt(){return(Xt=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ri="firebaseLocalStorageDb",Ae="firebaseLocalStorage",Ei="fbase_key";class ae{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Re(n,t){return n.transaction([Ae],t?"readwrite":"readonly").objectStore(Ae)}function Jt(){const n=indexedDB.open(Ri,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ae,{keyPath:Ei})}catch(s){e(s)}}),n.addEventListener("success",(0,l.A)(function*(){const i=n.result;i.objectStoreNames.contains(Ae)?t(i):(i.close(),yield function ro(){const n=indexedDB.deleteDatabase(Ri);return new ae(n).toPromise()}(),t(yield Jt()))}))})}function Pi(n,t,e){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.A)(function*(n,t,e){const i=Re(n,!0).put({[Ei]:t,value:e});return new ae(i).toPromise()})).apply(this,arguments)}function Zt(){return(Zt=(0,l.A)(function*(n,t){const e=Re(n,!1).get(t),i=yield new ae(e).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function Si(n,t){const e=Re(n,!0).delete(t);return new ae(e).toPromise()}const co=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,l.A)(function*(){return e.db||(e.db=yield Jt()),e.db})()}_withRetries(e){var i=this;return(0,l.A)(function*(){let s=0;for(;;)try{const o=yield i._openDb();return yield e(o)}catch(o){if(s++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,l.A)(function*(){return qt()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,l.A)(function*(){e.receiver=Js._getInstance(function no(){return qt()?self:null}()),e.receiver._subscribe("keyChanged",function(){var i=(0,l.A)(function*(s,o){return{keyProcessed:(yield e._poll()).includes(o.key)}});return function(s,o){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=(0,l.A)(function*(s,o){return["keyChanged"]});return function(s,o){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,l.A)(function*(){var i,s;if(e.activeServiceWorker=yield function eo(){return Xt.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Qs(e.activeServiceWorker);const o=yield e.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(s=o[0])&&void 0!==s&&s.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return(0,l.A)(function*(){if(i.sender&&i.activeServiceWorker&&function to(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const e=yield Jt();return yield Pi(e,Te,"1"),yield Si(e,Te),!0}catch{}return!1})()}_withPendingWrite(e){var i=this;return(0,l.A)(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var s=this;return(0,l.A)(function*(){return s._withPendingWrite((0,l.A)(function*(){return yield s._withRetries(o=>Pi(o,e,i)),s.localCache[e]=i,s.notifyServiceWorker(e)}))})()}_get(e){var i=this;return(0,l.A)(function*(){const s=yield i._withRetries(o=>function so(n,t){return Zt.apply(this,arguments)}(o,e));return i.localCache[e]=s,s})()}_remove(e){var i=this;return(0,l.A)(function*(){return i._withPendingWrite((0,l.A)(function*(){return yield i._withRetries(s=>Si(s,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,l.A)(function*(){const i=yield e._withRetries(a=>{const c=Re(a,!1).getAll();return new ae(c).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const s=[],o=new Set;for(const{fbase_key:a,value:c}of i)o.add(a),JSON.stringify(e.localCache[a])!==JSON.stringify(c)&&(e.notifyListeners(a,c),s.push(a));for(const a of Object.keys(e.localCache))e.localCache[a]&&!o.has(a)&&(e.notifyListeners(a,null),s.push(a));return s})()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Fi(n){return`__${n}${Math.floor(1e6*Math.random())}`}function W(n,t){return t?x(t):(d(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}Fi("rcb"),new X(3e4,6e4);class un extends te{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return L(t,this._buildIdpRequest())}_linkToIdToken(t,e){return L(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return L(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Eo(n){return vi(n.auth,new un(n),n.bypassAuthState)}function Po(n){const{auth:t,user:e}=n;return d(e,t,"internal-error"),function gi(n,t){return bt.apply(this,arguments)}(e,new un(n),n.bypassAuthState)}function So(n){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.A)(function*(n){const{auth:t,user:e}=n;return d(e,t,"internal-error"),function vt(n,t){return It.apply(this,arguments)}(e,new un(n),n.bypassAuthState)})).apply(this,arguments)}class Ni{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,l.A)(function*(i,s){t.pendingPromise={resolve:i,reject:s};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(i,s){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,l.A)(function*(){const{urlResponse:i,sessionId:s,postBody:o,tenantId:a,error:c,type:h}=t;if(c)return void e.reject(c);const p={auth:e.auth,requestUri:i,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(h)(p))}catch(_){e.reject(_)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Eo;case"linkViaPopup":case"linkViaRedirect":return So;case"reauthViaPopup":case"reauthViaRedirect":return Po;default:R(this.auth,"internal-error")}}resolve(t){D(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){D(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wo=new X(2e3,1e4);function hn(){return(hn=(0,l.A)(function*(n,t,e){const i=E(n);!function H(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&R(n,"argument-error"),Bn(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,t,j);const s=W(i,e);return new mn(i,"signInViaPopup",t,s).executeNotNull()})).apply(this,arguments)}let mn=(()=>{class n extends Ni{constructor(e,i,s,o,a){super(e,i,o,a),this.provider=s,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return(0,l.A)(function*(){const i=yield e.execute();return d(i,e.auth,"internal-error"),i})()}onExecution(){var e=this;return(0,l.A)(function*(){D(1===e.filter.length,"Popup operations only handle one event");const i=ke();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],i),e.authWindow.associatedEvent=i,e.resolver._originValidation(e.auth).catch(s=>{e.reject(s)}),e.resolver._isIframeWebStorageSupported(e.auth,s=>{s||e.reject(P(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(P(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;this.pollId=null!==(s=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==s&&s.closed?window.setTimeout(()=>{this.pollId=null,this.reject(P(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,wo.get())};e()}}return n.currentPopupAction=null,n})();const ce=new Map;class No extends Ni{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,l.A)(function*(){let i=ce.get(e.auth._key());if(!i){try{const o=(yield function Co(n,t){return _n.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(o)}catch(s){i=()=>Promise.reject(s)}ce.set(e.auth._key(),i)}return e.bypassAuthState||ce.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return(0,l.A)(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const s=yield i.auth._redirectUserForId(t.eventId);if(s)return i.user=s,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function _n(){return(_n=(0,l.A)(function*(n,t){const e=function Di(n){return fe("pendingRedirect",n.config.apiKey,n.name)}(t),i=function Ci(n){return x(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const s="true"===(yield i._get(e));return yield i._remove(e),s})).apply(this,arguments)}function Do(n,t){ce.set(n._key(),t)}function Tn(){return(Tn=(0,l.A)(function*(n,t){return yield E(n)._initializationPromise,xi(n,t,!1)})).apply(this,arguments)}function xi(n,t){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.A)(function*(n,t,e=!1){const i=E(n),s=W(i,t),a=yield new No(i,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,t)),a})).apply(this,arguments)}class Go{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function Vo(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Li(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!Li(t)){const s=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(P(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ui(t))}saveEventToCache(t){this.cachedEventUids.add(Ui(t)),this.lastProcessedEventTime=Date.now()}}function Ui(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Li({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function Rn(){return(Rn=(0,l.A)(function*(n,t={}){return A(n,"GET","/v1/projects",t)})).apply(this,arguments)}const Bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function En(){return En=(0,l.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function $o(n){return Rn.apply(this,arguments)}(n);for(const e of t)try{if(zo(e))return}catch{}R(n,"unauthorized-domain")}),En.apply(this,arguments)}function zo(n){const t=q(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return""===a.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&a.hostname===i}if(!Wo.test(e))return!1;if(Bo.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const Yo=new X(3e4,6e4);function ji(){const n=k().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let Pe=null;function qo(n){return Pe=Pe||function Ko(n){return new Promise((t,e)=>{var i,s,o;function a(){ji(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ji(),e(P(n,"network-request-failed"))},timeout:Yo.get()})}if(null!==(s=null===(i=k().gapi)||void 0===i?void 0:i.iframes)&&void 0!==s&&s.Iframe)t(gapi.iframes.getContext());else{if(null===(o=k().gapi)||void 0===o||!o.load){const c=Fi("iframefcb");return k()[c]=()=>{gapi.load?a():e(P(n,"network-request-failed"))},function wi(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=P("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",function po(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)})}(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>e(h))}a()}}).catch(t=>{throw Pe=null,t})}(n),Pe}const Xo=new X(5e3,15e3),Zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ea=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ta(n){const t=n.config;d(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Le(t,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:n.name,v:F.MF},s=ea.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${(0,f.Am)(i).slice(1)}`}function Pn(){return Pn=(0,l.A)(function*(n){const t=yield qo(n),e=k().gapi;return d(e,n,"internal-error"),t.open({where:document.body,url:ta(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zo,dontclear:!0},i=>new Promise(function(){var s=(0,l.A)(function*(o,a){yield i.restyle({setHideOnLeave:!1});const c=P(n,"network-request-failed"),h=k().setTimeout(()=>{a(c)},Xo.get());function p(){k().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})});return function(o,a){return s.apply(this,arguments)}}()))}),Pn.apply(this,arguments)}const ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vi(n,t,e,i,s,o){d(n.config.authDomain,n,"auth-domain-config-required"),d(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:F.MF,eventId:s};if(t instanceof j){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",(0,f.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,p]of Object.entries(o||{}))a[h]=p}if(t instanceof hi){const h=t.getScopes().filter(p=>""!==p);h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const h of Object.keys(c))void 0===c[h]&&delete c[h];return`${function ha({config:n}){return n.emulator?Le(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,f.Am)(c).slice(1)}`}const Sn="webStorageSupport",fa=class pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ai,this._completeRedirectFn=xi,this._overrideRedirectResult=Do}_openPopup(t,e,i,s){var o=this;return(0,l.A)(function*(){var a;D(null===(a=o.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const c=Vi(t,e,i,q(),s);return function ca(n,t,e,i=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},ia),{width:i.toString(),height:s.toString(),top:o,left:a}),p=(0,f.ZQ)().toLowerCase();e&&(c=Zn(p)?"_blank":e),Qn(p)&&(t=t||"http://localhost",h.scrollbars="yes");const _=Object.entries(h).reduce((C,[V,we])=>`${C}${V}=${we},`,"");if(function ts(n=(0,f.ZQ)()){var t;return me(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(p)&&"_self"!==c)return function la(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",c),new Gi(null);const b=window.open(t||"",c,_);d(b,n,"popup-blocked");try{b.focus()}catch{}return new Gi(b)}(t,c,ke())})()}_openRedirect(t,e,i,s){var o=this;return(0,l.A)(function*(){return yield o._originValidation(t),function Zs(n){k().location.href=n}(Vi(t,e,i,q(),s)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(D(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return(0,l.A)(function*(){const i=yield function na(n){return Pn.apply(this,arguments)}(t),s=new Go(t);return i.register("authEvent",o=>(d(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:s},e.iframes[t._key()]=i,s})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Sn,{type:Sn},s=>{var o;const a=null===(o=s?.[0])||void 0===o?void 0:o[Sn];void 0!==a&&e(!!a),R(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function Ho(n){return En.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ri()||Je()||me()}};var Bi="@firebase/auth";class _a{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,l.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){d(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ya=(0,f.XA)("authIdTokenMaxAge")||300;let Hi=null;const ba=n=>function(){var t=(0,l.A)(function*(e){const i=e&&(yield e.getIdTokenResult()),s=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>ya)return;const o=i?.token;Hi!==o&&(Hi=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function zi(n=(0,F.Sx)()){const t=(0,F.j6)(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function Ur(n,t){const e=(0,F.j6)(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if((0,f.bD)(o,t??{}))return s;R(s,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:fa,persistence:[co,qs,Ai]}),i=(0,f.XA)("authTokenSyncURL");if(i){const o=ba(i);(function Vs(n,t,e){(0,f.Ku)(n).beforeAuthStateChanged(t,e)})(e,o,()=>o(e.currentUser)),function Gs(n,t,e,i){(0,f.Ku)(n).onIdTokenChanged(t,e,i)}(e,a=>o(a))}const s=(0,f.Tj)("auth");return s&&function os(n,t,e){const i=E(n);d(i._canInitEmulator,i,"emulator-config-failed"),d(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!e?.disableWarnings,o=ai(t),{host:a,port:c}=function as(n){const t=ai(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:ci(i.substr(o.length+1))}}{const[o,a]=i.split(":");return{host:o,port:ci(a)}}}(t);i.config.emulator={url:`${o}//${a}${null===c?"":`:${c}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function cs(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${s}`),e}!function va(n){(0,F.om)(new jn.uA("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:o,authDomain:a}=i.options;return((c,h)=>{d(o&&!o.includes(":"),"invalid-api-key",{appName:c.name}),d(!a?.includes(":"),"argument-error",{appName:c.name});const p={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:si(n)},_=new ss(c,h,p);return function Lr(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(x);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(_,e),_})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),(0,F.om)(new jn.uA("auth-internal",t=>{const e=E(t.getProvider("auth").getImmediate());return new _a(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.KO)(Bi,"0.21.3",function ga(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,F.KO)(Bi,"0.21.3","esm2017")}("Browser"),new r.nKC(null);const Ki="https://rktect-rest-default-rtdb.firebaseio.com/users.json",qi="kpPiWBeAJJ3KlXNQ1tULjJcYLWZoLMwdEpDRzKSc";let Ma=(()=>{class n{constructor(e){this.http=e}getUsers(){return this.http.get(Ki,{params:{auth:qi}})}createUser(e){return this.http.post(Ki,e,{params:{auth:qi}})}}return n.\u0275fac=function(e){return new(e||n)(r.KVO(Un.Qq))},n.\u0275prov=r.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ua{constructor(){this.db=(0,g.aU)(),this.auth=zi(),(0,g.ol)(this.db).catch(t=>{"failed-precondition"==t.code?console.log("persistance failed"):"unimplemented"==t.code&&console.log("persistance not available")})}get colRef(){return(0,g.rJ)(this.db,this.collectionPath)}getCollectionData(){return new Promise((t,e)=>{(0,g.GG)(this.colRef).then(i=>{let s=this.setData2(i);t(s)}).catch(i=>{e(i.message)})})}getSingleDoc(t){const e=(0,g.H9)(this.db,this.collectionPath,t);return new Promise((i,s)=>(0,g.x7)(e).then(o=>{let a=this.transformSingleDoc(o);i(a)}).catch(o=>{s(o.message)}))}getSingleDocFromCache(t){var e=this;return(0,l.A)(function*(){const i=(0,g.H9)(e.db,e.collectionPath,t);try{const s=yield(0,g.nY)(i);console.log("Cached document data:",s.data())}catch(s){console.log("Error getting cached document:",s)}})()}getCollectionRealTime(t){return this.unsubscribe=(0,g.aQ)(this.colRef,e=>{t(this.setData2(e))})}getDocRealTime(t,e){const i=(0,g.H9)(this.db,this.collectionPath,t);return(0,g.aQ)(i,s=>{e(this.transformSingleDoc(s))})}g(){(0,g.aQ)(void 0,e=>{e.docChanges().forEach(i=>{"added"===i.type&&console.log("New city: ",i.doc.data()),"modified"===i.type&&console.log("Modified city: ",i.doc.data()),"removed"===i.type&&console.log("Removed city: ",i.doc.data())})})}addingDoc(t={}){return(0,g.gS)(this.colRef,{createdAt:(0,g.O5)(),updatedAt:(0,g.O5)(),...t})}deletingDoc(t){const e=(0,g.H9)(this.db,this.collectionPath,t);return(0,g.kd)(e)}updatingDoc(t,e){const i=(0,g.H9)(this.db,this.collectionPath,t);return(0,g.mZ)(i,{updatedAt:(0,g.O5)(),...e})}signUpWithEmailPass({email:t,password:e}){return function Os(n,t,e){return xt.apply(this,arguments)}(this.auth,t,e).then(i=>Promise.resolve(i.user)).catch(i=>Promise.reject(i.message))}signInWithEmailPass({email:t,password:e}){return function Ns(n,t,e){return function kt(n,t){return At.apply(this,arguments)}((0,f.Ku)(n),di.credential(t,e))}(this.auth,t,e).then(i=>Promise.resolve(i.user)).catch(i=>Promise.reject(i.message))}onSignOut(){return Ti(this.auth).then(t=>Promise.resolve(t)).catch(t=>Promise.reject(t.message))}subscribingAuthChangedRealTime(t){return function $s(n,t,e,i){return(0,f.Ku)(n).onAuthStateChanged(t,e,i)}(this.auth,e=>{t(e)})}getPaginationData1(t={latestDoc:null,empty:!1,data:[]},e=5){return new Promise((i,s)=>{const o=(0,g.P)(this.colRef,(0,g.My)("createdAt"),(0,g.HM)(t.latestDoc||0),(0,g.AB)(e));(0,g.GG)(o).then(a=>{let c=this.setData2(a);t.latestDoc=a.docs[a.docs.length-1],t.data=[...t.data,...c],t.empty=a.empty,i(t)}).catch(a=>{s(a.message)})})}getPaginationData(t={latestDoc:null,empty:!1,data:[],size:0},e=5){var i=this;return(0,l.A)(function*(){if(!t.empty)try{const s=(0,g.P)(i.colRef,(0,g.My)("createdAt"),(0,g.HM)(t.latestDoc||0),(0,g.AB)(e)),o=yield(0,g.GG)(s);let a=i.setData2(o);return t.latestDoc=o.docs[o.docs.length-1],t.data=[...t.data,...a],t.empty=o.empty,t.size=o.size,t}catch(s){return s}})()}unsubscribeRealTime(){this.unsubscribe()}nextPage(t={latestDoc:null,empty:!1,data:[],size:0},e=5){var i=this;return(0,l.A)(function*(){const s=(0,g.P)(i.colRef,(0,g.My)("createdAt"),(0,g.HM)(t.latestDoc||0),(0,g.AB)(e));return yield i.handlePagination(s)})()}prePage(t={latestDoc:null,empty:!1,data:[],size:0},e=5){var i=this;return(0,l.A)(function*(){const s=(0,g.P)(i.colRef,(0,g.My)("createdAt"),(0,g.rf)(t.latestDoc||0),(0,g.AB)(e));return yield i.handlePagination(s,!1)})()}setData(t){return t.docs.map(e=>({id:e.id,...e.data()}))}setData2(t){let e=[];return t.docs.forEach(i=>{e.push({...i.data(),id:i.id})}),e}transformSingleDoc(t){return{...t.data(),id:t.id}}handlePagination(t,e=!0){var i=this;return(0,l.A)(function*(){try{const s=yield(0,g.GG)(t);let o=i.setData2(s);return{latestDoc:e?s.docs[s.docs.length-1]:s.docs[0],data:o,empty:s.empty,size:s.size}}catch(s){return s}})()}}var Se=m(5704),Xi=m(8232),le=m(3810);const La=()=>["Books","auth","pagination load more","pagination pre and next"],Ji=()=>["name","author"];function ja(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e),r.XpG();const s=r.sdS(2),o=r.XpG();return r.Njj(o.createBook(s))}),r.EFF(1,"Create Book"),r.k0s()}}function Ga(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e),r.XpG();const s=r.sdS(2),o=r.XpG();return r.Njj(o.updateBook(s))}),r.EFF(1,"Update Book"),r.k0s()}}function Va(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"ang-modal",3,0),r.nrm(3,"ang-pretty-json-input",4),r.DNE(4,ja,2,0,"button",5)(5,Ga,2,0,"button",5),r.k0s(),r.nrm(6,"hr"),r.j41(7,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.sdS(2),o=r.XpG();return r.Njj(o.addBook(s))}),r.EFF(8,"Add"),r.k0s(),r.nrm(9,"hr")(10,"ng-table-view",7),r.j41(11,"ng-table-actions",8),r.bIt("onDelete",function(s){r.eBV(e);const o=r.XpG();return r.Njj(o.onDelete(s))})("onEdit",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onEdit(s,o))})("onView",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onView(s,o))}),r.k0s(),r.j41(12,"ng-table-inline-editing-one",9),r.bIt("onDelete",function(s){r.eBV(e);const o=r.XpG();return r.Njj(o.onDelete(s))})("onUpdate",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onEdit(s,o))}),r.k0s(),r.j41(13,"ng-table-inline-editing-two",10),r.bIt("onUpdate",function(s){r.eBV(e);const o=r.sdS(2),a=r.XpG();return r.Njj(a.onEdit(s,o))}),r.k0s(),r.bVm()}if(2&n){const e=r.XpG();r.R7$(3),r.Y8G("data",e.bookForm),r.R7$(),r.Y8G("ngIf","add"===e.action),r.R7$(),r.Y8G("ngIf","edit"===e.action),r.R7$(5),r.Y8G("columns",e.cols1)("customHeads",e.customHeads1)("rows",e.books),r.R7$(),r.Y8G("columns",e.cols)("customHeads",e.customHeads)("rows",e.books),r.R7$(),r.Y8G("columns",e.cols)("customHeads",e.customHeads)("rows",e.books),r.R7$(),r.Y8G("columns",e.cols1)("customHeads",e.customHeads1)("rows",e.books)}}function $a(n,t){if(1&n){const e=r.RV6();r.j41(0,"form",12)(1,"label"),r.EFF(2,"Email "),r.j41(3,"em"),r.EFF(4,"(Required)"),r.k0s(),r.nrm(5,"input",13),r.k0s(),r.j41(6,"label"),r.EFF(7,"Password "),r.nrm(8,"input",14),r.k0s(),r.j41(9,"span")(10,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.signUp())}),r.EFF(11,"SignUp"),r.k0s(),r.j41(12,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.signIn())}),r.EFF(13,"SignIn"),r.k0s()()()}if(2&n){const e=r.XpG(2);r.Y8G("formGroup",e.singUpForm)}}function Ba(n,t){if(1&n){const e=r.RV6();r.qex(0),r.j41(1,"span"),r.EFF(2,"Login as : "),r.j41(3,"em"),r.EFF(4),r.k0s()(),r.j41(5,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.signOut())}),r.EFF(6,"SignOut"),r.k0s(),r.bVm()}if(2&n){const e=r.XpG(2);r.R7$(4),r.JRh(null==e.user?null:e.user.email)}}function Wa(n,t){if(1&n&&(r.qex(0),r.DNE(1,$a,14,1,"form",11)(2,Ba,7,1,"ng-container",2),r.bVm()),2&n){const e=r.XpG();r.R7$(),r.Y8G("ngIf",!e.user),r.R7$(),r.Y8G("ngIf",e.user)}}function Ha(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.loadMore())}),r.EFF(1,"load More"),r.k0s()}}function za(n,t){if(1&n&&(r.qex(0),r.nrm(1,"ng-table-view",15),r.DNE(2,Ha,2,0,"button",5),r.bVm()),2&n){const e=r.XpG();r.R7$(),r.Y8G("columns",r.lJ4(3,Ji))("rows",e.loadMoreData.data),r.R7$(),r.Y8G("ngIf",!e.loadMoreData.empty)}}function Ya(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.pre())}),r.EFF(1,"pre"),r.k0s()}}function Ka(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",6),r.bIt("click",function(){r.eBV(e);const s=r.XpG(2);return r.Njj(s.next())}),r.EFF(1,"Next"),r.k0s()}}function qa(n,t){if(1&n&&(r.qex(0),r.nrm(1,"ng-table-view",15),r.DNE(2,Ya,2,0,"button",5)(3,Ka,2,0,"button",5),r.bVm()),2&n){const e=r.XpG();r.R7$(),r.Y8G("columns",r.lJ4(4,Ji))("rows",e.paginationData.data),r.R7$(),r.Y8G("ngIf",!e.paginationData.empty),r.R7$(),r.Y8G("ngIf",!e.paginationData.empty)}}let Xa=(()=>{class n extends Ua{constructor(e){super(),this.fb=e,this.bookForm={name:"",author:""},this.selectTab=1,this.books=[],this.cols=["","name","author"],this.customHeads=["Action","Book name","Book author"],this.cols1=["name","author"],this.customHeads1=["Book name","Book author"],this.action="add",this.paginationData={data:[],latestDoc:null,empty:!1,size:0},this.loadMoreData={data:[],latestDoc:null,empty:!1,size:0},this.collectionPath="books",this.singUpForm=this.fb.group({email:["",[y.k0.required,y.k0.email]],password:["",[y.k0.required]]})}ngOnInit(){this.getCollectionRealTime(e=>{this.books=e}),this.subscribingAuthChangedRealTime(e=>{this.user=e}),this.loadMore()}createBook(e){this.addingDoc(this.bookForm).then(()=>{e.close()})}updateBook(e){this.updatingDoc(this.docId,this.bookForm).then(()=>{this.docId=null,e.close()})}onView(e,i){this.action="view",this.getSingleDoc(e.id).then(s=>{this.bookForm=s,i.open()})}onDelete(e){this.action="delete",confirm("Are you sure to delete doc ?")&&this.deletingDoc(e.id).then()}onEdit(e,i){this.action="edit",this.getSingleDoc(e.id).then(s=>{let{name:o,author:a,id:c}=s;this.bookForm={name:o,author:a},this.docId=c,i.open()})}onSelectTab(e){this.selectTab=e}addBook(e){this.bookForm={name:"",author:""},this.action="add",e.open()}signUp(){this.singUpForm.valid&&this.signUpWithEmailPass(this.singUpForm.value).then(()=>{this.singUpForm.reset()})}signIn(){this.singUpForm.valid&&this.signInWithEmailPass(this.singUpForm.value).then(()=>{this.singUpForm.reset()})}signOut(){this.onSignOut().then()}loadMore(){this.getPaginationData(this.loadMoreData).then(e=>{this.loadMoreData=e})}next(){this.nextPage(this.paginationData).then(e=>{this.paginationData=e})}pre(){this.prePage(this.paginationData).then(e=>{this.paginationData=e})}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(y.ok))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firestore"]],standalone:!1,features:[r.Vt3],decls:5,vars:6,consts:[["pop",""],["color","red",3,"onClick","tabs"],[4,"ngIf"],["id","custom-modal-1","width","50vw"],["useCase","VALID_FORM",3,"data"],[3,"click",4,"ngIf"],[3,"click"],["table","striped",3,"columns","customHeads","rows"],["table","bordered",3,"onDelete","onEdit","onView","columns","customHeads","rows"],["table","bordered",3,"onDelete","onUpdate","columns","customHeads","rows"],["table","bordered",3,"onUpdate","columns","customHeads","rows"],["class","contact-form",3,"formGroup",4,"ngIf"],[1,"contact-form",3,"formGroup"],["formControlName","email","type","email"],["formControlName","password"],[3,"columns","rows"]],template:function(i,s){1&i&&(r.j41(0,"tg-tabs",1),r.bIt("onClick",function(a){return s.onSelectTab(a)}),r.k0s(),r.DNE(1,Va,14,15,"ng-container",2)(2,Wa,3,2,"ng-container",2)(3,za,3,4,"ng-container",2)(4,qa,4,5,"ng-container",2)),2&i&&(r.Y8G("tabs",r.lJ4(5,La)),r.R7$(),r.Y8G("ngIf",1===s.selectTab),r.R7$(),r.Y8G("ngIf",2===s.selectTab),r.R7$(),r.Y8G("ngIf",3===s.selectTab),r.R7$(),r.Y8G("ngIf",4===s.selectTab))},dependencies:[I.NgIf,y.qT,y.me,y.BC,y.cb,y.j4,y.JD,Se.gX,Se.zf,Xi.OW,le.NU,le.jN,le.Pn,le.Lw],encapsulation:2})}}return n})(),Ja=(()=>{class n{constructor(){this.auth=zi()}ngOnInit(){}signInAsEmail(){const e=new se;(function Fo(n,t,e){return hn.apply(this,arguments)})(this.auth,e).then(i=>{const o=se.credentialFromResult(i).accessToken,a=i.user;let c=bi(i);this.result={user:a,token:o,additionalInfo:c}}).catch(i=>{console.log(i),se.credentialFromError(i)})}getRedirectResult1(){(function Lo(n,t){return Tn.apply(this,arguments)})(this.auth).then(e=>{const s=se.credentialFromResult(e).accessToken,o=e.user;let a=bi(e);this.result={user:o,token:s,additionalInfo:a},console.log(e)}).catch(e=>{se.credentialFromError(e)})}signout(){Ti(this.auth).then(()=>{}).catch(e=>{})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firebase-auth"]],standalone:!1,decls:8,vars:3,consts:[[3,"click"]],template:function(i,s){1&i&&(r.j41(0,"button",0),r.bIt("click",function(){return s.signInAsEmail()}),r.EFF(1,"signInAsEmail"),r.k0s(),r.j41(2,"button",0),r.bIt("click",function(){return s.getRedirectResult1()}),r.EFF(3,"getRedirectResult"),r.k0s(),r.j41(4,"button",0),r.bIt("click",function(){return s.signout()}),r.EFF(5,"signout"),r.k0s(),r.EFF(6),r.nI1(7,"json")),2&i&&(r.R7$(6),r.SpI(" ",r.bMT(7,1,s.result),"\n"))},dependencies:[I.JsonPipe],encapsulation:2})}}return n})(),Qa=(()=>{class n{constructor(e){this.fdb=e}ngOnInit(){this.fdb.getUsers().subscribe(console.log)}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(Ma))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firebase-db"]],standalone:!1,decls:2,vars:0,template:function(i,s){1&i&&(r.j41(0,"p"),r.EFF(1,"firebase-db works!"),r.k0s())},encapsulation:2})}}return n})();function Za(n,t){if(1&n){const e=r.RV6();r.j41(0,"li"),r.EFF(1),r.j41(2,"a",5),r.bIt("click",function(){const s=r.eBV(e).$implicit,o=r.XpG(2);return r.Njj(o.deleteMessage(s))}),r.EFF(3,"Delete"),r.k0s()()}if(2&n){const e=t.$implicit;r.R7$(),r.SpI(" ",e.name," \u2014 ")}}function ec(n,t){if(1&n&&(r.j41(0,"ul"),r.DNE(1,Za,4,1,"li",4),r.k0s()),2&n){const e=r.XpG();r.R7$(),r.Y8G("ngForOf",e.posts)}}let tc=(()=>{class n{constructor(e){this.abstractFirebaseDb=e,this.posts=[],this.form={name:""}}ngOnInit(){this.abstractFirebaseDb.readRealtime$("posts").subscribe(e=>{this.posts=e})}addPost(){this.abstractFirebaseDb.create("posts",this.form)}deleteMessage(e){}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(w.W))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-realtime-db"]],standalone:!1,decls:6,vars:3,consts:[[4,"ngIf"],[3,"submit"],["type","text","name","message","autofocus","",3,"ngModelChange","ngModel"],["type","submit","value","Add Message"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(i,s){1&i&&(r.j41(0,"h2"),r.EFF(1),r.k0s(),r.DNE(2,ec,2,1,"ul",0),r.j41(3,"form",1),r.bIt("submit",function(){return s.addPost()}),r.j41(4,"input",2),r.mxI("ngModelChange",function(a){return r.DH7(s.form.name,a)||(s.form.name=a),a}),r.k0s(),r.nrm(5,"input",3),r.k0s()),2&i&&(r.R7$(),r.SpI(" You Have ",null==s.posts?null:s.posts.length," Message(s)!\n"),r.R7$(),r.Y8G("ngIf",s.posts.length),r.R7$(2),r.R50("ngModel",s.form.name))},dependencies:[I.NgForOf,I.NgIf,y.qT,y.me,y.BC,y.cb,y.vS,y.cV],encapsulation:2})}}return n})();var nc=m(4473),ic=m(7200),rc=m(9790),sc=m(306),oc=m(9834),ac=m(6026);const Qi=(n,t)=>t.key,cc=n=>({$implicit:n}),Zi=(n,t)=>({$implicit:n,parent:t});function lc(n,t){1&n&&(r.j41(0,"h1"),r.EFF(1),r.k0s()),2&n&&(r.R7$(),r.SpI(" ",t.length," "))}function uc(n,t){if(1&n&&(r.j41(0,"app-theme-semantic-badge",6),r.EFF(1),r.k0s()),2&n){const e=r.XpG().$implicit;r.R7$(),r.SpI(" ",e.status," ")}}function dc(n,t){if(1&n&&(r.j41(0,"app-theme-semantic-badge",5),r.EFF(1),r.k0s()),2&n){const e=r.XpG().$implicit;r.R7$(),r.SpI(" ",e.status," ")}}function hc(n,t){if(1&n&&(r.j41(0,"app-theme-semantic-badge",3),r.EFF(1),r.k0s()),2&n){const e=r.XpG().$implicit;r.R7$(),r.SpI(" ",e.status," ")}}function pc(n,t){if(1&n&&(r.qex(0),r.j41(1,"b"),r.EFF(2,"Last Active At"),r.k0s(),r.EFF(3),r.nI1(4,"date"),r.bVm()),2&n){const e=r.XpG().$implicit;r.R7$(3),r.SpI(" ",r.bMT(4,1,e.timestamp)," ")}}function fc(n,t){if(1&n){const e=r.RV6();r.j41(0,"button",16),r.bIt("click",function(){r.eBV(e);const s=r.XpG().$implicit,o=r.XpG(2);return r.Njj(o.setOffline(null==s?null:s.key))}),r.EFF(1,"Offline"),r.k0s()}}function mc(n,t){if(1&n&&(r.j41(0,"tr")(1,"td"),r.EFF(2),r.k0s(),r.j41(3,"td"),r.DNE(4,uc,2,1,"app-theme-semantic-badge",11)(5,dc,2,1,"app-theme-semantic-badge",12)(6,hc,2,1,"app-theme-semantic-badge",13),r.k0s(),r.j41(7,"td"),r.DNE(8,pc,5,3,"ng-container",14),r.k0s(),r.j41(9,"td"),r.DNE(10,fc,2,0,"button",15),r.k0s()()),2&n){const e=t.$implicit;r.R7$(2),r.SpI(" ",e.key,""),r.R7$(2),r.Y8G("ngIf","offline"===e.status),r.R7$(),r.Y8G("ngIf","online"===e.status),r.R7$(),r.Y8G("ngIf","away"===e.status),r.R7$(2),r.Y8G("ngIf","offline"===e.status),r.R7$(2),r.Y8G("ngIf","offline"!==e.status)}}function _c(n,t){if(1&n&&(r.j41(0,"app-table-container",10)(1,"h2"),r.EFF(2,"Users"),r.k0s(),r.j41(3,"table")(4,"thead")(5,"tr")(6,"th"),r.EFF(7,"Id"),r.k0s(),r.j41(8,"th"),r.EFF(9,"Status"),r.k0s(),r.j41(10,"th"),r.EFF(11,"Date"),r.k0s(),r.j41(12,"th"),r.EFF(13,"Action"),r.k0s()()(),r.j41(14,"tbody"),r.Z7z(15,mc,11,6,"tr",null,Qi),r.k0s()()()),2&n){const e=t.ngIf;r.R7$(15),r.Dyx(e)}}function gc(n,t){1&n&&r.eu8(0)}function vc(n,t){if(1&n&&(r.j41(0,"tr")(1,"td",17)(2,"strong"),r.EFF(3),r.nI1(4,"uppercase"),r.k0s()()(),r.DNE(5,gc,1,0,"ng-container",18)),2&n){const e=t.$implicit;r.XpG();const i=r.sdS(44);r.R7$(3),r.JRh(r.bMT(4,3,e.key)),r.R7$(2),r.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",r.eq3(5,cc,e))}}function Ic(n,t){if(1&n&&(r.j41(0,"tr")(1,"td"),r.EFF(2),r.k0s(),r.j41(3,"td")(4,"b"),r.EFF(5),r.k0s()()()),2&n){const e=r.XpG(2),i=e.parent,s=e.$implicit;r.R7$(2),r.E5c(" ",i," ",i?"/":""," ",s.key," "),r.R7$(3),r.JRh(s.value.counter)}}function yc(n,t){1&n&&r.eu8(0)}function bc(n,t){if(1&n&&(r.qex(0),r.DNE(1,Ic,6,4,"tr",14)(2,yc,1,0,"ng-container",18),r.bVm()),2&n){const e=r.XpG(),i=e.parent,s=e.$implicit;r.XpG();const o=r.sdS(46);r.R7$(),r.Y8G("ngIf",s.value.counter),r.R7$(),r.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",r.l_i(3,Zi,s,i?i+" / "+s.key:s.key))}}function Tc(n,t){1&n&&r.DNE(0,bc,3,6,"ng-container",14),2&n&&r.Y8G("ngIf","counter"!==t.$implicit.key)}function kc(n,t){1&n&&r.eu8(0)}function Ac(n,t){if(1&n&&(r.qex(0),r.DNE(1,kc,1,0,"ng-container",18),r.bVm()),2&n){const e=t.$implicit,i=r.XpG().parent;r.XpG();const s=r.sdS(44);r.R7$(),r.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",r.l_i(2,Zi,e,i))}}function Rc(n,t){1&n&&(r.DNE(0,Ac,2,5,"ng-container",19),r.nI1(1,"keyvalue")),2&n&&r.Y8G("ngForOf",r.bMT(1,1,t.$implicit.value))}let Ec=(()=>{class n{constructor(e,i){this.presenceService=e,this.activitiesService=i,this.counts$=this.presenceService.getUserOnlineCounts$,this.totalUsers$=this.presenceService.getUsers$("desc"),this.flattenObject1=s=>{const o={};return Object.keys(s).forEach(a=>{const c=s[a];"object"!=typeof c||null===c||Array.isArray(c)?o[a]=c:Object.assign(o,this.flattenObject1(c))}),o},this.flattenObject=s=>{let o={};for(const a in s)if(s.hasOwnProperty(a))if("object"!=typeof s[a]||Array.isArray(s[a]))o[a]=s[a];else{const c=this.flattenObject(s[a]);for(const h in c)o[a+"_"+h]=c[h]}return o}}setOffline(e){this.presenceService.setPresence(e,"offline")}ngOnInit(){var e=this;this.activitiesService.getServer$().subscribe(i=>{this.serverActivities=i}),this.activitiesService.getError$().subscribe(i=>{console.log("logging-activities",i)}),this.activitiesService.getRouter$().subscribe(function(){var i=(0,l.A)(function*(s){e.routerActivities=s,e.routerActivitiesCount=Object.keys(e.routerActivities).length});return function(s){return i.apply(this,arguments)}}())}d(e){let i={};for(let s in e)if(e.hasOwnProperty(s)){const o=typeof e[s];"string"===o?i[s]=e[s]:"object"===o&&this.d(e[s])}}logOutAllUsers(){confirm("Are u Sure ?")&&this.presenceService.logOutAllUsers()}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(de.BF),r.rXU(nc.B))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["fb-activities"]],standalone:!1,decls:47,vars:14,consts:[["rows",""],["inner",""],["appGrid",""],["color","info"],["color","warning"],["color","success"],["color","danger"],["app-theme-semantic-button","","color","info",3,"click"],["appGrid","",3,"cols"],["height","500px",4,"ngIf"],["height","500px"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["color","info",4,"ngIf"],[4,"ngIf"],["app-theme-semantic-button","","color","danger",3,"click",4,"ngIf"],["app-theme-semantic-button","","color","danger",3,"click"],["colspan","2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"]],template:function(i,s){if(1&i){const o=r.RV6();r.j41(0,"section",2)(1,"app-theme-semantic-card",3)(2,"h1"),r.EFF(3),r.nI1(4,"async"),r.k0s(),r.j41(5,"p"),r.EFF(6,"Online Users"),r.k0s()(),r.j41(7,"app-theme-semantic-card",4),r.DNE(8,lc,2,1,"h1"),r.nI1(9,"async"),r.j41(10,"p"),r.EFF(11,"Total Users"),r.k0s()(),r.j41(12,"app-theme-semantic-card",5)(13,"h1"),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Server Requests"),r.k0s()(),r.j41(17,"app-theme-semantic-card",6)(18,"h1"),r.EFF(19),r.k0s(),r.j41(20,"p"),r.EFF(21,"Pages Views"),r.k0s()()(),r.j41(22,"section")(23,"app-theme-semantic-card",6)(24,"button",7),r.bIt("click",function(){return r.eBV(o),r.Njj(s.logOutAllUsers())}),r.EFF(25,"Logout All Users"),r.k0s()()(),r.j41(26,"section",8),r.DNE(27,_c,17,0,"app-table-container",9),r.nI1(28,"async"),r.j41(29,"app-table-container",10)(30,"h2"),r.EFF(31,"Modules"),r.k0s(),r.j41(32,"table")(33,"thead")(34,"tr")(35,"th"),r.EFF(36,"Modules"),r.k0s(),r.j41(37,"th"),r.EFF(38,"Views"),r.k0s()()(),r.j41(39,"tbody"),r.Z7z(40,vc,6,7,null,null,Qi),r.nI1(42,"keyvalue"),r.k0s()()()(),r.DNE(43,Tc,1,1,"ng-template",null,0,r.C5r)(45,Rc,2,3,"ng-template",null,1,r.C5r)}if(2&i){let o;r.R7$(3),r.SpI(" ",r.bMT(4,6,s.counts$)," "),r.R7$(5),r.vxM((o=r.bMT(9,8,s.totalUsers$))?8:-1,o),r.R7$(6),r.JRh(null==s.serverActivities?null:s.serverActivities.counter),r.R7$(5),r.JRh(s.routerActivitiesCount),r.R7$(7),r.Y8G("cols",1),r.R7$(),r.Y8G("ngIf",r.bMT(28,10,s.totalUsers$)),r.R7$(13),r.Dyx(r.bMT(42,12,s.routerActivities))}},dependencies:[I.NgForOf,I.NgIf,I.NgTemplateOutlet,ic.i,rc.r,sc.F,oc.g,ac.d,I.AsyncPipe,I.UpperCasePipe,I.DatePipe,I.KeyValuePipe],encapsulation:2})}}return n})();var Pc=m(9781),Sc=m(4917),wc=m(9991),Fn=m(3853),Fc=m(4567);const Oc=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-firebase"]],standalone:!1,decls:23,vars:1,consts:[["theme","magenta",3,"defaultTheme"],["routerLink","realtime-presence"],["routerLink","realtime-presence","label","realtime presence"],["routerLink","counter","label","counter"],["routerLink","db-http","label","db http"],["routerLink","follow-system","label","follow system"],["routerLink","db","label","db"],["routerLink","db-http-2","label","db http 2"],["routerLink","task","label","task"],["routerLink","toast-notifications","label","toast-notifications"],["routerLink","voting","label","voting"],["routerLink","activities","label","activities"],["routerLink","employees","label","employees"],["routerLink","firestore","label","firestore"],["routerLink","auth","label","auth"]],template:function(i,s){1&i&&(r.j41(0,"ng-presentation",0)(1,"ng-header")(2,"h3"),r.EFF(3,"Bookmark"),r.k0s(),r.j41(4,"ng-nav-list")(5,"ng-nav-link",1),r.EFF(6,"realtime-presence"),r.k0s()()(),r.j41(7,"ng-sidenav"),r.nrm(8,"ng-sidenav-link",2)(9,"ng-sidenav-link",3)(10,"ng-sidenav-link",4)(11,"ng-sidenav-link",5)(12,"ng-sidenav-link",6)(13,"ng-sidenav-link",7)(14,"ng-sidenav-link",8)(15,"ng-sidenav-link",9)(16,"ng-sidenav-link",10)(17,"ng-sidenav-link",11)(18,"ng-sidenav-link",12)(19,"ng-sidenav-link",13)(20,"ng-sidenav-link",14),r.k0s(),r.j41(21,"ng-main"),r.nrm(22,"router-outlet"),r.k0s()()),2&i&&r.Y8G("defaultTheme",!1)},dependencies:[O.n3,O.Wk,Pc.I,Sc.e,wc.D,Fn.K9,Fn.lD,Fn.xN,Fc.x],encapsulation:2})}}return n})(),children:[{path:"",redirectTo:"realtime-presence",pathMatch:"full"},{path:"realtime-presence",component:u},{path:"counter",component:Or},{path:"db-http",component:Qa},{path:"follow-system",component:Fr},{path:"db",component:tc},{path:"db-http-2",component:xr},{path:"task",component:gr},{path:"toast-notifications",component:Tr},{path:"voting",component:ar},{path:"activities",component:Ec},{path:"employees",loadChildren:()=>m.e(8262).then(m.bind(m,8262)).then(n=>n.EmployeesModule)},{path:"firestore",component:Xa},{path:"auth",component:Ja}]}];let Nc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=r.$C({type:n})}static{this.\u0275inj=r.G2t({imports:[O.iI.forChild(Oc),O.iI]})}}return n})();var Cc=m(1240),Dc=m(4873);let xc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=r.$C({type:n})}static{this.\u0275inj=r.G2t({imports:[I.CommonModule,y.YN,y.X1,Nc,Se.pA,Se.Q_,Xi.jr,le.oJ,Cc.d,Dc.O]})}}return n})()}}]);